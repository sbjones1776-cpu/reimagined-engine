const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PetDisplay-CWJwigaH.js","assets/progress-D8Mly-oi.js","assets/InstallPrompt-DgpoMmSN.js","assets/download-D48Ya7JV.js","assets/Home-CyglPuDJ.js","assets/flame-ByI7R4Rc.js","assets/AppTrialPromo-3kaWkndE.js","assets/zap-w4f_OL2g.js","assets/external-link-BZwlM77U.js","assets/trending-up-Bw7UHNpS.js","assets/target-CKjL3a7Z.js","assets/book-open-ChO3lU0J.js","assets/plus-BTrUTde5.js","assets/minus-Dt83-KDs.js","assets/credit-card-6uWoetCu.js","assets/lock-C1-5gGAl.js","assets/circle-alert-BiIT3tKc.js","assets/award-DsC9STJ2.js","assets/palette-DxTrdA_5.js","assets/Game-Car3f5Hl.js","assets/useMutation-BBbn5Ibo.js","assets/CelebrationAnimation-5xmelkAl.js","assets/TextToSpeech-jPFv8Mzs.js","assets/coins-C3lSgozT.js","assets/rotate-ccw-BY_oOohm.js","assets/trending-down-DyY_-Dls.js","assets/triangle-alert-Dd6OicLx.js","assets/QuestionGenerator-z-c728t7.js","assets/PremiumFeatureLock-DOt-wJcj.js","assets/arrow-left-B1UHrOU7.js","assets/Avatar-D3Vaufpw.js","assets/label-BaWOfaZ4.js","assets/tabs-CHDP_n8y.js","assets/AvatarDisplay-Bq8KvINC.js","assets/index-BwFEnwcg.js","assets/save-_1Dbls43.js","assets/DailyChallenge-B_TmHe71.js","assets/medal-Co574HnZ.js","assets/ParentPortal-uD_6EQCB.js","assets/textarea-CfSFlC7Y.js","assets/LineChart-0kDBnRpG.js","assets/select-D2ka9gIq.js","assets/index-DZTJ2JNZ.js","assets/trash-2-BVBrMuhg.js","assets/info-DJ4PsQna.js","assets/mail-DSHElOAU.js","assets/startOfMonth-Wd0pZm1a.js","assets/Shop-Dpi3jNOM.js","assets/Leaderboards-CYLEtOqi.js","assets/user-plus-BnLNyW7y.js","assets/TeamChallenges-2GLMQU7M.js","assets/Subscription-BwkMZCw3.js","assets/GenerateIcons-B2dbw11g.js","assets/loader-circle-D_xhh0c4.js","assets/TestIconGeneration-CQ_anw_c.js","assets/Messages-Ro3POV2v.js","assets/ColorByNumbers-C-wguKtm.js","assets/paint-bucket-Dhf5qwFX.js","assets/Settings-8809jpiZ.js","assets/PrivacyPolicy-BVigO746.js","assets/AITutor-pphYUSPx.js","assets/AdminTestAccount-vgF3JIMZ.js","assets/Subscribe-CBrYcDKc.js"])))=>i.map(i=>d[i]);
var yF=Object.defineProperty;var Nb=t=>{throw TypeError(t)};var vF=(t,e,n)=>e in t?yF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pw=(t,e,n)=>vF(t,typeof e!="symbol"?e+"":e,n),mw=(t,e,n)=>e.has(t)||Nb("Cannot "+n);var W=(t,e,n)=>(mw(t,e,"read from private field"),n?n.call(t):e.get(t)),De=(t,e,n)=>e.has(t)?Nb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),me=(t,e,n,r)=>(mw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Xe=(t,e,n)=>(mw(t,e,"access private method"),n);var Yp=(t,e,n,r)=>({set _(s){me(t,e,s,n)},get _(){return W(t,e,r)}});function wF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var qte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gw={exports:{}},Ud={},yw={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function _F(){if(Mb)return He;Mb=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function S(q,re,ye){this.props=q,this.context=re,this.refs=b,this.updater=ye||E}S.prototype.isReactComponent={},S.prototype.setState=function(q,re){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,re,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function R(){}R.prototype=S.prototype;function V(q,re,ye){this.props=q,this.context=re,this.refs=b,this.updater=ye||E}var N=V.prototype=new R;N.constructor=V,A(N,S.prototype),N.isPureReactComponent=!0;var F=Array.isArray,B=Object.prototype.hasOwnProperty,K={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function P(q,re,ye){var Te,Fe={},Oe=null,Se=null;if(re!=null)for(Te in re.ref!==void 0&&(Se=re.ref),re.key!==void 0&&(Oe=""+re.key),re)B.call(re,Te)&&!k.hasOwnProperty(Te)&&(Fe[Te]=re[Te]);var ze=arguments.length-2;if(ze===1)Fe.children=ye;else if(1<ze){for(var je=Array(ze),ht=0;ht<ze;ht++)je[ht]=arguments[ht+2];Fe.children=je}if(q&&q.defaultProps)for(Te in ze=q.defaultProps,ze)Fe[Te]===void 0&&(Fe[Te]=ze[Te]);return{$$typeof:t,type:q,key:Oe,ref:Se,props:Fe,_owner:K.current}}function D(q,re){return{$$typeof:t,type:q.type,key:re,ref:q.ref,props:q.props,_owner:q._owner}}function O(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function j(q){var re={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ye){return re[ye]})}var z=/\/+/g;function L(q,re){return typeof q=="object"&&q!==null&&q.key!=null?j(""+q.key):re.toString(36)}function xe(q,re,ye,Te,Fe){var Oe=typeof q;(Oe==="undefined"||Oe==="boolean")&&(q=null);var Se=!1;if(q===null)Se=!0;else switch(Oe){case"string":case"number":Se=!0;break;case"object":switch(q.$$typeof){case t:case e:Se=!0}}if(Se)return Se=q,Fe=Fe(Se),q=Te===""?"."+L(Se,0):Te,F(Fe)?(ye="",q!=null&&(ye=q.replace(z,"$&/")+"/"),xe(Fe,re,ye,"",function(ht){return ht})):Fe!=null&&(O(Fe)&&(Fe=D(Fe,ye+(!Fe.key||Se&&Se.key===Fe.key?"":(""+Fe.key).replace(z,"$&/")+"/")+q)),re.push(Fe)),1;if(Se=0,Te=Te===""?".":Te+":",F(q))for(var ze=0;ze<q.length;ze++){Oe=q[ze];var je=Te+L(Oe,ze);Se+=xe(Oe,re,ye,je,Fe)}else if(je=y(q),typeof je=="function")for(q=je.call(q),ze=0;!(Oe=q.next()).done;)Oe=Oe.value,je=Te+L(Oe,ze++),Se+=xe(Oe,re,ye,je,Fe);else if(Oe==="object")throw re=String(q),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Se}function Le(q,re,ye){if(q==null)return q;var Te=[],Fe=0;return xe(q,Te,"","",function(Oe){return re.call(ye,Oe,Fe++)}),Te}function Pe(q){if(q._status===-1){var re=q._result;re=re(),re.then(function(ye){(q._status===0||q._status===-1)&&(q._status=1,q._result=ye)},function(ye){(q._status===0||q._status===-1)&&(q._status=2,q._result=ye)}),q._status===-1&&(q._status=0,q._result=re)}if(q._status===1)return q._result.default;throw q._result}var fe={current:null},G={transition:null},ne={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:G,ReactCurrentOwner:K};function ie(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:Le,forEach:function(q,re,ye){Le(q,function(){re.apply(this,arguments)},ye)},count:function(q){var re=0;return Le(q,function(){re++}),re},toArray:function(q){return Le(q,function(re){return re})||[]},only:function(q){if(!O(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},He.Component=S,He.Fragment=n,He.Profiler=s,He.PureComponent=V,He.StrictMode=r,He.Suspense=u,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,He.act=ie,He.cloneElement=function(q,re,ye){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Te=A({},q.props),Fe=q.key,Oe=q.ref,Se=q._owner;if(re!=null){if(re.ref!==void 0&&(Oe=re.ref,Se=K.current),re.key!==void 0&&(Fe=""+re.key),q.type&&q.type.defaultProps)var ze=q.type.defaultProps;for(je in re)B.call(re,je)&&!k.hasOwnProperty(je)&&(Te[je]=re[je]===void 0&&ze!==void 0?ze[je]:re[je])}var je=arguments.length-2;if(je===1)Te.children=ye;else if(1<je){ze=Array(je);for(var ht=0;ht<je;ht++)ze[ht]=arguments[ht+2];Te.children=ze}return{$$typeof:t,type:q.type,key:Fe,ref:Oe,props:Te,_owner:Se}},He.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:i,_context:q},q.Consumer=q},He.createElement=P,He.createFactory=function(q){var re=P.bind(null,q);return re.type=q,re},He.createRef=function(){return{current:null}},He.forwardRef=function(q){return{$$typeof:c,render:q}},He.isValidElement=O,He.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:Pe}},He.memo=function(q,re){return{$$typeof:h,type:q,compare:re===void 0?null:re}},He.startTransition=function(q){var re=G.transition;G.transition={};try{q()}finally{G.transition=re}},He.unstable_act=ie,He.useCallback=function(q,re){return fe.current.useCallback(q,re)},He.useContext=function(q){return fe.current.useContext(q)},He.useDebugValue=function(){},He.useDeferredValue=function(q){return fe.current.useDeferredValue(q)},He.useEffect=function(q,re){return fe.current.useEffect(q,re)},He.useId=function(){return fe.current.useId()},He.useImperativeHandle=function(q,re,ye){return fe.current.useImperativeHandle(q,re,ye)},He.useInsertionEffect=function(q,re){return fe.current.useInsertionEffect(q,re)},He.useLayoutEffect=function(q,re){return fe.current.useLayoutEffect(q,re)},He.useMemo=function(q,re){return fe.current.useMemo(q,re)},He.useReducer=function(q,re,ye){return fe.current.useReducer(q,re,ye)},He.useRef=function(q){return fe.current.useRef(q)},He.useState=function(q){return fe.current.useState(q)},He.useSyncExternalStore=function(q,re,ye){return fe.current.useSyncExternalStore(q,re,ye)},He.useTransition=function(){return fe.current.useTransition()},He.version="18.3.1",He}var Ob;function tE(){return Ob||(Ob=1,yw.exports=_F()),yw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function EF(){if(Vb)return Ud;Vb=1;var t=tE(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,h){var p,g={},y=null,E=null;h!==void 0&&(y=""+h),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(E=u.ref);for(p in u)r.call(u,p)&&!i.hasOwnProperty(p)&&(g[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)g[p]===void 0&&(g[p]=u[p]);return{$$typeof:e,type:c,key:y,ref:E,props:g,_owner:s.current}}return Ud.Fragment=n,Ud.jsx=a,Ud.jsxs=a,Ud}var Lb;function xF(){return Lb||(Lb=1,gw.exports=EF()),gw.exports}var x=xF(),T=tE();const pn=eE(T),nE=wF({__proto__:null,default:pn},[T]);var Xp={},vw={exports:{}},Gn={},ww={exports:{}},_w={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function TF(){return Fb||(Fb=1,(function(t){function e(G,ne){var ie=G.length;G.push(ne);e:for(;0<ie;){var q=ie-1>>>1,re=G[q];if(0<s(re,ne))G[q]=ne,G[ie]=re,ie=q;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ne=G[0],ie=G.pop();if(ie!==ne){G[0]=ie;e:for(var q=0,re=G.length,ye=re>>>1;q<ye;){var Te=2*(q+1)-1,Fe=G[Te],Oe=Te+1,Se=G[Oe];if(0>s(Fe,ie))Oe<re&&0>s(Se,Fe)?(G[q]=Se,G[Oe]=ie,q=Oe):(G[q]=Fe,G[Te]=ie,q=Te);else if(Oe<re&&0>s(Se,ie))G[q]=Se,G[Oe]=ie,q=Oe;else break e}}return ne}function s(G,ne){var ie=G.sortIndex-ne.sortIndex;return ie!==0?ie:G.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],h=[],p=1,g=null,y=3,E=!1,A=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(G){for(var ne=n(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=G)r(h),ne.sortIndex=ne.expirationTime,e(u,ne);else break;ne=n(h)}}function F(G){if(b=!1,N(G),!A)if(n(u)!==null)A=!0,Pe(B);else{var ne=n(h);ne!==null&&fe(F,ne.startTime-G)}}function B(G,ne){A=!1,b&&(b=!1,R(P),P=-1),E=!0;var ie=y;try{for(N(ne),g=n(u);g!==null&&(!(g.expirationTime>ne)||G&&!j());){var q=g.callback;if(typeof q=="function"){g.callback=null,y=g.priorityLevel;var re=q(g.expirationTime<=ne);ne=t.unstable_now(),typeof re=="function"?g.callback=re:g===n(u)&&r(u),N(ne)}else r(u);g=n(u)}if(g!==null)var ye=!0;else{var Te=n(h);Te!==null&&fe(F,Te.startTime-ne),ye=!1}return ye}finally{g=null,y=ie,E=!1}}var K=!1,k=null,P=-1,D=5,O=-1;function j(){return!(t.unstable_now()-O<D)}function z(){if(k!==null){var G=t.unstable_now();O=G;var ne=!0;try{ne=k(!0,G)}finally{ne?L():(K=!1,k=null)}}else K=!1}var L;if(typeof V=="function")L=function(){V(z)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Le=xe.port2;xe.port1.onmessage=z,L=function(){Le.postMessage(null)}}else L=function(){S(z,0)};function Pe(G){k=G,K||(K=!0,L())}function fe(G,ne){P=S(function(){G(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){A||E||(A=!0,Pe(B))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(G){switch(y){case 1:case 2:case 3:var ne=3;break;default:ne=y}var ie=y;y=ne;try{return G()}finally{y=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ie=y;y=G;try{return ne()}finally{y=ie}},t.unstable_scheduleCallback=function(G,ne,ie){var q=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?q+ie:q):ie=q,G){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ie+re,G={id:p++,callback:ne,priorityLevel:G,startTime:ie,expirationTime:re,sortIndex:-1},ie>q?(G.sortIndex=ie,e(h,G),n(u)===null&&G===n(h)&&(b?(R(P),P=-1):b=!0,fe(F,ie-q))):(G.sortIndex=re,e(u,G),A||E||(A=!0,Pe(B))),G},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(G){var ne=y;return function(){var ie=y;y=ne;try{return G.apply(this,arguments)}finally{y=ie}}}})(_w)),_w}var jb;function IF(){return jb||(jb=1,ww.exports=TF()),ww.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function bF(){if(Ub)return Gn;Ub=1;var t=tE(),e=IF();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(s[o]=l,o=0;o<l.length;o++)r.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(o){return u.call(g,o)?!0:u.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function E(o,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function A(o,l,d,m){if(l===null||typeof l>"u"||E(o,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(o,l,d,m,v,w,C){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=w,this.removeEmptyString=C}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new b(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];S[l]=new b(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new b(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new b(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new b(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new b(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new b(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new b(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new b(o,5,!1,o.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function V(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(R,V);S[l]=new b(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(R,V);S[l]=new b(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(R,V);S[l]=new b(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new b(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new b(o,1,!1,o.toLowerCase(),null,!0,!0)});function N(o,l,d,m){var v=S.hasOwnProperty(l)?S[l]:null;(v!==null?v.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(A(l,d,v,m)&&(d=null),m||v===null?y(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):v.mustUseProperty?o[v.propertyName]=d===null?v.type===3?!1:"":d:(l=v.attributeName,m=v.attributeNamespace,d===null?o.removeAttribute(l):(v=v.type,d=v===3||v===4&&d===!0?"":""+d,m?o.setAttributeNS(m,l,d):o.setAttribute(l,d))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),K=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),j=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),G=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var ie=Object.assign,q;function re(o){if(q===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+o}var ye=!1;function Te(o,l){if(!o||ye)return"";ye=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Z){var m=Z}Reflect.construct(o,[],l)}else{try{l.call()}catch(Z){m=Z}o.call(l.prototype)}else{try{throw Error()}catch(Z){m=Z}o()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var v=Z.stack.split(`
`),w=m.stack.split(`
`),C=v.length-1,U=w.length-1;1<=C&&0<=U&&v[C]!==w[U];)U--;for(;1<=C&&0<=U;C--,U--)if(v[C]!==w[U]){if(C!==1||U!==1)do if(C--,U--,0>U||v[C]!==w[U]){var $=`
`+v[C].replace(" at new "," at ");return o.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",o.displayName)),$}while(1<=C&&0<=U);break}}}finally{ye=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?re(o):""}function Fe(o){switch(o.tag){case 5:return re(o.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return o=Te(o.type,!1),o;case 11:return o=Te(o.type.render,!1),o;case 1:return o=Te(o.type,!0),o;default:return""}}function Oe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case K:return"Portal";case D:return"Profiler";case P:return"StrictMode";case L:return"Suspense";case xe:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case j:return(o.displayName||"Context")+".Consumer";case O:return(o._context.displayName||"Context")+".Provider";case z:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Le:return l=o.displayName||null,l!==null?l:Oe(o.type)||"Memo";case Pe:l=o._payload,o=o._init;try{return Oe(o(l))}catch{}}return null}function Se(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(l);case 8:return l===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ze(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function je(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ht(o){var l=je(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,w=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return v.call(this)},set:function(C){m=""+C,w.call(this,C)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(C){m=""+C},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function er(o){o._valueTracker||(o._valueTracker=ht(o))}function tr(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=je(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function Bn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Zs(o,l){var d=l.checked;return ie({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function zl(o,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=ze(l.value!=null?l.value:d),o._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function qi(o,l){l=l.checked,l!=null&&N(o,"checked",l,!1)}function ei(o,l){qi(o,l);var d=ze(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?pt(o,l.type,d):l.hasOwnProperty("defaultValue")&&pt(o,l.type,ze(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function ha(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function pt(o,l,d){(l!=="number"||Bn(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var Vt=Array.isArray;function Fr(o,l,d,m){if(o=o.options,l){l={};for(var v=0;v<d.length;v++)l["$"+d[v]]=!0;for(d=0;d<o.length;d++)v=l.hasOwnProperty("$"+o[d].value),o[d].selected!==v&&(o[d].selected=v),v&&m&&(o[d].defaultSelected=!0)}else{for(d=""+ze(d),l=null,v=0;v<o.length;v++){if(o[v].value===d){o[v].selected=!0,m&&(o[v].defaultSelected=!0);return}l!==null||o[v].disabled||(l=o[v])}l!==null&&(l.selected=!0)}}function Ku(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Qu(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(Vt(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:ze(d)}}function Vf(o,l){var d=ze(l.value),m=ze(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),m!=null&&(o.defaultValue=""+m)}function Hi(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Yu(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wl(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Yu(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Gi,Lf=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,v){MSApp.execUnsafeLocalFunction(function(){return o(l,d,m,v)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Gi=Gi||document.createElement("div"),Gi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Gi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function fa(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ff=["Webkit","ms","Moz","O"];Object.keys(Ki).forEach(function(o){Ff.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Ki[l]=Ki[o]})});function Qi(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Ki.hasOwnProperty(o)&&Ki[o]?(""+l).trim():l+"px"}function ql(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,v=Qi(d,l[d],m);d==="float"&&(d="cssFloat"),m?o.setProperty(d,v):o[d]=v}}var Xu=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jr(o,l){if(l){if(Xu[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Hl(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yi=null;function Gl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ti=null,ni=null,Rt=null;function Ju(o){if(o=bd(o)){if(typeof ti!="function")throw Error(n(280));var l=o.stateNode;l&&(l=dp(l),ti(o.stateNode,o.type,l))}}function Xi(o){ni?Rt?Rt.push(o):Rt=[o]:ni=o}function Ji(){if(ni){var o=ni,l=Rt;if(Rt=ni=null,Ju(o),l)for(o=0;o<l.length;o++)Ju(l[o])}}function jf(o,l){return o(l)}function Uf(){}var ls=!1;function Bf(o,l,d){if(ls)return o(l,d);ls=!0;try{return jf(o,l,d)}finally{ls=!1,(ni!==null||Rt!==null)&&(Uf(),Ji())}}function pa(o,l){var d=o.stateNode;if(d===null)return null;var m=dp(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Zi=!1;if(c)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{Zi=!1}function $f(o,l,d,m,v,w,C,U,$){var Z=Array.prototype.slice.call(arguments,3);try{l.apply(d,Z)}catch(oe){this.onError(oe)}}var ri=!1,cs=null,Kl=!1,vr=null,zf={onError:function(o){ri=!0,cs=o}};function Wf(o,l,d,m,v,w,C,U,$){ri=!1,cs=null,$f.apply(zf,arguments)}function Zu(o,l,d,m,v,w,C,U,$){if(Wf.apply(this,arguments),ri){if(ri){var Z=cs;ri=!1,cs=null}else throw Error(n(198));Kl||(Kl=!0,vr=Z)}}function Ur(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function ed(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function qf(o){if(Ur(o)!==o)throw Error(n(188))}function Hf(o){var l=o.alternate;if(!l){if(l=Ur(o),l===null)throw Error(n(188));return l!==o?null:o}for(var d=o,m=l;;){var v=d.return;if(v===null)break;var w=v.alternate;if(w===null){if(m=v.return,m!==null){d=m;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===d)return qf(v),o;if(w===m)return qf(v),l;w=w.sibling}throw Error(n(188))}if(d.return!==m.return)d=v,m=w;else{for(var C=!1,U=v.child;U;){if(U===d){C=!0,d=v,m=w;break}if(U===m){C=!0,m=v,d=w;break}U=U.sibling}if(!C){for(U=w.child;U;){if(U===d){C=!0,d=w,m=v;break}if(U===m){C=!0,m=w,d=v;break}U=U.sibling}if(!C)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:l}function Gf(o){return o=Hf(o),o!==null?ma(o):null}function ma(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=ma(o);if(l!==null)return l;o=o.sibling}return null}var td=e.unstable_scheduleCallback,Ql=e.unstable_cancelCallback,ga=e.unstable_shouldYield,si=e.unstable_requestPaint,mt=e.unstable_now,qy=e.unstable_getCurrentPriorityLevel,Yl=e.unstable_ImmediatePriority,nd=e.unstable_UserBlockingPriority,ya=e.unstable_NormalPriority,rd=e.unstable_LowPriority,Xl=e.unstable_IdlePriority,va=null,nr=null;function Kf(o){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(va,o,void 0,(o.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:wa,us=Math.log,wr=Math.LN2;function wa(o){return o>>>=0,o===0?32:31-(us(o)/wr|0)|0}var ds=64,to=4194304;function rt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ii(o,l){var d=o.pendingLanes;if(d===0)return 0;var m=0,v=o.suspendedLanes,w=o.pingedLanes,C=d&268435455;if(C!==0){var U=C&~v;U!==0?m=rt(U):(w&=C,w!==0&&(m=rt(w)))}else C=d&~v,C!==0?m=rt(C):w!==0&&(m=rt(w));if(m===0)return 0;if(l!==0&&l!==m&&(l&v)===0&&(v=m&-m,w=l&-l,v>=w||v===16&&(w&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=m;0<l;)d=31-rr(l),v=1<<d,m|=o[d],l&=~v;return m}function _a(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ea(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,v=o.expirationTimes,w=o.pendingLanes;0<w;){var C=31-rr(w),U=1<<C,$=v[C];$===-1?((U&d)===0||(U&m)!==0)&&(v[C]=_a(U,l)):$<=l&&(o.expiredLanes|=U),w&=~U}}function sd(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function id(){var o=ds;return ds<<=1,(ds&4194240)===0&&(ds=64),o}function od(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function xa(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-rr(l),o[l]=d}function Hy(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<d;){var v=31-rr(d),w=1<<v;l[v]=0,m[v]=-1,o[v]=-1,d&=~w}}function ad(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-rr(d),v=1<<m;v&l|o[m]&l&&(o[m]|=l),d&=~v}}var Ye=0;function hs(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var ld,Jl,cd,ud,dd,fs=!1,Zl=[],ps=null,ms=null,an=null,Ta=new Map,oi=new Map,sr=[],Qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function no(o,l){switch(o){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":Ta.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(l.pointerId)}}function Br(o,l,d,m,v,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:w,targetContainers:[v]},l!==null&&(l=bd(l),l!==null&&Jl(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),o)}function Yf(o,l,d,m,v){switch(l){case"focusin":return ps=Br(ps,o,l,d,m,v),!0;case"dragenter":return ms=Br(ms,o,l,d,m,v),!0;case"mouseover":return an=Br(an,o,l,d,m,v),!0;case"pointerover":var w=v.pointerId;return Ta.set(w,Br(Ta.get(w)||null,o,l,d,m,v)),!0;case"gotpointercapture":return w=v.pointerId,oi.set(w,Br(oi.get(w)||null,o,l,d,m,v)),!0}return!1}function ec(o){var l=Aa(o.target);if(l!==null){var d=Ur(l);if(d!==null){if(l=d.tag,l===13){if(l=ed(d),l!==null){o.blockedOn=l,dd(o.priority,function(){cd(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function dt(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=tc(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);Yi=m,d.target.dispatchEvent(m),Yi=null}else return l=bd(d),l!==null&&Jl(l),o.blockedOn=d,!1;l.shift()}return!0}function Xf(o,l,d){dt(o)&&d.delete(l)}function Gy(){fs=!1,ps!==null&&dt(ps)&&(ps=null),ms!==null&&dt(ms)&&(ms=null),an!==null&&dt(an)&&(an=null),Ta.forEach(Xf),oi.forEach(Xf)}function ro(o,l){o.blockedOn===l&&(o.blockedOn=null,fs||(fs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gy)))}function so(o){function l(v){return ro(v,o)}if(0<Zl.length){ro(Zl[0],o);for(var d=1;d<Zl.length;d++){var m=Zl[d];m.blockedOn===o&&(m.blockedOn=null)}}for(ps!==null&&ro(ps,o),ms!==null&&ro(ms,o),an!==null&&ro(an,o),Ta.forEach(l),oi.forEach(l),d=0;d<sr.length;d++)m=sr[d],m.blockedOn===o&&(m.blockedOn=null);for(;0<sr.length&&(d=sr[0],d.blockedOn===null);)ec(d),d.blockedOn===null&&sr.shift()}var ai=F.ReactCurrentBatchConfig,li=!0;function gs(o,l,d,m){var v=Ye,w=ai.transition;ai.transition=null;try{Ye=1,hd(o,l,d,m)}finally{Ye=v,ai.transition=w}}function Jf(o,l,d,m){var v=Ye,w=ai.transition;ai.transition=null;try{Ye=4,hd(o,l,d,m)}finally{Ye=v,ai.transition=w}}function hd(o,l,d,m){if(li){var v=tc(o,l,d,m);if(v===null)sv(o,l,m,ys,d),no(o,m);else if(Yf(v,o,l,d,m))m.stopPropagation();else if(no(o,m),l&4&&-1<Qf.indexOf(o)){for(;v!==null;){var w=bd(v);if(w!==null&&ld(w),w=tc(o,l,d,m),w===null&&sv(o,l,m,ys,d),w===v)break;v=w}v!==null&&m.stopPropagation()}else sv(o,l,m,null,d)}}var ys=null;function tc(o,l,d,m){if(ys=null,o=Gl(m),o=Aa(o),o!==null)if(l=Ur(o),l===null)o=null;else if(d=l.tag,d===13){if(o=ed(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return ys=o,null}function nc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qy()){case Yl:return 1;case nd:return 4;case ya:case rd:return 16;case Xl:return 536870912;default:return 16}default:return 16}}var ir=null,rc=null,ci=null;function Zf(){if(ci)return ci;var o,l=rc,d=l.length,m,v="value"in ir?ir.value:ir.textContent,w=v.length;for(o=0;o<d&&l[o]===v[o];o++);var C=d-o;for(m=1;m<=C&&l[d-m]===v[w-m];m++);return ci=v.slice(o,1<m?1-m:void 0)}function Ia(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function vs(){return!0}function fd(){return!1}function yn(o){function l(d,m,v,w,C){this._reactName=d,this._targetInst=v,this.type=m,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(d=o[U],this[U]=d?d(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?vs:fd,this.isPropagationStopped=fd,this}return ie(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),l}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=yn(ws),io=ie({},ws,{view:0,detail:0}),sc=yn(io),ic,oc,or,Sa=ie({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$e,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==or&&(or&&o.type==="mousemove"?(ic=o.screenX-or.screenX,oc=o.screenY-or.screenY):oc=ic=0,or=o),ic)},movementY:function(o){return"movementY"in o?o.movementY:oc}}),pd=yn(Sa),ep=ie({},Sa,{dataTransfer:0}),tp=yn(ep),ac=ie({},io,{relatedTarget:0}),ln=yn(ac),np=ie({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),rp=yn(np),oo=ie({},ws,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),f=yn(oo),_=ie({},ws,{data:0}),I=yn(_),M={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function de(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=ee[o])?!!l[o]:!1}function $e(){return de}var Lt=ie({},io,{key:function(o){if(o.key){var l=M[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Ia(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?X[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$e,charCode:function(o){return o.type==="keypress"?Ia(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ia(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),ot=yn(Lt),zt=ie({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ar=yn(zt),ui=ie({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$e}),_s=yn(ui),Es=ie({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),lc=yn(Es),md=ie({},Sa,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),dL=yn(md),hL=[9,13,27,32],Ky=c&&"CompositionEvent"in window,gd=null;c&&"documentMode"in document&&(gd=document.documentMode);var fL=c&&"TextEvent"in window&&!gd,bT=c&&(!Ky||gd&&8<gd&&11>=gd),ST=" ",AT=!1;function PT(o,l){switch(o){case"keyup":return hL.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CT(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var cc=!1;function pL(o,l){switch(o){case"compositionend":return CT(l);case"keypress":return l.which!==32?null:(AT=!0,ST);case"textInput":return o=l.data,o===ST&&AT?null:o;default:return null}}function mL(o,l){if(cc)return o==="compositionend"||!Ky&&PT(o,l)?(o=Zf(),ci=rc=ir=null,cc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return bT&&l.locale!=="ko"?null:l.data;default:return null}}var gL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RT(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!gL[o.type]:l==="textarea"}function kT(o,l,d,m){Xi(m),l=lp(l,"onChange"),0<l.length&&(d=new ba("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var yd=null,vd=null;function yL(o){QT(o,0)}function sp(o){var l=pc(o);if(tr(l))return o}function vL(o,l){if(o==="change")return l}var DT=!1;if(c){var Qy;if(c){var Yy="oninput"in document;if(!Yy){var NT=document.createElement("div");NT.setAttribute("oninput","return;"),Yy=typeof NT.oninput=="function"}Qy=Yy}else Qy=!1;DT=Qy&&(!document.documentMode||9<document.documentMode)}function MT(){yd&&(yd.detachEvent("onpropertychange",OT),vd=yd=null)}function OT(o){if(o.propertyName==="value"&&sp(vd)){var l=[];kT(l,vd,o,Gl(o)),Bf(yL,l)}}function wL(o,l,d){o==="focusin"?(MT(),yd=l,vd=d,yd.attachEvent("onpropertychange",OT)):o==="focusout"&&MT()}function _L(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return sp(vd)}function EL(o,l){if(o==="click")return sp(l)}function xL(o,l){if(o==="input"||o==="change")return sp(l)}function TL(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var $r=typeof Object.is=="function"?Object.is:TL;function wd(o,l){if($r(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var v=d[m];if(!u.call(l,v)||!$r(o[v],l[v]))return!1}return!0}function VT(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function LT(o,l){var d=VT(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=VT(d)}}function FT(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?FT(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function jT(){for(var o=window,l=Bn();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=Bn(o.document)}return l}function Xy(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function IL(o){var l=jT(),d=o.focusedElem,m=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&FT(d.ownerDocument.documentElement,d)){if(m!==null&&Xy(d)){if(l=m.start,o=m.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var v=d.textContent.length,w=Math.min(m.start,v);m=m.end===void 0?w:Math.min(m.end,v),!o.extend&&w>m&&(v=m,m=w,w=v),v=LT(d,w);var C=LT(d,m);v&&C&&(o.rangeCount!==1||o.anchorNode!==v.node||o.anchorOffset!==v.offset||o.focusNode!==C.node||o.focusOffset!==C.offset)&&(l=l.createRange(),l.setStart(v.node,v.offset),o.removeAllRanges(),w>m?(o.addRange(l),o.extend(C.node,C.offset)):(l.setEnd(C.node,C.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var bL=c&&"documentMode"in document&&11>=document.documentMode,uc=null,Jy=null,_d=null,Zy=!1;function UT(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Zy||uc==null||uc!==Bn(m)||(m=uc,"selectionStart"in m&&Xy(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),_d&&wd(_d,m)||(_d=m,m=lp(Jy,"onSelect"),0<m.length&&(l=new ba("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=uc)))}function ip(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var dc={animationend:ip("Animation","AnimationEnd"),animationiteration:ip("Animation","AnimationIteration"),animationstart:ip("Animation","AnimationStart"),transitionend:ip("Transition","TransitionEnd")},ev={},BT={};c&&(BT=document.createElement("div").style,"AnimationEvent"in window||(delete dc.animationend.animation,delete dc.animationiteration.animation,delete dc.animationstart.animation),"TransitionEvent"in window||delete dc.transitionend.transition);function op(o){if(ev[o])return ev[o];if(!dc[o])return o;var l=dc[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in BT)return ev[o]=l[d];return o}var $T=op("animationend"),zT=op("animationiteration"),WT=op("animationstart"),qT=op("transitionend"),HT=new Map,GT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(o,l){HT.set(o,l),i(l,[o])}for(var tv=0;tv<GT.length;tv++){var nv=GT[tv],SL=nv.toLowerCase(),AL=nv[0].toUpperCase()+nv.slice(1);ao(SL,"on"+AL)}ao($T,"onAnimationEnd"),ao(zT,"onAnimationIteration"),ao(WT,"onAnimationStart"),ao("dblclick","onDoubleClick"),ao("focusin","onFocus"),ao("focusout","onBlur"),ao(qT,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ed));function KT(o,l,d){var m=o.type||"unknown-event";o.currentTarget=d,Zu(m,l,void 0,o),o.currentTarget=null}function QT(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],v=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var C=m.length-1;0<=C;C--){var U=m[C],$=U.instance,Z=U.currentTarget;if(U=U.listener,$!==w&&v.isPropagationStopped())break e;KT(v,U,Z),w=$}else for(C=0;C<m.length;C++){if(U=m[C],$=U.instance,Z=U.currentTarget,U=U.listener,$!==w&&v.isPropagationStopped())break e;KT(v,U,Z),w=$}}}if(Kl)throw o=vr,Kl=!1,vr=null,o}function gt(o,l){var d=l[uv];d===void 0&&(d=l[uv]=new Set);var m=o+"__bubble";d.has(m)||(YT(l,o,2,!1),d.add(m))}function rv(o,l,d){var m=0;l&&(m|=4),YT(d,o,m,l)}var ap="_reactListening"+Math.random().toString(36).slice(2);function xd(o){if(!o[ap]){o[ap]=!0,r.forEach(function(d){d!=="selectionchange"&&(PL.has(d)||rv(d,!1,o),rv(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[ap]||(l[ap]=!0,rv("selectionchange",!1,l))}}function YT(o,l,d,m){switch(nc(l)){case 1:var v=gs;break;case 4:v=Jf;break;default:v=hd}d=v.bind(null,l,d,o),v=void 0,!Zi||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),m?v!==void 0?o.addEventListener(l,d,{capture:!0,passive:v}):o.addEventListener(l,d,!0):v!==void 0?o.addEventListener(l,d,{passive:v}):o.addEventListener(l,d,!1)}function sv(o,l,d,m,v){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var U=m.stateNode.containerInfo;if(U===v||U.nodeType===8&&U.parentNode===v)break;if(C===4)for(C=m.return;C!==null;){var $=C.tag;if(($===3||$===4)&&($=C.stateNode.containerInfo,$===v||$.nodeType===8&&$.parentNode===v))return;C=C.return}for(;U!==null;){if(C=Aa(U),C===null)return;if($=C.tag,$===5||$===6){m=w=C;continue e}U=U.parentNode}}m=m.return}Bf(function(){var Z=w,oe=Gl(d),ae=[];e:{var se=HT.get(o);if(se!==void 0){var pe=ba,ve=o;switch(o){case"keypress":if(Ia(d)===0)break e;case"keydown":case"keyup":pe=ot;break;case"focusin":ve="focus",pe=ln;break;case"focusout":ve="blur",pe=ln;break;case"beforeblur":case"afterblur":pe=ln;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=_s;break;case $T:case zT:case WT:pe=rp;break;case qT:pe=lc;break;case"scroll":pe=sc;break;case"wheel":pe=dL;break;case"copy":case"cut":case"paste":pe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=ar}var Ie=(l&4)!==0,Ft=!Ie&&o==="scroll",Y=Ie?se!==null?se+"Capture":null:se;Ie=[];for(var H=Z,J;H!==null;){J=H;var ce=J.stateNode;if(J.tag===5&&ce!==null&&(J=ce,Y!==null&&(ce=pa(H,Y),ce!=null&&Ie.push(Td(H,ce,J)))),Ft)break;H=H.return}0<Ie.length&&(se=new pe(se,ve,null,d,oe),ae.push({event:se,listeners:Ie}))}}if((l&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",pe=o==="mouseout"||o==="pointerout",se&&d!==Yi&&(ve=d.relatedTarget||d.fromElement)&&(Aa(ve)||ve[di]))break e;if((pe||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,pe?(ve=d.relatedTarget||d.toElement,pe=Z,ve=ve?Aa(ve):null,ve!==null&&(Ft=Ur(ve),ve!==Ft||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=Z),pe!==ve)){if(Ie=pd,ce="onMouseLeave",Y="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Ie=ar,ce="onPointerLeave",Y="onPointerEnter",H="pointer"),Ft=pe==null?se:pc(pe),J=ve==null?se:pc(ve),se=new Ie(ce,H+"leave",pe,d,oe),se.target=Ft,se.relatedTarget=J,ce=null,Aa(oe)===Z&&(Ie=new Ie(Y,H+"enter",ve,d,oe),Ie.target=J,Ie.relatedTarget=Ft,ce=Ie),Ft=ce,pe&&ve)t:{for(Ie=pe,Y=ve,H=0,J=Ie;J;J=hc(J))H++;for(J=0,ce=Y;ce;ce=hc(ce))J++;for(;0<H-J;)Ie=hc(Ie),H--;for(;0<J-H;)Y=hc(Y),J--;for(;H--;){if(Ie===Y||Y!==null&&Ie===Y.alternate)break t;Ie=hc(Ie),Y=hc(Y)}Ie=null}else Ie=null;pe!==null&&XT(ae,se,pe,Ie,!1),ve!==null&&Ft!==null&&XT(ae,Ft,ve,Ie,!0)}}e:{if(se=Z?pc(Z):window,pe=se.nodeName&&se.nodeName.toLowerCase(),pe==="select"||pe==="input"&&se.type==="file")var be=vL;else if(RT(se))if(DT)be=xL;else{be=_L;var Re=wL}else(pe=se.nodeName)&&pe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(be=EL);if(be&&(be=be(o,Z))){kT(ae,be,d,oe);break e}Re&&Re(o,se,Z),o==="focusout"&&(Re=se._wrapperState)&&Re.controlled&&se.type==="number"&&pt(se,"number",se.value)}switch(Re=Z?pc(Z):window,o){case"focusin":(RT(Re)||Re.contentEditable==="true")&&(uc=Re,Jy=Z,_d=null);break;case"focusout":_d=Jy=uc=null;break;case"mousedown":Zy=!0;break;case"contextmenu":case"mouseup":case"dragend":Zy=!1,UT(ae,d,oe);break;case"selectionchange":if(bL)break;case"keydown":case"keyup":UT(ae,d,oe)}var ke;if(Ky)e:{switch(o){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else cc?PT(o,d)&&(Ve="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Ve="onCompositionStart");Ve&&(bT&&d.locale!=="ko"&&(cc||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&cc&&(ke=Zf()):(ir=oe,rc="value"in ir?ir.value:ir.textContent,cc=!0)),Re=lp(Z,Ve),0<Re.length&&(Ve=new I(Ve,o,null,d,oe),ae.push({event:Ve,listeners:Re}),ke?Ve.data=ke:(ke=CT(d),ke!==null&&(Ve.data=ke)))),(ke=fL?pL(o,d):mL(o,d))&&(Z=lp(Z,"onBeforeInput"),0<Z.length&&(oe=new I("onBeforeInput","beforeinput",null,d,oe),ae.push({event:oe,listeners:Z}),oe.data=ke))}QT(ae,l)})}function Td(o,l,d){return{instance:o,listener:l,currentTarget:d}}function lp(o,l){for(var d=l+"Capture",m=[];o!==null;){var v=o,w=v.stateNode;v.tag===5&&w!==null&&(v=w,w=pa(o,d),w!=null&&m.unshift(Td(o,w,v)),w=pa(o,l),w!=null&&m.push(Td(o,w,v))),o=o.return}return m}function hc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function XT(o,l,d,m,v){for(var w=l._reactName,C=[];d!==null&&d!==m;){var U=d,$=U.alternate,Z=U.stateNode;if($!==null&&$===m)break;U.tag===5&&Z!==null&&(U=Z,v?($=pa(d,w),$!=null&&C.unshift(Td(d,$,U))):v||($=pa(d,w),$!=null&&C.push(Td(d,$,U)))),d=d.return}C.length!==0&&o.push({event:l,listeners:C})}var CL=/\r\n?/g,RL=/\u0000|\uFFFD/g;function JT(o){return(typeof o=="string"?o:""+o).replace(CL,`
`).replace(RL,"")}function cp(o,l,d){if(l=JT(l),JT(o)!==l&&d)throw Error(n(425))}function up(){}var iv=null,ov=null;function av(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var lv=typeof setTimeout=="function"?setTimeout:void 0,kL=typeof clearTimeout=="function"?clearTimeout:void 0,ZT=typeof Promise=="function"?Promise:void 0,DL=typeof queueMicrotask=="function"?queueMicrotask:typeof ZT<"u"?function(o){return ZT.resolve(null).then(o).catch(NL)}:lv;function NL(o){setTimeout(function(){throw o})}function cv(o,l){var d=l,m=0;do{var v=d.nextSibling;if(o.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(m===0){o.removeChild(v),so(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=v}while(d);so(l)}function lo(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function eI(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var fc=Math.random().toString(36).slice(2),xs="__reactFiber$"+fc,Id="__reactProps$"+fc,di="__reactContainer$"+fc,uv="__reactEvents$"+fc,ML="__reactListeners$"+fc,OL="__reactHandles$"+fc;function Aa(o){var l=o[xs];if(l)return l;for(var d=o.parentNode;d;){if(l=d[di]||d[xs]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=eI(o);o!==null;){if(d=o[xs])return d;o=eI(o)}return l}o=d,d=o.parentNode}return null}function bd(o){return o=o[xs]||o[di],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function pc(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function dp(o){return o[Id]||null}var dv=[],mc=-1;function co(o){return{current:o}}function yt(o){0>mc||(o.current=dv[mc],dv[mc]=null,mc--)}function ft(o,l){mc++,dv[mc]=o.current,o.current=l}var uo={},vn=co(uo),$n=co(!1),Pa=uo;function gc(o,l){var d=o.type.contextTypes;if(!d)return uo;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var v={},w;for(w in d)v[w]=l[w];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=v),v}function zn(o){return o=o.childContextTypes,o!=null}function hp(){yt($n),yt(vn)}function tI(o,l,d){if(vn.current!==uo)throw Error(n(168));ft(vn,l),ft($n,d)}function nI(o,l,d){var m=o.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var v in m)if(!(v in l))throw Error(n(108,Se(o)||"Unknown",v));return ie({},d,m)}function fp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||uo,Pa=vn.current,ft(vn,o),ft($n,$n.current),!0}function rI(o,l,d){var m=o.stateNode;if(!m)throw Error(n(169));d?(o=nI(o,l,Pa),m.__reactInternalMemoizedMergedChildContext=o,yt($n),yt(vn),ft(vn,o)):yt($n),ft($n,d)}var hi=null,pp=!1,hv=!1;function sI(o){hi===null?hi=[o]:hi.push(o)}function VL(o){pp=!0,sI(o)}function ho(){if(!hv&&hi!==null){hv=!0;var o=0,l=Ye;try{var d=hi;for(Ye=1;o<d.length;o++){var m=d[o];do m=m(!0);while(m!==null)}hi=null,pp=!1}catch(v){throw hi!==null&&(hi=hi.slice(o+1)),td(Yl,ho),v}finally{Ye=l,hv=!1}}return null}var yc=[],vc=0,mp=null,gp=0,_r=[],Er=0,Ca=null,fi=1,pi="";function Ra(o,l){yc[vc++]=gp,yc[vc++]=mp,mp=o,gp=l}function iI(o,l,d){_r[Er++]=fi,_r[Er++]=pi,_r[Er++]=Ca,Ca=o;var m=fi;o=pi;var v=32-rr(m)-1;m&=~(1<<v),d+=1;var w=32-rr(l)+v;if(30<w){var C=v-v%5;w=(m&(1<<C)-1).toString(32),m>>=C,v-=C,fi=1<<32-rr(l)+v|d<<v|m,pi=w+o}else fi=1<<w|d<<v|m,pi=o}function fv(o){o.return!==null&&(Ra(o,1),iI(o,1,0))}function pv(o){for(;o===mp;)mp=yc[--vc],yc[vc]=null,gp=yc[--vc],yc[vc]=null;for(;o===Ca;)Ca=_r[--Er],_r[Er]=null,pi=_r[--Er],_r[Er]=null,fi=_r[--Er],_r[Er]=null}var lr=null,cr=null,_t=!1,zr=null;function oI(o,l){var d=br(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function aI(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,lr=o,cr=lo(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,lr=o,cr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Ca!==null?{id:fi,overflow:pi}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=br(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,lr=o,cr=null,!0):!1;default:return!1}}function mv(o){return(o.mode&1)!==0&&(o.flags&128)===0}function gv(o){if(_t){var l=cr;if(l){var d=l;if(!aI(o,l)){if(mv(o))throw Error(n(418));l=lo(d.nextSibling);var m=lr;l&&aI(o,l)?oI(m,d):(o.flags=o.flags&-4097|2,_t=!1,lr=o)}}else{if(mv(o))throw Error(n(418));o.flags=o.flags&-4097|2,_t=!1,lr=o}}}function lI(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;lr=o}function yp(o){if(o!==lr)return!1;if(!_t)return lI(o),_t=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!av(o.type,o.memoizedProps)),l&&(l=cr)){if(mv(o))throw cI(),Error(n(418));for(;l;)oI(o,l),l=lo(l.nextSibling)}if(lI(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){cr=lo(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}cr=null}}else cr=lr?lo(o.stateNode.nextSibling):null;return!0}function cI(){for(var o=cr;o;)o=lo(o.nextSibling)}function wc(){cr=lr=null,_t=!1}function yv(o){zr===null?zr=[o]:zr.push(o)}var LL=F.ReactCurrentBatchConfig;function Sd(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,o));var v=m,w=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(C){var U=v.refs;C===null?delete U[w]:U[w]=C},l._stringRef=w,l)}if(typeof o!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,o))}return o}function vp(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function uI(o){var l=o._init;return l(o._payload)}function dI(o){function l(Y,H){if(o){var J=Y.deletions;J===null?(Y.deletions=[H],Y.flags|=16):J.push(H)}}function d(Y,H){if(!o)return null;for(;H!==null;)l(Y,H),H=H.sibling;return null}function m(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function v(Y,H){return Y=_o(Y,H),Y.index=0,Y.sibling=null,Y}function w(Y,H,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<H?(Y.flags|=2,H):J):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function C(Y){return o&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,H,J,ce){return H===null||H.tag!==6?(H=lw(J,Y.mode,ce),H.return=Y,H):(H=v(H,J),H.return=Y,H)}function $(Y,H,J,ce){var be=J.type;return be===k?oe(Y,H,J.props.children,ce,J.key):H!==null&&(H.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Pe&&uI(be)===H.type)?(ce=v(H,J.props),ce.ref=Sd(Y,H,J),ce.return=Y,ce):(ce=$p(J.type,J.key,J.props,null,Y.mode,ce),ce.ref=Sd(Y,H,J),ce.return=Y,ce)}function Z(Y,H,J,ce){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=cw(J,Y.mode,ce),H.return=Y,H):(H=v(H,J.children||[]),H.return=Y,H)}function oe(Y,H,J,ce,be){return H===null||H.tag!==7?(H=Fa(J,Y.mode,ce,be),H.return=Y,H):(H=v(H,J),H.return=Y,H)}function ae(Y,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=lw(""+H,Y.mode,J),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case B:return J=$p(H.type,H.key,H.props,null,Y.mode,J),J.ref=Sd(Y,null,H),J.return=Y,J;case K:return H=cw(H,Y.mode,J),H.return=Y,H;case Pe:var ce=H._init;return ae(Y,ce(H._payload),J)}if(Vt(H)||ne(H))return H=Fa(H,Y.mode,J,null),H.return=Y,H;vp(Y,H)}return null}function se(Y,H,J,ce){var be=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return be!==null?null:U(Y,H,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case B:return J.key===be?$(Y,H,J,ce):null;case K:return J.key===be?Z(Y,H,J,ce):null;case Pe:return be=J._init,se(Y,H,be(J._payload),ce)}if(Vt(J)||ne(J))return be!==null?null:oe(Y,H,J,ce,null);vp(Y,J)}return null}function pe(Y,H,J,ce,be){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Y=Y.get(J)||null,U(H,Y,""+ce,be);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case B:return Y=Y.get(ce.key===null?J:ce.key)||null,$(H,Y,ce,be);case K:return Y=Y.get(ce.key===null?J:ce.key)||null,Z(H,Y,ce,be);case Pe:var Re=ce._init;return pe(Y,H,J,Re(ce._payload),be)}if(Vt(ce)||ne(ce))return Y=Y.get(J)||null,oe(H,Y,ce,be,null);vp(H,ce)}return null}function ve(Y,H,J,ce){for(var be=null,Re=null,ke=H,Ve=H=0,nn=null;ke!==null&&Ve<J.length;Ve++){ke.index>Ve?(nn=ke,ke=null):nn=ke.sibling;var nt=se(Y,ke,J[Ve],ce);if(nt===null){ke===null&&(ke=nn);break}o&&ke&&nt.alternate===null&&l(Y,ke),H=w(nt,H,Ve),Re===null?be=nt:Re.sibling=nt,Re=nt,ke=nn}if(Ve===J.length)return d(Y,ke),_t&&Ra(Y,Ve),be;if(ke===null){for(;Ve<J.length;Ve++)ke=ae(Y,J[Ve],ce),ke!==null&&(H=w(ke,H,Ve),Re===null?be=ke:Re.sibling=ke,Re=ke);return _t&&Ra(Y,Ve),be}for(ke=m(Y,ke);Ve<J.length;Ve++)nn=pe(ke,Y,Ve,J[Ve],ce),nn!==null&&(o&&nn.alternate!==null&&ke.delete(nn.key===null?Ve:nn.key),H=w(nn,H,Ve),Re===null?be=nn:Re.sibling=nn,Re=nn);return o&&ke.forEach(function(Eo){return l(Y,Eo)}),_t&&Ra(Y,Ve),be}function Ie(Y,H,J,ce){var be=ne(J);if(typeof be!="function")throw Error(n(150));if(J=be.call(J),J==null)throw Error(n(151));for(var Re=be=null,ke=H,Ve=H=0,nn=null,nt=J.next();ke!==null&&!nt.done;Ve++,nt=J.next()){ke.index>Ve?(nn=ke,ke=null):nn=ke.sibling;var Eo=se(Y,ke,nt.value,ce);if(Eo===null){ke===null&&(ke=nn);break}o&&ke&&Eo.alternate===null&&l(Y,ke),H=w(Eo,H,Ve),Re===null?be=Eo:Re.sibling=Eo,Re=Eo,ke=nn}if(nt.done)return d(Y,ke),_t&&Ra(Y,Ve),be;if(ke===null){for(;!nt.done;Ve++,nt=J.next())nt=ae(Y,nt.value,ce),nt!==null&&(H=w(nt,H,Ve),Re===null?be=nt:Re.sibling=nt,Re=nt);return _t&&Ra(Y,Ve),be}for(ke=m(Y,ke);!nt.done;Ve++,nt=J.next())nt=pe(ke,Y,Ve,nt.value,ce),nt!==null&&(o&&nt.alternate!==null&&ke.delete(nt.key===null?Ve:nt.key),H=w(nt,H,Ve),Re===null?be=nt:Re.sibling=nt,Re=nt);return o&&ke.forEach(function(gF){return l(Y,gF)}),_t&&Ra(Y,Ve),be}function Ft(Y,H,J,ce){if(typeof J=="object"&&J!==null&&J.type===k&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case B:e:{for(var be=J.key,Re=H;Re!==null;){if(Re.key===be){if(be=J.type,be===k){if(Re.tag===7){d(Y,Re.sibling),H=v(Re,J.props.children),H.return=Y,Y=H;break e}}else if(Re.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Pe&&uI(be)===Re.type){d(Y,Re.sibling),H=v(Re,J.props),H.ref=Sd(Y,Re,J),H.return=Y,Y=H;break e}d(Y,Re);break}else l(Y,Re);Re=Re.sibling}J.type===k?(H=Fa(J.props.children,Y.mode,ce,J.key),H.return=Y,Y=H):(ce=$p(J.type,J.key,J.props,null,Y.mode,ce),ce.ref=Sd(Y,H,J),ce.return=Y,Y=ce)}return C(Y);case K:e:{for(Re=J.key;H!==null;){if(H.key===Re)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){d(Y,H.sibling),H=v(H,J.children||[]),H.return=Y,Y=H;break e}else{d(Y,H);break}else l(Y,H);H=H.sibling}H=cw(J,Y.mode,ce),H.return=Y,Y=H}return C(Y);case Pe:return Re=J._init,Ft(Y,H,Re(J._payload),ce)}if(Vt(J))return ve(Y,H,J,ce);if(ne(J))return Ie(Y,H,J,ce);vp(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(d(Y,H.sibling),H=v(H,J),H.return=Y,Y=H):(d(Y,H),H=lw(J,Y.mode,ce),H.return=Y,Y=H),C(Y)):d(Y,H)}return Ft}var _c=dI(!0),hI=dI(!1),wp=co(null),_p=null,Ec=null,vv=null;function wv(){vv=Ec=_p=null}function _v(o){var l=wp.current;yt(wp),o._currentValue=l}function Ev(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function xc(o,l){_p=o,vv=Ec=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Wn=!0),o.firstContext=null)}function xr(o){var l=o._currentValue;if(vv!==o)if(o={context:o,memoizedValue:l,next:null},Ec===null){if(_p===null)throw Error(n(308));Ec=o,_p.dependencies={lanes:0,firstContext:o}}else Ec=Ec.next=o;return l}var ka=null;function xv(o){ka===null?ka=[o]:ka.push(o)}function fI(o,l,d,m){var v=l.interleaved;return v===null?(d.next=d,xv(l)):(d.next=v.next,v.next=d),l.interleaved=d,mi(o,m)}function mi(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var fo=!1;function Tv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pI(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function gi(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function po(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(tt&2)!==0){var v=m.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),m.pending=l,mi(o,d)}return v=m.interleaved,v===null?(l.next=l,xv(m)):(l.next=v.next,v.next=l),m.interleaved=l,mi(o,d)}function Ep(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,ad(o,d)}}function mI(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var v=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var C={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?v=w=C:w=w.next=C,d=d.next}while(d!==null);w===null?v=w=l:w=w.next=l}else v=w=l;d={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:m.shared,effects:m.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function xp(o,l,d,m){var v=o.updateQueue;fo=!1;var w=v.firstBaseUpdate,C=v.lastBaseUpdate,U=v.shared.pending;if(U!==null){v.shared.pending=null;var $=U,Z=$.next;$.next=null,C===null?w=Z:C.next=Z,C=$;var oe=o.alternate;oe!==null&&(oe=oe.updateQueue,U=oe.lastBaseUpdate,U!==C&&(U===null?oe.firstBaseUpdate=Z:U.next=Z,oe.lastBaseUpdate=$))}if(w!==null){var ae=v.baseState;C=0,oe=Z=$=null,U=w;do{var se=U.lane,pe=U.eventTime;if((m&se)===se){oe!==null&&(oe=oe.next={eventTime:pe,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var ve=o,Ie=U;switch(se=l,pe=d,Ie.tag){case 1:if(ve=Ie.payload,typeof ve=="function"){ae=ve.call(pe,ae,se);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ie.payload,se=typeof ve=="function"?ve.call(pe,ae,se):ve,se==null)break e;ae=ie({},ae,se);break e;case 2:fo=!0}}U.callback!==null&&U.lane!==0&&(o.flags|=64,se=v.effects,se===null?v.effects=[U]:se.push(U))}else pe={eventTime:pe,lane:se,tag:U.tag,payload:U.payload,callback:U.callback,next:null},oe===null?(Z=oe=pe,$=ae):oe=oe.next=pe,C|=se;if(U=U.next,U===null){if(U=v.shared.pending,U===null)break;se=U,U=se.next,se.next=null,v.lastBaseUpdate=se,v.shared.pending=null}}while(!0);if(oe===null&&($=ae),v.baseState=$,v.firstBaseUpdate=Z,v.lastBaseUpdate=oe,l=v.shared.interleaved,l!==null){v=l;do C|=v.lane,v=v.next;while(v!==l)}else w===null&&(v.shared.lanes=0);Ma|=C,o.lanes=C,o.memoizedState=ae}}function gI(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var m=o[l],v=m.callback;if(v!==null){if(m.callback=null,m=d,typeof v!="function")throw Error(n(191,v));v.call(m)}}}var Ad={},Ts=co(Ad),Pd=co(Ad),Cd=co(Ad);function Da(o){if(o===Ad)throw Error(n(174));return o}function Iv(o,l){switch(ft(Cd,l),ft(Pd,o),ft(Ts,Ad),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Wl(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Wl(l,o)}yt(Ts),ft(Ts,l)}function Tc(){yt(Ts),yt(Pd),yt(Cd)}function yI(o){Da(Cd.current);var l=Da(Ts.current),d=Wl(l,o.type);l!==d&&(ft(Pd,o),ft(Ts,d))}function bv(o){Pd.current===o&&(yt(Ts),yt(Pd))}var It=co(0);function Tp(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Sv=[];function Av(){for(var o=0;o<Sv.length;o++)Sv[o]._workInProgressVersionPrimary=null;Sv.length=0}var Ip=F.ReactCurrentDispatcher,Pv=F.ReactCurrentBatchConfig,Na=0,bt=null,Qt=null,en=null,bp=!1,Rd=!1,kd=0,FL=0;function wn(){throw Error(n(321))}function Cv(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!$r(o[d],l[d]))return!1;return!0}function Rv(o,l,d,m,v,w){if(Na=w,bt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Ip.current=o===null||o.memoizedState===null?$L:zL,o=d(m,v),Rd){w=0;do{if(Rd=!1,kd=0,25<=w)throw Error(n(301));w+=1,en=Qt=null,l.updateQueue=null,Ip.current=WL,o=d(m,v)}while(Rd)}if(Ip.current=Pp,l=Qt!==null&&Qt.next!==null,Na=0,en=Qt=bt=null,bp=!1,l)throw Error(n(300));return o}function kv(){var o=kd!==0;return kd=0,o}function Is(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?bt.memoizedState=en=o:en=en.next=o,en}function Tr(){if(Qt===null){var o=bt.alternate;o=o!==null?o.memoizedState:null}else o=Qt.next;var l=en===null?bt.memoizedState:en.next;if(l!==null)en=l,Qt=o;else{if(o===null)throw Error(n(310));Qt=o,o={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},en===null?bt.memoizedState=en=o:en=en.next=o}return en}function Dd(o,l){return typeof l=="function"?l(o):l}function Dv(o){var l=Tr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=Qt,v=m.baseQueue,w=d.pending;if(w!==null){if(v!==null){var C=v.next;v.next=w.next,w.next=C}m.baseQueue=v=w,d.pending=null}if(v!==null){w=v.next,m=m.baseState;var U=C=null,$=null,Z=w;do{var oe=Z.lane;if((Na&oe)===oe)$!==null&&($=$.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:o(m,Z.action);else{var ae={lane:oe,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};$===null?(U=$=ae,C=m):$=$.next=ae,bt.lanes|=oe,Ma|=oe}Z=Z.next}while(Z!==null&&Z!==w);$===null?C=m:$.next=U,$r(m,l.memoizedState)||(Wn=!0),l.memoizedState=m,l.baseState=C,l.baseQueue=$,d.lastRenderedState=m}if(o=d.interleaved,o!==null){v=o;do w=v.lane,bt.lanes|=w,Ma|=w,v=v.next;while(v!==o)}else v===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Nv(o){var l=Tr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=d.dispatch,v=d.pending,w=l.memoizedState;if(v!==null){d.pending=null;var C=v=v.next;do w=o(w,C.action),C=C.next;while(C!==v);$r(w,l.memoizedState)||(Wn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,m]}function vI(){}function wI(o,l){var d=bt,m=Tr(),v=l(),w=!$r(m.memoizedState,v);if(w&&(m.memoizedState=v,Wn=!0),m=m.queue,Mv(xI.bind(null,d,m,o),[o]),m.getSnapshot!==l||w||en!==null&&en.memoizedState.tag&1){if(d.flags|=2048,Nd(9,EI.bind(null,d,m,v,l),void 0,null),tn===null)throw Error(n(349));(Na&30)!==0||_I(d,l,v)}return v}function _I(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=bt.updateQueue,l===null?(l={lastEffect:null,stores:null},bt.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function EI(o,l,d,m){l.value=d,l.getSnapshot=m,TI(l)&&II(o)}function xI(o,l,d){return d(function(){TI(l)&&II(o)})}function TI(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!$r(o,d)}catch{return!0}}function II(o){var l=mi(o,1);l!==null&&Gr(l,o,1,-1)}function bI(o){var l=Is();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dd,lastRenderedState:o},l.queue=o,o=o.dispatch=BL.bind(null,bt,o),[l.memoizedState,o]}function Nd(o,l,d,m){return o={tag:o,create:l,destroy:d,deps:m,next:null},l=bt.updateQueue,l===null?(l={lastEffect:null,stores:null},bt.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o)),o}function SI(){return Tr().memoizedState}function Sp(o,l,d,m){var v=Is();bt.flags|=o,v.memoizedState=Nd(1|l,d,void 0,m===void 0?null:m)}function Ap(o,l,d,m){var v=Tr();m=m===void 0?null:m;var w=void 0;if(Qt!==null){var C=Qt.memoizedState;if(w=C.destroy,m!==null&&Cv(m,C.deps)){v.memoizedState=Nd(l,d,w,m);return}}bt.flags|=o,v.memoizedState=Nd(1|l,d,w,m)}function AI(o,l){return Sp(8390656,8,o,l)}function Mv(o,l){return Ap(2048,8,o,l)}function PI(o,l){return Ap(4,2,o,l)}function CI(o,l){return Ap(4,4,o,l)}function RI(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function kI(o,l,d){return d=d!=null?d.concat([o]):null,Ap(4,4,RI.bind(null,l,o),d)}function Ov(){}function DI(o,l){var d=Tr();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Cv(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function NI(o,l){var d=Tr();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&Cv(l,m[1])?m[0]:(o=o(),d.memoizedState=[o,l],o)}function MI(o,l,d){return(Na&21)===0?(o.baseState&&(o.baseState=!1,Wn=!0),o.memoizedState=d):($r(d,l)||(d=id(),bt.lanes|=d,Ma|=d,o.baseState=!0),l)}function jL(o,l){var d=Ye;Ye=d!==0&&4>d?d:4,o(!0);var m=Pv.transition;Pv.transition={};try{o(!1),l()}finally{Ye=d,Pv.transition=m}}function OI(){return Tr().memoizedState}function UL(o,l,d){var m=vo(o);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},VI(o))LI(l,d);else if(d=fI(o,l,d,m),d!==null){var v=Cn();Gr(d,o,m,v),FI(d,l,m)}}function BL(o,l,d){var m=vo(o),v={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(VI(o))LI(l,v);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var C=l.lastRenderedState,U=w(C,d);if(v.hasEagerState=!0,v.eagerState=U,$r(U,C)){var $=l.interleaved;$===null?(v.next=v,xv(l)):(v.next=$.next,$.next=v),l.interleaved=v;return}}catch{}finally{}d=fI(o,l,v,m),d!==null&&(v=Cn(),Gr(d,o,m,v),FI(d,l,m))}}function VI(o){var l=o.alternate;return o===bt||l!==null&&l===bt}function LI(o,l){Rd=bp=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function FI(o,l,d){if((d&4194240)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,ad(o,d)}}var Pp={readContext:xr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},$L={readContext:xr,useCallback:function(o,l){return Is().memoizedState=[o,l===void 0?null:l],o},useContext:xr,useEffect:AI,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,Sp(4194308,4,RI.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Sp(4194308,4,o,l)},useInsertionEffect:function(o,l){return Sp(4,2,o,l)},useMemo:function(o,l){var d=Is();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var m=Is();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},m.queue=o,o=o.dispatch=UL.bind(null,bt,o),[m.memoizedState,o]},useRef:function(o){var l=Is();return o={current:o},l.memoizedState=o},useState:bI,useDebugValue:Ov,useDeferredValue:function(o){return Is().memoizedState=o},useTransition:function(){var o=bI(!1),l=o[0];return o=jL.bind(null,o[1]),Is().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var m=bt,v=Is();if(_t){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),tn===null)throw Error(n(349));(Na&30)!==0||_I(m,l,d)}v.memoizedState=d;var w={value:d,getSnapshot:l};return v.queue=w,AI(xI.bind(null,m,w,o),[o]),m.flags|=2048,Nd(9,EI.bind(null,m,w,d,l),void 0,null),d},useId:function(){var o=Is(),l=tn.identifierPrefix;if(_t){var d=pi,m=fi;d=(m&~(1<<32-rr(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=kd++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=FL++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},zL={readContext:xr,useCallback:DI,useContext:xr,useEffect:Mv,useImperativeHandle:kI,useInsertionEffect:PI,useLayoutEffect:CI,useMemo:NI,useReducer:Dv,useRef:SI,useState:function(){return Dv(Dd)},useDebugValue:Ov,useDeferredValue:function(o){var l=Tr();return MI(l,Qt.memoizedState,o)},useTransition:function(){var o=Dv(Dd)[0],l=Tr().memoizedState;return[o,l]},useMutableSource:vI,useSyncExternalStore:wI,useId:OI,unstable_isNewReconciler:!1},WL={readContext:xr,useCallback:DI,useContext:xr,useEffect:Mv,useImperativeHandle:kI,useInsertionEffect:PI,useLayoutEffect:CI,useMemo:NI,useReducer:Nv,useRef:SI,useState:function(){return Nv(Dd)},useDebugValue:Ov,useDeferredValue:function(o){var l=Tr();return Qt===null?l.memoizedState=o:MI(l,Qt.memoizedState,o)},useTransition:function(){var o=Nv(Dd)[0],l=Tr().memoizedState;return[o,l]},useMutableSource:vI,useSyncExternalStore:wI,useId:OI,unstable_isNewReconciler:!1};function Wr(o,l){if(o&&o.defaultProps){l=ie({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function Vv(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:ie({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Cp={isMounted:function(o){return(o=o._reactInternals)?Ur(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var m=Cn(),v=vo(o),w=gi(m,v);w.payload=l,d!=null&&(w.callback=d),l=po(o,w,v),l!==null&&(Gr(l,o,v,m),Ep(l,o,v))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=Cn(),v=vo(o),w=gi(m,v);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=po(o,w,v),l!==null&&(Gr(l,o,v,m),Ep(l,o,v))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=Cn(),m=vo(o),v=gi(d,m);v.tag=2,l!=null&&(v.callback=l),l=po(o,v,m),l!==null&&(Gr(l,o,m,d),Ep(l,o,m))}};function jI(o,l,d,m,v,w,C){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,w,C):l.prototype&&l.prototype.isPureReactComponent?!wd(d,m)||!wd(v,w):!0}function UI(o,l,d){var m=!1,v=uo,w=l.contextType;return typeof w=="object"&&w!==null?w=xr(w):(v=zn(l)?Pa:vn.current,m=l.contextTypes,w=(m=m!=null)?gc(o,v):uo),l=new l(d,w),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Cp,o.stateNode=l,l._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=v,o.__reactInternalMemoizedMaskedChildContext=w),l}function BI(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&Cp.enqueueReplaceState(l,l.state,null)}function Lv(o,l,d,m){var v=o.stateNode;v.props=d,v.state=o.memoizedState,v.refs={},Tv(o);var w=l.contextType;typeof w=="object"&&w!==null?v.context=xr(w):(w=zn(l)?Pa:vn.current,v.context=gc(o,w)),v.state=o.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Vv(o,l,w,d),v.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(l=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),l!==v.state&&Cp.enqueueReplaceState(v,v.state,null),xp(o,d,v,m),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308)}function Ic(o,l){try{var d="",m=l;do d+=Fe(m),m=m.return;while(m);var v=d}catch(w){v=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:l,stack:v,digest:null}}function Fv(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function jv(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var qL=typeof WeakMap=="function"?WeakMap:Map;function $I(o,l,d){d=gi(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){Vp||(Vp=!0,ew=m),jv(o,l)},d}function zI(o,l,d){d=gi(-1,d),d.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=l.value;d.payload=function(){return m(v)},d.callback=function(){jv(o,l)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){jv(o,l),typeof m!="function"&&(go===null?go=new Set([this]):go.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})}),d}function WI(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new qL;var v=new Set;m.set(l,v)}else v=m.get(l),v===void 0&&(v=new Set,m.set(l,v));v.has(d)||(v.add(d),o=iF.bind(null,o,l,d),l.then(o,o))}function qI(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function HI(o,l,d,m,v){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=gi(-1,1),l.tag=2,po(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=v,o)}var HL=F.ReactCurrentOwner,Wn=!1;function Pn(o,l,d,m){l.child=o===null?hI(l,null,d,m):_c(l,o.child,d,m)}function GI(o,l,d,m,v){d=d.render;var w=l.ref;return xc(l,v),m=Rv(o,l,d,m,w,v),d=kv(),o!==null&&!Wn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~v,yi(o,l,v)):(_t&&d&&fv(l),l.flags|=1,Pn(o,l,m,v),l.child)}function KI(o,l,d,m,v){if(o===null){var w=d.type;return typeof w=="function"&&!aw(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=w,QI(o,l,w,m,v)):(o=$p(d.type,null,m,l,l.mode,v),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,(o.lanes&v)===0){var C=w.memoizedProps;if(d=d.compare,d=d!==null?d:wd,d(C,m)&&o.ref===l.ref)return yi(o,l,v)}return l.flags|=1,o=_o(w,m),o.ref=l.ref,o.return=l,l.child=o}function QI(o,l,d,m,v){if(o!==null){var w=o.memoizedProps;if(wd(w,m)&&o.ref===l.ref)if(Wn=!1,l.pendingProps=m=w,(o.lanes&v)!==0)(o.flags&131072)!==0&&(Wn=!0);else return l.lanes=o.lanes,yi(o,l,v)}return Uv(o,l,d,m,v)}function YI(o,l,d){var m=l.pendingProps,v=m.children,w=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Sc,ur),ur|=d;else{if((d&1073741824)===0)return o=w!==null?w.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,ft(Sc,ur),ur|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=w!==null?w.baseLanes:d,ft(Sc,ur),ur|=m}else w!==null?(m=w.baseLanes|d,l.memoizedState=null):m=d,ft(Sc,ur),ur|=m;return Pn(o,l,v,d),l.child}function XI(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Uv(o,l,d,m,v){var w=zn(d)?Pa:vn.current;return w=gc(l,w),xc(l,v),d=Rv(o,l,d,m,w,v),m=kv(),o!==null&&!Wn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~v,yi(o,l,v)):(_t&&m&&fv(l),l.flags|=1,Pn(o,l,d,v),l.child)}function JI(o,l,d,m,v){if(zn(d)){var w=!0;fp(l)}else w=!1;if(xc(l,v),l.stateNode===null)kp(o,l),UI(l,d,m),Lv(l,d,m,v),m=!0;else if(o===null){var C=l.stateNode,U=l.memoizedProps;C.props=U;var $=C.context,Z=d.contextType;typeof Z=="object"&&Z!==null?Z=xr(Z):(Z=zn(d)?Pa:vn.current,Z=gc(l,Z));var oe=d.getDerivedStateFromProps,ae=typeof oe=="function"||typeof C.getSnapshotBeforeUpdate=="function";ae||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(U!==m||$!==Z)&&BI(l,C,m,Z),fo=!1;var se=l.memoizedState;C.state=se,xp(l,m,C,v),$=l.memoizedState,U!==m||se!==$||$n.current||fo?(typeof oe=="function"&&(Vv(l,d,oe,m),$=l.memoizedState),(U=fo||jI(l,d,U,m,se,$,Z))?(ae||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=$),C.props=m,C.state=$,C.context=Z,m=U):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{C=l.stateNode,pI(o,l),U=l.memoizedProps,Z=l.type===l.elementType?U:Wr(l.type,U),C.props=Z,ae=l.pendingProps,se=C.context,$=d.contextType,typeof $=="object"&&$!==null?$=xr($):($=zn(d)?Pa:vn.current,$=gc(l,$));var pe=d.getDerivedStateFromProps;(oe=typeof pe=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(U!==ae||se!==$)&&BI(l,C,m,$),fo=!1,se=l.memoizedState,C.state=se,xp(l,m,C,v);var ve=l.memoizedState;U!==ae||se!==ve||$n.current||fo?(typeof pe=="function"&&(Vv(l,d,pe,m),ve=l.memoizedState),(Z=fo||jI(l,d,Z,m,se,ve,$)||!1)?(oe||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,ve,$),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,ve,$)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||U===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ve),C.props=m,C.state=ve,C.context=$,m=Z):(typeof C.componentDidUpdate!="function"||U===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),m=!1)}return Bv(o,l,d,m,w,v)}function Bv(o,l,d,m,v,w){XI(o,l);var C=(l.flags&128)!==0;if(!m&&!C)return v&&rI(l,d,!1),yi(o,l,w);m=l.stateNode,HL.current=l;var U=C&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,o!==null&&C?(l.child=_c(l,o.child,null,w),l.child=_c(l,null,U,w)):Pn(o,l,U,w),l.memoizedState=m.state,v&&rI(l,d,!0),l.child}function ZI(o){var l=o.stateNode;l.pendingContext?tI(o,l.pendingContext,l.pendingContext!==l.context):l.context&&tI(o,l.context,!1),Iv(o,l.containerInfo)}function eb(o,l,d,m,v){return wc(),yv(v),l.flags|=256,Pn(o,l,d,m),l.child}var $v={dehydrated:null,treeContext:null,retryLane:0};function zv(o){return{baseLanes:o,cachePool:null,transitions:null}}function tb(o,l,d){var m=l.pendingProps,v=It.current,w=!1,C=(l.flags&128)!==0,U;if((U=C)||(U=o!==null&&o.memoizedState===null?!1:(v&2)!==0),U?(w=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(v|=1),ft(It,v&1),o===null)return gv(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(C=m.children,o=m.fallback,w?(m=l.mode,w=l.child,C={mode:"hidden",children:C},(m&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=C):w=zp(C,m,0,null),o=Fa(o,m,d,null),w.return=l,o.return=l,w.sibling=o,l.child=w,l.child.memoizedState=zv(d),l.memoizedState=$v,o):Wv(l,C));if(v=o.memoizedState,v!==null&&(U=v.dehydrated,U!==null))return GL(o,l,C,m,U,v,d);if(w){w=m.fallback,C=l.mode,v=o.child,U=v.sibling;var $={mode:"hidden",children:m.children};return(C&1)===0&&l.child!==v?(m=l.child,m.childLanes=0,m.pendingProps=$,l.deletions=null):(m=_o(v,$),m.subtreeFlags=v.subtreeFlags&14680064),U!==null?w=_o(U,w):(w=Fa(w,C,d,null),w.flags|=2),w.return=l,m.return=l,m.sibling=w,l.child=m,m=w,w=l.child,C=o.child.memoizedState,C=C===null?zv(d):{baseLanes:C.baseLanes|d,cachePool:null,transitions:C.transitions},w.memoizedState=C,w.childLanes=o.childLanes&~d,l.memoizedState=$v,m}return w=o.child,o=w.sibling,m=_o(w,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=m,l.memoizedState=null,m}function Wv(o,l){return l=zp({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Rp(o,l,d,m){return m!==null&&yv(m),_c(l,o.child,null,d),o=Wv(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function GL(o,l,d,m,v,w,C){if(d)return l.flags&256?(l.flags&=-257,m=Fv(Error(n(422))),Rp(o,l,C,m)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(w=m.fallback,v=l.mode,m=zp({mode:"visible",children:m.children},v,0,null),w=Fa(w,v,C,null),w.flags|=2,m.return=l,w.return=l,m.sibling=w,l.child=m,(l.mode&1)!==0&&_c(l,o.child,null,C),l.child.memoizedState=zv(C),l.memoizedState=$v,w);if((l.mode&1)===0)return Rp(o,l,C,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var U=m.dgst;return m=U,w=Error(n(419)),m=Fv(w,m,void 0),Rp(o,l,C,m)}if(U=(C&o.childLanes)!==0,Wn||U){if(m=tn,m!==null){switch(C&-C){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(m.suspendedLanes|C))!==0?0:v,v!==0&&v!==w.retryLane&&(w.retryLane=v,mi(o,v),Gr(m,o,v,-1))}return ow(),m=Fv(Error(n(421))),Rp(o,l,C,m)}return v.data==="$?"?(l.flags|=128,l.child=o.child,l=oF.bind(null,o),v._reactRetry=l,null):(o=w.treeContext,cr=lo(v.nextSibling),lr=l,_t=!0,zr=null,o!==null&&(_r[Er++]=fi,_r[Er++]=pi,_r[Er++]=Ca,fi=o.id,pi=o.overflow,Ca=l),l=Wv(l,m.children),l.flags|=4096,l)}function nb(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),Ev(o.return,l,d)}function qv(o,l,d,m,v){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:v}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=d,w.tailMode=v)}function rb(o,l,d){var m=l.pendingProps,v=m.revealOrder,w=m.tail;if(Pn(o,l,m.children,d),m=It.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&nb(o,d,l);else if(o.tag===19)nb(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(ft(It,m),(l.mode&1)===0)l.memoizedState=null;else switch(v){case"forwards":for(d=l.child,v=null;d!==null;)o=d.alternate,o!==null&&Tp(o)===null&&(v=d),d=d.sibling;d=v,d===null?(v=l.child,l.child=null):(v=d.sibling,d.sibling=null),qv(l,!1,v,d,w);break;case"backwards":for(d=null,v=l.child,l.child=null;v!==null;){if(o=v.alternate,o!==null&&Tp(o)===null){l.child=v;break}o=v.sibling,v.sibling=d,d=v,v=o}qv(l,!0,d,null,w);break;case"together":qv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function kp(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function yi(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Ma|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,d=_o(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=_o(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function KL(o,l,d){switch(l.tag){case 3:ZI(l),wc();break;case 5:yI(l);break;case 1:zn(l.type)&&fp(l);break;case 4:Iv(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,v=l.memoizedProps.value;ft(wp,m._currentValue),m._currentValue=v;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(ft(It,It.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?tb(o,l,d):(ft(It,It.current&1),o=yi(o,l,d),o!==null?o.sibling:null);ft(It,It.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(o.flags&128)!==0){if(m)return rb(o,l,d);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ft(It,It.current),m)break;return null;case 22:case 23:return l.lanes=0,YI(o,l,d)}return yi(o,l,d)}var sb,Hv,ib,ob;sb=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Hv=function(){},ib=function(o,l,d,m){var v=o.memoizedProps;if(v!==m){o=l.stateNode,Da(Ts.current);var w=null;switch(d){case"input":v=Zs(o,v),m=Zs(o,m),w=[];break;case"select":v=ie({},v,{value:void 0}),m=ie({},m,{value:void 0}),w=[];break;case"textarea":v=Ku(o,v),m=Ku(o,m),w=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=up)}jr(d,m);var C;d=null;for(Z in v)if(!m.hasOwnProperty(Z)&&v.hasOwnProperty(Z)&&v[Z]!=null)if(Z==="style"){var U=v[Z];for(C in U)U.hasOwnProperty(C)&&(d||(d={}),d[C]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in m){var $=m[Z];if(U=v!=null?v[Z]:void 0,m.hasOwnProperty(Z)&&$!==U&&($!=null||U!=null))if(Z==="style")if(U){for(C in U)!U.hasOwnProperty(C)||$&&$.hasOwnProperty(C)||(d||(d={}),d[C]="");for(C in $)$.hasOwnProperty(C)&&U[C]!==$[C]&&(d||(d={}),d[C]=$[C])}else d||(w||(w=[]),w.push(Z,d)),d=$;else Z==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,U=U?U.__html:void 0,$!=null&&U!==$&&(w=w||[]).push(Z,$)):Z==="children"?typeof $!="string"&&typeof $!="number"||(w=w||[]).push(Z,""+$):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?($!=null&&Z==="onScroll"&&gt("scroll",o),w||U===$||(w=[])):(w=w||[]).push(Z,$))}d&&(w=w||[]).push("style",d);var Z=w;(l.updateQueue=Z)&&(l.flags|=4)}},ob=function(o,l,d,m){d!==m&&(l.flags|=4)};function Md(o,l){if(!_t)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function _n(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var v=o.child;v!==null;)d|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)d|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function QL(o,l,d){var m=l.pendingProps;switch(pv(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(l),null;case 1:return zn(l.type)&&hp(),_n(l),null;case 3:return m=l.stateNode,Tc(),yt($n),yt(vn),Av(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(yp(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,zr!==null&&(rw(zr),zr=null))),Hv(o,l),_n(l),null;case 5:bv(l);var v=Da(Cd.current);if(d=l.type,o!==null&&l.stateNode!=null)ib(o,l,d,m,v),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(n(166));return _n(l),null}if(o=Da(Ts.current),yp(l)){m=l.stateNode,d=l.type;var w=l.memoizedProps;switch(m[xs]=l,m[Id]=w,o=(l.mode&1)!==0,d){case"dialog":gt("cancel",m),gt("close",m);break;case"iframe":case"object":case"embed":gt("load",m);break;case"video":case"audio":for(v=0;v<Ed.length;v++)gt(Ed[v],m);break;case"source":gt("error",m);break;case"img":case"image":case"link":gt("error",m),gt("load",m);break;case"details":gt("toggle",m);break;case"input":zl(m,w),gt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!w.multiple},gt("invalid",m);break;case"textarea":Qu(m,w),gt("invalid",m)}jr(d,w),v=null;for(var C in w)if(w.hasOwnProperty(C)){var U=w[C];C==="children"?typeof U=="string"?m.textContent!==U&&(w.suppressHydrationWarning!==!0&&cp(m.textContent,U,o),v=["children",U]):typeof U=="number"&&m.textContent!==""+U&&(w.suppressHydrationWarning!==!0&&cp(m.textContent,U,o),v=["children",""+U]):s.hasOwnProperty(C)&&U!=null&&C==="onScroll"&&gt("scroll",m)}switch(d){case"input":er(m),ha(m,w,!0);break;case"textarea":er(m),Hi(m);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(m.onclick=up)}m=v,l.updateQueue=m,m!==null&&(l.flags|=4)}else{C=v.nodeType===9?v:v.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Yu(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=C.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=C.createElement(d,{is:m.is}):(o=C.createElement(d),d==="select"&&(C=o,m.multiple?C.multiple=!0:m.size&&(C.size=m.size))):o=C.createElementNS(o,d),o[xs]=l,o[Id]=m,sb(o,l,!1,!1),l.stateNode=o;e:{switch(C=Hl(d,m),d){case"dialog":gt("cancel",o),gt("close",o),v=m;break;case"iframe":case"object":case"embed":gt("load",o),v=m;break;case"video":case"audio":for(v=0;v<Ed.length;v++)gt(Ed[v],o);v=m;break;case"source":gt("error",o),v=m;break;case"img":case"image":case"link":gt("error",o),gt("load",o),v=m;break;case"details":gt("toggle",o),v=m;break;case"input":zl(o,m),v=Zs(o,m),gt("invalid",o);break;case"option":v=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},v=ie({},m,{value:void 0}),gt("invalid",o);break;case"textarea":Qu(o,m),v=Ku(o,m),gt("invalid",o);break;default:v=m}jr(d,v),U=v;for(w in U)if(U.hasOwnProperty(w)){var $=U[w];w==="style"?ql(o,$):w==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Lf(o,$)):w==="children"?typeof $=="string"?(d!=="textarea"||$!=="")&&fa(o,$):typeof $=="number"&&fa(o,""+$):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?$!=null&&w==="onScroll"&&gt("scroll",o):$!=null&&N(o,w,$,C))}switch(d){case"input":er(o),ha(o,m,!1);break;case"textarea":er(o),Hi(o);break;case"option":m.value!=null&&o.setAttribute("value",""+ze(m.value));break;case"select":o.multiple=!!m.multiple,w=m.value,w!=null?Fr(o,!!m.multiple,w,!1):m.defaultValue!=null&&Fr(o,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(o.onclick=up)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return _n(l),null;case 6:if(o&&l.stateNode!=null)ob(o,l,o.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(d=Da(Cd.current),Da(Ts.current),yp(l)){if(m=l.stateNode,d=l.memoizedProps,m[xs]=l,(w=m.nodeValue!==d)&&(o=lr,o!==null))switch(o.tag){case 3:cp(m.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&cp(m.nodeValue,d,(o.mode&1)!==0)}w&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[xs]=l,l.stateNode=m}return _n(l),null;case 13:if(yt(It),m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(_t&&cr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)cI(),wc(),l.flags|=98560,w=!1;else if(w=yp(l),m!==null&&m.dehydrated!==null){if(o===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[xs]=l}else wc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;_n(l),w=!1}else zr!==null&&(rw(zr),zr=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(It.current&1)!==0?Yt===0&&(Yt=3):ow())),l.updateQueue!==null&&(l.flags|=4),_n(l),null);case 4:return Tc(),Hv(o,l),o===null&&xd(l.stateNode.containerInfo),_n(l),null;case 10:return _v(l.type._context),_n(l),null;case 17:return zn(l.type)&&hp(),_n(l),null;case 19:if(yt(It),w=l.memoizedState,w===null)return _n(l),null;if(m=(l.flags&128)!==0,C=w.rendering,C===null)if(m)Md(w,!1);else{if(Yt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(C=Tp(o),C!==null){for(l.flags|=128,Md(w,!1),m=C.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)w=d,o=m,w.flags&=14680066,C=w.alternate,C===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=C.childLanes,w.lanes=C.lanes,w.child=C.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=C.memoizedProps,w.memoizedState=C.memoizedState,w.updateQueue=C.updateQueue,w.type=C.type,o=C.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return ft(It,It.current&1|2),l.child}o=o.sibling}w.tail!==null&&mt()>Ac&&(l.flags|=128,m=!0,Md(w,!1),l.lanes=4194304)}else{if(!m)if(o=Tp(C),o!==null){if(l.flags|=128,m=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Md(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!_t)return _n(l),null}else 2*mt()-w.renderingStartTime>Ac&&d!==1073741824&&(l.flags|=128,m=!0,Md(w,!1),l.lanes=4194304);w.isBackwards?(C.sibling=l.child,l.child=C):(d=w.last,d!==null?d.sibling=C:l.child=C,w.last=C)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=mt(),l.sibling=null,d=It.current,ft(It,m?d&1|2:d&1),l):(_n(l),null);case 22:case 23:return iw(),m=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(ur&1073741824)!==0&&(_n(l),l.subtreeFlags&6&&(l.flags|=8192)):_n(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function YL(o,l){switch(pv(l),l.tag){case 1:return zn(l.type)&&hp(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Tc(),yt($n),yt(vn),Av(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return bv(l),null;case 13:if(yt(It),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));wc()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return yt(It),null;case 4:return Tc(),null;case 10:return _v(l.type._context),null;case 22:case 23:return iw(),null;case 24:return null;default:return null}}var Dp=!1,En=!1,XL=typeof WeakSet=="function"?WeakSet:Set,ge=null;function bc(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){kt(o,l,m)}else d.current=null}function Gv(o,l,d){try{d()}catch(m){kt(o,l,m)}}var ab=!1;function JL(o,l){if(iv=li,o=jT(),Xy(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var v=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var C=0,U=-1,$=-1,Z=0,oe=0,ae=o,se=null;t:for(;;){for(var pe;ae!==d||v!==0&&ae.nodeType!==3||(U=C+v),ae!==w||m!==0&&ae.nodeType!==3||($=C+m),ae.nodeType===3&&(C+=ae.nodeValue.length),(pe=ae.firstChild)!==null;)se=ae,ae=pe;for(;;){if(ae===o)break t;if(se===d&&++Z===v&&(U=C),se===w&&++oe===m&&($=C),(pe=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=pe}d=U===-1||$===-1?null:{start:U,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(ov={focusedElem:o,selectionRange:d},li=!1,ge=l;ge!==null;)if(l=ge,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,ge=o;else for(;ge!==null;){l=ge;try{var ve=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var Ie=ve.memoizedProps,Ft=ve.memoizedState,Y=l.stateNode,H=Y.getSnapshotBeforeUpdate(l.elementType===l.type?Ie:Wr(l.type,Ie),Ft);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ce){kt(l,l.return,ce)}if(o=l.sibling,o!==null){o.return=l.return,ge=o;break}ge=l.return}return ve=ab,ab=!1,ve}function Od(o,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&o)===o){var w=v.destroy;v.destroy=void 0,w!==void 0&&Gv(l,d,w)}v=v.next}while(v!==m)}}function Np(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function Kv(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function lb(o){var l=o.alternate;l!==null&&(o.alternate=null,lb(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[xs],delete l[Id],delete l[uv],delete l[ML],delete l[OL])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function cb(o){return o.tag===5||o.tag===3||o.tag===4}function ub(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||cb(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Qv(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=up));else if(m!==4&&(o=o.child,o!==null))for(Qv(o,l,d),o=o.sibling;o!==null;)Qv(o,l,d),o=o.sibling}function Yv(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(Yv(o,l,d),o=o.sibling;o!==null;)Yv(o,l,d),o=o.sibling}var cn=null,qr=!1;function mo(o,l,d){for(d=d.child;d!==null;)db(o,l,d),d=d.sibling}function db(o,l,d){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(va,d)}catch{}switch(d.tag){case 5:En||bc(d,l);case 6:var m=cn,v=qr;cn=null,mo(o,l,d),cn=m,qr=v,cn!==null&&(qr?(o=cn,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):cn.removeChild(d.stateNode));break;case 18:cn!==null&&(qr?(o=cn,d=d.stateNode,o.nodeType===8?cv(o.parentNode,d):o.nodeType===1&&cv(o,d),so(o)):cv(cn,d.stateNode));break;case 4:m=cn,v=qr,cn=d.stateNode.containerInfo,qr=!0,mo(o,l,d),cn=m,qr=v;break;case 0:case 11:case 14:case 15:if(!En&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var w=v,C=w.destroy;w=w.tag,C!==void 0&&((w&2)!==0||(w&4)!==0)&&Gv(d,l,C),v=v.next}while(v!==m)}mo(o,l,d);break;case 1:if(!En&&(bc(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(U){kt(d,l,U)}mo(o,l,d);break;case 21:mo(o,l,d);break;case 22:d.mode&1?(En=(m=En)||d.memoizedState!==null,mo(o,l,d),En=m):mo(o,l,d);break;default:mo(o,l,d)}}function hb(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new XL),l.forEach(function(m){var v=aF.bind(null,o,m);d.has(m)||(d.add(m),m.then(v,v))})}}function Hr(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];try{var w=o,C=l,U=C;e:for(;U!==null;){switch(U.tag){case 5:cn=U.stateNode,qr=!1;break e;case 3:cn=U.stateNode.containerInfo,qr=!0;break e;case 4:cn=U.stateNode.containerInfo,qr=!0;break e}U=U.return}if(cn===null)throw Error(n(160));db(w,C,v),cn=null,qr=!1;var $=v.alternate;$!==null&&($.return=null),v.return=null}catch(Z){kt(v,l,Z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)fb(l,o),l=l.sibling}function fb(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Hr(l,o),bs(o),m&4){try{Od(3,o,o.return),Np(3,o)}catch(Ie){kt(o,o.return,Ie)}try{Od(5,o,o.return)}catch(Ie){kt(o,o.return,Ie)}}break;case 1:Hr(l,o),bs(o),m&512&&d!==null&&bc(d,d.return);break;case 5:if(Hr(l,o),bs(o),m&512&&d!==null&&bc(d,d.return),o.flags&32){var v=o.stateNode;try{fa(v,"")}catch(Ie){kt(o,o.return,Ie)}}if(m&4&&(v=o.stateNode,v!=null)){var w=o.memoizedProps,C=d!==null?d.memoizedProps:w,U=o.type,$=o.updateQueue;if(o.updateQueue=null,$!==null)try{U==="input"&&w.type==="radio"&&w.name!=null&&qi(v,w),Hl(U,C);var Z=Hl(U,w);for(C=0;C<$.length;C+=2){var oe=$[C],ae=$[C+1];oe==="style"?ql(v,ae):oe==="dangerouslySetInnerHTML"?Lf(v,ae):oe==="children"?fa(v,ae):N(v,oe,ae,Z)}switch(U){case"input":ei(v,w);break;case"textarea":Vf(v,w);break;case"select":var se=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!w.multiple;var pe=w.value;pe!=null?Fr(v,!!w.multiple,pe,!1):se!==!!w.multiple&&(w.defaultValue!=null?Fr(v,!!w.multiple,w.defaultValue,!0):Fr(v,!!w.multiple,w.multiple?[]:"",!1))}v[Id]=w}catch(Ie){kt(o,o.return,Ie)}}break;case 6:if(Hr(l,o),bs(o),m&4){if(o.stateNode===null)throw Error(n(162));v=o.stateNode,w=o.memoizedProps;try{v.nodeValue=w}catch(Ie){kt(o,o.return,Ie)}}break;case 3:if(Hr(l,o),bs(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{so(l.containerInfo)}catch(Ie){kt(o,o.return,Ie)}break;case 4:Hr(l,o),bs(o);break;case 13:Hr(l,o),bs(o),v=o.child,v.flags&8192&&(w=v.memoizedState!==null,v.stateNode.isHidden=w,!w||v.alternate!==null&&v.alternate.memoizedState!==null||(Zv=mt())),m&4&&hb(o);break;case 22:if(oe=d!==null&&d.memoizedState!==null,o.mode&1?(En=(Z=En)||oe,Hr(l,o),En=Z):Hr(l,o),bs(o),m&8192){if(Z=o.memoizedState!==null,(o.stateNode.isHidden=Z)&&!oe&&(o.mode&1)!==0)for(ge=o,oe=o.child;oe!==null;){for(ae=ge=oe;ge!==null;){switch(se=ge,pe=se.child,se.tag){case 0:case 11:case 14:case 15:Od(4,se,se.return);break;case 1:bc(se,se.return);var ve=se.stateNode;if(typeof ve.componentWillUnmount=="function"){m=se,d=se.return;try{l=m,ve.props=l.memoizedProps,ve.state=l.memoizedState,ve.componentWillUnmount()}catch(Ie){kt(m,d,Ie)}}break;case 5:bc(se,se.return);break;case 22:if(se.memoizedState!==null){gb(ae);continue}}pe!==null?(pe.return=se,ge=pe):gb(ae)}oe=oe.sibling}e:for(oe=null,ae=o;;){if(ae.tag===5){if(oe===null){oe=ae;try{v=ae.stateNode,Z?(w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(U=ae.stateNode,$=ae.memoizedProps.style,C=$!=null&&$.hasOwnProperty("display")?$.display:null,U.style.display=Qi("display",C))}catch(Ie){kt(o,o.return,Ie)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=Z?"":ae.memoizedProps}catch(Ie){kt(o,o.return,Ie)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===o)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===o)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===o)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Hr(l,o),bs(o),m&4&&hb(o);break;case 21:break;default:Hr(l,o),bs(o)}}function bs(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(cb(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(fa(v,""),m.flags&=-33);var w=ub(o);Yv(o,w,v);break;case 3:case 4:var C=m.stateNode.containerInfo,U=ub(o);Qv(o,U,C);break;default:throw Error(n(161))}}catch($){kt(o,o.return,$)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function ZL(o,l,d){ge=o,pb(o)}function pb(o,l,d){for(var m=(o.mode&1)!==0;ge!==null;){var v=ge,w=v.child;if(v.tag===22&&m){var C=v.memoizedState!==null||Dp;if(!C){var U=v.alternate,$=U!==null&&U.memoizedState!==null||En;U=Dp;var Z=En;if(Dp=C,(En=$)&&!Z)for(ge=v;ge!==null;)C=ge,$=C.child,C.tag===22&&C.memoizedState!==null?yb(v):$!==null?($.return=C,ge=$):yb(v);for(;w!==null;)ge=w,pb(w),w=w.sibling;ge=v,Dp=U,En=Z}mb(o)}else(v.subtreeFlags&8772)!==0&&w!==null?(w.return=v,ge=w):mb(o)}}function mb(o){for(;ge!==null;){var l=ge;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:En||Np(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!En)if(d===null)m.componentDidMount();else{var v=l.elementType===l.type?d.memoizedProps:Wr(l.type,d.memoizedProps);m.componentDidUpdate(v,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&gI(l,w,m);break;case 3:var C=l.updateQueue;if(C!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}gI(l,C,d)}break;case 5:var U=l.stateNode;if(d===null&&l.flags&4){d=U;var $=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&d.focus();break;case"img":$.src&&(d.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Z=l.alternate;if(Z!==null){var oe=Z.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&so(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}En||l.flags&512&&Kv(l)}catch(se){kt(l,l.return,se)}}if(l===o){ge=null;break}if(d=l.sibling,d!==null){d.return=l.return,ge=d;break}ge=l.return}}function gb(o){for(;ge!==null;){var l=ge;if(l===o){ge=null;break}var d=l.sibling;if(d!==null){d.return=l.return,ge=d;break}ge=l.return}}function yb(o){for(;ge!==null;){var l=ge;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Np(4,l)}catch($){kt(l,d,$)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var v=l.return;try{m.componentDidMount()}catch($){kt(l,v,$)}}var w=l.return;try{Kv(l)}catch($){kt(l,w,$)}break;case 5:var C=l.return;try{Kv(l)}catch($){kt(l,C,$)}}}catch($){kt(l,l.return,$)}if(l===o){ge=null;break}var U=l.sibling;if(U!==null){U.return=l.return,ge=U;break}ge=l.return}}var eF=Math.ceil,Mp=F.ReactCurrentDispatcher,Xv=F.ReactCurrentOwner,Ir=F.ReactCurrentBatchConfig,tt=0,tn=null,Wt=null,un=0,ur=0,Sc=co(0),Yt=0,Vd=null,Ma=0,Op=0,Jv=0,Ld=null,qn=null,Zv=0,Ac=1/0,vi=null,Vp=!1,ew=null,go=null,Lp=!1,yo=null,Fp=0,Fd=0,tw=null,jp=-1,Up=0;function Cn(){return(tt&6)!==0?mt():jp!==-1?jp:jp=mt()}function vo(o){return(o.mode&1)===0?1:(tt&2)!==0&&un!==0?un&-un:LL.transition!==null?(Up===0&&(Up=id()),Up):(o=Ye,o!==0||(o=window.event,o=o===void 0?16:nc(o.type)),o)}function Gr(o,l,d,m){if(50<Fd)throw Fd=0,tw=null,Error(n(185));xa(o,d,m),((tt&2)===0||o!==tn)&&(o===tn&&((tt&2)===0&&(Op|=d),Yt===4&&wo(o,un)),Hn(o,m),d===1&&tt===0&&(l.mode&1)===0&&(Ac=mt()+500,pp&&ho()))}function Hn(o,l){var d=o.callbackNode;Ea(o,l);var m=ii(o,o===tn?un:0);if(m===0)d!==null&&Ql(d),o.callbackNode=null,o.callbackPriority=0;else if(l=m&-m,o.callbackPriority!==l){if(d!=null&&Ql(d),l===1)o.tag===0?VL(wb.bind(null,o)):sI(wb.bind(null,o)),DL(function(){(tt&6)===0&&ho()}),d=null;else{switch(hs(m)){case 1:d=Yl;break;case 4:d=nd;break;case 16:d=ya;break;case 536870912:d=Xl;break;default:d=ya}d=Ab(d,vb.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function vb(o,l){if(jp=-1,Up=0,(tt&6)!==0)throw Error(n(327));var d=o.callbackNode;if(Pc()&&o.callbackNode!==d)return null;var m=ii(o,o===tn?un:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||l)l=Bp(o,m);else{l=m;var v=tt;tt|=2;var w=Eb();(tn!==o||un!==l)&&(vi=null,Ac=mt()+500,Va(o,l));do try{rF();break}catch(U){_b(o,U)}while(!0);wv(),Mp.current=w,tt=v,Wt!==null?l=0:(tn=null,un=0,l=Yt)}if(l!==0){if(l===2&&(v=sd(o),v!==0&&(m=v,l=nw(o,v))),l===1)throw d=Vd,Va(o,0),wo(o,m),Hn(o,mt()),d;if(l===6)wo(o,m);else{if(v=o.current.alternate,(m&30)===0&&!tF(v)&&(l=Bp(o,m),l===2&&(w=sd(o),w!==0&&(m=w,l=nw(o,w))),l===1))throw d=Vd,Va(o,0),wo(o,m),Hn(o,mt()),d;switch(o.finishedWork=v,o.finishedLanes=m,l){case 0:case 1:throw Error(n(345));case 2:La(o,qn,vi);break;case 3:if(wo(o,m),(m&130023424)===m&&(l=Zv+500-mt(),10<l)){if(ii(o,0)!==0)break;if(v=o.suspendedLanes,(v&m)!==m){Cn(),o.pingedLanes|=o.suspendedLanes&v;break}o.timeoutHandle=lv(La.bind(null,o,qn,vi),l);break}La(o,qn,vi);break;case 4:if(wo(o,m),(m&4194240)===m)break;for(l=o.eventTimes,v=-1;0<m;){var C=31-rr(m);w=1<<C,C=l[C],C>v&&(v=C),m&=~w}if(m=v,m=mt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*eF(m/1960))-m,10<m){o.timeoutHandle=lv(La.bind(null,o,qn,vi),m);break}La(o,qn,vi);break;case 5:La(o,qn,vi);break;default:throw Error(n(329))}}}return Hn(o,mt()),o.callbackNode===d?vb.bind(null,o):null}function nw(o,l){var d=Ld;return o.current.memoizedState.isDehydrated&&(Va(o,l).flags|=256),o=Bp(o,l),o!==2&&(l=qn,qn=d,l!==null&&rw(l)),o}function rw(o){qn===null?qn=o:qn.push.apply(qn,o)}function tF(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var v=d[m],w=v.getSnapshot;v=v.value;try{if(!$r(w(),v))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function wo(o,l){for(l&=~Jv,l&=~Op,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-rr(l),m=1<<d;o[d]=-1,l&=~m}}function wb(o){if((tt&6)!==0)throw Error(n(327));Pc();var l=ii(o,0);if((l&1)===0)return Hn(o,mt()),null;var d=Bp(o,l);if(o.tag!==0&&d===2){var m=sd(o);m!==0&&(l=m,d=nw(o,m))}if(d===1)throw d=Vd,Va(o,0),wo(o,l),Hn(o,mt()),d;if(d===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,La(o,qn,vi),Hn(o,mt()),null}function sw(o,l){var d=tt;tt|=1;try{return o(l)}finally{tt=d,tt===0&&(Ac=mt()+500,pp&&ho())}}function Oa(o){yo!==null&&yo.tag===0&&(tt&6)===0&&Pc();var l=tt;tt|=1;var d=Ir.transition,m=Ye;try{if(Ir.transition=null,Ye=1,o)return o()}finally{Ye=m,Ir.transition=d,tt=l,(tt&6)===0&&ho()}}function iw(){ur=Sc.current,yt(Sc)}function Va(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,kL(d)),Wt!==null)for(d=Wt.return;d!==null;){var m=d;switch(pv(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&hp();break;case 3:Tc(),yt($n),yt(vn),Av();break;case 5:bv(m);break;case 4:Tc();break;case 13:yt(It);break;case 19:yt(It);break;case 10:_v(m.type._context);break;case 22:case 23:iw()}d=d.return}if(tn=o,Wt=o=_o(o.current,null),un=ur=l,Yt=0,Vd=null,Jv=Op=Ma=0,qn=Ld=null,ka!==null){for(l=0;l<ka.length;l++)if(d=ka[l],m=d.interleaved,m!==null){d.interleaved=null;var v=m.next,w=d.pending;if(w!==null){var C=w.next;w.next=v,m.next=C}d.pending=m}ka=null}return o}function _b(o,l){do{var d=Wt;try{if(wv(),Ip.current=Pp,bp){for(var m=bt.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}bp=!1}if(Na=0,en=Qt=bt=null,Rd=!1,kd=0,Xv.current=null,d===null||d.return===null){Yt=1,Vd=l,Wt=null;break}e:{var w=o,C=d.return,U=d,$=l;if(l=un,U.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var Z=$,oe=U,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var pe=qI(C);if(pe!==null){pe.flags&=-257,HI(pe,C,U,w,l),pe.mode&1&&WI(w,Z,l),l=pe,$=Z;var ve=l.updateQueue;if(ve===null){var Ie=new Set;Ie.add($),l.updateQueue=Ie}else ve.add($);break e}else{if((l&1)===0){WI(w,Z,l),ow();break e}$=Error(n(426))}}else if(_t&&U.mode&1){var Ft=qI(C);if(Ft!==null){(Ft.flags&65536)===0&&(Ft.flags|=256),HI(Ft,C,U,w,l),yv(Ic($,U));break e}}w=$=Ic($,U),Yt!==4&&(Yt=2),Ld===null?Ld=[w]:Ld.push(w),w=C;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var Y=$I(w,$,l);mI(w,Y);break e;case 1:U=$;var H=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(go===null||!go.has(J)))){w.flags|=65536,l&=-l,w.lanes|=l;var ce=zI(w,U,l);mI(w,ce);break e}}w=w.return}while(w!==null)}Tb(d)}catch(be){l=be,Wt===d&&d!==null&&(Wt=d=d.return);continue}break}while(!0)}function Eb(){var o=Mp.current;return Mp.current=Pp,o===null?Pp:o}function ow(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),tn===null||(Ma&268435455)===0&&(Op&268435455)===0||wo(tn,un)}function Bp(o,l){var d=tt;tt|=2;var m=Eb();(tn!==o||un!==l)&&(vi=null,Va(o,l));do try{nF();break}catch(v){_b(o,v)}while(!0);if(wv(),tt=d,Mp.current=m,Wt!==null)throw Error(n(261));return tn=null,un=0,Yt}function nF(){for(;Wt!==null;)xb(Wt)}function rF(){for(;Wt!==null&&!ga();)xb(Wt)}function xb(o){var l=Sb(o.alternate,o,ur);o.memoizedProps=o.pendingProps,l===null?Tb(o):Wt=l,Xv.current=null}function Tb(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=QL(d,l,ur),d!==null){Wt=d;return}}else{if(d=YL(d,l),d!==null){d.flags&=32767,Wt=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Yt=6,Wt=null;return}}if(l=l.sibling,l!==null){Wt=l;return}Wt=l=o}while(l!==null);Yt===0&&(Yt=5)}function La(o,l,d){var m=Ye,v=Ir.transition;try{Ir.transition=null,Ye=1,sF(o,l,d,m)}finally{Ir.transition=v,Ye=m}return null}function sF(o,l,d,m){do Pc();while(yo!==null);if((tt&6)!==0)throw Error(n(327));d=o.finishedWork;var v=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var w=d.lanes|d.childLanes;if(Hy(o,w),o===tn&&(Wt=tn=null,un=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Lp||(Lp=!0,Ab(ya,function(){return Pc(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=Ir.transition,Ir.transition=null;var C=Ye;Ye=1;var U=tt;tt|=4,Xv.current=null,JL(o,d),fb(d,o),IL(ov),li=!!iv,ov=iv=null,o.current=d,ZL(d),si(),tt=U,Ye=C,Ir.transition=w}else o.current=d;if(Lp&&(Lp=!1,yo=o,Fp=v),w=o.pendingLanes,w===0&&(go=null),Kf(d.stateNode),Hn(o,mt()),l!==null)for(m=o.onRecoverableError,d=0;d<l.length;d++)v=l[d],m(v.value,{componentStack:v.stack,digest:v.digest});if(Vp)throw Vp=!1,o=ew,ew=null,o;return(Fp&1)!==0&&o.tag!==0&&Pc(),w=o.pendingLanes,(w&1)!==0?o===tw?Fd++:(Fd=0,tw=o):Fd=0,ho(),null}function Pc(){if(yo!==null){var o=hs(Fp),l=Ir.transition,d=Ye;try{if(Ir.transition=null,Ye=16>o?16:o,yo===null)var m=!1;else{if(o=yo,yo=null,Fp=0,(tt&6)!==0)throw Error(n(331));var v=tt;for(tt|=4,ge=o.current;ge!==null;){var w=ge,C=w.child;if((ge.flags&16)!==0){var U=w.deletions;if(U!==null){for(var $=0;$<U.length;$++){var Z=U[$];for(ge=Z;ge!==null;){var oe=ge;switch(oe.tag){case 0:case 11:case 15:Od(8,oe,w)}var ae=oe.child;if(ae!==null)ae.return=oe,ge=ae;else for(;ge!==null;){oe=ge;var se=oe.sibling,pe=oe.return;if(lb(oe),oe===Z){ge=null;break}if(se!==null){se.return=pe,ge=se;break}ge=pe}}}var ve=w.alternate;if(ve!==null){var Ie=ve.child;if(Ie!==null){ve.child=null;do{var Ft=Ie.sibling;Ie.sibling=null,Ie=Ft}while(Ie!==null)}}ge=w}}if((w.subtreeFlags&2064)!==0&&C!==null)C.return=w,ge=C;else e:for(;ge!==null;){if(w=ge,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Od(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,ge=Y;break e}ge=w.return}}var H=o.current;for(ge=H;ge!==null;){C=ge;var J=C.child;if((C.subtreeFlags&2064)!==0&&J!==null)J.return=C,ge=J;else e:for(C=H;ge!==null;){if(U=ge,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Np(9,U)}}catch(be){kt(U,U.return,be)}if(U===C){ge=null;break e}var ce=U.sibling;if(ce!==null){ce.return=U.return,ge=ce;break e}ge=U.return}}if(tt=v,ho(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(va,o)}catch{}m=!0}return m}finally{Ye=d,Ir.transition=l}}return!1}function Ib(o,l,d){l=Ic(d,l),l=$I(o,l,1),o=po(o,l,1),l=Cn(),o!==null&&(xa(o,1,l),Hn(o,l))}function kt(o,l,d){if(o.tag===3)Ib(o,o,d);else for(;l!==null;){if(l.tag===3){Ib(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(go===null||!go.has(m))){o=Ic(d,o),o=zI(l,o,1),l=po(l,o,1),o=Cn(),l!==null&&(xa(l,1,o),Hn(l,o));break}}l=l.return}}function iF(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),l=Cn(),o.pingedLanes|=o.suspendedLanes&d,tn===o&&(un&d)===d&&(Yt===4||Yt===3&&(un&130023424)===un&&500>mt()-Zv?Va(o,0):Jv|=d),Hn(o,l)}function bb(o,l){l===0&&((o.mode&1)===0?l=1:(l=to,to<<=1,(to&130023424)===0&&(to=4194304)));var d=Cn();o=mi(o,l),o!==null&&(xa(o,l,d),Hn(o,d))}function oF(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),bb(o,d)}function aF(o,l){var d=0;switch(o.tag){case 13:var m=o.stateNode,v=o.memoizedState;v!==null&&(d=v.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(l),bb(o,d)}var Sb;Sb=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||$n.current)Wn=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return Wn=!1,KL(o,l,d);Wn=(o.flags&131072)!==0}else Wn=!1,_t&&(l.flags&1048576)!==0&&iI(l,gp,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;kp(o,l),o=l.pendingProps;var v=gc(l,vn.current);xc(l,d),v=Rv(null,l,m,o,v,d);var w=kv();return l.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,zn(m)?(w=!0,fp(l)):w=!1,l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Tv(l),v.updater=Cp,l.stateNode=v,v._reactInternals=l,Lv(l,m,o,d),l=Bv(null,l,m,!0,w,d)):(l.tag=0,_t&&w&&fv(l),Pn(null,l,v,d),l=l.child),l;case 16:m=l.elementType;e:{switch(kp(o,l),o=l.pendingProps,v=m._init,m=v(m._payload),l.type=m,v=l.tag=cF(m),o=Wr(m,o),v){case 0:l=Uv(null,l,m,o,d);break e;case 1:l=JI(null,l,m,o,d);break e;case 11:l=GI(null,l,m,o,d);break e;case 14:l=KI(null,l,m,Wr(m.type,o),d);break e}throw Error(n(306,m,""))}return l;case 0:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:Wr(m,v),Uv(o,l,m,v,d);case 1:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:Wr(m,v),JI(o,l,m,v,d);case 3:e:{if(ZI(l),o===null)throw Error(n(387));m=l.pendingProps,w=l.memoizedState,v=w.element,pI(o,l),xp(l,m,null,d);var C=l.memoizedState;if(m=C.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){v=Ic(Error(n(423)),l),l=eb(o,l,m,d,v);break e}else if(m!==v){v=Ic(Error(n(424)),l),l=eb(o,l,m,d,v);break e}else for(cr=lo(l.stateNode.containerInfo.firstChild),lr=l,_t=!0,zr=null,d=hI(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(wc(),m===v){l=yi(o,l,d);break e}Pn(o,l,m,d)}l=l.child}return l;case 5:return yI(l),o===null&&gv(l),m=l.type,v=l.pendingProps,w=o!==null?o.memoizedProps:null,C=v.children,av(m,v)?C=null:w!==null&&av(m,w)&&(l.flags|=32),XI(o,l),Pn(o,l,C,d),l.child;case 6:return o===null&&gv(l),null;case 13:return tb(o,l,d);case 4:return Iv(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=_c(l,null,m,d):Pn(o,l,m,d),l.child;case 11:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:Wr(m,v),GI(o,l,m,v,d);case 7:return Pn(o,l,l.pendingProps,d),l.child;case 8:return Pn(o,l,l.pendingProps.children,d),l.child;case 12:return Pn(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,v=l.pendingProps,w=l.memoizedProps,C=v.value,ft(wp,m._currentValue),m._currentValue=C,w!==null)if($r(w.value,C)){if(w.children===v.children&&!$n.current){l=yi(o,l,d);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var U=w.dependencies;if(U!==null){C=w.child;for(var $=U.firstContext;$!==null;){if($.context===m){if(w.tag===1){$=gi(-1,d&-d),$.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var oe=Z.pending;oe===null?$.next=$:($.next=oe.next,oe.next=$),Z.pending=$}}w.lanes|=d,$=w.alternate,$!==null&&($.lanes|=d),Ev(w.return,d,l),U.lanes|=d;break}$=$.next}}else if(w.tag===10)C=w.type===l.type?null:w.child;else if(w.tag===18){if(C=w.return,C===null)throw Error(n(341));C.lanes|=d,U=C.alternate,U!==null&&(U.lanes|=d),Ev(C,d,l),C=w.sibling}else C=w.child;if(C!==null)C.return=w;else for(C=w;C!==null;){if(C===l){C=null;break}if(w=C.sibling,w!==null){w.return=C.return,C=w;break}C=C.return}w=C}Pn(o,l,v.children,d),l=l.child}return l;case 9:return v=l.type,m=l.pendingProps.children,xc(l,d),v=xr(v),m=m(v),l.flags|=1,Pn(o,l,m,d),l.child;case 14:return m=l.type,v=Wr(m,l.pendingProps),v=Wr(m.type,v),KI(o,l,m,v,d);case 15:return QI(o,l,l.type,l.pendingProps,d);case 17:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:Wr(m,v),kp(o,l),l.tag=1,zn(m)?(o=!0,fp(l)):o=!1,xc(l,d),UI(l,m,v),Lv(l,m,v,d),Bv(null,l,m,!0,o,d);case 19:return rb(o,l,d);case 22:return YI(o,l,d)}throw Error(n(156,l.tag))};function Ab(o,l){return td(o,l)}function lF(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(o,l,d,m){return new lF(o,l,d,m)}function aw(o){return o=o.prototype,!(!o||!o.isReactComponent)}function cF(o){if(typeof o=="function")return aw(o)?1:0;if(o!=null){if(o=o.$$typeof,o===z)return 11;if(o===Le)return 14}return 2}function _o(o,l){var d=o.alternate;return d===null?(d=br(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function $p(o,l,d,m,v,w){var C=2;if(m=o,typeof o=="function")aw(o)&&(C=1);else if(typeof o=="string")C=5;else e:switch(o){case k:return Fa(d.children,v,w,l);case P:C=8,v|=8;break;case D:return o=br(12,d,l,v|2),o.elementType=D,o.lanes=w,o;case L:return o=br(13,d,l,v),o.elementType=L,o.lanes=w,o;case xe:return o=br(19,d,l,v),o.elementType=xe,o.lanes=w,o;case fe:return zp(d,v,w,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:C=10;break e;case j:C=9;break e;case z:C=11;break e;case Le:C=14;break e;case Pe:C=16,m=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=br(C,d,l,v),l.elementType=o,l.type=m,l.lanes=w,l}function Fa(o,l,d,m){return o=br(7,o,m,l),o.lanes=d,o}function zp(o,l,d,m){return o=br(22,o,m,l),o.elementType=fe,o.lanes=d,o.stateNode={isHidden:!1},o}function lw(o,l,d){return o=br(6,o,null,l),o.lanes=d,o}function cw(o,l,d){return l=br(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function uF(o,l,d,m,v){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=od(0),this.expirationTimes=od(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=od(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function uw(o,l,d,m,v,w,C,U,$){return o=new uF(o,l,d,U,$),l===1?(l=1,w===!0&&(l|=8)):l=0,w=br(3,null,null,l),o.current=w,w.stateNode=o,w.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tv(w),o}function dF(o,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:m==null?null:""+m,children:o,containerInfo:l,implementation:d}}function Pb(o){if(!o)return uo;o=o._reactInternals;e:{if(Ur(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(zn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var d=o.type;if(zn(d))return nI(o,d,l)}return l}function Cb(o,l,d,m,v,w,C,U,$){return o=uw(d,m,!0,o,v,w,C,U,$),o.context=Pb(null),d=o.current,m=Cn(),v=vo(d),w=gi(m,v),w.callback=l??null,po(d,w,v),o.current.lanes=v,xa(o,v,m),Hn(o,m),o}function Wp(o,l,d,m){var v=l.current,w=Cn(),C=vo(v);return d=Pb(d),l.context===null?l.context=d:l.pendingContext=d,l=gi(w,C),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=po(v,l,C),o!==null&&(Gr(o,v,C,w),Ep(o,v,C)),C}function qp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Rb(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function dw(o,l){Rb(o,l),(o=o.alternate)&&Rb(o,l)}function hF(){return null}var kb=typeof reportError=="function"?reportError:function(o){console.error(o)};function hw(o){this._internalRoot=o}Hp.prototype.render=hw.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));Wp(o,l,null,null)},Hp.prototype.unmount=hw.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Oa(function(){Wp(null,o,null,null)}),l[di]=null}};function Hp(o){this._internalRoot=o}Hp.prototype.unstable_scheduleHydration=function(o){if(o){var l=ud();o={blockedOn:null,target:o,priority:l};for(var d=0;d<sr.length&&l!==0&&l<sr[d].priority;d++);sr.splice(d,0,o),d===0&&ec(o)}};function fw(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Gp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Db(){}function fF(o,l,d,m,v){if(v){if(typeof m=="function"){var w=m;m=function(){var Z=qp(C);w.call(Z)}}var C=Cb(l,m,o,0,null,!1,!1,"",Db);return o._reactRootContainer=C,o[di]=C.current,xd(o.nodeType===8?o.parentNode:o),Oa(),C}for(;v=o.lastChild;)o.removeChild(v);if(typeof m=="function"){var U=m;m=function(){var Z=qp($);U.call(Z)}}var $=uw(o,0,!1,null,null,!1,!1,"",Db);return o._reactRootContainer=$,o[di]=$.current,xd(o.nodeType===8?o.parentNode:o),Oa(function(){Wp(l,$,d,m)}),$}function Kp(o,l,d,m,v){var w=d._reactRootContainer;if(w){var C=w;if(typeof v=="function"){var U=v;v=function(){var $=qp(C);U.call($)}}Wp(l,C,o,v)}else C=fF(d,l,o,v,m);return qp(C)}ld=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=rt(l.pendingLanes);d!==0&&(ad(l,d|1),Hn(l,mt()),(tt&6)===0&&(Ac=mt()+500,ho()))}break;case 13:Oa(function(){var m=mi(o,1);if(m!==null){var v=Cn();Gr(m,o,1,v)}}),dw(o,1)}},Jl=function(o){if(o.tag===13){var l=mi(o,134217728);if(l!==null){var d=Cn();Gr(l,o,134217728,d)}dw(o,134217728)}},cd=function(o){if(o.tag===13){var l=vo(o),d=mi(o,l);if(d!==null){var m=Cn();Gr(d,o,l,m)}dw(o,l)}},ud=function(){return Ye},dd=function(o,l){var d=Ye;try{return Ye=o,l()}finally{Ye=d}},ti=function(o,l,d){switch(l){case"input":if(ei(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var v=dp(m);if(!v)throw Error(n(90));tr(m),ei(m,v)}}}break;case"textarea":Vf(o,d);break;case"select":l=d.value,l!=null&&Fr(o,!!d.multiple,l,!1)}},jf=sw,Uf=Oa;var pF={usingClientEntryPoint:!1,Events:[bd,pc,dp,Xi,Ji,sw]},jd={findFiberByHostInstance:Aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mF={bundleType:jd.bundleType,version:jd.version,rendererPackageName:jd.rendererPackageName,rendererConfig:jd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Gf(o),o===null?null:o.stateNode},findFiberByHostInstance:jd.findFiberByHostInstance||hF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{va=Qp.inject(mF),nr=Qp}catch{}}return Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pF,Gn.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fw(l))throw Error(n(200));return dF(o,l,null,d)},Gn.createRoot=function(o,l){if(!fw(o))throw Error(n(299));var d=!1,m="",v=kb;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),l=uw(o,1,!1,null,null,d,!1,m,v),o[di]=l.current,xd(o.nodeType===8?o.parentNode:o),new hw(l)},Gn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Gf(l),o=o===null?null:o.stateNode,o},Gn.flushSync=function(o){return Oa(o)},Gn.hydrate=function(o,l,d){if(!Gp(l))throw Error(n(200));return Kp(null,o,l,!0,d)},Gn.hydrateRoot=function(o,l,d){if(!fw(o))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,v=!1,w="",C=kb;if(d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(C=d.onRecoverableError)),l=Cb(l,null,o,1,d??null,v,!1,w,C),o[di]=l.current,xd(o),m)for(o=0;o<m.length;o++)d=m[o],v=d._getVersion,v=v(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,v]:l.mutableSourceEagerHydrationData.push(d,v);return new Hp(l)},Gn.render=function(o,l,d){if(!Gp(l))throw Error(n(200));return Kp(null,o,l,!1,d)},Gn.unmountComponentAtNode=function(o){if(!Gp(o))throw Error(n(40));return o._reactRootContainer?(Oa(function(){Kp(null,null,o,!1,function(){o._reactRootContainer=null,o[di]=null})}),!0):!1},Gn.unstable_batchedUpdates=sw,Gn.unstable_renderSubtreeIntoContainer=function(o,l,d,m){if(!Gp(d))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Kp(o,l,d,!1,m)},Gn.version="18.3.1-next-f1338f8080-20240426",Gn}var Bb;function kC(){if(Bb)return vw.exports;Bb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vw.exports=bF(),vw.exports}var $b;function SF(){if($b)return Xp;$b=1;var t=kC();return Xp.createRoot=t.createRoot,Xp.hydrateRoot=t.hydrateRoot,Xp}var AF=SF();const PF=eE(AF),CF="modulepreload",RF=function(t){return"/"+t},zb={},$t=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let a=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=a(n.map(h=>{if(h=RF(h),h in zb)return;zb[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":CF,p||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((E,A)=>{y.addEventListener("load",E),y.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return s.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};function Wb({size:t="md",variant:e="circle",className:n=""}){const r={xs:{wrapper:"w-6 h-6",img:"w-5 h-5"},sm:{wrapper:"w-8 h-8",img:"w-6 h-6"},md:{wrapper:"w-12 h-12",img:"w-10 h-10"},lg:{wrapper:"w-20 h-20",img:"w-16 h-16"},xl:{wrapper:"w-32 h-32",img:"w-24 h-24"}},s=r[t]||r.md;return x.jsx("div",{className:`${e==="circle"?"bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full shadow-lg overflow-hidden flex items-center justify-center":""} ${s.wrapper} ${n}`.trim(),children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:`${s.img} object-contain ${e==="circle"?"transform -rotate-12":""}`,loading:"lazy"})})}const kF=()=>{};var qb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},DF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],c=t[n++],u=((s&7)<<18|(i&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},NC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,c=a?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,p=i>>2,g=(i&3)<<4|c>>4;let y=(c&15)<<2|h>>6,E=h&63;u||(E=64,a||(y=64)),r.push(n[p],n[g],n[y],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||h==null||g==null)throw new NF;const y=i<<2|c>>4;if(r.push(y),h!==64){const E=c<<4&240|h>>2;if(r.push(E),g!==64){const A=h<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MF=function(t){const e=DC(t);return NC.encodeByteArray(e,!0)},Xm=function(t){return MF(t).replace(/\./g,"")},MC=function(t){try{return NC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=()=>OC().__FIREBASE_DEFAULTS__,VF=()=>{if(typeof process>"u"||typeof qb>"u")return;const t=qb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MC(t[1]);return e&&JSON.parse(e)},Wg=()=>{try{return kF()||OF()||VF()||LF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VC=t=>{var e,n;return(n=(e=Wg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},LC=t=>{const e=VC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FC=()=>{var t;return(t=Wg())==null?void 0:t.config},jC=t=>{var e;return(e=Wg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Xm(JSON.stringify(n)),Xm(JSON.stringify(a)),""].join(".")}const ah={};function jF(){const t={prod:[],emulator:[]};for(const e of Object.keys(ah))ah[e]?t.emulator.push(e):t.prod.push(e);return t}function UF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Hb=!1;function sE(t,e){if(typeof window>"u"||typeof document>"u"||!Ml(window.location.host)||ah[t]===e||ah[t]||Hb)return;ah[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",i=jF().prod.length>0;function a(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,E){y.setAttribute("width","24"),y.setAttribute("id",E),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{Hb=!0,a()},y}function p(y,E){y.setAttribute("id",E),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=UF(r),E=n("text"),A=document.getElementById(E)||document.createElement("span"),b=n("learnmore"),S=document.getElementById(b)||document.createElement("a"),R=n("preprendIcon"),V=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const N=y.element;c(N),p(S,b);const F=h();u(V,R),N.append(V,A,S,F),document.body.appendChild(N)}i?(A.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function BC(){var e;const t=(e=Wg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $F(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WF(){const t=Jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $C(){return!BC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zC(){return!BC()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function qg(){try{return typeof indexedDB=="object"}catch{return!1}}function oE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function WC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF="FirebaseError";class Lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qF,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?HF(i,r):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new Lr(s,c,r)}}function HF(t,e){return t.replace(GF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const GF=/\{\$([^}]+)}/g;function KF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(Gb(i)&&Gb(a)){if(!Xo(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Gb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Jd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QF(t,e){const n=new YF(t,e);return n.subscribe.bind(n)}class YF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ew),s.error===void 0&&(s.error=Ew),s.complete===void 0&&(s.complete=Ew);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ew(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=1e3,ZF=2,e4=14400*1e3,t4=.5;function Kb(t,e=JF,n=ZF){const r=e*Math.pow(n,t),s=Math.round(t4*r*(Math.random()-.5)*2);return Math.min(e4,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class Vr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new FF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s4(e))try{this.getOrInitializeService({instanceIdentifier:$a})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=$a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$a){return this.instances.has(e)}getOptions(e=$a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:r4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$a){return this.component?this.component.multipleInstances?e:$a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r4(t){return t===$a?void 0:t}function s4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new n4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const o4={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},a4=Ge.INFO,l4={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},c4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=l4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hg{constructor(e){this.name=e,this._logLevel=a4,this._logHandler=c4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const u4=(t,e)=>e.some(n=>t instanceof n);let Qb,Yb;function d4(){return Qb||(Qb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h4(){return Yb||(Yb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qC=new WeakMap,__=new WeakMap,HC=new WeakMap,xw=new WeakMap,aE=new WeakMap;function f4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(qo(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&qC.set(n,t)}).catch(()=>{}),aE.set(e,t),e}function p4(t){if(__.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});__.set(t,e)}let E_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return __.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function m4(t){E_=t(E_)}function g4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tw(this),e,...n);return HC.set(r,e.sort?e.sort():[e]),qo(r)}:h4().includes(t)?function(...e){return t.apply(Tw(this),e),qo(qC.get(this))}:function(...e){return qo(t.apply(Tw(this),e))}}function y4(t){return typeof t=="function"?g4(t):(t instanceof IDBTransaction&&p4(t),u4(t,d4())?new Proxy(t,E_):t)}function qo(t){if(t instanceof IDBRequest)return f4(t);if(xw.has(t))return xw.get(t);const e=y4(t);return e!==t&&(xw.set(t,e),aE.set(e,t)),e}const Tw=t=>aE.get(t);function GC(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),c=qo(a);return r&&a.addEventListener("upgradeneeded",u=>{r(qo(a.result),u.oldVersion,u.newVersion,qo(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const v4=["get","getKey","getAll","getAllKeys","count"],w4=["put","add","delete","clear"],Iw=new Map;function Xb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Iw.get(e))return Iw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=w4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||v4.includes(n)))return;const i=async function(a,...c){const u=this.transaction(a,s?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&u.done]))[0]};return Iw.set(e,i),i}m4(t=>({...t,get:(e,n,r)=>Xb(e,n)||t.get(e,n,r),has:(e,n)=>!!Xb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(E4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function E4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const x_="@firebase/app",Jb="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Hg("@firebase/app"),x4="@firebase/app-compat",T4="@firebase/analytics-compat",I4="@firebase/analytics",b4="@firebase/app-check-compat",S4="@firebase/app-check",A4="@firebase/auth",P4="@firebase/auth-compat",C4="@firebase/database",R4="@firebase/data-connect",k4="@firebase/database-compat",D4="@firebase/functions",N4="@firebase/functions-compat",M4="@firebase/installations",O4="@firebase/installations-compat",V4="@firebase/messaging",L4="@firebase/messaging-compat",F4="@firebase/performance",j4="@firebase/performance-compat",U4="@firebase/remote-config",B4="@firebase/remote-config-compat",$4="@firebase/storage",z4="@firebase/storage-compat",W4="@firebase/firestore",q4="@firebase/ai",H4="@firebase/firestore-compat",G4="firebase",K4="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="[DEFAULT]",Q4={[x_]:"fire-core",[x4]:"fire-core-compat",[I4]:"fire-analytics",[T4]:"fire-analytics-compat",[S4]:"fire-app-check",[b4]:"fire-app-check-compat",[A4]:"fire-auth",[P4]:"fire-auth-compat",[C4]:"fire-rtdb",[R4]:"fire-data-connect",[k4]:"fire-rtdb-compat",[D4]:"fire-fn",[N4]:"fire-fn-compat",[M4]:"fire-iid",[O4]:"fire-iid-compat",[V4]:"fire-fcm",[L4]:"fire-fcm-compat",[F4]:"fire-perf",[j4]:"fire-perf-compat",[U4]:"fire-rc",[B4]:"fire-rc-compat",[$4]:"fire-gcs",[z4]:"fire-gcs-compat",[W4]:"fire-fst",[H4]:"fire-fst-compat",[q4]:"fire-vertex","fire-js":"fire-js",[G4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=new Map,Y4=new Map,I_=new Map;function Zb(t,e){try{t.container.addComponent(e)}catch(n){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ns(t){const e=t.name;if(I_.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;I_.set(e,t);for(const n of Jm.values())Zb(n,t);for(const n of Y4.values())Zb(n,t);return!0}function aa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ho=new Ol("app","Firebase",X4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=K4;function KC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:T_,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ho.create("bad-app-name",{appName:String(s)});if(n||(n=FC()),!n)throw Ho.create("no-options");const i=Jm.get(s);if(i){if(Xo(n,i.options)&&Xo(r,i.config))return i;throw Ho.create("duplicate-app",{appName:s})}const a=new i4(s);for(const u of I_.values())a.addComponent(u);const c=new J4(n,r,a);return Jm.set(s,c),c}function Gg(t=T_){const e=Jm.get(t);if(!e&&t===T_&&FC())return KC();if(!e)throw Ho.create("no-app",{appName:t});return e}function Jn(t,e,n){let r=Q4[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(a.join(" "));return}ns(new Vr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="firebase-heartbeat-database",ej=1,Th="firebase-heartbeat-store";let bw=null;function QC(){return bw||(bw=GC(Z4,ej,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Th)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ho.create("idb-open",{originalErrorMessage:t.message})})),bw}async function tj(t){try{const n=(await QC()).transaction(Th),r=await n.objectStore(Th).get(YC(t));return await n.done,r}catch(e){if(e instanceof Lr)Ci.warn(e.message);else{const n=Ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(n.message)}}}async function eS(t,e){try{const r=(await QC()).transaction(Th,"readwrite");await r.objectStore(Th).put(e,YC(t)),await r.done}catch(n){if(n instanceof Lr)Ci.warn(n.message);else{const r=Ho.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ci.warn(r.message)}}}function YC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=1024,rj=30;class sj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>rj){const a=aj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ci.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tS(),{heartbeatsToSend:r,unsentEntries:s}=ij(this._heartbeatsCache.heartbeats),i=Xm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ci.warn(n),""}}}function tS(){return new Date().toISOString().substring(0,10)}function ij(t,e=nj){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),nS(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),nS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qg()?oE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return eS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return eS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function nS(t){return Xm(JSON.stringify({version:2,heartbeats:t})).length}function aj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){ns(new Vr("platform-logger",e=>new _4(e),"PRIVATE")),ns(new Vr("heartbeat",e=>new sj(e),"PRIVATE")),Jn(x_,Jb,t),Jn(x_,Jb,"esm2020"),Jn("fire-js","")}lj("");function XC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cj=XC,JC=new Ol("auth","Firebase",XC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=new Hg("@firebase/auth");function uj(t,...e){Zm.logLevel<=Ge.WARN&&Zm.warn(`Auth (${Vl}): ${t}`,...e)}function xm(t,...e){Zm.logLevel<=Ge.ERROR&&Zm.error(`Auth (${Vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(t,...e){throw lE(t,...e)}function Ms(t,...e){return lE(t,...e)}function ZC(t,e,n){const r={...cj(),[e]:n};return new Ol("auth","Firebase",r).create(e,{appName:t.name})}function Ai(t){return ZC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JC.create(t,...e)}function Ne(t,e,...n){if(!t)throw lE(e,...n)}function Ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xm(e),new Error(e)}function Ri(t,e){t||Ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function dj(){return rS()==="http:"||rS()==="https:"}function rS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dj()||iE()||"connection"in navigator)?navigator.onLine:!0}function fj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=BF()||zF()}get(){return hj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gj=new af(3e4,6e4);function ji(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ui(t,e,n,r,s={}){return tR(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const c=of({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:u,...i};return $F()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Ml(t.emulatorConfig.host)&&(h.credentials="include"),eR.fetch()(await nR(t,t.config.apiHost,n,c),h)})}async function tR(t,e,n){t._canInitEmulator=!1;const r={...pj,...e};try{const s=new vj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Jp(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const c=i.ok?a.errorMessage:a.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jp(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Jp(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Jp(t,"user-disabled",a);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw ZC(t,p,h);rs(t,p)}}catch(s){if(s instanceof Lr)throw s;rs(t,"network-request-failed",{message:String(s)})}}async function lf(t,e,n,r,s={}){const i=await Ui(t,e,n,r,s);return"mfaPendingCredential"in i&&rs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function nR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?cE(t.config,s):`${t.config.apiScheme}://${s}`;return mj.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function yj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ms(this.auth,"network-request-failed")),gj.get())})}}function Jp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ms(t,e,r);return s.customData._tokenResponse=n,s}function sS(t){return t!==void 0&&t.enterprise!==void 0}class wj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _j(t,e){return Ui(t,"GET","/v2/recaptchaConfig",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(t,e){return Ui(t,"POST","/v1/accounts:delete",e)}async function eg(t,e){return Ui(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xj(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),s=uE(r);Ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:lh(Sw(s.auth_time)),issuedAtTime:lh(Sw(s.iat)),expirationTime:lh(Sw(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Sw(t){return Number(t)*1e3}function uE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xm("JWT malformed, contained fewer than 3 sections"),null;try{const s=MC(n);return s?JSON.parse(s):(xm("Failed to decode base64 JWT payload"),null)}catch(s){return xm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function iS(t){const e=uE(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Lr&&Tj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Tj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lh(this.lastLoginAt),this.creationTime=lh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tg(t){var g;const e=t.auth,n=await t.getIdToken(),r=await Ih(t,eg(e,{idToken:n}));Ne(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(g=s.providerUserInfo)!=null&&g.length?rR(s.providerUserInfo):[],a=Sj(t.providerData,i),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=c?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new S_(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function bj(t){const e=Ct(t);await tg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Sj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function rR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(t,e){const n=await tR(t,{},async()=>{const r=of({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await nR(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:r};return t.emulatorConfig&&Ml(t.emulatorConfig.host)&&(u.credentials="include"),eR.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Pj(t,e){return Ui(t,"POST","/v2/accounts:revokeToken",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=iS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Aj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Xc;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Ne(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Ne(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xc,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Jr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new Ij(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new S_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ih(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xj(this,e)}reload(){return bj(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await Ih(this,Ej(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,c=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:y,isAnonymous:E,providerData:A,stsTokenManager:b}=n;Ne(g&&b,e,"internal-error");const S=Xc.fromJSON(this.name,b);Ne(typeof g=="string",e,"internal-error"),xo(r,e.name),xo(s,e.name),Ne(typeof y=="boolean",e,"internal-error"),Ne(typeof E=="boolean",e,"internal-error"),xo(i,e.name),xo(a,e.name),xo(c,e.name),xo(u,e.name),xo(h,e.name),xo(p,e.name);const R=new Jr({uid:g,auth:e,email:s,emailVerified:y,displayName:r,isAnonymous:E,photoURL:a,phoneNumber:i,tenantId:c,stsTokenManager:S,createdAt:h,lastLoginAt:p});return A&&Array.isArray(A)&&(R.providerData=A.map(V=>({...V}))),u&&(R._redirectEventId=u),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new Xc;s.updateFromServerResponse(n);const i=new Jr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await tg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ne(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?rR(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new Xc;c.updateFromIdToken(r);const u=new Jr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new S_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=new Map;function Ii(t){Ri(t instanceof Function,"Expected a class definition");let e=oS.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sR.type="NONE";const aS=sR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t,e,n){return`firebase:${t}:${e}:${n}`}class Jc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Tm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Tm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await eg(this.auth,{idToken:e}).catch(()=>{});return n?Jr._fromGetAccountInfoResponse(this.auth,n,e):null}return Jr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Jc(Ii(aS),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Ii(aS);const a=Tm(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(a);if(p){let g;if(typeof p=="string"){const y=await eg(e,{idToken:p}).catch(()=>{});if(!y)break;g=await Jr._fromGetAccountInfoResponse(e,y,p)}else g=Jr._fromJSON(e,p);h!==i&&(c=g),i=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Jc(i,e,r):(i=u[0],c&&await i._set(a,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(a)}catch{}})),new Jc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uR(e))return"Blackberry";if(dR(e))return"Webos";if(oR(e))return"Safari";if((e.includes("chrome/")||aR(e))&&!e.includes("edge/"))return"Chrome";if(cR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iR(t=Jt()){return/firefox\//i.test(t)}function oR(t=Jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aR(t=Jt()){return/crios\//i.test(t)}function lR(t=Jt()){return/iemobile/i.test(t)}function cR(t=Jt()){return/android/i.test(t)}function uR(t=Jt()){return/blackberry/i.test(t)}function dR(t=Jt()){return/webos/i.test(t)}function dE(t=Jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Cj(t=Jt()){var e;return dE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Rj(){return WF()&&document.documentMode===10}function hR(t=Jt()){return dE(t)||cR(t)||dR(t)||uR(t)||/windows phone/i.test(t)||lR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t,e=[]){let n;switch(t){case"Browser":n=lS(Jt());break;case"Worker":n=`${lS(Jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,c)=>{try{const u=e(i);a(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(t,e={}){return Ui(t,"GET","/v2/passwordPolicy",ji(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=6;class Mj{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Nj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cS(this),this.idTokenSubscription=new cS(this),this.beforeStateQueue=new kj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Jc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await eg(this,{idToken:e}),r=await Jr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(fr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(Ai(this));const n=e?Ct(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Dj(this),n=new Mj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ol("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Pj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ii(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Jc.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(c,this,"internal-error"),c.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&uj(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function la(t){return Ct(t)}let cS=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=QF(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vj(t){Kg=t}function pR(t){return Kg.loadJS(t)}function Lj(){return Kg.recaptchaEnterpriseScript}function Fj(){return Kg.gapiScript}function jj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Uj{constructor(){this.enterprise=new Bj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Bj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $j="recaptcha-enterprise",mR="NO_RECAPTCHA";class zj{constructor(e){this.type=$j,this.auth=la(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,c)=>{_j(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new wj(u);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,a(h.siteKey)}}).catch(u=>{c(u)})})}function s(i,a,c){const u=window.grecaptcha;sS(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(h=>{a(h)}).catch(()=>{a(mR)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Uj().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(c=>{if(!n&&sS(window.grecaptcha))s(c,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Lj();u.length!==0&&(u+=c),pR(u).then(()=>{s(c,i,a)}).catch(h=>{a(h)})}}).catch(c=>{a(c)})})}}async function uS(t,e,n,r=!1,s=!1){const i=new zj(t);let a;if(s)a=mR;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function ng(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await uS(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await uS(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t,e){const n=aa(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Xo(i,e??{}))return s;rs(s,"already-initialized")}return n.initialize({options:e})}function qj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Hj(t,e,n){const r=la(t);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=gR(e),{host:a,port:c}=Gj(e),u=c===null?"":`:${c}`,h={url:`${i}//${a}${u}/`},p=Object.freeze({host:a,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(Xo(h,r.config.emulator)&&Xo(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Ml(a)?(rE(`${i}//${a}${u}`),sE("Auth",!0)):Kj()}function gR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Gj(t){const e=gR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:dS(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:dS(a)}}}function dS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Kj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,n){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}async function Qj(t,e){return Ui(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj(t,e){return lf(t,"POST","/v1/accounts:signInWithPassword",ji(t,e))}async function Xj(t,e){return Ui(t,"POST","/v1/accounts:sendOobCode",ji(t,e))}async function Jj(t,e){return Xj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(t,e){return lf(t,"POST","/v1/accounts:signInWithEmailLink",ji(t,e))}async function e5(t,e){return lf(t,"POST","/v1/accounts:signInWithEmailLink",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends hE{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new bh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ng(e,n,"signInWithPassword",Yj);case"emailLink":return Zj(e,{email:this._email,oobCode:this._password});default:rs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ng(e,r,"signUpPassword",Qj);case"emailLink":return e5(e,{idToken:n,email:this._email,oobCode:this._password});default:rs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t,e){return lf(t,"POST","/v1/accounts:signInWithIdp",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="http://localhost";class wl extends hE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new wl(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Zc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zc(e,n)}buildRequest(){const e={requestUri:t5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=of(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r5(t){const e=Xd(Jd(t)).link,n=e?Xd(Jd(e)).deep_link_id:null,r=Xd(Jd(t)).deep_link_id;return(r?Xd(Jd(r)).link:null)||r||n||e||t}class fE{constructor(e){const n=Xd(Jd(e)),r=n.apiKey??null,s=n.oobCode??null,i=n5(n.mode??null);Ne(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=r5(e);try{return new fE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(){this.providerId=Mu.PROVIDER_ID}static credential(e,n){return bh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=fE.parseLink(n);return Ne(r,"argument-error"),bh._fromEmailAndCode(e,r.code,r.tenantId)}}Mu.PROVIDER_ID="password";Mu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends yR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends cf{constructor(){super("facebook.com")}static credential(e){return wl._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";ko.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends cf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wl._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Do.credential(n,r)}catch{return null}}}Do.GOOGLE_SIGN_IN_METHOD="google.com";Do.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends cf{constructor(){super("github.com")}static credential(e){return wl._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return No.credential(e.oauthAccessToken)}catch{return null}}}No.GITHUB_SIGN_IN_METHOD="github.com";No.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends cf{constructor(){super("twitter.com")}static credential(e,n){return wl._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Mo.credential(n,r)}catch{return null}}}Mo.TWITTER_SIGN_IN_METHOD="twitter.com";Mo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(t,e){return lf(t,"POST","/v1/accounts:signUp",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Jr._fromIdTokenResponse(e,r,s),a=hS(r);return new _l({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=hS(r);return new _l({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function hS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends Lr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,rg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new rg(e,n,r,s)}}function vR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?rg._fromErrorAndOperation(t,i,e,r):i})}async function i5(t,e,n=!1){const r=await Ih(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _l._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(t,e,n=!1){const{auth:r}=t;if(fr(r.app))return Promise.reject(Ai(r));const s="reauthenticate";try{const i=await Ih(t,vR(r,s,e,t),n);Ne(i.idToken,r,"internal-error");const a=uE(i.idToken);Ne(a,r,"internal-error");const{sub:c}=a;return Ne(t.uid===c,r,"user-mismatch"),_l._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&rs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(t,e,n=!1){if(fr(t.app))return Promise.reject(Ai(t));const r="signIn",s=await vR(t,r,e),i=await _l._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function a5(t,e){return wR(la(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(t){const e=la(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function l5(t,e,n){const r=la(t);await ng(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Jj)}async function c5(t,e,n){if(fr(t.app))return Promise.reject(Ai(t));const r=la(t),a=await ng(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",s5).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&_R(t),u}),c=await _l._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function u5(t,e,n){return fr(t.app)?Promise.reject(Ai(t)):a5(Ct(t),Mu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_R(t),r})}function d5(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function h5(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function f5(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function p5(t){return Ct(t).signOut()}const sg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sg,"1"),this.storage.removeItem(sg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=1e3,g5=10;class xR extends ER{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);Rj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,g5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},m5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xR.type="LOCAL";const y5=xR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR extends ER{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TR.type="SESSION";const IR=TR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Qg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(a).map(async h=>h(n.origin,i)),u=await v5(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((c,u)=>{const h=pE("",20);s.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(y.data.response);break;default:clearTimeout(p),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(){return window}function _5(t){Os().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return typeof Os().WorkerGlobalScope<"u"&&typeof Os().importScripts=="function"}async function E5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function T5(){return bR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="firebaseLocalStorageDb",I5=1,ig="firebaseLocalStorage",AR="fbase_key";class uf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yg(t,e){return t.transaction([ig],e?"readwrite":"readonly").objectStore(ig)}function b5(){const t=indexedDB.deleteDatabase(SR);return new uf(t).toPromise()}function A_(){const t=indexedDB.open(SR,I5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ig,{keyPath:AR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ig)?e(r):(r.close(),await b5(),e(await A_()))})})}async function fS(t,e,n){const r=Yg(t,!0).put({[AR]:e,value:n});return new uf(r).toPromise()}async function S5(t,e){const n=Yg(t,!1).get(e),r=await new uf(n).toPromise();return r===void 0?null:r.value}function pS(t,e){const n=Yg(t,!0).delete(e);return new uf(n).toPromise()}const A5=800,P5=3;class PR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await A_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>P5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qg._getInstance(T5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await E5(),!this.activeServiceWorker)return;this.sender=new w5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await A_();return await fS(e,sg,"1"),await pS(e,sg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>S5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Yg(s,!1).getAll();return new uf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PR.type="LOCAL";const C5=PR;new af(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t,e){return e?Ii(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends hE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function k5(t){return wR(t.auth,new mE(t),t.bypassAuthState)}function D5(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),o5(n,new mE(t),t.bypassAuthState)}async function N5(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),i5(n,new mE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k5;case"linkViaPopup":case"linkViaRedirect":return N5;case"reauthViaPopup":case"reauthViaRedirect":return D5;default:rs(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=new af(2e3,1e4);class qc extends CR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,qc.currentPopupAction&&qc.currentPopupAction.cancel(),qc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=pE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M5.get())};e()}}qc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5="pendingRedirect",Im=new Map;class V5 extends CR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Im.get(this.auth._key());if(!e){try{const r=await L5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Im.set(this.auth._key(),e)}return this.bypassAuthState||Im.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L5(t,e){const n=U5(e),r=j5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function F5(t,e){Im.set(t._key(),e)}function j5(t){return Ii(t._redirectPersistence)}function U5(t){return Tm(O5,t.config.apiKey,t.name)}async function B5(t,e,n=!1){if(fr(t.app))return Promise.reject(Ai(t));const r=la(t),s=R5(r,e),a=await new V5(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=600*1e3;class z5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RR(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ms(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mS(e))}saveEventToCache(e){this.cachedEventUids.add(mS(e)),this.lastProcessedEventTime=Date.now()}}function mS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function W5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(t,e={}){return Ui(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G5=/^https?/;async function K5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await q5(t);for(const n of e)try{if(Q5(n))return}catch{}rs(t,"unauthorized-domain")}function Q5(t){const e=b_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!G5.test(n))return!1;if(H5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=new af(3e4,6e4);function gS(){const t=Os().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function X5(t){return new Promise((e,n)=>{var s,i,a;function r(){gS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gS(),n(Ms(t,"network-request-failed"))},timeout:Y5.get()})}if((i=(s=Os().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=Os().gapi)!=null&&a.load)r();else{const c=jj("iframefcb");return Os()[c]=()=>{gapi.load?r():n(Ms(t,"network-request-failed"))},pR(`${Fj()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw bm=null,e})}let bm=null;function J5(t){return bm=bm||X5(t),bm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=new af(5e3,15e3),e3="__/auth/iframe",t3="emulator/auth/iframe",n3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s3(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cE(e,t3):`https://${t.config.authDomain}/${e3}`,r={apiKey:e.apiKey,appName:t.name,v:Vl},s=r3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${of(r).slice(1)}`}async function i3(t){const e=await J5(t),n=Os().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:s3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Ms(t,"network-request-failed"),c=Os().setTimeout(()=>{i(a)},Z5.get());function u(){Os().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a3=500,l3=600,c3="_blank",u3="http://localhost";class yS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d3(t,e,n,r=a3,s=l3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u={...o3,width:r.toString(),height:s.toString(),top:i,left:a},h=Jt().toLowerCase();n&&(c=aR(h)?c3:n),iR(h)&&(e=e||u3,u.scrollbars="yes");const p=Object.entries(u).reduce((y,[E,A])=>`${y}${E}=${A},`,"");if(Cj(h)&&c!=="_self")return h3(e||"",c),new yS(null);const g=window.open(e||"",c,p);Ne(g,t,"popup-blocked");try{g.focus()}catch{}return new yS(g)}function h3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="__/auth/handler",p3="emulator/auth/handler",m3=encodeURIComponent("fac");async function vS(t,e,n,r,s,i){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vl,eventId:s};if(e instanceof yR){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",KF(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))a[p]=g}if(e instanceof cf){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await t._getAppCheckToken(),h=u?`#${m3}=${encodeURIComponent(u)}`:"";return`${g3(t)}?${of(c).slice(1)}${h}`}function g3({config:t}){return t.emulator?cE(t,p3):`https://${t.authDomain}/${f3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="webStorageSupport";class y3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IR,this._completeRedirectFn=B5,this._overrideRedirectResult=F5}async _openPopup(e,n,r,s){var a;Ri((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await vS(e,n,r,b_(),s);return d3(e,i,pE())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await vS(e,n,r,b_(),s);return _5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ri(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await i3(e),r=new z5(e);return n.register("authEvent",s=>(Ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Aw,{type:Aw},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[Aw];i!==void 0&&n(!!i),rs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=K5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hR()||oR()||dE()}}const v3=y3;var wS="@firebase/auth",_S="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E3(t){ns(new Vr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;Ne(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fR(t)},h=new Oj(r,s,i,u);return qj(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ns(new Vr("auth-internal",e=>{const n=la(e.getProvider("auth").getImmediate());return(r=>new w3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(wS,_S,_3(t)),Jn(wS,_S,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=300,T3=jC("authIdTokenMaxAge")||x3;let ES=null;const I3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>T3)return;const s=n==null?void 0:n.token;ES!==s&&(ES=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Xg(t=Gg()){const e=aa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Wj(t,{popupRedirectResolver:v3,persistence:[C5,y5,IR]}),r=jC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=I3(i.toString());h5(n,a,()=>a(n.currentUser)),d5(n,c=>a(c))}}const s=VC("auth");return s&&Hj(n,`http://${s}`),n}function b3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Vj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ms("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",b3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E3("Browser");var S3="firebase",A3="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(S3,A3,"app");var xS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Go,kR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,P){function D(){}D.prototype=P.prototype,k.F=P.prototype,k.prototype=new D,k.prototype.constructor=k,k.D=function(O,j,z){for(var L=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)L[xe-2]=arguments[xe];return P.prototype[j].apply(O,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,P,D){D||(D=0);const O=Array(16);if(typeof P=="string")for(var j=0;j<16;++j)O[j]=P.charCodeAt(D++)|P.charCodeAt(D++)<<8|P.charCodeAt(D++)<<16|P.charCodeAt(D++)<<24;else for(j=0;j<16;++j)O[j]=P[D++]|P[D++]<<8|P[D++]<<16|P[D++]<<24;P=k.g[0],D=k.g[1],j=k.g[2];let z=k.g[3],L;L=P+(z^D&(j^z))+O[0]+3614090360&4294967295,P=D+(L<<7&4294967295|L>>>25),L=z+(j^P&(D^j))+O[1]+3905402710&4294967295,z=P+(L<<12&4294967295|L>>>20),L=j+(D^z&(P^D))+O[2]+606105819&4294967295,j=z+(L<<17&4294967295|L>>>15),L=D+(P^j&(z^P))+O[3]+3250441966&4294967295,D=j+(L<<22&4294967295|L>>>10),L=P+(z^D&(j^z))+O[4]+4118548399&4294967295,P=D+(L<<7&4294967295|L>>>25),L=z+(j^P&(D^j))+O[5]+1200080426&4294967295,z=P+(L<<12&4294967295|L>>>20),L=j+(D^z&(P^D))+O[6]+2821735955&4294967295,j=z+(L<<17&4294967295|L>>>15),L=D+(P^j&(z^P))+O[7]+4249261313&4294967295,D=j+(L<<22&4294967295|L>>>10),L=P+(z^D&(j^z))+O[8]+1770035416&4294967295,P=D+(L<<7&4294967295|L>>>25),L=z+(j^P&(D^j))+O[9]+2336552879&4294967295,z=P+(L<<12&4294967295|L>>>20),L=j+(D^z&(P^D))+O[10]+4294925233&4294967295,j=z+(L<<17&4294967295|L>>>15),L=D+(P^j&(z^P))+O[11]+2304563134&4294967295,D=j+(L<<22&4294967295|L>>>10),L=P+(z^D&(j^z))+O[12]+1804603682&4294967295,P=D+(L<<7&4294967295|L>>>25),L=z+(j^P&(D^j))+O[13]+4254626195&4294967295,z=P+(L<<12&4294967295|L>>>20),L=j+(D^z&(P^D))+O[14]+2792965006&4294967295,j=z+(L<<17&4294967295|L>>>15),L=D+(P^j&(z^P))+O[15]+1236535329&4294967295,D=j+(L<<22&4294967295|L>>>10),L=P+(j^z&(D^j))+O[1]+4129170786&4294967295,P=D+(L<<5&4294967295|L>>>27),L=z+(D^j&(P^D))+O[6]+3225465664&4294967295,z=P+(L<<9&4294967295|L>>>23),L=j+(P^D&(z^P))+O[11]+643717713&4294967295,j=z+(L<<14&4294967295|L>>>18),L=D+(z^P&(j^z))+O[0]+3921069994&4294967295,D=j+(L<<20&4294967295|L>>>12),L=P+(j^z&(D^j))+O[5]+3593408605&4294967295,P=D+(L<<5&4294967295|L>>>27),L=z+(D^j&(P^D))+O[10]+38016083&4294967295,z=P+(L<<9&4294967295|L>>>23),L=j+(P^D&(z^P))+O[15]+3634488961&4294967295,j=z+(L<<14&4294967295|L>>>18),L=D+(z^P&(j^z))+O[4]+3889429448&4294967295,D=j+(L<<20&4294967295|L>>>12),L=P+(j^z&(D^j))+O[9]+568446438&4294967295,P=D+(L<<5&4294967295|L>>>27),L=z+(D^j&(P^D))+O[14]+3275163606&4294967295,z=P+(L<<9&4294967295|L>>>23),L=j+(P^D&(z^P))+O[3]+4107603335&4294967295,j=z+(L<<14&4294967295|L>>>18),L=D+(z^P&(j^z))+O[8]+1163531501&4294967295,D=j+(L<<20&4294967295|L>>>12),L=P+(j^z&(D^j))+O[13]+2850285829&4294967295,P=D+(L<<5&4294967295|L>>>27),L=z+(D^j&(P^D))+O[2]+4243563512&4294967295,z=P+(L<<9&4294967295|L>>>23),L=j+(P^D&(z^P))+O[7]+1735328473&4294967295,j=z+(L<<14&4294967295|L>>>18),L=D+(z^P&(j^z))+O[12]+2368359562&4294967295,D=j+(L<<20&4294967295|L>>>12),L=P+(D^j^z)+O[5]+4294588738&4294967295,P=D+(L<<4&4294967295|L>>>28),L=z+(P^D^j)+O[8]+2272392833&4294967295,z=P+(L<<11&4294967295|L>>>21),L=j+(z^P^D)+O[11]+1839030562&4294967295,j=z+(L<<16&4294967295|L>>>16),L=D+(j^z^P)+O[14]+4259657740&4294967295,D=j+(L<<23&4294967295|L>>>9),L=P+(D^j^z)+O[1]+2763975236&4294967295,P=D+(L<<4&4294967295|L>>>28),L=z+(P^D^j)+O[4]+1272893353&4294967295,z=P+(L<<11&4294967295|L>>>21),L=j+(z^P^D)+O[7]+4139469664&4294967295,j=z+(L<<16&4294967295|L>>>16),L=D+(j^z^P)+O[10]+3200236656&4294967295,D=j+(L<<23&4294967295|L>>>9),L=P+(D^j^z)+O[13]+681279174&4294967295,P=D+(L<<4&4294967295|L>>>28),L=z+(P^D^j)+O[0]+3936430074&4294967295,z=P+(L<<11&4294967295|L>>>21),L=j+(z^P^D)+O[3]+3572445317&4294967295,j=z+(L<<16&4294967295|L>>>16),L=D+(j^z^P)+O[6]+76029189&4294967295,D=j+(L<<23&4294967295|L>>>9),L=P+(D^j^z)+O[9]+3654602809&4294967295,P=D+(L<<4&4294967295|L>>>28),L=z+(P^D^j)+O[12]+3873151461&4294967295,z=P+(L<<11&4294967295|L>>>21),L=j+(z^P^D)+O[15]+530742520&4294967295,j=z+(L<<16&4294967295|L>>>16),L=D+(j^z^P)+O[2]+3299628645&4294967295,D=j+(L<<23&4294967295|L>>>9),L=P+(j^(D|~z))+O[0]+4096336452&4294967295,P=D+(L<<6&4294967295|L>>>26),L=z+(D^(P|~j))+O[7]+1126891415&4294967295,z=P+(L<<10&4294967295|L>>>22),L=j+(P^(z|~D))+O[14]+2878612391&4294967295,j=z+(L<<15&4294967295|L>>>17),L=D+(z^(j|~P))+O[5]+4237533241&4294967295,D=j+(L<<21&4294967295|L>>>11),L=P+(j^(D|~z))+O[12]+1700485571&4294967295,P=D+(L<<6&4294967295|L>>>26),L=z+(D^(P|~j))+O[3]+2399980690&4294967295,z=P+(L<<10&4294967295|L>>>22),L=j+(P^(z|~D))+O[10]+4293915773&4294967295,j=z+(L<<15&4294967295|L>>>17),L=D+(z^(j|~P))+O[1]+2240044497&4294967295,D=j+(L<<21&4294967295|L>>>11),L=P+(j^(D|~z))+O[8]+1873313359&4294967295,P=D+(L<<6&4294967295|L>>>26),L=z+(D^(P|~j))+O[15]+4264355552&4294967295,z=P+(L<<10&4294967295|L>>>22),L=j+(P^(z|~D))+O[6]+2734768916&4294967295,j=z+(L<<15&4294967295|L>>>17),L=D+(z^(j|~P))+O[13]+1309151649&4294967295,D=j+(L<<21&4294967295|L>>>11),L=P+(j^(D|~z))+O[4]+4149444226&4294967295,P=D+(L<<6&4294967295|L>>>26),L=z+(D^(P|~j))+O[11]+3174756917&4294967295,z=P+(L<<10&4294967295|L>>>22),L=j+(P^(z|~D))+O[2]+718787259&4294967295,j=z+(L<<15&4294967295|L>>>17),L=D+(z^(j|~P))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+P&4294967295,k.g[1]=k.g[1]+(j+(L<<21&4294967295|L>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+z&4294967295}r.prototype.v=function(k,P){P===void 0&&(P=k.length);const D=P-this.blockSize,O=this.C;let j=this.h,z=0;for(;z<P;){if(j==0)for(;z<=D;)s(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<P;)if(O[j++]=k.charCodeAt(z++),j==this.blockSize){s(this,O),j=0;break}}else for(;z<P;)if(O[j++]=k[z++],j==this.blockSize){s(this,O),j=0;break}}this.h=j,this.o+=P},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var P=1;P<k.length-8;++P)k[P]=0;P=this.o*8;for(var D=k.length-8;D<k.length;++D)k[D]=P&255,P/=256;for(this.v(k),k=Array(16),P=0,D=0;D<4;++D)for(let O=0;O<32;O+=8)k[P++]=this.g[D]>>>O&255;return k};function i(k,P){var D=c;return Object.prototype.hasOwnProperty.call(D,k)?D[k]:D[k]=P(k)}function a(k,P){this.h=P;const D=[];let O=!0;for(let j=k.length-1;j>=0;j--){const z=k[j]|0;O&&z==P||(D[j]=z,O=!1)}this.g=D}var c={};function u(k){return-128<=k&&k<128?i(k,function(P){return new a([P|0],P<0?-1:0)}):new a([k|0],k<0?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return g;if(k<0)return S(h(-k));const P=[];let D=1;for(let O=0;k>=D;O++)P[O]=k/D|0,D*=4294967296;return new a(P,0)}function p(k,P){if(k.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(k.charAt(0)=="-")return S(p(k.substring(1),P));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=h(Math.pow(P,8));let O=g;for(let z=0;z<k.length;z+=8){var j=Math.min(8,k.length-z);const L=parseInt(k.substring(z,z+j),P);j<8?(j=h(Math.pow(P,j)),O=O.j(j).add(h(L))):(O=O.j(D),O=O.add(h(L)))}return O}var g=u(0),y=u(1),E=u(16777216);t=a.prototype,t.m=function(){if(b(this))return-S(this).m();let k=0,P=1;for(let D=0;D<this.g.length;D++){const O=this.i(D);k+=(O>=0?O:4294967296+O)*P,P*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(A(this))return"0";if(b(this))return"-"+S(this).toString(k);const P=h(Math.pow(k,6));var D=this;let O="";for(;;){const j=F(D,P).g;D=R(D,j.j(P));let z=((D.g.length>0?D.g[0]:D.h)>>>0).toString(k);if(D=j,A(D))return z+O;for(;z.length<6;)z="0"+z;O=z+O}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function A(k){if(k.h!=0)return!1;for(let P=0;P<k.g.length;P++)if(k.g[P]!=0)return!1;return!0}function b(k){return k.h==-1}t.l=function(k){return k=R(this,k),b(k)?-1:A(k)?0:1};function S(k){const P=k.g.length,D=[];for(let O=0;O<P;O++)D[O]=~k.g[O];return new a(D,~k.h).add(y)}t.abs=function(){return b(this)?S(this):this},t.add=function(k){const P=Math.max(this.g.length,k.g.length),D=[];let O=0;for(let j=0;j<=P;j++){let z=O+(this.i(j)&65535)+(k.i(j)&65535),L=(z>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);O=L>>>16,z&=65535,L&=65535,D[j]=L<<16|z}return new a(D,D[D.length-1]&-2147483648?-1:0)};function R(k,P){return k.add(S(P))}t.j=function(k){if(A(this)||A(k))return g;if(b(this))return b(k)?S(this).j(S(k)):S(S(this).j(k));if(b(k))return S(this.j(S(k)));if(this.l(E)<0&&k.l(E)<0)return h(this.m()*k.m());const P=this.g.length+k.g.length,D=[];for(var O=0;O<2*P;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(let j=0;j<k.g.length;j++){const z=this.i(O)>>>16,L=this.i(O)&65535,xe=k.i(j)>>>16,Le=k.i(j)&65535;D[2*O+2*j]+=L*Le,V(D,2*O+2*j),D[2*O+2*j+1]+=z*Le,V(D,2*O+2*j+1),D[2*O+2*j+1]+=L*xe,V(D,2*O+2*j+1),D[2*O+2*j+2]+=z*xe,V(D,2*O+2*j+2)}for(k=0;k<P;k++)D[k]=D[2*k+1]<<16|D[2*k];for(k=P;k<2*P;k++)D[k]=0;return new a(D,0)};function V(k,P){for(;(k[P]&65535)!=k[P];)k[P+1]+=k[P]>>>16,k[P]&=65535,P++}function N(k,P){this.g=k,this.h=P}function F(k,P){if(A(P))throw Error("division by zero");if(A(k))return new N(g,g);if(b(k))return P=F(S(k),P),new N(S(P.g),S(P.h));if(b(P))return P=F(k,S(P)),new N(S(P.g),P.h);if(k.g.length>30){if(b(k)||b(P))throw Error("slowDivide_ only works with positive integers.");for(var D=y,O=P;O.l(k)<=0;)D=B(D),O=B(O);var j=K(D,1),z=K(O,1);for(O=K(O,2),D=K(D,2);!A(O);){var L=z.add(O);L.l(k)<=0&&(j=j.add(D),z=L),O=K(O,1),D=K(D,1)}return P=R(k,j.j(P)),new N(j,P)}for(j=g;k.l(P)>=0;){for(D=Math.max(1,Math.floor(k.m()/P.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),z=h(D),L=z.j(P);b(L)||L.l(k)>0;)D-=O,z=h(D),L=z.j(P);A(z)&&(z=y),j=j.add(z),k=R(k,L)}return new N(j,k)}t.B=function(k){return F(this,k).h},t.and=function(k){const P=Math.max(this.g.length,k.g.length),D=[];for(let O=0;O<P;O++)D[O]=this.i(O)&k.i(O);return new a(D,this.h&k.h)},t.or=function(k){const P=Math.max(this.g.length,k.g.length),D=[];for(let O=0;O<P;O++)D[O]=this.i(O)|k.i(O);return new a(D,this.h|k.h)},t.xor=function(k){const P=Math.max(this.g.length,k.g.length),D=[];for(let O=0;O<P;O++)D[O]=this.i(O)^k.i(O);return new a(D,this.h^k.h)};function B(k){const P=k.g.length+1,D=[];for(let O=0;O<P;O++)D[O]=k.i(O)<<1|k.i(O-1)>>>31;return new a(D,k.h)}function K(k,P){const D=P>>5;P%=32;const O=k.g.length-D,j=[];for(let z=0;z<O;z++)j[z]=P>0?k.i(z+D)>>>P|k.i(z+D+1)<<32-P:k.i(z+D);return new a(j,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,kR=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=p,Go=a}).apply(typeof xS<"u"?xS:typeof self<"u"?self:typeof window<"u"?window:{});var Zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DR,Zd,NR,Sm,P_,MR,OR,VR;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zp=="object"&&Zp];for(var _=0;_<f.length;++_){var I=f[_];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function s(f,_){if(_)e:{var I=r;f=f.split(".");for(var M=0;M<f.length-1;M++){var X=f[M];if(!(X in I))break e;I=I[X]}f=f[f.length-1],M=I[f],_=_(M),_!=M&&_!=null&&e(I,f,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(_){var I=[],M;for(M in _)Object.prototype.hasOwnProperty.call(_,M)&&I.push([M,_[M]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function c(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function u(f,_,I){return f.call.apply(f.bind,arguments)}function h(f,_,I){return h=u,h.apply(null,arguments)}function p(f,_){var I=Array.prototype.slice.call(arguments,1);return function(){var M=I.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function g(f,_){function I(){}I.prototype=_.prototype,f.Z=_.prototype,f.prototype=new I,f.prototype.constructor=f,f.Ob=function(M,X,ee){for(var de=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)de[$e-2]=arguments[$e];return _.prototype[X].apply(M,de)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function E(f){const _=f.length;if(_>0){const I=Array(_);for(let M=0;M<_;M++)I[M]=f[M];return I}return[]}function A(f,_){for(let M=1;M<arguments.length;M++){const X=arguments[M];var I=typeof X;if(I=I!="object"?I:X?Array.isArray(X)?"array":I:"null",I=="array"||I=="object"&&typeof X.length=="number"){I=f.length||0;const ee=X.length||0;f.length=I+ee;for(let de=0;de<ee;de++)f[I+de]=X[de]}else f.push(X)}}class b{constructor(_,I){this.i=_,this.j=I,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function S(f){a.setTimeout(()=>{throw f},0)}function R(){var f=k;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class V{constructor(){this.h=this.g=null}add(_,I){const M=N.get();M.set(_,I),this.h?this.h.next=M:this.g=M,this.h=M}}var N=new b(()=>new F,f=>f.reset());class F{constructor(){this.next=this.g=this.h=null}set(_,I){this.h=_,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let B,K=!1,k=new V,P=()=>{const f=Promise.resolve(void 0);B=()=>{f.then(D)}};function D(){for(var f;f=R();){try{f.h.call(f.g)}catch(I){S(I)}var _=N;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}K=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const I=()=>{};a.addEventListener("test",I,_),a.removeEventListener("test",I,_)}catch{}return f})();function L(f){return/^[\s\xa0]*$/.test(f)}function xe(f,_){j.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}g(xe,j),xe.prototype.init=function(f,_){const I=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(I=="mouseover"?_=f.fromElement:I=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),Pe=0;function fe(f,_,I,M,X){this.listener=f,this.proxy=null,this.src=_,this.type=I,this.capture=!!M,this.ha=X,this.key=++Pe,this.da=this.fa=!1}function G(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ne(f,_,I){for(const M in f)_.call(I,f[M],M,f)}function ie(f,_){for(const I in f)_.call(void 0,f[I],I,f)}function q(f){const _={};for(const I in f)_[I]=f[I];return _}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(f,_){let I,M;for(let X=1;X<arguments.length;X++){M=arguments[X];for(I in M)f[I]=M[I];for(let ee=0;ee<re.length;ee++)I=re[ee],Object.prototype.hasOwnProperty.call(M,I)&&(f[I]=M[I])}}function Te(f){this.src=f,this.g={},this.h=0}Te.prototype.add=function(f,_,I,M,X){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const de=Oe(f,_,M,X);return de>-1?(_=f[de],I||(_.fa=!1)):(_=new fe(_,this.src,ee,!!M,X),_.fa=I,f.push(_)),_};function Fe(f,_){const I=_.type;if(I in f.g){var M=f.g[I],X=Array.prototype.indexOf.call(M,_,void 0),ee;(ee=X>=0)&&Array.prototype.splice.call(M,X,1),ee&&(G(_),f.g[I].length==0&&(delete f.g[I],f.h--))}}function Oe(f,_,I,M){for(let X=0;X<f.length;++X){const ee=f[X];if(!ee.da&&ee.listener==_&&ee.capture==!!I&&ee.ha==M)return X}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),ze={};function je(f,_,I,M,X){if(Array.isArray(_)){for(let ee=0;ee<_.length;ee++)je(f,_[ee],I,M,X);return null}return I=ha(I),f&&f[Le]?f.J(_,I,c(M)?!!M.capture:!1,X):ht(f,_,I,!1,M,X)}function ht(f,_,I,M,X,ee){if(!_)throw Error("Invalid event type");const de=c(X)?!!X.capture:!!X;let $e=qi(f);if($e||(f[Se]=$e=new Te(f)),I=$e.add(_,I,M,de,ee),I.proxy)return I;if(M=er(),I.proxy=M,M.src=f,M.listener=I,f.addEventListener)z||(X=de),X===void 0&&(X=!1),f.addEventListener(_.toString(),M,X);else if(f.attachEvent)f.attachEvent(Zs(_.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return I}function er(){function f(I){return _.call(f.src,f.listener,I)}const _=zl;return f}function tr(f,_,I,M,X){if(Array.isArray(_))for(var ee=0;ee<_.length;ee++)tr(f,_[ee],I,M,X);else M=c(M)?!!M.capture:!!M,I=ha(I),f&&f[Le]?(f=f.i,ee=String(_).toString(),ee in f.g&&(_=f.g[ee],I=Oe(_,I,M,X),I>-1&&(G(_[I]),Array.prototype.splice.call(_,I,1),_.length==0&&(delete f.g[ee],f.h--)))):f&&(f=qi(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Oe(_,I,M,X)),(I=f>-1?_[f]:null)&&Bn(I))}function Bn(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Le])Fe(_.i,f);else{var I=f.type,M=f.proxy;_.removeEventListener?_.removeEventListener(I,M,f.capture):_.detachEvent?_.detachEvent(Zs(I),M):_.addListener&&_.removeListener&&_.removeListener(M),(I=qi(_))?(Fe(I,f),I.h==0&&(I.src=null,_[Se]=null)):G(f)}}}function Zs(f){return f in ze?ze[f]:ze[f]="on"+f}function zl(f,_){if(f.da)f=!0;else{_=new xe(_,this);const I=f.listener,M=f.ha||f.src;f.fa&&Bn(f),f=I.call(M,_)}return f}function qi(f){return f=f[Se],f instanceof Te?f:null}var ei="__closure_events_fn_"+(Math.random()*1e9>>>0);function ha(f){return typeof f=="function"?f:(f[ei]||(f[ei]=function(_){return f.handleEvent(_)}),f[ei])}function pt(){O.call(this),this.i=new Te(this),this.M=this,this.G=null}g(pt,O),pt.prototype[Le]=!0,pt.prototype.removeEventListener=function(f,_,I,M){tr(this,f,_,I,M)};function Vt(f,_){var I,M=f.G;if(M)for(I=[];M;M=M.G)I.push(M);if(f=f.M,M=_.type||_,typeof _=="string")_=new j(_,f);else if(_ instanceof j)_.target=_.target||f;else{var X=_;_=new j(M,f),ye(_,X)}X=!0;let ee,de;if(I)for(de=I.length-1;de>=0;de--)ee=_.g=I[de],X=Fr(ee,M,!0,_)&&X;if(ee=_.g=f,X=Fr(ee,M,!0,_)&&X,X=Fr(ee,M,!1,_)&&X,I)for(de=0;de<I.length;de++)ee=_.g=I[de],X=Fr(ee,M,!1,_)&&X}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const I=f.g[_];for(let M=0;M<I.length;M++)G(I[M]);delete f.g[_],f.h--}}this.G=null},pt.prototype.J=function(f,_,I,M){return this.i.add(String(f),_,!1,I,M)},pt.prototype.K=function(f,_,I,M){return this.i.add(String(f),_,!0,I,M)};function Fr(f,_,I,M){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let X=!0;for(let ee=0;ee<_.length;++ee){const de=_[ee];if(de&&!de.da&&de.capture==I){const $e=de.listener,Lt=de.ha||de.src;de.fa&&Fe(f.i,de),X=$e.call(Lt,M)!==!1&&X}}return X&&!M.defaultPrevented}function Ku(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:a.setTimeout(f,_||0)}function Qu(f){f.g=Ku(()=>{f.g=null,f.i&&(f.i=!1,Qu(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Vf extends O{constructor(_,I){super(),this.m=_,this.l=I,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(f){O.call(this),this.h=f,this.g={}}g(Hi,O);var Yu=[];function Wl(f){ne(f.g,function(_,I){this.g.hasOwnProperty(I)&&Bn(_)},f),f.g={}}Hi.prototype.N=function(){Hi.Z.N.call(this),Wl(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=a.JSON.stringify,Lf=a.JSON.parse,fa=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Ki(){}function Ff(){}var Qi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ql(){j.call(this,"d")}g(ql,j);function Xu(){j.call(this,"c")}g(Xu,j);var jr={},Hl=null;function Yi(){return Hl=Hl||new pt}jr.Ia="serverreachability";function Gl(f){j.call(this,jr.Ia,f)}g(Gl,j);function ti(f){const _=Yi();Vt(_,new Gl(_))}jr.STAT_EVENT="statevent";function ni(f,_){j.call(this,jr.STAT_EVENT,f),this.stat=_}g(ni,j);function Rt(f){const _=Yi();Vt(_,new ni(_,f))}jr.Ja="timingevent";function Ju(f,_){j.call(this,jr.Ja,f),this.size=_}g(Ju,j);function Xi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},_)}function Ji(){this.g=!0}Ji.prototype.ua=function(){this.g=!1};function jf(f,_,I,M,X,ee){f.info(function(){if(f.g)if(ee){var de="",$e=ee.split("&");for(let ot=0;ot<$e.length;ot++){var Lt=$e[ot].split("=");if(Lt.length>1){const zt=Lt[0];Lt=Lt[1];const ar=zt.split("_");de=ar.length>=2&&ar[1]=="type"?de+(zt+"="+Lt+"&"):de+(zt+"=redacted&")}}}else de=null;else de=ee;return"XMLHTTP REQ ("+M+") [attempt "+X+"]: "+_+`
`+I+`
`+de})}function Uf(f,_,I,M,X,ee,de){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+X+"]: "+_+`
`+I+`
`+ee+" "+de})}function ls(f,_,I,M){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+pa(f,I)+(M?" "+M:"")})}function Bf(f,_){f.info(function(){return"TIMEOUT: "+_})}Ji.prototype.info=function(){};function pa(f,_){if(!f.g)return _;if(!_)return null;try{const ee=JSON.parse(_);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var I=ee[f];if(!(I.length<2)){var M=I[1];if(Array.isArray(M)&&!(M.length<1)){var X=M[0];if(X!="noop"&&X!="stop"&&X!="close")for(let de=1;de<M.length;de++)M[de]=""}}}}return Gi(ee)}catch{return _}}var Zi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$f;function ri(){}g(ri,Ki),ri.prototype.g=function(){return new XMLHttpRequest},$f=new ri;function cs(f){return encodeURIComponent(String(f))}function Kl(f){var _=1;f=f.split(":");const I=[];for(;_>0&&f.length;)I.push(f.shift()),_--;return f.length&&I.push(f.join(":")),I}function vr(f,_,I,M){this.j=f,this.i=_,this.l=I,this.S=M||1,this.V=new Hi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zf}function zf(){this.i=null,this.g="",this.h=!1}var Wf={},Zu={};function Ur(f,_,I){f.M=1,f.A=ii(wr(_)),f.u=I,f.R=!0,ed(f,null)}function ed(f,_){f.F=Date.now(),ma(f),f.B=wr(f.A);var I=f.B,M=f.S;Array.isArray(M)||(M=[String(M)]),ud(I.i,"t",M),f.C=0,I=f.j.L,f.h=new zf,f.g=ep(f.j,I?_:null,!f.u),f.P>0&&(f.O=new Vf(h(f.Y,f,f.g),f.P)),_=f.V,I=f.g,M=f.ba;var X="readystatechange";Array.isArray(X)||(X&&(Yu[0]=X.toString()),X=Yu);for(let ee=0;ee<X.length;ee++){const de=je(I,X[ee],M||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=f.J?q(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),ti(),jf(f.i,f.v,f.B,f.l,f.S,f.u)}vr.prototype.ba=function(f){f=f.target;const _=this.O;_&&gs(f)==3?_.j():this.Y(f)},vr.prototype.Y=function(f){try{if(f==this.g)e:{const $e=gs(this.g),Lt=this.g.ya(),ot=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||Jf(this.g)))){this.K||$e!=4||Lt==7||(Lt==8||ot<=0?ti(3):ti(2)),Ql(this);var _=this.g.ca();this.X=_;var I=qf(this);if(this.o=_==200,Uf(this.i,this.v,this.B,this.l,this.S,$e,_),this.o){if(this.U&&!this.L){t:{if(this.g){var M,X=this.g;if((M=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(M)){var ee=M;break t}}ee=null}if(f=ee)ls(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mt(this,f);else{this.o=!1,this.m=3,Rt(12),si(this),ga(this);break e}}if(this.R){f=!0;let zt;for(;!this.K&&this.C<I.length;)if(zt=Gf(this,I),zt==Zu){$e==4&&(this.m=4,Rt(14),f=!1),ls(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Wf){this.m=4,Rt(15),ls(this.i,this.l,I,"[Invalid Chunk]"),f=!1;break}else ls(this.i,this.l,zt,null),mt(this,zt);if(Hf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||I.length!=0||this.h.h||(this.m=1,Rt(16),f=!1),this.o=this.o&&f,!f)ls(this.i,this.l,I,"[Invalid Chunked Response]"),si(this),ga(this);else if(I.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),ba(de),de.P=!0,Rt(11))}}else ls(this.i,this.l,I,null),mt(this,I);$e==4&&si(this),this.o&&!this.K&&($e==4?ic(this.j,this):(this.o=!1,ma(this)))}else hd(this.g),_==400&&I.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),si(this),ga(this)}}}catch{}finally{}};function qf(f){if(!Hf(f))return f.g.la();const _=Jf(f.g);if(_==="")return"";let I="";const M=_.length,X=gs(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return si(f),ga(f),"";f.h.i=new a.TextDecoder}for(let ee=0;ee<M;ee++)f.h.h=!0,I+=f.h.i.decode(_[ee],{stream:!(X&&ee==M-1)});return _.length=0,f.h.g+=I,f.C=0,f.h.g}function Hf(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Gf(f,_){var I=f.C,M=_.indexOf(`
`,I);return M==-1?Zu:(I=Number(_.substring(I,M)),isNaN(I)?Wf:(M+=1,M+I>_.length?Zu:(_=_.slice(M,M+I),f.C=M+I,_)))}vr.prototype.cancel=function(){this.K=!0,si(this)};function ma(f){f.T=Date.now()+f.H,td(f,f.H)}function td(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Xi(h(f.aa,f),_)}function Ql(f){f.D&&(a.clearTimeout(f.D),f.D=null)}vr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Bf(this.i,this.B),this.M!=2&&(ti(),Rt(17)),si(this),this.m=2,ga(this)):td(this,this.T-f)};function ga(f){f.j.I==0||f.K||ic(f.j,f)}function si(f){Ql(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Wl(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function mt(f,_){try{var I=f.j;if(I.I!=0&&(I.g==f||rd(I.h,f))){if(!f.L&&rd(I.h,f)&&I.I==3){try{var M=I.Ba.g.parse(_)}catch{M=null}if(Array.isArray(M)&&M.length==3){var X=M;if(X[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<f.F)sc(I),ir(I);else break e;ws(I),Rt(18)}}else I.xa=X[1],0<I.xa-I.K&&X[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=Xi(h(I.Va,I),6e3));ya(I.h)<=1&&I.ta&&(I.ta=void 0)}else or(I,11)}else if((f.L||I.g==f)&&sc(I),!L(_))for(X=I.Ba.g.parse(_),_=0;_<X.length;_++){let ot=X[_];const zt=ot[0];if(!(zt<=I.K))if(I.K=zt,ot=ot[1],I.I==2)if(ot[0]=="c"){I.M=ot[1],I.ba=ot[2];const ar=ot[3];ar!=null&&(I.ka=ar,I.j.info("VER="+I.ka));const ui=ot[4];ui!=null&&(I.za=ui,I.j.info("SVER="+I.za));const _s=ot[5];_s!=null&&typeof _s=="number"&&_s>0&&(M=1.5*_s,I.O=M,I.j.info("backChannelRequestTimeoutMs_="+M)),M=I;const Es=f.g;if(Es){const lc=Es.g?Es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lc){var ee=M.h;ee.g||lc.indexOf("spdy")==-1&&lc.indexOf("quic")==-1&&lc.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Xl(ee,ee.h),ee.h=null))}if(M.G){const md=Es.g?Es.g.getResponseHeader("X-HTTP-Session-Id"):null;md&&(M.wa=md,rt(M.J,M.G,md))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-f.F,I.j.info("Handshake RTT: "+I.T+"ms")),M=I;var de=f;if(M.na=pd(M,M.L?M.ba:null,M.W),de.L){va(M.h,de);var $e=de,Lt=M.O;Lt&&($e.H=Lt),$e.D&&(Ql($e),ma($e)),M.g=de}else yn(M);I.i.length>0&&ci(I)}else ot[0]!="stop"&&ot[0]!="close"||or(I,7);else I.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?or(I,7):nc(I):ot[0]!="noop"&&I.l&&I.l.qa(ot),I.A=0)}}ti(4)}catch{}}var qy=class{constructor(f,_){this.g=f,this.map=_}};function Yl(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nd(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ya(f){return f.h?1:f.g?f.g.size:0}function rd(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Xl(f,_){f.g?f.g.add(_):f.h=_}function va(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Yl.prototype.cancel=function(){if(this.i=nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function nr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const I of f.g.values())_=_.concat(I.G);return _}return E(f.i)}var Kf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rr(f,_){if(f){f=f.split("&");for(let I=0;I<f.length;I++){const M=f[I].indexOf("=");let X,ee=null;M>=0?(X=f[I].substring(0,M),ee=f[I].substring(M+1)):X=f[I],_(X,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function us(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof us?(this.l=f.l,wa(this,f.j),this.o=f.o,this.g=f.g,ds(this,f.u),this.h=f.h,to(this,dd(f.i)),this.m=f.m):f&&(_=String(f).match(Kf))?(this.l=!1,wa(this,_[1]||"",!0),this.o=_a(_[2]||""),this.g=_a(_[3]||"",!0),ds(this,_[4]),this.h=_a(_[5]||"",!0),to(this,_[6]||"",!0),this.m=_a(_[7]||"")):(this.l=!1,this.i=new Ye(null,this.l))}us.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(Ea(_,id,!0),":");var I=this.g;return(I||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Ea(_,id,!0),"@"),f.push(cs(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&f.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&f.push("/"),f.push(Ea(I,I.charAt(0)=="/"?xa:od,!0))),(I=this.i.toString())&&f.push("?",I),(I=this.m)&&f.push("#",Ea(I,ad)),f.join("")},us.prototype.resolve=function(f){const _=wr(this);let I=!!f.j;I?wa(_,f.j):I=!!f.o,I?_.o=f.o:I=!!f.g,I?_.g=f.g:I=f.u!=null;var M=f.h;if(I)ds(_,f.u);else if(I=!!f.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var X=_.h.lastIndexOf("/");X!=-1&&(M=_.h.slice(0,X+1)+M)}if(X=M,X==".."||X==".")M="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){M=X.lastIndexOf("/",0)==0,X=X.split("/");const ee=[];for(let de=0;de<X.length;){const $e=X[de++];$e=="."?M&&de==X.length&&ee.push(""):$e==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),M&&de==X.length&&ee.push("")):(ee.push($e),M=!0)}M=ee.join("/")}else M=X}return I?_.h=M:I=f.i.toString()!=="",I?to(_,dd(f.i)):I=!!f.m,I&&(_.m=f.m),_};function wr(f){return new us(f)}function wa(f,_,I){f.j=I?_a(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function ds(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function to(f,_,I){_ instanceof Ye?(f.i=_,Zl(f.i,f.l)):(I||(_=Ea(_,Hy)),f.i=new Ye(_,f.l))}function rt(f,_,I){f.i.set(_,I)}function ii(f){return rt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function _a(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ea(f,_,I){return typeof f=="string"?(f=encodeURI(f).replace(_,sd),I&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function sd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var id=/[#\/\?@]/g,od=/[#\?:]/g,xa=/[#\?]/g,Hy=/[#\?@]/g,ad=/#/g;function Ye(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function hs(f){f.g||(f.g=new Map,f.h=0,f.i&&rr(f.i,function(_,I){f.add(decodeURIComponent(_.replace(/\+/g," ")),I)}))}t=Ye.prototype,t.add=function(f,_){hs(this),this.i=null,f=fs(this,f);let I=this.g.get(f);return I||this.g.set(f,I=[]),I.push(_),this.h+=1,this};function ld(f,_){hs(f),_=fs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Jl(f,_){return hs(f),_=fs(f,_),f.g.has(_)}t.forEach=function(f,_){hs(this),this.g.forEach(function(I,M){I.forEach(function(X){f.call(_,X,M,this)},this)},this)};function cd(f,_){hs(f);let I=[];if(typeof _=="string")Jl(f,_)&&(I=I.concat(f.g.get(fs(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)I=I.concat(f[_]);return I}t.set=function(f,_){return hs(this),this.i=null,f=fs(this,f),Jl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=cd(this,f),f.length>0?String(f[0]):_):_};function ud(f,_,I){ld(f,_),I.length>0&&(f.i=null,f.g.set(fs(f,_),E(I)),f.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let M=0;M<_.length;M++){var I=_[M];const X=cs(I);I=cd(this,I);for(let ee=0;ee<I.length;ee++){let de=X;I[ee]!==""&&(de+="="+cs(I[ee])),f.push(de)}}return this.i=f.join("&")};function dd(f){const _=new Ye;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function fs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Zl(f,_){_&&!f.j&&(hs(f),f.i=null,f.g.forEach(function(I,M){const X=M.toLowerCase();M!=X&&(ld(this,M),ud(this,X,I))},f)),f.j=_}function ps(f,_){const I=new Ji;if(a.Image){const M=new Image;M.onload=p(an,I,"TestLoadImage: loaded",!0,_,M),M.onerror=p(an,I,"TestLoadImage: error",!1,_,M),M.onabort=p(an,I,"TestLoadImage: abort",!1,_,M),M.ontimeout=p(an,I,"TestLoadImage: timeout",!1,_,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else _(!1)}function ms(f,_){const I=new Ji,M=new AbortController,X=setTimeout(()=>{M.abort(),an(I,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:M.signal}).then(ee=>{clearTimeout(X),ee.ok?an(I,"TestPingServer: ok",!0,_):an(I,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(X),an(I,"TestPingServer: error",!1,_)})}function an(f,_,I,M,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),M(I)}catch{}}function Ta(){this.g=new fa}function oi(f){this.i=f.Sb||null,this.h=f.ab||!1}g(oi,Ki),oi.prototype.g=function(){return new sr(this.i,this.h)};function sr(f,_){pt.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(sr,pt),t=sr.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Br(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||a).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,no(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qf(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qf(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?no(this):Br(this),this.readyState==3&&Qf(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,no(this))},t.Na=function(f){this.g&&(this.response=f,no(this))},t.ga=function(){this.g&&no(this)};function no(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Br(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var I=_.next();!I.done;)I=I.value,f.push(I[0]+": "+I[1]),I=_.next();return f.join(`\r
`)};function Br(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Yf(f){let _="";return ne(f,function(I,M){_+=M,_+=":",_+=I,_+=`\r
`}),_}function ec(f,_,I){e:{for(M in I){var M=!1;break e}M=!0}M||(I=Yf(I),typeof f=="string"?I!=null&&cs(I):rt(f,_,I))}function dt(f){pt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(dt,pt);var Xf=/^https?$/i,Gy=["POST","PUT"];t=dt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,I,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$f.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(ee){ro(this,ee);return}if(f=I||"",I=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var X in M)I.set(X,M[X]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ee of M.keys())I.set(ee,M.get(ee));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(I.keys()).find(ee=>ee.toLowerCase()=="content-type"),X=a.FormData&&f instanceof a.FormData,!(Array.prototype.indexOf.call(Gy,_,void 0)>=0)||M||X||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,de]of I)this.g.setRequestHeader(ee,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){ro(this,ee)}};function ro(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,so(f),li(f)}function so(f){f.A||(f.A=!0,Vt(f,"complete"),Vt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Vt(this,"complete"),Vt(this,"abort"),li(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ai(this):this.Xa())},t.Xa=function(){ai(this)};function ai(f){if(f.h&&typeof i<"u"){if(f.v&&gs(f)==4)setTimeout(f.Ca.bind(f),0);else if(Vt(f,"readystatechange"),gs(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var I;if(!(I=_)){var M;if(M=ee===0){let de=String(f.D).match(Kf)[1]||null;!de&&a.self&&a.self.location&&(de=a.self.location.protocol.slice(0,-1)),M=!Xf.test(de?de.toLowerCase():"")}I=M}if(I)Vt(f,"complete"),Vt(f,"success");else{f.o=6;try{var X=gs(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",so(f)}}finally{li(f)}}}}function li(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const I=f.g;f.g=null,_||Vt(f,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function gs(f){return f.g?f.g.readyState:0}t.ca=function(){try{return gs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Lf(_)}};function Jf(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function hd(f){const _={};f=(f.g&&gs(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(L(f[M]))continue;var I=Kl(f[M]);const X=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ee=_[X]||[];_[X]=ee,ee.push(I)}ie(_,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(f,_,I){return I&&I.internalChannelParams&&I.internalChannelParams[f]||_}function tc(f){this.za=0,this.i=[],this.j=new Ji,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ys("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ys("baseRetryDelayMs",5e3,f),this.Za=ys("retryDelaySeedMs",1e4,f),this.Ta=ys("forwardChannelMaxRetries",2,f),this.va=ys("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Yl(f&&f.concurrentRequestLimit),this.Ba=new Ta,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=tc.prototype,t.ka=8,t.I=1,t.connect=function(f,_,I,M){Rt(0),this.W=f,this.H=_||{},I&&M!==void 0&&(this.H.OSID=I,this.H.OAID=M),this.F=this.X,this.J=pd(this,null,this.W),ci(this)};function nc(f){if(rc(f),f.I==3){var _=f.V++,I=wr(f.J);if(rt(I,"SID",f.M),rt(I,"RID",_),rt(I,"TYPE","terminate"),vs(f,I),_=new vr(f,f.j,_),_.M=2,_.A=ii(wr(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(_.A.toString(),"")}catch{}!I&&a.Image&&(new Image().src=_.A,I=!0),I||(_.g=ep(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ma(_)}Sa(f)}function ir(f){f.g&&(ba(f),f.g.cancel(),f.g=null)}function rc(f){ir(f),f.v&&(a.clearTimeout(f.v),f.v=null),sc(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&a.clearTimeout(f.m),f.m=null)}function ci(f){if(!nd(f.h)&&!f.m){f.m=!0;var _=f.Ea;B||P(),K||(B(),K=!0),k.add(_,f),f.D=0}}function Zf(f,_){return ya(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Xi(h(f.Ea,f,_),oc(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new vr(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=q(ee),ye(ee,this.U)):ee=this.U),this.u!==null||this.R||(X.J=ee,ee=null),this.S)e:{for(var _=0,I=0;I<this.i.length;I++){t:{var M=this.i[I];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(_+=M,_>4096){_=I;break e}if(_===4096||I===this.i.length-1){_=I+1;break e}}_=1e3}else _=1e3;_=fd(this,X,_),I=wr(this.J),rt(I,"RID",f),rt(I,"CVER",22),this.G&&rt(I,"X-HTTP-Session-Id",this.G),vs(this,I),ee&&(this.R?_="headers="+cs(Yf(ee))+"&"+_:this.u&&ec(I,this.u,ee)),Xl(this.h,X),this.Ra&&rt(I,"TYPE","init"),this.S?(rt(I,"$req",_),rt(I,"SID","null"),X.U=!0,Ur(X,I,null)):Ur(X,I,_),this.I=2}}else this.I==3&&(f?Ia(this,f):this.i.length==0||nd(this.h)||Ia(this))};function Ia(f,_){var I;_?I=_.l:I=f.V++;const M=wr(f.J);rt(M,"SID",f.M),rt(M,"RID",I),rt(M,"AID",f.K),vs(f,M),f.u&&f.o&&ec(M,f.u,f.o),I=new vr(f,f.j,I,f.D+1),f.u===null&&(I.J=f.o),_&&(f.i=_.G.concat(f.i)),_=fd(f,I,1e3),I.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Xl(f.h,I),Ur(I,M,_)}function vs(f,_){f.H&&ne(f.H,function(I,M){rt(_,M,I)}),f.l&&ne({},function(I,M){rt(_,M,I)})}function fd(f,_,I){I=Math.min(f.i.length,I);const M=f.l?h(f.l.Ka,f.l,f):null;e:{var X=f.i;let $e=-1;for(;;){const Lt=["count="+I];$e==-1?I>0?($e=X[0].g,Lt.push("ofs="+$e)):$e=0:Lt.push("ofs="+$e);let ot=!0;for(let zt=0;zt<I;zt++){var ee=X[zt].g;const ar=X[zt].map;if(ee-=$e,ee<0)$e=Math.max(0,X[zt].g-100),ot=!1;else try{ee="req"+ee+"_"||"";try{var de=ar instanceof Map?ar:Object.entries(ar);for(const[ui,_s]of de){let Es=_s;c(_s)&&(Es=Gi(_s)),Lt.push(ee+ui+"="+encodeURIComponent(Es))}}catch(ui){throw Lt.push(ee+"type="+encodeURIComponent("_badmap")),ui}}catch{M&&M(ar)}}if(ot){de=Lt.join("&");break e}}de=void 0}return f=f.i.splice(0,I),_.G=f,de}function yn(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;B||P(),K||(B(),K=!0),k.add(_,f),f.A=0}}function ws(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Xi(h(f.Da,f),oc(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,io(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Xi(h(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),ir(this),io(this))};function ba(f){f.B!=null&&(a.clearTimeout(f.B),f.B=null)}function io(f){f.g=new vr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=wr(f.na);rt(_,"RID","rpc"),rt(_,"SID",f.M),rt(_,"AID",f.K),rt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&rt(_,"TO",f.ia),rt(_,"TYPE","xmlhttp"),vs(f,_),f.u&&f.o&&ec(_,f.u,f.o),f.O&&(f.g.H=f.O);var I=f.g;f=f.ba,I.M=1,I.A=ii(wr(_)),I.u=null,I.R=!0,ed(I,f)}t.Va=function(){this.C!=null&&(this.C=null,ir(this),ws(this),Rt(19))};function sc(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function ic(f,_){var I=null;if(f.g==_){sc(f),ba(f),f.g=null;var M=2}else if(rd(f.h,_))I=_.G,va(f.h,_),M=1;else return;if(f.I!=0){if(_.o)if(M==1){I=_.u?_.u.length:0,_=Date.now()-_.F;var X=f.D;M=Yi(),Vt(M,new Ju(M,I)),ci(f)}else yn(f);else if(X=_.m,X==3||X==0&&_.X>0||!(M==1&&Zf(f,_)||M==2&&ws(f)))switch(I&&I.length>0&&(_=f.h,_.i=_.i.concat(I)),X){case 1:or(f,5);break;case 4:or(f,10);break;case 3:or(f,6);break;default:or(f,2)}}}function oc(f,_){let I=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(I*=2),I*_}function or(f,_){if(f.j.info("Error code "+_),_==2){var I=h(f.bb,f),M=f.Ua;const X=!M;M=new us(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||wa(M,"https"),ii(M),X?ps(M.toString(),I):ms(M.toString(),I)}else Rt(2);f.I=0,f.l&&f.l.pa(_),Sa(f),rc(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Sa(f){if(f.I=0,f.ja=[],f.l){const _=nr(f.h);(_.length!=0||f.i.length!=0)&&(A(f.ja,_),A(f.ja,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.oa()}}function pd(f,_,I){var M=I instanceof us?wr(I):new us(I);if(M.g!="")_&&(M.g=_+"."+M.g),ds(M,M.u);else{var X=a.location;M=X.protocol,_=_?_+"."+X.hostname:X.hostname,X=+X.port;const ee=new us(null);M&&wa(ee,M),_&&(ee.g=_),X&&ds(ee,X),I&&(ee.h=I),M=ee}return I=f.G,_=f.wa,I&&_&&rt(M,I,_),rt(M,"VER",f.ka),vs(f,M),M}function ep(f,_,I){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new dt(new oi({ab:I})):new dt(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tp(){}t=tp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ac(){}ac.prototype.g=function(f,_){return new ln(f,_)};function ln(f,_){pt.call(this),this.g=new tc(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!L(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!L(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new oo(this)}g(ln,pt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){nc(this.g)},ln.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var I={};I.__data__=f,f=I}else this.v&&(I={},I.__data__=Gi(f),f=I);_.i.push(new qy(_.Ya++,f)),_.I==3&&ci(_)},ln.prototype.N=function(){this.g.l=null,delete this.j,nc(this.g),delete this.g,ln.Z.N.call(this)};function np(f){ql.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const I in _){f=I;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}g(np,ql);function rp(){Xu.call(this),this.status=1}g(rp,Xu);function oo(f){this.g=f}g(oo,tp),oo.prototype.ra=function(){Vt(this.g,"a")},oo.prototype.qa=function(f){Vt(this.g,new np(f))},oo.prototype.pa=function(f){Vt(this.g,new rp)},oo.prototype.oa=function(){Vt(this.g,"b")},ac.prototype.createWebChannel=ac.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,VR=function(){return new ac},OR=function(){return Yi()},MR=jr,P_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,Sm=Zi,eo.COMPLETE="complete",NR=eo,Ff.EventType=Qi,Qi.OPEN="a",Qi.CLOSE="b",Qi.ERROR="c",Qi.MESSAGE="d",pt.prototype.listen=pt.prototype.J,Zd=Ff,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,DR=dt}).apply(typeof Zp<"u"?Zp:typeof self<"u"?self:typeof window<"u"?window:{});const TS="@firebase/firestore",IS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=new Hg("@firebase/firestore");function Uc(){return El.logLevel}function le(t,...e){if(El.logLevel<=Ge.DEBUG){const n=e.map(gE);El.debug(`Firestore (${Ou}): ${t}`,...n)}}function Dn(t,...e){if(El.logLevel<=Ge.ERROR){const n=e.map(gE);El.error(`Firestore (${Ou}): ${t}`,...n)}}function xl(t,...e){if(El.logLevel<=Ge.WARN){const n=e.map(gE);El.warn(`Firestore (${Ou}): ${t}`,...n)}}function gE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,LR(t,r,n)}function LR(t,e,n){let r=`FIRESTORE (${Ou}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Dn(r),new Error(r)}function Ae(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||LR(e,s,r)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class C3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class R3{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vs,e.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const u=i;e.enqueueRetryable((async()=>{await u.promise,await s(this.currentUser)}))},c=u=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vs)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new FR(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class k3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new k3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=M3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function C_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Pw(s)===Pw(i)?Ue(s,i):Pw(s)?1:-1}return Ue(t.length,e.length)}const O3=55296,V3=57343;function Pw(t){const e=t.charCodeAt(0);return e>=O3&&e<=V3}function yu(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function jR(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="__name__";class Ss{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ss.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ue(e.length,n.length)}static compareSegments(e,n){const r=Ss.isNumericId(e),s=Ss.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ss.extractNumericId(e).compare(Ss.extractNumericId(n)):C_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Go.fromString(e.substring(4,e.length-2))}}class st extends Ss{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const L3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Ss{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return L3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SS}static keyField(){return new St([SS])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ue(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ue(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ue(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else c==="`"?(a=!a,s++):c!=="."||a?(r+=c,s++):(i(),s++)}if(i(),a)throw new ue(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(st.fromString(e))}static fromName(e){return new he(st.fromString(e).popFirst(5))}static empty(){return new he(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t,e,n){if(!n)throw new ue(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function F3(t,e,n,r){if(e===!0&&r===!0)throw new ue(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AS(t){if(!he.isDocumentKey(t))throw new ue(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PS(t){if(he.isDocumentKey(t))throw new ue(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function BR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function On(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jg(t);throw new ue(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function df(t,e){if(!BR(t))throw new ue(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ue(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=-62135596800,RS=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*RS);return new Ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CS)throw new ue(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RS}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(df(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:Gt("string",Ke._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ke(0,0))}static max(){return new Ce(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=-1;class og{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function R_(t){return t.fields.find((e=>e.kind===2))}function za(t){return t.fields.filter((e=>e.kind!==2))}og.UNKNOWN_ID=-1;class Am{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ah{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ah(0,yr.min())}}function j3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ce.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new yr(s,he.empty(),e)}function $R(t){return new yr(t.readTime,t.key,Sh)}class yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yr(Ce.min(),he.empty(),Sh)}static max(){return new yr(Ce.max(),he.empty(),Sh)}}function vE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==zR)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let s=0,i=0,a=!1;e.forEach((c=>{++s,c.next((()=>{++i,a&&i===s&&n()}),(u=>r(u)))})),a=!0,i===s&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((s=>s?Q.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,s)=>{const i=e.length,a=new Array(i);let c=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next((p=>{a[h]=p,++c,c===i&&r(a)}),(p=>s(p)))}}))}static doWhile(e,n){return new Q(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="SimpleDb";class Zg{static open(e,n,r,s){try{return new Zg(n,e.transaction(s,r))}catch(i){throw new ch(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Vs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new ch(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=wE(r.target.error);this.S.reject(new ch(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(dr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new B3(n)}}class Ko{static delete(e){return le(dr,"Removing database:",e),Ka(OC().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!qg())return!1;if(Ko.F())return!0;const e=Jt(),n=Ko.M(e),r=0<n&&n<10,s=qR(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Ko.M(Jt())===12.2&&Dn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(dr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const a=i.target.result;n(a)},s.onblocked=()=>{r(new ch(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const a=i.target.error;a.name==="VersionError"?r(new ue(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new ue(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new ch(e,a))},s.onupgradeneeded=i=>{le(dr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.N.k(a,s.transaction,i.oldVersion,this.version).next((()=>{le(dr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const c=Zg.open(this.db,e,i?"readonly":"readwrite",r),u=s(c).next((h=>(c.C(),h))).catch((h=>(c.abort(h),Q.reject(h)))).toPromise();return u.catch((()=>{})),await c.D,u}catch(c){const u=c,h=u.name!=="FirebaseError"&&a<3;if(le(dr,"Transaction failed with error:",u.message,"Retrying:",h),this.close(),!h)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function qR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class U3{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Ka(this.U.delete())}}class ch extends ue{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ca(t){return t.name==="IndexedDbTransactionError"}class B3{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(le(dr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(le(dr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ka(r)}add(e){return le(dr,"ADD",this.store.name,e,e),Ka(this.store.add(e))}get(e){return Ka(this.store.get(e)).next((n=>(n===void 0&&(n=null),le(dr,"GET",this.store.name,e,n),n)))}delete(e){return le(dr,"DELETE",this.store.name,e),Ka(this.store.delete(e))}count(){return le(dr,"COUNT",this.store.name),Ka(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Q(((a,c)=>{i.onerror=u=>{c(u.target.error)},i.onsuccess=u=>{a(u.target.result)}}))}{const i=this.cursor(r),a=[];return this.H(i,((c,u)=>{a.push(u)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((s,i)=>{r.onerror=a=>{i(a.target.error)},r.onsuccess=a=>{s(a.target.result)}}))}Z(e,n){le(dr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,((i,a,c)=>c.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new Q(((r,s)=>{n.onerror=i=>{const a=wE(i.target.error);s(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next((c=>{c?a.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((s,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const c=a.target.result;if(!c)return void s();const u=new U3(c),h=n(c.primaryKey,c.value,u);if(h instanceof Q){const p=h.catch((g=>(u.done(),Q.reject(g))));r.push(p)}u.isDone?s():u.G===null?c.continue():c.continue(u.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ka(t){return new Q(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=wE(r.target.error);n(s)}}))}let kS=!1;function wE(t){const e=Ko.M(Jt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kS||(kS=!0,setTimeout((()=>{throw r}),0)),r}}return t}const uh="IndexBackfiller";class $3{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(uh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();le(uh,`Documents written: ${n}`)}catch(n){ca(n)?le(uh,"Ignoring IndexedDB error during index backfill: ",n):await Ll(n)}await this.re(6e4)}))}}class z3{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let s=n,i=!0;return Q.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return le(uh,`Processing collection: ${a}`),this.oe(e,a,s).next((c=>{s-=c,r.add(a)}));i=!1})))).next((()=>n-s))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((i=>{const a=i.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(s,i))).next((c=>(le(uh,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((s,i)=>{const a=$R(i);vE(a,r)>0&&(r=a)})),new yr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=-1;function ey(t){return t==null}function Ph(t){return t===0&&1/t==-1/0}function W3(t){return typeof t=="number"&&Number.isInteger(t)&&!Ph(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="";function An(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=DS(e)),e=q3(t.get(n),e);return DS(e)}function q3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case ag:n+="";break;default:n+=i}}return n}function DS(t){return t+ag+""}function ks(t){const e=t.length;if(Ae(e>=2,64408,{path:t}),e===2)return Ae(t.charAt(0)===ag&&t.charAt(1)==="",56145,{path:t}),st.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const a=t.indexOf(ag,i);switch((a<0||a>n)&&Ee(50515,{path:t}),t.charAt(a+1)){case"":const c=t.substring(i,a);let u;s.length===0?u=c:(s+=c,u=s,s=""),r.push(u);break;case"":s+=t.substring(i,a),s+="\0";break;case"":s+=t.substring(i,a+1);break;default:Ee(61167,{path:t})}i=a+2}return new st(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="remoteDocuments",hf="owner",Cc="owner",Ch="mutationQueues",H3="userId",Xr="mutations",NS="batchId",Ja="userMutationsIndex",MS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e){return[t,An(e)]}function HR(t,e,n){return[t,An(e),n]}const G3={},vu="documentMutations",lg="remoteDocumentsV14",K3=["prefixPath","collectionGroup","readTime","documentId"],Cm="documentKeyIndex",Q3=["prefixPath","collectionGroup","documentId"],GR="collectionGroupIndex",Y3=["collectionGroup","readTime","prefixPath","documentId"],Rh="remoteDocumentGlobal",k_="remoteDocumentGlobalKey",wu="targets",KR="queryTargetsIndex",X3=["canonicalId","targetId"],_u="targetDocuments",J3=["targetId","path"],_E="documentTargetsIndex",Z3=["path","targetId"],cg="targetGlobalKey",fl="targetGlobal",kh="collectionParents",e6=["collectionId","parent"],Eu="clientMetadata",t6="clientId",ty="bundles",n6="bundleId",ny="namedQueries",r6="name",EE="indexConfiguration",s6="indexId",D_="collectionGroupIndex",i6="collectionGroup",dh="indexState",o6=["indexId","uid"],QR="sequenceNumberIndex",a6=["uid","sequenceNumber"],hh="indexEntries",l6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],YR="documentKeyIndex",c6=["indexId","uid","orderedDocumentKey"],ry="documentOverlays",u6=["userId","collectionPath","documentId"],N_="collectionPathOverlayIndex",d6=["userId","collectionPath","largestBatchId"],XR="collectionGroupOverlayIndex",h6=["userId","collectionGroup","largestBatchId"],xE="globals",f6="name",JR=[Ch,Xr,vu,Wa,wu,hf,fl,_u,Eu,Rh,kh,ty,ny],p6=[...JR,ry],ZR=[Ch,Xr,vu,lg,wu,hf,fl,_u,Eu,Rh,kh,ty,ny,ry],ek=ZR,TE=[...ek,EE,dh,hh],m6=TE,tk=[...TE,xE],g6=tk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_ extends WR{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Zt(t,e){const n=Be(t);return Ko.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new em(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new em(this.root,e,this.comparator,!1)}getReverseIterator(){return new em(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new em(this.root,e,this.comparator,!0)}}class em{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??fn.RED,this.left=s??fn.EMPTY,this.right=i??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new fn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return fn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VS(this.data.getIterator())}getIteratorFrom(e){return new VS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class VS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Rc(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new ct(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rk("Invalid base64 string: "+i):i}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const y6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(t){if(Ae(!!t,39018),typeof t=="string"){let e=0;const n=y6.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Di(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="server_timestamp",ik="__type__",ok="__previous_value__",ak="__local_write_time__";function IE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[ik])==null?void 0:r.stringValue)===sk}function sy(t){const e=t.mapValue.fields[ok];return IE(e)?sy(e):e}function Dh(t){const e=ki(t.mapValue.fields[ak].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n,r,s,i,a,c,u,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=p}}const ug="(default)";class Tl{constructor(e,n){this.projectId=e,this.database=n||ug}static empty(){return new Tl("","")}get isDefaultDatabase(){return this.database===ug}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="__type__",lk="__max__",Wo={mapValue:{fields:{__type__:{stringValue:lk}}}},SE="__vector__",xu="value",Rm={nullValue:"NULL_VALUE"};function Jo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?IE(t)?4:ck(t)?9007199254740991:iy(t)?10:11:Ee(28295,{value:t})}function $s(t,e){if(t===e)return!0;const n=Jo(t);if(n!==Jo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dh(t).isEqual(Dh(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=ki(s.timestampValue),c=ki(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return Di(s.bytesValue).isEqual(Di(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Et(s.geoPointValue.latitude)===Et(i.geoPointValue.latitude)&&Et(s.geoPointValue.longitude)===Et(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Et(s.integerValue)===Et(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Et(s.doubleValue),c=Et(i.doubleValue);return a===c?Ph(a)===Ph(c):isNaN(a)&&isNaN(c)}return!1})(t,e);case 9:return yu(t.arrayValue.values||[],e.arrayValue.values||[],$s);case 10:case 11:return(function(s,i){const a=s.mapValue.fields||{},c=i.mapValue.fields||{};if(OS(a)!==OS(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!$s(a[u],c[u])))return!1;return!0})(t,e);default:return Ee(52216,{left:t})}}function Nh(t,e){return(t.values||[]).find((n=>$s(n,e)))!==void 0}function Zo(t,e){if(t===e)return 0;const n=Jo(t),r=Jo(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return(function(i,a){const c=Et(i.integerValue||i.doubleValue),u=Et(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return LS(t.timestampValue,e.timestampValue);case 4:return LS(Dh(t),Dh(e));case 5:return C_(t.stringValue,e.stringValue);case 6:return(function(i,a){const c=Di(i),u=Di(a);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(i,a){const c=i.split("/"),u=a.split("/");for(let h=0;h<c.length&&h<u.length;h++){const p=Ue(c[h],u[h]);if(p!==0)return p}return Ue(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,a){const c=Ue(Et(i.latitude),Et(a.latitude));return c!==0?c:Ue(Et(i.longitude),Et(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return FS(t.arrayValue,e.arrayValue);case 10:return(function(i,a){var y,E,A,b;const c=i.fields||{},u=a.fields||{},h=(y=c[xu])==null?void 0:y.arrayValue,p=(E=u[xu])==null?void 0:E.arrayValue,g=Ue(((A=h==null?void 0:h.values)==null?void 0:A.length)||0,((b=p==null?void 0:p.values)==null?void 0:b.length)||0);return g!==0?g:FS(h,p)})(t.mapValue,e.mapValue);case 11:return(function(i,a){if(i===Wo.mapValue&&a===Wo.mapValue)return 0;if(i===Wo.mapValue)return 1;if(a===Wo.mapValue)return-1;const c=i.fields||{},u=Object.keys(c),h=a.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const y=C_(u[g],p[g]);if(y!==0)return y;const E=Zo(c[u[g]],h[p[g]]);if(E!==0)return E}return Ue(u.length,p.length)})(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function LS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=ki(t),r=ki(e),s=Ue(n.seconds,r.seconds);return s!==0?s:Ue(n.nanos,r.nanos)}function FS(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Zo(n[s],r[s]);if(i)return i}return Ue(n.length,r.length)}function Tu(t){return O_(t)}function O_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ki(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Di(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return he.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=O_(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${O_(n.fields[a])}`;return s+"}"})(t.mapValue):Ee(61005,{value:t})}function km(t){switch(Jo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sy(t);return e?16+km(e):16;case 5:return 2*t.stringValue.length;case 6:return Di(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+km(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return ua(r.fields,((i,a)=>{s+=i.length+km(a)})),s})(t.mapValue);default:throw Ee(13486,{value:t})}}function Mh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function V_(t){return!!t&&"integerValue"in t}function Oh(t){return!!t&&"arrayValue"in t}function jS(t){return!!t&&"nullValue"in t}function US(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dm(t){return!!t&&"mapValue"in t}function iy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[bE])==null?void 0:r.stringValue)===SE}function fh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ua(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=fh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fh(t.arrayValue.values[n]);return e}return{...t}}function ck(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lk}const uk={mapValue:{fields:{[bE]:{stringValue:SE},[xu]:{arrayValue:{}}}}};function w6(t){return"nullValue"in t?Rm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Mh(Tl.empty(),he.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?iy(t)?uk:{mapValue:{}}:Ee(35942,{value:t})}function _6(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Mh(Tl.empty(),he.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?uk:"mapValue"in t?iy(t)?{mapValue:{}}:Wo:Ee(61959,{value:t})}function BS(t,e){const n=Zo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function $S(t,e){const n=Zo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fh(n)}setAll(e){let n=St.emptyPath(),r={},s=[];e.forEach(((a,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=c.popLast()}a?r[c.lastSegment()]=fh(a):s.push(c.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Dm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Dm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ua(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new In(fh(this.value))}}function dk(t){const e=[];return ua(t.fields,((n,r)=>{const s=new St([n]);if(Dm(r)){const i=dk(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)})),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,s,i,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Mt(e,0,Ce.min(),Ce.min(),Ce.min(),In.empty(),0)}static newFoundDocument(e,n,r,s){return new Mt(e,1,n,Ce.min(),r,s,0)}static newNoDocument(e,n){return new Mt(e,2,n,Ce.min(),Ce.min(),In.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,Ce.min(),Ce.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.position=e,this.inclusive=n}}function zS(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=he.comparator(he.fromName(a.referenceValue),n.key):r=Zo(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function WS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$s(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function E6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{}class Qe extends hk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new x6(e,n,r):n==="array-contains"?new b6(e,r):n==="in"?new vk(e,r):n==="not-in"?new S6(e,r):n==="array-contains-any"?new A6(e,r):new Qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new T6(e,r):new I6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zo(n,this.value)):n!==null&&Jo(this.value)===Jo(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends hk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lt(e,n)}matches(e){return bu(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bu(t){return t.op==="and"}function L_(t){return t.op==="or"}function AE(t){return fk(t)&&bu(t)}function fk(t){for(const e of t.filters)if(e instanceof lt)return!1;return!0}function F_(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+Tu(t.value);if(AE(t))return t.filters.map((e=>F_(e))).join(",");{const e=t.filters.map((n=>F_(n))).join(",");return`${t.op}(${e})`}}function pk(t,e){return t instanceof Qe?(function(r,s){return s instanceof Qe&&r.op===s.op&&r.field.isEqual(s.field)&&$s(r.value,s.value)})(t,e):t instanceof lt?(function(r,s){return s instanceof lt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,a,c)=>i&&pk(a,s.filters[c])),!0):!1})(t,e):void Ee(19439)}function mk(t,e){const n=t.filters.concat(e);return lt.create(n,t.op)}function gk(t){return t instanceof Qe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Tu(n.value)}`})(t):t instanceof lt?(function(n){return n.op.toString()+" {"+n.getFilters().map(gk).join(" ,")+"}"})(t):"Filter"}class x6 extends Qe{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class T6 extends Qe{constructor(e,n){super(e,"in",n),this.keys=yk("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class I6 extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=yk("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function yk(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>he.fromName(r.referenceValue)))}class b6 extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Oh(n)&&Nh(n.arrayValue,this.value)}}class vk extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nh(this.value.arrayValue,n)}}class S6 extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nh(this.value.arrayValue,n)}}class A6 extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Oh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Nh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n=null,r=[],s=[],i=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=c,this.Te=null}}function j_(t,e=null,n=[],r=[],s=null,i=null,a=null){return new P6(t,e,n,r,s,i,a)}function Il(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>F_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),ey(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Tu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Tu(r))).join(",")),e.Te=n}return e.Te}function ff(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!E6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WS(t.startAt,e.startAt)&&WS(t.endAt,e.endAt)}function dg(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function hg(t,e){return t.filters.filter((n=>n instanceof Qe&&n.field.isEqual(e)))}function qS(t,e,n){let r=Rm,s=!0;for(const i of hg(t,e)){let a=Rm,c=!0;switch(i.op){case"<":case"<=":a=w6(i.value);break;case"==":case"in":case">=":a=i.value;break;case">":a=i.value,c=!1;break;case"!=":case"not-in":a=Rm}BS({value:r,inclusive:s},{value:a,inclusive:c})<0&&(r=a,s=c)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];BS({value:r,inclusive:s},{value:a,inclusive:n.inclusive})<0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}function HS(t,e,n){let r=Wo,s=!0;for(const i of hg(t,e)){let a=Wo,c=!0;switch(i.op){case">=":case">":a=_6(i.value),c=!1;break;case"==":case"in":case"<=":a=i.value;break;case"<":a=i.value,c=!1;break;case"!=":case"not-in":a=Wo}$S({value:r,inclusive:s},{value:a,inclusive:c})>0&&(r=a,s=c)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];$S({value:r,inclusive:s},{value:a,inclusive:n.inclusive})>0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n=null,r=[],s=[],i=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function C6(t,e,n,r,s,i,a,c){return new Vu(t,e,n,r,s,i,a,c)}function pf(t){return new Vu(t)}function GS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wk(t){return t.collectionGroup!==null}function ph(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new ct(St.comparator);return a.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Vh(i,r))})),n.has(St.keyField().canonicalString())||e.Ie.push(new Vh(St.keyField(),r))}return e.Ie}function Nr(t){const e=Be(t);return e.Ee||(e.Ee=R6(e,ph(t))),e.Ee}function R6(t,e){if(t.limitType==="F")return j_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Vh(s.field,i)}));const n=t.endAt?new Iu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Iu(t.startAt.position,t.startAt.inclusive):null;return j_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function U_(t,e){const n=t.filters.concat([e]);return new Vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fg(t,e,n){return new Vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oy(t,e){return ff(Nr(t),Nr(e))&&t.limitType===e.limitType}function _k(t){return`${Il(Nr(t))}|lt:${t.limitType}`}function Bc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>gk(s))).join(", ")}]`),ey(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Tu(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Tu(s))).join(",")),`Target(${r})`})(Nr(t))}; limitType=${t.limitType})`}function mf(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):he.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of ph(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(a,c,u){const h=zS(a,c,u);return a.inclusive?h<=0:h<0})(r.startAt,ph(r),s)||r.endAt&&!(function(a,c,u){const h=zS(a,c,u);return a.inclusive?h>=0:h>0})(r.endAt,ph(r),s))})(t,e)}function k6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ek(t){return(e,n)=>{let r=!1;for(const s of ph(t)){const i=D6(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function D6(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):(function(i,a,c){const u=a.data.field(i),h=c.data.field(i);return u!==null&&h!==null?Zo(u,h):Ee(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return nk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=new Tt(he.comparator);function pr(){return N6}const xk=new Tt(he.comparator);function eh(...t){let e=xk;for(const n of t)e=e.insert(n.key,n);return e}function Tk(t){let e=xk;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ds(){return mh()}function Ik(){return mh()}function mh(){return new Bi((t=>t.toString()),((t,e)=>t.isEqual(e)))}const M6=new Tt(he.comparator),O6=new ct(he.comparator);function qe(...t){let e=O6;for(const n of t)e=e.add(n);return e}const V6=new ct(Ue);function L6(){return V6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function bk(t){return{integerValue:""+t}}function F6(t,e){return W3(e)?bk(e):PE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this._=void 0}}function j6(t,e,n){return t instanceof Su?(function(s,i){const a={fields:{[ik]:{stringValue:sk},[ak]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&IE(i)&&(i=sy(i)),i&&(a.fields[ok]=i),{mapValue:a}})(n,e):t instanceof Au?Ak(t,e):t instanceof Pu?Pk(t,e):(function(s,i){const a=Sk(s,i),c=KS(a)+KS(s.Ae);return V_(a)&&V_(s.Ae)?bk(c):PE(s.serializer,c)})(t,e)}function U6(t,e,n){return t instanceof Au?Ak(t,e):t instanceof Pu?Pk(t,e):n}function Sk(t,e){return t instanceof Lh?(function(r){return V_(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Su extends ay{}class Au extends ay{constructor(e){super(),this.elements=e}}function Ak(t,e){const n=Ck(e);for(const r of t.elements)n.some((s=>$s(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Pu extends ay{constructor(e){super(),this.elements=e}}function Pk(t,e){let n=Ck(e);for(const r of t.elements)n=n.filter((s=>!$s(s,r)));return{arrayValue:{values:n}}}class Lh extends ay{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function KS(t){return Et(t.integerValue||t.doubleValue)}function Ck(t){return Oh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n){this.field=e,this.transform=n}}function B6(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Au&&s instanceof Au||r instanceof Pu&&s instanceof Pu?yu(r.elements,s.elements,$s):r instanceof Lh&&s instanceof Lh?$s(r.Ae,s.Ae):r instanceof Su&&s instanceof Su})(t.transform,e.transform)}class $6{constructor(e,n){this.version=e,this.transformResults=n}}class bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let ly=class{};function kk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cy(t.key,bn.none()):new Lu(t.key,t.data,bn.none());{const n=t.data,r=In.empty();let s=new ct(St.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new $i(t.key,r,new Yn(s.toArray()),bn.none())}}function z6(t,e,n){t instanceof Lu?(function(s,i,a){const c=s.value.clone(),u=YS(s.fieldTransforms,i,a.transformResults);c.setAll(u),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):t instanceof $i?(function(s,i,a){if(!Nm(s.precondition,i))return void i.convertToUnknownDocument(a.version);const c=YS(s.fieldTransforms,i,a.transformResults),u=i.data;u.setAll(Dk(s)),u.setAll(c),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):(function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function gh(t,e,n,r){return t instanceof Lu?(function(i,a,c,u){if(!Nm(i.precondition,a))return c;const h=i.value.clone(),p=XS(i.fieldTransforms,u,a);return h.setAll(p),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof $i?(function(i,a,c,u){if(!Nm(i.precondition,a))return c;const h=XS(i.fieldTransforms,u,a),p=a.data;return p.setAll(Dk(i)),p.setAll(h),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(i,a,c){return Nm(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c})(t,e,n)}function W6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Sk(r.transform,s||null);i!=null&&(n===null&&(n=In.empty()),n.set(r.field,i))}return n||null}function QS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&yu(r,s,((i,a)=>B6(i,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lu extends ly{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $i extends ly{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Dk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function YS(t,e,n){const r=new Map;Ae(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,c=e.data.field(i.field);r.set(i.field,U6(a,c,n[s]))}return r}function XS(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,j6(i,a,e))}return r}class cy extends ly{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nk extends ly{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&z6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ik();return this.mutations.forEach((s=>{const i=e.get(s.key),a=i.overlayedDocument;let c=this.applyToLocalView(a,i.mutatedFields);c=n.has(s.key)?null:c;const u=kk(a,c);u!==null&&r.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&yu(this.mutations,e.mutations,((n,r)=>QS(n,r)))&&yu(this.baseMutations,e.baseMutations,((n,r)=>QS(n,r)))}}class RE{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return M6})();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new RE(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Ze;function H6(t){switch(t){case te.OK:return Ee(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function Mk(t){if(t===void 0)return Dn("GRPC error has no .code"),te.UNKNOWN;switch(t){case qt.OK:return te.OK;case qt.CANCELLED:return te.CANCELLED;case qt.UNKNOWN:return te.UNKNOWN;case qt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case qt.INTERNAL:return te.INTERNAL;case qt.UNAVAILABLE:return te.UNAVAILABLE;case qt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case qt.NOT_FOUND:return te.NOT_FOUND;case qt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case qt.ABORTED:return te.ABORTED;case qt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case qt.DATA_LOSS:return te.DATA_LOSS;default:return Ee(39323,{code:t})}}(Ze=qt||(qt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=new Go([4294967295,4294967295],0);function JS(t){const e=G6().encode(t),n=new kR;return n.update(e),new Uint8Array(n.digest())}function ZS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Go([n,r],0),new Go([s,i],0)]}class DE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new th(`Invalid padding: ${n}`);if(r<0)throw new th(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new th(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new th(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Go.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Go.fromNumber(r)));return s.compare(K6)===1&&(s=new Go([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=JS(e),[r,s]=ZS(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new DE(i,s,n);return r.forEach((c=>a.insert(c))),a}insert(e){if(this.ge===0)return;const n=JS(e),[r,s]=ZS(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class th extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,gf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uy(Ce.min(),s,new Tt(Ue),pr(),qe())}}class gf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gf(r,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Ok{constructor(e,n){this.targetId=e,this.Ce=n}}class Vk{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class e1{constructor(){this.ve=0,this.Fe=t1(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),r=qe();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ee(38017,{changeType:i})}})),new gf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=t1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Q6{constructor(e){this.Ge=e,this.ze=new Map,this.je=pr(),this.Je=tm(),this.He=tm(),this.Ye=new Tt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(dg(i))if(r===0){const a=new he(i.path);this.et(n,a,Mt.newNoDocument(a,Ce.min()))}else Ae(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const c=this.ut(e),u=c?this.ct(c,e,a):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,c;try{a=Di(r).toUint8Array()}catch(u){if(u instanceof rk)return xl("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new DE(a,s,i)}catch(u){return xl(u instanceof th?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const a=this.Ge.ht(),c=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,a)=>{const c=this.ot(a);if(c){if(i.current&&dg(c.target)){const u=new he(c.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,Mt.newNoDocument(u,e))}i.Be&&(n.set(a,i.ke()),i.qe())}}));let r=qe();this.He.forEach(((i,a)=>{let c=!0;a.forEachWhile((u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(e)));const s=new uy(e,n,this.Ye,this.je,r);return this.je=pr(),this.Je=tm(),this.He=tm(),this.Ye=new Tt(Ue),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new e1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ct(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ct(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new e1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function tm(){return new Tt(he.comparator)}function t1(){return new Tt(he.comparator)}const Y6={asc:"ASCENDING",desc:"DESCENDING"},X6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J6={and:"AND",or:"OR"};class Z6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function B_(t,e){return t.useProto3Json||ey(e)?e:{value:e}}function Cu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eU(t,e){return Cu(t,e.toTimestamp())}function Vn(t){return Ae(!!t,49232),Ce.fromTimestamp((function(n){const r=ki(n);return new Ke(r.seconds,r.nanos)})(t))}function NE(t,e){return $_(t,e).canonicalString()}function $_(t,e){const n=(function(s){return new st(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Fk(t){const e=st.fromString(t);return Ae(Gk(e),10190,{key:e.toString()}),e}function pg(t,e){return NE(t.databaseId,e.path)}function pl(t,e){const n=Fk(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(Bk(n))}function jk(t,e){return NE(t.databaseId,e)}function Uk(t){const e=Fk(t);return e.length===4?st.emptyPath():Bk(e)}function z_(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bk(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function n1(t,e,n){return{name:pg(t,e),fields:n.value.mapValue.fields}}function tU(t,e,n){const r=pl(t,e.name),s=Vn(e.updateTime),i=e.createTime?Vn(e.createTime):Ce.min(),a=new In({mapValue:{fields:e.fields}}),c=Mt.newFoundDocument(r,s,i,a);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function nU(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ee(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(h,p){return h.useProto3Json?(Ae(p===void 0||typeof p=="string",58123),Kt.fromBase64String(p||"")):(Ae(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Kt.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&(function(h){const p=h.code===void 0?te.UNKNOWN:Mk(h.code);return new ue(p,h.message||"")})(a);n=new Vk(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=pl(t,r.document.name),i=Vn(r.document.updateTime),a=r.document.createTime?Vn(r.document.createTime):Ce.min(),c=new In({mapValue:{fields:r.document.fields}}),u=Mt.newFoundDocument(s,i,a,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Mm(h,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=pl(t,r.document),i=r.readTime?Vn(r.readTime):Ce.min(),a=Mt.newNoDocument(s,i),c=r.removedTargetIds||[];n=new Mm([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=pl(t,r.document),i=r.removedTargetIds||[];n=new Mm([],i,s,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new q6(s,i),c=r.targetId;n=new Ok(c,a)}}return n}function mg(t,e){let n;if(e instanceof Lu)n={update:n1(t,e.key,e.value)};else if(e instanceof cy)n={delete:pg(t,e.key)};else if(e instanceof $i)n={update:n1(t,e.key,e.data),updateMask:lU(e.fieldMask)};else{if(!(e instanceof Nk))return Ee(16599,{Vt:e.type});n={verify:pg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,a){const c=a.transform;if(c instanceof Su)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Au)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Pu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Lh)return{fieldPath:a.field.canonicalString(),increment:c.Ae};throw Ee(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:eU(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ee(27497)})(t,e.precondition)),n}function W_(t,e){const n=e.currentDocument?(function(i){return i.updateTime!==void 0?bn.updateTime(Vn(i.updateTime)):i.exists!==void 0?bn.exists(i.exists):bn.none()})(e.currentDocument):bn.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(a,c){let u=null;if("setToServerValue"in c)Ae(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),u=new Su;else if("appendMissingElements"in c){const p=c.appendMissingElements.values||[];u=new Au(p)}else if("removeAllFromArray"in c){const p=c.removeAllFromArray.values||[];u=new Pu(p)}else"increment"in c?u=new Lh(a,c.increment):Ee(16584,{proto:c});const h=St.fromServerFormat(c.fieldPath);return new Rk(h,u)})(t,s))):[];if(e.update){e.update.name;const s=pl(t,e.update.name),i=new In({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(u){const h=u.fieldPaths||[];return new Yn(h.map((p=>St.fromServerFormat(p))))})(e.updateMask);return new $i(s,i,a,n,r)}return new Lu(s,i,n,r)}if(e.delete){const s=pl(t,e.delete);return new cy(s,n)}if(e.verify){const s=pl(t,e.verify);return new Nk(s,n)}return Ee(1463,{proto:e})}function rU(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map((n=>(function(s,i){let a=s.updateTime?Vn(s.updateTime):Vn(i);return a.isEqual(Ce.min())&&(a=Vn(i)),new $6(a,s.transformResults||[])})(n,e)))):[]}function $k(t,e){return{documents:[jk(t,e.path)]}}function zk(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jk(t,s);const i=(function(h){if(h.length!==0)return Hk(lt.create(h,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const a=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:$c(y.field),direction:iU(y.dir)}})(p)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=B_(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:s}}function Wk(t){let e=Uk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ae(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=(function(g){const y=qk(g);return y instanceof lt&&AE(y)?y.getFilters():[y]})(n.where));let a=[];n.orderBy&&(a=(function(g){return g.map((y=>(function(A){return new Vh(zc(A.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(y)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let y;return y=typeof g=="object"?g.value:g,ey(y)?null:y})(n.limit));let u=null;n.startAt&&(u=(function(g){const y=!!g.before,E=g.values||[];return new Iu(E,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const y=!g.before,E=g.values||[];return new Iu(E,y)})(n.endAt)),C6(e,s,a,i,c,"F",u,h)}function sU(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zc(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=zc(n.unaryFilter.field);return Qe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zc(n.unaryFilter.field);return Qe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=zc(n.unaryFilter.field);return Qe.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Qe.create(zc(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return lt.create(n.compositeFilter.filters.map((r=>qk(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(t):Ee(30097,{filter:t})}function iU(t){return Y6[t]}function oU(t){return X6[t]}function aU(t){return J6[t]}function $c(t){return{fieldPath:t.canonicalString()}}function zc(t){return St.fromServerFormat(t.fieldPath)}function Hk(t){return t instanceof Qe?(function(n){if(n.op==="=="){if(US(n.value))return{unaryFilter:{field:$c(n.field),op:"IS_NAN"}};if(jS(n.value))return{unaryFilter:{field:$c(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(US(n.value))return{unaryFilter:{field:$c(n.field),op:"IS_NOT_NAN"}};if(jS(n.value))return{unaryFilter:{field:$c(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$c(n.field),op:oU(n.op),value:n.value}}})(t):t instanceof lt?(function(n){const r=n.getFilters().map((s=>Hk(s)));return r.length===1?r[0]:{compositeFilter:{op:aU(n.op),filters:r}}})(t):Ee(54877,{filter:t})}function lU(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Gk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,r,s,i=Ce.min(),a=Ce.min(),c=Kt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.yt=e}}function cU(t,e){let n;if(e.document)n=tU(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=he.fromSegments(e.noDocument.path),s=Sl(e.noDocument.readTime);n=Mt.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee(56709);{const r=he.fromSegments(e.unknownDocument.path),s=Sl(e.unknownDocument.version);n=Mt.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(s){const i=new Ke(s[0],s[1]);return Ce.fromTimestamp(i)})(e.readTime)),n}function r1(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:gg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(i,a){return{name:pg(i,a.key),fields:a.data.value.mapValue.fields,updateTime:Cu(i,a.version.toTimestamp()),createTime:Cu(i,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:bl(e.version)};else{if(!e.isUnknownDocument())return Ee(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:bl(e.version)}}return r}function gg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function bl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sl(t){const e=new Ke(t.seconds,t.nanoseconds);return Ce.fromTimestamp(e)}function Qa(t,e){const n=(e.baseMutations||[]).map((i=>W_(t.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const a=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const c=e.mutations[i+1];a.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>W_(t.yt,i))),s=Ke.fromMillis(e.localWriteTimeMs);return new CE(e.batchId,s,n,r)}function nh(t){const e=Sl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Sl(t.lastLimboFreeSnapshotVersion):Ce.min();let r;return r=(function(i){return i.documents!==void 0})(t.query)?(function(i){const a=i.documents.length;return Ae(a===1,1966,{count:a}),Nr(pf(Uk(i.documents[0])))})(t.query):(function(i){return Nr(Wk(i))})(t.query),new bi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Kt.fromBase64String(t.resumeToken))}function Qk(t,e){const n=bl(e.snapshotVersion),r=bl(e.lastLimboFreeSnapshotVersion);let s;s=dg(e.target)?$k(t.yt,e.target):zk(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Il(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function Yk(t){const e=Wk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fg(e,e.limit,"L"):e}function Cw(t,e){return new kE(e.largestBatchId,W_(t.yt,e.overlayMutation))}function s1(t,e){const n=e.path.lastSegment();return[t,An(e.path.popLast()),n]}function i1(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:bl(r.readTime),documentKey:An(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{getBundleMetadata(e,n){return o1(e).get(n).next((r=>{if(r)return(function(i){return{id:i.bundleId,createTime:Sl(i.createTime),version:i.version}})(r)}))}saveBundleMetadata(e,n){return o1(e).put((function(s){return{bundleId:s.id,createTime:bl(Vn(s.createTime)),version:s.version}})(n))}getNamedQuery(e,n){return a1(e).get(n).next((r=>{if(r)return(function(i){return{name:i.name,query:Yk(i.bundledQuery),readTime:Sl(i.readTime)}})(r)}))}saveNamedQuery(e,n){return a1(e).put((function(s){return{name:s.name,readTime:bl(Vn(s.readTime)),bundledQuery:s.bundledQuery}})(n))}}function o1(t){return Zt(t,ty)}function a1(t){return Zt(t,ny)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new dy(e,r)}getOverlay(e,n){return Bd(e).get(s1(this.userId,n)).next((r=>r?Cw(this.serializer,r):null))}getOverlays(e,n){const r=Ds();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((i,a)=>{const c=new kE(n,a);s.push(this.St(e,c))})),Q.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((a=>s.add(An(a.getCollectionPath()))));const i=[];return s.forEach((a=>{const c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);i.push(Bd(e).Z(N_,c))})),Q.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Ds(),i=An(n),a=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Bd(e).J(N_,a).next((c=>{for(const u of c){const h=Cw(this.serializer,u);s.set(h.getKey(),h)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const i=Ds();let a;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Bd(e).ee({index:XR,range:c},((u,h,p)=>{const g=Cw(this.serializer,h);i.size()<s||g.largestBatchId===a?(i.set(g.getKey(),g),a=g.largestBatchId):p.done()})).next((()=>i))}St(e,n){return Bd(e).put((function(s,i,a){const[c,u,h]=s1(i,a.mutation.key);return{userId:i,collectionPath:u,documentId:h,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:mg(s.yt,a.mutation)}})(this.serializer,this.userId,n))}}function Bd(t){return Zt(t,ry)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{bt(e){return Zt(e,xE)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Kt.fromUint8Array(r):Kt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Et(e.integerValue));else if("doubleValue"in e){const r=Et(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Ph(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=ki(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Di(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?ck(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):iy(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ee(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){var a,c;const r=e.fields||{};this.Ft(n,53);const s=xu,i=((c=(a=r[s].arrayValue)==null?void 0:a.values)==null?void 0:c.length)||0;this.Ft(n,15),n.Mt(Et(i)),this.Ot(s,n),this.Ct(r[s],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),he.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Ya.Kt=new Ya;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=255;function hU(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function l1(t){const e=64-(function(r){let s=0;for(let i=0;i<8;++i){const a=hU(255&r[i]);if(s+=a,a!==8)break}return s})(t);return Math.ceil(e/8)}class fU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=l1(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=l1(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(kc),this.sn(255)}_n(){this.an(kc),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===kc?(this.sn(kc),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===kc?(this.an(kc),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class pU{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class mU{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class $d{constructor(){this.cn=new fU,this.ln=new pU(this.cn),this.hn=new mU(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Xa(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Om(this.En),directionalValue:Om(this.dn),orderedDocumentKey:Om(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function To(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=c1(t.En,e.En),n!==0?n:(n=c1(t.dn,e.dn),n!==0?n:he.comparator(t.In,e.In)))}function c1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Om(t){return zC()?(function(n){let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return r})(t):t}function u1(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(t)}class d1{constructor(e){this.mn=new ct(((n,r)=>St.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ae(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=R_(e);if(n!==void 0&&!this.wn(n))return!1;const r=za(e);let s=new Set,i=0,a=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!s.has(c.field.canonicalString())){const u=r[i];if(!this.Sn(c,u)||!this.bn(this.fn[a++],u))return!1}++i}for(;i<r.length;++i){const c=r[i];if(a>=this.fn.length||!this.bn(this.fn[a++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new ct(St.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Am(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Am(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Am(r.field,r.dir==="asc"?0:1)));return new og(og.UNKNOWN_ID,this.collectionId,n,Ah.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t){var n,r;if(Ae(t instanceof Qe||t instanceof lt,20012),t instanceof Qe){if(t instanceof vk){const s=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((i=>Qe.create(t.field,"==",i))))||[];return lt.create(s,"or")}return t}const e=t.filters.map((s=>Xk(s)));return lt.create(e,t.op)}function gU(t){if(t.getFilters().length===0)return[];const e=G_(Xk(t));return Ae(Jk(e),7391),q_(e)||H_(e)?[e]:e.getFilters()}function q_(t){return t instanceof Qe}function H_(t){return t instanceof lt&&AE(t)}function Jk(t){return q_(t)||H_(t)||(function(n){if(n instanceof lt&&L_(n)){for(const r of n.getFilters())if(!q_(r)&&!H_(r))return!1;return!0}return!1})(t)}function G_(t){if(Ae(t instanceof Qe||t instanceof lt,34018),t instanceof Qe)return t;if(t.filters.length===1)return G_(t.filters[0]);const e=t.filters.map((r=>G_(r)));let n=lt.create(e,t.op);return n=yg(n),Jk(n)?n:(Ae(n instanceof lt,64498),Ae(bu(n),40251),Ae(n.filters.length>1,57927),n.filters.reduce(((r,s)=>ME(r,s))))}function ME(t,e){let n;return Ae(t instanceof Qe||t instanceof lt,38388),Ae(e instanceof Qe||e instanceof lt,25473),n=t instanceof Qe?e instanceof Qe?(function(s,i){return lt.create([s,i],"and")})(t,e):h1(t,e):e instanceof Qe?h1(e,t):(function(s,i){if(Ae(s.filters.length>0&&i.filters.length>0,48005),bu(s)&&bu(i))return mk(s,i.getFilters());const a=L_(s)?s:i,c=L_(s)?i:s,u=a.filters.map((h=>ME(h,c)));return lt.create(u,"or")})(t,e),yg(n)}function h1(t,e){if(bu(e))return mk(e,t.getFilters());{const n=e.filters.map((r=>ME(t,r)));return lt.create(n,"or")}}function yg(t){if(Ae(t instanceof Qe||t instanceof lt,11850),t instanceof Qe)return t;const e=t.getFilters();if(e.length===1)return yg(e[0]);if(fk(t))return t;const n=e.map((s=>yg(s))),r=[];return n.forEach((s=>{s instanceof Qe?r.push(s):s instanceof lt&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:lt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.Cn=new OE}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(yr.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class OE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ct(st.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ct(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="IndexedDbIndexManager",nm=new Uint8Array(0);class vU{constructor(e,n){this.databaseId=n,this.vn=new OE,this.Fn=new Bi((r=>Il(r)),((r,s)=>ff(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const i={collectionId:r,parent:An(s)};return p1(e).put(i)}return Q.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[jR(n),""],!1,!0);return p1(e).J(s).next((i=>{for(const a of i){if(a.collectionId!==n)break;r.push(ks(a.parent))}return r}))}addFieldIndex(e,n){const r=zd(e),s=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete s.indexId;const i=r.add(s);if(n.indexState){const a=Nc(e);return i.next((c=>{a.put(i1(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return i.next()}deleteFieldIndex(e,n){const r=zd(e),s=Nc(e),i=Dc(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=zd(e),r=Dc(e),s=Nc(e);return n.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new d1(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,n){const r=Dc(e);let s=!0;const i=new Map;return Q.forEach(this.Mn(n),(a=>this.xn(e,a).next((c=>{s&&(s=!!c),i.set(a,c)})))).next((()=>{if(s){let a=qe();const c=[];return Q.forEach(i,((u,h)=>{le(f1,`Using index ${(function(N){return`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map((F=>`${F.fieldPath}:${F.kind}`)).join(",")}`})(u)} to execute ${Il(n)}`);const p=(function(N,F){const B=R_(F);if(B===void 0)return null;for(const K of hg(N,B.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null})(h,u),g=(function(N,F){const B=new Map;for(const K of za(F))for(const k of hg(N,K.fieldPath))switch(k.op){case"==":case"in":B.set(K.fieldPath.canonicalString(),k.value);break;case"not-in":case"!=":return B.set(K.fieldPath.canonicalString(),k.value),Array.from(B.values())}return null})(h,u),y=(function(N,F){const B=[];let K=!0;for(const k of za(F)){const P=k.kind===0?qS(N,k.fieldPath,N.startAt):HS(N,k.fieldPath,N.startAt);B.push(P.value),K&&(K=P.inclusive)}return new Iu(B,K)})(h,u),E=(function(N,F){const B=[];let K=!0;for(const k of za(F)){const P=k.kind===0?HS(N,k.fieldPath,N.endAt):qS(N,k.fieldPath,N.endAt);B.push(P.value),K&&(K=P.inclusive)}return new Iu(B,K)})(h,u),A=this.On(u,h,y),b=this.On(u,h,E),S=this.Nn(u,h,g),R=this.Bn(u.indexId,p,A,y.inclusive,b,E.inclusive,S);return Q.forEach(R,(V=>r.Y(V,n.limit).next((N=>{N.forEach((F=>{const B=he.fromSegments(F.documentKey);a.has(B)||(a=a.add(B),c.push(B))}))}))))})).next((()=>c))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=gU(lt.create(e.filters,"and")).map((r=>j_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,a,c){const u=(n!=null?n.length:1)*Math.max(r.length,i.length),h=u/(n!=null?n.length:1),p=[];for(let g=0;g<u;++g){const y=n?this.Ln(n[g/h]):nm,E=this.kn(e,y,r[g%h],s),A=this.qn(e,y,i[g%h],a),b=c.map((S=>this.kn(e,y,S,!0)));p.push(...this.createRange(E,A,b))}return p}kn(e,n,r,s){const i=new Xa(e,he.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new Xa(e,he.empty(),n,r);return s?i.An():i}xn(e,n){const r=new d1(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let a=null;for(const c of i)r.yn(c)&&(!a||c.fields.length>a.fields.length)&&(a=c);return a}))}getIndexType(e,n){let r=2;const s=this.Mn(n);return Q.forEach(s,(i=>this.xn(e,i).next((a=>{a?r!==0&&a.fields.length<(function(u){let h=new ct(St.comparator),p=!1;for(const g of u.filters)for(const y of g.getFlattenedFilters())y.field.isKeyField()||(y.op==="array-contains"||y.op==="array-contains-any"?p=!0:h=h.add(y.field));for(const g of u.orderBy)g.field.isKeyField()||(h=h.add(g.field));return h.size+(p?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&s.length>1&&r===2?1:r))}Qn(e,n){const r=new $d;for(const s of za(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const a=r.Pn(s.kind);Ya.Kt.Dt(i,a)}return r.un()}Ln(e){const n=new $d;return Ya.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new $d;return Ya.Kt.Dt(Mh(this.databaseId,n),r.Pn((function(i){const a=za(i);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new $d);let i=0;for(const a of za(e)){const c=r[i++];for(const u of s)if(this.Un(n,a.fieldPath)&&Oh(c))s=this.Kn(s,a,c);else{const h=u.Pn(a.kind);Ya.Kt.Dt(c,h)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const a of r.arrayValue.values||[])for(const c of s){const u=new $d;u.seed(c.un()),Ya.Kt.Dt(a,u.Pn(n.kind)),i.push(u)}return i}Un(e,n){return!!e.filters.find((r=>r instanceof Qe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=zd(e),s=Nc(e);return(n?r.J(D_,IDBKeyRange.bound(n,n)):r.J()).next((i=>{const a=[];return Q.forEach(i,(c=>s.get([c.indexId,this.uid]).next((u=>{a.push((function(p,g){const y=g?new Ah(g.sequenceNumber,new yr(Sl(g.readTime),new he(ks(g.documentKey)),g.largestBatchId)):Ah.empty(),E=p.fields.map((([A,b])=>new Am(St.fromServerFormat(A),b)));return new og(p.indexId,p.collectionGroup,E,y)})(c,u))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Ue(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=zd(e),i=Nc(e);return this.Gn(e).next((a=>s.J(D_,IDBKeyRange.bound(n,n)).next((c=>Q.forEach(c,(u=>i.put(i1(u.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((s,i)=>{const a=r.get(s.collectionGroup);return(a?Q.resolve(a):this.getFieldIndexes(e,s.collectionGroup)).next((c=>(r.set(s.collectionGroup,c),Q.forEach(c,(u=>this.zn(e,s,u).next((h=>{const p=this.jn(i,u);return h.isEqual(p)?Q.resolve():this.Jn(e,i,u,h,p)})))))))}))}Hn(e,n,r,s){return Dc(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return Dc(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=Dc(e);let i=new ct(To);return s.ee({index:YR,range:IDBKeyRange.only([r.indexId,this.uid,Om(this.$n(r,n))])},((a,c)=>{i=i.add(new Xa(r.indexId,n,u1(c.arrayValue),u1(c.directionalValue)))})).next((()=>i))}jn(e,n){let r=new ct(To);const s=this.Qn(n,e);if(s==null)return r;const i=R_(n);if(i!=null){const a=e.data.field(i.fieldPath);if(Oh(a))for(const c of a.arrayValue.values||[])r=r.add(new Xa(n.indexId,e.key,this.Ln(c),s))}else r=r.add(new Xa(n.indexId,e.key,nm,s));return r}Jn(e,n,r,s,i){le(f1,"Updating index entries for document '%s'",n.key);const a=[];return(function(u,h,p,g,y){const E=u.getIterator(),A=h.getIterator();let b=Rc(E),S=Rc(A);for(;b||S;){let R=!1,V=!1;if(b&&S){const N=p(b,S);N<0?V=!0:N>0&&(R=!0)}else b!=null?V=!0:R=!0;R?(g(S),S=Rc(A)):V?(y(b),b=Rc(E)):(b=Rc(E),S=Rc(A))}})(s,i,To,(c=>{a.push(this.Hn(e,n,r,c))}),(c=>{a.push(this.Yn(e,n,r,c))})),Q.waitFor(a)}Gn(e){let n=1;return Nc(e).ee({index:QR,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,c)=>To(a,c))).filter(((a,c,u)=>!c||To(a,u[c-1])!==0));const s=[];s.push(e);for(const a of r){const c=To(a,e),u=To(a,n);if(c===0)s[0]=e.An();else if(c>0&&u<0)s.push(a),s.push(a.An());else if(u>0)break}s.push(n);const i=[];for(let a=0;a<s.length;a+=2){if(this.Zn(s[a],s[a+1]))return[];const c=s[a].Vn(this.uid,nm,he.empty()),u=s[a+1].Vn(this.uid,nm,he.empty());i.push(IDBKeyRange.bound(c,u))}return i}Zn(e,n){return To(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(m1)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((s=>s||Ee(44426))))).next(m1)}}function p1(t){return Zt(t,kh)}function Dc(t){return Zt(t,hh)}function zd(t){return Zt(t,EE)}function Nc(t){return Zt(t,dh)}function m1(t){Ae(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;vE(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new yr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zk=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t,e,n){const r=t.store(Xr),s=t.store(vu),i=[],a=IDBKeyRange.only(n.batchId);let c=0;const u=r.ee({range:a},((p,g,y)=>(c++,y.delete())));i.push(u.next((()=>{Ae(c===1,47070,{batchId:n.batchId})})));const h=[];for(const p of n.mutations){const g=HR(e,p.key.path,n.batchId);i.push(s.delete(g)),h.push(p.key)}return Q.waitFor(i).next((()=>h))}function vg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ee(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(Zk,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class hy{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){Ae(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new hy(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Io(e).ee({index:Ja,range:r},((s,i,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const i=Wc(e),a=Io(e);return a.add({}).next((c=>{Ae(typeof c=="number",49019);const u=new CE(c,n,r,s),h=(function(E,A,b){const S=b.baseMutations.map((V=>mg(E.yt,V))),R=b.mutations.map((V=>mg(E.yt,V)));return{userId:A,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:S,mutations:R}})(this.serializer,this.userId,u),p=[];let g=new ct(((y,E)=>Ue(y.canonicalString(),E.canonicalString())));for(const y of s){const E=HR(this.userId,y.key.path,c);g=g.add(y.key.path.popLast()),p.push(a.put(h)),p.push(i.put(E,G3))}return g.forEach((y=>{p.push(this.indexManager.addToCollectionParentIndex(e,y))})),e.addOnCommittedListener((()=>{this.Xn[c]=u.keys()})),Q.waitFor(p).next((()=>u))}))}lookupMutationBatch(e,n){return Io(e).get(n).next((r=>r?(Ae(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Qa(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Io(e).ee({index:Ja,range:s},((a,c,u)=>{c.userId===this.userId&&(Ae(c.batchId>=r,47524,{tr:r}),i=Qa(this.serializer,c)),u.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=hl;return Io(e).ee({index:Ja,range:n,reverse:!0},((s,i,a)=>{r=i.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,hl],[this.userId,Number.POSITIVE_INFINITY]);return Io(e).J(Ja,n).next((r=>r.map((s=>Qa(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Pm(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Wc(e).ee({range:s},((a,c,u)=>{const[h,p,g]=a,y=ks(p);if(h===this.userId&&n.path.isEqual(y))return Io(e).get(g).next((E=>{if(!E)throw Ee(61480,{nr:a,batchId:g});Ae(E.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:E.userId,batchId:g}),i.push(Qa(this.serializer,E))}));u.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(Ue);const s=[];return n.forEach((i=>{const a=Pm(this.userId,i.path),c=IDBKeyRange.lowerBound(a),u=Wc(e).ee({range:c},((h,p,g)=>{const[y,E,A]=h,b=ks(E);y===this.userId&&i.path.isEqual(b)?r=r.add(A):g.done()}));s.push(u)})),Q.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Pm(this.userId,r),a=IDBKeyRange.lowerBound(i);let c=new ct(Ue);return Wc(e).ee({range:a},((u,h,p)=>{const[g,y,E]=u,A=ks(y);g===this.userId&&r.isPrefixOf(A)?A.length===s&&(c=c.add(E)):p.done()})).next((()=>this.rr(e,c)))}rr(e,n){const r=[],s=[];return n.forEach((i=>{s.push(Io(e).get(i).next((a=>{if(a===null)throw Ee(35274,{batchId:i});Ae(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:i}),r.push(Qa(this.serializer,a))})))})),Q.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return eD(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),s=[];return Wc(e).ee({range:r},((i,a,c)=>{if(i[0]===this.userId){const u=ks(i[1]);s.push(u)}else c.done()})).next((()=>{Ae(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,n){return tD(e,this.userId,n)}_r(e){return nD(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:hl,lastStreamToken:""}))}}function tD(t,e,n){const r=Pm(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let a=!1;return Wc(t).ee({range:i,X:!0},((c,u,h)=>{const[p,g,y]=c;p===e&&g===s&&(a=!0),h.done()})).next((()=>a))}function Io(t){return Zt(t,Xr)}function Wc(t){return Zt(t,vu)}function nD(t){return Zt(t,Ch)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Al(0)}static cr(){return new Al(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Al(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ce.fromTimestamp(new Ke(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Mc(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ae(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let s=0;const i=[];return Mc(e).ee(((a,c)=>{const u=nh(c);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(s++,i.push(this.removeTargetData(e,u)))})).next((()=>Q.waitFor(i))).next((()=>s))}forEachTarget(e,n){return Mc(e).ee(((r,s)=>{const i=nh(s);n(i)}))}lr(e){return y1(e).get(cg).next((n=>(Ae(n!==null,2888),n)))}hr(e,n){return y1(e).put(cg,n)}Pr(e,n){return Mc(e).put(Qk(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Il(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Mc(e).ee({range:s,index:KR},((a,c,u)=>{const h=nh(c);ff(n,h.target)&&(i=h,u.done())})).next((()=>i))}addMatchingKeys(e,n,r){const s=[],i=Oo(e);return n.forEach((a=>{const c=An(a.path);s.push(i.put({targetId:r,path:c})),s.push(this.referenceDelegate.addReference(e,r,a))})),Q.waitFor(s)}removeMatchingKeys(e,n,r){const s=Oo(e);return Q.forEach(n,(i=>{const a=An(i.path);return Q.waitFor([s.delete([r,a]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,n){const r=Oo(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Oo(e);let i=qe();return s.ee({range:r,X:!0},((a,c,u)=>{const h=ks(a[1]),p=new he(h);i=i.add(p)})).next((()=>i))}containsKey(e,n){const r=An(n.path),s=IDBKeyRange.bound([r],[jR(r)],!1,!0);let i=0;return Oo(e).ee({index:_E,X:!0,range:s},(([a,c],u,h)=>{a!==0&&(i++,h.done())})).next((()=>i>0))}At(e,n){return Mc(e).get(n).next((r=>r?nh(r):null))}}function Mc(t){return Zt(t,wu)}function y1(t){return Zt(t,fl)}function Oo(t){return Zt(t,_u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="LruGarbageCollector",_U=1048576;function w1([t,e],[n,r]){const s=Ue(t,n);return s===0?Ue(e,r):s}class EU{constructor(e){this.Ir=e,this.buffer=new ct(w1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();w1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(v1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ca(n)?le(v1,"Ignoring IndexedDB error during garbage collection: ",n):await Ll(n)}await this.Vr(3e5)}))}}class xU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(kr.ce);const r=new EU(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(g1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,c,u,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,a=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Uc()<=Ge.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${s} in `+(c-a)+`ms
	Removed ${i} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-p}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function sD(t,e){return new xU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,n){this.db=e,this.garbageCollector=sD(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,s)=>n(s)))}addReference(e,n,r){return rm(e,r)}removeReference(e,n,r){return rm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return rm(e,n)}br(e,n){return(function(s,i){let a=!1;return nD(s).te((c=>tD(s,c,i).next((u=>(u&&(a=!0),Q.resolve(!u)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((a,c)=>{if(c<=n){const u=this.br(e,a).next((h=>{if(!h)return i++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Ce.min()),Oo(e).delete((function(g){return[0,An(g.path)]})(a)))))}));s.push(u)}})).next((()=>Q.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return rm(e,n)}Sr(e,n){const r=Oo(e);let s,i=kr.ce;return r.ee({index:_E},(([a,c],{path:u,sequenceNumber:h})=>{a===0?(i!==kr.ce&&n(new he(ks(s)),i),i=h,s=u):i=kr.ce})).next((()=>{i!==kr.ce&&n(new he(ks(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function rm(t,e){return Oo(t).put((function(r,s){return{targetId:0,path:An(r.path),sequenceNumber:s}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.changes=new Bi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ja(e).put(r)}removeEntry(e,n,r){return ja(e).delete((function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],gg(a),c[c.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Mt.newInvalidDocument(n);return ja(e).ee({index:Cm,range:IDBKeyRange.only(Wd(n))},((s,i)=>{r=this.Cr(n,i)})).next((()=>r))}vr(e,n){let r={size:0,document:Mt.newInvalidDocument(n)};return ja(e).ee({index:Cm,range:IDBKeyRange.only(Wd(n))},((s,i)=>{r={document:this.Cr(n,i),size:vg(i)}})).next((()=>r))}getEntries(e,n){let r=pr();return this.Fr(e,n,((s,i)=>{const a=this.Cr(s,i);r=r.insert(s,a)})).next((()=>r))}Mr(e,n){let r=pr(),s=new Tt(he.comparator);return this.Fr(e,n,((i,a)=>{const c=this.Cr(i,a);r=r.insert(i,c),s=s.insert(i,vg(a))})).next((()=>({documents:r,Or:s})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let s=new ct(x1);n.forEach((u=>s=s.add(u)));const i=IDBKeyRange.bound(Wd(s.first()),Wd(s.last())),a=s.getIterator();let c=a.getNext();return ja(e).ee({index:Cm,range:i},((u,h,p)=>{const g=he.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;c&&x1(c,g)<0;)r(c,null),c=a.getNext();c&&c.isEqual(g)&&(r(c,h),c=a.hasNext()?a.getNext():null),c?p.j(Wd(c)):p.done()})).next((()=>{for(;c;)r(c,null),c=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,i){const a=n.path,c=[a.popLast().toArray(),a.lastSegment(),gg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ja(e).J(IDBKeyRange.bound(c,u,!0)).next((h=>{i==null||i.incrementDocumentReadCount(h.length);let p=pr();for(const g of h){const y=this.Cr(he.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);y.isFoundDocument()&&(mf(n,y)||s.has(y.key))&&(p=p.insert(y.key,y))}return p}))}getAllFromCollectionGroup(e,n,r,s){let i=pr();const a=E1(n,r),c=E1(n,yr.max());return ja(e).ee({index:GR,range:IDBKeyRange.bound(a,c,!0)},((u,h,p)=>{const g=this.Cr(he.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);i=i.insert(g.key,g),i.size===s&&p.done()})).next((()=>i))}newChangeBuffer(e){return new bU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return _1(e).get(k_).next((n=>(Ae(!!n,20021),n)))}Dr(e,n){return _1(e).put(k_,n)}Cr(e,n){if(n){const r=cU(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ce.min())))return r}return Mt.newInvalidDocument(e)}}function oD(t){return new IU(t)}class bU extends iD{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Bi((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new ct(((i,a)=>Ue(i.canonicalString(),a.canonicalString())));return this.changes.forEach(((i,a)=>{const c=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,c.readTime)),a.isValidDocument()){const u=r1(this.Nr.serializer,a);s=s.add(i.path.popLast());const h=vg(u);r+=h-c.size,n.push(this.Nr.addEntry(e,i,u))}else if(r-=c.size,this.trackRemovals){const u=r1(this.Nr.serializer,a.convertToNoDocument(Ce.min()));n.push(this.Nr.addEntry(e,i,u))}})),s.forEach((i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:s})=>(s.forEach(((i,a)=>{this.Br.set(i,{size:a,readTime:r.get(i).readTime})})),r)))}}function _1(t){return Zt(t,Rh)}function ja(t){return Zt(t,lg)}function Wd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function E1(t,e){const n=e.documentKey.path.toArray();return[t,gg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function x1(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Ue(n[i],r[i]),s)return s;return s=Ue(n.length,r.length),s||(s=Ue(n[n.length-2],r[r.length-2]),s||Ue(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&gh(r.mutation,s,Yn.empty(),Ke.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=qe()){const s=Ds();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let a=eh();return i.forEach(((c,u)=>{a=a.insert(c,u.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Ds();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,qe())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((a,c)=>{n.set(a,c)}))}))}computeViews(e,n,r,s){let i=pr();const a=mh(),c=(function(){return mh()})();return n.forEach(((u,h)=>{const p=r.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof $i)?i=i.insert(h.key,h):p!==void 0?(a.set(h.key,p.mutation.getFieldMask()),gh(p.mutation,h,p.mutation.getFieldMask(),Ke.now())):a.set(h.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,i).next((u=>(u.forEach(((h,p)=>a.set(h,p))),n.forEach(((h,p)=>c.set(h,new SU(p,a.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=mh();let s=new Tt(((a,c)=>a-c)),i=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const c of a)c.keys().forEach((u=>{const h=n.get(u);if(h===null)return;let p=r.get(u)||Yn.empty();p=c.applyToLocalView(h,p),r.set(u,p);const g=(s.get(c.batchId)||qe()).add(u);s=s.insert(c.batchId,g)}))})).next((()=>{const a=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,p=u.value,g=Ik();p.forEach((y=>{if(!i.has(y)){const E=kk(n.get(y),r.get(y));E!==null&&g.set(y,E),i=i.add(y)}})),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Q.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(a){return he.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Ds());let c=Sh,u=i;return a.next((h=>Q.forEach(h,((p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),i.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{u=u.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,u,h,qe()))).next((p=>({batchId:c,changes:Tk(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next((r=>{let s=eh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=eh();return this.indexManager.getCollectionParents(e,i).next((c=>Q.forEach(c,(u=>{const h=(function(g,y){return new Vu(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next((p=>{p.forEach(((g,y)=>{a=a.insert(g,y)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((a=>{i.forEach(((u,h)=>{const p=h.getKey();a.get(p)===null&&(a=a.insert(p,Mt.newInvalidDocument(p)))}));let c=eh();return a.forEach(((u,h)=>{const p=i.get(u);p!==void 0&&gh(p.mutation,h,Yn.empty(),Ke.now()),mf(n,h)&&(c=c.insert(u,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Vn(s.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:Yk(s.bundledQuery),readTime:Vn(s.readTime)}})(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this.overlays=new Tt(he.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ds();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Ds(),i=n.length+1,a=new he(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Tt(((h,p)=>h-p));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=i.get(h.largestBatchId);p===null&&(p=Ds(),i=i.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=Ds(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,p)=>c.set(h,p))),!(c.size()>=s)););return Q.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new kE(n,r));let i=this.qr.get(n);i===void 0&&(i=qe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.Qr=new ct(on.$r),this.Ur=new ct(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new on(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new on(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new he(new st([])),r=new on(n,e),s=new on(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new he(new st([])),r=new on(n,e),s=new on(n,e+1);let i=qe();return this.Ur.forEachInRange([r,s],(a=>{i=i.add(a.key)})),i}containsKey(e){const n=new on(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return he.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ct(on.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new CE(i,n,r,s);this.mutationQueue.push(a);for(const c of s)this.Zr=this.Zr.add(new on(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?hl:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),s=new on(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(a=>{const c=this.Xr(a.Yr);i.push(c)})),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(Ue);return n.forEach((s=>{const i=new on(s,0),a=new on(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(c=>{r=r.add(c.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;he.isDocumentKey(i)||(i=i.child(""));const a=new on(new he(i),0);let c=new ct(Ue);return this.Zr.forEachWhile((u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(u.Yr)),!0)}),a),Q.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ae(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(s=>{const i=new on(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new on(n,0),s=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.ri=e,this.docs=(function(){return new Tt(he.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=pr();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Mt.newInvalidDocument(s))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=pr();const a=n.path,c=new he(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||vE($R(p),r)<=0||(s.has(p.key)||mf(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ee(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new DU(this)}getSize(e){return Q.resolve(this.size)}}class DU extends iD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.persistence=e,this.si=new Bi((n=>Il(n)),ff),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new VE,this.targetCount=0,this.ai=Al.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Al(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),Q.waitFor(i).next((()=>s))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((a=>{i.push(s.markPotentiallyOrphaned(e,a))})),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n){this.ui={},this.overlays={},this.ci=new kr(0),this.li=!1,this.li=!0,this.hi=new CU,this.referenceDelegate=e(this),this.Pi=new NU(this),this.indexManager=new yU,this.remoteDocumentCache=(function(s){return new kU(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Kk(n),this.Ii=new AU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new RU(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new MU(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class MU extends WR{constructor(e){super(),this.currentSequenceNumber=e}}class fy{constructor(e){this.persistence=e,this.Ri=new VE,this.Vi=null}static mi(e){return new fy(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const s=he.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class wg{constructor(e,n){this.persistence=e,this.pi=new Bi((r=>An(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=sD(this,n)}static mi(e,n){return new wg(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Q.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(a=>this.br(e,a,n).next((c=>{c||(r++,i.removeEntry(a,Ce.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=km(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.serializer=e}k(e,n,r,s){const i=new Zg("createOrUpgrade",n);r<1&&s>=1&&((function(u){u.createObjectStore(hf)})(e),(function(u){u.createObjectStore(Ch,{keyPath:H3}),u.createObjectStore(Xr,{keyPath:NS,autoIncrement:!0}).createIndex(Ja,MS,{unique:!0}),u.createObjectStore(vu)})(e),T1(e),(function(u){u.createObjectStore(Wa)})(e));let a=Q.resolve();return r<3&&s>=3&&(r!==0&&((function(u){u.deleteObjectStore(_u),u.deleteObjectStore(wu),u.deleteObjectStore(fl)})(e),T1(e)),a=a.next((()=>(function(u){const h=u.store(fl),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ce.min().toTimestamp(),targetCount:0};return h.put(cg,p)})(i)))),r<4&&s>=4&&(r!==0&&(a=a.next((()=>(function(u,h){return h.store(Xr).J().next((g=>{u.deleteObjectStore(Xr),u.createObjectStore(Xr,{keyPath:NS,autoIncrement:!0}).createIndex(Ja,MS,{unique:!0});const y=h.store(Xr),E=g.map((A=>y.put(A)));return Q.waitFor(E)}))})(e,i)))),a=a.next((()=>{(function(u){u.createObjectStore(Eu,{keyPath:t6})})(e)}))),r<5&&s>=5&&(a=a.next((()=>this.yi(i)))),r<6&&s>=6&&(a=a.next((()=>((function(u){u.createObjectStore(Rh)})(e),this.wi(i))))),r<7&&s>=7&&(a=a.next((()=>this.Si(i)))),r<8&&s>=8&&(a=a.next((()=>this.bi(e,i)))),r<9&&s>=9&&(a=a.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(a=a.next((()=>this.Di(i)))),r<11&&s>=11&&(a=a.next((()=>{(function(u){u.createObjectStore(ty,{keyPath:n6})})(e),(function(u){u.createObjectStore(ny,{keyPath:r6})})(e)}))),r<12&&s>=12&&(a=a.next((()=>{(function(u){const h=u.createObjectStore(ry,{keyPath:u6});h.createIndex(N_,d6,{unique:!1}),h.createIndex(XR,h6,{unique:!1})})(e)}))),r<13&&s>=13&&(a=a.next((()=>(function(u){const h=u.createObjectStore(lg,{keyPath:K3});h.createIndex(Cm,Q3),h.createIndex(GR,Y3)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(Wa)))),r<14&&s>=14&&(a=a.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(a=a.next((()=>(function(u){u.createObjectStore(EE,{keyPath:s6,autoIncrement:!0}).createIndex(D_,i6,{unique:!1}),u.createObjectStore(dh,{keyPath:o6}).createIndex(QR,a6,{unique:!1}),u.createObjectStore(hh,{keyPath:l6}).createIndex(YR,c6,{unique:!1})})(e)))),r<16&&s>=16&&(a=a.next((()=>{n.objectStore(dh).clear()})).next((()=>{n.objectStore(hh).clear()}))),r<17&&s>=17&&(a=a.next((()=>{(function(u){u.createObjectStore(xE,{keyPath:f6})})(e)}))),r<18&&s>=18&&zC()&&(a=a.next((()=>{n.objectStore(dh).clear()})).next((()=>{n.objectStore(hh).clear()}))),a}wi(e){let n=0;return e.store(Wa).ee(((r,s)=>{n+=vg(s)})).next((()=>{const r={byteSize:n};return e.store(Rh).put(k_,r)}))}yi(e){const n=e.store(Ch),r=e.store(Xr);return n.J().next((s=>Q.forEach(s,(i=>{const a=IDBKeyRange.bound([i.userId,hl],[i.userId,i.lastAcknowledgedBatchId]);return r.J(Ja,a).next((c=>Q.forEach(c,(u=>{Ae(u.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:u.batchId});const h=Qa(this.serializer,u);return eD(e,i.userId,h).next((()=>{}))}))))}))))}Si(e){const n=e.store(_u),r=e.store(Wa);return e.store(fl).get(cg).next((s=>{const i=[];return r.ee(((a,c)=>{const u=new st(a),h=(function(g){return[0,An(g)]})(u);i.push(n.get(h).next((p=>p?Q.resolve():(g=>n.put({targetId:0,path:An(g),sequenceNumber:s.highestListenSequenceNumber}))(u))))})).next((()=>Q.waitFor(i)))}))}bi(e,n){e.createObjectStore(kh,{keyPath:e6});const r=n.store(kh),s=new OE,i=a=>{if(s.add(a)){const c=a.lastSegment(),u=a.popLast();return r.put({collectionId:c,parent:An(u)})}};return n.store(Wa).ee({X:!0},((a,c)=>{const u=new st(a);return i(u.popLast())})).next((()=>n.store(vu).ee({X:!0},(([a,c,u],h)=>{const p=ks(c);return i(p.popLast())}))))}Di(e){const n=e.store(wu);return n.ee(((r,s)=>{const i=nh(s),a=Qk(this.serializer,i);return n.put(a)}))}Ci(e,n){const r=n.store(Wa),s=[];return r.ee(((i,a)=>{const c=n.store(lg),u=(function(g){return g.document?new he(st.fromString(g.document.name).popFirst(5)):g.noDocument?he.fromSegments(g.noDocument.path):g.unknownDocument?he.fromSegments(g.unknownDocument.path):Ee(36783)})(a).path.toArray(),h={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};s.push(c.put(h))})).next((()=>Q.waitFor(s)))}Fi(e,n){const r=n.store(Xr),s=oD(this.serializer),i=new LE(fy.mi,this.serializer.yt);return r.J().next((a=>{const c=new Map;return a.forEach((u=>{let h=c.get(u.userId)??qe();Qa(this.serializer,u).keys().forEach((p=>h=h.add(p))),c.set(u.userId,h)})),Q.forEach(c,((u,h)=>{const p=new hn(h),g=dy.wt(this.serializer,p),y=i.getIndexManager(p),E=hy.wt(p,this.serializer,y,i.referenceDelegate);return new aD(s,E,g,y).recalculateAndSaveOverlaysForDocumentKeys(new M_(n,kr.ce),u).next()}))}))}}function T1(t){t.createObjectStore(_u,{keyPath:J3}).createIndex(_E,Z3,{unique:!0}),t.createObjectStore(wu,{keyPath:"targetId"}).createIndex(KR,X3,{unique:!0}),t.createObjectStore(fl)}const bo="IndexedDbPersistence",Rw=18e5,kw=5e3,Dw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",VU="main";class FE{constructor(e,n,r,s,i,a,c,u,h,p,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=a,this.document=c,this.xi=h,this.Oi=p,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=y=>Promise.resolve(),!FE.v())throw new ue(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new TU(this,s),this.$i=n+VU,this.serializer=new Kk(u),this.Ui=new Ko(this.$i,this.Ni,new OU(this.serializer)),this.hi=new dU,this.Pi=new wU(this.referenceDelegate,this.serializer),this.remoteDocumentCache=oD(this.serializer),this.Ii=new uU,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&Dn(bo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ue(te.FAILED_PRECONDITION,Dw);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new kr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>sm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ca(e))return le(bo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(bo,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return qd(e).get(Cc).next((n=>Q.resolve(this.es(n))))}ts(e){return sm(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Rw)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Zt(n,Eu);return r.J().next((s=>{const i=this.ss(s,Rw),a=s.filter((c=>i.indexOf(c)===-1));return Q.forEach(a,(c=>r.delete(c.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):qd(e).get(Cc).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,kw)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ue(te.FAILED_PRECONDITION,Dw);return!1}}return!(!this.networkEnabled||!this.inForeground)||sm(e).J().next((r=>this.ss(r,kw).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,a=!this.inForeground&&s.inForeground,c=this.networkEnabled===s.networkEnabled;if(i||a&&c)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&le(bo,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[hf,Eu],(e=>{const n=new M_(e,kr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>sm(e).J().next((n=>this.ss(n,Rw).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return hy.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new vU(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return dy.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){le(bo,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(function(u){return u===18?g6:u===17?tk:u===16?m6:u===15?TE:u===14?ek:u===13?ZR:u===12?p6:u===11?JR:void Ee(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,s,i,(c=>(a=new M_(c,this.ci?this.ci.next():kr.ce),n==="readwrite-primary"?this.Hi(a).next((u=>!!u||this.Yi(a))).next((u=>{if(!u)throw Dn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ue(te.FAILED_PRECONDITION,zR);return r(a)})).next((u=>this.Xi(a).next((()=>u)))):this.Is(a).next((()=>r(a)))))).then((c=>(a.raiseOnCommittedEvent(),c)))}Is(e){return qd(e).get(Cc).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,kw)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ue(te.FAILED_PRECONDITION,Dw)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qd(e).put(Cc,n)}static v(){return Ko.v()}Zi(e){const n=qd(e);return n.get(Cc).next((r=>this.es(r)?(le(bo,"Releasing primary lease."),n.delete(Cc)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Dn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;$C()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return le(bo,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Dn(bo,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Dn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qd(t){return Zt(t,hf)}function sm(t){return Zt(t,Eu)}function LU(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=qe(),s=qe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new jE(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $C()?8:qR(Jt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new FU;return this.Ss(e,n,a).next((c=>{if(i.result=c,this.Vs)return this.bs(e,n,a,c.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Uc()<=Ge.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Bc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Uc()<=Ge.DEBUG&&le("QueryEngine","Query:",Bc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Uc()<=Ge.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Bc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):Q.resolve())}ys(e,n){if(GS(n))return Q.resolve(null);let r=Nr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=fg(n,null,"F"),r=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const a=qe(...i);return this.ps.getDocuments(e,a).next((c=>this.indexManager.getMinOffset(e,r).next((u=>{const h=this.Ds(n,c);return this.Cs(n,h,a,u.readTime)?this.ys(e,fg(n,null,"F")):this.vs(e,h,n,u)}))))})))))}ws(e,n,r,s){return GS(n)||s.isEqual(Ce.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?Q.resolve(null):(Uc()<=Ge.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bc(n)),this.vs(e,a,n,j3(s,Sh)).next((c=>c)))}))}Ds(e,n){let r=new ct(Ek(e));return n.forEach(((s,i)=>{mf(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Uc()<=Ge.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Bc(n)),this.ps.getDocumentsMatchingQuery(e,n,yr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="LocalStore",jU=3e8;class UU{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Tt(Ue),this.xs=new Bi((i=>Il(i)),ff),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function cD(t,e,n,r){return new UU(t,e,n,r)}async function uD(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const a=[],c=[];let u=qe();for(const h of s){a.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of i){c.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next((h=>({Ls:h,removedBatchIds:a,addedBatchIds:c})))}))}))}function BU(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,u,h,p){const g=h.batch,y=g.keys();let E=Q.resolve();return y.forEach((A=>{E=E.next((()=>p.getEntry(u,A))).next((b=>{const S=h.docVersions.get(A);Ae(S!==null,48541),b.version.compareTo(S)<0&&(g.applyToRemoteDocument(b,h),b.isValidDocument()&&(b.setReadTime(h.commitVersion),p.addEntry(b)))}))})),E.next((()=>c.mutationQueue.removeMutationBatch(u,g)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=qe();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function dD(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function $U(t,e){const n=Be(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach(((p,g)=>{const y=s.get(g);if(!y)return;c.push(n.Pi.removeMatchingKeys(i,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(i,p.addedDocuments,g))));let E=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(Kt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),s=s.insert(g,E),(function(b,S,R){return b.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=jU?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(y,E,p)&&c.push(n.Pi.updateTargetData(i,E))}));let u=pr(),h=qe();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))})),c.push(zU(i,a,e.documentUpdates).next((p=>{u=p.ks,h=p.qs}))),!r.isEqual(Ce.min())){const p=n.Pi.getLastRemoteSnapshotVersion(i).next((g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));c.push(p)}return Q.waitFor(c).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,u,h))).next((()=>u))})).then((i=>(n.Ms=s,i)))}function zU(t,e,n){let r=qe(),s=qe();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let a=pr();return n.forEach(((c,u)=>{const h=i.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(Ce.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):le(UE,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)})),{ks:a,qs:s}}))}function WU(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=hl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function qU(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,Q.resolve(s)):n.Pi.allocateTargetId(r).next((a=>(s=new bi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function K_(t,e,n){const r=Be(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(a=>r.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!ca(a))throw a;le(UE,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function I1(t,e,n){const r=Be(t);let s=Ce.min(),i=qe();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,h,p){const g=Be(u),y=g.xs.get(p);return y!==void 0?Q.resolve(g.Ms.get(y)):g.Pi.getTargetData(h,p)})(r,a,Nr(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,c.targetId).next((u=>{i=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Ce.min(),n?i:qe()))).next((c=>(HU(r,k6(e),c),{documents:c,Qs:i})))))}function HU(t,e,n){let r=t.Os.get(e)||Ce.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class b1{constructor(){this.activeTargetIds=L6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hD{constructor(){this.Mo=new b1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new b1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="ConnectivityMonitor";class A1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(S1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(S1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im=null;function Q_(){return im===null?im=(function(){return 268435456+Math.round(2147483648*Math.random())})():im++,"0x"+im.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="RestConnection",KU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===ug?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=Q_(),c=this.zo(e,n.toUriEncodedString());le(Nw,`Sending RPC '${e}' ${a}:`,c,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:h}=new URL(c),p=Ml(h);return this.Jo(e,c,u,r,p).then((g=>(le(Nw,`Received RPC '${e}' ${a}: `,g),g)),(g=>{throw xl(Nw,`RPC '${e}' ${a} failed with error: `,g,"url: ",c,"request:",r),g}))}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ou})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=KU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class XU extends QU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=Q_();return new Promise(((c,u)=>{const h=new DR;h.setWithCredentials(!0),h.listenOnce(NR.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Sm.NO_ERROR:const g=h.getResponseJson();le(xn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),c(g);break;case Sm.TIMEOUT:le(xn,`RPC '${e}' ${a} timed out`),u(new ue(te.DEADLINE_EXCEEDED,"Request time out"));break;case Sm.HTTP_ERROR:const y=h.getStatus();if(le(xn,`RPC '${e}' ${a} failed with status:`,y,"response text:",h.getResponseText()),y>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const b=(function(R){const V=R.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(V)>=0?V:te.UNKNOWN})(A.status);u(new ue(b,A.message))}else u(new ue(te.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ue(te.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{le(xn,`RPC '${e}' ${a} completed.`)}}));const p=JSON.stringify(s);le(xn,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const s=Q_(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=VR(),c=OR(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=i.join("");le(xn,`Creating RPC '${e}' stream ${s}: ${p}`,u);const g=a.createWebChannel(p,u);this.I_(g);let y=!1,E=!1;const A=new YU({Yo:S=>{E?le(xn,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(y||(le(xn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),y=!0),le(xn,`RPC '${e}' stream ${s} sending:`,S),g.send(S))},Zo:()=>g.close()}),b=(S,R,V)=>{S.listen(R,(N=>{try{V(N)}catch(F){setTimeout((()=>{throw F}),0)}}))};return b(g,Zd.EventType.OPEN,(()=>{E||(le(xn,`RPC '${e}' stream ${s} transport opened.`),A.o_())})),b(g,Zd.EventType.CLOSE,(()=>{E||(E=!0,le(xn,`RPC '${e}' stream ${s} transport closed`),A.a_(),this.E_(g))})),b(g,Zd.EventType.ERROR,(S=>{E||(E=!0,xl(xn,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),A.a_(new ue(te.UNAVAILABLE,"The operation could not be completed")))})),b(g,Zd.EventType.MESSAGE,(S=>{var R;if(!E){const V=S.data[0];Ae(!!V,16349);const N=V,F=(N==null?void 0:N.error)||((R=N[0])==null?void 0:R.error);if(F){le(xn,`RPC '${e}' stream ${s} received error:`,F);const B=F.status;let K=(function(D){const O=qt[D];if(O!==void 0)return Mk(O)})(B),k=F.message;K===void 0&&(K=te.INTERNAL,k="Unknown error status: "+B+" with message "+F.message),E=!0,A.a_(new ue(K,k)),g.close()}else le(xn,`RPC '${e}' stream ${s} received:`,V),A.u_(V)}})),b(c,MR.STAT_EVENT,(S=>{S.stat===P_.PROXY?le(xn,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===P_.NOPROXY&&le(xn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(){return typeof window<"u"?window:null}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t){return new Z6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="PersistentStream";class pD{constructor(e,n,r,s,i,a,c,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Dn(n.toString()),Dn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ue(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(P1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(P1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZU extends pD{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=nU(this.serializer,e),r=(function(i){if(!("targetChange"in i))return Ce.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Ce.min():a.readTime?Vn(a.readTime):Ce.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=z_(this.serializer),n.addTarget=(function(i,a){let c;const u=a.target;if(c=dg(u)?{documents:$k(i,u)}:{query:zk(i,u).ft},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=Lk(i,a.resumeToken);const h=B_(i,a.expectedCount);h!==null&&(c.expectedCount=h)}else if(a.snapshotVersion.compareTo(Ce.min())>0){c.readTime=Cu(i,a.snapshotVersion.toTimestamp());const h=B_(i,a.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=sU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=z_(this.serializer),n.removeTarget=e,this.q_(n)}}class eB extends pD{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=rU(e.writeResults,e.commitTime),r=Vn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=z_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>mg(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{}class nB extends tB{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ue(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,$_(n,r),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(te.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Ho(e,$_(n,r),s,a,c,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ue(te.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dn(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="RemoteStore";class sB{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Fl(this)&&(le(Pl,"Restarting streams for network reachability change."),await(async function(u){const h=Be(u);h.Ea.add(4),await yf(h),h.Ra.set("Unknown"),h.Ea.delete(4),await my(h)})(this))}))})),this.Ra=new rB(r,s)}}async function my(t){if(Fl(t))for(const e of t.da)await e(!0)}async function yf(t){for(const e of t.da)await e(!1)}function mD(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),WE(n)?zE(n):Fu(n).O_()&&$E(n,e))}function BE(t,e){const n=Be(t),r=Fu(n);n.Ia.delete(e),r.O_()&&gD(n,e),n.Ia.size===0&&(r.O_()?r.L_():Fl(n)&&n.Ra.set("Unknown"))}function $E(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fu(t).Y_(e)}function gD(t,e){t.Va.Ue(e),Fu(t).Z_(e)}function zE(t){t.Va=new Q6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fu(t).start(),t.Ra.ua()}function WE(t){return Fl(t)&&!Fu(t).x_()&&t.Ia.size>0}function Fl(t){return Be(t).Ea.size===0}function yD(t){t.Va=void 0}async function iB(t){t.Ra.set("Online")}async function oB(t){t.Ia.forEach(((e,n)=>{$E(t,e)}))}async function aB(t,e){yD(t),WE(t)?(t.Ra.ha(e),zE(t)):t.Ra.set("Unknown")}async function lB(t,e,n){if(t.Ra.set("Online"),e instanceof Vk&&e.state===2&&e.cause)try{await(async function(s,i){const a=i.cause;for(const c of i.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,a),s.Ia.delete(c),s.Va.removeTarget(c))})(t,e)}catch(r){le(Pl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _g(t,r)}else if(e instanceof Mm?t.Va.Ze(e):e instanceof Ok?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ce.min()))try{const r=await dD(t.localStore);n.compareTo(r)>=0&&await(function(i,a){const c=i.Va.Tt(a);return c.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=i.Ia.get(h);p&&i.Ia.set(h,p.withResumeToken(u.resumeToken,a))}})),c.targetMismatches.forEach(((u,h)=>{const p=i.Ia.get(u);if(!p)return;i.Ia.set(u,p.withResumeToken(Kt.EMPTY_BYTE_STRING,p.snapshotVersion)),gD(i,u);const g=new bi(p.target,u,h,p.sequenceNumber);$E(i,g)})),i.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){le(Pl,"Failed to raise snapshot:",r),await _g(t,r)}}async function _g(t,e,n){if(!ca(e))throw e;t.Ea.add(1),await yf(t),t.Ra.set("Offline"),n||(n=()=>dD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{le(Pl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await my(t)}))}function vD(t,e){return e().catch((n=>_g(t,n,e)))}async function vf(t){const e=Be(t),n=ea(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hl;for(;cB(e);)try{const s=await WU(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,uB(e,s)}catch(s){await _g(e,s)}wD(e)&&_D(e)}function cB(t){return Fl(t)&&t.Ta.length<10}function uB(t,e){t.Ta.push(e);const n=ea(t);n.O_()&&n.X_&&n.ea(e.mutations)}function wD(t){return Fl(t)&&!ea(t).x_()&&t.Ta.length>0}function _D(t){ea(t).start()}async function dB(t){ea(t).ra()}async function hB(t){const e=ea(t);for(const n of t.Ta)e.ea(n.mutations)}async function fB(t,e,n){const r=t.Ta.shift(),s=RE.from(r,e,n);await vD(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await vf(t)}async function pB(t,e){e&&ea(t).X_&&await(async function(r,s){if((function(a){return H6(a)&&a!==te.ABORTED})(s.code)){const i=r.Ta.shift();ea(r).B_(),await vD(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await vf(r)}})(t,e),wD(t)&&_D(t)}async function C1(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),le(Pl,"RemoteStore received new credentials");const r=Fl(n);n.Ea.add(3),await yf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await my(n)}async function mB(t,e){const n=Be(t);e?(n.Ea.delete(2),await my(n)):e||(n.Ea.add(2),await yf(n),n.Ra.set("Unknown"))}function Fu(t){return t.ma||(t.ma=(function(n,r,s){const i=Be(n);return i.sa(),new ZU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:iB.bind(null,t),t_:oB.bind(null,t),r_:aB.bind(null,t),H_:lB.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),WE(t)?zE(t):t.Ra.set("Unknown")):(await t.ma.stop(),yD(t))}))),t.ma}function ea(t){return t.fa||(t.fa=(function(n,r,s){const i=Be(n);return i.sa(),new eB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:dB.bind(null,t),r_:pB.bind(null,t),ta:hB.bind(null,t),na:fB.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await vf(t)):(await t.fa.stop(),t.Ta.length>0&&(le(Pl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,c=new qE(e,n,a,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function HE(t,e){if(Dn("AsyncQueue",`${e}: ${t}`),ca(t))return new ue(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{static emptySet(e){return new eu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=eh(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new eu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.ga=new Tt(he.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ru{constructor(e,n,r,s,i,a,c,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach((c=>{a.push({type:0,doc:c})})),new Ru(e,n,eu.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yB{constructor(){this.queries=k1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Be(n),i=s.queries;s.queries=k1(),i.forEach(((a,c)=>{for(const u of c.Sa)u.onError(r)}))})(this,new ue(te.ABORTED,"Firestore shutting down"))}}function k1(){return new Bi((t=>_k(t)),oy)}async function GE(t,e){const n=Be(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new gB,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const c=HE(a,`Initialization of query '${Bc(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&QE(n)}async function KE(t,e){const n=Be(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vB(t,e){const n=Be(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const c of a.Sa)c.Fa(s)&&(r=!0);a.wa=s}}r&&QE(n)}function wB(t,e,n){const r=Be(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function QE(t){t.Ca.forEach((e=>{e.next()}))}var Y_,D1;(D1=Y_||(Y_={})).Ma="default",D1.Cache="cache";class YE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ru(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Y_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.key=e}}class xD{constructor(e){this.key=e}}class _B{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=Ek(e),this.tu=new eu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new R1,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,g)=>{const y=s.get(p),E=mf(this.query,g)?g:null,A=!!y&&this.mutatedKeys.has(y.key),b=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let S=!1;y&&E?y.data.isEqual(E.data)?A!==b&&(r.track({type:3,doc:E}),S=!0):this.su(y,E)||(r.track({type:2,doc:E}),S=!0,(u&&this.eu(E,u)>0||h&&this.eu(E,h)<0)&&(c=!0)):!y&&E?(r.track({type:0,doc:E}),S=!0):y&&!E&&(r.track({type:1,doc:y}),S=!0,(u||h)&&(c=!0)),S&&(E?(a=a.add(E),i=b?i.add(p):i.delete(p)):(a=a.delete(p),i=i.delete(p)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{tu:a,iu:r,Cs:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((p,g)=>(function(E,A){const b=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:S})}};return b(E)-b(A)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,h=u!==this.Za;return this.Za=u,a.length!==0||h?{snapshot:new Ru(this.query,e.tu,i,a,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new xD(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new ED(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ru.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const XE="SyncEngine";class EB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xB{constructor(e){this.key=e,this.hu=!1}}class TB{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Bi((c=>_k(c)),oy),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(he.comparator),this.Au=new Map,this.Ru=new VE,this.Vu={},this.mu=new Map,this.fu=Al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IB(t,e,n=!0){const r=PD(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await TD(r,e,n,!0),s}async function bB(t,e){const n=PD(t);await TD(n,e,!0,!1)}async function TD(t,e,n,r){const s=await qU(t.localStore,Nr(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await SB(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&mD(t.remoteStore,s),c}async function SB(t,e,n,r,s){t.pu=(g,y,E)=>(async function(b,S,R,V){let N=S.view.ru(R);N.Cs&&(N=await I1(b.localStore,S.query,!1).then((({documents:k})=>S.view.ru(k,N))));const F=V&&V.targetChanges.get(S.targetId),B=V&&V.targetMismatches.get(S.targetId)!=null,K=S.view.applyChanges(N,b.isPrimaryClient,F,B);return M1(b,S.targetId,K.au),K.snapshot})(t,g,y,E);const i=await I1(t.localStore,e,!0),a=new _B(e,i.Qs),c=a.ru(i.documents),u=gf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=a.applyChanges(c,t.isPrimaryClient,u);M1(t,n,h.au);const p=new EB(e,n,a);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function AB(t,e,n){const r=Be(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((a=>!oy(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await K_(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&BE(r.remoteStore,s.targetId),X_(r,s.targetId)})).catch(Ll)):(X_(r,s.targetId),await K_(r.localStore,s.targetId,!0))}async function PB(t,e){const n=Be(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),BE(n.remoteStore,r.targetId))}async function CB(t,e,n){const r=CD(t);try{const s=await(function(a,c){const u=Be(a),h=Ke.now(),p=c.reduce(((E,A)=>E.add(A.key)),qe());let g,y;return u.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let A=pr(),b=qe();return u.Ns.getEntries(E,p).next((S=>{A=S,A.forEach(((R,V)=>{V.isValidDocument()||(b=b.add(R))}))})).next((()=>u.localDocuments.getOverlayedDocuments(E,A))).next((S=>{g=S;const R=[];for(const V of c){const N=W6(V,g.get(V.key).overlayedDocument);N!=null&&R.push(new $i(V.key,N,dk(N.value.mapValue),bn.exists(!0)))}return u.mutationQueue.addMutationBatch(E,h,R,c)})).next((S=>{y=S;const R=S.applyToLocalDocumentSet(g,b);return u.documentOverlayCache.saveOverlays(E,S.batchId,R)}))})).then((()=>({batchId:y.batchId,changes:Tk(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(a,c,u){let h=a.Vu[a.currentUser.toKey()];h||(h=new Tt(Ue)),h=h.insert(c,u),a.Vu[a.currentUser.toKey()]=h})(r,s.batchId,n),await wf(r,s.changes),await vf(r.remoteStore)}catch(s){const i=HE(s,"Failed to persist write");n.reject(i)}}async function ID(t,e){const n=Be(t);try{const r=await $U(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const a=n.Au.get(i);a&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?Ae(a.hu,14607):s.removedDocuments.size>0&&(Ae(a.hu,42227),a.hu=!1))})),await wf(n,r,e)}catch(r){await Ll(r)}}function N1(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,a)=>{const c=a.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(a,c){const u=Be(a);u.onlineState=c;let h=!1;u.queries.forEach(((p,g)=>{for(const y of g.Sa)y.va(c)&&(h=!0)})),h&&QE(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RB(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new Tt(he.comparator);a=a.insert(i,Mt.newNoDocument(i,Ce.min()));const c=qe().add(i),u=new uy(Ce.min(),new Map,new Tt(Ue),a,c);await ID(r,u),r.du=r.du.remove(i),r.Au.delete(e),JE(r)}else await K_(r.localStore,e,!1).then((()=>X_(r,e,n))).catch(Ll)}async function kB(t,e){const n=Be(t),r=e.batch.batchId;try{const s=await BU(n.localStore,e);SD(n,r,null),bD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wf(n,s)}catch(s){await Ll(s)}}async function DB(t,e,n){const r=Be(t);try{const s=await(function(a,c){const u=Be(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return u.mutationQueue.lookupMutationBatch(h,c).next((g=>(Ae(g!==null,37113),p=g.keys(),u.mutationQueue.removeMutationBatch(h,g)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>u.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);SD(r,e,n),bD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wf(r,s)}catch(s){await Ll(s)}}function bD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function SD(t,e,n){const r=Be(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function X_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||AD(t,r)}))}function AD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(BE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),JE(t))}function M1(t,e,n){for(const r of n)r instanceof ED?(t.Ru.addReference(r.key,e),NB(t,r)):r instanceof xD?(le(XE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||AD(t,r.key)):Ee(19791,{wu:r})}function NB(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(le(XE,"New document in limbo: "+n),t.Eu.add(r),JE(t))}function JE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new he(st.fromString(e)),r=t.fu.next();t.Au.set(r,new xB(n)),t.du=t.du.insert(n,r),mD(t.remoteStore,new bi(Nr(pf(n.path)),r,"TargetPurposeLimboResolution",kr.ce))}}async function wf(t,e,n){const r=Be(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,u)=>{a.push(r.pu(u,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){s.push(h);const g=jE.As(u.targetId,h);i.push(g)}})))})),await Promise.all(a),r.Pu.H_(s),await(async function(u,h){const p=Be(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Q.forEach(h,(y=>Q.forEach(y.Es,(E=>p.persistence.referenceDelegate.addReference(g,y.targetId,E))).next((()=>Q.forEach(y.ds,(E=>p.persistence.referenceDelegate.removeReference(g,y.targetId,E)))))))))}catch(g){if(!ca(g))throw g;le(UE,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const E=p.Ms.get(y),A=E.snapshotVersion,b=E.withLastLimboFreeSnapshotVersion(A);p.Ms=p.Ms.insert(y,b)}}})(r.localStore,i))}async function MB(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){le(XE,"User change. New user:",e.toKey());const r=await uD(n.localStore,e);n.currentUser=e,(function(i,a){i.mu.forEach((c=>{c.forEach((u=>{u.reject(new ue(te.CANCELLED,a))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wf(n,r.Ls)}}function OB(t,e){const n=Be(t),r=n.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let s=qe();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const c=n.Tu.get(a);s=s.unionWith(c.view.nu)}return s}}function PD(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ID.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RB.bind(null,e),e.Pu.H_=vB.bind(null,e.eventManager),e.Pu.yu=wB.bind(null,e.eventManager),e}function CD(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DB.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=py(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return cD(this.persistence,new lD,e.initialUser,this.serializer)}Cu(e){return new LE(fy.mi,this.serializer)}Du(e){return new hD}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class VB extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ae(this.persistence.referenceDelegate instanceof wg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new LE((r=>wg.mi(r,n)),this.serializer)}}class LB extends Fh{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await CD(this.xu.syncEngine),await vf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return cD(this.persistence,new lD,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new rD(r,e.asyncQueue,n)}Mu(e,n){const r=new z3(n,this.persistence);return new $3(e.asyncQueue,r)}Cu(e){const n=LU(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new FE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,JU(),Vm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new hD}}class Eg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MB.bind(null,this.syncEngine),await mB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yB})()}createDatastore(e){const n=py(e.databaseInfo.databaseId),r=(function(i){return new XU(i)})(e.databaseInfo);return(function(i,a,c,u){return new nB(i,a,c,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,a,c){return new sB(r,s,i,a,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>N1(this.syncEngine,n,0)),(function(){return A1.v()?new A1:new GU})())}createSyncEngine(e,n){return(function(s,i,a,c,u,h,p){const g=new TB(s,i,a,c,u,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const i=Be(s);le(Pl,"RemoteStore shutting down."),i.Ea.add(5),await yf(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Eg.provider={build:()=>new Eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Dn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="FirestoreClient";class FB{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=hn.UNAUTHENTICATED,this.clientId=yE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async a=>{le(ta,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(le(ta,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=HE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Mw(t,e){t.asyncQueue.verifyOperationInProgress(),le(ta,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await uD(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function O1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jB(t);le(ta,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>C1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>C1(e.remoteStore,s))),t._onlineComponents=e}async function jB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(ta,"Using user provided OfflineComponentProvider");try{await Mw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;xl("Error using user provided cache. Falling back to memory cache: "+n),await Mw(t,new Fh)}}else le(ta,"Using default OfflineComponentProvider"),await Mw(t,new VB(void 0));return t._offlineComponents}async function RD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(ta,"Using user provided OnlineComponentProvider"),await O1(t,t._uninitializedComponentsProvider._online)):(le(ta,"Using default OnlineComponentProvider"),await O1(t,new Eg))),t._onlineComponents}function UB(t){return RD(t).then((e=>e.syncEngine))}async function xg(t){const e=await RD(t),n=e.eventManager;return n.onListen=IB.bind(null,e.syncEngine),n.onUnlisten=AB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PB.bind(null,e.syncEngine),n}function BB(t,e,n={}){const r=new Vs;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,c,u,h){const p=new ZE({next:y=>{p.Nu(),a.enqueueAndForget((()=>KE(i,g)));const E=y.docs.has(c);!E&&y.fromCache?h.reject(new ue(te.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&y.fromCache&&u&&u.source==="server"?h.reject(new ue(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new YE(pf(c.path),p,{includeMetadataChanges:!0,qa:!0});return GE(i,g)})(await xg(t),t.asyncQueue,e,n,r))),r.promise}function $B(t,e,n={}){const r=new Vs;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,c,u,h){const p=new ZE({next:y=>{p.Nu(),a.enqueueAndForget((()=>KE(i,g))),y.fromCache&&u.source==="server"?h.reject(new ue(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new YE(c,p,{includeMetadataChanges:!0,qa:!0});return GE(i,g)})(await xg(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="firestore.googleapis.com",L1=!0;class F1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DD,this.ssl=L1}else this.host=e.host,this.ssl=e.ssl??L1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_U)throw new ue(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new P3;switch(r.type){case"firstParty":return new D3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=V1.get(n);r&&(le("ComponentProvider","Removing Datastore"),V1.delete(n),r.terminate())})(this),Promise.resolve()}}function zB(t,e,n,r={}){var h;t=On(t,gy);const s=Ml(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(rE(`https://${c}`),sE("Firestore",!0)),i.host!==DD&&i.host!==c&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:c,ssl:s,emulatorOptions:r};if(!Xo(u,a)&&(t._setSettings(u),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=hn.MOCK_USER;else{p=UC(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ue(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new hn(y)}t._authCredentials=new C3(new FR(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl=class ND{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ND(this.firestore,e,this._query)}};class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(df(n,Ot._jsonSchema))return new Ot(e,r||null,new he(st.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Gt("string",Ot._jsonSchemaVersion),referencePath:Gt("string")};class Qo extends jl{constructor(e,n,r){super(e,n,pf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new he(e))}withConverter(e){return new Qo(this.firestore,e,this._path)}}function Fn(t,e,...n){if(t=Ct(t),UR("collection","path",e),t instanceof gy){const r=st.fromString(e,...n);return PS(r),new Qo(t,null,r)}{if(!(t instanceof Ot||t instanceof Qo))throw new ue(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return PS(r),new Qo(t.firestore,null,r)}}function Qs(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=yE.newId()),UR("doc","path",e),t instanceof gy){const r=st.fromString(e,...n);return AS(r),new Ot(t,null,new he(r))}{if(!(t instanceof Ot||t instanceof Qo))throw new ue(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return AS(r),new Ot(t.firestore,t instanceof Qo?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="AsyncQueue";class U1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fD(this,"async_queue_retry"),this._c=()=>{const r=Vm();r&&le(j1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ca(e))throw e;le(j1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Dn("INTERNAL UNHANDLED ERROR: ",B1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=qE.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Ee(47125,{Pc:B1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function B1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(t,["next","error","complete"])}class zs extends gy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new U1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new U1(e),this._firestoreClient=void 0,await e}}}function yy(t,e){const n=typeof t=="object"?t:Gg(),r=typeof t=="string"?t:ug,s=aa(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=LC("firestore");i&&zB(s,...i)}return s}function vy(t){if(t._terminated)throw new ue(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||MD(t),t._firestoreClient}function MD(t){var r,s,i;const e=t._freezeSettings(),n=(function(c,u,h,p){return new v6(c,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,kD(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new FB(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}})(t._componentsProvider))}function WB(t,e){xl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return qB(t,Eg.provider,{build:r=>new LB(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function qB(t,e,n){if((t=On(t,zs))._firestoreClient||t._terminated)throw new ue(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ue(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},MD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rr(Kt.fromBase64String(e))}catch(n){throw new ue(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rr(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(df(e,Rr._jsonSchema))return Rr.fromBase64String(e.bytes)}}Rr._jsonSchemaVersion="firestore/bytes/1.0",Rr._jsonSchema={type:Gt("string",Rr._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ls._jsonSchemaVersion}}static fromJSON(e){if(df(e,Ls._jsonSchema))return new Ls(e.latitude,e.longitude)}}Ls._jsonSchemaVersion="firestore/geoPoint/1.0",Ls._jsonSchema={type:Gt("string",Ls._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(df(e,Fs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Fs(e.vectorValues);throw new ue(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fs._jsonSchemaVersion="firestore/vectorValue/1.0",Fs._jsonSchema={type:Gt("string",Fs._jsonSchemaVersion),vectorValues:Gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=/^__.*__$/;class GB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $i(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lu(e,this.data,n,this.fieldTransforms)}}class OD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $i(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class ex{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ex({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VD(this.Ac)&&HB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class KB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||py(e)}Cc(e,n,r,s=!1){return new ex({Ac:e,methodName:n,Dc:r,path:St.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ey(t){const e=t._freezeSettings(),n=py(t._databaseId);return new KB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LD(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);nx("Data must be an object, but it was:",a,r);const c=FD(r,a);let u,h;if(i.merge)u=new Yn(a.fieldMask),h=a.fieldTransforms;else if(i.mergeFields){const p=[];for(const g of i.mergeFields){const y=J_(e,g,n);if(!a.contains(y))throw new ue(te.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);UD(p,y)||p.push(y)}u=new Yn(p),h=a.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,h=a.fieldTransforms;return new GB(new In(c),u,h)}class xy extends _y{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xy}}class tx extends _y{_toFieldTransform(e){return new Rk(e.path,new Su)}isEqual(e){return e instanceof tx}}function QB(t,e,n,r){const s=t.Cc(1,e,n);nx("Data must be an object, but it was:",s,r);const i=[],a=In.empty();ua(r,((u,h)=>{const p=rx(e,u,n);h=Ct(h);const g=s.yc(p);if(h instanceof xy)i.push(p);else{const y=_f(h,g);y!=null&&(i.push(p),a.set(p,y))}}));const c=new Yn(i);return new OD(a,c,s.fieldTransforms)}function YB(t,e,n,r,s,i){const a=t.Cc(1,e,n),c=[J_(e,r,n)],u=[s];if(i.length%2!=0)throw new ue(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)c.push(J_(e,i[y])),u.push(i[y+1]);const h=[],p=In.empty();for(let y=c.length-1;y>=0;--y)if(!UD(h,c[y])){const E=c[y];let A=u[y];A=Ct(A);const b=a.yc(E);if(A instanceof xy)h.push(E);else{const S=_f(A,b);S!=null&&(h.push(E),p.set(E,S))}}const g=new Yn(h);return new OD(p,g,a.fieldTransforms)}function XB(t,e,n,r=!1){return _f(n,t.Cc(r?4:3,e))}function _f(t,e){if(jD(t=Ct(t)))return nx("Unsupported field value:",e,t),FD(t,e);if(t instanceof _y)return(function(r,s){if(!VD(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let a=0;for(const c of r){let u=_f(c,s.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),a++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return F6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ke.fromDate(r);return{timestampValue:Cu(s.serializer,i)}}if(r instanceof Ke){const i=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cu(s.serializer,i)}}if(r instanceof Ls)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rr)return{bytesValue:Lk(s.serializer,r._byteString)};if(r instanceof Ot){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:NE(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Fs)return(function(a,c){return{mapValue:{fields:{[bE]:{stringValue:SE},[xu]:{arrayValue:{values:a.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return PE(c.serializer,h)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Jg(r)}`)})(t,e)}function FD(t,e){const n={};return nk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(t,((r,s)=>{const i=_f(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function jD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof Ls||t instanceof Rr||t instanceof Ot||t instanceof _y||t instanceof Fs)}function nx(t,e,n){if(!jD(n)||!BR(n)){const r=Jg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function J_(t,e,n){if((e=Ct(e))instanceof wy)return e._internalPath;if(typeof e=="string")return rx(t,e);throw Tg("Field path arguments must be of type string or ",t,!1,void 0,n)}const JB=new RegExp("[~\\*/\\[\\]]");function rx(t,e,n){if(e.search(JB)>=0)throw Tg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wy(...e.split("."))._internalPath}catch{throw Tg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tg(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(i||a)&&(u+=" (found",i&&(u+=` in field ${r}`),a&&(u+=` in document ${s}`),u+=")"),new ue(te.INVALID_ARGUMENT,c+t+u)}function UD(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ty("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZB extends BD{data(){return super.data()}}function Ty(t,e){return typeof e=="string"?rx(t,e):e instanceof wy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sx{}class ix extends sx{}function Ws(t,e,...n){let r=[];e instanceof sx&&r.push(e),r=r.concat(n),(function(i){const a=i.filter((u=>u instanceof ox)).length,c=i.filter((u=>u instanceof Iy)).length;if(a>1||a>0&&c>0)throw new ue(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Iy extends ix{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Iy(e,n,r)}_apply(e){const n=this._parse(e);return WD(e._query,n),new jl(e.firestore,e.converter,U_(e._query,n))}_parse(e){const n=Ey(e.firestore);return(function(i,a,c,u,h,p,g){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ue(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){W1(g,p);const A=[];for(const b of g)A.push(z1(u,i,b));y={arrayValue:{values:A}}}else y=z1(u,i,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||W1(g,p),y=XB(c,a,g,p==="in"||p==="not-in");return Qe.create(h,p,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zr(t,e,n){const r=e,s=Ty("where",t);return Iy._create(s,r,n)}class ox extends sx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ox(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:lt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let a=s;const c=i.getFlattenedFilters();for(const u of c)WD(a,u),a=U_(a,u)})(e._query,n),new jl(e.firestore,e.converter,U_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ax extends ix{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ax(e,n)}_apply(e){const n=(function(s,i,a){if(s.startAt!==null)throw new ue(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ue(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vh(i,a)})(e._query,this._field,this._direction);return new jl(e.firestore,e.converter,(function(s,i){const a=s.explicitOrderBy.concat([i]);return new Vu(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function Ef(t,e="asc"){const n=e,r=Ty("orderBy",t);return ax._create(r,n)}class lx extends ix{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new lx(e,n,r)}_apply(e){return new jl(e.firestore,e.converter,fg(e._query,this._limit,this._limitType))}}function zD(t){return lx._create("limit",t,"F")}function z1(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new ue(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wk(e)&&n.indexOf("/")!==-1)throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!he.isDocumentKey(r))throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mh(t,new he(r))}if(n instanceof Ot)return Mh(t,n._key);throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jg(n)}.`)}function W1(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WD(t,e){const n=(function(s,i){for(const a of s)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class e9{convertValue(e,n="none"){switch(Jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ua(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[xu].arrayValue)==null?void 0:s.values)==null?void 0:i.map((a=>Et(a.doubleValue)));return new Fs(n)}convertGeoPoint(e){return new Ls(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dh(e));default:return null}}convertTimestamp(e){const n=ki(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Ae(Gk(r),9688,{name:e});const s=new Tl(r.get(1),r.get(3)),i=new he(r.popFirst(5));return s.isEqual(n)||Dn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class rh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ml extends BD{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ty("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ml._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ml._jsonSchemaVersion="firestore/documentSnapshot/1.0",ml._jsonSchema={type:Gt("string",ml._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Lm extends ml{data(e={}){return super.data(e)}}class gl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new rh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Lm(this._firestore,this._userDataWriter,r.key,r,new rh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map((c=>{const u=new Lm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new rh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}}))}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>i||c.type!==3)).map((c=>{const u=new Lm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new rh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,p=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),p=a.indexOf(c.doc.key)),{type:t9(c.type),doc:u,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function t9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t){t=On(t,Ot);const e=On(t.firestore,zs);return BB(vy(e),t._key).then((n=>KD(e,t,n)))}gl._jsonSchemaVersion="firestore/querySnapshot/1.0",gl._jsonSchema={type:Gt("string",gl._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class cx extends e9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function qs(t){t=On(t,jl);const e=On(t.firestore,zs),n=vy(e),r=new cx(e);return $D(t._query),$B(n,t._query).then((s=>new gl(e,r,t,s)))}function by(t,e,n){t=On(t,Ot);const r=On(t.firestore,zs),s=qD(t.converter,e,n);return Sy(r,[LD(Ey(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,bn.none())])}function jh(t,e,n,...r){t=On(t,Ot);const s=On(t.firestore,zs),i=Ey(s);let a;return a=typeof(e=Ct(e))=="string"||e instanceof wy?YB(i,"updateDoc",t._key,e,n,r):QB(i,"updateDoc",t._key,e),Sy(s,[a.toMutation(t._key,bn.exists(!0))])}function Yte(t){return Sy(On(t.firestore,zs),[new cy(t._key,bn.none())])}function ux(t,e){const n=On(t.firestore,zs),r=Qs(t),s=qD(t.converter,e);return Sy(n,[LD(Ey(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,bn.exists(!1))]).then((()=>r))}function GD(t,...e){var u,h,p;t=Ct(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||$1(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if($1(e[r])){const g=e[r];e[r]=(u=g.next)==null?void 0:u.bind(g),e[r+1]=(h=g.error)==null?void 0:h.bind(g),e[r+2]=(p=g.complete)==null?void 0:p.bind(g)}let i,a,c;if(t instanceof Ot)a=On(t.firestore,zs),c=pf(t._key.path),i={next:g=>{e[r]&&e[r](KD(a,t,g))},error:e[r+1],complete:e[r+2]};else{const g=On(t,jl);a=On(g.firestore,zs),c=g._query;const y=new cx(a);i={next:E=>{e[r]&&e[r](new gl(a,y,g,E))},error:e[r+1],complete:e[r+2]},$D(t._query)}return(function(y,E,A,b){const S=new ZE(b),R=new YE(E,S,A);return y.asyncQueue.enqueueAndForget((async()=>GE(await xg(y),R))),()=>{S.Nu(),y.asyncQueue.enqueueAndForget((async()=>KE(await xg(y),R)))}})(vy(a),c,s,i)}function Sy(t,e){return(function(r,s){const i=new Vs;return r.asyncQueue.enqueueAndForget((async()=>CB(await UB(r),s,i))),i.promise})(vy(t),e)}function KD(t,e,n){const r=n.docs.get(e._key),s=new cx(t);return new ml(t,s,e._key,r,new rh(n.hasPendingWrites,n.fromCache),e.converter)}function Nn(){return new tx("serverTimestamp")}(function(e,n=!0){(function(s){Ou=s})(Vl),ns(new Vr("firestore",((r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),c=new zs(new R3(r.getProvider("auth-internal")),new N3(a,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ue(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(h.options.projectId,p)})(a,s),a);return i={useFetchStreams:n,...i},c._setSettings(i),c}),"PUBLIC").setMultipleInstances(!0)),Jn(TS,IS,e),Jn(TS,IS,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="firebasestorage.googleapis.com",n9="storageBucket",r9=120*1e3,s9=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Lr{constructor(e,n,r=0){super(Ow(e),`Firebase Storage: ${n} (${Ow(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ys.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ow(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hs||(Hs={}));function Ow(t){return"storage/"+t}function i9(){const t="An unknown error occurred, please check the error payload for server response.";return new Ys(Hs.UNKNOWN,t)}function o9(){return new Ys(Hs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function a9(){return new Ys(Hs.CANCELED,"User canceled the upload/download.")}function l9(t){return new Ys(Hs.INVALID_URL,"Invalid URL '"+t+"'.")}function c9(t){return new Ys(Hs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function q1(t){return new Ys(Hs.INVALID_ARGUMENT,t)}function YD(){return new Ys(Hs.APP_DELETED,"The Firebase app was deleted.")}function u9(t){return new Ys(Hs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=es.makeFromUrl(e,n)}catch{return new es(e,"")}if(r.path==="")return r;throw c9(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+s+a,"i"),u={bucket:1,path:3};function h(F){F.path_=decodeURIComponent(F.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",E=new RegExp(`^https?://${g}/${p}/b/${s}/o${y}`,"i"),A={bucket:1,path:3},b=n===QD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",R=new RegExp(`^https?://${b}/${s}/${S}`,"i"),N=[{regex:c,indices:u,postModify:i},{regex:E,indices:A,postModify:h},{regex:R,indices:{bucket:1,path:2},postModify:h}];for(let F=0;F<N.length;F++){const B=N[F],K=B.regex.exec(e);if(K){const k=K[B.indices.bucket];let P=K[B.indices.path];P||(P=""),r=new es(k,P),B.postModify(r);break}}if(r==null)throw l9(e);return r}}class d9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t,e,n){let r=1,s=null,i=null,a=!1,c=0;function u(){return c===2}let h=!1;function p(...S){h||(h=!0,e.apply(null,S))}function g(S){s=setTimeout(()=>{s=null,t(E,u())},S)}function y(){i&&clearTimeout(i)}function E(S,...R){if(h){y();return}if(S){y(),p.call(null,S,...R);return}if(u()||a){y(),p.call(null,S,...R);return}r<64&&(r*=2);let N;c===1?(c=2,N=0):N=(r+Math.random())*1e3,g(N)}let A=!1;function b(S){A||(A=!0,y(),!h&&(s!==null?(S||(c=2),clearTimeout(s),g(0)):S||(c=1)))}return g(0),i=setTimeout(()=>{a=!0,b(!0)},n),b}function f9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){return t!==void 0}function H1(t,e,n,r){if(r<e)throw q1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw q1(`Invalid value for '${t}'. Expected ${n} or less.`)}function m9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ig;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ig||(Ig={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n,r,s,i,a,c,u,h,p,g,y=!0,E=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,b)=>{this.resolve_=A,this.reject_=b,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new om(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=c=>{const u=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,h)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const c=i.getErrorCode()===Ig.NO_ERROR,u=i.getStatus();if(!c||g9(u,this.additionalRetryCodes_)&&this.retry){const p=i.getErrorCode()===Ig.ABORT;r(!1,new om(!1,null,p));return}const h=this.successCodes_.indexOf(u)!==-1;r(!0,new om(h,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());p9(u)?i(u):i()}catch(u){a(u)}else if(c!==null){const u=i9();u.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,u)):a(u)}else if(s.canceled){const u=this.appDelete_?YD():a9();a(u)}else{const u=o9();a(u)}};this.canceled_?n(!1,new om(!1,null,!0)):this.backoffId_=h9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&f9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class om{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function v9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function w9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function E9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function x9(t,e,n,r,s,i,a=!0,c=!1){const u=m9(t.urlParams),h=t.url+u,p=Object.assign({},t.headers);return _9(p,e),v9(p,n),w9(p,i),E9(p,r),new y9(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function I9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){this._service=e,n instanceof es?this._location=n:this._location=es.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bg(e,n)}get root(){const e=new es(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return I9(this._location.path)}get storage(){return this._service}get parent(){const e=T9(this._location.path);if(e===null)return null;const n=new es(this._location.bucket,e);return new bg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw u9(e)}}function G1(t,e){const n=e==null?void 0:e[n9];return n==null?null:es.makeFromBucketSpec(n,t)}function b9(t,e,n,r={}){t.host=`${e}:${n}`;const s=Ml(e);s&&(rE(`https://${t.host}/b`),sE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:UC(i,t.app.options.projectId))}class S9{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=QD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=r9,this._maxUploadRetryTime=s9,this._requests=new Set,s!=null?this._bucket=es.makeFromBucketSpec(s,this._host):this._bucket=G1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=es.makeFromBucketSpec(this._url,e):this._bucket=G1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){H1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){H1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bg(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new d9(YD());{const a=x9(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const K1="@firebase/storage",Q1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="storage";function A9(t=Gg(),e){t=Ct(t);const r=aa(t,XD).getImmediate({identifier:e}),s=LC("storage");return s&&P9(r,...s),r}function P9(t,e,n,r={}){b9(t,e,n,r)}function C9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new S9(n,r,s,e,Vl)}function R9(){ns(new Vr(XD,C9,"PUBLIC").setMultipleInstances(!0)),Jn(K1,Q1,""),Jn(K1,Q1,"esm2020")}R9();const JD="@firebase/installations",dx="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=1e4,eN=`w:${dx}`,tN="FIS_v2",k9="https://firebaseinstallations.googleapis.com/v1",D9=3600*1e3,N9="installations",M9="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Cl=new Ol(N9,M9,O9);function nN(t){return t instanceof Lr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN({projectId:t}){return`${k9}/projects/${t}/installations`}function sN(t){return{token:t.token,requestStatus:2,expiresIn:L9(t.expiresIn),creationTime:Date.now()}}async function iN(t,e){const r=(await e.json()).error;return Cl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function oN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function V9(t,{refreshToken:e}){const n=oN(t);return n.append("Authorization",F9(e)),n}async function aN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function L9(t){return Number(t.replace("s","000"))}function F9(t){return`${tN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=rN(t),s=oN(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const a={fid:n,authVersion:tN,appId:t.appId,sdkVersion:eN},c={method:"POST",headers:s,body:JSON.stringify(a)},u=await aN(()=>fetch(r,c));if(u.ok){const h=await u.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:sN(h.authToken)}}else throw await iN("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=/^[cdef][\w-]{21}$/,Z_="";function $9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=z9(t);return B9.test(n)?n:Z_}catch{return Z_}}function z9(t){return U9(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=new Map;function uN(t,e){const n=Ay(t);dN(n,e),W9(n,e)}function dN(t,e){const n=cN.get(t);if(n)for(const r of n)r(e)}function W9(t,e){const n=q9();n&&n.postMessage({key:t,fid:e}),H9()}let Za=null;function q9(){return!Za&&"BroadcastChannel"in self&&(Za=new BroadcastChannel("[Firebase] FID Change"),Za.onmessage=t=>{dN(t.data.key,t.data.fid)}),Za}function H9(){cN.size===0&&Za&&(Za.close(),Za=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9="firebase-installations-database",K9=1,Rl="firebase-installations-store";let Vw=null;function hx(){return Vw||(Vw=GC(G9,K9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Rl)}}})),Vw}async function Sg(t,e){const n=Ay(t),s=(await hx()).transaction(Rl,"readwrite"),i=s.objectStore(Rl),a=await i.get(n);return await i.put(e,n),await s.done,(!a||a.fid!==e.fid)&&uN(t,e.fid),e}async function hN(t){const e=Ay(t),r=(await hx()).transaction(Rl,"readwrite");await r.objectStore(Rl).delete(e),await r.done}async function Py(t,e){const n=Ay(t),s=(await hx()).transaction(Rl,"readwrite"),i=s.objectStore(Rl),a=await i.get(n),c=e(a);return c===void 0?await i.delete(n):await i.put(c,n),await s.done,c&&(!a||a.fid!==c.fid)&&uN(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(t){let e;const n=await Py(t.appConfig,r=>{const s=Q9(r),i=Y9(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Z_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Q9(t){const e=t||{fid:$9(),registrationStatus:0};return fN(e)}function Y9(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Cl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=X9(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:J9(t)}:{installationEntry:e}}async function X9(t,e){try{const n=await j9(t,e);return Sg(t.appConfig,n)}catch(n){throw nN(n)&&n.customData.serverCode===409?await hN(t.appConfig):await Sg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function J9(t){let e=await Y1(t.appConfig);for(;e.registrationStatus===1;)await lN(100),e=await Y1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await fx(t);return r||n}return e}function Y1(t){return Py(t,e=>{if(!e)throw Cl.create("installation-not-found");return fN(e)})}function fN(t){return Z9(t)?{fid:t.fid,registrationStatus:0}:t}function Z9(t){return t.registrationStatus===1&&t.registrationTime+ZD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e$({appConfig:t,heartbeatServiceProvider:e},n){const r=t$(t,n),s=V9(t,n),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const a={installation:{sdkVersion:eN,appId:t.appId}},c={method:"POST",headers:s,body:JSON.stringify(a)},u=await aN(()=>fetch(r,c));if(u.ok){const h=await u.json();return sN(h)}else throw await iN("Generate Auth Token",u)}function t$(t,{fid:e}){return`${rN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(t,e=!1){let n;const r=await Py(t.appConfig,i=>{if(!pN(i))throw Cl.create("not-registered");const a=i.authToken;if(!e&&s$(a))return i;if(a.requestStatus===1)return n=n$(t,e),i;{if(!navigator.onLine)throw Cl.create("app-offline");const c=o$(i);return n=r$(t,c),c}});return n?await n:r.authToken}async function n$(t,e){let n=await X1(t.appConfig);for(;n.authToken.requestStatus===1;)await lN(100),n=await X1(t.appConfig);const r=n.authToken;return r.requestStatus===0?px(t,e):r}function X1(t){return Py(t,e=>{if(!pN(e))throw Cl.create("not-registered");const n=e.authToken;return a$(n)?{...e,authToken:{requestStatus:0}}:e})}async function r$(t,e){try{const n=await e$(t,e),r={...e,authToken:n};return await Sg(t.appConfig,r),n}catch(n){if(nN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await hN(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Sg(t.appConfig,r)}throw n}}function pN(t){return t!==void 0&&t.registrationStatus===2}function s$(t){return t.requestStatus===2&&!i$(t)}function i$(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+D9}function o$(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function a$(t){return t.requestStatus===1&&t.requestTime+ZD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l$(t){const e=t,{installationEntry:n,registrationPromise:r}=await fx(e);return r?r.catch(console.error):px(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c$(t,e=!1){const n=t;return await u$(n),(await px(n,e)).token}async function u$(t){const{registrationPromise:e}=await fx(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(t){if(!t||!t.options)throw Lw("App Configuration");if(!t.name)throw Lw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Lw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Lw(t){return Cl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="installations",h$="installations-internal",f$=t=>{const e=t.getProvider("app").getImmediate(),n=d$(e),r=aa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},p$=t=>{const e=t.getProvider("app").getImmediate(),n=aa(e,mN).getImmediate();return{getId:()=>l$(n),getToken:s=>c$(n,s)}};function m$(){ns(new Vr(mN,f$,"PUBLIC")),ns(new Vr(h$,p$,"PRIVATE"))}m$();Jn(JD,dx);Jn(JD,dx,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="analytics",g$="firebase_id",y$="origin",v$=60*1e3,w$="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mx="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln=new Hg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mr=new Ol("analytics","Analytics",_$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t){if(!t.startsWith(mx)){const e=mr.create("invalid-gtag-resource",{gtagURL:t});return Ln.warn(e.message),""}return t}function gN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function x$(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function T$(t,e){const n=x$("firebase-js-sdk-policy",{createScriptURL:E$}),r=document.createElement("script"),s=`${mx}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function I$(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function b$(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const u=(await gN(n)).find(h=>h.measurementId===s);u&&await e[u.appId]}}catch(c){Ln.error(c)}t("config",s,i)}async function S$(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const c=await gN(n);for(const u of a){const h=c.find(g=>g.measurementId===u),p=h&&e[h.appId];if(p)i.push(p);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Ln.error(i)}}function A$(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[c,u]=a;await S$(t,e,n,c,u)}else if(i==="config"){const[c,u]=a;await b$(t,e,n,r,c,u)}else if(i==="consent"){const[c,u]=a;t("consent",c,u)}else if(i==="get"){const[c,u,h]=a;t("get",c,u,h)}else if(i==="set"){const[c]=a;t("set",c)}else t(i,...a)}catch(c){Ln.error(c)}}return s}function P$(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=A$(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function C$(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(mx)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$=30,k$=1e3;class D${constructor(e={},n=k$){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const yN=new D$;function N$(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function M$(t){var a;const{appId:e,apiKey:n}=t,r={method:"GET",headers:N$(n)},s=w$.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let c="";try{const u=await i.json();(a=u.error)!=null&&a.message&&(c=u.error.message)}catch{}throw mr.create("config-fetch-failed",{httpStatus:i.status,responseMessage:c})}return i.json()}async function O$(t,e=yN,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw mr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw mr.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new F$;return setTimeout(async()=>{c.abort()},v$),vN({appId:r,apiKey:s,measurementId:i},a,c,e)}async function vN(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=yN){var c;const{appId:i,measurementId:a}=t;try{await V$(r,e)}catch(u){if(a)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:a};throw u}try{const u=await M$(t);return s.deleteThrottleMetadata(i),u}catch(u){const h=u;if(!L$(h)){if(s.deleteThrottleMetadata(i),a)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:i,measurementId:a};throw u}const p=Number((c=h==null?void 0:h.customData)==null?void 0:c.httpStatus)===503?Kb(n,s.intervalMillis,R$):Kb(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return s.setThrottleMetadata(i,g),Ln.debug(`Calling attemptFetch again in ${p} millis`),vN(t,g,r,s)}}function V$(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(mr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function L$(t){if(!(t instanceof Lr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class F${constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function j$(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a={...r,send_to:i};t("event",n,a)}}async function U$(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B$(){if(qg())try{await oE()}catch(t){return Ln.warn(mr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ln.warn(mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $$(t,e,n,r,s,i,a){const c=O$(t);c.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Ln.error(y)),e.push(c);const u=B$().then(y=>{if(y)return r.getId()}),[h,p]=await Promise.all([c,u]);C$(i)||T$(i,h.measurementId),s("js",new Date);const g=(a==null?void 0:a.config)??{};return g[y$]="firebase",g.update=!0,p!=null&&(g[g$]=p),s("config",h.measurementId,g),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e){this.app=e}_delete(){return delete tu[this.app.options.appId],Promise.resolve()}}let tu={},J1=[];const Z1={};let Fw="dataLayer",W$="gtag",eA,gx,tA=!1;function q$(){const t=[];if(iE()&&t.push("This is a browser extension environment."),WC()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=mr.create("invalid-analytics-context",{errorInfo:e});Ln.warn(n.message)}}function H$(t,e,n){q$();const r=t.options.appId;if(!r)throw mr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mr.create("no-api-key");if(tu[r]!=null)throw mr.create("already-exists",{id:r});if(!tA){I$(Fw);const{wrappedGtag:i,gtagCore:a}=P$(tu,J1,Z1,Fw,W$);gx=i,eA=a,tA=!0}return tu[r]=$$(t,J1,Z1,e,eA,Fw,n),new z$(t)}function wN(t=Gg()){t=Ct(t);const e=aa(t,Ag);return e.isInitialized()?e.getImmediate():G$(t)}function G$(t,e={}){const n=aa(t,Ag);if(n.isInitialized()){const s=n.getImmediate();if(Xo(e,n.getOptions()))return s;throw mr.create("already-initialized")}return n.initialize({options:e})}async function _N(){if(iE()||!WC()||!qg())return!1;try{return await oE()}catch{return!1}}function K$(t,e,n){t=Ct(t),U$(gx,tu[t.app.options.appId],e,n).catch(r=>Ln.error(r))}function EN(t,e,n,r){t=Ct(t),j$(gx,tu[t.app.options.appId],e,n,r).catch(s=>Ln.error(s))}const nA="@firebase/analytics",rA="0.10.19";function Q$(){ns(new Vr(Ag,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return H$(r,s,n)},"PUBLIC")),ns(new Vr("analytics-internal",t,"PRIVATE")),Jn(nA,rA),Jn(nA,rA,"esm2020");function t(e){try{const n=e.getProvider(Ag).getImmediate();return{logEvent:(r,s,i)=>EN(n,r,s,i),setUserProperties:(r,s)=>K$(n,r,s)}}catch(n){throw mr.create("interop-component-reg-failed",{reason:n})}}}Q$();const Y$={apiKey:"AIzaSyA-ji4PrndkvUwbcN6axWGjLJd-pNJrTBY",authDomain:"math-adventure-app.firebaseapp.com",projectId:"math-adventure-app",storageBucket:"math-adventure-app.firebasestorage.app",messagingSenderId:"685781375492",appId:"1:685781375492:web:cb2f52696292927cb07351",measurementId:"G-FGQWD7WPCY"},ss=KC(Y$),jw=Xg(ss),X$=yy(ss);A9(ss);try{WB(X$).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Firestore persistence: Not supported in this browser")})}catch(t){console.warn("Firestore persistence init failed:",t)}let xN=null;try{_N().then(t=>{t&&(xN=wN(ss))}).catch(()=>{})}catch{}const J$=xN;/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sA="popstate";function Z$(t={}){function e(r,s){let{pathname:i,search:a,hash:c}=r.location;return e0("",{pathname:i,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Uh(s)}return tz(e,n,null,t)}function Pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ez(){return Math.random().toString(36).substring(2,10)}function iA(t,e){return{usr:t.state,key:t.key,idx:e}}function e0(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ju(e):e,state:n,key:e&&e.key||r||ez()}}function Uh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ju(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function tz(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,c="POP",u=null,h=p();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function p(){return(a.state||{idx:null}).idx}function g(){c="POP";let S=p(),R=S==null?null:S-h;h=S,u&&u({action:c,location:b.location,delta:R})}function y(S,R){c="PUSH";let V=e0(b.location,S,R);h=p()+1;let N=iA(V,h),F=b.createHref(V);try{a.pushState(N,"",F)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(F)}i&&u&&u({action:c,location:b.location,delta:1})}function E(S,R){c="REPLACE";let V=e0(b.location,S,R);h=p();let N=iA(V,h),F=b.createHref(V);a.replaceState(N,"",F),i&&u&&u({action:c,location:b.location,delta:0})}function A(S){return nz(S)}let b={get action(){return c},get location(){return t(s,a)},listen(S){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(sA,g),u=S,()=>{s.removeEventListener(sA,g),u=null}},createHref(S){return e(s,S)},createURL:A,encodeLocation(S){let R=A(S);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:y,replace:E,go(S){return a.go(S)}};return b}function nz(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Pt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Uh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function TN(t,e,n="/"){return rz(t,e,n,!1)}function rz(t,e,n,r){let s=typeof e=="string"?ju(e):e,i=Ni(s.pathname||"/",n);if(i==null)return null;let a=IN(t);sz(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let h=mz(i);c=fz(a[u],h,r)}return c}function IN(t,e=[],n=[],r="",s=!1){let i=(a,c,u=s,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;Pt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Pi([r,p.relativePath]),y=n.concat(p);a.children&&a.children.length>0&&(Pt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),IN(a.children,e,y,g,u)),!(a.path==null&&!a.index)&&e.push({path:g,score:dz(g,a.index),routesMeta:y})};return t.forEach((a,c)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,c);else for(let h of bN(a.path))i(a,c,!0,h)}),e}function bN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=bN(r.join("/")),c=[];return c.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function sz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var iz=/^:[\w-]+$/,oz=3,az=2,lz=1,cz=10,uz=-2,oA=t=>t==="*";function dz(t,e){let n=t.split("/"),r=n.length;return n.some(oA)&&(r+=uz),e&&(r+=az),n.filter(s=>!oA(s)).reduce((s,i)=>s+(iz.test(i)?oz:i===""?lz:cz),r)}function hz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function fz(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",g=Pg({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),y=u.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Pg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),a.push({params:s,pathname:Pi([i,g.pathname]),pathnameBase:wz(Pi([i,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(i=Pi([i,g.pathnameBase]))}return a}function Pg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pz(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let A=c[y]||"";a=i.slice(0,i.length-A.length).replace(/(.)\/+$/,"$1")}const E=c[y];return g&&!E?h[p]=void 0:h[p]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:t}}function pz(t,e=!1,n=!0){Gs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function mz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ni(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gz(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ju(t):t;return{pathname:n?n.startsWith("/")?n:yz(n,e):e,search:_z(r),hash:Ez(s)}}function yz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Uw(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function SN(t){let e=vz(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function AN(t,e,n,r=!1){let s;typeof t=="string"?s=ju(t):(s={...t},Pt(!s.pathname||!s.pathname.includes("?"),Uw("?","pathname","search",s)),Pt(!s.pathname||!s.pathname.includes("#"),Uw("#","pathname","hash",s)),Pt(!s.search||!s.search.includes("#"),Uw("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,c;if(a==null)c=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}c=g>=0?e[g]:"/"}let u=gz(s,c),h=a&&a!=="/"&&a.endsWith("/"),p=(i||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}var Pi=t=>t.join("/").replace(/\/\/+/g,"/"),wz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_z=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ez=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var PN=["POST","PUT","PATCH","DELETE"];new Set(PN);var Tz=["GET",...PN];new Set(Tz);var Uu=T.createContext(null);Uu.displayName="DataRouter";var Cy=T.createContext(null);Cy.displayName="DataRouterState";T.createContext(!1);var CN=T.createContext({isTransitioning:!1});CN.displayName="ViewTransition";var Iz=T.createContext(new Map);Iz.displayName="Fetchers";var bz=T.createContext(null);bz.displayName="Await";var Xs=T.createContext(null);Xs.displayName="Navigation";var xf=T.createContext(null);xf.displayName="Location";var zi=T.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var yx=T.createContext(null);yx.displayName="RouteError";function Sz(t,{relative:e}={}){Pt(Tf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(Xs),{hash:s,pathname:i,search:a}=If(t,{relative:e}),c=i;return n!=="/"&&(c=i==="/"?n:Pi([n,i])),r.createHref({pathname:c,search:a,hash:s})}function Tf(){return T.useContext(xf)!=null}function Wi(){return Pt(Tf(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(xf).location}var RN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kN(t){T.useContext(Xs).static||T.useLayoutEffect(t)}function vx(){let{isDataRoute:t}=T.useContext(zi);return t?jz():Az()}function Az(){Pt(Tf(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Uu),{basename:e,navigator:n}=T.useContext(Xs),{matches:r}=T.useContext(zi),{pathname:s}=Wi(),i=JSON.stringify(SN(r)),a=T.useRef(!1);return kN(()=>{a.current=!0}),T.useCallback((u,h={})=>{if(Gs(a.current,RN),!a.current)return;if(typeof u=="number"){n.go(u);return}let p=AN(u,JSON.parse(i),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Pi([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,i,s,t])}T.createContext(null);function If(t,{relative:e}={}){let{matches:n}=T.useContext(zi),{pathname:r}=Wi(),s=JSON.stringify(SN(n));return T.useMemo(()=>AN(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Pz(t,e){return DN(t,e)}function DN(t,e,n,r,s){var V;Pt(Tf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(Xs),{matches:a}=T.useContext(zi),c=a[a.length-1],u=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let N=g&&g.path||"";NN(h,!g||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let y=Wi(),E;if(e){let N=typeof e=="string"?ju(e):e;Pt(p==="/"||((V=N.pathname)==null?void 0:V.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${N.pathname}" was given in the \`location\` prop.`),E=N}else E=y;let A=E.pathname||"/",b=A;if(p!=="/"){let N=p.replace(/^\//,"").split("/");b="/"+A.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=TN(t,{pathname:b});Gs(g||S!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Gs(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Nz(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:Pi([p,i.encodeLocation?i.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Pi([p,i.encodeLocation?i.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),a,n,r,s);return e&&R?T.createElement(xf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},R):R}function Cz(){let t=Fz(),e=xz(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:i},"ErrorBoundary")," or"," ",T.createElement("code",{style:i},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,a)}var Rz=T.createElement(Cz,null),kz=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(zi.Provider,{value:this.props.routeContext},T.createElement(yx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Dz({routeContext:t,match:e,children:n}){let r=T.useContext(Uu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(zi.Provider,{value:t},n)}function Nz(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let h=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Pt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(n)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:g,errors:y}=n,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||E){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,p,g)=>{let y,E=!1,A=null,b=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,A=p.route.errorElement||Rz,c&&(u<0&&g===0?(NN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,b=null):u===g&&(E=!0,b=p.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,g+1)),R=()=>{let V;return y?V=A:E?V=b:p.route.Component?V=T.createElement(p.route.Component,null):p.route.element?V=p.route.element:V=h,T.createElement(Dz,{match:p,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:V})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?T.createElement(kz,{location:n.location,revalidation:n.revalidation,component:A,error:y,children:R(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):R()},null)}function wx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mz(t){let e=T.useContext(Uu);return Pt(e,wx(t)),e}function Oz(t){let e=T.useContext(Cy);return Pt(e,wx(t)),e}function Vz(t){let e=T.useContext(zi);return Pt(e,wx(t)),e}function _x(t){let e=Vz(t),n=e.matches[e.matches.length-1];return Pt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Lz(){return _x("useRouteId")}function Fz(){var r;let t=T.useContext(yx),e=Oz("useRouteError"),n=_x("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function jz(){let{router:t}=Mz("useNavigate"),e=_x("useNavigate"),n=T.useRef(!1);return kN(()=>{n.current=!0}),T.useCallback(async(s,i={})=>{Gs(n.current,RN),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var aA={};function NN(t,e,n){!e&&!aA[t]&&(aA[t]=!0,Gs(!1,n))}T.memo(Uz);function Uz({routes:t,future:e,state:n,unstable_onError:r}){return DN(t,void 0,n,r,e)}function Ut(t){Pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bz({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Pt(!Tf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=ju(n));let{pathname:u="/",search:h="",hash:p="",state:g=null,key:y="default"}=n,E=T.useMemo(()=>{let A=Ni(u,a);return A==null?null:{location:{pathname:A,search:h,hash:p,state:g,key:y},navigationType:r}},[a,u,h,p,g,y,r]);return Gs(E!=null,`<Router basename="${a}"> is not able to match the URL "${u}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:T.createElement(Xs.Provider,{value:c},T.createElement(xf.Provider,{children:e,value:E}))}function $z({children:t,location:e}){return Pz(t0(t),e)}function t0(t,e=[]){let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,t0(r.props.children,i));return}Pt(r.type===Ut,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=t0(r.props.children,i)),n.push(a)}),n}var Fm="get",jm="application/x-www-form-urlencoded";function Ry(t){return t!=null&&typeof t.tagName=="string"}function zz(t){return Ry(t)&&t.tagName.toLowerCase()==="button"}function Wz(t){return Ry(t)&&t.tagName.toLowerCase()==="form"}function qz(t){return Ry(t)&&t.tagName.toLowerCase()==="input"}function Hz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Gz(t,e){return t.button===0&&(!e||e==="_self")&&!Hz(t)}var am=null;function Kz(){if(am===null)try{new FormData(document.createElement("form"),0),am=!1}catch{am=!0}return am}var Qz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bw(t){return t!=null&&!Qz.has(t)?(Gs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jm}"`),null):t}function Yz(t,e){let n,r,s,i,a;if(Wz(t)){let c=t.getAttribute("action");r=c?Ni(c,e):null,n=t.getAttribute("method")||Fm,s=Bw(t.getAttribute("enctype"))||jm,i=new FormData(t)}else if(zz(t)||qz(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?Ni(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Fm,s=Bw(t.getAttribute("formenctype"))||Bw(c.getAttribute("enctype"))||jm,i=new FormData(c,t),!Kz()){let{name:h,type:p,value:g}=t;if(p==="image"){let y=h?`${h}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else h&&i.append(h,g)}}else{if(Ry(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fm,r=null,s=jm,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ex(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xz(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ni(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Jz(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zz(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function e8(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await Jz(i,n);return a.links?a.links():[]}return[]}));return s8(r.flat(1).filter(Zz).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function lA(t,e,n,r,s,i){let a=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,c=(u,h)=>{var p;return n[h].pathname!==u.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,h)=>a(u,h)||c(u,h)):i==="data"?e.filter((u,h)=>{var g;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(a(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let y=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function t8(t,e,{includeHydrateFallback:n}={}){return n8(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function n8(t){return[...new Set(t)]}function r8(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function s8(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(r8(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function MN(){let t=T.useContext(Uu);return Ex(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function i8(){let t=T.useContext(Cy);return Ex(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var xx=T.createContext(void 0);xx.displayName="FrameworkContext";function ON(){let t=T.useContext(xx);return Ex(t,"You must render this element inside a <HydratedRouter> element"),t}function o8(t,e){let n=T.useContext(xx),[r,s]=T.useState(!1),[i,a]=T.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,y=T.useRef(null);T.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let b=R=>{R.forEach(V=>{a(V.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[t]),T.useEffect(()=>{if(r){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[r]);let E=()=>{s(!0)},A=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,y,{}]:[i,y,{onFocus:Hd(c,E),onBlur:Hd(u,A),onMouseEnter:Hd(h,E),onMouseLeave:Hd(p,A),onTouchStart:Hd(g,E)}]:[!1,y,{}]}function Hd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function a8({page:t,...e}){let{router:n}=MN(),r=T.useMemo(()=>TN(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(c8,{page:t,matches:r,...e}):null}function l8(t){let{manifest:e,routeModules:n}=ON(),[r,s]=T.useState([]);return T.useEffect(()=>{let i=!1;return e8(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function c8({page:t,matches:e,...n}){let r=Wi(),{manifest:s,routeModules:i}=ON(),{basename:a}=MN(),{loaderData:c,matches:u}=i8(),h=T.useMemo(()=>lA(t,e,u,s,r,"data"),[t,e,u,s,r]),p=T.useMemo(()=>lA(t,e,u,s,r,"assets"),[t,e,u,s,r]),g=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,b=!1;if(e.forEach(R=>{var N;let V=s.routes[R.route.id];!V||!V.hasLoader||(!h.some(F=>F.route.id===R.route.id)&&R.route.id in c&&((N=i[R.route.id])!=null&&N.shouldRevalidate)||V.hasClientLoader?b=!0:A.add(R.route.id))}),A.size===0)return[];let S=Xz(t,a,"data");return b&&A.size>0&&S.searchParams.set("_routes",e.filter(R=>A.has(R.route.id)).map(R=>R.route.id).join(",")),[S.pathname+S.search]},[a,c,r,s,h,e,t,i]),y=T.useMemo(()=>t8(p,s),[p,s]),E=l8(p);return T.createElement(T.Fragment,null,g.map(A=>T.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),y.map(A=>T.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),E.map(({key:A,link:b})=>T.createElement("link",{key:A,nonce:n.nonce,...b})))}function u8(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var VN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VN&&(window.__reactRouterVersion="7.9.5")}catch{}function d8({basename:t,children:e,window:n}){let r=T.useRef();r.current==null&&(r.current=Z$({window:n,v5Compat:!0}));let s=r.current,[i,a]=T.useState({action:s.action,location:s.location}),c=T.useCallback(u=>{T.startTransition(()=>a(u))},[a]);return T.useLayoutEffect(()=>s.listen(c),[s,c]),T.createElement(Bz,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var LN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rn=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:c,target:u,to:h,preventScrollReset:p,viewTransition:g,...y},E){let{basename:A}=T.useContext(Xs),b=typeof h=="string"&&LN.test(h),S,R=!1;if(typeof h=="string"&&b&&(S=h,VN))try{let D=new URL(window.location.href),O=h.startsWith("//")?new URL(D.protocol+h):new URL(h),j=Ni(O.pathname,A);O.origin===D.origin&&j!=null?h=j+O.search+O.hash:R=!0}catch{Gs(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=Sz(h,{relative:s}),[N,F,B]=o8(r,y),K=m8(h,{replace:a,state:c,target:u,preventScrollReset:p,relative:s,viewTransition:g});function k(D){e&&e(D),D.defaultPrevented||K(D)}let P=T.createElement("a",{...y,...B,href:S||V,onClick:R||i?e:k,ref:u8(E,F),target:u,"data-discover":!b&&n==="render"?"true":void 0});return N&&!b?T.createElement(T.Fragment,null,P,T.createElement(a8,{page:V})):P});rn.displayName="Link";var h8=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:c,children:u,...h},p){let g=If(a,{relative:h.relative}),y=Wi(),E=T.useContext(Cy),{navigator:A,basename:b}=T.useContext(Xs),S=E!=null&&_8(g)&&c===!0,R=A.encodeLocation?A.encodeLocation(g).pathname:g.pathname,V=y.pathname,N=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(V=V.toLowerCase(),N=N?N.toLowerCase():null,R=R.toLowerCase()),N&&b&&(N=Ni(N,b)||N);const F=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let B=V===R||!s&&V.startsWith(R)&&V.charAt(F)==="/",K=N!=null&&(N===R||!s&&N.startsWith(R)&&N.charAt(R.length)==="/"),k={isActive:B,isPending:K,isTransitioning:S},P=B?e:void 0,D;typeof r=="function"?D=r(k):D=[r,B?"active":null,K?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let O=typeof i=="function"?i(k):i;return T.createElement(rn,{...h,"aria-current":P,className:D,ref:p,style:O,to:a,viewTransition:c},typeof u=="function"?u(k):u)});h8.displayName="NavLink";var f8=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Fm,action:c,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:g,...y},E)=>{let A=v8(),b=w8(c,{relative:h}),S=a.toLowerCase()==="get"?"get":"post",R=typeof c=="string"&&LN.test(c),V=N=>{if(u&&u(N),N.defaultPrevented)return;N.preventDefault();let F=N.nativeEvent.submitter,B=(F==null?void 0:F.getAttribute("formmethod"))||a;A(F||N.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:s,state:i,relative:h,preventScrollReset:p,viewTransition:g})};return T.createElement("form",{ref:E,method:S,action:b,onSubmit:r?u:V,...y,"data-discover":!R&&t==="render"?"true":void 0})});f8.displayName="Form";function p8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FN(t){let e=T.useContext(Uu);return Pt(e,p8(t)),e}function m8(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let c=vx(),u=Wi(),h=If(t,{relative:i});return T.useCallback(p=>{if(Gz(p,e)){p.preventDefault();let g=n!==void 0?n:Uh(u)===Uh(h);c(t,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[u,c,h,n,r,e,t,s,i,a])}var g8=0,y8=()=>`__${String(++g8)}__`;function v8(){let{router:t}=FN("useSubmit"),{basename:e}=T.useContext(Xs),n=Lz();return T.useCallback(async(r,s={})=>{let{action:i,method:a,encType:c,formData:u,body:h}=Yz(r,e);if(s.navigate===!1){let p=s.fetcherKey||y8();await t.fetch(p,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||a,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||a,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function w8(t,{relative:e}={}){let{basename:n}=T.useContext(Xs),r=T.useContext(zi);Pt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...If(t||".",{relative:e})},a=Wi();if(t==null){i.search=a.search;let c=new URLSearchParams(i.search),u=c.getAll("index");if(u.some(p=>p==="")){c.delete("index"),u.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();i.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Pi([n,i.pathname])),Uh(i)}function _8(t,{relative:e}={}){let n=T.useContext(CN);Pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=FN("useViewTransitionState"),s=If(t,{relative:e});if(!n.isTransitioning)return!1;let i=Ni(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ni(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pg(s.pathname,a)!=null||Pg(s.pathname,i)!=null}var Tx=kC();const E8=eE(Tx);function vt(t){if(!t)return"/";const[e,n]=t.split("?"),r="/"+e.replace(/\s+/g,"");return n?`${r}?${n}`:r}var bf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},x8={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Vo,Z0,EC,T8=(EC=class{constructor(){De(this,Vo,x8);De(this,Z0,!1)}setTimeoutProvider(t){me(this,Vo,t)}setTimeout(t,e){return W(this,Vo).setTimeout(t,e)}clearTimeout(t){W(this,Vo).clearTimeout(t)}setInterval(t,e){return W(this,Vo).setInterval(t,e)}clearInterval(t){W(this,Vo).clearInterval(t)}},Vo=new WeakMap,Z0=new WeakMap,EC),el=new T8;function I8(t){setTimeout(t,0)}var kl=typeof window>"u"||"Deno"in globalThis;function Qn(){}function b8(t,e){return typeof t=="function"?t(e):t}function n0(t){return typeof t=="number"&&t>=0&&t!==1/0}function jN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Yo(t,e){return typeof t=="function"?t(e):t}function Cr(t,e){return typeof t=="function"?t(e):t}function cA(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:c}=t;if(a){if(r){if(e.queryHash!==Ix(a,e.options))return!1}else if(!$h(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||i&&!i(e))}function uA(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Bh(e.options.mutationKey)!==Bh(i))return!1}else if(!$h(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ix(t,e){return((e==null?void 0:e.queryKeyHashFn)||Bh)(t)}function Bh(t){return JSON.stringify(t,(e,n)=>s0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function $h(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>$h(t[n],e[n])):!1}var S8=Object.prototype.hasOwnProperty;function UN(t,e){if(t===e)return t;const n=dA(t)&&dA(e);if(!n&&!(s0(t)&&s0(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),a=i.length,c=n?new Array(a):{};let u=0;for(let h=0;h<a;h++){const p=n?h:i[h],g=t[p],y=e[p];if(g===y){c[p]=g,(n?h<s:S8.call(t,p))&&u++;continue}if(g===null||y===null||typeof g!="object"||typeof y!="object"){c[p]=y;continue}const E=UN(g,y);c[p]=E,E===g&&u++}return s===a&&u===s?t:c}function r0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function dA(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function s0(t){if(!hA(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!hA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hA(t){return Object.prototype.toString.call(t)==="[object Object]"}function A8(t){return new Promise(e=>{el.setTimeout(e,t)})}function i0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?UN(t,e):e}function P8(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function C8(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var bx=Symbol();function BN(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===bx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function R8(t,e){return typeof t=="function"?t(...e):!!t}var rl,Lo,iu,xC,k8=(xC=class extends bf{constructor(){super();De(this,rl);De(this,Lo);De(this,iu);me(this,iu,e=>{if(!kl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,Lo)||this.setEventListener(W(this,iu))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,Lo))==null||e.call(this),me(this,Lo,void 0))}setEventListener(e){var n;me(this,iu,e),(n=W(this,Lo))==null||n.call(this),me(this,Lo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){W(this,rl)!==e&&(me(this,rl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof W(this,rl)=="boolean"?W(this,rl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},rl=new WeakMap,Lo=new WeakMap,iu=new WeakMap,xC),Sx=new k8;function o0(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var D8=I8;function N8(){let t=[],e=0,n=c=>{c()},r=c=>{c()},s=D8;const i=c=>{e?t.push(c):s(()=>{n(c)})},a=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(u=>{n(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||a()}return u},batchCalls:c=>(...u)=>{i(()=>{c(...u)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var mn=N8(),ou,Fo,au,TC,M8=(TC=class extends bf{constructor(){super();De(this,ou,!0);De(this,Fo);De(this,au);me(this,au,e=>{if(!kl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,Fo)||this.setEventListener(W(this,au))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,Fo))==null||e.call(this),me(this,Fo,void 0))}setEventListener(e){var n;me(this,au,e),(n=W(this,Fo))==null||n.call(this),me(this,Fo,e(this.setOnline.bind(this)))}setOnline(e){W(this,ou)!==e&&(me(this,ou,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return W(this,ou)}},ou=new WeakMap,Fo=new WeakMap,au=new WeakMap,TC),Cg=new M8;function O8(t){return Math.min(1e3*2**t,3e4)}function $N(t){return(t??"online")==="online"?Cg.isOnline():!0}var a0=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function zN(t){let e=!1,n=0,r;const s=o0(),i=()=>s.status!=="pending",a=b=>{var S;if(!i()){const R=new a0(b);y(R),(S=t.onCancel)==null||S.call(t,R)}},c=()=>{e=!0},u=()=>{e=!1},h=()=>Sx.isFocused()&&(t.networkMode==="always"||Cg.isOnline())&&t.canRun(),p=()=>$N(t.networkMode)&&t.canRun(),g=b=>{i()||(r==null||r(),s.resolve(b))},y=b=>{i()||(r==null||r(),s.reject(b))},E=()=>new Promise(b=>{var S;r=R=>{(i()||h())&&b(R)},(S=t.onPause)==null||S.call(t)}).then(()=>{var b;r=void 0,i()||(b=t.onContinue)==null||b.call(t)}),A=()=>{if(i())return;let b;const S=n===0?t.initialPromise:void 0;try{b=S??t.fn()}catch(R){b=Promise.reject(R)}Promise.resolve(b).then(g).catch(R=>{var K;if(i())return;const V=t.retry??(kl?0:3),N=t.retryDelay??O8,F=typeof N=="function"?N(n,R):N,B=V===!0||typeof V=="number"&&n<V||typeof V=="function"&&V(n,R);if(e||!B){y(R);return}n++,(K=t.onFail)==null||K.call(t,n,R),A8(F).then(()=>h()?void 0:E()).then(()=>{e?y(R):A()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?A():E().then(A),s)}}var sl,IC,WN=(IC=class{constructor(){De(this,sl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),n0(this.gcTime)&&me(this,sl,el.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(kl?1/0:300*1e3))}clearGcTimeout(){W(this,sl)&&(el.clearTimeout(W(this,sl)),me(this,sl,void 0))}},sl=new WeakMap,IC),il,lu,Pr,ol,sn,ef,al,Qr,_i,bC,V8=(bC=class extends WN{constructor(e){super();De(this,Qr);De(this,il);De(this,lu);De(this,Pr);De(this,ol);De(this,sn);De(this,ef);De(this,al);me(this,al,!1),me(this,ef,e.defaultOptions),this.setOptions(e.options),this.observers=[],me(this,ol,e.client),me(this,Pr,W(this,ol).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,me(this,il,pA(this.options)),this.state=e.state??W(this,il),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=W(this,sn))==null?void 0:e.promise}setOptions(e){if(this.options={...W(this,ef),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=pA(this.options);n.data!==void 0&&(this.setState(fA(n.data,n.dataUpdatedAt)),me(this,il,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Pr).remove(this)}setData(e,n){const r=i0(this.state.data,e,this.options);return Xe(this,Qr,_i).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Xe(this,Qr,_i).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=W(this,sn))==null?void 0:r.promise;return(s=W(this,sn))==null||s.cancel(e),n?n.then(Qn).catch(Qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,il))}isActive(){return this.observers.some(e=>Cr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Yo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!jN(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=W(this,sn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=W(this,sn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),W(this,Pr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(W(this,sn)&&(W(this,al)?W(this,sn).cancel({revert:!0}):W(this,sn).cancelRetry()),this.scheduleGc()),W(this,Pr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xe(this,Qr,_i).call(this,{type:"invalidate"})}async fetch(e,n){var u,h,p,g,y,E,A,b,S,R,V,N;if(this.state.fetchStatus!=="idle"&&((u=W(this,sn))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,sn))return W(this,sn).continueRetry(),W(this,sn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const F=this.observers.find(B=>B.options.queryFn);F&&this.setOptions(F.options)}const r=new AbortController,s=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>(me(this,al,!0),r.signal)})},i=()=>{const F=BN(this.options,n),K=(()=>{const k={client:W(this,ol),queryKey:this.queryKey,meta:this.meta};return s(k),k})();return me(this,al,!1),this.options.persister?this.options.persister(F,K,this):F(K)},c=(()=>{const F={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:W(this,ol),state:this.state,fetchFn:i};return s(F),F})();(h=this.options.behavior)==null||h.onFetch(c,this),me(this,lu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&Xe(this,Qr,_i).call(this,{type:"fetch",meta:(g=c.fetchOptions)==null?void 0:g.meta}),me(this,sn,zN({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,onCancel:F=>{F instanceof a0&&F.revert&&this.setState({...W(this,lu),fetchStatus:"idle"}),r.abort()},onFail:(F,B)=>{Xe(this,Qr,_i).call(this,{type:"failed",failureCount:F,error:B})},onPause:()=>{Xe(this,Qr,_i).call(this,{type:"pause"})},onContinue:()=>{Xe(this,Qr,_i).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const F=await W(this,sn).start();if(F===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(F),(E=(y=W(this,Pr).config).onSuccess)==null||E.call(y,F,this),(b=(A=W(this,Pr).config).onSettled)==null||b.call(A,F,this.state.error,this),F}catch(F){if(F instanceof a0){if(F.silent)return W(this,sn).promise;if(F.revert){if(this.state.data===void 0)throw F;return this.state.data}}throw Xe(this,Qr,_i).call(this,{type:"error",error:F}),(R=(S=W(this,Pr).config).onError)==null||R.call(S,F,this),(N=(V=W(this,Pr).config).onSettled)==null||N.call(V,this.state.data,F,this),F}finally{this.scheduleGc()}}},il=new WeakMap,lu=new WeakMap,Pr=new WeakMap,ol=new WeakMap,sn=new WeakMap,ef=new WeakMap,al=new WeakMap,Qr=new WeakSet,_i=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...qN(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,...fA(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return me(this,lu,e.manual?s:void 0),s;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),mn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,Pr).notify({query:this,type:"updated",action:e})})},bC);function qN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$N(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fA(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function pA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Kn,Je,tf,Rn,ll,cu,Ei,jo,nf,uu,du,cl,ul,Uo,hu,it,sh,l0,c0,u0,d0,h0,f0,p0,HN,SC,L8=(SC=class extends bf{constructor(e,n){super();De(this,it);De(this,Kn);De(this,Je);De(this,tf);De(this,Rn);De(this,ll);De(this,cu);De(this,Ei);De(this,jo);De(this,nf);De(this,uu);De(this,du);De(this,cl);De(this,ul);De(this,Uo);De(this,hu,new Set);this.options=n,me(this,Kn,e),me(this,jo,null),me(this,Ei,o0()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,Je).addObserver(this),mA(W(this,Je),this.options)?Xe(this,it,sh).call(this):this.updateResult(),Xe(this,it,d0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return m0(W(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return m0(W(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Xe(this,it,h0).call(this),Xe(this,it,f0).call(this),W(this,Je).removeObserver(this)}setOptions(e){const n=this.options,r=W(this,Je);if(this.options=W(this,Kn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Cr(this.options.enabled,W(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Xe(this,it,p0).call(this),W(this,Je).setOptions(this.options),n._defaulted&&!r0(this.options,n)&&W(this,Kn).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,Je),observer:this});const s=this.hasListeners();s&&gA(W(this,Je),r,this.options,n)&&Xe(this,it,sh).call(this),this.updateResult(),s&&(W(this,Je)!==r||Cr(this.options.enabled,W(this,Je))!==Cr(n.enabled,W(this,Je))||Yo(this.options.staleTime,W(this,Je))!==Yo(n.staleTime,W(this,Je)))&&Xe(this,it,l0).call(this);const i=Xe(this,it,c0).call(this);s&&(W(this,Je)!==r||Cr(this.options.enabled,W(this,Je))!==Cr(n.enabled,W(this,Je))||i!==W(this,Uo))&&Xe(this,it,u0).call(this,i)}getOptimisticResult(e){const n=W(this,Kn).getQueryCache().build(W(this,Kn),e),r=this.createResult(n,e);return j8(this,r)&&(me(this,Rn,r),me(this,cu,this.options),me(this,ll,W(this,Je).state)),r}getCurrentResult(){return W(this,Rn)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&W(this,Ei).status==="pending"&&W(this,Ei).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(e){W(this,hu).add(e)}getCurrentQuery(){return W(this,Je)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=W(this,Kn).defaultQueryOptions(e),r=W(this,Kn).getQueryCache().build(W(this,Kn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Xe(this,it,sh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,Rn)))}createResult(e,n){var D;const r=W(this,Je),s=this.options,i=W(this,Rn),a=W(this,ll),c=W(this,cu),h=e!==r?e.state:W(this,tf),{state:p}=e;let g={...p},y=!1,E;if(n._optimisticResults){const O=this.hasListeners(),j=!O&&mA(e,n),z=O&&gA(e,r,n,s);(j||z)&&(g={...g,...qN(p.data,e.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:A,errorUpdatedAt:b,status:S}=g;E=g.data;let R=!1;if(n.placeholderData!==void 0&&E===void 0&&S==="pending"){let O;i!=null&&i.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(O=i.data,R=!0):O=typeof n.placeholderData=="function"?n.placeholderData((D=W(this,du))==null?void 0:D.state.data,W(this,du)):n.placeholderData,O!==void 0&&(S="success",E=i0(i==null?void 0:i.data,O,n),y=!0)}if(n.select&&E!==void 0&&!R)if(i&&E===(a==null?void 0:a.data)&&n.select===W(this,nf))E=W(this,uu);else try{me(this,nf,n.select),E=n.select(E),E=i0(i==null?void 0:i.data,E,n),me(this,uu,E),me(this,jo,null)}catch(O){me(this,jo,O)}W(this,jo)&&(A=W(this,jo),E=W(this,uu),b=Date.now(),S="error");const V=g.fetchStatus==="fetching",N=S==="pending",F=S==="error",B=N&&V,K=E!==void 0,P={status:S,fetchStatus:g.fetchStatus,isPending:N,isSuccess:S==="success",isError:F,isInitialLoading:B,isLoading:B,data:E,dataUpdatedAt:g.dataUpdatedAt,error:A,errorUpdatedAt:b,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:V,isRefetching:V&&!N,isLoadingError:F&&!K,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:F&&K,isStale:Ax(e,n),refetch:this.refetch,promise:W(this,Ei),isEnabled:Cr(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=L=>{P.status==="error"?L.reject(P.error):P.data!==void 0&&L.resolve(P.data)},j=()=>{const L=me(this,Ei,P.promise=o0());O(L)},z=W(this,Ei);switch(z.status){case"pending":e.queryHash===r.queryHash&&O(z);break;case"fulfilled":(P.status==="error"||P.data!==z.value)&&j();break;case"rejected":(P.status!=="error"||P.error!==z.reason)&&j();break}}return P}updateResult(){const e=W(this,Rn),n=this.createResult(W(this,Je),this.options);if(me(this,ll,W(this,Je).state),me(this,cu,this.options),W(this,ll).data!==void 0&&me(this,du,W(this,Je)),r0(n,e))return;me(this,Rn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!W(this,hu).size)return!0;const a=new Set(i??W(this,hu));return this.options.throwOnError&&a.add("error"),Object.keys(W(this,Rn)).some(c=>{const u=c;return W(this,Rn)[u]!==e[u]&&a.has(u)})};Xe(this,it,HN).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Xe(this,it,d0).call(this)}},Kn=new WeakMap,Je=new WeakMap,tf=new WeakMap,Rn=new WeakMap,ll=new WeakMap,cu=new WeakMap,Ei=new WeakMap,jo=new WeakMap,nf=new WeakMap,uu=new WeakMap,du=new WeakMap,cl=new WeakMap,ul=new WeakMap,Uo=new WeakMap,hu=new WeakMap,it=new WeakSet,sh=function(e){Xe(this,it,p0).call(this);let n=W(this,Je).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Qn)),n},l0=function(){Xe(this,it,h0).call(this);const e=Yo(this.options.staleTime,W(this,Je));if(kl||W(this,Rn).isStale||!n0(e))return;const r=jN(W(this,Rn).dataUpdatedAt,e)+1;me(this,cl,el.setTimeout(()=>{W(this,Rn).isStale||this.updateResult()},r))},c0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,Je)):this.options.refetchInterval)??!1},u0=function(e){Xe(this,it,f0).call(this),me(this,Uo,e),!(kl||Cr(this.options.enabled,W(this,Je))===!1||!n0(W(this,Uo))||W(this,Uo)===0)&&me(this,ul,el.setInterval(()=>{(this.options.refetchIntervalInBackground||Sx.isFocused())&&Xe(this,it,sh).call(this)},W(this,Uo)))},d0=function(){Xe(this,it,l0).call(this),Xe(this,it,u0).call(this,Xe(this,it,c0).call(this))},h0=function(){W(this,cl)&&(el.clearTimeout(W(this,cl)),me(this,cl,void 0))},f0=function(){W(this,ul)&&(el.clearInterval(W(this,ul)),me(this,ul,void 0))},p0=function(){const e=W(this,Kn).getQueryCache().build(W(this,Kn),this.options);if(e===W(this,Je))return;const n=W(this,Je);me(this,Je,e),me(this,tf,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},HN=function(e){mn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(W(this,Rn))}),W(this,Kn).getQueryCache().notify({query:W(this,Je),type:"observerResultsUpdated"})})},SC);function F8(t,e){return Cr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function mA(t,e){return F8(t,e)||t.state.data!==void 0&&m0(t,e,e.refetchOnMount)}function m0(t,e,n){if(Cr(e.enabled,t)!==!1&&Yo(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Ax(t,e)}return!1}function gA(t,e,n,r){return(t!==e||Cr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Ax(t,n)}function Ax(t,e){return Cr(e.enabled,t)!==!1&&t.isStaleByTime(Yo(e.staleTime,t))}function j8(t,e){return!r0(t.getCurrentResult(),e)}function yA(t){return{onFetch:(e,n)=>{var p,g,y,E,A;const r=e.options,s=(y=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,i=((E=e.state.data)==null?void 0:E.pages)||[],a=((A=e.state.data)==null?void 0:A.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const h=async()=>{let b=!1;const S=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},R=BN(e.options,e.fetchOptions),V=async(N,F,B)=>{if(b)return Promise.reject();if(F==null&&N.pages.length)return Promise.resolve(N);const k=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:F,direction:B?"backward":"forward",meta:e.options.meta};return S(j),j})(),P=await R(k),{maxPages:D}=e.options,O=B?C8:P8;return{pages:O(N.pages,P,D),pageParams:O(N.pageParams,F,D)}};if(s&&i.length){const N=s==="backward",F=N?U8:vA,B={pages:i,pageParams:a},K=F(r,B);c=await V(B,K,N)}else{const N=t??i.length;do{const F=u===0?a[0]??r.initialPageParam:vA(r,c);if(u>0&&F==null)break;c=await V(c,F),u++}while(u<N)}return c};e.options.persister?e.fetchFn=()=>{var b,S;return(S=(b=e.options).persister)==null?void 0:S.call(b,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function vA(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function U8(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var rf,As,kn,dl,Ps,Po,AC,B8=(AC=class extends WN{constructor(e){super();De(this,Ps);De(this,rf);De(this,As);De(this,kn);De(this,dl);me(this,rf,e.client),this.mutationId=e.mutationId,me(this,kn,e.mutationCache),me(this,As,[]),this.state=e.state||$8(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){W(this,As).includes(e)||(W(this,As).push(e),this.clearGcTimeout(),W(this,kn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){me(this,As,W(this,As).filter(n=>n!==e)),this.scheduleGc(),W(this,kn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){W(this,As).length||(this.state.status==="pending"?this.scheduleGc():W(this,kn).remove(this))}continue(){var e;return((e=W(this,dl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,c,u,h,p,g,y,E,A,b,S,R,V,N,F,B,K,k,P,D;const n=()=>{Xe(this,Ps,Po).call(this,{type:"continue"})},r={client:W(this,rf),meta:this.options.meta,mutationKey:this.options.mutationKey};me(this,dl,zN({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(O,j)=>{Xe(this,Ps,Po).call(this,{type:"failed",failureCount:O,error:j})},onPause:()=>{Xe(this,Ps,Po).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,kn).canRun(this)}));const s=this.state.status==="pending",i=!W(this,dl).canStart();try{if(s)n();else{Xe(this,Ps,Po).call(this,{type:"pending",variables:e,isPaused:i}),await((c=(a=W(this,kn).config).onMutate)==null?void 0:c.call(a,e,this,r));const j=await((h=(u=this.options).onMutate)==null?void 0:h.call(u,e,r));j!==this.state.context&&Xe(this,Ps,Po).call(this,{type:"pending",context:j,variables:e,isPaused:i})}const O=await W(this,dl).start();return await((g=(p=W(this,kn).config).onSuccess)==null?void 0:g.call(p,O,e,this.state.context,this,r)),await((E=(y=this.options).onSuccess)==null?void 0:E.call(y,O,e,this.state.context,r)),await((b=(A=W(this,kn).config).onSettled)==null?void 0:b.call(A,O,null,this.state.variables,this.state.context,this,r)),await((R=(S=this.options).onSettled)==null?void 0:R.call(S,O,null,e,this.state.context,r)),Xe(this,Ps,Po).call(this,{type:"success",data:O}),O}catch(O){try{throw await((N=(V=W(this,kn).config).onError)==null?void 0:N.call(V,O,e,this.state.context,this,r)),await((B=(F=this.options).onError)==null?void 0:B.call(F,O,e,this.state.context,r)),await((k=(K=W(this,kn).config).onSettled)==null?void 0:k.call(K,void 0,O,this.state.variables,this.state.context,this,r)),await((D=(P=this.options).onSettled)==null?void 0:D.call(P,void 0,O,e,this.state.context,r)),O}finally{Xe(this,Ps,Po).call(this,{type:"error",error:O})}}finally{W(this,kn).runNext(this)}}},rf=new WeakMap,As=new WeakMap,kn=new WeakMap,dl=new WeakMap,Ps=new WeakSet,Po=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),mn.batch(()=>{W(this,As).forEach(r=>{r.onMutationUpdate(e)}),W(this,kn).notify({mutation:this,type:"updated",action:e})})},AC);function $8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xi,Yr,sf,PC,z8=(PC=class extends bf{constructor(e={}){super();De(this,xi);De(this,Yr);De(this,sf);this.config=e,me(this,xi,new Set),me(this,Yr,new Map),me(this,sf,0)}build(e,n,r){const s=new B8({client:e,mutationCache:this,mutationId:++Yp(this,sf)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){W(this,xi).add(e);const n=lm(e);if(typeof n=="string"){const r=W(this,Yr).get(n);r?r.push(e):W(this,Yr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(W(this,xi).delete(e)){const n=lm(e);if(typeof n=="string"){const r=W(this,Yr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&W(this,Yr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=lm(e);if(typeof n=="string"){const r=W(this,Yr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=lm(e);if(typeof n=="string"){const s=(r=W(this,Yr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){mn.batch(()=>{W(this,xi).forEach(e=>{this.notify({type:"removed",mutation:e})}),W(this,xi).clear(),W(this,Yr).clear()})}getAll(){return Array.from(W(this,xi))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>uA(n,r))}findAll(e={}){return this.getAll().filter(n=>uA(e,n))}notify(e){mn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return mn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Qn))))}},xi=new WeakMap,Yr=new WeakMap,sf=new WeakMap,PC);function lm(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Cs,CC,W8=(CC=class extends bf{constructor(e={}){super();De(this,Cs);this.config=e,me(this,Cs,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ix(s,n);let a=this.get(i);return a||(a=new V8({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){W(this,Cs).has(e.queryHash)||(W(this,Cs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=W(this,Cs).get(e.queryHash);n&&(e.destroy(),n===e&&W(this,Cs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){mn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,Cs).get(e)}getAll(){return[...W(this,Cs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>cA(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>cA(e,r)):n}notify(e){mn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){mn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){mn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Cs=new WeakMap,CC),Dt,Bo,$o,fu,pu,zo,mu,gu,RC,q8=(RC=class{constructor(t={}){De(this,Dt);De(this,Bo);De(this,$o);De(this,fu);De(this,pu);De(this,zo);De(this,mu);De(this,gu);me(this,Dt,t.queryCache||new W8),me(this,Bo,t.mutationCache||new z8),me(this,$o,t.defaultOptions||{}),me(this,fu,new Map),me(this,pu,new Map),me(this,zo,0)}mount(){Yp(this,zo)._++,W(this,zo)===1&&(me(this,mu,Sx.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Dt).onFocus())})),me(this,gu,Cg.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Dt).onOnline())})))}unmount(){var t,e;Yp(this,zo)._--,W(this,zo)===0&&((t=W(this,mu))==null||t.call(this),me(this,mu,void 0),(e=W(this,gu))==null||e.call(this),me(this,gu,void 0))}isFetching(t){return W(this,Dt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return W(this,Bo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,Dt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=W(this,Dt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Yo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return W(this,Dt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=W(this,Dt).get(r.queryHash),i=s==null?void 0:s.state.data,a=b8(e,i);if(a!==void 0)return W(this,Dt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return mn.batch(()=>W(this,Dt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,Dt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=W(this,Dt);mn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=W(this,Dt);return mn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=mn.batch(()=>W(this,Dt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Qn).catch(Qn)}invalidateQueries(t,e={}){return mn.batch(()=>(W(this,Dt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=mn.batch(()=>W(this,Dt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Qn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Qn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=W(this,Dt).build(this,e);return n.isStaleByTime(Yo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qn).catch(Qn)}fetchInfiniteQuery(t){return t.behavior=yA(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qn).catch(Qn)}ensureInfiniteQueryData(t){return t.behavior=yA(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Cg.isOnline()?W(this,Bo).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,Dt)}getMutationCache(){return W(this,Bo)}getDefaultOptions(){return W(this,$o)}setDefaultOptions(t){me(this,$o,t)}setQueryDefaults(t,e){W(this,fu).set(Bh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...W(this,fu).values()],n={};return e.forEach(r=>{$h(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){W(this,pu).set(Bh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...W(this,pu).values()],n={};return e.forEach(r=>{$h(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...W(this,$o).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ix(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===bx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...W(this,$o).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){W(this,Dt).clear(),W(this,Bo).clear()}},Dt=new WeakMap,Bo=new WeakMap,$o=new WeakMap,fu=new WeakMap,pu=new WeakMap,zo=new WeakMap,mu=new WeakMap,gu=new WeakMap,RC),GN=T.createContext(void 0),H8=t=>{const e=T.useContext(GN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},G8=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(GN.Provider,{value:t,children:e})),KN=T.createContext(!1),K8=()=>T.useContext(KN);KN.Provider;function Q8(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Y8=T.createContext(Q8()),X8=()=>T.useContext(Y8),J8=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Z8=t=>{T.useEffect(()=>{t.clearReset()},[t])},e7=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||R8(n,[t.error,r])),t7=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},n7=(t,e)=>t.isLoading&&t.isFetching&&!e,r7=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,wA=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function s7(t,e,n){var g,y,E,A,b;const r=K8(),s=X8(),i=H8(),a=i.defaultQueryOptions(t);(y=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||y.call(g,a),a._optimisticResults=r?"isRestoring":"optimistic",t7(a),J8(a,s),Z8(s);const c=!i.getQueryCache().get(a.queryHash),[u]=T.useState(()=>new e(i,a)),h=u.getOptimisticResult(a),p=!r&&t.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(S=>{const R=p?u.subscribe(mn.batchCalls(S)):Qn;return u.updateResult(),R},[u,p]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),T.useEffect(()=>{u.setOptions(a)},[a,u]),r7(a,h))throw wA(a,u,s);if(e7({result:h,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw h.error;if((A=(E=i.getDefaultOptions().queries)==null?void 0:E._experimental_afterQuery)==null||A.call(E,a,h),a.experimental_prefetchInRender&&!kl&&n7(h,r)){const S=c?wA(a,u,s):(b=i.getQueryCache().get(a.queryHash))==null?void 0:b.promise;S==null||S.catch(Qn).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?h:u.trackResult(h)}function i7(t,e){return s7(t,L8)}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...c},u)=>T.createElement("svg",{ref:u,...a7,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:QN("lucide",s),...c},[...a.map(([h,p])=>T.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=(t,e)=>{const n=T.forwardRef(({className:r,...s},i)=>T.createElement(l7,{ref:i,iconNode:e,className:QN(`lucide-${o7(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],u7=ut("ArrowRight",c7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],YN=ut("Brain",d7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],f7=ut("Calendar",h7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],m7=ut("ChartColumn",p7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],y7=ut("Check",g7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],w7=ut("ChevronRight",v7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],E7=ut("CircleCheckBig",_7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],T7=ut("CircleX",x7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],b7=ut("Circle",I7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],A7=ut("Clock",S7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Um=ut("Crown",P7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_A=ut("EyeOff",C7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],EA=ut("Eye",R7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],D7=ut("Gamepad2",k7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],xA=ut("Heart",N7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],O7=ut("House",M7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],L7=ut("LogOut",V7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],j7=ut("Menu",F7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],B7=ut("PartyPopper",U7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],z7=ut("Rocket",$7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],q7=ut("Settings",W7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],G7=ut("Shield",H7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Q7=ut("ShoppingBag",K7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],XN=ut("Sparkles",Y7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$w=ut("Star",X7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],TA=ut("Trophy",J7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zw=ut("User",Z7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],IA=ut("Users",eW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Px=ut("X",tW);function JN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=JN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ZN(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=JN(t))&&(r&&(r+=" "),r+=e);return r}const bA=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,SA=ZN,ky=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return SA(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(h=>{const p=n==null?void 0:n[h],g=i==null?void 0:i[h];if(p===null)return null;const y=bA(p)||bA(g);return s[h][y]}),c=n&&Object.entries(n).reduce((h,p)=>{let[g,y]=p;return y===void 0||(h[g]=y),h},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:g,className:y,...E}=p;return Object.entries(E).every(A=>{let[b,S]=A;return Array.isArray(S)?S.includes({...i,...c}[b]):{...i,...c}[b]===S})?[...h,g,y]:h},[]);return SA(t,a,u,n==null?void 0:n.class,n==null?void 0:n.className)},Cx="-",nW=t=>{const e=sW(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const c=a.split(Cx);return c[0]===""&&c.length!==1&&c.shift(),eM(c,e)||rW(a)},getConflictingClassGroupIds:(a,c)=>{const u=n[a]||[];return c&&r[a]?[...u,...r[a]]:u}}},eM=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?eM(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Cx);return(a=e.validators.find(({validator:c})=>c(i)))==null?void 0:a.classGroupId},AA=/^\[(.+)\]$/,rW=t=>{if(AA.test(t)){const e=AA.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},sW=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)g0(n[s],r,s,e);return r},g0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:PA(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(iW(s)){g0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{g0(a,PA(e,i),n,r)})})},PA=(t,e)=>{let n=t;return e.split(Cx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},iW=t=>t.isThemeGetter,oW=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},y0="!",v0=":",aW=v0.length,lW=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let a=0,c=0,u=0,h;for(let A=0;A<s.length;A++){let b=s[A];if(a===0&&c===0){if(b===v0){i.push(s.slice(u,A)),u=A+aW;continue}if(b==="/"){h=A;continue}}b==="["?a++:b==="]"?a--:b==="("?c++:b===")"&&c--}const p=i.length===0?s:s.substring(u),g=cW(p),y=g!==p,E=h&&h>u?h-u:void 0;return{modifiers:i,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:E}};if(e){const s=e+v0,i=r;r=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},cW=t=>t.endsWith(y0)?t.substring(0,t.length-1):t.startsWith(y0)?t.substring(1):t,uW=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(a=>{a[0]==="["||e[a]?(s.push(...i.sort(),a),i=[]):i.push(a)}),s.push(...i.sort()),s}},dW=t=>({cache:oW(t.cacheSize),parseClassName:lW(t),sortModifiers:uW(t),...nW(t)}),hW=/\s+/,fW=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,a=[],c=t.trim().split(hW);let u="";for(let h=c.length-1;h>=0;h-=1){const p=c[h],{isExternal:g,modifiers:y,hasImportantModifier:E,baseClassName:A,maybePostfixModifierPosition:b}=n(p);if(g){u=p+(u.length>0?" "+u:u);continue}let S=!!b,R=r(S?A.substring(0,b):A);if(!R){if(!S){u=p+(u.length>0?" "+u:u);continue}if(R=r(A),!R){u=p+(u.length>0?" "+u:u);continue}S=!1}const V=i(y).join(":"),N=E?V+y0:V,F=N+R;if(a.includes(F))continue;a.push(F);const B=s(R,S);for(let K=0;K<B.length;++K){const k=B[K];a.push(N+k)}u=p+(u.length>0?" "+u:u)}return u};function pW(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=tM(e))&&(r&&(r+=" "),r+=n);return r}const tM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=tM(t[r]))&&(n&&(n+=" "),n+=e);return n};function mW(t,...e){let n,r,s,i=a;function a(u){const h=e.reduce((p,g)=>g(p),t());return n=dW(h),r=n.cache.get,s=n.cache.set,i=c,c(u)}function c(u){const h=r(u);if(h)return h;const p=fW(u,n);return s(u,p),p}return function(){return i(pW.apply(null,arguments))}}const Xt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},nM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,gW=/^\d+\/\d+$/,yW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,_W=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,EW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oc=t=>gW.test(t),We=t=>!!t&&!Number.isNaN(Number(t)),So=t=>!!t&&Number.isInteger(Number(t)),Ww=t=>t.endsWith("%")&&We(t.slice(0,-1)),wi=t=>yW.test(t),xW=()=>!0,TW=t=>vW.test(t)&&!wW.test(t),sM=()=>!1,IW=t=>_W.test(t),bW=t=>EW.test(t),SW=t=>!we(t)&&!_e(t),AW=t=>Bu(t,aM,sM),we=t=>nM.test(t),Ua=t=>Bu(t,lM,TW),qw=t=>Bu(t,DW,We),CA=t=>Bu(t,iM,sM),PW=t=>Bu(t,oM,bW),cm=t=>Bu(t,cM,IW),_e=t=>rM.test(t),Gd=t=>$u(t,lM),CW=t=>$u(t,NW),RA=t=>$u(t,iM),RW=t=>$u(t,aM),kW=t=>$u(t,oM),um=t=>$u(t,cM,!0),Bu=(t,e,n)=>{const r=nM.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},$u=(t,e,n=!1)=>{const r=rM.exec(t);return r?r[1]?e(r[1]):n:!1},iM=t=>t==="position"||t==="percentage",oM=t=>t==="image"||t==="url",aM=t=>t==="length"||t==="size"||t==="bg-size",lM=t=>t==="length",DW=t=>t==="number",NW=t=>t==="family-name",cM=t=>t==="shadow",MW=()=>{const t=Xt("color"),e=Xt("font"),n=Xt("text"),r=Xt("font-weight"),s=Xt("tracking"),i=Xt("leading"),a=Xt("breakpoint"),c=Xt("container"),u=Xt("spacing"),h=Xt("radius"),p=Xt("shadow"),g=Xt("inset-shadow"),y=Xt("text-shadow"),E=Xt("drop-shadow"),A=Xt("blur"),b=Xt("perspective"),S=Xt("aspect"),R=Xt("ease"),V=Xt("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...F(),_e,we],K=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],P=()=>[_e,we,u],D=()=>[Oc,"full","auto",...P()],O=()=>[So,"none","subgrid",_e,we],j=()=>["auto",{span:["full",So,_e,we]},So,_e,we],z=()=>[So,"auto",_e,we],L=()=>["auto","min","max","fr",_e,we],xe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Le=()=>["start","end","center","stretch","center-safe","end-safe"],Pe=()=>["auto",...P()],fe=()=>[Oc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],G=()=>[t,_e,we],ne=()=>[...F(),RA,CA,{position:[_e,we]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",RW,AW,{size:[_e,we]}],re=()=>[Ww,Gd,Ua],ye=()=>["","none","full",h,_e,we],Te=()=>["",We,Gd,Ua],Fe=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Se=()=>[We,Ww,RA,CA],ze=()=>["","none",A,_e,we],je=()=>["none",We,_e,we],ht=()=>["none",We,_e,we],er=()=>[We,_e,we],tr=()=>[Oc,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wi],breakpoint:[wi],color:[xW],container:[wi],"drop-shadow":[wi],ease:["in","out","in-out"],font:[SW],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wi],shadow:[wi],spacing:["px",We],text:[wi],"text-shadow":[wi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Oc,we,_e,S]}],container:["container"],columns:[{columns:[We,we,_e,c]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[So,"auto",_e,we]}],basis:[{basis:[Oc,"full","auto",c,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,Oc,"auto","initial","none",we]}],grow:[{grow:["",We,_e,we]}],shrink:[{shrink:["",We,_e,we]}],order:[{order:[So,"first","last","none",_e,we]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...xe(),"normal"]}],"justify-items":[{"justify-items":[...Le(),"normal"]}],"justify-self":[{"justify-self":["auto",...Le()]}],"align-content":[{content:["normal",...xe()]}],"align-items":[{items:[...Le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Le(),{baseline:["","last"]}]}],"place-content":[{"place-content":xe()}],"place-items":[{"place-items":[...Le(),"baseline"]}],"place-self":[{"place-self":["auto",...Le()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:Pe()}],mx:[{mx:Pe()}],my:[{my:Pe()}],ms:[{ms:Pe()}],me:[{me:Pe()}],mt:[{mt:Pe()}],mr:[{mr:Pe()}],mb:[{mb:Pe()}],ml:[{ml:Pe()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:fe()}],w:[{w:[c,"screen",...fe()]}],"min-w":[{"min-w":[c,"screen","none",...fe()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[a]},...fe()]}],h:[{h:["screen","lh",...fe()]}],"min-h":[{"min-h":["screen","lh","none",...fe()]}],"max-h":[{"max-h":["screen","lh",...fe()]}],"font-size":[{text:["base",n,Gd,Ua]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,_e,qw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ww,we]}],"font-family":[{font:[CW,we,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,_e,we]}],"line-clamp":[{"line-clamp":[We,"none",_e,qw]}],leading:[{leading:[i,...P()]}],"list-image":[{"list-image":["none",_e,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",_e,Ua]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[We,"auto",_e,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},So,_e,we],radial:["",_e,we],conic:[So,_e,we]},kW,PW]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:ye()}],"rounded-s":[{"rounded-s":ye()}],"rounded-e":[{"rounded-e":ye()}],"rounded-t":[{"rounded-t":ye()}],"rounded-r":[{"rounded-r":ye()}],"rounded-b":[{"rounded-b":ye()}],"rounded-l":[{"rounded-l":ye()}],"rounded-ss":[{"rounded-ss":ye()}],"rounded-se":[{"rounded-se":ye()}],"rounded-ee":[{"rounded-ee":ye()}],"rounded-es":[{"rounded-es":ye()}],"rounded-tl":[{"rounded-tl":ye()}],"rounded-tr":[{"rounded-tr":ye()}],"rounded-br":[{"rounded-br":ye()}],"rounded-bl":[{"rounded-bl":ye()}],"border-w":[{border:Te()}],"border-w-x":[{"border-x":Te()}],"border-w-y":[{"border-y":Te()}],"border-w-s":[{"border-s":Te()}],"border-w-e":[{"border-e":Te()}],"border-w-t":[{"border-t":Te()}],"border-w-r":[{"border-r":Te()}],"border-w-b":[{"border-b":Te()}],"border-w-l":[{"border-l":Te()}],"divide-x":[{"divide-x":Te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Fe(),"hidden","none"]}],"divide-style":[{divide:[...Fe(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...Fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,_e,we]}],"outline-w":[{outline:["",We,Gd,Ua]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",p,um,cm]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",g,um,cm]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:Te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[We,Ua]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":Te()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",y,um,cm]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[We,_e,we]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":Se()}],"mask-image-linear-to-pos":[{"mask-linear-to":Se()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":Se()}],"mask-image-t-to-pos":[{"mask-t-to":Se()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":Se()}],"mask-image-r-to-pos":[{"mask-r-to":Se()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":Se()}],"mask-image-b-to-pos":[{"mask-b-to":Se()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":Se()}],"mask-image-l-to-pos":[{"mask-l-to":Se()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":Se()}],"mask-image-x-to-pos":[{"mask-x-to":Se()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":Se()}],"mask-image-y-to-pos":[{"mask-y-to":Se()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[_e,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":Se()}],"mask-image-radial-to-pos":[{"mask-radial-to":Se()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":F()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":Se()}],"mask-image-conic-to-pos":[{"mask-conic-to":Se()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,we]}],filter:[{filter:["","none",_e,we]}],blur:[{blur:ze()}],brightness:[{brightness:[We,_e,we]}],contrast:[{contrast:[We,_e,we]}],"drop-shadow":[{"drop-shadow":["","none",E,um,cm]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",We,_e,we]}],"hue-rotate":[{"hue-rotate":[We,_e,we]}],invert:[{invert:["",We,_e,we]}],saturate:[{saturate:[We,_e,we]}],sepia:[{sepia:["",We,_e,we]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,we]}],"backdrop-blur":[{"backdrop-blur":ze()}],"backdrop-brightness":[{"backdrop-brightness":[We,_e,we]}],"backdrop-contrast":[{"backdrop-contrast":[We,_e,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,_e,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,_e,we]}],"backdrop-invert":[{"backdrop-invert":["",We,_e,we]}],"backdrop-opacity":[{"backdrop-opacity":[We,_e,we]}],"backdrop-saturate":[{"backdrop-saturate":[We,_e,we]}],"backdrop-sepia":[{"backdrop-sepia":["",We,_e,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",_e,we]}],ease:[{ease:["linear","initial",R,_e,we]}],delay:[{delay:[We,_e,we]}],animate:[{animate:["none",V,_e,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,_e,we]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:je()}],"rotate-x":[{"rotate-x":je()}],"rotate-y":[{"rotate-y":je()}],"rotate-z":[{"rotate-z":je()}],scale:[{scale:ht()}],"scale-x":[{"scale-x":ht()}],"scale-y":[{"scale-y":ht()}],"scale-z":[{"scale-z":ht()}],"scale-3d":["scale-3d"],skew:[{skew:er()}],"skew-x":[{"skew-x":er()}],"skew-y":[{"skew-y":er()}],transform:[{transform:[_e,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:tr()}],"translate-x":[{"translate-x":tr()}],"translate-y":[{"translate-y":tr()}],"translate-z":[{"translate-z":tr()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,we]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[We,Gd,Ua,qw]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},OW=mW(MW);function wt(...t){return OW(ZN(t))}function w0(t){const e=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];if(t<20)return e[t];if(t<100)return n[Math.floor(t/10)]+(t%10?"-"+e[t%10]:"");if(t<1e3){const r=t%100,s=e[Math.floor(t/100)]+" hundred";return r?s+" "+w0(r):s}return String(t)}function _0(t){const e=["cero","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez","once","doce","trece","catorce","quince","diecisis","diecisiete","dieciocho","diecinueve"],n=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];if(t<20)return e[t];if(t<30)return t===20?"veinte":"veinti"+e[t-20];if(t<100)return n[Math.floor(t/10)]+(t%10?" y "+e[t%10]:"");if(t<200)return"ciento"+(t%100?" "+_0(t%100):"");if(t<1e3){const s=["cero","ciento","doscientos","trescientos","cuatrocientos","quinientos","seiscientos","setecientos","ochocientos","novecientos"][Math.floor(t/100)],i=t%100;return s+(i?" "+_0(i):"")}return String(t)}function Xte(t,e={}){if(!t||typeof t!="string")return t;const{numberToWords:n="auto",language:r,pauseOperators:s=!0}=e;let i="en";try{i=r||(localStorage.getItem("tts.lang")==="es"?"es":"en")||"en"}catch{}let a=t;a=a.replace(//g,"-").replace(/|/g,"");const c={2:"half",3:"third",4:"fourth",5:"fifth",6:"sixth",7:"seventh",8:"eighth",9:"ninth",10:"tenth",12:"twelfth"},u={2:"medios",3:"tercios",4:"cuartos",5:"quintos",6:"sextos",7:"sptimos",8:"octavos",9:"novenos",10:"dcimos",12:"duodcimos"};if([{pattern:/\s*\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\/\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\s*/g,spoken:i==="es"?" por ":" times "},{pattern:/\s*\*\s*/g,spoken:" times "},{pattern:/(\d+)\s*[xX]\s*(\d+)/g,spoken:i==="es"?"$1 por $2":"$1 times $2"},{pattern:/\s*\+\s*/g,spoken:i==="es"?" ms ":" plus "},{pattern:/(\d+)\s*-\s*(\d+)/g,spoken:i==="es"?"$1 menos $2":"$1 minus $2"},{pattern:/\s*=\s*/g,spoken:i==="es"?" igual a ":" equals "},{pattern:/\s*>\s*/g,spoken:i==="es"?" es mayor que ":" is greater than "},{pattern:/\s*<\s*/g,spoken:i==="es"?" es menor que ":" is less than "},{pattern:/\s*\s*/g,spoken:i==="es"?" es mayor o igual que ":" is greater than or equal to "},{pattern:/\s*\s*/g,spoken:i==="es"?" es menor o igual que ":" is less than or equal to "},{pattern:/(\d+)\/(\d+)/g,spoken:(p,g,y)=>i==="es"?`${g} ${u[y]||"sobre "+y}`:c[y]?`${g==="1"?"one":w0(Number(g))} ${c[y]}${g!=="1"?"s":""}`:`${g} over ${y}`},{pattern:/%/g,spoken:i==="es"?" por ciento":" percent"},{pattern:/\^(\d+)/g,spoken:i==="es"?" a la potencia de $1":" to the power of $1"},{pattern:/(\d+)/g,spoken:i==="es"?"raz cuadrada de $1":"square root of $1"}].forEach(({pattern:p,spoken:g})=>{a=a.replace(p,g)}),a=a.replace(/(\d)\.(\d)/g,i==="es"?"$1 coma $2":"$1 point $2"),a=a.replace(/\s*(,)?\s*(\?+|_+)\s*(,)?\s*/g,(p,g,y,E)=>g&&E?", ":" "),a=a.replace(/\?\s*$/g,""),s&&(i==="es"?[" ms "," menos "," por "," dividido entre "," igual a "]:[" plus "," minus "," times "," divided by "," equals "]).forEach(g=>{const y=new RegExp(g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"(?!,)","g");a=a.replace(y,g+", ")}),n!=="none"){const p=i==="es"?_0:w0;a=a.replace(/\b\d+\b/g,(g,y)=>{const E=parseInt(g,10);if(!Number.isFinite(E))return g;if(n==="all")return p(E);const A=E<=20,b=a[y-1]||"",S=a[y+g.length]||"";return A||(b===","||S===",")?p(E):g})}return a=a.replace(/\s+,/g,",").replace(/,\s*,/g,", ").replace(/\s+/g," ").replace(/\s+,\s*$/g,"").trim(),a}const VW=ky("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function dm({className:t,variant:e,...n}){return x.jsx("div",{className:wt(VW({variant:e}),t),...n})}function kA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ul(...t){return e=>{let n=!1;const r=t.map(s=>{const i=kA(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():kA(t[s],null)}}}}function Zn(...t){return T.useCallback(Ul(...t),t)}var LW=Symbol.for("react.lazy"),Rg=nE[" use ".trim().toString()];function FW(t){return typeof t=="object"&&t!==null&&"then"in t}function uM(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===LW&&"_payload"in t&&FW(t._payload)}function jW(t){const e=BW(t),n=T.forwardRef((r,s)=>{let{children:i,...a}=r;uM(i)&&typeof Rg=="function"&&(i=Rg(i._payload));const c=T.Children.toArray(i),u=c.find(zW);if(u){const h=u.props.children,p=c.map(g=>g===u?T.Children.count(h)>1?T.Children.only(null):T.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:T.isValidElement(h)?T.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var UW=jW("Slot");function BW(t){const e=T.forwardRef((n,r)=>{let{children:s,...i}=n;if(uM(s)&&typeof Rg=="function"&&(s=Rg(s._payload)),T.isValidElement(s)){const a=qW(s),c=WW(i,s.props);return s.type!==T.Fragment&&(c.ref=r?Ul(r,a):a),T.cloneElement(s,c)}return T.Children.count(s)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $W=Symbol("radix.slottable");function zW(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$W}function WW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function qW(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const HW=ky("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ts=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?UW:"button";return x.jsx(a,{className:wt(HW({variant:e,size:n,className:t})),ref:i,...s})});ts.displayName="Button";const gn=yy(ss);Xg(ss);const dM=async(t,e={})=>{const n=Qs(gn,"users",t),r={email:t,subscription_tier:"free",subscription_expires_at:null,subscription_auto_renew:!1,trial_start_date:Nn(),trial_expires_at:null,trial_used:!1,trial_grace_used:!1,coins:0,stars_spent:0,total_stars_earned:0,owned_pets:[],active_pet:null,purchased_items:[],unlocked_items:[],power_ups:{},pet_experience:{},daily_login_streak:0,total_login_days:0,last_login_date:null,parental_controls:{enabled:!1,allowed_operations:[],allowed_levels:[],focus_operations:[],daily_time_limit_minutes:0,enforce_time_limits:!1},daily_usage_tracking:{},is_parent_mode:!1,is_premium_parent:!1,is_family_teacher:!1,parent_email:null,child_name:null,full_name:null,created_at:Nn(),updated_at:Nn(),...e};await by(n,r);const i=(await HD(n)).data();let a=null;if(i&&i.created_at&&i.created_at.toDate?a=i.created_at.toDate():i&&i.created_at&&i.created_at.seconds&&(a=new Date(i.created_at.seconds*1e3)),a){await jh(n,{trial_start_date:Ke.fromDate(a),updated_at:Nn()});const c=new Date(a.getTime()+10080*60*1e3);return await jh(n,{trial_expires_at:Ke.fromDate(c),updated_at:Nn()}),{...i,trial_start_date:Ke.fromDate(a),trial_expires_at:Ke.fromDate(c)}}return i||r},hM=async t=>{const e=Qs(gn,"users",t),n=await HD(e);return n.exists()?{id:n.id,...n.data()}:await dM(t)},hm=async(t,e)=>{const n=Qs(gn,"users",t);await jh(n,{...e,updated_at:Nn()})},Jte=async()=>{const t=Fn(gn,"users");return(await qs(t)).docs.map(n=>({id:n.id,...n.data()}))},Zte=async(t,e)=>{const n=Fn(gn,"gameProgress"),r=Qs(n),s={user_email:t,operation:e.operation,level:e.level,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,coins_earned:e.coins_earned||0,accuracy:e.accuracy||0,completed_at:Nn(),...e};return await by(r,s),{id:r.id,...s}},ene=async t=>{const e=Fn(gn,"gameProgress"),n=Ws(e,Zr("user_email","==",t),Ef("completed_at","desc"));return(await qs(n)).docs.map(s=>({id:s.id,...s.data()}))},tne=(t,e)=>{const n=Fn(gn,"gameProgress"),r=Ws(n,Zr("user_email","==",t),Ef("completed_at","desc"));return GD(r,s=>{const i=s.docs.map(a=>({id:a.id,...a.data()}));e(i)})},nne=async()=>{const t=Fn(gn,"gameProgress"),e=Ws(t,Ef("score","desc"),zD(100));return(await qs(e)).docs.map(r=>({id:r.id,...r.data()}))},rne=async(t,e)=>{const n=Fn(gn,"dailyChallenges"),r=Qs(n),s={user_email:t,challenge_type:e.challenge_type,challenge_date:e.challenge_date,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,bonus_coins:e.bonus_coins||0,completed_at:Nn(),...e};return await by(r,s),{id:r.id,...s}},sne=async t=>{const e=Fn(gn,"dailyChallenges"),n=Ws(e,Zr("user_email","==",t),Ef("completed_at","desc"));return(await qs(n)).docs.map(s=>({id:s.id,...s.data()}))},ine=async()=>{const t=Fn(gn,"dailyChallenges"),e=Ws(t,Ef("score","desc"),zD(100));return(await qs(e)).docs.map(r=>({id:r.id,...r.data()}))},one=async t=>{const e=Fn(gn,"teamChallenges"),n=Ws(e,Zr("creator_email","==",t)),r=Ws(e,Zr("team_members","array-contains",t)),[s,i]=await Promise.all([qs(n),qs(r)]),a=new Map;return s.docs.forEach(c=>a.set(c.id,{id:c.id,...c.data()})),i.docs.forEach(c=>a.set(c.id,{id:c.id,...c.data()})),Array.from(a.values())},ane=async(t,e)=>{const n=Qs(gn,"teamChallenges",t);await jh(n,{...e,updated_at:Nn()})},lne=async(t,e)=>{const n=Fn(gn,"friendConnections"),r=Qs(n),s={user_email:t,friend_email:e,status:"pending",sent_at:Nn()};return await by(r,s),{id:r.id,...s}},cne=async t=>{const e=Fn(gn,"friendConnections"),n=Ws(e,Zr("user_email","==",t),Zr("status","==","accepted")),r=Ws(e,Zr("friend_email","==",t),Zr("status","==","accepted")),[s,i]=await Promise.all([qs(n),qs(r)]);return[...s.docs.map(a=>({id:a.id,...a.data()})),...i.docs.map(a=>({id:a.id,...a.data()}))]},une=async t=>{const e=Fn(gn,"friendConnections"),n=Ws(e,Zr("friend_email","==",t),Zr("status","==","pending"));return(await qs(n)).docs.map(s=>({id:s.id,...s.data()}))},dne=async(t,e)=>{const n=Qs(gn,"friendConnections",t);await jh(n,{status:e,updated_at:Nn()})},Bm=T.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:wt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Bm.displayName="Input";function fM(){const[t,e]=T.useState("sign-in"),[n,r]=T.useState(""),[s,i]=T.useState(""),[a,c]=T.useState(""),[u,h]=T.useState(!1),[p,g]=T.useState(""),[y,E]=T.useState(""),[A,b]=T.useState(!1),[S,R]=T.useState(!1),V=()=>{E(""),g("")},N=async()=>{if(V(),!n){E("Email required");return}if(t==="sign-up"){if(!s){E("Password required");return}if(s!==a){E("Passwords do not match");return}}if(t==="sign-in"&&!s){E("Password required");return}h(!0);try{t==="sign-up"?(await c5(jw,n,s),await dM(n),g("Account created. You are signed in.")):t==="sign-in"?(await u5(jw,n,s),await hM(n),g("Signed in.")):t==="reset"&&(await l5(jw,n),g("Reset link sent. Check your email."))}catch(B){E((B==null?void 0:B.message)||"Auth failed")}finally{h(!1)}},F=B=>{V(),e(B)};return x.jsxs("div",{className:"w-full max-w-sm mx-auto bg-white/90 rounded-xl shadow-lg p-5 space-y-4",children:[x.jsxs("h2",{className:"text-xl font-bold text-purple-700 text-center",children:[t==="sign-in"&&"Sign In",t==="sign-up"&&"Create Account",t==="reset"&&"Reset Password"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Bm,{type:"email",autoComplete:"email",placeholder:"Email",value:n,onChange:B=>r(B.target.value)}),t!=="reset"&&x.jsxs("div",{className:"relative",children:[x.jsx(Bm,{type:A?"text":"password",autoComplete:t==="sign-up"?"new-password":"current-password",placeholder:"Password",value:s,onChange:B=>i(B.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>b(!A),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:A?x.jsx(_A,{className:"w-4 h-4"}):x.jsx(EA,{className:"w-4 h-4"})})]}),t==="sign-up"&&x.jsxs("div",{className:"relative",children:[x.jsx(Bm,{type:S?"text":"password",placeholder:"Confirm Password",value:a,onChange:B=>c(B.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>R(!S),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:S?x.jsx(_A,{className:"w-4 h-4"}):x.jsx(EA,{className:"w-4 h-4"})})]})]}),(y||p)&&x.jsx("div",{className:`text-sm rounded-md p-2 ${y?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:y||p}),x.jsx(ts,{onClick:N,disabled:u,className:"w-full bg-purple-600 hover:bg-purple-700",children:u?"Please wait":t==="sign-in"?"Sign In":t==="sign-up"?"Sign Up":"Send Reset Link"}),x.jsxs("div",{className:"text-xs text-center text-gray-600 space-y-1",children:[t==="sign-in"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>F("sign-up"),className:"text-purple-600 hover:underline block w-full",children:"Need an account? Sign up"}),x.jsx("button",{onClick:()=>F("reset"),className:"text-purple-600 hover:underline block w-full",children:"Forgot password?"})]}),t==="sign-up"&&x.jsx("button",{onClick:()=>F("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Have an account? Sign in"}),t==="reset"&&x.jsx("button",{onClick:()=>F("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Back to sign in"})]})]})}const pM=t=>{if(!t)return!1;if(!t.trial_start_date||!t.trial_expires_at)return t.subscription_tier==="free"&&t.trial_used!==!0;if(t.subscription_tier!=="free"||t.trial_used===!0)return!1;const e=new Date,n=t.trial_expires_at.toDate();return e<n},GW=t=>{if(!t||!t.trial_start_date||!t.trial_expires_at||t.subscription_tier!=="free")return!1;const e=new Date,n=t.trial_expires_at.toDate();return e>=n},KW=t=>{if(!t||!t.trial_expires_at||t.subscription_tier!=="free")return 0;const e=new Date,r=t.trial_expires_at.toDate()-e;return r<=0?0:Math.ceil(r/(1e3*60*60*24))},QW=t=>t?!!(t.subscription_tier&&t.subscription_tier!=="free"||pM(t)&&t.trial_used!==!0):!1;let kg=J$;(async()=>{try{!kg&&await _N()&&(kg=wN(ss))}catch{}})();function Dy(t,e={}){if(kg)try{EN(kg,t,e)}catch(n){console.warn("analytics log skipped",t,n==null?void 0:n.message)}}const YW=t=>Dy("trial_start",{method:"auto",user_email:t}),XW=(t,e)=>Dy("trial_day",{day:e,user_email:t}),JW=t=>Dy("trial_expired",{user_email:t}),ZW=t=>Dy("trial_grace_lock",{user_email:t}),Rx=yy(ss);async function eq(t){try{await ux(Fn(Rx,"notifications"),{user_email:t,type:"trial_day6_warning",title:"Trial Ending Soon!",message:"Your 7-day trial ends tomorrow. Upgrade now to keep unlimited access to premium features!",is_read:!1,created_at:Nn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create day6 notification:",e.message)}}async function tq(t){try{await ux(Fn(Rx,"notifications"),{user_email:t,type:"trial_expired",title:"Trial Ended",message:"Your 7-day trial has ended. You are now on the free plan. Upgrade anytime to regain premium features.",is_read:!1,created_at:Nn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create trial expired notification:",e.message)}}async function nq(t){try{await ux(Fn(Rx,"notifications"),{user_email:t,type:"trial_grace_day",title:"Grace Day: Final Chance!",message:"Your trial expired, but you still have premium access today only. Upgrade now before it locks tomorrow.",is_read:!1,created_at:Nn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create grace day notification:",e.message)}}function rq(){const[t,e]=T.useState(null),[n,r]=T.useState(!0),[s,i]=T.useState(null);return T.useEffect(()=>{const a=Xg(ss),c=yy(ss);let u=null;const h=f5(a,async p=>{var g;if(!p){e(null),r(!1);return}try{e(y=>y||{email:p.email,subscription_tier:"free",coins:0}),i(null);try{const y=(g=p==null?void 0:p.metadata)!=null&&g.creationTime?new Date(p.metadata.creationTime).getTime():null,E=y?Date.now()-y<1440*60*1e3:!1,A=`optimistic_trial_${p.email}`,b=typeof window<"u"?localStorage.getItem(A):null;E&&!b&&(e(S=>({...S||{},email:p.email,subscription_tier:"free",coins:0,isOnTrial:!0,trialExpired:!1,trialDaysRemaining:7,inGraceDay:!1,hasPremiumAccess:!0,_optimisticTrial:!0})),localStorage.setItem(A,"true"))}catch{}try{if(typeof window<"u"&&window.location.search.includes("reset_trial=true")){const E=Date.now(),A=new Date(E+10080*60*1e3);await hm(p.email,{trial_start_date:Nn(),trial_expires_at:Ke.fromDate(A),trial_used:!1,trial_grace_used:!1}),localStorage.removeItem(`trial_log_${p.email}`);const b=new URL(window.location.href);b.searchParams.delete("reset_trial"),window.history.replaceState({},"",b.toString()),console.info("[trial] Trial reset performed for",p.email)}}catch(y){console.warn("[trial] Trial reset attempt failed:",y==null?void 0:y.message)}u&&u(),u=GD(Qs(c,"users",p.email),y=>{var E,A;if(y.exists()){const b={id:y.id,...y.data()};(async()=>{var j,z;try{if(!b.trial_start_date||!b.trial_expires_at){let L=(j=b.created_at)!=null&&j.toDate?b.created_at.toDate():(z=b.created_at)!=null&&z.seconds?new Date(b.created_at.seconds*1e3):new Date;const xe=new Date(L.getTime()+10080*60*1e3);await hm(p.email,{trial_start_date:Ke.fromDate(L),trial_expires_at:Ke.fromDate(xe),trial_used:!1,trial_grace_used:!1})}}catch{}})();const S=pM(b)||!b.trial_start_date||!b.trial_expires_at,R=GW(b),V=KW(b),N=7,F=(E=b.trial_start_date)!=null&&E.toDate?Math.floor((Date.now()-b.trial_start_date.toDate().getTime())/(1e3*60*60*24)):null,B=R&&F===N&&b.trial_grace_used!==!0;e({...b,isOnTrial:S,trialExpired:R,trialDaysRemaining:V,inGraceDay:B,hasPremiumAccess:QW(b)||S||B});const K=y.id,k=`trial_log_${K}`,P=localStorage.getItem(k);let D=P?JSON.parse(P):{};const O=(A=b.trial_start_date)!=null&&A.toDate?b.trial_start_date.toDate().getTime():null;if(O){const j=D.trial_start_timestamp||null;(!j||j!==O)&&(D={})}if(b.trial_start_date&&!D.trial_start&&(YW(K),D.trial_start=!0,O&&(D.trial_start_timestamp=O)),S&&V>=0&&V<=7){const j=`day_${7-V}`;D[j]||(XW(K,7-V),D[j]=!0),V===1&&!D.notif_day6&&(eq(K),D.notif_day6=!0)}R&&b.subscription_tier==="free"&&!D.trial_expired&&(JW(K),D.trial_expired=!0,b.trial_used!==!0&&hm(y.id,{trial_used:!0}).catch(()=>{}),D.notif_expired||(tq(K),D.notif_expired=!0)),B&&!D.grace_lock&&(ZW(K),D.grace_lock=!0,b.trial_grace_used!==!0&&hm(y.id,{trial_grace_used:!0}).catch(()=>{}),D.notif_grace||(nq(K),D.notif_grace=!0));try{localStorage.setItem(k,JSON.stringify(D))}catch{}}},y=>{console.error("Firestore snapshot error:",y)}),hM(p.email).catch(y=>{console.error("Failed to ensure user profile",y),i(y)})}catch(y){console.error("Failed to initialize user session",y),i(y),e({email:p.email,subscription_tier:"free",coins:0})}finally{r(!1)}});return()=>{u&&u(),h()}},[]),{user:t,loading:n,error:s}}const mM=T.createContext({user:null,loading:!0,error:null});function sq({children:t}){const e=rq();return x.jsx(mM.Provider,{value:e,children:t})}function kx(){return T.useContext(mM)}const iq=ky("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),gM=T.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,role:"alert",className:wt(iq({variant:e}),t),...n}));gM.displayName="Alert";const oq=T.forwardRef(({className:t,...e},n)=>x.jsx("h5",{ref:n,className:wt("mb-1 font-medium leading-none tracking-tight",t),...e}));oq.displayName="AlertTitle";const yM=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm [&_p]:leading-relaxed",t),...e}));yM.displayName="AlertDescription";function aq(){const{user:t}=kx(),e=vx(),[n,r]=pn.useState(!1),[s,i]=pn.useState(!0);if(!t||n===!0||s===!1||!(t.isOnTrial||t.trialExpired||t.inGraceDay))return null;const c=t.trialExpired&&!t.inGraceDay,u=t.trialDaysRemaining||0,h=t.inGraceDay;return x.jsx(gM,{className:`mb-4 ${c?"bg-red-50 border-red-300":u<=2?"bg-orange-50 border-orange-300":"bg-blue-50 border-blue-300"}`,children:x.jsxs("div",{className:"flex items-start justify-between gap-4",children:[x.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[h?x.jsx(Um,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}):c?x.jsx(Um,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}):x.jsx(A7,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),x.jsx(yM,{className:h?"text-orange-800":c?"text-red-800":"text-blue-800",children:x.jsx("div",{className:"space-y-2",children:h?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Grace Day: Final Chance!"}),x.jsx("p",{className:"text-sm",children:"Your trial expired, but you still have premium access today only. Upgrade now to keep everything before it locks tomorrow."})]}):c?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Your 7-day trial has ended"}),x.jsx("p",{className:"text-sm",children:"You're now on the free plan with limited access. Upgrade to continue enjoying premium features like unlimited games, AI tutor, and more!"})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:u===0?" Trial ends today!":`${u} day${u===1?"":"s"} left in your trial`}),x.jsx("p",{className:"text-sm",children:"You're currently enjoying premium features. Upgrade now to keep unlimited access after your trial ends!"})]})})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(ts,{onClick:()=>e("/subscription"),className:`${h?"bg-orange-600 hover:bg-orange-700":c?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white whitespace-nowrap`,size:"sm",children:[x.jsx(Um,{className:"w-4 h-4 mr-1"}),"Upgrade Now"]}),x.jsx(ts,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"flex-shrink-0",children:x.jsx(Px,{className:"w-4 h-4"})})]})]})})}function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function hne(t,e){const n=T.createContext(e),r=i=>{const{children:a,...c}=i,u=T.useMemo(()=>c,Object.values(c));return x.jsx(n.Provider,{value:u,children:a})};r.displayName=t+"Provider";function s(i){const a=T.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Sf(t,e=[]){let n=[];function r(i,a){const c=T.createContext(a),u=n.length;n=[...n,a];const h=g=>{var R;const{scope:y,children:E,...A}=g,b=((R=y==null?void 0:y[t])==null?void 0:R[u])||c,S=T.useMemo(()=>A,Object.values(A));return x.jsx(b.Provider,{value:S,children:E})};h.displayName=i+"Provider";function p(g,y){var b;const E=((b=y==null?void 0:y[t])==null?void 0:b[u])||c,A=T.useContext(E);if(A)return A;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,p]}const s=()=>{const i=n.map(a=>T.createContext(a));return function(c){const u=(c==null?void 0:c[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return s.scopeName=t,[r,lq(s,...e)]}function lq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:u,scopeName:h})=>{const g=u(i)[`__scope${h}`];return{...c,...g}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var na=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},cq=nE[" useInsertionEffect ".trim().toString()]||na;function vM({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=uq({defaultProp:e,onChange:n}),c=t!==void 0,u=c?t:s;{const p=T.useRef(t!==void 0);T.useEffect(()=>{const g=p.current;g!==c&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const h=T.useCallback(p=>{var g;if(c){const y=dq(p)?p(t):p;y!==t&&((g=a.current)==null||g.call(a,y))}else i(p)},[c,t,i,a]);return[u,h]}function uq({defaultProp:t,onChange:e}){const[n,r]=T.useState(t),s=T.useRef(n),i=T.useRef(e);return cq(()=>{i.current=e},[e]),T.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function dq(t){return typeof t=="function"}function hq(t){const e=fq(t),n=T.forwardRef((r,s)=>{const{children:i,...a}=r,c=T.Children.toArray(i),u=c.find(mq);if(u){const h=u.props.children,p=c.map(g=>g===u?T.Children.count(h)>1?T.Children.only(null):T.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:T.isValidElement(h)?T.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function fq(t){const e=T.forwardRef((n,r)=>{const{children:s,...i}=n;if(T.isValidElement(s)){const a=yq(s),c=gq(i,s.props);return s.type!==T.Fragment&&(c.ref=r?Ul(r,a):a),T.cloneElement(s,c)}return T.Children.count(s)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pq=Symbol("radix.slottable");function mq(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pq}function gq(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function yq(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var vq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jn=vq.reduce((t,e)=>{const n=hq(`Primitive.${e}`),r=T.forwardRef((s,i)=>{const{asChild:a,...c}=s,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(u,{...c,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function wM(t,e){t&&Tx.flushSync(()=>t.dispatchEvent(e))}function DA(t){const e=wq(t),n=T.forwardRef((r,s)=>{const{children:i,...a}=r,c=T.Children.toArray(i),u=c.find(Eq);if(u){const h=u.props.children,p=c.map(g=>g===u?T.Children.count(h)>1?T.Children.only(null):T.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:T.isValidElement(h)?T.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function wq(t){const e=T.forwardRef((n,r)=>{const{children:s,...i}=n;if(T.isValidElement(s)){const a=Tq(s),c=xq(i,s.props);return s.type!==T.Fragment&&(c.ref=r?Ul(r,a):a),T.cloneElement(s,c)}return T.Children.count(s)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _q=Symbol("radix.slottable");function Eq(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_q}function xq(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Tq(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _M(t){const e=t+"CollectionProvider",[n,r]=Sf(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=b=>{const{scope:S,children:R}=b,V=pn.useRef(null),N=pn.useRef(new Map).current;return x.jsx(s,{scope:S,itemMap:N,collectionRef:V,children:R})};a.displayName=e;const c=t+"CollectionSlot",u=DA(c),h=pn.forwardRef((b,S)=>{const{scope:R,children:V}=b,N=i(c,R),F=Zn(S,N.collectionRef);return x.jsx(u,{ref:F,children:V})});h.displayName=c;const p=t+"CollectionItemSlot",g="data-radix-collection-item",y=DA(p),E=pn.forwardRef((b,S)=>{const{scope:R,children:V,...N}=b,F=pn.useRef(null),B=Zn(S,F),K=i(p,R);return pn.useEffect(()=>(K.itemMap.set(F,{ref:F,...N}),()=>void K.itemMap.delete(F))),x.jsx(y,{[g]:"",ref:B,children:V})});E.displayName=p;function A(b){const S=i(t+"CollectionConsumer",b);return pn.useCallback(()=>{const V=S.collectionRef.current;if(!V)return[];const N=Array.from(V.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((K,k)=>N.indexOf(K.ref.current)-N.indexOf(k.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:h,ItemSlot:E},A,r]}var Iq=T.createContext(void 0);function EM(t){const e=T.useContext(Iq);return t||e||"ltr"}function Mi(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function bq(t,e=globalThis==null?void 0:globalThis.document){const n=Mi(t);T.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Sq="DismissableLayer",E0="dismissableLayer.update",Aq="dismissableLayer.pointerDownOutside",Pq="dismissableLayer.focusOutside",NA,xM=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),TM=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...u}=t,h=T.useContext(xM),[p,g]=T.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=T.useState({}),A=Zn(e,k=>g(k)),b=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),R=b.indexOf(S),V=p?b.indexOf(p):-1,N=h.layersWithOutsidePointerEventsDisabled.size>0,F=V>=R,B=kq(k=>{const P=k.target,D=[...h.branches].some(O=>O.contains(P));!F||D||(s==null||s(k),a==null||a(k),k.defaultPrevented||c==null||c())},y),K=Dq(k=>{const P=k.target;[...h.branches].some(O=>O.contains(P))||(i==null||i(k),a==null||a(k),k.defaultPrevented||c==null||c())},y);return bq(k=>{V===h.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},y),T.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(NA=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),MA(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=NA)}},[p,y,n,h]),T.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),MA())},[p,h]),T.useEffect(()=>{const k=()=>E({});return document.addEventListener(E0,k),()=>document.removeEventListener(E0,k)},[]),x.jsx(jn.div,{...u,ref:A,style:{pointerEvents:N?F?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,K.onFocusCapture),onBlurCapture:et(t.onBlurCapture,K.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,B.onPointerDownCapture)})});TM.displayName=Sq;var Cq="DismissableLayerBranch",Rq=T.forwardRef((t,e)=>{const n=T.useContext(xM),r=T.useRef(null),s=Zn(e,r);return T.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx(jn.div,{...t,ref:s})});Rq.displayName=Cq;function kq(t,e=globalThis==null?void 0:globalThis.document){const n=Mi(t),r=T.useRef(!1),s=T.useRef(()=>{});return T.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let u=function(){IM(Aq,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Dq(t,e=globalThis==null?void 0:globalThis.document){const n=Mi(t),r=T.useRef(!1);return T.useEffect(()=>{const s=i=>{i.target&&!r.current&&IM(Pq,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function MA(){const t=new CustomEvent(E0);document.dispatchEvent(t)}function IM(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?wM(s,i):s.dispatchEvent(i)}var Hw=0;function Nq(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??OA()),document.body.insertAdjacentElement("beforeend",t[1]??OA()),Hw++,()=>{Hw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hw--}},[])}function OA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Gw="focusScope.autoFocusOnMount",Kw="focusScope.autoFocusOnUnmount",VA={bubbles:!1,cancelable:!0},Mq="FocusScope",bM=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[c,u]=T.useState(null),h=Mi(s),p=Mi(i),g=T.useRef(null),y=Zn(e,b=>u(b)),E=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let b=function(N){if(E.paused||!c)return;const F=N.target;c.contains(F)?g.current=F:Co(g.current,{select:!0})},S=function(N){if(E.paused||!c)return;const F=N.relatedTarget;F!==null&&(c.contains(F)||Co(g.current,{select:!0}))},R=function(N){if(document.activeElement===document.body)for(const B of N)B.removedNodes.length>0&&Co(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",S);const V=new MutationObserver(R);return c&&V.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",S),V.disconnect()}}},[r,c,E.paused]),T.useEffect(()=>{if(c){FA.add(E);const b=document.activeElement;if(!c.contains(b)){const R=new CustomEvent(Gw,VA);c.addEventListener(Gw,h),c.dispatchEvent(R),R.defaultPrevented||(Oq(Uq(SM(c)),{select:!0}),document.activeElement===b&&Co(c))}return()=>{c.removeEventListener(Gw,h),setTimeout(()=>{const R=new CustomEvent(Kw,VA);c.addEventListener(Kw,p),c.dispatchEvent(R),R.defaultPrevented||Co(b??document.body,{select:!0}),c.removeEventListener(Kw,p),FA.remove(E)},0)}}},[c,h,p,E]);const A=T.useCallback(b=>{if(!n&&!r||E.paused)return;const S=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,R=document.activeElement;if(S&&R){const V=b.currentTarget,[N,F]=Vq(V);N&&F?!b.shiftKey&&R===F?(b.preventDefault(),n&&Co(N,{select:!0})):b.shiftKey&&R===N&&(b.preventDefault(),n&&Co(F,{select:!0})):R===V&&b.preventDefault()}},[n,r,E.paused]);return x.jsx(jn.div,{tabIndex:-1,...a,ref:y,onKeyDown:A})});bM.displayName=Mq;function Oq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Co(r,{select:e}),document.activeElement!==n)return}function Vq(t){const e=SM(t),n=LA(e,t),r=LA(e.reverse(),t);return[n,r]}function SM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function LA(t,e){for(const n of t)if(!Lq(n,{upTo:e}))return n}function Lq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Fq(t){return t instanceof HTMLInputElement&&"select"in t}function Co(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Fq(t)&&e&&t.select()}}var FA=jq();function jq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=jA(t,e),t.unshift(e)},remove(e){var n;t=jA(t,e),(n=t[0])==null||n.resume()}}}function jA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Uq(t){return t.filter(e=>e.tagName!=="A")}var Bq=nE[" useId ".trim().toString()]||(()=>{}),$q=0;function x0(t){const[e,n]=T.useState(Bq());return na(()=>{n(r=>r??String($q++))},[t]),e?`radix-${e}`:""}const zq=["top","right","bottom","left"],ra=Math.min,hr=Math.max,Dg=Math.round,fm=Math.floor,js=t=>({x:t,y:t}),Wq={left:"right",right:"left",bottom:"top",top:"bottom"},qq={start:"end",end:"start"};function T0(t,e,n){return hr(t,ra(e,n))}function Oi(t,e){return typeof t=="function"?t(e):t}function Vi(t){return t.split("-")[0]}function zu(t){return t.split("-")[1]}function Dx(t){return t==="x"?"y":"x"}function Nx(t){return t==="y"?"height":"width"}const Hq=new Set(["top","bottom"]);function Ns(t){return Hq.has(Vi(t))?"y":"x"}function Mx(t){return Dx(Ns(t))}function Gq(t,e,n){n===void 0&&(n=!1);const r=zu(t),s=Mx(t),i=Nx(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Ng(a)),[a,Ng(a)]}function Kq(t){const e=Ng(t);return[I0(t),e,I0(e)]}function I0(t){return t.replace(/start|end/g,e=>qq[e])}const UA=["left","right"],BA=["right","left"],Qq=["top","bottom"],Yq=["bottom","top"];function Xq(t,e,n){switch(t){case"top":case"bottom":return n?e?BA:UA:e?UA:BA;case"left":case"right":return e?Qq:Yq;default:return[]}}function Jq(t,e,n,r){const s=zu(t);let i=Xq(Vi(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(I0)))),i}function Ng(t){return t.replace(/left|right|bottom|top/g,e=>Wq[e])}function Zq(t){return{top:0,right:0,bottom:0,left:0,...t}}function AM(t){return typeof t!="number"?Zq(t):{top:t,right:t,bottom:t,left:t}}function Mg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function $A(t,e,n){let{reference:r,floating:s}=t;const i=Ns(e),a=Mx(e),c=Nx(a),u=Vi(e),h=i==="y",p=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,y=r[c]/2-s[c]/2;let E;switch(u){case"top":E={x:p,y:r.y-s.height};break;case"bottom":E={x:p,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:g};break;case"left":E={x:r.x-s.width,y:g};break;default:E={x:r.x,y:r.y}}switch(zu(e)){case"start":E[a]-=y*(n&&h?-1:1);break;case"end":E[a]+=y*(n&&h?-1:1);break}return E}const eH=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,c=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:g}=$A(h,r,u),y=r,E={},A=0;for(let b=0;b<c.length;b++){const{name:S,fn:R}=c[b],{x:V,y:N,data:F,reset:B}=await R({x:p,y:g,initialPlacement:r,placement:y,strategy:s,middlewareData:E,rects:h,platform:a,elements:{reference:t,floating:e}});p=V??p,g=N??g,E={...E,[S]:{...E[S],...F}},B&&A<=50&&(A++,typeof B=="object"&&(B.placement&&(y=B.placement),B.rects&&(h=B.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):B.rects),{x:p,y:g}=$A(h,y,u)),b=-1)}return{x:p,y:g,placement:y,strategy:s,middlewareData:E}};async function zh(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:c,strategy:u}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:y=!1,padding:E=0}=Oi(e,t),A=AM(E),S=c[y?g==="floating"?"reference":"floating":g],R=Mg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:h,rootBoundary:p,strategy:u})),V=g==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),F=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},B=Mg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:V,offsetParent:N,strategy:u}):V);return{top:(R.top-B.top+A.top)/F.y,bottom:(B.bottom-R.bottom+A.bottom)/F.y,left:(R.left-B.left+A.left)/F.x,right:(B.right-R.right+A.right)/F.x}}const tH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:c,middlewareData:u}=e,{element:h,padding:p=0}=Oi(t,e)||{};if(h==null)return{};const g=AM(p),y={x:n,y:r},E=Mx(s),A=Nx(E),b=await a.getDimensions(h),S=E==="y",R=S?"top":"left",V=S?"bottom":"right",N=S?"clientHeight":"clientWidth",F=i.reference[A]+i.reference[E]-y[E]-i.floating[A],B=y[E]-i.reference[E],K=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let k=K?K[N]:0;(!k||!await(a.isElement==null?void 0:a.isElement(K)))&&(k=c.floating[N]||i.floating[A]);const P=F/2-B/2,D=k/2-b[A]/2-1,O=ra(g[R],D),j=ra(g[V],D),z=O,L=k-b[A]-j,xe=k/2-b[A]/2+P,Le=T0(z,xe,L),Pe=!u.arrow&&zu(s)!=null&&xe!==Le&&i.reference[A]/2-(xe<z?O:j)-b[A]/2<0,fe=Pe?xe<z?xe-z:xe-L:0;return{[E]:y[E]+fe,data:{[E]:Le,centerOffset:xe-Le-fe,...Pe&&{alignmentOffset:fe}},reset:Pe}}}),nH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:c,platform:u,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:b=!0,...S}=Oi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const R=Vi(s),V=Ns(c),N=Vi(c)===c,F=await(u.isRTL==null?void 0:u.isRTL(h.floating)),B=y||(N||!b?[Ng(c)]:Kq(c)),K=A!=="none";!y&&K&&B.push(...Jq(c,b,A,F));const k=[c,...B],P=await zh(e,S),D=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&D.push(P[R]),g){const xe=Gq(s,a,F);D.push(P[xe[0]],P[xe[1]])}if(O=[...O,{placement:s,overflows:D}],!D.every(xe=>xe<=0)){var j,z;const xe=(((j=i.flip)==null?void 0:j.index)||0)+1,Le=k[xe];if(Le&&(!(g==="alignment"?V!==Ns(Le):!1)||O.every(G=>Ns(G.placement)===V?G.overflows[0]>0:!0)))return{data:{index:xe,overflows:O},reset:{placement:Le}};let Pe=(z=O.filter(fe=>fe.overflows[0]<=0).sort((fe,G)=>fe.overflows[1]-G.overflows[1])[0])==null?void 0:z.placement;if(!Pe)switch(E){case"bestFit":{var L;const fe=(L=O.filter(G=>{if(K){const ne=Ns(G.placement);return ne===V||ne==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ne=>ne>0).reduce((ne,ie)=>ne+ie,0)]).sort((G,ne)=>G[1]-ne[1])[0])==null?void 0:L[0];fe&&(Pe=fe);break}case"initialPlacement":Pe=c;break}if(s!==Pe)return{reset:{placement:Pe}}}return{}}}};function zA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function WA(t){return zq.some(e=>t[e]>=0)}const rH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Oi(t,e);switch(r){case"referenceHidden":{const i=await zh(e,{...s,elementContext:"reference"}),a=zA(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:WA(a)}}}case"escaped":{const i=await zh(e,{...s,altBoundary:!0}),a=zA(i,n.floating);return{data:{escapedOffsets:a,escaped:WA(a)}}}default:return{}}}}},PM=new Set(["left","top"]);async function sH(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Vi(n),c=zu(n),u=Ns(n)==="y",h=PM.has(a)?-1:1,p=i&&u?-1:1,g=Oi(e,t);let{mainAxis:y,crossAxis:E,alignmentAxis:A}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof A=="number"&&(E=c==="end"?A*-1:A),u?{x:E*p,y:y*h}:{x:y*h,y:E*p}}const iH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:c}=e,u=await sH(e,t);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:a}}}}},oH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:S=>{let{x:R,y:V}=S;return{x:R,y:V}}},...u}=Oi(t,e),h={x:n,y:r},p=await zh(e,u),g=Ns(Vi(s)),y=Dx(g);let E=h[y],A=h[g];if(i){const S=y==="y"?"top":"left",R=y==="y"?"bottom":"right",V=E+p[S],N=E-p[R];E=T0(V,E,N)}if(a){const S=g==="y"?"top":"left",R=g==="y"?"bottom":"right",V=A+p[S],N=A-p[R];A=T0(V,A,N)}const b=c.fn({...e,[y]:E,[g]:A});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[y]:i,[g]:a}}}}}},aH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=Oi(t,e),p={x:n,y:r},g=Ns(s),y=Dx(g);let E=p[y],A=p[g];const b=Oi(c,e),S=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(u){const N=y==="y"?"height":"width",F=i.reference[y]-i.floating[N]+S.mainAxis,B=i.reference[y]+i.reference[N]-S.mainAxis;E<F?E=F:E>B&&(E=B)}if(h){var R,V;const N=y==="y"?"width":"height",F=PM.has(Vi(s)),B=i.reference[g]-i.floating[N]+(F&&((R=a.offset)==null?void 0:R[g])||0)+(F?0:S.crossAxis),K=i.reference[g]+i.reference[N]+(F?0:((V=a.offset)==null?void 0:V[g])||0)-(F?S.crossAxis:0);A<B?A=B:A>K&&(A=K)}return{[y]:E,[g]:A}}}},lH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:c}=e,{apply:u=()=>{},...h}=Oi(t,e),p=await zh(e,h),g=Vi(s),y=zu(s),E=Ns(s)==="y",{width:A,height:b}=i.floating;let S,R;g==="top"||g==="bottom"?(S=g,R=y===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(R=g,S=y==="end"?"top":"bottom");const V=b-p.top-p.bottom,N=A-p.left-p.right,F=ra(b-p[S],V),B=ra(A-p[R],N),K=!e.middlewareData.shift;let k=F,P=B;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=V),K&&!y){const O=hr(p.left,0),j=hr(p.right,0),z=hr(p.top,0),L=hr(p.bottom,0);E?P=A-2*(O!==0||j!==0?O+j:hr(p.left,p.right)):k=b-2*(z!==0||L!==0?z+L:hr(p.top,p.bottom))}await u({...e,availableWidth:P,availableHeight:k});const D=await a.getDimensions(c.floating);return A!==D.width||b!==D.height?{reset:{rects:!0}}:{}}}};function Ny(){return typeof window<"u"}function Wu(t){return CM(t)?(t.nodeName||"").toLowerCase():"#document"}function gr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Js(t){var e;return(e=(CM(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function CM(t){return Ny()?t instanceof Node||t instanceof gr(t).Node:!1}function is(t){return Ny()?t instanceof Element||t instanceof gr(t).Element:!1}function Ks(t){return Ny()?t instanceof HTMLElement||t instanceof gr(t).HTMLElement:!1}function qA(t){return!Ny()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gr(t).ShadowRoot}const cH=new Set(["inline","contents"]);function Af(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=os(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!cH.has(s)}const uH=new Set(["table","td","th"]);function dH(t){return uH.has(Wu(t))}const hH=[":popover-open",":modal"];function My(t){return hH.some(e=>{try{return t.matches(e)}catch{return!1}})}const fH=["transform","translate","scale","rotate","perspective"],pH=["transform","translate","scale","rotate","perspective","filter"],mH=["paint","layout","strict","content"];function Ox(t){const e=Vx(),n=is(t)?os(t):t;return fH.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||pH.some(r=>(n.willChange||"").includes(r))||mH.some(r=>(n.contain||"").includes(r))}function gH(t){let e=sa(t);for(;Ks(e)&&!ku(e);){if(Ox(e))return e;if(My(e))return null;e=sa(e)}return null}function Vx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yH=new Set(["html","body","#document"]);function ku(t){return yH.has(Wu(t))}function os(t){return gr(t).getComputedStyle(t)}function Oy(t){return is(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function sa(t){if(Wu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qA(t)&&t.host||Js(t);return qA(e)?e.host:e}function RM(t){const e=sa(t);return ku(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ks(e)&&Af(e)?e:RM(e)}function Wh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=RM(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=gr(s);if(i){const c=b0(a);return e.concat(a,a.visualViewport||[],Af(s)?s:[],c&&n?Wh(c):[])}return e.concat(s,Wh(s,[],n))}function b0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kM(t){const e=os(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ks(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,c=Dg(n)!==i||Dg(r)!==a;return c&&(n=i,r=a),{width:n,height:r,$:c}}function Lx(t){return is(t)?t:t.contextElement}function nu(t){const e=Lx(t);if(!Ks(e))return js(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=kM(e);let a=(i?Dg(n.width):n.width)/r,c=(i?Dg(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const vH=js(0);function DM(t){const e=gr(t);return!Vx()||!e.visualViewport?vH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==gr(t)?!1:e}function Dl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Lx(t);let a=js(1);e&&(r?is(r)&&(a=nu(r)):a=nu(t));const c=wH(i,n,r)?DM(i):js(0);let u=(s.left+c.x)/a.x,h=(s.top+c.y)/a.y,p=s.width/a.x,g=s.height/a.y;if(i){const y=gr(i),E=r&&is(r)?gr(r):r;let A=y,b=b0(A);for(;b&&r&&E!==A;){const S=nu(b),R=b.getBoundingClientRect(),V=os(b),N=R.left+(b.clientLeft+parseFloat(V.paddingLeft))*S.x,F=R.top+(b.clientTop+parseFloat(V.paddingTop))*S.y;u*=S.x,h*=S.y,p*=S.x,g*=S.y,u+=N,h+=F,A=gr(b),b=b0(A)}}return Mg({width:p,height:g,x:u,y:h})}function Vy(t,e){const n=Oy(t).scrollLeft;return e?e.left+n:Dl(Js(t)).left+n}function NM(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Vy(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function _H(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Js(r),c=e?My(e.floating):!1;if(r===a||c&&i)return n;let u={scrollLeft:0,scrollTop:0},h=js(1);const p=js(0),g=Ks(r);if((g||!g&&!i)&&((Wu(r)!=="body"||Af(a))&&(u=Oy(r)),Ks(r))){const E=Dl(r);h=nu(r),p.x=E.x+r.clientLeft,p.y=E.y+r.clientTop}const y=a&&!g&&!i?NM(a,u):js(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-u.scrollLeft*h.x+p.x+y.x,y:n.y*h.y-u.scrollTop*h.y+p.y+y.y}}function EH(t){return Array.from(t.getClientRects())}function xH(t){const e=Js(t),n=Oy(t),r=t.ownerDocument.body,s=hr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=hr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Vy(t);const c=-n.scrollTop;return os(r).direction==="rtl"&&(a+=hr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:c}}const HA=25;function TH(t,e){const n=gr(t),r=Js(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,u=0;if(s){i=s.width,a=s.height;const p=Vx();(!p||p&&e==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}const h=Vy(r);if(h<=0){const p=r.ownerDocument,g=p.body,y=getComputedStyle(g),E=p.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,A=Math.abs(r.clientWidth-g.clientWidth-E);A<=HA&&(i-=A)}else h<=HA&&(i+=h);return{width:i,height:a,x:c,y:u}}const IH=new Set(["absolute","fixed"]);function bH(t,e){const n=Dl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ks(t)?nu(t):js(1),a=t.clientWidth*i.x,c=t.clientHeight*i.y,u=s*i.x,h=r*i.y;return{width:a,height:c,x:u,y:h}}function GA(t,e,n){let r;if(e==="viewport")r=TH(t,n);else if(e==="document")r=xH(Js(t));else if(is(e))r=bH(e,n);else{const s=DM(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Mg(r)}function MM(t,e){const n=sa(t);return n===e||!is(n)||ku(n)?!1:os(n).position==="fixed"||MM(n,e)}function SH(t,e){const n=e.get(t);if(n)return n;let r=Wh(t,[],!1).filter(c=>is(c)&&Wu(c)!=="body"),s=null;const i=os(t).position==="fixed";let a=i?sa(t):t;for(;is(a)&&!ku(a);){const c=os(a),u=Ox(a);!u&&c.position==="fixed"&&(s=null),(i?!u&&!s:!u&&c.position==="static"&&!!s&&IH.has(s.position)||Af(a)&&!u&&MM(t,a))?r=r.filter(p=>p!==a):s=c,a=sa(a)}return e.set(t,r),r}function AH(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?My(e)?[]:SH(e,this._c):[].concat(n),r],c=a[0],u=a.reduce((h,p)=>{const g=GA(e,p,s);return h.top=hr(g.top,h.top),h.right=ra(g.right,h.right),h.bottom=ra(g.bottom,h.bottom),h.left=hr(g.left,h.left),h},GA(e,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function PH(t){const{width:e,height:n}=kM(t);return{width:e,height:n}}function CH(t,e,n){const r=Ks(e),s=Js(e),i=n==="fixed",a=Dl(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const u=js(0);function h(){u.x=Vy(s)}if(r||!r&&!i)if((Wu(e)!=="body"||Af(s))&&(c=Oy(e)),r){const E=Dl(e,!0,i,e);u.x=E.x+e.clientLeft,u.y=E.y+e.clientTop}else s&&h();i&&!r&&s&&h();const p=s&&!r&&!i?NM(s,c):js(0),g=a.left+c.scrollLeft-u.x-p.x,y=a.top+c.scrollTop-u.y-p.y;return{x:g,y,width:a.width,height:a.height}}function Qw(t){return os(t).position==="static"}function KA(t,e){if(!Ks(t)||os(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Js(t)===n&&(n=n.ownerDocument.body),n}function OM(t,e){const n=gr(t);if(My(t))return n;if(!Ks(t)){let s=sa(t);for(;s&&!ku(s);){if(is(s)&&!Qw(s))return s;s=sa(s)}return n}let r=KA(t,e);for(;r&&dH(r)&&Qw(r);)r=KA(r,e);return r&&ku(r)&&Qw(r)&&!Ox(r)?n:r||gH(t)||n}const RH=async function(t){const e=this.getOffsetParent||OM,n=this.getDimensions,r=await n(t.floating);return{reference:CH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kH(t){return os(t).direction==="rtl"}const DH={convertOffsetParentRelativeRectToViewportRelativeRect:_H,getDocumentElement:Js,getClippingRect:AH,getOffsetParent:OM,getElementRects:RH,getClientRects:EH,getDimensions:PH,getScale:nu,isElement:is,isRTL:kH};function VM(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function NH(t,e){let n=null,r;const s=Js(t);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const h=t.getBoundingClientRect(),{left:p,top:g,width:y,height:E}=h;if(c||e(),!y||!E)return;const A=fm(g),b=fm(s.clientWidth-(p+y)),S=fm(s.clientHeight-(g+E)),R=fm(p),N={rootMargin:-A+"px "+-b+"px "+-S+"px "+-R+"px",threshold:hr(0,ra(1,u))||1};let F=!0;function B(K){const k=K[0].intersectionRatio;if(k!==u){if(!F)return a();k?a(!1,k):r=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!VM(h,t.getBoundingClientRect())&&a(),F=!1}try{n=new IntersectionObserver(B,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(B,N)}n.observe(t)}return a(!0),i}function MH(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,h=Lx(t),p=s||i?[...h?Wh(h):[],...Wh(e)]:[];p.forEach(R=>{s&&R.addEventListener("scroll",n,{passive:!0}),i&&R.addEventListener("resize",n)});const g=h&&c?NH(h,n):null;let y=-1,E=null;a&&(E=new ResizeObserver(R=>{let[V]=R;V&&V.target===h&&E&&(E.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var N;(N=E)==null||N.observe(e)})),n()}),h&&!u&&E.observe(h),E.observe(e));let A,b=u?Dl(t):null;u&&S();function S(){const R=Dl(t);b&&!VM(b,R)&&n(),b=R,A=requestAnimationFrame(S)}return n(),()=>{var R;p.forEach(V=>{s&&V.removeEventListener("scroll",n),i&&V.removeEventListener("resize",n)}),g==null||g(),(R=E)==null||R.disconnect(),E=null,u&&cancelAnimationFrame(A)}}const OH=iH,VH=oH,LH=nH,FH=lH,jH=rH,QA=tH,UH=aH,BH=(t,e,n)=>{const r=new Map,s={platform:DH,...n},i={...s.platform,_c:r};return eH(t,e,{...s,platform:i})};var $H=typeof document<"u",zH=function(){},$m=$H?T.useLayoutEffect:zH;function Og(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Og(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Og(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function LM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function YA(t,e){const n=LM(t);return Math.round(e*n)/n}function Yw(t){const e=T.useRef(t);return $m(()=>{e.current=t}),e}function WH(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:u,open:h}=t,[p,g]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,E]=T.useState(r);Og(y,r)||E(r);const[A,b]=T.useState(null),[S,R]=T.useState(null),V=T.useCallback(G=>{G!==K.current&&(K.current=G,b(G))},[]),N=T.useCallback(G=>{G!==k.current&&(k.current=G,R(G))},[]),F=i||A,B=a||S,K=T.useRef(null),k=T.useRef(null),P=T.useRef(p),D=u!=null,O=Yw(u),j=Yw(s),z=Yw(h),L=T.useCallback(()=>{if(!K.current||!k.current)return;const G={placement:e,strategy:n,middleware:y};j.current&&(G.platform=j.current),BH(K.current,k.current,G).then(ne=>{const ie={...ne,isPositioned:z.current!==!1};xe.current&&!Og(P.current,ie)&&(P.current=ie,Tx.flushSync(()=>{g(ie)}))})},[y,e,n,j,z]);$m(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,g(G=>({...G,isPositioned:!1})))},[h]);const xe=T.useRef(!1);$m(()=>(xe.current=!0,()=>{xe.current=!1}),[]),$m(()=>{if(F&&(K.current=F),B&&(k.current=B),F&&B){if(O.current)return O.current(F,B,L);L()}},[F,B,L,O,D]);const Le=T.useMemo(()=>({reference:K,floating:k,setReference:V,setFloating:N}),[V,N]),Pe=T.useMemo(()=>({reference:F,floating:B}),[F,B]),fe=T.useMemo(()=>{const G={position:n,left:0,top:0};if(!Pe.floating)return G;const ne=YA(Pe.floating,p.x),ie=YA(Pe.floating,p.y);return c?{...G,transform:"translate("+ne+"px, "+ie+"px)",...LM(Pe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ie}},[n,c,Pe.floating,p.x,p.y]);return T.useMemo(()=>({...p,update:L,refs:Le,elements:Pe,floatingStyles:fe}),[p,L,Le,Pe,fe])}const qH=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?QA({element:r.current,padding:s}).fn(n):{}:r?QA({element:r,padding:s}).fn(n):{}}}},HH=(t,e)=>({...OH(t),options:[t,e]}),GH=(t,e)=>({...VH(t),options:[t,e]}),KH=(t,e)=>({...UH(t),options:[t,e]}),QH=(t,e)=>({...LH(t),options:[t,e]}),YH=(t,e)=>({...FH(t),options:[t,e]}),XH=(t,e)=>({...jH(t),options:[t,e]}),JH=(t,e)=>({...qH(t),options:[t,e]});var ZH="Arrow",FM=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return x.jsx(jn.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});FM.displayName=ZH;var eG=FM;function tG(t){const[e,n]=T.useState(void 0);return na(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,c;if("borderBoxSize"in i){const u=i.borderBoxSize,h=Array.isArray(u)?u[0]:u;a=h.inlineSize,c=h.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Fx="Popper",[jM,UM]=Sf(Fx),[nG,BM]=jM(Fx),$M=t=>{const{__scopePopper:e,children:n}=t,[r,s]=T.useState(null);return x.jsx(nG,{scope:e,anchor:r,onAnchorChange:s,children:n})};$M.displayName=Fx;var zM="PopperAnchor",WM=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=BM(zM,n),a=T.useRef(null),c=Zn(e,a),u=T.useRef(null);return T.useEffect(()=>{const h=u.current;u.current=(r==null?void 0:r.current)||a.current,h!==u.current&&i.onAnchorChange(u.current)}),r?null:x.jsx(jn.div,{...s,ref:c})});WM.displayName=zM;var jx="PopperContent",[rG,sG]=jM(jx),qM=T.forwardRef((t,e)=>{var Se,ze,je,ht,er,tr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:E="optimized",onPlaced:A,...b}=t,S=BM(jx,n),[R,V]=T.useState(null),N=Zn(e,Bn=>V(Bn)),[F,B]=T.useState(null),K=tG(F),k=(K==null?void 0:K.width)??0,P=(K==null?void 0:K.height)??0,D=r+(i!=="center"?"-"+i:""),O=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},j=Array.isArray(h)?h:[h],z=j.length>0,L={padding:O,boundary:j.filter(oG),altBoundary:z},{refs:xe,floatingStyles:Le,placement:Pe,isPositioned:fe,middlewareData:G}=WH({strategy:"fixed",placement:D,whileElementsMounted:(...Bn)=>MH(...Bn,{animationFrame:E==="always"}),elements:{reference:S.anchor},middleware:[HH({mainAxis:s+P,alignmentAxis:a}),u&&GH({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?KH():void 0,...L}),u&&QH({...L}),YH({...L,apply:({elements:Bn,rects:Zs,availableWidth:zl,availableHeight:qi})=>{const{width:ei,height:ha}=Zs.reference,pt=Bn.floating.style;pt.setProperty("--radix-popper-available-width",`${zl}px`),pt.setProperty("--radix-popper-available-height",`${qi}px`),pt.setProperty("--radix-popper-anchor-width",`${ei}px`),pt.setProperty("--radix-popper-anchor-height",`${ha}px`)}}),F&&JH({element:F,padding:c}),aG({arrowWidth:k,arrowHeight:P}),y&&XH({strategy:"referenceHidden",...L})]}),[ne,ie]=KM(Pe),q=Mi(A);na(()=>{fe&&(q==null||q())},[fe,q]);const re=(Se=G.arrow)==null?void 0:Se.x,ye=(ze=G.arrow)==null?void 0:ze.y,Te=((je=G.arrow)==null?void 0:je.centerOffset)!==0,[Fe,Oe]=T.useState();return na(()=>{R&&Oe(window.getComputedStyle(R).zIndex)},[R]),x.jsx("div",{ref:xe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Le,transform:fe?Le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(ht=G.transformOrigin)==null?void 0:ht.x,(er=G.transformOrigin)==null?void 0:er.y].join(" "),...((tr=G.hide)==null?void 0:tr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(rG,{scope:n,placedSide:ne,onArrowChange:B,arrowX:re,arrowY:ye,shouldHideArrow:Te,children:x.jsx(jn.div,{"data-side":ne,"data-align":ie,...b,ref:N,style:{...b.style,animation:fe?void 0:"none"}})})})});qM.displayName=jx;var HM="PopperArrow",iG={top:"bottom",right:"left",bottom:"top",left:"right"},GM=T.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=sG(HM,r),a=iG[i.placedSide];return x.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:x.jsx(eG,{...s,ref:n,style:{...s.style,display:"block"}})})});GM.displayName=HM;function oG(t){return t!==null}var aG=t=>({name:"transformOrigin",options:t,fn(e){var S,R,V;const{placement:n,rects:r,middlewareData:s}=e,a=((S=s.arrow)==null?void 0:S.centerOffset)!==0,c=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[h,p]=KM(n),g={start:"0%",center:"50%",end:"100%"}[p],y=(((R=s.arrow)==null?void 0:R.x)??0)+c/2,E=(((V=s.arrow)==null?void 0:V.y)??0)+u/2;let A="",b="";return h==="bottom"?(A=a?g:`${y}px`,b=`${-u}px`):h==="top"?(A=a?g:`${y}px`,b=`${r.floating.height+u}px`):h==="right"?(A=`${-u}px`,b=a?g:`${E}px`):h==="left"&&(A=`${r.floating.width+u}px`,b=a?g:`${E}px`),{data:{x:A,y:b}}}});function KM(t){const[e,n="center"]=t.split("-");return[e,n]}var lG=$M,cG=WM,uG=qM,dG=GM,hG="Portal",QM=T.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,i]=T.useState(!1);na(()=>i(!0),[]);const a=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?E8.createPortal(x.jsx(jn.div,{...r,ref:e}),a):null});QM.displayName=hG;function fG(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var Pf=t=>{const{present:e,children:n}=t,r=pG(e),s=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),i=Zn(r.ref,mG(s));return typeof n=="function"||r.isPresent?T.cloneElement(s,{ref:i}):null};Pf.displayName="Presence";function pG(t){const[e,n]=T.useState(),r=T.useRef(null),s=T.useRef(t),i=T.useRef("none"),a=t?"mounted":"unmounted",[c,u]=fG(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const h=pm(r.current);i.current=c==="mounted"?h:"none"},[c]),na(()=>{const h=r.current,p=s.current;if(p!==t){const y=i.current,E=pm(h);t?u("MOUNT"):E==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(p&&y!==E?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),na(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=E=>{const b=pm(r.current).includes(CSS.escape(E.animationName));if(E.target===e&&b&&(u("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},y=E=>{E.target===e&&(i.current=pm(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:T.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function pm(t){return(t==null?void 0:t.animationName)||"none"}function mG(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Xw="rovingFocusGroup.onEntryFocus",gG={bubbles:!1,cancelable:!0},Cf="RovingFocusGroup",[S0,YM,yG]=_M(Cf),[vG,XM]=Sf(Cf,[yG]),[wG,_G]=vG(Cf),JM=T.forwardRef((t,e)=>x.jsx(S0.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(S0.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(EG,{...t,ref:e})})}));JM.displayName=Cf;var EG=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=t,y=T.useRef(null),E=Zn(e,y),A=EM(i),[b,S]=vM({prop:a,defaultProp:c??null,onChange:u,caller:Cf}),[R,V]=T.useState(!1),N=Mi(h),F=YM(n),B=T.useRef(!1),[K,k]=T.useState(0);return T.useEffect(()=>{const P=y.current;if(P)return P.addEventListener(Xw,N),()=>P.removeEventListener(Xw,N)},[N]),x.jsx(wG,{scope:n,orientation:r,dir:A,loop:s,currentTabStopId:b,onItemFocus:T.useCallback(P=>S(P),[S]),onItemShiftTab:T.useCallback(()=>V(!0),[]),onFocusableItemAdd:T.useCallback(()=>k(P=>P+1),[]),onFocusableItemRemove:T.useCallback(()=>k(P=>P-1),[]),children:x.jsx(jn.div,{tabIndex:R||K===0?-1:0,"data-orientation":r,...g,ref:E,style:{outline:"none",...t.style},onMouseDown:et(t.onMouseDown,()=>{B.current=!0}),onFocus:et(t.onFocus,P=>{const D=!B.current;if(P.target===P.currentTarget&&D&&!R){const O=new CustomEvent(Xw,gG);if(P.currentTarget.dispatchEvent(O),!O.defaultPrevented){const j=F().filter(Pe=>Pe.focusable),z=j.find(Pe=>Pe.active),L=j.find(Pe=>Pe.id===b),Le=[z,L,...j].filter(Boolean).map(Pe=>Pe.ref.current);t2(Le,p)}}B.current=!1}),onBlur:et(t.onBlur,()=>V(!1))})})}),ZM="RovingFocusGroupItem",e2=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...c}=t,u=x0(),h=i||u,p=_G(ZM,n),g=p.currentTabStopId===h,y=YM(n),{onFocusableItemAdd:E,onFocusableItemRemove:A,currentTabStopId:b}=p;return T.useEffect(()=>{if(r)return E(),()=>A()},[r,E,A]),x.jsx(S0.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:x.jsx(jn.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:et(t.onMouseDown,S=>{r?p.onItemFocus(h):S.preventDefault()}),onFocus:et(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:et(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const R=IG(S,p.orientation,p.dir);if(R!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let N=y().filter(F=>F.focusable).map(F=>F.ref.current);if(R==="last")N.reverse();else if(R==="prev"||R==="next"){R==="prev"&&N.reverse();const F=N.indexOf(S.currentTarget);N=p.loop?bG(N,F+1):N.slice(F+1)}setTimeout(()=>t2(N))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:b!=null}):a})})});e2.displayName=ZM;var xG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function TG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function IG(t,e,n){const r=TG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return xG[r]}function t2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function bG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var SG=JM,AG=e2;function PG(t){const e=CG(t),n=T.forwardRef((r,s)=>{const{children:i,...a}=r,c=T.Children.toArray(i),u=c.find(kG);if(u){const h=u.props.children,p=c.map(g=>g===u?T.Children.count(h)>1?T.Children.only(null):T.isValidElement(h)?h.props.children:null:g);return x.jsx(e,{...a,ref:s,children:T.isValidElement(h)?T.cloneElement(h,void 0,p):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function CG(t){const e=T.forwardRef((n,r)=>{const{children:s,...i}=n;if(T.isValidElement(s)){const a=NG(s),c=DG(i,s.props);return s.type!==T.Fragment&&(c.ref=r?Ul(r,a):a),T.cloneElement(s,c)}return T.Children.count(s)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var RG=Symbol("radix.slottable");function kG(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===RG}function DG(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function NG(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var MG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Vc=new WeakMap,mm=new WeakMap,gm={},Jw=0,n2=function(t){return t&&(t.host||n2(t.parentNode))},OG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=n2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},VG=function(t,e,n,r){var s=OG(e,Array.isArray(t)?t:[t]);gm[n]||(gm[n]=new WeakMap);var i=gm[n],a=[],c=new Set,u=new Set(s),h=function(g){!g||c.has(g)||(c.add(g),h(g.parentNode))};s.forEach(h);var p=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(y){if(c.has(y))p(y);else try{var E=y.getAttribute(r),A=E!==null&&E!=="false",b=(Vc.get(y)||0)+1,S=(i.get(y)||0)+1;Vc.set(y,b),i.set(y,S),a.push(y),b===1&&A&&mm.set(y,!0),S===1&&y.setAttribute(n,"true"),A||y.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",y,R)}})};return p(e),c.clear(),Jw++,function(){a.forEach(function(g){var y=Vc.get(g)-1,E=i.get(g)-1;Vc.set(g,y),i.set(g,E),y||(mm.has(g)||g.removeAttribute(r),mm.delete(g)),E||g.removeAttribute(n)}),Jw--,Jw||(Vc=new WeakMap,Vc=new WeakMap,mm=new WeakMap,gm={})}},LG=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=MG(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),VG(r,s,n,"aria-hidden")):function(){return null}},Rs=function(){return Rs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rs.apply(this,arguments)};function r2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function FG(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var zm="right-scroll-bar-position",Wm="width-before-scroll-bar",jG="with-scroll-bars-hidden",UG="--removed-body-scroll-bar-size";function Zw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function BG(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var $G=typeof window<"u"?T.useLayoutEffect:T.useEffect,XA=new WeakMap;function zG(t,e){var n=BG(null,function(r){return t.forEach(function(s){return Zw(s,r)})});return $G(function(){var r=XA.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(c){i.has(c)||Zw(c,null)}),i.forEach(function(c){s.has(c)||Zw(c,a)})}XA.set(n,t)},[t]),n}function WG(t){return t}function qG(t,e){e===void 0&&(e=WG);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(i),a=n}var u=function(){var p=a;a=[],p.forEach(i)},h=function(){return Promise.resolve().then(u)};h(),n={push:function(p){a.push(p),h()},filter:function(p){return a=a.filter(p),n}}}};return s}function HG(t){t===void 0&&(t={});var e=qG(null);return e.options=Rs({async:!0,ssr:!1},t),e}var s2=function(t){var e=t.sideCar,n=r2(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Rs({},n))};s2.isSideCarExport=!0;function GG(t,e){return t.useMedium(e),s2}var i2=HG(),e_=function(){},Ly=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:e_,onWheelCapture:e_,onTouchMoveCapture:e_}),s=r[0],i=r[1],a=t.forwardProps,c=t.children,u=t.className,h=t.removeScrollBar,p=t.enabled,g=t.shards,y=t.sideCar,E=t.noRelative,A=t.noIsolation,b=t.inert,S=t.allowPinchZoom,R=t.as,V=R===void 0?"div":R,N=t.gapMode,F=r2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=y,K=zG([n,e]),k=Rs(Rs({},F),s);return T.createElement(T.Fragment,null,p&&T.createElement(B,{sideCar:i2,removeScrollBar:h,shards:g,noRelative:E,noIsolation:A,inert:b,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:N}),a?T.cloneElement(T.Children.only(c),Rs(Rs({},k),{ref:K})):T.createElement(V,Rs({},k,{className:u,ref:K}),c))});Ly.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ly.classNames={fullWidth:Wm,zeroRight:zm};var KG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=KG();return e&&t.setAttribute("nonce",e),t}function YG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function XG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var JG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=QG())&&(YG(e,n),XG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ZG=function(){var t=JG();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},o2=function(){var t=ZG(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},eK={left:0,top:0,right:0,gap:0},t_=function(t){return parseInt(t||"",10)||0},tK=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[t_(n),t_(r),t_(s)]},nK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return eK;var e=tK(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},rK=o2(),ru="data-scroll-locked",sK=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(jG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(ru,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zm,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Wm,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(zm," .").concat(zm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Wm," .").concat(Wm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ru,`] {
    `).concat(UG,": ").concat(c,`px;
  }
`)},JA=function(){var t=parseInt(document.body.getAttribute(ru)||"0",10);return isFinite(t)?t:0},iK=function(){T.useEffect(function(){return document.body.setAttribute(ru,(JA()+1).toString()),function(){var t=JA()-1;t<=0?document.body.removeAttribute(ru):document.body.setAttribute(ru,t.toString())}},[])},oK=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;iK();var i=T.useMemo(function(){return nK(s)},[s]);return T.createElement(rK,{styles:sK(i,!e,s,n?"":"!important")})},A0=!1;if(typeof window<"u")try{var ym=Object.defineProperty({},"passive",{get:function(){return A0=!0,!0}});window.addEventListener("test",ym,ym),window.removeEventListener("test",ym,ym)}catch{A0=!1}var Lc=A0?{passive:!1}:!1,aK=function(t){return t.tagName==="TEXTAREA"},a2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!aK(t)&&n[e]==="visible")},lK=function(t){return a2(t,"overflowY")},cK=function(t){return a2(t,"overflowX")},ZA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=l2(t,r);if(s){var i=c2(t,r),a=i[1],c=i[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},uK=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},dK=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},l2=function(t,e){return t==="v"?lK(e):cK(e)},c2=function(t,e){return t==="v"?uK(e):dK(e)},hK=function(t,e){return t==="h"&&e==="rtl"?-1:1},fK=function(t,e,n,r,s){var i=hK(t,window.getComputedStyle(e).direction),a=i*r,c=n.target,u=e.contains(c),h=!1,p=a>0,g=0,y=0;do{if(!c)break;var E=c2(t,c),A=E[0],b=E[1],S=E[2],R=b-S-i*A;(A||R)&&l2(t,c)&&(g+=R,y+=A);var V=c.parentNode;c=V&&V.nodeType===Node.DOCUMENT_FRAGMENT_NODE?V.host:V}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(p&&Math.abs(g)<1||!p&&Math.abs(y)<1)&&(h=!0),h},vm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},eP=function(t){return[t.deltaX,t.deltaY]},tP=function(t){return t&&"current"in t?t.current:t},pK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},mK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},gK=0,Fc=[];function yK(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),s=T.useState(gK++)[0],i=T.useState(o2)[0],a=T.useRef(t);T.useEffect(function(){a.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var b=FG([t.lockRef.current],(t.shards||[]).map(tP),!0).filter(Boolean);return b.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=T.useCallback(function(b,S){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!a.current.allowPinchZoom;var R=vm(b),V=n.current,N="deltaX"in b?b.deltaX:V[0]-R[0],F="deltaY"in b?b.deltaY:V[1]-R[1],B,K=b.target,k=Math.abs(N)>Math.abs(F)?"h":"v";if("touches"in b&&k==="h"&&K.type==="range")return!1;var P=ZA(k,K);if(!P)return!0;if(P?B=k:(B=k==="v"?"h":"v",P=ZA(k,K)),!P)return!1;if(!r.current&&"changedTouches"in b&&(N||F)&&(r.current=B),!B)return!0;var D=r.current||B;return fK(D,S,b,D==="h"?N:F)},[]),u=T.useCallback(function(b){var S=b;if(!(!Fc.length||Fc[Fc.length-1]!==i)){var R="deltaY"in S?eP(S):vm(S),V=e.current.filter(function(B){return B.name===S.type&&(B.target===S.target||S.target===B.shadowParent)&&pK(B.delta,R)})[0];if(V&&V.should){S.cancelable&&S.preventDefault();return}if(!V){var N=(a.current.shards||[]).map(tP).filter(Boolean).filter(function(B){return B.contains(S.target)}),F=N.length>0?c(S,N[0]):!a.current.noIsolation;F&&S.cancelable&&S.preventDefault()}}},[]),h=T.useCallback(function(b,S,R,V){var N={name:b,delta:S,target:R,should:V,shadowParent:vK(R)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(F){return F!==N})},1)},[]),p=T.useCallback(function(b){n.current=vm(b),r.current=void 0},[]),g=T.useCallback(function(b){h(b.type,eP(b),b.target,c(b,t.lockRef.current))},[]),y=T.useCallback(function(b){h(b.type,vm(b),b.target,c(b,t.lockRef.current))},[]);T.useEffect(function(){return Fc.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",u,Lc),document.addEventListener("touchmove",u,Lc),document.addEventListener("touchstart",p,Lc),function(){Fc=Fc.filter(function(b){return b!==i}),document.removeEventListener("wheel",u,Lc),document.removeEventListener("touchmove",u,Lc),document.removeEventListener("touchstart",p,Lc)}},[]);var E=t.removeScrollBar,A=t.inert;return T.createElement(T.Fragment,null,A?T.createElement(i,{styles:mK(s)}):null,E?T.createElement(oK,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function vK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const wK=GG(i2,yK);var u2=T.forwardRef(function(t,e){return T.createElement(Ly,Rs({},t,{ref:e,sideCar:wK}))});u2.classNames=Ly.classNames;var P0=["Enter"," "],_K=["ArrowDown","PageUp","Home"],d2=["ArrowUp","PageDown","End"],EK=[..._K,...d2],xK={ltr:[...P0,"ArrowRight"],rtl:[...P0,"ArrowLeft"]},TK={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Rf="Menu",[qh,IK,bK]=_M(Rf),[Bl,h2]=Sf(Rf,[bK,UM,XM]),Fy=UM(),f2=XM(),[SK,$l]=Bl(Rf),[AK,kf]=Bl(Rf),p2=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,c=Fy(e),[u,h]=T.useState(null),p=T.useRef(!1),g=Mi(i),y=EM(s);return T.useEffect(()=>{const E=()=>{p.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>p.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),x.jsx(lG,{...c,children:x.jsx(SK,{scope:e,open:n,onOpenChange:g,content:u,onContentChange:h,children:x.jsx(AK,{scope:e,onClose:T.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:y,modal:a,children:r})})})};p2.displayName=Rf;var PK="MenuAnchor",Ux=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Fy(n);return x.jsx(cG,{...s,...r,ref:e})});Ux.displayName=PK;var Bx="MenuPortal",[CK,m2]=Bl(Bx,{forceMount:void 0}),g2=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=$l(Bx,e);return x.jsx(CK,{scope:e,forceMount:n,children:x.jsx(Pf,{present:n||i.open,children:x.jsx(QM,{asChild:!0,container:s,children:r})})})};g2.displayName=Bx;var Mr="MenuContent",[RK,$x]=Bl(Mr),y2=T.forwardRef((t,e)=>{const n=m2(Mr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=$l(Mr,t.__scopeMenu),a=kf(Mr,t.__scopeMenu);return x.jsx(qh.Provider,{scope:t.__scopeMenu,children:x.jsx(Pf,{present:r||i.open,children:x.jsx(qh.Slot,{scope:t.__scopeMenu,children:a.modal?x.jsx(kK,{...s,ref:e}):x.jsx(DK,{...s,ref:e})})})})}),kK=T.forwardRef((t,e)=>{const n=$l(Mr,t.__scopeMenu),r=T.useRef(null),s=Zn(e,r);return T.useEffect(()=>{const i=r.current;if(i)return LG(i)},[]),x.jsx(zx,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),DK=T.forwardRef((t,e)=>{const n=$l(Mr,t.__scopeMenu);return x.jsx(zx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),NK=PG("MenuContent.ScrollLock"),zx=T.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:y,onDismiss:E,disableOutsideScroll:A,...b}=t,S=$l(Mr,n),R=kf(Mr,n),V=Fy(n),N=f2(n),F=IK(n),[B,K]=T.useState(null),k=T.useRef(null),P=Zn(e,k,S.onContentChange),D=T.useRef(0),O=T.useRef(""),j=T.useRef(0),z=T.useRef(null),L=T.useRef("right"),xe=T.useRef(0),Le=A?u2:T.Fragment,Pe=A?{as:NK,allowPinchZoom:!0}:void 0,fe=ne=>{var Se,ze;const ie=O.current+ne,q=F().filter(je=>!je.disabled),re=document.activeElement,ye=(Se=q.find(je=>je.ref.current===re))==null?void 0:Se.textValue,Te=q.map(je=>je.textValue),Fe=qK(Te,ie,ye),Oe=(ze=q.find(je=>je.textValue===Fe))==null?void 0:ze.ref.current;(function je(ht){O.current=ht,window.clearTimeout(D.current),ht!==""&&(D.current=window.setTimeout(()=>je(""),1e3))})(ie),Oe&&setTimeout(()=>Oe.focus())};T.useEffect(()=>()=>window.clearTimeout(D.current),[]),Nq();const G=T.useCallback(ne=>{var q,re;return L.current===((q=z.current)==null?void 0:q.side)&&GK(ne,(re=z.current)==null?void 0:re.area)},[]);return x.jsx(RK,{scope:n,searchRef:O,onItemEnter:T.useCallback(ne=>{G(ne)&&ne.preventDefault()},[G]),onItemLeave:T.useCallback(ne=>{var ie;G(ne)||((ie=k.current)==null||ie.focus(),K(null))},[G]),onTriggerLeave:T.useCallback(ne=>{G(ne)&&ne.preventDefault()},[G]),pointerGraceTimerRef:j,onPointerGraceIntentChange:T.useCallback(ne=>{z.current=ne},[]),children:x.jsx(Le,{...Pe,children:x.jsx(bM,{asChild:!0,trapped:s,onMountAutoFocus:et(i,ne=>{var ie;ne.preventDefault(),(ie=k.current)==null||ie.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:x.jsx(TM,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:y,onDismiss:E,children:x.jsx(SG,{asChild:!0,...N,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:B,onCurrentTabStopIdChange:K,onEntryFocus:et(u,ne=>{R.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(uG,{role:"menu","aria-orientation":"vertical","data-state":N2(S.open),"data-radix-menu-content":"",dir:R.dir,...V,...b,ref:P,style:{outline:"none",...b.style},onKeyDown:et(b.onKeyDown,ne=>{const q=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,re=ne.ctrlKey||ne.altKey||ne.metaKey,ye=ne.key.length===1;q&&(ne.key==="Tab"&&ne.preventDefault(),!re&&ye&&fe(ne.key));const Te=k.current;if(ne.target!==Te||!EK.includes(ne.key))return;ne.preventDefault();const Oe=F().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);d2.includes(ne.key)&&Oe.reverse(),zK(Oe)}),onBlur:et(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(D.current),O.current="")}),onPointerMove:et(t.onPointerMove,Hh(ne=>{const ie=ne.target,q=xe.current!==ne.clientX;if(ne.currentTarget.contains(ie)&&q){const re=ne.clientX>xe.current?"right":"left";L.current=re,xe.current=ne.clientX}}))})})})})})})});y2.displayName=Mr;var MK="MenuGroup",Wx=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(jn.div,{role:"group",...r,ref:e})});Wx.displayName=MK;var OK="MenuLabel",v2=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(jn.div,{...r,ref:e})});v2.displayName=OK;var Vg="MenuItem",nP="menu.itemSelect",jy=T.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=T.useRef(null),a=kf(Vg,t.__scopeMenu),c=$x(Vg,t.__scopeMenu),u=Zn(e,i),h=T.useRef(!1),p=()=>{const g=i.current;if(!n&&g){const y=new CustomEvent(nP,{bubbles:!0,cancelable:!0});g.addEventListener(nP,E=>r==null?void 0:r(E),{once:!0}),wM(g,y),y.defaultPrevented?h.current=!1:a.onClose()}};return x.jsx(w2,{...s,ref:u,disabled:n,onClick:et(t.onClick,p),onPointerDown:g=>{var y;(y=t.onPointerDown)==null||y.call(t,g),h.current=!0},onPointerUp:et(t.onPointerUp,g=>{var y;h.current||(y=g.currentTarget)==null||y.click()}),onKeyDown:et(t.onKeyDown,g=>{const y=c.searchRef.current!=="";n||y&&g.key===" "||P0.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});jy.displayName=Vg;var w2=T.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=$x(Vg,n),c=f2(n),u=T.useRef(null),h=Zn(e,u),[p,g]=T.useState(!1),[y,E]=T.useState("");return T.useEffect(()=>{const A=u.current;A&&E((A.textContent??"").trim())},[i.children]),x.jsx(qh.ItemSlot,{scope:n,disabled:r,textValue:s??y,children:x.jsx(AG,{asChild:!0,...c,focusable:!r,children:x.jsx(jn.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:h,onPointerMove:et(t.onPointerMove,Hh(A=>{r?a.onItemLeave(A):(a.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(t.onPointerLeave,Hh(A=>a.onItemLeave(A))),onFocus:et(t.onFocus,()=>g(!0)),onBlur:et(t.onBlur,()=>g(!1))})})})}),VK="MenuCheckboxItem",_2=T.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return x.jsx(b2,{scope:t.__scopeMenu,checked:n,children:x.jsx(jy,{role:"menuitemcheckbox","aria-checked":Lg(n)?"mixed":n,...s,ref:e,"data-state":Hx(n),onSelect:et(s.onSelect,()=>r==null?void 0:r(Lg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});_2.displayName=VK;var E2="MenuRadioGroup",[LK,FK]=Bl(E2,{value:void 0,onValueChange:()=>{}}),x2=T.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Mi(r);return x.jsx(LK,{scope:t.__scopeMenu,value:n,onValueChange:i,children:x.jsx(Wx,{...s,ref:e})})});x2.displayName=E2;var T2="MenuRadioItem",I2=T.forwardRef((t,e)=>{const{value:n,...r}=t,s=FK(T2,t.__scopeMenu),i=n===s.value;return x.jsx(b2,{scope:t.__scopeMenu,checked:i,children:x.jsx(jy,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Hx(i),onSelect:et(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});I2.displayName=T2;var qx="MenuItemIndicator",[b2,jK]=Bl(qx,{checked:!1}),S2=T.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=jK(qx,n);return x.jsx(Pf,{present:r||Lg(i.checked)||i.checked===!0,children:x.jsx(jn.span,{...s,ref:e,"data-state":Hx(i.checked)})})});S2.displayName=qx;var UK="MenuSeparator",A2=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(jn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});A2.displayName=UK;var BK="MenuArrow",P2=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Fy(n);return x.jsx(dG,{...s,...r,ref:e})});P2.displayName=BK;var $K="MenuSub",[fne,C2]=Bl($K),ih="MenuSubTrigger",R2=T.forwardRef((t,e)=>{const n=$l(ih,t.__scopeMenu),r=kf(ih,t.__scopeMenu),s=C2(ih,t.__scopeMenu),i=$x(ih,t.__scopeMenu),a=T.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=i,h={__scopeMenu:t.__scopeMenu},p=T.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return T.useEffect(()=>p,[p]),T.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),u(null)}},[c,u]),x.jsx(Ux,{asChild:!0,...h,children:x.jsx(w2,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":N2(n.open),...t,ref:Ul(e,s.onTriggerChange),onClick:g=>{var y;(y=t.onClick)==null||y.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(t.onPointerMove,Hh(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:et(t.onPointerLeave,Hh(g=>{var E,A;p();const y=(E=n.content)==null?void 0:E.getBoundingClientRect();if(y){const b=(A=n.content)==null?void 0:A.dataset.side,S=b==="right",R=S?-5:5,V=y[S?"left":"right"],N=y[S?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+R,y:g.clientY},{x:V,y:y.top},{x:N,y:y.top},{x:N,y:y.bottom},{x:V,y:y.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(t.onKeyDown,g=>{var E;const y=i.searchRef.current!=="";t.disabled||y&&g.key===" "||xK[r.dir].includes(g.key)&&(n.onOpenChange(!0),(E=n.content)==null||E.focus(),g.preventDefault())})})})});R2.displayName=ih;var k2="MenuSubContent",D2=T.forwardRef((t,e)=>{const n=m2(Mr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=$l(Mr,t.__scopeMenu),a=kf(Mr,t.__scopeMenu),c=C2(k2,t.__scopeMenu),u=T.useRef(null),h=Zn(e,u);return x.jsx(qh.Provider,{scope:t.__scopeMenu,children:x.jsx(Pf,{present:r||i.open,children:x.jsx(qh.Slot,{scope:t.__scopeMenu,children:x.jsx(zx,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:h,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;a.isUsingKeyboardRef.current&&((g=u.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:et(t.onFocusOutside,p=>{p.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(t.onEscapeKeyDown,p=>{a.onClose(),p.preventDefault()}),onKeyDown:et(t.onKeyDown,p=>{var E;const g=p.currentTarget.contains(p.target),y=TK[a.dir].includes(p.key);g&&y&&(i.onOpenChange(!1),(E=c.trigger)==null||E.focus(),p.preventDefault())})})})})})});D2.displayName=k2;function N2(t){return t?"open":"closed"}function Lg(t){return t==="indeterminate"}function Hx(t){return Lg(t)?"indeterminate":t?"checked":"unchecked"}function zK(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function WK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function qK(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=WK(t,Math.max(i,0));s.length===1&&(a=a.filter(h=>h!==n));const u=a.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function HK(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const c=e[i],u=e[a],h=c.x,p=c.y,g=u.x,y=u.y;p>r!=y>r&&n<(g-h)*(r-p)/(y-p)+h&&(s=!s)}return s}function GK(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return HK(n,e)}function Hh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var KK=p2,QK=Ux,YK=g2,XK=y2,JK=Wx,ZK=v2,eQ=jy,tQ=_2,nQ=x2,rQ=I2,sQ=S2,iQ=A2,oQ=P2,aQ=R2,lQ=D2,Uy="DropdownMenu",[cQ]=Sf(Uy,[h2]),Un=h2(),[uQ,M2]=cQ(Uy),O2=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:c=!0}=t,u=Un(e),h=T.useRef(null),[p,g]=vM({prop:s,defaultProp:i??!1,onChange:a,caller:Uy});return x.jsx(uQ,{scope:e,triggerId:x0(),triggerRef:h,contentId:x0(),open:p,onOpenChange:g,onOpenToggle:T.useCallback(()=>g(y=>!y),[g]),modal:c,children:x.jsx(KK,{...u,open:p,onOpenChange:g,dir:r,modal:c,children:n})})};O2.displayName=Uy;var V2="DropdownMenuTrigger",L2=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=M2(V2,n),a=Un(n);return x.jsx(QK,{asChild:!0,...a,children:x.jsx(jn.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Ul(e,i.triggerRef),onPointerDown:et(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:et(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});L2.displayName=V2;var dQ="DropdownMenuPortal",F2=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Un(e);return x.jsx(YK,{...r,...n})};F2.displayName=dQ;var j2="DropdownMenuContent",U2=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=M2(j2,n),i=Un(n),a=T.useRef(!1);return x.jsx(XK,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:et(t.onCloseAutoFocus,c=>{var u;a.current||(u=s.triggerRef.current)==null||u.focus(),a.current=!1,c.preventDefault()}),onInteractOutside:et(t.onInteractOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,p=u.button===2||h;(!s.modal||p)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});U2.displayName=j2;var hQ="DropdownMenuGroup",fQ=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(JK,{...s,...r,ref:e})});fQ.displayName=hQ;var pQ="DropdownMenuLabel",B2=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(ZK,{...s,...r,ref:e})});B2.displayName=pQ;var mQ="DropdownMenuItem",$2=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(eQ,{...s,...r,ref:e})});$2.displayName=mQ;var gQ="DropdownMenuCheckboxItem",z2=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(tQ,{...s,...r,ref:e})});z2.displayName=gQ;var yQ="DropdownMenuRadioGroup",vQ=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(nQ,{...s,...r,ref:e})});vQ.displayName=yQ;var wQ="DropdownMenuRadioItem",W2=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(rQ,{...s,...r,ref:e})});W2.displayName=wQ;var _Q="DropdownMenuItemIndicator",q2=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(sQ,{...s,...r,ref:e})});q2.displayName=_Q;var EQ="DropdownMenuSeparator",H2=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(iQ,{...s,...r,ref:e})});H2.displayName=EQ;var xQ="DropdownMenuArrow",TQ=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(oQ,{...s,...r,ref:e})});TQ.displayName=xQ;var IQ="DropdownMenuSubTrigger",G2=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(aQ,{...s,...r,ref:e})});G2.displayName=IQ;var bQ="DropdownMenuSubContent",K2=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(lQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});K2.displayName=bQ;var SQ=O2,AQ=L2,PQ=F2,Q2=U2,Y2=B2,X2=$2,J2=z2,Z2=W2,eO=q2,tO=H2,nO=G2,rO=K2;const CQ=SQ,RQ=AQ,kQ=T.forwardRef(({className:t,inset:e,children:n,...r},s)=>x.jsxs(nO,{ref:s,className:wt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,x.jsx(w7,{className:"ml-auto"})]}));kQ.displayName=nO.displayName;const DQ=T.forwardRef(({className:t,...e},n)=>x.jsx(rO,{ref:n,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));DQ.displayName=rO.displayName;const sO=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(PQ,{children:x.jsx(Q2,{ref:r,sideOffset:e,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));sO.displayName=Q2.displayName;const qa=T.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(X2,{ref:r,className:wt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));qa.displayName=X2.displayName;const NQ=T.forwardRef(({className:t,children:e,checked:n,...r},s)=>x.jsxs(J2,{ref:s,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(eO,{children:x.jsx(y7,{className:"h-4 w-4"})})}),e]}));NQ.displayName=J2.displayName;const MQ=T.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(Z2,{ref:r,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(eO,{children:x.jsx(b7,{className:"h-2 w-2 fill-current"})})}),e]}));MQ.displayName=Z2.displayName;const OQ=T.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(Y2,{ref:r,className:wt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));OQ.displayName=Y2.displayName;const iO=T.forwardRef(({className:t,...e},n)=>x.jsx(tO,{ref:n,className:wt("-mx-1 my-1 h-px bg-muted",t),...e}));iO.displayName=tO.displayName;function as(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Nl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const oO=6048e5,VQ=864e5;let LQ={};function By(){return LQ}function Gh(t,e){var c,u,h,p;const n=By(),r=(e==null?void 0:e.weekStartsOn)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,s=as(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Fg(t){return Gh(t,{weekStartsOn:1})}function aO(t){const e=as(t),n=e.getFullYear(),r=Nl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Fg(r),i=Nl(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Fg(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function C0(t){const e=as(t);return e.setHours(0,0,0,0),e}function rP(t){const e=as(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function FQ(t,e){const n=C0(t),r=C0(e),s=+n-rP(n),i=+r-rP(r);return Math.round((s-i)/VQ)}function jQ(t){const e=aO(t),n=Nl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Fg(n)}function UQ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function BQ(t){if(!UQ(t)&&typeof t!="number")return!1;const e=as(t);return!isNaN(Number(e))}function $Q(t){const e=as(t),n=Nl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const zQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WQ=(t,e,n)=>{let r;const s=zQ[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function n_(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const qQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},HQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},GQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KQ={date:n_({formats:qQ,defaultWidth:"full"}),time:n_({formats:HQ,defaultWidth:"full"}),dateTime:n_({formats:GQ,defaultWidth:"full"})},QQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},YQ=(t,e,n,r)=>QQ[t];function Kd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):a;s=t.formattingValues[c]||t.formattingValues[a]}else{const a=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const XQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ZQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rY=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},sY={ordinalNumber:rY,era:Kd({values:XQ,defaultWidth:"wide"}),quarter:Kd({values:JQ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Kd({values:ZQ,defaultWidth:"wide"}),day:Kd({values:eY,defaultWidth:"wide"}),dayPeriod:Kd({values:tY,defaultWidth:"wide",formattingValues:nY,defaultFormattingWidth:"wide"})};function Qd(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?oY(c,g=>g.test(a)):iY(c,g=>g.test(a));let h;h=t.valueCallback?t.valueCallback(u):u,h=n.valueCallback?n.valueCallback(h):h;const p=e.slice(a.length);return{value:h,rest:p}}}function iY(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function oY(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function aY(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const c=e.slice(s.length);return{value:a,rest:c}}}const lY=/^(\d+)(th|st|nd|rd)?/i,cY=/\d+/i,uY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dY={any:[/^b/i,/^(a|c)/i]},hY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fY={any:[/1/i,/2/i,/3/i,/4/i]},pY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_Y={ordinalNumber:aY({matchPattern:lY,parsePattern:cY,valueCallback:t=>parseInt(t,10)}),era:Qd({matchPatterns:uY,defaultMatchWidth:"wide",parsePatterns:dY,defaultParseWidth:"any"}),quarter:Qd({matchPatterns:hY,defaultMatchWidth:"wide",parsePatterns:fY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qd({matchPatterns:pY,defaultMatchWidth:"wide",parsePatterns:mY,defaultParseWidth:"any"}),day:Qd({matchPatterns:gY,defaultMatchWidth:"wide",parsePatterns:yY,defaultParseWidth:"any"}),dayPeriod:Qd({matchPatterns:vY,defaultMatchWidth:"any",parsePatterns:wY,defaultParseWidth:"any"})},EY={code:"en-US",formatDistance:WQ,formatLong:KQ,formatRelative:YQ,localize:sY,match:_Y,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xY(t){const e=as(t);return FQ(e,$Q(e))+1}function TY(t){const e=as(t),n=+Fg(e)-+jQ(e);return Math.round(n/oO)+1}function lO(t,e){var p,g,y,E;const n=as(t),r=n.getFullYear(),s=By(),i=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((E=(y=s.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,a=Nl(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const c=Gh(a,e),u=Nl(t,0);u.setFullYear(r,0,i),u.setHours(0,0,0,0);const h=Gh(u,e);return n.getTime()>=c.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function IY(t,e){var c,u,h,p;const n=By(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=lO(t,e),i=Nl(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Gh(i,e)}function bY(t,e){const n=as(t),r=+Gh(n,e)-+IY(n,e);return Math.round(r/oO)+1}function at(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ao={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return at(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):at(n+1,2)},d(t,e){return at(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return at(t.getHours()%12||12,e.length)},H(t,e){return at(t.getHours(),e.length)},m(t,e){return at(t.getMinutes(),e.length)},s(t,e){return at(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return at(s,e.length)}},jc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},sP={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ao.y(t,e)},Y:function(t,e,n,r){const s=lO(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return at(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):at(i,e.length)},R:function(t,e){const n=aO(t);return at(n,e.length)},u:function(t,e){const n=t.getFullYear();return at(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return at(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return at(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ao.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return at(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=bY(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):at(s,e.length)},I:function(t,e,n){const r=TY(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):at(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ao.d(t,e)},D:function(t,e,n){const r=xY(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):at(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return at(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return at(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return at(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=jc.noon:r===0?s=jc.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=jc.evening:r>=12?s=jc.afternoon:r>=4?s=jc.morning:s=jc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ao.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ao.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):at(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):at(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ao.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ao.s(t,e)},S:function(t,e){return Ao.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return oP(r);case"XXXX":case"XX":return Ha(r);case"XXXXX":case"XXX":default:return Ha(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return oP(r);case"xxxx":case"xx":return Ha(r);case"xxxxx":case"xxx":default:return Ha(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+iP(r,":");case"OOOO":default:return"GMT"+Ha(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+iP(r,":");case"zzzz":default:return"GMT"+Ha(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return at(r,e.length)},T:function(t,e,n){const r=t.getTime();return at(r,e.length)}};function iP(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+at(i,2)}function oP(t,e){return t%60===0?(t>0?"-":"+")+at(Math.abs(t)/60,2):Ha(t,e)}function Ha(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=at(Math.trunc(r/60),2),i=at(r%60,2);return n+s+e+i}const aP=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},cO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},SY=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return aP(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",aP(r,e)).replace("{{time}}",cO(s,e))},AY={p:cO,P:SY},PY=/^D+$/,CY=/^Y+$/,RY=["D","DD","YY","YYYY"];function kY(t){return PY.test(t)}function DY(t){return CY.test(t)}function NY(t,e,n){const r=MY(t,e,n);if(console.warn(r),RY.includes(t))throw new RangeError(r)}function MY(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const OY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LY=/^'([^]*?)'?$/,FY=/''/g,jY=/[a-zA-Z]/;function UY(t,e,n){var p,g,y,E;const r=By(),s=r.locale??EY,i=r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,a=r.weekStartsOn??((E=(y=r.locale)==null?void 0:y.options)==null?void 0:E.weekStartsOn)??0,c=as(t);if(!BQ(c))throw new RangeError("Invalid time value");let u=e.match(VY).map(A=>{const b=A[0];if(b==="p"||b==="P"){const S=AY[b];return S(A,s.formatLong)}return A}).join("").match(OY).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const b=A[0];if(b==="'")return{isToken:!1,value:BY(A)};if(sP[b])return{isToken:!0,value:A};if(b.match(jY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:A}});s.localize.preprocessor&&(u=s.localize.preprocessor(c,u));const h={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return u.map(A=>{if(!A.isToken)return A.value;const b=A.value;(DY(b)||kY(b))&&NY(b,e,String(t));const S=sP[b[0]];return S(c,b,s.localize,h)}).join("")}function BY(t){const e=t.match(LY);return e?e[1].replace(FY,"'"):t}class R0 extends pn.Component{constructor(n){super(n);pw(this,"hardReload",()=>{window.location.reload(!0)});pw(this,"clearCachesAndReload",async()=>{try{if("caches"in window){const n=await caches.keys();await Promise.all(n.map(r=>caches.delete(r)))}if("serviceWorker"in navigator){const n=await navigator.serviceWorker.getRegistrations();await Promise.all(n.map(r=>r.unregister()))}}catch(n){console.warn("Failed to clear caches or unregister SW",n)}finally{window.location.reload()}});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ChunkErrorBoundary caught an error:",n,r)}render(){var n,r,s,i;if(this.state.hasError){const a=((n=this.state.error)==null?void 0:n.message)||"";return((r=this.state.error)==null?void 0:r.name)==="ChunkLoadError"||((s=this.state.error)==null?void 0:s.name)==="CSSChunkLoadError"||/Loading chunk|Failed to fetch dynamically imported module|Importing a module script failed/i.test(a)?x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Update available"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"The app was updated. Please refresh to load the latest version."}),x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx("button",{onClick:this.hardReload,className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"}),x.jsx("button",{onClick:this.clearCachesAndReload,className:"px-4 py-2 rounded-lg bg-gray-200",children:"Reset cache & reload"})]}),x.jsxs("details",{className:"mt-4 text-left text-xs text-gray-500",children:[x.jsx("summary",{children:"Details"}),x.jsx("pre",{className:"whitespace-pre-wrap break-words",children:((i=this.state.error)==null?void 0:i.stack)||a})]})]})}):x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"Try refreshing the page."}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"})]})})}return this.props.children}}const $Y=pn.lazy(()=>$t(()=>import("./AvatarDisplay-Bq8KvINC.js"),[]));pn.lazy(()=>$t(()=>import("./PetDisplay-CWJwigaH.js"),__vite__mapDeps([0,1])));const zY=pn.lazy(()=>$t(()=>import("./InstallPrompt-DgpoMmSN.js"),__vite__mapDeps([2,3])));function WY({children:t,currentPageName:e}){const n=Wi(),[r,s]=T.useState(!1),{user:i,loading:a}=kx(),[c,u]=T.useState(()=>localStorage.getItem("app.theme")==="dark");T.useEffect(()=>{const R=()=>{u(localStorage.getItem("app.theme")==="dark")};R(),window.addEventListener("storage",R);const V=setInterval(R,500);return()=>{window.removeEventListener("storage",R),clearInterval(V)}},[]),T.useEffect(()=>{const R=document.createElement("link");R.rel="manifest",R.href="/manifest.json",document.head.appendChild(R);const V=document.createElement("meta");V.name="theme-color",V.content=c?"#1e293b":"#9333ea",document.head.appendChild(V);const N=document.createElement("meta");N.name="apple-mobile-web-app-capable",N.content="yes",document.head.appendChild(N);const F=document.createElement("meta");F.name="apple-mobile-web-app-status-bar-style",F.content="black-translucent",document.head.appendChild(F);let B=document.querySelector('link[rel="apple-touch-icon"]'),K=!1;return B||(B=document.createElement("link"),B.rel="apple-touch-icon",B.href="/icons/apple-touch-icon.png",document.head.appendChild(B),K=!0),()=>{K&&B&&B.parentNode&&B.remove()}},[c]);const[h,p]=T.useState(0);T.useEffect(()=>{i!=null&&i.email&&p(0)},[i==null?void 0:i.email]);const g=UY(C0(new Date),"yyyy-MM-dd"),{data:y=[]}=i7({queryKey:["dailyChallenges",g],initialData:[],enabled:!!i});if(e==="Landing")return x.jsx(x.Fragment,{children:t});if(e==="Home"&&!i)return x.jsx(x.Fragment,{children:t});if(!i)return a?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center max-w-md w-full",children:[x.jsx(Wb,{size:"xl",variant:"circle",className:"mx-auto mb-6"}),x.jsx("h1",{className:"text-4xl font-extrabold text-white mb-3 drop-shadow-2xl",children:"Math Adventure"}),x.jsx("p",{className:"text-lg text-white mb-6 drop-shadow-lg",children:"Sign in or create an account to start."}),x.jsx(fM,{})]})});const E=y.some(R=>R.created_by===(i==null?void 0:i.email)),A=i?{avatar_skin_tone:i.avatar_skin_tone||"medium",avatar_hair_style:i.avatar_hair_style||"short",avatar_hair_color:i.avatar_hair_color||"brown",avatar_eyes:i.avatar_eyes||"normal",avatar_outfit:i.avatar_outfit||"casual",avatar_accessory:i.avatar_accessory||"none"}:null;i==null||i.active_pet,i!=null&&i.subscription_tier;const b=async()=>{const R=Xg(ss);await p5(R),localStorage.clear(),window.location.href="/"},S=({to:R,label:V,icon:N})=>{const F=n.pathname===vt(R);return x.jsxs(rn,{to:vt(R),onClick:()=>s(!1),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all font-medium ${F?"bg-purple-500 text-white shadow-lg":c?"text-gray-300 hover:bg-slate-700":"text-gray-600 hover:bg-purple-50"}`,children:[N&&x.jsx(N,{className:"w-5 h-5"}),V]})};return x.jsxs("div",{className:`min-h-screen ${c?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50"}`,children:[x.jsx(aq,{}),x.jsx("style",{children:`
        :root {
          --primary: 168 85% 55%;
          --secondary: 280 65% 60%;
          --accent: 45 95% 55%;
          --success: 142 76% 45%;
        }

        @media all and (display-mode: standalone) {
          body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
          }
        }

        ${c?`
          * {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
          }

          *::-webkit-scrollbar {
            width: 8px;
          }

          *::-webkit-scrollbar-track {
            background: #1e293b;
          }

          *::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
          }

          *::-webkit-scrollbar-thumb:hover {
            background: #64748b;
          }
        `:""}
      `}),x.jsx("header",{className:`${c?"bg-slate-800/90":"bg-white/80"} backdrop-blur-md shadow-sm sticky top-0 z-50`,children:x.jsxs("div",{className:"max-w-7xl mx-auto px-2 md:px-4 py-2 md:py-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs(rn,{to:vt("Home"),className:"flex items-center gap-3",children:[x.jsx(Wb,{size:"md",variant:"circle"}),x.jsx("div",{children:x.jsx("h1",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${c&&"from-purple-400 to-pink-400"}`,children:"Math Adventure"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[i&&x.jsxs(x.Fragment,{children:[x.jsx(rn,{to:vt("Home"),className:"hidden md:inline-block",children:x.jsxs(ts,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold shadow-lg",children:[x.jsx(XN,{className:"w-4 h-4 mr-2"}),"Play Now"]})}),x.jsxs(CQ,{children:[x.jsx(RQ,{asChild:!0,children:x.jsxs(ts,{variant:"ghost",className:"flex items-center gap-2 px-3",children:[x.jsx(zw,{className:"w-5 h-5"}),x.jsx("span",{className:"hidden md:inline-block font-medium",children:i.displayName||i.email||"Account"})]})}),x.jsxs(sO,{align:"end",children:[x.jsx(qa,{asChild:!0,children:x.jsx(rn,{to:vt("Avatar"),children:"Profile"})}),x.jsx(qa,{asChild:!0,children:x.jsx(rn,{to:vt("Settings"),children:"Settings"})}),x.jsx(qa,{asChild:!0,children:x.jsx(rn,{to:vt("Subscription"),children:"Subscription"})}),x.jsx(qa,{asChild:!0,children:x.jsx(rn,{to:vt("PrivacyPolicy"),children:"Privacy Policy"})}),(i==null?void 0:i.is_admin)&&x.jsx(qa,{asChild:!0,children:x.jsx(rn,{to:vt("AdminTestAccount"),children:"Admin"})}),x.jsx(iO,{}),x.jsx(qa,{onClick:b,className:"text-red-600",children:"Logout"})]})]})]}),x.jsx(ts,{variant:"ghost",size:"icon",onClick:()=>s(!r),className:`ml-2 ${c?"text-gray-50 hover:bg-slate-700":""}`,"aria-label":"Open navigation menu",children:r?x.jsx(Px,{className:"w-6 h-6"}):x.jsx(j7,{className:"w-6 h-6"})})]})]}),r&&x.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex justify-end",children:x.jsx("div",{className:`w-full max-w-xs h-full bg-white dark:bg-slate-800 shadow-xl p-6 overflow-y-auto ${c?"border-l border-slate-700":""}`,children:i&&x.jsxs("div",{className:`${c?"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-50":"bg-gradient-to-r from-purple-50 to-pink-50"} p-4 rounded-xl mb-4`,children:[x.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[x.jsxs(rn,{to:vt("Home"),children:[" "," "]}),x.jsxs(ts,{children:[" "," "]})]}),x.jsxs("div",{children:[x.jsx(S,{to:"Avatar",label:"Profile",icon:zw}),x.jsx(S,{to:"Settings",label:"Settings",icon:q7}),x.jsx(S,{to:"Subscription",label:"Subscription",icon:Um}),x.jsx(S,{to:"PrivacyPolicy",label:"Privacy Policy",icon:T7}),(i==null?void 0:i.is_admin)&&x.jsx(S,{to:"AdminTestAccount",label:"Admin",icon:m7}),x.jsxs("button",{onClick:()=>{s(!1),b()},className:`w-full flex items-center gap-2 px-4 py-3 rounded-xl mt-4 ${c?"bg-red-900/20 text-red-400 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[x.jsx(L7,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})})})]})}),x.jsx("div",{className:`lg:hidden fixed bottom-0 left-0 right-0 ${c?"bg-slate-800/90 border-slate-700":"bg-white/90 border-t"} backdrop-blur-md shadow-lg z-40`,children:x.jsxs("div",{className:"grid grid-cols-6 gap-1 px-2 py-2",children:[x.jsxs(rn,{to:vt("Home"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===vt("Home")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(O7,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),x.jsxs(rn,{to:vt("DailyChallenge"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===vt("DailyChallenge")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(f7,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Daily"}),!E&&x.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),x.jsxs(rn,{to:vt("AITutor"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===vt("AITutor")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(YN,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Tutor"})]}),x.jsxs(rn,{to:vt("Shop"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===vt("Shop")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(Q7,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Shop"})]}),x.jsx(rn,{to:vt("Avatar"),className:`flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-all ${n.pathname===vt("Avatar")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:A?x.jsx("div",{className:"scale-75 origin-center",children:x.jsx($Y,{avatarData:A,size:"small"})}):x.jsx(zw,{className:"w-6 h-6"})})]})}),x.jsx(R0,{children:x.jsx(pn.Suspense,{fallback:null,children:x.jsx(zY,{})})}),x.jsx("main",{className:"flex-1 pb-20 lg:pb-0",children:x.jsx(R0,{children:x.jsx(pn.Suspense,{fallback:x.jsx("div",{className:"min-h-[40vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-3"}),x.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),children:t})})}),x.jsx("footer",{className:`${c?"bg-slate-800/60 border-slate-700":"bg-white/60 border-gray-200"} backdrop-blur-sm mt-12 py-8 border-t`,children:x.jsx("div",{className:"max-w-7xl mx-auto px-4",children:x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"text-center md:text-left",children:[x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:"Keep practicing and have fun! "}),x.jsx("p",{className:`text-xs ${c?"text-gray-400":"text-gray-500"} mt-1`,children:" 2025 Math Adventure. All rights reserved."})]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[x.jsx(rn,{to:vt("PrivacyPolicy"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Privacy Policy"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx(rn,{to:vt("Subscription"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Pricing"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx("a",{href:"mailto:support@math-adventure.com",className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Contact"})]})]})})})]})}const qY=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));qY.displayName="Card";const HY=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex flex-col space-y-1.5 p-6",t),...e}));HY.displayName="CardHeader";const GY=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("font-semibold leading-none tracking-tight",t),...e}));GY.displayName="CardTitle";const KY=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm text-muted-foreground",t),...e}));KY.displayName="CardDescription";const QY=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("p-6 pt-0",t),...e}));QY.displayName="CardContent";const YY=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex items-center p-6 pt-0",t),...e}));YY.displayName="CardFooter";const uO=T.createContext({});function XY(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const Gx=typeof window<"u",JY=Gx?T.useLayoutEffect:T.useEffect,Kx=T.createContext(null);function Qx(t,e){t.indexOf(e)===-1&&t.push(e)}function Yx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Li=(t,e,n)=>n>e?e:n<t?t:n;let Xx=()=>{};const Fi={},dO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function hO(t){return typeof t=="object"&&t!==null}const fO=t=>/^0[^.\s]+$/u.test(t);function Jx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Or=t=>t,ZY=(t,e)=>n=>e(t(n)),Df=(...t)=>t.reduce(ZY),Kh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Zx{constructor(){this.subscriptions=[]}add(e){return Qx(this.subscriptions,e),()=>Yx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Us=t=>t*1e3,Dr=t=>t/1e3;function pO(t,e){return e?t*(1e3/e):0}const mO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,eX=1e-7,tX=12;function nX(t,e,n,r,s){let i,a,c=0;do a=e+(n-e)/2,i=mO(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>eX&&++c<tX);return a}function Nf(t,e,n,r){if(t===e&&n===r)return Or;const s=i=>nX(i,0,1,t,n);return i=>i===0||i===1?i:mO(s(i),e,r)}const gO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yO=t=>e=>1-t(1-e),vO=Nf(.33,1.53,.69,.99),eT=yO(vO),wO=gO(eT),_O=t=>(t*=2)<1?.5*eT(t):.5*(2-Math.pow(2,-10*(t-1))),tT=t=>1-Math.sin(Math.acos(t)),EO=yO(tT),xO=gO(tT),rX=Nf(.42,0,1,1),sX=Nf(0,0,.58,1),TO=Nf(.42,0,.58,1),iX=t=>Array.isArray(t)&&typeof t[0]!="number",IO=t=>Array.isArray(t)&&typeof t[0]=="number",oX={linear:Or,easeIn:rX,easeInOut:TO,easeOut:sX,circIn:tT,circInOut:xO,circOut:EO,backIn:eT,backInOut:wO,backOut:vO,anticipate:_O},aX=t=>typeof t=="string",lP=t=>{if(IO(t)){Xx(t.length===4);const[e,n,r,s]=t;return Nf(e,n,r,s)}else if(aX(t))return oX[t];return t},wm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lX(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(p){a.has(p)&&(h.schedule(p),t()),p(c)}const h={schedule:(p,g=!1,y=!1)=>{const A=y&&s?n:r;return g&&a.add(p),A.has(p)||A.add(p),p},cancel:p=>{r.delete(p),a.delete(p)},process:p=>{if(c=p,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),n.clear(),s=!1,i&&(i=!1,h.process(p))}};return h}const cX=40;function bO(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=wm.reduce((N,F)=>(N[F]=lX(i),N),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:p,update:g,preRender:y,render:E,postRender:A}=a,b=()=>{const N=Fi.useManualTiming?s.timestamp:performance.now();n=!1,Fi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(N-s.timestamp,cX),1)),s.timestamp=N,s.isProcessing=!0,c.process(s),u.process(s),h.process(s),p.process(s),g.process(s),y.process(s),E.process(s),A.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(b))},S=()=>{n=!0,r=!0,s.isProcessing||t(b)};return{schedule:wm.reduce((N,F)=>{const B=a[F];return N[F]=(K,k=!1,P=!1)=>(n||S(),B.schedule(K,k,P)),N},{}),cancel:N=>{for(let F=0;F<wm.length;F++)a[wm[F]].cancel(N)},state:s,steps:a}}const{schedule:xt,cancel:ia,state:dn,steps:r_}=bO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Or,!0);let qm;function uX(){qm=void 0}const Xn={now:()=>(qm===void 0&&Xn.set(dn.isProcessing||Fi.useManualTiming?dn.timestamp:performance.now()),qm),set:t=>{qm=t,queueMicrotask(uX)}},SO=t=>e=>typeof e=="string"&&e.startsWith(t),nT=SO("--"),dX=SO("var(--"),rT=t=>dX(t)?hX.test(t.split("/*")[0].trim()):!1,hX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Qh={...qu,transform:t=>Li(0,1,t)},_m={...qu,default:1},yh=t=>Math.round(t*1e5)/1e5,sT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fX(t){return t==null}const pX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iT=(t,e)=>n=>!!(typeof n=="string"&&pX.test(n)&&n.startsWith(t)||e&&!fX(n)&&Object.prototype.hasOwnProperty.call(n,e)),AO=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,c]=r.match(sT);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},mX=t=>Li(0,255,t),s_={...qu,transform:t=>Math.round(mX(t))},tl={test:iT("rgb","red"),parse:AO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+s_.transform(t)+", "+s_.transform(e)+", "+s_.transform(n)+", "+yh(Qh.transform(r))+")"};function gX(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const k0={test:iT("#"),parse:gX,transform:tl.transform},Mf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ro=Mf("deg"),Bs=Mf("%"),Me=Mf("px"),yX=Mf("vh"),vX=Mf("vw"),cP={...Bs,parse:t=>Bs.parse(t)/100,transform:t=>Bs.transform(t*100)},Hc={test:iT("hsl","hue"),parse:AO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Bs.transform(yh(e))+", "+Bs.transform(yh(n))+", "+yh(Qh.transform(r))+")"},Ht={test:t=>tl.test(t)||k0.test(t)||Hc.test(t),parse:t=>tl.test(t)?tl.parse(t):Hc.test(t)?Hc.parse(t):k0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?tl.transform(t):Hc.transform(t),getAnimatableNone:t=>{const e=Ht.parse(t);return e.alpha=0,Ht.transform(e)}},wX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _X(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(sT))==null?void 0:e.length)||0)+(((n=t.match(wX))==null?void 0:n.length)||0)>0}const PO="number",CO="color",EX="var",xX="var(",uP="${}",TX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const c=e.replace(TX,u=>(Ht.test(u)?(r.color.push(i),s.push(CO),n.push(Ht.parse(u))):u.startsWith(xX)?(r.var.push(i),s.push(EX),n.push(u)):(r.number.push(i),s.push(PO),n.push(parseFloat(u))),++i,uP)).split(uP);return{values:n,split:c,indexes:r,types:s}}function RO(t){return Yh(t).values}function kO(t){const{split:e,types:n}=Yh(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const c=n[a];c===PO?i+=yh(s[a]):c===CO?i+=Ht.transform(s[a]):i+=s[a]}return i}}const IX=t=>typeof t=="number"?0:Ht.test(t)?Ht.getAnimatableNone(t):t;function bX(t){const e=RO(t);return kO(t)(e.map(IX))}const oa={test:_X,parse:RO,createTransformer:kO,getAnimatableNone:bX};function i_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function SX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;s=i_(u,c,t+1/3),i=i_(u,c,t),a=i_(u,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function jg(t,e){return n=>n>0?e:t}const At=(t,e,n)=>t+(e-t)*n,o_=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},AX=[k0,tl,Hc],PX=t=>AX.find(e=>e.test(t));function dP(t){const e=PX(t);if(!e)return!1;let n=e.parse(t);return e===Hc&&(n=SX(n)),n}const hP=(t,e)=>{const n=dP(t),r=dP(e);if(!n||!r)return jg(t,e);const s={...n};return i=>(s.red=o_(n.red,r.red,i),s.green=o_(n.green,r.green,i),s.blue=o_(n.blue,r.blue,i),s.alpha=At(n.alpha,r.alpha,i),tl.transform(s))},D0=new Set(["none","hidden"]);function CX(t,e){return D0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function RX(t,e){return n=>At(t,e,n)}function oT(t){return typeof t=="number"?RX:typeof t=="string"?rT(t)?jg:Ht.test(t)?hP:NX:Array.isArray(t)?DO:typeof t=="object"?Ht.test(t)?hP:kX:jg}function DO(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>oT(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function kX(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=oT(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function DX(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],c=t.values[a]??0;n[s]=c,r[i]++}return n}const NX=(t,e)=>{const n=oa.createTransformer(e),r=Yh(t),s=Yh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?D0.has(t)&&!s.values.length||D0.has(e)&&!r.values.length?CX(t,e):Df(DO(DX(r,s),s.values),n):jg(t,e)};function NO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?At(t,e,n):oT(t)(t,e)}const MX=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>xt.update(e,n),stop:()=>ia(e),now:()=>dn.isProcessing?dn.timestamp:Xn.now()}},MO=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ug=2e4;function aT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ug;)e+=n,r=t.next(e);return e>=Ug?1/0:e}function OX(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(aT(r),Ug);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Dr(s)}}const VX=5;function OO(t,e,n){const r=Math.max(e-VX,0);return pO(n-t(r),e-r)}const Nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},a_=.001;function LX({duration:t=Nt.duration,bounce:e=Nt.bounce,velocity:n=Nt.velocity,mass:r=Nt.mass}){let s,i,a=1-e;a=Li(Nt.minDamping,Nt.maxDamping,a),t=Li(Nt.minDuration,Nt.maxDuration,Dr(t)),a<1?(s=h=>{const p=h*a,g=p*t,y=p-n,E=N0(h,a),A=Math.exp(-g);return a_-y/E*A},i=h=>{const g=h*a*t,y=g*n+n,E=Math.pow(a,2)*Math.pow(h,2)*t,A=Math.exp(-g),b=N0(Math.pow(h,2),a);return(-s(h)+a_>0?-1:1)*((y-E)*A)/b}):(s=h=>{const p=Math.exp(-h*t),g=(h-n)*t+1;return-a_+p*g},i=h=>{const p=Math.exp(-h*t),g=(n-h)*(t*t);return p*g});const c=5/t,u=jX(s,i,c);if(t=Us(t),isNaN(u))return{stiffness:Nt.stiffness,damping:Nt.damping,duration:t};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:a*2*Math.sqrt(r*h),duration:t}}}const FX=12;function jX(t,e,n){let r=n;for(let s=1;s<FX;s++)r=r-t(r)/e(r);return r}function N0(t,e){return t*Math.sqrt(1-e*e)}const UX=["duration","bounce"],BX=["stiffness","damping","mass"];function fP(t,e){return e.some(n=>t[n]!==void 0)}function $X(t){let e={velocity:Nt.velocity,stiffness:Nt.stiffness,damping:Nt.damping,mass:Nt.mass,isResolvedFromDuration:!1,...t};if(!fP(t,BX)&&fP(t,UX))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Li(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Nt.mass,stiffness:s,damping:i}}else{const n=LX(t);e={...e,...n,mass:Nt.mass},e.isResolvedFromDuration=!0}return e}function Bg(t=Nt.visualDuration,e=Nt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:i},{stiffness:u,damping:h,mass:p,duration:g,velocity:y,isResolvedFromDuration:E}=$X({...n,velocity:-Dr(n.velocity||0)}),A=y||0,b=h/(2*Math.sqrt(u*p)),S=a-i,R=Dr(Math.sqrt(u/p)),V=Math.abs(S)<5;r||(r=V?Nt.restSpeed.granular:Nt.restSpeed.default),s||(s=V?Nt.restDelta.granular:Nt.restDelta.default);let N;if(b<1){const B=N0(R,b);N=K=>{const k=Math.exp(-b*R*K);return a-k*((A+b*R*S)/B*Math.sin(B*K)+S*Math.cos(B*K))}}else if(b===1)N=B=>a-Math.exp(-R*B)*(S+(A+R*S)*B);else{const B=R*Math.sqrt(b*b-1);N=K=>{const k=Math.exp(-b*R*K),P=Math.min(B*K,300);return a-k*((A+b*R*S)*Math.sinh(P)+B*S*Math.cosh(P))/B}}const F={calculatedDuration:E&&g||null,next:B=>{const K=N(B);if(E)c.done=B>=g;else{let k=B===0?A:0;b<1&&(k=B===0?Us(A):OO(N,B,K));const P=Math.abs(k)<=r,D=Math.abs(a-K)<=s;c.done=P&&D}return c.value=c.done?a:K,c},toString:()=>{const B=Math.min(aT(F),Ug),K=MO(k=>F.next(B*k).value,B,30);return B+"ms "+K},toTransition:()=>{}};return F}Bg.applyToOptions=t=>{const e=OX(t,100,Bg);return t.ease=e.ease,t.duration=Us(e.duration),t.type="keyframes",t};function M0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:c,max:u,restDelta:h=.5,restSpeed:p}){const g=t[0],y={done:!1,value:g},E=P=>c!==void 0&&P<c||u!==void 0&&P>u,A=P=>c===void 0?u:u===void 0||Math.abs(c-P)<Math.abs(u-P)?c:u;let b=n*e;const S=g+b,R=a===void 0?S:a(S);R!==S&&(b=R-g);const V=P=>-b*Math.exp(-P/r),N=P=>R+V(P),F=P=>{const D=V(P),O=N(P);y.done=Math.abs(D)<=h,y.value=y.done?R:O};let B,K;const k=P=>{E(y.value)&&(B=P,K=Bg({keyframes:[y.value,A(y.value)],velocity:OO(N,P,y.value),damping:s,stiffness:i,restDelta:h,restSpeed:p}))};return k(0),{calculatedDuration:null,next:P=>{let D=!1;return!K&&B===void 0&&(D=!0,F(P),k(P)),B!==void 0&&P>=B?K.next(P-B):(!D&&F(P),y)}}}function zX(t,e,n){const r=[],s=n||Fi.mix||NO,i=t.length-1;for(let a=0;a<i;a++){let c=s(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||Or:e;c=Df(u,c)}r.push(c)}return r}function WX(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Xx(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=zX(e,r,s),u=c.length,h=p=>{if(a&&p<t[0])return e[0];let g=0;if(u>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const y=Kh(t[g],t[g+1],p);return c[g](y)};return n?p=>h(Li(t[0],t[i-1],p)):h}function qX(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Kh(0,e,r);t.push(At(n,1,s))}}function HX(t){const e=[0];return qX(e,t.length-1),e}function GX(t,e){return t.map(n=>n*e)}function KX(t,e){return t.map(()=>e||TO).splice(0,t.length-1)}function vh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=iX(r)?r.map(lP):lP(r),i={done:!1,value:e[0]},a=GX(n&&n.length===e.length?n:HX(e),t),c=WX(a,e,{ease:Array.isArray(s)?s:KX(e,s)});return{calculatedDuration:t,next:u=>(i.value=c(u),i.done=u>=t,i)}}const QX=t=>t!==null;function lT(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(QX),c=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!c||r===void 0?i[c]:r}const YX={decay:M0,inertia:M0,tween:vh,keyframes:vh,spring:Bg};function VO(t){typeof t.type=="string"&&(t.type=YX[t.type])}class cT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const XX=t=>t/100;class uT extends cT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Xn.now()&&this.tick(Xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;VO(e);const{type:n=vh,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:c}=e;const u=n||vh;u!==vh&&typeof c[0]!="number"&&(this.mixKeyframes=Df(XX,NO(c[0],c[1])),c=[0,100]);const h=u({...e,keyframes:c});i==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=aT(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:E,type:A,onUpdate:b,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const R=this.currentTime-h*(this.playbackSpeed>=0?1:-1),V=this.playbackSpeed>=0?R<0:R>s;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let N=this.currentTime,F=r;if(g){const P=Math.min(this.currentTime,s)/c;let D=Math.floor(P),O=P%1;!O&&P>=1&&(O=1),O===1&&D--,D=Math.min(D,g+1),!!(D%2)&&(y==="reverse"?(O=1-O,E&&(O-=E/c)):y==="mirror"&&(F=a)),N=Li(0,1,O)*c}const B=V?{done:!1,value:p[0]}:F.next(N);i&&(B.value=i(B.value));let{done:K}=B;!V&&u!==null&&(K=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return k&&A!==M0&&(B.value=lT(p,this.options,S,this.speed)),b&&b(B.value),k&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return Dr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dr(e)}get time(){return Dr(this.currentTime)}set time(e){var n;e=Us(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Dr(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=MX,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function JX(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const nl=t=>t*180/Math.PI,O0=t=>{const e=nl(Math.atan2(t[1],t[0]));return V0(e)},ZX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:O0,rotateZ:O0,skewX:t=>nl(Math.atan(t[1])),skewY:t=>nl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},V0=t=>(t=t%360,t<0&&(t+=360),t),pP=O0,mP=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),gP=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),eJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mP,scaleY:gP,scale:t=>(mP(t)+gP(t))/2,rotateX:t=>V0(nl(Math.atan2(t[6],t[5]))),rotateY:t=>V0(nl(Math.atan2(-t[2],t[0]))),rotateZ:pP,rotate:pP,skewX:t=>nl(Math.atan(t[4])),skewY:t=>nl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function L0(t){return t.includes("scale")?1:0}function F0(t,e){if(!t||t==="none")return L0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=eJ,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ZX,s=c}if(!s)return L0(e);const i=r[e],a=s[1].split(",").map(nJ);return typeof i=="function"?i(a):a[i]}const tJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return F0(n,e)};function nJ(t){return parseFloat(t.trim())}const Hu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gu=new Set(Hu),yP=t=>t===qu||t===Me,rJ=new Set(["x","y","z"]),sJ=Hu.filter(t=>!rJ.has(t));function iJ(t){const e=[];return sJ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const yl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>F0(e,"x"),y:(t,{transform:e})=>F0(e,"y")};yl.translateX=yl.x;yl.translateY=yl.y;const vl=new Set;let j0=!1,U0=!1,B0=!1;function LO(){if(U0){const t=Array.from(vl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=iJ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var c;(c=r.getValue(i))==null||c.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}U0=!1,j0=!1,vl.forEach(t=>t.complete(B0)),vl.clear()}function FO(){vl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(U0=!0)})}function oJ(){B0=!0,FO(),LO(),B0=!1}class dT{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(vl.add(this),j0||(j0=!0,xt.read(FO),xt.resolveKeyframes(LO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}JX(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),vl.delete(this)}cancel(){this.state==="scheduled"&&(vl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const aJ=t=>t.startsWith("--");function lJ(t,e,n){aJ(e)?t.style.setProperty(e,n):t.style[e]=n}const cJ=Jx(()=>window.ScrollTimeline!==void 0),uJ={};function dJ(t,e){const n=Jx(t);return()=>uJ[e]??n()}const jO=dJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,vP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oh([0,.65,.55,1]),circOut:oh([.55,0,1,.45]),backIn:oh([.31,.01,.66,-.59]),backOut:oh([.33,1.53,.69,.99])};function UO(t,e){if(t)return typeof t=="function"?jO()?MO(t,e):"ease-out":IO(t)?oh(t):Array.isArray(t)?t.map(n=>UO(n,e)||vP.easeOut):vP[t]}function hJ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:c="easeOut",times:u}={},h=void 0){const p={[e]:n};u&&(p.offset=u);const g=UO(c,s);Array.isArray(g)&&(p.easing=g);const y={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(p,y)}function BO(t){return typeof t=="function"&&"applyToOptions"in t}function fJ({type:t,...e}){return BO(t)&&jO()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class pJ extends cT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,Xx(typeof e.type!="string");const h=fJ(e);this.animation=hJ(n,r,s,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=lT(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):lJ(n,r,p),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Dr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dr(e)}get time(){return Dr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Us(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&cJ()?(this.animation.timeline=e,Or):n(this)}}const $O={anticipate:_O,backInOut:wO,circInOut:xO};function mJ(t){return t in $O}function gJ(t){typeof t.ease=="string"&&mJ(t.ease)&&(t.ease=$O[t.ease])}const wP=10;class yJ extends pJ{constructor(e){gJ(e),VO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new uT({...a,autoplay:!1}),u=Us(this.finishedTime??this.time);n.setWithVelocity(c.sample(u-wP).value,c.sample(u).value,wP),c.stop()}}const _P=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(oa.test(t)||t==="0")&&!t.startsWith("url("));function vJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function wJ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=_P(s,e),c=_P(i,e);return!a||!c?!1:vJ(t)||(n==="spring"||BO(n))&&r}function $0(t){t.duration=0,t.type="keyframes"}const _J=new Set(["opacity","clipPath","filter","transform"]),EJ=Jx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xJ(t){var p;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return EJ()&&n&&_J.has(n)&&(n!=="transform"||!h)&&!u&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const TJ=40;class IJ extends cT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:c,name:u,motionValue:h,element:p,...g}){var A;super(),this.stop=()=>{var b,S;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Xn.now();const y={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:u,motionValue:h,element:p,...g},E=(p==null?void 0:p.KeyframeResolver)||dT;this.keyframeResolver=new E(c,(b,S,R)=>this.onKeyframesResolved(b,S,y,!R),u,h,p),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:c,delay:u,isHandoff:h,onUpdate:p}=r;this.resolvedAt=Xn.now(),wJ(e,i,a,c)||((Fi.instantAnimations||!u)&&(p==null||p(lT(e,r,n))),e[0]=e[e.length-1],$0(r),r.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>TJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},E=!h&&xJ(y)?new yJ({...y,element:y.motionValue.owner.current}):new uT(y);E.finished.then(()=>this.notifyFinished()).catch(Or),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),oJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const bJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SJ(t){const e=bJ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function zO(t,e,n=1){const[r,s]=SJ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return dO(a)?parseFloat(a):a}return rT(s)?zO(s,e,n+1):s}function hT(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const WO=new Set(["width","height","top","left","right","bottom",...Hu]),AJ={test:t=>t==="auto",parse:t=>t},qO=t=>e=>e.test(t),HO=[qu,Me,Bs,Ro,vX,yX,AJ],EP=t=>HO.find(qO(t));function PJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fO(t):!0}const CJ=new Set(["brightness","contrast","saturate","opacity"]);function RJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(sT)||[];if(!r)return t;const s=n.replace(r,"");let i=CJ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const kJ=/\b([a-z-]*)\(.*?\)/gu,z0={...oa,getAnimatableNone:t=>{const e=t.match(kJ);return e?e.map(RJ).join(" "):t}},xP={...qu,transform:Math.round},DJ={rotate:Ro,rotateX:Ro,rotateY:Ro,rotateZ:Ro,scale:_m,scaleX:_m,scaleY:_m,scaleZ:_m,skew:Ro,skewX:Ro,skewY:Ro,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:Qh,originX:cP,originY:cP,originZ:Me},fT={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me,...DJ,zIndex:xP,fillOpacity:Qh,strokeOpacity:Qh,numOctaves:xP},NJ={...fT,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:z0,WebkitFilter:z0},GO=t=>NJ[t];function KO(t,e){let n=GO(t);return n!==z0&&(n=oa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const MJ=new Set(["auto","none","0"]);function OJ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!MJ.has(i)&&Yh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=KO(n,s)}class VJ extends dT{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),rT(h))){const p=zO(h,n.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!WO.has(r)||e.length!==2)return;const[s,i]=e,a=EP(s),c=EP(i);if(a!==c)if(yP(a)&&yP(c))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else yl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||PJ(e[s]))&&r.push(s);r.length&&OJ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=yl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function LJ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const QO=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function FJ(t){return hO(t)&&"offsetHeight"in t}const TP=30,jJ=t=>!isNaN(parseFloat(t));class UJ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Xn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jJ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zx);const r=this.events[e].add(n);return e==="change"?()=>{r(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>TP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,TP);return pO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Du(t,e){return new UJ(t,e)}const{schedule:pT}=bO(queueMicrotask,!1),Kr={x:!1,y:!1};function YO(){return Kr.x||Kr.y}function BJ(t){return t==="x"||t==="y"?Kr[t]?null:(Kr[t]=!0,()=>{Kr[t]=!1}):Kr.x||Kr.y?null:(Kr.x=Kr.y=!0,()=>{Kr.x=Kr.y=!1})}function XO(t,e){const n=LJ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function IP(t){return!(t.pointerType==="touch"||YO())}function $J(t,e,n={}){const[r,s,i]=XO(t,n),a=c=>{if(!IP(c))return;const{target:u}=c,h=e(u,c);if(typeof h!="function"||!u)return;const p=g=>{IP(g)&&(h(g),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,s)};return r.forEach(c=>{c.addEventListener("pointerenter",a,s)}),i}const JO=(t,e)=>e?t===e?!0:JO(t,e.parentElement):!1,mT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WJ(t){return zJ.has(t.tagName)||t.tabIndex!==-1}const Hm=new WeakSet;function bP(t){return e=>{e.key==="Enter"&&t(e)}}function l_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qJ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=bP(()=>{if(Hm.has(n))return;l_(n,"down");const s=bP(()=>{l_(n,"up")}),i=()=>l_(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function SP(t){return mT(t)&&!YO()}function HJ(t,e,n={}){const[r,s,i]=XO(t,n),a=c=>{const u=c.currentTarget;if(!SP(c))return;Hm.add(u);const h=e(u,c),p=(E,A)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),Hm.has(u)&&Hm.delete(u),SP(E)&&typeof h=="function"&&h(E,{success:A})},g=E=>{p(E,u===window||u===document||n.useGlobalTarget||JO(u,E.target))},y=E=>{p(E,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",y,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,s),FJ(c)&&(c.addEventListener("focus",h=>qJ(h,s)),!WJ(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function ZO(t){return hO(t)&&"ownerSVGElement"in t}function GJ(t){return ZO(t)&&t.tagName==="svg"}const Sn=t=>!!(t&&t.getVelocity),KJ=[...HO,Ht,oa],QJ=t=>KJ.find(qO(t)),eV=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function YJ(t=!0){const e=T.useContext(Kx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=T.useId();T.useEffect(()=>{if(t)return s(i)},[t]);const a=T.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const tV=T.createContext({strict:!1}),AP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nu={};for(const t in AP)Nu[t]={isEnabled:e=>AP[t].some(n=>!!e[n])};function XJ(t){for(const e in t)Nu[e]={...Nu[e],...t[e]}}const JJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $g(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||JJ.has(t)}let nV=t=>!$g(t);function ZJ(t){typeof t=="function"&&(nV=e=>e.startsWith("on")?!$g(e):t(e))}try{ZJ(require("@emotion/is-prop-valid").default)}catch{}function eZ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(nV(s)||n===!0&&$g(s)||!e&&!$g(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const $y=T.createContext({});function zy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Xh(t){return typeof t=="string"||Array.isArray(t)}const gT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yT=["initial",...gT];function Wy(t){return zy(t.animate)||yT.some(e=>Xh(t[e]))}function rV(t){return!!(Wy(t)||t.variants)}function tZ(t,e){if(Wy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Xh(n)?n:void 0,animate:Xh(r)?r:void 0}}return t.inherit!==!1?e:{}}function nZ(t){const{initial:e,animate:n}=tZ(t,T.useContext($y));return T.useMemo(()=>({initial:e,animate:n}),[PP(e),PP(n)])}function PP(t){return Array.isArray(t)?t.join(" "):t}const Jh={};function rZ(t){for(const e in t)Jh[e]=t[e],nT(e)&&(Jh[e].isCSSVariable=!0)}function sV(t,{layout:e,layoutId:n}){return Gu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Jh[t]||t==="opacity")}const sZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iZ=Hu.length;function oZ(t,e,n){let r="",s=!0;for(let i=0;i<iZ;i++){const a=Hu[i],c=t[a];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(a.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const h=QO(c,fT[a]);if(!u){s=!1;const p=sZ[a]||a;r+=`${p}(${h}) `}n&&(e[a]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function vT(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,c=!1;for(const u in e){const h=e[u];if(Gu.has(u)){a=!0;continue}else if(nT(u)){s[u]=h;continue}else{const p=QO(h,fT[u]);u.startsWith("origin")?(c=!0,i[u]=p):r[u]=p}}if(e.transform||(a||n?r.transform=oZ(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:p=0}=i;r.transformOrigin=`${u} ${h} ${p}`}}const wT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iV(t,e,n){for(const r in e)!Sn(e[r])&&!sV(r,n)&&(t[r]=e[r])}function aZ({transformTemplate:t},e){return T.useMemo(()=>{const n=wT();return vT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function lZ(t,e){const n=t.style||{},r={};return iV(r,n,t),Object.assign(r,aZ(t,e)),r}function cZ(t,e){const n={},r=lZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const uZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},dZ={offset:"strokeDashoffset",array:"strokeDasharray"};function hZ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?uZ:dZ;t[i.offset]=Me.transform(-r);const a=Me.transform(e),c=Me.transform(n);t[i.array]=`${a} ${c}`}function oV(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...c},u,h,p){if(vT(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&hZ(g,s,i,a,!1)}const aV=()=>({...wT(),attrs:{}}),lV=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fZ(t,e,n,r){const s=T.useMemo(()=>{const i=aV();return oV(i,e,lV(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};iV(i,t.style,t),s.style={...i,...s.style}}return s}const pZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _T(t){return typeof t!="string"||t.includes("-")?!1:!!(pZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function mZ(t,e,n,{latestValues:r},s,i=!1){const c=(_T(t)?fZ:cZ)(e,r,s,t),u=eZ(e,typeof t=="string",i),h=t!==T.Fragment?{...u,...c,ref:n}:{},{children:p}=e,g=T.useMemo(()=>Sn(p)?p.get():p,[p]);return T.createElement(t,{...h,children:g})}function CP(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ET(t,e,n,r){if(typeof e=="function"){const[s,i]=CP(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=CP(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Gm(t){return Sn(t)?t.get():t}function gZ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:yZ(n,r,s,t),renderState:e()}}function yZ(t,e,n,r){const s={},i=r(t,{});for(const y in i)s[y]=Gm(i[y]);let{initial:a,animate:c}=t;const u=Wy(t),h=rV(t);e&&h&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||a===!1;const g=p?c:a;if(g&&typeof g!="boolean"&&!zy(g)){const y=Array.isArray(g)?g:[g];for(let E=0;E<y.length;E++){const A=ET(t,y[E]);if(A){const{transitionEnd:b,transition:S,...R}=A;for(const V in R){let N=R[V];if(Array.isArray(N)){const F=p?N.length-1:0;N=N[F]}N!==null&&(s[V]=N)}for(const V in b)s[V]=b[V]}}}return s}const cV=t=>(e,n)=>{const r=T.useContext($y),s=T.useContext(Kx),i=()=>gZ(t,e,r,s);return n?i():XY(i)};function xT(t,e,n){var i;const{style:r}=t,s={};for(const a in r)(Sn(r[a])||e.style&&Sn(e.style[a])||sV(a,t)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const vZ=cV({scrapeMotionValuesFromProps:xT,createRenderState:wT});function uV(t,e,n){const r=xT(t,e,n);for(const s in t)if(Sn(t[s])||Sn(e[s])){const i=Hu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const wZ=cV({scrapeMotionValuesFromProps:uV,createRenderState:aV}),_Z=Symbol.for("motionComponentSymbol");function Gc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function EZ(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Gc(n)&&(n.current=r))},[e])}const TT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xZ="framerAppearId",dV="data-"+TT(xZ),hV=T.createContext({});function TZ(t,e,n,r,s){var b,S;const{visualElement:i}=T.useContext($y),a=T.useContext(tV),c=T.useContext(Kx),u=T.useContext(eV).reducedMotion,h=T.useRef(null);r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:i,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const p=h.current,g=T.useContext(hV);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&IZ(h.current,n,s,g);const y=T.useRef(!1);T.useInsertionEffect(()=>{p&&y.current&&p.update(n,c)});const E=n[dV],A=T.useRef(!!E&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,E))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,E)));return JY(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),A.current&&p.animationState&&p.animationState.animateChanges())}),T.useEffect(()=>{p&&(!A.current&&p.animationState&&p.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)==null||R.call(window,E)}),A.current=!1),p.enteringChildren=void 0)}),p}function IZ(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:fV(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||c&&Gc(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:u,layoutRoot:h})}function fV(t){if(t)return t.options.allowProjection!==!1?t.projection:fV(t.parent)}function c_(t,{forwardMotionProps:e=!1}={},n,r){n&&XJ(n);const s=_T(t)?wZ:vZ;function i(c,u){let h;const p={...T.useContext(eV),...c,layoutId:bZ(c)},{isStatic:g}=p,y=nZ(c),E=s(c,g);if(!g&&Gx){SZ();const A=AZ(p);h=A.MeasureLayout,y.visualElement=TZ(t,E,p,r,A.ProjectionNode)}return x.jsxs($y.Provider,{value:y,children:[h&&y.visualElement?x.jsx(h,{visualElement:y.visualElement,...p}):null,mZ(t,c,EZ(E,y.visualElement,u),E,g,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=T.forwardRef(i);return a[_Z]=t,a}function bZ({layoutId:t}){const e=T.useContext(uO).id;return e&&t!==void 0?e+"-"+t:t}function SZ(t,e){T.useContext(tV).strict}function AZ(t){const{drag:e,layout:n}=Nu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function PZ(t,e){if(typeof Proxy>"u")return c_;const n=new Map,r=(i,a)=>c_(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,c_(a,void 0,t,e)),n.get(a))})}function pV({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function CZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function u_(t){return t===void 0||t===1}function W0({scale:t,scaleX:e,scaleY:n}){return!u_(t)||!u_(e)||!u_(n)}function Ga(t){return W0(t)||mV(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mV(t){return RP(t.x)||RP(t.y)}function RP(t){return t&&t!=="0%"}function zg(t,e,n){const r=t-n,s=e*r;return n+s}function kP(t,e,n,r,s){return s!==void 0&&(t=zg(t,s,r)),zg(t,n,r)+e}function q0(t,e=0,n=1,r,s){t.min=kP(t.min,e,n,r,s),t.max=kP(t.max,e,n,r,s)}function gV(t,{x:e,y:n}){q0(t.x,e.translate,e.scale,e.originPoint),q0(t.y,n.translate,n.scale,n.originPoint)}const DP=.999999999999,NP=1.0000000000001;function kZ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let c=0;c<s;c++){i=n[c],a=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Qc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,gV(t,a)),r&&Ga(i.latestValues)&&Qc(t,i.latestValues))}e.x<NP&&e.x>DP&&(e.x=1),e.y<NP&&e.y>DP&&(e.y=1)}function Kc(t,e){t.min=t.min+e,t.max=t.max+e}function MP(t,e,n,r,s=.5){const i=At(t.min,t.max,s);q0(t,e,n,i,r)}function Qc(t,e){MP(t.x,e.x,e.scaleX,e.scale,e.originX),MP(t.y,e.y,e.scaleY,e.scale,e.originY)}function yV(t,e){return pV(RZ(t.getBoundingClientRect(),e))}function DZ(t,e,n){const r=yV(t,n),{scroll:s}=e;return s&&(Kc(r.x,s.offset.x),Kc(r.y,s.offset.y)),r}const OP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yc=()=>({x:OP(),y:OP()}),VP=()=>({min:0,max:0}),Bt=()=>({x:VP(),y:VP()}),H0={current:null},vV={current:!1};function NZ(){if(vV.current=!0,!!Gx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>H0.current=t.matches;t.addEventListener("change",e),e()}else H0.current=!1}const MZ=new WeakMap;function OZ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Sn(s))t.addValue(r,s);else if(Sn(i))t.addValue(r,Du(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Du(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const LP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VZ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Xn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,xt.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Wy(n),this.isVariantNode=rV(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const E=g[y];u[y]!==void 0&&Sn(E)&&E.set(u[y])}}mount(e){var n;this.current=e,MZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),vV.current||NZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:H0.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ia(this.notifyUpdate),ia(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Gu.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&xt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nu){const n=Nu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<LP.length;r++){const s=LP[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=OZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Du(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(dO(r)||fO(r))?r=parseFloat(r):!QJ(r)&&oa.test(n)&&(r=KO(e,n)),this.setBaseTarget(e,Sn(r)?r.get():r)),Sn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=ET(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Sn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){pT.render(this.render)}}class wV extends VZ{constructor(){super(...arguments),this.KeyframeResolver=VJ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _V(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function LZ(t){return window.getComputedStyle(t)}class FZ extends wV{constructor(){super(...arguments),this.type="html",this.renderInstance=_V}readValueFromInstance(e,n){var r;if(Gu.has(n))return(r=this.projection)!=null&&r.isProjecting?L0(n):tJ(e,n);{const s=LZ(e),i=(nT(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yV(e,n)}build(e,n,r){vT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return xT(e,n,r)}}const EV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jZ(t,e,n,r){_V(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(EV.has(s)?s:TT(s),e.attrs[s])}class UZ extends wV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Gu.has(n)){const r=GO(n);return r&&r.default||0}return n=EV.has(n)?n:TT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return uV(e,n,r)}build(e,n,r){oV(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){jZ(e,n,r,s)}mount(e){this.isSVGTag=lV(e.tagName),super.mount(e)}}const BZ=(t,e)=>_T(t)?new UZ(e):new FZ(e,{allowProjection:t!==T.Fragment});function su(t,e,n){const r=t.getProps();return ET(r,e,n!==void 0?n:r.custom,t)}const G0=t=>Array.isArray(t);function $Z(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Du(n))}function zZ(t){return G0(t)?t[t.length-1]||0:t}function WZ(t,e){const n=su(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const c=zZ(i[a]);$Z(t,a,c)}}function qZ(t){return!!(Sn(t)&&t.add)}function K0(t,e){const n=t.getValue("willChange");if(qZ(n))return n.add(e);if(!n&&Fi.WillChange){const r=new Fi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function xV(t){return t.props[dV]}const HZ=t=>t!==null;function GZ(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(HZ),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const KZ={type:"spring",stiffness:500,damping:25,restSpeed:10},QZ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),YZ={type:"keyframes",duration:.8},XZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JZ=(t,{keyframes:e})=>e.length>2?YZ:Gu.has(t)?t.startsWith("scale")?QZ(e[1]):KZ:XZ;function ZZ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:c,from:u,elapsed:h,...p}){return!!Object.keys(p).length}const IT=(t,e,n,r={},s,i)=>a=>{const c=hT(r,t)||{},u=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Us(u);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:i?void 0:s};ZZ(c)||Object.assign(p,JZ(t,p)),p.duration&&(p.duration=Us(p.duration)),p.repeatDelay&&(p.repeatDelay=Us(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&($0(p),p.delay===0&&(g=!0)),(Fi.instantAnimations||Fi.skipAnimations)&&(g=!0,$0(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,g&&!i&&e.get()!==void 0){const y=GZ(p.keyframes,c);if(y!==void 0){xt.update(()=>{p.onUpdate(y),p.onComplete()});return}}return c.isSync?new uT(p):new IJ(p)};function eee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function TV(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(i=r);const u=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in c){const g=t.getValue(p,t.latestValues[p]??null),y=c[p];if(y===void 0||h&&eee(h,p))continue;const E={delay:n,...hT(i||{},p)},A=g.get();if(A!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===A&&!E.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const R=xV(t);if(R){const V=window.MotionHandoffAnimation(R,p,xt);V!==null&&(E.startTime=V,b=!0)}}K0(t,p),g.start(IT(p,g,y,t.shouldReduceMotion&&WO.has(p)?{type:!1}:E,t,b));const S=g.animation;S&&u.push(S)}return a&&Promise.all(u).then(()=>{xt.update(()=>{a&&WZ(t,a)})}),u}function IV(t,e,n,r=0,s=1){const i=Array.from(t).sort((h,p)=>h.sortNodePosition(p)).indexOf(e),a=t.size,c=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:c-i*r}function Q0(t,e,n={}){var u;const r=su(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(TV(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=s;return tee(t,e,h,p,g,y,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[h,p]=c==="beforeChildren"?[i,a]:[a,i];return h().then(()=>p())}else return Promise.all([i(),a(n.delay)])}function tee(t,e,n=0,r=0,s=0,i=1,a){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(Q0(u,e,{...a,delay:n+(typeof r=="function"?0:r)+IV(t.variantChildren,u,r,s,i)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function nee(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Q0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Q0(t,e,n);else{const s=typeof e=="function"?su(t,e,n.custom):e;r=Promise.all(TV(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function bV(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const ree=yT.length;function SV(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?SV(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ree;n++){const r=yT[n],s=t.props[r];(Xh(s)||s===!1)&&(e[r]=s)}return e}const see=[...gT].reverse(),iee=gT.length;function oee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>nee(t,n,r)))}function aee(t){let e=oee(t),n=FP(),r=!0;const s=u=>(h,p)=>{var y;const g=su(t,p,u==="exit"?(y=t.presenceContext)==null?void 0:y.custom:void 0);if(g){const{transition:E,transitionEnd:A,...b}=g;h={...h,...b,...A}}return h};function i(u){e=u(t)}function a(u){const{props:h}=t,p=SV(t.parent)||{},g=[],y=new Set;let E={},A=1/0;for(let S=0;S<iee;S++){const R=see[S],V=n[R],N=h[R]!==void 0?h[R]:p[R],F=Xh(N),B=R===u?V.isActive:null;B===!1&&(A=S);let K=N===p[R]&&N!==h[R]&&F;if(K&&r&&t.manuallyAnimateOnMount&&(K=!1),V.protectedKeys={...E},!V.isActive&&B===null||!N&&!V.prevProp||zy(N)||typeof N=="boolean")continue;const k=lee(V.prevProp,N);let P=k||R===u&&V.isActive&&!K&&F||S>A&&F,D=!1;const O=Array.isArray(N)?N:[N];let j=O.reduce(s(R),{});B===!1&&(j={});const{prevResolvedValues:z={}}=V,L={...z,...j},xe=fe=>{P=!0,y.has(fe)&&(D=!0,y.delete(fe)),V.needsAnimating[fe]=!0;const G=t.getValue(fe);G&&(G.liveStyle=!1)};for(const fe in L){const G=j[fe],ne=z[fe];if(E.hasOwnProperty(fe))continue;let ie=!1;G0(G)&&G0(ne)?ie=!bV(G,ne):ie=G!==ne,ie?G!=null?xe(fe):y.add(fe):G!==void 0&&y.has(fe)?xe(fe):V.protectedKeys[fe]=!0}V.prevProp=N,V.prevResolvedValues=j,V.isActive&&(E={...E,...j}),r&&t.blockInitialAnimation&&(P=!1);const Le=K&&k;P&&(!Le||D)&&g.push(...O.map(fe=>{const G={type:R};if(typeof fe=="string"&&r&&!Le&&t.manuallyAnimateOnMount&&t.parent){const{parent:ne}=t,ie=su(ne,fe);if(ne.enteringChildren&&ie){const{delayChildren:q}=ie.transition||{};G.delay=IV(ne.enteringChildren,t,q)}}return{animation:fe,options:G}}))}if(y.size){const S={};if(typeof h.initial!="boolean"){const R=su(t,Array.isArray(h.initial)?h.initial[0]:h.initial);R&&R.transition&&(S.transition=R.transition)}y.forEach(R=>{const V=t.getBaseTarget(R),N=t.getValue(R);N&&(N.liveStyle=!0),S[R]=V??null}),g.push({animation:S})}let b=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(g):Promise.resolve()}function c(u,h){var g;if(n[u].isActive===h)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(y=>{var E;return(E=y.animationState)==null?void 0:E.setActive(u,h)}),n[u].isActive=h;const p=a(u);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:a,setActive:c,setAnimateFunction:i,getState:()=>n,reset:()=>{n=FP()}}}function lee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bV(e,t):!1}function Ba(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FP(){return{animate:Ba(!0),whileInView:Ba(),whileHover:Ba(),whileTap:Ba(),whileDrag:Ba(),whileFocus:Ba(),exit:Ba()}}class da{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cee extends da{constructor(e){super(e),e.animationState||(e.animationState=aee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let uee=0;class dee extends da{constructor(){super(...arguments),this.id=uee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const hee={animation:{Feature:cee},exit:{Feature:dee}};function Zh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Of(t){return{point:{x:t.pageX,y:t.pageY}}}const fee=t=>e=>mT(e)&&t(e,Of(e));function wh(t,e,n,r){return Zh(t,e,fee(n),r)}const AV=1e-4,pee=1-AV,mee=1+AV,PV=.01,gee=0-PV,yee=0+PV;function Mn(t){return t.max-t.min}function vee(t,e,n){return Math.abs(t-e)<=n}function jP(t,e,n,r=.5){t.origin=r,t.originPoint=At(e.min,e.max,t.origin),t.scale=Mn(n)/Mn(e),t.translate=At(n.min,n.max,t.origin)-t.originPoint,(t.scale>=pee&&t.scale<=mee||isNaN(t.scale))&&(t.scale=1),(t.translate>=gee&&t.translate<=yee||isNaN(t.translate))&&(t.translate=0)}function _h(t,e,n,r){jP(t.x,e.x,n.x,r?r.originX:void 0),jP(t.y,e.y,n.y,r?r.originY:void 0)}function UP(t,e,n){t.min=n.min+e.min,t.max=t.min+Mn(e)}function wee(t,e,n){UP(t.x,e.x,n.x),UP(t.y,e.y,n.y)}function BP(t,e,n){t.min=e.min-n.min,t.max=t.min+Mn(e)}function Eh(t,e,n){BP(t.x,e.x,n.x),BP(t.y,e.y,n.y)}function Ar(t){return[t("x"),t("y")]}const CV=({current:t})=>t?t.ownerDocument.defaultView:null,$P=(t,e)=>Math.abs(t-e);function _ee(t,e){const n=$P(t.x,e.x),r=$P(t.y,e.y);return Math.sqrt(n**2+r**2)}class RV{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=h_(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,A=_ee(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!A)return;const{point:b}=y,{timestamp:S}=dn;this.history.push({...b,timestamp:S});const{onStart:R,onMove:V}=this.handlers;E||(R&&R(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,y)},this.handlePointerMove=(y,E)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=d_(E,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(y,E)=>{this.end();const{onEnd:A,onSessionEnd:b,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=h_(y.type==="pointercancel"?this.lastMoveEventInfo:d_(E,this.transformPagePoint),this.history);this.startEvent&&A&&A(y,R),b&&b(y,R)},!mT(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const c=Of(e),u=d_(c,this.transformPagePoint),{point:h}=u,{timestamp:p}=dn;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,h_(u,this.history)),this.removeListeners=Df(wh(this.contextWindow,"pointermove",this.handlePointerMove),wh(this.contextWindow,"pointerup",this.handlePointerUp),wh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ia(this.updatePoint)}}function d_(t,e){return e?{point:e(t.point)}:t}function zP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function h_({point:t},e){return{point:t,delta:zP(t,kV(e)),offset:zP(t,Eee(e)),velocity:xee(e,.1)}}function Eee(t){return t[0]}function kV(t){return t[t.length-1]}function xee(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=kV(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Us(e)));)n--;if(!r)return{x:0,y:0};const i=Dr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Tee(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?At(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?At(n,t,r.max):Math.min(t,n)),t}function WP(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Iee(t,{top:e,left:n,bottom:r,right:s}){return{x:WP(t.x,n,s),y:WP(t.y,e,r)}}function qP(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function bee(t,e){return{x:qP(t.x,e.x),y:qP(t.y,e.y)}}function See(t,e){let n=.5;const r=Mn(t),s=Mn(e);return s>r?n=Kh(e.min,e.max-r,t.min):r>s&&(n=Kh(t.min,t.max-s,e.min)),Li(0,1,n)}function Aee(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Y0=.35;function Pee(t=Y0){return t===!1?t=0:t===!0&&(t=Y0),{x:HP(t,"left","right"),y:HP(t,"top","bottom")}}function HP(t,e,n){return{min:GP(t,e),max:GP(t,n)}}function GP(t,e){return typeof t=="number"?t:t[e]||0}const Cee=new WeakMap;class Ree{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Of(g).point)},a=(g,y)=>{const{drag:E,dragPropagation:A,onDragStart:b}=this.getProps();if(E&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=BJ(E),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ar(R=>{let V=this.getAxisMotionValue(R).get()||0;if(Bs.test(V)){const{projection:N}=this.visualElement;if(N&&N.layout){const F=N.layout.layoutBox[R];F&&(V=Mn(F)*(parseFloat(V)/100))}}this.originPoint[R]=V}),b&&xt.postRender(()=>b(g,y)),K0(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:E,dragDirectionLock:A,onDirectionLock:b,onDrag:S}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:R}=y;if(A&&this.currentDirection===null){this.currentDirection=kee(R),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",y.point,R),this.updateAxis("y",y.point,R),this.visualElement.render(),S&&S(g,y)},u=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Ar(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new RV(e,{onSessionStart:i,onStart:a,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:CV(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&xt.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Em(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Tee(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Gc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Iee(r.layoutBox,e):this.constraints=!1,this.elastic=Pee(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ar(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Aee(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Gc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=DZ(r,s.root,this.visualElement.getTransformPagePoint());let a=bee(s.layout.layoutBox,i);if(n){const c=n(CZ(a));this.hasMutatedConstraints=!!c,c&&(a=pV(c))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=Ar(p=>{if(!Em(p,n,this.currentDirection))return;let g=u&&u[p]||{};a&&(g={min:0,max:0});const y=s?200:1e6,E=s?40:1e7,A={type:"inertia",velocity:r?e[p]:0,bounceStiffness:y,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(p,A)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return K0(this.visualElement,e),r.start(IT(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ar(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ar(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ar(n=>{const{drag:r}=this.getProps();if(!Em(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:c}=s.layout.layoutBox[n];i.set(e[n]-At(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Gc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ar(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();s[a]=See({min:u,max:u},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ar(a=>{if(!Em(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:h}=this.constraints[a];c.set(At(u,h,s[a]))})}addListeners(){if(!this.visualElement.current)return;Cee.set(this.visualElement,this);const e=this.visualElement.current,n=wh(e,"pointerdown",u=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Gc(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),xt.read(r);const a=Zh(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ar(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=u[p].translate,g.set(g.get()+u[p].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Y0,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:c}}}function Em(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function kee(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Dee extends da{constructor(e){super(e),this.removeGroupControls=Or,this.removeListeners=Or,this.controls=new Ree(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Or}unmount(){this.removeGroupControls(),this.removeListeners()}}const KP=t=>(e,n)=>{t&&xt.postRender(()=>t(e,n))};class Nee extends da{constructor(){super(...arguments),this.removePointerDownListener=Or}onPointerDown(e){this.session=new RV(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:KP(e),onStart:KP(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&xt.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=wh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Km={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Yd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Me.test(t))t=parseFloat(t);else return t;const n=QP(t,e.target.x),r=QP(t,e.target.y);return`${n}% ${r}%`}},Mee={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=oa.parse(t);if(s.length>5)return r;const i=oa.createTransformer(t),a=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;s[0+a]/=c,s[1+a]/=u;const h=At(c,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=h),typeof s[3+a]=="number"&&(s[3+a]/=h),i(s)}};let f_=!1;class Oee extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;rZ(Vee),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),f_&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Km.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,f_=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||xt.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;f_=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DV(t){const[e,n]=YJ(),r=T.useContext(uO);return x.jsx(Oee,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(hV),isPresent:e,safeToRemove:n})}const Vee={borderRadius:{...Yd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yd,borderTopRightRadius:Yd,borderBottomLeftRadius:Yd,borderBottomRightRadius:Yd,boxShadow:Mee};function Lee(t,e,n){const r=Sn(t)?t:Du(t);return r.start(IT("",r,e,n)),r.animation}const Fee=(t,e)=>t.depth-e.depth;class jee{constructor(){this.children=[],this.isDirty=!1}add(e){Qx(this.children,e),this.isDirty=!0}remove(e){Yx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Fee),this.isDirty=!1,this.children.forEach(e)}}function Uee(t,e){const n=Xn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ia(r),t(i-e))};return xt.setup(r,!0),()=>ia(r)}const NV=["TopLeft","TopRight","BottomLeft","BottomRight"],Bee=NV.length,YP=t=>typeof t=="string"?parseFloat(t):t,XP=t=>typeof t=="number"||Me.test(t);function $ee(t,e,n,r,s,i){s?(t.opacity=At(0,n.opacity??1,zee(r)),t.opacityExit=At(e.opacity??1,0,Wee(r))):i&&(t.opacity=At(e.opacity??1,n.opacity??1,r));for(let a=0;a<Bee;a++){const c=`border${NV[a]}Radius`;let u=JP(e,c),h=JP(n,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||XP(u)===XP(h)?(t[c]=Math.max(At(YP(u),YP(h),r),0),(Bs.test(h)||Bs.test(u))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=At(e.rotate||0,n.rotate||0,r))}function JP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zee=MV(0,.5,EO),Wee=MV(.5,.95,Or);function MV(t,e,n){return r=>r<t?0:r>e?1:n(Kh(t,e,r))}function ZP(t,e){t.min=e.min,t.max=e.max}function Sr(t,e){ZP(t.x,e.x),ZP(t.y,e.y)}function eC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function tC(t,e,n,r,s){return t-=e,t=zg(t,1/n,r),s!==void 0&&(t=zg(t,1/s,r)),t}function qee(t,e=0,n=1,r=.5,s,i=t,a=t){if(Bs.test(e)&&(e=parseFloat(e),e=At(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=At(i.min,i.max,r);t===i&&(c-=e),t.min=tC(t.min,e,n,c,s),t.max=tC(t.max,e,n,c,s)}function nC(t,e,[n,r,s],i,a){qee(t,e[n],e[r],e[s],e.scale,i,a)}const Hee=["x","scaleX","originX"],Gee=["y","scaleY","originY"];function rC(t,e,n,r){nC(t.x,e,Hee,n?n.x:void 0,r?r.x:void 0),nC(t.y,e,Gee,n?n.y:void 0,r?r.y:void 0)}function sC(t){return t.translate===0&&t.scale===1}function OV(t){return sC(t.x)&&sC(t.y)}function iC(t,e){return t.min===e.min&&t.max===e.max}function Kee(t,e){return iC(t.x,e.x)&&iC(t.y,e.y)}function oC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function VV(t,e){return oC(t.x,e.x)&&oC(t.y,e.y)}function aC(t){return Mn(t.x)/Mn(t.y)}function lC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Qee{constructor(){this.members=[]}add(e){Qx(this.members,e),e.scheduleRender()}remove(e){if(Yx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yee(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:y,skewX:E,skewY:A}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),y&&(r+=`rotateY(${y}deg) `),E&&(r+=`skewX(${E}deg) `),A&&(r+=`skewY(${A}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const p_=["","X","Y","Z"],Xee=1e3;let Jee=0;function m_(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function LV(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=xV(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&LV(r)}function FV({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},c=e==null?void 0:e()){this.id=Jee++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tte),this.nodes.forEach(ite),this.nodes.forEach(ote),this.nodes.forEach(nte)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new jee)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Zx),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=ZO(a)&&!GJ(a),this.instance=a;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let p,g=0;const y=()=>this.root.updateBlockedByResize=!1;xt.read(()=>{g=window.innerWidth}),t(a,()=>{const E=window.innerWidth;E!==g&&(g=E,this.root.updateBlockedByResize=!0,p&&p(),p=Uee(y,250),Km.hasAnimatedSinceResize&&(Km.hasAnimatedSinceResize=!1,this.nodes.forEach(dC)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||h.getDefaultTransition()||dte,{onLayoutAnimationStart:b,onLayoutAnimationComplete:S}=h.getProps(),R=!this.targetLayout||!VV(this.targetLayout,E),V=!g&&y;if(this.options.layoutRoot||this.resumeFrom||V||g&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...hT(A,"layout"),onPlay:b,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(p,V)}else g||dC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ia(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ate),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&LV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(uC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ste),this.nodes.forEach(Zee),this.nodes.forEach(ete)):this.nodes.forEach(uC),this.clearAllSnapshots();const c=Xn.now();dn.delta=Li(0,1e3/60,c-dn.timestamp),dn.timestamp=c,dn.isProcessing=!0,r_.update.process(dn),r_.preRender.process(dn),r_.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rte),this.sharedNodes.forEach(lte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mn(this.snapshot.measuredBox.x)&&!Mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!OV(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;a&&this.instance&&(c||Ga(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),hte(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:a}=this.options;if(!a)return Bt();const c=a.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(fte))){const{scroll:p}=this.root;p&&(Kc(c.x,p.offset.x),Kc(c.y,p.offset.y))}return c}removeElementScroll(a){var u;const c=Bt();if(Sr(c,a),(u=this.scroll)!=null&&u.wasRoot)return c;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Sr(c,a),Kc(c.x,g.offset.x),Kc(c.y,g.offset.y))}return c}applyTransform(a,c=!1){const u=Bt();Sr(u,a);for(let h=0;h<this.path.length;h++){const p=this.path[h];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Qc(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Ga(p.latestValues)&&Qc(u,p.latestValues)}return Ga(this.latestValues)&&Qc(u,this.latestValues),u}removeTransform(a){const c=Bt();Sr(c,a);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Ga(h.latestValues))continue;W0(h.latestValues)&&h.updateSnapshot();const p=Bt(),g=h.measurePageBox();Sr(p,g),rC(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Ga(this.latestValues)&&rC(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var y;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=dn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Eh(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sr(this.target,this.layout.layoutBox),gV(this.target,this.targetDelta)):Sr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Eh(this.relativeTargetOrigin,this.target,E.target),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||W0(this.parent.latestValues)||mV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(u=!1),u)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Sr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;kZ(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Bt());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eC(this.prevProjectionDelta.x,this.projectionDelta.x),eC(this.prevProjectionDelta.y,this.projectionDelta.y)),_h(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!lC(this.projectionDelta.x,this.prevProjectionDelta.x)||!lC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yc(),this.projectionDelta=Yc(),this.projectionDeltaWithTransform=Yc()}setAnimationOrigin(a,c=!1){const u=this.snapshot,h=u?u.latestValues:{},p={...this.latestValues},g=Yc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=Bt(),E=u?u.source:void 0,A=this.layout?this.layout.source:void 0,b=E!==A,S=this.getStack(),R=!S||S.members.length<=1,V=!!(b&&!R&&this.options.crossfade===!0&&!this.path.some(ute));this.animationProgress=0;let N;this.mixTargetDelta=F=>{const B=F/1e3;hC(g.x,a.x,B),hC(g.y,a.y,B),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eh(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cte(this.relativeTarget,this.relativeTargetOrigin,y,B),N&&Kee(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Bt()),Sr(N,this.relativeTarget)),b&&(this.animationValues=p,$ee(p,h,this.latestValues,B,V,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var c,u,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||h.stop(),this.pendingAnimation&&(ia(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{Km.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Du(0)),this.currentAnimation=Lee(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),a.onUpdate&&a.onUpdate(p)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Xee),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:p}=a;if(!(!c||!u||!h)){if(this!==a&&this.layout&&h&&jV(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Bt();const g=Mn(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+g;const y=Mn(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+y}Sr(c,u),Qc(c,p),_h(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Qee),this.sharedNodes.get(a).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var c;const{layoutId:a}=this.options;return a?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:a}=this.options;return a?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&m_("z",a,h,this.animationValues);for(let p=0;p<p_.length;p++)m_(`rotate${p_[p]}`,a,h,this.animationValues),m_(`skew${p_[p]}`,a,h,this.animationValues);a.render();for(const p in h)a.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Gm(c==null?void 0:c.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Gm(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ga(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=Yee(this.projectionDeltaWithTransform,this.treeScale,p);u&&(g=u(p,g)),a.transform=g;const{x:y,y:E}=this.projectionDelta;a.transformOrigin=`${y.origin*100}% ${E.origin*100}% 0`,h.animationValues?a.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:a.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const A in Jh){if(p[A]===void 0)continue;const{correct:b,applyTo:S,isCSSVariable:R}=Jh[A],V=g==="none"?p[A]:b(p[A],h);if(S){const N=S.length;for(let F=0;F<N;F++)a[S[F]]=V}else R?this.options.visualElement.renderState.vars[A]=V:a[A]=V}this.options.layoutId&&(a.pointerEvents=h===this?Gm(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(cC),this.root.sharedNodes.clear()}}}function Zee(t){t.updateLayout()}function ete(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Ar(g=>{const y=a?e.measuredBox[g]:e.layoutBox[g],E=Mn(y);y.min=r[g].min,y.max=y.min+E}):jV(i,e.layoutBox,r)&&Ar(g=>{const y=a?e.measuredBox[g]:e.layoutBox[g],E=Mn(r[g]);y.max=y.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+E)});const c=Yc();_h(c,r,e.layoutBox);const u=Yc();a?_h(u,t.applyTransform(s,!0),e.measuredBox):_h(u,r,e.layoutBox);const h=!OV(c);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:E}=g;if(y&&E){const A=Bt();Eh(A,e.layoutBox,y.layoutBox);const b=Bt();Eh(b,r,E.layoutBox),VV(A,b)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=A,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function tte(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nte(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rte(t){t.clearSnapshot()}function cC(t){t.clearMeasurements()}function uC(t){t.isLayoutDirty=!1}function ste(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function dC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ite(t){t.resolveTargetDelta()}function ote(t){t.calcProjection()}function ate(t){t.resetSkewAndRotation()}function lte(t){t.removeLeadSnapshot()}function hC(t,e,n){t.translate=At(e.translate,0,n),t.scale=At(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function fC(t,e,n,r){t.min=At(e.min,n.min,r),t.max=At(e.max,n.max,r)}function cte(t,e,n,r){fC(t.x,e.x,n.x,r),fC(t.y,e.y,n.y,r)}function ute(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dte={duration:.45,ease:[.4,0,.1,1]},pC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mC=pC("applewebkit/")&&!pC("chrome/")?Math.round:Or;function gC(t){t.min=mC(t.min),t.max=mC(t.max)}function hte(t){gC(t.x),gC(t.y)}function jV(t,e,n){return t==="position"||t==="preserve-aspect"&&!vee(aC(e),aC(n),.2)}function fte(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const pte=FV({attachResizeListener:(t,e)=>Zh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),g_={current:void 0},UV=FV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!g_.current){const t=new pte({});t.mount(window),t.setOptions({layoutScroll:!0}),g_.current=t}return g_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mte={pan:{Feature:Nee},drag:{Feature:Dee,ProjectionNode:UV,MeasureLayout:DV}};function yC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&xt.postRender(()=>i(e,Of(e)))}class gte extends da{mount(){const{current:e}=this.node;e&&(this.unmount=$J(e,(n,r)=>(yC(this.node,r,"Start"),s=>yC(this.node,s,"End"))))}unmount(){}}class yte extends da{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Df(Zh(this.node.current,"focus",()=>this.onFocus()),Zh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&xt.postRender(()=>i(e,Of(e)))}class vte extends da{mount(){const{current:e}=this.node;e&&(this.unmount=HJ(e,(n,r)=>(vC(this.node,r,"Start"),(s,{success:i})=>vC(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const X0=new WeakMap,y_=new WeakMap,wte=t=>{const e=X0.get(t.target);e&&e(t)},_te=t=>{t.forEach(wte)};function Ete({root:t,...e}){const n=t||document;y_.has(n)||y_.set(n,{});const r=y_.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(_te,{root:t,...e})),r[s]}function xte(t,e,n){const r=Ete(e);return X0.set(t,n),r.observe(t),()=>{X0.delete(t),r.unobserve(t)}}const Tte={some:0,all:1};class Ite extends da{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Tte[s]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=h?p:g;y&&y(u)};return xte(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(bte(e,n))&&this.startObserver()}unmount(){}}function bte({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Ste={inView:{Feature:Ite},tap:{Feature:vte},focus:{Feature:yte},hover:{Feature:gte}},Ate={layout:{ProjectionNode:UV,MeasureLayout:DV}},Pte={...hee,...Ste,...mte,...Ate},jt=PZ(Pte,BZ);function J0(){const t=vx(),{user:e,loading:n}=kx(),[r,s]=pn.useState(!1);T.useEffect(()=>{!n&&e&&t(vt("Home"))},[e,n,t]);const i=()=>{e?t(vt("Home")):s(!0)};if(n)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-white",children:"Loading..."})]})});const a=[{icon:D7,title:"12 Math Concepts",description:"Addition, subtraction, multiplication, division, fractions, decimals, percentages, geometry & more!",gradient:"from-blue-400 to-cyan-500",emoji:""},{icon:YN,title:"AI Math Tutor",description:"Stuck on a problem? Get instant help with step-by-step explanations!",gradient:"from-purple-400 to-pink-500",emoji:""},{icon:TA,title:"Daily Challenges",description:"New challenges every day! Compete for bonus stars and climb the leaderboard!",gradient:"from-yellow-400 to-orange-500",emoji:""},{icon:$w,title:"Earn Rewards",description:"Collect stars and coins to unlock cool avatar items, pets, badges, and power-ups!",gradient:"from-green-400 to-emerald-500",emoji:""},{icon:IA,title:"Team Challenges",description:"Team up with friends and family to complete challenges together!",gradient:"from-indigo-400 to-purple-500",emoji:""},{icon:G7,title:"Safe & Secure",description:"Advanced parental controls, time limits, and content filtering for peace of mind",gradient:"from-red-400 to-pink-500",emoji:""}],c=[{emoji:"",name:"Addition",grade:"K-4"},{emoji:"",name:"Subtraction",grade:"K-4"},{emoji:"",name:"Multiplication",grade:"2-5"},{emoji:"",name:"Division",grade:"3-6"},{emoji:"",name:"Fractions",grade:"3-6"},{emoji:"0.5",name:"Decimals",grade:"4-7"},{emoji:"%",name:"Percentages",grade:"5-8"},{emoji:"",name:"Word Problems",grade:"2-6"},{emoji:"",name:"Money Math",grade:"1-5"},{emoji:"",name:"Time",grade:"1-4"},{emoji:"",name:"Geometry",grade:"3-7"},{emoji:"",name:"Mixed",grade:"3-8"}],u=[{text:"My kids actually BEG to practice math now! They love earning stars and unlocking new pets. Best $1 we've ever spent!",author:"Sarah M.",role:"Parent of 2 (Ages 7 & 9)",rating:5,emoji:""},{text:"The AI tutor is incredible! It explains things in a way my students actually understand. My whole class is hooked!",author:"Mr. Johnson",role:"3rd Grade Teacher",rating:5,emoji:""},{text:"I used to hate math but now it's FUN! I got the dragon pet and I'm on a 12-day streak! ",author:"Emma, Age 9",role:"Student & Math Champion",rating:5,emoji:""}],h=[{icon:TA,value:"10,000+",label:"Games Played Daily",color:"text-yellow-600"},{icon:$w,value:"50,000+",label:"Stars Earned",color:"text-purple-600"},{icon:IA,value:"1,000+",label:"Happy Learners",color:"text-blue-600"},{icon:xA,value:"100%",label:"Fun Guaranteed",color:"text-pink-600"}],p=[{emoji:"",name:"Dragon Pet",desc:"Levels up with you!"},{emoji:"",name:"Crown",desc:"Show you're a champion!"},{emoji:"",name:"Custom Avatar",desc:"100+ items to unlock!"},{emoji:"",name:"Power-Ups",desc:"Time freeze, hints & more!"}];return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx(jt.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-20",children:""}),x.jsx(jt.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-40 right-20 text-7xl opacity-20",children:""}),x.jsx(jt.div,{animate:{y:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-40 text-5xl opacity-20",children:""}),x.jsx(jt.div,{animate:{x:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 right-10 text-6xl opacity-20",children:""})]}),x.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 md:py-20",children:x.jsxs("div",{className:"text-center",children:[x.jsx(jt.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"inline-block mb-8",children:x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl transform rotate-12 animate-pulse overflow-hidden",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-24 h-24 object-contain transform -rotate-12"})}),x.jsx(jt.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 text-4xl",children:""}),x.jsx(jt.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -left-2 text-4xl",children:""})]})}),x.jsx(jt.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 text-white drop-shadow-2xl",children:"Math is FUN Now! "}),x.jsx(jt.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl text-white mb-4 max-w-3xl mx-auto font-bold drop-shadow-lg",children:"Learn  Play  Earn Rewards  Level Up!"}),x.jsxs(jt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[x.jsxs(dm,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 text-lg font-bold shadow-xl border-0 animate-pulse",children:[x.jsx(E7,{className:"w-5 h-5 mr-2"}),"7-Day FREE Trial - All Features!"]}),x.jsxs(dm,{className:"bg-white text-pink-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(xA,{className:"w-5 h-5 mr-2"}),"Kids LOVE It!"]}),x.jsxs(dm,{className:"bg-white text-blue-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(XN,{className:"w-5 h-5 mr-2"}),"AI-Powered"]})]}),x.jsxs(jt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[x.jsxs(ts,{onClick:i,className:"h-20 px-12 text-2xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:[x.jsx(z7,{className:"w-8 h-8 mr-3"}),"START FREE NOW! "]}),x.jsxs(ts,{onClick:()=>{var g;return(g=document.getElementById("features"))==null?void 0:g.scrollIntoView({behavior:"smooth"})},className:"h-20 px-10 text-xl font-bold border-4 border-white text-white bg-transparent hover:bg-white hover:text-purple-600 shadow-xl transition-all",children:["See What's Inside",x.jsx(u7,{className:"w-6 h-6 ml-2"})]})]}),x.jsx(jt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:h.map((g,y)=>{const E=g.icon;return x.jsxs(jt.div,{whileHover:{scale:1.05},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border-4 border-yellow-300",children:[x.jsx(E,{className:`w-10 h-10 mx-auto mb-3 ${g.color}`}),x.jsx("div",{className:"text-3xl font-black text-gray-800",children:g.value}),x.jsx("div",{className:"text-sm font-bold text-gray-600 mt-1",children:g.label})]},y)})})]})}),x.jsxs("div",{style:{background:"linear-gradient(90deg, #6a11cb 0%, #2575fc 100%)",color:"#fff",padding:"14px 0 12px 0",textAlign:"center",fontWeight:"bold",fontSize:"1.1rem",letterSpacing:"0.01em",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.08)",borderBottom:"2px solid #fff",borderRadius:8,margin:"0 auto 24px auto",maxWidth:900},className:"mx-auto mb-8",children:[x.jsx("span",{role:"img","aria-label":"lightbulb",style:{marginRight:8},children:""}),"Best Experience: ",x.jsx("span",{style:{fontWeight:700},children:"Math Adventure"})," works best on ",x.jsx("span",{style:{textDecoration:"underline"},children:"tablets"})," and ",x.jsx("span",{style:{textDecoration:"underline"},children:"desktop computers"})," for optimal gameplay and features."]}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"What's Inside? Everything! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Your kids will love these amazing features!"})]}),x.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-16",children:p.map((g,y)=>x.jsxs(jt.div,{whileHover:{y:-10,scale:1.05},className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-8 text-center border-4 border-purple-300 shadow-xl",children:[x.jsx("div",{className:"text-7xl mb-4",children:g.emoji}),x.jsx("h3",{className:"font-black text-xl mb-2 text-purple-800",children:g.name}),x.jsx("p",{className:"text-gray-700 font-semibold",children:g.desc})]},y))}),x.jsxs("div",{className:"mb-16",children:[x.jsx("h3",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-gray-800",children:"12 Math Skills to Master! "}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:c.map((g,y)=>x.jsxs(jt.div,{whileHover:{scale:1.1,rotate:5},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 text-center border-3 border-blue-200 shadow-lg hover:shadow-2xl transition-all",children:[x.jsx("div",{className:"text-5xl mb-3",children:g.emoji}),x.jsx("div",{className:"font-bold text-sm text-gray-800",children:g.name}),x.jsx(dm,{className:"mt-2 bg-purple-500 text-white text-xs",children:g.grade})]},y))})]})]})}),x.jsx("div",{id:"features",className:"bg-gradient-to-br from-yellow-50 to-orange-50 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Why Kids Are OBSESSED! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Learning has never been this fun!"})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((g,y)=>{const E=g.icon;return x.jsxs(jt.div,{whileHover:{y:-10},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300",children:[x.jsxs("div",{className:`h-32 bg-gradient-to-br ${g.gradient} flex items-center justify-center relative`,children:[x.jsx("div",{className:"text-7xl",children:g.emoji}),x.jsx("div",{className:"absolute top-3 right-3",children:x.jsx(E,{className:"w-10 h-10 text-white opacity-50"})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("h3",{className:"text-2xl font-black mb-3 text-gray-800",children:g.title}),x.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:g.description})]})]},y)})})]})}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"So Easy, Even Parents Can Do It! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Three simple steps to math mastery"})]}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[x.jsxs(jt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-green-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-green-500",children:"1"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Pick & Play! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Choose a math topic and difficulty. Start playing in seconds!"})]}),x.jsxs(jt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-blue-400 to-cyan-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-blue-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-blue-500",children:"2"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Learn & Win! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Solve problems, get AI help when stuck, earn stars & coins!"})]}),x.jsxs(jt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-purple-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-purple-500",children:"3"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Unlock Rewards! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Buy avatars, pets, badges, power-ups and MORE!"})]})]})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Parents & Kids LOVE Us! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Don't just take our word for it..."})]}),x.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:u.map((g,y)=>x.jsxs(jt.div,{whileHover:{y:-10,scale:1.02},className:"bg-white rounded-3xl p-8 shadow-2xl border-4 border-purple-300",children:[x.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(g.rating)].map((E,A)=>x.jsx($w,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"},A))}),x.jsx("div",{className:"text-6xl mb-4",children:g.emoji}),x.jsxs("p",{className:"text-gray-700 mb-6 italic font-semibold text-lg",children:['"',g.text,'"']}),x.jsxs("div",{children:[x.jsx("p",{className:"font-black text-lg text-gray-800",children:g.author}),x.jsx("p",{className:"text-sm text-gray-600 font-bold",children:g.role})]})]},y))})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 py-20",children:x.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[x.jsx(jt.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-8xl mb-8",children:""}),x.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 text-white drop-shadow-2xl",children:"Ready for Math Adventure?"}),x.jsx("p",{className:"text-3xl text-white mb-12 font-bold drop-shadow-lg",children:"Join 1,000+ kids having FUN with math!"}),x.jsxs(ts,{onClick:i,className:"h-24 px-16 text-3xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-110 transition-all animate-pulse",children:[x.jsx(B7,{className:"w-10 h-10 mr-4"}),"LET'S GO! IT'S FREE! "]}),x.jsx("p",{className:"text-white mt-6 text-lg font-bold drop-shadow",children:" No credit card   Start in 30 seconds   100% kid-safe"})]})}),x.jsx("div",{className:"bg-gray-900 text-white py-8",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[x.jsx("div",{className:"mb-4 flex items-center justify-center",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-16 h-16 object-contain"})}),x.jsx("h3",{className:"text-3xl font-black mb-2",children:"Math Adventure"}),x.jsx("p",{className:"text-gray-400 mb-4 text-lg",children:"Making math fun, one game at a time! "}),x.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Math Adventure. Built with  for learners everywhere."})]})}),r&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[x.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:""}),x.jsx(fM,{onSuccess:()=>t(vt("Home"))})]})})]})}const BV=T.lazy(()=>$t(()=>import("./Home-CyglPuDJ.js"),__vite__mapDeps([4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]))),$V=T.lazy(()=>$t(()=>import("./Game-Car3f5Hl.js"),__vite__mapDeps([19,20,1,21,22,10,23,24,16,11,17,9,25,15,26,27,28,29,7]))),zV=T.lazy(()=>$t(()=>import("./Avatar-D3Vaufpw.js"),__vite__mapDeps([30,20,31,32,33,34,15,0,1,14,35,26]))),WV=T.lazy(()=>$t(()=>import("./DailyChallenge-B_TmHe71.js"),__vite__mapDeps([36,20,1,21,22,17,10,37,27,29,5,7]))),qV=T.lazy(()=>$t(()=>import("./ParentPortal-uD_6EQCB.js"),__vite__mapDeps([38,20,32,33,39,9,16,25,40,31,41,42,34,1,10,12,43,35,15,26,11,44,45,3,17,46,28,14]))),HV=T.lazy(()=>$t(()=>import("./Shop-Dpi3jNOM.js"),__vite__mapDeps([47,20,32,0,1,23,15,28,18,7]))),GV=T.lazy(()=>$t(()=>import("./Leaderboards-CYLEtOqi.js"),__vite__mapDeps([48,20,32,49,9,17,7,12,10,37,46]))),KV=T.lazy(()=>$t(()=>import("./TeamChallenges-2GLMQU7M.js"),__vite__mapDeps([50,20,1,17,23,9,10]))),QV=T.lazy(()=>$t(()=>import("./Subscription-BwkMZCw3.js"),__vite__mapDeps([51,20,6,26]))),YV=T.lazy(()=>$t(()=>import("./GenerateIcons-B2dbw11g.js"),__vite__mapDeps([52,53,26,3,8]))),XV=T.lazy(()=>$t(()=>import("./TestIconGeneration-CQ_anw_c.js"),__vite__mapDeps([54,53]))),JV=T.lazy(()=>$t(()=>import("./Messages-Ro3POV2v.js"),__vite__mapDeps([55,20,39,45,44,16,43]))),ZV=T.lazy(()=>$t(()=>import("./ColorByNumbers-C-wguKtm.js"),__vite__mapDeps([56,20,41,42,34,29,18,12,13,44,24,3,57]))),eL=T.lazy(()=>$t(()=>import("./Settings-8809jpiZ.js"),__vite__mapDeps([58,42,22,18,44,10,12,13,57,24,26,43]))),tL=T.lazy(()=>$t(()=>import("./PrivacyPolicy-BVigO746.js"),__vite__mapDeps([59,26,15,45]))),nL=T.lazy(()=>$t(()=>import("./AITutor-pphYUSPx.js"),__vite__mapDeps([60,32,10,25,16,7,27,1,9,40,17,28,15,11]))),rL=T.lazy(()=>$t(()=>import("./AdminTestAccount-vgF3JIMZ.js"),__vite__mapDeps([61,31,49,26]))),sL=T.lazy(()=>$t(()=>import("./Subscribe-CBrYcDKc.js"),__vite__mapDeps([62,53]))),wC={Home:BV,Game:$V,Avatar:zV,DailyChallenge:WV,ParentPortal:qV,Shop:HV,Leaderboards:GV,TeamChallenges:KV,Subscription:QV,GenerateIcons:YV,TestIconGeneration:XV,Landing:J0,Messages:JV,ColorByNumbers:ZV,Settings:eL,PrivacyPolicy:tL,AITutor:nL,AdminTestAccount:rL,Subscribe:sL};function Cte(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(wC).find(r=>r.toLowerCase()===e.toLowerCase())||Object.keys(wC)[0]}const Rte=()=>x.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-gray-600",children:"Loading..."})]})});function kte(){const t=Wi(),e=Cte(t.pathname);return x.jsx(WY,{currentPageName:e,children:x.jsx(R0,{children:x.jsx(T.Suspense,{fallback:x.jsx(Rte,{}),children:x.jsxs($z,{children:[x.jsx(Ut,{path:"/",element:x.jsx(J0,{})}),x.jsx(Ut,{path:"/Home",element:x.jsx(BV,{})}),x.jsx(Ut,{path:"/Game",element:x.jsx($V,{})}),x.jsx(Ut,{path:"/Avatar",element:x.jsx(zV,{})}),x.jsx(Ut,{path:"/DailyChallenge",element:x.jsx(WV,{})}),x.jsx(Ut,{path:"/ParentPortal",element:x.jsx(qV,{})}),x.jsx(Ut,{path:"/Shop",element:x.jsx(HV,{})}),x.jsx(Ut,{path:"/Leaderboards",element:x.jsx(GV,{})}),x.jsx(Ut,{path:"/TeamChallenges",element:x.jsx(KV,{})}),x.jsx(Ut,{path:"/Subscription",element:x.jsx(QV,{})}),x.jsx(Ut,{path:"/GenerateIcons",element:x.jsx(YV,{})}),x.jsx(Ut,{path:"/TestIconGeneration",element:x.jsx(XV,{})}),x.jsx(Ut,{path:"/Landing",element:x.jsx(J0,{})}),x.jsx(Ut,{path:"/Messages",element:x.jsx(JV,{})}),x.jsx(Ut,{path:"/ColorByNumbers",element:x.jsx(ZV,{})}),x.jsx(Ut,{path:"/Settings",element:x.jsx(eL,{})}),x.jsx(Ut,{path:"/PrivacyPolicy",element:x.jsx(tL,{})}),x.jsx(Ut,{path:"/AITutor",element:x.jsx(nL,{})}),x.jsx(Ut,{path:"/AdminTestAccount",element:x.jsx(rL,{})}),x.jsx(Ut,{path:"/Subscribe",element:x.jsx(sL,{})})]})})})})}function Dte(){return x.jsx(d8,{children:x.jsx(kte,{})})}const Nte=20,Mte=1e6,Si={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let v_=0;function Ote(){return v_=(v_+1)%Number.MAX_VALUE,v_.toString()}const w_=new Map,_C=t=>{if(w_.has(t))return;const e=setTimeout(()=>{w_.delete(t),xh({type:Si.REMOVE_TOAST,toastId:t})},Mte);w_.set(t,e)},Vte=(t,e)=>{switch(e.type){case Si.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,Nte)};case Si.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Si.DISMISS_TOAST:{const{toastId:n}=e;return n?_C(n):t.toasts.forEach(r=>{_C(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Si.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Qm=[];let Ym={toasts:[]};function xh(t){Ym=Vte(Ym,t),Qm.forEach(e=>{e(Ym)})}function Lte({...t}){const e=Ote(),n=s=>xh({type:Si.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>xh({type:Si.DISMISS_TOAST,toastId:e});return xh({type:Si.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Fte(){const[t,e]=T.useState(Ym);return T.useEffect(()=>(Qm.push(e),()=>{const n=Qm.indexOf(e);n>-1&&Qm.splice(n,1)}),[t]),{...t,toast:Lte,dismiss:n=>xh({type:Si.DISMISS_TOAST,toastId:n})}}const iL=T.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));iL.displayName="ToastProvider";const oL=T.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));oL.displayName="ToastViewport";const jte=ky("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aL=T.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,className:wt(jte({variant:e}),t),...n}));aL.displayName="Toast";const Ute=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Ute.displayName="ToastAction";const lL=T.forwardRef(({className:t,...e},n)=>x.jsx("button",{ref:n,className:wt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(Px,{className:"h-4 w-4"})}));lL.displayName="ToastClose";const cL=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm font-semibold",t),...e}));cL.displayName="ToastTitle";const uL=T.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm opacity-90",t),...e}));uL.displayName="ToastDescription";function Bte(){const{toasts:t}=Fte();return x.jsxs(iL,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return x.jsxs(aL,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(cL,{children:n}),r&&x.jsx(uL,{children:r})]}),s,x.jsx(lL,{})]},e)}),x.jsx(oL,{})]})}function $te(){return x.jsxs(x.Fragment,{children:[x.jsx(Dte,{}),x.jsx(Bte,{})]})}const zte=new q8({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});PF.createRoot(document.getElementById("root")).render(x.jsx(G8,{client:zte,children:x.jsx(sq,{children:x.jsx($te,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{hm as $,gM as A,dm as B,qY as C,tne as D,YN as E,m7 as F,Wb as G,fM as H,HY as I,GY as J,ene as K,rn as L,one as M,vx as N,jt as O,Xte as P,O7 as Q,pn as R,G7 as S,TA as T,IA as U,u7 as V,T7 as W,Px as X,w7 as Y,rq as Z,Zte as _,f7 as a,qte as a$,Sf as a0,UM as a1,x0 as a2,vM as a3,lG as a4,Zn as a5,cG as a6,jn as a7,et as a8,Pf as a9,dne as aA,Jte as aB,nne as aC,ine as aD,cne as aE,une as aF,ane as aG,sne as aH,Ul as aI,LG as aJ,u2 as aK,Nq as aL,bM as aM,hne as aN,EM as aO,_M as aP,na as aQ,Tx as aR,Mi as aS,bf as aT,r0 as aU,Bh as aV,$8 as aW,mn as aX,Qn as aY,R8 as aZ,EA as a_,QM as aa,TM as ab,uG as ac,dG as ad,zw as ae,Bm as af,by as ag,Qs as ah,Q7 as ai,rne as aj,as as ak,Nl as al,HD as am,ZN as an,eE as ao,ux as ap,Yte as aq,tG as ar,xA as as,jh as at,q7 as au,Gh as av,FQ as aw,Fte as ax,bY as ay,lne as az,E7 as b,XM as b0,SG as b1,AG as b2,jW as b3,ky as b4,eV as b5,FJ as b6,XY as b7,Kx as b8,YJ as b9,JY as ba,uO as bb,ut as c,QY as d,A7 as e,UY as f,vt as g,ts as h,yy as i,x as j,ss as k,Fn as l,qs as m,kx as n,wt as o,Um as p,Ws as q,T as r,C0 as s,y7 as t,i7 as u,XN as v,Zr as w,$w as x,yM as y,H8 as z};
