var P4=t=>{throw TypeError(t)};var $j=(t,e,n)=>e.has(t)||P4("Cannot "+n);var ye=(t,e,n)=>($j(t,e,"read from private field"),n?n.call(t):e.get(t)),nn=(t,e,n)=>e.has(t)?P4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Et=(t,e,n,r)=>($j(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Tn=(t,e,n)=>($j(t,e,"access private method"),n);function Tte(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fj={exports:{}},wp={},Vj={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C4;function Ete(){if(C4)return Pt;C4=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function p(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function g(W,Z,ue){this.props=W,this.context=Z,this.refs=x,this.updater=ue||v}g.prototype.isReactComponent={},g.prototype.setState=function(W,Z){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Z,"setState")},g.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function _(){}_.prototype=g.prototype;function T(W,Z,ue){this.props=W,this.context=Z,this.refs=x,this.updater=ue||v}var A=T.prototype=new _;A.constructor=T,w(A,g.prototype),A.isPureReactComponent=!0;var I=Array.isArray,P=Object.prototype.hasOwnProperty,C={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function N(W,Z,ue){var le,be={},ge=null,me=null;if(Z!=null)for(le in Z.ref!==void 0&&(me=Z.ref),Z.key!==void 0&&(ge=""+Z.key),Z)P.call(Z,le)&&!E.hasOwnProperty(le)&&(be[le]=Z[le]);var Ie=arguments.length-2;if(Ie===1)be.children=ue;else if(1<Ie){for(var fe=Array(Ie),Ae=0;Ae<Ie;Ae++)fe[Ae]=arguments[Ae+2];be.children=fe}if(W&&W.defaultProps)for(le in Ie=W.defaultProps,Ie)be[le]===void 0&&(be[le]=Ie[le]);return{$$typeof:t,type:W,key:ge,ref:me,props:be,_owner:C.current}}function O(W,Z){return{$$typeof:t,type:W.type,key:Z,ref:W.ref,props:W.props,_owner:W._owner}}function D(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function L(W){var Z={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ue){return Z[ue]})}var $=/\/+/g;function F(W,Z){return typeof W=="object"&&W!==null&&W.key!=null?L(""+W.key):Z.toString(36)}function G(W,Z,ue,le,be){var ge=typeof W;(ge==="undefined"||ge==="boolean")&&(W=null);var me=!1;if(W===null)me=!0;else switch(ge){case"string":case"number":me=!0;break;case"object":switch(W.$$typeof){case t:case e:me=!0}}if(me)return me=W,be=be(me),W=le===""?"."+F(me,0):le,I(be)?(ue="",W!=null&&(ue=W.replace($,"$&/")+"/"),G(be,Z,ue,"",function(Ae){return Ae})):be!=null&&(D(be)&&(be=O(be,ue+(!be.key||me&&me.key===be.key?"":(""+be.key).replace($,"$&/")+"/")+W)),Z.push(be)),1;if(me=0,le=le===""?".":le+":",I(W))for(var Ie=0;Ie<W.length;Ie++){ge=W[Ie];var fe=le+F(ge,Ie);me+=G(ge,Z,ue,fe,be)}else if(fe=p(W),typeof fe=="function")for(W=fe.call(W),Ie=0;!(ge=W.next()).done;)ge=ge.value,fe=le+F(ge,Ie++),me+=G(ge,Z,ue,fe,be);else if(ge==="object")throw Z=String(W),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return me}function Y(W,Z,ue){if(W==null)return W;var le=[],be=0;return G(W,le,"","",function(ge){return Z.call(ue,ge,be++)}),le}function K(W){if(W._status===-1){var Z=W._result;Z=Z(),Z.then(function(ue){(W._status===0||W._status===-1)&&(W._status=1,W._result=ue)},function(ue){(W._status===0||W._status===-1)&&(W._status=2,W._result=ue)}),W._status===-1&&(W._status=0,W._result=Z)}if(W._status===1)return W._result.default;throw W._result}var X={current:null},U={transition:null},Q={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:U,ReactCurrentOwner:C};function re(){throw Error("act(...) is not supported in production builds of React.")}return Pt.Children={map:Y,forEach:function(W,Z,ue){Y(W,function(){Z.apply(this,arguments)},ue)},count:function(W){var Z=0;return Y(W,function(){Z++}),Z},toArray:function(W){return Y(W,function(Z){return Z})||[]},only:function(W){if(!D(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Pt.Component=g,Pt.Fragment=n,Pt.Profiler=i,Pt.PureComponent=T,Pt.StrictMode=r,Pt.Suspense=c,Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Pt.act=re,Pt.cloneElement=function(W,Z,ue){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var le=w({},W.props),be=W.key,ge=W.ref,me=W._owner;if(Z!=null){if(Z.ref!==void 0&&(ge=Z.ref,me=C.current),Z.key!==void 0&&(be=""+Z.key),W.type&&W.type.defaultProps)var Ie=W.type.defaultProps;for(fe in Z)P.call(Z,fe)&&!E.hasOwnProperty(fe)&&(le[fe]=Z[fe]===void 0&&Ie!==void 0?Ie[fe]:Z[fe])}var fe=arguments.length-2;if(fe===1)le.children=ue;else if(1<fe){Ie=Array(fe);for(var Ae=0;Ae<fe;Ae++)Ie[Ae]=arguments[Ae+2];le.children=Ie}return{$$typeof:t,type:W.type,key:be,ref:ge,props:le,_owner:me}},Pt.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},Pt.createElement=N,Pt.createFactory=function(W){var Z=N.bind(null,W);return Z.type=W,Z},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(W){return{$$typeof:l,render:W}},Pt.isValidElement=D,Pt.lazy=function(W){return{$$typeof:f,_payload:{_status:-1,_result:W},_init:K}},Pt.memo=function(W,Z){return{$$typeof:d,type:W,compare:Z===void 0?null:Z}},Pt.startTransition=function(W){var Z=U.transition;U.transition={};try{W()}finally{U.transition=Z}},Pt.unstable_act=re,Pt.useCallback=function(W,Z){return X.current.useCallback(W,Z)},Pt.useContext=function(W){return X.current.useContext(W)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(W){return X.current.useDeferredValue(W)},Pt.useEffect=function(W,Z){return X.current.useEffect(W,Z)},Pt.useId=function(){return X.current.useId()},Pt.useImperativeHandle=function(W,Z,ue){return X.current.useImperativeHandle(W,Z,ue)},Pt.useInsertionEffect=function(W,Z){return X.current.useInsertionEffect(W,Z)},Pt.useLayoutEffect=function(W,Z){return X.current.useLayoutEffect(W,Z)},Pt.useMemo=function(W,Z){return X.current.useMemo(W,Z)},Pt.useReducer=function(W,Z,ue){return X.current.useReducer(W,Z,ue)},Pt.useRef=function(W){return X.current.useRef(W)},Pt.useState=function(W){return X.current.useState(W)},Pt.useSyncExternalStore=function(W,Z,ue){return X.current.useSyncExternalStore(W,Z,ue)},Pt.useTransition=function(){return X.current.useTransition()},Pt.version="18.3.1",Pt}var k4;function KC(){return k4||(k4=1,Vj.exports=Ete()),Vj.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4;function Ate(){if(I4)return wp;I4=1;var t=KC(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var f,m={},p=null,v=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(v=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(m[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)m[f]===void 0&&(m[f]=c[f]);return{$$typeof:e,type:l,key:p,ref:v,props:m,_owner:i.current}}return wp.Fragment=n,wp.jsx=o,wp.jsxs=o,wp}var O4;function Pte(){return O4||(O4=1,Fj.exports=Ate()),Fj.exports}var a=Pte(),S=KC();const z=Jt(S),YC=Tte({__proto__:null,default:z},[S]);var Sv={},Bj={exports:{}},Mi={},qj={exports:{}},Uj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R4;function Cte(){return R4||(R4=1,(function(t){function e(U,Q){var re=U.length;U.push(Q);e:for(;0<re;){var W=re-1>>>1,Z=U[W];if(0<i(Z,Q))U[W]=Q,U[re]=Z,re=W;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Q=U[0],re=U.pop();if(re!==Q){U[0]=re;e:for(var W=0,Z=U.length,ue=Z>>>1;W<ue;){var le=2*(W+1)-1,be=U[le],ge=le+1,me=U[ge];if(0>i(be,re))ge<Z&&0>i(me,be)?(U[W]=me,U[ge]=re,W=ge):(U[W]=be,U[le]=re,W=le);else if(ge<Z&&0>i(me,re))U[W]=me,U[ge]=re,W=ge;else break e}}return Q}function i(U,Q){var re=U.sortIndex-Q.sortIndex;return re!==0?re:U.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,m=null,p=3,v=!1,w=!1,x=!1,g=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(U){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=U)r(d),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(d)}}function I(U){if(x=!1,A(U),!w)if(n(c)!==null)w=!0,K(P);else{var Q=n(d);Q!==null&&X(I,Q.startTime-U)}}function P(U,Q){w=!1,x&&(x=!1,_(N),N=-1),v=!0;var re=p;try{for(A(Q),m=n(c);m!==null&&(!(m.expirationTime>Q)||U&&!L());){var W=m.callback;if(typeof W=="function"){m.callback=null,p=m.priorityLevel;var Z=W(m.expirationTime<=Q);Q=t.unstable_now(),typeof Z=="function"?m.callback=Z:m===n(c)&&r(c),A(Q)}else r(c);m=n(c)}if(m!==null)var ue=!0;else{var le=n(d);le!==null&&X(I,le.startTime-Q),ue=!1}return ue}finally{m=null,p=re,v=!1}}var C=!1,E=null,N=-1,O=5,D=-1;function L(){return!(t.unstable_now()-D<O)}function $(){if(E!==null){var U=t.unstable_now();D=U;var Q=!0;try{Q=E(!0,U)}finally{Q?F():(C=!1,E=null)}}else C=!1}var F;if(typeof T=="function")F=function(){T($)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Y=G.port2;G.port1.onmessage=$,F=function(){Y.postMessage(null)}}else F=function(){g($,0)};function K(U){E=U,C||(C=!0,F())}function X(U,Q){N=g(function(){U(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,K(P))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var re=p;p=Q;try{return U()}finally{p=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,Q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var re=p;p=U;try{return Q()}finally{p=re}},t.unstable_scheduleCallback=function(U,Q,re){var W=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?W+re:W):re=W,U){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=re+Z,U={id:f++,callback:Q,priorityLevel:U,startTime:re,expirationTime:Z,sortIndex:-1},re>W?(U.sortIndex=re,e(d,U),n(c)===null&&U===n(d)&&(x?(_(N),N=-1):x=!0,X(I,re-W))):(U.sortIndex=Z,e(c,U),w||v||(w=!0,K(P))),U},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(U){var Q=p;return function(){var re=p;p=Q;try{return U.apply(this,arguments)}finally{p=re}}}})(Uj)),Uj}var M4;function kte(){return M4||(M4=1,qj.exports=Cte()),qj.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D4;function Ite(){if(D4)return Mi;D4=1;var t=KC(),e=kte();function n(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,h){o(u,h),o(u+"Capture",h)}function o(u,h){for(i[u]=h,u=0;u<h.length;u++)r.add(h[u])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(u){return c.call(m,u)?!0:c.call(f,u)?!1:d.test(u)?m[u]=!0:(f[u]=!0,!1)}function v(u,h,y,j){if(y!==null&&y.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return j?!1:y!==null?!y.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function w(u,h,y,j){if(h===null||typeof h>"u"||v(u,h,y,j))return!0;if(j)return!1;if(y!==null)switch(y.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function x(u,h,y,j,k,R,B){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=j,this.attributeNamespace=k,this.mustUseProperty=y,this.propertyName=u,this.type=h,this.sanitizeURL=R,this.removeEmptyString=B}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){g[u]=new x(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];g[h]=new x(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){g[u]=new x(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){g[u]=new x(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){g[u]=new x(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){g[u]=new x(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){g[u]=new x(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){g[u]=new x(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){g[u]=new x(u,5,!1,u.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function T(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(_,T);g[h]=new x(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(_,T);g[h]=new x(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(_,T);g[h]=new x(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){g[u]=new x(u,1,!1,u.toLowerCase(),null,!1,!1)}),g.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){g[u]=new x(u,1,!1,u.toLowerCase(),null,!0,!0)});function A(u,h,y,j){var k=g.hasOwnProperty(h)?g[h]:null;(k!==null?k.type!==0:j||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(w(h,y,k,j)&&(y=null),j||k===null?p(h)&&(y===null?u.removeAttribute(h):u.setAttribute(h,""+y)):k.mustUseProperty?u[k.propertyName]=y===null?k.type===3?!1:"":y:(h=k.attributeName,j=k.attributeNamespace,y===null?u.removeAttribute(h):(k=k.type,y=k===3||k===4&&y===!0?"":""+y,j?u.setAttributeNS(j,h,y):u.setAttribute(h,y))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),U=Symbol.iterator;function Q(u){return u===null||typeof u!="object"?null:(u=U&&u[U]||u["@@iterator"],typeof u=="function"?u:null)}var re=Object.assign,W;function Z(u){if(W===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);W=h&&h[1]||""}return`
`+W+u}var ue=!1;function le(u,h){if(!u||ue)return"";ue=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(ce){var j=ce}Reflect.construct(u,[],h)}else{try{h.call()}catch(ce){j=ce}u.call(h.prototype)}else{try{throw Error()}catch(ce){j=ce}u()}}catch(ce){if(ce&&j&&typeof ce.stack=="string"){for(var k=ce.stack.split(`
`),R=j.stack.split(`
`),B=k.length-1,H=R.length-1;1<=B&&0<=H&&k[B]!==R[H];)H--;for(;1<=B&&0<=H;B--,H--)if(k[B]!==R[H]){if(B!==1||H!==1)do if(B--,H--,0>H||k[B]!==R[H]){var J=`
`+k[B].replace(" at new "," at ");return u.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",u.displayName)),J}while(1<=B&&0<=H);break}}}finally{ue=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?Z(u):""}function be(u){switch(u.tag){case 5:return Z(u.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return u=le(u.type,!1),u;case 11:return u=le(u.type.render,!1),u;case 1:return u=le(u.type,!0),u;default:return""}}function ge(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case E:return"Fragment";case C:return"Portal";case O:return"Profiler";case N:return"StrictMode";case F:return"Suspense";case G:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case L:return(u.displayName||"Context")+".Consumer";case D:return(u._context.displayName||"Context")+".Provider";case $:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Y:return h=u.displayName||null,h!==null?h:ge(u.type)||"Memo";case K:h=u._payload,u=u._init;try{return ge(u(h))}catch{}}return null}function me(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(h);case 8:return h===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Ie(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function fe(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Ae(u){var h=fe(u)?"checked":"value",y=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),j=""+u[h];if(!u.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var k=y.get,R=y.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return k.call(this)},set:function(B){j=""+B,R.call(this,B)}}),Object.defineProperty(u,h,{enumerable:y.enumerable}),{getValue:function(){return j},setValue:function(B){j=""+B},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Re(u){u._valueTracker||(u._valueTracker=Ae(u))}function he(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var y=h.getValue(),j="";return u&&(j=fe(u)?u.checked?"true":"false":u.value),u=j,u!==y?(h.setValue(u),!0):!1}function ot(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function et(u,h){var y=h.checked;return re({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??u._wrapperState.initialChecked})}function kt(u,h){var y=h.defaultValue==null?"":h.defaultValue,j=h.checked!=null?h.checked:h.defaultChecked;y=Ie(h.value!=null?h.value:y),u._wrapperState={initialChecked:j,initialValue:y,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function It(u,h){h=h.checked,h!=null&&A(u,"checked",h,!1)}function Gt(u,h){It(u,h);var y=Ie(h.value),j=h.type;if(y!=null)j==="number"?(y===0&&u.value===""||u.value!=y)&&(u.value=""+y):u.value!==""+y&&(u.value=""+y);else if(j==="submit"||j==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?Ot(u,h.type,y):h.hasOwnProperty("defaultValue")&&Ot(u,h.type,Ie(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function Kn(u,h,y){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var j=h.type;if(!(j!=="submit"&&j!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,y||h===u.value||(u.value=h),u.defaultValue=h}y=u.name,y!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,y!==""&&(u.name=y)}function Ot(u,h,y){(h!=="number"||ot(u.ownerDocument)!==u)&&(y==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+y&&(u.defaultValue=""+y))}var tn=Array.isArray;function Cn(u,h,y,j){if(u=u.options,h){h={};for(var k=0;k<y.length;k++)h["$"+y[k]]=!0;for(y=0;y<u.length;y++)k=h.hasOwnProperty("$"+u[y].value),u[y].selected!==k&&(u[y].selected=k),k&&j&&(u[y].defaultSelected=!0)}else{for(y=""+Ie(y),h=null,k=0;k<u.length;k++){if(u[k].value===y){u[k].selected=!0,j&&(u[k].defaultSelected=!0);return}h!==null||u[k].disabled||(h=u[k])}h!==null&&(h.selected=!0)}}function wr(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function fi(u,h){var y=h.value;if(y==null){if(y=h.children,h=h.defaultValue,y!=null){if(h!=null)throw Error(n(92));if(tn(y)){if(1<y.length)throw Error(n(93));y=y[0]}h=y}h==null&&(h=""),y=h}u._wrapperState={initialValue:Ie(y)}}function gs(u,h){var y=Ie(h.value),j=Ie(h.defaultValue);y!=null&&(y=""+y,y!==u.value&&(u.value=y),h.defaultValue==null&&u.defaultValue!==y&&(u.defaultValue=y)),j!=null&&(u.defaultValue=""+j)}function kr(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function Hs(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gs(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?Hs(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Pi,Pe=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,y,j,k){MSApp.execUnsafeLocalFunction(function(){return u(h,y,j,k)})}:u})(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(Pi=Pi||document.createElement("div"),Pi.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Pi.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function ve(u,h){if(h){var y=u.firstChild;if(y&&y===u.lastChild&&y.nodeType===3){y.nodeValue=h;return}}u.textContent=h}var De={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},st=["Webkit","ms","Moz","O"];Object.keys(De).forEach(function(u){st.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),De[h]=De[u]})});function Be(u,h,y){return h==null||typeof h=="boolean"||h===""?"":y||typeof h!="number"||h===0||De.hasOwnProperty(u)&&De[u]?(""+h).trim():h+"px"}function gt(u,h){u=u.style;for(var y in h)if(h.hasOwnProperty(y)){var j=y.indexOf("--")===0,k=Be(y,h[y],j);y==="float"&&(y="cssFloat"),j?u.setProperty(y,k):u[y]=k}}var jt=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(u,h){if(h){if(jt[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function fn(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ir=null;function xo(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var ys=null,vs=null,qn=null;function Om(u){if(u=ap(u)){if(typeof ys!="function")throw Error(n(280));var h=u.stateNode;h&&(h=F0(h),ys(u.stateNode,u.type,h))}}function Cl(u){vs?qn?qn.push(u):qn=[u]:vs=u}function kl(){if(vs){var u=vs,h=qn;if(qn=vs=null,Om(u),h)for(u=0;u<h.length;u++)Om(h[u])}}function f0(u,h){return u(h)}function m0(){}var Na=!1;function p0(u,h,y){if(Na)return u(h,y);Na=!0;try{return f0(u,h,y)}finally{Na=!1,(vs!==null||qn!==null)&&(m0(),kl())}}function lu(u,h){var y=u.stateNode;if(y===null)return null;var j=F0(y);if(j===null)return null;y=j[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(u=u.type,j=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!j;break e;default:u=!1}if(u)return null;if(y&&typeof y!="function")throw Error(n(231,h,typeof y));return y}var Il=!1;if(l)try{var Ol={};Object.defineProperty(Ol,"passive",{get:function(){Il=!0}}),window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{Il=!1}function g0(u,h,y,j,k,R,B,H,J){var ce=Array.prototype.slice.call(arguments,3);try{h.apply(y,ce)}catch(Te){this.onError(Te)}}var bo=!1,Sa=null,Ud=!1,xs=null,y0={onError:function(u){bo=!0,Sa=u}};function v0(u,h,y,j,k,R,B,H,J){bo=!1,Sa=null,g0.apply(y0,arguments)}function Rm(u,h,y,j,k,R,B,H,J){if(v0.apply(this,arguments),bo){if(bo){var ce=Sa;bo=!1,Sa=null}else throw Error(n(198));Ud||(Ud=!0,xs=ce)}}function Ks(u){var h=u,y=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(y=h.return),u=h.return;while(u)}return h.tag===3?y:null}function Mm(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function x0(u){if(Ks(u)!==u)throw Error(n(188))}function b0(u){var h=u.alternate;if(!h){if(h=Ks(u),h===null)throw Error(n(188));return h!==u?null:u}for(var y=u,j=h;;){var k=y.return;if(k===null)break;var R=k.alternate;if(R===null){if(j=k.return,j!==null){y=j;continue}break}if(k.child===R.child){for(R=k.child;R;){if(R===y)return x0(k),u;if(R===j)return x0(k),h;R=R.sibling}throw Error(n(188))}if(y.return!==j.return)y=k,j=R;else{for(var B=!1,H=k.child;H;){if(H===y){B=!0,y=k,j=R;break}if(H===j){B=!0,j=k,y=R;break}H=H.sibling}if(!B){for(H=R.child;H;){if(H===y){B=!0,y=R,j=k;break}if(H===j){B=!0,j=R,y=k;break}H=H.sibling}if(!B)throw Error(n(189))}}if(y.alternate!==j)throw Error(n(190))}if(y.tag!==3)throw Error(n(188));return y.stateNode.current===y?u:h}function w0(u){return u=b0(u),u!==null?cu(u):null}function cu(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=cu(u);if(h!==null)return h;u=u.sibling}return null}var Dm=e.unstable_scheduleCallback,zd=e.unstable_cancelCallback,uu=e.unstable_shouldYield,wo=e.unstable_requestPaint,jn=e.unstable_now,p_=e.unstable_getCurrentPriorityLevel,Wd=e.unstable_ImmediatePriority,Lm=e.unstable_UserBlockingPriority,du=e.unstable_NormalPriority,$m=e.unstable_LowPriority,Hd=e.unstable_IdlePriority,hu=null,Yi=null;function _0(u){if(Yi&&typeof Yi.onCommitFiberRoot=="function")try{Yi.onCommitFiberRoot(hu,u,void 0,(u.current.flags&128)===128)}catch{}}var Qi=Math.clz32?Math.clz32:fu,Ta=Math.log,bs=Math.LN2;function fu(u){return u>>>=0,u===0?32:31-(Ta(u)/bs|0)|0}var Ea=64,Rl=4194304;function Zt(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function _o(u,h){var y=u.pendingLanes;if(y===0)return 0;var j=0,k=u.suspendedLanes,R=u.pingedLanes,B=y&268435455;if(B!==0){var H=B&~k;H!==0?j=Zt(H):(R&=B,R!==0&&(j=Zt(R)))}else B=y&~k,B!==0?j=Zt(B):R!==0&&(j=Zt(R));if(j===0)return 0;if(h!==0&&h!==j&&(h&k)===0&&(k=j&-j,R=h&-h,k>=R||k===16&&(R&4194240)!==0))return h;if((j&4)!==0&&(j|=y&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=j;0<h;)y=31-Qi(h),k=1<<y,j|=u[y],h&=~k;return j}function mu(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pu(u,h){for(var y=u.suspendedLanes,j=u.pingedLanes,k=u.expirationTimes,R=u.pendingLanes;0<R;){var B=31-Qi(R),H=1<<B,J=k[B];J===-1?((H&y)===0||(H&j)!==0)&&(k[B]=mu(H,h)):J<=h&&(u.expiredLanes|=H),R&=~H}}function Fm(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Vm(){var u=Ea;return Ea<<=1,(Ea&4194240)===0&&(Ea=64),u}function Bm(u){for(var h=[],y=0;31>y;y++)h.push(u);return h}function gu(u,h,y){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-Qi(h),u[h]=y}function g_(u,h){var y=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var j=u.eventTimes;for(u=u.expirationTimes;0<y;){var k=31-Qi(y),R=1<<k;h[k]=0,j[k]=-1,u[k]=-1,y&=~R}}function qm(u,h){var y=u.entangledLanes|=h;for(u=u.entanglements;y;){var j=31-Qi(y),k=1<<j;k&h|u[j]&h&&(u[j]|=h),y&=~k}}var Ft=0;function Aa(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Um,Gd,zm,Wm,Hm,Pa=!1,Kd=[],Ca=null,ka=null,Or=null,yu=new Map,jo=new Map,Xi=[],j0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ml(u,h){switch(u){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":yu.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(h.pointerId)}}function Ys(u,h,y,j,k,R){return u===null||u.nativeEvent!==R?(u={blockedOn:h,domEventName:y,eventSystemFlags:j,nativeEvent:R,targetContainers:[k]},h!==null&&(h=ap(h),h!==null&&Gd(h)),u):(u.eventSystemFlags|=j,h=u.targetContainers,k!==null&&h.indexOf(k)===-1&&h.push(k),u)}function N0(u,h,y,j,k){switch(h){case"focusin":return Ca=Ys(Ca,u,h,y,j,k),!0;case"dragenter":return ka=Ys(ka,u,h,y,j,k),!0;case"mouseover":return Or=Ys(Or,u,h,y,j,k),!0;case"pointerover":var R=k.pointerId;return yu.set(R,Ys(yu.get(R)||null,u,h,y,j,k)),!0;case"gotpointercapture":return R=k.pointerId,jo.set(R,Ys(jo.get(R)||null,u,h,y,j,k)),!0}return!1}function Yd(u){var h=wu(u.target);if(h!==null){var y=Ks(h);if(y!==null){if(h=y.tag,h===13){if(h=Mm(y),h!==null){u.blockedOn=h,Hm(u.priority,function(){zm(y)});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){u.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}u.blockedOn=null}function pn(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var y=Qd(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(y===null){y=u.nativeEvent;var j=new y.constructor(y.type,y);Ir=j,y.target.dispatchEvent(j),Ir=null}else return h=ap(y),h!==null&&Gd(h),u.blockedOn=y,!1;h.shift()}return!0}function S0(u,h,y){pn(u)&&y.delete(h)}function y_(){Pa=!1,Ca!==null&&pn(Ca)&&(Ca=null),ka!==null&&pn(ka)&&(ka=null),Or!==null&&pn(Or)&&(Or=null),yu.forEach(S0),jo.forEach(S0)}function Dl(u,h){u.blockedOn===h&&(u.blockedOn=null,Pa||(Pa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,y_)))}function Ll(u){function h(k){return Dl(k,u)}if(0<Kd.length){Dl(Kd[0],u);for(var y=1;y<Kd.length;y++){var j=Kd[y];j.blockedOn===u&&(j.blockedOn=null)}}for(Ca!==null&&Dl(Ca,u),ka!==null&&Dl(ka,u),Or!==null&&Dl(Or,u),yu.forEach(h),jo.forEach(h),y=0;y<Xi.length;y++)j=Xi[y],j.blockedOn===u&&(j.blockedOn=null);for(;0<Xi.length&&(y=Xi[0],y.blockedOn===null);)Yd(y),y.blockedOn===null&&Xi.shift()}var No=I.ReactCurrentBatchConfig,So=!0;function Ia(u,h,y,j){var k=Ft,R=No.transition;No.transition=null;try{Ft=1,Gm(u,h,y,j)}finally{Ft=k,No.transition=R}}function T0(u,h,y,j){var k=Ft,R=No.transition;No.transition=null;try{Ft=4,Gm(u,h,y,j)}finally{Ft=k,No.transition=R}}function Gm(u,h,y,j){if(So){var k=Qd(u,h,y,j);if(k===null)A_(u,h,j,Oa,y),Ml(u,j);else if(N0(k,u,h,y,j))j.stopPropagation();else if(Ml(u,j),h&4&&-1<j0.indexOf(u)){for(;k!==null;){var R=ap(k);if(R!==null&&Um(R),R=Qd(u,h,y,j),R===null&&A_(u,h,j,Oa,y),R===k)break;k=R}k!==null&&j.stopPropagation()}else A_(u,h,j,null,y)}}var Oa=null;function Qd(u,h,y,j){if(Oa=null,u=xo(j),u=wu(u),u!==null)if(h=Ks(u),h===null)u=null;else if(y=h.tag,y===13){if(u=Mm(h),u!==null)return u;u=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return Oa=u,null}function Xd(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(p_()){case Wd:return 1;case Lm:return 4;case du:case $m:return 16;case Hd:return 536870912;default:return 16}default:return 16}}var Ji=null,Jd=null,To=null;function E0(){if(To)return To;var u,h=Jd,y=h.length,j,k="value"in Ji?Ji.value:Ji.textContent,R=k.length;for(u=0;u<y&&h[u]===k[u];u++);var B=y-u;for(j=1;j<=B&&h[y-j]===k[R-j];j++);return To=k.slice(u,1<j?1-j:void 0)}function vu(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function Ra(){return!0}function Km(){return!1}function Yr(u){function h(y,j,k,R,B){this._reactName=y,this._targetInst=k,this.type=j,this.nativeEvent=R,this.target=B,this.currentTarget=null;for(var H in u)u.hasOwnProperty(H)&&(y=u[H],this[H]=y?y(R):R[H]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Ra:Km,this.isPropagationStopped=Km,this}return re(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),h}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=Yr(Ma),$l=re({},Ma,{view:0,detail:0}),Zd=Yr($l),eh,th,Zi,bu=re({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xt,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Zi&&(Zi&&u.type==="mousemove"?(eh=u.screenX-Zi.screenX,th=u.screenY-Zi.screenY):th=eh=0,Zi=u),eh)},movementY:function(u){return"movementY"in u?u.movementY:th}}),Ym=Yr(bu),A0=re({},bu,{dataTransfer:0}),P0=Yr(A0),nh=re({},$l,{relatedTarget:0}),Rr=Yr(nh),C0=re({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),k0=Yr(C0),Fl=re({},Ma,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),b=Yr(Fl),M=re({},Ma,{data:0}),V=Yr(M),q={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},se={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},de={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Me(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=de[u])?!!h[u]:!1}function xt(){return Me}var Yn=re({},$l,{key:function(u){if(u.key){var h=q[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=vu(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?se[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xt,charCode:function(u){return u.type==="keypress"?vu(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?vu(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),cn=Yr(Yn),tr=re({},bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=Yr(tr),Eo=re({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xt}),Da=Yr(Eo),La=re({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),rh=Yr(La),Qm=re({},bu,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),bee=Yr(Qm),wee=[9,13,27,32],v_=l&&"CompositionEvent"in window,Xm=null;l&&"documentMode"in document&&(Xm=document.documentMode);var _ee=l&&"TextEvent"in window&&!Xm,wR=l&&(!v_||Xm&&8<Xm&&11>=Xm),_R=" ",jR=!1;function NR(u,h){switch(u){case"keyup":return wee.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SR(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var ih=!1;function jee(u,h){switch(u){case"compositionend":return SR(h);case"keypress":return h.which!==32?null:(jR=!0,_R);case"textInput":return u=h.data,u===_R&&jR?null:u;default:return null}}function Nee(u,h){if(ih)return u==="compositionend"||!v_&&NR(u,h)?(u=E0(),To=Jd=Ji=null,ih=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return wR&&h.locale!=="ko"?null:h.data;default:return null}}var See={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TR(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!See[u.type]:h==="textarea"}function ER(u,h,y,j){Cl(j),h=D0(h,"onChange"),0<h.length&&(y=new xu("onChange","change",null,y,j),u.push({event:y,listeners:h}))}var Jm=null,Zm=null;function Tee(u){WR(u,0)}function I0(u){var h=ch(u);if(he(h))return u}function Eee(u,h){if(u==="change")return h}var AR=!1;if(l){var x_;if(l){var b_="oninput"in document;if(!b_){var PR=document.createElement("div");PR.setAttribute("oninput","return;"),b_=typeof PR.oninput=="function"}x_=b_}else x_=!1;AR=x_&&(!document.documentMode||9<document.documentMode)}function CR(){Jm&&(Jm.detachEvent("onpropertychange",kR),Zm=Jm=null)}function kR(u){if(u.propertyName==="value"&&I0(Zm)){var h=[];ER(h,Zm,u,xo(u)),p0(Tee,h)}}function Aee(u,h,y){u==="focusin"?(CR(),Jm=h,Zm=y,Jm.attachEvent("onpropertychange",kR)):u==="focusout"&&CR()}function Pee(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return I0(Zm)}function Cee(u,h){if(u==="click")return I0(h)}function kee(u,h){if(u==="input"||u==="change")return I0(h)}function Iee(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Qs=typeof Object.is=="function"?Object.is:Iee;function ep(u,h){if(Qs(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var y=Object.keys(u),j=Object.keys(h);if(y.length!==j.length)return!1;for(j=0;j<y.length;j++){var k=y[j];if(!c.call(h,k)||!Qs(u[k],h[k]))return!1}return!0}function IR(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function OR(u,h){var y=IR(u);u=0;for(var j;y;){if(y.nodeType===3){if(j=u+y.textContent.length,u<=h&&j>=h)return{node:y,offset:h-u};u=j}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=IR(y)}}function RR(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?RR(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function MR(){for(var u=window,h=ot();h instanceof u.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)u=h.contentWindow;else break;h=ot(u.document)}return h}function w_(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function Oee(u){var h=MR(),y=u.focusedElem,j=u.selectionRange;if(h!==y&&y&&y.ownerDocument&&RR(y.ownerDocument.documentElement,y)){if(j!==null&&w_(y)){if(h=j.start,u=j.end,u===void 0&&(u=h),"selectionStart"in y)y.selectionStart=h,y.selectionEnd=Math.min(u,y.value.length);else if(u=(h=y.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var k=y.textContent.length,R=Math.min(j.start,k);j=j.end===void 0?R:Math.min(j.end,k),!u.extend&&R>j&&(k=j,j=R,R=k),k=OR(y,R);var B=OR(y,j);k&&B&&(u.rangeCount!==1||u.anchorNode!==k.node||u.anchorOffset!==k.offset||u.focusNode!==B.node||u.focusOffset!==B.offset)&&(h=h.createRange(),h.setStart(k.node,k.offset),u.removeAllRanges(),R>j?(u.addRange(h),u.extend(B.node,B.offset)):(h.setEnd(B.node,B.offset),u.addRange(h)))}}for(h=[],u=y;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<h.length;y++)u=h[y],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var Ree=l&&"documentMode"in document&&11>=document.documentMode,sh=null,__=null,tp=null,j_=!1;function DR(u,h,y){var j=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;j_||sh==null||sh!==ot(j)||(j=sh,"selectionStart"in j&&w_(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),tp&&ep(tp,j)||(tp=j,j=D0(__,"onSelect"),0<j.length&&(h=new xu("onSelect","select",null,h,y),u.push({event:h,listeners:j}),h.target=sh)))}function O0(u,h){var y={};return y[u.toLowerCase()]=h.toLowerCase(),y["Webkit"+u]="webkit"+h,y["Moz"+u]="moz"+h,y}var ah={animationend:O0("Animation","AnimationEnd"),animationiteration:O0("Animation","AnimationIteration"),animationstart:O0("Animation","AnimationStart"),transitionend:O0("Transition","TransitionEnd")},N_={},LR={};l&&(LR=document.createElement("div").style,"AnimationEvent"in window||(delete ah.animationend.animation,delete ah.animationiteration.animation,delete ah.animationstart.animation),"TransitionEvent"in window||delete ah.transitionend.transition);function R0(u){if(N_[u])return N_[u];if(!ah[u])return u;var h=ah[u],y;for(y in h)if(h.hasOwnProperty(y)&&y in LR)return N_[u]=h[y];return u}var $R=R0("animationend"),FR=R0("animationiteration"),VR=R0("animationstart"),BR=R0("transitionend"),qR=new Map,UR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vl(u,h){qR.set(u,h),s(h,[u])}for(var S_=0;S_<UR.length;S_++){var T_=UR[S_],Mee=T_.toLowerCase(),Dee=T_[0].toUpperCase()+T_.slice(1);Vl(Mee,"on"+Dee)}Vl($R,"onAnimationEnd"),Vl(FR,"onAnimationIteration"),Vl(VR,"onAnimationStart"),Vl("dblclick","onDoubleClick"),Vl("focusin","onFocus"),Vl("focusout","onBlur"),Vl(BR,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var np="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lee=new Set("cancel close invalid load scroll toggle".split(" ").concat(np));function zR(u,h,y){var j=u.type||"unknown-event";u.currentTarget=y,Rm(j,h,void 0,u),u.currentTarget=null}function WR(u,h){h=(h&4)!==0;for(var y=0;y<u.length;y++){var j=u[y],k=j.event;j=j.listeners;e:{var R=void 0;if(h)for(var B=j.length-1;0<=B;B--){var H=j[B],J=H.instance,ce=H.currentTarget;if(H=H.listener,J!==R&&k.isPropagationStopped())break e;zR(k,H,ce),R=J}else for(B=0;B<j.length;B++){if(H=j[B],J=H.instance,ce=H.currentTarget,H=H.listener,J!==R&&k.isPropagationStopped())break e;zR(k,H,ce),R=J}}}if(Ud)throw u=xs,Ud=!1,xs=null,u}function Nn(u,h){var y=h[R_];y===void 0&&(y=h[R_]=new Set);var j=u+"__bubble";y.has(j)||(HR(h,u,2,!1),y.add(j))}function E_(u,h,y){var j=0;h&&(j|=4),HR(y,u,j,h)}var M0="_reactListening"+Math.random().toString(36).slice(2);function rp(u){if(!u[M0]){u[M0]=!0,r.forEach(function(y){y!=="selectionchange"&&(Lee.has(y)||E_(y,!1,u),E_(y,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[M0]||(h[M0]=!0,E_("selectionchange",!1,h))}}function HR(u,h,y,j){switch(Xd(h)){case 1:var k=Ia;break;case 4:k=T0;break;default:k=Gm}y=k.bind(null,h,y,u),k=void 0,!Il||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(k=!0),j?k!==void 0?u.addEventListener(h,y,{capture:!0,passive:k}):u.addEventListener(h,y,!0):k!==void 0?u.addEventListener(h,y,{passive:k}):u.addEventListener(h,y,!1)}function A_(u,h,y,j,k){var R=j;if((h&1)===0&&(h&2)===0&&j!==null)e:for(;;){if(j===null)return;var B=j.tag;if(B===3||B===4){var H=j.stateNode.containerInfo;if(H===k||H.nodeType===8&&H.parentNode===k)break;if(B===4)for(B=j.return;B!==null;){var J=B.tag;if((J===3||J===4)&&(J=B.stateNode.containerInfo,J===k||J.nodeType===8&&J.parentNode===k))return;B=B.return}for(;H!==null;){if(B=wu(H),B===null)return;if(J=B.tag,J===5||J===6){j=R=B;continue e}H=H.parentNode}}j=j.return}p0(function(){var ce=R,Te=xo(y),Ce=[];e:{var Se=qR.get(u);if(Se!==void 0){var $e=xu,He=u;switch(u){case"keypress":if(vu(y)===0)break e;case"keydown":case"keyup":$e=cn;break;case"focusin":He="focus",$e=Rr;break;case"focusout":He="blur",$e=Rr;break;case"beforeblur":case"afterblur":$e=Rr;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=Ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=P0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=Da;break;case $R:case FR:case VR:$e=k0;break;case BR:$e=rh;break;case"scroll":$e=Zd;break;case"wheel":$e=bee;break;case"copy":case"cut":case"paste":$e=b;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=es}var Qe=(h&4)!==0,Qn=!Qe&&u==="scroll",ie=Qe?Se!==null?Se+"Capture":null:Se;Qe=[];for(var ee=ce,ae;ee!==null;){ae=ee;var Oe=ae.stateNode;if(ae.tag===5&&Oe!==null&&(ae=Oe,ie!==null&&(Oe=lu(ee,ie),Oe!=null&&Qe.push(ip(ee,Oe,ae)))),Qn)break;ee=ee.return}0<Qe.length&&(Se=new $e(Se,He,null,y,Te),Ce.push({event:Se,listeners:Qe}))}}if((h&7)===0){e:{if(Se=u==="mouseover"||u==="pointerover",$e=u==="mouseout"||u==="pointerout",Se&&y!==Ir&&(He=y.relatedTarget||y.fromElement)&&(wu(He)||He[Ao]))break e;if(($e||Se)&&(Se=Te.window===Te?Te:(Se=Te.ownerDocument)?Se.defaultView||Se.parentWindow:window,$e?(He=y.relatedTarget||y.toElement,$e=ce,He=He?wu(He):null,He!==null&&(Qn=Ks(He),He!==Qn||He.tag!==5&&He.tag!==6)&&(He=null)):($e=null,He=ce),$e!==He)){if(Qe=Ym,Oe="onMouseLeave",ie="onMouseEnter",ee="mouse",(u==="pointerout"||u==="pointerover")&&(Qe=es,Oe="onPointerLeave",ie="onPointerEnter",ee="pointer"),Qn=$e==null?Se:ch($e),ae=He==null?Se:ch(He),Se=new Qe(Oe,ee+"leave",$e,y,Te),Se.target=Qn,Se.relatedTarget=ae,Oe=null,wu(Te)===ce&&(Qe=new Qe(ie,ee+"enter",He,y,Te),Qe.target=ae,Qe.relatedTarget=Qn,Oe=Qe),Qn=Oe,$e&&He)t:{for(Qe=$e,ie=He,ee=0,ae=Qe;ae;ae=oh(ae))ee++;for(ae=0,Oe=ie;Oe;Oe=oh(Oe))ae++;for(;0<ee-ae;)Qe=oh(Qe),ee--;for(;0<ae-ee;)ie=oh(ie),ae--;for(;ee--;){if(Qe===ie||ie!==null&&Qe===ie.alternate)break t;Qe=oh(Qe),ie=oh(ie)}Qe=null}else Qe=null;$e!==null&&GR(Ce,Se,$e,Qe,!1),He!==null&&Qn!==null&&GR(Ce,Qn,He,Qe,!0)}}e:{if(Se=ce?ch(ce):window,$e=Se.nodeName&&Se.nodeName.toLowerCase(),$e==="select"||$e==="input"&&Se.type==="file")var Je=Eee;else if(TR(Se))if(AR)Je=kee;else{Je=Pee;var rt=Aee}else($e=Se.nodeName)&&$e.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(Je=Cee);if(Je&&(Je=Je(u,ce))){ER(Ce,Je,y,Te);break e}rt&&rt(u,Se,ce),u==="focusout"&&(rt=Se._wrapperState)&&rt.controlled&&Se.type==="number"&&Ot(Se,"number",Se.value)}switch(rt=ce?ch(ce):window,u){case"focusin":(TR(rt)||rt.contentEditable==="true")&&(sh=rt,__=ce,tp=null);break;case"focusout":tp=__=sh=null;break;case"mousedown":j_=!0;break;case"contextmenu":case"mouseup":case"dragend":j_=!1,DR(Ce,y,Te);break;case"selectionchange":if(Ree)break;case"keydown":case"keyup":DR(Ce,y,Te)}var it;if(v_)e:{switch(u){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else ih?NR(u,y)&&(pt="onCompositionEnd"):u==="keydown"&&y.keyCode===229&&(pt="onCompositionStart");pt&&(wR&&y.locale!=="ko"&&(ih||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&ih&&(it=E0()):(Ji=Te,Jd="value"in Ji?Ji.value:Ji.textContent,ih=!0)),rt=D0(ce,pt),0<rt.length&&(pt=new V(pt,u,null,y,Te),Ce.push({event:pt,listeners:rt}),it?pt.data=it:(it=SR(y),it!==null&&(pt.data=it)))),(it=_ee?jee(u,y):Nee(u,y))&&(ce=D0(ce,"onBeforeInput"),0<ce.length&&(Te=new V("onBeforeInput","beforeinput",null,y,Te),Ce.push({event:Te,listeners:ce}),Te.data=it))}WR(Ce,h)})}function ip(u,h,y){return{instance:u,listener:h,currentTarget:y}}function D0(u,h){for(var y=h+"Capture",j=[];u!==null;){var k=u,R=k.stateNode;k.tag===5&&R!==null&&(k=R,R=lu(u,y),R!=null&&j.unshift(ip(u,R,k)),R=lu(u,h),R!=null&&j.push(ip(u,R,k))),u=u.return}return j}function oh(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function GR(u,h,y,j,k){for(var R=h._reactName,B=[];y!==null&&y!==j;){var H=y,J=H.alternate,ce=H.stateNode;if(J!==null&&J===j)break;H.tag===5&&ce!==null&&(H=ce,k?(J=lu(y,R),J!=null&&B.unshift(ip(y,J,H))):k||(J=lu(y,R),J!=null&&B.push(ip(y,J,H)))),y=y.return}B.length!==0&&u.push({event:h,listeners:B})}var $ee=/\r\n?/g,Fee=/\u0000|\uFFFD/g;function KR(u){return(typeof u=="string"?u:""+u).replace($ee,`
`).replace(Fee,"")}function L0(u,h,y){if(h=KR(h),KR(u)!==h&&y)throw Error(n(425))}function $0(){}var P_=null,C_=null;function k_(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var I_=typeof setTimeout=="function"?setTimeout:void 0,Vee=typeof clearTimeout=="function"?clearTimeout:void 0,YR=typeof Promise=="function"?Promise:void 0,Bee=typeof queueMicrotask=="function"?queueMicrotask:typeof YR<"u"?function(u){return YR.resolve(null).then(u).catch(qee)}:I_;function qee(u){setTimeout(function(){throw u})}function O_(u,h){var y=h,j=0;do{var k=y.nextSibling;if(u.removeChild(y),k&&k.nodeType===8)if(y=k.data,y==="/$"){if(j===0){u.removeChild(k),Ll(h);return}j--}else y!=="$"&&y!=="$?"&&y!=="$!"||j++;y=k}while(y);Ll(h)}function Bl(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function QR(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="$"||y==="$!"||y==="$?"){if(h===0)return u;h--}else y==="/$"&&h++}u=u.previousSibling}return null}var lh=Math.random().toString(36).slice(2),$a="__reactFiber$"+lh,sp="__reactProps$"+lh,Ao="__reactContainer$"+lh,R_="__reactEvents$"+lh,Uee="__reactListeners$"+lh,zee="__reactHandles$"+lh;function wu(u){var h=u[$a];if(h)return h;for(var y=u.parentNode;y;){if(h=y[Ao]||y[$a]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(u=QR(u);u!==null;){if(y=u[$a])return y;u=QR(u)}return h}u=y,y=u.parentNode}return null}function ap(u){return u=u[$a]||u[Ao],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function ch(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function F0(u){return u[sp]||null}var M_=[],uh=-1;function ql(u){return{current:u}}function Sn(u){0>uh||(u.current=M_[uh],M_[uh]=null,uh--)}function vn(u,h){uh++,M_[uh]=u.current,u.current=h}var Ul={},Qr=ql(Ul),Ci=ql(!1),_u=Ul;function dh(u,h){var y=u.type.contextTypes;if(!y)return Ul;var j=u.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===h)return j.__reactInternalMemoizedMaskedChildContext;var k={},R;for(R in y)k[R]=h[R];return j&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=k),k}function ki(u){return u=u.childContextTypes,u!=null}function V0(){Sn(Ci),Sn(Qr)}function XR(u,h,y){if(Qr.current!==Ul)throw Error(n(168));vn(Qr,h),vn(Ci,y)}function JR(u,h,y){var j=u.stateNode;if(h=h.childContextTypes,typeof j.getChildContext!="function")return y;j=j.getChildContext();for(var k in j)if(!(k in h))throw Error(n(108,me(u)||"Unknown",k));return re({},y,j)}function B0(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Ul,_u=Qr.current,vn(Qr,u),vn(Ci,Ci.current),!0}function ZR(u,h,y){var j=u.stateNode;if(!j)throw Error(n(169));y?(u=JR(u,h,_u),j.__reactInternalMemoizedMergedChildContext=u,Sn(Ci),Sn(Qr),vn(Qr,u)):Sn(Ci),vn(Ci,y)}var Po=null,q0=!1,D_=!1;function eM(u){Po===null?Po=[u]:Po.push(u)}function Wee(u){q0=!0,eM(u)}function zl(){if(!D_&&Po!==null){D_=!0;var u=0,h=Ft;try{var y=Po;for(Ft=1;u<y.length;u++){var j=y[u];do j=j(!0);while(j!==null)}Po=null,q0=!1}catch(k){throw Po!==null&&(Po=Po.slice(u+1)),Dm(Wd,zl),k}finally{Ft=h,D_=!1}}return null}var hh=[],fh=0,U0=null,z0=0,ws=[],_s=0,ju=null,Co=1,ko="";function Nu(u,h){hh[fh++]=z0,hh[fh++]=U0,U0=u,z0=h}function tM(u,h,y){ws[_s++]=Co,ws[_s++]=ko,ws[_s++]=ju,ju=u;var j=Co;u=ko;var k=32-Qi(j)-1;j&=~(1<<k),y+=1;var R=32-Qi(h)+k;if(30<R){var B=k-k%5;R=(j&(1<<B)-1).toString(32),j>>=B,k-=B,Co=1<<32-Qi(h)+k|y<<k|j,ko=R+u}else Co=1<<R|y<<k|j,ko=u}function L_(u){u.return!==null&&(Nu(u,1),tM(u,1,0))}function $_(u){for(;u===U0;)U0=hh[--fh],hh[fh]=null,z0=hh[--fh],hh[fh]=null;for(;u===ju;)ju=ws[--_s],ws[_s]=null,ko=ws[--_s],ws[_s]=null,Co=ws[--_s],ws[_s]=null}var ts=null,ns=null,kn=!1,Xs=null;function nM(u,h){var y=Ts(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=u,h=u.deletions,h===null?(u.deletions=[y],u.flags|=16):h.push(y)}function rM(u,h){switch(u.tag){case 5:var y=u.type;return h=h.nodeType!==1||y.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,ts=u,ns=Bl(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,ts=u,ns=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(y=ju!==null?{id:Co,overflow:ko}:null,u.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=Ts(18,null,null,0),y.stateNode=h,y.return=u,u.child=y,ts=u,ns=null,!0):!1;default:return!1}}function F_(u){return(u.mode&1)!==0&&(u.flags&128)===0}function V_(u){if(kn){var h=ns;if(h){var y=h;if(!rM(u,h)){if(F_(u))throw Error(n(418));h=Bl(y.nextSibling);var j=ts;h&&rM(u,h)?nM(j,y):(u.flags=u.flags&-4097|2,kn=!1,ts=u)}}else{if(F_(u))throw Error(n(418));u.flags=u.flags&-4097|2,kn=!1,ts=u}}}function iM(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ts=u}function W0(u){if(u!==ts)return!1;if(!kn)return iM(u),kn=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!k_(u.type,u.memoizedProps)),h&&(h=ns)){if(F_(u))throw sM(),Error(n(418));for(;h;)nM(u,h),h=Bl(h.nextSibling)}if(iM(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="/$"){if(h===0){ns=Bl(u.nextSibling);break e}h--}else y!=="$"&&y!=="$!"&&y!=="$?"||h++}u=u.nextSibling}ns=null}}else ns=ts?Bl(u.stateNode.nextSibling):null;return!0}function sM(){for(var u=ns;u;)u=Bl(u.nextSibling)}function mh(){ns=ts=null,kn=!1}function B_(u){Xs===null?Xs=[u]:Xs.push(u)}var Hee=I.ReactCurrentBatchConfig;function op(u,h,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(n(309));var j=y.stateNode}if(!j)throw Error(n(147,u));var k=j,R=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===R?h.ref:(h=function(B){var H=k.refs;B===null?delete H[R]:H[R]=B},h._stringRef=R,h)}if(typeof u!="string")throw Error(n(284));if(!y._owner)throw Error(n(290,u))}return u}function H0(u,h){throw u=Object.prototype.toString.call(h),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function aM(u){var h=u._init;return h(u._payload)}function oM(u){function h(ie,ee){if(u){var ae=ie.deletions;ae===null?(ie.deletions=[ee],ie.flags|=16):ae.push(ee)}}function y(ie,ee){if(!u)return null;for(;ee!==null;)h(ie,ee),ee=ee.sibling;return null}function j(ie,ee){for(ie=new Map;ee!==null;)ee.key!==null?ie.set(ee.key,ee):ie.set(ee.index,ee),ee=ee.sibling;return ie}function k(ie,ee){return ie=Jl(ie,ee),ie.index=0,ie.sibling=null,ie}function R(ie,ee,ae){return ie.index=ae,u?(ae=ie.alternate,ae!==null?(ae=ae.index,ae<ee?(ie.flags|=2,ee):ae):(ie.flags|=2,ee)):(ie.flags|=1048576,ee)}function B(ie){return u&&ie.alternate===null&&(ie.flags|=2),ie}function H(ie,ee,ae,Oe){return ee===null||ee.tag!==6?(ee=Ij(ae,ie.mode,Oe),ee.return=ie,ee):(ee=k(ee,ae),ee.return=ie,ee)}function J(ie,ee,ae,Oe){var Je=ae.type;return Je===E?Te(ie,ee,ae.props.children,Oe,ae.key):ee!==null&&(ee.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===K&&aM(Je)===ee.type)?(Oe=k(ee,ae.props),Oe.ref=op(ie,ee,ae),Oe.return=ie,Oe):(Oe=gv(ae.type,ae.key,ae.props,null,ie.mode,Oe),Oe.ref=op(ie,ee,ae),Oe.return=ie,Oe)}function ce(ie,ee,ae,Oe){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ae.containerInfo||ee.stateNode.implementation!==ae.implementation?(ee=Oj(ae,ie.mode,Oe),ee.return=ie,ee):(ee=k(ee,ae.children||[]),ee.return=ie,ee)}function Te(ie,ee,ae,Oe,Je){return ee===null||ee.tag!==7?(ee=Iu(ae,ie.mode,Oe,Je),ee.return=ie,ee):(ee=k(ee,ae),ee.return=ie,ee)}function Ce(ie,ee,ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Ij(""+ee,ie.mode,ae),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:return ae=gv(ee.type,ee.key,ee.props,null,ie.mode,ae),ae.ref=op(ie,null,ee),ae.return=ie,ae;case C:return ee=Oj(ee,ie.mode,ae),ee.return=ie,ee;case K:var Oe=ee._init;return Ce(ie,Oe(ee._payload),ae)}if(tn(ee)||Q(ee))return ee=Iu(ee,ie.mode,ae,null),ee.return=ie,ee;H0(ie,ee)}return null}function Se(ie,ee,ae,Oe){var Je=ee!==null?ee.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Je!==null?null:H(ie,ee,""+ae,Oe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case P:return ae.key===Je?J(ie,ee,ae,Oe):null;case C:return ae.key===Je?ce(ie,ee,ae,Oe):null;case K:return Je=ae._init,Se(ie,ee,Je(ae._payload),Oe)}if(tn(ae)||Q(ae))return Je!==null?null:Te(ie,ee,ae,Oe,null);H0(ie,ae)}return null}function $e(ie,ee,ae,Oe,Je){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return ie=ie.get(ae)||null,H(ee,ie,""+Oe,Je);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case P:return ie=ie.get(Oe.key===null?ae:Oe.key)||null,J(ee,ie,Oe,Je);case C:return ie=ie.get(Oe.key===null?ae:Oe.key)||null,ce(ee,ie,Oe,Je);case K:var rt=Oe._init;return $e(ie,ee,ae,rt(Oe._payload),Je)}if(tn(Oe)||Q(Oe))return ie=ie.get(ae)||null,Te(ee,ie,Oe,Je,null);H0(ee,Oe)}return null}function He(ie,ee,ae,Oe){for(var Je=null,rt=null,it=ee,pt=ee=0,Nr=null;it!==null&&pt<ae.length;pt++){it.index>pt?(Nr=it,it=null):Nr=it.sibling;var Kt=Se(ie,it,ae[pt],Oe);if(Kt===null){it===null&&(it=Nr);break}u&&it&&Kt.alternate===null&&h(ie,it),ee=R(Kt,ee,pt),rt===null?Je=Kt:rt.sibling=Kt,rt=Kt,it=Nr}if(pt===ae.length)return y(ie,it),kn&&Nu(ie,pt),Je;if(it===null){for(;pt<ae.length;pt++)it=Ce(ie,ae[pt],Oe),it!==null&&(ee=R(it,ee,pt),rt===null?Je=it:rt.sibling=it,rt=it);return kn&&Nu(ie,pt),Je}for(it=j(ie,it);pt<ae.length;pt++)Nr=$e(it,ie,pt,ae[pt],Oe),Nr!==null&&(u&&Nr.alternate!==null&&it.delete(Nr.key===null?pt:Nr.key),ee=R(Nr,ee,pt),rt===null?Je=Nr:rt.sibling=Nr,rt=Nr);return u&&it.forEach(function(Zl){return h(ie,Zl)}),kn&&Nu(ie,pt),Je}function Qe(ie,ee,ae,Oe){var Je=Q(ae);if(typeof Je!="function")throw Error(n(150));if(ae=Je.call(ae),ae==null)throw Error(n(151));for(var rt=Je=null,it=ee,pt=ee=0,Nr=null,Kt=ae.next();it!==null&&!Kt.done;pt++,Kt=ae.next()){it.index>pt?(Nr=it,it=null):Nr=it.sibling;var Zl=Se(ie,it,Kt.value,Oe);if(Zl===null){it===null&&(it=Nr);break}u&&it&&Zl.alternate===null&&h(ie,it),ee=R(Zl,ee,pt),rt===null?Je=Zl:rt.sibling=Zl,rt=Zl,it=Nr}if(Kt.done)return y(ie,it),kn&&Nu(ie,pt),Je;if(it===null){for(;!Kt.done;pt++,Kt=ae.next())Kt=Ce(ie,Kt.value,Oe),Kt!==null&&(ee=R(Kt,ee,pt),rt===null?Je=Kt:rt.sibling=Kt,rt=Kt);return kn&&Nu(ie,pt),Je}for(it=j(ie,it);!Kt.done;pt++,Kt=ae.next())Kt=$e(it,ie,pt,Kt.value,Oe),Kt!==null&&(u&&Kt.alternate!==null&&it.delete(Kt.key===null?pt:Kt.key),ee=R(Kt,ee,pt),rt===null?Je=Kt:rt.sibling=Kt,rt=Kt);return u&&it.forEach(function(Ste){return h(ie,Ste)}),kn&&Nu(ie,pt),Je}function Qn(ie,ee,ae,Oe){if(typeof ae=="object"&&ae!==null&&ae.type===E&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case P:e:{for(var Je=ae.key,rt=ee;rt!==null;){if(rt.key===Je){if(Je=ae.type,Je===E){if(rt.tag===7){y(ie,rt.sibling),ee=k(rt,ae.props.children),ee.return=ie,ie=ee;break e}}else if(rt.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===K&&aM(Je)===rt.type){y(ie,rt.sibling),ee=k(rt,ae.props),ee.ref=op(ie,rt,ae),ee.return=ie,ie=ee;break e}y(ie,rt);break}else h(ie,rt);rt=rt.sibling}ae.type===E?(ee=Iu(ae.props.children,ie.mode,Oe,ae.key),ee.return=ie,ie=ee):(Oe=gv(ae.type,ae.key,ae.props,null,ie.mode,Oe),Oe.ref=op(ie,ee,ae),Oe.return=ie,ie=Oe)}return B(ie);case C:e:{for(rt=ae.key;ee!==null;){if(ee.key===rt)if(ee.tag===4&&ee.stateNode.containerInfo===ae.containerInfo&&ee.stateNode.implementation===ae.implementation){y(ie,ee.sibling),ee=k(ee,ae.children||[]),ee.return=ie,ie=ee;break e}else{y(ie,ee);break}else h(ie,ee);ee=ee.sibling}ee=Oj(ae,ie.mode,Oe),ee.return=ie,ie=ee}return B(ie);case K:return rt=ae._init,Qn(ie,ee,rt(ae._payload),Oe)}if(tn(ae))return He(ie,ee,ae,Oe);if(Q(ae))return Qe(ie,ee,ae,Oe);H0(ie,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,ee!==null&&ee.tag===6?(y(ie,ee.sibling),ee=k(ee,ae),ee.return=ie,ie=ee):(y(ie,ee),ee=Ij(ae,ie.mode,Oe),ee.return=ie,ie=ee),B(ie)):y(ie,ee)}return Qn}var ph=oM(!0),lM=oM(!1),G0=ql(null),K0=null,gh=null,q_=null;function U_(){q_=gh=K0=null}function z_(u){var h=G0.current;Sn(G0),u._currentValue=h}function W_(u,h,y){for(;u!==null;){var j=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,j!==null&&(j.childLanes|=h)):j!==null&&(j.childLanes&h)!==h&&(j.childLanes|=h),u===y)break;u=u.return}}function yh(u,h){K0=u,q_=gh=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(Ii=!0),u.firstContext=null)}function js(u){var h=u._currentValue;if(q_!==u)if(u={context:u,memoizedValue:h,next:null},gh===null){if(K0===null)throw Error(n(308));gh=u,K0.dependencies={lanes:0,firstContext:u}}else gh=gh.next=u;return h}var Su=null;function H_(u){Su===null?Su=[u]:Su.push(u)}function cM(u,h,y,j){var k=h.interleaved;return k===null?(y.next=y,H_(h)):(y.next=k.next,k.next=y),h.interleaved=y,Io(u,j)}function Io(u,h){u.lanes|=h;var y=u.alternate;for(y!==null&&(y.lanes|=h),y=u,u=u.return;u!==null;)u.childLanes|=h,y=u.alternate,y!==null&&(y.childLanes|=h),y=u,u=u.return;return y.tag===3?y.stateNode:null}var Wl=!1;function G_(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uM(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Oo(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function Hl(u,h,y){var j=u.updateQueue;if(j===null)return null;if(j=j.shared,(zt&2)!==0){var k=j.pending;return k===null?h.next=h:(h.next=k.next,k.next=h),j.pending=h,Io(u,y)}return k=j.interleaved,k===null?(h.next=h,H_(j)):(h.next=k.next,k.next=h),j.interleaved=h,Io(u,y)}function Y0(u,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var j=h.lanes;j&=u.pendingLanes,y|=j,h.lanes=y,qm(u,y)}}function dM(u,h){var y=u.updateQueue,j=u.alternate;if(j!==null&&(j=j.updateQueue,y===j)){var k=null,R=null;if(y=y.firstBaseUpdate,y!==null){do{var B={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};R===null?k=R=B:R=R.next=B,y=y.next}while(y!==null);R===null?k=R=h:R=R.next=h}else k=R=h;y={baseState:j.baseState,firstBaseUpdate:k,lastBaseUpdate:R,shared:j.shared,effects:j.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=h:u.next=h,y.lastBaseUpdate=h}function Q0(u,h,y,j){var k=u.updateQueue;Wl=!1;var R=k.firstBaseUpdate,B=k.lastBaseUpdate,H=k.shared.pending;if(H!==null){k.shared.pending=null;var J=H,ce=J.next;J.next=null,B===null?R=ce:B.next=ce,B=J;var Te=u.alternate;Te!==null&&(Te=Te.updateQueue,H=Te.lastBaseUpdate,H!==B&&(H===null?Te.firstBaseUpdate=ce:H.next=ce,Te.lastBaseUpdate=J))}if(R!==null){var Ce=k.baseState;B=0,Te=ce=J=null,H=R;do{var Se=H.lane,$e=H.eventTime;if((j&Se)===Se){Te!==null&&(Te=Te.next={eventTime:$e,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var He=u,Qe=H;switch(Se=h,$e=y,Qe.tag){case 1:if(He=Qe.payload,typeof He=="function"){Ce=He.call($e,Ce,Se);break e}Ce=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Qe.payload,Se=typeof He=="function"?He.call($e,Ce,Se):He,Se==null)break e;Ce=re({},Ce,Se);break e;case 2:Wl=!0}}H.callback!==null&&H.lane!==0&&(u.flags|=64,Se=k.effects,Se===null?k.effects=[H]:Se.push(H))}else $e={eventTime:$e,lane:Se,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Te===null?(ce=Te=$e,J=Ce):Te=Te.next=$e,B|=Se;if(H=H.next,H===null){if(H=k.shared.pending,H===null)break;Se=H,H=Se.next,Se.next=null,k.lastBaseUpdate=Se,k.shared.pending=null}}while(!0);if(Te===null&&(J=Ce),k.baseState=J,k.firstBaseUpdate=ce,k.lastBaseUpdate=Te,h=k.shared.interleaved,h!==null){k=h;do B|=k.lane,k=k.next;while(k!==h)}else R===null&&(k.shared.lanes=0);Au|=B,u.lanes=B,u.memoizedState=Ce}}function hM(u,h,y){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var j=u[h],k=j.callback;if(k!==null){if(j.callback=null,j=y,typeof k!="function")throw Error(n(191,k));k.call(j)}}}var lp={},Fa=ql(lp),cp=ql(lp),up=ql(lp);function Tu(u){if(u===lp)throw Error(n(174));return u}function K_(u,h){switch(vn(up,h),vn(cp,u),vn(Fa,lp),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:Gs(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=Gs(h,u)}Sn(Fa),vn(Fa,h)}function vh(){Sn(Fa),Sn(cp),Sn(up)}function fM(u){Tu(up.current);var h=Tu(Fa.current),y=Gs(h,u.type);h!==y&&(vn(cp,u),vn(Fa,y))}function Y_(u){cp.current===u&&(Sn(Fa),Sn(cp))}var Rn=ql(0);function X0(u){for(var h=u;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Q_=[];function X_(){for(var u=0;u<Q_.length;u++)Q_[u]._workInProgressVersionPrimary=null;Q_.length=0}var J0=I.ReactCurrentDispatcher,J_=I.ReactCurrentBatchConfig,Eu=0,Mn=null,cr=null,_r=null,Z0=!1,dp=!1,hp=0,Gee=0;function Xr(){throw Error(n(321))}function Z_(u,h){if(h===null)return!1;for(var y=0;y<h.length&&y<u.length;y++)if(!Qs(u[y],h[y]))return!1;return!0}function ej(u,h,y,j,k,R){if(Eu=R,Mn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,J0.current=u===null||u.memoizedState===null?Xee:Jee,u=y(j,k),dp){R=0;do{if(dp=!1,hp=0,25<=R)throw Error(n(301));R+=1,_r=cr=null,h.updateQueue=null,J0.current=Zee,u=y(j,k)}while(dp)}if(J0.current=nv,h=cr!==null&&cr.next!==null,Eu=0,_r=cr=Mn=null,Z0=!1,h)throw Error(n(300));return u}function tj(){var u=hp!==0;return hp=0,u}function Va(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?Mn.memoizedState=_r=u:_r=_r.next=u,_r}function Ns(){if(cr===null){var u=Mn.alternate;u=u!==null?u.memoizedState:null}else u=cr.next;var h=_r===null?Mn.memoizedState:_r.next;if(h!==null)_r=h,cr=u;else{if(u===null)throw Error(n(310));cr=u,u={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},_r===null?Mn.memoizedState=_r=u:_r=_r.next=u}return _r}function fp(u,h){return typeof h=="function"?h(u):h}function nj(u){var h=Ns(),y=h.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=u;var j=cr,k=j.baseQueue,R=y.pending;if(R!==null){if(k!==null){var B=k.next;k.next=R.next,R.next=B}j.baseQueue=k=R,y.pending=null}if(k!==null){R=k.next,j=j.baseState;var H=B=null,J=null,ce=R;do{var Te=ce.lane;if((Eu&Te)===Te)J!==null&&(J=J.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),j=ce.hasEagerState?ce.eagerState:u(j,ce.action);else{var Ce={lane:Te,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};J===null?(H=J=Ce,B=j):J=J.next=Ce,Mn.lanes|=Te,Au|=Te}ce=ce.next}while(ce!==null&&ce!==R);J===null?B=j:J.next=H,Qs(j,h.memoizedState)||(Ii=!0),h.memoizedState=j,h.baseState=B,h.baseQueue=J,y.lastRenderedState=j}if(u=y.interleaved,u!==null){k=u;do R=k.lane,Mn.lanes|=R,Au|=R,k=k.next;while(k!==u)}else k===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function rj(u){var h=Ns(),y=h.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=u;var j=y.dispatch,k=y.pending,R=h.memoizedState;if(k!==null){y.pending=null;var B=k=k.next;do R=u(R,B.action),B=B.next;while(B!==k);Qs(R,h.memoizedState)||(Ii=!0),h.memoizedState=R,h.baseQueue===null&&(h.baseState=R),y.lastRenderedState=R}return[R,j]}function mM(){}function pM(u,h){var y=Mn,j=Ns(),k=h(),R=!Qs(j.memoizedState,k);if(R&&(j.memoizedState=k,Ii=!0),j=j.queue,ij(vM.bind(null,y,j,u),[u]),j.getSnapshot!==h||R||_r!==null&&_r.memoizedState.tag&1){if(y.flags|=2048,mp(9,yM.bind(null,y,j,k,h),void 0,null),jr===null)throw Error(n(349));(Eu&30)!==0||gM(y,h,k)}return k}function gM(u,h,y){u.flags|=16384,u={getSnapshot:h,value:y},h=Mn.updateQueue,h===null?(h={lastEffect:null,stores:null},Mn.updateQueue=h,h.stores=[u]):(y=h.stores,y===null?h.stores=[u]:y.push(u))}function yM(u,h,y,j){h.value=y,h.getSnapshot=j,xM(h)&&bM(u)}function vM(u,h,y){return y(function(){xM(h)&&bM(u)})}function xM(u){var h=u.getSnapshot;u=u.value;try{var y=h();return!Qs(u,y)}catch{return!0}}function bM(u){var h=Io(u,1);h!==null&&ta(h,u,1,-1)}function wM(u){var h=Va();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:u},h.queue=u,u=u.dispatch=Qee.bind(null,Mn,u),[h.memoizedState,u]}function mp(u,h,y,j){return u={tag:u,create:h,destroy:y,deps:j,next:null},h=Mn.updateQueue,h===null?(h={lastEffect:null,stores:null},Mn.updateQueue=h,h.lastEffect=u.next=u):(y=h.lastEffect,y===null?h.lastEffect=u.next=u:(j=y.next,y.next=u,u.next=j,h.lastEffect=u)),u}function _M(){return Ns().memoizedState}function ev(u,h,y,j){var k=Va();Mn.flags|=u,k.memoizedState=mp(1|h,y,void 0,j===void 0?null:j)}function tv(u,h,y,j){var k=Ns();j=j===void 0?null:j;var R=void 0;if(cr!==null){var B=cr.memoizedState;if(R=B.destroy,j!==null&&Z_(j,B.deps)){k.memoizedState=mp(h,y,R,j);return}}Mn.flags|=u,k.memoizedState=mp(1|h,y,R,j)}function jM(u,h){return ev(8390656,8,u,h)}function ij(u,h){return tv(2048,8,u,h)}function NM(u,h){return tv(4,2,u,h)}function SM(u,h){return tv(4,4,u,h)}function TM(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function EM(u,h,y){return y=y!=null?y.concat([u]):null,tv(4,4,TM.bind(null,h,u),y)}function sj(){}function AM(u,h){var y=Ns();h=h===void 0?null:h;var j=y.memoizedState;return j!==null&&h!==null&&Z_(h,j[1])?j[0]:(y.memoizedState=[u,h],u)}function PM(u,h){var y=Ns();h=h===void 0?null:h;var j=y.memoizedState;return j!==null&&h!==null&&Z_(h,j[1])?j[0]:(u=u(),y.memoizedState=[u,h],u)}function CM(u,h,y){return(Eu&21)===0?(u.baseState&&(u.baseState=!1,Ii=!0),u.memoizedState=y):(Qs(y,h)||(y=Vm(),Mn.lanes|=y,Au|=y,u.baseState=!0),h)}function Kee(u,h){var y=Ft;Ft=y!==0&&4>y?y:4,u(!0);var j=J_.transition;J_.transition={};try{u(!1),h()}finally{Ft=y,J_.transition=j}}function kM(){return Ns().memoizedState}function Yee(u,h,y){var j=Ql(u);if(y={lane:j,action:y,hasEagerState:!1,eagerState:null,next:null},IM(u))OM(h,y);else if(y=cM(u,h,y,j),y!==null){var k=pi();ta(y,u,j,k),RM(y,h,j)}}function Qee(u,h,y){var j=Ql(u),k={lane:j,action:y,hasEagerState:!1,eagerState:null,next:null};if(IM(u))OM(h,k);else{var R=u.alternate;if(u.lanes===0&&(R===null||R.lanes===0)&&(R=h.lastRenderedReducer,R!==null))try{var B=h.lastRenderedState,H=R(B,y);if(k.hasEagerState=!0,k.eagerState=H,Qs(H,B)){var J=h.interleaved;J===null?(k.next=k,H_(h)):(k.next=J.next,J.next=k),h.interleaved=k;return}}catch{}finally{}y=cM(u,h,k,j),y!==null&&(k=pi(),ta(y,u,j,k),RM(y,h,j))}}function IM(u){var h=u.alternate;return u===Mn||h!==null&&h===Mn}function OM(u,h){dp=Z0=!0;var y=u.pending;y===null?h.next=h:(h.next=y.next,y.next=h),u.pending=h}function RM(u,h,y){if((y&4194240)!==0){var j=h.lanes;j&=u.pendingLanes,y|=j,h.lanes=y,qm(u,y)}}var nv={readContext:js,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useInsertionEffect:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useSyncExternalStore:Xr,useId:Xr,unstable_isNewReconciler:!1},Xee={readContext:js,useCallback:function(u,h){return Va().memoizedState=[u,h===void 0?null:h],u},useContext:js,useEffect:jM,useImperativeHandle:function(u,h,y){return y=y!=null?y.concat([u]):null,ev(4194308,4,TM.bind(null,h,u),y)},useLayoutEffect:function(u,h){return ev(4194308,4,u,h)},useInsertionEffect:function(u,h){return ev(4,2,u,h)},useMemo:function(u,h){var y=Va();return h=h===void 0?null:h,u=u(),y.memoizedState=[u,h],u},useReducer:function(u,h,y){var j=Va();return h=y!==void 0?y(h):h,j.memoizedState=j.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},j.queue=u,u=u.dispatch=Yee.bind(null,Mn,u),[j.memoizedState,u]},useRef:function(u){var h=Va();return u={current:u},h.memoizedState=u},useState:wM,useDebugValue:sj,useDeferredValue:function(u){return Va().memoizedState=u},useTransition:function(){var u=wM(!1),h=u[0];return u=Kee.bind(null,u[1]),Va().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,y){var j=Mn,k=Va();if(kn){if(y===void 0)throw Error(n(407));y=y()}else{if(y=h(),jr===null)throw Error(n(349));(Eu&30)!==0||gM(j,h,y)}k.memoizedState=y;var R={value:y,getSnapshot:h};return k.queue=R,jM(vM.bind(null,j,R,u),[u]),j.flags|=2048,mp(9,yM.bind(null,j,R,y,h),void 0,null),y},useId:function(){var u=Va(),h=jr.identifierPrefix;if(kn){var y=ko,j=Co;y=(j&~(1<<32-Qi(j)-1)).toString(32)+y,h=":"+h+"R"+y,y=hp++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=Gee++,h=":"+h+"r"+y.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},Jee={readContext:js,useCallback:AM,useContext:js,useEffect:ij,useImperativeHandle:EM,useInsertionEffect:NM,useLayoutEffect:SM,useMemo:PM,useReducer:nj,useRef:_M,useState:function(){return nj(fp)},useDebugValue:sj,useDeferredValue:function(u){var h=Ns();return CM(h,cr.memoizedState,u)},useTransition:function(){var u=nj(fp)[0],h=Ns().memoizedState;return[u,h]},useMutableSource:mM,useSyncExternalStore:pM,useId:kM,unstable_isNewReconciler:!1},Zee={readContext:js,useCallback:AM,useContext:js,useEffect:ij,useImperativeHandle:EM,useInsertionEffect:NM,useLayoutEffect:SM,useMemo:PM,useReducer:rj,useRef:_M,useState:function(){return rj(fp)},useDebugValue:sj,useDeferredValue:function(u){var h=Ns();return cr===null?h.memoizedState=u:CM(h,cr.memoizedState,u)},useTransition:function(){var u=rj(fp)[0],h=Ns().memoizedState;return[u,h]},useMutableSource:mM,useSyncExternalStore:pM,useId:kM,unstable_isNewReconciler:!1};function Js(u,h){if(u&&u.defaultProps){h=re({},h),u=u.defaultProps;for(var y in u)h[y]===void 0&&(h[y]=u[y]);return h}return h}function aj(u,h,y,j){h=u.memoizedState,y=y(j,h),y=y==null?h:re({},h,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var rv={isMounted:function(u){return(u=u._reactInternals)?Ks(u)===u:!1},enqueueSetState:function(u,h,y){u=u._reactInternals;var j=pi(),k=Ql(u),R=Oo(j,k);R.payload=h,y!=null&&(R.callback=y),h=Hl(u,R,k),h!==null&&(ta(h,u,k,j),Y0(h,u,k))},enqueueReplaceState:function(u,h,y){u=u._reactInternals;var j=pi(),k=Ql(u),R=Oo(j,k);R.tag=1,R.payload=h,y!=null&&(R.callback=y),h=Hl(u,R,k),h!==null&&(ta(h,u,k,j),Y0(h,u,k))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var y=pi(),j=Ql(u),k=Oo(y,j);k.tag=2,h!=null&&(k.callback=h),h=Hl(u,k,j),h!==null&&(ta(h,u,j,y),Y0(h,u,j))}};function MM(u,h,y,j,k,R,B){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(j,R,B):h.prototype&&h.prototype.isPureReactComponent?!ep(y,j)||!ep(k,R):!0}function DM(u,h,y){var j=!1,k=Ul,R=h.contextType;return typeof R=="object"&&R!==null?R=js(R):(k=ki(h)?_u:Qr.current,j=h.contextTypes,R=(j=j!=null)?dh(u,k):Ul),h=new h(y,R),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=rv,u.stateNode=h,h._reactInternals=u,j&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=k,u.__reactInternalMemoizedMaskedChildContext=R),h}function LM(u,h,y,j){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,j),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,j),h.state!==u&&rv.enqueueReplaceState(h,h.state,null)}function oj(u,h,y,j){var k=u.stateNode;k.props=y,k.state=u.memoizedState,k.refs={},G_(u);var R=h.contextType;typeof R=="object"&&R!==null?k.context=js(R):(R=ki(h)?_u:Qr.current,k.context=dh(u,R)),k.state=u.memoizedState,R=h.getDerivedStateFromProps,typeof R=="function"&&(aj(u,h,R,y),k.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(h=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),h!==k.state&&rv.enqueueReplaceState(k,k.state,null),Q0(u,y,k,j),k.state=u.memoizedState),typeof k.componentDidMount=="function"&&(u.flags|=4194308)}function xh(u,h){try{var y="",j=h;do y+=be(j),j=j.return;while(j);var k=y}catch(R){k=`
Error generating stack: `+R.message+`
`+R.stack}return{value:u,source:h,stack:k,digest:null}}function lj(u,h,y){return{value:u,source:null,stack:y??null,digest:h??null}}function cj(u,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var ete=typeof WeakMap=="function"?WeakMap:Map;function $M(u,h,y){y=Oo(-1,y),y.tag=3,y.payload={element:null};var j=h.value;return y.callback=function(){uv||(uv=!0,Nj=j),cj(u,h)},y}function FM(u,h,y){y=Oo(-1,y),y.tag=3;var j=u.type.getDerivedStateFromError;if(typeof j=="function"){var k=h.value;y.payload=function(){return j(k)},y.callback=function(){cj(u,h)}}var R=u.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(y.callback=function(){cj(u,h),typeof j!="function"&&(Kl===null?Kl=new Set([this]):Kl.add(this));var B=h.stack;this.componentDidCatch(h.value,{componentStack:B!==null?B:""})}),y}function VM(u,h,y){var j=u.pingCache;if(j===null){j=u.pingCache=new ete;var k=new Set;j.set(h,k)}else k=j.get(h),k===void 0&&(k=new Set,j.set(h,k));k.has(y)||(k.add(y),u=mte.bind(null,u,h,y),h.then(u,u))}function BM(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function qM(u,h,y,j,k){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=Oo(-1,1),h.tag=2,Hl(y,h,1))),y.lanes|=1),u):(u.flags|=65536,u.lanes=k,u)}var tte=I.ReactCurrentOwner,Ii=!1;function mi(u,h,y,j){h.child=u===null?lM(h,null,y,j):ph(h,u.child,y,j)}function UM(u,h,y,j,k){y=y.render;var R=h.ref;return yh(h,k),j=ej(u,h,y,j,R,k),y=tj(),u!==null&&!Ii?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~k,Ro(u,h,k)):(kn&&y&&L_(h),h.flags|=1,mi(u,h,j,k),h.child)}function zM(u,h,y,j,k){if(u===null){var R=y.type;return typeof R=="function"&&!kj(R)&&R.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=R,WM(u,h,R,j,k)):(u=gv(y.type,null,j,h,h.mode,k),u.ref=h.ref,u.return=h,h.child=u)}if(R=u.child,(u.lanes&k)===0){var B=R.memoizedProps;if(y=y.compare,y=y!==null?y:ep,y(B,j)&&u.ref===h.ref)return Ro(u,h,k)}return h.flags|=1,u=Jl(R,j),u.ref=h.ref,u.return=h,h.child=u}function WM(u,h,y,j,k){if(u!==null){var R=u.memoizedProps;if(ep(R,j)&&u.ref===h.ref)if(Ii=!1,h.pendingProps=j=R,(u.lanes&k)!==0)(u.flags&131072)!==0&&(Ii=!0);else return h.lanes=u.lanes,Ro(u,h,k)}return uj(u,h,y,j,k)}function HM(u,h,y){var j=h.pendingProps,k=j.children,R=u!==null?u.memoizedState:null;if(j.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(wh,rs),rs|=y;else{if((y&1073741824)===0)return u=R!==null?R.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,vn(wh,rs),rs|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=R!==null?R.baseLanes:y,vn(wh,rs),rs|=j}else R!==null?(j=R.baseLanes|y,h.memoizedState=null):j=y,vn(wh,rs),rs|=j;return mi(u,h,k,y),h.child}function GM(u,h){var y=h.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function uj(u,h,y,j,k){var R=ki(y)?_u:Qr.current;return R=dh(h,R),yh(h,k),y=ej(u,h,y,j,R,k),j=tj(),u!==null&&!Ii?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~k,Ro(u,h,k)):(kn&&j&&L_(h),h.flags|=1,mi(u,h,y,k),h.child)}function KM(u,h,y,j,k){if(ki(y)){var R=!0;B0(h)}else R=!1;if(yh(h,k),h.stateNode===null)sv(u,h),DM(h,y,j),oj(h,y,j,k),j=!0;else if(u===null){var B=h.stateNode,H=h.memoizedProps;B.props=H;var J=B.context,ce=y.contextType;typeof ce=="object"&&ce!==null?ce=js(ce):(ce=ki(y)?_u:Qr.current,ce=dh(h,ce));var Te=y.getDerivedStateFromProps,Ce=typeof Te=="function"||typeof B.getSnapshotBeforeUpdate=="function";Ce||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(H!==j||J!==ce)&&LM(h,B,j,ce),Wl=!1;var Se=h.memoizedState;B.state=Se,Q0(h,j,B,k),J=h.memoizedState,H!==j||Se!==J||Ci.current||Wl?(typeof Te=="function"&&(aj(h,y,Te,j),J=h.memoizedState),(H=Wl||MM(h,y,H,j,Se,J,ce))?(Ce||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(h.flags|=4194308)):(typeof B.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=j,h.memoizedState=J),B.props=j,B.state=J,B.context=ce,j=H):(typeof B.componentDidMount=="function"&&(h.flags|=4194308),j=!1)}else{B=h.stateNode,uM(u,h),H=h.memoizedProps,ce=h.type===h.elementType?H:Js(h.type,H),B.props=ce,Ce=h.pendingProps,Se=B.context,J=y.contextType,typeof J=="object"&&J!==null?J=js(J):(J=ki(y)?_u:Qr.current,J=dh(h,J));var $e=y.getDerivedStateFromProps;(Te=typeof $e=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(H!==Ce||Se!==J)&&LM(h,B,j,J),Wl=!1,Se=h.memoizedState,B.state=Se,Q0(h,j,B,k);var He=h.memoizedState;H!==Ce||Se!==He||Ci.current||Wl?(typeof $e=="function"&&(aj(h,y,$e,j),He=h.memoizedState),(ce=Wl||MM(h,y,ce,j,Se,He,J)||!1)?(Te||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(j,He,J),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(j,He,J)),typeof B.componentDidUpdate=="function"&&(h.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof B.componentDidUpdate!="function"||H===u.memoizedProps&&Se===u.memoizedState||(h.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||H===u.memoizedProps&&Se===u.memoizedState||(h.flags|=1024),h.memoizedProps=j,h.memoizedState=He),B.props=j,B.state=He,B.context=J,j=ce):(typeof B.componentDidUpdate!="function"||H===u.memoizedProps&&Se===u.memoizedState||(h.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||H===u.memoizedProps&&Se===u.memoizedState||(h.flags|=1024),j=!1)}return dj(u,h,y,j,R,k)}function dj(u,h,y,j,k,R){GM(u,h);var B=(h.flags&128)!==0;if(!j&&!B)return k&&ZR(h,y,!1),Ro(u,h,R);j=h.stateNode,tte.current=h;var H=B&&typeof y.getDerivedStateFromError!="function"?null:j.render();return h.flags|=1,u!==null&&B?(h.child=ph(h,u.child,null,R),h.child=ph(h,null,H,R)):mi(u,h,H,R),h.memoizedState=j.state,k&&ZR(h,y,!0),h.child}function YM(u){var h=u.stateNode;h.pendingContext?XR(u,h.pendingContext,h.pendingContext!==h.context):h.context&&XR(u,h.context,!1),K_(u,h.containerInfo)}function QM(u,h,y,j,k){return mh(),B_(k),h.flags|=256,mi(u,h,y,j),h.child}var hj={dehydrated:null,treeContext:null,retryLane:0};function fj(u){return{baseLanes:u,cachePool:null,transitions:null}}function XM(u,h,y){var j=h.pendingProps,k=Rn.current,R=!1,B=(h.flags&128)!==0,H;if((H=B)||(H=u!==null&&u.memoizedState===null?!1:(k&2)!==0),H?(R=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(k|=1),vn(Rn,k&1),u===null)return V_(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(B=j.children,u=j.fallback,R?(j=h.mode,R=h.child,B={mode:"hidden",children:B},(j&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=B):R=yv(B,j,0,null),u=Iu(u,j,y,null),R.return=h,u.return=h,R.sibling=u,h.child=R,h.child.memoizedState=fj(y),h.memoizedState=hj,u):mj(h,B));if(k=u.memoizedState,k!==null&&(H=k.dehydrated,H!==null))return nte(u,h,B,j,H,k,y);if(R){R=j.fallback,B=h.mode,k=u.child,H=k.sibling;var J={mode:"hidden",children:j.children};return(B&1)===0&&h.child!==k?(j=h.child,j.childLanes=0,j.pendingProps=J,h.deletions=null):(j=Jl(k,J),j.subtreeFlags=k.subtreeFlags&14680064),H!==null?R=Jl(H,R):(R=Iu(R,B,y,null),R.flags|=2),R.return=h,j.return=h,j.sibling=R,h.child=j,j=R,R=h.child,B=u.child.memoizedState,B=B===null?fj(y):{baseLanes:B.baseLanes|y,cachePool:null,transitions:B.transitions},R.memoizedState=B,R.childLanes=u.childLanes&~y,h.memoizedState=hj,j}return R=u.child,u=R.sibling,j=Jl(R,{mode:"visible",children:j.children}),(h.mode&1)===0&&(j.lanes=y),j.return=h,j.sibling=null,u!==null&&(y=h.deletions,y===null?(h.deletions=[u],h.flags|=16):y.push(u)),h.child=j,h.memoizedState=null,j}function mj(u,h){return h=yv({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function iv(u,h,y,j){return j!==null&&B_(j),ph(h,u.child,null,y),u=mj(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function nte(u,h,y,j,k,R,B){if(y)return h.flags&256?(h.flags&=-257,j=lj(Error(n(422))),iv(u,h,B,j)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(R=j.fallback,k=h.mode,j=yv({mode:"visible",children:j.children},k,0,null),R=Iu(R,k,B,null),R.flags|=2,j.return=h,R.return=h,j.sibling=R,h.child=j,(h.mode&1)!==0&&ph(h,u.child,null,B),h.child.memoizedState=fj(B),h.memoizedState=hj,R);if((h.mode&1)===0)return iv(u,h,B,null);if(k.data==="$!"){if(j=k.nextSibling&&k.nextSibling.dataset,j)var H=j.dgst;return j=H,R=Error(n(419)),j=lj(R,j,void 0),iv(u,h,B,j)}if(H=(B&u.childLanes)!==0,Ii||H){if(j=jr,j!==null){switch(B&-B){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(j.suspendedLanes|B))!==0?0:k,k!==0&&k!==R.retryLane&&(R.retryLane=k,Io(u,k),ta(j,u,k,-1))}return Cj(),j=lj(Error(n(421))),iv(u,h,B,j)}return k.data==="$?"?(h.flags|=128,h.child=u.child,h=pte.bind(null,u),k._reactRetry=h,null):(u=R.treeContext,ns=Bl(k.nextSibling),ts=h,kn=!0,Xs=null,u!==null&&(ws[_s++]=Co,ws[_s++]=ko,ws[_s++]=ju,Co=u.id,ko=u.overflow,ju=h),h=mj(h,j.children),h.flags|=4096,h)}function JM(u,h,y){u.lanes|=h;var j=u.alternate;j!==null&&(j.lanes|=h),W_(u.return,h,y)}function pj(u,h,y,j,k){var R=u.memoizedState;R===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:j,tail:y,tailMode:k}:(R.isBackwards=h,R.rendering=null,R.renderingStartTime=0,R.last=j,R.tail=y,R.tailMode=k)}function ZM(u,h,y){var j=h.pendingProps,k=j.revealOrder,R=j.tail;if(mi(u,h,j.children,y),j=Rn.current,(j&2)!==0)j=j&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&JM(u,y,h);else if(u.tag===19)JM(u,y,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}j&=1}if(vn(Rn,j),(h.mode&1)===0)h.memoizedState=null;else switch(k){case"forwards":for(y=h.child,k=null;y!==null;)u=y.alternate,u!==null&&X0(u)===null&&(k=y),y=y.sibling;y=k,y===null?(k=h.child,h.child=null):(k=y.sibling,y.sibling=null),pj(h,!1,k,y,R);break;case"backwards":for(y=null,k=h.child,h.child=null;k!==null;){if(u=k.alternate,u!==null&&X0(u)===null){h.child=k;break}u=k.sibling,k.sibling=y,y=k,k=u}pj(h,!0,y,null,R);break;case"together":pj(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function sv(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function Ro(u,h,y){if(u!==null&&(h.dependencies=u.dependencies),Au|=h.lanes,(y&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(n(153));if(h.child!==null){for(u=h.child,y=Jl(u,u.pendingProps),h.child=y,y.return=h;u.sibling!==null;)u=u.sibling,y=y.sibling=Jl(u,u.pendingProps),y.return=h;y.sibling=null}return h.child}function rte(u,h,y){switch(h.tag){case 3:YM(h),mh();break;case 5:fM(h);break;case 1:ki(h.type)&&B0(h);break;case 4:K_(h,h.stateNode.containerInfo);break;case 10:var j=h.type._context,k=h.memoizedProps.value;vn(G0,j._currentValue),j._currentValue=k;break;case 13:if(j=h.memoizedState,j!==null)return j.dehydrated!==null?(vn(Rn,Rn.current&1),h.flags|=128,null):(y&h.child.childLanes)!==0?XM(u,h,y):(vn(Rn,Rn.current&1),u=Ro(u,h,y),u!==null?u.sibling:null);vn(Rn,Rn.current&1);break;case 19:if(j=(y&h.childLanes)!==0,(u.flags&128)!==0){if(j)return ZM(u,h,y);h.flags|=128}if(k=h.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),vn(Rn,Rn.current),j)break;return null;case 22:case 23:return h.lanes=0,HM(u,h,y)}return Ro(u,h,y)}var e4,gj,t4,n4;e4=function(u,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)u.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},gj=function(){},t4=function(u,h,y,j){var k=u.memoizedProps;if(k!==j){u=h.stateNode,Tu(Fa.current);var R=null;switch(y){case"input":k=et(u,k),j=et(u,j),R=[];break;case"select":k=re({},k,{value:void 0}),j=re({},j,{value:void 0}),R=[];break;case"textarea":k=wr(u,k),j=wr(u,j),R=[];break;default:typeof k.onClick!="function"&&typeof j.onClick=="function"&&(u.onclick=$0)}_t(y,j);var B;y=null;for(ce in k)if(!j.hasOwnProperty(ce)&&k.hasOwnProperty(ce)&&k[ce]!=null)if(ce==="style"){var H=k[ce];for(B in H)H.hasOwnProperty(B)&&(y||(y={}),y[B]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(i.hasOwnProperty(ce)?R||(R=[]):(R=R||[]).push(ce,null));for(ce in j){var J=j[ce];if(H=k!=null?k[ce]:void 0,j.hasOwnProperty(ce)&&J!==H&&(J!=null||H!=null))if(ce==="style")if(H){for(B in H)!H.hasOwnProperty(B)||J&&J.hasOwnProperty(B)||(y||(y={}),y[B]="");for(B in J)J.hasOwnProperty(B)&&H[B]!==J[B]&&(y||(y={}),y[B]=J[B])}else y||(R||(R=[]),R.push(ce,y)),y=J;else ce==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,H=H?H.__html:void 0,J!=null&&H!==J&&(R=R||[]).push(ce,J)):ce==="children"?typeof J!="string"&&typeof J!="number"||(R=R||[]).push(ce,""+J):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(ce)?(J!=null&&ce==="onScroll"&&Nn("scroll",u),R||H===J||(R=[])):(R=R||[]).push(ce,J))}y&&(R=R||[]).push("style",y);var ce=R;(h.updateQueue=ce)&&(h.flags|=4)}},n4=function(u,h,y,j){y!==j&&(h.flags|=4)};function pp(u,h){if(!kn)switch(u.tailMode){case"hidden":h=u.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var j=null;y!==null;)y.alternate!==null&&(j=y),y=y.sibling;j===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:j.sibling=null}}function Jr(u){var h=u.alternate!==null&&u.alternate.child===u.child,y=0,j=0;if(h)for(var k=u.child;k!==null;)y|=k.lanes|k.childLanes,j|=k.subtreeFlags&14680064,j|=k.flags&14680064,k.return=u,k=k.sibling;else for(k=u.child;k!==null;)y|=k.lanes|k.childLanes,j|=k.subtreeFlags,j|=k.flags,k.return=u,k=k.sibling;return u.subtreeFlags|=j,u.childLanes=y,h}function ite(u,h,y){var j=h.pendingProps;switch($_(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(h),null;case 1:return ki(h.type)&&V0(),Jr(h),null;case 3:return j=h.stateNode,vh(),Sn(Ci),Sn(Qr),X_(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(u===null||u.child===null)&&(W0(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Xs!==null&&(Ej(Xs),Xs=null))),gj(u,h),Jr(h),null;case 5:Y_(h);var k=Tu(up.current);if(y=h.type,u!==null&&h.stateNode!=null)t4(u,h,y,j,k),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!j){if(h.stateNode===null)throw Error(n(166));return Jr(h),null}if(u=Tu(Fa.current),W0(h)){j=h.stateNode,y=h.type;var R=h.memoizedProps;switch(j[$a]=h,j[sp]=R,u=(h.mode&1)!==0,y){case"dialog":Nn("cancel",j),Nn("close",j);break;case"iframe":case"object":case"embed":Nn("load",j);break;case"video":case"audio":for(k=0;k<np.length;k++)Nn(np[k],j);break;case"source":Nn("error",j);break;case"img":case"image":case"link":Nn("error",j),Nn("load",j);break;case"details":Nn("toggle",j);break;case"input":kt(j,R),Nn("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!R.multiple},Nn("invalid",j);break;case"textarea":fi(j,R),Nn("invalid",j)}_t(y,R),k=null;for(var B in R)if(R.hasOwnProperty(B)){var H=R[B];B==="children"?typeof H=="string"?j.textContent!==H&&(R.suppressHydrationWarning!==!0&&L0(j.textContent,H,u),k=["children",H]):typeof H=="number"&&j.textContent!==""+H&&(R.suppressHydrationWarning!==!0&&L0(j.textContent,H,u),k=["children",""+H]):i.hasOwnProperty(B)&&H!=null&&B==="onScroll"&&Nn("scroll",j)}switch(y){case"input":Re(j),Kn(j,R,!0);break;case"textarea":Re(j),kr(j);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(j.onclick=$0)}j=k,h.updateQueue=j,j!==null&&(h.flags|=4)}else{B=k.nodeType===9?k:k.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Hs(y)),u==="http://www.w3.org/1999/xhtml"?y==="script"?(u=B.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof j.is=="string"?u=B.createElement(y,{is:j.is}):(u=B.createElement(y),y==="select"&&(B=u,j.multiple?B.multiple=!0:j.size&&(B.size=j.size))):u=B.createElementNS(u,y),u[$a]=h,u[sp]=j,e4(u,h,!1,!1),h.stateNode=u;e:{switch(B=fn(y,j),y){case"dialog":Nn("cancel",u),Nn("close",u),k=j;break;case"iframe":case"object":case"embed":Nn("load",u),k=j;break;case"video":case"audio":for(k=0;k<np.length;k++)Nn(np[k],u);k=j;break;case"source":Nn("error",u),k=j;break;case"img":case"image":case"link":Nn("error",u),Nn("load",u),k=j;break;case"details":Nn("toggle",u),k=j;break;case"input":kt(u,j),k=et(u,j),Nn("invalid",u);break;case"option":k=j;break;case"select":u._wrapperState={wasMultiple:!!j.multiple},k=re({},j,{value:void 0}),Nn("invalid",u);break;case"textarea":fi(u,j),k=wr(u,j),Nn("invalid",u);break;default:k=j}_t(y,k),H=k;for(R in H)if(H.hasOwnProperty(R)){var J=H[R];R==="style"?gt(u,J):R==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&Pe(u,J)):R==="children"?typeof J=="string"?(y!=="textarea"||J!=="")&&ve(u,J):typeof J=="number"&&ve(u,""+J):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?J!=null&&R==="onScroll"&&Nn("scroll",u):J!=null&&A(u,R,J,B))}switch(y){case"input":Re(u),Kn(u,j,!1);break;case"textarea":Re(u),kr(u);break;case"option":j.value!=null&&u.setAttribute("value",""+Ie(j.value));break;case"select":u.multiple=!!j.multiple,R=j.value,R!=null?Cn(u,!!j.multiple,R,!1):j.defaultValue!=null&&Cn(u,!!j.multiple,j.defaultValue,!0);break;default:typeof k.onClick=="function"&&(u.onclick=$0)}switch(y){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Jr(h),null;case 6:if(u&&h.stateNode!=null)n4(u,h,u.memoizedProps,j);else{if(typeof j!="string"&&h.stateNode===null)throw Error(n(166));if(y=Tu(up.current),Tu(Fa.current),W0(h)){if(j=h.stateNode,y=h.memoizedProps,j[$a]=h,(R=j.nodeValue!==y)&&(u=ts,u!==null))switch(u.tag){case 3:L0(j.nodeValue,y,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&L0(j.nodeValue,y,(u.mode&1)!==0)}R&&(h.flags|=4)}else j=(y.nodeType===9?y:y.ownerDocument).createTextNode(j),j[$a]=h,h.stateNode=j}return Jr(h),null;case 13:if(Sn(Rn),j=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(kn&&ns!==null&&(h.mode&1)!==0&&(h.flags&128)===0)sM(),mh(),h.flags|=98560,R=!1;else if(R=W0(h),j!==null&&j.dehydrated!==null){if(u===null){if(!R)throw Error(n(318));if(R=h.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(n(317));R[$a]=h}else mh(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Jr(h),R=!1}else Xs!==null&&(Ej(Xs),Xs=null),R=!0;if(!R)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=y,h):(j=j!==null,j!==(u!==null&&u.memoizedState!==null)&&j&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(Rn.current&1)!==0?ur===0&&(ur=3):Cj())),h.updateQueue!==null&&(h.flags|=4),Jr(h),null);case 4:return vh(),gj(u,h),u===null&&rp(h.stateNode.containerInfo),Jr(h),null;case 10:return z_(h.type._context),Jr(h),null;case 17:return ki(h.type)&&V0(),Jr(h),null;case 19:if(Sn(Rn),R=h.memoizedState,R===null)return Jr(h),null;if(j=(h.flags&128)!==0,B=R.rendering,B===null)if(j)pp(R,!1);else{if(ur!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(B=X0(u),B!==null){for(h.flags|=128,pp(R,!1),j=B.updateQueue,j!==null&&(h.updateQueue=j,h.flags|=4),h.subtreeFlags=0,j=y,y=h.child;y!==null;)R=y,u=j,R.flags&=14680066,B=R.alternate,B===null?(R.childLanes=0,R.lanes=u,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=B.childLanes,R.lanes=B.lanes,R.child=B.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=B.memoizedProps,R.memoizedState=B.memoizedState,R.updateQueue=B.updateQueue,R.type=B.type,u=B.dependencies,R.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),y=y.sibling;return vn(Rn,Rn.current&1|2),h.child}u=u.sibling}R.tail!==null&&jn()>_h&&(h.flags|=128,j=!0,pp(R,!1),h.lanes=4194304)}else{if(!j)if(u=X0(B),u!==null){if(h.flags|=128,j=!0,y=u.updateQueue,y!==null&&(h.updateQueue=y,h.flags|=4),pp(R,!0),R.tail===null&&R.tailMode==="hidden"&&!B.alternate&&!kn)return Jr(h),null}else 2*jn()-R.renderingStartTime>_h&&y!==1073741824&&(h.flags|=128,j=!0,pp(R,!1),h.lanes=4194304);R.isBackwards?(B.sibling=h.child,h.child=B):(y=R.last,y!==null?y.sibling=B:h.child=B,R.last=B)}return R.tail!==null?(h=R.tail,R.rendering=h,R.tail=h.sibling,R.renderingStartTime=jn(),h.sibling=null,y=Rn.current,vn(Rn,j?y&1|2:y&1),h):(Jr(h),null);case 22:case 23:return Pj(),j=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==j&&(h.flags|=8192),j&&(h.mode&1)!==0?(rs&1073741824)!==0&&(Jr(h),h.subtreeFlags&6&&(h.flags|=8192)):Jr(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function ste(u,h){switch($_(h),h.tag){case 1:return ki(h.type)&&V0(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return vh(),Sn(Ci),Sn(Qr),X_(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return Y_(h),null;case 13:if(Sn(Rn),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(n(340));mh()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return Sn(Rn),null;case 4:return vh(),null;case 10:return z_(h.type._context),null;case 22:case 23:return Pj(),null;case 24:return null;default:return null}}var av=!1,Zr=!1,ate=typeof WeakSet=="function"?WeakSet:Set,qe=null;function bh(u,h){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(j){Un(u,h,j)}else y.current=null}function yj(u,h,y){try{y()}catch(j){Un(u,h,j)}}var r4=!1;function ote(u,h){if(P_=So,u=MR(),w_(u)){if("selectionStart"in u)var y={start:u.selectionStart,end:u.selectionEnd};else e:{y=(y=u.ownerDocument)&&y.defaultView||window;var j=y.getSelection&&y.getSelection();if(j&&j.rangeCount!==0){y=j.anchorNode;var k=j.anchorOffset,R=j.focusNode;j=j.focusOffset;try{y.nodeType,R.nodeType}catch{y=null;break e}var B=0,H=-1,J=-1,ce=0,Te=0,Ce=u,Se=null;t:for(;;){for(var $e;Ce!==y||k!==0&&Ce.nodeType!==3||(H=B+k),Ce!==R||j!==0&&Ce.nodeType!==3||(J=B+j),Ce.nodeType===3&&(B+=Ce.nodeValue.length),($e=Ce.firstChild)!==null;)Se=Ce,Ce=$e;for(;;){if(Ce===u)break t;if(Se===y&&++ce===k&&(H=B),Se===R&&++Te===j&&(J=B),($e=Ce.nextSibling)!==null)break;Ce=Se,Se=Ce.parentNode}Ce=$e}y=H===-1||J===-1?null:{start:H,end:J}}else y=null}y=y||{start:0,end:0}}else y=null;for(C_={focusedElem:u,selectionRange:y},So=!1,qe=h;qe!==null;)if(h=qe,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,qe=u;else for(;qe!==null;){h=qe;try{var He=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(He!==null){var Qe=He.memoizedProps,Qn=He.memoizedState,ie=h.stateNode,ee=ie.getSnapshotBeforeUpdate(h.elementType===h.type?Qe:Js(h.type,Qe),Qn);ie.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var ae=h.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Oe){Un(h,h.return,Oe)}if(u=h.sibling,u!==null){u.return=h.return,qe=u;break}qe=h.return}return He=r4,r4=!1,He}function gp(u,h,y){var j=h.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var k=j=j.next;do{if((k.tag&u)===u){var R=k.destroy;k.destroy=void 0,R!==void 0&&yj(h,y,R)}k=k.next}while(k!==j)}}function ov(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&u)===u){var j=y.create;y.destroy=j()}y=y.next}while(y!==h)}}function vj(u){var h=u.ref;if(h!==null){var y=u.stateNode;switch(u.tag){case 5:u=y;break;default:u=y}typeof h=="function"?h(u):h.current=u}}function i4(u){var h=u.alternate;h!==null&&(u.alternate=null,i4(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[$a],delete h[sp],delete h[R_],delete h[Uee],delete h[zee])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function s4(u){return u.tag===5||u.tag===3||u.tag===4}function a4(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||s4(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function xj(u,h,y){var j=u.tag;if(j===5||j===6)u=u.stateNode,h?y.nodeType===8?y.parentNode.insertBefore(u,h):y.insertBefore(u,h):(y.nodeType===8?(h=y.parentNode,h.insertBefore(u,y)):(h=y,h.appendChild(u)),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=$0));else if(j!==4&&(u=u.child,u!==null))for(xj(u,h,y),u=u.sibling;u!==null;)xj(u,h,y),u=u.sibling}function bj(u,h,y){var j=u.tag;if(j===5||j===6)u=u.stateNode,h?y.insertBefore(u,h):y.appendChild(u);else if(j!==4&&(u=u.child,u!==null))for(bj(u,h,y),u=u.sibling;u!==null;)bj(u,h,y),u=u.sibling}var Mr=null,Zs=!1;function Gl(u,h,y){for(y=y.child;y!==null;)o4(u,h,y),y=y.sibling}function o4(u,h,y){if(Yi&&typeof Yi.onCommitFiberUnmount=="function")try{Yi.onCommitFiberUnmount(hu,y)}catch{}switch(y.tag){case 5:Zr||bh(y,h);case 6:var j=Mr,k=Zs;Mr=null,Gl(u,h,y),Mr=j,Zs=k,Mr!==null&&(Zs?(u=Mr,y=y.stateNode,u.nodeType===8?u.parentNode.removeChild(y):u.removeChild(y)):Mr.removeChild(y.stateNode));break;case 18:Mr!==null&&(Zs?(u=Mr,y=y.stateNode,u.nodeType===8?O_(u.parentNode,y):u.nodeType===1&&O_(u,y),Ll(u)):O_(Mr,y.stateNode));break;case 4:j=Mr,k=Zs,Mr=y.stateNode.containerInfo,Zs=!0,Gl(u,h,y),Mr=j,Zs=k;break;case 0:case 11:case 14:case 15:if(!Zr&&(j=y.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){k=j=j.next;do{var R=k,B=R.destroy;R=R.tag,B!==void 0&&((R&2)!==0||(R&4)!==0)&&yj(y,h,B),k=k.next}while(k!==j)}Gl(u,h,y);break;case 1:if(!Zr&&(bh(y,h),j=y.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=y.memoizedProps,j.state=y.memoizedState,j.componentWillUnmount()}catch(H){Un(y,h,H)}Gl(u,h,y);break;case 21:Gl(u,h,y);break;case 22:y.mode&1?(Zr=(j=Zr)||y.memoizedState!==null,Gl(u,h,y),Zr=j):Gl(u,h,y);break;default:Gl(u,h,y)}}function l4(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new ate),h.forEach(function(j){var k=gte.bind(null,u,j);y.has(j)||(y.add(j),j.then(k,k))})}}function ea(u,h){var y=h.deletions;if(y!==null)for(var j=0;j<y.length;j++){var k=y[j];try{var R=u,B=h,H=B;e:for(;H!==null;){switch(H.tag){case 5:Mr=H.stateNode,Zs=!1;break e;case 3:Mr=H.stateNode.containerInfo,Zs=!0;break e;case 4:Mr=H.stateNode.containerInfo,Zs=!0;break e}H=H.return}if(Mr===null)throw Error(n(160));o4(R,B,k),Mr=null,Zs=!1;var J=k.alternate;J!==null&&(J.return=null),k.return=null}catch(ce){Un(k,h,ce)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)c4(h,u),h=h.sibling}function c4(u,h){var y=u.alternate,j=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(ea(h,u),Ba(u),j&4){try{gp(3,u,u.return),ov(3,u)}catch(Qe){Un(u,u.return,Qe)}try{gp(5,u,u.return)}catch(Qe){Un(u,u.return,Qe)}}break;case 1:ea(h,u),Ba(u),j&512&&y!==null&&bh(y,y.return);break;case 5:if(ea(h,u),Ba(u),j&512&&y!==null&&bh(y,y.return),u.flags&32){var k=u.stateNode;try{ve(k,"")}catch(Qe){Un(u,u.return,Qe)}}if(j&4&&(k=u.stateNode,k!=null)){var R=u.memoizedProps,B=y!==null?y.memoizedProps:R,H=u.type,J=u.updateQueue;if(u.updateQueue=null,J!==null)try{H==="input"&&R.type==="radio"&&R.name!=null&&It(k,R),fn(H,B);var ce=fn(H,R);for(B=0;B<J.length;B+=2){var Te=J[B],Ce=J[B+1];Te==="style"?gt(k,Ce):Te==="dangerouslySetInnerHTML"?Pe(k,Ce):Te==="children"?ve(k,Ce):A(k,Te,Ce,ce)}switch(H){case"input":Gt(k,R);break;case"textarea":gs(k,R);break;case"select":var Se=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!R.multiple;var $e=R.value;$e!=null?Cn(k,!!R.multiple,$e,!1):Se!==!!R.multiple&&(R.defaultValue!=null?Cn(k,!!R.multiple,R.defaultValue,!0):Cn(k,!!R.multiple,R.multiple?[]:"",!1))}k[sp]=R}catch(Qe){Un(u,u.return,Qe)}}break;case 6:if(ea(h,u),Ba(u),j&4){if(u.stateNode===null)throw Error(n(162));k=u.stateNode,R=u.memoizedProps;try{k.nodeValue=R}catch(Qe){Un(u,u.return,Qe)}}break;case 3:if(ea(h,u),Ba(u),j&4&&y!==null&&y.memoizedState.isDehydrated)try{Ll(h.containerInfo)}catch(Qe){Un(u,u.return,Qe)}break;case 4:ea(h,u),Ba(u);break;case 13:ea(h,u),Ba(u),k=u.child,k.flags&8192&&(R=k.memoizedState!==null,k.stateNode.isHidden=R,!R||k.alternate!==null&&k.alternate.memoizedState!==null||(jj=jn())),j&4&&l4(u);break;case 22:if(Te=y!==null&&y.memoizedState!==null,u.mode&1?(Zr=(ce=Zr)||Te,ea(h,u),Zr=ce):ea(h,u),Ba(u),j&8192){if(ce=u.memoizedState!==null,(u.stateNode.isHidden=ce)&&!Te&&(u.mode&1)!==0)for(qe=u,Te=u.child;Te!==null;){for(Ce=qe=Te;qe!==null;){switch(Se=qe,$e=Se.child,Se.tag){case 0:case 11:case 14:case 15:gp(4,Se,Se.return);break;case 1:bh(Se,Se.return);var He=Se.stateNode;if(typeof He.componentWillUnmount=="function"){j=Se,y=Se.return;try{h=j,He.props=h.memoizedProps,He.state=h.memoizedState,He.componentWillUnmount()}catch(Qe){Un(j,y,Qe)}}break;case 5:bh(Se,Se.return);break;case 22:if(Se.memoizedState!==null){h4(Ce);continue}}$e!==null?($e.return=Se,qe=$e):h4(Ce)}Te=Te.sibling}e:for(Te=null,Ce=u;;){if(Ce.tag===5){if(Te===null){Te=Ce;try{k=Ce.stateNode,ce?(R=k.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(H=Ce.stateNode,J=Ce.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null,H.style.display=Be("display",B))}catch(Qe){Un(u,u.return,Qe)}}}else if(Ce.tag===6){if(Te===null)try{Ce.stateNode.nodeValue=ce?"":Ce.memoizedProps}catch(Qe){Un(u,u.return,Qe)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===u)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===u)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===u)break e;Te===Ce&&(Te=null),Ce=Ce.return}Te===Ce&&(Te=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:ea(h,u),Ba(u),j&4&&l4(u);break;case 21:break;default:ea(h,u),Ba(u)}}function Ba(u){var h=u.flags;if(h&2){try{e:{for(var y=u.return;y!==null;){if(s4(y)){var j=y;break e}y=y.return}throw Error(n(160))}switch(j.tag){case 5:var k=j.stateNode;j.flags&32&&(ve(k,""),j.flags&=-33);var R=a4(u);bj(u,R,k);break;case 3:case 4:var B=j.stateNode.containerInfo,H=a4(u);xj(u,H,B);break;default:throw Error(n(161))}}catch(J){Un(u,u.return,J)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function lte(u,h,y){qe=u,u4(u)}function u4(u,h,y){for(var j=(u.mode&1)!==0;qe!==null;){var k=qe,R=k.child;if(k.tag===22&&j){var B=k.memoizedState!==null||av;if(!B){var H=k.alternate,J=H!==null&&H.memoizedState!==null||Zr;H=av;var ce=Zr;if(av=B,(Zr=J)&&!ce)for(qe=k;qe!==null;)B=qe,J=B.child,B.tag===22&&B.memoizedState!==null?f4(k):J!==null?(J.return=B,qe=J):f4(k);for(;R!==null;)qe=R,u4(R),R=R.sibling;qe=k,av=H,Zr=ce}d4(u)}else(k.subtreeFlags&8772)!==0&&R!==null?(R.return=k,qe=R):d4(u)}}function d4(u){for(;qe!==null;){var h=qe;if((h.flags&8772)!==0){var y=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Zr||ov(5,h);break;case 1:var j=h.stateNode;if(h.flags&4&&!Zr)if(y===null)j.componentDidMount();else{var k=h.elementType===h.type?y.memoizedProps:Js(h.type,y.memoizedProps);j.componentDidUpdate(k,y.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var R=h.updateQueue;R!==null&&hM(h,R,j);break;case 3:var B=h.updateQueue;if(B!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=h.child.stateNode;break;case 1:y=h.child.stateNode}hM(h,B,y)}break;case 5:var H=h.stateNode;if(y===null&&h.flags&4){y=H;var J=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&y.focus();break;case"img":J.src&&(y.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var ce=h.alternate;if(ce!==null){var Te=ce.memoizedState;if(Te!==null){var Ce=Te.dehydrated;Ce!==null&&Ll(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Zr||h.flags&512&&vj(h)}catch(Se){Un(h,h.return,Se)}}if(h===u){qe=null;break}if(y=h.sibling,y!==null){y.return=h.return,qe=y;break}qe=h.return}}function h4(u){for(;qe!==null;){var h=qe;if(h===u){qe=null;break}var y=h.sibling;if(y!==null){y.return=h.return,qe=y;break}qe=h.return}}function f4(u){for(;qe!==null;){var h=qe;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{ov(4,h)}catch(J){Un(h,y,J)}break;case 1:var j=h.stateNode;if(typeof j.componentDidMount=="function"){var k=h.return;try{j.componentDidMount()}catch(J){Un(h,k,J)}}var R=h.return;try{vj(h)}catch(J){Un(h,R,J)}break;case 5:var B=h.return;try{vj(h)}catch(J){Un(h,B,J)}}}catch(J){Un(h,h.return,J)}if(h===u){qe=null;break}var H=h.sibling;if(H!==null){H.return=h.return,qe=H;break}qe=h.return}}var cte=Math.ceil,lv=I.ReactCurrentDispatcher,wj=I.ReactCurrentOwner,Ss=I.ReactCurrentBatchConfig,zt=0,jr=null,nr=null,Dr=0,rs=0,wh=ql(0),ur=0,yp=null,Au=0,cv=0,_j=0,vp=null,Oi=null,jj=0,_h=1/0,Mo=null,uv=!1,Nj=null,Kl=null,dv=!1,Yl=null,hv=0,xp=0,Sj=null,fv=-1,mv=0;function pi(){return(zt&6)!==0?jn():fv!==-1?fv:fv=jn()}function Ql(u){return(u.mode&1)===0?1:(zt&2)!==0&&Dr!==0?Dr&-Dr:Hee.transition!==null?(mv===0&&(mv=Vm()),mv):(u=Ft,u!==0||(u=window.event,u=u===void 0?16:Xd(u.type)),u)}function ta(u,h,y,j){if(50<xp)throw xp=0,Sj=null,Error(n(185));gu(u,y,j),((zt&2)===0||u!==jr)&&(u===jr&&((zt&2)===0&&(cv|=y),ur===4&&Xl(u,Dr)),Ri(u,j),y===1&&zt===0&&(h.mode&1)===0&&(_h=jn()+500,q0&&zl()))}function Ri(u,h){var y=u.callbackNode;pu(u,h);var j=_o(u,u===jr?Dr:0);if(j===0)y!==null&&zd(y),u.callbackNode=null,u.callbackPriority=0;else if(h=j&-j,u.callbackPriority!==h){if(y!=null&&zd(y),h===1)u.tag===0?Wee(p4.bind(null,u)):eM(p4.bind(null,u)),Bee(function(){(zt&6)===0&&zl()}),y=null;else{switch(Aa(j)){case 1:y=Wd;break;case 4:y=Lm;break;case 16:y=du;break;case 536870912:y=Hd;break;default:y=du}y=j4(y,m4.bind(null,u))}u.callbackPriority=h,u.callbackNode=y}}function m4(u,h){if(fv=-1,mv=0,(zt&6)!==0)throw Error(n(327));var y=u.callbackNode;if(jh()&&u.callbackNode!==y)return null;var j=_o(u,u===jr?Dr:0);if(j===0)return null;if((j&30)!==0||(j&u.expiredLanes)!==0||h)h=pv(u,j);else{h=j;var k=zt;zt|=2;var R=y4();(jr!==u||Dr!==h)&&(Mo=null,_h=jn()+500,Cu(u,h));do try{hte();break}catch(H){g4(u,H)}while(!0);U_(),lv.current=R,zt=k,nr!==null?h=0:(jr=null,Dr=0,h=ur)}if(h!==0){if(h===2&&(k=Fm(u),k!==0&&(j=k,h=Tj(u,k))),h===1)throw y=yp,Cu(u,0),Xl(u,j),Ri(u,jn()),y;if(h===6)Xl(u,j);else{if(k=u.current.alternate,(j&30)===0&&!ute(k)&&(h=pv(u,j),h===2&&(R=Fm(u),R!==0&&(j=R,h=Tj(u,R))),h===1))throw y=yp,Cu(u,0),Xl(u,j),Ri(u,jn()),y;switch(u.finishedWork=k,u.finishedLanes=j,h){case 0:case 1:throw Error(n(345));case 2:ku(u,Oi,Mo);break;case 3:if(Xl(u,j),(j&130023424)===j&&(h=jj+500-jn(),10<h)){if(_o(u,0)!==0)break;if(k=u.suspendedLanes,(k&j)!==j){pi(),u.pingedLanes|=u.suspendedLanes&k;break}u.timeoutHandle=I_(ku.bind(null,u,Oi,Mo),h);break}ku(u,Oi,Mo);break;case 4:if(Xl(u,j),(j&4194240)===j)break;for(h=u.eventTimes,k=-1;0<j;){var B=31-Qi(j);R=1<<B,B=h[B],B>k&&(k=B),j&=~R}if(j=k,j=jn()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*cte(j/1960))-j,10<j){u.timeoutHandle=I_(ku.bind(null,u,Oi,Mo),j);break}ku(u,Oi,Mo);break;case 5:ku(u,Oi,Mo);break;default:throw Error(n(329))}}}return Ri(u,jn()),u.callbackNode===y?m4.bind(null,u):null}function Tj(u,h){var y=vp;return u.current.memoizedState.isDehydrated&&(Cu(u,h).flags|=256),u=pv(u,h),u!==2&&(h=Oi,Oi=y,h!==null&&Ej(h)),u}function Ej(u){Oi===null?Oi=u:Oi.push.apply(Oi,u)}function ute(u){for(var h=u;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var j=0;j<y.length;j++){var k=y[j],R=k.getSnapshot;k=k.value;try{if(!Qs(R(),k))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Xl(u,h){for(h&=~_j,h&=~cv,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var y=31-Qi(h),j=1<<y;u[y]=-1,h&=~j}}function p4(u){if((zt&6)!==0)throw Error(n(327));jh();var h=_o(u,0);if((h&1)===0)return Ri(u,jn()),null;var y=pv(u,h);if(u.tag!==0&&y===2){var j=Fm(u);j!==0&&(h=j,y=Tj(u,j))}if(y===1)throw y=yp,Cu(u,0),Xl(u,h),Ri(u,jn()),y;if(y===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,ku(u,Oi,Mo),Ri(u,jn()),null}function Aj(u,h){var y=zt;zt|=1;try{return u(h)}finally{zt=y,zt===0&&(_h=jn()+500,q0&&zl())}}function Pu(u){Yl!==null&&Yl.tag===0&&(zt&6)===0&&jh();var h=zt;zt|=1;var y=Ss.transition,j=Ft;try{if(Ss.transition=null,Ft=1,u)return u()}finally{Ft=j,Ss.transition=y,zt=h,(zt&6)===0&&zl()}}function Pj(){rs=wh.current,Sn(wh)}function Cu(u,h){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==-1&&(u.timeoutHandle=-1,Vee(y)),nr!==null)for(y=nr.return;y!==null;){var j=y;switch($_(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&V0();break;case 3:vh(),Sn(Ci),Sn(Qr),X_();break;case 5:Y_(j);break;case 4:vh();break;case 13:Sn(Rn);break;case 19:Sn(Rn);break;case 10:z_(j.type._context);break;case 22:case 23:Pj()}y=y.return}if(jr=u,nr=u=Jl(u.current,null),Dr=rs=h,ur=0,yp=null,_j=cv=Au=0,Oi=vp=null,Su!==null){for(h=0;h<Su.length;h++)if(y=Su[h],j=y.interleaved,j!==null){y.interleaved=null;var k=j.next,R=y.pending;if(R!==null){var B=R.next;R.next=k,j.next=B}y.pending=j}Su=null}return u}function g4(u,h){do{var y=nr;try{if(U_(),J0.current=nv,Z0){for(var j=Mn.memoizedState;j!==null;){var k=j.queue;k!==null&&(k.pending=null),j=j.next}Z0=!1}if(Eu=0,_r=cr=Mn=null,dp=!1,hp=0,wj.current=null,y===null||y.return===null){ur=1,yp=h,nr=null;break}e:{var R=u,B=y.return,H=y,J=h;if(h=Dr,H.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ce=J,Te=H,Ce=Te.tag;if((Te.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var Se=Te.alternate;Se?(Te.updateQueue=Se.updateQueue,Te.memoizedState=Se.memoizedState,Te.lanes=Se.lanes):(Te.updateQueue=null,Te.memoizedState=null)}var $e=BM(B);if($e!==null){$e.flags&=-257,qM($e,B,H,R,h),$e.mode&1&&VM(R,ce,h),h=$e,J=ce;var He=h.updateQueue;if(He===null){var Qe=new Set;Qe.add(J),h.updateQueue=Qe}else He.add(J);break e}else{if((h&1)===0){VM(R,ce,h),Cj();break e}J=Error(n(426))}}else if(kn&&H.mode&1){var Qn=BM(B);if(Qn!==null){(Qn.flags&65536)===0&&(Qn.flags|=256),qM(Qn,B,H,R,h),B_(xh(J,H));break e}}R=J=xh(J,H),ur!==4&&(ur=2),vp===null?vp=[R]:vp.push(R),R=B;do{switch(R.tag){case 3:R.flags|=65536,h&=-h,R.lanes|=h;var ie=$M(R,J,h);dM(R,ie);break e;case 1:H=J;var ee=R.type,ae=R.stateNode;if((R.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Kl===null||!Kl.has(ae)))){R.flags|=65536,h&=-h,R.lanes|=h;var Oe=FM(R,H,h);dM(R,Oe);break e}}R=R.return}while(R!==null)}x4(y)}catch(Je){h=Je,nr===y&&y!==null&&(nr=y=y.return);continue}break}while(!0)}function y4(){var u=lv.current;return lv.current=nv,u===null?nv:u}function Cj(){(ur===0||ur===3||ur===2)&&(ur=4),jr===null||(Au&268435455)===0&&(cv&268435455)===0||Xl(jr,Dr)}function pv(u,h){var y=zt;zt|=2;var j=y4();(jr!==u||Dr!==h)&&(Mo=null,Cu(u,h));do try{dte();break}catch(k){g4(u,k)}while(!0);if(U_(),zt=y,lv.current=j,nr!==null)throw Error(n(261));return jr=null,Dr=0,ur}function dte(){for(;nr!==null;)v4(nr)}function hte(){for(;nr!==null&&!uu();)v4(nr)}function v4(u){var h=_4(u.alternate,u,rs);u.memoizedProps=u.pendingProps,h===null?x4(u):nr=h,wj.current=null}function x4(u){var h=u;do{var y=h.alternate;if(u=h.return,(h.flags&32768)===0){if(y=ite(y,h,rs),y!==null){nr=y;return}}else{if(y=ste(y,h),y!==null){y.flags&=32767,nr=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{ur=6,nr=null;return}}if(h=h.sibling,h!==null){nr=h;return}nr=h=u}while(h!==null);ur===0&&(ur=5)}function ku(u,h,y){var j=Ft,k=Ss.transition;try{Ss.transition=null,Ft=1,fte(u,h,y,j)}finally{Ss.transition=k,Ft=j}return null}function fte(u,h,y,j){do jh();while(Yl!==null);if((zt&6)!==0)throw Error(n(327));y=u.finishedWork;var k=u.finishedLanes;if(y===null)return null;if(u.finishedWork=null,u.finishedLanes=0,y===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var R=y.lanes|y.childLanes;if(g_(u,R),u===jr&&(nr=jr=null,Dr=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||dv||(dv=!0,j4(du,function(){return jh(),null})),R=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||R){R=Ss.transition,Ss.transition=null;var B=Ft;Ft=1;var H=zt;zt|=4,wj.current=null,ote(u,y),c4(y,u),Oee(C_),So=!!P_,C_=P_=null,u.current=y,lte(y),wo(),zt=H,Ft=B,Ss.transition=R}else u.current=y;if(dv&&(dv=!1,Yl=u,hv=k),R=u.pendingLanes,R===0&&(Kl=null),_0(y.stateNode),Ri(u,jn()),h!==null)for(j=u.onRecoverableError,y=0;y<h.length;y++)k=h[y],j(k.value,{componentStack:k.stack,digest:k.digest});if(uv)throw uv=!1,u=Nj,Nj=null,u;return(hv&1)!==0&&u.tag!==0&&jh(),R=u.pendingLanes,(R&1)!==0?u===Sj?xp++:(xp=0,Sj=u):xp=0,zl(),null}function jh(){if(Yl!==null){var u=Aa(hv),h=Ss.transition,y=Ft;try{if(Ss.transition=null,Ft=16>u?16:u,Yl===null)var j=!1;else{if(u=Yl,Yl=null,hv=0,(zt&6)!==0)throw Error(n(331));var k=zt;for(zt|=4,qe=u.current;qe!==null;){var R=qe,B=R.child;if((qe.flags&16)!==0){var H=R.deletions;if(H!==null){for(var J=0;J<H.length;J++){var ce=H[J];for(qe=ce;qe!==null;){var Te=qe;switch(Te.tag){case 0:case 11:case 15:gp(8,Te,R)}var Ce=Te.child;if(Ce!==null)Ce.return=Te,qe=Ce;else for(;qe!==null;){Te=qe;var Se=Te.sibling,$e=Te.return;if(i4(Te),Te===ce){qe=null;break}if(Se!==null){Se.return=$e,qe=Se;break}qe=$e}}}var He=R.alternate;if(He!==null){var Qe=He.child;if(Qe!==null){He.child=null;do{var Qn=Qe.sibling;Qe.sibling=null,Qe=Qn}while(Qe!==null)}}qe=R}}if((R.subtreeFlags&2064)!==0&&B!==null)B.return=R,qe=B;else e:for(;qe!==null;){if(R=qe,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:gp(9,R,R.return)}var ie=R.sibling;if(ie!==null){ie.return=R.return,qe=ie;break e}qe=R.return}}var ee=u.current;for(qe=ee;qe!==null;){B=qe;var ae=B.child;if((B.subtreeFlags&2064)!==0&&ae!==null)ae.return=B,qe=ae;else e:for(B=ee;qe!==null;){if(H=qe,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:ov(9,H)}}catch(Je){Un(H,H.return,Je)}if(H===B){qe=null;break e}var Oe=H.sibling;if(Oe!==null){Oe.return=H.return,qe=Oe;break e}qe=H.return}}if(zt=k,zl(),Yi&&typeof Yi.onPostCommitFiberRoot=="function")try{Yi.onPostCommitFiberRoot(hu,u)}catch{}j=!0}return j}finally{Ft=y,Ss.transition=h}}return!1}function b4(u,h,y){h=xh(y,h),h=$M(u,h,1),u=Hl(u,h,1),h=pi(),u!==null&&(gu(u,1,h),Ri(u,h))}function Un(u,h,y){if(u.tag===3)b4(u,u,y);else for(;h!==null;){if(h.tag===3){b4(h,u,y);break}else if(h.tag===1){var j=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Kl===null||!Kl.has(j))){u=xh(y,u),u=FM(h,u,1),h=Hl(h,u,1),u=pi(),h!==null&&(gu(h,1,u),Ri(h,u));break}}h=h.return}}function mte(u,h,y){var j=u.pingCache;j!==null&&j.delete(h),h=pi(),u.pingedLanes|=u.suspendedLanes&y,jr===u&&(Dr&y)===y&&(ur===4||ur===3&&(Dr&130023424)===Dr&&500>jn()-jj?Cu(u,0):_j|=y),Ri(u,h)}function w4(u,h){h===0&&((u.mode&1)===0?h=1:(h=Rl,Rl<<=1,(Rl&130023424)===0&&(Rl=4194304)));var y=pi();u=Io(u,h),u!==null&&(gu(u,h,y),Ri(u,y))}function pte(u){var h=u.memoizedState,y=0;h!==null&&(y=h.retryLane),w4(u,y)}function gte(u,h){var y=0;switch(u.tag){case 13:var j=u.stateNode,k=u.memoizedState;k!==null&&(y=k.retryLane);break;case 19:j=u.stateNode;break;default:throw Error(n(314))}j!==null&&j.delete(h),w4(u,y)}var _4;_4=function(u,h,y){if(u!==null)if(u.memoizedProps!==h.pendingProps||Ci.current)Ii=!0;else{if((u.lanes&y)===0&&(h.flags&128)===0)return Ii=!1,rte(u,h,y);Ii=(u.flags&131072)!==0}else Ii=!1,kn&&(h.flags&1048576)!==0&&tM(h,z0,h.index);switch(h.lanes=0,h.tag){case 2:var j=h.type;sv(u,h),u=h.pendingProps;var k=dh(h,Qr.current);yh(h,y),k=ej(null,h,j,u,k,y);var R=tj();return h.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,ki(j)?(R=!0,B0(h)):R=!1,h.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,G_(h),k.updater=rv,h.stateNode=k,k._reactInternals=h,oj(h,j,u,y),h=dj(null,h,j,!0,R,y)):(h.tag=0,kn&&R&&L_(h),mi(null,h,k,y),h=h.child),h;case 16:j=h.elementType;e:{switch(sv(u,h),u=h.pendingProps,k=j._init,j=k(j._payload),h.type=j,k=h.tag=vte(j),u=Js(j,u),k){case 0:h=uj(null,h,j,u,y);break e;case 1:h=KM(null,h,j,u,y);break e;case 11:h=UM(null,h,j,u,y);break e;case 14:h=zM(null,h,j,Js(j.type,u),y);break e}throw Error(n(306,j,""))}return h;case 0:return j=h.type,k=h.pendingProps,k=h.elementType===j?k:Js(j,k),uj(u,h,j,k,y);case 1:return j=h.type,k=h.pendingProps,k=h.elementType===j?k:Js(j,k),KM(u,h,j,k,y);case 3:e:{if(YM(h),u===null)throw Error(n(387));j=h.pendingProps,R=h.memoizedState,k=R.element,uM(u,h),Q0(h,j,null,y);var B=h.memoizedState;if(j=B.element,R.isDehydrated)if(R={element:j,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},h.updateQueue.baseState=R,h.memoizedState=R,h.flags&256){k=xh(Error(n(423)),h),h=QM(u,h,j,y,k);break e}else if(j!==k){k=xh(Error(n(424)),h),h=QM(u,h,j,y,k);break e}else for(ns=Bl(h.stateNode.containerInfo.firstChild),ts=h,kn=!0,Xs=null,y=lM(h,null,j,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(mh(),j===k){h=Ro(u,h,y);break e}mi(u,h,j,y)}h=h.child}return h;case 5:return fM(h),u===null&&V_(h),j=h.type,k=h.pendingProps,R=u!==null?u.memoizedProps:null,B=k.children,k_(j,k)?B=null:R!==null&&k_(j,R)&&(h.flags|=32),GM(u,h),mi(u,h,B,y),h.child;case 6:return u===null&&V_(h),null;case 13:return XM(u,h,y);case 4:return K_(h,h.stateNode.containerInfo),j=h.pendingProps,u===null?h.child=ph(h,null,j,y):mi(u,h,j,y),h.child;case 11:return j=h.type,k=h.pendingProps,k=h.elementType===j?k:Js(j,k),UM(u,h,j,k,y);case 7:return mi(u,h,h.pendingProps,y),h.child;case 8:return mi(u,h,h.pendingProps.children,y),h.child;case 12:return mi(u,h,h.pendingProps.children,y),h.child;case 10:e:{if(j=h.type._context,k=h.pendingProps,R=h.memoizedProps,B=k.value,vn(G0,j._currentValue),j._currentValue=B,R!==null)if(Qs(R.value,B)){if(R.children===k.children&&!Ci.current){h=Ro(u,h,y);break e}}else for(R=h.child,R!==null&&(R.return=h);R!==null;){var H=R.dependencies;if(H!==null){B=R.child;for(var J=H.firstContext;J!==null;){if(J.context===j){if(R.tag===1){J=Oo(-1,y&-y),J.tag=2;var ce=R.updateQueue;if(ce!==null){ce=ce.shared;var Te=ce.pending;Te===null?J.next=J:(J.next=Te.next,Te.next=J),ce.pending=J}}R.lanes|=y,J=R.alternate,J!==null&&(J.lanes|=y),W_(R.return,y,h),H.lanes|=y;break}J=J.next}}else if(R.tag===10)B=R.type===h.type?null:R.child;else if(R.tag===18){if(B=R.return,B===null)throw Error(n(341));B.lanes|=y,H=B.alternate,H!==null&&(H.lanes|=y),W_(B,y,h),B=R.sibling}else B=R.child;if(B!==null)B.return=R;else for(B=R;B!==null;){if(B===h){B=null;break}if(R=B.sibling,R!==null){R.return=B.return,B=R;break}B=B.return}R=B}mi(u,h,k.children,y),h=h.child}return h;case 9:return k=h.type,j=h.pendingProps.children,yh(h,y),k=js(k),j=j(k),h.flags|=1,mi(u,h,j,y),h.child;case 14:return j=h.type,k=Js(j,h.pendingProps),k=Js(j.type,k),zM(u,h,j,k,y);case 15:return WM(u,h,h.type,h.pendingProps,y);case 17:return j=h.type,k=h.pendingProps,k=h.elementType===j?k:Js(j,k),sv(u,h),h.tag=1,ki(j)?(u=!0,B0(h)):u=!1,yh(h,y),DM(h,j,k),oj(h,j,k,y),dj(null,h,j,!0,u,y);case 19:return ZM(u,h,y);case 22:return HM(u,h,y)}throw Error(n(156,h.tag))};function j4(u,h){return Dm(u,h)}function yte(u,h,y,j){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(u,h,y,j){return new yte(u,h,y,j)}function kj(u){return u=u.prototype,!(!u||!u.isReactComponent)}function vte(u){if(typeof u=="function")return kj(u)?1:0;if(u!=null){if(u=u.$$typeof,u===$)return 11;if(u===Y)return 14}return 2}function Jl(u,h){var y=u.alternate;return y===null?(y=Ts(u.tag,h,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=h,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,h=u.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function gv(u,h,y,j,k,R){var B=2;if(j=u,typeof u=="function")kj(u)&&(B=1);else if(typeof u=="string")B=5;else e:switch(u){case E:return Iu(y.children,k,R,h);case N:B=8,k|=8;break;case O:return u=Ts(12,y,h,k|2),u.elementType=O,u.lanes=R,u;case F:return u=Ts(13,y,h,k),u.elementType=F,u.lanes=R,u;case G:return u=Ts(19,y,h,k),u.elementType=G,u.lanes=R,u;case X:return yv(y,k,R,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case D:B=10;break e;case L:B=9;break e;case $:B=11;break e;case Y:B=14;break e;case K:B=16,j=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return h=Ts(B,y,h,k),h.elementType=u,h.type=j,h.lanes=R,h}function Iu(u,h,y,j){return u=Ts(7,u,j,h),u.lanes=y,u}function yv(u,h,y,j){return u=Ts(22,u,j,h),u.elementType=X,u.lanes=y,u.stateNode={isHidden:!1},u}function Ij(u,h,y){return u=Ts(6,u,null,h),u.lanes=y,u}function Oj(u,h,y){return h=Ts(4,u.children!==null?u.children:[],u.key,h),h.lanes=y,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function xte(u,h,y,j,k){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bm(0),this.expirationTimes=Bm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bm(0),this.identifierPrefix=j,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Rj(u,h,y,j,k,R,B,H,J){return u=new xte(u,h,y,H,J),h===1?(h=1,R===!0&&(h|=8)):h=0,R=Ts(3,null,null,h),u.current=R,R.stateNode=u,R.memoizedState={element:j,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},G_(R),u}function bte(u,h,y){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:j==null?null:""+j,children:u,containerInfo:h,implementation:y}}function N4(u){if(!u)return Ul;u=u._reactInternals;e:{if(Ks(u)!==u||u.tag!==1)throw Error(n(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(ki(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(u.tag===1){var y=u.type;if(ki(y))return JR(u,y,h)}return h}function S4(u,h,y,j,k,R,B,H,J){return u=Rj(y,j,!0,u,k,R,B,H,J),u.context=N4(null),y=u.current,j=pi(),k=Ql(y),R=Oo(j,k),R.callback=h??null,Hl(y,R,k),u.current.lanes=k,gu(u,k,j),Ri(u,j),u}function vv(u,h,y,j){var k=h.current,R=pi(),B=Ql(k);return y=N4(y),h.context===null?h.context=y:h.pendingContext=y,h=Oo(R,B),h.payload={element:u},j=j===void 0?null:j,j!==null&&(h.callback=j),u=Hl(k,h,B),u!==null&&(ta(u,k,B,R),Y0(u,k,B)),B}function xv(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function T4(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<h?y:h}}function Mj(u,h){T4(u,h),(u=u.alternate)&&T4(u,h)}function wte(){return null}var E4=typeof reportError=="function"?reportError:function(u){console.error(u)};function Dj(u){this._internalRoot=u}bv.prototype.render=Dj.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(n(409));vv(u,h,null,null)},bv.prototype.unmount=Dj.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;Pu(function(){vv(null,u,null,null)}),h[Ao]=null}};function bv(u){this._internalRoot=u}bv.prototype.unstable_scheduleHydration=function(u){if(u){var h=Wm();u={blockedOn:null,target:u,priority:h};for(var y=0;y<Xi.length&&h!==0&&h<Xi[y].priority;y++);Xi.splice(y,0,u),y===0&&Yd(u)}};function Lj(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function wv(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function A4(){}function _te(u,h,y,j,k){if(k){if(typeof j=="function"){var R=j;j=function(){var ce=xv(B);R.call(ce)}}var B=S4(h,j,u,0,null,!1,!1,"",A4);return u._reactRootContainer=B,u[Ao]=B.current,rp(u.nodeType===8?u.parentNode:u),Pu(),B}for(;k=u.lastChild;)u.removeChild(k);if(typeof j=="function"){var H=j;j=function(){var ce=xv(J);H.call(ce)}}var J=Rj(u,0,!1,null,null,!1,!1,"",A4);return u._reactRootContainer=J,u[Ao]=J.current,rp(u.nodeType===8?u.parentNode:u),Pu(function(){vv(h,J,y,j)}),J}function _v(u,h,y,j,k){var R=y._reactRootContainer;if(R){var B=R;if(typeof k=="function"){var H=k;k=function(){var J=xv(B);H.call(J)}}vv(h,B,u,k)}else B=_te(y,h,u,k,j);return xv(B)}Um=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var y=Zt(h.pendingLanes);y!==0&&(qm(h,y|1),Ri(h,jn()),(zt&6)===0&&(_h=jn()+500,zl()))}break;case 13:Pu(function(){var j=Io(u,1);if(j!==null){var k=pi();ta(j,u,1,k)}}),Mj(u,1)}},Gd=function(u){if(u.tag===13){var h=Io(u,134217728);if(h!==null){var y=pi();ta(h,u,134217728,y)}Mj(u,134217728)}},zm=function(u){if(u.tag===13){var h=Ql(u),y=Io(u,h);if(y!==null){var j=pi();ta(y,u,h,j)}Mj(u,h)}},Wm=function(){return Ft},Hm=function(u,h){var y=Ft;try{return Ft=u,h()}finally{Ft=y}},ys=function(u,h,y){switch(h){case"input":if(Gt(u,y),h=y.name,y.type==="radio"&&h!=null){for(y=u;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<y.length;h++){var j=y[h];if(j!==u&&j.form===u.form){var k=F0(j);if(!k)throw Error(n(90));he(j),Gt(j,k)}}}break;case"textarea":gs(u,y);break;case"select":h=y.value,h!=null&&Cn(u,!!y.multiple,h,!1)}},f0=Aj,m0=Pu;var jte={usingClientEntryPoint:!1,Events:[ap,ch,F0,Cl,kl,Aj]},bp={findFiberByHostInstance:wu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nte={bundleType:bp.bundleType,version:bp.version,rendererPackageName:bp.rendererPackageName,rendererConfig:bp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=w0(u),u===null?null:u.stateNode},findFiberByHostInstance:bp.findFiberByHostInstance||wte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jv.isDisabled&&jv.supportsFiber)try{hu=jv.inject(Nte),Yi=jv}catch{}}return Mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jte,Mi.createPortal=function(u,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lj(h))throw Error(n(200));return bte(u,h,null,y)},Mi.createRoot=function(u,h){if(!Lj(u))throw Error(n(299));var y=!1,j="",k=E4;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onRecoverableError!==void 0&&(k=h.onRecoverableError)),h=Rj(u,1,!1,null,null,y,!1,j,k),u[Ao]=h.current,rp(u.nodeType===8?u.parentNode:u),new Dj(h)},Mi.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=w0(h),u=u===null?null:u.stateNode,u},Mi.flushSync=function(u){return Pu(u)},Mi.hydrate=function(u,h,y){if(!wv(h))throw Error(n(200));return _v(null,u,h,!0,y)},Mi.hydrateRoot=function(u,h,y){if(!Lj(u))throw Error(n(405));var j=y!=null&&y.hydratedSources||null,k=!1,R="",B=E4;if(y!=null&&(y.unstable_strictMode===!0&&(k=!0),y.identifierPrefix!==void 0&&(R=y.identifierPrefix),y.onRecoverableError!==void 0&&(B=y.onRecoverableError)),h=S4(h,null,u,1,y??null,k,!1,R,B),u[Ao]=h.current,rp(u),j)for(u=0;u<j.length;u++)y=j[u],k=y._getVersion,k=k(y._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[y,k]:h.mutableSourceEagerHydrationData.push(y,k);return new bv(h)},Mi.render=function(u,h,y){if(!wv(h))throw Error(n(200));return _v(null,u,h,!1,y)},Mi.unmountComponentAtNode=function(u){if(!wv(u))throw Error(n(40));return u._reactRootContainer?(Pu(function(){_v(null,null,u,!1,function(){u._reactRootContainer=null,u[Ao]=null})}),!0):!1},Mi.unstable_batchedUpdates=Aj,Mi.unstable_renderSubtreeIntoContainer=function(u,h,y,j){if(!wv(y))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return _v(u,h,y,!1,j)},Mi.version="18.3.1-next-f1338f8080-20240426",Mi}var L4;function gU(){if(L4)return Bj.exports;L4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bj.exports=Ite(),Bj.exports}var $4;function Ote(){if($4)return Sv;$4=1;var t=gU();return Sv.createRoot=t.createRoot,Sv.hydrateRoot=t.hydrateRoot,Sv}var Rte=Ote();const Mte=Jt(Rte),Dte=()=>{};var F4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Lte=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let p=(l&15)<<2|d>>6,v=d&63;c||(v=64,o||(p=64)),r.push(n[f],n[m],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Lte(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||m==null)throw new $te;const p=s<<2|l>>4;if(r.push(p),d!==64){const v=l<<4&240|d>>2;if(r.push(v),m!==64){const w=d<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fte=function(t){const e=yU(t);return vU.encodeByteArray(e,!0)},Mx=function(t){return Fte(t).replace(/\./g,"")},xU=function(t){try{return vU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bte=()=>Vte().__FIREBASE_DEFAULTS__,qte=()=>{if(typeof process>"u"||typeof F4>"u")return;const t=F4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ute=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xU(t[1]);return e&&JSON.parse(e)},Pw=()=>{try{return Dte()||Bte()||qte()||Ute()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bU=t=>{var e,n;return(n=(e=Pw())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},wU=t=>{const e=bU(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_U=()=>{var t;return(t=Pw())==null?void 0:t.config},jU=t=>{var e;return(e=Pw())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Mx(JSON.stringify(n)),Mx(JSON.stringify(o)),""].join(".")}const Xp={};function Wte(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xp))Xp[e]?t.emulator.push(e):t.prod.push(e);return t}function Hte(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let V4=!1;function XC(t,e){if(typeof window>"u"||typeof document>"u"||!Cd(window.location.host)||Xp[t]===e||Xp[t]||V4)return;Xp[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=Wte().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{V4=!0,o()},p}function f(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=Hte(r),v=n("text"),w=document.getElementById(v)||document.createElement("span"),x=n("learnmore"),g=document.getElementById(x)||document.createElement("a"),_=n("preprendIcon"),T=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const A=p.element;l(A),f(g,x);const I=d();c(T,_),A.append(T,w,g,I),document.body.appendChild(A)}s?(w.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(di())}function Kte(){var e;const t=(e=Pw())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Qte(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xte(){const t=di();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Jte(){return!Kte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TU(){try{return typeof indexedDB=="object"}catch{return!1}}function EU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function Zte(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ene="FirebaseError";class zs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ene,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kd.prototype.create)}}class kd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tne(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new zs(i,l,r)}}function tne(t,e){return t.replace(nne,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nne=/\{\$([^}]+)}/g;function rne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ic(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(B4(s)&&B4(o)){if(!Ic(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function B4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lp(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $p(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ine(t,e){const n=new sne(t,e);return n.subscribe.bind(n)}class sne{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ane(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zj),i.error===void 0&&(i.error=zj),i.complete===void 0&&(i.complete=zj);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ane(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zj(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const one=1e3,lne=2,cne=14400*1e3,une=.5;function q4(t,e=one,n=lne){const r=e*Math.pow(n,t),i=Math.round(une*r*(Math.random()-.5)*2);return Math.min(cne,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t){return t&&t._delegate?t._delegate:t}class Vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dne=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zte;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fne(e))try{this.getOrInitializeService({instanceIdentifier:Fu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fu){return this.instances.has(e)}getOptions(e=Fu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hne(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fu){return this.component?this.component.multipleInstances?e:Fu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hne(t){return t===Fu?void 0:t}function fne(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));const pne={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},gne=Rt.INFO,yne={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},vne=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=yne[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cw{constructor(e){this.name=e,this._logLevel=gne,this._logHandler=vne,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pne[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const xne=(t,e)=>e.some(n=>t instanceof n);let U4,z4;function bne(){return U4||(U4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wne(){return z4||(z4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AU=new WeakMap,HE=new WeakMap,PU=new WeakMap,Wj=new WeakMap,JC=new WeakMap;function _ne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Sc(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AU.set(n,t)}).catch(()=>{}),JC.set(e,t),e}function jne(t){if(HE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});HE.set(t,e)}let GE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return HE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Nne(t){GE=t(GE)}function Sne(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hj(this),e,...n);return PU.set(r,e.sort?e.sort():[e]),Sc(r)}:wne().includes(t)?function(...e){return t.apply(Hj(this),e),Sc(AU.get(this))}:function(...e){return Sc(t.apply(Hj(this),e))}}function Tne(t){return typeof t=="function"?Sne(t):(t instanceof IDBTransaction&&jne(t),xne(t,bne())?new Proxy(t,GE):t)}function Sc(t){if(t instanceof IDBRequest)return _ne(t);if(Wj.has(t))return Wj.get(t);const e=Tne(t);return e!==t&&(Wj.set(t,e),JC.set(e,t)),e}const Hj=t=>JC.get(t);function CU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Sc(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Sc(o.result),c.oldVersion,c.newVersion,Sc(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const Ene=["get","getKey","getAll","getAllKeys","count"],Ane=["put","add","delete","clear"],Gj=new Map;function W4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gj.get(e))return Gj.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ane.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ene.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return Gj.set(e,s),s}Nne(t=>({...t,get:(e,n,r)=>W4(e,n)||t.get(e,n,r),has:(e,n)=>!!W4(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cne(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Cne(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const KE="@firebase/app",H4="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new Cw("@firebase/app"),kne="@firebase/app-compat",Ine="@firebase/analytics-compat",One="@firebase/analytics",Rne="@firebase/app-check-compat",Mne="@firebase/app-check",Dne="@firebase/auth",Lne="@firebase/auth-compat",$ne="@firebase/database",Fne="@firebase/data-connect",Vne="@firebase/database-compat",Bne="@firebase/functions",qne="@firebase/functions-compat",Une="@firebase/installations",zne="@firebase/installations-compat",Wne="@firebase/messaging",Hne="@firebase/messaging-compat",Gne="@firebase/performance",Kne="@firebase/performance-compat",Yne="@firebase/remote-config",Qne="@firebase/remote-config-compat",Xne="@firebase/storage",Jne="@firebase/storage-compat",Zne="@firebase/firestore",ere="@firebase/ai",tre="@firebase/firestore-compat",nre="firebase",rre="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="[DEFAULT]",ire={[KE]:"fire-core",[kne]:"fire-core-compat",[One]:"fire-analytics",[Ine]:"fire-analytics-compat",[Mne]:"fire-app-check",[Rne]:"fire-app-check-compat",[Dne]:"fire-auth",[Lne]:"fire-auth-compat",[$ne]:"fire-rtdb",[Fne]:"fire-data-connect",[Vne]:"fire-rtdb-compat",[Bne]:"fire-fn",[qne]:"fire-fn-compat",[Une]:"fire-iid",[zne]:"fire-iid-compat",[Wne]:"fire-fcm",[Hne]:"fire-fcm-compat",[Gne]:"fire-perf",[Kne]:"fire-perf-compat",[Yne]:"fire-rc",[Qne]:"fire-rc-compat",[Xne]:"fire-gcs",[Jne]:"fire-gcs-compat",[Zne]:"fire-fst",[tre]:"fire-fst-compat",[ere]:"fire-vertex","fire-js":"fire-js",[nre]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new Map,sre=new Map,QE=new Map;function G4(t,e){try{t.container.addComponent(e)}catch(n){rl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ma(t){const e=t.name;if(QE.has(e))return rl.debug(`There were multiple attempts to register component ${e}.`),!1;QE.set(e,t);for(const n of Dx.values())G4(n,t);for(const n of sre.values())G4(n,t);return!0}function Yc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ls(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const are={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tc=new kd("app","Firebase",are);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ore{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=rre;function kU(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:YE,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Tc.create("bad-app-name",{appName:String(i)});if(n||(n=_U()),!n)throw Tc.create("no-options");const s=Dx.get(i);if(s){if(Ic(n,s.options)&&Ic(r,s.config))return s;throw Tc.create("duplicate-app",{appName:i})}const o=new mne(i);for(const c of QE.values())o.addComponent(c);const l=new ore(n,r,o);return Dx.set(i,l),l}function kw(t=YE){const e=Dx.get(t);if(!e&&t===YE&&_U())return kU();if(!e)throw Tc.create("no-app",{appName:t});return e}function Wi(t,e,n){let r=ire[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rl.warn(o.join(" "));return}ma(new Vs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lre="firebase-heartbeat-database",cre=1,bg="firebase-heartbeat-store";let Kj=null;function IU(){return Kj||(Kj=CU(lre,cre,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bg)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tc.create("idb-open",{originalErrorMessage:t.message})})),Kj}async function ure(t){try{const n=(await IU()).transaction(bg),r=await n.objectStore(bg).get(OU(t));return await n.done,r}catch(e){if(e instanceof zs)rl.warn(e.message);else{const n=Tc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rl.warn(n.message)}}}async function K4(t,e){try{const r=(await IU()).transaction(bg,"readwrite");await r.objectStore(bg).put(e,OU(t)),await r.done}catch(n){if(n instanceof zs)rl.warn(n.message);else{const r=Tc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rl.warn(r.message)}}}function OU(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dre=1024,hre=30;class fre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Y4();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>hre){const o=gre(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Y4(),{heartbeatsToSend:r,unsentEntries:i}=mre(this._heartbeatsCache.heartbeats),s=Mx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return rl.warn(n),""}}}function Y4(){return new Date().toISOString().substring(0,10)}function mre(t,e=dre){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Q4(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Q4(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TU()?EU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ure(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return K4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return K4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Q4(t){return Mx(JSON.stringify({version:2,heartbeats:t})).length}function gre(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yre(t){ma(new Vs("platform-logger",e=>new Pne(e),"PRIVATE")),ma(new Vs("heartbeat",e=>new fre(e),"PRIVATE")),Wi(KE,H4,t),Wi(KE,H4,"esm2020"),Wi("fire-js","")}yre("");function RU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vre=RU,MU=new kd("auth","Firebase",RU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new Cw("@firebase/auth");function xre(t,...e){Lx.logLevel<=Rt.WARN&&Lx.warn(`Auth (${Id}): ${t}`,...e)}function cx(t,...e){Lx.logLevel<=Rt.ERROR&&Lx.error(`Auth (${Id}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t,...e){throw ZC(t,...e)}function Ya(t,...e){return ZC(t,...e)}function DU(t,e,n){const r={...vre(),[e]:n};return new kd("auth","Firebase",r).create(e,{appName:t.name})}function Qo(t){return DU(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MU.create(t,...e)}function ct(t,e,...n){if(!t)throw ZC(e,...n)}function Uo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cx(e),new Error(e)}function il(t,e){t||Uo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function bre(){return X4()==="http:"||X4()==="https:"}function X4(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wre(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bre()||SU()||"connection"in navigator)?navigator.onLine:!0}function _re(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.shortDelay=e,this.longDelay=n,il(n>e,"Short delay should be less than long delay!"),this.isMobile=Gte()||Qte()}get(){return wre()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t,e){il(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Uo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Uo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Uo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nre=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sre=new ky(3e4,6e4);function bl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function wl(t,e,n,r,i={}){return $U(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Cy({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...s};return Yte()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Cd(t.emulatorConfig.host)&&(d.credentials="include"),LU.fetch()(await FU(t,t.config.apiHost,n,l),d)})}async function $U(t,e,n){t._canInitEmulator=!1;const r={...jre,...e};try{const i=new Ere(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Tv(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tv(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Tv(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Tv(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw DU(t,f,d);pa(t,f)}}catch(i){if(i instanceof zs)throw i;pa(t,"network-request-failed",{message:String(i)})}}async function Iy(t,e,n,r,i={}){const s=await wl(t,e,n,r,i);return"mfaPendingCredential"in s&&pa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function FU(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?ek(t.config,i):`${t.config.apiScheme}://${i}`;return Nre.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Tre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ere{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ya(this.auth,"network-request-failed")),Sre.get())})}}function Tv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ya(t,e,r);return i.customData._tokenResponse=n,i}function J4(t){return t!==void 0&&t.enterprise!==void 0}class Are{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Tre(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Pre(t,e){return wl(t,"GET","/v2/recaptchaConfig",bl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cre(t,e){return wl(t,"POST","/v1/accounts:delete",e)}async function $x(t,e){return wl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kre(t,e=!1){const n=Gn(t),r=await n.getIdToken(e),i=tk(r);ct(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Jp(Yj(i.auth_time)),issuedAtTime:Jp(Yj(i.iat)),expirationTime:Jp(Yj(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Yj(t){return Number(t)*1e3}function tk(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cx("JWT malformed, contained fewer than 3 sections"),null;try{const i=xU(n);return i?JSON.parse(i):(cx("Failed to decode base64 JWT payload"),null)}catch(i){return cx("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Z4(t){const e=tk(t);return ct(e,"internal-error"),ct(typeof e.exp<"u","internal-error"),ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wg(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zs&&Ire(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ire({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jp(this.lastLoginAt),this.creationTime=Jp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(t){var m;const e=t.auth,n=await t.getIdToken(),r=await wg(t,$x(e,{idToken:n}));ct(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?VU(i.providerUserInfo):[],o=Mre(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new JE(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Rre(t){const e=Gn(t);await Fx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VU(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dre(t,e){const n=await $U(t,{},async()=>{const r=Cy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await FU(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Cd(t.emulatorConfig.host)&&(c.credentials="include"),LU.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lre(t,e){return wl(t,"POST","/v2/accounts:revokeToken",bl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ct(e.idToken,"internal-error"),ct(typeof e.idToken<"u","internal-error"),ct(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ct(e.length!==0,"internal-error");const n=Z4(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Dre(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Qh;return r&&(ct(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ct(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ct(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qh,this.toJSON())}_performRefresh(){return Uo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t,e){ct(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ca{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Ore(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new JE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await wg(this,this.stsTokenManager.getToken(this.auth,e));return ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kre(this,e)}reload(){return Rre(this)}_assign(e){this!==e&&(ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ca({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fx(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ls(this.auth.app))return Promise.reject(Qo(this.auth));const e=await this.getIdToken();return await wg(this,Cre(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:v,providerData:w,stsTokenManager:x}=n;ct(m&&x,e,"internal-error");const g=Qh.fromJSON(this.name,x);ct(typeof m=="string",e,"internal-error"),ec(r,e.name),ec(i,e.name),ct(typeof p=="boolean",e,"internal-error"),ct(typeof v=="boolean",e,"internal-error"),ec(s,e.name),ec(o,e.name),ec(l,e.name),ec(c,e.name),ec(d,e.name),ec(f,e.name);const _=new ca({uid:m,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:g,createdAt:d,lastLoginAt:f});return w&&Array.isArray(w)&&(_.providerData=w.map(T=>({...T}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qh;i.updateFromServerResponse(n);const s=new ca({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fx(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ct(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?VU(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Qh;l.updateFromIdToken(r);const c=new ca({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new JE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=new Map;function zo(t){il(t instanceof Function,"Expected a class definition");let e=e5.get(t);return e?(il(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BU.type="NONE";const t5=BU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(t,e,n){return`firebase:${t}:${e}:${n}`}class Xh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ux(this.userKey,i.apiKey,s),this.fullPersistenceKey=ux("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await $x(this.auth,{idToken:e}).catch(()=>{});return n?ca._fromGetAccountInfoResponse(this.auth,n,e):null}return ca._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xh(zo(t5),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||zo(t5);const o=ux(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(o);if(f){let m;if(typeof f=="string"){const p=await $x(e,{idToken:f}).catch(()=>{});if(!p)break;m=await ca._fromGetAccountInfoResponse(e,p,f)}else m=ca._fromJSON(e,f);d!==s&&(l=m),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Xh(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new Xh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GU(e))return"Blackberry";if(KU(e))return"Webos";if(UU(e))return"Safari";if((e.includes("chrome/")||zU(e))&&!e.includes("edge/"))return"Chrome";if(HU(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qU(t=di()){return/firefox\//i.test(t)}function UU(t=di()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zU(t=di()){return/crios\//i.test(t)}function WU(t=di()){return/iemobile/i.test(t)}function HU(t=di()){return/android/i.test(t)}function GU(t=di()){return/blackberry/i.test(t)}function KU(t=di()){return/webos/i.test(t)}function nk(t=di()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $re(t=di()){var e;return nk(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Fre(){return Xte()&&document.documentMode===10}function YU(t=di()){return nk(t)||HU(t)||KU(t)||GU(t)||/windows phone/i.test(t)||WU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t,e=[]){let n;switch(t){case"Browser":n=n5(di());break;case"Worker":n=`${n5(di())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Id}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bre(t,e={}){return wl(t,"GET","/v2/passwordPolicy",bl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qre=6;class Ure{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qre,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zre{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r5(this),this.idTokenSubscription=new r5(this),this.beforeStateQueue=new Vre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zo(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Xh.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $x(this,{idToken:e}),r=await ca._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ls(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fx(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_re()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ls(this.app))return Promise.reject(Qo(this));const n=e?Gn(e):null;return n&&ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ls(this.app)?Promise.reject(Qo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ls(this.app)?Promise.reject(Qo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Bre(this),n=new Ure(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new kd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lre(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zo(e)||this._popupRedirectResolver;ct(n,this,"argument-error"),this.redirectPersistenceManager=await Xh.create(this,[zo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&xre(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Qc(t){return Gn(t)}let r5=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ine(n=>this.observer=n)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wre(t){Iw=t}function XU(t){return Iw.loadJS(t)}function Hre(){return Iw.recaptchaEnterpriseScript}function Gre(){return Iw.gapiScript}function Kre(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Yre{constructor(){this.enterprise=new Qre}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Qre{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Xre="recaptcha-enterprise",JU="NO_RECAPTCHA";class Jre{constructor(e){this.type=Xre,this.auth=Qc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{Pre(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Are(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;J4(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(JU)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Yre().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&J4(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Hre();c.length!==0&&(c+=l),XU(c).then(()=>{i(l,s,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function i5(t,e,n,r=!1,i=!1){const s=new Jre(t);let o;if(i)o=JU;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Vx(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await i5(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await i5(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zre(t,e){const n=Yc(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ic(s,e??{}))return i;pa(i,"already-initialized")}return n.initialize({options:e})}function eie(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tie(t,e,n){const r=Qc(t);ct(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=ZU(e),{host:o,port:l}=nie(e),c=l===null?"":`:${l}`,d={url:`${s}//${o}${c}/`},f=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ct(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ct(Ic(d,r.config.emulator)&&Ic(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Cd(o)?(QC(`${s}//${o}${c}`),XC("Auth",!0)):rie()}function ZU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nie(t){const e=ZU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:s5(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:s5(o)}}}function s5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Uo("not implemented")}_getIdTokenResponse(e){return Uo("not implemented")}_linkToIdToken(e,n){return Uo("not implemented")}_getReauthenticationResolver(e){return Uo("not implemented")}}async function iie(t,e){return wl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sie(t,e){return Iy(t,"POST","/v1/accounts:signInWithPassword",bl(t,e))}async function aie(t,e){return wl(t,"POST","/v1/accounts:sendOobCode",bl(t,e))}async function oie(t,e){return aie(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lie(t,e){return Iy(t,"POST","/v1/accounts:signInWithEmailLink",bl(t,e))}async function cie(t,e){return Iy(t,"POST","/v1/accounts:signInWithEmailLink",bl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends rk{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new _g(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _g(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vx(e,n,"signInWithPassword",sie);case"emailLink":return lie(e,{email:this._email,oobCode:this._password});default:pa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vx(e,r,"signUpPassword",iie);case"emailLink":return cie(e,{idToken:n,email:this._email,oobCode:this._password});default:pa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(t,e){return Iy(t,"POST","/v1/accounts:signInWithIdp",bl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uie="http://localhost";class dd extends rk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new dd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new dd(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Jh(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Jh(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Jh(e,n)}buildRequest(){const e={requestUri:uie,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cy(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function die(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hie(t){const e=Lp($p(t)).link,n=e?Lp($p(e)).deep_link_id:null,r=Lp($p(t)).deep_link_id;return(r?Lp($p(r)).link:null)||r||n||e||t}class ik{constructor(e){const n=Lp($p(e)),r=n.apiKey??null,i=n.oobCode??null,s=die(n.mode??null);ct(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=hie(e);try{return new ik(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.providerId=rm.PROVIDER_ID}static credential(e,n){return _g._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ik.parseLink(n);return ct(r,"argument-error"),_g._fromEmailAndCode(e,r.code,r.tenantId)}}rm.PROVIDER_ID="password";rm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends e9{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends Oy{constructor(){super("facebook.com")}static credential(e){return dd._fromParams({providerId:lc.PROVIDER_ID,signInMethod:lc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lc.credentialFromTaggedObject(e)}static credentialFromError(e){return lc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lc.credential(e.oauthAccessToken)}catch{return null}}}lc.FACEBOOK_SIGN_IN_METHOD="facebook.com";lc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Oy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return dd._fromParams({providerId:cc.PROVIDER_ID,signInMethod:cc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cc.credentialFromTaggedObject(e)}static credentialFromError(e){return cc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cc.credential(n,r)}catch{return null}}}cc.GOOGLE_SIGN_IN_METHOD="google.com";cc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends Oy{constructor(){super("github.com")}static credential(e){return dd._fromParams({providerId:uc.PROVIDER_ID,signInMethod:uc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uc.credentialFromTaggedObject(e)}static credentialFromError(e){return uc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uc.credential(e.oauthAccessToken)}catch{return null}}}uc.GITHUB_SIGN_IN_METHOD="github.com";uc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends Oy{constructor(){super("twitter.com")}static credential(e,n){return dd._fromParams({providerId:dc.PROVIDER_ID,signInMethod:dc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return dc.credentialFromTaggedObject(e)}static credentialFromError(e){return dc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return dc.credential(n,r)}catch{return null}}}dc.TWITTER_SIGN_IN_METHOD="twitter.com";dc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fie(t,e){return Iy(t,"POST","/v1/accounts:signUp",bl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ca._fromIdTokenResponse(e,r,i),o=a5(r);return new hd({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=a5(r);return new hd({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function a5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends zs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bx.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Bx(e,n,r,i)}}function t9(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Bx._fromErrorAndOperation(t,s,e,r):s})}async function mie(t,e,n=!1){const r=await wg(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hd._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pie(t,e,n=!1){const{auth:r}=t;if(ls(r.app))return Promise.reject(Qo(r));const i="reauthenticate";try{const s=await wg(t,t9(r,i,e,t),n);ct(s.idToken,r,"internal-error");const o=tk(s.idToken);ct(o,r,"internal-error");const{sub:l}=o;return ct(t.uid===l,r,"user-mismatch"),hd._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&pa(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(t,e,n=!1){if(ls(t.app))return Promise.reject(Qo(t));const r="signIn",i=await t9(t,r,e),s=await hd._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function gie(t,e){return n9(Qc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(t){const e=Qc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yie(t,e,n){const r=Qc(t);await Vx(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",oie)}async function vie(t,e,n){if(ls(t.app))return Promise.reject(Qo(t));const r=Qc(t),o=await Vx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fie).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&r9(t),c}),l=await hd._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function xie(t,e,n){return ls(t.app)?Promise.reject(Qo(t)):gie(Gn(t),rm.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&r9(t),r})}function bie(t,e,n,r){return Gn(t).onIdTokenChanged(e,n,r)}function wie(t,e,n){return Gn(t).beforeAuthStateChanged(e,n)}function i9(t,e,n,r){return Gn(t).onAuthStateChanged(e,n,r)}function s9(t){return Gn(t).signOut()}const qx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qx,"1"),this.storage.removeItem(qx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ie=1e3,jie=10;class o9 extends a9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Fre()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jie):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_ie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}o9.type="LOCAL";const Nie=o9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9 extends a9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}l9.type="SESSION";const c9=l9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sie(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ow(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,s)),c=await Sie(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ow.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const d=sk("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(){return window}function Eie(t){Qa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(){return typeof Qa().WorkerGlobalScope<"u"&&typeof Qa().importScripts=="function"}async function Aie(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pie(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Cie(){return u9()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9="firebaseLocalStorageDb",kie=1,Ux="firebaseLocalStorage",h9="fbase_key";class Ry{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rw(t,e){return t.transaction([Ux],e?"readwrite":"readonly").objectStore(Ux)}function Iie(){const t=indexedDB.deleteDatabase(d9);return new Ry(t).toPromise()}function ZE(){const t=indexedDB.open(d9,kie);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ux,{keyPath:h9})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ux)?e(r):(r.close(),await Iie(),e(await ZE()))})})}async function o5(t,e,n){const r=Rw(t,!0).put({[h9]:e,value:n});return new Ry(r).toPromise()}async function Oie(t,e){const n=Rw(t,!1).get(e),r=await new Ry(n).toPromise();return r===void 0?null:r.value}function l5(t,e){const n=Rw(t,!0).delete(e);return new Ry(n).toPromise()}const Rie=800,Mie=3;class f9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ZE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Mie)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ow._getInstance(Cie()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Aie(),!this.activeServiceWorker)return;this.sender=new Tie(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pie()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ZE();return await o5(e,qx,"1"),await l5(e,qx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>o5(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Oie(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>l5(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Rw(i,!1).getAll();return new Ry(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Rie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f9.type="LOCAL";const Die=f9;new ky(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lie(t,e){return e?zo(e):(ct(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak extends rk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $ie(t){return n9(t.auth,new ak(t),t.bypassAuthState)}function Fie(t){const{auth:e,user:n}=t;return ct(n,e,"internal-error"),pie(n,new ak(t),t.bypassAuthState)}async function Vie(t){const{auth:e,user:n}=t;return ct(n,e,"internal-error"),mie(n,new ak(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $ie;case"linkViaPopup":case"linkViaRedirect":return Vie;case"reauthViaPopup":case"reauthViaRedirect":return Fie;default:pa(this.auth,"internal-error")}}resolve(e){il(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){il(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bie=new ky(2e3,1e4);class $h extends m9{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$h.currentPopupAction&&$h.currentPopupAction.cancel(),$h.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ct(e,this.auth,"internal-error"),e}async onExecution(){il(this.filter.length===1,"Popup operations only handle one event");const e=sk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ya(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ya(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$h.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ya(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Bie.get())};e()}}$h.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qie="pendingRedirect",dx=new Map;class Uie extends m9{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dx.get(this.auth._key());if(!e){try{const r=await zie(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dx.set(this.auth._key(),e)}return this.bypassAuthState||dx.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zie(t,e){const n=Gie(e),r=Hie(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Wie(t,e){dx.set(t._key(),e)}function Hie(t){return zo(t._redirectPersistence)}function Gie(t){return ux(qie,t.config.apiKey,t.name)}async function Kie(t,e,n=!1){if(ls(t.app))return Promise.reject(Qo(t));const r=Qc(t),i=Lie(r,e),o=await new Uie(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yie=600*1e3;class Qie{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Xie(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!p9(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ya(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Yie&&this.cachedEventUids.clear(),this.cachedEventUids.has(c5(e))}saveEventToCache(e){this.cachedEventUids.add(c5(e)),this.lastProcessedEventTime=Date.now()}}function c5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function p9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Xie(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jie(t,e={}){return wl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ese=/^https?/;async function tse(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Jie(t);for(const n of e)try{if(nse(n))return}catch{}pa(t,"unauthorized-domain")}function nse(t){const e=XE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ese.test(n))return!1;if(Zie.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rse=new ky(3e4,6e4);function u5(){const t=Qa().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ise(t){return new Promise((e,n)=>{var i,s,o;function r(){u5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u5(),n(Ya(t,"network-request-failed"))},timeout:rse.get()})}if((s=(i=Qa().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Qa().gapi)!=null&&o.load)r();else{const l=Kre("iframefcb");return Qa()[l]=()=>{gapi.load?r():n(Ya(t,"network-request-failed"))},XU(`${Gre()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw hx=null,e})}let hx=null;function sse(t){return hx=hx||ise(t),hx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ase=new ky(5e3,15e3),ose="__/auth/iframe",lse="emulator/auth/iframe",cse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},use=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dse(t){const e=t.config;ct(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ek(e,lse):`https://${t.config.authDomain}/${ose}`,r={apiKey:e.apiKey,appName:t.name,v:Id},i=use.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Cy(r).slice(1)}`}async function hse(t){const e=await sse(t),n=Qa().gapi;return ct(n,t,"internal-error"),e.open({where:document.body,url:dse(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cse,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ya(t,"network-request-failed"),l=Qa().setTimeout(()=>{s(o)},ase.get());function c(){Qa().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fse={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mse=500,pse=600,gse="_blank",yse="http://localhost";class d5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vse(t,e,n,r=mse,i=pse){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...fse,width:r.toString(),height:i.toString(),top:s,left:o},d=di().toLowerCase();n&&(l=zU(d)?gse:n),qU(d)&&(e=e||yse,c.scrollbars="yes");const f=Object.entries(c).reduce((p,[v,w])=>`${p}${v}=${w},`,"");if($re(d)&&l!=="_self")return xse(e||"",l),new d5(null);const m=window.open(e||"",l,f);ct(m,t,"popup-blocked");try{m.focus()}catch{}return new d5(m)}function xse(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bse="__/auth/handler",wse="emulator/auth/handler",_se=encodeURIComponent("fac");async function h5(t,e,n,r,i,s){ct(t.config.authDomain,t,"auth-domain-config-required"),ct(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Id,eventId:i};if(e instanceof e9){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rne(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof Oy){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),d=c?`#${_se}=${encodeURIComponent(c)}`:"";return`${jse(t)}?${Cy(l).slice(1)}${d}`}function jse({config:t}){return t.emulator?ek(t,wse):`https://${t.authDomain}/${bse}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="webStorageSupport";class Nse{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c9,this._completeRedirectFn=Kie,this._overrideRedirectResult=Wie}async _openPopup(e,n,r,i){var o;il((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await h5(e,n,r,XE(),i);return vse(e,s,sk())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await h5(e,n,r,XE(),i);return Eie(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(il(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hse(e),r=new Qie(e);return n.register("authEvent",i=>(ct(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qj,{type:Qj},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Qj];s!==void 0&&n(!!s),pa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tse(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YU()||UU()||nk()}}const Sse=Nse;var f5="@firebase/auth",m5="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ese(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ase(t){ma(new Vs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ct(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QU(t)},d=new zre(r,i,s,c);return eie(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ma(new Vs("auth-internal",e=>{const n=Qc(e.getProvider("auth").getImmediate());return(r=>new Tse(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(f5,m5,Ese(t)),Wi(f5,m5,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pse=300,Cse=jU("authIdTokenMaxAge")||Pse;let p5=null;const kse=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Cse)return;const i=n==null?void 0:n.token;p5!==i&&(p5=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zx(t=kw()){const e=Yc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Zre(t,{popupRedirectResolver:Sse,persistence:[Die,Nie,c9]}),r=jU("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=kse(s.toString());wie(n,o,()=>o(n.currentUser)),bie(n,l=>o(l))}}const i=bU("auth");return i&&tie(n,`http://${i}`),n}function Ise(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Wre({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ya("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Ise().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ase("Browser");var Ose="firebase",Rse="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(Ose,Rse,"app");var g5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ec,g9;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,N){function O(){}O.prototype=N.prototype,E.F=N.prototype,E.prototype=new O,E.prototype.constructor=E,E.D=function(D,L,$){for(var F=Array(arguments.length-2),G=2;G<arguments.length;G++)F[G-2]=arguments[G];return N.prototype[L].apply(D,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,N,O){O||(O=0);const D=Array(16);if(typeof N=="string")for(var L=0;L<16;++L)D[L]=N.charCodeAt(O++)|N.charCodeAt(O++)<<8|N.charCodeAt(O++)<<16|N.charCodeAt(O++)<<24;else for(L=0;L<16;++L)D[L]=N[O++]|N[O++]<<8|N[O++]<<16|N[O++]<<24;N=E.g[0],O=E.g[1],L=E.g[2];let $=E.g[3],F;F=N+($^O&(L^$))+D[0]+3614090360&4294967295,N=O+(F<<7&4294967295|F>>>25),F=$+(L^N&(O^L))+D[1]+3905402710&4294967295,$=N+(F<<12&4294967295|F>>>20),F=L+(O^$&(N^O))+D[2]+606105819&4294967295,L=$+(F<<17&4294967295|F>>>15),F=O+(N^L&($^N))+D[3]+3250441966&4294967295,O=L+(F<<22&4294967295|F>>>10),F=N+($^O&(L^$))+D[4]+4118548399&4294967295,N=O+(F<<7&4294967295|F>>>25),F=$+(L^N&(O^L))+D[5]+1200080426&4294967295,$=N+(F<<12&4294967295|F>>>20),F=L+(O^$&(N^O))+D[6]+2821735955&4294967295,L=$+(F<<17&4294967295|F>>>15),F=O+(N^L&($^N))+D[7]+4249261313&4294967295,O=L+(F<<22&4294967295|F>>>10),F=N+($^O&(L^$))+D[8]+1770035416&4294967295,N=O+(F<<7&4294967295|F>>>25),F=$+(L^N&(O^L))+D[9]+2336552879&4294967295,$=N+(F<<12&4294967295|F>>>20),F=L+(O^$&(N^O))+D[10]+4294925233&4294967295,L=$+(F<<17&4294967295|F>>>15),F=O+(N^L&($^N))+D[11]+2304563134&4294967295,O=L+(F<<22&4294967295|F>>>10),F=N+($^O&(L^$))+D[12]+1804603682&4294967295,N=O+(F<<7&4294967295|F>>>25),F=$+(L^N&(O^L))+D[13]+4254626195&4294967295,$=N+(F<<12&4294967295|F>>>20),F=L+(O^$&(N^O))+D[14]+2792965006&4294967295,L=$+(F<<17&4294967295|F>>>15),F=O+(N^L&($^N))+D[15]+1236535329&4294967295,O=L+(F<<22&4294967295|F>>>10),F=N+(L^$&(O^L))+D[1]+4129170786&4294967295,N=O+(F<<5&4294967295|F>>>27),F=$+(O^L&(N^O))+D[6]+3225465664&4294967295,$=N+(F<<9&4294967295|F>>>23),F=L+(N^O&($^N))+D[11]+643717713&4294967295,L=$+(F<<14&4294967295|F>>>18),F=O+($^N&(L^$))+D[0]+3921069994&4294967295,O=L+(F<<20&4294967295|F>>>12),F=N+(L^$&(O^L))+D[5]+3593408605&4294967295,N=O+(F<<5&4294967295|F>>>27),F=$+(O^L&(N^O))+D[10]+38016083&4294967295,$=N+(F<<9&4294967295|F>>>23),F=L+(N^O&($^N))+D[15]+3634488961&4294967295,L=$+(F<<14&4294967295|F>>>18),F=O+($^N&(L^$))+D[4]+3889429448&4294967295,O=L+(F<<20&4294967295|F>>>12),F=N+(L^$&(O^L))+D[9]+568446438&4294967295,N=O+(F<<5&4294967295|F>>>27),F=$+(O^L&(N^O))+D[14]+3275163606&4294967295,$=N+(F<<9&4294967295|F>>>23),F=L+(N^O&($^N))+D[3]+4107603335&4294967295,L=$+(F<<14&4294967295|F>>>18),F=O+($^N&(L^$))+D[8]+1163531501&4294967295,O=L+(F<<20&4294967295|F>>>12),F=N+(L^$&(O^L))+D[13]+2850285829&4294967295,N=O+(F<<5&4294967295|F>>>27),F=$+(O^L&(N^O))+D[2]+4243563512&4294967295,$=N+(F<<9&4294967295|F>>>23),F=L+(N^O&($^N))+D[7]+1735328473&4294967295,L=$+(F<<14&4294967295|F>>>18),F=O+($^N&(L^$))+D[12]+2368359562&4294967295,O=L+(F<<20&4294967295|F>>>12),F=N+(O^L^$)+D[5]+4294588738&4294967295,N=O+(F<<4&4294967295|F>>>28),F=$+(N^O^L)+D[8]+2272392833&4294967295,$=N+(F<<11&4294967295|F>>>21),F=L+($^N^O)+D[11]+1839030562&4294967295,L=$+(F<<16&4294967295|F>>>16),F=O+(L^$^N)+D[14]+4259657740&4294967295,O=L+(F<<23&4294967295|F>>>9),F=N+(O^L^$)+D[1]+2763975236&4294967295,N=O+(F<<4&4294967295|F>>>28),F=$+(N^O^L)+D[4]+1272893353&4294967295,$=N+(F<<11&4294967295|F>>>21),F=L+($^N^O)+D[7]+4139469664&4294967295,L=$+(F<<16&4294967295|F>>>16),F=O+(L^$^N)+D[10]+3200236656&4294967295,O=L+(F<<23&4294967295|F>>>9),F=N+(O^L^$)+D[13]+681279174&4294967295,N=O+(F<<4&4294967295|F>>>28),F=$+(N^O^L)+D[0]+3936430074&4294967295,$=N+(F<<11&4294967295|F>>>21),F=L+($^N^O)+D[3]+3572445317&4294967295,L=$+(F<<16&4294967295|F>>>16),F=O+(L^$^N)+D[6]+76029189&4294967295,O=L+(F<<23&4294967295|F>>>9),F=N+(O^L^$)+D[9]+3654602809&4294967295,N=O+(F<<4&4294967295|F>>>28),F=$+(N^O^L)+D[12]+3873151461&4294967295,$=N+(F<<11&4294967295|F>>>21),F=L+($^N^O)+D[15]+530742520&4294967295,L=$+(F<<16&4294967295|F>>>16),F=O+(L^$^N)+D[2]+3299628645&4294967295,O=L+(F<<23&4294967295|F>>>9),F=N+(L^(O|~$))+D[0]+4096336452&4294967295,N=O+(F<<6&4294967295|F>>>26),F=$+(O^(N|~L))+D[7]+1126891415&4294967295,$=N+(F<<10&4294967295|F>>>22),F=L+(N^($|~O))+D[14]+2878612391&4294967295,L=$+(F<<15&4294967295|F>>>17),F=O+($^(L|~N))+D[5]+4237533241&4294967295,O=L+(F<<21&4294967295|F>>>11),F=N+(L^(O|~$))+D[12]+1700485571&4294967295,N=O+(F<<6&4294967295|F>>>26),F=$+(O^(N|~L))+D[3]+2399980690&4294967295,$=N+(F<<10&4294967295|F>>>22),F=L+(N^($|~O))+D[10]+4293915773&4294967295,L=$+(F<<15&4294967295|F>>>17),F=O+($^(L|~N))+D[1]+2240044497&4294967295,O=L+(F<<21&4294967295|F>>>11),F=N+(L^(O|~$))+D[8]+1873313359&4294967295,N=O+(F<<6&4294967295|F>>>26),F=$+(O^(N|~L))+D[15]+4264355552&4294967295,$=N+(F<<10&4294967295|F>>>22),F=L+(N^($|~O))+D[6]+2734768916&4294967295,L=$+(F<<15&4294967295|F>>>17),F=O+($^(L|~N))+D[13]+1309151649&4294967295,O=L+(F<<21&4294967295|F>>>11),F=N+(L^(O|~$))+D[4]+4149444226&4294967295,N=O+(F<<6&4294967295|F>>>26),F=$+(O^(N|~L))+D[11]+3174756917&4294967295,$=N+(F<<10&4294967295|F>>>22),F=L+(N^($|~O))+D[2]+718787259&4294967295,L=$+(F<<15&4294967295|F>>>17),F=O+($^(L|~N))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+N&4294967295,E.g[1]=E.g[1]+(L+(F<<21&4294967295|F>>>11))&4294967295,E.g[2]=E.g[2]+L&4294967295,E.g[3]=E.g[3]+$&4294967295}r.prototype.v=function(E,N){N===void 0&&(N=E.length);const O=N-this.blockSize,D=this.C;let L=this.h,$=0;for(;$<N;){if(L==0)for(;$<=O;)i(this,E,$),$+=this.blockSize;if(typeof E=="string"){for(;$<N;)if(D[L++]=E.charCodeAt($++),L==this.blockSize){i(this,D),L=0;break}}else for(;$<N;)if(D[L++]=E[$++],L==this.blockSize){i(this,D),L=0;break}}this.h=L,this.o+=N},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var N=1;N<E.length-8;++N)E[N]=0;N=this.o*8;for(var O=E.length-8;O<E.length;++O)E[O]=N&255,N/=256;for(this.v(E),E=Array(16),N=0,O=0;O<4;++O)for(let D=0;D<32;D+=8)E[N++]=this.g[O]>>>D&255;return E};function s(E,N){var O=l;return Object.prototype.hasOwnProperty.call(O,E)?O[E]:O[E]=N(E)}function o(E,N){this.h=N;const O=[];let D=!0;for(let L=E.length-1;L>=0;L--){const $=E[L]|0;D&&$==N||(O[L]=$,D=!1)}this.g=O}var l={};function c(E){return-128<=E&&E<128?s(E,function(N){return new o([N|0],N<0?-1:0)}):new o([E|0],E<0?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return m;if(E<0)return g(d(-E));const N=[];let O=1;for(let D=0;E>=O;D++)N[D]=E/O|0,O*=4294967296;return new o(N,0)}function f(E,N){if(E.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(E.charAt(0)=="-")return g(f(E.substring(1),N));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=d(Math.pow(N,8));let D=m;for(let $=0;$<E.length;$+=8){var L=Math.min(8,E.length-$);const F=parseInt(E.substring($,$+L),N);L<8?(L=d(Math.pow(N,L)),D=D.j(L).add(d(F))):(D=D.j(O),D=D.add(d(F)))}return D}var m=c(0),p=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-g(this).m();let E=0,N=1;for(let O=0;O<this.g.length;O++){const D=this.i(O);E+=(D>=0?D:4294967296+D)*N,N*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(w(this))return"0";if(x(this))return"-"+g(this).toString(E);const N=d(Math.pow(E,6));var O=this;let D="";for(;;){const L=I(O,N).g;O=_(O,L.j(N));let $=((O.g.length>0?O.g[0]:O.h)>>>0).toString(E);if(O=L,w(O))return $+D;for(;$.length<6;)$="0"+$;D=$+D}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function w(E){if(E.h!=0)return!1;for(let N=0;N<E.g.length;N++)if(E.g[N]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=_(this,E),x(E)?-1:w(E)?0:1};function g(E){const N=E.g.length,O=[];for(let D=0;D<N;D++)O[D]=~E.g[D];return new o(O,~E.h).add(p)}t.abs=function(){return x(this)?g(this):this},t.add=function(E){const N=Math.max(this.g.length,E.g.length),O=[];let D=0;for(let L=0;L<=N;L++){let $=D+(this.i(L)&65535)+(E.i(L)&65535),F=($>>>16)+(this.i(L)>>>16)+(E.i(L)>>>16);D=F>>>16,$&=65535,F&=65535,O[L]=F<<16|$}return new o(O,O[O.length-1]&-2147483648?-1:0)};function _(E,N){return E.add(g(N))}t.j=function(E){if(w(this)||w(E))return m;if(x(this))return x(E)?g(this).j(g(E)):g(g(this).j(E));if(x(E))return g(this.j(g(E)));if(this.l(v)<0&&E.l(v)<0)return d(this.m()*E.m());const N=this.g.length+E.g.length,O=[];for(var D=0;D<2*N;D++)O[D]=0;for(D=0;D<this.g.length;D++)for(let L=0;L<E.g.length;L++){const $=this.i(D)>>>16,F=this.i(D)&65535,G=E.i(L)>>>16,Y=E.i(L)&65535;O[2*D+2*L]+=F*Y,T(O,2*D+2*L),O[2*D+2*L+1]+=$*Y,T(O,2*D+2*L+1),O[2*D+2*L+1]+=F*G,T(O,2*D+2*L+1),O[2*D+2*L+2]+=$*G,T(O,2*D+2*L+2)}for(E=0;E<N;E++)O[E]=O[2*E+1]<<16|O[2*E];for(E=N;E<2*N;E++)O[E]=0;return new o(O,0)};function T(E,N){for(;(E[N]&65535)!=E[N];)E[N+1]+=E[N]>>>16,E[N]&=65535,N++}function A(E,N){this.g=E,this.h=N}function I(E,N){if(w(N))throw Error("division by zero");if(w(E))return new A(m,m);if(x(E))return N=I(g(E),N),new A(g(N.g),g(N.h));if(x(N))return N=I(E,g(N)),new A(g(N.g),N.h);if(E.g.length>30){if(x(E)||x(N))throw Error("slowDivide_ only works with positive integers.");for(var O=p,D=N;D.l(E)<=0;)O=P(O),D=P(D);var L=C(O,1),$=C(D,1);for(D=C(D,2),O=C(O,2);!w(D);){var F=$.add(D);F.l(E)<=0&&(L=L.add(O),$=F),D=C(D,1),O=C(O,1)}return N=_(E,L.j(N)),new A(L,N)}for(L=m;E.l(N)>=0;){for(O=Math.max(1,Math.floor(E.m()/N.m())),D=Math.ceil(Math.log(O)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),$=d(O),F=$.j(N);x(F)||F.l(E)>0;)O-=D,$=d(O),F=$.j(N);w($)&&($=p),L=L.add($),E=_(E,F)}return new A(L,E)}t.B=function(E){return I(this,E).h},t.and=function(E){const N=Math.max(this.g.length,E.g.length),O=[];for(let D=0;D<N;D++)O[D]=this.i(D)&E.i(D);return new o(O,this.h&E.h)},t.or=function(E){const N=Math.max(this.g.length,E.g.length),O=[];for(let D=0;D<N;D++)O[D]=this.i(D)|E.i(D);return new o(O,this.h|E.h)},t.xor=function(E){const N=Math.max(this.g.length,E.g.length),O=[];for(let D=0;D<N;D++)O[D]=this.i(D)^E.i(D);return new o(O,this.h^E.h)};function P(E){const N=E.g.length+1,O=[];for(let D=0;D<N;D++)O[D]=E.i(D)<<1|E.i(D-1)>>>31;return new o(O,E.h)}function C(E,N){const O=N>>5;N%=32;const D=E.g.length-O,L=[];for(let $=0;$<D;$++)L[$]=N>0?E.i($+O)>>>N|E.i($+O+1)<<32-N:E.i($+O);return new o(L,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,g9=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Ec=o}).apply(typeof g5<"u"?g5:typeof self<"u"?self:typeof window<"u"?window:{});var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y9,Fp,v9,fx,eA,x9,b9,w9;(function(){var t,e=Object.defineProperty;function n(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ev=="object"&&Ev];for(var M=0;M<b.length;++M){var V=b[M];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=n(this);function i(b,M){if(M)e:{var V=r;b=b.split(".");for(var q=0;q<b.length-1;q++){var se=b[q];if(!(se in V))break e;V=V[se]}b=b[b.length-1],q=V[b],M=M(q),M!=q&&M!=null&&e(V,b,{configurable:!0,writable:!0,value:M})}}i("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(b){return b||function(M){var V=[],q;for(q in M)Object.prototype.hasOwnProperty.call(M,q)&&V.push([q,M[q]]);return V}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(b){var M=typeof b;return M=="object"&&b!=null||M=="function"}function c(b,M,V){return b.call.apply(b.bind,arguments)}function d(b,M,V){return d=c,d.apply(null,arguments)}function f(b,M){var V=Array.prototype.slice.call(arguments,1);return function(){var q=V.slice();return q.push.apply(q,arguments),b.apply(this,q)}}function m(b,M){function V(){}V.prototype=M.prototype,b.Z=M.prototype,b.prototype=new V,b.prototype.constructor=b,b.Ob=function(q,se,de){for(var Me=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)Me[xt-2]=arguments[xt];return M.prototype[se].apply(q,Me)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function v(b){const M=b.length;if(M>0){const V=Array(M);for(let q=0;q<M;q++)V[q]=b[q];return V}return[]}function w(b,M){for(let q=1;q<arguments.length;q++){const se=arguments[q];var V=typeof se;if(V=V!="object"?V:se?Array.isArray(se)?"array":V:"null",V=="array"||V=="object"&&typeof se.length=="number"){V=b.length||0;const de=se.length||0;b.length=V+de;for(let Me=0;Me<de;Me++)b[V+Me]=se[Me]}else b.push(se)}}class x{constructor(M,V){this.i=M,this.j=V,this.h=0,this.g=null}get(){let M;return this.h>0?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}function g(b){o.setTimeout(()=>{throw b},0)}function _(){var b=E;let M=null;return b.g&&(M=b.g,b.g=b.g.next,b.g||(b.h=null),M.next=null),M}class T{constructor(){this.h=this.g=null}add(M,V){const q=A.get();q.set(M,V),this.h?this.h.next=q:this.g=q,this.h=q}}var A=new x(()=>new I,b=>b.reset());class I{constructor(){this.next=this.g=this.h=null}set(M,V){this.h=M,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let P,C=!1,E=new T,N=()=>{const b=Promise.resolve(void 0);P=()=>{b.then(O)}};function O(){for(var b;b=_();){try{b.h.call(b.g)}catch(V){g(V)}var M=A;M.j(b),M.h<100&&(M.h++,b.next=M.g,M.g=b)}C=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(b,M){this.type=b,this.g=this.target=M,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var b=!1,M=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const V=()=>{};o.addEventListener("test",V,M),o.removeEventListener("test",V,M)}catch{}return b})();function F(b){return/^[\s\xa0]*$/.test(b)}function G(b,M){L.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,M)}m(G,L),G.prototype.init=function(b,M){const V=this.type=b.type,q=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=M,M=b.relatedTarget,M||(V=="mouseover"?M=b.fromElement:V=="mouseout"&&(M=b.toElement)),this.relatedTarget=M,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var Y="closure_listenable_"+(Math.random()*1e6|0),K=0;function X(b,M,V,q,se){this.listener=b,this.proxy=null,this.src=M,this.type=V,this.capture=!!q,this.ha=se,this.key=++K,this.da=this.fa=!1}function U(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Q(b,M,V){for(const q in b)M.call(V,b[q],q,b)}function re(b,M){for(const V in b)M.call(void 0,b[V],V,b)}function W(b){const M={};for(const V in b)M[V]=b[V];return M}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(b,M){let V,q;for(let se=1;se<arguments.length;se++){q=arguments[se];for(V in q)b[V]=q[V];for(let de=0;de<Z.length;de++)V=Z[de],Object.prototype.hasOwnProperty.call(q,V)&&(b[V]=q[V])}}function le(b){this.src=b,this.g={},this.h=0}le.prototype.add=function(b,M,V,q,se){const de=b.toString();b=this.g[de],b||(b=this.g[de]=[],this.h++);const Me=ge(b,M,q,se);return Me>-1?(M=b[Me],V||(M.fa=!1)):(M=new X(M,this.src,de,!!q,se),M.fa=V,b.push(M)),M};function be(b,M){const V=M.type;if(V in b.g){var q=b.g[V],se=Array.prototype.indexOf.call(q,M,void 0),de;(de=se>=0)&&Array.prototype.splice.call(q,se,1),de&&(U(M),b.g[V].length==0&&(delete b.g[V],b.h--))}}function ge(b,M,V,q){for(let se=0;se<b.length;++se){const de=b[se];if(!de.da&&de.listener==M&&de.capture==!!V&&de.ha==q)return se}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Ie={};function fe(b,M,V,q,se){if(Array.isArray(M)){for(let de=0;de<M.length;de++)fe(b,M[de],V,q,se);return null}return V=Kn(V),b&&b[Y]?b.J(M,V,l(q)?!!q.capture:!1,se):Ae(b,M,V,!1,q,se)}function Ae(b,M,V,q,se,de){if(!M)throw Error("Invalid event type");const Me=l(se)?!!se.capture:!!se;let xt=It(b);if(xt||(b[me]=xt=new le(b)),V=xt.add(M,V,q,Me,de),V.proxy)return V;if(q=Re(),V.proxy=q,q.src=b,q.listener=V,b.addEventListener)$||(se=Me),se===void 0&&(se=!1),b.addEventListener(M.toString(),q,se);else if(b.attachEvent)b.attachEvent(et(M.toString()),q);else if(b.addListener&&b.removeListener)b.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Re(){function b(V){return M.call(b.src,b.listener,V)}const M=kt;return b}function he(b,M,V,q,se){if(Array.isArray(M))for(var de=0;de<M.length;de++)he(b,M[de],V,q,se);else q=l(q)?!!q.capture:!!q,V=Kn(V),b&&b[Y]?(b=b.i,de=String(M).toString(),de in b.g&&(M=b.g[de],V=ge(M,V,q,se),V>-1&&(U(M[V]),Array.prototype.splice.call(M,V,1),M.length==0&&(delete b.g[de],b.h--)))):b&&(b=It(b))&&(M=b.g[M.toString()],b=-1,M&&(b=ge(M,V,q,se)),(V=b>-1?M[b]:null)&&ot(V))}function ot(b){if(typeof b!="number"&&b&&!b.da){var M=b.src;if(M&&M[Y])be(M.i,b);else{var V=b.type,q=b.proxy;M.removeEventListener?M.removeEventListener(V,q,b.capture):M.detachEvent?M.detachEvent(et(V),q):M.addListener&&M.removeListener&&M.removeListener(q),(V=It(M))?(be(V,b),V.h==0&&(V.src=null,M[me]=null)):U(b)}}}function et(b){return b in Ie?Ie[b]:Ie[b]="on"+b}function kt(b,M){if(b.da)b=!0;else{M=new G(M,this);const V=b.listener,q=b.ha||b.src;b.fa&&ot(b),b=V.call(q,M)}return b}function It(b){return b=b[me],b instanceof le?b:null}var Gt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kn(b){return typeof b=="function"?b:(b[Gt]||(b[Gt]=function(M){return b.handleEvent(M)}),b[Gt])}function Ot(){D.call(this),this.i=new le(this),this.M=this,this.G=null}m(Ot,D),Ot.prototype[Y]=!0,Ot.prototype.removeEventListener=function(b,M,V,q){he(this,b,M,V,q)};function tn(b,M){var V,q=b.G;if(q)for(V=[];q;q=q.G)V.push(q);if(b=b.M,q=M.type||M,typeof M=="string")M=new L(M,b);else if(M instanceof L)M.target=M.target||b;else{var se=M;M=new L(q,b),ue(M,se)}se=!0;let de,Me;if(V)for(Me=V.length-1;Me>=0;Me--)de=M.g=V[Me],se=Cn(de,q,!0,M)&&se;if(de=M.g=b,se=Cn(de,q,!0,M)&&se,se=Cn(de,q,!1,M)&&se,V)for(Me=0;Me<V.length;Me++)de=M.g=V[Me],se=Cn(de,q,!1,M)&&se}Ot.prototype.N=function(){if(Ot.Z.N.call(this),this.i){var b=this.i;for(const M in b.g){const V=b.g[M];for(let q=0;q<V.length;q++)U(V[q]);delete b.g[M],b.h--}}this.G=null},Ot.prototype.J=function(b,M,V,q){return this.i.add(String(b),M,!1,V,q)},Ot.prototype.K=function(b,M,V,q){return this.i.add(String(b),M,!0,V,q)};function Cn(b,M,V,q){if(M=b.i.g[String(M)],!M)return!0;M=M.concat();let se=!0;for(let de=0;de<M.length;++de){const Me=M[de];if(Me&&!Me.da&&Me.capture==V){const xt=Me.listener,Yn=Me.ha||Me.src;Me.fa&&be(b.i,Me),se=xt.call(Yn,q)!==!1&&se}}return se&&!q.defaultPrevented}function wr(b,M){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=d(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(M)>2147483647?-1:o.setTimeout(b,M||0)}function fi(b){b.g=wr(()=>{b.g=null,b.i&&(b.i=!1,fi(b))},b.l);const M=b.h;b.h=null,b.m.apply(null,M)}class gs extends D{constructor(M,V){super(),this.m=M,this.l=V,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:fi(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(b){D.call(this),this.h=b,this.g={}}m(kr,D);var Hs=[];function Gs(b){Q(b.g,function(M,V){this.g.hasOwnProperty(V)&&ot(M)},b),b.g={}}kr.prototype.N=function(){kr.Z.N.call(this),Gs(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pi=o.JSON.stringify,Pe=o.JSON.parse,ve=class{stringify(b){return o.JSON.stringify(b,void 0)}parse(b){return o.JSON.parse(b,void 0)}};function De(){}function st(){}var Be={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gt(){L.call(this,"d")}m(gt,L);function jt(){L.call(this,"c")}m(jt,L);var _t={},fn=null;function Ir(){return fn=fn||new Ot}_t.Ia="serverreachability";function xo(b){L.call(this,_t.Ia,b)}m(xo,L);function ys(b){const M=Ir();tn(M,new xo(M))}_t.STAT_EVENT="statevent";function vs(b,M){L.call(this,_t.STAT_EVENT,b),this.stat=M}m(vs,L);function qn(b){const M=Ir();tn(M,new vs(M,b))}_t.Ja="timingevent";function Om(b,M){L.call(this,_t.Ja,b),this.size=M}m(Om,L);function Cl(b,M){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){b()},M)}function kl(){this.g=!0}kl.prototype.ua=function(){this.g=!1};function f0(b,M,V,q,se,de){b.info(function(){if(b.g)if(de){var Me="",xt=de.split("&");for(let cn=0;cn<xt.length;cn++){var Yn=xt[cn].split("=");if(Yn.length>1){const tr=Yn[0];Yn=Yn[1];const es=tr.split("_");Me=es.length>=2&&es[1]=="type"?Me+(tr+"="+Yn+"&"):Me+(tr+"=redacted&")}}}else Me=null;else Me=de;return"XMLHTTP REQ ("+q+") [attempt "+se+"]: "+M+`
`+V+`
`+Me})}function m0(b,M,V,q,se,de,Me){b.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+se+"]: "+M+`
`+V+`
`+de+" "+Me})}function Na(b,M,V,q){b.info(function(){return"XMLHTTP TEXT ("+M+"): "+lu(b,V)+(q?" "+q:"")})}function p0(b,M){b.info(function(){return"TIMEOUT: "+M})}kl.prototype.info=function(){};function lu(b,M){if(!b.g)return M;if(!M)return null;try{const de=JSON.parse(M);if(de){for(b=0;b<de.length;b++)if(Array.isArray(de[b])){var V=de[b];if(!(V.length<2)){var q=V[1];if(Array.isArray(q)&&!(q.length<1)){var se=q[0];if(se!="noop"&&se!="stop"&&se!="close")for(let Me=1;Me<q.length;Me++)q[Me]=""}}}}return Pi(de)}catch{return M}}var Il={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},g0;function bo(){}m(bo,De),bo.prototype.g=function(){return new XMLHttpRequest},g0=new bo;function Sa(b){return encodeURIComponent(String(b))}function Ud(b){var M=1;b=b.split(":");const V=[];for(;M>0&&b.length;)V.push(b.shift()),M--;return b.length&&V.push(b.join(":")),V}function xs(b,M,V,q){this.j=b,this.i=M,this.l=V,this.S=q||1,this.V=new kr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new y0}function y0(){this.i=null,this.g="",this.h=!1}var v0={},Rm={};function Ks(b,M,V){b.M=1,b.A=_o(bs(M)),b.u=V,b.R=!0,Mm(b,null)}function Mm(b,M){b.F=Date.now(),cu(b),b.B=bs(b.A);var V=b.B,q=b.S;Array.isArray(q)||(q=[String(q)]),Wm(V.i,"t",q),b.C=0,V=b.j.L,b.h=new y0,b.g=A0(b.j,V?M:null,!b.u),b.P>0&&(b.O=new gs(d(b.Y,b,b.g),b.P)),M=b.V,V=b.g,q=b.ba;var se="readystatechange";Array.isArray(se)||(se&&(Hs[0]=se.toString()),se=Hs);for(let de=0;de<se.length;de++){const Me=fe(V,se[de],q||M.handleEvent,!1,M.h||M);if(!Me)break;M.g[Me.key]=Me}M=b.J?W(b.J):{},b.u?(b.v||(b.v="POST"),M["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,M)):(b.v="GET",b.g.ea(b.B,b.v,null,M)),ys(),f0(b.i,b.v,b.B,b.l,b.S,b.u)}xs.prototype.ba=function(b){b=b.target;const M=this.O;M&&Ia(b)==3?M.j():this.Y(b)},xs.prototype.Y=function(b){try{if(b==this.g)e:{const xt=Ia(this.g),Yn=this.g.ya(),cn=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||T0(this.g)))){this.K||xt!=4||Yn==7||(Yn==8||cn<=0?ys(3):ys(2)),zd(this);var M=this.g.ca();this.X=M;var V=x0(this);if(this.o=M==200,m0(this.i,this.v,this.B,this.l,this.S,xt,M),this.o){if(this.U&&!this.L){t:{if(this.g){var q,se=this.g;if((q=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(q)){var de=q;break t}}de=null}if(b=de)Na(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,jn(this,b);else{this.o=!1,this.m=3,qn(12),wo(this),uu(this);break e}}if(this.R){b=!0;let tr;for(;!this.K&&this.C<V.length;)if(tr=w0(this,V),tr==Rm){xt==4&&(this.m=4,qn(14),b=!1),Na(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==v0){this.m=4,qn(15),Na(this.i,this.l,V,"[Invalid Chunk]"),b=!1;break}else Na(this.i,this.l,tr,null),jn(this,tr);if(b0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||V.length!=0||this.h.h||(this.m=1,qn(16),b=!1),this.o=this.o&&b,!b)Na(this.i,this.l,V,"[Invalid Chunked Response]"),wo(this),uu(this);else if(V.length>0&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.aa&&!Me.P&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),xu(Me),Me.P=!0,qn(11))}}else Na(this.i,this.l,V,null),jn(this,V);xt==4&&wo(this),this.o&&!this.K&&(xt==4?eh(this.j,this):(this.o=!1,cu(this)))}else Gm(this.g),M==400&&V.indexOf("Unknown SID")>0?(this.m=3,qn(12)):(this.m=0,qn(13)),wo(this),uu(this)}}}catch{}finally{}};function x0(b){if(!b0(b))return b.g.la();const M=T0(b.g);if(M==="")return"";let V="";const q=M.length,se=Ia(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return wo(b),uu(b),"";b.h.i=new o.TextDecoder}for(let de=0;de<q;de++)b.h.h=!0,V+=b.h.i.decode(M[de],{stream:!(se&&de==q-1)});return M.length=0,b.h.g+=V,b.C=0,b.h.g}function b0(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function w0(b,M){var V=b.C,q=M.indexOf(`
`,V);return q==-1?Rm:(V=Number(M.substring(V,q)),isNaN(V)?v0:(q+=1,q+V>M.length?Rm:(M=M.slice(q,q+V),b.C=q+V,M)))}xs.prototype.cancel=function(){this.K=!0,wo(this)};function cu(b){b.T=Date.now()+b.H,Dm(b,b.H)}function Dm(b,M){if(b.D!=null)throw Error("WatchDog timer not null");b.D=Cl(d(b.aa,b),M)}function zd(b){b.D&&(o.clearTimeout(b.D),b.D=null)}xs.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?(p0(this.i,this.B),this.M!=2&&(ys(),qn(17)),wo(this),this.m=2,uu(this)):Dm(this,this.T-b)};function uu(b){b.j.I==0||b.K||eh(b.j,b)}function wo(b){zd(b);var M=b.O;M&&typeof M.dispose=="function"&&M.dispose(),b.O=null,Gs(b.V),b.g&&(M=b.g,b.g=null,M.abort(),M.dispose())}function jn(b,M){try{var V=b.j;if(V.I!=0&&(V.g==b||$m(V.h,b))){if(!b.L&&$m(V.h,b)&&V.I==3){try{var q=V.Ba.g.parse(M)}catch{q=null}if(Array.isArray(q)&&q.length==3){var se=q;if(se[0]==0){e:if(!V.v){if(V.g)if(V.g.F+3e3<b.F)Zd(V),Ji(V);else break e;Ma(V),qn(18)}}else V.xa=se[1],0<V.xa-V.K&&se[2]<37500&&V.F&&V.A==0&&!V.C&&(V.C=Cl(d(V.Va,V),6e3));du(V.h)<=1&&V.ta&&(V.ta=void 0)}else Zi(V,11)}else if((b.L||V.g==b)&&Zd(V),!F(M))for(se=V.Ba.g.parse(M),M=0;M<se.length;M++){let cn=se[M];const tr=cn[0];if(!(tr<=V.K))if(V.K=tr,cn=cn[1],V.I==2)if(cn[0]=="c"){V.M=cn[1],V.ba=cn[2];const es=cn[3];es!=null&&(V.ka=es,V.j.info("VER="+V.ka));const Eo=cn[4];Eo!=null&&(V.za=Eo,V.j.info("SVER="+V.za));const Da=cn[5];Da!=null&&typeof Da=="number"&&Da>0&&(q=1.5*Da,V.O=q,V.j.info("backChannelRequestTimeoutMs_="+q)),q=V;const La=b.g;if(La){const rh=La.g?La.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rh){var de=q.h;de.g||rh.indexOf("spdy")==-1&&rh.indexOf("quic")==-1&&rh.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(Hd(de,de.h),de.h=null))}if(q.G){const Qm=La.g?La.g.getResponseHeader("X-HTTP-Session-Id"):null;Qm&&(q.wa=Qm,Zt(q.J,q.G,Qm))}}V.I=3,V.l&&V.l.ra(),V.aa&&(V.T=Date.now()-b.F,V.j.info("Handshake RTT: "+V.T+"ms")),q=V;var Me=b;if(q.na=Ym(q,q.L?q.ba:null,q.W),Me.L){hu(q.h,Me);var xt=Me,Yn=q.O;Yn&&(xt.H=Yn),xt.D&&(zd(xt),cu(xt)),q.g=Me}else Yr(q);V.i.length>0&&To(V)}else cn[0]!="stop"&&cn[0]!="close"||Zi(V,7);else V.I==3&&(cn[0]=="stop"||cn[0]=="close"?cn[0]=="stop"?Zi(V,7):Xd(V):cn[0]!="noop"&&V.l&&V.l.qa(cn),V.A=0)}}ys(4)}catch{}}var p_=class{constructor(b,M){this.g=b,this.map=M}};function Wd(b){this.l=b||10,o.PerformanceNavigationTiming?(b=o.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lm(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function du(b){return b.h?1:b.g?b.g.size:0}function $m(b,M){return b.h?b.h==M:b.g?b.g.has(M):!1}function Hd(b,M){b.g?b.g.add(M):b.h=M}function hu(b,M){b.h&&b.h==M?b.h=null:b.g&&b.g.has(M)&&b.g.delete(M)}Wd.prototype.cancel=function(){if(this.i=Yi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function Yi(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let M=b.i;for(const V of b.g.values())M=M.concat(V.G);return M}return v(b.i)}var _0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qi(b,M){if(b){b=b.split("&");for(let V=0;V<b.length;V++){const q=b[V].indexOf("=");let se,de=null;q>=0?(se=b[V].substring(0,q),de=b[V].substring(q+1)):se=b[V],M(se,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function Ta(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let M;b instanceof Ta?(this.l=b.l,fu(this,b.j),this.o=b.o,this.g=b.g,Ea(this,b.u),this.h=b.h,Rl(this,Hm(b.i)),this.m=b.m):b&&(M=String(b).match(_0))?(this.l=!1,fu(this,M[1]||"",!0),this.o=mu(M[2]||""),this.g=mu(M[3]||"",!0),Ea(this,M[4]),this.h=mu(M[5]||"",!0),Rl(this,M[6]||"",!0),this.m=mu(M[7]||"")):(this.l=!1,this.i=new Ft(null,this.l))}Ta.prototype.toString=function(){const b=[];var M=this.j;M&&b.push(pu(M,Vm,!0),":");var V=this.g;return(V||M=="file")&&(b.push("//"),(M=this.o)&&b.push(pu(M,Vm,!0),"@"),b.push(Sa(V).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.u,V!=null&&b.push(":",String(V))),(V=this.h)&&(this.g&&V.charAt(0)!="/"&&b.push("/"),b.push(pu(V,V.charAt(0)=="/"?gu:Bm,!0))),(V=this.i.toString())&&b.push("?",V),(V=this.m)&&b.push("#",pu(V,qm)),b.join("")},Ta.prototype.resolve=function(b){const M=bs(this);let V=!!b.j;V?fu(M,b.j):V=!!b.o,V?M.o=b.o:V=!!b.g,V?M.g=b.g:V=b.u!=null;var q=b.h;if(V)Ea(M,b.u);else if(V=!!b.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var se=M.h.lastIndexOf("/");se!=-1&&(q=M.h.slice(0,se+1)+q)}if(se=q,se==".."||se==".")q="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){q=se.lastIndexOf("/",0)==0,se=se.split("/");const de=[];for(let Me=0;Me<se.length;){const xt=se[Me++];xt=="."?q&&Me==se.length&&de.push(""):xt==".."?((de.length>1||de.length==1&&de[0]!="")&&de.pop(),q&&Me==se.length&&de.push("")):(de.push(xt),q=!0)}q=de.join("/")}else q=se}return V?M.h=q:V=b.i.toString()!=="",V?Rl(M,Hm(b.i)):V=!!b.m,V&&(M.m=b.m),M};function bs(b){return new Ta(b)}function fu(b,M,V){b.j=V?mu(M,!0):M,b.j&&(b.j=b.j.replace(/:$/,""))}function Ea(b,M){if(M){if(M=Number(M),isNaN(M)||M<0)throw Error("Bad port number "+M);b.u=M}else b.u=null}function Rl(b,M,V){M instanceof Ft?(b.i=M,Kd(b.i,b.l)):(V||(M=pu(M,g_)),b.i=new Ft(M,b.l))}function Zt(b,M,V){b.i.set(M,V)}function _o(b){return Zt(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function mu(b,M){return b?M?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function pu(b,M,V){return typeof b=="string"?(b=encodeURI(b).replace(M,Fm),V&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function Fm(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Vm=/[#\/\?@]/g,Bm=/[#\?:]/g,gu=/[#\?]/g,g_=/[#\?@]/g,qm=/#/g;function Ft(b,M){this.h=this.g=null,this.i=b||null,this.j=!!M}function Aa(b){b.g||(b.g=new Map,b.h=0,b.i&&Qi(b.i,function(M,V){b.add(decodeURIComponent(M.replace(/\+/g," ")),V)}))}t=Ft.prototype,t.add=function(b,M){Aa(this),this.i=null,b=Pa(this,b);let V=this.g.get(b);return V||this.g.set(b,V=[]),V.push(M),this.h+=1,this};function Um(b,M){Aa(b),M=Pa(b,M),b.g.has(M)&&(b.i=null,b.h-=b.g.get(M).length,b.g.delete(M))}function Gd(b,M){return Aa(b),M=Pa(b,M),b.g.has(M)}t.forEach=function(b,M){Aa(this),this.g.forEach(function(V,q){V.forEach(function(se){b.call(M,se,q,this)},this)},this)};function zm(b,M){Aa(b);let V=[];if(typeof M=="string")Gd(b,M)&&(V=V.concat(b.g.get(Pa(b,M))));else for(b=Array.from(b.g.values()),M=0;M<b.length;M++)V=V.concat(b[M]);return V}t.set=function(b,M){return Aa(this),this.i=null,b=Pa(this,b),Gd(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[M]),this.h+=1,this},t.get=function(b,M){return b?(b=zm(this,b),b.length>0?String(b[0]):M):M};function Wm(b,M,V){Um(b,M),V.length>0&&(b.i=null,b.g.set(Pa(b,M),v(V)),b.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],M=Array.from(this.g.keys());for(let q=0;q<M.length;q++){var V=M[q];const se=Sa(V);V=zm(this,V);for(let de=0;de<V.length;de++){let Me=se;V[de]!==""&&(Me+="="+Sa(V[de])),b.push(Me)}}return this.i=b.join("&")};function Hm(b){const M=new Ft;return M.i=b.i,b.g&&(M.g=new Map(b.g),M.h=b.h),M}function Pa(b,M){return M=String(M),b.j&&(M=M.toLowerCase()),M}function Kd(b,M){M&&!b.j&&(Aa(b),b.i=null,b.g.forEach(function(V,q){const se=q.toLowerCase();q!=se&&(Um(this,q),Wm(this,se,V))},b)),b.j=M}function Ca(b,M){const V=new kl;if(o.Image){const q=new Image;q.onload=f(Or,V,"TestLoadImage: loaded",!0,M,q),q.onerror=f(Or,V,"TestLoadImage: error",!1,M,q),q.onabort=f(Or,V,"TestLoadImage: abort",!1,M,q),q.ontimeout=f(Or,V,"TestLoadImage: timeout",!1,M,q),o.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=b}else M(!1)}function ka(b,M){const V=new kl,q=new AbortController,se=setTimeout(()=>{q.abort(),Or(V,"TestPingServer: timeout",!1,M)},1e4);fetch(b,{signal:q.signal}).then(de=>{clearTimeout(se),de.ok?Or(V,"TestPingServer: ok",!0,M):Or(V,"TestPingServer: server error",!1,M)}).catch(()=>{clearTimeout(se),Or(V,"TestPingServer: error",!1,M)})}function Or(b,M,V,q,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),q(V)}catch{}}function yu(){this.g=new ve}function jo(b){this.i=b.Sb||null,this.h=b.ab||!1}m(jo,De),jo.prototype.g=function(){return new Xi(this.i,this.h)};function Xi(b,M){Ot.call(this),this.H=b,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Xi,Ot),t=Xi.prototype,t.open=function(b,M){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=M,this.readyState=1,Ys(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const M={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(M.body=b),(this.H||o).fetch(new Request(this.D,M)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ml(this)),this.readyState=0},t.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Ys(this)),this.g&&(this.readyState=3,Ys(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;j0(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function j0(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}t.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var M=b.value?b.value:new Uint8Array(0);(M=this.B.decode(M,{stream:!b.done}))&&(this.response=this.responseText+=M)}b.done?Ml(this):Ys(this),this.readyState==3&&j0(this)}},t.Oa=function(b){this.g&&(this.response=this.responseText=b,Ml(this))},t.Na=function(b){this.g&&(this.response=b,Ml(this))},t.ga=function(){this.g&&Ml(this)};function Ml(b){b.readyState=4,b.l=null,b.j=null,b.B=null,Ys(b)}t.setRequestHeader=function(b,M){this.A.append(b,M)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],M=this.h.entries();for(var V=M.next();!V.done;)V=V.value,b.push(V[0]+": "+V[1]),V=M.next();return b.join(`\r
`)};function Ys(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function N0(b){let M="";return Q(b,function(V,q){M+=q,M+=":",M+=V,M+=`\r
`}),M}function Yd(b,M,V){e:{for(q in V){var q=!1;break e}q=!0}q||(V=N0(V),typeof b=="string"?V!=null&&Sa(V):Zt(b,M,V))}function pn(b){Ot.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(pn,Ot);var S0=/^https?$/i,y_=["POST","PUT"];t=pn.prototype,t.Fa=function(b){this.H=b},t.ea=function(b,M,V,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);M=M?M.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():g0.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(M,String(b),!0),this.B=!1}catch(de){Dl(this,de);return}if(b=V||"",V=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var se in q)V.set(se,q[se]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const de of q.keys())V.set(de,q.get(de));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(V.keys()).find(de=>de.toLowerCase()=="content-type"),se=o.FormData&&b instanceof o.FormData,!(Array.prototype.indexOf.call(y_,M,void 0)>=0)||q||se||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Me]of V)this.g.setRequestHeader(de,Me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(de){Dl(this,de)}};function Dl(b,M){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=M,b.o=5,Ll(b),So(b)}function Ll(b){b.A||(b.A=!0,tn(b,"complete"),tn(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,tn(this,"complete"),tn(this,"abort"),So(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),So(this,!0)),pn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?No(this):this.Xa())},t.Xa=function(){No(this)};function No(b){if(b.h&&typeof s<"u"){if(b.v&&Ia(b)==4)setTimeout(b.Ca.bind(b),0);else if(tn(b,"readystatechange"),Ia(b)==4){b.h=!1;try{const de=b.ca();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var V;if(!(V=M)){var q;if(q=de===0){let Me=String(b.D).match(_0)[1]||null;!Me&&o.self&&o.self.location&&(Me=o.self.location.protocol.slice(0,-1)),q=!S0.test(Me?Me.toLowerCase():"")}V=q}if(V)tn(b,"complete"),tn(b,"success");else{b.o=6;try{var se=Ia(b)>2?b.g.statusText:""}catch{se=""}b.l=se+" ["+b.ca()+"]",Ll(b)}}finally{So(b)}}}}function So(b,M){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const V=b.g;b.g=null,M||tn(b,"ready");try{V.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ia(b){return b.g?b.g.readyState:0}t.ca=function(){try{return Ia(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(b){if(this.g){var M=this.g.responseText;return b&&M.indexOf(b)==0&&(M=M.substring(b.length)),Pe(M)}};function T0(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Gm(b){const M={};b=(b.g&&Ia(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<b.length;q++){if(F(b[q]))continue;var V=Ud(b[q]);const se=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const de=M[se]||[];M[se]=de,de.push(V)}re(M,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oa(b,M,V){return V&&V.internalChannelParams&&V.internalChannelParams[b]||M}function Qd(b){this.za=0,this.i=[],this.j=new kl,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oa("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oa("baseRetryDelayMs",5e3,b),this.Za=Oa("retryDelaySeedMs",1e4,b),this.Ta=Oa("forwardChannelMaxRetries",2,b),this.va=Oa("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new Wd(b&&b.concurrentRequestLimit),this.Ba=new yu,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Qd.prototype,t.ka=8,t.I=1,t.connect=function(b,M,V,q){qn(0),this.W=b,this.H=M||{},V&&q!==void 0&&(this.H.OSID=V,this.H.OAID=q),this.F=this.X,this.J=Ym(this,null,this.W),To(this)};function Xd(b){if(Jd(b),b.I==3){var M=b.V++,V=bs(b.J);if(Zt(V,"SID",b.M),Zt(V,"RID",M),Zt(V,"TYPE","terminate"),Ra(b,V),M=new xs(b,b.j,M),M.M=2,M.A=_o(bs(V)),V=!1,o.navigator&&o.navigator.sendBeacon)try{V=o.navigator.sendBeacon(M.A.toString(),"")}catch{}!V&&o.Image&&(new Image().src=M.A,V=!0),V||(M.g=A0(M.j,null),M.g.ea(M.A)),M.F=Date.now(),cu(M)}bu(b)}function Ji(b){b.g&&(xu(b),b.g.cancel(),b.g=null)}function Jd(b){Ji(b),b.v&&(o.clearTimeout(b.v),b.v=null),Zd(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&o.clearTimeout(b.m),b.m=null)}function To(b){if(!Lm(b.h)&&!b.m){b.m=!0;var M=b.Ea;P||N(),C||(P(),C=!0),E.add(M,b),b.D=0}}function E0(b,M){return du(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=M.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=Cl(d(b.Ea,b,M),th(b,b.D)),b.D++,!0)}t.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const se=new xs(this,this.j,b);let de=this.o;if(this.U&&(de?(de=W(de),ue(de,this.U)):de=this.U),this.u!==null||this.R||(se.J=de,de=null),this.S)e:{for(var M=0,V=0;V<this.i.length;V++){t:{var q=this.i[V];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(M+=q,M>4096){M=V;break e}if(M===4096||V===this.i.length-1){M=V+1;break e}}M=1e3}else M=1e3;M=Km(this,se,M),V=bs(this.J),Zt(V,"RID",b),Zt(V,"CVER",22),this.G&&Zt(V,"X-HTTP-Session-Id",this.G),Ra(this,V),de&&(this.R?M="headers="+Sa(N0(de))+"&"+M:this.u&&Yd(V,this.u,de)),Hd(this.h,se),this.Ra&&Zt(V,"TYPE","init"),this.S?(Zt(V,"$req",M),Zt(V,"SID","null"),se.U=!0,Ks(se,V,null)):Ks(se,V,M),this.I=2}}else this.I==3&&(b?vu(this,b):this.i.length==0||Lm(this.h)||vu(this))};function vu(b,M){var V;M?V=M.l:V=b.V++;const q=bs(b.J);Zt(q,"SID",b.M),Zt(q,"RID",V),Zt(q,"AID",b.K),Ra(b,q),b.u&&b.o&&Yd(q,b.u,b.o),V=new xs(b,b.j,V,b.D+1),b.u===null&&(V.J=b.o),M&&(b.i=M.G.concat(b.i)),M=Km(b,V,1e3),V.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),Hd(b.h,V),Ks(V,q,M)}function Ra(b,M){b.H&&Q(b.H,function(V,q){Zt(M,q,V)}),b.l&&Q({},function(V,q){Zt(M,q,V)})}function Km(b,M,V){V=Math.min(b.i.length,V);const q=b.l?d(b.l.Ka,b.l,b):null;e:{var se=b.i;let xt=-1;for(;;){const Yn=["count="+V];xt==-1?V>0?(xt=se[0].g,Yn.push("ofs="+xt)):xt=0:Yn.push("ofs="+xt);let cn=!0;for(let tr=0;tr<V;tr++){var de=se[tr].g;const es=se[tr].map;if(de-=xt,de<0)xt=Math.max(0,se[tr].g-100),cn=!1;else try{de="req"+de+"_"||"";try{var Me=es instanceof Map?es:Object.entries(es);for(const[Eo,Da]of Me){let La=Da;l(Da)&&(La=Pi(Da)),Yn.push(de+Eo+"="+encodeURIComponent(La))}}catch(Eo){throw Yn.push(de+"type="+encodeURIComponent("_badmap")),Eo}}catch{q&&q(es)}}if(cn){Me=Yn.join("&");break e}}Me=void 0}return b=b.i.splice(0,V),M.G=b,Me}function Yr(b){if(!b.g&&!b.v){b.Y=1;var M=b.Da;P||N(),C||(P(),C=!0),E.add(M,b),b.A=0}}function Ma(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=Cl(d(b.Da,b),th(b,b.A)),b.A++,!0)}t.Da=function(){if(this.v=null,$l(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=Cl(d(this.Wa,this),b)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qn(10),Ji(this),$l(this))};function xu(b){b.B!=null&&(o.clearTimeout(b.B),b.B=null)}function $l(b){b.g=new xs(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var M=bs(b.na);Zt(M,"RID","rpc"),Zt(M,"SID",b.M),Zt(M,"AID",b.K),Zt(M,"CI",b.F?"0":"1"),!b.F&&b.ia&&Zt(M,"TO",b.ia),Zt(M,"TYPE","xmlhttp"),Ra(b,M),b.u&&b.o&&Yd(M,b.u,b.o),b.O&&(b.g.H=b.O);var V=b.g;b=b.ba,V.M=1,V.A=_o(bs(M)),V.u=null,V.R=!0,Mm(V,b)}t.Va=function(){this.C!=null&&(this.C=null,Ji(this),Ma(this),qn(19))};function Zd(b){b.C!=null&&(o.clearTimeout(b.C),b.C=null)}function eh(b,M){var V=null;if(b.g==M){Zd(b),xu(b),b.g=null;var q=2}else if($m(b.h,M))V=M.G,hu(b.h,M),q=1;else return;if(b.I!=0){if(M.o)if(q==1){V=M.u?M.u.length:0,M=Date.now()-M.F;var se=b.D;q=Ir(),tn(q,new Om(q,V)),To(b)}else Yr(b);else if(se=M.m,se==3||se==0&&M.X>0||!(q==1&&E0(b,M)||q==2&&Ma(b)))switch(V&&V.length>0&&(M=b.h,M.i=M.i.concat(V)),se){case 1:Zi(b,5);break;case 4:Zi(b,10);break;case 3:Zi(b,6);break;default:Zi(b,2)}}}function th(b,M){let V=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(V*=2),V*M}function Zi(b,M){if(b.j.info("Error code "+M),M==2){var V=d(b.bb,b),q=b.Ua;const se=!q;q=new Ta(q||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||fu(q,"https"),_o(q),se?Ca(q.toString(),V):ka(q.toString(),V)}else qn(2);b.I=0,b.l&&b.l.pa(M),bu(b),Jd(b)}t.bb=function(b){b?(this.j.info("Successfully pinged google.com"),qn(2)):(this.j.info("Failed to ping google.com"),qn(1))};function bu(b){if(b.I=0,b.ja=[],b.l){const M=Yi(b.h);(M.length!=0||b.i.length!=0)&&(w(b.ja,M),w(b.ja,b.i),b.h.i.length=0,v(b.i),b.i.length=0),b.l.oa()}}function Ym(b,M,V){var q=V instanceof Ta?bs(V):new Ta(V);if(q.g!="")M&&(q.g=M+"."+q.g),Ea(q,q.u);else{var se=o.location;q=se.protocol,M=M?M+"."+se.hostname:se.hostname,se=+se.port;const de=new Ta(null);q&&fu(de,q),M&&(de.g=M),se&&Ea(de,se),V&&(de.h=V),q=de}return V=b.G,M=b.wa,V&&M&&Zt(q,V,M),Zt(q,"VER",b.ka),Ra(b,q),q}function A0(b,M,V){if(M&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return M=b.Aa&&!b.ma?new pn(new jo({ab:V})):new pn(b.ma),M.Fa(b.L),M}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function P0(){}t=P0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function nh(){}nh.prototype.g=function(b,M){return new Rr(b,M)};function Rr(b,M){Ot.call(this),this.g=new Qd(M),this.l=b,this.h=M&&M.messageUrlParams||null,b=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(b?b["X-WebChannel-Content-Type"]=M.messageContentType:b={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.sa&&(b?b["X-WebChannel-Client-Profile"]=M.sa:b={"X-WebChannel-Client-Profile":M.sa}),this.g.U=b,(b=M&&M.Qb)&&!F(b)&&(this.g.u=b),this.A=M&&M.supportsCrossDomainXhr||!1,this.v=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!F(M)&&(this.g.G=M,b=this.h,b!==null&&M in b&&(b=this.h,M in b&&delete b[M])),this.j=new Fl(this)}m(Rr,Ot),Rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rr.prototype.close=function(){Xd(this.g)},Rr.prototype.o=function(b){var M=this.g;if(typeof b=="string"){var V={};V.__data__=b,b=V}else this.v&&(V={},V.__data__=Pi(b),b=V);M.i.push(new p_(M.Ya++,b)),M.I==3&&To(M)},Rr.prototype.N=function(){this.g.l=null,delete this.j,Xd(this.g),delete this.g,Rr.Z.N.call(this)};function C0(b){gt.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var M=b.__sm__;if(M){e:{for(const V in M){b=V;break e}b=void 0}(this.i=b)&&(b=this.i,M=M!==null&&b in M?M[b]:void 0),this.data=M}else this.data=b}m(C0,gt);function k0(){jt.call(this),this.status=1}m(k0,jt);function Fl(b){this.g=b}m(Fl,P0),Fl.prototype.ra=function(){tn(this.g,"a")},Fl.prototype.qa=function(b){tn(this.g,new C0(b))},Fl.prototype.pa=function(b){tn(this.g,new k0)},Fl.prototype.oa=function(){tn(this.g,"b")},nh.prototype.createWebChannel=nh.prototype.g,Rr.prototype.send=Rr.prototype.o,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,w9=function(){return new nh},b9=function(){return Ir()},x9=_t,eA={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Il.NO_ERROR=0,Il.TIMEOUT=8,Il.HTTP_ERROR=6,fx=Il,Ol.COMPLETE="complete",v9=Ol,st.EventType=Be,Be.OPEN="a",Be.CLOSE="b",Be.ERROR="c",Be.MESSAGE="d",Ot.prototype.listen=Ot.prototype.J,Fp=st,pn.prototype.listenOnce=pn.prototype.K,pn.prototype.getLastError=pn.prototype.Ha,pn.prototype.getLastErrorCode=pn.prototype.ya,pn.prototype.getStatus=pn.prototype.ca,pn.prototype.getResponseJson=pn.prototype.La,pn.prototype.getResponseText=pn.prototype.la,pn.prototype.send=pn.prototype.ea,pn.prototype.setWithCredentials=pn.prototype.Fa,y9=pn}).apply(typeof Ev<"u"?Ev:typeof self<"u"?self:typeof window<"u"?window:{});const y5="@firebase/firestore",v5="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ni=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ni.UNAUTHENTICATED=new ni(null),ni.GOOGLE_CREDENTIALS=new ni("google-credentials-uid"),ni.FIRST_PARTY=new ni("first-party-uid"),ni.MOCK_USER=new ni("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new Cw("@firebase/firestore");function Rh(){return fd.logLevel}function Ve(t,...e){if(fd.logLevel<=Rt.DEBUG){const n=e.map(ok);fd.debug(`Firestore (${im}): ${t}`,...n)}}function sl(t,...e){if(fd.logLevel<=Rt.ERROR){const n=e.map(ok);fd.error(`Firestore (${im}): ${t}`,...n)}}function xf(t,...e){if(fd.logLevel<=Rt.WARN){const n=e.map(ok);fd.warn(`Firestore (${im}): ${t}`,...n)}}function ok(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_9(t,r,n)}function _9(t,e,n){let r=`FIRESTORE (${im}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw sl(r),new Error(r)}function ln(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||_9(e,i,r)}function bt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends zs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mse{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ni.UNAUTHENTICATED)))}shutdown(){}}class Dse{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Lse{constructor(e){this.t=e,this.currentUser=ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ln(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Xo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xo,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xo)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ln(typeof r.accessToken=="string",31837,{l:r}),new j9(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ln(e===null||typeof e=="string",2055,{h:e}),new ni(e)}}class $se{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ni.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Fse{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $se(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ni.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vse{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ls(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ln(this.o===void 0,3512);const r=s=>{s.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x5(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ln(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new x5(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bse(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Bse(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Mt(t,e){return t<e?-1:t>e?1:0}function tA(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Xj(i)===Xj(s)?Mt(i,s):Xj(i)?1:-1}return Mt(t.length,e.length)}const qse=55296,Use=57343;function Xj(t){const e=t.charCodeAt(0);return e>=qse&&e<=Use}function bf(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="__name__";class Ua{constructor(e,n,r){n===void 0?n=0:n>e.length&&ut(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ut(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ua.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ua?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ua.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Mt(e.length,n.length)}static compareSegments(e,n){const r=Ua.isNumericId(e),i=Ua.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ua.extractNumericId(e).compare(Ua.extractNumericId(n)):tA(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ec.fromString(e.substring(4,e.length-2))}}class wn extends Ua{construct(e,n,r){return new wn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new wn(n)}static emptyPath(){return new wn([])}}const zse=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ur extends Ua{construct(e,n,r){return new Ur(e,n,r)}static isValidIdentifier(e){return zse.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ur.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b5}static keyField(){return new Ur([b5])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Le(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Le(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Le(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Le(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ur(n)}static emptyPath(){return new Ur([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.path=e}static fromPath(e){return new tt(wn.fromString(e))}static fromName(e){return new tt(wn.fromString(e).popFirst(5))}static empty(){return new tt(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new wn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t,e,n){if(!n)throw new Le(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Wse(t,e,n,r){if(e===!0&&r===!0)throw new Le(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function w5(t){if(!tt.isDocumentKey(t))throw new Le(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _5(t){if(tt.isDocumentKey(t))throw new Le(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function S9(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Mw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ut(12329,{type:typeof t})}function ga(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mw(t);throw new Le(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,e){const n={typeString:t};return e&&(n.value=e),n}function My(t,e){if(!S9(t))throw new Le(xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Le(xe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=-62135596800,N5=1e6;class An{static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*N5);return new An(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Le(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<j5)throw new Le(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N5}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:An._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(My(e,An._jsonSchema))return new An(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j5;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}An._jsonSchemaVersion="firestore/timestamp/1.0",An._jsonSchema={type:or("string",An._jsonSchemaVersion),seconds:or("number"),nanoseconds:or("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new An(0,0))}static max(){return new yt(new An(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=-1;function Hse(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=yt.fromTimestamp(r===1e9?new An(n+1,0):new An(n,r));return new Oc(i,tt.empty(),e)}function Gse(t){return new Oc(t.readTime,t.key,jg)}class Oc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oc(yt.min(),tt.empty(),jg)}static max(){return new Oc(yt.max(),tt.empty(),jg)}}function Kse(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=tt.comparator(t.documentKey,e.documentKey),n!==0?n:Mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yse="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qse{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==Yse)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new we(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof we?n:we.resolve(n)}catch(n){return we.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):we.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):we.reject(n)}static resolve(e){return new we(((n,r)=>{n(e)}))}static reject(e){return new we(((n,r)=>{r(e)}))}static waitFor(e){return new we(((n,r)=>{let i=0,s=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++s,o&&s===i&&n()}),(c=>r(c)))})),o=!0,s===i&&n()}))}static or(e){let n=we.resolve(!1);for(const r of e)n=n.next((i=>i?we.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new we(((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next((f=>{o[d]=f,++l,l===s&&r(o)}),(f=>i(f)))}}))}static doWhile(e,n){return new we(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function Xse(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function am(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dw.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=-1;function Lw(t){return t==null}function Wx(t){return t===0&&1/t==-1/0}function Jse(t){return typeof t=="number"&&Number.isInteger(t)&&!Wx(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9="";function Zse(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=S5(e)),e=eae(t.get(n),e);return S5(e)}function eae(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case T9:n+="";break;default:n+=s}}return n}function S5(t){return t+T9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function E9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.comparator=e,this.root=n||Br.EMPTY}insert(e,n){return new Bn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new Bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Av(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Av(this.root,e,this.comparator,!1)}getReverseIterator(){return new Av(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Av(this.root,e,this.comparator,!0)}}class Av{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Br.RED,this.left=i??Br.EMPTY,this.right=s??Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Br(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Br.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ut(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ut(27949);return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1;Br.EMPTY=new class{constructor(){this.size=0}get key(){throw ut(57766)}get value(){throw ut(16141)}get color(){throw ut(16727)}get left(){throw ut(29726)}get right(){throw ut(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Br(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.comparator=e,this.data=new Bn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new E5(this.data.getIterator())}getIteratorFrom(e){return new E5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new yr(this.comparator);return n.data=e,n}}class E5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.fields=e,e.sort(Ur.comparator)}static empty(){return new us([])}unionWith(e){let n=new yr(Ur.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new us(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new A9("Invalid base64 string: "+s):s}})(e);return new Kr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new Kr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kr.EMPTY_BYTE_STRING=new Kr("");const tae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rc(t){if(ln(!!t,39018),typeof t=="string"){let e=0;const n=tae.exec(t);if(ln(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zn(t.seconds),nanos:Zn(t.nanos)}}function Zn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mc(t){return typeof t=="string"?Kr.fromBase64String(t):Kr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="server_timestamp",C9="__type__",k9="__previous_value__",I9="__local_write_time__";function uk(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[C9])==null?void 0:r.stringValue)===P9}function $w(t){const e=t.mapValue.fields[k9];return uk(e)?$w(e):e}function Ng(t){const e=Rc(t.mapValue.fields[I9].timestampValue);return new An(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(e,n,r,i,s,o,l,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f}}const Hx="(default)";class Sg{constructor(e,n){this.projectId=e,this.database=n||Hx}static empty(){return new Sg("","")}get isDefaultDatabase(){return this.database===Hx}isEqual(e){return e instanceof Sg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9="__type__",rae="__max__",Pv={mapValue:{}},R9="__vector__",Gx="value";function Dc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uk(t)?4:sae(t)?9007199254740991:iae(t)?10:11:ut(28295,{value:t})}function ao(t,e){if(t===e)return!0;const n=Dc(t);if(n!==Dc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ng(t).isEqual(Ng(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Rc(i.timestampValue),l=Rc(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Mc(i.bytesValue).isEqual(Mc(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Zn(i.geoPointValue.latitude)===Zn(s.geoPointValue.latitude)&&Zn(i.geoPointValue.longitude)===Zn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Zn(i.integerValue)===Zn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Zn(i.doubleValue),l=Zn(s.doubleValue);return o===l?Wx(o)===Wx(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return bf(t.arrayValue.values||[],e.arrayValue.values||[],ao);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(T5(o)!==T5(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ao(o[c],l[c])))return!1;return!0})(t,e);default:return ut(52216,{left:t})}}function Tg(t,e){return(t.values||[]).find((n=>ao(n,e)))!==void 0}function wf(t,e){if(t===e)return 0;const n=Dc(t),r=Dc(e);if(n!==r)return Mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const l=Zn(s.integerValue||s.doubleValue),c=Zn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return A5(t.timestampValue,e.timestampValue);case 4:return A5(Ng(t),Ng(e));case 5:return tA(t.stringValue,e.stringValue);case 6:return(function(s,o){const l=Mc(s),c=Mc(o);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const l=s.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=Mt(l[d],c[d]);if(f!==0)return f}return Mt(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const l=Mt(Zn(s.latitude),Zn(o.latitude));return l!==0?l:Mt(Zn(s.longitude),Zn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return P5(t.arrayValue,e.arrayValue);case 10:return(function(s,o){var p,v,w,x;const l=s.fields||{},c=o.fields||{},d=(p=l[Gx])==null?void 0:p.arrayValue,f=(v=c[Gx])==null?void 0:v.arrayValue,m=Mt(((w=d==null?void 0:d.values)==null?void 0:w.length)||0,((x=f==null?void 0:f.values)==null?void 0:x.length)||0);return m!==0?m:P5(d,f)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===Pv.mapValue&&o===Pv.mapValue)return 0;if(s===Pv.mapValue)return 1;if(o===Pv.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),d=o.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const p=tA(c[m],f[m]);if(p!==0)return p;const v=wf(l[c[m]],d[f[m]]);if(v!==0)return v}return Mt(c.length,f.length)})(t.mapValue,e.mapValue);default:throw ut(23264,{he:n})}}function A5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);const n=Rc(t),r=Rc(e),i=Mt(n.seconds,r.seconds);return i!==0?i:Mt(n.nanos,r.nanos)}function P5(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=wf(n[i],r[i]);if(s)return s}return Mt(n.length,r.length)}function _f(t){return nA(t)}function nA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Rc(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Mc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return tt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=nA(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${nA(n.fields[o])}`;return i+"}"})(t.mapValue):ut(61005,{value:t})}function mx(t){switch(Dc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$w(t);return e?16+mx(e):16;case 5:return 2*t.stringValue.length;case 6:return Mc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+mx(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Xc(r.fields,((s,o)=>{i+=s.length+mx(o)})),i})(t.mapValue);default:throw ut(13486,{value:t})}}function C5(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rA(t){return!!t&&"integerValue"in t}function dk(t){return!!t&&"arrayValue"in t}function k5(t){return!!t&&"nullValue"in t}function I5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function px(t){return!!t&&"mapValue"in t}function iae(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[O9])==null?void 0:r.stringValue)===R9}function Zp(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Zp(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zp(t.arrayValue.values[n]);return e}return{...t}}function sae(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rae}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.value=e}static empty(){return new Vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!px(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zp(n)}setAll(e){let n=Ur.emptyPath(),r={},i=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Zp(o):i.push(l.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());px(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ao(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];px(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xc(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Vi(Zp(this.value))}}function M9(t){const e=[];return Xc(t.fields,((n,r)=>{const i=new Ur([n]);if(px(r)){const s=M9(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new us(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new ri(e,0,yt.min(),yt.min(),yt.min(),Vi.empty(),0)}static newFoundDocument(e,n,r,i){return new ri(e,1,n,yt.min(),r,i,0)}static newNoDocument(e,n){return new ri(e,2,n,yt.min(),yt.min(),Vi.empty(),0)}static newUnknownDocument(e,n){return new ri(e,3,n,yt.min(),yt.min(),Vi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ri&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ri(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.position=e,this.inclusive=n}}function O5(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=tt.comparator(tt.fromName(o.referenceValue),n.key):r=wf(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function R5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ao(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n="asc"){this.field=e,this.dir=n}}function aae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{}class ar extends D9{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lae(e,n,r):n==="array-contains"?new dae(e,r):n==="in"?new hae(e,r):n==="not-in"?new fae(e,r):n==="array-contains-any"?new mae(e,r):new ar(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cae(e,r):new uae(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wf(n,this.value)):n!==null&&Dc(this.value)===Dc(n)&&this.matchesComparison(wf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ya extends D9{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ya(e,n)}matches(e){return L9(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L9(t){return t.op==="and"}function $9(t){return oae(t)&&L9(t)}function oae(t){for(const e of t.filters)if(e instanceof ya)return!1;return!0}function iA(t){if(t instanceof ar)return t.field.canonicalString()+t.op.toString()+_f(t.value);if($9(t))return t.filters.map((e=>iA(e))).join(",");{const e=t.filters.map((n=>iA(n))).join(",");return`${t.op}(${e})`}}function F9(t,e){return t instanceof ar?(function(r,i){return i instanceof ar&&r.op===i.op&&r.field.isEqual(i.field)&&ao(r.value,i.value)})(t,e):t instanceof ya?(function(r,i){return i instanceof ya&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,l)=>s&&F9(o,i.filters[l])),!0):!1})(t,e):void ut(19439)}function V9(t){return t instanceof ar?(function(n){return`${n.field.canonicalString()} ${n.op} ${_f(n.value)}`})(t):t instanceof ya?(function(n){return n.op.toString()+" {"+n.getFilters().map(V9).join(" ,")+"}"})(t):"Filter"}class lae extends ar{constructor(e,n,r){super(e,n,r),this.key=tt.fromName(r.referenceValue)}matches(e){const n=tt.comparator(e.key,this.key);return this.matchesComparison(n)}}class cae extends ar{constructor(e,n){super(e,"in",n),this.keys=B9("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class uae extends ar{constructor(e,n){super(e,"not-in",n),this.keys=B9("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function B9(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>tt.fromName(r.referenceValue)))}class dae extends ar{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dk(n)&&Tg(n.arrayValue,this.value)}}class hae extends ar{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tg(this.value.arrayValue,n)}}class fae extends ar{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tg(this.value.arrayValue,n)}}class mae extends ar{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Tg(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pae{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function M5(t,e=null,n=[],r=[],i=null,s=null,o=null){return new pae(t,e,n,r,i,s,o)}function hk(t){const e=bt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>iA(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Lw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>_f(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>_f(r))).join(",")),e.Te=n}return e.Te}function fk(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!F9(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!R5(t.startAt,e.startAt)&&R5(t.endAt,e.endAt)}function sA(t){return tt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gae(t,e,n,r,i,s,o,l){return new Dy(t,e,n,r,i,s,o,l)}function mk(t){return new Dy(t)}function D5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function q9(t){return t.collectionGroup!==null}function eg(t){const e=bt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new yr(Ur.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Yx(s,r))})),n.has(Ur.keyField().canonicalString())||e.Ie.push(new Yx(Ur.keyField(),r))}return e.Ie}function Xa(t){const e=bt(t);return e.Ee||(e.Ee=yae(e,eg(t))),e.Ee}function yae(t,e){if(t.limitType==="F")return M5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Yx(i.field,s)}));const n=t.endAt?new Kx(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kx(t.startAt.position,t.startAt.inclusive):null;return M5(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function aA(t,e){const n=t.filters.concat([e]);return new Dy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function oA(t,e,n){return new Dy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fw(t,e){return fk(Xa(t),Xa(e))&&t.limitType===e.limitType}function U9(t){return`${hk(Xa(t))}|lt:${t.limitType}`}function Mh(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>V9(i))).join(", ")}]`),Lw(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>_f(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>_f(i))).join(",")),`Target(${r})`})(Xa(t))}; limitType=${t.limitType})`}function Vw(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):tt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of eg(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,l,c){const d=O5(o,l,c);return o.inclusive?d<=0:d<0})(r.startAt,eg(r),i)||r.endAt&&!(function(o,l,c){const d=O5(o,l,c);return o.inclusive?d>=0:d>0})(r.endAt,eg(r),i))})(t,e)}function vae(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function z9(t){return(e,n)=>{let r=!1;for(const i of eg(t)){const s=xae(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function xae(t,e,n){const r=t.field.isKeyField()?tt.comparator(e.key,n.key):(function(s,o,l){const c=o.data.field(s),d=l.data.field(s);return c!==null&&d!==null?wf(c,d):ut(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ut(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xc(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return E9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bae=new Bn(tt.comparator);function al(){return bae}const W9=new Bn(tt.comparator);function Vp(...t){let e=W9;for(const n of t)e=e.insert(n.key,n);return e}function H9(t){let e=W9;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Wu(){return tg()}function G9(){return tg()}function tg(){return new Od((t=>t.toString()),((t,e)=>t.isEqual(e)))}const wae=new Bn(tt.comparator),_ae=new yr(tt.comparator);function Lt(...t){let e=_ae;for(const n of t)e=e.add(n);return e}const jae=new yr(Mt);function Nae(){return jae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wx(e)?"-0":e}}function K9(t){return{integerValue:""+t}}function Sae(t,e){return Jse(e)?K9(e):pk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this._=void 0}}function Tae(t,e,n){return t instanceof Eg?(function(i,s){const o={fields:{[C9]:{stringValue:P9},[I9]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&uk(s)&&(s=$w(s)),s&&(o.fields[k9]=s),{mapValue:o}})(n,e):t instanceof Ag?Q9(t,e):t instanceof Pg?X9(t,e):(function(i,s){const o=Y9(i,s),l=L5(o)+L5(i.Ae);return rA(o)&&rA(i.Ae)?K9(l):pk(i.serializer,l)})(t,e)}function Eae(t,e,n){return t instanceof Ag?Q9(t,e):t instanceof Pg?X9(t,e):n}function Y9(t,e){return t instanceof Qx?(function(r){return rA(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Eg extends Bw{}class Ag extends Bw{constructor(e){super(),this.elements=e}}function Q9(t,e){const n=J9(e);for(const r of t.elements)n.some((i=>ao(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Pg extends Bw{constructor(e){super(),this.elements=e}}function X9(t,e){let n=J9(e);for(const r of t.elements)n=n.filter((i=>!ao(i,r)));return{arrayValue:{values:n}}}class Qx extends Bw{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function L5(t){return Zn(t.integerValue||t.doubleValue)}function J9(t){return dk(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aae{constructor(e,n){this.field=e,this.transform=n}}function Pae(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Ag&&i instanceof Ag||r instanceof Pg&&i instanceof Pg?bf(r.elements,i.elements,ao):r instanceof Qx&&i instanceof Qx?ao(r.Ae,i.Ae):r instanceof Eg&&i instanceof Eg})(t.transform,e.transform)}class Cae{constructor(e,n){this.version=e,this.transformResults=n}}class Ls{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ls}static exists(e){return new Ls(void 0,e)}static updateTime(e){return new Ls(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gx(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qw{}function Z9(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gk(t.key,Ls.none()):new Ly(t.key,t.data,Ls.none());{const n=t.data,r=Vi.empty();let i=new yr(Ur.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Jc(t.key,r,new us(i.toArray()),Ls.none())}}function kae(t,e,n){t instanceof Ly?(function(i,s,o){const l=i.value.clone(),c=F5(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Jc?(function(i,s,o){if(!gx(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=F5(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(e7(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function ng(t,e,n,r){return t instanceof Ly?(function(s,o,l,c){if(!gx(s.precondition,o))return l;const d=s.value.clone(),f=V5(s.fieldTransforms,c,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Jc?(function(s,o,l,c){if(!gx(s.precondition,o))return l;const d=V5(s.fieldTransforms,c,o),f=o.data;return f.setAll(e7(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,o,l){return gx(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function Iae(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Y9(r.transform,i||null);s!=null&&(n===null&&(n=Vi.empty()),n.set(r.field,s))}return n||null}function $5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bf(r,i,((s,o)=>Pae(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ly extends qw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Jc extends qw{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function e7(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function F5(t,e,n){const r=new Map;ln(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,Eae(o,l,n[i]))}return r}function V5(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Tae(s,o,e))}return r}class gk extends qw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Oae extends qw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&kae(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ng(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ng(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=G9();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=Z9(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Lt())}isEqual(e){return this.batchId===e.batchId&&bf(this.mutations,e.mutations,((n,r)=>$5(n,r)))&&bf(this.baseMutations,e.baseMutations,((n,r)=>$5(n,r)))}}class yk{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ln(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return wae})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new yk(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mae{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dae{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr,qt;function Lae(t){switch(t){case xe.OK:return ut(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return ut(15467,{code:t})}}function t7(t){if(t===void 0)return sl("GRPC error has no .code"),xe.UNKNOWN;switch(t){case rr.OK:return xe.OK;case rr.CANCELLED:return xe.CANCELLED;case rr.UNKNOWN:return xe.UNKNOWN;case rr.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case rr.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case rr.INTERNAL:return xe.INTERNAL;case rr.UNAVAILABLE:return xe.UNAVAILABLE;case rr.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case rr.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case rr.NOT_FOUND:return xe.NOT_FOUND;case rr.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case rr.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case rr.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case rr.ABORTED:return xe.ABORTED;case rr.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case rr.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case rr.DATA_LOSS:return xe.DATA_LOSS;default:return ut(39323,{code:t})}}(qt=rr||(rr={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ae(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fae=new Ec([4294967295,4294967295],0);function B5(t){const e=$ae().encode(t),n=new g9;return n.update(e),new Uint8Array(n.digest())}function q5(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ec([n,r],0),new Ec([i,s],0)]}class vk{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bp(`Invalid padding: ${n}`);if(r<0)throw new Bp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bp(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bp(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ec.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ec.fromNumber(r)));return i.compare(Fae)===1&&(i=new Ec([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=B5(e),[r,i]=q5(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new vk(s,i,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=B5(e),[r,i]=q5(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$y.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uw(yt.min(),i,new Bn(Mt),al(),Lt())}}class $y{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $y(r,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class n7{constructor(e,n){this.targetId=e,this.Ce=n}}class r7{constructor(e,n,r=Kr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class U5{constructor(){this.ve=0,this.Fe=z5(),this.Me=Kr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lt(),n=Lt(),r=Lt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ut(38017,{changeType:s})}})),new $y(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=z5()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ln(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Vae{constructor(e){this.Ge=e,this.ze=new Map,this.je=al(),this.Je=Cv(),this.He=Cv(),this.Ye=new Bn(Mt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ut(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(sA(s))if(r===0){const o=new tt(s.path);this.et(n,o,ri.newNoDocument(o,yt.min()))}else ln(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Mc(r).toUint8Array()}catch(c){if(c instanceof A9)return xf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new vk(o,i,s)}catch(c){return xf(c instanceof Bp?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,o)=>{const l=this.ot(o);if(l){if(s.current&&sA(l.target)){const c=new tt(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,ri.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.qe())}}));let r=Lt();this.He.forEach(((s,o)=>{let l=!0;o.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new Uw(e,n,this.Ye,this.je,r);return this.je=al(),this.Je=Cv(),this.He=Cv(),this.Ye=new Bn(Mt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new U5,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new yr(Mt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new yr(Mt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new U5),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Cv(){return new Bn(tt.comparator)}function z5(){return new Bn(tt.comparator)}const Bae={asc:"ASCENDING",desc:"DESCENDING"},qae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uae={and:"AND",or:"OR"};class zae{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lA(t,e){return t.useProto3Json||Lw(e)?e:{value:e}}function Xx(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Wae(t,e){return Xx(t,e.toTimestamp())}function Ja(t){return ln(!!t,49232),yt.fromTimestamp((function(n){const r=Rc(n);return new An(r.seconds,r.nanos)})(t))}function xk(t,e){return cA(t,e).canonicalString()}function cA(t,e){const n=(function(i){return new wn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function s7(t){const e=wn.fromString(t);return ln(u7(e),10190,{key:e.toString()}),e}function uA(t,e){return xk(t.databaseId,e.path)}function Jj(t,e){const n=s7(e);if(n.get(1)!==t.databaseId.projectId)throw new Le(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Le(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new tt(o7(n))}function a7(t,e){return xk(t.databaseId,e)}function Hae(t){const e=s7(t);return e.length===4?wn.emptyPath():o7(e)}function dA(t){return new wn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function o7(t){return ln(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function W5(t,e,n){return{name:uA(t,e),fields:n.value.mapValue.fields}}function Gae(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ut(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(ln(f===void 0||typeof f=="string",58123),Kr.fromBase64String(f||"")):(ln(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Kr.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const f=d.code===void 0?xe.UNKNOWN:t7(d.code);return new Le(f,d.message||"")})(o);n=new r7(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jj(t,r.document.name),s=Ja(r.document.updateTime),o=r.document.createTime?Ja(r.document.createTime):yt.min(),l=new Vi({mapValue:{fields:r.document.fields}}),c=ri.newFoundDocument(i,s,o,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new yx(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Jj(t,r.document),s=r.readTime?Ja(r.readTime):yt.min(),o=ri.newNoDocument(i,s),l=r.removedTargetIds||[];n=new yx([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Jj(t,r.document),s=r.removedTargetIds||[];n=new yx([],s,i,null)}else{if(!("filter"in e))return ut(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Dae(i,s),l=r.targetId;n=new n7(l,o)}}return n}function Kae(t,e){let n;if(e instanceof Ly)n={update:W5(t,e.key,e.value)};else if(e instanceof gk)n={delete:uA(t,e.key)};else if(e instanceof Jc)n={update:W5(t,e.key,e.data),updateMask:roe(e.fieldMask)};else{if(!(e instanceof Oae))return ut(16599,{Vt:e.type});n={verify:uA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const l=o.transform;if(l instanceof Eg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ag)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Pg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Qx)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ut(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Wae(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ut(27497)})(t,e.precondition)),n}function Yae(t,e){return t&&t.length>0?(ln(e!==void 0,14353),t.map((n=>(function(i,s){let o=i.updateTime?Ja(i.updateTime):Ja(s);return o.isEqual(yt.min())&&(o=Ja(s)),new Cae(o,i.transformResults||[])})(n,e)))):[]}function Qae(t,e){return{documents:[a7(t,e.path)]}}function Xae(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=a7(t,i);const s=(function(d){if(d.length!==0)return c7(ya.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const o=(function(d){if(d.length!==0)return d.map((f=>(function(p){return{field:Dh(p.field),direction:eoe(p.dir)}})(f)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=lA(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function Jae(t){let e=Hae(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ln(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=(function(m){const p=l7(m);return p instanceof ya&&$9(p)?p.getFilters():[p]})(n.where));let o=[];n.orderBy&&(o=(function(m){return m.map((p=>(function(w){return new Yx(Lh(w.field),(function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(p)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let p;return p=typeof m=="object"?m.value:m,Lw(p)?null:p})(n.limit));let c=null;n.startAt&&(c=(function(m){const p=!!m.before,v=m.values||[];return new Kx(v,p)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const p=!m.before,v=m.values||[];return new Kx(v,p)})(n.endAt)),gae(e,i,o,s,l,"F",c,d)}function Zae(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function l7(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lh(n.unaryFilter.field);return ar.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lh(n.unaryFilter.field);return ar.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Lh(n.unaryFilter.field);return ar.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Lh(n.unaryFilter.field);return ar.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ut(61313);default:return ut(60726)}})(t):t.fieldFilter!==void 0?(function(n){return ar.create(Lh(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ut(58110);default:return ut(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ya.create(n.compositeFilter.filters.map((r=>l7(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ut(1026)}})(n.compositeFilter.op))})(t):ut(30097,{filter:t})}function eoe(t){return Bae[t]}function toe(t){return qae[t]}function noe(t){return Uae[t]}function Dh(t){return{fieldPath:t.canonicalString()}}function Lh(t){return Ur.fromServerFormat(t.fieldPath)}function c7(t){return t instanceof ar?(function(n){if(n.op==="=="){if(I5(n.value))return{unaryFilter:{field:Dh(n.field),op:"IS_NAN"}};if(k5(n.value))return{unaryFilter:{field:Dh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(I5(n.value))return{unaryFilter:{field:Dh(n.field),op:"IS_NOT_NAN"}};if(k5(n.value))return{unaryFilter:{field:Dh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dh(n.field),op:toe(n.op),value:n.value}}})(t):t instanceof ya?(function(n){const r=n.getFilters().map((i=>c7(i)));return r.length===1?r[0]:{compositeFilter:{op:noe(n.op),filters:r}}})(t):ut(54877,{filter:t})}function roe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function u7(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,r,i,s=yt.min(),o=yt.min(),l=Kr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new _c(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _c(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ioe{constructor(e){this.yt=e}}function soe(t){const e=Jae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?oA(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aoe{constructor(){this.Cn=new ooe}addToCollectionParentIndex(e,n){return this.Cn.add(n),we.resolve()}getCollectionParents(e,n){return we.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return we.resolve()}deleteFieldIndex(e,n){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,n){return we.resolve()}getDocumentsMatchingTarget(e,n){return we.resolve(null)}getIndexType(e,n){return we.resolve(0)}getFieldIndexes(e,n){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,n){return we.resolve(Oc.min())}getMinOffsetFromCollectionGroup(e,n){return we.resolve(Oc.min())}updateCollectionGroup(e,n,r){return we.resolve()}updateIndexEntries(e,n){return we.resolve()}}class ooe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yr(wn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yr(wn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d7=41943040;class Fi{static withCacheSize(e){return new Fi(e,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi.DEFAULT_COLLECTION_PERCENTILE=10,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fi.DEFAULT=new Fi(d7,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fi.DISABLED=new Fi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jf(0)}static cr(){return new jf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="LruGarbageCollector",loe=1048576;function K5([t,e],[n,r]){const i=Mt(t,n);return i===0?Mt(e,r):i}class coe{constructor(e){this.Ir=e,this.buffer=new yr(K5),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();K5(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uoe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ve(G5,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){am(n)?Ve(G5,"Ignoring IndexedDB error during garbage collection: ",n):await sm(n)}await this.Vr(3e5)}))}}class doe{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return we.resolve(Dw.ce);const r=new coe(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(H5)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H5):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,l,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,l=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),Rh()<=Rt.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function hoe(t,e){return new doe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class foe{constructor(){this.changes=new Od((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ri.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?we.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class moe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&ng(r.mutation,i,us.empty(),An.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Lt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Lt()){const i=Wu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let o=Vp();return s.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Wu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Lt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,i){let s=al();const o=tg(),l=(function(){return tg()})();return n.forEach(((c,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Jc)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),ng(f.mutation,d,f.mutation.getFieldMask(),An.now())):o.set(d.key,us.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((d,f)=>o.set(d,f))),n.forEach(((d,f)=>l.set(d,new moe(f,o.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=tg();let i=new Bn(((o,l)=>o-l)),s=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||us.empty();f=l.applyToLocalView(d,f),r.set(c,f);const m=(i.get(l.batchId)||Lt()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,m=G9();f.forEach((p=>{if(!s.has(p)){const v=Z9(n.get(p),r.get(p));v!==null&&m.set(p,v),s=s.add(p)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return we.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return tt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):we.resolve(Wu());let l=jg,c=s;return o.next((d=>we.forEach(d,((f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?we.resolve():this.remoteDocumentCache.getEntry(e,f).next((p=>{c=c.insert(f,p)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,c,d,Lt()))).next((f=>({batchId:l,changes:H9(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new tt(n)).next((r=>{let i=Vp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Vp();return this.indexManager.getCollectionParents(e,s).next((l=>we.forEach(l,(c=>{const d=(function(m,p){return new Dy(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((f=>{f.forEach(((m,p)=>{o=o.insert(m,p)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((o=>{s.forEach(((c,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,ri.newInvalidDocument(f)))}));let l=Vp();return o.forEach(((c,d)=>{const f=s.get(c);f!==void 0&&ng(f.mutation,d,us.empty(),An.now()),Vw(n,d)&&(l=l.insert(c,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class goe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return we.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ja(i.createTime)}})(n)),we.resolve()}getNamedQuery(e,n){return we.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:soe(i.bundledQuery),readTime:Ja(i.readTime)}})(n)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yoe{constructor(){this.overlays=new Bn(tt.comparator),this.qr=new Map}getOverlay(e,n){return we.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wu();return we.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),we.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),we.resolve()}getOverlaysForCollection(e,n,r){const i=Wu(),s=n.length+1,o=new tt(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return we.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Bn(((d,f)=>d-f));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Wu(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Wu(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=i)););return we.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Mae(n,r));let s=this.qr.get(n);s===void 0&&(s=Lt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class voe{constructor(){this.sessionToken=Kr.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.Qr=new yr(Sr.$r),this.Ur=new yr(Sr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Sr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Sr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new tt(new wn([])),r=new Sr(n,e),i=new Sr(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new tt(new wn([])),r=new Sr(n,e),i=new Sr(n,e+1);let s=Lt();return this.Ur.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const n=new Sr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Sr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return tt.comparator(e.key,n.key)||Mt(e.Yr,n.Yr)}static Kr(e,n){return Mt(e.Yr,n.Yr)||tt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yr(Sr.$r)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Rae(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new Sr(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return we.resolve(o)}lookupMutationBatch(e,n){return we.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return we.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?ck:this.tr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Sr(n,0),i=new Sr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(o=>{const l=this.Xr(o.Yr);s.push(l)})),we.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yr(Mt);return n.forEach((i=>{const s=new Sr(i,0),o=new Sr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(l=>{r=r.add(l.Yr)}))})),we.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;tt.isDocumentKey(s)||(s=s.child(""));const o=new Sr(new tt(s),0);let l=new yr(Mt);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Yr)),!0)}),o),we.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ln(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return we.forEach(n.mutations,(i=>{const s=new Sr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Sr(n,0),i=this.Zr.firstAfterOrEqual(r);return we.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class boe{constructor(e){this.ri=e,this.docs=(function(){return new Bn(tt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return we.resolve(r?r.document.mutableCopy():ri.newInvalidDocument(n))}getEntries(e,n){let r=al();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ri.newInvalidDocument(i))})),we.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=al();const o=n.path,l=new tt(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Kse(Gse(f),r)<=0||(i.has(f.key)||Vw(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return we.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ut(9500)}ii(e,n){return we.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new woe(this)}getSize(e){return we.resolve(this.size)}}class woe extends foe{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),we.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{constructor(e){this.persistence=e,this.si=new Od((n=>hk(n)),fk),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new bk,this.targetCount=0,this.ai=jf.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),we.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new jf(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,we.resolve()}updateTargetData(e,n){return this.Pr(n),we.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),we.waitFor(s).next((()=>i))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return we.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),we.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),we.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),we.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return we.resolve(r)}containsKey(e,n){return we.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dw(0),this.li=!1,this.li=!0,this.hi=new voe,this.referenceDelegate=e(this),this.Pi=new _oe(this),this.indexManager=new aoe,this.remoteDocumentCache=(function(i){return new boe(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ioe(n),this.Ii=new goe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yoe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new xoe(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ve("MemoryPersistence","Starting transaction:",e);const i=new joe(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return we.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class joe extends Qse{constructor(e){super(),this.currentSequenceNumber=e}}class wk{constructor(e){this.persistence=e,this.Ri=new bk,this.Vi=null}static mi(e){return new wk(e)}get fi(){if(this.Vi)return this.Vi;throw ut(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),we.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),we.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.fi,(r=>{const i=tt.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,yt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return we.or([()=>we.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Jx{constructor(e,n){this.persistence=e,this.pi=new Od((r=>Zse(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=hoe(this,n)}static mi(e,n){return new Jx(e,n)}Ei(){}di(e){return we.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return we.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?we.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((l=>{l||(r++,s.removeEntry(o,yt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),we.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),we.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),we.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mx(e.data.value)),n}br(e,n,r){return we.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return we.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Lt(),i=Lt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _k(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Soe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Jte()?8:Xse(di())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new Noe;return this.Ss(e,n,o).next((l=>{if(s.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Rh()<=Rt.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",Mh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),we.resolve()):(Rh()<=Rt.DEBUG&&Ve("QueryEngine","Query:",Mh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Rh()<=Rt.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",Mh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xa(n))):we.resolve())}ys(e,n){if(D5(n))return we.resolve(null);let r=Xa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=oA(n,null,"F"),r=Xa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=Lt(...s);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.Ds(n,l);return this.Cs(n,d,o,c.readTime)?this.ys(e,oA(n,null,"F")):this.vs(e,d,n,c)}))))})))))}ws(e,n,r,i){return D5(n)||i.isEqual(yt.min())?we.resolve(null):this.ps.getDocuments(e,r).next((s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?we.resolve(null):(Rh()<=Rt.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mh(n)),this.vs(e,o,n,Hse(i,jg)).next((l=>l)))}))}Ds(e,n){let r=new yr(z9(e));return n.forEach(((i,s)=>{Vw(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Rh()<=Rt.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Mh(n)),this.ps.getDocumentsMatchingQuery(e,n,Oc.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="LocalStore",Toe=3e8;class Eoe{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Bn(Mt),this.xs=new Od((s=>hk(s)),fk),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new poe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Aoe(t,e,n,r){return new Eoe(t,e,n,r)}async function f7(t,e){const n=bt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],l=[];let c=Lt();for(const d of i){o.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:l})))}))}))}function Poe(t,e){const n=bt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,f){const m=d.batch,p=m.keys();let v=we.resolve();return p.forEach((w=>{v=v.next((()=>f.getEntry(c,w))).next((x=>{const g=d.docVersions.get(w);ln(g!==null,48541),x.version.compareTo(g)<0&&(m.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),f.addEntry(x)))}))})),v.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=Lt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function m7(t){const e=bt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Coe(t,e){const n=bt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((f,m)=>{const p=i.get(m);if(!p)return;l.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(s,f.addedDocuments,m))));let v=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(Kr.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(m,v),(function(x,g,_){return x.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=Toe?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(p,v,f)&&l.push(n.Pi.updateTargetData(s,v))}));let c=al(),d=Lt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))})),l.push(koe(s,o,e.documentUpdates).next((f=>{c=f.ks,d=f.qs}))),!r.isEqual(yt.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next((m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));l.push(f)}return we.waitFor(l).next((()=>o.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,c,d))).next((()=>c))})).then((s=>(n.Ms=i,s)))}function koe(t,e,n){let r=Lt(),i=Lt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let o=al();return n.forEach(((l,c)=>{const d=s.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(yt.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Ve(jk,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{ks:o,qs:i}}))}function Ioe(t,e){const n=bt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ck),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Ooe(t,e){const n=bt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,we.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new _c(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function hA(t,e,n){const r=bt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!am(o))throw o;Ve(jk,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Y5(t,e,n){const r=bt(t);let i=yt.min(),s=Lt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,d,f){const m=bt(c),p=m.xs.get(f);return p!==void 0?we.resolve(m.Ms.get(p)):m.Pi.getTargetData(d,f)})(r,o,Xa(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{s=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:yt.min(),n?s:Lt()))).next((l=>(Roe(r,vae(e),l),{documents:l,Qs:s})))))}function Roe(t,e,n){let r=t.Os.get(e)||yt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class Q5{constructor(){this.activeTargetIds=Nae()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Moe{constructor(){this.Mo=new Q5,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Q5,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="ConnectivityMonitor";class J5{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ve(X5,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ve(X5,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kv=null;function fA(){return kv===null?kv=(function(){return 268435456+Math.round(2147483648*Math.random())})():kv++,"0x"+kv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj="RestConnection",Loe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $oe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Hx?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=fA(),l=this.zo(e,n.toUriEncodedString());Ve(Zj,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:d}=new URL(l),f=Cd(d);return this.Jo(e,l,c,r,f).then((m=>(Ve(Zj,`Received RPC '${e}' ${o}: `,m),m)),(m=>{throw xf(Zj,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",r),m}))}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+im})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=Loe[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="WebChannelConnection";class Voe extends $oe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=fA();return new Promise(((l,c)=>{const d=new y9;d.setWithCredentials(!0),d.listenOnce(v9.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case fx.NO_ERROR:const m=d.getResponseJson();Ve(ei,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case fx.TIMEOUT:Ve(ei,`RPC '${e}' ${o} timed out`),c(new Le(xe.DEADLINE_EXCEEDED,"Request time out"));break;case fx.HTTP_ERROR:const p=d.getStatus();if(Ve(ei,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v==null?void 0:v.error;if(w&&w.status&&w.message){const x=(function(_){const T=_.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(T)>=0?T:xe.UNKNOWN})(w.status);c(new Le(x,w.message))}else c(new Le(xe.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Le(xe.UNAVAILABLE,"Connection failed."));break;default:ut(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ve(ei,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);Ve(ei,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=fA(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=w9(),l=b9(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");Ve(ei,`Creating RPC '${e}' stream ${i}: ${f}`,c);const m=o.createWebChannel(f,c);this.I_(m);let p=!1,v=!1;const w=new Foe({Yo:g=>{v?Ve(ei,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(p||(Ve(ei,`Opening RPC '${e}' stream ${i} transport.`),m.open(),p=!0),Ve(ei,`RPC '${e}' stream ${i} sending:`,g),m.send(g))},Zo:()=>m.close()}),x=(g,_,T)=>{g.listen(_,(A=>{try{T(A)}catch(I){setTimeout((()=>{throw I}),0)}}))};return x(m,Fp.EventType.OPEN,(()=>{v||(Ve(ei,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),x(m,Fp.EventType.CLOSE,(()=>{v||(v=!0,Ve(ei,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(m))})),x(m,Fp.EventType.ERROR,(g=>{v||(v=!0,xf(ei,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),w.a_(new Le(xe.UNAVAILABLE,"The operation could not be completed")))})),x(m,Fp.EventType.MESSAGE,(g=>{var _;if(!v){const T=g.data[0];ln(!!T,16349);const A=T,I=(A==null?void 0:A.error)||((_=A[0])==null?void 0:_.error);if(I){Ve(ei,`RPC '${e}' stream ${i} received error:`,I);const P=I.status;let C=(function(O){const D=rr[O];if(D!==void 0)return t7(D)})(P),E=I.message;C===void 0&&(C=xe.INTERNAL,E="Unknown error status: "+P+" with message "+I.message),v=!0,w.a_(new Le(C,E)),m.close()}else Ve(ei,`RPC '${e}' stream ${i} received:`,T),w.u_(T)}})),x(l,x9.STAT_EVENT,(g=>{g.stat===eA.PROXY?Ve(ei,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===eA.NOPROXY&&Ve(ei,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function eN(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t){return new zae(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5="PersistentStream";class g7{constructor(e,n,r,i,s,o,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new p7(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(sl(n.toString()),sl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Le(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ve(Z5,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ve(Z5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Boe extends g7{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Gae(this.serializer,e),r=(function(s){if(!("targetChange"in s))return yt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?yt.min():o.readTime?Ja(o.readTime):yt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=dA(this.serializer),n.addTarget=(function(s,o){let l;const c=o.target;if(l=sA(c)?{documents:Qae(s,c)}:{query:Xae(s,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=i7(s,o.resumeToken);const d=lA(s,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(yt.min())>0){l.readTime=Xx(s,o.snapshotVersion.toTimestamp());const d=lA(s,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=Zae(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=dA(this.serializer),n.removeTarget=e,this.q_(n)}}class qoe extends g7{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ln(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ln(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ln(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Yae(e.writeResults,e.commitTime),r=Ja(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=dA(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Kae(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uoe{}class zoe extends Uoe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Le(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,cA(n,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(xe.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,cA(n,r),i,o,l,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(xe.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Woe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sl(n),this.aa=!1):Ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="RemoteStore";class Hoe{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Rd(this)&&(Ve(md,"Restarting streams for network reachability change."),await(async function(c){const d=bt(c);d.Ea.add(4),await Fy(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Ww(d)})(this))}))})),this.Ra=new Woe(r,i)}}async function Ww(t){if(Rd(t))for(const e of t.da)await e(!0)}async function Fy(t){for(const e of t.da)await e(!1)}function y7(t,e){const n=bt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ek(n)?Tk(n):om(n).O_()&&Sk(n,e))}function Nk(t,e){const n=bt(t),r=om(n);n.Ia.delete(e),r.O_()&&v7(n,e),n.Ia.size===0&&(r.O_()?r.L_():Rd(n)&&n.Ra.set("Unknown"))}function Sk(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}om(t).Y_(e)}function v7(t,e){t.Va.Ue(e),om(t).Z_(e)}function Tk(t){t.Va=new Vae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),om(t).start(),t.Ra.ua()}function Ek(t){return Rd(t)&&!om(t).x_()&&t.Ia.size>0}function Rd(t){return bt(t).Ea.size===0}function x7(t){t.Va=void 0}async function Goe(t){t.Ra.set("Online")}async function Koe(t){t.Ia.forEach(((e,n)=>{Sk(t,e)}))}async function Yoe(t,e){x7(t),Ek(t)?(t.Ra.ha(e),Tk(t)):t.Ra.set("Unknown")}async function Qoe(t,e,n){if(t.Ra.set("Online"),e instanceof r7&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){Ve(md,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zx(t,r)}else if(e instanceof yx?t.Va.Ze(e):e instanceof n7?t.Va.st(e):t.Va.tt(e),!n.isEqual(yt.min()))try{const r=await m7(t.localStore);n.compareTo(r)>=0&&await(function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,d)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(Kr.EMPTY_BYTE_STRING,f.snapshotVersion)),v7(s,c);const m=new _c(f.target,c,d,f.sequenceNumber);Sk(s,m)})),s.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Ve(md,"Failed to raise snapshot:",r),await Zx(t,r)}}async function Zx(t,e,n){if(!am(e))throw e;t.Ea.add(1),await Fy(t),t.Ra.set("Offline"),n||(n=()=>m7(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ve(md,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ww(t)}))}function b7(t,e){return e().catch((n=>Zx(t,n,e)))}async function Hw(t){const e=bt(t),n=Lc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ck;for(;Xoe(e);)try{const i=await Ioe(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Joe(e,i)}catch(i){await Zx(e,i)}w7(e)&&_7(e)}function Xoe(t){return Rd(t)&&t.Ta.length<10}function Joe(t,e){t.Ta.push(e);const n=Lc(t);n.O_()&&n.X_&&n.ea(e.mutations)}function w7(t){return Rd(t)&&!Lc(t).x_()&&t.Ta.length>0}function _7(t){Lc(t).start()}async function Zoe(t){Lc(t).ra()}async function ele(t){const e=Lc(t);for(const n of t.Ta)e.ea(n.mutations)}async function tle(t,e,n){const r=t.Ta.shift(),i=yk.from(r,e,n);await b7(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Hw(t)}async function nle(t,e){e&&Lc(t).X_&&await(async function(r,i){if((function(o){return Lae(o)&&o!==xe.ABORTED})(i.code)){const s=r.Ta.shift();Lc(r).B_(),await b7(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Hw(r)}})(t,e),w7(t)&&_7(t)}async function e3(t,e){const n=bt(t);n.asyncQueue.verifyOperationInProgress(),Ve(md,"RemoteStore received new credentials");const r=Rd(n);n.Ea.add(3),await Fy(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ww(n)}async function rle(t,e){const n=bt(t);e?(n.Ea.delete(2),await Ww(n)):e||(n.Ea.add(2),await Fy(n),n.Ra.set("Unknown"))}function om(t){return t.ma||(t.ma=(function(n,r,i){const s=bt(n);return s.sa(),new Boe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Goe.bind(null,t),t_:Koe.bind(null,t),r_:Yoe.bind(null,t),H_:Qoe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Ek(t)?Tk(t):t.Ra.set("Unknown")):(await t.ma.stop(),x7(t))}))),t.ma}function Lc(t){return t.fa||(t.fa=(function(n,r,i){const s=bt(n);return s.sa(),new qoe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Zoe.bind(null,t),r_:nle.bind(null,t),ta:ele.bind(null,t),na:tle.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Hw(t)):(await t.fa.stop(),t.Ta.length>0&&(Ve(md,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Xo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Ak(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pk(t,e){if(sl("AsyncQueue",`${e}: ${t}`),am(t))return new Le(xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{static emptySet(e){return new Zh(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||tt.comparator(n.key,r.key):(n,r)=>tt.comparator(n.key,r.key),this.keyedMap=Vp(),this.sortedSet=new Bn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(){this.ga=new Bn(tt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ut(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Nf{constructor(e,n,r,i,s,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new Nf(e,n,Zh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ile{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sle{constructor(){this.queries=n3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=bt(n),s=i.queries;i.queries=n3(),s.forEach(((o,l)=>{for(const c of l.Sa)c.onError(r)}))})(this,new Le(xe.ABORTED,"Firestore shutting down"))}}function n3(){return new Od((t=>U9(t)),Fw)}async function j7(t,e){const n=bt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new ile,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Pk(o,`Initialization of query '${Mh(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Ck(n)}async function N7(t,e){const n=bt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ale(t,e){const n=bt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&Ck(n)}function ole(t,e,n){const r=bt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Ck(t){t.Ca.forEach((e=>{e.next()}))}var mA,r3;(r3=mA||(mA={})).Ma="default",r3.Cache="cache";class S7{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Nf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Nf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.key=e}}class E7{constructor(e){this.key=e}}class lle{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=z9(e),this.tu=new Zh(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new t3,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,m)=>{const p=i.get(f),v=Vw(this.query,m)?m:null,w=!!p&&this.mutatedKeys.has(p.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let g=!1;p&&v?p.data.isEqual(v.data)?w!==x&&(r.track({type:3,doc:v}),g=!0):this.su(p,v)||(r.track({type:2,doc:v}),g=!0,(c&&this.eu(v,c)>0||d&&this.eu(v,d)<0)&&(l=!0)):!p&&v?(r.track({type:0,doc:v}),g=!0):p&&!v&&(r.track({type:1,doc:p}),g=!0,(c||d)&&(l=!0)),g&&(v?(o=o.add(v),s=x?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,m)=>(function(v,w){const x=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut(20277,{Rt:g})}};return x(v)-x(w)})(f.type,m.type)||this.eu(f.doc,m.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new Nf(this.query,e.tu,s,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new t3,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new E7(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new T7(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Lt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Nf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kk="SyncEngine";class cle{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ule{constructor(e){this.key=e,this.hu=!1}}class dle{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Od((l=>U9(l)),Fw),this.Iu=new Map,this.Eu=new Set,this.du=new Bn(tt.comparator),this.Au=new Map,this.Ru=new bk,this.Vu={},this.mu=new Map,this.fu=jf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hle(t,e,n=!0){const r=O7(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await A7(r,e,n,!0),i}async function fle(t,e){const n=O7(t);await A7(n,e,!0,!1)}async function A7(t,e,n,r){const i=await Ooe(t.localStore,Xa(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await mle(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&y7(t.remoteStore,i),l}async function mle(t,e,n,r,i){t.pu=(m,p,v)=>(async function(x,g,_,T){let A=g.view.ru(_);A.Cs&&(A=await Y5(x.localStore,g.query,!1).then((({documents:E})=>g.view.ru(E,A))));const I=T&&T.targetChanges.get(g.targetId),P=T&&T.targetMismatches.get(g.targetId)!=null,C=g.view.applyChanges(A,x.isPrimaryClient,I,P);return s3(x,g.targetId,C.au),C.snapshot})(t,m,p,v);const s=await Y5(t.localStore,e,!0),o=new lle(e,s.Qs),l=o.ru(s.documents),c=$y.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,c);s3(t,n,d.au);const f=new cle(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function ple(t,e,n){const r=bt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!Fw(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hA(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Nk(r.remoteStore,i.targetId),pA(r,i.targetId)})).catch(sm)):(pA(r,i.targetId),await hA(r.localStore,i.targetId,!0))}async function gle(t,e){const n=bt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Nk(n.remoteStore,r.targetId))}async function yle(t,e,n){const r=Nle(t);try{const i=await(function(o,l){const c=bt(o),d=An.now(),f=l.reduce(((v,w)=>v.add(w.key)),Lt());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let w=al(),x=Lt();return c.Ns.getEntries(v,f).next((g=>{w=g,w.forEach(((_,T)=>{T.isValidDocument()||(x=x.add(_))}))})).next((()=>c.localDocuments.getOverlayedDocuments(v,w))).next((g=>{m=g;const _=[];for(const T of l){const A=Iae(T,m.get(T.key).overlayedDocument);A!=null&&_.push(new Jc(T.key,A,M9(A.value.mapValue),Ls.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,_,l)})).next((g=>{p=g;const _=g.applyToLocalDocumentSet(m,x);return c.documentOverlayCache.saveOverlays(v,g.batchId,_)}))})).then((()=>({batchId:p.batchId,changes:H9(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,l,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new Bn(Mt)),d=d.insert(l,c),o.Vu[o.currentUser.toKey()]=d})(r,i.batchId,n),await Vy(r,i.changes),await Hw(r.remoteStore)}catch(i){const s=Pk(i,"Failed to persist write");n.reject(s)}}async function P7(t,e){const n=bt(t);try{const r=await Coe(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=n.Au.get(s);o&&(ln(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?ln(o.hu,14607):i.removedDocuments.size>0&&(ln(o.hu,42227),o.hu=!1))})),await Vy(n,r,e)}catch(r){await sm(r)}}function i3(t,e,n){const r=bt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const c=bt(o);c.onlineState=l;let d=!1;c.queries.forEach(((f,m)=>{for(const p of m.Sa)p.va(l)&&(d=!0)})),d&&Ck(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vle(t,e,n){const r=bt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Bn(tt.comparator);o=o.insert(s,ri.newNoDocument(s,yt.min()));const l=Lt().add(s),c=new Uw(yt.min(),new Map,new Bn(Mt),o,l);await P7(r,c),r.du=r.du.remove(s),r.Au.delete(e),Ik(r)}else await hA(r.localStore,e,!1).then((()=>pA(r,e,n))).catch(sm)}async function xle(t,e){const n=bt(t),r=e.batch.batchId;try{const i=await Poe(n.localStore,e);k7(n,r,null),C7(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vy(n,i)}catch(i){await sm(i)}}async function ble(t,e,n){const r=bt(t);try{const i=await(function(o,l){const c=bt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next((m=>(ln(m!==null,37113),f=m.keys(),c.mutationQueue.removeMutationBatch(d,m)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>c.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);k7(r,e,n),C7(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vy(r,i)}catch(i){await sm(i)}}function C7(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function k7(t,e,n){const r=bt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function pA(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||I7(t,r)}))}function I7(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Nk(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ik(t))}function s3(t,e,n){for(const r of n)r instanceof T7?(t.Ru.addReference(r.key,e),wle(t,r)):r instanceof E7?(Ve(kk,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||I7(t,r.key)):ut(19791,{wu:r})}function wle(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ve(kk,"New document in limbo: "+n),t.Eu.add(r),Ik(t))}function Ik(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new tt(wn.fromString(e)),r=t.fu.next();t.Au.set(r,new ule(n)),t.du=t.du.insert(n,r),y7(t.remoteStore,new _c(Xa(mk(n.path)),r,"TargetPurposeLimboResolution",Dw.ce))}}async function Vy(t,e,n){const r=bt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{o.push(r.pu(c,e,n).then((d=>{var f;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=_k.As(c.targetId,d);s.push(m)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(c,d){const f=bt(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>we.forEach(d,(p=>we.forEach(p.Es,(v=>f.persistence.referenceDelegate.addReference(m,p.targetId,v))).next((()=>we.forEach(p.ds,(v=>f.persistence.referenceDelegate.removeReference(m,p.targetId,v)))))))))}catch(m){if(!am(m))throw m;Ve(jk,"Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const v=f.Ms.get(p),w=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(w);f.Ms=f.Ms.insert(p,x)}}})(r.localStore,s))}async function _le(t,e){const n=bt(t);if(!n.currentUser.isEqual(e)){Ve(kk,"User change. New user:",e.toKey());const r=await f7(n.localStore,e);n.currentUser=e,(function(s,o){s.mu.forEach((l=>{l.forEach((c=>{c.reject(new Le(xe.CANCELLED,o))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vy(n,r.Ls)}}function jle(t,e){const n=bt(t),r=n.Au.get(e);if(r&&r.hu)return Lt().add(r.key);{let i=Lt();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function O7(t){const e=bt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jle.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vle.bind(null,e),e.Pu.H_=ale.bind(null,e.eventManager),e.Pu.yu=ole.bind(null,e.eventManager),e}function Nle(t){const e=bt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ble.bind(null,e),e}class eb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zw(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Aoe(this.persistence,new Soe,e.initialUser,this.serializer)}Cu(e){return new h7(wk.mi,this.serializer)}Du(e){return new Moe}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eb.provider={build:()=>new eb};class Sle extends eb{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ln(this.persistence.referenceDelegate instanceof Jx,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uoe(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fi.withCacheSize(this.cacheSizeBytes):Fi.DEFAULT;return new h7((r=>Jx.mi(r,n)),this.serializer)}}class gA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>i3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_le.bind(null,this.syncEngine),await rle(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sle})()}createDatastore(e){const n=zw(e.databaseInfo.databaseId),r=(function(s){return new Voe(s)})(e.databaseInfo);return(function(s,o,l,c){return new zoe(s,o,l,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,o,l){return new Hoe(r,i,s,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>i3(this.syncEngine,n,0)),(function(){return J5.v()?new J5:new Doe})())}createSyncEngine(e,n){return(function(i,s,o,l,c,d,f){const m=new dle(i,s,o,l,c,d);return f&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=bt(i);Ve(md,"RemoteStore shutting down."),s.Ea.add(5),await Fy(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}gA.provider={build:()=>new gA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):sl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c="FirestoreClient";class Tle{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ni.UNAUTHENTICATED,this.clientId=lk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{Ve($c,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Ve($c,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pk(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function tN(t,e){t.asyncQueue.verifyOperationInProgress(),Ve($c,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await f7(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function a3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ele(t);Ve($c,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>e3(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>e3(e.remoteStore,i))),t._onlineComponents=e}async function Ele(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve($c,"Using user provided OfflineComponentProvider");try{await tN(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;xf("Error using user provided cache. Falling back to memory cache: "+n),await tN(t,new eb)}}else Ve($c,"Using default OfflineComponentProvider"),await tN(t,new Sle(void 0));return t._offlineComponents}async function M7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve($c,"Using user provided OnlineComponentProvider"),await a3(t,t._uninitializedComponentsProvider._online)):(Ve($c,"Using default OnlineComponentProvider"),await a3(t,new gA))),t._onlineComponents}function Ale(t){return M7(t).then((e=>e.syncEngine))}async function D7(t){const e=await M7(t),n=e.eventManager;return n.onListen=hle.bind(null,e.syncEngine),n.onUnlisten=ple.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fle.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gle.bind(null,e.syncEngine),n}function Ple(t,e,n={}){const r=new Xo;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,l,c,d){const f=new R7({next:p=>{f.Nu(),o.enqueueAndForget((()=>N7(s,m)));const v=p.docs.has(l);!v&&p.fromCache?d.reject(new Le(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&c&&c.source==="server"?d.reject(new Le(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new S7(mk(l.path),f,{includeMetadataChanges:!0,qa:!0});return j7(s,m)})(await D7(t),t.asyncQueue,e,n,r))),r.promise}function Cle(t,e,n={}){const r=new Xo;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,l,c,d){const f=new R7({next:p=>{f.Nu(),o.enqueueAndForget((()=>N7(s,m))),p.fromCache&&c.source==="server"?d.reject(new Le(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new S7(l,f,{includeMetadataChanges:!0,qa:!0});return j7(s,m)})(await D7(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7="firestore.googleapis.com",l3=!0;class c3{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Le(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$7,this.ssl=l3}else this.host=e.host,this.ssl=e.ssl??l3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=d7;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<loe)throw new Le(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wse("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L7(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Le(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Le(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Le(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gw{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Mse;switch(r.type){case"firstParty":return new Fse(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=o3.get(n);r&&(Ve("ComponentProvider","Removing Datastore"),o3.delete(n),r.terminate())})(this),Promise.resolve()}}function kle(t,e,n,r={}){var d;t=ga(t,Gw);const i=Cd(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(QC(`https://${l}`),XC("Firestore",!0)),s.host!==$7&&s.host!==l&&xf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:r};if(!Ic(c,o)&&(t._setSettings(c),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=ni.MOCK_USER;else{f=NU(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Le(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ni(p)}t._authCredentials=new Dse(new j9(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lm(this.firestore,e,this._query)}}class er{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ac(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}toJSON(){return{type:er._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(My(n,er._jsonSchema))return new er(e,r||null,new tt(wn.fromString(n.referencePath)))}}er._jsonSchemaVersion="firestore/documentReference/1.0",er._jsonSchema={type:or("string",er._jsonSchemaVersion),referencePath:or("string")};class Ac extends lm{constructor(e,n,r){super(e,n,mk(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new tt(e))}withConverter(e){return new Ac(this.firestore,e,this._path)}}function Pr(t,e,...n){if(t=Gn(t),N9("collection","path",e),t instanceof Gw){const r=wn.fromString(e,...n);return _5(r),new Ac(t,null,r)}{if(!(t instanceof er||t instanceof Ac))throw new Le(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wn.fromString(e,...n));return _5(r),new Ac(t.firestore,null,r)}}function Gi(t,e,...n){if(t=Gn(t),arguments.length===1&&(e=lk.newId()),N9("doc","path",e),t instanceof Gw){const r=wn.fromString(e,...n);return w5(r),new er(t,null,new tt(r))}{if(!(t instanceof er||t instanceof Ac))throw new Le(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wn.fromString(e,...n));return w5(r),new er(t.firestore,t instanceof Ac?t.converter:null,new tt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="AsyncQueue";class d3{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new p7(this,"async_queue_retry"),this._c=()=>{const r=eN();r&&Ve(u3,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=eN();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=eN();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!am(e))throw e;Ve(u3,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,sl("INTERNAL UNHANDLED ERROR: ",h3(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Ak.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&ut(47125,{Pc:h3(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function h3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Md extends Gw{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new d3,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new d3(e),this._firestoreClient=void 0,await e}}}function dn(t,e){const n=typeof t=="object"?t:kw(),r=typeof t=="string"?t:Hx,i=Yc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=wU("firestore");s&&kle(i,...s)}return i}function Ok(t){if(t._terminated)throw new Le(xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ile(t),t._firestoreClient}function Ile(t){var r,i,s;const e=t._freezeSettings(),n=(function(l,c,d,f){return new nae(l,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,L7(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Tle(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Is(Kr.fromBase64String(e))}catch(n){throw new Le(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Is(Kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Is._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(My(e,Is._jsonSchema))return Is.fromBase64String(e.bytes)}}Is._jsonSchemaVersion="firestore/bytes/1.0",Is._jsonSchema={type:or("string",Is._jsonSchemaVersion),bytes:or("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Le(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Le(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Le(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Za._jsonSchemaVersion}}static fromJSON(e){if(My(e,Za._jsonSchema))return new Za(e.latitude,e.longitude)}}Za._jsonSchemaVersion="firestore/geoPoint/1.0",Za._jsonSchema={type:or("string",Za._jsonSchemaVersion),latitude:or("number"),longitude:or("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:eo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(My(e,eo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new eo(e.vectorValues);throw new Le(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}eo._jsonSchemaVersion="firestore/vectorValue/1.0",eo._jsonSchema={type:or("string",eo._jsonSchemaVersion),vectorValues:or("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ole=/^__.*__$/;class Rle{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ly(e,this.data,n,this.fieldTransforms)}}class F7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Jc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function V7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut(40011,{Ac:t})}}class Rk{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rk({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(V7(this.Ac)&&Ole.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Mle{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zw(e)}Cc(e,n,r,i=!1){return new Rk({Ac:e,methodName:n,Dc:r,path:Ur.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qw(t){const e=t._freezeSettings(),n=zw(t._databaseId);return new Mle(t._databaseId,!!e.ignoreUndefinedProperties,n)}function B7(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Dk("Data must be an object, but it was:",o,r);const l=q7(r,o);let c,d;if(s.merge)c=new us(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const p=yA(e,m,n);if(!o.contains(p))throw new Le(xe.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);z7(f,p)||f.push(p)}c=new us(f),d=o.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,d=o.fieldTransforms;return new Rle(new Vi(l),c,d)}class Xw extends Yw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xw}}class Mk extends Yw{_toFieldTransform(e){return new Aae(e.path,new Eg)}isEqual(e){return e instanceof Mk}}function Dle(t,e,n,r){const i=t.Cc(1,e,n);Dk("Data must be an object, but it was:",i,r);const s=[],o=Vi.empty();Xc(r,((c,d)=>{const f=Lk(e,c,n);d=Gn(d);const m=i.yc(f);if(d instanceof Xw)s.push(f);else{const p=By(d,m);p!=null&&(s.push(f),o.set(f,p))}}));const l=new us(s);return new F7(o,l,i.fieldTransforms)}function Lle(t,e,n,r,i,s){const o=t.Cc(1,e,n),l=[yA(e,r,n)],c=[i];if(s.length%2!=0)throw new Le(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(yA(e,s[p])),c.push(s[p+1]);const d=[],f=Vi.empty();for(let p=l.length-1;p>=0;--p)if(!z7(d,l[p])){const v=l[p];let w=c[p];w=Gn(w);const x=o.yc(v);if(w instanceof Xw)d.push(v);else{const g=By(w,x);g!=null&&(d.push(v),f.set(v,g))}}const m=new us(d);return new F7(f,m,o.fieldTransforms)}function $le(t,e,n,r=!1){return By(n,t.Cc(r?4:3,e))}function By(t,e){if(U7(t=Gn(t)))return Dk("Unsupported field value:",e,t),q7(t,e);if(t instanceof Yw)return(function(r,i){if(!V7(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const l of r){let c=By(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Sae(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=An.fromDate(r);return{timestampValue:Xx(i.serializer,s)}}if(r instanceof An){const s=new An(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xx(i.serializer,s)}}if(r instanceof Za)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Is)return{bytesValue:i7(i.serializer,r._byteString)};if(r instanceof er){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xk(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof eo)return(function(o,l){return{mapValue:{fields:{[O9]:{stringValue:R9},[Gx]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return pk(l.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Mw(r)}`)})(t,e)}function q7(t,e){const n={};return E9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xc(t,((r,i)=>{const s=By(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function U7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof An||t instanceof Za||t instanceof Is||t instanceof er||t instanceof Yw||t instanceof eo)}function Dk(t,e,n){if(!U7(n)||!S9(n)){const r=Mw(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function yA(t,e,n){if((e=Gn(e))instanceof Kw)return e._internalPath;if(typeof e=="string")return Lk(t,e);throw tb("Field path arguments must be of type string or ",t,!1,void 0,n)}const Fle=new RegExp("[~\\*/\\[\\]]");function Lk(t,e,n){if(e.search(Fle)>=0)throw tb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kw(...e.split("."))._internalPath}catch{throw tb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tb(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Le(xe.INVALID_ARGUMENT,l+t+c)}function z7(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Vle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($k("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Vle extends W7{data(){return super.data()}}function $k(t,e){return typeof e=="string"?Lk(t,e):e instanceof Kw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ble(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Le(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fk{}class qle extends Fk{}function va(t,e,...n){let r=[];e instanceof Fk&&r.push(e),r=r.concat(n),(function(s){const o=s.filter((c=>c instanceof Vk)).length,l=s.filter((c=>c instanceof Jw)).length;if(o>1||o>0&&l>0)throw new Le(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Jw extends qle{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jw(e,n,r)}_apply(e){const n=this._parse(e);return H7(e._query,n),new lm(e.firestore,e.converter,aA(e._query,n))}_parse(e){const n=Qw(e.firestore);return(function(s,o,l,c,d,f,m){let p;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Le(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){m3(m,f);const w=[];for(const x of m)w.push(f3(c,s,x));p={arrayValue:{values:w}}}else p=f3(c,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||m3(m,f),p=$le(l,o,m,f==="in"||f==="not-in");return ar.create(d,f,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function si(t,e,n){const r=e,i=$k("where",t);return Jw._create(i,r,n)}class Vk extends Fk{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vk(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ya.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)H7(o,c),o=aA(o,c)})(e._query,n),new lm(e.firestore,e.converter,aA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function f3(t,e,n){if(typeof(n=Gn(n))=="string"){if(n==="")throw new Le(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q9(e)&&n.indexOf("/")!==-1)throw new Le(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(wn.fromString(n));if(!tt.isDocumentKey(r))throw new Le(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return C5(t,new tt(r))}if(n instanceof er)return C5(t,n._key);throw new Le(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mw(n)}.`)}function m3(t,e){if(!Array.isArray(t)||t.length===0)throw new Le(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H7(t,e){const n=(function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Le(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Le(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ule{convertValue(e,n="none"){switch(Dc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ut(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xc(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Gx].arrayValue)==null?void 0:i.values)==null?void 0:s.map((o=>Zn(o.doubleValue)));return new eo(n)}convertGeoPoint(e){return new Za(Zn(e.latitude),Zn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$w(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ng(e));default:return null}}convertTimestamp(e){const n=Rc(e);return new An(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wn.fromString(e);ln(u7(r),9688,{name:e});const i=new Sg(r.get(1),r.get(3)),s=new tt(r.popFirst(5));return i.isEqual(n)||sl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class qp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class id extends W7{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($k("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=id._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}id._jsonSchemaVersion="firestore/documentSnapshot/1.0",id._jsonSchema={type:or("string",id._jsonSchemaVersion),bundleSource:or("string","DocumentSnapshot"),bundleName:or("string"),bundle:or("string")};class vx extends id{data(e={}){return super.data(e)}}class ef{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new vx(this._firestore,this._userDataWriter,r.key,r,new qp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Le(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const c=new vx(i._firestore,i._userDataWriter,l.doc.key,l.doc,new qp(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const c=new vx(i._firestore,i._userDataWriter,l.doc.key,l.doc,new qp(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:zle(l.type),doc:c,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ef._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lk.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zle(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(t){t=ga(t,er);const e=ga(t.firestore,Md);return Ple(Ok(e),t._key).then((n=>Hle(e,t,n)))}ef._jsonSchemaVersion="firestore/querySnapshot/1.0",ef._jsonSchema={type:or("string",ef._jsonSchemaVersion),bundleSource:or("string","QuerySnapshot"),bundleName:or("string"),bundle:or("string")};class Y7 extends Ule{constructor(e){super(),this.firestore=e}convertBytes(e){return new Is(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,n)}}function Ti(t){t=ga(t,lm);const e=ga(t.firestore,Md),n=Ok(e),r=new Y7(e);return Ble(t._query),Cle(n,t._query).then((i=>new ef(e,r,t,i)))}function Fc(t,e,n){t=ga(t,er);const r=ga(t.firestore,Md),i=G7(t.converter,e,n);return Zw(r,[B7(Qw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ls.none())])}function Wle(t,e,n,...r){t=ga(t,er);const i=ga(t.firestore,Md),s=Qw(i);let o;return o=typeof(e=Gn(e))=="string"||e instanceof Kw?Lle(s,"updateDoc",t._key,e,n,r):Dle(s,"updateDoc",t._key,e),Zw(i,[o.toMutation(t._key,Ls.exists(!0))])}function Bk(t){return Zw(ga(t.firestore,Md),[new gk(t._key,Ls.none())])}function qk(t,e){const n=ga(t.firestore,Md),r=Gi(t),i=G7(t.converter,e);return Zw(n,[B7(Qw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ls.exists(!1))]).then((()=>r))}function Zw(t,e){return(function(r,i){const s=new Xo;return r.asyncQueue.enqueueAndForget((async()=>yle(await Ale(r),i,s))),s.promise})(Ok(t),e)}function Hle(t,e,n){const r=n.docs.get(e._key),i=new Y7(t);return new id(t,i,e._key,r,new qp(n.hasPendingWrites,n.fromCache),e.converter)}function Gle(){return new Mk("serverTimestamp")}(function(e,n=!0){(function(i){im=i})(Id),ma(new Vs("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Md(new Lse(r.getProvider("auth-internal")),new Vse(o,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Le(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sg(d.options.projectId,f)})(o,i),o);return s={useFetchStreams:n,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),Wi(y5,v5,e),Wi(y5,v5,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7="firebasestorage.googleapis.com",Kle="storageBucket",Yle=120*1e3,Qle=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends zs{constructor(e,n,r=0){super(nN(e),`Firebase Storage: ${n} (${nN(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nN(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var oo;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(oo||(oo={}));function nN(t){return"storage/"+t}function Xle(){const t="An unknown error occurred, please check the error payload for server response.";return new fo(oo.UNKNOWN,t)}function Jle(){return new fo(oo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Zle(){return new fo(oo.CANCELED,"User canceled the upload/download.")}function ece(t){return new fo(oo.INVALID_URL,"Invalid URL '"+t+"'.")}function tce(t){return new fo(oo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function p3(t){return new fo(oo.INVALID_ARGUMENT,t)}function X7(){return new fo(oo.APP_DELETED,"The Firebase app was deleted.")}function nce(t){return new fo(oo.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ua.makeFromUrl(e,n)}catch{return new ua(e,"")}if(r.path==="")return r;throw tce(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function d(I){I.path_=decodeURIComponent(I.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${f}/b/${i}/o${p}`,"i"),w={bucket:1,path:3},x=n===Q7?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",_=new RegExp(`^https?://${x}/${i}/${g}`,"i"),A=[{regex:l,indices:c,postModify:s},{regex:v,indices:w,postModify:d},{regex:_,indices:{bucket:1,path:2},postModify:d}];for(let I=0;I<A.length;I++){const P=A[I],C=P.regex.exec(e);if(C){const E=C[P.indices.bucket];let N=C[P.indices.path];N||(N=""),r=new ua(E,N),P.postModify(r);break}}if(r==null)throw ece(e);return r}}class rce{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ice(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let d=!1;function f(...g){d||(d=!0,e.apply(null,g))}function m(g){i=setTimeout(()=>{i=null,t(v,c())},g)}function p(){s&&clearTimeout(s)}function v(g,..._){if(d){p();return}if(g){p(),f.call(null,g,..._);return}if(c()||o){p(),f.call(null,g,..._);return}r<64&&(r*=2);let A;l===1?(l=2,A=0):A=(r+Math.random())*1e3,m(A)}let w=!1;function x(g){w||(w=!0,p(),!d&&(i!==null?(g||(l=2),clearTimeout(i),m(0)):g||(l=1)))}return m(0),s=setTimeout(()=>{o=!0,x(!0)},n),x}function sce(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ace(t){return t!==void 0}function g3(t,e,n,r){if(r<e)throw p3(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw p3(`Invalid value for '${t}'. Expected ${n} or less.`)}function oce(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var nb;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(nb||(nb={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lce(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cce{constructor(e,n,r,i,s,o,l,c,d,f,m,p=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,x)=>{this.resolve_=w,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Iv(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===nb.NO_ERROR,c=s.getStatus();if(!l||lce(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===nb.ABORT;r(!1,new Iv(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Iv(d,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());ace(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=Xle();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?X7():Zle();o(c)}else{const c=Jle();o(c)}};this.canceled_?n(!1,new Iv(!1,null,!0)):this.backoffId_=ice(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sce(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Iv{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function uce(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function dce(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hce(t,e){e&&(t["X-Firebase-GMPID"]=e)}function fce(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mce(t,e,n,r,i,s,o=!0,l=!1){const c=oce(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return hce(f,e),uce(f,n),dce(f,s),fce(f,r),new cce(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pce(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gce(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n){this._service=e,n instanceof ua?this._location=n:this._location=ua.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new rb(e,n)}get root(){const e=new ua(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gce(this._location.path)}get storage(){return this._service}get parent(){const e=pce(this._location.path);if(e===null)return null;const n=new ua(this._location.bucket,e);return new rb(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nce(e)}}function y3(t,e){const n=e==null?void 0:e[Kle];return n==null?null:ua.makeFromBucketSpec(n,t)}function yce(t,e,n,r={}){t.host=`${e}:${n}`;const i=Cd(e);i&&(QC(`https://${t.host}/b`),XC("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:NU(s,t.app.options.projectId))}class vce{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=Q7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Yle,this._maxUploadRetryTime=Qle,this._requests=new Set,i!=null?this._bucket=ua.makeFromBucketSpec(i,this._host):this._bucket=y3(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ua.makeFromBucketSpec(this._url,e):this._bucket=y3(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){g3("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){g3("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rb(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new rce(X7());{const o=mce(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const v3="@firebase/storage",x3="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7="storage";function xce(t=kw(),e){t=Gn(t);const r=Yc(t,J7).getImmediate({identifier:e}),i=wU("storage");return i&&bce(r,...i),r}function bce(t,e,n,r={}){yce(t,e,n,r)}function wce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new vce(n,r,i,e,Id)}function _ce(){ma(new Vs(J7,wce,"PUBLIC").setMultipleInstances(!0)),Wi(v3,x3,""),Wi(v3,x3,"esm2020")}_ce();const Z7="@firebase/installations",Uk="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=1e4,tz=`w:${Uk}`,nz="FIS_v2",jce="https://firebaseinstallations.googleapis.com/v1",Nce=3600*1e3,Sce="installations",Tce="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ece={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pd=new kd(Sce,Tce,Ece);function rz(t){return t instanceof zs&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz({projectId:t}){return`${jce}/projects/${t}/installations`}function sz(t){return{token:t.token,requestStatus:2,expiresIn:Pce(t.expiresIn),creationTime:Date.now()}}async function az(t,e){const r=(await e.json()).error;return pd.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function oz({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ace(t,{refreshToken:e}){const n=oz(t);return n.append("Authorization",Cce(e)),n}async function lz(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Pce(t){return Number(t.replace("s","000"))}function Cce(t){return`${nz} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kce({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=iz(t),i=oz(t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={fid:n,authVersion:nz,appId:t.appId,sdkVersion:tz},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await lz(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:sz(d.authToken)}}else throw await az("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ice(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oce=/^[cdef][\w-]{21}$/,vA="";function Rce(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Mce(t);return Oce.test(n)?n:vA}catch{return vA}}function Mce(t){return Ice(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=new Map;function dz(t,e){const n=e1(t);hz(n,e),Dce(n,e)}function hz(t,e){const n=uz.get(t);if(n)for(const r of n)r(e)}function Dce(t,e){const n=Lce();n&&n.postMessage({key:t,fid:e}),$ce()}let Hu=null;function Lce(){return!Hu&&"BroadcastChannel"in self&&(Hu=new BroadcastChannel("[Firebase] FID Change"),Hu.onmessage=t=>{hz(t.data.key,t.data.fid)}),Hu}function $ce(){uz.size===0&&Hu&&(Hu.close(),Hu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fce="firebase-installations-database",Vce=1,gd="firebase-installations-store";let rN=null;function zk(){return rN||(rN=CU(Fce,Vce,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(gd)}}})),rN}async function ib(t,e){const n=e1(t),i=(await zk()).transaction(gd,"readwrite"),s=i.objectStore(gd),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&dz(t,e.fid),e}async function fz(t){const e=e1(t),r=(await zk()).transaction(gd,"readwrite");await r.objectStore(gd).delete(e),await r.done}async function t1(t,e){const n=e1(t),i=(await zk()).transaction(gd,"readwrite"),s=i.objectStore(gd),o=await s.get(n),l=e(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&dz(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(t){let e;const n=await t1(t.appConfig,r=>{const i=Bce(r),s=qce(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===vA?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Bce(t){const e=t||{fid:Rce(),registrationStatus:0};return mz(e)}function qce(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(pd.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Uce(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:zce(t)}:{installationEntry:e}}async function Uce(t,e){try{const n=await kce(t,e);return ib(t.appConfig,n)}catch(n){throw rz(n)&&n.customData.serverCode===409?await fz(t.appConfig):await ib(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function zce(t){let e=await b3(t.appConfig);for(;e.registrationStatus===1;)await cz(100),e=await b3(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Wk(t);return r||n}return e}function b3(t){return t1(t,e=>{if(!e)throw pd.create("installation-not-found");return mz(e)})}function mz(t){return Wce(t)?{fid:t.fid,registrationStatus:0}:t}function Wce(t){return t.registrationStatus===1&&t.registrationTime+ez<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hce({appConfig:t,heartbeatServiceProvider:e},n){const r=Gce(t,n),i=Ace(t,n),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={installation:{sdkVersion:tz,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await lz(()=>fetch(r,l));if(c.ok){const d=await c.json();return sz(d)}else throw await az("Generate Auth Token",c)}function Gce(t,{fid:e}){return`${iz(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(t,e=!1){let n;const r=await t1(t.appConfig,s=>{if(!pz(s))throw pd.create("not-registered");const o=s.authToken;if(!e&&Qce(o))return s;if(o.requestStatus===1)return n=Kce(t,e),s;{if(!navigator.onLine)throw pd.create("app-offline");const l=Jce(s);return n=Yce(t,l),l}});return n?await n:r.authToken}async function Kce(t,e){let n=await w3(t.appConfig);for(;n.authToken.requestStatus===1;)await cz(100),n=await w3(t.appConfig);const r=n.authToken;return r.requestStatus===0?Hk(t,e):r}function w3(t){return t1(t,e=>{if(!pz(e))throw pd.create("not-registered");const n=e.authToken;return Zce(n)?{...e,authToken:{requestStatus:0}}:e})}async function Yce(t,e){try{const n=await Hce(t,e),r={...e,authToken:n};return await ib(t.appConfig,r),n}catch(n){if(rz(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await fz(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ib(t.appConfig,r)}throw n}}function pz(t){return t!==void 0&&t.registrationStatus===2}function Qce(t){return t.requestStatus===2&&!Xce(t)}function Xce(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Nce}function Jce(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Zce(t){return t.requestStatus===1&&t.requestTime+ez<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eue(t){const e=t,{installationEntry:n,registrationPromise:r}=await Wk(e);return r?r.catch(console.error):Hk(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tue(t,e=!1){const n=t;return await nue(n),(await Hk(n,e)).token}async function nue(t){const{registrationPromise:e}=await Wk(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rue(t){if(!t||!t.options)throw iN("App Configuration");if(!t.name)throw iN("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw iN(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function iN(t){return pd.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz="installations",iue="installations-internal",sue=t=>{const e=t.getProvider("app").getImmediate(),n=rue(e),r=Yc(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},aue=t=>{const e=t.getProvider("app").getImmediate(),n=Yc(e,gz).getImmediate();return{getId:()=>eue(n),getToken:i=>tue(n,i)}};function oue(){ma(new Vs(gz,sue,"PUBLIC")),ma(new Vs(iue,aue,"PRIVATE"))}oue();Wi(Z7,Uk);Wi(Z7,Uk,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="analytics",lue="firebase_id",cue="origin",uue=60*1e3,due="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gk="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Cw("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hue={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ds=new kd("analytics","Analytics",hue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fue(t){if(!t.startsWith(Gk)){const e=ds.create("invalid-gtag-resource",{gtagURL:t});return Si.warn(e.message),""}return t}function yz(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function mue(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function pue(t,e){const n=mue("firebase-js-sdk-policy",{createScriptURL:fue}),r=document.createElement("script"),i=`${Gk}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function gue(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function yue(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const c=(await yz(n)).find(d=>d.measurementId===i);c&&await e[c.appId]}}catch(l){Si.error(l)}t("config",i,s)}async function vue(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await yz(n);for(const c of o){const d=l.find(m=>m.measurementId===c),f=d&&e[d.appId];if(f)s.push(f);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Si.error(s)}}function xue(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[l,c]=o;await vue(t,e,n,l,c)}else if(s==="config"){const[l,c]=o;await yue(t,e,n,r,l,c)}else if(s==="consent"){const[l,c]=o;t("consent",l,c)}else if(s==="get"){const[l,c,d]=o;t("get",l,c,d)}else if(s==="set"){const[l]=o;t("set",l)}else t(s,...o)}catch(l){Si.error(l)}}return i}function bue(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=xue(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function wue(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Gk)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ue=30,jue=1e3;class Nue{constructor(e={},n=jue){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const vz=new Nue;function Sue(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Tue(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:Sue(n)},i=due.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let l="";try{const c=await s.json();(o=c.error)!=null&&o.message&&(l=c.error.message)}catch{}throw ds.create("config-fetch-failed",{httpStatus:s.status,responseMessage:l})}return s.json()}async function Eue(t,e=vz,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw ds.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ds.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Cue;return setTimeout(async()=>{l.abort()},uue),xz({appId:r,apiKey:i,measurementId:s},o,l,e)}async function xz(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=vz){var l;const{appId:s,measurementId:o}=t;try{await Aue(r,e)}catch(c){if(o)return Si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:o};throw c}try{const c=await Tue(t);return i.deleteThrottleMetadata(s),c}catch(c){const d=c;if(!Pue(d)){if(i.deleteThrottleMetadata(s),o)return Si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:s,measurementId:o};throw c}const f=Number((l=d==null?void 0:d.customData)==null?void 0:l.httpStatus)===503?q4(n,i.intervalMillis,_ue):q4(n,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(s,m),Si.debug(`Calling attemptFetch again in ${f} millis`),xz(t,m,r,i)}}function Aue(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ds.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Pue(t){if(!(t instanceof zs)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Cue{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function kue(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o={...r,send_to:s};t("event",n,o)}}async function Iue(t,e,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oue(){if(TU())try{await EU()}catch(t){return Si.warn(ds.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Si.warn(ds.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Rue(t,e,n,r,i,s,o){const l=Eue(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Si.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Si.error(p)),e.push(l);const c=Oue().then(p=>{if(p)return r.getId()}),[d,f]=await Promise.all([l,c]);wue(s)||pue(s,d.measurementId),i("js",new Date);const m=(o==null?void 0:o.config)??{};return m[cue]="firebase",m.update=!0,f!=null&&(m[lue]=f),i("config",d.measurementId,m),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mue{constructor(e){this.app=e}_delete(){return delete tf[this.app.options.appId],Promise.resolve()}}let tf={},_3=[];const j3={};let sN="dataLayer",Due="gtag",N3,Kk,S3=!1;function Lue(){const t=[];if(SU()&&t.push("This is a browser extension environment."),Zte()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ds.create("invalid-analytics-context",{errorInfo:e});Si.warn(n.message)}}function $ue(t,e,n){Lue();const r=t.options.appId;if(!r)throw ds.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ds.create("no-api-key");if(tf[r]!=null)throw ds.create("already-exists",{id:r});if(!S3){gue(sN);const{wrappedGtag:s,gtagCore:o}=bue(tf,_3,j3,sN,Due);Kk=s,N3=o,S3=!0}return tf[r]=Rue(t,_3,j3,e,N3,sN,n),new Mue(t)}function Fue(t=kw()){t=Gn(t);const e=Yc(t,sb);return e.isInitialized()?e.getImmediate():Vue(t)}function Vue(t,e={}){const n=Yc(t,sb);if(n.isInitialized()){const i=n.getImmediate();if(Ic(e,n.getOptions()))return i;throw ds.create("already-initialized")}return n.initialize({options:e})}function Bue(t,e,n){t=Gn(t),Iue(Kk,tf[t.app.options.appId],e,n).catch(r=>Si.error(r))}function que(t,e,n,r){t=Gn(t),kue(Kk,tf[t.app.options.appId],e,n,r).catch(i=>Si.error(i))}const T3="@firebase/analytics",E3="0.10.19";function Uue(){ma(new Vs(sb,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return $ue(r,i,n)},"PUBLIC")),ma(new Vs("analytics-internal",t,"PRIVATE")),Wi(T3,E3),Wi(T3,E3,"esm2020");function t(e){try{const n=e.getProvider(sb).getImmediate();return{logEvent:(r,i,s)=>que(n,r,i,s),setUserProperties:(r,i)=>Bue(n,r,i)}}catch(n){throw ds.create("interop-component-reg-failed",{reason:n})}}}Uue();const zue={apiKey:"AIzaSyA-ji4PrndkvUwbcN6axWGjLJd-pNJrTBY",authDomain:"math-adventure-app.firebaseapp.com",projectId:"math-adventure-app",storageBucket:"math-adventure-app.firebasestorage.app",messagingSenderId:"685781375492",appId:"1:685781375492:web:cb2f52696292927cb07351",measurementId:"G-FGQWD7WPCY"},Bt=kU(zue),Ov=zx(Bt),Wue=dn(Bt);xce(Bt);Fue(Bt);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var A3="popstate";function Hue(t={}){function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return xA("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Cg(i)}return Kue(e,n,null,t)}function Vn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Gue(){return Math.random().toString(36).substring(2,10)}function P3(t,e){return{usr:t.state,key:t.key,idx:e}}function xA(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?cm(e):e,state:n,key:e&&e.key||r||Gue()}}function Cg({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function cm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Kue(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",c=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function m(){l="POP";let g=f(),_=g==null?null:g-d;d=g,c&&c({action:l,location:x.location,delta:_})}function p(g,_){l="PUSH";let T=xA(x.location,g,_);d=f()+1;let A=P3(T,d),I=x.createHref(T);try{o.pushState(A,"",I)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(I)}s&&c&&c({action:l,location:x.location,delta:1})}function v(g,_){l="REPLACE";let T=xA(x.location,g,_);d=f();let A=P3(T,d),I=x.createHref(T);o.replaceState(A,"",I),s&&c&&c({action:l,location:x.location,delta:0})}function w(g){return Yue(g)}let x={get action(){return l},get location(){return t(i,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(A3,m),c=g,()=>{i.removeEventListener(A3,m),c=null}},createHref(g){return e(i,g)},createURL:w,encodeLocation(g){let _=w(g);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:v,go(g){return o.go(g)}};return x}function Yue(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Vn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Cg(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function bz(t,e,n="/"){return Que(t,e,n,!1)}function Que(t,e,n,r){let i=typeof e=="string"?cm(e):e,s=ol(i.pathname||"/",n);if(s==null)return null;let o=wz(t);Xue(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=lde(s);l=ade(o[c],d,r)}return l}function wz(t,e=[],n=[],r="",i=!1){let s=(o,l,c=i,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&c)return;Vn(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let m=Jo([r,f.relativePath]),p=n.concat(f);o.children&&o.children.length>0&&(Vn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),wz(o.children,e,p,m,c)),!(o.path==null&&!o.index)&&e.push({path:m,score:ide(m,o.index),routesMeta:p})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let d of _z(o.path))s(o,l,!0,d)}),e}function _z(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_z(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Xue(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sde(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Jue=/^:[\w-]+$/,Zue=3,ede=2,tde=1,nde=10,rde=-2,C3=t=>t==="*";function ide(t,e){let n=t.split("/"),r=n.length;return n.some(C3)&&(r+=rde),e&&(r+=ede),n.filter(i=>!C3(i)).reduce((i,s)=>i+(Jue.test(s)?Zue:s===""?tde:nde),r)}function sde(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ade(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=ab({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),p=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=ab({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Jo([s,m.pathname]),pathnameBase:hde(Jo([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=Jo([s,m.pathnameBase]))}return o}function ab(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ode(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:m},p)=>{if(f==="*"){let w=l[p]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[p];return m&&!v?d[f]=void 0:d[f]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function ode(t,e=!1,n=!0){lo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function lde(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ol(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cde(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?cm(t):t;return{pathname:n?n.startsWith("/")?n:ude(n,e):e,search:fde(r),hash:mde(i)}}function ude(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function aN(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dde(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jz(t){let e=dde(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Nz(t,e,n,r=!1){let i;typeof t=="string"?i=cm(t):(i={...t},Vn(!i.pathname||!i.pathname.includes("?"),aN("?","pathname","search",i)),Vn(!i.pathname||!i.pathname.includes("#"),aN("#","pathname","hash",i)),Vn(!i.search||!i.search.includes("#"),aN("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}l=m>=0?e[m]:"/"}let c=cde(i,l),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var Jo=t=>t.join("/").replace(/\/\/+/g,"/"),hde=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fde=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mde=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pde(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Sz=["POST","PUT","PATCH","DELETE"];new Set(Sz);var gde=["GET",...Sz];new Set(gde);var um=S.createContext(null);um.displayName="DataRouter";var n1=S.createContext(null);n1.displayName="DataRouterState";S.createContext(!1);var Tz=S.createContext({isTransitioning:!1});Tz.displayName="ViewTransition";var yde=S.createContext(new Map);yde.displayName="Fetchers";var vde=S.createContext(null);vde.displayName="Await";var mo=S.createContext(null);mo.displayName="Navigation";var qy=S.createContext(null);qy.displayName="Location";var _l=S.createContext({outlet:null,matches:[],isDataRoute:!1});_l.displayName="Route";var Yk=S.createContext(null);Yk.displayName="RouteError";function xde(t,{relative:e}={}){Vn(Uy(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(mo),{hash:i,pathname:s,search:o}=zy(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Jo([n,s])),r.createHref({pathname:l,search:o,hash:i})}function Uy(){return S.useContext(qy)!=null}function jl(){return Vn(Uy(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(qy).location}var Ez="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Az(t){S.useContext(mo).static||S.useLayoutEffect(t)}function Zc(){let{isDataRoute:t}=S.useContext(_l);return t?Ide():bde()}function bde(){Vn(Uy(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(um),{basename:e,navigator:n}=S.useContext(mo),{matches:r}=S.useContext(_l),{pathname:i}=jl(),s=JSON.stringify(jz(r)),o=S.useRef(!1);return Az(()=>{o.current=!0}),S.useCallback((c,d={})=>{if(lo(o.current,Ez),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=Nz(c,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Jo([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,i,t])}S.createContext(null);function zy(t,{relative:e}={}){let{matches:n}=S.useContext(_l),{pathname:r}=jl(),i=JSON.stringify(jz(n));return S.useMemo(()=>Nz(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function wde(t,e){return Pz(t,e)}function Pz(t,e,n,r,i){var T;Vn(Uy(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=S.useContext(mo),{matches:o}=S.useContext(_l),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let A=m&&m.path||"";Cz(d,!m||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=jl(),v;if(e){let A=typeof e=="string"?cm(e):e;Vn(f==="/"||((T=A.pathname)==null?void 0:T.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),v=A}else v=p;let w=v.pathname||"/",x=w;if(f!=="/"){let A=f.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let g=bz(t,{pathname:x});lo(m||g!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),lo(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Tde(g&&g.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:Jo([f,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Jo([f,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),o,n,r,i);return e&&_?S.createElement(qy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function _de(){let t=kde(),e=pde(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"ErrorBoundary")," or"," ",S.createElement("code",{style:s},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,o)}var jde=S.createElement(_de,null),Nde=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(_l.Provider,{value:this.props.routeContext},S.createElement(Yk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sde({routeContext:t,match:e,children:n}){let r=S.useContext(um);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(_l.Provider,{value:t},n)}function Tde(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Vn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:p}=n,v=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,m)=>{let p,v=!1,w=null,x=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||jde,l&&(c<0&&m===0?(Cz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):c===m&&(v=!0,x=f.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,m+1)),_=()=>{let T;return p?T=w:v?T=x:f.route.Component?T=S.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,S.createElement(Sde,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?S.createElement(Nde,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:_(),routeContext:{outlet:null,matches:g,isDataRoute:!0},unstable_onError:r}):_()},null)}function Qk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ede(t){let e=S.useContext(um);return Vn(e,Qk(t)),e}function Ade(t){let e=S.useContext(n1);return Vn(e,Qk(t)),e}function Pde(t){let e=S.useContext(_l);return Vn(e,Qk(t)),e}function Xk(t){let e=Pde(t),n=e.matches[e.matches.length-1];return Vn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Cde(){return Xk("useRouteId")}function kde(){var r;let t=S.useContext(Yk),e=Ade("useRouteError"),n=Xk("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Ide(){let{router:t}=Ede("useNavigate"),e=Xk("useNavigate"),n=S.useRef(!1);return Az(()=>{n.current=!0}),S.useCallback(async(i,s={})=>{lo(n.current,Ez),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var k3={};function Cz(t,e,n){!e&&!k3[t]&&(k3[t]=!0,lo(!1,n))}S.memo(Ode);function Ode({routes:t,future:e,state:n,unstable_onError:r}){return Pz(t,void 0,n,r,e)}function Xn(t){Vn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rde({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Vn(!Uy(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=cm(n));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:p="default"}=n,v=S.useMemo(()=>{let w=ol(c,o);return w==null?null:{location:{pathname:w,search:d,hash:f,state:m,key:p},navigationType:r}},[o,c,d,f,m,p,r]);return lo(v!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:S.createElement(mo.Provider,{value:l},S.createElement(qy.Provider,{children:e,value:v}))}function Mde({children:t,location:e}){return wde(bA(t),e)}function bA(t,e=[]){let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,bA(r.props.children,s));return}Vn(r.type===Xn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=bA(r.props.children,s)),n.push(o)}),n}var xx="get",bx="application/x-www-form-urlencoded";function r1(t){return t!=null&&typeof t.tagName=="string"}function Dde(t){return r1(t)&&t.tagName.toLowerCase()==="button"}function Lde(t){return r1(t)&&t.tagName.toLowerCase()==="form"}function $de(t){return r1(t)&&t.tagName.toLowerCase()==="input"}function Fde(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Vde(t,e){return t.button===0&&(!e||e==="_self")&&!Fde(t)}var Rv=null;function Bde(){if(Rv===null)try{new FormData(document.createElement("form"),0),Rv=!1}catch{Rv=!0}return Rv}var qde=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function oN(t){return t!=null&&!qde.has(t)?(lo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bx}"`),null):t}function Ude(t,e){let n,r,i,s,o;if(Lde(t)){let l=t.getAttribute("action");r=l?ol(l,e):null,n=t.getAttribute("method")||xx,i=oN(t.getAttribute("enctype"))||bx,s=new FormData(t)}else if(Dde(t)||$de(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?ol(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||xx,i=oN(t.getAttribute("formenctype"))||oN(l.getAttribute("enctype"))||bx,s=new FormData(l,t),!Bde()){let{name:d,type:f,value:m}=t;if(f==="image"){let p=d?`${d}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else d&&s.append(d,m)}}else{if(r1(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xx,r=null,i=bx,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jk(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zde(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ol(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Wde(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hde(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Gde(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await Wde(s,n);return o.links?o.links():[]}return[]}));return Xde(r.flat(1).filter(Hde).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function I3(t,e,n,r,i,s){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var f;return n[d].pathname!==c.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):s==="data"?e.filter((c,d)=>{var m;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Kde(t,e,{includeHydrateFallback:n}={}){return Yde(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Yde(t){return[...new Set(t)]}function Qde(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Xde(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(Qde(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function kz(){let t=S.useContext(um);return Jk(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Jde(){let t=S.useContext(n1);return Jk(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Zk=S.createContext(void 0);Zk.displayName="FrameworkContext";function Iz(){let t=S.useContext(Zk);return Jk(t,"You must render this element inside a <HydratedRouter> element"),t}function Zde(t,e){let n=S.useContext(Zk),[r,i]=S.useState(!1),[s,o]=S.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:m}=e,p=S.useRef(null);S.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=_=>{_.forEach(T=>{o(T.isIntersecting)})},g=new IntersectionObserver(x,{threshold:.5});return p.current&&g.observe(p.current),()=>{g.disconnect()}}},[t]),S.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let v=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:_p(l,v),onBlur:_p(c,w),onMouseEnter:_p(d,v),onMouseLeave:_p(f,w),onTouchStart:_p(m,v)}]:[!1,p,{}]}function _p(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ehe({page:t,...e}){let{router:n}=kz(),r=S.useMemo(()=>bz(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(nhe,{page:t,matches:r,...e}):null}function the(t){let{manifest:e,routeModules:n}=Iz(),[r,i]=S.useState([]);return S.useEffect(()=>{let s=!1;return Gde(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function nhe({page:t,matches:e,...n}){let r=jl(),{manifest:i,routeModules:s}=Iz(),{basename:o}=kz(),{loaderData:l,matches:c}=Jde(),d=S.useMemo(()=>I3(t,e,c,i,r,"data"),[t,e,c,i,r]),f=S.useMemo(()=>I3(t,e,c,i,r,"assets"),[t,e,c,i,r]),m=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,x=!1;if(e.forEach(_=>{var A;let T=i.routes[_.route.id];!T||!T.hasLoader||(!d.some(I=>I.route.id===_.route.id)&&_.route.id in l&&((A=s[_.route.id])!=null&&A.shouldRevalidate)||T.hasClientLoader?x=!0:w.add(_.route.id))}),w.size===0)return[];let g=zde(t,o,"data");return x&&w.size>0&&g.searchParams.set("_routes",e.filter(_=>w.has(_.route.id)).map(_=>_.route.id).join(",")),[g.pathname+g.search]},[o,l,r,i,d,e,t,s]),p=S.useMemo(()=>Kde(f,i),[f,i]),v=the(f);return S.createElement(S.Fragment,null,m.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),p.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),v.map(({key:w,link:x})=>S.createElement("link",{key:w,nonce:n.nonce,...x})))}function rhe(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Oz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Oz&&(window.__reactRouterVersion="7.9.5")}catch{}function ihe({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=Hue({window:n,v5Compat:!0}));let i=r.current,[s,o]=S.useState({action:i.action,location:i.location}),l=S.useCallback(c=>{S.startTransition(()=>o(c))},[o]);return S.useLayoutEffect(()=>i.listen(l),[i,l]),S.createElement(Rde,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var Rz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:f,viewTransition:m,...p},v){let{basename:w}=S.useContext(mo),x=typeof d=="string"&&Rz.test(d),g,_=!1;if(typeof d=="string"&&x&&(g=d,Oz))try{let O=new URL(window.location.href),D=d.startsWith("//")?new URL(O.protocol+d):new URL(d),L=ol(D.pathname,w);D.origin===O.origin&&L!=null?d=L+D.search+D.hash:_=!0}catch{lo(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=xde(d,{relative:i}),[A,I,P]=Zde(r,p),C=lhe(d,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:m});function E(O){e&&e(O),O.defaultPrevented||C(O)}let N=S.createElement("a",{...p,...P,href:g||T,onClick:_||s?e:E,ref:rhe(v,I),target:c,"data-discover":!x&&n==="render"?"true":void 0});return A&&!x?S.createElement(S.Fragment,null,N,S.createElement(ehe,{page:T})):N});Ht.displayName="Link";var she=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:c,...d},f){let m=zy(o,{relative:d.relative}),p=jl(),v=S.useContext(n1),{navigator:w,basename:x}=S.useContext(mo),g=v!=null&&fhe(m)&&l===!0,_=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,T=p.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(T=T.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&x&&(A=ol(A,x)||A);const I=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let P=T===_||!i&&T.startsWith(_)&&T.charAt(I)==="/",C=A!=null&&(A===_||!i&&A.startsWith(_)&&A.charAt(_.length)==="/"),E={isActive:P,isPending:C,isTransitioning:g},N=P?e:void 0,O;typeof r=="function"?O=r(E):O=[r,P?"active":null,C?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(E):s;return S.createElement(Ht,{...d,"aria-current":N,className:O,ref:f,style:D,to:o,viewTransition:l},typeof c=="function"?c(E):c)});she.displayName="NavLink";var ahe=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=xx,action:l,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:m,...p},v)=>{let w=dhe(),x=hhe(l,{relative:d}),g=o.toLowerCase()==="get"?"get":"post",_=typeof l=="string"&&Rz.test(l),T=A=>{if(c&&c(A),A.defaultPrevented)return;A.preventDefault();let I=A.nativeEvent.submitter,P=(I==null?void 0:I.getAttribute("formmethod"))||o;w(I||A.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:m})};return S.createElement("form",{ref:v,method:g,action:x,onSubmit:r?c:T,...p,"data-discover":!_&&t==="render"?"true":void 0})});ahe.displayName="Form";function ohe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mz(t){let e=S.useContext(um);return Vn(e,ohe(t)),e}function lhe(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=Zc(),c=jl(),d=zy(t,{relative:s});return S.useCallback(f=>{if(Vde(f,e)){f.preventDefault();let m=n!==void 0?n:Cg(c)===Cg(d);l(t,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,d,n,r,e,t,i,s,o])}var che=0,uhe=()=>`__${String(++che)}__`;function dhe(){let{router:t}=Mz("useSubmit"),{basename:e}=S.useContext(mo),n=Cde();return S.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:c,body:d}=Ude(r,e);if(i.navigate===!1){let f=i.fetcherKey||uhe();await t.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function hhe(t,{relative:e}={}){let{basename:n}=S.useContext(mo),r=S.useContext(_l);Vn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...zy(t||".",{relative:e})},o=jl();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Jo([n,s.pathname])),Cg(s)}function fhe(t,{relative:e}={}){let n=S.useContext(Tz);Vn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Mz("useViewTransitionState"),i=zy(t,{relative:e});if(!n.isTransitioning)return!1;let s=ol(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ol(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ab(i.pathname,o)!=null||ab(i.pathname,s)!=null}var Wy=gU();const mhe=Jt(Wy);function Xe(t){return"/"+t.toLowerCase().replace(/ /g,"-")}var i1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},phe={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},gc,GC,dU,ghe=(dU=class{constructor(){nn(this,gc,phe);nn(this,GC,!1)}setTimeoutProvider(t){Et(this,gc,t)}setTimeout(t,e){return ye(this,gc).setTimeout(t,e)}clearTimeout(t){ye(this,gc).clearTimeout(t)}setInterval(t,e){return ye(this,gc).setInterval(t,e)}clearInterval(t){ye(this,gc).clearInterval(t)}},gc=new WeakMap,GC=new WeakMap,dU),Mv=new ghe;function yhe(t){setTimeout(t,0)}var kg=typeof window>"u"||"Deno"in globalThis;function ob(){}function O3(t){return typeof t=="number"&&t>=0&&t!==1/0}function vhe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function rg(t,e){return typeof t=="function"?t(e):t}function sa(t,e){return typeof t=="function"?t(e):t}function R3(t){return JSON.stringify(t,(e,n)=>wA(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}var xhe=Object.prototype.hasOwnProperty;function Dz(t,e){if(t===e)return t;const n=M3(t)&&M3(e);if(!n&&!(wA(t)&&wA(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),o=s.length,l=n?new Array(o):{};let c=0;for(let d=0;d<o;d++){const f=n?d:s[d],m=t[f],p=e[f];if(m===p){l[f]=m,(n?d<i:xhe.call(t,f))&&c++;continue}if(m===null||p===null||typeof m!="object"||typeof p!="object"){l[f]=p;continue}const v=Dz(m,p);l[f]=v,v===m&&c++}return i===o&&c===i?t:l}function lb(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function M3(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wA(t){if(!D3(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!D3(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function D3(t){return Object.prototype.toString.call(t)==="[object Object]"}function L3(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Dz(t,e):e}function Lz(t,e){return typeof t=="function"?t(...e):!!t}var ed,yc,hf,hU,bhe=(hU=class extends i1{constructor(){super();nn(this,ed);nn(this,yc);nn(this,hf);Et(this,hf,e=>{if(!kg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ye(this,yc)||this.setEventListener(ye(this,hf))}onUnsubscribe(){var e;this.hasListeners()||((e=ye(this,yc))==null||e.call(this),Et(this,yc,void 0))}setEventListener(e){var n;Et(this,hf,e),(n=ye(this,yc))==null||n.call(this),Et(this,yc,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ye(this,ed)!==e&&(Et(this,ed,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ye(this,ed)=="boolean"?ye(this,ed):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ed=new WeakMap,yc=new WeakMap,hf=new WeakMap,hU),whe=new bhe;function $3(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var _he=yhe;function jhe(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=_he;const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var s1=jhe(),ff,vc,mf,fU,Nhe=(fU=class extends i1{constructor(){super();nn(this,ff,!0);nn(this,vc);nn(this,mf);Et(this,mf,e=>{if(!kg&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ye(this,vc)||this.setEventListener(ye(this,mf))}onUnsubscribe(){var e;this.hasListeners()||((e=ye(this,vc))==null||e.call(this),Et(this,vc,void 0))}setEventListener(e){var n;Et(this,mf,e),(n=ye(this,vc))==null||n.call(this),Et(this,vc,e(this.setOnline.bind(this)))}setOnline(e){ye(this,ff)!==e&&(Et(this,ff,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ye(this,ff)}},ff=new WeakMap,vc=new WeakMap,mf=new WeakMap,fU),She=new Nhe;function The(t){return(t??"online")==="online"?She.isOnline():!0}function Ehe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:The(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}var Li,Vt,Ay,yi,td,pf,Fo,xc,Py,gf,yf,nd,rd,bc,vf,on,Up,_A,jA,NA,SA,TA,EA,AA,$z,mU,Ahe=(mU=class extends i1{constructor(e,n){super();nn(this,on);nn(this,Li);nn(this,Vt);nn(this,Ay);nn(this,yi);nn(this,td);nn(this,pf);nn(this,Fo);nn(this,xc);nn(this,Py);nn(this,gf);nn(this,yf);nn(this,nd);nn(this,rd);nn(this,bc);nn(this,vf,new Set);this.options=n,Et(this,Li,e),Et(this,xc,null),Et(this,Fo,$3()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ye(this,Vt).addObserver(this),F3(ye(this,Vt),this.options)?Tn(this,on,Up).call(this):this.updateResult(),Tn(this,on,SA).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return PA(ye(this,Vt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return PA(ye(this,Vt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Tn(this,on,TA).call(this),Tn(this,on,EA).call(this),ye(this,Vt).removeObserver(this)}setOptions(e){const n=this.options,r=ye(this,Vt);if(this.options=ye(this,Li).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof sa(this.options.enabled,ye(this,Vt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Tn(this,on,AA).call(this),ye(this,Vt).setOptions(this.options),n._defaulted&&!lb(this.options,n)&&ye(this,Li).getQueryCache().notify({type:"observerOptionsUpdated",query:ye(this,Vt),observer:this});const i=this.hasListeners();i&&V3(ye(this,Vt),r,this.options,n)&&Tn(this,on,Up).call(this),this.updateResult(),i&&(ye(this,Vt)!==r||sa(this.options.enabled,ye(this,Vt))!==sa(n.enabled,ye(this,Vt))||rg(this.options.staleTime,ye(this,Vt))!==rg(n.staleTime,ye(this,Vt)))&&Tn(this,on,_A).call(this);const s=Tn(this,on,jA).call(this);i&&(ye(this,Vt)!==r||sa(this.options.enabled,ye(this,Vt))!==sa(n.enabled,ye(this,Vt))||s!==ye(this,bc))&&Tn(this,on,NA).call(this,s)}getOptimisticResult(e){const n=ye(this,Li).getQueryCache().build(ye(this,Li),e),r=this.createResult(n,e);return Che(this,r)&&(Et(this,yi,r),Et(this,pf,this.options),Et(this,td,ye(this,Vt).state)),r}getCurrentResult(){return ye(this,yi)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&ye(this,Fo).status==="pending"&&ye(this,Fo).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){ye(this,vf).add(e)}getCurrentQuery(){return ye(this,Vt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=ye(this,Li).defaultQueryOptions(e),r=ye(this,Li).getQueryCache().build(ye(this,Li),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Tn(this,on,Up).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ye(this,yi)))}createResult(e,n){var O;const r=ye(this,Vt),i=this.options,s=ye(this,yi),o=ye(this,td),l=ye(this,pf),d=e!==r?e.state:ye(this,Ay),{state:f}=e;let m={...f},p=!1,v;if(n._optimisticResults){const D=this.hasListeners(),L=!D&&F3(e,n),$=D&&V3(e,r,n,i);(L||$)&&(m={...m,...Ehe(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:w,errorUpdatedAt:x,status:g}=m;v=m.data;let _=!1;if(n.placeholderData!==void 0&&v===void 0&&g==="pending"){let D;s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(D=s.data,_=!0):D=typeof n.placeholderData=="function"?n.placeholderData((O=ye(this,yf))==null?void 0:O.state.data,ye(this,yf)):n.placeholderData,D!==void 0&&(g="success",v=L3(s==null?void 0:s.data,D,n),p=!0)}if(n.select&&v!==void 0&&!_)if(s&&v===(o==null?void 0:o.data)&&n.select===ye(this,Py))v=ye(this,gf);else try{Et(this,Py,n.select),v=n.select(v),v=L3(s==null?void 0:s.data,v,n),Et(this,gf,v),Et(this,xc,null)}catch(D){Et(this,xc,D)}ye(this,xc)&&(w=ye(this,xc),v=ye(this,gf),x=Date.now(),g="error");const T=m.fetchStatus==="fetching",A=g==="pending",I=g==="error",P=A&&T,C=v!==void 0,N={status:g,fetchStatus:m.fetchStatus,isPending:A,isSuccess:g==="success",isError:I,isInitialLoading:P,isLoading:P,data:v,dataUpdatedAt:m.dataUpdatedAt,error:w,errorUpdatedAt:x,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:T,isRefetching:T&&!A,isLoadingError:I&&!C,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:I&&C,isStale:eI(e,n),refetch:this.refetch,promise:ye(this,Fo),isEnabled:sa(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=F=>{N.status==="error"?F.reject(N.error):N.data!==void 0&&F.resolve(N.data)},L=()=>{const F=Et(this,Fo,N.promise=$3());D(F)},$=ye(this,Fo);switch($.status){case"pending":e.queryHash===r.queryHash&&D($);break;case"fulfilled":(N.status==="error"||N.data!==$.value)&&L();break;case"rejected":(N.status!=="error"||N.error!==$.reason)&&L();break}}return N}updateResult(){const e=ye(this,yi),n=this.createResult(ye(this,Vt),this.options);if(Et(this,td,ye(this,Vt).state),Et(this,pf,this.options),ye(this,td).data!==void 0&&Et(this,yf,ye(this,Vt)),lb(n,e))return;Et(this,yi,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!ye(this,vf).size)return!0;const o=new Set(s??ye(this,vf));return this.options.throwOnError&&o.add("error"),Object.keys(ye(this,yi)).some(l=>{const c=l;return ye(this,yi)[c]!==e[c]&&o.has(c)})};Tn(this,on,$z).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Tn(this,on,SA).call(this)}},Li=new WeakMap,Vt=new WeakMap,Ay=new WeakMap,yi=new WeakMap,td=new WeakMap,pf=new WeakMap,Fo=new WeakMap,xc=new WeakMap,Py=new WeakMap,gf=new WeakMap,yf=new WeakMap,nd=new WeakMap,rd=new WeakMap,bc=new WeakMap,vf=new WeakMap,on=new WeakSet,Up=function(e){Tn(this,on,AA).call(this);let n=ye(this,Vt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(ob)),n},_A=function(){Tn(this,on,TA).call(this);const e=rg(this.options.staleTime,ye(this,Vt));if(kg||ye(this,yi).isStale||!O3(e))return;const r=vhe(ye(this,yi).dataUpdatedAt,e)+1;Et(this,nd,Mv.setTimeout(()=>{ye(this,yi).isStale||this.updateResult()},r))},jA=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ye(this,Vt)):this.options.refetchInterval)??!1},NA=function(e){Tn(this,on,EA).call(this),Et(this,bc,e),!(kg||sa(this.options.enabled,ye(this,Vt))===!1||!O3(ye(this,bc))||ye(this,bc)===0)&&Et(this,rd,Mv.setInterval(()=>{(this.options.refetchIntervalInBackground||whe.isFocused())&&Tn(this,on,Up).call(this)},ye(this,bc)))},SA=function(){Tn(this,on,_A).call(this),Tn(this,on,NA).call(this,Tn(this,on,jA).call(this))},TA=function(){ye(this,nd)&&(Mv.clearTimeout(ye(this,nd)),Et(this,nd,void 0))},EA=function(){ye(this,rd)&&(Mv.clearInterval(ye(this,rd)),Et(this,rd,void 0))},AA=function(){const e=ye(this,Li).getQueryCache().build(ye(this,Li),this.options);if(e===ye(this,Vt))return;const n=ye(this,Vt);Et(this,Vt,e),Et(this,Ay,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},$z=function(e){s1.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(ye(this,yi))}),ye(this,Li).getQueryCache().notify({query:ye(this,Vt),type:"observerResultsUpdated"})})},mU);function Phe(t,e){return sa(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function F3(t,e){return Phe(t,e)||t.state.data!==void 0&&PA(t,e,e.refetchOnMount)}function PA(t,e,n){if(sa(e.enabled,t)!==!1&&rg(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&eI(t,e)}return!1}function V3(t,e,n,r){return(t!==e||sa(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&eI(t,n)}function eI(t,e){return sa(e.enabled,t)!==!1&&t.isStaleByTime(rg(e.staleTime,t))}function Che(t,e){return!lb(t.getCurrentResult(),e)}function khe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vo,wc,$i,Bo,nl,wx,CA,pU,Ihe=(pU=class extends i1{constructor(n,r){super();nn(this,nl);nn(this,Vo);nn(this,wc);nn(this,$i);nn(this,Bo);Et(this,Vo,n),this.setOptions(r),this.bindMethods(),Tn(this,nl,wx).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ye(this,Vo).defaultMutationOptions(n),lb(this.options,r)||ye(this,Vo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ye(this,$i),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&R3(r.mutationKey)!==R3(this.options.mutationKey)?this.reset():((i=ye(this,$i))==null?void 0:i.state.status)==="pending"&&ye(this,$i).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ye(this,$i))==null||n.removeObserver(this)}onMutationUpdate(n){Tn(this,nl,wx).call(this),Tn(this,nl,CA).call(this,n)}getCurrentResult(){return ye(this,wc)}reset(){var n;(n=ye(this,$i))==null||n.removeObserver(this),Et(this,$i,void 0),Tn(this,nl,wx).call(this),Tn(this,nl,CA).call(this)}mutate(n,r){var i;return Et(this,Bo,r),(i=ye(this,$i))==null||i.removeObserver(this),Et(this,$i,ye(this,Vo).getMutationCache().build(ye(this,Vo),this.options)),ye(this,$i).addObserver(this),ye(this,$i).execute(n)}},Vo=new WeakMap,wc=new WeakMap,$i=new WeakMap,Bo=new WeakMap,nl=new WeakSet,wx=function(){var r;const n=((r=ye(this,$i))==null?void 0:r.state)??khe();Et(this,wc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},CA=function(n){s1.batch(()=>{var r,i,s,o,l,c,d,f;if(ye(this,Bo)&&this.hasListeners()){const m=ye(this,wc).variables,p=ye(this,wc).context,v={client:ye(this,Vo),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=ye(this,Bo)).onSuccess)==null||i.call(r,n.data,m,p,v),(o=(s=ye(this,Bo)).onSettled)==null||o.call(s,n.data,null,m,p,v)):(n==null?void 0:n.type)==="error"&&((c=(l=ye(this,Bo)).onError)==null||c.call(l,n.error,m,p,v),(f=(d=ye(this,Bo)).onSettled)==null||f.call(d,void 0,n.error,m,p,v))}this.listeners.forEach(m=>{m(ye(this,wc))})})},pU),Ohe=S.createContext(void 0),xr=t=>{const e=S.useContext(Ohe);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Fz=S.createContext(!1),Rhe=()=>S.useContext(Fz);Fz.Provider;function Mhe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Dhe=S.createContext(Mhe()),Lhe=()=>S.useContext(Dhe),$he=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Fhe=t=>{S.useEffect(()=>{t.clearReset()},[t])},Vhe=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||Lz(n,[t.error,r])),Bhe=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},qhe=(t,e)=>t.isLoading&&t.isFetching&&!e,Uhe=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,B3=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function zhe(t,e,n){var m,p,v,w,x;const r=Rhe(),i=Lhe(),s=xr(),o=s.defaultQueryOptions(t);(p=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||p.call(m,o),o._optimisticResults=r?"isRestoring":"optimistic",Bhe(o),$he(o,i),Fhe(i);const l=!s.getQueryCache().get(o.queryHash),[c]=S.useState(()=>new e(s,o)),d=c.getOptimisticResult(o),f=!r&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(g=>{const _=f?c.subscribe(s1.batchCalls(g)):ob;return c.updateResult(),_},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),S.useEffect(()=>{c.setOptions(o)},[o,c]),Uhe(o,d))throw B3(o,c,i);if(Vhe({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((w=(v=s.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||w.call(v,o,d),o.experimental_prefetchInRender&&!kg&&qhe(d,r)){const g=l?B3(o,c,i):(x=s.getQueryCache().get(o.queryHash))==null?void 0:x.promise;g==null||g.catch(ob).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function dt(t,e){return zhe(t,Ahe)}function Pn(t,e){const n=xr(),[r]=S.useState(()=>new Ihe(n,t));S.useEffect(()=>{r.setOptions(t)},[r,t]);const i=S.useSyncExternalStore(S.useCallback(o=>r.subscribe(s1.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=S.useCallback((o,l)=>{r.mutate(o,l).catch(ob)},[r]);if(i.error&&Lz(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Whe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vz=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hhe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ghe=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},c)=>S.createElement("svg",{ref:c,...Hhe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Vz("lucide",i),...l},[...o.map(([d,f])=>S.createElement(d,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const n=S.forwardRef(({className:r,...i},s)=>S.createElement(Ghe,{ref:s,iconNode:e,className:Vz(`lucide-${Whe(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Khe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sd=Ee("ArrowLeft",Khe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yhe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Bz=Ee("ArrowRight",Yhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qhe=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Gr=Ee("Award",Qhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xhe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Jhe=Ee("Bell",Xhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zhe=[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]],lN=Ee("Binary",Zhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const efe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Rs=Ee("BookOpen",efe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tfe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],nfe=Ee("Book",tfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rfe=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],pr=Ee("Brain",rfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]],cb=Ee("Brush",ife);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Ou=Ee("Calculator",sfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const afe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hn=Ee("Calendar",afe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Sf=Ee("ChartColumn",ofe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lfe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dn=Ee("Check",lfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tI=Ee("ChevronDown",cfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ufe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nI=Ee("ChevronRight",ufe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dfe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hfe=Ee("ChevronUp",dfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ffe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],dm=Ee("CircleAlert",ffe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mfe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ut=Ee("CircleCheckBig",mfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yd=Ee("CircleX",pfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yfe=Ee("Circle",gfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vfe=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],xfe=Ee("ClipboardList",vfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],_n=Ee("Clock",bfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Pc=Ee("Coins",wfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _fe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],a1=Ee("CreditCard",_fe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jfe=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],bi=Ee("Crown",jfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nfe=[["circle",{cx:"12",cy:"6",r:"1",key:"1bh7o1"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["circle",{cx:"12",cy:"18",r:"1",key:"lqb9t5"}]],hc=Ee("Divide",Nfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],jp=Ee("DollarSign",Sfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ig=Ee("Download",Tfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],qz=Ee("Eraser",Efe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Afe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_x=Ee("ExternalLink",Afe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],q3=Ee("Eye",Pfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],kfe=Ee("Facebook",Cfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],U3=Ee("FileText",Ife);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ofe=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Fh=Ee("Flame",Ofe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Mfe=Ee("Footprints",Rfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Lfe=Ee("Gamepad2",Dfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],kA=Ee("Gift",$fe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ffe=[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]],Vfe=Ee("Glasses",Ffe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],qfe=Ee("Globe",Bfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],cN=Ee("GraduationCap",Ufe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],gi=Ee("Grid3x3",zfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],ig=Ee("Heart",Wfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],jx=Ee("House",Hfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gfe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Kfe=Ee("Image",Gfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ai=Ee("Info",Yfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qfe=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Xfe=Ee("Instagram",Qfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],z3=Ee("Lightbulb",Jfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],eme=Ee("Link2",Zfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tme=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Uz=Ee("LoaderCircle",tme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nme=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],oi=Ee("Lock",nme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rme=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],W3=Ee("LogOut",rme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ime=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],nf=Ee("Mail",ime);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sme=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],ame=Ee("Maximize2",sme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ome=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],sg=Ee("Medal",ome);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lme=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],cme=Ee("Menu",lme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ume=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],fc=Ee("MessageSquare",ume);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dme=[["path",{d:"M5 12h14",key:"1ays0h"}]],mc=Ee("Minus",dme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hme=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],fme=Ee("Moon",hme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mme=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],zz=Ee("PaintBucket",mme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pme=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],vd=Ee("Palette",pme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gme=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],yme=Ee("PartyPopper",gme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vme=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Nh=Ee("Percent",vme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xme=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],ag=Ee("Play",xme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bme=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fr=Ee("Plus",bme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wme=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_me=Ee("RefreshCw",wme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jme=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],Dv=Ee("Reply",jme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nme=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Sme=Ee("Rocket",Nme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tme=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],rI=Ee("RotateCcw",Tme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eme=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ub=Ee("Save",Eme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ame=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Wz=Ee("Send",Ame);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pme=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Og=Ee("Settings",Pme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cme=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],tc=Ee("Shapes",Cme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kme=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],H3=Ee("Share2",kme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ime=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],G3=Ee("Share",Ime);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ome=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Bi=Ee("Shield",Ome);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rme=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],Mme=Ee("Shirt",Rme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dme=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Wo=Ee("ShoppingBag",Dme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lme=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],$me=Ee("Shuffle",Lme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fme=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Vme=Ee("Smartphone",Fme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],qme=Ee("Smile",Bme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ume=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Yt=Ee("Sparkles",Ume);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zme=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Nt=Ee("Star",zme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wme=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Hme=Ee("Sun",Wme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Qt=Ee("Target",Gme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kme=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Yme=Ee("ThumbsUp",Kme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qme=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Hy=Ee("Trash2",Qme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xme=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Vc=Ee("TrendingDown",Xme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jme=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],gn=Ee("TrendingUp",Jme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zme=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zr=Ee("TriangleAlert",Zme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Ct=Ee("Trophy",epe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],npe=Ee("Twitter",tpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ipe=Ee("Upload",rpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],IA=Ee("UserCog",spe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ape=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],zp=Ee("UserPlus",ape);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ope=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rf=Ee("User",ope);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lpe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],vr=Ee("Users",lpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],K3=Ee("Volume2",cpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tr=Ee("X",upe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dpe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],qr=Ee("Zap",dpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hpe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],fpe=Ee("ZoomIn",hpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mpe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ppe=Ee("ZoomOut",mpe);function Hz(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Hz(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ht(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Hz(t))&&(r&&(r+=" "),r+=e);return r}const Y3=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Q3=ht,Gy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Q3(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const f=n==null?void 0:n[d],m=s==null?void 0:s[d];if(f===null)return null;const p=Y3(f)||Y3(m);return i[d][p]}),l=n&&Object.entries(n).reduce((d,f)=>{let[m,p]=f;return p===void 0||(d[m]=p),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:m,className:p,...v}=f;return Object.entries(v).every(w=>{let[x,g]=w;return Array.isArray(g)?g.includes({...s,...l}[x]):{...s,...l}[x]===g})?[...d,m,p]:d},[]);return Q3(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},iI="-",gpe=t=>{const e=vpe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(iI);return l[0]===""&&l.length!==1&&l.shift(),Gz(l,e)||ype(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Gz=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Gz(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(iI);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},X3=/^\[(.+)\]$/,ype=t=>{if(X3.test(t)){const e=X3.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},vpe=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)OA(n[i],r,i,e);return r},OA=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:J3(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(xpe(i)){OA(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{OA(o,J3(e,s),n,r)})})},J3=(t,e)=>{let n=t;return e.split(iI).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},xpe=t=>t.isThemeGetter,bpe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},RA="!",MA=":",wpe=MA.length,_pe=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,l=0,c=0,d;for(let w=0;w<i.length;w++){let x=i[w];if(o===0&&l===0){if(x===MA){s.push(i.slice(c,w)),c=w+wpe;continue}if(x==="/"){d=w;continue}}x==="["?o++:x==="]"?o--:x==="("?l++:x===")"&&l--}const f=s.length===0?i:i.substring(c),m=jpe(f),p=m!==f,v=d&&d>c?d-c:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:v}};if(e){const i=e+MA,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},jpe=t=>t.endsWith(RA)?t.substring(0,t.length-1):t.startsWith(RA)?t.substring(1):t,Npe=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},Spe=t=>({cache:bpe(t.cacheSize),parseClassName:_pe(t),sortModifiers:Npe(t),...gpe(t)}),Tpe=/\s+/,Epe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],l=t.trim().split(Tpe);let c="";for(let d=l.length-1;d>=0;d-=1){const f=l[d],{isExternal:m,modifiers:p,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:x}=n(f);if(m){c=f+(c.length>0?" "+c:c);continue}let g=!!x,_=r(g?w.substring(0,x):w);if(!_){if(!g){c=f+(c.length>0?" "+c:c);continue}if(_=r(w),!_){c=f+(c.length>0?" "+c:c);continue}g=!1}const T=s(p).join(":"),A=v?T+RA:T,I=A+_;if(o.includes(I))continue;o.push(I);const P=i(_,g);for(let C=0;C<P.length;++C){const E=P[C];o.push(A+E)}c=f+(c.length>0?" "+c:c)}return c};function Ape(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Kz(e))&&(r&&(r+=" "),r+=n);return r}const Kz=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Kz(t[r]))&&(n&&(n+=" "),n+=e);return n};function Ppe(t,...e){let n,r,i,s=o;function o(c){const d=e.reduce((f,m)=>m(f),t());return n=Spe(d),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const d=r(c);if(d)return d;const f=Epe(c,n);return i(c,f),f}return function(){return s(Ape.apply(null,arguments))}}const dr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Yz=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Qz=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Cpe=/^\d+\/\d+$/,kpe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ipe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ope=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Rpe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mpe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sh=t=>Cpe.test(t),At=t=>!!t&&!Number.isNaN(Number(t)),nc=t=>!!t&&Number.isInteger(Number(t)),uN=t=>t.endsWith("%")&&At(t.slice(0,-1)),Do=t=>kpe.test(t),Dpe=()=>!0,Lpe=t=>Ipe.test(t)&&!Ope.test(t),Xz=()=>!1,$pe=t=>Rpe.test(t),Fpe=t=>Mpe.test(t),Vpe=t=>!Ge(t)&&!Ke(t),Bpe=t=>hm(t,eW,Xz),Ge=t=>Yz.test(t),Ru=t=>hm(t,tW,Lpe),dN=t=>hm(t,Hpe,At),Z3=t=>hm(t,Jz,Xz),qpe=t=>hm(t,Zz,Fpe),Lv=t=>hm(t,nW,$pe),Ke=t=>Qz.test(t),Np=t=>fm(t,tW),Upe=t=>fm(t,Gpe),eD=t=>fm(t,Jz),zpe=t=>fm(t,eW),Wpe=t=>fm(t,Zz),$v=t=>fm(t,nW,!0),hm=(t,e,n)=>{const r=Yz.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},fm=(t,e,n=!1)=>{const r=Qz.exec(t);return r?r[1]?e(r[1]):n:!1},Jz=t=>t==="position"||t==="percentage",Zz=t=>t==="image"||t==="url",eW=t=>t==="length"||t==="size"||t==="bg-size",tW=t=>t==="length",Hpe=t=>t==="number",Gpe=t=>t==="family-name",nW=t=>t==="shadow",Kpe=()=>{const t=dr("color"),e=dr("font"),n=dr("text"),r=dr("font-weight"),i=dr("tracking"),s=dr("leading"),o=dr("breakpoint"),l=dr("container"),c=dr("spacing"),d=dr("radius"),f=dr("shadow"),m=dr("inset-shadow"),p=dr("text-shadow"),v=dr("drop-shadow"),w=dr("blur"),x=dr("perspective"),g=dr("aspect"),_=dr("ease"),T=dr("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...I(),Ke,Ge],C=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],N=()=>[Ke,Ge,c],O=()=>[Sh,"full","auto",...N()],D=()=>[nc,"none","subgrid",Ke,Ge],L=()=>["auto",{span:["full",nc,Ke,Ge]},nc,Ke,Ge],$=()=>[nc,"auto",Ke,Ge],F=()=>["auto","min","max","fr",Ke,Ge],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...N()],X=()=>[Sh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],U=()=>[t,Ke,Ge],Q=()=>[...I(),eD,Z3,{position:[Ke,Ge]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",zpe,Bpe,{size:[Ke,Ge]}],Z=()=>[uN,Np,Ru],ue=()=>["","none","full",d,Ke,Ge],le=()=>["",At,Np,Ru],be=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[At,uN,eD,Z3],Ie=()=>["","none",w,Ke,Ge],fe=()=>["none",At,Ke,Ge],Ae=()=>["none",At,Ke,Ge],Re=()=>[At,Ke,Ge],he=()=>[Sh,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Do],breakpoint:[Do],color:[Dpe],container:[Do],"drop-shadow":[Do],ease:["in","out","in-out"],font:[Vpe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Do],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Do],shadow:[Do],spacing:["px",At],text:[Do],"text-shadow":[Do],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Sh,Ge,Ke,g]}],container:["container"],columns:[{columns:[At,Ge,Ke,l]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[nc,"auto",Ke,Ge]}],basis:[{basis:[Sh,"full","auto",l,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[At,Sh,"auto","initial","none",Ge]}],grow:[{grow:["",At,Ke,Ge]}],shrink:[{shrink:["",At,Ke,Ge]}],order:[{order:[nc,"first","last","none",Ke,Ge]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[l,"screen",...X()]}],"min-w":[{"min-w":[l,"screen","none",...X()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",n,Np,Ru]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ke,dN]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",uN,Ge]}],"font-family":[{font:[Upe,Ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ke,Ge]}],"line-clamp":[{"line-clamp":[At,"none",Ke,dN]}],leading:[{leading:[s,...N()]}],"list-image":[{"list-image":["none",Ke,Ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ke,Ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[At,"from-font","auto",Ke,Ru]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[At,"auto",Ke,Ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke,Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke,Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},nc,Ke,Ge],radial:["",Ke,Ge],conic:[nc,Ke,Ge]},Wpe,qpe]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[At,Ke,Ge]}],"outline-w":[{outline:["",At,Np,Ru]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",f,$v,Lv]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",m,$v,Lv]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[At,Ru]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",p,$v,Lv]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[At,Ke,Ge]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[At]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[Ke,Ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[At]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ke,Ge]}],filter:[{filter:["","none",Ke,Ge]}],blur:[{blur:Ie()}],brightness:[{brightness:[At,Ke,Ge]}],contrast:[{contrast:[At,Ke,Ge]}],"drop-shadow":[{"drop-shadow":["","none",v,$v,Lv]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",At,Ke,Ge]}],"hue-rotate":[{"hue-rotate":[At,Ke,Ge]}],invert:[{invert:["",At,Ke,Ge]}],saturate:[{saturate:[At,Ke,Ge]}],sepia:[{sepia:["",At,Ke,Ge]}],"backdrop-filter":[{"backdrop-filter":["","none",Ke,Ge]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[At,Ke,Ge]}],"backdrop-contrast":[{"backdrop-contrast":[At,Ke,Ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",At,Ke,Ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[At,Ke,Ge]}],"backdrop-invert":[{"backdrop-invert":["",At,Ke,Ge]}],"backdrop-opacity":[{"backdrop-opacity":[At,Ke,Ge]}],"backdrop-saturate":[{"backdrop-saturate":[At,Ke,Ge]}],"backdrop-sepia":[{"backdrop-sepia":["",At,Ke,Ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ke,Ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[At,"initial",Ke,Ge]}],ease:[{ease:["linear","initial",_,Ke,Ge]}],delay:[{delay:[At,Ke,Ge]}],animate:[{animate:["none",T,Ke,Ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Ke,Ge]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:Ae()}],"scale-x":[{"scale-x":Ae()}],"scale-y":[{"scale-y":Ae()}],"scale-z":[{"scale-z":Ae()}],"scale-3d":["scale-3d"],skew:[{skew:Re()}],"skew-x":[{"skew-x":Re()}],"skew-y":[{"skew-y":Re()}],transform:[{transform:[Ke,Ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:he()}],"translate-x":[{"translate-x":he()}],"translate-y":[{"translate-y":he()}],"translate-z":[{"translate-z":he()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke,Ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke,Ge]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[At,Np,Ru,dN]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ype=Ppe(Kpe);function vt(...t){return Ype(ht(t))}const Qpe=Gy("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function je({className:t,variant:e,...n}){return a.jsx("div",{className:vt(Qpe({variant:e}),t),...n})}function tD(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function eu(...t){return e=>{let n=!1;const r=t.map(i=>{const s=tD(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():tD(t[i],null)}}}}function $t(...t){return S.useCallback(eu(...t),t)}var Xpe=Symbol.for("react.lazy"),hb=YC[" use ".trim().toString()];function Jpe(t){return typeof t=="object"&&t!==null&&"then"in t}function rW(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Xpe&&"_payload"in t&&Jpe(t._payload)}function sI(t){const e=ege(t),n=S.forwardRef((r,i)=>{let{children:s,...o}=r;rW(s)&&typeof hb=="function"&&(s=hb(s._payload));const l=S.Children.toArray(s),c=l.find(nge);if(c){const d=c.props.children,f=l.map(m=>m===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return a.jsx(e,{...o,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var Zpe=sI("Slot");function ege(t){const e=S.forwardRef((n,r)=>{let{children:i,...s}=n;if(rW(i)&&typeof hb=="function"&&(i=hb(i._payload)),S.isValidElement(i)){const o=ige(i),l=rge(s,i.props);return i.type!==S.Fragment&&(l.ref=r?eu(r,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tge=Symbol("radix.slottable");function nge(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tge}function rge(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function ige(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const sge=Gy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),oe=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Zpe:"button";return a.jsx(o,{className:vt(sge({variant:e,size:n,className:t})),ref:s,...i})});oe.displayName="Button";const an=S.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:vt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));an.displayName="Input";const age=Gy("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ue=S.forwardRef(({className:t,variant:e,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:vt(age({variant:e}),t),...n}));Ue.displayName="Alert";const oge=S.forwardRef(({className:t,...e},n)=>a.jsx("h5",{ref:n,className:vt("mb-1 font-medium leading-none tracking-tight",t),...e}));oge.displayName="AlertTitle";const ze=S.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:vt("text-sm [&_p]:leading-relaxed",t),...e}));ze.displayName="AlertDescription";function lge({showTitle:t=!1,redirectTo:e="Home"}){const n=Zc(),[r,i]=S.useState("sign-in"),[s,o]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(""),[m,p]=S.useState(!1),[v,w]=S.useState(""),[x,g]=S.useState(""),_=(()=>{let I=0;return l.length>=8&&I++,/[A-Z]/.test(l)&&I++,/[0-9]/.test(l)&&I++,/[^A-Za-z0-9]/.test(l)&&I++,I})(),T=async()=>{if(g(""),w(""),!s||!l){g("Please enter email and password.");return}if(r==="sign-up"){if(l.length<6){g("Password must be at least 6 characters.");return}if(l!==d){g("Passwords do not match.");return}}p(!0);try{if(r==="sign-up"){const I=await vie(Ov,s,l),P=Gi(Wue,"users",I.user.uid);await Fc(P,{email:s,displayName:I.user.displayName||s.split("@")[0],createdAt:Gle(),onboarding:{completed:!1,lastStep:0},coins:0,avatar:{skinTone:"medium"}},{merge:!0}),w("Account created! You're signed in.")}else await xie(Ov,s,l),w("Signed in successfully.");try{n(Xe(e))}catch{}}catch(I){g((I==null?void 0:I.message)||"Authentication failed.")}finally{p(!1)}},A=async()=>{if(g(""),w(""),!s){g("Enter your email to receive a reset link.");return}try{await yie(Ov,s),w("Password reset email sent.")}catch(I){g((I==null?void 0:I.message)||"Failed to send reset email.")}};return a.jsxs("div",{className:"w-full max-w-md mx-auto bg-white rounded-2xl shadow-xl p-6 text-left",children:[t&&a.jsx("h2",{className:"text-2xl font-bold mb-4 text-purple-700",children:r==="sign-in"?"Sign in":"Create your account"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(an,{placeholder:"Email",type:"email",value:s,onChange:I=>o(I.target.value)}),a.jsx(an,{placeholder:"Password",type:"password",value:l,onChange:I=>c(I.target.value)}),r==="sign-up"&&a.jsxs(a.Fragment,{children:[a.jsx(an,{placeholder:"Confirm password",type:"password",value:d,onChange:I=>f(I.target.value)}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Strength: ",["very weak","weak","fair","good","strong"][_]]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(oe,{onClick:T,disabled:m,className:"bg-purple-600 hover:bg-purple-700",children:m?"Please wait":r==="sign-in"?"Sign In":"Sign Up"}),a.jsx("button",{type:"button",className:"text-sm text-purple-700 hover:underline",onClick:()=>i(r==="sign-in"?"sign-up":"sign-in"),children:r==="sign-in"?"Need an account? Sign up":"Have an account? Sign in"})]}),a.jsx("button",{type:"button",onClick:A,className:"text-sm text-gray-600 hover:underline",children:"Forgot password?"}),(x||v)&&a.jsx(Ue,{className:x?"bg-red-50 border-red-200":"bg-green-50 border-green-200",children:a.jsx(ze,{className:x?"text-red-700":"text-green-700",children:x||v})})]}),a.jsx("div",{className:"mt-4 text-xs text-gray-500",children:"By continuing you agree to our terms and privacy."}),a.jsx("div",{className:"mt-4",children:a.jsx(oe,{variant:"outline",onClick:()=>s9(Ov),className:"w-full",children:"Sign Out"})})]})}function Fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function _a(t,e=[]){let n=[];function r(s,o){const l=S.createContext(o),c=n.length;n=[...n,o];const d=m=>{var _;const{scope:p,children:v,...w}=m,x=((_=p==null?void 0:p[t])==null?void 0:_[c])||l,g=S.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:g,children:v})};d.displayName=s+"Provider";function f(m,p){var x;const v=((x=p==null?void 0:p[t])==null?void 0:x[c])||l,w=S.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,f]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,cge(i,...e)]}function cge(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(s)[`__scope${d}`];return{...l,...m}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var hi=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},uge=YC[" useInsertionEffect ".trim().toString()]||hi;function ll({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=dge({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const f=S.useRef(t!==void 0);S.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const d=S.useCallback(f=>{var m;if(l){const p=hge(f)?f(t):f;p!==t&&((m=o.current)==null||m.call(o,p))}else s(f)},[l,t,s,o]);return[c,d]}function dge({defaultProp:t,onChange:e}){const[n,r]=S.useState(t),i=S.useRef(n),s=S.useRef(e);return uge(()=>{s.current=e},[e]),S.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function hge(t){return typeof t=="function"}function fge(t){const e=mge(t),n=S.forwardRef((r,i)=>{const{children:s,...o}=r,l=S.Children.toArray(s),c=l.find(gge);if(c){const d=c.props.children,f=l.map(m=>m===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return a.jsx(e,{...o,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function mge(t){const e=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const o=vge(i),l=yge(s,i.props);return i.type!==S.Fragment&&(l.ref=r?eu(r,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pge=Symbol("radix.slottable");function gge(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pge}function yge(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function vge(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var xge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wt=xge.reduce((t,e)=>{const n=fge(`Primitive.${e}`),r=S.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function iW(t,e){t&&Wy.flushSync(()=>t.dispatchEvent(e))}function nD(t){const e=bge(t),n=S.forwardRef((r,i)=>{const{children:s,...o}=r,l=S.Children.toArray(s),c=l.find(_ge);if(c){const d=c.props.children,f=l.map(m=>m===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return a.jsx(e,{...o,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function bge(t){const e=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const o=Nge(i),l=jge(s,i.props);return i.type!==S.Fragment&&(l.ref=r?eu(r,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wge=Symbol("radix.slottable");function _ge(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wge}function jge(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Nge(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function o1(t){const e=t+"CollectionProvider",[n,r]=_a(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:g,children:_}=x,T=z.useRef(null),A=z.useRef(new Map).current;return a.jsx(i,{scope:g,itemMap:A,collectionRef:T,children:_})};o.displayName=e;const l=t+"CollectionSlot",c=nD(l),d=z.forwardRef((x,g)=>{const{scope:_,children:T}=x,A=s(l,_),I=$t(g,A.collectionRef);return a.jsx(c,{ref:I,children:T})});d.displayName=l;const f=t+"CollectionItemSlot",m="data-radix-collection-item",p=nD(f),v=z.forwardRef((x,g)=>{const{scope:_,children:T,...A}=x,I=z.useRef(null),P=$t(g,I),C=s(f,_);return z.useEffect(()=>(C.itemMap.set(I,{ref:I,...A}),()=>void C.itemMap.delete(I))),a.jsx(p,{[m]:"",ref:P,children:T})});v.displayName=f;function w(x){const g=s(t+"CollectionConsumer",x);return z.useCallback(()=>{const T=g.collectionRef.current;if(!T)return[];const A=Array.from(T.querySelectorAll(`[${m}]`));return Array.from(g.itemMap.values()).sort((C,E)=>A.indexOf(C.ref.current)-A.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},w,r]}var Sge=S.createContext(void 0);function Ky(t){const e=S.useContext(Sge);return t||e||"ltr"}function co(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Tge(t,e=globalThis==null?void 0:globalThis.document){const n=co(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Ege="DismissableLayer",DA="dismissableLayer.update",Age="dismissableLayer.pointerDownOutside",Pge="dismissableLayer.focusOutside",rD,sW=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),l1=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,d=S.useContext(sW),[f,m]=S.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=S.useState({}),w=$t(e,E=>m(E)),x=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(g),T=f?x.indexOf(f):-1,A=d.layersWithOutsidePointerEventsDisabled.size>0,I=T>=_,P=Ige(E=>{const N=E.target,O=[...d.branches].some(D=>D.contains(N));!I||O||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},p),C=Oge(E=>{const N=E.target;[...d.branches].some(D=>D.contains(N))||(s==null||s(E),o==null||o(E),E.defaultPrevented||l==null||l())},p);return Tge(E=>{T===d.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},p),S.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(rD=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),iD(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=rD)}},[f,p,n,d]),S.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),iD())},[f,d]),S.useEffect(()=>{const E=()=>v({});return document.addEventListener(DA,E),()=>document.removeEventListener(DA,E)},[]),a.jsx(wt.div,{...c,ref:w,style:{pointerEvents:A?I?"auto":"none":void 0,...t.style},onFocusCapture:Fe(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Fe(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Fe(t.onPointerDownCapture,P.onPointerDownCapture)})});l1.displayName=Ege;var Cge="DismissableLayerBranch",kge=S.forwardRef((t,e)=>{const n=S.useContext(sW),r=S.useRef(null),i=$t(e,r);return S.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),a.jsx(wt.div,{...t,ref:i})});kge.displayName=Cge;function Ige(t,e=globalThis==null?void 0:globalThis.document){const n=co(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){aW(Age,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Oge(t,e=globalThis==null?void 0:globalThis.document){const n=co(t),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&aW(Pge,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function iD(){const t=new CustomEvent(DA);document.dispatchEvent(t)}function aW(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?iW(i,s):i.dispatchEvent(s)}var hN=0;function oW(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sD()),document.body.insertAdjacentElement("beforeend",t[1]??sD()),hN++,()=>{hN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hN--}},[])}function sD(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fN="focusScope.autoFocusOnMount",mN="focusScope.autoFocusOnUnmount",aD={bubbles:!1,cancelable:!0},Rge="FocusScope",aI=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=S.useState(null),d=co(i),f=co(s),m=S.useRef(null),p=$t(e,x=>c(x)),v=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let x=function(A){if(v.paused||!l)return;const I=A.target;l.contains(I)?m.current=I:ic(m.current,{select:!0})},g=function(A){if(v.paused||!l)return;const I=A.relatedTarget;I!==null&&(l.contains(I)||ic(m.current,{select:!0}))},_=function(A){if(document.activeElement===document.body)for(const P of A)P.removedNodes.length>0&&ic(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",g);const T=new MutationObserver(_);return l&&T.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",g),T.disconnect()}}},[r,l,v.paused]),S.useEffect(()=>{if(l){lD.add(v);const x=document.activeElement;if(!l.contains(x)){const _=new CustomEvent(fN,aD);l.addEventListener(fN,d),l.dispatchEvent(_),_.defaultPrevented||(Mge(Vge(lW(l)),{select:!0}),document.activeElement===x&&ic(l))}return()=>{l.removeEventListener(fN,d),setTimeout(()=>{const _=new CustomEvent(mN,aD);l.addEventListener(mN,f),l.dispatchEvent(_),_.defaultPrevented||ic(x??document.body,{select:!0}),l.removeEventListener(mN,f),lD.remove(v)},0)}}},[l,d,f,v]);const w=S.useCallback(x=>{if(!n&&!r||v.paused)return;const g=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(g&&_){const T=x.currentTarget,[A,I]=Dge(T);A&&I?!x.shiftKey&&_===I?(x.preventDefault(),n&&ic(A,{select:!0})):x.shiftKey&&_===A&&(x.preventDefault(),n&&ic(I,{select:!0})):_===T&&x.preventDefault()}},[n,r,v.paused]);return a.jsx(wt.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});aI.displayName=Rge;function Mge(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ic(r,{select:e}),document.activeElement!==n)return}function Dge(t){const e=lW(t),n=oD(e,t),r=oD(e.reverse(),t);return[n,r]}function lW(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function oD(t,e){for(const n of t)if(!Lge(n,{upTo:e}))return n}function Lge(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function $ge(t){return t instanceof HTMLInputElement&&"select"in t}function ic(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&$ge(t)&&e&&t.select()}}var lD=Fge();function Fge(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=cD(t,e),t.unshift(e)},remove(e){var n;t=cD(t,e),(n=t[0])==null||n.resume()}}}function cD(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Vge(t){return t.filter(e=>e.tagName!=="A")}var Bge=YC[" useId ".trim().toString()]||(()=>{}),qge=0;function Bc(t){const[e,n]=S.useState(Bge());return hi(()=>{n(r=>r??String(qge++))},[t]),e?`radix-${e}`:""}const Uge=["top","right","bottom","left"],qc=Math.min,os=Math.max,fb=Math.round,Fv=Math.floor,to=t=>({x:t,y:t}),zge={left:"right",right:"left",bottom:"top",top:"bottom"},Wge={start:"end",end:"start"};function LA(t,e,n){return os(t,qc(e,n))}function cl(t,e){return typeof t=="function"?t(e):t}function ul(t){return t.split("-")[0]}function mm(t){return t.split("-")[1]}function oI(t){return t==="x"?"y":"x"}function lI(t){return t==="y"?"height":"width"}const Hge=new Set(["top","bottom"]);function Ha(t){return Hge.has(ul(t))?"y":"x"}function cI(t){return oI(Ha(t))}function Gge(t,e,n){n===void 0&&(n=!1);const r=mm(t),i=cI(t),s=lI(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=mb(o)),[o,mb(o)]}function Kge(t){const e=mb(t);return[$A(t),e,$A(e)]}function $A(t){return t.replace(/start|end/g,e=>Wge[e])}const uD=["left","right"],dD=["right","left"],Yge=["top","bottom"],Qge=["bottom","top"];function Xge(t,e,n){switch(t){case"top":case"bottom":return n?e?dD:uD:e?uD:dD;case"left":case"right":return e?Yge:Qge;default:return[]}}function Jge(t,e,n,r){const i=mm(t);let s=Xge(ul(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map($A)))),s}function mb(t){return t.replace(/left|right|bottom|top/g,e=>zge[e])}function Zge(t){return{top:0,right:0,bottom:0,left:0,...t}}function cW(t){return typeof t!="number"?Zge(t):{top:t,right:t,bottom:t,left:t}}function pb(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function hD(t,e,n){let{reference:r,floating:i}=t;const s=Ha(e),o=cI(e),l=lI(o),c=ul(e),d=s==="y",f=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,p=r[l]/2-i[l]/2;let v;switch(c){case"top":v={x:f,y:r.y-i.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:m};break;case"left":v={x:r.x-i.width,y:m};break;default:v={x:r.x,y:r.y}}switch(mm(e)){case"start":v[o]-=p*(n&&d?-1:1);break;case"end":v[o]+=p*(n&&d?-1:1);break}return v}const eye=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:m}=hD(d,r,c),p=r,v={},w=0;for(let x=0;x<l.length;x++){const{name:g,fn:_}=l[x],{x:T,y:A,data:I,reset:P}=await _({x:f,y:m,initialPlacement:r,placement:p,strategy:i,middlewareData:v,rects:d,platform:o,elements:{reference:t,floating:e}});f=T??f,m=A??m,v={...v,[g]:{...v[g],...I}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(d=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:f,y:m}=hD(d,p,c)),x=-1)}return{x:f,y:m,placement:p,strategy:i,middlewareData:v}};async function Rg(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:p=!1,padding:v=0}=cl(e,t),w=cW(v),g=l[p?m==="floating"?"reference":"floating":m],_=pb(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),T=m==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),I=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},P=pb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:A,strategy:c}):T);return{top:(_.top-P.top+w.top)/I.y,bottom:(P.bottom-_.bottom+w.bottom)/I.y,left:(_.left-P.left+w.left)/I.x,right:(P.right-_.right+w.right)/I.x}}const tye=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:f=0}=cl(t,e)||{};if(d==null)return{};const m=cW(f),p={x:n,y:r},v=cI(i),w=lI(v),x=await o.getDimensions(d),g=v==="y",_=g?"top":"left",T=g?"bottom":"right",A=g?"clientHeight":"clientWidth",I=s.reference[w]+s.reference[v]-p[v]-s.floating[w],P=p[v]-s.reference[v],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=C?C[A]:0;(!E||!await(o.isElement==null?void 0:o.isElement(C)))&&(E=l.floating[A]||s.floating[w]);const N=I/2-P/2,O=E/2-x[w]/2-1,D=qc(m[_],O),L=qc(m[T],O),$=D,F=E-x[w]-L,G=E/2-x[w]/2+N,Y=LA($,G,F),K=!c.arrow&&mm(i)!=null&&G!==Y&&s.reference[w]/2-(G<$?D:L)-x[w]/2<0,X=K?G<$?G-$:G-F:0;return{[v]:p[v]+X,data:{[v]:Y,centerOffset:G-Y-X,...K&&{alignmentOffset:X}},reset:K}}}),nye=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...g}=cl(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=ul(i),T=Ha(l),A=ul(l)===l,I=await(c.isRTL==null?void 0:c.isRTL(d.floating)),P=p||(A||!x?[mb(l)]:Kge(l)),C=w!=="none";!p&&C&&P.push(...Jge(l,x,w,I));const E=[l,...P],N=await Rg(e,g),O=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&O.push(N[_]),m){const G=Gge(i,o,I);O.push(N[G[0]],N[G[1]])}if(D=[...D,{placement:i,overflows:O}],!O.every(G=>G<=0)){var L,$;const G=(((L=s.flip)==null?void 0:L.index)||0)+1,Y=E[G];if(Y&&(!(m==="alignment"?T!==Ha(Y):!1)||D.every(U=>Ha(U.placement)===T?U.overflows[0]>0:!0)))return{data:{index:G,overflows:D},reset:{placement:Y}};let K=($=D.filter(X=>X.overflows[0]<=0).sort((X,U)=>X.overflows[1]-U.overflows[1])[0])==null?void 0:$.placement;if(!K)switch(v){case"bestFit":{var F;const X=(F=D.filter(U=>{if(C){const Q=Ha(U.placement);return Q===T||Q==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(Q=>Q>0).reduce((Q,re)=>Q+re,0)]).sort((U,Q)=>U[1]-Q[1])[0])==null?void 0:F[0];X&&(K=X);break}case"initialPlacement":K=l;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function fD(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function mD(t){return Uge.some(e=>t[e]>=0)}const rye=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=cl(t,e);switch(r){case"referenceHidden":{const s=await Rg(e,{...i,elementContext:"reference"}),o=fD(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:mD(o)}}}case"escaped":{const s=await Rg(e,{...i,altBoundary:!0}),o=fD(s,n.floating);return{data:{escapedOffsets:o,escaped:mD(o)}}}default:return{}}}}},uW=new Set(["left","top"]);async function iye(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ul(n),l=mm(n),c=Ha(n)==="y",d=uW.has(o)?-1:1,f=s&&c?-1:1,m=cl(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof w=="number"&&(v=l==="end"?w*-1:w),c?{x:v*f,y:p*d}:{x:p*d,y:v*f}}const sye=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await iye(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},aye=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:_,y:T}=g;return{x:_,y:T}}},...c}=cl(t,e),d={x:n,y:r},f=await Rg(e,c),m=Ha(ul(i)),p=oI(m);let v=d[p],w=d[m];if(s){const g=p==="y"?"top":"left",_=p==="y"?"bottom":"right",T=v+f[g],A=v-f[_];v=LA(T,v,A)}if(o){const g=m==="y"?"top":"left",_=m==="y"?"bottom":"right",T=w+f[g],A=w-f[_];w=LA(T,w,A)}const x=l.fn({...e,[p]:v,[m]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:s,[m]:o}}}}}},oye=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=cl(t,e),f={x:n,y:r},m=Ha(i),p=oI(m);let v=f[p],w=f[m];const x=cl(l,e),g=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const A=p==="y"?"height":"width",I=s.reference[p]-s.floating[A]+g.mainAxis,P=s.reference[p]+s.reference[A]-g.mainAxis;v<I?v=I:v>P&&(v=P)}if(d){var _,T;const A=p==="y"?"width":"height",I=uW.has(ul(i)),P=s.reference[m]-s.floating[A]+(I&&((_=o.offset)==null?void 0:_[m])||0)+(I?0:g.crossAxis),C=s.reference[m]+s.reference[A]+(I?0:((T=o.offset)==null?void 0:T[m])||0)-(I?g.crossAxis:0);w<P?w=P:w>C&&(w=C)}return{[p]:v,[m]:w}}}},lye=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...d}=cl(t,e),f=await Rg(e,d),m=ul(i),p=mm(i),v=Ha(i)==="y",{width:w,height:x}=s.floating;let g,_;m==="top"||m==="bottom"?(g=m,_=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=m,g=p==="end"?"top":"bottom");const T=x-f.top-f.bottom,A=w-f.left-f.right,I=qc(x-f[g],T),P=qc(w-f[_],A),C=!e.middlewareData.shift;let E=I,N=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=T),C&&!p){const D=os(f.left,0),L=os(f.right,0),$=os(f.top,0),F=os(f.bottom,0);v?N=w-2*(D!==0||L!==0?D+L:os(f.left,f.right)):E=x-2*($!==0||F!==0?$+F:os(f.top,f.bottom))}await c({...e,availableWidth:N,availableHeight:E});const O=await o.getDimensions(l.floating);return w!==O.width||x!==O.height?{reset:{rects:!0}}:{}}}};function c1(){return typeof window<"u"}function pm(t){return dW(t)?(t.nodeName||"").toLowerCase():"#document"}function hs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function po(t){var e;return(e=(dW(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dW(t){return c1()?t instanceof Node||t instanceof hs(t).Node:!1}function xa(t){return c1()?t instanceof Element||t instanceof hs(t).Element:!1}function uo(t){return c1()?t instanceof HTMLElement||t instanceof hs(t).HTMLElement:!1}function pD(t){return!c1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hs(t).ShadowRoot}const cye=new Set(["inline","contents"]);function Yy(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ba(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!cye.has(i)}const uye=new Set(["table","td","th"]);function dye(t){return uye.has(pm(t))}const hye=[":popover-open",":modal"];function u1(t){return hye.some(e=>{try{return t.matches(e)}catch{return!1}})}const fye=["transform","translate","scale","rotate","perspective"],mye=["transform","translate","scale","rotate","perspective","filter"],pye=["paint","layout","strict","content"];function uI(t){const e=dI(),n=xa(t)?ba(t):t;return fye.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||mye.some(r=>(n.willChange||"").includes(r))||pye.some(r=>(n.contain||"").includes(r))}function gye(t){let e=Uc(t);for(;uo(e)&&!Tf(e);){if(uI(e))return e;if(u1(e))return null;e=Uc(e)}return null}function dI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yye=new Set(["html","body","#document"]);function Tf(t){return yye.has(pm(t))}function ba(t){return hs(t).getComputedStyle(t)}function d1(t){return xa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Uc(t){if(pm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||pD(t)&&t.host||po(t);return pD(e)?e.host:e}function hW(t){const e=Uc(t);return Tf(e)?t.ownerDocument?t.ownerDocument.body:t.body:uo(e)&&Yy(e)?e:hW(e)}function Mg(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=hW(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=hs(i);if(s){const l=FA(o);return e.concat(o,o.visualViewport||[],Yy(i)?i:[],l&&n?Mg(l):[])}return e.concat(i,Mg(i,[],n))}function FA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fW(t){const e=ba(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=uo(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=fb(n)!==s||fb(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function hI(t){return xa(t)?t:t.contextElement}function sf(t){const e=hI(t);if(!uo(e))return to(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=fW(e);let o=(s?fb(n.width):n.width)/r,l=(s?fb(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const vye=to(0);function mW(t){const e=hs(t);return!dI()||!e.visualViewport?vye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xye(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==hs(t)?!1:e}function xd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=hI(t);let o=to(1);e&&(r?xa(r)&&(o=sf(r)):o=sf(t));const l=xye(s,n,r)?mW(s):to(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,f=i.width/o.x,m=i.height/o.y;if(s){const p=hs(s),v=r&&xa(r)?hs(r):r;let w=p,x=FA(w);for(;x&&r&&v!==w;){const g=sf(x),_=x.getBoundingClientRect(),T=ba(x),A=_.left+(x.clientLeft+parseFloat(T.paddingLeft))*g.x,I=_.top+(x.clientTop+parseFloat(T.paddingTop))*g.y;c*=g.x,d*=g.y,f*=g.x,m*=g.y,c+=A,d+=I,w=hs(x),x=FA(w)}}return pb({width:f,height:m,x:c,y:d})}function h1(t,e){const n=d1(t).scrollLeft;return e?e.left+n:xd(po(t)).left+n}function pW(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-h1(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function bye(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=po(r),l=e?u1(e.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},d=to(1);const f=to(0),m=uo(r);if((m||!m&&!s)&&((pm(r)!=="body"||Yy(o))&&(c=d1(r)),uo(r))){const v=xd(r);d=sf(r),f.x=v.x+r.clientLeft,f.y=v.y+r.clientTop}const p=o&&!m&&!s?pW(o,c):to(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+p.x,y:n.y*d.y-c.scrollTop*d.y+f.y+p.y}}function wye(t){return Array.from(t.getClientRects())}function _ye(t){const e=po(t),n=d1(t),r=t.ownerDocument.body,i=os(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=os(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+h1(t);const l=-n.scrollTop;return ba(r).direction==="rtl"&&(o+=os(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}const gD=25;function jye(t,e){const n=hs(t),r=po(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const f=dI();(!f||f&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=h1(r);if(d<=0){const f=r.ownerDocument,m=f.body,p=getComputedStyle(m),v=f.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,w=Math.abs(r.clientWidth-m.clientWidth-v);w<=gD&&(s-=w)}else d<=gD&&(s+=d);return{width:s,height:o,x:l,y:c}}const Nye=new Set(["absolute","fixed"]);function Sye(t,e){const n=xd(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=uo(t)?sf(t):to(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,d=r*s.y;return{width:o,height:l,x:c,y:d}}function yD(t,e,n){let r;if(e==="viewport")r=jye(t,n);else if(e==="document")r=_ye(po(t));else if(xa(e))r=Sye(e,n);else{const i=mW(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return pb(r)}function gW(t,e){const n=Uc(t);return n===e||!xa(n)||Tf(n)?!1:ba(n).position==="fixed"||gW(n,e)}function Tye(t,e){const n=e.get(t);if(n)return n;let r=Mg(t,[],!1).filter(l=>xa(l)&&pm(l)!=="body"),i=null;const s=ba(t).position==="fixed";let o=s?Uc(t):t;for(;xa(o)&&!Tf(o);){const l=ba(o),c=uI(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&Nye.has(i.position)||Yy(o)&&!c&&gW(t,o))?r=r.filter(f=>f!==o):i=l,o=Uc(o)}return e.set(t,r),r}function Eye(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?u1(e)?[]:Tye(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,f)=>{const m=yD(e,f,i);return d.top=os(m.top,d.top),d.right=qc(m.right,d.right),d.bottom=qc(m.bottom,d.bottom),d.left=os(m.left,d.left),d},yD(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Aye(t){const{width:e,height:n}=fW(t);return{width:e,height:n}}function Pye(t,e,n){const r=uo(e),i=po(e),s=n==="fixed",o=xd(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=to(0);function d(){c.x=h1(i)}if(r||!r&&!s)if((pm(e)!=="body"||Yy(i))&&(l=d1(e)),r){const v=xd(e,!0,s,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else i&&d();s&&!r&&i&&d();const f=i&&!r&&!s?pW(i,l):to(0),m=o.left+l.scrollLeft-c.x-f.x,p=o.top+l.scrollTop-c.y-f.y;return{x:m,y:p,width:o.width,height:o.height}}function pN(t){return ba(t).position==="static"}function vD(t,e){if(!uo(t)||ba(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return po(t)===n&&(n=n.ownerDocument.body),n}function yW(t,e){const n=hs(t);if(u1(t))return n;if(!uo(t)){let i=Uc(t);for(;i&&!Tf(i);){if(xa(i)&&!pN(i))return i;i=Uc(i)}return n}let r=vD(t,e);for(;r&&dye(r)&&pN(r);)r=vD(r,e);return r&&Tf(r)&&pN(r)&&!uI(r)?n:r||gye(t)||n}const Cye=async function(t){const e=this.getOffsetParent||yW,n=this.getDimensions,r=await n(t.floating);return{reference:Pye(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kye(t){return ba(t).direction==="rtl"}const Iye={convertOffsetParentRelativeRectToViewportRelativeRect:bye,getDocumentElement:po,getClippingRect:Eye,getOffsetParent:yW,getElementRects:Cye,getClientRects:wye,getDimensions:Aye,getScale:sf,isElement:xa,isRTL:kye};function vW(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Oye(t,e){let n=null,r;const i=po(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:f,top:m,width:p,height:v}=d;if(l||e(),!p||!v)return;const w=Fv(m),x=Fv(i.clientWidth-(f+p)),g=Fv(i.clientHeight-(m+v)),_=Fv(f),A={rootMargin:-w+"px "+-x+"px "+-g+"px "+-_+"px",threshold:os(0,qc(1,c))||1};let I=!0;function P(C){const E=C[0].intersectionRatio;if(E!==c){if(!I)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!vW(d,t.getBoundingClientRect())&&o(),I=!1}try{n=new IntersectionObserver(P,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,A)}n.observe(t)}return o(!0),s}function Rye(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=hI(t),f=i||s?[...d?Mg(d):[],...Mg(e)]:[];f.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const m=d&&l?Oye(d,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(_=>{let[T]=_;T&&T.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var A;(A=v)==null||A.observe(e)})),n()}),d&&!c&&v.observe(d),v.observe(e));let w,x=c?xd(t):null;c&&g();function g(){const _=xd(t);x&&!vW(x,_)&&n(),x=_,w=requestAnimationFrame(g)}return n(),()=>{var _;f.forEach(T=>{i&&T.removeEventListener("scroll",n),s&&T.removeEventListener("resize",n)}),m==null||m(),(_=v)==null||_.disconnect(),v=null,c&&cancelAnimationFrame(w)}}const Mye=sye,Dye=aye,Lye=nye,$ye=lye,Fye=rye,xD=tye,Vye=oye,Bye=(t,e,n)=>{const r=new Map,i={platform:Iye,...n},s={...i.platform,_c:r};return eye(t,e,{...i,platform:s})};var qye=typeof document<"u",Uye=function(){},Nx=qye?S.useLayoutEffect:Uye;function gb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!gb(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!gb(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function xW(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function bD(t,e){const n=xW(t);return Math.round(e*n)/n}function gN(t){const e=S.useRef(t);return Nx(()=>{e.current=t}),e}function zye(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,m]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=S.useState(r);gb(p,r)||v(r);const[w,x]=S.useState(null),[g,_]=S.useState(null),T=S.useCallback(U=>{U!==C.current&&(C.current=U,x(U))},[]),A=S.useCallback(U=>{U!==E.current&&(E.current=U,_(U))},[]),I=s||w,P=o||g,C=S.useRef(null),E=S.useRef(null),N=S.useRef(f),O=c!=null,D=gN(c),L=gN(i),$=gN(d),F=S.useCallback(()=>{if(!C.current||!E.current)return;const U={placement:e,strategy:n,middleware:p};L.current&&(U.platform=L.current),Bye(C.current,E.current,U).then(Q=>{const re={...Q,isPositioned:$.current!==!1};G.current&&!gb(N.current,re)&&(N.current=re,Wy.flushSync(()=>{m(re)}))})},[p,e,n,L,$]);Nx(()=>{d===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,m(U=>({...U,isPositioned:!1})))},[d]);const G=S.useRef(!1);Nx(()=>(G.current=!0,()=>{G.current=!1}),[]),Nx(()=>{if(I&&(C.current=I),P&&(E.current=P),I&&P){if(D.current)return D.current(I,P,F);F()}},[I,P,F,D,O]);const Y=S.useMemo(()=>({reference:C,floating:E,setReference:T,setFloating:A}),[T,A]),K=S.useMemo(()=>({reference:I,floating:P}),[I,P]),X=S.useMemo(()=>{const U={position:n,left:0,top:0};if(!K.floating)return U;const Q=bD(K.floating,f.x),re=bD(K.floating,f.y);return l?{...U,transform:"translate("+Q+"px, "+re+"px)",...xW(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:re}},[n,l,K.floating,f.x,f.y]);return S.useMemo(()=>({...f,update:F,refs:Y,elements:K,floatingStyles:X}),[f,F,Y,K,X])}const Wye=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?xD({element:r.current,padding:i}).fn(n):{}:r?xD({element:r,padding:i}).fn(n):{}}}},Hye=(t,e)=>({...Mye(t),options:[t,e]}),Gye=(t,e)=>({...Dye(t),options:[t,e]}),Kye=(t,e)=>({...Vye(t),options:[t,e]}),Yye=(t,e)=>({...Lye(t),options:[t,e]}),Qye=(t,e)=>({...$ye(t),options:[t,e]}),Xye=(t,e)=>({...Fye(t),options:[t,e]}),Jye=(t,e)=>({...Wye(t),options:[t,e]});var Zye="Arrow",bW=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return a.jsx(wt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});bW.displayName=Zye;var e0e=bW;function f1(t){const[e,n]=S.useState(void 0);return hi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var fI="Popper",[wW,gm]=_a(fI),[t0e,_W]=wW(fI),jW=t=>{const{__scopePopper:e,children:n}=t,[r,i]=S.useState(null);return a.jsx(t0e,{scope:e,anchor:r,onAnchorChange:i,children:n})};jW.displayName=fI;var NW="PopperAnchor",SW=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=_W(NW,n),o=S.useRef(null),l=$t(e,o),c=S.useRef(null);return S.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||o.current,d!==c.current&&s.onAnchorChange(c.current)}),r?null:a.jsx(wt.div,{...i,ref:l})});SW.displayName=NW;var mI="PopperContent",[n0e,r0e]=wW(mI),TW=S.forwardRef((t,e)=>{var me,Ie,fe,Ae,Re,he;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:w,...x}=t,g=_W(mI,n),[_,T]=S.useState(null),A=$t(e,ot=>T(ot)),[I,P]=S.useState(null),C=f1(I),E=(C==null?void 0:C.width)??0,N=(C==null?void 0:C.height)??0,O=r+(s!=="center"?"-"+s:""),D=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},L=Array.isArray(d)?d:[d],$=L.length>0,F={padding:D,boundary:L.filter(s0e),altBoundary:$},{refs:G,floatingStyles:Y,placement:K,isPositioned:X,middlewareData:U}=zye({strategy:"fixed",placement:O,whileElementsMounted:(...ot)=>Rye(...ot,{animationFrame:v==="always"}),elements:{reference:g.anchor},middleware:[Hye({mainAxis:i+N,alignmentAxis:o}),c&&Gye({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Kye():void 0,...F}),c&&Yye({...F}),Qye({...F,apply:({elements:ot,rects:et,availableWidth:kt,availableHeight:It})=>{const{width:Gt,height:Kn}=et.reference,Ot=ot.floating.style;Ot.setProperty("--radix-popper-available-width",`${kt}px`),Ot.setProperty("--radix-popper-available-height",`${It}px`),Ot.setProperty("--radix-popper-anchor-width",`${Gt}px`),Ot.setProperty("--radix-popper-anchor-height",`${Kn}px`)}}),I&&Jye({element:I,padding:l}),a0e({arrowWidth:E,arrowHeight:N}),p&&Xye({strategy:"referenceHidden",...F})]}),[Q,re]=PW(K),W=co(w);hi(()=>{X&&(W==null||W())},[X,W]);const Z=(me=U.arrow)==null?void 0:me.x,ue=(Ie=U.arrow)==null?void 0:Ie.y,le=((fe=U.arrow)==null?void 0:fe.centerOffset)!==0,[be,ge]=S.useState();return hi(()=>{_&&ge(window.getComputedStyle(_).zIndex)},[_]),a.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:X?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(Ae=U.transformOrigin)==null?void 0:Ae.x,(Re=U.transformOrigin)==null?void 0:Re.y].join(" "),...((he=U.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(n0e,{scope:n,placedSide:Q,onArrowChange:P,arrowX:Z,arrowY:ue,shouldHideArrow:le,children:a.jsx(wt.div,{"data-side":Q,"data-align":re,...x,ref:A,style:{...x.style,animation:X?void 0:"none"}})})})});TW.displayName=mI;var EW="PopperArrow",i0e={top:"bottom",right:"left",bottom:"top",left:"right"},AW=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=r0e(EW,r),o=i0e[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(e0e,{...i,ref:n,style:{...i.style,display:"block"}})})});AW.displayName=EW;function s0e(t){return t!==null}var a0e=t=>({name:"transformOrigin",options:t,fn(e){var g,_,T;const{placement:n,rects:r,middlewareData:i}=e,o=((g=i.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=PW(n),m={start:"0%",center:"50%",end:"100%"}[f],p=(((_=i.arrow)==null?void 0:_.x)??0)+l/2,v=(((T=i.arrow)==null?void 0:T.y)??0)+c/2;let w="",x="";return d==="bottom"?(w=o?m:`${p}px`,x=`${-c}px`):d==="top"?(w=o?m:`${p}px`,x=`${r.floating.height+c}px`):d==="right"?(w=`${-c}px`,x=o?m:`${v}px`):d==="left"&&(w=`${r.floating.width+c}px`,x=o?m:`${v}px`),{data:{x:w,y:x}}}});function PW(t){const[e,n="center"]=t.split("-");return[e,n]}var pI=jW,gI=SW,yI=TW,vI=AW,o0e="Portal",m1=S.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=S.useState(!1);hi(()=>s(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?mhe.createPortal(a.jsx(wt.div,{...r,ref:e}),o):null});m1.displayName=o0e;function l0e(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var Nl=t=>{const{present:e,children:n}=t,r=c0e(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=$t(r.ref,u0e(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};Nl.displayName="Presence";function c0e(t){const[e,n]=S.useState(),r=S.useRef(null),i=S.useRef(t),s=S.useRef("none"),o=t?"mounted":"unmounted",[l,c]=l0e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const d=Vv(r.current);s.current=l==="mounted"?d:"none"},[l]),hi(()=>{const d=r.current,f=i.current;if(f!==t){const p=s.current,v=Vv(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&p!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),hi(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,m=v=>{const x=Vv(r.current).includes(CSS.escape(v.animationName));if(v.target===e&&x&&(c("ANIMATION_END"),!i.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},p=v=>{v.target===e&&(s.current=Vv(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:S.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Vv(t){return(t==null?void 0:t.animationName)||"none"}function u0e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var yN="rovingFocusGroup.onEntryFocus",d0e={bubbles:!1,cancelable:!0},Qy="RovingFocusGroup",[VA,CW,h0e]=o1(Qy),[f0e,p1]=_a(Qy,[h0e]),[m0e,p0e]=f0e(Qy),kW=S.forwardRef((t,e)=>a.jsx(VA.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(VA.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(g0e,{...t,ref:e})})}));kW.displayName=Qy;var g0e=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=t,p=S.useRef(null),v=$t(e,p),w=Ky(s),[x,g]=ll({prop:o,defaultProp:l??null,onChange:c,caller:Qy}),[_,T]=S.useState(!1),A=co(d),I=CW(n),P=S.useRef(!1),[C,E]=S.useState(0);return S.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(yN,A),()=>N.removeEventListener(yN,A)},[A]),a.jsx(m0e,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:x,onItemFocus:S.useCallback(N=>g(N),[g]),onItemShiftTab:S.useCallback(()=>T(!0),[]),onFocusableItemAdd:S.useCallback(()=>E(N=>N+1),[]),onFocusableItemRemove:S.useCallback(()=>E(N=>N-1),[]),children:a.jsx(wt.div,{tabIndex:_||C===0?-1:0,"data-orientation":r,...m,ref:v,style:{outline:"none",...t.style},onMouseDown:Fe(t.onMouseDown,()=>{P.current=!0}),onFocus:Fe(t.onFocus,N=>{const O=!P.current;if(N.target===N.currentTarget&&O&&!_){const D=new CustomEvent(yN,d0e);if(N.currentTarget.dispatchEvent(D),!D.defaultPrevented){const L=I().filter(K=>K.focusable),$=L.find(K=>K.active),F=L.find(K=>K.id===x),Y=[$,F,...L].filter(Boolean).map(K=>K.ref.current);RW(Y,f)}}P.current=!1}),onBlur:Fe(t.onBlur,()=>T(!1))})})}),IW="RovingFocusGroupItem",OW=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=Bc(),d=s||c,f=p0e(IW,n),m=f.currentTabStopId===d,p=CW(n),{onFocusableItemAdd:v,onFocusableItemRemove:w,currentTabStopId:x}=f;return S.useEffect(()=>{if(r)return v(),()=>w()},[r,v,w]),a.jsx(VA.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:a.jsx(wt.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:Fe(t.onMouseDown,g=>{r?f.onItemFocus(d):g.preventDefault()}),onFocus:Fe(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:Fe(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){f.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const _=x0e(g,f.orientation,f.dir);if(_!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let A=p().filter(I=>I.focusable).map(I=>I.ref.current);if(_==="last")A.reverse();else if(_==="prev"||_==="next"){_==="prev"&&A.reverse();const I=A.indexOf(g.currentTarget);A=f.loop?b0e(A,I+1):A.slice(I+1)}setTimeout(()=>RW(A))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:x!=null}):o})})});OW.displayName=IW;var y0e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function v0e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function x0e(t,e,n){const r=v0e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return y0e[r]}function RW(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function b0e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var MW=kW,DW=OW;function w0e(t){const e=_0e(t),n=S.forwardRef((r,i)=>{const{children:s,...o}=r,l=S.Children.toArray(s),c=l.find(N0e);if(c){const d=c.props.children,f=l.map(m=>m===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return a.jsx(e,{...o,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function _0e(t){const e=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const o=T0e(i),l=S0e(s,i.props);return i.type!==S.Fragment&&(l.ref=r?eu(r,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var j0e=Symbol("radix.slottable");function N0e(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===j0e}function S0e(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function T0e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var E0e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Th=new WeakMap,Bv=new WeakMap,qv={},vN=0,LW=function(t){return t&&(t.host||LW(t.parentNode))},A0e=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=LW(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},P0e=function(t,e,n,r){var i=A0e(e,Array.isArray(t)?t:[t]);qv[n]||(qv[n]=new WeakMap);var s=qv[n],o=[],l=new Set,c=new Set(i),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};i.forEach(d);var f=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))f(p);else try{var v=p.getAttribute(r),w=v!==null&&v!=="false",x=(Th.get(p)||0)+1,g=(s.get(p)||0)+1;Th.set(p,x),s.set(p,g),o.push(p),x===1&&w&&Bv.set(p,!0),g===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return f(e),l.clear(),vN++,function(){o.forEach(function(m){var p=Th.get(m)-1,v=s.get(m)-1;Th.set(m,p),s.set(m,v),p||(Bv.has(m)||m.removeAttribute(r),Bv.delete(m)),v||m.removeAttribute(n)}),vN--,vN||(Th=new WeakMap,Th=new WeakMap,Bv=new WeakMap,qv={})}},$W=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=E0e(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),P0e(r,i,n,"aria-hidden")):function(){return null}},za=function(){return za=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},za.apply(this,arguments)};function FW(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function C0e(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Sx="right-scroll-bar-position",Tx="width-before-scroll-bar",k0e="with-scroll-bars-hidden",I0e="--removed-body-scroll-bar-size";function xN(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function O0e(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var R0e=typeof window<"u"?S.useLayoutEffect:S.useEffect,wD=new WeakMap;function M0e(t,e){var n=O0e(null,function(r){return t.forEach(function(i){return xN(i,r)})});return R0e(function(){var r=wD.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(l){s.has(l)||xN(l,null)}),s.forEach(function(l){i.has(l)||xN(l,o)})}wD.set(n,t)},[t]),n}function D0e(t){return t}function L0e(t,e){e===void 0&&(e=D0e);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var f=o;o=[],f.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return i}function $0e(t){t===void 0&&(t={});var e=L0e(null);return e.options=za({async:!0,ssr:!1},t),e}var VW=function(t){var e=t.sideCar,n=FW(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,za({},n))};VW.isSideCarExport=!0;function F0e(t,e){return t.useMedium(e),VW}var BW=$0e(),bN=function(){},g1=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:bN,onWheelCapture:bN,onTouchMoveCapture:bN}),i=r[0],s=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,m=t.shards,p=t.sideCar,v=t.noRelative,w=t.noIsolation,x=t.inert,g=t.allowPinchZoom,_=t.as,T=_===void 0?"div":_,A=t.gapMode,I=FW(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,C=M0e([n,e]),E=za(za({},I),i);return S.createElement(S.Fragment,null,f&&S.createElement(P,{sideCar:BW,removeScrollBar:d,shards:m,noRelative:v,noIsolation:w,inert:x,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:A}),o?S.cloneElement(S.Children.only(l),za(za({},E),{ref:C})):S.createElement(T,za({},E,{className:c,ref:C}),l))});g1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};g1.classNames={fullWidth:Tx,zeroRight:Sx};var V0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function B0e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=V0e();return e&&t.setAttribute("nonce",e),t}function q0e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function U0e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var z0e=function(){var t=0,e=null;return{add:function(n){t==0&&(e=B0e())&&(q0e(e,n),U0e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},W0e=function(){var t=z0e();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},qW=function(){var t=W0e(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},H0e={left:0,top:0,right:0,gap:0},wN=function(t){return parseInt(t||"",10)||0},G0e=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[wN(n),wN(r),wN(i)]},K0e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return H0e;var e=G0e(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Y0e=qW(),af="data-scroll-locked",Q0e=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(k0e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(af,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sx,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Tx,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Sx," .").concat(Sx,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Tx," .").concat(Tx,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(af,`] {
    `).concat(I0e,": ").concat(l,`px;
  }
`)},_D=function(){var t=parseInt(document.body.getAttribute(af)||"0",10);return isFinite(t)?t:0},X0e=function(){S.useEffect(function(){return document.body.setAttribute(af,(_D()+1).toString()),function(){var t=_D()-1;t<=0?document.body.removeAttribute(af):document.body.setAttribute(af,t.toString())}},[])},J0e=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;X0e();var s=S.useMemo(function(){return K0e(i)},[i]);return S.createElement(Y0e,{styles:Q0e(s,!e,i,n?"":"!important")})},BA=!1;if(typeof window<"u")try{var Uv=Object.defineProperty({},"passive",{get:function(){return BA=!0,!0}});window.addEventListener("test",Uv,Uv),window.removeEventListener("test",Uv,Uv)}catch{BA=!1}var Eh=BA?{passive:!1}:!1,Z0e=function(t){return t.tagName==="TEXTAREA"},UW=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Z0e(t)&&n[e]==="visible")},eve=function(t){return UW(t,"overflowY")},tve=function(t){return UW(t,"overflowX")},jD=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=zW(t,r);if(i){var s=WW(t,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},nve=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},rve=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},zW=function(t,e){return t==="v"?eve(e):tve(e)},WW=function(t,e){return t==="v"?nve(e):rve(e)},ive=function(t,e){return t==="h"&&e==="rtl"?-1:1},sve=function(t,e,n,r,i){var s=ive(t,window.getComputedStyle(e).direction),o=s*r,l=n.target,c=e.contains(l),d=!1,f=o>0,m=0,p=0;do{if(!l)break;var v=WW(t,l),w=v[0],x=v[1],g=v[2],_=x-g-s*w;(w||_)&&zW(t,l)&&(m+=_,p+=w);var T=l.parentNode;l=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(f&&Math.abs(m)<1||!f&&Math.abs(p)<1)&&(d=!0),d},zv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ND=function(t){return[t.deltaX,t.deltaY]},SD=function(t){return t&&"current"in t?t.current:t},ave=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ove=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},lve=0,Ah=[];function cve(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(lve++)[0],s=S.useState(qW)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=C0e([t.lockRef.current],(t.shards||[]).map(SD),!0).filter(Boolean);return x.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=S.useCallback(function(x,g){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var _=zv(x),T=n.current,A="deltaX"in x?x.deltaX:T[0]-_[0],I="deltaY"in x?x.deltaY:T[1]-_[1],P,C=x.target,E=Math.abs(A)>Math.abs(I)?"h":"v";if("touches"in x&&E==="h"&&C.type==="range")return!1;var N=jD(E,C);if(!N)return!0;if(N?P=E:(P=E==="v"?"h":"v",N=jD(E,C)),!N)return!1;if(!r.current&&"changedTouches"in x&&(A||I)&&(r.current=P),!P)return!0;var O=r.current||P;return sve(O,g,x,O==="h"?A:I)},[]),c=S.useCallback(function(x){var g=x;if(!(!Ah.length||Ah[Ah.length-1]!==s)){var _="deltaY"in g?ND(g):zv(g),T=e.current.filter(function(P){return P.name===g.type&&(P.target===g.target||g.target===P.shadowParent)&&ave(P.delta,_)})[0];if(T&&T.should){g.cancelable&&g.preventDefault();return}if(!T){var A=(o.current.shards||[]).map(SD).filter(Boolean).filter(function(P){return P.contains(g.target)}),I=A.length>0?l(g,A[0]):!o.current.noIsolation;I&&g.cancelable&&g.preventDefault()}}},[]),d=S.useCallback(function(x,g,_,T){var A={name:x,delta:g,target:_,should:T,shadowParent:uve(_)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(I){return I!==A})},1)},[]),f=S.useCallback(function(x){n.current=zv(x),r.current=void 0},[]),m=S.useCallback(function(x){d(x.type,ND(x),x.target,l(x,t.lockRef.current))},[]),p=S.useCallback(function(x){d(x.type,zv(x),x.target,l(x,t.lockRef.current))},[]);S.useEffect(function(){return Ah.push(s),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Eh),document.addEventListener("touchmove",c,Eh),document.addEventListener("touchstart",f,Eh),function(){Ah=Ah.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,Eh),document.removeEventListener("touchmove",c,Eh),document.removeEventListener("touchstart",f,Eh)}},[]);var v=t.removeScrollBar,w=t.inert;return S.createElement(S.Fragment,null,w?S.createElement(s,{styles:ove(i)}):null,v?S.createElement(J0e,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function uve(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const dve=F0e(BW,cve);var xI=S.forwardRef(function(t,e){return S.createElement(g1,za({},t,{ref:e,sideCar:dve}))});xI.classNames=g1.classNames;var qA=["Enter"," "],hve=["ArrowDown","PageUp","Home"],HW=["ArrowUp","PageDown","End"],fve=[...hve,...HW],mve={ltr:[...qA,"ArrowRight"],rtl:[...qA,"ArrowLeft"]},pve={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Xy="Menu",[Dg,gve,yve]=o1(Xy),[Dd,GW]=_a(Xy,[yve,gm,p1]),y1=gm(),KW=p1(),[vve,Ld]=Dd(Xy),[xve,Jy]=Dd(Xy),YW=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,l=y1(e),[c,d]=S.useState(null),f=S.useRef(!1),m=co(s),p=Ky(i);return S.useEffect(()=>{const v=()=>{f.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>f.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx(pI,{...l,children:a.jsx(vve,{scope:e,open:n,onOpenChange:m,content:c,onContentChange:d,children:a.jsx(xve,{scope:e,onClose:S.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:p,modal:o,children:r})})})};YW.displayName=Xy;var bve="MenuAnchor",bI=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=y1(n);return a.jsx(gI,{...i,...r,ref:e})});bI.displayName=bve;var wI="MenuPortal",[wve,QW]=Dd(wI,{forceMount:void 0}),XW=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Ld(wI,e);return a.jsx(wve,{scope:e,forceMount:n,children:a.jsx(Nl,{present:n||s.open,children:a.jsx(m1,{asChild:!0,container:i,children:r})})})};XW.displayName=wI;var $s="MenuContent",[_ve,_I]=Dd($s),JW=S.forwardRef((t,e)=>{const n=QW($s,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Ld($s,t.__scopeMenu),o=Jy($s,t.__scopeMenu);return a.jsx(Dg.Provider,{scope:t.__scopeMenu,children:a.jsx(Nl,{present:r||s.open,children:a.jsx(Dg.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(jve,{...i,ref:e}):a.jsx(Nve,{...i,ref:e})})})})}),jve=S.forwardRef((t,e)=>{const n=Ld($s,t.__scopeMenu),r=S.useRef(null),i=$t(e,r);return S.useEffect(()=>{const s=r.current;if(s)return $W(s)},[]),a.jsx(jI,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Fe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Nve=S.forwardRef((t,e)=>{const n=Ld($s,t.__scopeMenu);return a.jsx(jI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Sve=w0e("MenuContent.ScrollLock"),jI=S.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,onDismiss:v,disableOutsideScroll:w,...x}=t,g=Ld($s,n),_=Jy($s,n),T=y1(n),A=KW(n),I=gve(n),[P,C]=S.useState(null),E=S.useRef(null),N=$t(e,E,g.onContentChange),O=S.useRef(0),D=S.useRef(""),L=S.useRef(0),$=S.useRef(null),F=S.useRef("right"),G=S.useRef(0),Y=w?xI:S.Fragment,K=w?{as:Sve,allowPinchZoom:!0}:void 0,X=Q=>{var me,Ie;const re=D.current+Q,W=I().filter(fe=>!fe.disabled),Z=document.activeElement,ue=(me=W.find(fe=>fe.ref.current===Z))==null?void 0:me.textValue,le=W.map(fe=>fe.textValue),be=Lve(le,re,ue),ge=(Ie=W.find(fe=>fe.textValue===be))==null?void 0:Ie.ref.current;(function fe(Ae){D.current=Ae,window.clearTimeout(O.current),Ae!==""&&(O.current=window.setTimeout(()=>fe(""),1e3))})(re),ge&&setTimeout(()=>ge.focus())};S.useEffect(()=>()=>window.clearTimeout(O.current),[]),oW();const U=S.useCallback(Q=>{var W,Z;return F.current===((W=$.current)==null?void 0:W.side)&&Fve(Q,(Z=$.current)==null?void 0:Z.area)},[]);return a.jsx(_ve,{scope:n,searchRef:D,onItemEnter:S.useCallback(Q=>{U(Q)&&Q.preventDefault()},[U]),onItemLeave:S.useCallback(Q=>{var re;U(Q)||((re=E.current)==null||re.focus(),C(null))},[U]),onTriggerLeave:S.useCallback(Q=>{U(Q)&&Q.preventDefault()},[U]),pointerGraceTimerRef:L,onPointerGraceIntentChange:S.useCallback(Q=>{$.current=Q},[]),children:a.jsx(Y,{...K,children:a.jsx(aI,{asChild:!0,trapped:i,onMountAutoFocus:Fe(s,Q=>{var re;Q.preventDefault(),(re=E.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(l1,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,onDismiss:v,children:a.jsx(MW,{asChild:!0,...A,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:C,onEntryFocus:Fe(c,Q=>{_.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(yI,{role:"menu","aria-orientation":"vertical","data-state":mH(g.open),"data-radix-menu-content":"",dir:_.dir,...T,...x,ref:N,style:{outline:"none",...x.style},onKeyDown:Fe(x.onKeyDown,Q=>{const W=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,Z=Q.ctrlKey||Q.altKey||Q.metaKey,ue=Q.key.length===1;W&&(Q.key==="Tab"&&Q.preventDefault(),!Z&&ue&&X(Q.key));const le=E.current;if(Q.target!==le||!fve.includes(Q.key))return;Q.preventDefault();const ge=I().filter(me=>!me.disabled).map(me=>me.ref.current);HW.includes(Q.key)&&ge.reverse(),Mve(ge)}),onBlur:Fe(t.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(O.current),D.current="")}),onPointerMove:Fe(t.onPointerMove,Lg(Q=>{const re=Q.target,W=G.current!==Q.clientX;if(Q.currentTarget.contains(re)&&W){const Z=Q.clientX>G.current?"right":"left";F.current=Z,G.current=Q.clientX}}))})})})})})})});JW.displayName=$s;var Tve="MenuGroup",NI=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(wt.div,{role:"group",...r,ref:e})});NI.displayName=Tve;var Eve="MenuLabel",ZW=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(wt.div,{...r,ref:e})});ZW.displayName=Eve;var yb="MenuItem",TD="menu.itemSelect",v1=S.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=S.useRef(null),o=Jy(yb,t.__scopeMenu),l=_I(yb,t.__scopeMenu),c=$t(e,s),d=S.useRef(!1),f=()=>{const m=s.current;if(!n&&m){const p=new CustomEvent(TD,{bubbles:!0,cancelable:!0});m.addEventListener(TD,v=>r==null?void 0:r(v),{once:!0}),iW(m,p),p.defaultPrevented?d.current=!1:o.onClose()}};return a.jsx(eH,{...i,ref:c,disabled:n,onClick:Fe(t.onClick,f),onPointerDown:m=>{var p;(p=t.onPointerDown)==null||p.call(t,m),d.current=!0},onPointerUp:Fe(t.onPointerUp,m=>{var p;d.current||(p=m.currentTarget)==null||p.click()}),onKeyDown:Fe(t.onKeyDown,m=>{const p=l.searchRef.current!=="";n||p&&m.key===" "||qA.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});v1.displayName=yb;var eH=S.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=_I(yb,n),l=KW(n),c=S.useRef(null),d=$t(e,c),[f,m]=S.useState(!1),[p,v]=S.useState("");return S.useEffect(()=>{const w=c.current;w&&v((w.textContent??"").trim())},[s.children]),a.jsx(Dg.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:a.jsx(DW,{asChild:!0,...l,focusable:!r,children:a.jsx(wt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:Fe(t.onPointerMove,Lg(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Fe(t.onPointerLeave,Lg(w=>o.onItemLeave(w))),onFocus:Fe(t.onFocus,()=>m(!0)),onBlur:Fe(t.onBlur,()=>m(!1))})})})}),Ave="MenuCheckboxItem",tH=S.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return a.jsx(aH,{scope:t.__scopeMenu,checked:n,children:a.jsx(v1,{role:"menuitemcheckbox","aria-checked":vb(n)?"mixed":n,...i,ref:e,"data-state":TI(n),onSelect:Fe(i.onSelect,()=>r==null?void 0:r(vb(n)?!0:!n),{checkForDefaultPrevented:!1})})})});tH.displayName=Ave;var nH="MenuRadioGroup",[Pve,Cve]=Dd(nH,{value:void 0,onValueChange:()=>{}}),rH=S.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=co(r);return a.jsx(Pve,{scope:t.__scopeMenu,value:n,onValueChange:s,children:a.jsx(NI,{...i,ref:e})})});rH.displayName=nH;var iH="MenuRadioItem",sH=S.forwardRef((t,e)=>{const{value:n,...r}=t,i=Cve(iH,t.__scopeMenu),s=n===i.value;return a.jsx(aH,{scope:t.__scopeMenu,checked:s,children:a.jsx(v1,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":TI(s),onSelect:Fe(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});sH.displayName=iH;var SI="MenuItemIndicator",[aH,kve]=Dd(SI,{checked:!1}),oH=S.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=kve(SI,n);return a.jsx(Nl,{present:r||vb(s.checked)||s.checked===!0,children:a.jsx(wt.span,{...i,ref:e,"data-state":TI(s.checked)})})});oH.displayName=SI;var Ive="MenuSeparator",lH=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(wt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});lH.displayName=Ive;var Ove="MenuArrow",cH=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=y1(n);return a.jsx(vI,{...i,...r,ref:e})});cH.displayName=Ove;var Rve="MenuSub",[eBe,uH]=Dd(Rve),Wp="MenuSubTrigger",dH=S.forwardRef((t,e)=>{const n=Ld(Wp,t.__scopeMenu),r=Jy(Wp,t.__scopeMenu),i=uH(Wp,t.__scopeMenu),s=_I(Wp,t.__scopeMenu),o=S.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,d={__scopeMenu:t.__scopeMenu},f=S.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return S.useEffect(()=>f,[f]),S.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),a.jsx(bI,{asChild:!0,...d,children:a.jsx(eH,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":mH(n.open),...t,ref:eu(e,i.onTriggerChange),onClick:m=>{var p;(p=t.onClick)==null||p.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Fe(t.onPointerMove,Lg(m=>{s.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Fe(t.onPointerLeave,Lg(m=>{var v,w;f();const p=(v=n.content)==null?void 0:v.getBoundingClientRect();if(p){const x=(w=n.content)==null?void 0:w.dataset.side,g=x==="right",_=g?-5:5,T=p[g?"left":"right"],A=p[g?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+_,y:m.clientY},{x:T,y:p.top},{x:A,y:p.top},{x:A,y:p.bottom},{x:T,y:p.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Fe(t.onKeyDown,m=>{var v;const p=s.searchRef.current!=="";t.disabled||p&&m.key===" "||mve[r.dir].includes(m.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),m.preventDefault())})})})});dH.displayName=Wp;var hH="MenuSubContent",fH=S.forwardRef((t,e)=>{const n=QW($s,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Ld($s,t.__scopeMenu),o=Jy($s,t.__scopeMenu),l=uH(hH,t.__scopeMenu),c=S.useRef(null),d=$t(e,c);return a.jsx(Dg.Provider,{scope:t.__scopeMenu,children:a.jsx(Nl,{present:r||s.open,children:a.jsx(Dg.Slot,{scope:t.__scopeMenu,children:a.jsx(jI,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Fe(t.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Fe(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Fe(t.onKeyDown,f=>{var v;const m=f.currentTarget.contains(f.target),p=pve[o.dir].includes(f.key);m&&p&&(s.onOpenChange(!1),(v=l.trigger)==null||v.focus(),f.preventDefault())})})})})})});fH.displayName=hH;function mH(t){return t?"open":"closed"}function vb(t){return t==="indeterminate"}function TI(t){return vb(t)?"indeterminate":t?"checked":"unchecked"}function Mve(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Dve(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Lve(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Dve(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function $ve(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],d=l.x,f=l.y,m=c.x,p=c.y;f>r!=p>r&&n<(m-d)*(r-f)/(p-f)+d&&(i=!i)}return i}function Fve(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return $ve(n,e)}function Lg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Vve=YW,Bve=bI,qve=XW,Uve=JW,zve=NI,Wve=ZW,Hve=v1,Gve=tH,Kve=rH,Yve=sH,Qve=oH,Xve=lH,Jve=cH,Zve=dH,exe=fH,x1="DropdownMenu",[txe]=_a(x1,[GW]),Ai=GW(),[nxe,pH]=txe(x1),gH=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=Ai(e),d=S.useRef(null),[f,m]=ll({prop:i,defaultProp:s??!1,onChange:o,caller:x1});return a.jsx(nxe,{scope:e,triggerId:Bc(),triggerRef:d,contentId:Bc(),open:f,onOpenChange:m,onOpenToggle:S.useCallback(()=>m(p=>!p),[m]),modal:l,children:a.jsx(Vve,{...c,open:f,onOpenChange:m,dir:r,modal:l,children:n})})};gH.displayName=x1;var yH="DropdownMenuTrigger",vH=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=pH(yH,n),o=Ai(n);return a.jsx(Bve,{asChild:!0,...o,children:a.jsx(wt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:eu(e,s.triggerRef),onPointerDown:Fe(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Fe(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});vH.displayName=yH;var rxe="DropdownMenuPortal",xH=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Ai(e);return a.jsx(qve,{...r,...n})};xH.displayName=rxe;var bH="DropdownMenuContent",wH=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=pH(bH,n),s=Ai(n),o=S.useRef(!1);return a.jsx(Uve,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Fe(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Fe(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!i.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wH.displayName=bH;var ixe="DropdownMenuGroup",sxe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ai(n);return a.jsx(zve,{...i,...r,ref:e})});sxe.displayName=ixe;var axe="DropdownMenuLabel",_H=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ai(n);return a.jsx(Wve,{...i,...r,ref:e})});_H.displayName=axe;var oxe="DropdownMenuItem",jH=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ai(n);return a.jsx(Hve,{...i,...r,ref:e})});jH.displayName=oxe;var lxe="DropdownMenuCheckboxItem",NH=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ai(n);return a.jsx(Gve,{...i,...r,ref:e})});NH.displayName=lxe;var cxe="DropdownMenuRadioGroup",uxe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ai(n);return a.jsx(Kve,{...i,...r,ref:e})});uxe.displayName=cxe;var dxe="DropdownMenuRadioItem",SH=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ai(n);return a.jsx(Yve,{...i,...r,ref:e})});SH.displayName=dxe;var hxe="DropdownMenuItemIndicator",TH=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ai(n);return a.jsx(Qve,{...i,...r,ref:e})});TH.displayName=hxe;var fxe="DropdownMenuSeparator",EH=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ai(n);return a.jsx(Xve,{...i,...r,ref:e})});EH.displayName=fxe;var mxe="DropdownMenuArrow",pxe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ai(n);return a.jsx(Jve,{...i,...r,ref:e})});pxe.displayName=mxe;var gxe="DropdownMenuSubTrigger",AH=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ai(n);return a.jsx(Zve,{...i,...r,ref:e})});AH.displayName=gxe;var yxe="DropdownMenuSubContent",PH=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ai(n);return a.jsx(exe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PH.displayName=yxe;var vxe=gH,xxe=vH,bxe=xH,CH=wH,kH=_H,IH=jH,OH=NH,RH=SH,MH=TH,DH=EH,LH=AH,$H=PH;const wxe=vxe,_xe=xxe,jxe=S.forwardRef(({className:t,inset:e,children:n,...r},i)=>a.jsxs(LH,{ref:i,className:vt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,a.jsx(nI,{className:"ml-auto"})]}));jxe.displayName=LH.displayName;const Nxe=S.forwardRef(({className:t,...e},n)=>a.jsx($H,{ref:n,className:vt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Nxe.displayName=$H.displayName;const FH=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(bxe,{children:a.jsx(CH,{ref:r,sideOffset:e,className:vt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));FH.displayName=CH.displayName;const qa=S.forwardRef(({className:t,inset:e,...n},r)=>a.jsx(IH,{ref:r,className:vt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));qa.displayName=IH.displayName;const Sxe=S.forwardRef(({className:t,children:e,checked:n,...r},i)=>a.jsxs(OH,{ref:i,className:vt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(MH,{children:a.jsx(Dn,{className:"h-4 w-4"})})}),e]}));Sxe.displayName=OH.displayName;const Txe=S.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(RH,{ref:r,className:vt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(MH,{children:a.jsx(yfe,{className:"h-2 w-2 fill-current"})})}),e]}));Txe.displayName=RH.displayName;const VH=S.forwardRef(({className:t,inset:e,...n},r)=>a.jsx(kH,{ref:r,className:vt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));VH.displayName=kH.displayName;const Ex=S.forwardRef(({className:t,...e},n)=>a.jsx(DH,{ref:n,className:vt("-mx-1 my-1 h-px bg-muted",t),...e}));Ex.displayName=DH.displayName;function of({avatarData:t,size:e="medium",showPet:n=!1,petData:r=null}){const i={small:"w-16 h-16",medium:"w-32 h-32",large:"w-48 h-48"},s=i[e]||i.medium,o={plain:"from-gray-100 to-gray-200",stars:"from-indigo-500 via-purple-500 to-pink-500",rainbow:"from-red-400 via-yellow-400 via-green-400 via-blue-400 to-purple-400",clouds:"from-sky-300 to-blue-400",space:"from-slate-900 via-purple-900 to-indigo-900",underwater:"from-cyan-500 to-blue-600",forest:"from-green-600 to-emerald-700",city:"from-gray-700 to-slate-800",beach:"from-yellow-300 to-orange-400"},l={light:"#FFE0BD",medium:"#F4C89A",tan:"#D4A574",dark:"#8D5524"},c={black:"#000000",brown:"#8B4513",blonde:"#FFD700",red:"#DC143C",blue:"#4169E1",pink:"#FF69B4",purple:"#9370DB",green:"#32CD32",orange:"#FF8C00",white:"#F5F5F5",rainbow:"linear-gradient(90deg, red, orange, yellow, green, blue, purple)"},d={t_shirt_basic:"#6366f1",t_shirt_stripe:"#ef4444",polo:"#10b981",hoodie:"#8b5cf6",tank_top:"#f59e0b",sweater:"#ec4899",jersey:"#3b82f6",button_up:"#ffffff",graphic_tee:"#f97316"},f={jeans:"#1e40af",shorts:"#78716c",skirt:"#ec4899",dress_pants:"#374151",joggers:"#6b7280",overalls:"#3b82f6",leggings:"#0f172a",cargo_pants:"#854d0e"},m={sneakers:"#ffffff",boots:"#78350f",sandals:"#f59e0b",dress_shoes:"#000000",high_tops:"#ef4444",cleats:"#10b981",slippers:"#ec4899",bare_feet:l[t.avatar_skin_tone]||l.medium},p=N=>{const O={normal:"",happy:"",cool:"",star:"",heart:"",sleepy:"",angry:"",surprised:"",wink:""};return O[N]||O.normal},v=N=>{const O={smile:"",big_smile:"",laughing:"",determined:"",neutral:"",tongue_out:""};return O[N]||O.smile},w=N=>{const O={short:"",long:"",curly:"",spiky:"",bald:"",ponytail:"",braids:"",afro:"",mohawk:"",bun:""};return O[N]||O.short},x=N=>({none:"",baseball_cap:"",beanie:"",sun_hat:"",wizard_hat:"",party_hat:"",graduation_cap:"",crown:"",top_hat:"",cowboy_hat:""})[N]||"",g=N=>({none:"",regular:"",sunglasses:"",reading:"",safety_goggles:"","3d_glasses":"",heart_shaped:"",star_shaped:""})[N]||"",_=N=>({none:"",backpack:"",cape:"",scarf:"",bow_tie:"",necklace:"",watch:"",headphones:"",earrings:"",bracelet:""})[N]||"",T=o[t.avatar_background]||o.plain,A=l[t.avatar_skin_tone]||l.medium,I=c[t.avatar_hair_color]||c.brown,P=d[t.avatar_shirt]||d.t_shirt_basic,C=f[t.avatar_pants]||f.jeans,E=m[t.avatar_shoes]||m.sneakers;return a.jsxs("div",{className:"relative inline-block",children:[a.jsxs("div",{className:`${s} rounded-full bg-gradient-to-br ${T} flex flex-col items-center justify-center overflow-hidden shadow-xl border-4 border-white relative`,children:[t.avatar_hat&&t.avatar_hat!=="none"&&a.jsx("div",{className:"absolute top-0 text-2xl",children:x(t.avatar_hat)}),a.jsx("div",{className:"text-3xl mb-1",style:t.avatar_hair_color==="rainbow"?{background:I,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}:{color:I},children:w(t.avatar_hair_style)}),a.jsxs("div",{className:"w-16 h-16 rounded-full flex flex-col items-center justify-center",style:{backgroundColor:A},children:[t.avatar_glasses&&t.avatar_glasses!=="none"&&a.jsx("div",{className:"absolute text-xl",children:g(t.avatar_glasses)}),a.jsx("div",{className:"text-xl",children:p(t.avatar_eyes)}),a.jsx("div",{className:"text-xs",children:v(t.avatar_face||"smile")})]}),a.jsx("div",{className:"w-20 h-8 rounded-t-lg mt-1",style:{backgroundColor:P}}),a.jsx("div",{className:"w-16 h-6",style:{backgroundColor:C}}),a.jsx("div",{className:"w-12 h-3 rounded-b-lg",style:{backgroundColor:E}}),t.avatar_accessory&&t.avatar_accessory!=="none"&&a.jsx("div",{className:"absolute bottom-2 right-2 text-xl",children:_(t.avatar_accessory)})]}),n&&r&&a.jsx("div",{className:"absolute -bottom-2 -right-2 scale-75",children:a.jsxs("div",{className:`w-12 h-12 rounded-full bg-gradient-to-br ${r.gradient} flex items-center justify-center border-2 border-white shadow-lg`,children:[a.jsx("span",{className:"text-xl",children:r.emoji}),t.pet_hat&&t.pet_hat!=="none"&&a.jsxs("span",{className:"absolute -top-1 text-xs",children:[t.pet_hat==="tiny_cap"&&"",t.pet_hat==="bow"&&"",t.pet_hat==="crown"&&"",t.pet_hat==="santa_hat"&&"",t.pet_hat==="party_hat"&&""]}),t.pet_accessory&&t.pet_accessory!=="none"&&a.jsxs("span",{className:"absolute -bottom-1 text-xs",children:[t.pet_accessory==="collar"&&"",t.pet_accessory==="bow_tie"&&"",t.pet_accessory==="bandana"&&"",t.pet_accessory==="scarf"&&"",t.pet_accessory==="wings"&&"",t.pet_accessory==="cape"&&""]})]})})]})}const te=S.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:vt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));te.displayName="Card";const _e=S.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:vt("flex flex-col space-y-1.5 p-6",t),...e}));_e.displayName="CardHeader";const Ne=S.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:vt("font-semibold leading-none tracking-tight",t),...e}));Ne.displayName="CardTitle";const Exe=S.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:vt("text-sm text-muted-foreground",t),...e}));Exe.displayName="CardDescription";const ne=S.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:vt("p-6 pt-0",t),...e}));ne.displayName="CardContent";const Axe=S.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:vt("flex items-center p-6 pt-0",t),...e}));Axe.displayName="CardFooter";function Pxe(t,e=[]){let n=[];function r(s,o){const l=S.createContext(o);l.displayName=s+"Context";const c=n.length;n=[...n,o];const d=m=>{var _;const{scope:p,children:v,...w}=m,x=((_=p==null?void 0:p[t])==null?void 0:_[c])||l,g=S.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:g,children:v})};d.displayName=s+"Provider";function f(m,p){var x;const v=((x=p==null?void 0:p[t])==null?void 0:x[c])||l,w=S.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,f]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,Cxe(i,...e)]}function Cxe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(s)[`__scope${d}`];return{...l,...m}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var kxe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],BH=kxe.reduce((t,e)=>{const n=sI(`Primitive.${e}`),r=S.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),EI="Progress",AI=100,[Ixe]=Pxe(EI),[Oxe,Rxe]=Ixe(EI),qH=S.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=Mxe,...o}=t;(i||i===0)&&!ED(i)&&console.error(Dxe(`${i}`,"Progress"));const l=ED(i)?i:AI;r!==null&&!AD(r,l)&&console.error(Lxe(`${r}`,"Progress"));const c=AD(r,l)?r:null,d=xb(c)?s(c,l):void 0;return a.jsx(Oxe,{scope:n,value:c,max:l,children:a.jsx(BH.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":xb(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":WH(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});qH.displayName=EI;var UH="ProgressIndicator",zH=S.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=Rxe(UH,n);return a.jsx(BH.div,{"data-state":WH(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});zH.displayName=UH;function Mxe(t,e){return`${Math.round(t/e*100)}%`}function WH(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function xb(t){return typeof t=="number"}function ED(t){return xb(t)&&!isNaN(t)&&t>0}function AD(t,e){return xb(t)&&!isNaN(t)&&t<=e&&t>=0}function Dxe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${AI}\`.`}function Lxe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${AI} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var HH=qH,$xe=zH;const dl=S.forwardRef(({className:t,value:e,...n},r)=>a.jsx(HH,{ref:r,className:vt("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...n,children:a.jsx($xe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));dl.displayName=HH.displayName;function PI({pet:t,experience:e,size:n="medium"}){if(!t)return null;const r={small:"w-16 h-16 text-3xl",medium:"w-24 h-24 text-5xl",large:"w-32 h-32 text-7xl"},i=r[n]||r.medium,s=e||0,o=Math.floor(s/100)+1,l=100,c=s%100,d=c/l*100;return a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:`${i} rounded-2xl bg-gradient-to-br ${t.gradient} flex items-center justify-center shadow-lg border-4 border-white relative overflow-hidden`,children:[a.jsx("div",{className:"text-center",children:a.jsx("div",{children:t.emoji})}),a.jsxs(je,{className:"absolute -top-2 -right-2 bg-purple-500 text-white text-xs px-2 py-1",children:["Lv.",o]}),o>=t.evolveLevel&&!t.isEvolved&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-yellow-400/20",children:a.jsx(Yt,{className:"w-8 h-8 text-yellow-500 animate-pulse"})})]}),n!=="small"&&a.jsxs("div",{className:"mt-2",children:[a.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[a.jsx("span",{children:t.name}),a.jsxs("span",{children:[c,"/",l," XP"]})]}),a.jsx(dl,{value:d,className:"h-2"})]})]})}const CI=S.createContext({});function kI(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const II=typeof window<"u",GH=II?S.useLayoutEffect:S.useEffect,b1=S.createContext(null);function OI(t,e){t.indexOf(e)===-1&&t.push(e)}function RI(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const hl=(t,e,n)=>n>e?e:n<t?t:n;let MI=()=>{};const fl={},KH=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function YH(t){return typeof t=="object"&&t!==null}const QH=t=>/^0[^.\s]+$/u.test(t);function DI(t){let e;return()=>(e===void 0&&(e=t()),e)}const Fs=t=>t,Fxe=(t,e)=>n=>e(t(n)),Zy=(...t)=>t.reduce(Fxe),$g=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class LI{constructor(){this.subscriptions=[]}add(e){return OI(this.subscriptions,e),()=>RI(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const no=t=>t*1e3,Ms=t=>t/1e3;function XH(t,e){return e?t*(1e3/e):0}const JH=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Vxe=1e-7,Bxe=12;function qxe(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=JH(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>Vxe&&++l<Bxe);return o}function e0(t,e,n,r){if(t===e&&n===r)return Fs;const i=s=>qxe(s,0,1,t,n);return s=>s===0||s===1?s:JH(i(s),e,r)}const ZH=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,eG=t=>e=>1-t(1-e),tG=e0(.33,1.53,.69,.99),$I=eG(tG),nG=ZH($I),rG=t=>(t*=2)<1?.5*$I(t):.5*(2-Math.pow(2,-10*(t-1))),FI=t=>1-Math.sin(Math.acos(t)),iG=eG(FI),sG=ZH(FI),Uxe=e0(.42,0,1,1),zxe=e0(0,0,.58,1),aG=e0(.42,0,.58,1),Wxe=t=>Array.isArray(t)&&typeof t[0]!="number",oG=t=>Array.isArray(t)&&typeof t[0]=="number",Hxe={linear:Fs,easeIn:Uxe,easeInOut:aG,easeOut:zxe,circIn:FI,circInOut:sG,circOut:iG,backIn:$I,backInOut:nG,backOut:tG,anticipate:rG},Gxe=t=>typeof t=="string",PD=t=>{if(oG(t)){MI(t.length===4);const[e,n,r,i]=t;return e0(e,n,r,i)}else if(Gxe(t))return Hxe[t];return t},Wv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Kxe(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,m=!1,p=!1)=>{const w=p&&i?n:r;return m&&o.add(f),w.has(f)||w.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const Yxe=40;function lG(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Wv.reduce((A,I)=>(A[I]=Kxe(s),A),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:f,update:m,preRender:p,render:v,postRender:w}=o,x=()=>{const A=fl.useManualTiming?i.timestamp:performance.now();n=!1,fl.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(A-i.timestamp,Yxe),1)),i.timestamp=A,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),f.process(i),m.process(i),p.process(i),v.process(i),w.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},g=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:Wv.reduce((A,I)=>{const P=o[I];return A[I]=(C,E=!1,N=!1)=>(n||g(),P.schedule(C,E,N)),A},{}),cancel:A=>{for(let I=0;I<Wv.length;I++)o[Wv[I]].cancel(A)},state:i,steps:o}}const{schedule:In,cancel:zc,state:$r,steps:_N}=lG(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fs,!0);let Ax;function Qxe(){Ax=void 0}const Ui={now:()=>(Ax===void 0&&Ui.set($r.isProcessing||fl.useManualTiming?$r.timestamp:performance.now()),Ax),set:t=>{Ax=t,queueMicrotask(Qxe)}},cG=t=>e=>typeof e=="string"&&e.startsWith(t),VI=cG("--"),Xxe=cG("var(--"),BI=t=>Xxe(t)?Jxe.test(t.split("/*")[0].trim()):!1,Jxe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ym={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fg={...ym,transform:t=>hl(0,1,t)},Hv={...ym,default:1},og=t=>Math.round(t*1e5)/1e5,qI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Zxe(t){return t==null}const ebe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,UI=(t,e)=>n=>!!(typeof n=="string"&&ebe.test(n)&&n.startsWith(t)||e&&!Zxe(n)&&Object.prototype.hasOwnProperty.call(n,e)),uG=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(qI);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},tbe=t=>hl(0,255,t),jN={...ym,transform:t=>Math.round(tbe(t))},Gu={test:UI("rgb","red"),parse:uG("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+jN.transform(t)+", "+jN.transform(e)+", "+jN.transform(n)+", "+og(Fg.transform(r))+")"};function nbe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const UA={test:UI("#"),parse:nbe,transform:Gu.transform},t0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),sc=t0("deg"),ro=t0("%"),ft=t0("px"),rbe=t0("vh"),ibe=t0("vw"),CD={...ro,parse:t=>ro.parse(t)/100,transform:t=>ro.transform(t*100)},Vh={test:UI("hsl","hue"),parse:uG("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ro.transform(og(e))+", "+ro.transform(og(n))+", "+og(Fg.transform(r))+")"},sr={test:t=>Gu.test(t)||UA.test(t)||Vh.test(t),parse:t=>Gu.test(t)?Gu.parse(t):Vh.test(t)?Vh.parse(t):UA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Gu.transform(t):Vh.transform(t),getAnimatableNone:t=>{const e=sr.parse(t);return e.alpha=0,sr.transform(e)}},sbe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function abe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(qI))==null?void 0:e.length)||0)+(((n=t.match(sbe))==null?void 0:n.length)||0)>0}const dG="number",hG="color",obe="var",lbe="var(",kD="${}",cbe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(cbe,c=>(sr.test(c)?(r.color.push(s),i.push(hG),n.push(sr.parse(c))):c.startsWith(lbe)?(r.var.push(s),i.push(obe),n.push(c)):(r.number.push(s),i.push(dG),n.push(parseFloat(c))),++s,kD)).split(kD);return{values:n,split:l,indexes:r,types:i}}function fG(t){return Vg(t).values}function mG(t){const{split:e,types:n}=Vg(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const l=n[o];l===dG?s+=og(i[o]):l===hG?s+=sr.transform(i[o]):s+=i[o]}return s}}const ube=t=>typeof t=="number"?0:sr.test(t)?sr.getAnimatableNone(t):t;function dbe(t){const e=fG(t);return mG(t)(e.map(ube))}const Wc={test:abe,parse:fG,createTransformer:mG,getAnimatableNone:dbe};function NN(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hbe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=NN(c,l,t+1/3),s=NN(c,l,t),o=NN(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function bb(t,e){return n=>n>0?e:t}const $n=(t,e,n)=>t+(e-t)*n,SN=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},fbe=[UA,Gu,Vh],mbe=t=>fbe.find(e=>e.test(t));function ID(t){const e=mbe(t);if(!e)return!1;let n=e.parse(t);return e===Vh&&(n=hbe(n)),n}const OD=(t,e)=>{const n=ID(t),r=ID(e);if(!n||!r)return bb(t,e);const i={...n};return s=>(i.red=SN(n.red,r.red,s),i.green=SN(n.green,r.green,s),i.blue=SN(n.blue,r.blue,s),i.alpha=$n(n.alpha,r.alpha,s),Gu.transform(i))},zA=new Set(["none","hidden"]);function pbe(t,e){return zA.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function gbe(t,e){return n=>$n(t,e,n)}function zI(t){return typeof t=="number"?gbe:typeof t=="string"?BI(t)?bb:sr.test(t)?OD:xbe:Array.isArray(t)?pG:typeof t=="object"?sr.test(t)?OD:ybe:bb}function pG(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>zI(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function ybe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=zI(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function vbe(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],l=t.values[o]??0;n[i]=l,r[s]++}return n}const xbe=(t,e)=>{const n=Wc.createTransformer(e),r=Vg(t),i=Vg(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?zA.has(t)&&!i.values.length||zA.has(e)&&!r.values.length?pbe(t,e):Zy(pG(vbe(r,i),i.values),n):bb(t,e)};function gG(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?$n(t,e,n):zI(t)(t,e)}const bbe=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>In.update(e,n),stop:()=>zc(e),now:()=>$r.isProcessing?$r.timestamp:Ui.now()}},yG=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},wb=2e4;function WI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wb;)e+=n,r=t.next(e);return e>=wb?1/0:e}function wbe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(WI(r),wb);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Ms(i)}}const _be=5;function vG(t,e,n){const r=Math.max(e-_be,0);return XH(n-t(r),e-r)}const zn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},TN=.001;function jbe({duration:t=zn.duration,bounce:e=zn.bounce,velocity:n=zn.velocity,mass:r=zn.mass}){let i,s,o=1-e;o=hl(zn.minDamping,zn.maxDamping,o),t=hl(zn.minDuration,zn.maxDuration,Ms(t)),o<1?(i=d=>{const f=d*o,m=f*t,p=f-n,v=WA(d,o),w=Math.exp(-m);return TN-p/v*w},s=d=>{const m=d*o*t,p=m*n+n,v=Math.pow(o,2)*Math.pow(d,2)*t,w=Math.exp(-m),x=WA(Math.pow(d,2),o);return(-i(d)+TN>0?-1:1)*((p-v)*w)/x}):(i=d=>{const f=Math.exp(-d*t),m=(d-n)*t+1;return-TN+f*m},s=d=>{const f=Math.exp(-d*t),m=(n-d)*(t*t);return f*m});const l=5/t,c=Sbe(i,s,l);if(t=no(t),isNaN(c))return{stiffness:zn.stiffness,damping:zn.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const Nbe=12;function Sbe(t,e,n){let r=n;for(let i=1;i<Nbe;i++)r=r-t(r)/e(r);return r}function WA(t,e){return t*Math.sqrt(1-e*e)}const Tbe=["duration","bounce"],Ebe=["stiffness","damping","mass"];function RD(t,e){return e.some(n=>t[n]!==void 0)}function Abe(t){let e={velocity:zn.velocity,stiffness:zn.stiffness,damping:zn.damping,mass:zn.mass,isResolvedFromDuration:!1,...t};if(!RD(t,Ebe)&&RD(t,Tbe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*hl(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:zn.mass,stiffness:i,damping:s}}else{const n=jbe(t);e={...e,...n,mass:zn.mass},e.isResolvedFromDuration=!0}return e}function _b(t=zn.visualDuration,e=zn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:d,mass:f,duration:m,velocity:p,isResolvedFromDuration:v}=Abe({...n,velocity:-Ms(n.velocity||0)}),w=p||0,x=d/(2*Math.sqrt(c*f)),g=o-s,_=Ms(Math.sqrt(c/f)),T=Math.abs(g)<5;r||(r=T?zn.restSpeed.granular:zn.restSpeed.default),i||(i=T?zn.restDelta.granular:zn.restDelta.default);let A;if(x<1){const P=WA(_,x);A=C=>{const E=Math.exp(-x*_*C);return o-E*((w+x*_*g)/P*Math.sin(P*C)+g*Math.cos(P*C))}}else if(x===1)A=P=>o-Math.exp(-_*P)*(g+(w+_*g)*P);else{const P=_*Math.sqrt(x*x-1);A=C=>{const E=Math.exp(-x*_*C),N=Math.min(P*C,300);return o-E*((w+x*_*g)*Math.sinh(N)+P*g*Math.cosh(N))/P}}const I={calculatedDuration:v&&m||null,next:P=>{const C=A(P);if(v)l.done=P>=m;else{let E=P===0?w:0;x<1&&(E=P===0?no(w):vG(A,P,C));const N=Math.abs(E)<=r,O=Math.abs(o-C)<=i;l.done=N&&O}return l.value=l.done?o:C,l},toString:()=>{const P=Math.min(WI(I),wb),C=yG(E=>I.next(P*E).value,P,30);return P+"ms "+C},toTransition:()=>{}};return I}_b.applyToOptions=t=>{const e=wbe(t,100,_b);return t.ease=e.ease,t.duration=no(e.duration),t.type="keyframes",t};function HA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:f}){const m=t[0],p={done:!1,value:m},v=N=>l!==void 0&&N<l||c!==void 0&&N>c,w=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let x=n*e;const g=m+x,_=o===void 0?g:o(g);_!==g&&(x=_-m);const T=N=>-x*Math.exp(-N/r),A=N=>_+T(N),I=N=>{const O=T(N),D=A(N);p.done=Math.abs(O)<=d,p.value=p.done?_:D};let P,C;const E=N=>{v(p.value)&&(P=N,C=_b({keyframes:[p.value,w(p.value)],velocity:vG(A,N,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return E(0),{calculatedDuration:null,next:N=>{let O=!1;return!C&&P===void 0&&(O=!0,I(N),E(N)),P!==void 0&&N>=P?C.next(N-P):(!O&&I(N),p)}}}function Pbe(t,e,n){const r=[],i=n||fl.mix||gG,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Fs:e;l=Zy(c,l)}r.push(l)}return r}function Cbe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(MI(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Pbe(e,r,i),c=l.length,d=f=>{if(o&&f<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const p=$g(t[m],t[m+1],f);return l[m](p)};return n?f=>d(hl(t[0],t[s-1],f)):d}function kbe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=$g(0,e,r);t.push($n(n,1,i))}}function Ibe(t){const e=[0];return kbe(e,t.length-1),e}function Obe(t,e){return t.map(n=>n*e)}function Rbe(t,e){return t.map(()=>e||aG).splice(0,t.length-1)}function lg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Wxe(r)?r.map(PD):PD(r),s={done:!1,value:e[0]},o=Obe(n&&n.length===e.length?n:Ibe(e),t),l=Cbe(o,e,{ease:Array.isArray(i)?i:Rbe(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const Mbe=t=>t!==null;function HI(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(Mbe),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const Dbe={decay:HA,inertia:HA,tween:lg,keyframes:lg,spring:_b};function xG(t){typeof t.type=="string"&&(t.type=Dbe[t.type])}class GI{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Lbe=t=>t/100;class KI extends GI{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Ui.now()&&this.tick(Ui.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;xG(e);const{type:n=lg,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const c=n||lg;c!==lg&&typeof l[0]!="number"&&(this.mixKeyframes=Zy(Lbe,gG(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=WI(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:m,repeatType:p,repeatDelay:v,type:w,onUpdate:x,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-d*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,I=r;if(m){const N=Math.min(this.currentTime,i)/l;let O=Math.floor(N),D=N%1;!D&&N>=1&&(D=1),D===1&&O--,O=Math.min(O,m+1),!!(O%2)&&(p==="reverse"?(D=1-D,v&&(D-=v/l)):p==="mirror"&&(I=o)),A=hl(0,1,D)*l}const P=T?{done:!1,value:f[0]}:I.next(A);s&&(P.value=s(P.value));let{done:C}=P;!T&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return E&&w!==HA&&(P.value=HI(f,this.options,g,this.speed)),x&&x(P.value),E&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return Ms(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ms(e)}get time(){return Ms(this.currentTime)}set time(e){var n;e=no(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ui.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ms(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=bbe,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ui.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function $be(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ku=t=>t*180/Math.PI,GA=t=>{const e=Ku(Math.atan2(t[1],t[0]));return KA(e)},Fbe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:GA,rotateZ:GA,skewX:t=>Ku(Math.atan(t[1])),skewY:t=>Ku(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},KA=t=>(t=t%360,t<0&&(t+=360),t),MD=GA,DD=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),LD=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Vbe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:DD,scaleY:LD,scale:t=>(DD(t)+LD(t))/2,rotateX:t=>KA(Ku(Math.atan2(t[6],t[5]))),rotateY:t=>KA(Ku(Math.atan2(-t[2],t[0]))),rotateZ:MD,rotate:MD,skewX:t=>Ku(Math.atan(t[4])),skewY:t=>Ku(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function YA(t){return t.includes("scale")?1:0}function QA(t,e){if(!t||t==="none")return YA(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Vbe,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Fbe,i=l}if(!i)return YA(e);const s=r[e],o=i[1].split(",").map(qbe);return typeof s=="function"?s(o):o[s]}const Bbe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return QA(n,e)};function qbe(t){return parseFloat(t.trim())}const vm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xm=new Set(vm),$D=t=>t===ym||t===ft,Ube=new Set(["x","y","z"]),zbe=vm.filter(t=>!Ube.has(t));function Wbe(t){const e=[];return zbe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ad={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>QA(e,"x"),y:(t,{transform:e})=>QA(e,"y")};ad.translateX=ad.x;ad.translateY=ad.y;const od=new Set;let XA=!1,JA=!1,ZA=!1;function bG(){if(JA){const t=Array.from(od).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Wbe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var l;(l=r.getValue(s))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}JA=!1,XA=!1,od.forEach(t=>t.complete(ZA)),od.clear()}function wG(){od.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(JA=!0)})}function Hbe(){ZA=!0,wG(),bG(),ZA=!1}class YI{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(od.add(this),XA||(XA=!0,In.read(wG),In.resolveKeyframes(bG))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}$be(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),od.delete(this)}cancel(){this.state==="scheduled"&&(od.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Gbe=t=>t.startsWith("--");function Kbe(t,e,n){Gbe(e)?t.style.setProperty(e,n):t.style[e]=n}const Ybe=DI(()=>window.ScrollTimeline!==void 0),Qbe={};function Xbe(t,e){const n=DI(t);return()=>Qbe[e]??n()}const _G=Xbe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hp=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,FD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hp([0,.65,.55,1]),circOut:Hp([.55,0,1,.45]),backIn:Hp([.31,.01,.66,-.59]),backOut:Hp([.33,1.53,.69,.99])};function jG(t,e){if(t)return typeof t=="function"?_G()?yG(t,e):"ease-out":oG(t)?Hp(t):Array.isArray(t)?t.map(n=>jG(n,e)||FD.easeOut):FD[t]}function Jbe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const f={[e]:n};c&&(f.offset=c);const m=jG(l,i);Array.isArray(m)&&(f.easing=m);const p={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(f,p)}function NG(t){return typeof t=="function"&&"applyToOptions"in t}function Zbe({type:t,...e}){return NG(t)&&_G()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ewe extends GI{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,MI(typeof e.type!="string");const d=Zbe(e);this.animation=Jbe(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=HI(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):Kbe(n,r,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ms(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ms(e)}get time(){return Ms(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=no(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Ybe()?(this.animation.timeline=e,Fs):n(this)}}const SG={anticipate:rG,backInOut:nG,circInOut:sG};function twe(t){return t in SG}function nwe(t){typeof t.ease=="string"&&twe(t.ease)&&(t.ease=SG[t.ease])}const VD=10;class rwe extends ewe{constructor(e){nwe(e),xG(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new KI({...o,autoplay:!1}),c=no(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-VD).value,l.sample(c).value,VD),l.stop()}}const BD=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wc.test(t)||t==="0")&&!t.startsWith("url("));function iwe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function swe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=BD(i,e),l=BD(s,e);return!o||!l?!1:iwe(t)||(n==="spring"||NG(n))&&r}function eP(t){t.duration=0,t.type="keyframes"}const awe=new Set(["opacity","clipPath","filter","transform"]),owe=DI(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lwe(t){var f;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return owe()&&n&&awe.has(n)&&(n!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const cwe=40;class uwe extends GI{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:f,...m}){var w;super(),this.stop=()=>{var x,g;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=Ui.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:d,element:f,...m},v=(f==null?void 0:f.KeyframeResolver)||YI;this.keyframeResolver=new v(l,(x,g,_)=>this.onKeyframesResolved(x,g,p,!_),c,d,f),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:f}=r;this.resolvedAt=Ui.now(),swe(e,s,o,l)||((fl.instantAnimations||!c)&&(f==null||f(HI(e,r,n))),e[0]=e[e.length-1],eP(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>cwe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!d&&lwe(p)?new rwe({...p,element:p.motionValue.owner.current}):new KI(p);v.finished.then(()=>this.notifyFinished()).catch(Fs),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Hbe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const dwe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hwe(t){const e=dwe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function TG(t,e,n=1){const[r,i]=hwe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return KH(o)?parseFloat(o):o}return BI(i)?TG(i,e,n+1):i}function QI(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const EG=new Set(["width","height","top","left","right","bottom",...vm]),fwe={test:t=>t==="auto",parse:t=>t},AG=t=>e=>e.test(t),PG=[ym,ft,ro,sc,ibe,rbe,fwe],qD=t=>PG.find(AG(t));function mwe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||QH(t):!0}const pwe=new Set(["brightness","contrast","saturate","opacity"]);function gwe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(qI)||[];if(!r)return t;const i=n.replace(r,"");let s=pwe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const ywe=/\b([a-z-]*)\(.*?\)/gu,tP={...Wc,getAnimatableNone:t=>{const e=t.match(ywe);return e?e.map(gwe).join(" "):t}},UD={...ym,transform:Math.round},vwe={rotate:sc,rotateX:sc,rotateY:sc,rotateZ:sc,scale:Hv,scaleX:Hv,scaleY:Hv,scaleZ:Hv,skew:sc,skewX:sc,skewY:sc,distance:ft,translateX:ft,translateY:ft,translateZ:ft,x:ft,y:ft,z:ft,perspective:ft,transformPerspective:ft,opacity:Fg,originX:CD,originY:CD,originZ:ft},XI={borderWidth:ft,borderTopWidth:ft,borderRightWidth:ft,borderBottomWidth:ft,borderLeftWidth:ft,borderRadius:ft,radius:ft,borderTopLeftRadius:ft,borderTopRightRadius:ft,borderBottomRightRadius:ft,borderBottomLeftRadius:ft,width:ft,maxWidth:ft,height:ft,maxHeight:ft,top:ft,right:ft,bottom:ft,left:ft,padding:ft,paddingTop:ft,paddingRight:ft,paddingBottom:ft,paddingLeft:ft,margin:ft,marginTop:ft,marginRight:ft,marginBottom:ft,marginLeft:ft,backgroundPositionX:ft,backgroundPositionY:ft,...vwe,zIndex:UD,fillOpacity:Fg,strokeOpacity:Fg,numOctaves:UD},xwe={...XI,color:sr,backgroundColor:sr,outlineColor:sr,fill:sr,stroke:sr,borderColor:sr,borderTopColor:sr,borderRightColor:sr,borderBottomColor:sr,borderLeftColor:sr,filter:tP,WebkitFilter:tP},CG=t=>xwe[t];function kG(t,e){let n=CG(t);return n!==tP&&(n=Wc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const bwe=new Set(["auto","none","0"]);function wwe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!bwe.has(s)&&Vg(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=kG(n,i)}class _we extends YI{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),BI(d))){const f=TG(d,n.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!EG.has(r)||e.length!==2)return;const[i,s]=e,o=qD(i),l=qD(s);if(o!==l)if($D(o)&&$D(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else ad[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||mwe(e[i]))&&r.push(i);r.length&&wwe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ad[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=ad[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function jwe(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const IG=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function OG(t){return YH(t)&&"offsetHeight"in t}const zD=30,Nwe=t=>!isNaN(parseFloat(t));class Swe{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Ui.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ui.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Nwe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new LI);const r=this.events[e].add(n);return e==="change"?()=>{r(),In.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ui.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zD)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zD);return XH(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ef(t,e){return new Swe(t,e)}const{schedule:JI}=lG(queueMicrotask,!1),ra={x:!1,y:!1};function RG(){return ra.x||ra.y}function Twe(t){return t==="x"||t==="y"?ra[t]?null:(ra[t]=!0,()=>{ra[t]=!1}):ra.x||ra.y?null:(ra.x=ra.y=!0,()=>{ra.x=ra.y=!1})}function MG(t,e){const n=jwe(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function WD(t){return!(t.pointerType==="touch"||RG())}function Ewe(t,e,n={}){const[r,i,s]=MG(t,n),o=l=>{if(!WD(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const f=m=>{WD(m)&&(d(m),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const DG=(t,e)=>e?t===e?!0:DG(t,e.parentElement):!1,ZI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Awe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Pwe(t){return Awe.has(t.tagName)||t.tabIndex!==-1}const Px=new WeakSet;function HD(t){return e=>{e.key==="Enter"&&t(e)}}function EN(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Cwe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=HD(()=>{if(Px.has(n))return;EN(n,"down");const i=HD(()=>{EN(n,"up")}),s=()=>EN(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function GD(t){return ZI(t)&&!RG()}function kwe(t,e,n={}){const[r,i,s]=MG(t,n),o=l=>{const c=l.currentTarget;if(!GD(l))return;Px.add(c);const d=e(c,l),f=(v,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),Px.has(c)&&Px.delete(c),GD(v)&&typeof d=="function"&&d(v,{success:w})},m=v=>{f(v,c===window||c===document||n.useGlobalTarget||DG(c,v.target))},p=v=>{f(v,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",p,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),OG(l)&&(l.addEventListener("focus",d=>Cwe(d,i)),!Pwe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function LG(t){return YH(t)&&"ownerSVGElement"in t}function Iwe(t){return LG(t)&&t.tagName==="svg"}const li=t=>!!(t&&t.getVelocity),Owe=[...PG,sr,Wc],Rwe=t=>Owe.find(AG(t)),eO=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function KD(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Mwe(...t){return e=>{let n=!1;const r=t.map(i=>{const s=KD(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():KD(t[i],null)}}}}function Dwe(...t){return S.useCallback(Mwe(...t),t)}class Lwe extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=OG(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $we({children:t,isPresent:e,anchorX:n,root:r}){const i=S.useId(),s=S.useRef(null),o=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=S.useContext(eO),c=Dwe(s,t==null?void 0:t.ref);return S.useInsertionEffect(()=>{const{width:d,height:f,top:m,left:p,right:v}=o.current;if(e||!s.current||!d||!f)return;const w=n==="left"?`left: ${p}`:`right: ${v}`;s.current.dataset.motionPopId=i;const x=document.createElement("style");l&&(x.nonce=l);const g=r??document.head;return g.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${m}px !important;
          }
        `),()=>{g.contains(x)&&g.removeChild(x)}},[e]),a.jsx(Lwe,{isPresent:e,childRef:s,sizeRef:o,children:S.cloneElement(t,{ref:c})})}const Fwe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:l,root:c})=>{const d=kI(Vwe),f=S.useId();let m=!0,p=S.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:n,custom:i,onExitComplete:v=>{d.set(v,!0);for(const w of d.values())if(!w)return;r&&r()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[n,d,r]);return s&&m&&(p={...p}),S.useMemo(()=>{d.forEach((v,w)=>d.set(w,!1))},[n]),S.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),o==="popLayout"&&(t=a.jsx($we,{isPresent:n,anchorX:l,root:c,children:t})),a.jsx(b1.Provider,{value:p,children:t})};function Vwe(){return new Map}function $G(t=!0){const e=S.useContext(b1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=S.useId();S.useEffect(()=>{if(t)return i(s)},[t]);const o=S.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Gv=t=>t.key||"";function YD(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const Bwe=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,f]=$G(o),m=S.useMemo(()=>YD(t),[t]),p=o&&!d?[]:m.map(Gv),v=S.useRef(!0),w=S.useRef(m),x=kI(()=>new Map),[g,_]=S.useState(m),[T,A]=S.useState(m);GH(()=>{v.current=!1,w.current=m;for(let C=0;C<T.length;C++){const E=Gv(T[C]);p.includes(E)?x.delete(E):x.get(E)!==!0&&x.set(E,!1)}},[T,p.length,p.join("-")]);const I=[];if(m!==g){let C=[...m];for(let E=0;E<T.length;E++){const N=T[E],O=Gv(N);p.includes(O)||(C.splice(E,0,N),I.push(N))}return s==="wait"&&I.length&&(C=I),A(YD(C)),_(m),null}const{forceRender:P}=S.useContext(CI);return a.jsx(a.Fragment,{children:T.map(C=>{const E=Gv(C),N=o&&!d?!1:m===T||p.includes(E),O=()=>{if(x.has(E))x.set(E,!0);else return;let D=!0;x.forEach(L=>{L||(D=!1)}),D&&(P==null||P(),A(w.current),o&&(f==null||f()),r&&r())};return a.jsx(Fwe,{isPresent:N,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:N?void 0:O,anchorX:l,children:C},E)})})},FG=S.createContext({strict:!1}),QD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Af={};for(const t in QD)Af[t]={isEnabled:e=>QD[t].some(n=>!!e[n])};function qwe(t){for(const e in t)Af[e]={...Af[e],...t[e]}}const Uwe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Uwe.has(t)}let VG=t=>!jb(t);function zwe(t){typeof t=="function"&&(VG=e=>e.startsWith("on")?!jb(e):t(e))}try{zwe(require("@emotion/is-prop-valid").default)}catch{}function Wwe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(VG(i)||n===!0&&jb(i)||!e&&!jb(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const w1=S.createContext({});function _1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Bg(t){return typeof t=="string"||Array.isArray(t)}const tO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nO=["initial",...tO];function j1(t){return _1(t.animate)||nO.some(e=>Bg(t[e]))}function BG(t){return!!(j1(t)||t.variants)}function Hwe(t,e){if(j1(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bg(n)?n:void 0,animate:Bg(r)?r:void 0}}return t.inherit!==!1?e:{}}function Gwe(t){const{initial:e,animate:n}=Hwe(t,S.useContext(w1));return S.useMemo(()=>({initial:e,animate:n}),[XD(e),XD(n)])}function XD(t){return Array.isArray(t)?t.join(" "):t}const qg={};function Kwe(t){for(const e in t)qg[e]=t[e],VI(e)&&(qg[e].isCSSVariable=!0)}function qG(t,{layout:e,layoutId:n}){return xm.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!qg[t]||t==="opacity")}const Ywe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qwe=vm.length;function Xwe(t,e,n){let r="",i=!0;for(let s=0;s<Qwe;s++){const o=vm[s],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=IG(l,XI[o]);if(!c){i=!1;const f=Ywe[o]||o;r+=`${f}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function rO(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(xm.has(c)){o=!0;continue}else if(VI(c)){i[c]=d;continue}else{const f=IG(d,XI[c]);c.startsWith("origin")?(l=!0,s[c]=f):r[c]=f}}if(e.transform||(o||n?r.transform=Xwe(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${c} ${d} ${f}`}}const iO=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function UG(t,e,n){for(const r in e)!li(e[r])&&!qG(r,n)&&(t[r]=e[r])}function Jwe({transformTemplate:t},e){return S.useMemo(()=>{const n=iO();return rO(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Zwe(t,e){const n=t.style||{},r={};return UG(r,n,t),Object.assign(r,Jwe(t,e)),r}function e1e(t,e){const n={},r=Zwe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const t1e={offset:"stroke-dashoffset",array:"stroke-dasharray"},n1e={offset:"strokeDashoffset",array:"strokeDasharray"};function r1e(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?t1e:n1e;t[s.offset]=ft.transform(-r);const o=ft.transform(e),l=ft.transform(n);t[s.array]=`${o} ${l}`}function zG(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...l},c,d,f){if(rO(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p}=t;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&r1e(m,i,s,o,!1)}const WG=()=>({...iO(),attrs:{}}),HG=t=>typeof t=="string"&&t.toLowerCase()==="svg";function i1e(t,e,n,r){const i=S.useMemo(()=>{const s=WG();return zG(s,e,HG(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};UG(s,t.style,t),i.style={...s,...i.style}}return i}const s1e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sO(t){return typeof t!="string"||t.includes("-")?!1:!!(s1e.indexOf(t)>-1||/[A-Z]/u.test(t))}function a1e(t,e,n,{latestValues:r},i,s=!1){const l=(sO(t)?i1e:e1e)(e,r,i,t),c=Wwe(e,typeof t=="string",s),d=t!==S.Fragment?{...c,...l,ref:n}:{},{children:f}=e,m=S.useMemo(()=>li(f)?f.get():f,[f]);return S.createElement(t,{...d,children:m})}function JD(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function aO(t,e,n,r){if(typeof e=="function"){const[i,s]=JD(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=JD(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Cx(t){return li(t)?t.get():t}function o1e({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:l1e(n,r,i,t),renderState:e()}}function l1e(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=Cx(s[p]);let{initial:o,animate:l}=t;const c=j1(t),d=BG(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const m=f?l:o;if(m&&typeof m!="boolean"&&!_1(m)){const p=Array.isArray(m)?m:[m];for(let v=0;v<p.length;v++){const w=aO(t,p[v]);if(w){const{transitionEnd:x,transition:g,..._}=w;for(const T in _){let A=_[T];if(Array.isArray(A)){const I=f?A.length-1:0;A=A[I]}A!==null&&(i[T]=A)}for(const T in x)i[T]=x[T]}}}return i}const GG=t=>(e,n)=>{const r=S.useContext(w1),i=S.useContext(b1),s=()=>o1e(t,e,r,i);return n?s():kI(s)};function oO(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(li(r[o])||e.style&&li(e.style[o])||qG(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const c1e=GG({scrapeMotionValuesFromProps:oO,createRenderState:iO});function KG(t,e,n){const r=oO(t,e,n);for(const i in t)if(li(t[i])||li(e[i])){const s=vm.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const u1e=GG({scrapeMotionValuesFromProps:KG,createRenderState:WG}),d1e=Symbol.for("motionComponentSymbol");function Bh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function h1e(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Bh(n)&&(n.current=r))},[e])}const lO=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),f1e="framerAppearId",YG="data-"+lO(f1e),QG=S.createContext({});function m1e(t,e,n,r,i){var x,g;const{visualElement:s}=S.useContext(w1),o=S.useContext(FG),l=S.useContext(b1),c=S.useContext(eO).reducedMotion,d=S.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,m=S.useContext(QG);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&p1e(d.current,n,i,m);const p=S.useRef(!1);S.useInsertionEffect(()=>{f&&p.current&&f.update(n,l)});const v=n[YG],w=S.useRef(!!v&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,v))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,v)));return GH(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),w.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,v)}),w.current=!1),f.enteringChildren=void 0)}),f}function p1e(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:XG(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&Bh(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:d})}function XG(t){if(t)return t.options.allowProjection!==!1?t.projection:XG(t.parent)}function AN(t,{forwardMotionProps:e=!1}={},n,r){n&&qwe(n);const i=sO(t)?u1e:c1e;function s(l,c){let d;const f={...S.useContext(eO),...l,layoutId:g1e(l)},{isStatic:m}=f,p=Gwe(l),v=i(l,m);if(!m&&II){y1e();const w=v1e(f);d=w.MeasureLayout,p.visualElement=m1e(t,v,f,r,w.ProjectionNode)}return a.jsxs(w1.Provider,{value:p,children:[d&&p.visualElement?a.jsx(d,{visualElement:p.visualElement,...f}):null,a1e(t,l,h1e(v,p.visualElement,c),v,m,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=S.forwardRef(s);return o[d1e]=t,o}function g1e({layoutId:t}){const e=S.useContext(CI).id;return e&&t!==void 0?e+"-"+t:t}function y1e(t,e){S.useContext(FG).strict}function v1e(t){const{drag:e,layout:n}=Af;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function x1e(t,e){if(typeof Proxy>"u")return AN;const n=new Map,r=(s,o)=>AN(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,AN(o,void 0,t,e)),n.get(o))})}function JG({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function b1e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function w1e(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function PN(t){return t===void 0||t===1}function nP({scale:t,scaleX:e,scaleY:n}){return!PN(t)||!PN(e)||!PN(n)}function Vu(t){return nP(t)||ZG(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ZG(t){return ZD(t.x)||ZD(t.y)}function ZD(t){return t&&t!=="0%"}function Nb(t,e,n){const r=t-n,i=e*r;return n+i}function e6(t,e,n,r,i){return i!==void 0&&(t=Nb(t,i,r)),Nb(t,n,r)+e}function rP(t,e=0,n=1,r,i){t.min=e6(t.min,e,n,r,i),t.max=e6(t.max,e,n,r,i)}function eK(t,{x:e,y:n}){rP(t.x,e.translate,e.scale,e.originPoint),rP(t.y,n.translate,n.scale,n.originPoint)}const t6=.999999999999,n6=1.0000000000001;function _1e(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Uh(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,eK(t,o)),r&&Vu(s.latestValues)&&Uh(t,s.latestValues))}e.x<n6&&e.x>t6&&(e.x=1),e.y<n6&&e.y>t6&&(e.y=1)}function qh(t,e){t.min=t.min+e,t.max=t.max+e}function r6(t,e,n,r,i=.5){const s=$n(t.min,t.max,i);rP(t,e,n,s,r)}function Uh(t,e){r6(t.x,e.x,e.scaleX,e.scale,e.originX),r6(t.y,e.y,e.scaleY,e.scale,e.originY)}function tK(t,e){return JG(w1e(t.getBoundingClientRect(),e))}function j1e(t,e,n){const r=tK(t,n),{scroll:i}=e;return i&&(qh(r.x,i.offset.x),qh(r.y,i.offset.y)),r}const i6=()=>({translate:0,scale:1,origin:0,originPoint:0}),zh=()=>({x:i6(),y:i6()}),s6=()=>({min:0,max:0}),Jn=()=>({x:s6(),y:s6()}),iP={current:null},nK={current:!1};function N1e(){if(nK.current=!0,!!II)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>iP.current=t.matches;t.addEventListener("change",e),e()}else iP.current=!1}const S1e=new WeakMap;function T1e(t,e,n){for(const r in e){const i=e[r],s=n[r];if(li(i))t.addValue(r,i);else if(li(s))t.addValue(r,Ef(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Ef(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const a6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class E1e{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=YI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ui.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,In.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=j1(n),this.isVariantNode=BG(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const v=m[p];c[p]!==void 0&&li(v)&&v.set(c[p])}}mount(e){var n;this.current=e,S1e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),nK.current||N1e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:iP.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),zc(this.notifyUpdate),zc(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=xm.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&In.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Af){const n=Af[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<a6.length;r++){const i=a6[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=T1e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ef(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(KH(r)||QH(r))?r=parseFloat(r):!Rwe(r)&&Wc.test(n)&&(r=kG(e,n)),this.setBaseTarget(e,li(r)?r.get():r)),li(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=aO(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!li(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new LI),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){JI.render(this.render)}}class rK extends E1e{constructor(){super(...arguments),this.KeyframeResolver=_we}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;li(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iK(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function A1e(t){return window.getComputedStyle(t)}class P1e extends rK{constructor(){super(...arguments),this.type="html",this.renderInstance=iK}readValueFromInstance(e,n){var r;if(xm.has(n))return(r=this.projection)!=null&&r.isProjecting?YA(n):Bbe(e,n);{const i=A1e(e),s=(VI(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return tK(e,n)}build(e,n,r){rO(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return oO(e,n,r)}}const sK=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function C1e(t,e,n,r){iK(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(sK.has(i)?i:lO(i),e.attrs[i])}class k1e extends rK{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(xm.has(n)){const r=CG(n);return r&&r.default||0}return n=sK.has(n)?n:lO(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return KG(e,n,r)}build(e,n,r){zG(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){C1e(e,n,r,i)}mount(e){this.isSVGTag=HG(e.tagName),super.mount(e)}}const I1e=(t,e)=>sO(t)?new k1e(e):new P1e(e,{allowProjection:t!==S.Fragment});function lf(t,e,n){const r=t.getProps();return aO(r,e,n!==void 0?n:r.custom,t)}const sP=t=>Array.isArray(t);function O1e(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ef(n))}function R1e(t){return sP(t)?t[t.length-1]||0:t}function M1e(t,e){const n=lf(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const l=R1e(s[o]);O1e(t,o,l)}}function D1e(t){return!!(li(t)&&t.add)}function aP(t,e){const n=t.getValue("willChange");if(D1e(n))return n.add(e);if(!n&&fl.WillChange){const r=new fl.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function aK(t){return t.props[YG]}const L1e=t=>t!==null;function $1e(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(L1e),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const F1e={type:"spring",stiffness:500,damping:25,restSpeed:10},V1e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),B1e={type:"keyframes",duration:.8},q1e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},U1e=(t,{keyframes:e})=>e.length>2?B1e:xm.has(t)?t.startsWith("scale")?V1e(e[1]):F1e:q1e;function z1e({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const cO=(t,e,n,r={},i,s)=>o=>{const l=QI(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-no(c);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};z1e(l)||Object.assign(f,U1e(t,f)),f.duration&&(f.duration=no(f.duration)),f.repeatDelay&&(f.repeatDelay=no(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(eP(f),f.delay===0&&(m=!0)),(fl.instantAnimations||fl.skipAnimations)&&(m=!0,eP(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!s&&e.get()!==void 0){const p=$1e(f.keyframes,l);if(p!==void 0){In.update(()=>{f.onUpdate(p),f.onComplete()});return}}return l.isSync?new KI(f):new uwe(f)};function W1e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function oK(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const m=t.getValue(f,t.latestValues[f]??null),p=l[f];if(p===void 0||d&&W1e(d,f))continue;const v={delay:n,...QI(s||{},f)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===w&&!v.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const _=aK(t);if(_){const T=window.MotionHandoffAnimation(_,f,In);T!==null&&(v.startTime=T,x=!0)}}aP(t,f),m.start(cO(f,m,p,t.shouldReduceMotion&&EG.has(f)?{type:!1}:v,t,x));const g=m.animation;g&&c.push(g)}return o&&Promise.all(c).then(()=>{In.update(()=>{o&&M1e(t,o)})}),c}function lK(t,e,n,r=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),o=t.size,l=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:l-s*r}function oP(t,e,n={}){var c;const r=lf(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(oK(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:p}=i;return H1e(t,e,d,f,m,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,f]=l==="beforeChildren"?[s,o]:[o,s];return d().then(()=>f())}else return Promise.all([s(),o(n.delay)])}function H1e(t,e,n=0,r=0,i=0,s=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(oP(c,e,{...o,delay:n+(typeof r=="function"?0:r)+lK(t.variantChildren,c,r,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function G1e(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>oP(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=oP(t,e,n);else{const i=typeof e=="function"?lf(t,e,n.custom):e;r=Promise.all(oK(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function cK(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const K1e=nO.length;function uK(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?uK(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<K1e;n++){const r=nO[n],i=t.props[r];(Bg(i)||i===!1)&&(e[r]=i)}return e}const Y1e=[...tO].reverse(),Q1e=tO.length;function X1e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>G1e(t,n,r)))}function J1e(t){let e=X1e(t),n=o6(),r=!0;const i=c=>(d,f)=>{var p;const m=lf(t,f,c==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(m){const{transition:v,transitionEnd:w,...x}=m;d={...d,...x,...w}}return d};function s(c){e=c(t)}function o(c){const{props:d}=t,f=uK(t.parent)||{},m=[],p=new Set;let v={},w=1/0;for(let g=0;g<Q1e;g++){const _=Y1e[g],T=n[_],A=d[_]!==void 0?d[_]:f[_],I=Bg(A),P=_===c?T.isActive:null;P===!1&&(w=g);let C=A===f[_]&&A!==d[_]&&I;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),T.protectedKeys={...v},!T.isActive&&P===null||!A&&!T.prevProp||_1(A)||typeof A=="boolean")continue;const E=Z1e(T.prevProp,A);let N=E||_===c&&T.isActive&&!C&&I||g>w&&I,O=!1;const D=Array.isArray(A)?A:[A];let L=D.reduce(i(_),{});P===!1&&(L={});const{prevResolvedValues:$={}}=T,F={...$,...L},G=X=>{N=!0,p.has(X)&&(O=!0,p.delete(X)),T.needsAnimating[X]=!0;const U=t.getValue(X);U&&(U.liveStyle=!1)};for(const X in F){const U=L[X],Q=$[X];if(v.hasOwnProperty(X))continue;let re=!1;sP(U)&&sP(Q)?re=!cK(U,Q):re=U!==Q,re?U!=null?G(X):p.add(X):U!==void 0&&p.has(X)?G(X):T.protectedKeys[X]=!0}T.prevProp=A,T.prevResolvedValues=L,T.isActive&&(v={...v,...L}),r&&t.blockInitialAnimation&&(N=!1);const Y=C&&E;N&&(!Y||O)&&m.push(...D.map(X=>{const U={type:_};if(typeof X=="string"&&r&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:Q}=t,re=lf(Q,X);if(Q.enteringChildren&&re){const{delayChildren:W}=re.transition||{};U.delay=lK(Q.enteringChildren,t,W)}}return{animation:X,options:U}}))}if(p.size){const g={};if(typeof d.initial!="boolean"){const _=lf(t,Array.isArray(d.initial)?d.initial[0]:d.initial);_&&_.transition&&(g.transition=_.transition)}p.forEach(_=>{const T=t.getBaseTarget(_),A=t.getValue(_);A&&(A.liveStyle=!0),g[_]=T??null}),m.push({animation:g})}let x=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(m):Promise.resolve()}function l(c,d){var m;if(n[c].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(p=>{var v;return(v=p.animationState)==null?void 0:v.setActive(c,d)}),n[c].isActive=d;const f=o(c);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=o6()}}}function Z1e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cK(e,t):!1}function Mu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function o6(){return{animate:Mu(!0),whileInView:Mu(),whileHover:Mu(),whileTap:Mu(),whileDrag:Mu(),whileFocus:Mu(),exit:Mu()}}class tu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class e_e extends tu{constructor(e){super(e),e.animationState||(e.animationState=J1e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let t_e=0;class n_e extends tu{constructor(){super(...arguments),this.id=t_e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const r_e={animation:{Feature:e_e},exit:{Feature:n_e}};function Ug(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function n0(t){return{point:{x:t.pageX,y:t.pageY}}}const i_e=t=>e=>ZI(e)&&t(e,n0(e));function cg(t,e,n,r){return Ug(t,e,i_e(n),r)}const dK=1e-4,s_e=1-dK,a_e=1+dK,hK=.01,o_e=0-hK,l_e=0+hK;function wi(t){return t.max-t.min}function c_e(t,e,n){return Math.abs(t-e)<=n}function l6(t,e,n,r=.5){t.origin=r,t.originPoint=$n(e.min,e.max,t.origin),t.scale=wi(n)/wi(e),t.translate=$n(n.min,n.max,t.origin)-t.originPoint,(t.scale>=s_e&&t.scale<=a_e||isNaN(t.scale))&&(t.scale=1),(t.translate>=o_e&&t.translate<=l_e||isNaN(t.translate))&&(t.translate=0)}function ug(t,e,n,r){l6(t.x,e.x,n.x,r?r.originX:void 0),l6(t.y,e.y,n.y,r?r.originY:void 0)}function c6(t,e,n){t.min=n.min+e.min,t.max=t.min+wi(e)}function u_e(t,e,n){c6(t.x,e.x,n.x),c6(t.y,e.y,n.y)}function u6(t,e,n){t.min=e.min-n.min,t.max=t.min+wi(e)}function dg(t,e,n){u6(t.x,e.x,n.x),u6(t.y,e.y,n.y)}function ks(t){return[t("x"),t("y")]}const fK=({current:t})=>t?t.ownerDocument.defaultView:null,d6=(t,e)=>Math.abs(t-e);function d_e(t,e){const n=d6(t.x,e.x),r=d6(t.y,e.y);return Math.sqrt(n**2+r**2)}class mK{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=kN(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=d_e(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!w)return;const{point:x}=p,{timestamp:g}=$r;this.history.push({...x,timestamp:g});const{onStart:_,onMove:T}=this.handlers;v||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=CN(v,this.transformPagePoint),In.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:w,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=kN(p.type==="pointercancel"?this.lastMoveEventInfo:CN(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(p,_),x&&x(p,_)},!ZI(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const l=n0(e),c=CN(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=$r;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,kN(c,this.history)),this.removeListeners=Zy(cg(this.contextWindow,"pointermove",this.handlePointerMove),cg(this.contextWindow,"pointerup",this.handlePointerUp),cg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zc(this.updatePoint)}}function CN(t,e){return e?{point:e(t.point)}:t}function h6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kN({point:t},e){return{point:t,delta:h6(t,pK(e)),offset:h6(t,h_e(e)),velocity:f_e(e,.1)}}function h_e(t){return t[0]}function pK(t){return t[t.length-1]}function f_e(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=pK(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>no(e)));)n--;if(!r)return{x:0,y:0};const s=Ms(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function m_e(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?$n(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?$n(n,t,r.max):Math.min(t,n)),t}function f6(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function p_e(t,{top:e,left:n,bottom:r,right:i}){return{x:f6(t.x,n,i),y:f6(t.y,e,r)}}function m6(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function g_e(t,e){return{x:m6(t.x,e.x),y:m6(t.y,e.y)}}function y_e(t,e){let n=.5;const r=wi(t),i=wi(e);return i>r?n=$g(e.min,e.max-r,t.min):r>i&&(n=$g(t.min,t.max-i,e.min)),hl(0,1,n)}function v_e(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const lP=.35;function x_e(t=lP){return t===!1?t=0:t===!0&&(t=lP),{x:p6(t,"left","right"),y:p6(t,"top","bottom")}}function p6(t,e,n){return{min:g6(t,e),max:g6(t,n)}}function g6(t,e){return typeof t=="number"?t:t[e]||0}const b_e=new WeakMap;class w_e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(n0(m).point)},o=(m,p)=>{const{drag:v,dragPropagation:w,onDragStart:x}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Twe(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ks(_=>{let T=this.getAxisMotionValue(_).get()||0;if(ro.test(T)){const{projection:A}=this.visualElement;if(A&&A.layout){const I=A.layout.layoutBox[_];I&&(T=wi(I)*(parseFloat(T)/100))}}this.originPoint[_]=T}),x&&In.postRender(()=>x(m,p)),aP(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},l=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:x,onDrag:g}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:_}=p;if(w&&this.currentDirection===null){this.currentDirection=__e(_),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),g&&g(m,p)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ks(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)==null?void 0:p.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new mK(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:fK(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&In.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Kv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=m_e(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Bh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=p_e(r.layoutBox,e):this.constraints=!1,this.elastic=x_e(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ks(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=v_e(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=j1e(r,i.root,this.visualElement.getTransformPagePoint());let o=g_e(i.layout.layoutBox,s);if(n){const l=n(b1e(o));this.hasMutatedConstraints=!!l,l&&(o=JG(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ks(f=>{if(!Kv(f,n,this.currentDirection))return;let m=c&&c[f]||{};o&&(m={min:0,max:0});const p=i?200:1e6,v=i?40:1e7,w={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(f,w)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return aP(this.visualElement,e),r.start(cO(e,r,0,n,this.visualElement,!1))}stopAnimation(){ks(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ks(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ks(n=>{const{drag:r}=this.getProps();if(!Kv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(e[n]-$n(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Bh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ks(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=y_e({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ks(o=>{if(!Kv(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set($n(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;b_e.set(this.visualElement,this);const e=this.visualElement.current,n=cg(e,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Bh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),In.read(r);const o=Ug(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ks(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=c[f].translate,m.set(m.get()+c[f].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=lP,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Kv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function __e(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class j_e extends tu{constructor(e){super(e),this.removeGroupControls=Fs,this.removeListeners=Fs,this.controls=new w_e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fs}unmount(){this.removeGroupControls(),this.removeListeners()}}const y6=t=>(e,n)=>{t&&In.postRender(()=>t(e,n))};class N_e extends tu{constructor(){super(...arguments),this.removePointerDownListener=Fs}onPointerDown(e){this.session=new mK(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fK(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:y6(e),onStart:y6(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&In.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=cg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function v6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Sp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ft.test(t))t=parseFloat(t);else return t;const n=v6(t,e.target.x),r=v6(t,e.target.y);return`${n}% ${r}%`}},S_e={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Wc.parse(t);if(i.length>5)return r;const s=Wc.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const d=$n(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};let IN=!1;class T_e extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Kwe(E_e),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),IN&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),kx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,IN=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||In.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),JI.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;IN=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gK(t){const[e,n]=$G(),r=S.useContext(CI);return a.jsx(T_e,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(QG),isPresent:e,safeToRemove:n})}const E_e={borderRadius:{...Sp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sp,borderTopRightRadius:Sp,borderBottomLeftRadius:Sp,borderBottomRightRadius:Sp,boxShadow:S_e};function A_e(t,e,n){const r=li(t)?t:Ef(t);return r.start(cO("",r,e,n)),r.animation}const P_e=(t,e)=>t.depth-e.depth;class C_e{constructor(){this.children=[],this.isDirty=!1}add(e){OI(this.children,e),this.isDirty=!0}remove(e){RI(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(P_e),this.isDirty=!1,this.children.forEach(e)}}function k_e(t,e){const n=Ui.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(zc(r),t(s-e))};return In.setup(r,!0),()=>zc(r)}const yK=["TopLeft","TopRight","BottomLeft","BottomRight"],I_e=yK.length,x6=t=>typeof t=="string"?parseFloat(t):t,b6=t=>typeof t=="number"||ft.test(t);function O_e(t,e,n,r,i,s){i?(t.opacity=$n(0,n.opacity??1,R_e(r)),t.opacityExit=$n(e.opacity??1,0,M_e(r))):s&&(t.opacity=$n(e.opacity??1,n.opacity??1,r));for(let o=0;o<I_e;o++){const l=`border${yK[o]}Radius`;let c=w6(e,l),d=w6(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||b6(c)===b6(d)?(t[l]=Math.max($n(x6(c),x6(d),r),0),(ro.test(d)||ro.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=$n(e.rotate||0,n.rotate||0,r))}function w6(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const R_e=vK(0,.5,iG),M_e=vK(.5,.95,Fs);function vK(t,e,n){return r=>r<t?0:r>e?1:n($g(t,e,r))}function _6(t,e){t.min=e.min,t.max=e.max}function Es(t,e){_6(t.x,e.x),_6(t.y,e.y)}function j6(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function N6(t,e,n,r,i){return t-=e,t=Nb(t,1/n,r),i!==void 0&&(t=Nb(t,1/i,r)),t}function D_e(t,e=0,n=1,r=.5,i,s=t,o=t){if(ro.test(e)&&(e=parseFloat(e),e=$n(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=$n(s.min,s.max,r);t===s&&(l-=e),t.min=N6(t.min,e,n,l,i),t.max=N6(t.max,e,n,l,i)}function S6(t,e,[n,r,i],s,o){D_e(t,e[n],e[r],e[i],e.scale,s,o)}const L_e=["x","scaleX","originX"],$_e=["y","scaleY","originY"];function T6(t,e,n,r){S6(t.x,e,L_e,n?n.x:void 0,r?r.x:void 0),S6(t.y,e,$_e,n?n.y:void 0,r?r.y:void 0)}function E6(t){return t.translate===0&&t.scale===1}function xK(t){return E6(t.x)&&E6(t.y)}function A6(t,e){return t.min===e.min&&t.max===e.max}function F_e(t,e){return A6(t.x,e.x)&&A6(t.y,e.y)}function P6(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bK(t,e){return P6(t.x,e.x)&&P6(t.y,e.y)}function C6(t){return wi(t.x)/wi(t.y)}function k6(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class V_e{constructor(){this.members=[]}add(e){OI(this.members,e),e.scheduleRender()}remove(e){if(RI(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function B_e(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:m,rotateY:p,skewX:v,skewY:w}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),p&&(r+=`rotateY(${p}deg) `),v&&(r+=`skewX(${v}deg) `),w&&(r+=`skewY(${w}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const ON=["","X","Y","Z"],q_e=1e3;let U_e=0;function RN(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function wK(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=aK(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",In,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&wK(r)}function _K({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=U_e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(H_e),this.nodes.forEach(Q_e),this.nodes.forEach(X_e),this.nodes.forEach(G_e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new C_e)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new LI),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=LG(o)&&!Iwe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let f,m=0;const p=()=>this.root.updateBlockedByResize=!1;In.read(()=>{m=window.innerWidth}),t(o,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,f&&f(),f=k_e(p,250),kx.hasAnimatedSinceResize&&(kx.hasAnimatedSinceResize=!1,this.nodes.forEach(R6)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||nje,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=d.getProps(),_=!this.targetLayout||!bK(this.targetLayout,v),T=!m&&p;if(this.options.layoutRoot||this.resumeFrom||T||m&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...QI(w,"layout"),onPlay:x,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(f,T)}else m||R6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(J_e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wK(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(I6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(O6);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Y_e),this.nodes.forEach(z_e),this.nodes.forEach(W_e)):this.nodes.forEach(O6),this.clearAllSnapshots();const l=Ui.now();$r.delta=hl(0,1e3/60,l-$r.timestamp),$r.timestamp=l,$r.isProcessing=!0,_N.update.process($r),_N.preRender.process($r),_N.render.process($r),$r.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,JI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(K_e),this.sharedNodes.forEach(Z_e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,In.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){In.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wi(this.snapshot.measuredBox.x)&&!wi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!xK(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Vu(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),rje(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Jn();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(ije))){const{scroll:f}=this.root;f&&(qh(l.x,f.offset.x),qh(l.y,f.offset.y))}return l}removeElementScroll(o){var c;const l=Jn();if(Es(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:p}=f;f!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&Es(l,o),qh(l.x,m.offset.x),qh(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=Jn();Es(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Uh(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Vu(f.latestValues)&&Uh(c,f.latestValues)}return Vu(this.latestValues)&&Uh(c,this.latestValues),c}removeTransform(o){const l=Jn();Es(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Vu(d.latestValues))continue;nP(d.latestValues)&&d.updateSnapshot();const f=Jn(),m=d.measurePageBox();Es(f,m),T6(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Vu(this.latestValues)&&T6(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$r.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=$r.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jn(),this.relativeTargetOrigin=Jn(),dg(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Es(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Jn(),this.targetWithTransforms=Jn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u_e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Es(this.target,this.layout.layoutBox),eK(this.target,this.targetDelta)):Es(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jn(),this.relativeTargetOrigin=Jn(),dg(this.relativeTargetOrigin,this.target,v.target),Es(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nP(this.parent.latestValues)||ZG(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===$r.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Es(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;_1e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Jn());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(j6(this.prevProjectionDelta.x,this.projectionDelta.x),j6(this.prevProjectionDelta.y,this.projectionDelta.y)),ug(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!k6(this.projectionDelta.x,this.prevProjectionDelta.x)||!k6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zh(),this.projectionDelta=zh(),this.projectionDeltaWithTransform=zh()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},m=zh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Jn(),v=c?c.source:void 0,w=this.layout?this.layout.source:void 0,x=v!==w,g=this.getStack(),_=!g||g.members.length<=1,T=!!(x&&!_&&this.options.crossfade===!0&&!this.path.some(tje));this.animationProgress=0;let A;this.mixTargetDelta=I=>{const P=I/1e3;M6(m.x,o.x,P),M6(m.y,o.y,P),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dg(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eje(this.relativeTarget,this.relativeTargetOrigin,p,P),A&&F_e(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Jn()),Es(A,this.relativeTarget)),x&&(this.animationValues=f,O_e(f,d,this.latestValues,P,T,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(zc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=In.update(()=>{kx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ef(0)),this.currentAnimation=A_e(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(q_e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&jK(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Jn();const m=wi(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const p=wi(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}Es(l,c),Uh(l,f),ug(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new V_e),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&RN("z",o,d,this.animationValues);for(let f=0;f<ON.length;f++)RN(`rotate${ON[f]}`,o,d,this.animationValues),RN(`skew${ON[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Cx(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Cx(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Vu(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=B_e(this.projectionDeltaWithTransform,this.treeScale,f);c&&(m=c(f,m)),o.transform=m;const{x:p,y:v}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in qg){if(f[w]===void 0)continue;const{correct:x,applyTo:g,isCSSVariable:_}=qg[w],T=m==="none"?f[w]:x(f[w],d);if(g){const A=g.length;for(let I=0;I<A;I++)o[g[I]]=T}else _?this.options.visualElement.renderState.vars[w]=T:o[w]=T}this.options.layoutId&&(o.pointerEvents=d===this?Cx(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(I6),this.root.sharedNodes.clear()}}}function z_e(t){t.updateLayout()}function W_e(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?ks(m=>{const p=o?e.measuredBox[m]:e.layoutBox[m],v=wi(p);p.min=r[m].min,p.max=p.min+v}):jK(s,e.layoutBox,r)&&ks(m=>{const p=o?e.measuredBox[m]:e.layoutBox[m],v=wi(r[m]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+v)});const l=zh();ug(l,r,e.layoutBox);const c=zh();o?ug(c,t.applyTransform(i,!0),e.measuredBox):ug(c,r,e.layoutBox);const d=!xK(l);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:v}=m;if(p&&v){const w=Jn();dg(w,e.layoutBox,p.layoutBox);const x=Jn();dg(x,r,v.layoutBox),bK(w,x)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=w,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function H_e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function G_e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function K_e(t){t.clearSnapshot()}function I6(t){t.clearMeasurements()}function O6(t){t.isLayoutDirty=!1}function Y_e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function R6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Q_e(t){t.resolveTargetDelta()}function X_e(t){t.calcProjection()}function J_e(t){t.resetSkewAndRotation()}function Z_e(t){t.removeLeadSnapshot()}function M6(t,e,n){t.translate=$n(e.translate,0,n),t.scale=$n(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function D6(t,e,n,r){t.min=$n(e.min,n.min,r),t.max=$n(e.max,n.max,r)}function eje(t,e,n,r){D6(t.x,e.x,n.x,r),D6(t.y,e.y,n.y,r)}function tje(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nje={duration:.45,ease:[.4,0,.1,1]},L6=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$6=L6("applewebkit/")&&!L6("chrome/")?Math.round:Fs;function F6(t){t.min=$6(t.min),t.max=$6(t.max)}function rje(t){F6(t.x),F6(t.y)}function jK(t,e,n){return t==="position"||t==="preserve-aspect"&&!c_e(C6(e),C6(n),.2)}function ije(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const sje=_K({attachResizeListener:(t,e)=>Ug(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),MN={current:void 0},NK=_K({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!MN.current){const t=new sje({});t.mount(window),t.setOptions({layoutScroll:!0}),MN.current=t}return MN.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),aje={pan:{Feature:N_e},drag:{Feature:j_e,ProjectionNode:NK,MeasureLayout:gK}};function V6(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&In.postRender(()=>s(e,n0(e)))}class oje extends tu{mount(){const{current:e}=this.node;e&&(this.unmount=Ewe(e,(n,r)=>(V6(this.node,r,"Start"),i=>V6(this.node,i,"End"))))}unmount(){}}class lje extends tu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zy(Ug(this.node.current,"focus",()=>this.onFocus()),Ug(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function B6(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&In.postRender(()=>s(e,n0(e)))}class cje extends tu{mount(){const{current:e}=this.node;e&&(this.unmount=kwe(e,(n,r)=>(B6(this.node,r,"Start"),(i,{success:s})=>B6(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cP=new WeakMap,DN=new WeakMap,uje=t=>{const e=cP.get(t.target);e&&e(t)},dje=t=>{t.forEach(uje)};function hje({root:t,...e}){const n=t||document;DN.has(n)||DN.set(n,{});const r=DN.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(dje,{root:t,...e})),r[i]}function fje(t,e,n){const r=hje(e);return cP.set(t,n),r.observe(t),()=>{cP.delete(t),r.unobserve(t)}}const mje={some:0,all:1};class pje extends tu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:mje[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),p=d?f:m;p&&p(c)};return fje(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(gje(e,n))&&this.startObserver()}unmount(){}}function gje({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const yje={inView:{Feature:pje},tap:{Feature:cje},focus:{Feature:lje},hover:{Feature:oje}},vje={layout:{ProjectionNode:NK,MeasureLayout:gK}},xje={...r_e,...yje,...aje,...vje},Wt=x1e(xje,I1e);function bje(){const[t,e]=S.useState(null),[n,r]=S.useState(!1),[i,s]=S.useState(!1),[o,l]=S.useState(!1);S.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){l(!0);return}const f=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;s(f);const m=p=>{p.preventDefault(),e(p),setTimeout(()=>{r(!0)},3e3)};return window.addEventListener("beforeinstallprompt",m),f&&setTimeout(()=>{r(!0)},3e3),()=>{window.removeEventListener("beforeinstallprompt",m)}},[]);const c=async()=>{if(!t)return;t.prompt();const{outcome:f}=await t.userChoice;f==="accepted"&&(console.log("User accepted the install prompt"),l(!0)),e(null),r(!1)},d=()=>{r(!1),sessionStorage.setItem("installPromptDismissed","true")};return o||sessionStorage.getItem("installPromptDismissed")?null:a.jsx(Bwe,{children:n&&a.jsx(Wt.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-20 left-4 right-4 z-50 md:left-auto md:right-8 md:max-w-md lg:bottom-8",children:a.jsx(te,{className:"border-4 border-purple-400 shadow-2xl bg-gradient-to-br from-purple-50 to-pink-50",children:a.jsxs(ne,{className:"p-4",children:[a.jsx("button",{onClick:d,className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Dismiss",children:a.jsx(Tr,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:a.jsx(Vme,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1 pr-4",children:[a.jsx("h3",{className:"font-bold text-lg mb-1",children:"Install Math Adventure"}),i?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Add to your home screen for the best experience!"}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-purple-200 text-sm space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(G3,{className:"w-4 h-4 text-blue-600"})}),a.jsx("p",{className:"font-semibold text-purple-700",children:"How to install on iPhone/iPad:"})]}),a.jsxs("ol",{className:"space-y-2 text-gray-700 ml-2",children:[a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"font-bold text-purple-600 flex-shrink-0",children:"1."}),a.jsxs("span",{children:["Tap the ",a.jsx("strong",{children:"Share button"})," ",a.jsx(G3,{className:"inline w-4 h-4"})," at the bottom of your screen (or top in Safari)"]})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"font-bold text-purple-600 flex-shrink-0",children:"2."}),a.jsxs("span",{children:["Scroll down and tap ",a.jsx("strong",{children:'"Add to Home Screen"'})," ",a.jsx("span",{className:"inline-block bg-gray-100 px-2 py-1 rounded text-xs",children:"+"})]})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"font-bold text-purple-600 flex-shrink-0",children:"3."}),a.jsxs("span",{children:["Tap ",a.jsx("strong",{children:'"Add"'})," in the top right corner"]})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"font-bold text-purple-600 flex-shrink-0",children:"4."}),a.jsx("span",{children:"The app icon will appear on your home screen!"})]})]}),a.jsx("div",{className:"bg-blue-50 p-2 rounded mt-3",children:a.jsxs("p",{className:"text-xs text-blue-700",children:[" ",a.jsx("strong",{children:"Tip:"})," Once installed, open the app from your home screen for the full-screen experience!"]})})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Install the app for quick access and offline play!"}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border-2 border-purple-200 mb-3",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-2",children:" Benefits:"}),a.jsxs("ul",{className:"text-xs text-gray-700 space-y-1",children:[a.jsx("li",{children:" Works offline"}),a.jsx("li",{children:" Faster loading"}),a.jsx("li",{children:" Full-screen experience"}),a.jsx("li",{children:" Home screen access"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(oe,{onClick:c,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(Ig,{className:"w-4 h-4 mr-2"}),"Install App"]}),a.jsx(oe,{onClick:d,variant:"outline",children:"Later"})]})]})]})]})]})})})})}function Ei(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Hc(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function wje(t,e){const n=Ei(t);return isNaN(e)?Hc(t,NaN):(e&&n.setDate(n.getDate()+e),n)}const SK=6048e5,_je=864e5;let jje={};function N1(){return jje}function bd(t,e){var l,c,d,f;const n=N1(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=Ei(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Sb(t){return bd(t,{weekStartsOn:1})}function TK(t){const e=Ei(t),n=e.getFullYear(),r=Hc(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Sb(r),s=Hc(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Sb(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function qi(t){const e=Ei(t);return e.setHours(0,0,0,0),e}function q6(t){const e=Ei(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function EK(t,e){const n=qi(t),r=qi(e),i=+n-q6(n),s=+r-q6(r);return Math.round((i-s)/_je)}function Nje(t){const e=TK(t),n=Hc(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Sb(n)}function Sje(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Tje(t){if(!Sje(t)&&typeof t!="number")return!1;const e=Ei(t);return!isNaN(Number(e))}function U6(t,e){const n=Ei(t),r=Ei(e),i=z6(n,r),s=Math.abs(EK(n,r));n.setDate(n.getDate()-i*s);const o=+(z6(n,r)===-i),l=i*(s-o);return l===0?0:l}function z6(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function AK(t){const e=Ei(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Eje(t){const e=Ei(t),n=Hc(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Aje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Pje=(t,e,n)=>{let r;const i=Aje[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function LN(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Cje={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kje={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ije={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Oje={date:LN({formats:Cje,defaultWidth:"full"}),time:LN({formats:kje,defaultWidth:"full"}),dateTime:LN({formats:Ije,defaultWidth:"full"})},Rje={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Mje=(t,e,n,r)=>Rje[t];function Tp(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Dje={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Lje={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$je={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Fje={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qje=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Uje={ordinalNumber:qje,era:Tp({values:Dje,defaultWidth:"wide"}),quarter:Tp({values:Lje,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Tp({values:$je,defaultWidth:"wide"}),day:Tp({values:Fje,defaultWidth:"wide"}),dayPeriod:Tp({values:Vje,defaultWidth:"wide",formattingValues:Bje,defaultFormattingWidth:"wide"})};function Ep(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Wje(l,m=>m.test(o)):zje(l,m=>m.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(o.length);return{value:d,rest:f}}}function zje(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Wje(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Hje(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const Gje=/^(\d+)(th|st|nd|rd)?/i,Kje=/\d+/i,Yje={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qje={any:[/^b/i,/^(a|c)/i]},Xje={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jje={any:[/1/i,/2/i,/3/i,/4/i]},Zje={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eNe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tNe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nNe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rNe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iNe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sNe={ordinalNumber:Hje({matchPattern:Gje,parsePattern:Kje,valueCallback:t=>parseInt(t,10)}),era:Ep({matchPatterns:Yje,defaultMatchWidth:"wide",parsePatterns:Qje,defaultParseWidth:"any"}),quarter:Ep({matchPatterns:Xje,defaultMatchWidth:"wide",parsePatterns:Jje,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ep({matchPatterns:Zje,defaultMatchWidth:"wide",parsePatterns:eNe,defaultParseWidth:"any"}),day:Ep({matchPatterns:tNe,defaultMatchWidth:"wide",parsePatterns:nNe,defaultParseWidth:"any"}),dayPeriod:Ep({matchPatterns:rNe,defaultMatchWidth:"any",parsePatterns:iNe,defaultParseWidth:"any"})},aNe={code:"en-US",formatDistance:Pje,formatLong:Oje,formatRelative:Mje,localize:Uje,match:sNe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oNe(t){const e=Ei(t);return EK(e,Eje(e))+1}function lNe(t){const e=Ei(t),n=+Sb(e)-+Nje(e);return Math.round(n/SK)+1}function PK(t,e){var f,m,p,v;const n=Ei(t),r=n.getFullYear(),i=N1(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(p=i.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,o=Hc(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const l=bd(o,e),c=Hc(t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const d=bd(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function cNe(t,e){var l,c,d,f;const n=N1(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=PK(t,e),s=Hc(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),bd(s,e)}function CK(t,e){const n=Ei(t),r=+bd(n,e)-+cNe(n,e);return Math.round(r/SK)+1}function un(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const rc={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return un(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):un(n+1,2)},d(t,e){return un(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return un(t.getHours()%12||12,e.length)},H(t,e){return un(t.getHours(),e.length)},m(t,e){return un(t.getMinutes(),e.length)},s(t,e){return un(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return un(i,e.length)}},Ph={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},W6={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return rc.y(t,e)},Y:function(t,e,n,r){const i=PK(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return un(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):un(s,e.length)},R:function(t,e){const n=TK(t);return un(n,e.length)},u:function(t,e){const n=t.getFullYear();return un(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return un(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return un(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return rc.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return un(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=CK(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):un(i,e.length)},I:function(t,e,n){const r=lNe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):un(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):rc.d(t,e)},D:function(t,e,n){const r=oNe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):un(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return un(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return un(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return un(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ph.noon:r===0?i=Ph.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ph.evening:r>=12?i=Ph.afternoon:r>=4?i=Ph.morning:i=Ph.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return rc.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):rc.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):un(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):un(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):rc.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):rc.s(t,e)},S:function(t,e){return rc.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return G6(r);case"XXXX":case"XX":return Bu(r);case"XXXXX":case"XXX":default:return Bu(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return G6(r);case"xxxx":case"xx":return Bu(r);case"xxxxx":case"xxx":default:return Bu(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+H6(r,":");case"OOOO":default:return"GMT"+Bu(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+H6(r,":");case"zzzz":default:return"GMT"+Bu(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return un(r,e.length)},T:function(t,e,n){const r=t.getTime();return un(r,e.length)}};function H6(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+un(s,2)}function G6(t,e){return t%60===0?(t>0?"-":"+")+un(Math.abs(t)/60,2):Bu(t,e)}function Bu(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=un(Math.trunc(r/60),2),s=un(r%60,2);return n+i+e+s}const K6=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},kK=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},uNe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return K6(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",K6(r,e)).replace("{{time}}",kK(i,e))},dNe={p:kK,P:uNe},hNe=/^D+$/,fNe=/^Y+$/,mNe=["D","DD","YY","YYYY"];function pNe(t){return hNe.test(t)}function gNe(t){return fNe.test(t)}function yNe(t,e,n){const r=vNe(t,e,n);if(console.warn(r),mNe.includes(t))throw new RangeError(r)}function vNe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xNe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bNe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wNe=/^'([^]*?)'?$/,_Ne=/''/g,jNe=/[a-zA-Z]/;function hn(t,e,n){var f,m,p,v;const r=N1(),i=r.locale??aNe,s=r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=r.weekStartsOn??((v=(p=r.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,l=Ei(t);if(!Tje(l))throw new RangeError("Invalid time value");let c=e.match(bNe).map(w=>{const x=w[0];if(x==="p"||x==="P"){const g=dNe[x];return g(w,i.formatLong)}return w}).join("").match(xNe).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const x=w[0];if(x==="'")return{isToken:!1,value:NNe(w)};if(W6[x])return{isToken:!0,value:w};if(x.match(jNe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const x=w.value;(gNe(x)||pNe(x))&&yNe(x,e,String(t));const g=W6[x[0]];return g(l,x,i.localize,d)}).join("")}function NNe(t){const e=t.match(wNe);return e?e[1].replace(_Ne,"'"):t}function $N(t,e){return wje(t,-e)}function SNe({children:t,currentPageName:e}){var I,P;const n=jl(),[r,i]=S.useState(!1),[s,o]=S.useState(null);S.useEffect(()=>{const C=zx(Bt),E=i9(C,N=>{o(N?{email:N.email,full_name:N.displayName,avatar_skin_tone:"medium",coins:0}:null)});return()=>E()},[]);const l=((I=s==null?void 0:s.app_settings)==null?void 0:I.theme)==="dark";S.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then($=>{console.log("Service Worker registered:",$)}).catch($=>{console.log("Service Worker registration failed:",$)});const C=document.createElement("link");C.rel="manifest",C.href="/manifest.json",document.head.appendChild(C);const E=document.createElement("meta");E.name="theme-color",E.content=l?"#1e293b":"#9333ea",document.head.appendChild(E);const N=document.createElement("meta");N.name="apple-mobile-web-app-capable",N.content="yes",document.head.appendChild(N);const O=document.createElement("meta");O.name="apple-mobile-web-app-status-bar-style",O.content="default",document.head.appendChild(O);const D=document.createElement("meta");D.name="apple-mobile-web-app-title",D.content="Math Adventure",document.head.appendChild(D);const L=document.createElement("link");return L.rel="apple-touch-icon",document.head.appendChild(L),()=>{C.parentNode&&C.remove(),L.parentNode&&L.remove(),E.parentNode&&E.remove(),N.parentNode&&N.remove(),O.parentNode&&O.remove(),D.parentNode&&D.remove()}},[l]);const[c,d]=S.useState(0);if(S.useEffect(()=>{s!=null&&s.email&&d(0)},[s==null?void 0:s.email]),e==="Landing")return a.jsx(a.Fragment,{children:t});if(s===null&&e!=="Landing")return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:a.jsxs("div",{className:"text-center max-w-md",children:[a.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl mx-auto mb-8 animate-bounce",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("h1",{className:"text-5xl font-black text-white mb-4 drop-shadow-2xl",children:"Math Adventure! "}),a.jsx("p",{className:"text-xl text-white mb-8 drop-shadow-lg",children:"Please sign in to continue your learning journey!"}),a.jsx(lge,{showTitle:!1})]})});const f=hn(qi(new Date),"yyyy-MM-dd"),{data:m=[]}=dt({queryKey:["dailyChallenges",f],initialData:[],enabled:!!s}),p=m.some(C=>C.created_by===(s==null?void 0:s.email)),v=s?{avatar_skin_tone:s.avatar_skin_tone||"medium",avatar_hair_style:s.avatar_hair_style||"short",avatar_hair_color:s.avatar_hair_color||"brown",avatar_eyes:s.avatar_eyes||"normal",avatar_outfit:s.avatar_outfit||"casual",avatar_accessory:s.avatar_accessory||"none"}:null,w=s==null?void 0:s.active_pet,x=w?{id:w,name:"Pet",emoji:w==="dragon"?"":w==="owl"?"":w==="fox"?"":"",gradient:w==="dragon"?"from-red-400 to-orange-500":w==="owl"?"from-indigo-400 to-purple-500":w==="fox"?"from-orange-400 to-red-500":"from-pink-400 to-purple-500",evolveLevel:5}:null,g=(s==null?void 0:s.subscription_tier)||"free",_=g!=="free",T=()=>{const C=zx(Bt);s9(C)},A=({to:C,icon:E,label:N,badge:O,badgeColor:D="red",isDarkMode:L})=>{const $=n.pathname===Xe(C);return a.jsxs(Ht,{to:Xe(C),onClick:()=>i(!1),className:`relative flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${$?"bg-purple-500 text-white shadow-lg":L?"text-gray-300 hover:bg-slate-700":"text-gray-600 hover:bg-purple-50"}`,children:[a.jsx(E,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:N}),O&&a.jsx(je,{className:`absolute -top-1 -right-1 bg-${D}-500 text-white text-xs px-1.5 py-0.5 ${D==="red"?"animate-pulse":""}`,children:O})]})};return a.jsxs("div",{className:`min-h-screen ${l?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50"}`,children:[a.jsx("style",{children:`
        :root {
          --primary: 168 85% 55%;
          --secondary: 280 65% 60%;
          --accent: 45 95% 55%;
          --success: 142 76% 45%;
        }

        @media all and (display-mode: standalone) {
          body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
          }
        }

        ${l?`
          * {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
          }

          *::-webkit-scrollbar {
            width: 8px;
          }

          *::-webkit-scrollbar-track {
            background: #1e293b;
          }

          *::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
          }

          *::-webkit-scrollbar-thumb:hover {
            background: #64748b;
          }
        `:""}
      `}),a.jsx("header",{className:`${l?"bg-slate-800/90":"bg-white/80"} backdrop-blur-md shadow-sm sticky top-0 z-50`,children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ht,{to:Xe("Home"),className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center transform rotate-12 shadow-lg",children:a.jsx("span",{className:"text-2xl transform -rotate-12",children:""})}),a.jsx("div",{children:a.jsx("h1",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${l&&"from-purple-400 to-pink-400"}`,children:"Math Adventure"})})]}),a.jsxs("nav",{className:"hidden lg:flex items-center gap-2",children:[a.jsx(A,{to:"Home",icon:jx,label:"Home",isDarkMode:l}),a.jsx(A,{to:"DailyChallenge",icon:Hn,label:"Daily",badge:p?null:"!",isDarkMode:l}),a.jsx(A,{to:"Progress",icon:Ct,label:"Progress",isDarkMode:l}),a.jsx(A,{to:"AITutor",icon:pr,label:"AI Tutor",isDarkMode:l}),a.jsx(A,{to:"Messages",icon:nf,label:"Messages",badge:c>0?c:null,badgeColor:"blue",isDarkMode:l}),a.jsx(A,{to:"Shop",icon:Wo,label:"Shop",isDarkMode:l}),a.jsx(A,{to:"ParentPortal",icon:cN,label:"Parents",badge:s!=null&&s.is_parent_mode?"ON":null,badgeColor:"blue",isDarkMode:l})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[s&&a.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white px-3 py-2 rounded-xl shadow-md",children:[a.jsx(Pc,{className:"w-4 h-4"}),a.jsx("span",{className:"font-bold text-sm",children:s.coins||0})]}),s&&a.jsx(oe,{variant:"outline",onClick:T,className:"hidden md:inline-flex",children:"Sign out"}),g!=="free"?a.jsx("button",{onClick:()=>window.open(Xe("Subscription"),"_blank","noopener,noreferrer"),className:"hidden md:block",children:a.jsxs(je,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 px-3 py-1.5 cursor-pointer",children:[a.jsx(bi,{className:"w-3 h-3 mr-1"}),g==="family_teacher"?"Family":g==="premium_player"?"Premium":"Parent"]})}):a.jsx("button",{onClick:()=>window.open(Xe("Subscription"),"_blank","noopener,noreferrer"),className:"hidden md:block",children:a.jsxs(je,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 px-3 py-1.5 cursor-pointer animate-pulse",children:[a.jsx(bi,{className:"w-3 h-3 mr-1"}),"Upgrade"]})}),s&&a.jsx("div",{className:"hidden lg:block",children:a.jsxs(wxe,{children:[a.jsx(_xe,{asChild:!0,children:a.jsx(oe,{variant:"ghost",className:`${l?"hover:bg-slate-700 text-gray-50":"hover:bg-purple-50 text-gray-900"} h-auto p-2`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[v&&a.jsx("div",{className:"scale-75 origin-center",children:a.jsx(of,{avatarData:v,size:"small"})}),x&&a.jsx("div",{className:"scale-50 origin-center -ml-2",children:a.jsx(PI,{pet:x,experience:((P=s==null?void 0:s.pet_experience)==null?void 0:P[w])||0,size:"small"})})]}),a.jsxs("div",{className:"text-left hidden xl:block",children:[a.jsx("p",{className:`text-sm font-semibold ${l?"text-gray-50":"text-gray-900"}`,children:s.full_name||"Player"}),a.jsx("p",{className:`text-xs ${l?"text-gray-300":"text-gray-500"}`,children:s.email})]}),a.jsx(tI,{className:`w-4 h-4 ${l?"text-gray-300":"text-gray-500"}`})]})})}),a.jsxs(FH,{align:"end",className:`${l?"bg-slate-800 border-slate-700 text-gray-50":"bg-white"} w-56`,children:[a.jsx(VH,{children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:`text-sm font-medium ${l?"text-gray-50":"text-gray-900"}`,children:s.full_name||"Player"}),a.jsx("p",{className:`text-xs ${l?"text-gray-300":"text-gray-500"}`,children:s.email})]})}),a.jsx(Ex,{className:l?"bg-slate-700":""}),a.jsx(qa,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Ht,{to:Xe("Avatar"),className:"cursor-pointer",children:[a.jsx(rf,{className:"w-4 h-4 mr-2"}),"View Profile"]})}),a.jsx(qa,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Ht,{to:Xe("Messages"),className:"cursor-pointer",children:[a.jsx(nf,{className:"w-4 h-4 mr-2"}),"Messages",c>0&&a.jsx(je,{className:"ml-auto bg-blue-500 text-white text-xs",children:c})]})}),a.jsx(qa,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Ht,{to:Xe("Progress"),className:"cursor-pointer",children:[a.jsx(Sf,{className:"w-4 h-4 mr-2"}),"Progress & Stats"]})}),a.jsx(qa,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Ht,{to:Xe("Shop"),className:"cursor-pointer",children:[a.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Rewards Shop"]})}),a.jsx(qa,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Ht,{to:Xe("ParentPortal"),className:"cursor-pointer",children:[a.jsx(cN,{className:"w-4 h-4 mr-2"}),"Parent Portal",(s==null?void 0:s.is_parent_mode)&&a.jsx(je,{className:"ml-2 bg-blue-500 text-white text-xs",children:"ON"})]})}),a.jsx(Ex,{className:l?"bg-slate-700":""}),a.jsx(qa,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Ht,{to:Xe("Settings"),className:"cursor-pointer",children:[a.jsx(Og,{className:"w-4 h-4 mr-2"}),"App Settings"]})}),a.jsx(qa,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Ht,{to:Xe("Subscription"),className:"cursor-pointer",children:[a.jsx(a1,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})}),_&&(s==null?void 0:s.subscription_auto_renew)!==!1&&a.jsx(qa,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Ht,{to:Xe("Subscription"),className:"cursor-pointer text-orange-600 focus:text-orange-600",children:[a.jsx(yd,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})}),a.jsx(Ex,{className:l?"bg-slate-700":""}),a.jsxs(qa,{onClick:T,className:`${l?"text-red-400 focus:bg-slate-700 focus:text-red-400":"text-red-600 focus:text-red-600"} cursor-pointer`,children:[a.jsx(W3,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),a.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>i(!r),className:`lg:hidden ${l?"text-gray-50 hover:bg-slate-700":""}`,children:r?a.jsx(Tr,{className:"w-6 h-6"}):a.jsx(cme,{className:"w-6 h-6"})})]})]}),r&&a.jsxs("div",{className:`lg:hidden mt-4 pb-4 space-y-2 border-t pt-4 ${l?"border-slate-700":""}`,children:[s&&a.jsxs("div",{className:`${l?"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-50":"bg-gradient-to-r from-purple-50 to-pink-50"} p-4 rounded-xl mb-4`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[v&&a.jsx("div",{className:"scale-90 origin-center",children:a.jsx(of,{avatarData:v,size:"small"})}),a.jsxs("div",{children:[a.jsx("p",{className:`font-bold ${l?"text-gray-50":"text-gray-900"}`,children:s.full_name||"Player"}),a.jsx("p",{className:`text-sm ${l?"text-gray-300":"text-gray-600"}`,children:s.email})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(je,{className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white",children:[a.jsx(Pc,{className:"w-3 h-3 mr-1"}),s.coins||0," Coins"]}),g!=="free"&&a.jsxs(je,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white",children:[a.jsx(bi,{className:"w-3 h-3 mr-1"}),g==="family_teacher"?"Family":g==="premium_player"?"Premium":"Parent"]})]})]}),a.jsx(A,{to:"Home",icon:jx,label:"Home",isDarkMode:l}),a.jsx(A,{to:"DailyChallenge",icon:Hn,label:"Daily Challenge",badge:p?null:"!",isDarkMode:l}),a.jsx(A,{to:"Progress",icon:Ct,label:"Progress",isDarkMode:l}),a.jsx(A,{to:"AITutor",icon:pr,label:"AI Tutor",isDarkMode:l}),a.jsx(A,{to:"Messages",icon:nf,label:"Messages",badge:c>0?c:null,badgeColor:"blue",isDarkMode:l}),a.jsx(A,{to:"Leaderboards",icon:Gr,label:"Leaderboards",isDarkMode:l}),a.jsx(A,{to:"Shop",icon:Wo,label:"Shop",isDarkMode:l}),a.jsx(A,{to:"TeamChallenges",icon:vr,label:"Team Challenges",isDarkMode:l}),a.jsx(A,{to:"ParentPortal",icon:cN,label:"Parent Portal",badge:s!=null&&s.is_parent_mode?"ON":null,badgeColor:"blue",isDarkMode:l}),a.jsx(A,{to:"Avatar",icon:rf,label:"Profile",isDarkMode:l}),a.jsx("div",{className:`pt-2 mt-2 border-t ${l?"border-slate-700":""}`,children:a.jsx(Ht,{to:Xe("Settings"),onClick:()=>i(!1),children:a.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${l?"bg-gradient-to-r from-gray-700 to-gray-800 text-gray-50 hover:bg-gray-700":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[a.jsx(Og,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"App Settings"})]})})}),a.jsx("div",{className:`pt-2 border-t ${l?"border-slate-700":""}`,children:a.jsx(Ht,{to:Xe("GenerateIcons"),onClick:()=>i(!1),children:a.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 text-white ${l?"hover:from-blue-600 hover:to-cyan-600":""}`,children:[a.jsx(Yt,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Generate PWA Icons"}),a.jsx(je,{className:"bg-green-400 text-white text-xs",children:"New!"})]})})}),a.jsx("div",{className:`pt-2 border-t ${l?"border-slate-700":""}`,children:a.jsx("button",{onClick:()=>{i(!1),window.open(Xe("Subscription"),"_blank","noopener,noreferrer")},className:"w-full",children:a.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${g!=="free"?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-purple-500 to-pink-500 text-white animate-pulse"}`,children:[a.jsx(bi,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:g!=="free"?"Manage Subscription":"Upgrade to Premium"})]})})}),s&&a.jsx("div",{className:`pt-2 border-t ${l?"border-slate-700":""}`,children:a.jsxs("button",{onClick:()=>{i(!1),T()},className:`w-full flex items-center gap-2 px-4 py-3 rounded-xl ${l?"bg-red-900/20 text-red-400 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[a.jsx(W3,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]})}),a.jsx("div",{className:`lg:hidden fixed bottom-0 left-0 right-0 ${l?"bg-slate-800/90 border-slate-700":"bg-white/90 border-t"} backdrop-blur-md shadow-lg z-40`,children:a.jsxs("div",{className:"grid grid-cols-5 gap-1 px-2 py-2",children:[a.jsxs(Ht,{to:Xe("Home"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===Xe("Home")?"bg-purple-500 text-white":l?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[a.jsx(jx,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),a.jsxs(Ht,{to:Xe("DailyChallenge"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===Xe("DailyChallenge")?"bg-purple-500 text-white":l?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[a.jsx(Hn,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Daily"}),!p&&a.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),a.jsxs(Ht,{to:Xe("AITutor"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===Xe("AITutor")?"bg-purple-500 text-white":l?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[a.jsx(pr,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Tutor"})]}),a.jsxs(Ht,{to:Xe("Shop"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===Xe("Shop")?"bg-purple-500 text-white":l?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[a.jsx(Wo,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Shop"})]}),a.jsxs(Ht,{to:Xe("Avatar"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===Xe("Avatar")?"bg-purple-500 text-white":l?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[v?a.jsx("div",{className:"scale-50 origin-center -my-2",children:a.jsx(of,{avatarData:v,size:"small"})}):a.jsx(rf,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Profile"})]})]})}),a.jsx(bje,{}),a.jsx("main",{className:"flex-1 pb-20 lg:pb-0",children:t}),a.jsx("footer",{className:`${l?"bg-slate-800/60 border-slate-700":"bg-white/60 border-gray-200"} backdrop-blur-sm mt-12 py-8 border-t`,children:a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"text-center md:text-left",children:[a.jsx("p",{className:`text-sm ${l?"text-gray-300":"text-gray-600"}`,children:"Keep practicing and have fun! "}),a.jsx("p",{className:`text-xs ${l?"text-gray-400":"text-gray-500"} mt-1`,children:" 2025 Math Adventure. All rights reserved."})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[a.jsx(Ht,{to:Xe("PrivacyPolicy"),className:`text-sm ${l?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Privacy Policy"}),a.jsx("span",{className:l?"text-gray-600":"text-gray-300",children:""}),a.jsx(Ht,{to:Xe("Subscription"),className:`text-sm ${l?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Pricing"}),a.jsx("span",{className:l?"text-gray-600":"text-gray-300",children:""}),a.jsx("a",{href:"mailto:support@math-adventure.com",className:`text-sm ${l?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Contact"})]})]})})})]})}function TNe(){var l,c,d;const t=hn(qi(new Date),"yyyy-MM-dd"),{data:e}=dt({queryKey:["currentUser"],queryFn:async()=>(dn(Bt),null)}),{data:n=[]}=dt({queryKey:["dailyChallenges",t],queryFn:async()=>{const f=dn(Bt),m=va(Pr(f,"dailyChallenges"),si("challenge_date","==",t));return(await Ti(m)).docs.map(v=>v.data())},initialData:[]}),{data:r=[]}=dt({queryKey:["userDailyChallenges"],queryFn:async()=>{const f=dn(Bt);if(!(e!=null&&e.email))return[];const m=va(Pr(f,"dailyChallenges"),si("created_by","==",e.email));return(await Ti(m)).docs.map(v=>v.data())},initialData:[],enabled:!!e}),i=n.some(f=>f.created_by===(e==null?void 0:e.email)),o=(()=>{if(r.length===0)return 0;const f=[...r].sort((v,w)=>new Date(w.challenge_date)-new Date(v.challenge_date));let m=0,p=qi(new Date);for(const v of f){const w=qi(new Date(v.challenge_date));if(Math.floor((p-w)/(1e3*60*60*24))===m)m++;else break}return m})();return a.jsxs(te,{className:"border-4 border-purple-300 shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 p-6 text-white",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(Hn,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold",children:"Daily Challenge"}),a.jsx("p",{className:"text-sm opacity-90",children:hn(new Date,"MMMM d, yyyy")})]})]}),i?a.jsxs(je,{className:"bg-green-500 text-white",children:[a.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Done"]}):a.jsx(je,{className:"bg-white text-purple-600 font-bold",children:"New!"})]}),o>0&&a.jsxs("div",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 w-fit",children:[a.jsx(Fh,{className:"w-5 h-5 text-orange-300"}),a.jsxs("span",{className:"font-bold",children:[o," Day Streak!"]})]})]}),a.jsx(ne,{className:"p-6 space-y-4",children:i?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"text-5xl mb-3",children:""}),a.jsx("p",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Challenge Completed!"}),a.jsxs("p",{className:"text-gray-600",children:["You've earned ",((l=n.find(f=>f.created_by===(e==null?void 0:e.email)))==null?void 0:l.bonus_stars)||0," bonus stars today"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-purple-50 p-3 rounded-xl text-center",children:[a.jsx(Ct,{className:"w-6 h-6 mx-auto mb-1 text-purple-500"}),a.jsx("div",{className:"font-bold text-lg",children:(c=n.find(f=>f.created_by===(e==null?void 0:e.email)))==null?void 0:c.score}),a.jsx("div",{className:"text-xs text-gray-600",children:"Your Score"})]}),a.jsxs("div",{className:"bg-blue-50 p-3 rounded-xl text-center",children:[a.jsx(_n,{className:"w-6 h-6 mx-auto mb-1 text-blue-500"}),a.jsxs("div",{className:"font-bold text-lg",children:[(d=n.find(f=>f.created_by===(e==null?void 0:e.email)))==null?void 0:d.time_taken,"s"]}),a.jsx("div",{className:"text-xs text-gray-600",children:"Your Time"})]})]}),a.jsx(Ht,{to:Xe("DailyChallenge"),children:a.jsx(oe,{variant:"outline",className:"w-full",children:"View Leaderboard"})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Questions"}),a.jsx("span",{className:"font-bold",children:"15 Mixed Problems"})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Bonus Rewards"}),a.jsx("span",{className:"font-bold",children:"Up to 3 Stars "})]}),o>=3&&a.jsxs("div",{className:"flex items-center justify-between text-sm bg-orange-50 p-2 rounded-lg",children:[a.jsx("span",{className:"text-gray-600",children:"Streak Bonus"}),a.jsx("span",{className:"font-bold text-orange-600",children:"+1 Extra Star "})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Players Today"}),a.jsx("span",{className:"font-bold",children:n.length})]})]}),a.jsx(Ht,{to:Xe("DailyChallenge"),children:a.jsx(oe,{className:"w-full h-12 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 shadow-lg",children:"Start Challenge"})})]})})]})}const FN=[{id:"counting",name:"Counting",icon:gi,color:"from-green-400 to-emerald-500",emoji:"",grades:["K","1"],description:"Count and recognize numbers",category:"basics"},{id:"skip_counting_2s",name:"Skip Count by 2s",icon:qr,color:"from-blue-400 to-cyan-500",emoji:"",grades:["K","1","2"],description:"Count by twos",category:"basics"},{id:"skip_counting_5s",name:"Skip Count by 5s",icon:qr,color:"from-green-400 to-teal-500",emoji:"",grades:["K","1","2"],description:"Count by fives",category:"basics"},{id:"skip_counting_10s",name:"Skip Count by 10s",icon:qr,color:"from-purple-400 to-pink-500",emoji:"",grades:["K","1","2"],description:"Count by tens",category:"basics"},{id:"even_odd",name:"Even & Odd Numbers",icon:lN,color:"from-indigo-400 to-blue-500",emoji:"",grades:["1","2","3"],description:"Identify even and odd",category:"basics"},{id:"number_comparison",name:"Comparing Numbers",icon:gn,color:"from-blue-400 to-cyan-500",emoji:"",grades:["K","1","2"],description:"Greater than, less than, equal to",category:"basics"},{id:"ordering_numbers",name:"Ordering Numbers",icon:gn,color:"from-cyan-400 to-blue-500",emoji:"",grades:["1","2","3"],description:"Put numbers in order",category:"basics"},{id:"place_value",name:"Place Value",icon:gi,color:"from-purple-400 to-indigo-500",emoji:"",grades:["1","2","3","4"],description:"Ones, tens, hundreds",category:"basics"},{id:"place_value_thousands",name:"Place Value (Thousands)",icon:gi,color:"from-indigo-400 to-purple-500",emoji:"",grades:["3","4","5"],description:"Up to thousands place",category:"basics"},{id:"number_bonds",name:"Number Bonds",icon:qr,color:"from-pink-400 to-rose-500",emoji:"",grades:["K","1","2"],description:"Part-part-whole relationships",category:"basics"},{id:"fact_families",name:"Fact Families",icon:vr,color:"from-orange-400 to-red-500",emoji:"",grades:["1","2","3"],description:"Related addition & subtraction",category:"basics"},{id:"patterns",name:"Patterns & Sequences",icon:qr,color:"from-yellow-400 to-orange-500",emoji:"",grades:["1","2","3","4"],description:"Identify and complete patterns",category:"basics"},{id:"rounding",name:"Rounding",icon:Qt,color:"from-red-400 to-pink-500",emoji:"",grades:["2","3","4","5"],description:"Round to nearest 10, 100, 1000",category:"basics"},{id:"estimation",name:"Estimation",icon:Qt,color:"from-amber-400 to-orange-500",emoji:"",grades:["2","3","4","5"],description:"Estimate sums and products",category:"basics"},{id:"roman_numerals",name:"Roman Numerals",icon:Rs,color:"from-purple-400 to-indigo-500",emoji:"",grades:["3","4","5"],description:"Read and write Roman numerals",category:"basics"},{id:"expanded_form",name:"Expanded Form",icon:gi,color:"from-teal-400 to-cyan-500",emoji:"",grades:["2","3","4"],description:"Write numbers in expanded form",category:"basics"},{id:"standard_form",name:"Standard Form",icon:gi,color:"from-blue-400 to-indigo-500",emoji:"",grades:["2","3","4"],description:"Write numbers in standard form",category:"basics"},{id:"word_form",name:"Word Form Numbers",icon:Rs,color:"from-green-400 to-emerald-500",emoji:"",grades:["2","3","4"],description:"Write numbers as words",category:"basics"},{id:"greater_less_symbols",name:"Greater/Less Symbols",icon:gn,color:"from-cyan-400 to-blue-500",emoji:"",grades:["K","1","2"],description:"Use >, <, = symbols",category:"basics"},{id:"number_lines",name:"Number Lines",icon:gn,color:"from-purple-400 to-pink-500",emoji:"",grades:["1","2","3"],description:"Use and interpret number lines",category:"basics"},{id:"addition",name:"Addition",icon:Fr,color:"from-green-400 to-emerald-500",emoji:"",grades:["K","1","2","3","4"],description:"Learn to add numbers",category:"core"},{id:"addition_single_digit",name:"Single-Digit Addition",icon:Fr,color:"from-green-300 to-emerald-400",emoji:"",grades:["K","1"],description:"Add numbers 0-10",category:"core"},{id:"addition_double_digit",name:"Two-Digit Addition",icon:Fr,color:"from-green-400 to-teal-500",emoji:"",grades:["1","2","3"],description:"Add two-digit numbers",category:"core"},{id:"addition_triple_digit",name:"Three-Digit Addition",icon:Fr,color:"from-green-500 to-emerald-600",emoji:"",grades:["2","3","4"],description:"Add three-digit numbers",category:"core"},{id:"addition_regrouping",name:"Addition with Regrouping",icon:Fr,color:"from-teal-400 to-cyan-500",emoji:"",grades:["2","3","4"],description:"Add with carrying",category:"core"},{id:"missing_addends",name:"Missing Addends",icon:Fr,color:"from-cyan-400 to-blue-500",emoji:"",grades:["1","2","3"],description:"Find the missing number",category:"core"},{id:"subtraction",name:"Subtraction",icon:mc,color:"from-blue-400 to-cyan-500",emoji:"",grades:["K","1","2","3","4"],description:"Practice subtraction",category:"core"},{id:"subtraction_single_digit",name:"Single-Digit Subtraction",icon:mc,color:"from-blue-300 to-cyan-400",emoji:"",grades:["K","1"],description:"Subtract numbers 0-10",category:"core"},{id:"subtraction_double_digit",name:"Two-Digit Subtraction",icon:mc,color:"from-blue-400 to-indigo-500",emoji:"",grades:["1","2","3"],description:"Subtract two-digit numbers",category:"core"},{id:"subtraction_regrouping",name:"Subtraction with Regrouping",icon:mc,color:"from-indigo-400 to-purple-500",emoji:"",grades:["2","3","4"],description:"Subtract with borrowing",category:"core"},{id:"multiplication",name:"Multiplication",icon:Tr,color:"from-purple-400 to-pink-500",emoji:"",grades:["2","3","4","5"],description:"Master times tables",category:"core"},{id:"multiplication_tables_2_5",name:"Times Tables (2, 5, 10)",icon:Tr,color:"from-purple-300 to-pink-400",emoji:"",grades:["2","3"],description:"Learn easy times tables",category:"core"},{id:"multiplication_tables_3_4",name:"Times Tables (3, 4, 6)",icon:Tr,color:"from-pink-400 to-rose-500",emoji:"",grades:["3","4"],description:"Medium difficulty tables",category:"core"},{id:"multiplication_tables_7_9",name:"Times Tables (7, 8, 9)",icon:Tr,color:"from-rose-400 to-red-500",emoji:"",grades:["3","4","5"],description:"Challenging times tables",category:"core"},{id:"multiplication_double_digit",name:"Two-Digit Multiplication",icon:Tr,color:"from-purple-500 to-indigo-600",emoji:"",grades:["4","5","6"],description:"Multiply larger numbers",category:"core"},{id:"missing_factors",name:"Missing Factors",icon:Tr,color:"from-indigo-400 to-purple-500",emoji:"",grades:["3","4","5"],description:"Find the missing factor",category:"core"},{id:"division",name:"Division",icon:hc,color:"from-orange-400 to-red-500",emoji:"",grades:["3","4","5","6"],description:"Divide and conquer",category:"core"},{id:"division_basic",name:"Basic Division",icon:hc,color:"from-orange-300 to-red-400",emoji:"",grades:["3","4"],description:"Simple division facts",category:"core"},{id:"division_remainders",name:"Division with Remainders",icon:hc,color:"from-red-400 to-pink-500",emoji:"",grades:["4","5","6"],description:"Division with leftovers",category:"core"},{id:"division_long",name:"Long Division",icon:hc,color:"from-red-500 to-orange-600",emoji:"",grades:["4","5","6"],description:"Multi-digit division",category:"core"},{id:"order_operations",name:"Order of Operations",icon:Ou,color:"from-blue-400 to-indigo-500",emoji:"",grades:["5","6","7","8"],description:"PEMDAS / BODMAS",category:"core"},{id:"properties_addition",name:"Properties of Addition",icon:Fr,color:"from-teal-400 to-cyan-500",emoji:"",grades:["2","3","4"],description:"Commutative, associative",category:"core"},{id:"properties_multiplication",name:"Properties of Multiplication",icon:Tr,color:"from-purple-400 to-pink-500",emoji:"",grades:["3","4","5"],description:"Commutative, associative, distributive",category:"core"},{id:"distributive_property",name:"Distributive Property",icon:gi,color:"from-indigo-400 to-purple-500",emoji:"",grades:["4","5","6"],description:"Break apart multiplication",category:"core"},{id:"mental_math_strategies",name:"Mental Math Strategies",icon:pr,color:"from-yellow-400 to-orange-500",emoji:"",grades:["2","3","4","5"],description:"Quick calculation tricks",category:"core"},{id:"powers_of_10",name:"Powers of 10",icon:qr,color:"from-blue-400 to-purple-500",emoji:"",grades:["4","5","6"],description:"Multiply and divide by 10, 100, 1000",category:"core"},{id:"multiples",name:"Multiples",icon:gi,color:"from-green-400 to-teal-500",emoji:"",grades:["3","4","5"],description:"Identify multiples of numbers",category:"core"},{id:"divisibility_rules",name:"Divisibility Rules",icon:hc,color:"from-orange-400 to-red-500",emoji:"",grades:["4","5","6"],description:"Quick divisibility checks",category:"core"},{id:"factors_multiples",name:"Factors & Multiples",icon:gi,color:"from-indigo-400 to-purple-500",emoji:"",grades:["4","5","6"],description:"Find factors and multiples",category:"advanced"},{id:"gcf",name:"Greatest Common Factor",icon:gi,color:"from-purple-400 to-indigo-500",emoji:"",grades:["5","6","7"],description:"Find GCF of numbers",category:"advanced"},{id:"lcm",name:"Least Common Multiple",icon:gi,color:"from-indigo-400 to-blue-500",emoji:"",grades:["5","6","7"],description:"Find LCM of numbers",category:"advanced"},{id:"prime_composite",name:"Prime & Composite",icon:Nt,color:"from-green-400 to-teal-500",emoji:"",grades:["4","5","6"],description:"Identify prime numbers",category:"advanced"},{id:"prime_factorization",name:"Prime Factorization",icon:Nt,color:"from-teal-400 to-cyan-500",emoji:"",grades:["5","6","7"],description:"Break numbers into prime factors",category:"advanced"},{id:"fractions",name:"Fractions",icon:Nh,color:"from-pink-400 to-rose-500",emoji:"",grades:["3","4","5","6"],description:"Work with fractions",category:"advanced"},{id:"fractions_equivalent",name:"Equivalent Fractions",icon:Nh,color:"from-rose-400 to-pink-500",emoji:"",grades:["3","4","5"],description:"Find equivalent fractions",category:"advanced"},{id:"fractions_simplify",name:"Simplifying Fractions",icon:Nh,color:"from-pink-400 to-purple-500",emoji:"",grades:["4","5","6"],description:"Reduce fractions to lowest terms",category:"advanced"},{id:"fractions_compare",name:"Comparing Fractions",icon:gn,color:"from-purple-400 to-pink-500",emoji:"",grades:["3","4","5"],description:"Compare and order fractions",category:"advanced"},{id:"fractions_add_subtract",name:"Adding/Subtracting Fractions",icon:Fr,color:"from-pink-400 to-rose-500",emoji:"",grades:["4","5","6"],description:"Add and subtract fractions",category:"advanced"},{id:"fractions_multiply_divide",name:"Multiplying/Dividing Fractions",icon:Tr,color:"from-rose-400 to-red-500",emoji:"",grades:["5","6","7"],description:"Multiply and divide fractions",category:"advanced"},{id:"mixed_numbers",name:"Mixed Numbers",icon:Nh,color:"from-purple-400 to-indigo-500",emoji:"",grades:["4","5","6"],description:"Work with mixed numbers",category:"advanced"},{id:"decimals",name:"Decimals",icon:jp,color:"from-teal-400 to-cyan-500",emoji:"0.5",grades:["4","5","6","7"],description:"Understand decimals",category:"advanced"},{id:"decimals_place_value",name:"Decimal Place Value",icon:gi,color:"from-cyan-400 to-blue-500",emoji:"",grades:["4","5"],description:"Tenths, hundredths, thousandths",category:"advanced"},{id:"decimals_compare",name:"Comparing Decimals",icon:gn,color:"from-blue-400 to-indigo-500",emoji:"",grades:["4","5","6"],description:"Compare and order decimals",category:"advanced"},{id:"decimals_operations",name:"Decimal Operations",icon:Ou,color:"from-teal-500 to-cyan-600",emoji:"",grades:["5","6","7"],description:"Add, subtract, multiply, divide",category:"advanced"},{id:"percentages",name:"Percentages",icon:Nh,color:"from-indigo-400 to-purple-500",emoji:"%",grades:["5","6","7","8"],description:"Calculate percentages",category:"advanced"},{id:"percent_of_number",name:"Percent of a Number",icon:Nh,color:"from-purple-400 to-pink-500",emoji:"%",grades:["6","7","8"],description:"Find percentage of numbers",category:"advanced"},{id:"percent_increase_decrease",name:"Percent Change",icon:gn,color:"from-pink-400 to-rose-500",emoji:"",grades:["6","7","8"],description:"Calculate percent increase/decrease",category:"advanced"},{id:"ratios",name:"Ratios & Proportions",icon:gn,color:"from-orange-400 to-red-500",emoji:"",grades:["6","7","8"],description:"Compare quantities",category:"advanced"},{id:"integers",name:"Integers",icon:lN,color:"from-gray-400 to-slate-500",emoji:"",grades:["6","7","8"],description:"Positive & negative numbers",category:"advanced"},{id:"absolute_value",name:"Absolute Value",icon:lN,color:"from-slate-400 to-gray-500",emoji:"||",grades:["6","7","8"],description:"Distance from zero",category:"advanced"},{id:"exponents",name:"Exponents",icon:gn,color:"from-purple-400 to-pink-500",emoji:"",grades:["6","7","8"],description:"Powers and square roots",category:"advanced"},{id:"scientific_notation",name:"Scientific Notation",icon:qr,color:"from-blue-400 to-indigo-500",emoji:"",grades:["7","8"],description:"Express very large/small numbers",category:"advanced"},{id:"word_problems",name:"Word Problems",icon:Rs,color:"from-amber-400 to-yellow-500",emoji:"",grades:["2","3","4","5","6"],description:"Solve real-world problems",category:"applied"},{id:"word_problems_addition",name:"Addition Word Problems",icon:Fr,color:"from-green-400 to-teal-500",emoji:"",grades:["1","2","3"],description:"Story problems with addition",category:"applied"},{id:"word_problems_subtraction",name:"Subtraction Word Problems",icon:mc,color:"from-blue-400 to-cyan-500",emoji:"",grades:["1","2","3"],description:"Story problems with subtraction",category:"applied"},{id:"word_problems_multiplication",name:"Multiplication Word Problems",icon:Tr,color:"from-purple-400 to-pink-500",emoji:"",grades:["3","4","5"],description:"Story problems with multiplication",category:"applied"},{id:"word_problems_multi_step",name:"Multi-Step Word Problems",icon:Rs,color:"from-orange-400 to-red-500",emoji:"",grades:["4","5","6","7"],description:"Complex story problems",category:"applied"},{id:"money",name:"Money Math",icon:jp,color:"from-green-500 to-emerald-600",emoji:"",grades:["1","2","3","4","5"],description:"Count coins and bills",category:"applied"},{id:"money_counting",name:"Counting Money",icon:jp,color:"from-emerald-400 to-green-500",emoji:"",grades:["1","2","3"],description:"Count and compare money",category:"applied"},{id:"money_change",name:"Making Change",icon:jp,color:"from-green-500 to-teal-600",emoji:"",grades:["2","3","4"],description:"Calculate change from purchases",category:"applied"},{id:"money_decimals",name:"Money with Decimals",icon:jp,color:"from-teal-400 to-cyan-500",emoji:"",grades:["3","4","5"],description:"Work with dollars and cents",category:"applied"},{id:"time",name:"Time",icon:_n,color:"from-sky-400 to-blue-500",emoji:"",grades:["1","2","3","4"],description:"Read clocks and calendars",category:"applied"},{id:"time_telling",name:"Telling Time",icon:_n,color:"from-blue-400 to-indigo-500",emoji:"",grades:["1","2","3"],description:"Read analog and digital clocks",category:"applied"},{id:"time_elapsed",name:"Elapsed Time",icon:_n,color:"from-indigo-400 to-purple-500",emoji:"",grades:["3","4","5"],description:"Calculate time intervals",category:"applied"},{id:"time_calendar",name:"Calendar Math",icon:Hn,color:"from-purple-400 to-pink-500",emoji:"",grades:["2","3","4"],description:"Days, weeks, months, years",category:"applied"},{id:"measurement",name:"Measurement",icon:gn,color:"from-lime-400 to-green-500",emoji:"",grades:["2","3","4","5","6"],description:"Length, weight, volume",category:"applied"},{id:"measurement_length",name:"Measuring Length",icon:gn,color:"from-green-400 to-teal-500",emoji:"",grades:["2","3","4"],description:"Inches, feet, yards, miles",category:"applied"},{id:"measurement_metric",name:"Metric Measurement",icon:gn,color:"from-teal-400 to-cyan-500",emoji:"",grades:["3","4","5"],description:"Meters, liters, grams",category:"applied"},{id:"measurement_conversions",name:"Unit Conversions",icon:gn,color:"from-cyan-400 to-blue-500",emoji:"",grades:["4","5","6"],description:"Convert between units",category:"applied"},{id:"temperature",name:"Temperature",icon:gn,color:"from-red-400 to-orange-500",emoji:"",grades:["3","4","5"],description:"Fahrenheit and Celsius",category:"applied"},{id:"geometry",name:"Geometry",icon:tc,color:"from-violet-400 to-purple-500",emoji:"",grades:["3","4","5","6","7"],description:"Shapes and measurements",category:"applied"},{id:"geometry_shapes",name:"2D Shapes",icon:tc,color:"from-purple-400 to-indigo-500",emoji:"",grades:["K","1","2","3"],description:"Identify and classify shapes",category:"applied"},{id:"geometry_3d",name:"3D Shapes",icon:tc,color:"from-indigo-400 to-blue-500",emoji:"",grades:["2","3","4","5"],description:"Cubes, spheres, pyramids",category:"applied"},{id:"area_perimeter",name:"Area & Perimeter",icon:gi,color:"from-cyan-400 to-blue-500",emoji:"",grades:["3","4","5","6"],description:"Calculate area & perimeter",category:"applied"},{id:"volume",name:"Volume",icon:tc,color:"from-blue-400 to-indigo-500",emoji:"",grades:["5","6","7"],description:"Calculate volume of 3D shapes",category:"applied"},{id:"surface_area",name:"Surface Area",icon:tc,color:"from-indigo-400 to-purple-500",emoji:"",grades:["6","7","8"],description:"Calculate surface area",category:"applied"},{id:"angles",name:"Angles",icon:tc,color:"from-pink-400 to-rose-500",emoji:"",grades:["4","5","6","7"],description:"Measure and identify angles",category:"applied"},{id:"circles",name:"Circles",icon:tc,color:"from-rose-400 to-pink-500",emoji:"",grades:["5","6","7"],description:"Radius, diameter, circumference",category:"applied"},{id:"pythagorean",name:"Pythagorean Theorem",icon:tc,color:"from-purple-400 to-indigo-500",emoji:"",grades:["7","8"],description:"Right triangle calculations",category:"applied"},{id:"coordinates",name:"Coordinate Plane",icon:gi,color:"from-blue-400 to-purple-500",emoji:"",grades:["5","6","7","8"],description:"Plot points on graphs",category:"applied"},{id:"data_graphs",name:"Data & Graphs",icon:Sf,color:"from-green-400 to-teal-500",emoji:"",grades:["3","4","5","6","7"],description:"Read and create charts",category:"applied"},{id:"probability",name:"Probability",icon:Qt,color:"from-red-400 to-orange-500",emoji:"",grades:["5","6","7","8"],description:"Predict outcomes and chances",category:"applied"},{id:"basic_algebra",name:"Basic Algebra",icon:Ou,color:"from-indigo-400 to-blue-500",emoji:"",grades:["6","7","8"],description:"Solve for x, variables",category:"algebra"},{id:"equations",name:"Linear Equations",icon:Ou,color:"from-purple-400 to-indigo-500",emoji:"",grades:["6","7","8"],description:"Solve linear equations",category:"algebra"},{id:"inequalities",name:"Inequalities",icon:gn,color:"from-blue-400 to-cyan-500",emoji:"",grades:["6","7","8"],description:"Solve and graph inequalities",category:"algebra"},{id:"expressions",name:"Algebraic Expressions",icon:Ou,color:"from-cyan-400 to-blue-500",emoji:"",grades:["6","7","8"],description:"Simplify and evaluate expressions",category:"algebra"},{id:"systems_equations",name:"Systems of Equations",icon:gi,color:"from-purple-400 to-pink-500",emoji:"",grades:["7","8"],description:"Solve systems with two variables",category:"algebra"},{id:"polynomials",name:"Polynomials",icon:Ou,color:"from-indigo-400 to-purple-500",emoji:"",grades:["7","8"],description:"Add, subtract, multiply polynomials",category:"algebra"},{id:"factoring",name:"Factoring",icon:gi,color:"from-purple-400 to-indigo-500",emoji:"",grades:["7","8"],description:"Factor polynomials",category:"algebra"},{id:"quadratic",name:"Quadratic Equations",icon:Ou,color:"from-pink-400 to-purple-500",emoji:"",grades:["8"],description:"Solve quadratic equations",category:"algebra"},{id:"mixed",name:"Mixed Practice",icon:pr,color:"from-fuchsia-400 to-pink-500",emoji:"",grades:["3","4","5","6","7","8"],description:"Combine multiple skills",category:"challenge"},{id:"mental_math",name:"Mental Math",icon:pr,color:"from-yellow-400 to-orange-500",emoji:"",grades:["2","3","4","5","6"],description:"Fast calculations",category:"challenge"},{id:"speed_challenge",name:"Speed Challenge",icon:qr,color:"from-red-400 to-orange-500",emoji:"",grades:["3","4","5","6","7"],description:"Race against the clock",category:"challenge"},{id:"logic_puzzles",name:"Logic Puzzles",icon:pr,color:"from-purple-400 to-indigo-500",emoji:"",grades:["4","5","6","7","8"],description:"Mathematical reasoning",category:"challenge"},{id:"competition_math",name:"Competition Math",icon:Ct,color:"from-yellow-400 to-orange-500",emoji:"",grades:["5","6","7","8"],description:"Advanced problem solving",category:"challenge"}],ENe=[{id:"easy",name:"Easy",color:"bg-green-500",description:"Perfect for beginners!",grades:["K","1","2"]},{id:"medium",name:"Medium",color:"bg-yellow-500",description:"Getting challenging!",grades:["3","4","5"]},{id:"hard",name:"Hard",color:"bg-red-500",description:"For math champions!",grades:["5","6","7"]},{id:"expert",name:"Expert",color:"bg-purple-500",description:"Master level!",grades:["7","8"]}],Y6=({children:t,className:e=""})=>a.jsx("label",{className:`text-sm font-medium ${e}`,children:t});function uP(){const[t,e]=S.useState("all"),[n,r]=S.useState("all"),{data:i=[]}=dt({queryKey:["gameProgress"],queryFn:()=>base44.entities.GameProgress.list(),initialData:[]}),{data:s}=dt({queryKey:["currentUser"]}),{data:o=[]}=dt({queryKey:["myTeamChallenges"],queryFn:async()=>(await base44.entities.TeamChallenge.list()).filter(E=>{var N;return(((N=E.team_members)==null?void 0:N.includes(s.email))||E.creator_email===s.email)&&!E.is_completed}),initialData:[],enabled:!!s}),l=()=>i.reduce((C,E)=>C+(E.stars_earned||0),0),c=(C,E)=>{const N=i.find(O=>O.operation===C&&O.level===E);return(N==null?void 0:N.stars_earned)||0},d=C=>C==="easy"?!0:C==="medium"?i.some(E=>E.level==="easy"&&E.stars_earned>=2):C==="hard"?i.some(E=>E.level==="medium"&&E.stars_earned>=2):C==="expert"?i.some(E=>E.level==="hard"&&E.stars_earned>=3):!1,f=(s==null?void 0:s.parental_controls)||{},m=f.allowed_operations||FN.map(C=>C.id),p=f.allowed_levels||["easy","medium","hard","expert"],v=f.focus_operations||[],w=C=>m.includes(C),x=C=>p.includes(C),g=(s==null?void 0:s.subscription_tier)||"free",_=g!=="free",T=s!=null&&s.subscription_expires_at?new Date(s.subscription_expires_at):null,A=T?Math.ceil((T-new Date)/(1e3*60*60*24)):0,I=FN.filter(C=>!(t!=="all"&&!C.grades.includes(t)||n!=="all"&&C.category!==n)),P=["K","1","2","3","4","5","6","7","8"];return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-block mb-6 animate-bounce",children:a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-2xl",children:a.jsx("span",{className:"text-5xl",children:""})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Welcome to Math Adventure!"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Choose your challenge and start learning!"}),a.jsxs("div",{className:"inline-flex items-center gap-2 bg-white rounded-full px-6 py-3 shadow-lg",children:[a.jsx(Nt,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"}),a.jsx("span",{className:"text-2xl font-bold text-gray-800",children:l()}),a.jsx("span",{className:"text-gray-600",children:"Total Stars"})]})]}),_?a.jsx(te,{className:"mb-8 border-4 border-green-400 shadow-xl bg-gradient-to-r from-green-50 to-emerald-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(bi,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[g==="premium_parent"?"Premium Parent":g==="premium_player"?"Premium Player":"Family/Teacher"," Active"]}),a.jsx(je,{className:"bg-green-500 text-white",children:"Premium"})]}),a.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[a.jsx(Hn,{className:"w-4 h-4"}),T&&`Renews ${hn(T,"MMM d, yyyy")}  ${A} days left`]})]})]}),a.jsxs(oe,{onClick:()=>window.open(Xe("Subscription"),"_blank","noopener,noreferrer"),className:"h-12 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600",children:[a.jsx(a1,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})]})})}):a.jsx(te,{className:"mb-8 border-4 border-purple-300 shadow-xl bg-gradient-to-r from-purple-50 to-pink-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(Yt,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Unlock Premium Features!"}),a.jsx("p",{className:"text-gray-600",children:"Get unlimited access, exclusive content, and advanced controls"})]})]}),a.jsxs(oe,{onClick:()=>window.open(Xe("Subscription"),"_blank","noopener,noreferrer"),className:"h-12 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 animate-pulse",children:[a.jsx(bi,{className:"w-5 h-5 mr-2"}),"Upgrade Now"]})]})})}),v.length>0&&a.jsxs(Ue,{className:"mb-8 bg-purple-50 border-purple-300",children:[a.jsx(dm,{className:"w-4 h-4 text-purple-600"}),a.jsxs(ze,{className:"text-purple-800",children:[a.jsx("strong",{children:"Practice Recommendation:"})," Your parent suggests focusing on"," ",v.map((C,E)=>{var N;return a.jsxs("span",{children:[a.jsx("strong",{children:((N=FN.find(O=>O.id===C))==null?void 0:N.name)||C}),E<v.length-1&&(E===v.length-2?" and ":", ")]},C)}),". Try playing those games more!"]})]}),a.jsx("div",{className:"mb-12",children:a.jsx(TNe,{})}),o.length>0&&a.jsx(te,{className:"mb-12 border-4 border-green-300 shadow-xl bg-gradient-to-r from-green-50 to-emerald-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(vr,{className:"w-12 h-12 text-green-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Active Team Challenges!"}),a.jsx("p",{className:"text-gray-600",children:"Work together with friends and family"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(je,{className:"bg-green-500 text-white text-lg px-4 py-2",children:[o.length," Active"]}),a.jsx(Ht,{to:Xe("TeamChallenges"),children:a.jsxs(oe,{className:"h-12 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:[a.jsx(vr,{className:"w-5 h-5 mr-2"}),"View Team Challenges"]})})]})]})})}),a.jsx(te,{className:"mb-12 border-4 border-orange-300 shadow-xl bg-gradient-to-r from-orange-50 to-red-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Ct,{className:"w-12 h-12 text-orange-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Weekly Tournament Active!"}),a.jsx("p",{className:"text-gray-600",children:"Compete for 50 bonus stars and exclusive badges"})]})]}),a.jsx(Ht,{to:Xe("Leaderboards"),children:a.jsxs(oe,{className:"h-12 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600",children:[a.jsx(Gr,{className:"w-5 h-5 mr-2"}),"View Leaderboards"]})})]})})}),a.jsx(te,{className:"mb-8 border-4 border-blue-300 shadow-xl bg-gradient-to-r from-blue-50 to-purple-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(pr,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"AI Math Tutor"}),a.jsxs(je,{className:"bg-blue-500 text-white",children:[a.jsx(Yt,{className:"w-3 h-3 mr-1"}),"New!"]})]}),a.jsx("p",{className:"text-gray-600",children:"Get instant help with step-by-step explanations when you need it!"})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl border-2 border-blue-200 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:""}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Adaptive Learning"})]})]})})}),a.jsx(te,{className:"mb-8 border-4 border-purple-300 shadow-xl bg-gradient-to-r from-purple-50 to-pink-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(vd,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Color by Numbers"}),a.jsxs(je,{className:"bg-purple-500 text-white",children:[a.jsx(Yt,{className:"w-3 h-3 mr-1"}),"New Game!"]})]}),a.jsx("p",{className:"text-gray-600",children:"Solve math problems while creating colorful artwork!"})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(Ht,{to:Xe("ColorByNumbers?operation=addition&level=easy"),children:a.jsxs(oe,{className:"h-12 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(vd,{className:"w-5 h-5 mr-2"}),"Try It Now!"]})})})]})})}),a.jsxs(te,{className:"mb-8 border-2 border-gray-200",children:[a.jsx(_e,{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Rs,{className:"w-6 h-6 text-gray-700"}),"Browse by Grade Level & Category (",I.length," Games)"]})}),a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(Y6,{className:"mb-3 block font-bold text-gray-700",children:"Grade Level"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(oe,{variant:t==="all"?"default":"outline",size:"sm",onClick:()=>e("all"),className:t==="all"?"bg-purple-500 text-white hover:bg-purple-600":"",children:"All Grades"}),P.map(C=>a.jsxs(oe,{variant:t===C?"default":"outline",size:"sm",onClick:()=>e(C),className:t===C?"bg-purple-500 text-white hover:bg-purple-600":"",children:["Grade ",C]},C))]})]}),a.jsxs("div",{children:[a.jsx(Y6,{className:"mb-3 block font-bold text-gray-700",children:"Category"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(oe,{variant:n==="all"?"default":"outline",size:"sm",onClick:()=>r("all"),className:n==="all"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"All"}),a.jsx(oe,{variant:n==="basics"?"default":"outline",size:"sm",onClick:()=>r("basics"),className:n==="basics"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Basics"}),a.jsx(oe,{variant:n==="core"?"default":"outline",size:"sm",onClick:()=>r("core"),className:n==="core"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Core Operations"}),a.jsx(oe,{variant:n==="advanced"?"default":"outline",size:"sm",onClick:()=>r("advanced"),className:n==="advanced"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Advanced"}),a.jsx(oe,{variant:n==="applied"?"default":"outline",size:"sm",onClick:()=>r("applied"),className:n==="applied"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Applied"}),a.jsx(oe,{variant:n==="algebra"?"default":"outline",size:"sm",onClick:()=>r("algebra"),className:n==="algebra"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Algebra"}),a.jsx(oe,{variant:n==="challenge"?"default":"outline",size:"sm",onClick:()=>r("challenge"),className:n==="challenge"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Challenge"})]})]})]})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(Yt,{className:"w-6 h-6 text-purple-500"}),"Math Games (",I.length,")"]}),I.length===0?a.jsxs(te,{className:"p-12 text-center",children:[a.jsx("p",{className:"text-xl text-gray-600",children:"No games match your filters"}),a.jsx(oe,{onClick:()=>{e("all"),r("all")},className:"mt-4",children:"Clear Filters"})]}):a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:I.map(C=>{const E=w(C.id),N=v.includes(C.id);return a.jsxs(te,{className:`overflow-hidden transition-all duration-300 border-2 ${E?N?"border-purple-400 ring-2 ring-purple-200 hover:shadow-xl":"hover:shadow-xl hover:border-purple-300":"opacity-50 cursor-not-allowed"}`,children:[a.jsxs("div",{className:`h-32 bg-gradient-to-br ${C.color} flex items-center justify-center relative`,children:[a.jsx("span",{className:"text-6xl",children:C.emoji}),N&&a.jsxs(je,{className:"absolute top-2 right-2 bg-purple-500 text-white",children:[a.jsx(Nt,{className:"w-3 h-3 mr-1 fill-white"}),"Focus"]}),!E&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:a.jsx(oi,{className:"w-12 h-12 text-white"})})]}),a.jsx(_e,{children:a.jsxs(Ne,{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-lg",children:C.name}),!E&&a.jsx(je,{variant:"outline",className:"bg-red-50 border-red-300 text-red-700 text-xs",children:"Locked"})]}),a.jsx("p",{className:"text-xs text-gray-600 font-normal",children:C.description}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:C.grades.map(O=>a.jsxs(je,{variant:"outline",className:"text-xs",children:["Grade ",O]},O))})]})}),a.jsx(ne,{children:a.jsx("div",{className:"space-y-2",children:ENe.slice(0,3).map(O=>{const D=d(O.id),L=x(O.id),$=E&&L&&D,F=c(C.id,O.id);return a.jsx(Ht,{to:$?Xe(`Game?operation=${C.id}&level=${O.id}`):"#",className:`block ${!$&&"pointer-events-none"}`,children:a.jsxs(oe,{variant:"outline",className:`w-full justify-between text-sm ${!$&&"opacity-50"}`,disabled:!$,size:"sm",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(je,{className:`${O.color} text-xs`,children:O.name}),!D&&a.jsx(oi,{className:"w-3 h-3"}),!L&&E&&a.jsx(je,{variant:"outline",className:"text-xs",children:"Restricted"})]}),a.jsx("div",{className:"flex gap-1",children:[1,2,3].map(G=>a.jsx(Nt,{className:`w-3 h-3 ${F>=G?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},G))})]})},O.id)})})})]},C.id)})})]}),a.jsxs(te,{className:"bg-gradient-to-r from-purple-100 to-pink-100 border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""}),"How to Play"]})}),a.jsxs(ne,{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:"1"}),a.jsx("h3",{className:"font-bold mb-1",children:"Choose Your Challenge"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pick from 30+ math games and difficulty level"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:"2"}),a.jsx("h3",{className:"font-bold mb-1",children:"Solve Problems"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Answer 10 questions as fast as you can"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:"3"}),a.jsx("h3",{className:"font-bold mb-1",children:"Earn Stars"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get stars based on your performance!"})]})]})]})]})}const VN={};function ANe(t="en-US",e=!0){if(VN[t])return VN[t];const n=window.speechSynthesis.getVoices();let r=n.find(i=>i.lang===t&&(!e||i.name.toLowerCase().includes("child")));return r||(r=n.find(i=>i.lang===t)),VN[t]=r,r}function Vr({text:t,lang:e="en-US",style:n="button",label:r=" Listen",pitch:i=1.1,rate:s=.9}){const o=S.useRef(null),l=()=>{if(!("speechSynthesis"in window)){alert("Text-to-speech is not supported in this browser.");return}window.speechSynthesis.cancel();const f=new window.SpeechSynthesisUtterance(t);f.lang=e,f.pitch=i,f.rate=s,f.voice=ANe(e),o.current=f,window.speechSynthesis.speak(f)},c=()=>{window.speechSynthesis.cancel()};let d;return n==="badge"?d=a.jsx("span",{onClick:l,onDoubleClick:c,className:"inline-block px-2 py-1 bg-purple-100 text-purple-700 rounded cursor-pointer select-none",title:"Click to read aloud, double-click to stop",children:r}):n==="icon"?d=a.jsx("span",{onClick:l,onDoubleClick:c,className:"cursor-pointer",title:"Click to read aloud, double-click to stop",role:"img","aria-label":"Read aloud",children:""}):d=a.jsx("button",{type:"button",onClick:l,onDoubleClick:c,"aria-label":"Read aloud",className:"px-3 py-2 rounded bg-purple-100 hover:bg-purple-200 text-purple-700 font-semibold",children:r}),d}function IK({question:t,onAnswer:e,questionNumber:n}){const[r,i]=S.useState(null),[s,o]=S.useState(!1),l=c=>{s||(i(c),o(!0),setTimeout(()=>{e(c),i(null),o(!1)},500))};return a.jsxs(Wt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[a.jsxs(te,{className:"border-4 border-purple-200 shadow-2xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-sm mb-2 opacity-90",children:["Question ",n]}),a.jsxs("h2",{className:"text-5xl md:text-6xl font-bold flex items-center gap-2",children:[t.question,a.jsx(Vr,{text:t.question,style:"icon",label:"Read question"})]})]})}),a.jsx(ne,{className:"p-8",children:a.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.options.map((c,d)=>{const f=c===t.answer,m=r===c;let p="text-2xl font-bold h-24 transition-all transform hover:scale-105";return s&&m&&(p+=f?" bg-green-500 text-white hover:bg-green-500 scale-110":" bg-red-500 text-white hover:bg-red-500 shake"),a.jsx(Wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},children:a.jsx(oe,{variant:"outline",className:p,onClick:()=>l(c),disabled:s,children:a.jsxs("span",{className:"flex items-center gap-2",children:[c,a.jsx(Vr,{text:c,style:"icon",label:`Read answer option ${d+1}`})]})})},d)})})})]}),a.jsx("div",{className:"mt-4 flex items-center gap-2",children:a.jsx(Vr,{text:`Question ${n}: ${t.question}. Possible answers are: ${t.options.join(", ")}.`,style:"button",label:"Read question summary"})})]})}function PNe({score:t,correctAnswers:e,totalQuestions:n,timeTaken:r,operation:i,level:s,coinsEarned:o=0,activePowerUps:l={}}){const c=Zc(),d=e/n*100;let f=0,m="",p="";return d>=90?(f=3,m="Outstanding! You're a math superstar!",p=""):d>=70?(f=2,m="Great job! Keep practicing!",p=""):d>=50?(f=1,m="Good effort! Try again to improve!",p=""):(f=0,m="Keep practicing! You'll get better!",p=""),a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsx(Wt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:a.jsxs(te,{className:"border-4 border-yellow-300 shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 py-12 text-white text-center",children:[a.jsx(Wt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"text-8xl mb-4",children:p}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-2 flex items-center gap-2",children:["Challenge Complete!",a.jsx(Vr,{text:"Challenge Complete!",style:"icon",label:"Read title"})]}),a.jsxs("p",{className:"text-xl flex items-center gap-2",children:[m,a.jsx(Vr,{text:m,style:"icon",label:"Read message"})]})]}),a.jsxs(ne,{className:"p-8 space-y-6",children:[" ",a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[a.jsx(Ct,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),a.jsxs("div",{className:"text-3xl font-bold text-purple-600 flex items-center gap-2",children:[t,a.jsx(Vr,{text:`Your score is ${t}`,style:"icon",label:"Read score"})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[a.jsx(Qt,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),a.jsxs("div",{className:"text-3xl font-bold text-green-600 flex items-center gap-2",children:[e,"/",n,a.jsx(Vr,{text:`You got ${e} out of ${n} correct`,style:"icon",label:"Read correct answers"})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Correct"})]}),a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[a.jsx(_n,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),a.jsxs("div",{className:"text-3xl font-bold text-blue-600 flex items-center gap-2",children:[r,"s",a.jsx(Vr,{text:`Time taken: ${r} seconds`,style:"icon",label:"Read time"})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Time"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-xl",children:[a.jsx(Nt,{className:"w-8 h-8 mx-auto mb-2 text-yellow-500 fill-yellow-500"}),a.jsxs("div",{className:"text-3xl font-bold text-yellow-600 flex items-center gap-2",children:[f,a.jsx(Vr,{text:`You earned ${f} stars`,style:"icon",label:"Read stars"})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Stars"})]})]}),o>0&&a.jsx(te,{className:"border-2 border-cyan-300 bg-gradient-to-r from-cyan-50 to-blue-50",children:a.jsx(ne,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-full flex items-center justify-center",children:a.jsx(Pc,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:["Coins Earned!",a.jsx(Vr,{text:`You earned ${o} coins!`,style:"icon",label:"Read coins"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Use them in the shop for power-ups"})]})]}),a.jsxs("div",{className:"text-3xl font-bold text-cyan-600 flex items-center gap-2",children:["+",o,a.jsx(Vr,{text:`Plus ${o} coins`,style:"icon",label:"Read coins"})]})]})})}),Object.keys(l).length>0&&a.jsxs(Ue,{className:"bg-yellow-50 border-yellow-200",children:[a.jsx(Yt,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(ze,{className:"text-yellow-800 flex items-center gap-2",children:[a.jsx("strong",{children:"Power-ups were active!"})," Your rewards have been boosted!",a.jsx(Vr,{text:"Power-ups were active! Your rewards have been boosted!",style:"icon",label:"Read power-ups"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs(oe,{variant:"outline",className:"flex-1 h-14 text-lg gap-2",onClick:()=>c(Xe("Home")),children:[a.jsx(jx,{className:"w-5 h-5"}),"Back Home"]}),a.jsxs(oe,{variant:"outline",className:"flex-1 h-14 text-lg gap-2",onClick:()=>window.location.reload(),children:[a.jsx(rI,{className:"w-5 h-5"}),"Try Again"]}),a.jsxs(oe,{className:"flex-1 h-14 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 gap-2",onClick:()=>c(Xe("Progress")),children:["View Progress",a.jsx(Bz,{className:"w-5 h-5"})]})]})]})]})})})}function OK(){const t=["","","","","",""];return a.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(20)].map((e,n)=>a.jsx(Wt.div,{initial:{x:Math.random()*window.innerWidth,y:-50,rotate:0,opacity:1},animate:{y:window.innerHeight+50,rotate:360,opacity:0},transition:{duration:2+Math.random()*2,ease:"linear"},className:"absolute text-4xl",children:t[Math.floor(Math.random()*t.length)]},n))})}function CNe({question:t,correctAnswer:e,userAnswer:n,operation:r,level:i,onContinue:s}){const[o,l]=S.useState(!1),[c,d]=S.useState(!1),[f,m]=S.useState(""),[p,v]=S.useState(""),[w,x]=S.useState(!1),[g,_]=S.useState(null),T=async()=>{x(!0),_(null);try{console.log(" Generating hint for:",t);const P=await base44.integrations.Core.InvokeLLM({prompt:`You are an expert elementary school math tutor who loves making math fun and easy to understand!

A student is working on: ${t}
- Their answer: ${n}
- Correct answer: ${e}
- Math operation: ${r}
- Difficulty level: ${i}

Create a friendly, encouraging hint (2-3 sentences) that:
- Guides them toward the RIGHT way to think about the problem
- Does NOT give away the answer directly
- Uses simple, clear language for kids
- Includes one emoji to make it friendly
- Focuses on the strategy or method, not the solution

Be encouraging and make them feel confident they can solve it!`});console.log(" Hint result received:",P),console.log(" Result type:",typeof P);let C="";if(typeof P=="string"?C=P:P&&typeof P=="object"&&(C=P.output||P.response||P.text||P.content||JSON.stringify(P)),console.log(" Extracted hint text:",C),!C||C.trim()==="")throw new Error("No hint text received from AI");m(C),l(!0);try{await base44.entities.TutorSession.create({question:t,correct_answer:e,user_answer:n,operation:r,level:i,hint_requested:!0,hint_text:C})}catch(E){console.error("Error saving tutor session:",E)}}catch(P){console.error(" Error generating hint:",P),_(P.message);const C=`Let's think about ${t} together! Try breaking it down into smaller steps. ${r==="addition"?"Add the ones first, then the tens.":r==="subtraction"?"Remember to borrow if you need to!":r==="multiplication"?"Think about groups of the same number.":"Think about dividing into equal groups!"} You can do this! `;m(C),l(!0)}x(!1)},A=async()=>{x(!0),_(null);try{console.log(" Generating explanation for:",t);const P=await base44.integrations.Core.InvokeLLM({prompt:`You are an expert elementary school math tutor creating a detailed, step-by-step explanation!

PROBLEM: ${t}
STUDENT'S ANSWER: ${n}
CORRECT ANSWER: ${e}
OPERATION: ${r}
LEVEL: ${i}

Create a comprehensive, engaging explanation with these sections:

** WHERE DID I GO WRONG?**
Explain in 1-2 sentences what mistake they likely made and why they got ${n} instead of ${e}. Be kind and understanding - everyone makes mistakes!

** LET'S SOLVE IT STEP-BY-STEP!**
Break down the solution into clear, numbered steps:
${r==="addition"?`
1. Write the numbers one above the other, lining up the place values
2. Add the ones place first
3. If the sum is 10 or more, carry the 1 to the tens place
4. Add the tens place (including any carried number)
5. Write your final answer`:r==="subtraction"?`
1. Write the larger number on top, smaller on bottom
2. Start with the ones place
3. If the top number is smaller, borrow from the tens place
4. Subtract the ones place
5. Move to the tens place and subtract
6. Write your final answer`:r==="multiplication"?`
1. Understand what ${t} means (groups of numbers)
2. Break down the problem if needed (like 12 = 10 + 2)
3. Multiply each part
4. Add the results together
5. Double-check your answer`:`1. Set up the division: ${t}
2. How many times does the divisor go into the dividend?
3. Multiply to check
4. Subtract to find remainder
5. Write your answer`}

** THE RIGHT ANSWER**
Show clearly that ${t} = ${e}

** QUICK TIP TO REMEMBER**
One practical tip or trick to help solve similar problems in the future.

** PRACTICE HELPS!**
One encouraging sentence about practicing this type of problem.

Use emojis throughout to make it fun and engaging! Keep language simple and encouraging for kids ages 7-12.`});console.log(" Explanation result received:",P),console.log(" Result type:",typeof P);let C="";if(typeof P=="string"?C=P:P&&typeof P=="object"&&(C=P.output||P.response||P.text||P.content||JSON.stringify(P)),console.log(" Extracted explanation text:",C),!C||C.trim()==="")throw new Error("No explanation text received from AI");v(C),d(!0);try{await base44.entities.TutorSession.create({question:t,correct_answer:e,user_answer:n,operation:r,level:i,explanation_viewed:!0,explanation_text:C})}catch(E){console.error("Error saving tutor session:",E)}}catch(P){console.error(" Error generating explanation:",P),_(P.message);const C=I(t,e,n,r);v(C),d(!0)}x(!1)},I=(P,C,E,N)=>{var F,G;const O=P.split(/[\+\-\]/),D=parseInt(((F=O[0])==null?void 0:F.trim())||0),L=parseInt(((G=O[1])==null?void 0:G.trim())||0);let $=`** WHERE DID I GO WRONG?**
`;return $+=`You got ${E}, but the correct answer is ${C}. Let's figure out why and learn from it!

`,$+=`** LET'S SOLVE IT STEP-BY-STEP!**

`,N==="addition"?($+=`1 Set up the problem: ${D} + ${L}
`,$+=`2 Add the ones place: ${D%10} + ${L%10} = ${D%10+L%10}
`,D%10+L%10>=10&&($+=`3 That's ${D%10+L%10}, so we carry the 1!
`),$+=`4 Add the tens place: ${Math.floor(D/10)} + ${Math.floor(L/10)} ${D%10+L%10>=10?"+ 1 (carried)":""}
`,$+=`5 Final answer: **${C}** 

`):N==="subtraction"?($+=`1 Set up the problem: ${D} - ${L}
`,$+=`2 Start with the ones place
`,D%10<L%10&&($+=`3 We need to borrow from the tens place!
`),$+=`4 Subtract: ${D} - ${L}
`,$+=`5 Final answer: **${C}** 

`):N==="multiplication"?($+=`1 Think: ${D} groups of ${L}
`,$+=`2 Or: ${D}  ${L}
`,(D>10||L>10)&&($+=`3 Break it down: (${Math.floor(D/10)*10} + ${D%10})  ${L}
`),$+=`4 Calculate: ${D}  ${L} = ${C}
`,$+=`5 Final answer: **${C}** 

`):N==="division"&&($+=`1 How many ${L}s fit into ${D}?
`,$+=`2 Count by ${L}s until you reach ${D}
`,$+=`3 Check: ${C}  ${L} = ${D}
`,$+=`4 Final answer: **${C}** 

`),$+=`** THE RIGHT ANSWER**
`,$+=`${P} = **${C}** 

`,$+=`** QUICK TIP TO REMEMBER**
`,N==="addition"?$+=`Always start with the ones place and work your way left. Don't forget to carry!

`:N==="subtraction"?$+=`If the top number is smaller, remember to borrow from the next column!

`:N==="multiplication"?$+=`Break big numbers into smaller parts to make multiplication easier!

`:$+=`Division is the opposite of multiplication - think about groups!

`,$+=`** PRACTICE HELPS!**
`,$+=`The more you practice ${N}, the easier it gets. You're doing great! Keep going! `,$};return a.jsx(Wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(te,{className:"max-w-2xl w-full border-4 border-blue-300 shadow-2xl max-h-[90vh] overflow-auto",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:a.jsxs(Ne,{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:a.jsx(pr,{className:"w-7 h-7"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:"AI Math Tutor"}),a.jsxs(je,{variant:"secondary",className:"bg-white/20 text-white",children:[a.jsx(Yt,{className:"w-3 h-3 mr-1"}),"Powered by AI"]})]}),a.jsx("p",{className:"text-sm opacity-90 font-normal mt-1",children:"Let's learn from this mistake together! "})]})]})}),a.jsxs(ne,{className:"p-6 space-y-6",children:[a.jsx(Ue,{className:"bg-gradient-to-r from-orange-50 to-red-50 border-2 border-orange-200",children:a.jsx(ze,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Question:"}),a.jsxs("span",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[t,a.jsx(Vr,{text:t,style:"icon",label:"Read question"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(yd,{className:"w-4 h-4 text-red-500"}),"Your answer:"]}),a.jsxs(je,{variant:"outline",className:"bg-red-100 border-red-300 text-red-700 text-lg flex items-center gap-2",children:[n,a.jsx(Vr,{text:n==null?void 0:n.toString(),style:"icon",label:"Read your answer"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(Ut,{className:"w-4 h-4 text-green-500"}),"Correct answer:"]}),a.jsxs(je,{className:"bg-green-500 text-white text-lg flex items-center gap-2",children:[e,a.jsx(Vr,{text:e==null?void 0:e.toString(),style:"icon",label:"Read correct answer"})]})]})]})})}),g&&a.jsxs(Ue,{className:"bg-yellow-50 border-yellow-200",children:[a.jsx(dm,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(ze,{className:"text-yellow-800",children:[a.jsx("strong",{children:"Note:"})," Using fallback explanation. ",g]})]}),a.jsx("div",{children:o?a.jsx(Wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:a.jsxs(te,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-300",children:[a.jsx(_e,{className:"pb-3",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(z3,{className:"w-5 h-5 text-yellow-600"}),"Hint"]})}),a.jsx(ne,{children:a.jsxs("p",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed",children:[f,a.jsx(Vr,{text:f,style:"icon",label:"Read hint"})]})})]})}):a.jsx(oe,{onClick:T,disabled:w,className:"w-full h-16 text-lg bg-gradient-to-r from-yellow-400 to-orange-400 hover:from-yellow-500 hover:to-orange-500 text-gray-900",children:w?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-gray-900 border-t-transparent rounded-full mr-2"}),"Thinking..."]}):a.jsxs(a.Fragment,{children:[a.jsx(z3,{className:"w-6 h-6 mr-2"}),"Get a Hint"]})})}),o&&a.jsx("div",{children:c?a.jsx(Wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:a.jsxs(te,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300",children:[a.jsx(_e,{className:"pb-3",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Rs,{className:"w-5 h-5 text-blue-600"}),"Complete Solution"]})}),a.jsx(ne,{children:a.jsx("div",{className:"prose prose-sm max-w-none",children:a.jsx("div",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed space-y-3",children:p.split(`

`).map((P,C)=>a.jsxs("div",{className:"mb-4",children:[a.jsx(Vr,{text:P.replace(/\*\*/g,""),style:"button",label:"Read solution section"}),P.split(`
`).map((E,N)=>E.startsWith("**")&&E.endsWith("**")?a.jsx("h4",{className:"font-bold text-lg mb-2 text-purple-700",children:E.replace(/\*\*/g,"")},N):/^\d+/.test(E)?a.jsx("div",{className:"flex gap-3 mb-2 bg-white p-2 rounded-lg",children:a.jsx("span",{className:"text-blue-600 font-bold",children:E})},N):E?a.jsx("p",{className:"mb-2",children:E},N):null)]},C))})})})]})}):a.jsx(oe,{onClick:A,disabled:w,className:"w-full h-16 text-lg bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:w?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Generating Explanation..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Rs,{className:"w-6 h-6 mr-2"}),"Show Step-by-Step Solution"]})})}),a.jsx(Ue,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200",children:a.jsxs(ze,{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("p",{className:"font-medium text-gray-800",children:"Mistakes help us learn! Keep practicing and you'll get better every day!"})]})}),a.jsxs(oe,{onClick:s,className:"w-full h-14 text-lg bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:["I Understand! Continue",a.jsx(nI,{className:"w-5 h-5 ml-2"})]})]})]})})}function kNe({adjustment:t,onClose:e}){const n={easier:{icon:Vc,color:"from-blue-400 to-cyan-400",title:"Let's Try Something Easier!",message:"Don't worry! I'm adjusting the difficulty to help you build confidence. You've got this! ",emoji:""},harder:{icon:gn,color:"from-purple-400 to-pink-400",title:"Level Up Challenge!",message:"Wow! You're doing amazing! Let's try some harder problems to keep you challenged! ",emoji:""},perfect:{icon:Gr,color:"from-yellow-400 to-orange-400",title:"Perfect Match!",message:"The difficulty is just right for you! Keep up the excellent work! ",emoji:""}},r=n[t]||n.perfect,i=r.icon;return a.jsx(Wt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:a.jsx(Wt.div,{initial:{y:-50},animate:{y:0},onClick:s=>s.stopPropagation(),children:a.jsx(te,{className:`max-w-md border-4 shadow-2xl bg-gradient-to-br ${r.color}`,children:a.jsxs(ne,{className:"p-8 text-center text-white",children:[a.jsx(Wt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"text-7xl mb-4",children:r.emoji}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(i,{className:"w-6 h-6"}),a.jsx("h3",{className:"text-2xl font-bold",children:r.title})]}),a.jsx("p",{className:"text-lg opacity-95 mb-6",children:r.message}),a.jsxs(je,{className:"bg-white/20 text-white text-sm px-4 py-2",children:[a.jsx(i,{className:"w-4 h-4 mr-2"}),"AI Adaptive Learning"]}),a.jsx("p",{className:"text-xs mt-4 opacity-75",children:"Click anywhere to continue"})]})})})})}function INe({operation:t=null}){var A;const[e,n]=S.useState(0),[r,i]=S.useState(!1),[s,o]=S.useState(!1),{data:l,refetch:c}=dt({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),d=hn(new Date,"yyyy-MM-dd"),f=(l==null?void 0:l.parental_controls)||{},m=(l==null?void 0:l.daily_usage_tracking)||{},p=m[d]||{total_minutes:0,by_operation:{}},v=f.daily_time_limit_minutes||0,w=f.enforce_time_limits!==!1,x=f.time_limit_warning_minutes||5,g=f.time_limits_by_operation||{};if(S.useEffect(()=>{var P;if(!w||v===0)return;const I=p.total_minutes||0;n(I),I>=v?o(!0):v-I<=x&&v-I>0&&i(!0),t&&g[t]&&(((P=p.by_operation)==null?void 0:P[t])||0)>=g[t]&&o(!0)},[l,t,w,v,x,g]),S.useEffect(()=>{if(!w||s)return;const I=setInterval(async()=>{var N;const P=Math.floor((p.total_minutes||0)+.016666666666666666),C=t?Math.floor((((N=p.by_operation)==null?void 0:N[t])||0)+1/60):0,E={...m,[d]:{total_minutes:P,by_operation:{...p.by_operation||{},...t?{[t]:C}:{}}}};try{await base44.auth.updateMe({daily_usage_tracking:E}),await c()}catch(O){console.error("Error updating time tracking:",O)}},6e4);return()=>clearInterval(I)},[w,s,t,p,m,c]),!w||v===0)return null;const _=Math.max(0,v-e),T=t&&g[t]?Math.max(0,g[t]-(((A=p.by_operation)==null?void 0:A[t])||0)):null;return s?a.jsxs(Ue,{className:"mb-6 bg-red-50 border-red-300",children:[a.jsx(oi,{className:"w-5 h-5 text-red-600"}),a.jsxs(ze,{className:"text-red-800",children:[a.jsx("strong",{className:"block mb-2",children:"Time Limit Reached"}),"You've used your allotted time for today. Come back tomorrow to continue learning!",t&&T===0&&g[t]&&a.jsxs("p",{className:"mt-2 text-sm",children:[t," time limit: ",g[t]," minutes reached"]}),a.jsx("div",{className:"mt-3 text-sm text-gray-600",children:"Time resets at midnight. See you tomorrow! "})]})]}):r&&_<=x?a.jsxs(Ue,{className:"mb-6 bg-yellow-50 border-yellow-300",children:[a.jsx(zr,{className:"w-5 h-5 text-yellow-600"}),a.jsxs(ze,{className:"text-yellow-800",children:[a.jsx("strong",{className:"block mb-2",children:"Time Running Out!"}),"You have ",a.jsxs("strong",{children:[_," minutes"]})," left to play today.",t&&T!==null&&T<_&&a.jsxs("p",{className:"mt-2",children:[t,": ",a.jsxs("strong",{children:[T," minutes"]})," left"]})]})]}):a.jsxs("div",{className:"mb-4 flex items-center justify-end gap-2 text-sm text-gray-600",children:[a.jsx(_n,{className:"w-4 h-4"}),a.jsxs("span",{children:[_," minutes remaining today"]})]})}const Bs=(t,e)=>({counting:ONe,number_comparison:RNe,place_value:MNe,patterns:DNe,rounding:LNe,addition:Q6,subtraction:$Ne,multiplication:FNe,division:VNe,factors_multiples:BNe,prime_composite:qNe,fractions:GNe,decimals:KNe,percentages:YNe,ratios:UNe,order_operations:zNe,integers:WNe,exponents:HNe,word_problems:QNe,money:XNe,time:JNe,measurement:ZNe,geometry:eSe,area_perimeter:tSe,angles:nSe,coordinates:rSe,data_graphs:iSe,probability:sSe,basic_algebra:RK,equations:aSe,mixed:oSe,mental_math:lSe}[t]||Q6)(e);function ONe(t){const e={easy:{min:1,max:10},medium:{min:10,max:50},hard:{min:50,max:100}},n=e[t]||e.easy,r=Math.floor(Math.random()*(n.max-5))+n.min,i=r+Math.floor(Math.random()*5)+1;return{question:`Count: ${r}, ${r+1}, ?, ${r+3}`,answer:i,options:go(i),explanation:`The pattern increases by 1 each time. After ${r+1} comes ${i}.`}}function RNe(t){const e={easy:{min:1,max:20},medium:{min:10,max:100},hard:{min:100,max:1e3}},n=e[t]||e.easy,r=Math.floor(Math.random()*(n.max-n.min))+n.min,i=Math.floor(Math.random()*(n.max-n.min))+n.min,s=[">","<","="],o=r>i?">":r<i?"<":"=",l=s.indexOf(o);return{question:`${r} ___ ${i}. Which symbol?`,answer:l,options:[0,1,2],optionsDisplay:[">","<","="],explanation:`${r} ${o} ${i}. ${r} is ${r>i?"greater than":r<i?"less than":"equal to"} ${i}.`}}function MNe(t){const e={easy:[{q:"What is the tens digit in 47?",a:4,opts:[4,7,47,0],exp:"In 47, the 4 is in the tens place and the 7 is in the ones place."},{q:"What is the ones digit in 53?",a:3,opts:[5,3,53,0],exp:"In 53, the 3 is in the ones place."},{q:"What number has 3 tens and 5 ones?",a:35,opts:[53,35,305,8],exp:"3 tens = 30, plus 5 ones = 35."}],medium:[{q:"What is the hundreds digit in 527?",a:5,opts:[5,2,7,527],exp:"In 527: 5 is hundreds, 2 is tens, 7 is ones."},{q:"What is 400 + 50 + 3?",a:453,opts:[345,453,534,4053],exp:"Add the place values: 400 + 50 + 3 = 453."},{q:"Which digit is in the tens place in 684?",a:8,opts:[6,8,4,68],exp:"In 684: 6 is hundreds, 8 is tens, 4 is ones."}],hard:[{q:"What is 3000 + 200 + 40 + 5?",a:3245,opts:[3245,32405,3254,2345],exp:"Adding place values: 3000 + 200 + 40 + 5 = 3245."},{q:"What is the thousands digit in 7,842?",a:7,opts:[7,8,4,2],exp:"In 7,842: 7 is thousands place."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,explanation:r.exp}}function DNe(t){const e={easy:[{q:"2, 4, 6, 8, ?",a:10,opts:[9,10,11,12],exp:"Pattern: +2 each time. 8 + 2 = 10."},{q:"5, 10, 15, 20, ?",a:25,opts:[22,24,25,30],exp:"Pattern: +5 each time. 20 + 5 = 25."},{q:"10, 9, 8, 7, ?",a:6,opts:[6,5,9,8],exp:"Pattern: -1 each time. 7 - 1 = 6."}],medium:[{q:"3, 6, 9, 12, ?",a:15,opts:[13,14,15,16],exp:"Pattern: +3 each time (multiples of 3). 12 + 3 = 15."},{q:"1, 4, 7, 10, ?",a:13,opts:[11,12,13,14],exp:"Pattern: +3 each time. 10 + 3 = 13."},{q:"50, 45, 40, 35, ?",a:30,opts:[30,32,25,28],exp:"Pattern: -5 each time. 35 - 5 = 30."}],hard:[{q:"2, 4, 8, 16, ?",a:32,opts:[20,24,32,28],exp:"Pattern: 2 each time (doubling). 16  2 = 32."},{q:"100, 50, 25, ?",a:12.5,opts:[12.5,12,15,10],exp:"Pattern: 2 each time (halving). 25  2 = 12.5."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,explanation:r.exp}}function LNe(t){const e={easy:[{q:"Round 14 to the nearest 10",a:10,opts:[10,15,20,14],exp:"14 is closer to 10 than 20, so round down to 10."},{q:"Round 27 to the nearest 10",a:30,opts:[20,25,27,30],exp:"27 is closer to 30 than 20, so round up to 30."},{q:"Round 45 to the nearest 10",a:50,opts:[40,45,50,55],exp:"45 is exactly halfway, so round up to 50."}],medium:[{q:"Round 247 to the nearest 100",a:200,opts:[200,250,300,240],exp:"247 is closer to 200 than 300."},{q:"Round 682 to the nearest 100",a:700,opts:[600,680,700,800],exp:"682 is closer to 700 than 600."}],hard:[{q:"Round 4,567 to the nearest 1,000",a:5e3,opts:[4e3,4500,5e3,6e3],exp:"4,567 is closer to 5,000 than 4,000."},{q:"Round 12,345 to the nearest 10,000",a:1e4,opts:[1e4,12e3,13e3,2e4],exp:"12,345 is closer to 10,000 than 20,000."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,explanation:r.exp}}function Q6(t){const e={easy:{min:1,max:10},medium:{min:10,max:50},hard:{min:50,max:200},expert:{min:100,max:1e3}},n=e[t]||e.easy,r=Math.floor(Math.random()*(n.max-n.min+1))+n.min,i=Math.floor(Math.random()*(n.max-n.min+1))+n.min,s=r+i;return{question:`${r} + ${i}`,answer:s,options:go(s),explanation:`To add ${r} + ${i}, combine the two numbers. The answer is ${s}.`}}function $Ne(t){const e={easy:{min:5,max:20},medium:{min:20,max:100},hard:{min:100,max:500},expert:{min:500,max:2e3}},n=e[t]||e.easy,r=Math.floor(Math.random()*(n.max-n.min+1))+n.min,i=Math.floor(Math.random()*r)+1,s=r-i;return{question:`${r} - ${i}`,answer:s,options:go(s),explanation:`To subtract ${i} from ${r}, the answer is ${s}.`}}function FNe(t){const e={easy:{min:1,max:10},medium:{min:2,max:12},hard:{min:6,max:20},expert:{min:11,max:50}},n=e[t]||e.easy,r=Math.floor(Math.random()*(n.max-n.min+1))+n.min,i=Math.floor(Math.random()*(n.max-n.min+1))+n.min,s=r*i;return{question:`${r}  ${i}`,answer:s,options:go(s),explanation:`${r} times ${i} equals ${s}.`}}function VNe(t){const e={easy:{divisor:[2,3,4,5],quotient:[1,10]},medium:{divisor:[2,12],quotient:[1,20]},hard:{divisor:[5,25],quotient:[2,50]},expert:{divisor:[10,50],quotient:[5,100]}},n=e[t]||e.easy,r=Math.floor(Math.random()*(n.divisor[1]-n.divisor[0]+1))+n.divisor[0],i=Math.floor(Math.random()*(n.quotient[1]-n.quotient[0]+1))+n.quotient[0],s=r*i;return{question:`${s}  ${r}`,answer:i,options:go(i),explanation:`${s} divided by ${r} equals ${i}.`}}function BNe(t){const e={easy:[{q:"What are the factors of 12?",a:6,opts:[4,5,6,7],exp:"12 has 6 factors: 1, 2, 3, 4, 6, 12."},{q:"What is a multiple of 5?",a:25,opts:[22,24,25,27],exp:"25 = 5  5, so 25 is a multiple of 5."},{q:"Is 15 a multiple of 3?",a:1,opts:[0,1],optionsDisplay:["No","Yes"],exp:"Yes! 15 = 3  5."}],medium:[{q:"What is the GCF of 12 and 18?",a:6,opts:[3,4,6,9],exp:"Factors of 12: 1,2,3,4,6,12. Factors of 18: 1,2,3,6,9,18. Greatest common is 6."},{q:"What is the LCM of 4 and 6?",a:12,opts:[10,12,18,24],exp:"Multiples of 4: 4,8,12... Multiples of 6: 6,12... Least common is 12."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,optionsDisplay:r.optionsDisplay,explanation:r.exp}}function qNe(t){const e=[2,3,5,7,11,13,17,19,23,29,31],n=[4,6,8,9,10,12,14,15,16,18,20,21];if(Math.random()>.5){const i=e[Math.floor(Math.random()*e.length)];return{question:`Is ${i} a prime number?`,answer:1,options:[0,1],optionsDisplay:["No","Yes"],explanation:`Yes! ${i} is prime. It can only be divided by 1 and ${i}.`}}else{const i=n[Math.floor(Math.random()*n.length)];return{question:`Is ${i} a prime number?`,answer:0,options:[0,1],optionsDisplay:["No","Yes"],explanation:`No! ${i} is composite. It has factors other than 1 and itself.`}}}function UNe(t){const e={easy:[{q:"Simplify the ratio 4:8",a:.5,opts:[.5,1,2,4],display:"1:2",exp:"Divide both by 4: 44 = 1, 84 = 2. Answer: 1:2"},{q:"If 2 apples cost $4, what do 4 apples cost?",a:8,opts:[6,7,8,10],exp:"2 apples = $4, so 4 apples = $4  2 = $8."}],medium:[{q:"In a class of 30, the ratio of boys to girls is 2:3. How many girls?",a:18,opts:[12,15,18,20],exp:"2+3=5 parts. 305=6 per part. Girls = 36 = 18."},{q:"Simplify 12:18",a:2,opts:[1,2,3,4],display:"2:3",exp:"Divide both by 6: 126 = 2, 186 = 3."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,explanation:r.exp}}function zNe(t){const e={easy:[{q:"3 + 2  4 = ?",a:11,opts:[9,10,11,20],exp:"Order: Multiply first (24=8), then add (3+8=11)."},{q:"10 - 2  3 = ?",a:4,opts:[4,6,24,8],exp:"Order: Multiply first (23=6), then subtract (10-6=4)."}],medium:[{q:"(3 + 2)  4 = ?",a:20,opts:[11,14,20,24],exp:"Parentheses first: (3+2=5), then multiply (54=20)."},{q:"12  3 + 2 = ?",a:6,opts:[2,4,6,8],exp:"Division first: 123=4, then add: 4+2=6."}],hard:[{q:"2 + 3  (4 + 5) = ?",a:29,opts:[20,27,29,45],exp:"Parentheses: (4+5=9). Multiply: 39=27. Add: 2+27=29."},{q:"20 - 12  3 + 2 = ?",a:18,opts:[10,14,18,22],exp:"Divide: 123=4. Then left to right: 20-4+2 = 18."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,explanation:r.exp}}function WNe(t){const e={easy:{min:-10,max:10},medium:{min:-50,max:50},hard:{min:-100,max:100}},n=e[t]||e.easy,r=Math.floor(Math.random()*(n.max-n.min+1))+n.min,i=Math.floor(Math.random()*(n.max-n.min+1))+n.min,s=r+i;return{question:`${r} + (${i})`,answer:s,options:go(s),explanation:`Adding integers: ${r} + ${i} = ${s}.`}}function HNe(t){const e={easy:[{q:"What is 2?",a:4,opts:[2,3,4,8],exp:"2 means 2  2 = 4."},{q:"What is 3?",a:9,opts:[6,8,9,12],exp:"3 means 3  3 = 9."},{q:"What is 5?",a:25,opts:[10,20,25,30],exp:"5 means 5  5 = 25."}],medium:[{q:"What is 2?",a:8,opts:[6,7,8,9],exp:"2 means 2  2  2 = 8."},{q:"What is 4?",a:16,opts:[8,12,14,16],exp:"4 means 4  4 = 16."},{q:"What is 25?",a:5,opts:[4,5,6,7],exp:"25 = 5 because 5  5 = 25."}],hard:[{q:"What is 3?",a:27,opts:[9,18,27,36],exp:"3 means 3  3  3 = 27."},{q:"What is 64?",a:8,opts:[6,7,8,9],exp:"64 = 8 because 8  8 = 64."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,explanation:r.exp}}function GNe(t){const e={easy:[{q:"What is 1/2 + 1/2?",a:1,opts:[0,1,2,3],exp:"1/2 + 1/2 = 2/2 = 1 whole."},{q:"What is 1/4 + 1/4?",a:.5,opts:[.25,.5,.75,1],exp:"1/4 + 1/4 = 2/4 = 1/2."}],medium:[{q:"What is 1/2 + 1/4?",a:.75,opts:[.5,.67,.75,1],exp:"1/2 = 2/4. Then 2/4 + 1/4 = 3/4."},{q:"What is 2/3 + 1/6?",a:.83,opts:[.67,.75,.83,1],exp:"2/3 = 4/6. Then 4/6 + 1/6 = 5/6."}],hard:[{q:"What is 2/3 + 3/4?",a:1.42,opts:[1.25,1.33,1.42,1.5],exp:"Common denominator 12: 8/12 + 9/12 = 17/12 = 1 5/12."},{q:"What is 3/4  2?",a:1.5,opts:[1,1.5,2,2.5],exp:"(3  2)/4 = 6/4 = 1 1/2."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,explanation:r.exp}}function KNe(t){const e={easy:{min:.1,max:9.9,decimals:1},medium:{min:.01,max:99.9,decimals:2},hard:{min:.01,max:999.9,decimals:2}},n=e[t]||e.easy,r=parseFloat((Math.random()*(n.max-n.min)+n.min).toFixed(n.decimals)),i=parseFloat((Math.random()*(n.max-n.min)+n.min).toFixed(n.decimals)),s=Math.random()>.5?"+":"-",o=parseFloat(s==="+"?(r+i).toFixed(n.decimals):(Math.max(r,i)-Math.min(r,i)).toFixed(n.decimals));return{question:s==="+"?`${r} + ${i}`:`${Math.max(r,i)} - ${Math.min(r,i)}`,answer:o,options:go(o,n.decimals),explanation:"Line up decimal points and calculate."}}function YNe(t){const e={easy:[{q:"What is 50% of 100?",a:50,opts:[25,50,75,100],exp:"50% = half. 100  2 = 50."},{q:"What is 25% of 100?",a:25,opts:[20,25,30,50],exp:"25% = 1/4. 100  4 = 25."}],medium:[{q:"What is 20% of 80?",a:16,opts:[12,16,20,24],exp:"20% = 0.20. 80  0.20 = 16."},{q:"What is 30% of 200?",a:60,opts:[50,60,70,80],exp:"30% = 0.30. 200  0.30 = 60."}],hard:[{q:"What is 15% of 250?",a:37.5,opts:[35,37.5,40,42.5],exp:"15% = 0.15. 250  0.15 = 37.5."},{q:"What is 65% of 180?",a:117,opts:[110,117,125,130],exp:"65% = 0.65. 180  0.65 = 117."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,explanation:r.exp}}function QNe(t){const e={easy:[{template:"Sarah has {n1} apples. She buys {n2} more. How many now?",operation:"add",range:[1,10]},{template:"Tom has {n1} cookies. He eats {n2}. How many left?",operation:"subtract",range:[5,15]}],medium:[{template:"A box has {n1} items. Each costs ${n2}. Total cost?",operation:"multiply",range:[5,12]},{template:"{n1} students, groups of {n2}. How many groups?",operation:"divide",range:[4,12]}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)],i=Math.floor(Math.random()*r.range[1])+r.range[0],s=Math.floor(Math.random()*r.range[1])+r.range[0];let o,l=r.template.replace("{n1}",i).replace("{n2}",s);return r.operation==="add"?o=i+s:r.operation==="subtract"?o=i-s:r.operation==="multiply"?o=i*s:o=Math.floor(i/s),{question:l,answer:o,options:go(o),explanation:"Solve step by step to find the answer."}}function XNe(t){const e={easy:[{q:"How many cents in $1?",a:100,opts:[50,75,100,125],exp:"$1 = 100 cents."},{q:"2 quarters = ? cents",a:50,opts:[25,50,75,100],exp:"Each quarter = 25. 2  25 = 50."}],medium:[{q:"Buy toy for $12.50, pay $20. Change?",a:7.5,opts:[6.5,7.5,8.5,9.5],exp:"$20.00 - $12.50 = $7.50."},{q:"Save $15/week. 4 weeks = ?",a:60,opts:[50,60,70,80],exp:"$15  4 = $60."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,explanation:r.exp}}function JNe(t){const e={easy:[{q:"How many minutes in 1 hour?",a:60,opts:[30,60,90,120],exp:"1 hour = 60 minutes."},{q:"30 minutes after 2:00 = ?",a:2.5,opts:[2,2.5,3,3.5],display:"2:30",exp:"2:00 + 30 min = 2:30."}],medium:[{q:"If it's 3:45, what time in 25 min?",a:4.17,opts:[4,4.17,4.5,5],display:"4:10",exp:"3:45 + 25 min = 4:10."},{q:"How many seconds in 5 minutes?",a:300,opts:[250,300,350,400],exp:"60  5 = 300 seconds."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,explanation:r.exp}}function ZNe(t){const e={easy:[{q:"How many inches in 1 foot?",a:12,opts:[10,12,16,20],exp:"1 foot = 12 inches."},{q:"1000 grams = ? kilograms",a:1,opts:[.1,1,10,100],exp:"1000g = 1kg."}],medium:[{q:"How many cm in 2 meters?",a:200,opts:[20,100,200,2e3],exp:"1m = 100cm. 2m = 200cm."},{q:"1 liter = ? milliliters",a:1e3,opts:[10,100,1e3,1e4],exp:"1L = 1000mL."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,explanation:r.exp}}function eSe(t){const e={easy:[{q:"How many sides in a triangle?",a:3,opts:[2,3,4,5],exp:"Triangle has 3 sides."},{q:"How many corners in a square?",a:4,opts:[3,4,5,6],exp:"Square has 4 corners."}],medium:[{q:"Area of rectangle 64?",a:24,opts:[20,24,28,32],exp:"Area = length  width = 6  4 = 24."},{q:"Circle radius 5, diameter?",a:10,opts:[8,10,12,15],exp:"Diameter = 2  radius = 2  5 = 10."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,explanation:r.exp}}function tSe(t){const e={easy:[{q:"Perimeter of square, side 5?",a:20,opts:[15,20,25,30],exp:"Perimeter = 4  5 = 20."},{q:"Area of square, side 4?",a:16,opts:[8,12,16,20],exp:"Area = 4  4 = 16."}],medium:[{q:"Perimeter of rectangle 85?",a:26,opts:[24,26,28,30],exp:"Perimeter = 2(8+5) = 26."},{q:"Area of triangle, base 10, height 6?",a:30,opts:[25,30,35,40],exp:"Area = (106)2 = 30."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,explanation:r.exp}}function nSe(t){const e={easy:[{q:"How many degrees in a right angle?",a:90,opts:[45,90,180,360],exp:"Right angle = 90."},{q:"How many degrees in a straight line?",a:180,opts:[90,180,270,360],exp:"Straight line = 180."}],medium:[{q:"If one angle is 60, complementary angle?",a:30,opts:[30,60,90,120],exp:"Complementary angles sum to 90. 90 - 60 = 30."},{q:"If one angle is 120, supplementary angle?",a:60,opts:[30,60,90,120],exp:"Supplementary angles sum to 180. 180 - 120 = 60."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,explanation:r.exp}}function rSe(t){const e=Math.floor(Math.random()*10)-5,n=Math.floor(Math.random()*10)-5,r=[{q:`Point (${e}, ${n}): What is the x-coordinate?`,a:e,exp:`In (${e}, ${n}), x = ${e}.`},{q:`Point (${e}, ${n}): What is the y-coordinate?`,a:n,exp:`In (${e}, ${n}), y = ${n}.`}],i=r[Math.floor(Math.random()*r.length)];return{question:i.q,answer:i.a,options:go(i.a),explanation:i.exp}}function iSe(t){const e={easy:[{q:"Bar chart: A=5, B=3, C=7. Which is tallest?",a:2,opts:[0,1,2],optionsDisplay:["A","B","C"],exp:"C has value 7, which is highest."},{q:"Line plot: Mon=10, Tue=15, Wed=12. Which day had most?",a:1,opts:[0,1,2],optionsDisplay:["Mon","Tue","Wed"],exp:"Tuesday had 15, the highest value."}],medium:[{q:"Pie chart: 50% red, 30% blue, 20% green. Largest?",a:0,opts:[0,1,2],optionsDisplay:["Red","Blue","Green"],exp:"Red at 50% is largest."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,optionsDisplay:r.optionsDisplay,explanation:r.exp}}function sSe(t){const e={easy:[{q:"Flip a coin. Probability of heads?",a:.5,opts:[.25,.5,.75,1],display:"1/2",exp:"2 outcomes, 1 is heads. P = 1/2."},{q:"Roll a die. Probability of rolling 6?",a:.17,opts:[.17,.33,.5,.67],display:"1/6",exp:"6 outcomes, 1 is six. P = 1/6."}],medium:[{q:"Bag: 3 red, 2 blue. Probability of red?",a:.6,opts:[.2,.4,.6,.8],display:"3/5",exp:"5 total, 3 red. P = 3/5 = 0.6."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,explanation:r.exp}}function RK(t){const e={easy:[{q:"Solve: x + 5 = 12",a:7,opts:[5,6,7,8],exp:"Subtract 5 from both sides: x = 12 - 5 = 7."},{q:"Solve: x - 3 = 10",a:13,opts:[7,10,13,16],exp:"Add 3 to both sides: x = 10 + 3 = 13."}],medium:[{q:"Solve: 2x = 16",a:8,opts:[6,7,8,9],exp:"Divide both sides by 2: x = 16  2 = 8."},{q:"Solve: x/3 = 5",a:15,opts:[2,8,15,18],exp:"Multiply both sides by 3: x = 5  3 = 15."}],hard:[{q:"Solve: 3x + 5 = 20",a:5,opts:[3,4,5,6],exp:"Subtract 5: 3x = 15. Divide by 3: x = 5."},{q:"Solve: 2x - 7 = 11",a:9,opts:[4,7,9,11],exp:"Add 7: 2x = 18. Divide by 2: x = 9."}]},n=e[t]||e.easy,r=n[Math.floor(Math.random()*n.length)];return{question:r.q,answer:r.a,options:r.opts,explanation:r.exp}}function aSe(t){return RK(t)}function oSe(t){const e=["addition","subtraction","multiplication","division"],n=e[Math.floor(Math.random()*e.length)];return Bs(n,t)}function lSe(t){const e={easy:{min:1,max:20},medium:{min:10,max:50},hard:{min:20,max:100}},n=e[t]||e.easy,r=Math.floor(Math.random()*(n.max-n.min))+n.min,i=Math.floor(Math.random()*(n.max-n.min))+n.min,s=["+","-",""],o=s[Math.floor(Math.random()*s.length)];let l;return o==="+"?l=r+i:o==="-"?l=Math.abs(r-i):l=r*i,{question:`${r} ${o} ${i}`,answer:l,options:go(l),explanation:`Quick calculation: ${l}`}}function go(t,e=0){const n=[t],r=Math.max(Math.abs(t)*.3,5);for(;n.length<4;){const i=Math.random()*r*2-r;let s=t+i;e>0?s=parseFloat(s.toFixed(e)):s=Math.round(s),s>0&&!n.includes(s)&&s!==t&&n.push(s)}return n.sort(()=>Math.random()-.5)}function MK(){var Pe;const t=Zc(),e=xr(),n=new URLSearchParams(window.location.search),r=n.get("operation"),i=n.get("level"),[s,o]=S.useState(r),[l,c]=S.useState(i),[d,f]=S.useState(0),[m,p]=S.useState([]),[v,w]=S.useState([]),[x,g]=S.useState(0),[_,T]=S.useState(!1),[A,I]=S.useState(Date.now()),[P,C]=S.useState(!1),[E,N]=S.useState(0),[O,D]=S.useState(!1),[L,$]=S.useState(null),[F,G]=S.useState(!1),[Y,K]=S.useState(null),[X,U]=S.useState({}),[Q,re]=S.useState(!1),W=10,{data:Z=[]}=dt({queryKey:["recentProgress"],queryFn:async()=>{const ve=dn(Bt),De=va(Pr(ve,"gameProgress"),si("created_by","==","USER_EMAIL"));return(await Ti(De)).docs.map(Be=>Be.data()).slice(0,5)},initialData:[]}),{data:ue}=dt({queryKey:["currentUser"],queryFn:async()=>(dn(Bt),null)}),le=(ue==null?void 0:ue.parental_controls)||{},be=le.focus_operations||[];le.focus_priority;const ge=le.focus_reminder_frequency||"never",me=le.allowed_operations||["addition","subtraction","multiplication","division"],Ie=le.allowed_levels||["easy","medium","hard","expert"],fe=hn(new Date,"yyyy-MM-dd"),Re=((ue==null?void 0:ue.daily_usage_tracking)||{})[fe]||{total_minutes:0,by_operation:{}},he=le.daily_time_limit_minutes||0,ot=le.time_limits_by_operation||{},et=le.enforce_time_limits!==!1,kt=me.includes(s),It=Ie.includes(l),Gt=et&&he>0&&(Re.total_minutes||0)>=he,Kn=et&&s&&ot[s]&&(((Pe=Re.by_operation)==null?void 0:Pe[s])||0)>=ot[s];S.useEffect(()=>{be.length>0&&ge==="every_session"&&!be.includes(s)&&re(!0)},[s,be,ge]),S.useEffect(()=>{Cn(),I(Date.now())},[s,l]),S.useEffect(()=>{if(!_){const ve=setInterval(()=>{N(Math.floor((Date.now()-A)/1e3))},1e3);return()=>clearInterval(ve)}},[A,_]);const Ot=()=>{if(Z.length<3)return null;const ve=Z.map(st=>st.correct_answers/st.total_questions*100),De=ve.reduce((st,Be)=>st+Be,0)/ve.length;return De>=90&&l!=="expert"?"harder":De<60&&l!=="easy"?"easier":null},tn=ve=>{ve==="harder"?l==="easy"?c("medium"):l==="medium"?c("hard"):l==="hard"&&c("expert"):ve==="easier"&&(l==="expert"?c("hard"):l==="hard"?c("medium"):l==="medium"&&c("easy"))},Cn=()=>{const ve=[];for(let De=0;De<W;De++)ve.push(Bs(s,l));p(ve)},wr=(ve,De)=>{let st=ve*5;return De<60?st+=20:De<120&&(st+=10),ve===W&&(st+=30),X.double_coins&&(st*=2),st},fi=Pn({mutationFn:ve=>base44.entities.GameProgress.create(ve),onSuccess:(ve,De)=>{var jt;e.invalidateQueries({queryKey:["gameProgress"]}),e.invalidateQueries({queryKey:["recentProgress"]}),e.invalidateQueries({queryKey:["currentUser"]});const st=De.coins_earned||0,Be=((ue==null?void 0:ue.coins)||0)+st,gt=ue==null?void 0:ue.active_pet;if(gt){const _t=((jt=ue==null?void 0:ue.pet_experience)==null?void 0:jt[gt])||0,fn=De.correct_answers*10,Ir={...(ue==null?void 0:ue.pet_experience)||{},[gt]:_t+fn};base44.auth.updateMe({coins:Be,pet_experience:Ir})}else base44.auth.updateMe({coins:Be})}}),gs=ve=>{const De=ve===m[d].answer;w([...v,{question:d,correct:De}]),De?(g(x+10),C(!0),setTimeout(()=>C(!1),1e3),setTimeout(()=>{kr()},500)):($({question:m[d].question,correctAnswer:m[d].answer,userAnswer:ve,explanation:m[d].explanation}),D(!0))},kr=()=>{if(d<W-1){if(f(d+1),(d+1)%3===0){const ve=Ot();ve&&(K(ve),G(!0),tn(ve),setTimeout(()=>{Cn()},2e3))}}else Hs()},Hs=()=>{const ve=Math.floor((Date.now()-A)/1e3),De=v.filter(fn=>fn.correct).length;let st=x;X.double_stars&&(st*=2);let Be=0;const gt=De/W*100;gt>=90?Be=3:gt>=70?Be=2:gt>=50&&(Be=1),X.double_stars&&Be>0&&(Be=Math.min(Be*2,3));const jt=wr(De,ve),_t={addition:"Practice adding numbers accurately",subtraction:"Practice subtracting numbers accurately",multiplication:"Master multiplication facts and techniques",division:"Understand division and practice calculations",fractions:"Work with fractions - add, subtract, multiply, divide",decimals:"Practice decimal operations",percentages:"Calculate percentages",word_problems:"Apply math to real-world scenarios",money:"Work with dollars and cents",time:"Practice telling time and calculating elapsed time",geometry:"Understand shapes, area, perimeter, and volume",mixed:"Practice multiple operations"};fi.mutate({level:l,operation:s,score:st,correct_answers:De,total_questions:W,time_taken:ve,stars_earned:Be,coins_earned:jt,learning_objective:_t[s]||"Mathematical problem solving"}),setTimeout(()=>{T(!0)},500)},Gs=()=>{D(!1),$(null),kr()};if(!s||!l)return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 text-center",children:[a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Invalid game configuration"}),a.jsx(oe,{onClick:()=>t(Xe("Home")),children:"Go Back Home"})]});if(!kt||!It)return a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsx(te,{className:"border-4 border-red-300 shadow-xl",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(oi,{className:"w-16 h-16 mx-auto mb-4 text-red-500"}),a.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-700",children:"Content Restricted"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:[!kt&&"This math concept is currently restricted by your parent.",!It&&kt&&"This difficulty level is currently restricted by your parent."]}),a.jsxs(oe,{onClick:()=>t(Xe("Home")),children:[a.jsx(sd,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})})});if(Gt||Kn)return a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsx(te,{className:"border-4 border-orange-300 shadow-xl",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(_n,{className:"w-16 h-16 mx-auto mb-4 text-orange-500"}),a.jsx("h2",{className:"text-2xl font-bold mb-4 text-orange-700",children:"Time Limit Reached"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"You've used your allotted time for today. Great job practicing! Come back tomorrow to continue learning."}),a.jsx("div",{className:"text-sm text-gray-500 mb-6",children:"Time resets at midnight "}),a.jsxs(oe,{onClick:()=>t(Xe("Home")),children:[a.jsx(sd,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})})});if(m.length===0)return a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Loading your challenge..."})]})});if(_){const ve=v.filter(De=>De.correct).length;return a.jsx(PNe,{score:x,correctAnswers:ve,totalQuestions:W,timeTaken:E,operation:s,level:l,coinsEarned:wr(ve,E),activePowerUps:X})}const Pi=(d+1)/W*100;return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[P&&a.jsx(OK,{}),O&&L&&a.jsx(CNe,{question:L.question,correctAnswer:L.correctAnswer,userAnswer:L.userAnswer,explanation:L.explanation,operation:s,level:l,onContinue:Gs}),F&&a.jsx(kNe,{adjustment:Y,onClose:()=>G(!1)}),Q&&a.jsxs(Ue,{className:"mb-6 bg-purple-50 border-purple-300",children:[a.jsx(Qt,{className:"w-5 h-5 text-purple-600"}),a.jsxs(ze,{className:"text-purple-800 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Parent Suggestion:"})," Your parent recommends focusing on"," ",be.join(", "),". Try playing those games!"]}),a.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>re(!1),className:"ml-4 text-purple-700 hover:bg-purple-100",children:"Got it"})]})]}),a.jsx(INe,{operation:s}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs(oe,{variant:"outline",onClick:()=>t(Xe("Home")),className:"gap-2",children:[a.jsx(sd,{className:"w-4 h-4"}),"Back"]}),a.jsxs("div",{className:"flex items-center gap-4",children:[Object.keys(X).length>0&&a.jsxs(je,{variant:"outline",className:"text-lg px-4 py-2 bg-yellow-50 border-yellow-300",children:[a.jsx(qr,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Power-Ups Active"]}),a.jsxs(je,{variant:"outline",className:"text-lg px-4 py-2 bg-white",children:[a.jsx(pr,{className:"w-5 h-5 mr-2 text-purple-500"}),"AI Tutor Active"]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-md",children:[a.jsx(_n,{className:"w-5 h-5 text-blue-500"}),a.jsxs("span",{className:"font-bold text-gray-800",children:[E,"s"]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-md",children:[a.jsx(Ct,{className:"w-5 h-5 text-yellow-500"}),a.jsx("span",{className:"font-bold text-gray-800",children:x})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Question ",d+1," of ",W]}),a.jsxs("span",{children:[Math.round(Pi),"%"]})]}),a.jsx(dl,{value:Pi,className:"h-3"})]})]}),m.length>0&&a.jsx(IK,{question:m[d],onAnswer:gs,questionNumber:d+1})]})}function cSe({progress:t}){const e=[{id:"first_game",name:"First Steps",description:"Complete your first game",icon:Nt,color:"from-blue-400 to-blue-600",unlocked:t.length>=1},{id:"ten_games",name:"Practice Makes Perfect",description:"Play 10 games",icon:qr,color:"from-yellow-400 to-orange-600",unlocked:t.length>=10},{id:"perfect_score",name:"Perfect Score",description:"Get 100% on any level",icon:Ct,color:"from-purple-400 to-pink-600",unlocked:t.some(n=>n.correct_answers/n.total_questions===1)},{id:"three_stars",name:"Star Collector",description:"Earn 3 stars in a game",icon:Nt,color:"from-yellow-400 to-yellow-600",unlocked:t.some(n=>n.stars_earned===3)},{id:"speed_demon",name:"Speed Demon",description:"Complete a game in under 60 seconds",icon:Fh,color:"from-red-400 to-orange-600",unlocked:t.some(n=>n.time_taken<60)},{id:"master",name:"Math Master",description:"Complete all operations on hard",icon:Gr,color:"from-indigo-400 to-purple-600",unlocked:["addition","subtraction","multiplication","division"].every(n=>t.some(r=>r.operation===n&&r.level==="hard"&&r.stars_earned>=2))}];return a.jsxs(te,{className:"mb-8",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Gr,{className:"w-6 h-6 text-purple-500"}),"Achievements"]})}),a.jsx(ne,{children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:e.map(n=>{const r=n.icon;return a.jsxs("div",{className:`text-center p-4 rounded-xl border-2 transition-all ${n.unlocked?"bg-gradient-to-br "+n.color+" text-white border-transparent shadow-lg":"bg-gray-100 border-gray-200 opacity-50"}`,children:[a.jsx(r,{className:`w-12 h-12 mx-auto mb-2 ${n.unlocked?"":"text-gray-400"}`}),a.jsx("h4",{className:"font-bold text-sm mb-1",children:n.name}),a.jsx("p",{className:`text-xs ${n.unlocked?"text-white/90":"text-gray-500"}`,children:n.description})]},n.id)})})})]})}var BN,X6;function Ki(){if(X6)return BN;X6=1;var t=Array.isArray;return BN=t,BN}var qN,J6;function DK(){if(J6)return qN;J6=1;var t=typeof Nv=="object"&&Nv&&Nv.Object===Object&&Nv;return qN=t,qN}var UN,Z6;function yo(){if(Z6)return UN;Z6=1;var t=DK(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return UN=n,UN}var zN,eL;function r0(){if(eL)return zN;eL=1;var t=yo(),e=t.Symbol;return zN=e,zN}var WN,tL;function uSe(){if(tL)return WN;tL=1;var t=r0(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var l=n.call(o,i),c=o[i];try{o[i]=void 0;var d=!0}catch{}var f=r.call(o);return d&&(l?o[i]=c:delete o[i]),f}return WN=s,WN}var HN,nL;function dSe(){if(nL)return HN;nL=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return HN=n,HN}var GN,rL;function Sl(){if(rL)return GN;rL=1;var t=r0(),e=uSe(),n=dSe(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:r:s&&s in Object(l)?e(l):n(l)}return GN=o,GN}var KN,iL;function Tl(){if(iL)return KN;iL=1;function t(e){return e!=null&&typeof e=="object"}return KN=t,KN}var YN,sL;function bm(){if(sL)return YN;sL=1;var t=Sl(),e=Tl(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return YN=r,YN}var QN,aL;function uO(){if(aL)return QN;aL=1;var t=Ki(),e=bm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return QN=i,QN}var XN,oL;function nu(){if(oL)return XN;oL=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return XN=t,XN}var JN,lL;function dO(){if(lL)return JN;lL=1;var t=Sl(),e=nu(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==s}return JN=o,JN}var ZN,cL;function hSe(){if(cL)return ZN;cL=1;var t=yo(),e=t["__core-js_shared__"];return ZN=e,ZN}var eS,uL;function fSe(){if(uL)return eS;uL=1;var t=hSe(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return eS=n,eS}var tS,dL;function LK(){if(dL)return tS;dL=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return tS=n,tS}var nS,hL;function mSe(){if(hL)return nS;hL=1;var t=dO(),e=fSe(),n=nu(),r=LK(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,f=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(p){if(!n(p)||e(p))return!1;var v=t(p)?f:s;return v.test(r(p))}return nS=m,nS}var rS,fL;function pSe(){if(fL)return rS;fL=1;function t(e,n){return e==null?void 0:e[n]}return rS=t,rS}var iS,mL;function $d(){if(mL)return iS;mL=1;var t=mSe(),e=pSe();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return iS=n,iS}var sS,pL;function S1(){if(pL)return sS;pL=1;var t=$d(),e=t(Object,"create");return sS=e,sS}var aS,gL;function gSe(){if(gL)return aS;gL=1;var t=S1();function e(){this.__data__=t?t(null):{},this.size=0}return aS=e,aS}var oS,yL;function ySe(){if(yL)return oS;yL=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return oS=t,oS}var lS,vL;function vSe(){if(vL)return lS;vL=1;var t=S1(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var l=o[s];return l===e?void 0:l}return r.call(o,s)?o[s]:void 0}return lS=i,lS}var cS,xL;function xSe(){if(xL)return cS;xL=1;var t=S1(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return cS=r,cS}var uS,bL;function bSe(){if(bL)return uS;bL=1;var t=S1(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return uS=n,uS}var dS,wL;function wSe(){if(wL)return dS;wL=1;var t=gSe(),e=ySe(),n=vSe(),r=xSe(),i=bSe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,dS=s,dS}var hS,_L;function _Se(){if(_L)return hS;_L=1;function t(){this.__data__=[],this.size=0}return hS=t,hS}var fS,jL;function hO(){if(jL)return fS;jL=1;function t(e,n){return e===n||e!==e&&n!==n}return fS=t,fS}var mS,NL;function T1(){if(NL)return mS;NL=1;var t=hO();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return mS=e,mS}var pS,SL;function jSe(){if(SL)return pS;SL=1;var t=T1(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():n.call(s,o,1),--this.size,!0}return pS=r,pS}var gS,TL;function NSe(){if(TL)return gS;TL=1;var t=T1();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return gS=e,gS}var yS,EL;function SSe(){if(EL)return yS;EL=1;var t=T1();function e(n){return t(this.__data__,n)>-1}return yS=e,yS}var vS,AL;function TSe(){if(AL)return vS;AL=1;var t=T1();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return vS=e,vS}var xS,PL;function E1(){if(PL)return xS;PL=1;var t=_Se(),e=jSe(),n=NSe(),r=SSe(),i=TSe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,xS=s,xS}var bS,CL;function fO(){if(CL)return bS;CL=1;var t=$d(),e=yo(),n=t(e,"Map");return bS=n,bS}var wS,kL;function ESe(){if(kL)return wS;kL=1;var t=wSe(),e=E1(),n=fO();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return wS=r,wS}var _S,IL;function ASe(){if(IL)return _S;IL=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return _S=t,_S}var jS,OL;function A1(){if(OL)return jS;OL=1;var t=ASe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return jS=e,jS}var NS,RL;function PSe(){if(RL)return NS;RL=1;var t=A1();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return NS=e,NS}var SS,ML;function CSe(){if(ML)return SS;ML=1;var t=A1();function e(n){return t(this,n).get(n)}return SS=e,SS}var TS,DL;function kSe(){if(DL)return TS;DL=1;var t=A1();function e(n){return t(this,n).has(n)}return TS=e,TS}var ES,LL;function ISe(){if(LL)return ES;LL=1;var t=A1();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return ES=e,ES}var AS,$L;function mO(){if($L)return AS;$L=1;var t=ESe(),e=PSe(),n=CSe(),r=kSe(),i=ISe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,AS=s,AS}var PS,FL;function $K(){if(FL)return PS;FL=1;var t=mO(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var d=r.apply(this,o);return s.cache=c.set(l,d)||c,d};return s.cache=new(n.Cache||t),s}return n.Cache=t,PS=n,PS}var CS,VL;function OSe(){if(VL)return CS;VL=1;var t=$K(),e=500;function n(r){var i=t(r,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return CS=n,CS}var kS,BL;function RSe(){if(BL)return kS;BL=1;var t=OSe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,l,c,d){s.push(c?d.replace(n,"$1"):l||o)}),s});return kS=r,kS}var IS,qL;function pO(){if(qL)return IS;qL=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return IS=t,IS}var OS,UL;function MSe(){if(UL)return OS;UL=1;var t=r0(),e=pO(),n=Ki(),r=bm(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return e(l,o)+"";if(r(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return OS=o,OS}var RS,zL;function FK(){if(zL)return RS;zL=1;var t=MSe();function e(n){return n==null?"":t(n)}return RS=e,RS}var MS,WL;function VK(){if(WL)return MS;WL=1;var t=Ki(),e=uO(),n=RSe(),r=FK();function i(s,o){return t(s)?s:e(s,o)?[s]:n(r(s))}return MS=i,MS}var DS,HL;function P1(){if(HL)return DS;HL=1;var t=bm();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return DS=e,DS}var LS,GL;function gO(){if(GL)return LS;GL=1;var t=VK(),e=P1();function n(r,i){i=t(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[e(i[s++])];return s&&s==o?r:void 0}return LS=n,LS}var $S,KL;function BK(){if(KL)return $S;KL=1;var t=gO();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return $S=e,$S}var DSe=BK();const fs=Jt(DSe);var FS,YL;function LSe(){if(YL)return FS;YL=1;function t(e){return e==null}return FS=t,FS}var $Se=LSe();const mt=Jt($Se);var VS,QL;function FSe(){if(QL)return VS;QL=1;var t=Sl(),e=Ki(),n=Tl(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return VS=i,VS}var VSe=FSe();const wd=Jt(VSe);var BSe=dO();const nt=Jt(BSe);var qSe=nu();const wm=Jt(qSe);var BS={exports:{}},rn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XL;function USe(){if(XL)return rn;XL=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function x(g){if(typeof g=="object"&&g!==null){var _=g.$$typeof;switch(_){case t:switch(g=g.type,g){case n:case i:case r:case d:case f:return g;default:switch(g=g&&g.$$typeof,g){case l:case o:case c:case p:case m:case s:return g;default:return _}}case e:return _}}}return rn.ContextConsumer=o,rn.ContextProvider=s,rn.Element=t,rn.ForwardRef=c,rn.Fragment=n,rn.Lazy=p,rn.Memo=m,rn.Portal=e,rn.Profiler=i,rn.StrictMode=r,rn.Suspense=d,rn.SuspenseList=f,rn.isAsyncMode=function(){return!1},rn.isConcurrentMode=function(){return!1},rn.isContextConsumer=function(g){return x(g)===o},rn.isContextProvider=function(g){return x(g)===s},rn.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===t},rn.isForwardRef=function(g){return x(g)===c},rn.isFragment=function(g){return x(g)===n},rn.isLazy=function(g){return x(g)===p},rn.isMemo=function(g){return x(g)===m},rn.isPortal=function(g){return x(g)===e},rn.isProfiler=function(g){return x(g)===i},rn.isStrictMode=function(g){return x(g)===r},rn.isSuspense=function(g){return x(g)===d},rn.isSuspenseList=function(g){return x(g)===f},rn.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===n||g===i||g===r||g===d||g===f||g===v||typeof g=="object"&&g!==null&&(g.$$typeof===p||g.$$typeof===m||g.$$typeof===s||g.$$typeof===o||g.$$typeof===c||g.$$typeof===w||g.getModuleId!==void 0)},rn.typeOf=x,rn}var JL;function zSe(){return JL||(JL=1,BS.exports=USe()),BS.exports}var WSe=zSe(),qS,ZL;function qK(){if(ZL)return qS;ZL=1;var t=Sl(),e=Tl(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return qS=r,qS}var US,e$;function HSe(){if(e$)return US;e$=1;var t=qK();function e(n){return t(n)&&n!=+n}return US=e,US}var GSe=HSe();const _m=Jt(GSe);var KSe=qK();const YSe=Jt(KSe);var _i=function(e){return e===0?0:e>0?1:-1},Yu=function(e){return wd(e)&&e.indexOf("%")===e.length-1},ke=function(e){return YSe(e)&&!_m(e)},QSe=function(e){return mt(e)},gr=function(e){return ke(e)||wd(e)},XSe=0,Fd=function(e){var n=++XSe;return"".concat(e||"").concat(n)},ji=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&!wd(e))return r;var s;if(Yu(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return _m(s)&&(s=r),i&&s>n&&(s=n),s},pc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},JSe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ln=function(e,n){return ke(e)&&ke(n)?function(r){return e+r*(n-e)}:function(){return n}};function Tb(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):fs(r,e))===n})}var ZSe=function(e,n){return ke(e)&&ke(n)?e-n:wd(e)&&wd(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function cf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function dP(t){"@babel/helpers - typeof";return dP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dP(t)}var e2e=["viewBox","children"],t2e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],t$=["points","pathLength"],zS={svg:e2e,polygon:t$,polyline:t$},yO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Eb=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(S.isValidElement(e)&&(r=e.props),!wm(r))return null;var i={};return Object.keys(r).forEach(function(s){yO.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},n2e=function(e,n,r){return function(i){return e(n,r,i),null}},_d=function(e,n,r){if(!wm(e)||dP(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];yO.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=n2e(o,n,r))}),i},r2e=["children"],i2e=["children"];function n$(t,e){if(t==null)return{};var n=s2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hP(t){"@babel/helpers - typeof";return hP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hP(t)}var r$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},i$=null,WS=null,vO=function t(e){if(e===i$&&Array.isArray(WS))return WS;var n=[];return S.Children.forEach(e,function(r){mt(r)||(WSe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),WS=n,i$=e,n};function ms(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Zo(i)}):r=[Zo(e)],vO(t).forEach(function(i){var s=fs(i,"type.displayName")||fs(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function as(t,e){var n=ms(t,e);return n&&n[0]}var s$=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ke(r)||r<=0||!ke(i)||i<=0)},a2e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],o2e=function(e){return e&&e.type&&wd(e.type)&&a2e.indexOf(e.type)>=0},UK=function(e){return e&&hP(e)==="object"&&"clipDot"in e},l2e=function(e,n,r,i){var s,o=(s=zS==null?void 0:zS[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!nt(e)&&(i&&o.includes(n)||t2e.includes(n))||r&&yO.includes(n)},Ye=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(S.isValidElement(e)&&(i=e.props),!wm(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;l2e((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(s[o]=i[o])}),s},fP=function t(e,n){if(e===n)return!0;var r=S.Children.count(e);if(r!==S.Children.count(n))return!1;if(r===0)return!0;if(r===1)return a$(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!a$(s,o))return!1}return!0},a$=function(e,n){if(mt(e)&&mt(n))return!0;if(!mt(e)&&!mt(n)){var r=e.props||{},i=r.children,s=n$(r,r2e),o=n.props||{},l=o.children,c=n$(o,i2e);return i&&l?cf(s,c)&&fP(i,l):!i&&!l?cf(s,c):!1}return!1},o$=function(e,n){var r=[],i={};return vO(e).forEach(function(s,o){if(o2e(s))r.push(s);else if(s){var l=Zo(s.type),c=n[l]||{},d=c.handler,f=c.once;if(d&&(!f||!i[l])){var m=d(s,l,o);r.push(m),i[l]=!0}}}),r},c2e=function(e){var n=e&&e.type;return n&&r$[n]?r$[n]:null},u2e=function(e,n){return vO(n).indexOf(e)},d2e=["children","width","height","viewBox","className","style","title","desc"];function mP(){return mP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mP.apply(this,arguments)}function h2e(t,e){if(t==null)return{};var n=f2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function f2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pP(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,d=h2e(t,d2e),f=i||{width:n,height:r,x:0,y:0},m=ht("recharts-surface",s);return z.createElement("svg",mP({},Ye(d,!0,"svg"),{className:m,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),z.createElement("title",null,l),z.createElement("desc",null,c),e)}var m2e=["children","className"];function gP(){return gP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gP.apply(this,arguments)}function p2e(t,e){if(t==null)return{};var n=g2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function g2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Tt=z.forwardRef(function(t,e){var n=t.children,r=t.className,i=p2e(t,m2e),s=ht("recharts-layer",r);return z.createElement("g",gP({className:s},Ye(i,!0),{ref:e}),n)}),ha=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},HS,l$;function y2e(){if(l$)return HS;l$=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+n];return o}return HS=t,HS}var GS,c$;function v2e(){if(c$)return GS;c$=1;var t=y2e();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return GS=e,GS}var KS,u$;function zK(){if(u$)return KS;u$=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+s+"]");function c(d){return l.test(d)}return KS=c,KS}var YS,d$;function x2e(){if(d$)return YS;d$=1;function t(e){return e.split("")}return YS=t,YS}var QS,h$;function b2e(){if(h$)return QS;h$=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",f="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",w=d+"?",x="["+s+"]?",g="(?:"+v+"(?:"+[f,m,p].join("|")+")"+x+w+")*",_=x+w+g,T="(?:"+[f+l+"?",l,m,p,o].join("|")+")",A=RegExp(c+"(?="+c+")|"+T+_,"g");function I(P){return P.match(A)||[]}return QS=I,QS}var XS,f$;function w2e(){if(f$)return XS;f$=1;var t=x2e(),e=zK(),n=b2e();function r(i){return e(i)?n(i):t(i)}return XS=r,XS}var JS,m$;function _2e(){if(m$)return JS;m$=1;var t=v2e(),e=zK(),n=w2e(),r=FK();function i(s){return function(o){o=r(o);var l=e(o)?n(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[s]()+d}}return JS=i,JS}var ZS,p$;function j2e(){if(p$)return ZS;p$=1;var t=_2e(),e=t("toUpperCase");return ZS=e,ZS}var N2e=j2e();const C1=Jt(N2e);function bn(t){return function(){return t}}const WK=Math.cos,Ab=Math.sin,ja=Math.sqrt,Pb=Math.PI,k1=2*Pb,yP=Math.PI,vP=2*yP,qu=1e-6,S2e=vP-qu;function HK(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function T2e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return HK;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class E2e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?HK:T2e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=r-e,d=i-n,f=o-e,m=l-n,p=f*f+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>qu)if(!(Math.abs(m*c-d*f)>qu)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-o,w=i-l,x=c*c+d*d,g=v*v+w*w,_=Math.sqrt(x),T=Math.sqrt(p),A=s*Math.tan((yP-Math.acos((x+p-g)/(2*_*T)))/2),I=A/T,P=A/_;Math.abs(I-1)>qu&&this._append`L${e+I*f},${n+I*m}`,this._append`A${s},${s},0,0,${+(m*v>f*w)},${this._x1=e+P*c},${this._y1=n+P*d}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=e+l,f=n+c,m=1^o,p=o?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>qu||Math.abs(this._y1-f)>qu)&&this._append`L${d},${f}`,r&&(p<0&&(p=p%vP+vP),p>S2e?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=f}`:p>qu&&this._append`A${r},${r},0,${+(p>=yP)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function xO(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new E2e(e)}function bO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function GK(t){this._context=t}GK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function I1(t){return new GK(t)}function KK(t){return t[0]}function YK(t){return t[1]}function QK(t,e){var n=bn(!0),r=null,i=I1,s=null,o=xO(l);t=typeof t=="function"?t:t===void 0?KK:bn(t),e=typeof e=="function"?e:e===void 0?YK:bn(e);function l(c){var d,f=(c=bO(c)).length,m,p=!1,v;for(r==null&&(s=i(v=o())),d=0;d<=f;++d)!(d<f&&n(m=c[d],d,c))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(m,d,c),+e(m,d,c));if(v)return s=null,v+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:bn(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:bn(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:bn(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function Yv(t,e,n){var r=null,i=bn(!0),s=null,o=I1,l=null,c=xO(d);t=typeof t=="function"?t:t===void 0?KK:bn(+t),e=typeof e=="function"?e:bn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?YK:bn(+n);function d(m){var p,v,w,x=(m=bO(m)).length,g,_=!1,T,A=new Array(x),I=new Array(x);for(s==null&&(l=o(T=c())),p=0;p<=x;++p){if(!(p<x&&i(g=m[p],p,m))===_)if(_=!_)v=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=p-1;w>=v;--w)l.point(A[w],I[w]);l.lineEnd(),l.areaEnd()}_&&(A[p]=+t(g,p,m),I[p]=+e(g,p,m),l.point(r?+r(g,p,m):A[p],n?+n(g,p,m):I[p]))}if(T)return l=null,T+""||null}function f(){return QK().defined(i).curve(o).context(s)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:bn(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:bn(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:bn(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:bn(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:bn(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:bn(+m),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:bn(!!m),d):i},d.curve=function(m){return arguments.length?(o=m,s!=null&&(l=o(s)),d):o},d.context=function(m){return arguments.length?(m==null?s=l=null:l=o(s=m),d):s},d}class XK{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function A2e(t){return new XK(t,!0)}function P2e(t){return new XK(t,!1)}const wO={draw(t,e){const n=ja(e/Pb);t.moveTo(n,0),t.arc(0,0,n,0,k1)}},C2e={draw(t,e){const n=ja(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},JK=ja(1/3),k2e=JK*2,I2e={draw(t,e){const n=ja(e/k2e),r=n*JK;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},O2e={draw(t,e){const n=ja(e),r=-n/2;t.rect(r,r,n,n)}},R2e=.8908130915292852,ZK=Ab(Pb/10)/Ab(7*Pb/10),M2e=Ab(k1/10)*ZK,D2e=-WK(k1/10)*ZK,L2e={draw(t,e){const n=ja(e*R2e),r=M2e*n,i=D2e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=k1*s/5,l=WK(o),c=Ab(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},e2=ja(3),$2e={draw(t,e){const n=-ja(e/(e2*3));t.moveTo(0,n*2),t.lineTo(-e2*n,-n),t.lineTo(e2*n,-n),t.closePath()}},As=-.5,Ps=ja(3)/2,xP=1/ja(12),F2e=(xP/2+1)*3,V2e={draw(t,e){const n=ja(e/F2e),r=n/2,i=n*xP,s=r,o=n*xP+n,l=-s,c=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(As*r-Ps*i,Ps*r+As*i),t.lineTo(As*s-Ps*o,Ps*s+As*o),t.lineTo(As*l-Ps*c,Ps*l+As*c),t.lineTo(As*r+Ps*i,As*i-Ps*r),t.lineTo(As*s+Ps*o,As*o-Ps*s),t.lineTo(As*l+Ps*c,As*c-Ps*l),t.closePath()}};function B2e(t,e){let n=null,r=xO(i);t=typeof t=="function"?t:bn(t||wO),e=typeof e=="function"?e:bn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:bn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:bn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Cb(){}function kb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function eY(t){this._context=t}eY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function q2e(t){return new eY(t)}function tY(t){this._context=t}tY.prototype={areaStart:Cb,areaEnd:Cb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:kb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function U2e(t){return new tY(t)}function nY(t){this._context=t}nY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:kb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function z2e(t){return new nY(t)}function rY(t){this._context=t}rY.prototype={areaStart:Cb,areaEnd:Cb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function W2e(t){return new rY(t)}function g$(t){return t<0?-1:1}function y$(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(s*i+o*r)/(r+i);return(g$(s)+g$(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function v$(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function t2(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,o-l*n,s,o)}function Ib(t){this._context=t}Ib.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:t2(this,this._t0,v$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,t2(this,v$(this,n=y$(this,t,e)),n);break;default:t2(this,this._t0,n=y$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function iY(t){this._context=new sY(t)}(iY.prototype=Object.create(Ib.prototype)).point=function(t,e){Ib.prototype.point.call(this,e,t)};function sY(t){this._context=t}sY.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function H2e(t){return new Ib(t)}function G2e(t){return new iY(t)}function aY(t){this._context=t}aY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=x$(t),i=x$(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function x$(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function K2e(t){return new aY(t)}function O1(t,e){this._context=t,this._t=e}O1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Y2e(t){return new O1(t,.5)}function Q2e(t){return new O1(t,0)}function X2e(t){return new O1(t,1)}function Pf(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,l=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function bP(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function J2e(t,e){return t[e]}function Z2e(t){const e=[];return e.key=t,e}function eTe(){var t=bn([]),e=bP,n=Pf,r=J2e;function i(s){var o=Array.from(t.apply(this,arguments),Z2e),l,c=o.length,d=-1,f;for(const m of s)for(l=0,++d;l<c;++l)(o[l][d]=[0,+r(m,o[l].key,d,s)]).data=m;for(l=0,f=bO(e(o));l<c;++l)o[f[l]].index=l;return n(o,f),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:bn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:bn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?bP:typeof s=="function"?s:bn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Pf,i):n},i}function tTe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Pf(t,e)}}function nTe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Pf(t,e)}}function rTe(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var l=0,c=0,d=0;l<o;++l){for(var f=t[e[l]],m=f[r][1]||0,p=f[r-1][1]||0,v=(m-p)/2,w=0;w<l;++w){var x=t[e[w]],g=x[r][1]||0,_=x[r-1][1]||0;v+=g-_}c+=m,d+=v*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Pf(t,e)}}function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}var iTe=["type","size","sizeType"];function wP(){return wP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wP.apply(this,arguments)}function b$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b$(Object(n),!0).forEach(function(r){sTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sTe(t,e,n){return e=aTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aTe(t){var e=oTe(t,"string");return zg(e)=="symbol"?e:e+""}function oTe(t,e){if(zg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lTe(t,e){if(t==null)return{};var n=cTe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var oY={symbolCircle:wO,symbolCross:C2e,symbolDiamond:I2e,symbolSquare:O2e,symbolStar:L2e,symbolTriangle:$2e,symbolWye:V2e},uTe=Math.PI/180,dTe=function(e){var n="symbol".concat(C1(e));return oY[n]||wO},hTe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*uTe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},fTe=function(e,n){oY["symbol".concat(C1(e))]=n},_O=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=lTe(e,iTe),d=w$(w$({},c),{},{type:r,size:s,sizeType:l}),f=function(){var g=dTe(r),_=B2e().type(g).size(hTe(s,l,r));return _()},m=d.className,p=d.cx,v=d.cy,w=Ye(d,!0);return p===+p&&v===+v&&s===+s?z.createElement("path",wP({},w,{className:ht("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(v,")"),d:f()})):null};_O.registerSymbol=fTe;function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function _P(){return _P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_P.apply(this,arguments)}function _$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_$(Object(n),!0).forEach(function(r){Wg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cY(r.key),r)}}function yTe(t,e,n){return e&&gTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vTe(t,e,n){return e=Ob(e),xTe(t,lY()?Reflect.construct(e,n||[],Ob(t).constructor):e.apply(t,n))}function xTe(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bTe(t)}function bTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lY=function(){return!!t})()}function Ob(t){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ob(t)}function wTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jP(t,e)}function jP(t,e){return jP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jP(t,e)}function Wg(t,e,n){return e=cY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cY(t){var e=_Te(t,"string");return Cf(e)=="symbol"?e:e+""}function _Te(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cs=32,jO=(function(t){function e(){return pTe(this,e),vTe(this,e,arguments)}return wTe(e,t),yTe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Cs/2,o=Cs/6,l=Cs/3,c=r.inactive?i:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Cs,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Cs,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Cs/8,"h").concat(Cs,"v").concat(Cs*3/4,"h").concat(-Cs,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var d=mTe({},r);return delete d.legendIcon,z.cloneElement(r.legendIcon,d)}return z.createElement(_O,{fill:c,cx:s,cy:s,size:Cs,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,f={x:0,y:0,width:Cs,height:Cs},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,w){var x=v.formatter||c,g=ht(Wg(Wg({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",v.inactive));if(v.type==="none")return null;var _=nt(v.value)?null:v.value;ha(!nt(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=v.inactive?d:v.color;return z.createElement("li",_P({className:g,style:m,key:"legend-item-".concat(w)},_d(r.props,v,w)),z.createElement(pP,{width:o,height:o,viewBox:f,style:p},r.renderIcon(v)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},x?x(_,v,w):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(S.PureComponent);Wg(jO,"displayName","Legend");Wg(jO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var n2,j$;function jTe(){if(j$)return n2;j$=1;var t=E1();function e(){this.__data__=new t,this.size=0}return n2=e,n2}var r2,N$;function NTe(){if(N$)return r2;N$=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return r2=t,r2}var i2,S$;function STe(){if(S$)return i2;S$=1;function t(e){return this.__data__.get(e)}return i2=t,i2}var s2,T$;function TTe(){if(T$)return s2;T$=1;function t(e){return this.__data__.has(e)}return s2=t,s2}var a2,E$;function ETe(){if(E$)return a2;E$=1;var t=E1(),e=fO(),n=mO(),r=200;function i(s,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(s,o),this.size=l.size,this}return a2=i,a2}var o2,A$;function uY(){if(A$)return o2;A$=1;var t=E1(),e=jTe(),n=NTe(),r=STe(),i=TTe(),s=ETe();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,o2=o,o2}var l2,P$;function ATe(){if(P$)return l2;P$=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return l2=e,l2}var c2,C$;function PTe(){if(C$)return c2;C$=1;function t(e){return this.__data__.has(e)}return c2=t,c2}var u2,k$;function dY(){if(k$)return u2;k$=1;var t=mO(),e=ATe(),n=PTe();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,u2=r,u2}var d2,I$;function hY(){if(I$)return d2;I$=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return d2=t,d2}var h2,O$;function fY(){if(O$)return h2;O$=1;function t(e,n){return e.has(n)}return h2=t,h2}var f2,R$;function mY(){if(R$)return f2;R$=1;var t=dY(),e=hY(),n=fY(),r=1,i=2;function s(o,l,c,d,f,m){var p=c&r,v=o.length,w=l.length;if(v!=w&&!(p&&w>v))return!1;var x=m.get(o),g=m.get(l);if(x&&g)return x==l&&g==o;var _=-1,T=!0,A=c&i?new t:void 0;for(m.set(o,l),m.set(l,o);++_<v;){var I=o[_],P=l[_];if(d)var C=p?d(P,I,_,l,o,m):d(I,P,_,o,l,m);if(C!==void 0){if(C)continue;T=!1;break}if(A){if(!e(l,function(E,N){if(!n(A,N)&&(I===E||f(I,E,c,d,m)))return A.push(N)})){T=!1;break}}else if(!(I===P||f(I,P,c,d,m))){T=!1;break}}return m.delete(o),m.delete(l),T}return f2=s,f2}var m2,M$;function CTe(){if(M$)return m2;M$=1;var t=yo(),e=t.Uint8Array;return m2=e,m2}var p2,D$;function kTe(){if(D$)return p2;D$=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return p2=t,p2}var g2,L$;function NO(){if(L$)return g2;L$=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return g2=t,g2}var y2,$$;function ITe(){if($$)return y2;$$=1;var t=r0(),e=CTe(),n=hO(),r=mY(),i=kTe(),s=NO(),o=1,l=2,c="[object Boolean]",d="[object Date]",f="[object Error]",m="[object Map]",p="[object Number]",v="[object RegExp]",w="[object Set]",x="[object String]",g="[object Symbol]",_="[object ArrayBuffer]",T="[object DataView]",A=t?t.prototype:void 0,I=A?A.valueOf:void 0;function P(C,E,N,O,D,L,$){switch(N){case T:if(C.byteLength!=E.byteLength||C.byteOffset!=E.byteOffset)return!1;C=C.buffer,E=E.buffer;case _:return!(C.byteLength!=E.byteLength||!L(new e(C),new e(E)));case c:case d:case p:return n(+C,+E);case f:return C.name==E.name&&C.message==E.message;case v:case x:return C==E+"";case m:var F=i;case w:var G=O&o;if(F||(F=s),C.size!=E.size&&!G)return!1;var Y=$.get(C);if(Y)return Y==E;O|=l,$.set(C,E);var K=r(F(C),F(E),O,D,L,$);return $.delete(C),K;case g:if(I)return I.call(C)==I.call(E)}return!1}return y2=P,y2}var v2,F$;function pY(){if(F$)return v2;F$=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return v2=t,v2}var x2,V$;function OTe(){if(V$)return x2;V$=1;var t=pY(),e=Ki();function n(r,i,s){var o=i(r);return e(r)?o:t(o,s(r))}return x2=n,x2}var b2,B$;function RTe(){if(B$)return b2;B$=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var l=e[r];n(l,r,e)&&(o[s++]=l)}return o}return b2=t,b2}var w2,q$;function MTe(){if(q$)return w2;q$=1;function t(){return[]}return w2=t,w2}var _2,U$;function DTe(){if(U$)return _2;U$=1;var t=RTe(),e=MTe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return r.call(o,l)}))}:e;return _2=s,_2}var j2,z$;function LTe(){if(z$)return j2;z$=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return j2=t,j2}var N2,W$;function $Te(){if(W$)return N2;W$=1;var t=Sl(),e=Tl(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return N2=r,N2}var S2,H$;function SO(){if(H$)return S2;H$=1;var t=$Te(),e=Tl(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return S2=s,S2}var Gp={exports:{}},T2,G$;function FTe(){if(G$)return T2;G$=1;function t(){return!1}return T2=t,T2}Gp.exports;var K$;function gY(){return K$||(K$=1,(function(t,e){var n=yo(),r=FTe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||r;t.exports=d})(Gp,Gp.exports)),Gp.exports}var E2,Y$;function TO(){if(Y$)return E2;Y$=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return E2=n,E2}var A2,Q$;function EO(){if(Q$)return A2;Q$=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return A2=e,A2}var P2,X$;function VTe(){if(X$)return P2;X$=1;var t=Sl(),e=EO(),n=Tl(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",m="[object Object]",p="[object RegExp]",v="[object Set]",w="[object String]",x="[object WeakMap]",g="[object ArrayBuffer]",_="[object DataView]",T="[object Float32Array]",A="[object Float64Array]",I="[object Int8Array]",P="[object Int16Array]",C="[object Int32Array]",E="[object Uint8Array]",N="[object Uint8ClampedArray]",O="[object Uint16Array]",D="[object Uint32Array]",L={};L[T]=L[A]=L[I]=L[P]=L[C]=L[E]=L[N]=L[O]=L[D]=!0,L[r]=L[i]=L[g]=L[s]=L[_]=L[o]=L[l]=L[c]=L[d]=L[f]=L[m]=L[p]=L[v]=L[w]=L[x]=!1;function $(F){return n(F)&&e(F.length)&&!!L[t(F)]}return P2=$,P2}var C2,J$;function yY(){if(J$)return C2;J$=1;function t(e){return function(n){return e(n)}}return C2=t,C2}var Kp={exports:{}};Kp.exports;var Z$;function BTe(){return Z$||(Z$=1,(function(t,e){var n=DK(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(Kp,Kp.exports)),Kp.exports}var k2,eF;function vY(){if(eF)return k2;eF=1;var t=VTe(),e=yY(),n=BTe(),r=n&&n.isTypedArray,i=r?e(r):t;return k2=i,k2}var I2,tF;function qTe(){if(tF)return I2;tF=1;var t=LTe(),e=SO(),n=Ki(),r=gY(),i=TO(),s=vY(),o=Object.prototype,l=o.hasOwnProperty;function c(d,f){var m=n(d),p=!m&&e(d),v=!m&&!p&&r(d),w=!m&&!p&&!v&&s(d),x=m||p||v||w,g=x?t(d.length,String):[],_=g.length;for(var T in d)(f||l.call(d,T))&&!(x&&(T=="length"||v&&(T=="offset"||T=="parent")||w&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||i(T,_)))&&g.push(T);return g}return I2=c,I2}var O2,nF;function UTe(){if(nF)return O2;nF=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return O2=e,O2}var R2,rF;function xY(){if(rF)return R2;rF=1;function t(e,n){return function(r){return e(n(r))}}return R2=t,R2}var M2,iF;function zTe(){if(iF)return M2;iF=1;var t=xY(),e=t(Object.keys,Object);return M2=e,M2}var D2,sF;function WTe(){if(sF)return D2;sF=1;var t=UTe(),e=zTe(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var l in Object(s))r.call(s,l)&&l!="constructor"&&o.push(l);return o}return D2=i,D2}var L2,aF;function i0(){if(aF)return L2;aF=1;var t=dO(),e=EO();function n(r){return r!=null&&e(r.length)&&!t(r)}return L2=n,L2}var $2,oF;function R1(){if(oF)return $2;oF=1;var t=qTe(),e=WTe(),n=i0();function r(i){return n(i)?t(i):e(i)}return $2=r,$2}var F2,lF;function HTe(){if(lF)return F2;lF=1;var t=OTe(),e=DTe(),n=R1();function r(i){return t(i,n,e)}return F2=r,F2}var V2,cF;function GTe(){if(cF)return V2;cF=1;var t=HTe(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,l,c,d,f){var m=l&e,p=t(s),v=p.length,w=t(o),x=w.length;if(v!=x&&!m)return!1;for(var g=v;g--;){var _=p[g];if(!(m?_ in o:r.call(o,_)))return!1}var T=f.get(s),A=f.get(o);if(T&&A)return T==o&&A==s;var I=!0;f.set(s,o),f.set(o,s);for(var P=m;++g<v;){_=p[g];var C=s[_],E=o[_];if(c)var N=m?c(E,C,_,o,s,f):c(C,E,_,s,o,f);if(!(N===void 0?C===E||d(C,E,l,c,f):N)){I=!1;break}P||(P=_=="constructor")}if(I&&!P){var O=s.constructor,D=o.constructor;O!=D&&"constructor"in s&&"constructor"in o&&!(typeof O=="function"&&O instanceof O&&typeof D=="function"&&D instanceof D)&&(I=!1)}return f.delete(s),f.delete(o),I}return V2=i,V2}var B2,uF;function KTe(){if(uF)return B2;uF=1;var t=$d(),e=yo(),n=t(e,"DataView");return B2=n,B2}var q2,dF;function YTe(){if(dF)return q2;dF=1;var t=$d(),e=yo(),n=t(e,"Promise");return q2=n,q2}var U2,hF;function bY(){if(hF)return U2;hF=1;var t=$d(),e=yo(),n=t(e,"Set");return U2=n,U2}var z2,fF;function QTe(){if(fF)return z2;fF=1;var t=$d(),e=yo(),n=t(e,"WeakMap");return z2=n,z2}var W2,mF;function XTe(){if(mF)return W2;mF=1;var t=KTe(),e=fO(),n=YTe(),r=bY(),i=QTe(),s=Sl(),o=LK(),l="[object Map]",c="[object Object]",d="[object Promise]",f="[object Set]",m="[object WeakMap]",p="[object DataView]",v=o(t),w=o(e),x=o(n),g=o(r),_=o(i),T=s;return(t&&T(new t(new ArrayBuffer(1)))!=p||e&&T(new e)!=l||n&&T(n.resolve())!=d||r&&T(new r)!=f||i&&T(new i)!=m)&&(T=function(A){var I=s(A),P=I==c?A.constructor:void 0,C=P?o(P):"";if(C)switch(C){case v:return p;case w:return l;case x:return d;case g:return f;case _:return m}return I}),W2=T,W2}var H2,pF;function JTe(){if(pF)return H2;pF=1;var t=uY(),e=mY(),n=ITe(),r=GTe(),i=XTe(),s=Ki(),o=gY(),l=vY(),c=1,d="[object Arguments]",f="[object Array]",m="[object Object]",p=Object.prototype,v=p.hasOwnProperty;function w(x,g,_,T,A,I){var P=s(x),C=s(g),E=P?f:i(x),N=C?f:i(g);E=E==d?m:E,N=N==d?m:N;var O=E==m,D=N==m,L=E==N;if(L&&o(x)){if(!o(g))return!1;P=!0,O=!1}if(L&&!O)return I||(I=new t),P||l(x)?e(x,g,_,T,A,I):n(x,g,E,_,T,A,I);if(!(_&c)){var $=O&&v.call(x,"__wrapped__"),F=D&&v.call(g,"__wrapped__");if($||F){var G=$?x.value():x,Y=F?g.value():g;return I||(I=new t),A(G,Y,_,T,I)}}return L?(I||(I=new t),r(x,g,_,T,A,I)):!1}return H2=w,H2}var G2,gF;function AO(){if(gF)return G2;gF=1;var t=JTe(),e=Tl();function n(r,i,s,o,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,o,n,l)}return G2=n,G2}var K2,yF;function ZTe(){if(yF)return K2;yF=1;var t=uY(),e=AO(),n=1,r=2;function i(s,o,l,c){var d=l.length,f=d,m=!c;if(s==null)return!f;for(s=Object(s);d--;){var p=l[d];if(m&&p[2]?p[1]!==s[p[0]]:!(p[0]in s))return!1}for(;++d<f;){p=l[d];var v=p[0],w=s[v],x=p[1];if(m&&p[2]){if(w===void 0&&!(v in s))return!1}else{var g=new t;if(c)var _=c(w,x,v,s,o,g);if(!(_===void 0?e(x,w,n|r,c,g):_))return!1}}return!0}return K2=i,K2}var Y2,vF;function wY(){if(vF)return Y2;vF=1;var t=nu();function e(n){return n===n&&!t(n)}return Y2=e,Y2}var Q2,xF;function eEe(){if(xF)return Q2;xF=1;var t=wY(),e=R1();function n(r){for(var i=e(r),s=i.length;s--;){var o=i[s],l=r[o];i[s]=[o,l,t(l)]}return i}return Q2=n,Q2}var X2,bF;function _Y(){if(bF)return X2;bF=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return X2=t,X2}var J2,wF;function tEe(){if(wF)return J2;wF=1;var t=ZTe(),e=eEe(),n=_Y();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return J2=r,J2}var Z2,_F;function nEe(){if(_F)return Z2;_F=1;function t(e,n){return e!=null&&n in Object(e)}return Z2=t,Z2}var eT,jF;function rEe(){if(jF)return eT;jF=1;var t=VK(),e=SO(),n=Ki(),r=TO(),i=EO(),s=P1();function o(l,c,d){c=t(c,l);for(var f=-1,m=c.length,p=!1;++f<m;){var v=s(c[f]);if(!(p=l!=null&&d(l,v)))break;l=l[v]}return p||++f!=m?p:(m=l==null?0:l.length,!!m&&i(m)&&r(v,m)&&(n(l)||e(l)))}return eT=o,eT}var tT,NF;function iEe(){if(NF)return tT;NF=1;var t=nEe(),e=rEe();function n(r,i){return r!=null&&e(r,i,t)}return tT=n,tT}var nT,SF;function sEe(){if(SF)return nT;SF=1;var t=AO(),e=BK(),n=iEe(),r=uO(),i=wY(),s=_Y(),o=P1(),l=1,c=2;function d(f,m){return r(f)&&i(m)?s(o(f),m):function(p){var v=e(p,f);return v===void 0&&v===m?n(p,f):t(m,v,l|c)}}return nT=d,nT}var rT,TF;function jm(){if(TF)return rT;TF=1;function t(e){return e}return rT=t,rT}var iT,EF;function aEe(){if(EF)return iT;EF=1;function t(e){return function(n){return n==null?void 0:n[e]}}return iT=t,iT}var sT,AF;function oEe(){if(AF)return sT;AF=1;var t=gO();function e(n){return function(r){return t(r,n)}}return sT=e,sT}var aT,PF;function lEe(){if(PF)return aT;PF=1;var t=aEe(),e=oEe(),n=uO(),r=P1();function i(s){return n(s)?t(r(s)):e(s)}return aT=i,aT}var oT,CF;function vo(){if(CF)return oT;CF=1;var t=tEe(),e=sEe(),n=jm(),r=Ki(),i=lEe();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return oT=s,oT}var lT,kF;function jY(){if(kF)return lT;kF=1;function t(e,n,r,i){for(var s=e.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(e[o],o,e))return o;return-1}return lT=t,lT}var cT,IF;function cEe(){if(IF)return cT;IF=1;function t(e){return e!==e}return cT=t,cT}var uT,OF;function uEe(){if(OF)return uT;OF=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return uT=t,uT}var dT,RF;function dEe(){if(RF)return dT;RF=1;var t=jY(),e=cEe(),n=uEe();function r(i,s,o){return s===s?n(i,s,o):t(i,e,o)}return dT=r,dT}var hT,MF;function hEe(){if(MF)return hT;MF=1;var t=dEe();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return hT=e,hT}var fT,DF;function fEe(){if(DF)return fT;DF=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return fT=t,fT}var mT,LF;function mEe(){if(LF)return mT;LF=1;function t(){}return mT=t,mT}var pT,$F;function pEe(){if($F)return pT;$F=1;var t=bY(),e=mEe(),n=NO(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return pT=i,pT}var gT,FF;function gEe(){if(FF)return gT;FF=1;var t=dY(),e=hEe(),n=fEe(),r=fY(),i=pEe(),s=NO(),o=200;function l(c,d,f){var m=-1,p=e,v=c.length,w=!0,x=[],g=x;if(f)w=!1,p=n;else if(v>=o){var _=d?null:i(c);if(_)return s(_);w=!1,p=r,g=new t}else g=d?[]:x;e:for(;++m<v;){var T=c[m],A=d?d(T):T;if(T=f||T!==0?T:0,w&&A===A){for(var I=g.length;I--;)if(g[I]===A)continue e;d&&g.push(A),x.push(T)}else p(g,A,f)||(g!==x&&g.push(A),x.push(T))}return x}return gT=l,gT}var yT,VF;function yEe(){if(VF)return yT;VF=1;var t=vo(),e=gEe();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return yT=n,yT}var vEe=yEe();const BF=Jt(vEe);function NY(t,e,n){return e===!0?BF(t,n):nt(e)?BF(t,e):t}function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}var xEe=["ref"];function qF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(n),!0).forEach(function(r){M1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TY(r.key),r)}}function wEe(t,e,n){return e&&UF(t.prototype,e),n&&UF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ee(t,e,n){return e=Rb(e),jEe(t,SY()?Reflect.construct(e,n||[],Rb(t).constructor):e.apply(t,n))}function jEe(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NEe(t)}function NEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SY=function(){return!!t})()}function Rb(t){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rb(t)}function SEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NP(t,e)}function NP(t,e){return NP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NP(t,e)}function M1(t,e,n){return e=TY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TY(t){var e=TEe(t,"string");return kf(e)=="symbol"?e:e+""}function TEe(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function EEe(t,e){if(t==null)return{};var n=AEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PEe(t){return t.value}function CEe(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var n=EEe(e,xEe);return z.createElement(jO,n)}var zF=1,Hi=(function(t){function e(){var n;bEe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=_Ee(this,e,[].concat(i)),M1(n,"lastBoundingBox",{width:-1,height:-1}),n}return SEe(e,t),wEe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>zF||Math.abs(i.height-this.lastBoundingBox.height)>zF)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Lo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,f=i.chartHeight,m,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();m={left:((d||0)-v.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();p={top:((f||0)-w.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Lo(Lo({},m),p)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,f=i.payload,m=Lo(Lo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){r.wrapperNode=v}},CEe(s,Lo(Lo({},this.props),{},{payload:NY(f,d,PEe)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Lo(Lo({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&ke(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(S.PureComponent);M1(Hi,"displayName","Legend");M1(Hi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var vT,WF;function kEe(){if(WF)return vT;WF=1;var t=r0(),e=SO(),n=Ki(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return vT=i,vT}var xT,HF;function EY(){if(HF)return xT;HF=1;var t=pY(),e=kEe();function n(r,i,s,o,l){var c=-1,d=r.length;for(s||(s=e),l||(l=[]);++c<d;){var f=r[c];i>0&&s(f)?i>1?n(f,i-1,s,o,l):t(l,f):o||(l[l.length]=f)}return l}return xT=n,xT}var bT,GF;function IEe(){if(GF)return bT;GF=1;function t(e){return function(n,r,i){for(var s=-1,o=Object(n),l=i(n),c=l.length;c--;){var d=l[e?c:++s];if(r(o[d],d,o)===!1)break}return n}}return bT=t,bT}var wT,KF;function OEe(){if(KF)return wT;KF=1;var t=IEe(),e=t();return wT=e,wT}var _T,YF;function AY(){if(YF)return _T;YF=1;var t=OEe(),e=R1();function n(r,i){return r&&t(r,i,e)}return _T=n,_T}var jT,QF;function REe(){if(QF)return jT;QF=1;var t=i0();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var o=i.length,l=r?o:-1,c=Object(i);(r?l--:++l<o)&&s(c[l],l,c)!==!1;);return i}}return jT=e,jT}var NT,XF;function PO(){if(XF)return NT;XF=1;var t=AY(),e=REe(),n=e(t);return NT=n,NT}var ST,JF;function PY(){if(JF)return ST;JF=1;var t=PO(),e=i0();function n(r,i){var s=-1,o=e(r)?Array(r.length):[];return t(r,function(l,c,d){o[++s]=i(l,c,d)}),o}return ST=n,ST}var TT,ZF;function MEe(){if(ZF)return TT;ZF=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return TT=t,TT}var ET,eV;function DEe(){if(eV)return ET;eV=1;var t=bm();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,o=n===n,l=t(n),c=r!==void 0,d=r===null,f=r===r,m=t(r);if(!d&&!m&&!l&&n>r||l&&c&&f&&!d&&!m||s&&c&&f||!i&&f||!o)return 1;if(!s&&!l&&!m&&n<r||m&&i&&o&&!s&&!l||d&&i&&o||!c&&o||!f)return-1}return 0}return ET=e,ET}var AT,tV;function LEe(){if(tV)return AT;tV=1;var t=DEe();function e(n,r,i){for(var s=-1,o=n.criteria,l=r.criteria,c=o.length,d=i.length;++s<c;){var f=t(o[s],l[s]);if(f){if(s>=d)return f;var m=i[s];return f*(m=="desc"?-1:1)}}return n.index-r.index}return AT=e,AT}var PT,nV;function $Ee(){if(nV)return PT;nV=1;var t=pO(),e=gO(),n=vo(),r=PY(),i=MEe(),s=yY(),o=LEe(),l=jm(),c=Ki();function d(f,m,p){m.length?m=t(m,function(x){return c(x)?function(g){return e(g,x.length===1?x[0]:x)}:x}):m=[l];var v=-1;m=t(m,s(n));var w=r(f,function(x,g,_){var T=t(m,function(A){return A(x)});return{criteria:T,index:++v,value:x}});return i(w,function(x,g){return o(x,g,p)})}return PT=d,PT}var CT,rV;function FEe(){if(rV)return CT;rV=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return CT=t,CT}var kT,iV;function VEe(){if(iV)return kT;iV=1;var t=FEe(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),d=Array(c);++l<c;)d[l]=o[i+l];l=-1;for(var f=Array(i+1);++l<i;)f[l]=o[l];return f[i]=s(d),t(r,this,f)}}return kT=n,kT}var IT,sV;function BEe(){if(sV)return IT;sV=1;function t(e){return function(){return e}}return IT=t,IT}var OT,aV;function CY(){if(aV)return OT;aV=1;var t=$d(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return OT=e,OT}var RT,oV;function qEe(){if(oV)return RT;oV=1;var t=BEe(),e=CY(),n=jm(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return RT=r,RT}var MT,lV;function UEe(){if(lV)return MT;lV=1;var t=800,e=16,n=Date.now;function r(i){var s=0,o=0;return function(){var l=n(),c=e-(l-o);if(o=l,c>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return MT=r,MT}var DT,cV;function zEe(){if(cV)return DT;cV=1;var t=qEe(),e=UEe(),n=e(t);return DT=n,DT}var LT,uV;function WEe(){if(uV)return LT;uV=1;var t=jm(),e=VEe(),n=zEe();function r(i,s){return n(e(i,s,t),i+"")}return LT=r,LT}var $T,dV;function D1(){if(dV)return $T;dV=1;var t=hO(),e=i0(),n=TO(),r=nu();function i(s,o,l){if(!r(l))return!1;var c=typeof o;return(c=="number"?e(l)&&n(o,l.length):c=="string"&&o in l)?t(l[o],s):!1}return $T=i,$T}var FT,hV;function HEe(){if(hV)return FT;hV=1;var t=EY(),e=$Ee(),n=WEe(),r=D1(),i=n(function(s,o){if(s==null)return[];var l=o.length;return l>1&&r(s,o[0],o[1])?o=[]:l>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return FT=i,FT}var GEe=HEe();const CO=Jt(GEe);function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function SP(){return SP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SP.apply(this,arguments)}function KEe(t,e){return JEe(t)||XEe(t,e)||QEe(t,e)||YEe()}function YEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QEe(t,e){if(t){if(typeof t=="string")return fV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fV(t,e)}}function fV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function JEe(t){if(Array.isArray(t))return t}function mV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(n),!0).forEach(function(r){ZEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZEe(t,e,n){return e=eAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eAe(t){var e=tAe(t,"string");return Hg(e)=="symbol"?e:e+""}function tAe(t,e){if(Hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nAe(t){return Array.isArray(t)&&gr(t[0])&&gr(t[1])?t.join(" ~ "):t}var rAe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,f=e.payload,m=e.formatter,p=e.itemSorter,v=e.wrapperClassName,w=e.labelClassName,x=e.label,g=e.labelFormatter,_=e.accessibilityLayer,T=_===void 0?!1:_,A=function(){if(f&&f.length){var $={padding:0,margin:0},F=(p?CO(f,p):f).map(function(G,Y){if(G.type==="none")return null;var K=VT({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},l),X=G.formatter||m||nAe,U=G.value,Q=G.name,re=U,W=Q;if(X&&re!=null&&W!=null){var Z=X(U,Q,G,Y,f);if(Array.isArray(Z)){var ue=KEe(Z,2);re=ue[0],W=ue[1]}else re=Z}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:K},gr(W)?z.createElement("span",{className:"recharts-tooltip-item-name"},W):null,gr(W)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},re),z.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:$},F)}return null},I=VT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),P=VT({margin:0},d),C=!mt(x),E=C?x:"",N=ht("recharts-default-tooltip",v),O=ht("recharts-tooltip-label",w);C&&g&&f!==void 0&&f!==null&&(E=g(x,f));var D=T?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",SP({className:N,style:I},D),z.createElement("p",{className:O,style:P},z.isValidElement(E)?E:"".concat(E)),A())};function Gg(t){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}function Qv(t,e,n){return e=iAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iAe(t){var e=sAe(t,"string");return Gg(e)=="symbol"?e:e+""}function sAe(t,e){if(Gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ap="recharts-tooltip-wrapper",aAe={visibility:"hidden"};function oAe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ht(Ap,Qv(Qv(Qv(Qv({},"".concat(Ap,"-right"),ke(n)&&e&&ke(e.x)&&n>=e.x),"".concat(Ap,"-left"),ke(n)&&e&&ke(e.x)&&n<e.x),"".concat(Ap,"-bottom"),ke(r)&&e&&ke(e.y)&&r>=e.y),"".concat(Ap,"-top"),ke(r)&&e&&ke(e.y)&&r<e.y))}function pV(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(s&&ke(s[r]))return s[r];var f=n[r]-l-i,m=n[r]+i;if(e[r])return o[r]?f:m;if(o[r]){var p=f,v=c[r];return p<v?Math.max(m,c[r]):Math.max(f,c[r])}var w=m+l,x=c[r]+d;return w>x?Math.max(f,c[r]):Math.max(m,c[r])}function lAe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function cAe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,f,m;return o.height>0&&o.width>0&&n?(f=pV({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=pV({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=lAe({translateX:f,translateY:m,useTranslate3d:l})):d=aAe,{cssProperties:d,cssClasses:oAe({translateX:f,translateY:m,coordinate:n})}}function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function gV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gV(Object(n),!0).forEach(function(r){EP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IY(r.key),r)}}function hAe(t,e,n){return e&&dAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fAe(t,e,n){return e=Mb(e),mAe(t,kY()?Reflect.construct(e,n||[],Mb(t).constructor):e.apply(t,n))}function mAe(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pAe(t)}function pAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kY=function(){return!!t})()}function Mb(t){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mb(t)}function gAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TP(t,e)}function TP(t,e){return TP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TP(t,e)}function EP(t,e,n){return e=IY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IY(t){var e=yAe(t,"string");return If(e)=="symbol"?e:e+""}function yAe(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vV=1,vAe=(function(t){function e(){var n;uAe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=fAe(this,e,[].concat(i)),EP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),EP(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),n}return gAe(e,t),hAe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>vV||Math.abs(r.height-this.state.lastBoundingBox.height)>vV)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,f=i.coordinate,m=i.hasPayload,p=i.isAnimationActive,v=i.offset,w=i.position,x=i.reverseDirection,g=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,A=cAe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:v,position:w,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:_}),I=A.cssClasses,P=A.cssProperties,C=yV(yV({transition:p&&s?"transform ".concat(l,"ms ").concat(c):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},T);return z.createElement("div",{tabIndex:-1,className:I,style:C,ref:function(N){r.wrapperNode=N}},d)}}])})(S.PureComponent),xAe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},El={isSsr:xAe()};function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function xV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(n),!0).forEach(function(r){kO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RY(r.key),r)}}function _Ae(t,e,n){return e&&wAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jAe(t,e,n){return e=Db(e),NAe(t,OY()?Reflect.construct(e,n||[],Db(t).constructor):e.apply(t,n))}function NAe(t,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SAe(t)}function SAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OY=function(){return!!t})()}function Db(t){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Db(t)}function TAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AP(t,e)}function AP(t,e){return AP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AP(t,e)}function kO(t,e,n){return e=RY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RY(t){var e=EAe(t,"string");return Of(e)=="symbol"?e:e+""}function EAe(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function AAe(t){return t.dataKey}function PAe(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(rAe,e)}var mr=(function(t){function e(){return bAe(this,e),jAe(this,e,arguments)}return TAe(e,t),_Ae(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,f=i.coordinate,m=i.filterNull,p=i.isAnimationActive,v=i.offset,w=i.payload,x=i.payloadUniqBy,g=i.position,_=i.reverseDirection,T=i.useTranslate3d,A=i.viewBox,I=i.wrapperStyle,P=w??[];m&&P.length&&(P=NY(w.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),x,AAe));var C=P.length>0;return z.createElement(vAe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:s,coordinate:f,hasPayload:C,offset:v,position:g,reverseDirection:_,useTranslate3d:T,viewBox:A,wrapperStyle:I},PAe(d,bV(bV({},this.props),{},{payload:P})))}}])})(S.PureComponent);kO(mr,"displayName","Tooltip");kO(mr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!El.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var BT,wV;function CAe(){if(wV)return BT;wV=1;var t=yo(),e=function(){return t.Date.now()};return BT=e,BT}var qT,_V;function kAe(){if(_V)return qT;_V=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return qT=e,qT}var UT,jV;function IAe(){if(jV)return UT;jV=1;var t=kAe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return UT=n,UT}var zT,NV;function MY(){if(NV)return zT;NV=1;var t=IAe(),e=nu(),n=bm(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=e(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=s.test(d);return m||o.test(d)?l(d.slice(2),m?2:8):i.test(d)?r:+d}return zT=c,zT}var WT,SV;function OAe(){if(SV)return WT;SV=1;var t=nu(),e=CAe(),n=MY(),r="Expected a function",i=Math.max,s=Math.min;function o(l,c,d){var f,m,p,v,w,x,g=0,_=!1,T=!1,A=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(d)&&(_=!!d.leading,T="maxWait"in d,p=T?i(n(d.maxWait)||0,c):p,A="trailing"in d?!!d.trailing:A);function I(F){var G=f,Y=m;return f=m=void 0,g=F,v=l.apply(Y,G),v}function P(F){return g=F,w=setTimeout(N,c),_?I(F):v}function C(F){var G=F-x,Y=F-g,K=c-G;return T?s(K,p-Y):K}function E(F){var G=F-x,Y=F-g;return x===void 0||G>=c||G<0||T&&Y>=p}function N(){var F=e();if(E(F))return O(F);w=setTimeout(N,C(F))}function O(F){return w=void 0,A&&f?I(F):(f=m=void 0,v)}function D(){w!==void 0&&clearTimeout(w),g=0,f=x=m=w=void 0}function L(){return w===void 0?v:O(e())}function $(){var F=e(),G=E(F);if(f=arguments,m=this,x=F,G){if(w===void 0)return P(x);if(T)return clearTimeout(w),w=setTimeout(N,c),I(x)}return w===void 0&&(w=setTimeout(N,c)),v}return $.cancel=D,$.flush=L,$}return WT=o,WT}var HT,TV;function RAe(){if(TV)return HT;TV=1;var t=OAe(),e=nu(),n="Expected a function";function r(i,s,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,s,{leading:l,maxWait:s,trailing:c})}return HT=r,HT}var MAe=RAe();const DY=Jt(MAe);function Kg(t){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kg(t)}function EV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EV(Object(n),!0).forEach(function(r){DAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DAe(t,e,n){return e=LAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LAe(t){var e=$Ae(t,"string");return Kg(e)=="symbol"?e:e+""}function $Ae(t,e){if(Kg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FAe(t,e){return UAe(t)||qAe(t,e)||BAe(t,e)||VAe()}function VAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BAe(t,e){if(t){if(typeof t=="string")return AV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AV(t,e)}}function AV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function UAe(t){if(Array.isArray(t))return t}var Wa=S.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,f=d===void 0?0:d,m=t.minHeight,p=t.maxHeight,v=t.children,w=t.debounce,x=w===void 0?0:w,g=t.id,_=t.className,T=t.onResize,A=t.style,I=A===void 0?{}:A,P=S.useRef(null),C=S.useRef();C.current=T,S.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var E=S.useState({containerWidth:i.width,containerHeight:i.height}),N=FAe(E,2),O=N[0],D=N[1],L=S.useCallback(function(F,G){D(function(Y){var K=Math.round(F),X=Math.round(G);return Y.containerWidth===K&&Y.containerHeight===X?Y:{containerWidth:K,containerHeight:X}})},[]);S.useEffect(function(){var F=function(Q){var re,W=Q[0].contentRect,Z=W.width,ue=W.height;L(Z,ue),(re=C.current)===null||re===void 0||re.call(C,Z,ue)};x>0&&(F=DY(F,x,{trailing:!0,leading:!1}));var G=new ResizeObserver(F),Y=P.current.getBoundingClientRect(),K=Y.width,X=Y.height;return L(K,X),G.observe(P.current),function(){G.disconnect()}},[L,x]);var $=S.useMemo(function(){var F=O.containerWidth,G=O.containerHeight;if(F<0||G<0)return null;ha(Yu(o)||Yu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ha(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Y=Yu(o)?F:o,K=Yu(c)?G:c;n&&n>0&&(Y?K=Y/n:K&&(Y=K*n),p&&K>p&&(K=p)),ha(Y>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,K,o,c,f,m,n);var X=!Array.isArray(v)&&Zo(v.type).endsWith("Chart");return z.Children.map(v,function(U){return z.isValidElement(U)?S.cloneElement(U,Xv({width:Y,height:K},X?{style:Xv({height:"100%",width:"100%",maxHeight:K,maxWidth:Y},U.props.style)}:{})):U})},[n,v,c,p,m,f,O,o]);return z.createElement("div",{id:g?"".concat(g):void 0,className:ht("recharts-responsive-container",_),style:Xv(Xv({},I),{},{width:o,height:c,minWidth:f,minHeight:m,maxHeight:p}),ref:P},$)}),L1=function(e){return null};L1.displayName="Cell";function Yg(t){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(t)}function PV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(n),!0).forEach(function(r){zAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zAe(t,e,n){return e=WAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WAe(t){var e=HAe(t,"string");return Yg(e)=="symbol"?e:e+""}function HAe(t,e){if(Yg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ch={widthCache:{},cacheCount:0},GAe=2e3,KAe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CV="recharts_measurement_span";function YAe(t){var e=PP({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var hg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||El.isSsr)return{width:0,height:0};var r=YAe(n),i=JSON.stringify({text:e,copyStyle:r});if(Ch.widthCache[i])return Ch.widthCache[i];try{var s=document.getElementById(CV);s||(s=document.createElement("span"),s.setAttribute("id",CV),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=PP(PP({},KAe),r);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Ch.widthCache[i]=c,++Ch.cacheCount>GAe&&(Ch.cacheCount=0,Ch.widthCache={}),c}catch{return{width:0,height:0}}},QAe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function Lb(t,e){return ePe(t)||ZAe(t,e)||JAe(t,e)||XAe()}function XAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JAe(t,e){if(t){if(typeof t=="string")return kV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kV(t,e)}}function kV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function ePe(t){if(Array.isArray(t))return t}function tPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rPe(r.key),r)}}function nPe(t,e,n){return e&&IV(t.prototype,e),n&&IV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rPe(t){var e=iPe(t,"string");return Qg(e)=="symbol"?e:e+""}function iPe(t,e){if(Qg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},oPe=Object.keys(LY),Wh="NaN";function lPe(t,e){return t*LY[e]}var Jv=(function(){function t(e,n){tPe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!sPe.test(n)&&(this.num=NaN,this.unit=""),oPe.includes(n)&&(this.num=lPe(e,n),this.unit="px")}return nPe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=aPe.exec(n))!==null&&r!==void 0?r:[],s=Lb(i,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])})();function $Y(t){if(t.includes(Wh))return Wh;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=OV.exec(e))!==null&&n!==void 0?n:[],i=Lb(r,4),s=i[1],o=i[2],l=i[3],c=Jv.parse(s??""),d=Jv.parse(l??""),f=o==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return Wh;e=e.replace(OV,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,p=(m=RV.exec(e))!==null&&m!==void 0?m:[],v=Lb(p,4),w=v[1],x=v[2],g=v[3],_=Jv.parse(w??""),T=Jv.parse(g??""),A=x==="+"?_.add(T):_.subtract(T);if(A.isNaN())return Wh;e=e.replace(RV,A.toString())}return e}var MV=/\(([^()]*)\)/;function cPe(t){for(var e=t;e.includes("(");){var n=MV.exec(e),r=Lb(n,2),i=r[1];e=e.replace(MV,$Y(i))}return e}function uPe(t){var e=t.replace(/\s+/g,"");return e=cPe(e),e=$Y(e),e}function dPe(t){try{return uPe(t)}catch{return Wh}}function GT(t){var e=dPe(t.slice(5,-1));return e===Wh?"":e}var hPe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fPe=["dx","dy","angle","className","breakAll"];function CP(){return CP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CP.apply(this,arguments)}function DV(t,e){if(t==null)return{};var n=mPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LV(t,e){return vPe(t)||yPe(t,e)||gPe(t,e)||pPe()}function pPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gPe(t,e){if(t){if(typeof t=="string")return $V(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $V(t,e)}}function $V(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function vPe(t){if(Array.isArray(t))return t}var FY=/[ \f\n\r\t\v\u2028\u2029]+/,VY=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];mt(n)||(r?s=n.toString().split(""):s=n.toString().split(FY));var o=s.map(function(c){return{word:c,width:hg(c,i).width}}),l=r?0:hg("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},xPe=function(e,n,r,i,s){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,f=ke(o),m=l,p=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(K,X){var U=X.word,Q=X.width,re=K[K.length-1];if(re&&(i==null||s||re.width+Q+r<Number(i)))re.words.push(U),re.width+=Q+r;else{var W={words:[U],width:Q};K.push(W)}return K},[])},v=p(n),w=function(Y){return Y.reduce(function(K,X){return K.width>X.width?K:X})};if(!f)return v;for(var x="",g=function(Y){var K=m.slice(0,Y),X=VY({breakAll:d,style:c,children:K+x}).wordsWithComputedWidth,U=p(X),Q=U.length>o||w(U).width>Number(i);return[Q,U]},_=0,T=m.length-1,A=0,I;_<=T&&A<=m.length-1;){var P=Math.floor((_+T)/2),C=P-1,E=g(C),N=LV(E,2),O=N[0],D=N[1],L=g(P),$=LV(L,1),F=$[0];if(!O&&!F&&(_=P+1),O&&F&&(T=P-1),!O&&F){I=D;break}A++}return I||v},FV=function(e){var n=mt(e)?[]:e.toString().split(FY);return[{words:n}]},bPe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!El.isSsr){var c,d,f=VY({breakAll:o,children:i,style:s});if(f){var m=f.wordsWithComputedWidth,p=f.spaceWidth;c=m,d=p}else return FV(i);return xPe({breakAll:o,children:i,maxLines:l,style:s},c,d,n,r)}return FV(i)},VV="#808080",jd=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,f=e.scaleToFit,m=f===void 0?!1:f,p=e.textAnchor,v=p===void 0?"start":p,w=e.verticalAnchor,x=w===void 0?"end":w,g=e.fill,_=g===void 0?VV:g,T=DV(e,hPe),A=S.useMemo(function(){return bPe({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:m,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,m,T.style,T.width]),I=T.dx,P=T.dy,C=T.angle,E=T.className,N=T.breakAll,O=DV(T,fPe);if(!gr(r)||!gr(s))return null;var D=r+(ke(I)?I:0),L=s+(ke(P)?P:0),$;switch(x){case"start":$=GT("calc(".concat(d,")"));break;case"middle":$=GT("calc(".concat((A.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:$=GT("calc(".concat(A.length-1," * -").concat(l,")"));break}var F=[];if(m){var G=A[0].width,Y=T.width;F.push("scale(".concat((ke(Y)?Y/G:1)/G,")"))}return C&&F.push("rotate(".concat(C,", ").concat(D,", ").concat(L,")")),F.length&&(O.transform=F.join(" ")),z.createElement("text",CP({},Ye(O,!0),{x:D,y:L,className:ht("recharts-text",E),textAnchor:v,fill:_.includes("url")?VV:_}),A.map(function(K,X){var U=K.words.join(N?"":" ");return z.createElement("tspan",{x:D,dy:X===0?$:l,key:"".concat(U,"-").concat(X)},U)}))};function Cc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wPe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function IO(t){let e,n,r;t.length!==2?(e=Cc,n=(l,c)=>Cc(t(l),c),r=(l,c)=>t(l)-c):(e=t===Cc||t===wPe?t:_Pe,n=t,r=t);function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;n(l[m],c)<0?d=m+1:f=m}while(d<f)}return d}function s(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;n(l[m],c)<=0?d=m+1:f=m}while(d<f)}return d}function o(l,c,d=0,f=l.length){const m=i(l,c,d,f-1);return m>d&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:o,right:s}}function _Pe(){return 0}function BY(t){return t===null?NaN:+t}function*jPe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const NPe=IO(Cc),s0=NPe.right;IO(BY).center;class BV extends Map{constructor(e,n=EPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(qV(this,e))}has(e){return super.has(qV(this,e))}set(e,n){return super.set(SPe(this,e),n)}delete(e){return super.delete(TPe(this,e))}}function qV({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function SPe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function TPe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function EPe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function APe(t=Cc){if(t===Cc)return qY;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function qY(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const PPe=Math.sqrt(50),CPe=Math.sqrt(10),kPe=Math.sqrt(2);function $b(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=PPe?10:s>=CPe?5:s>=kPe?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?$b(t,e,n*2):[l,c,d]}function kP(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?$b(e,t,n):$b(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)c[d]=(s-d)/-o;else for(let d=0;d<l;++d)c[d]=(s-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function IP(t,e,n){return e=+e,t=+t,n=+n,$b(t,e,n)[2]}function OP(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?IP(e,t,n):IP(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function UV(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function zV(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function UY(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?qY:APe(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,f=Math.log(c),m=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*m*(c-m)/c)*(d-c/2<0?-1:1),v=Math.max(n,Math.floor(e-d*m/c+p)),w=Math.min(r,Math.floor(e+(c-d)*m/c+p));UY(t,e,v,w,i)}const s=t[e];let o=n,l=r;for(Pp(t,n,e),i(t[r],s)>0&&Pp(t,n,r);o<l;){for(Pp(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?Pp(t,n,l):(++l,Pp(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Pp(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function IPe(t,e,n){if(t=Float64Array.from(jPe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return zV(t);if(e>=1)return UV(t);var r,i=(r-1)*e,s=Math.floor(i),o=UV(UY(t,s).subarray(0,s+1)),l=zV(t.subarray(s+1));return o+(l-o)*(i-s)}}function OPe(t,e,n=BY){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function RPe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ws(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Al(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const RP=Symbol("implicit");function OO(){var t=new BV,e=[],n=[],r=RP;function i(s){let o=t.get(s);if(o===void 0){if(r!==RP)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new BV;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return OO(e,n).unknown(r)},Ws.apply(i,arguments),i}function Xg(){var t=OO().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,l=!1,c=0,d=0,f=.5;delete t.unknown;function m(){var p=e().length,v=i<r,w=v?i:r,x=v?r:i;s=(x-w)/Math.max(1,p-c+d*2),l&&(s=Math.floor(s)),w+=(x-w-s*(p-c))*f,o=s*(1-c),l&&(w=Math.round(w),o=Math.round(o));var g=RPe(p).map(function(_){return w+s*_});return n(v?g.reverse():g)}return t.domain=function(p){return arguments.length?(e(p),m()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(p){return arguments.length?(l=!!p,m()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),m()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),m()):c},t.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),m()):f},t.copy=function(){return Xg(e(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},Ws.apply(m(),arguments)}function zY(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return zY(e())},t}function fg(){return zY(Xg.apply(null,arguments).paddingInner(1))}function RO(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function WY(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function a0(){}var Jg=.7,Fb=1/Jg,uf="\\s*([+-]?\\d+)\\s*",Zg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",io="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MPe=/^#([0-9a-f]{3,8})$/,DPe=new RegExp(`^rgb\\(${uf},${uf},${uf}\\)$`),LPe=new RegExp(`^rgb\\(${io},${io},${io}\\)$`),$Pe=new RegExp(`^rgba\\(${uf},${uf},${uf},${Zg}\\)$`),FPe=new RegExp(`^rgba\\(${io},${io},${io},${Zg}\\)$`),VPe=new RegExp(`^hsl\\(${Zg},${io},${io}\\)$`),BPe=new RegExp(`^hsla\\(${Zg},${io},${io},${Zg}\\)$`),WV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};RO(a0,ey,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:HV,formatHex:HV,formatHex8:qPe,formatHsl:UPe,formatRgb:GV,toString:GV});function HV(){return this.rgb().formatHex()}function qPe(){return this.rgb().formatHex8()}function UPe(){return HY(this).formatHsl()}function GV(){return this.rgb().formatRgb()}function ey(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=MPe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?KV(e):n===3?new zi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=DPe.exec(t))?new zi(e[1],e[2],e[3],1):(e=LPe.exec(t))?new zi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$Pe.exec(t))?Zv(e[1],e[2],e[3],e[4]):(e=FPe.exec(t))?Zv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=VPe.exec(t))?XV(e[1],e[2]/100,e[3]/100,1):(e=BPe.exec(t))?XV(e[1],e[2]/100,e[3]/100,e[4]):WV.hasOwnProperty(t)?KV(WV[t]):t==="transparent"?new zi(NaN,NaN,NaN,0):null}function KV(t){return new zi(t>>16&255,t>>8&255,t&255,1)}function Zv(t,e,n,r){return r<=0&&(t=e=n=NaN),new zi(t,e,n,r)}function zPe(t){return t instanceof a0||(t=ey(t)),t?(t=t.rgb(),new zi(t.r,t.g,t.b,t.opacity)):new zi}function MP(t,e,n,r){return arguments.length===1?zPe(t):new zi(t,e,n,r??1)}function zi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}RO(zi,MP,WY(a0,{brighter(t){return t=t==null?Fb:Math.pow(Fb,t),new zi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jg:Math.pow(Jg,t),new zi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new zi(ld(this.r),ld(this.g),ld(this.b),Vb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YV,formatHex:YV,formatHex8:WPe,formatRgb:QV,toString:QV}));function YV(){return`#${Qu(this.r)}${Qu(this.g)}${Qu(this.b)}`}function WPe(){return`#${Qu(this.r)}${Qu(this.g)}${Qu(this.b)}${Qu((isNaN(this.opacity)?1:this.opacity)*255)}`}function QV(){const t=Vb(this.opacity);return`${t===1?"rgb(":"rgba("}${ld(this.r)}, ${ld(this.g)}, ${ld(this.b)}${t===1?")":`, ${t})`}`}function Vb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ld(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qu(t){return t=ld(t),(t<16?"0":"")+t.toString(16)}function XV(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new la(t,e,n,r)}function HY(t){if(t instanceof la)return new la(t.h,t.s,t.l,t.opacity);if(t instanceof a0||(t=ey(t)),!t)return new la;if(t instanceof la)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new la(o,l,c,t.opacity)}function HPe(t,e,n,r){return arguments.length===1?HY(t):new la(t,e,n,r??1)}function la(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}RO(la,HPe,WY(a0,{brighter(t){return t=t==null?Fb:Math.pow(Fb,t),new la(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jg:Math.pow(Jg,t),new la(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new zi(KT(t>=240?t-240:t+120,i,r),KT(t,i,r),KT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new la(JV(this.h),ex(this.s),ex(this.l),Vb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Vb(this.opacity);return`${t===1?"hsl(":"hsla("}${JV(this.h)}, ${ex(this.s)*100}%, ${ex(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JV(t){return t=(t||0)%360,t<0?t+360:t}function ex(t){return Math.max(0,Math.min(1,t||0))}function KT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const MO=t=>()=>t;function GPe(t,e){return function(n){return t+n*e}}function KPe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function YPe(t){return(t=+t)==1?GY:function(e,n){return n-e?KPe(e,n,t):MO(isNaN(e)?n:e)}}function GY(t,e){var n=e-t;return n?GPe(t,n):MO(isNaN(t)?e:t)}const ZV=(function t(e){var n=YPe(e);function r(i,s){var o=n((i=MP(i)).r,(s=MP(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),d=GY(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r})(1);function QPe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function XPe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function JPe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Nm(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function ZPe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Bb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function eCe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Nm(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var DP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,YT=new RegExp(DP.source,"g");function tCe(t){return function(){return t}}function nCe(t){return function(e){return t(e)+""}}function rCe(t,e){var n=DP.lastIndex=YT.lastIndex=0,r,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=DP.exec(t))&&(i=YT.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Bb(r,i)})),n=YT.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?nCe(c[0].x):tCe(e):(e=c.length,function(d){for(var f=0,m;f<e;++f)l[(m=c[f]).i]=m.x(d);return l.join("")})}function Nm(t,e){var n=typeof e,r;return e==null||n==="boolean"?MO(e):(n==="number"?Bb:n==="string"?(r=ey(e))?(e=r,ZV):rCe:e instanceof ey?ZV:e instanceof Date?ZPe:XPe(e)?QPe:Array.isArray(e)?JPe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?eCe:Bb)(t,e)}function DO(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function iCe(t,e){e===void 0&&(e=t,t=Nm);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[l](o-l)}}function sCe(t){return function(){return t}}function qb(t){return+t}var eB=[0,1];function Ni(t){return t}function LP(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:sCe(isNaN(e)?NaN:.5)}function aCe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function oCe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=LP(i,r),s=n(o,s)):(r=LP(r,i),s=n(s,o)),function(l){return s(r(l))}}function lCe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=LP(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(l){var c=s0(t,l,1,r)-1;return s[c](i[c](l))}}function o0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $1(){var t=eB,e=eB,n=Nm,r,i,s,o=Ni,l,c,d;function f(){var p=Math.min(t.length,e.length);return o!==Ni&&(o=aCe(t[0],t[p-1])),l=p>2?lCe:oCe,c=d=null,m}function m(p){return p==null||isNaN(p=+p)?s:(c||(c=l(t.map(r),e,n)))(r(o(p)))}return m.invert=function(p){return o(i((d||(d=l(e,t.map(r),Bb)))(p)))},m.domain=function(p){return arguments.length?(t=Array.from(p,qb),f()):t.slice()},m.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},m.rangeRound=function(p){return e=Array.from(p),n=DO,f()},m.clamp=function(p){return arguments.length?(o=p?!0:Ni,f()):o!==Ni},m.interpolate=function(p){return arguments.length?(n=p,f()):n},m.unknown=function(p){return arguments.length?(s=p,m):s},function(p,v){return r=p,i=v,f()}}function LO(){return $1()(Ni,Ni)}function cCe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ub(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rf(t){return t=Ub(Math.abs(t)),t?t[1]:NaN}function uCe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function dCe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var hCe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ty(t){if(!(e=hCe.exec(t)))throw new Error("invalid format: "+t);var e;return new $O({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ty.prototype=$O.prototype;function $O(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}$O.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fCe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var KY;function mCe(t,e){var n=Ub(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(KY=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ub(t,Math.max(0,e+s-1))[0]}function tB(t,e){var n=Ub(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const nB={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:cCe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tB(t*100,e),r:tB,s:mCe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rB(t){return t}var iB=Array.prototype.map,sB=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pCe(t){var e=t.grouping===void 0||t.thousands===void 0?rB:uCe(iB.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?rB:dCe(iB.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m){m=ty(m);var p=m.fill,v=m.align,w=m.sign,x=m.symbol,g=m.zero,_=m.width,T=m.comma,A=m.precision,I=m.trim,P=m.type;P==="n"?(T=!0,P="g"):nB[P]||(A===void 0&&(A=12),I=!0,P="g"),(g||p==="0"&&v==="=")&&(g=!0,p="0",v="=");var C=x==="$"?n:x==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",E=x==="$"?r:/[%p]/.test(P)?o:"",N=nB[P],O=/[defgprs%]/.test(P);A=A===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function D(L){var $=C,F=E,G,Y,K;if(P==="c")F=N(L)+F,L="";else{L=+L;var X=L<0||1/L<0;if(L=isNaN(L)?c:N(Math.abs(L),A),I&&(L=fCe(L)),X&&+L==0&&w!=="+"&&(X=!1),$=(X?w==="("?w:l:w==="-"||w==="("?"":w)+$,F=(P==="s"?sB[8+KY/3]:"")+F+(X&&w==="("?")":""),O){for(G=-1,Y=L.length;++G<Y;)if(K=L.charCodeAt(G),48>K||K>57){F=(K===46?i+L.slice(G+1):L.slice(G))+F,L=L.slice(0,G);break}}}T&&!g&&(L=e(L,1/0));var U=$.length+L.length+F.length,Q=U<_?new Array(_-U+1).join(p):"";switch(T&&g&&(L=e(Q+L,Q.length?_-F.length:1/0),Q=""),v){case"<":L=$+L+F+Q;break;case"=":L=$+Q+L+F;break;case"^":L=Q.slice(0,U=Q.length>>1)+$+L+F+Q.slice(U);break;default:L=Q+$+L+F;break}return s(L)}return D.toString=function(){return m+""},D}function f(m,p){var v=d((m=ty(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(Rf(p)/3)))*3,x=Math.pow(10,-w),g=sB[8+w/3];return function(_){return v(x*_)+g}}return{format:d,formatPrefix:f}}var tx,FO,YY;gCe({thousands:",",grouping:[3],currency:["$",""]});function gCe(t){return tx=pCe(t),FO=tx.format,YY=tx.formatPrefix,tx}function yCe(t){return Math.max(0,-Rf(Math.abs(t)))}function vCe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rf(e)/3)))*3-Rf(Math.abs(t)))}function xCe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rf(e)-Rf(t))+1}function QY(t,e,n,r){var i=OP(t,e,n),s;switch(r=ty(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=vCe(i,o))&&(r.precision=s),YY(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=xCe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=yCe(i))&&(r.precision=s-(r.type==="%")*2);break}}return FO(r)}function ru(t){var e=t.domain;return t.ticks=function(n){var r=e();return kP(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return QY(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],l=r[s],c,d,f=10;for(l<o&&(d=o,o=l,l=d,d=i,i=s,s=d);f-- >0;){if(d=IP(o,l,n),d===c)return r[i]=o,r[s]=l,e(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function zb(){var t=LO();return t.copy=function(){return o0(t,zb())},Ws.apply(t,arguments),ru(t)}function XY(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,qb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return XY(t).unknown(e)},t=arguments.length?Array.from(t,qb):[0,1],ru(n)}function JY(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function aB(t){return Math.log(t)}function oB(t){return Math.exp(t)}function bCe(t){return-Math.log(-t)}function wCe(t){return-Math.exp(-t)}function _Ce(t){return isFinite(t)?+("1e"+t):t<0?0:t}function jCe(t){return t===10?_Ce:t===Math.E?Math.exp:e=>Math.pow(t,e)}function NCe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lB(t){return(e,n)=>-t(-e,n)}function VO(t){const e=t(aB,oB),n=e.domain;let r=10,i,s;function o(){return i=NCe(r),s=jCe(r),n()[0]<0?(i=lB(i),s=lB(s),t(bCe,wCe)):t(aB,oB),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let d=c[0],f=c[c.length-1];const m=f<d;m&&([d,f]=[f,d]);let p=i(d),v=i(f),w,x;const g=l==null?10:+l;let _=[];if(!(r%1)&&v-p<g){if(p=Math.floor(p),v=Math.ceil(v),d>0){for(;p<=v;++p)for(w=1;w<r;++w)if(x=p<0?w/s(-p):w*s(p),!(x<d)){if(x>f)break;_.push(x)}}else for(;p<=v;++p)for(w=r-1;w>=1;--w)if(x=p>0?w/s(-p):w*s(p),!(x<d)){if(x>f)break;_.push(x)}_.length*2<g&&(_=kP(d,f,g))}else _=kP(p,v,Math.min(v-p,g)).map(s);return m?_.reverse():_},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=ty(c)).precision==null&&(c.trim=!0),c=FO(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return f=>{let m=f/s(Math.round(i(f)));return m*r<r-.5&&(m*=r),m<=d?c(f):""}},e.nice=()=>n(JY(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function ZY(){const t=VO($1()).domain([1,10]);return t.copy=()=>o0(t,ZY()).base(t.base()),Ws.apply(t,arguments),t}function cB(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function uB(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function BO(t){var e=1,n=t(cB(e),uB(e));return n.constant=function(r){return arguments.length?t(cB(e=+r),uB(e)):e},ru(n)}function eQ(){var t=BO($1());return t.copy=function(){return o0(t,eQ()).constant(t.constant())},Ws.apply(t,arguments)}function dB(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function SCe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function TCe(t){return t<0?-t*t:t*t}function qO(t){var e=t(Ni,Ni),n=1;function r(){return n===1?t(Ni,Ni):n===.5?t(SCe,TCe):t(dB(n),dB(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ru(e)}function UO(){var t=qO($1());return t.copy=function(){return o0(t,UO()).exponent(t.exponent())},Ws.apply(t,arguments),t}function ECe(){return UO.apply(null,arguments).exponent(.5)}function hB(t){return Math.sign(t)*t*t}function ACe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function tQ(){var t=LO(),e=[0,1],n=!1,r;function i(s){var o=ACe(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(hB(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,qb)).map(hB)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return tQ(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ws.apply(i,arguments),ru(i)}function nQ(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=OPe(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?r:e[s0(n,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Cc),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return nQ().domain(t).range(e).unknown(r)},Ws.apply(s,arguments)}function rQ(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[s0(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return rQ().domain([t,e]).range(i).unknown(s)},Ws.apply(ru(o),arguments)}function iQ(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[s0(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return iQ().domain(t).range(e).unknown(n)},Ws.apply(i,arguments)}const QT=new Date,XT=new Date;function br(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let d;do c.push(d=new Date(+s)),e(s,l),t(s);while(d<s&&s<o);return c},i.filter=s=>br(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(QT.setTime(+s),XT.setTime(+o),t(QT),t(XT),Math.floor(n(QT,XT))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Wb=br(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Wb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?br(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Wb);Wb.range;const Ho=1e3,Ds=Ho*60,Go=Ds*60,ml=Go*24,zO=ml*7,fB=ml*30,JT=ml*365,Xu=br(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ho)},(t,e)=>(e-t)/Ho,t=>t.getUTCSeconds());Xu.range;const WO=br(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ho)},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getMinutes());WO.range;const HO=br(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getUTCMinutes());HO.range;const GO=br(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ho-t.getMinutes()*Ds)},(t,e)=>{t.setTime(+t+e*Go)},(t,e)=>(e-t)/Go,t=>t.getHours());GO.range;const KO=br(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Go)},(t,e)=>(e-t)/Go,t=>t.getUTCHours());KO.range;const l0=br(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ds)/ml,t=>t.getDate()-1);l0.range;const F1=br(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ml,t=>t.getUTCDate()-1);F1.range;const sQ=br(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ml,t=>Math.floor(t/ml));sQ.range;function Vd(t){return br(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ds)/zO)}const V1=Vd(0),Hb=Vd(1),PCe=Vd(2),CCe=Vd(3),Mf=Vd(4),kCe=Vd(5),ICe=Vd(6);V1.range;Hb.range;PCe.range;CCe.range;Mf.range;kCe.range;ICe.range;function Bd(t){return br(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/zO)}const B1=Bd(0),Gb=Bd(1),OCe=Bd(2),RCe=Bd(3),Df=Bd(4),MCe=Bd(5),DCe=Bd(6);B1.range;Gb.range;OCe.range;RCe.range;Df.range;MCe.range;DCe.range;const YO=br(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());YO.range;const QO=br(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());QO.range;const pl=br(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());pl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:br(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});pl.range;const gl=br(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());gl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:br(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});gl.range;function aQ(t,e,n,r,i,s){const o=[[Xu,1,Ho],[Xu,5,5*Ho],[Xu,15,15*Ho],[Xu,30,30*Ho],[s,1,Ds],[s,5,5*Ds],[s,15,15*Ds],[s,30,30*Ds],[i,1,Go],[i,3,3*Go],[i,6,6*Go],[i,12,12*Go],[r,1,ml],[r,2,2*ml],[n,1,zO],[e,1,fB],[e,3,3*fB],[t,1,JT]];function l(d,f,m){const p=f<d;p&&([d,f]=[f,d]);const v=m&&typeof m.range=="function"?m:c(d,f,m),w=v?v.range(d,+f+1):[];return p?w.reverse():w}function c(d,f,m){const p=Math.abs(f-d)/m,v=IO(([,,g])=>g).right(o,p);if(v===o.length)return t.every(OP(d/JT,f/JT,m));if(v===0)return Wb.every(Math.max(OP(d,f,m),1));const[w,x]=o[p/o[v-1][2]<o[v][2]/p?v-1:v];return w.every(x)}return[l,c]}const[LCe,$Ce]=aQ(gl,QO,B1,sQ,KO,HO),[FCe,VCe]=aQ(pl,YO,V1,l0,GO,WO);function ZT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function eE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function BCe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=kp(i),f=Ip(i),m=kp(s),p=Ip(s),v=kp(o),w=Ip(o),x=kp(l),g=Ip(l),_=kp(c),T=Ip(c),A={a:X,A:U,b:Q,B:re,c:null,d:xB,e:xB,f:uke,g:bke,G:_ke,H:oke,I:lke,j:cke,L:oQ,m:dke,M:hke,p:W,q:Z,Q:_B,s:jB,S:fke,u:mke,U:pke,V:gke,w:yke,W:vke,x:null,X:null,y:xke,Y:wke,Z:jke,"%":wB},I={a:ue,A:le,b:be,B:ge,c:null,d:bB,e:bB,f:Eke,g:Lke,G:Fke,H:Nke,I:Ske,j:Tke,L:cQ,m:Ake,M:Pke,p:me,q:Ie,Q:_B,s:jB,S:Cke,u:kke,U:Ike,V:Oke,w:Rke,W:Mke,x:null,X:null,y:Dke,Y:$ke,Z:Vke,"%":wB},P={a:D,A:L,b:$,B:F,c:G,d:yB,e:yB,f:rke,g:gB,G:pB,H:vB,I:vB,j:ZCe,L:nke,m:JCe,M:eke,p:O,q:XCe,Q:ske,s:ake,S:tke,u:HCe,U:GCe,V:KCe,w:WCe,W:YCe,x:Y,X:K,y:gB,Y:pB,Z:QCe,"%":ike};A.x=C(n,A),A.X=C(r,A),A.c=C(e,A),I.x=C(n,I),I.X=C(r,I),I.c=C(e,I);function C(fe,Ae){return function(Re){var he=[],ot=-1,et=0,kt=fe.length,It,Gt,Kn;for(Re instanceof Date||(Re=new Date(+Re));++ot<kt;)fe.charCodeAt(ot)===37&&(he.push(fe.slice(et,ot)),(Gt=mB[It=fe.charAt(++ot)])!=null?It=fe.charAt(++ot):Gt=It==="e"?" ":"0",(Kn=Ae[It])&&(It=Kn(Re,Gt)),he.push(It),et=ot+1);return he.push(fe.slice(et,ot)),he.join("")}}function E(fe,Ae){return function(Re){var he=Cp(1900,void 0,1),ot=N(he,fe,Re+="",0),et,kt;if(ot!=Re.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Ae&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(et=eE(Cp(he.y,0,1)),kt=et.getUTCDay(),et=kt>4||kt===0?Gb.ceil(et):Gb(et),et=F1.offset(et,(he.V-1)*7),he.y=et.getUTCFullYear(),he.m=et.getUTCMonth(),he.d=et.getUTCDate()+(he.w+6)%7):(et=ZT(Cp(he.y,0,1)),kt=et.getDay(),et=kt>4||kt===0?Hb.ceil(et):Hb(et),et=l0.offset(et,(he.V-1)*7),he.y=et.getFullYear(),he.m=et.getMonth(),he.d=et.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),kt="Z"in he?eE(Cp(he.y,0,1)).getUTCDay():ZT(Cp(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(kt+5)%7:he.w+he.U*7-(kt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,eE(he)):ZT(he)}}function N(fe,Ae,Re,he){for(var ot=0,et=Ae.length,kt=Re.length,It,Gt;ot<et;){if(he>=kt)return-1;if(It=Ae.charCodeAt(ot++),It===37){if(It=Ae.charAt(ot++),Gt=P[It in mB?Ae.charAt(ot++):It],!Gt||(he=Gt(fe,Re,he))<0)return-1}else if(It!=Re.charCodeAt(he++))return-1}return he}function O(fe,Ae,Re){var he=d.exec(Ae.slice(Re));return he?(fe.p=f.get(he[0].toLowerCase()),Re+he[0].length):-1}function D(fe,Ae,Re){var he=v.exec(Ae.slice(Re));return he?(fe.w=w.get(he[0].toLowerCase()),Re+he[0].length):-1}function L(fe,Ae,Re){var he=m.exec(Ae.slice(Re));return he?(fe.w=p.get(he[0].toLowerCase()),Re+he[0].length):-1}function $(fe,Ae,Re){var he=_.exec(Ae.slice(Re));return he?(fe.m=T.get(he[0].toLowerCase()),Re+he[0].length):-1}function F(fe,Ae,Re){var he=x.exec(Ae.slice(Re));return he?(fe.m=g.get(he[0].toLowerCase()),Re+he[0].length):-1}function G(fe,Ae,Re){return N(fe,e,Ae,Re)}function Y(fe,Ae,Re){return N(fe,n,Ae,Re)}function K(fe,Ae,Re){return N(fe,r,Ae,Re)}function X(fe){return o[fe.getDay()]}function U(fe){return s[fe.getDay()]}function Q(fe){return c[fe.getMonth()]}function re(fe){return l[fe.getMonth()]}function W(fe){return i[+(fe.getHours()>=12)]}function Z(fe){return 1+~~(fe.getMonth()/3)}function ue(fe){return o[fe.getUTCDay()]}function le(fe){return s[fe.getUTCDay()]}function be(fe){return c[fe.getUTCMonth()]}function ge(fe){return l[fe.getUTCMonth()]}function me(fe){return i[+(fe.getUTCHours()>=12)]}function Ie(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Ae=C(fe+="",A);return Ae.toString=function(){return fe},Ae},parse:function(fe){var Ae=E(fe+="",!1);return Ae.toString=function(){return fe},Ae},utcFormat:function(fe){var Ae=C(fe+="",I);return Ae.toString=function(){return fe},Ae},utcParse:function(fe){var Ae=E(fe+="",!0);return Ae.toString=function(){return fe},Ae}}}var mB={"-":"",_:" ",0:"0"},Cr=/^\s*\d+/,qCe=/^%/,UCe=/[\\^$*+?|[\]().{}]/g;function Xt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function zCe(t){return t.replace(UCe,"\\$&")}function kp(t){return new RegExp("^(?:"+t.map(zCe).join("|")+")","i")}function Ip(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function WCe(t,e,n){var r=Cr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function HCe(t,e,n){var r=Cr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function GCe(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function KCe(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function YCe(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pB(t,e,n){var r=Cr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function gB(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function QCe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function XCe(t,e,n){var r=Cr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function JCe(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function yB(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ZCe(t,e,n){var r=Cr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function vB(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function eke(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function tke(t,e,n){var r=Cr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function nke(t,e,n){var r=Cr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function rke(t,e,n){var r=Cr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ike(t,e,n){var r=qCe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ske(t,e,n){var r=Cr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ake(t,e,n){var r=Cr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function xB(t,e){return Xt(t.getDate(),e,2)}function oke(t,e){return Xt(t.getHours(),e,2)}function lke(t,e){return Xt(t.getHours()%12||12,e,2)}function cke(t,e){return Xt(1+l0.count(pl(t),t),e,3)}function oQ(t,e){return Xt(t.getMilliseconds(),e,3)}function uke(t,e){return oQ(t,e)+"000"}function dke(t,e){return Xt(t.getMonth()+1,e,2)}function hke(t,e){return Xt(t.getMinutes(),e,2)}function fke(t,e){return Xt(t.getSeconds(),e,2)}function mke(t){var e=t.getDay();return e===0?7:e}function pke(t,e){return Xt(V1.count(pl(t)-1,t),e,2)}function lQ(t){var e=t.getDay();return e>=4||e===0?Mf(t):Mf.ceil(t)}function gke(t,e){return t=lQ(t),Xt(Mf.count(pl(t),t)+(pl(t).getDay()===4),e,2)}function yke(t){return t.getDay()}function vke(t,e){return Xt(Hb.count(pl(t)-1,t),e,2)}function xke(t,e){return Xt(t.getFullYear()%100,e,2)}function bke(t,e){return t=lQ(t),Xt(t.getFullYear()%100,e,2)}function wke(t,e){return Xt(t.getFullYear()%1e4,e,4)}function _ke(t,e){var n=t.getDay();return t=n>=4||n===0?Mf(t):Mf.ceil(t),Xt(t.getFullYear()%1e4,e,4)}function jke(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Xt(e/60|0,"0",2)+Xt(e%60,"0",2)}function bB(t,e){return Xt(t.getUTCDate(),e,2)}function Nke(t,e){return Xt(t.getUTCHours(),e,2)}function Ske(t,e){return Xt(t.getUTCHours()%12||12,e,2)}function Tke(t,e){return Xt(1+F1.count(gl(t),t),e,3)}function cQ(t,e){return Xt(t.getUTCMilliseconds(),e,3)}function Eke(t,e){return cQ(t,e)+"000"}function Ake(t,e){return Xt(t.getUTCMonth()+1,e,2)}function Pke(t,e){return Xt(t.getUTCMinutes(),e,2)}function Cke(t,e){return Xt(t.getUTCSeconds(),e,2)}function kke(t){var e=t.getUTCDay();return e===0?7:e}function Ike(t,e){return Xt(B1.count(gl(t)-1,t),e,2)}function uQ(t){var e=t.getUTCDay();return e>=4||e===0?Df(t):Df.ceil(t)}function Oke(t,e){return t=uQ(t),Xt(Df.count(gl(t),t)+(gl(t).getUTCDay()===4),e,2)}function Rke(t){return t.getUTCDay()}function Mke(t,e){return Xt(Gb.count(gl(t)-1,t),e,2)}function Dke(t,e){return Xt(t.getUTCFullYear()%100,e,2)}function Lke(t,e){return t=uQ(t),Xt(t.getUTCFullYear()%100,e,2)}function $ke(t,e){return Xt(t.getUTCFullYear()%1e4,e,4)}function Fke(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Df(t):Df.ceil(t),Xt(t.getUTCFullYear()%1e4,e,4)}function Vke(){return"+0000"}function wB(){return"%"}function _B(t){return+t}function jB(t){return Math.floor(+t/1e3)}var kh,dQ,hQ;Bke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bke(t){return kh=BCe(t),dQ=kh.format,kh.parse,hQ=kh.utcFormat,kh.utcParse,kh}function qke(t){return new Date(t)}function Uke(t){return t instanceof Date?+t:+new Date(+t)}function XO(t,e,n,r,i,s,o,l,c,d){var f=LO(),m=f.invert,p=f.domain,v=d(".%L"),w=d(":%S"),x=d("%I:%M"),g=d("%I %p"),_=d("%a %d"),T=d("%b %d"),A=d("%B"),I=d("%Y");function P(C){return(c(C)<C?v:l(C)<C?w:o(C)<C?x:s(C)<C?g:r(C)<C?i(C)<C?_:T:n(C)<C?A:I)(C)}return f.invert=function(C){return new Date(m(C))},f.domain=function(C){return arguments.length?p(Array.from(C,Uke)):p().map(qke)},f.ticks=function(C){var E=p();return t(E[0],E[E.length-1],C??10)},f.tickFormat=function(C,E){return E==null?P:d(E)},f.nice=function(C){var E=p();return(!C||typeof C.range!="function")&&(C=e(E[0],E[E.length-1],C??10)),C?p(JY(E,C)):f},f.copy=function(){return o0(f,XO(t,e,n,r,i,s,o,l,c,d))},f}function zke(){return Ws.apply(XO(FCe,VCe,pl,YO,V1,l0,GO,WO,Xu,dQ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wke(){return Ws.apply(XO(LCe,$Ce,gl,QO,B1,F1,KO,HO,Xu,hQ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function q1(){var t=0,e=1,n,r,i,s,o=Ni,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(i===0?.5:(m=(s(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function f(m){return function(p){var v,w;return arguments.length?([v,w]=p,o=m(v,w),d):[o(0),o(1)]}}return d.range=f(Nm),d.rangeRound=f(DO),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function iu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function fQ(){var t=ru(q1()(Ni));return t.copy=function(){return iu(t,fQ())},Al.apply(t,arguments)}function mQ(){var t=VO(q1()).domain([1,10]);return t.copy=function(){return iu(t,mQ()).base(t.base())},Al.apply(t,arguments)}function pQ(){var t=BO(q1());return t.copy=function(){return iu(t,pQ()).constant(t.constant())},Al.apply(t,arguments)}function JO(){var t=qO(q1());return t.copy=function(){return iu(t,JO()).exponent(t.exponent())},Al.apply(t,arguments)}function Hke(){return JO.apply(null,arguments).exponent(.5)}function gQ(){var t=[],e=Ni;function n(r){if(r!=null&&!isNaN(r=+r))return e((s0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Cc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>IPe(t,s/r))},n.copy=function(){return gQ(e).domain(t)},Al.apply(n,arguments)}function U1(){var t=0,e=.5,n=1,r=1,i,s,o,l,c,d=Ni,f,m=!1,p;function v(x){return isNaN(x=+x)?p:(x=.5+((x=+f(x))-s)*(r*x<r*s?l:c),d(m?Math.max(0,Math.min(1,x)):x))}v.domain=function(x){return arguments.length?([t,e,n]=x,i=f(t=+t),s=f(e=+e),o=f(n=+n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,v):[t,e,n]},v.clamp=function(x){return arguments.length?(m=!!x,v):m},v.interpolator=function(x){return arguments.length?(d=x,v):d};function w(x){return function(g){var _,T,A;return arguments.length?([_,T,A]=g,d=iCe(x,[_,T,A]),v):[d(0),d(.5),d(1)]}}return v.range=w(Nm),v.rangeRound=w(DO),v.unknown=function(x){return arguments.length?(p=x,v):p},function(x){return f=x,i=x(t),s=x(e),o=x(n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,v}}function yQ(){var t=ru(U1()(Ni));return t.copy=function(){return iu(t,yQ())},Al.apply(t,arguments)}function vQ(){var t=VO(U1()).domain([.1,1,10]);return t.copy=function(){return iu(t,vQ()).base(t.base())},Al.apply(t,arguments)}function xQ(){var t=BO(U1());return t.copy=function(){return iu(t,xQ()).constant(t.constant())},Al.apply(t,arguments)}function ZO(){var t=qO(U1());return t.copy=function(){return iu(t,ZO()).exponent(t.exponent())},Al.apply(t,arguments)}function Gke(){return ZO.apply(null,arguments).exponent(.5)}const NB=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xg,scaleDiverging:yQ,scaleDivergingLog:vQ,scaleDivergingPow:ZO,scaleDivergingSqrt:Gke,scaleDivergingSymlog:xQ,scaleIdentity:XY,scaleImplicit:RP,scaleLinear:zb,scaleLog:ZY,scaleOrdinal:OO,scalePoint:fg,scalePow:UO,scaleQuantile:nQ,scaleQuantize:rQ,scaleRadial:tQ,scaleSequential:fQ,scaleSequentialLog:mQ,scaleSequentialPow:JO,scaleSequentialQuantile:gQ,scaleSequentialSqrt:Hke,scaleSequentialSymlog:pQ,scaleSqrt:ECe,scaleSymlog:eQ,scaleThreshold:iQ,scaleTime:zke,scaleUtc:Wke,tickFormat:QY},Symbol.toStringTag,{value:"Module"}));var tE,SB;function z1(){if(SB)return tE;SB=1;var t=bm();function e(n,r,i){for(var s=-1,o=n.length;++s<o;){var l=n[s],c=r(l);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,f=l}return f}return tE=e,tE}var nE,TB;function bQ(){if(TB)return nE;TB=1;function t(e,n){return e>n}return nE=t,nE}var rE,EB;function Kke(){if(EB)return rE;EB=1;var t=z1(),e=bQ(),n=jm();function r(i){return i&&i.length?t(i,n,e):void 0}return rE=r,rE}var Yke=Kke();const jc=Jt(Yke);var iE,AB;function wQ(){if(AB)return iE;AB=1;function t(e,n){return e<n}return iE=t,iE}var sE,PB;function Qke(){if(PB)return sE;PB=1;var t=z1(),e=wQ(),n=jm();function r(i){return i&&i.length?t(i,n,e):void 0}return sE=r,sE}var Xke=Qke();const W1=Jt(Xke);var aE,CB;function Jke(){if(CB)return aE;CB=1;var t=pO(),e=vo(),n=PY(),r=Ki();function i(s,o){var l=r(s)?t:n;return l(s,e(o,3))}return aE=i,aE}var oE,kB;function Zke(){if(kB)return oE;kB=1;var t=EY(),e=Jke();function n(r,i){return t(e(r,i),1)}return oE=n,oE}var eIe=Zke();const tIe=Jt(eIe);var lE,IB;function nIe(){if(IB)return lE;IB=1;var t=AO();function e(n,r){return t(n,r)}return lE=e,lE}var rIe=nIe();const Gc=Jt(rIe);var Sm=1e9,iIe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tR,On=!0,qs="[DecimalError] ",cd=qs+"Invalid argument: ",eR=qs+"Exponent out of range: ",Tm=Math.floor,Uu=Math.pow,sIe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cs,Er=1e7,En=7,_Q=9007199254740991,Kb=Tm(_Q/En),We={};We.absoluteValue=We.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};We.comparedTo=We.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};We.decimalPlaces=We.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*En;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};We.dividedBy=We.div=function(t){return el(this,new this.constructor(t))};We.dividedToIntegerBy=We.idiv=function(t){var e=this,n=e.constructor;return yn(el(e,new n(t),0,1),n.precision)};We.equals=We.eq=function(t){return!this.cmp(t)};We.exponent=function(){return lr(this)};We.greaterThan=We.gt=function(t){return this.cmp(t)>0};We.greaterThanOrEqualTo=We.gte=function(t){return this.cmp(t)>=0};We.isInteger=We.isint=function(){return this.e>this.d.length-2};We.isNegative=We.isneg=function(){return this.s<0};We.isPositive=We.ispos=function(){return this.s>0};We.isZero=function(){return this.s===0};We.lessThan=We.lt=function(t){return this.cmp(t)<0};We.lessThanOrEqualTo=We.lte=function(t){return this.cmp(t)<1};We.logarithm=We.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(cs))throw Error(qs+"NaN");if(n.s<1)throw Error(qs+(n.s?"NaN":"-Infinity"));return n.eq(cs)?new r(0):(On=!1,e=el(ny(n,s),ny(t,s),s),On=!0,yn(e,i))};We.minus=We.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SQ(e,t):jQ(e,(t.s=-t.s,t))};We.modulo=We.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(qs+"NaN");return n.s?(On=!1,e=el(n,t,0,1).times(t),On=!0,n.minus(e)):yn(new r(n),i)};We.naturalExponential=We.exp=function(){return NQ(this)};We.naturalLogarithm=We.ln=function(){return ny(this)};We.negated=We.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};We.plus=We.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?jQ(e,t):SQ(e,(t.s=-t.s,t))};We.precision=We.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(cd+t);if(e=lr(i)+1,r=i.d.length-1,n=r*En+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};We.squareRoot=We.sqrt=function(){var t,e,n,r,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(qs+"NaN")}for(t=lr(l),On=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ga(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Tm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(s=r,r=s.plus(el(l,s,o+2)).times(.5),Ga(s.d).slice(0,o)===(e=Ga(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(yn(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;o+=4}return On=!0,yn(r,n)};We.times=We.mul=function(t){var e,n,r,i,s,o,l,c,d,f=this,m=f.constructor,p=f.d,v=(t=new m(t)).d;if(!f.s||!t.s)return new m(0);for(t.s*=f.s,n=f.e+t.e,c=p.length,d=v.length,c<d&&(s=p,p=v,v=s,o=c,c=d,d=o),s=[],o=c+d,r=o;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+v[r]*p[i-r-1]+e,s[i--]=l%Er|0,e=l/Er|0;s[i]=(s[i]+e)%Er|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,On?yn(t,m.precision):t};We.toDecimalPlaces=We.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ho(t,0,Sm),e===void 0?e=r.rounding:ho(e,0,8),yn(n,t+lr(n)+1,e))};We.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Nd(r,!0):(ho(t,0,Sm),e===void 0?e=i.rounding:ho(e,0,8),r=yn(new i(r),t+1,e),n=Nd(r,!0,t+1)),n};We.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Nd(i):(ho(t,0,Sm),e===void 0?e=s.rounding:ho(e,0,8),r=yn(new s(i),t+lr(i)+1,e),n=Nd(r.abs(),!1,t+lr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};We.toInteger=We.toint=function(){var t=this,e=t.constructor;return yn(new e(t),lr(t)+1,e.rounding)};We.toNumber=function(){return+this};We.toPower=We.pow=function(t){var e,n,r,i,s,o,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(cs);if(l=new c(l),!l.s){if(t.s<1)throw Error(qs+"Infinity");return l}if(l.eq(cs))return l;if(r=c.precision,t.eq(cs))return yn(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=l.s,o){if((n=f<0?-f:f)<=_Q){for(i=new c(cs),e=Math.ceil(r/En+4),On=!1;n%2&&(i=i.times(l),RB(i.d,e)),n=Tm(n/2),n!==0;)l=l.times(l),RB(l.d,e);return On=!0,t.s<0?new c(cs).div(i):yn(i,r)}}else if(s<0)throw Error(qs+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,On=!1,i=t.times(ny(l,r+d)),On=!0,i=NQ(i),i.s=s,i};We.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=lr(i),r=Nd(i,n<=s.toExpNeg||n>=s.toExpPos)):(ho(t,1,Sm),e===void 0?e=s.rounding:ho(e,0,8),i=yn(new s(i),t,e),n=lr(i),r=Nd(i,t<=n||n<=s.toExpNeg,t)),r};We.toSignificantDigits=We.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ho(t,1,Sm),e===void 0?e=r.rounding:ho(e,0,8)),yn(new r(n),t,e)};We.toString=We.valueOf=We.val=We.toJSON=We[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=lr(t),n=t.constructor;return Nd(t,e<=n.toExpNeg||e>=n.toExpPos)};function jQ(t,e){var n,r,i,s,o,l,c,d,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),On?yn(e,m):e;if(c=t.d,d=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(r=c,s=-s,l=d.length):(r=d,i=o,l=c.length),o=Math.ceil(m/En),l=o>l?o+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=d.length,l-s<0&&(s=l,r=d,d=c,c=r),n=0;s;)n=(c[--s]=c[s]+d[s]+n)/Er|0,c[s]%=Er;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,On?yn(e,m):e}function ho(t,e,n){if(t!==~~t||t<e||t>n)throw Error(cd+t)}function Ga(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=En-r.length,n&&(s+=oc(n)),s+=r;o=t[e],r=o+"",n=En-r.length,n&&(s+=oc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var el=(function(){function t(r,i){var s,o=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+o,r[l]=s%Er|0,o=s/Er|0;return o&&r.unshift(o),r}function e(r,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Er+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var l,c,d,f,m,p,v,w,x,g,_,T,A,I,P,C,E,N,O=r.constructor,D=r.s==i.s?1:-1,L=r.d,$=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(qs+"Division by zero");for(c=r.e-i.e,E=$.length,P=L.length,v=new O(D),w=v.d=[],d=0;$[d]==(L[d]||0);)++d;if($[d]>(L[d]||0)&&--c,s==null?T=s=O.precision:o?T=s+(lr(r)-lr(i))+1:T=s,T<0)return new O(0);if(T=T/En+2|0,d=0,E==1)for(f=0,$=$[0],T++;(d<P||f)&&T--;d++)A=f*Er+(L[d]||0),w[d]=A/$|0,f=A%$|0;else{for(f=Er/($[0]+1)|0,f>1&&($=t($,f),L=t(L,f),E=$.length,P=L.length),I=E,x=L.slice(0,E),g=x.length;g<E;)x[g++]=0;N=$.slice(),N.unshift(0),C=$[0],$[1]>=Er/2&&++C;do f=0,l=e($,x,E,g),l<0?(_=x[0],E!=g&&(_=_*Er+(x[1]||0)),f=_/C|0,f>1?(f>=Er&&(f=Er-1),m=t($,f),p=m.length,g=x.length,l=e(m,x,p,g),l==1&&(f--,n(m,E<p?N:$,p))):(f==0&&(l=f=1),m=$.slice()),p=m.length,p<g&&m.unshift(0),n(x,m,g),l==-1&&(g=x.length,l=e($,x,E,g),l<1&&(f++,n(x,E<g?N:$,g))),g=x.length):l===0&&(f++,x=[0]),w[d++]=f,l&&x[0]?x[g++]=L[I]||0:(x=[L[I]],g=1);while((I++<P||x[0]!==void 0)&&T--)}return w[0]||w.shift(),v.e=c,yn(v,o?s+lr(v)+1:s)}})();function NQ(t,e){var n,r,i,s,o,l,c=0,d=0,f=t.constructor,m=f.precision;if(lr(t)>16)throw Error(eR+lr(t));if(!t.s)return new f(cs);for(On=!1,l=m,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(Uu(2,d))/Math.LN10*2+5|0,l+=r,n=i=s=new f(cs),f.precision=l;;){if(i=yn(i.times(t),l),n=n.times(++c),o=s.plus(el(i,n,l)),Ga(o.d).slice(0,l)===Ga(s.d).slice(0,l)){for(;d--;)s=yn(s.times(s),l);return f.precision=m,e==null?(On=!0,yn(s,m)):s}s=o}}function lr(t){for(var e=t.e*En,n=t.d[0];n>=10;n/=10)e++;return e}function cE(t,e,n){if(e>t.LN10.sd())throw On=!0,n&&(t.precision=n),Error(qs+"LN10 precision limit exceeded");return yn(new t(t.LN10),e)}function oc(t){for(var e="";t--;)e+="0";return e}function ny(t,e){var n,r,i,s,o,l,c,d,f,m=1,p=10,v=t,w=v.d,x=v.constructor,g=x.precision;if(v.s<1)throw Error(qs+(v.s?"NaN":"-Infinity"));if(v.eq(cs))return new x(0);if(e==null?(On=!1,d=g):d=e,v.eq(10))return e==null&&(On=!0),cE(x,d);if(d+=p,x.precision=d,n=Ga(w),r=n.charAt(0),s=lr(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Ga(v.d),r=n.charAt(0),m++;s=lr(v),r>1?(v=new x("0."+n),s++):v=new x(r+"."+n.slice(1))}else return c=cE(x,d+2,g).times(s+""),v=ny(new x(r+"."+n.slice(1)),d-p).plus(c),x.precision=g,e==null?(On=!0,yn(v,g)):v;for(l=o=v=el(v.minus(cs),v.plus(cs),d),f=yn(v.times(v),d),i=3;;){if(o=yn(o.times(f),d),c=l.plus(el(o,new x(i),d)),Ga(c.d).slice(0,d)===Ga(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(cE(x,d+2,g).times(s+""))),l=el(l,new x(m),d),x.precision=g,e==null?(On=!0,yn(l,g)):l;l=c,i+=2}}function OB(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Tm(n/En),t.d=[],r=(n+1)%En,n<0&&(r+=En),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=En;r<i;)t.d.push(+e.slice(r,r+=En));e=e.slice(r),r=En-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),On&&(t.e>Kb||t.e<-Kb))throw Error(eR+n)}else t.s=0,t.e=0,t.d=[0];return t}function yn(t,e,n){var r,i,s,o,l,c,d,f,m=t.d;for(o=1,s=m[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=En,i=e,d=m[f=0];else{if(f=Math.ceil((r+1)/En),s=m.length,f>=s)return t;for(d=s=m[f],o=1;s>=10;s/=10)o++;r%=En,i=r-En+o}if(n!==void 0&&(s=Uu(10,o-i-1),l=d/s%10|0,c=e<0||m[f+1]!==void 0||d%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/Uu(10,o-i):0:m[f-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(s=lr(t),m.length=1,e=e-s-1,m[0]=Uu(10,(En-e%En)%En),t.e=Tm(-e/En)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=f,s=1,f--):(m.length=f+1,s=Uu(10,En-r),m[f]=i>0?(d/Uu(10,o-i)%Uu(10,i)|0)*s:0),c)for(;;)if(f==0){(m[0]+=s)==Er&&(m[0]=1,++t.e);break}else{if(m[f]+=s,m[f]!=Er)break;m[f--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(On&&(t.e>Kb||t.e<-Kb))throw Error(eR+lr(t));return t}function SQ(t,e){var n,r,i,s,o,l,c,d,f,m,p=t.constructor,v=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),On?yn(e,v):e;if(c=t.d,m=e.d,r=e.e,d=t.e,c=c.slice(),o=d-r,o){for(f=o<0,f?(n=c,o=-o,l=m.length):(n=m,r=d,l=c.length),i=Math.max(Math.ceil(v/En),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=m.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){f=c[i]<m[i];break}o=0}for(f&&(n=c,c=m,m=n,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>o;){if(c[--i]<m[i]){for(s=i;s&&c[--s]===0;)c[s]=Er-1;--c[s],c[i]+=Er}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,On?yn(e,v):e):new p(0)}function Nd(t,e,n){var r,i=lr(t),s=Ga(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+oc(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+oc(-i-1)+s,n&&(r=n-o)>0&&(s+=oc(r))):i>=o?(s+=oc(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+oc(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=oc(r))),t.s<0?"-"+s:s}function RB(t,e){if(t.length>e)return t.length=e,!0}function TQ(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(cd+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return OB(o,s.toString())}else if(typeof s!="string")throw Error(cd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,sIe.test(s))OB(o,s);else throw Error(cd+s)}if(i.prototype=We,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=TQ,i.config=i.set=aIe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function aIe(t){if(!t||typeof t!="object")throw Error(qs+"Object expected");var e,n,r,i=["precision",1,Sm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Tm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(cd+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(cd+n+": "+r);return this}var tR=TQ(iIe);cs=new tR(1);const mn=tR;function oIe(t){return dIe(t)||uIe(t)||cIe(t)||lIe()}function lIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cIe(t,e){if(t){if(typeof t=="string")return $P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $P(t,e)}}function uIe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function dIe(t){if(Array.isArray(t))return $P(t)}function $P(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hIe=function(e){return e},EQ={},AQ=function(e){return e===EQ},MB=function(e){return function n(){return arguments.length===0||arguments.length===1&&AQ(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},fIe=function t(e,n){return e===1?n:MB(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==EQ}).length;return o>=e?n.apply(void 0,i):t(e-o,MB(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=i.map(function(m){return AQ(m)?c.shift():m});return n.apply(void 0,oIe(f).concat(c))}))})},H1=function(e){return fIe(e.length,e)},FP=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},mIe=H1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),pIe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return hIe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},VP=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},PQ=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(l,c){return l===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function gIe(t){var e;return t===0?e=1:e=Math.floor(new mn(t).abs().log(10).toNumber())+1,e}function yIe(t,e,n){for(var r=new mn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var vIe=H1(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),xIe=H1(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),bIe=H1(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const G1={rangeStep:yIe,getDigitCount:gIe,interpolateNumber:vIe,uninterpolateNumber:xIe,uninterpolateTruncation:bIe};function BP(t){return jIe(t)||_Ie(t)||CQ(t)||wIe()}function wIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ie(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jIe(t){if(Array.isArray(t))return qP(t)}function ry(t,e){return TIe(t)||SIe(t,e)||CQ(t,e)||NIe()}function NIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CQ(t,e){if(t){if(typeof t=="string")return qP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qP(t,e)}}function qP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SIe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function TIe(t){if(Array.isArray(t))return t}function kQ(t){var e=ry(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function IQ(t,e,n){if(t.lte(0))return new mn(0);var r=G1.getDigitCount(t.toNumber()),i=new mn(10).pow(r),s=t.div(i),o=r!==1?.05:.1,l=new mn(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?c:new mn(Math.ceil(c))}function EIe(t,e,n){var r=1,i=new mn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new mn(10).pow(G1.getDigitCount(t)-1),i=new mn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new mn(Math.floor(t)))}else t===0?i=new mn(Math.floor((e-1)/2)):n||(i=new mn(Math.floor(t)));var o=Math.floor((e-1)/2),l=pIe(mIe(function(c){return i.add(new mn(c-o).mul(r)).toNumber()}),FP);return l(0,e)}function OQ(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new mn(0),tickMin:new mn(0),tickMax:new mn(0)};var s=IQ(new mn(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new mn(0):(o=new mn(t).add(e).div(2),o=o.sub(new mn(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new mn(e).sub(o).div(s).toNumber()),d=l+c+1;return d>n?OQ(t,e,n,r,i+1):(d<n&&(c=e>0?c+(n-d):c,l=e>0?l:l+(n-d)),{step:s,tickMin:o.sub(new mn(l).mul(s)),tickMax:o.add(new mn(c).mul(s))})}function AIe(t){var e=ry(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=kQ([n,r]),c=ry(l,2),d=c[0],f=c[1];if(d===-1/0||f===1/0){var m=f===1/0?[d].concat(BP(FP(0,i-1).map(function(){return 1/0}))):[].concat(BP(FP(0,i-1).map(function(){return-1/0})),[f]);return n>r?VP(m):m}if(d===f)return EIe(d,i,s);var p=OQ(d,f,o,s),v=p.step,w=p.tickMin,x=p.tickMax,g=G1.rangeStep(w,x.add(new mn(.1).mul(v)),v);return n>r?VP(g):g}function PIe(t,e){var n=ry(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=kQ([r,i]),l=ry(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[r,i];if(c===d)return[c];var f=Math.max(e,2),m=IQ(new mn(d).sub(c).div(f-1),s,0),p=[].concat(BP(G1.rangeStep(new mn(c),new mn(d).sub(new mn(.99).mul(m)),m)),[d]);return r>i?VP(p):p}var CIe=PQ(AIe),kIe=PQ(PIe),IIe="Invariant failed";function Sd(t,e){throw new Error(IIe)}var OIe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yb.apply(this,arguments)}function RIe(t,e){return $Ie(t)||LIe(t,e)||DIe(t,e)||MIe()}function MIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DIe(t,e){if(t){if(typeof t=="string")return DB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DB(t,e)}}function DB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function $Ie(t){if(Array.isArray(t))return t}function FIe(t,e){if(t==null)return{};var n=VIe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DQ(r.key),r)}}function UIe(t,e,n){return e&&qIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zIe(t,e,n){return e=Qb(e),WIe(t,RQ()?Reflect.construct(e,n||[],Qb(t).constructor):e.apply(t,n))}function WIe(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HIe(t)}function HIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RQ=function(){return!!t})()}function Qb(t){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qb(t)}function GIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UP(t,e)}function UP(t,e){return UP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UP(t,e)}function MQ(t,e,n){return e=DQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DQ(t){var e=KIe(t,"string");return Lf(e)=="symbol"?e:e+""}function KIe(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var c0=(function(t){function e(){return BIe(this,e),zIe(this,e,arguments)}return GIe(e,t),UIe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,l=r.dataKey,c=r.data,d=r.dataPointFormatter,f=r.xAxis,m=r.yAxis,p=FIe(r,OIe),v=Ye(p,!1);this.props.direction==="x"&&f.type!=="number"&&Sd();var w=c.map(function(x){var g=d(x,l),_=g.x,T=g.y,A=g.value,I=g.errorVal;if(!I)return null;var P=[],C,E;if(Array.isArray(I)){var N=RIe(I,2);C=N[0],E=N[1]}else C=E=I;if(s==="vertical"){var O=f.scale,D=T+i,L=D+o,$=D-o,F=O(A-C),G=O(A+E);P.push({x1:G,y1:L,x2:G,y2:$}),P.push({x1:F,y1:D,x2:G,y2:D}),P.push({x1:F,y1:L,x2:F,y2:$})}else if(s==="horizontal"){var Y=m.scale,K=_+i,X=K-o,U=K+o,Q=Y(A-C),re=Y(A+E);P.push({x1:X,y1:re,x2:U,y2:re}),P.push({x1:K,y1:Q,x2:K,y2:re}),P.push({x1:X,y1:Q,x2:U,y2:Q})}return z.createElement(Tt,Yb({className:"recharts-errorBar",key:"bar-".concat(P.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},v),P.map(function(W){return z.createElement("line",Yb({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return z.createElement(Tt,{className:"recharts-errorBars"},w)}}])})(z.Component);MQ(c0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});MQ(c0,"displayName","ErrorBar");function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function LB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LB(Object(n),!0).forEach(function(r){YIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YIe(t,e,n){return e=QIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QIe(t){var e=XIe(t,"string");return iy(e)=="symbol"?e:e+""}function XIe(t,e){if(iy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LQ=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=as(n,Hi);if(!o)return null;var l=Hi.defaultProps,c=l!==void 0?Du(Du({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:s==="children"?d=(r||[]).reduce(function(f,m){var p=m.item,v=m.props,w=v.sectors||v.data||[];return f.concat(w.map(function(x){return{type:o.props.iconType||p.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):d=(r||[]).map(function(f){var m=f.item,p=m.type.defaultProps,v=p!==void 0?Du(Du({},p),m.props):{},w=v.dataKey,x=v.name,g=v.legendType,_=v.hide;return{inactive:_,dataKey:w,type:c.iconType||g||"square",color:nR(m),value:x||w,payload:v}}),Du(Du(Du({},c),Hi.getWithHeight(o,i)),{},{payload:d,item:o})};function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function $B(t){return tOe(t)||eOe(t)||ZIe(t)||JIe()}function JIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZIe(t,e){if(t){if(typeof t=="string")return zP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zP(t,e)}}function eOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tOe(t){if(Array.isArray(t))return zP(t)}function zP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FB(Object(n),!0).forEach(function(r){df(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function df(t,e,n){return e=nOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nOe(t){var e=rOe(t,"string");return sy(e)=="symbol"?e:e+""}function rOe(t,e){if(sy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fn(t,e,n){return mt(t)||mt(e)?n:gr(e)?fs(t,e,n):nt(e)?e(t):n}function mg(t,e,n,r){var i=tIe(t,function(l){return Fn(l,e)});if(n==="number"){var s=i.filter(function(l){return ke(l)||parseFloat(l)});return s.length?[W1(s),jc(s)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!mt(l)}):i;return o.map(function(l){return gr(l)||l instanceof Date?l:""})}var iOe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,d=0;d<l;d++){var f=d>0?i[d-1].coordinate:i[l-1].coordinate,m=i[d].coordinate,p=d>=l-1?i[0].coordinate:i[d+1].coordinate,v=void 0;if(_i(m-f)!==_i(p-m)){var w=[];if(_i(p-m)===_i(c[1]-c[0])){v=p;var x=m+c[1]-c[0];w[0]=Math.min(x,(x+f)/2),w[1]=Math.max(x,(x+f)/2)}else{v=f;var g=p+c[1]-c[0];w[0]=Math.min(m,(g+m)/2),w[1]=Math.max(m,(g+m)/2)}var _=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(e>_[0]&&e<=_[1]||e>=w[0]&&e<=w[1]){o=i[d].index;break}}else{var T=Math.min(f,p),A=Math.max(f,p);if(e>(T+m)/2&&e<=(A+m)/2){o=i[d].index;break}}}else for(var I=0;I<l;I++)if(I===0&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I>0&&I<l-1&&e>(r[I].coordinate+r[I-1].coordinate)/2&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I===l-1&&e>(r[I].coordinate+r[I-1].coordinate)/2){o=r[I].index;break}return o},nR=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Wn(Wn({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},sOe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,d=l.length;c<d;c++)for(var f=s[l[c]].stackGroups,m=Object.keys(f),p=0,v=m.length;p<v;p++){var w=f[m[p]],x=w.items,g=w.cateAxisId,_=x.filter(function(E){return Zo(E.type).indexOf("Bar")>=0});if(_&&_.length){var T=_[0].type.defaultProps,A=T!==void 0?Wn(Wn({},T),_[0].props):_[0].props,I=A.barSize,P=A[g];o[P]||(o[P]=[]);var C=mt(I)?n:I;o[P].push({item:_[0],stackList:_.slice(1),barSize:mt(C)?void 0:ji(C,r,0)})}}return o},aOe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=ji(n,i,0,!0),f,m=[];if(o[0].barSize===+o[0].barSize){var p=!1,v=i/c,w=o.reduce(function(I,P){return I+P.barSize||0},0);w+=(c-1)*d,w>=i&&(w-=(c-1)*d,d=0),w>=i&&v>0&&(p=!0,v*=.9,w=c*v);var x=(i-w)/2>>0,g={offset:x-d,size:0};f=o.reduce(function(I,P){var C={item:P.item,position:{offset:g.offset+g.size+d,size:p?v:P.barSize}},E=[].concat($B(I),[C]);return g=E[E.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(N){E.push({item:N,position:g})}),E},m)}else{var _=ji(r,i,0,!0);i-2*_-(c-1)*d<=0&&(d=0);var T=(i-2*_-(c-1)*d)/c;T>1&&(T>>=0);var A=l===+l?Math.min(T,l):T;f=o.reduce(function(I,P,C){var E=[].concat($B(I),[{item:P.item,position:{offset:_+(T+d)*C+(T-A)/2,size:A}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(N){E.push({item:N,position:E[E.length-1].position})}),E},m)}return f},oOe=function(e,n,r,i){var s=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),d=LQ({children:s,legendWidth:c});if(d){var f=i||{},m=f.width,p=f.height,v=d.align,w=d.verticalAlign,x=d.layout;if((x==="vertical"||x==="horizontal"&&w==="middle")&&v!=="center"&&ke(e[v]))return Wn(Wn({},e),{},df({},v,e[v]+(m||0)));if((x==="horizontal"||x==="vertical"&&v==="center")&&w!=="middle"&&ke(e[w]))return Wn(Wn({},e),{},df({},w,e[w]+(p||0)))}return e},lOe=function(e,n,r){return mt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},$Q=function(e,n,r,i,s){var o=n.props.children,l=ms(o,c0).filter(function(d){return lOe(i,s,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,f){var m=Fn(f,r);if(mt(m))return d;var p=Array.isArray(m)?[W1(m),jc(m)]:[m,m],v=c.reduce(function(w,x){var g=Fn(f,x,0),_=p[0]-Math.abs(Array.isArray(g)?g[0]:g),T=p[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(_,w[0]),Math.max(T,w[1])]},[1/0,-1/0]);return[Math.min(v[0],d[0]),Math.max(v[1],d[1])]},[1/0,-1/0])}return null},cOe=function(e,n,r,i,s){var o=n.map(function(l){return $Q(e,l,r,s,i)}).filter(function(l){return!mt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},FQ=function(e,n,r,i,s){var o=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&$Q(e,c,d,i)||mg(e,d,r,s)});if(r==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var f=0,m=d.length;f<m;f++)l[d[f]]||(l[d[f]]=!0,c.push(d[f]));return c},[])},VQ=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},BQ=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(o=!0),c.coordinate});return s||l.push(n),o||l.push(r),l},Ko=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?_i(l[0]-l[1])*2*d:d,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(m){var p=s?s.indexOf(m):m;return{coordinate:i(p)+d,value:m,offset:d}});return f.filter(function(m){return!_m(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,p){return{coordinate:i(m)+d,value:m,index:p,offset:d}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+d,value:m,offset:d}}):i.domain().map(function(m,p){return{coordinate:i(m)+d,value:s?s[m]:m,index:p,offset:d}})},uE=new WeakMap,nx=function(e,n){if(typeof n!="function")return e;uE.has(e)||uE.set(e,new WeakMap);var r=uE.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},qQ=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Xg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:zb(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:fg(),realScaleType:"point"}:s==="category"?{scale:Xg(),realScaleType:"band"}:{scale:zb(),realScaleType:"linear"};if(wd(i)){var c="scale".concat(C1(i));return{scale:(NB[c]||fg)(),realScaleType:NB[c]?c:"point"}}return nt(i)?{scale:i}:{scale:fg(),realScaleType:"point"}},VB=1e-4,UQ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-VB,o=Math.max(i[0],i[1])+VB,l=e(n[0]),c=e(n[r-1]);(l<s||l>o||c<s||c>o)&&e.domain([n[0],n[r-1]])}},uOe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},dOe=function(e,n){if(!n||n.length!==2||!ke(n[0])||!ke(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!ke(e[0])||e[0]<r)&&(s[0]=r),(!ke(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},hOe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,l=0;l<n;++l){var c=_m(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},fOe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var l=_m(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},mOe={sign:hOe,expand:tTe,none:Pf,silhouette:nTe,wiggle:rTe,positive:fOe},pOe=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),s=mOe[r],o=eTe().keys(i).value(function(l,c){return+Fn(l,c,0)}).order(bP).offset(s);return o(e)},gOe=function(e,n,r,i,s,o){if(!e)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(m,p){var v,w=(v=p.type)!==null&&v!==void 0&&v.defaultProps?Wn(Wn({},p.type.defaultProps),p.props):p.props,x=w.stackId,g=w.hide;if(g)return m;var _=w[r],T=m[_]||{hasStack:!1,stackGroups:{}};if(gr(x)){var A=T.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};A.items.push(p),T.hasStack=!0,T.stackGroups[x]=A}else T.stackGroups[Fd("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Wn(Wn({},m),{},df({},_,T))},c),f={};return Object.keys(d).reduce(function(m,p){var v=d[p];if(v.hasStack){var w={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(x,g){var _=v.stackGroups[g];return Wn(Wn({},x),{},df({},g,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:pOe(e,_.items,s)}))},w)}return Wn(Wn({},m),{},df({},p,v))},f)},zQ=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var f=CIe(d,s,l);return e.domain([W1(f),jc(f)]),{niceTicks:f}}if(s&&i==="number"){var m=e.domain(),p=kIe(m,s,l);return{niceTicks:p}}return null};function Xb(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!mt(i[e.dataKey])){var l=Tb(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Fn(i,mt(o)?e.dataKey:o);return mt(c)?null:e.scale(c)}var BB=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Fn(o,n.dataKey,n.domain[l]);return mt(c)?null:n.scale(c)-s/2+i},yOe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},vOe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Wn(Wn({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(gr(s)){var o=n[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},xOe=function(e){return e.reduce(function(n,r){return[W1(r.concat([n[0]]).filter(ke)),jc(r.concat([n[1]]).filter(ke))]},[1/0,-1/0])},WQ=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],l=o.stackedData,c=l.reduce(function(d,f){var m=xOe(f.slice(n,r+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},qB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WP=function(e,n,r){if(nt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ke(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(qB.test(e[0])){var s=+qB.exec(e[0])[1];i[0]=n[0]-s}else nt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ke(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(UB.test(e[1])){var o=+UB.exec(e[1])[1];i[1]=n[1]+o}else nt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Jb=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=CO(n,function(m){return m.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var d=s[l],f=s[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},zB=function(e,n,r){return!e||!e.length||Gc(e,fs(r,"type.defaultProps.domain"))?n:e},HQ=function(e,n){var r=e.type.defaultProps?Wn(Wn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,d=r.chartType,f=r.hide;return Wn(Wn({},Ye(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:nR(e),value:Fn(n,i),type:c,payload:n,chartType:d,hide:f})};function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function WB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WB(Object(n),!0).forEach(function(r){GQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GQ(t,e,n){return e=bOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bOe(t){var e=wOe(t,"string");return ay(e)=="symbol"?e:e+""}function wOe(t,e){if(ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Oe(t,e){return TOe(t)||SOe(t,e)||NOe(t,e)||jOe()}function jOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NOe(t,e){if(t){if(typeof t=="string")return HB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HB(t,e)}}function HB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function TOe(t){if(Array.isArray(t))return t}var Zb=Math.PI/180,EOe=function(e){return e*180/Math.PI},en=function(e,n,r,i){return{x:e+Math.cos(-Zb*i)*r,y:n+Math.sin(-Zb*i)*r}},KQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},YQ=function(e,n,r,i,s){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,f=ji(e.cx,o,o/2),m=ji(e.cy,l,l/2),p=KQ(o,l,r),v=ji(e.innerRadius,p,0),w=ji(e.outerRadius,p,p*.8),x=Object.keys(n);return x.reduce(function(g,_){var T=n[_],A=T.domain,I=T.reversed,P;if(mt(T.range))i==="angleAxis"?P=[c,d]:i==="radiusAxis"&&(P=[v,w]),I&&(P=[P[1],P[0]]);else{P=T.range;var C=P,E=_Oe(C,2);c=E[0],d=E[1]}var N=qQ(T,s),O=N.realScaleType,D=N.scale;D.domain(A).range(P),UQ(D);var L=zQ(D,$o($o({},T),{},{realScaleType:O})),$=$o($o($o({},T),L),{},{range:P,radius:w,realScaleType:O,scale:D,cx:f,cy:m,innerRadius:v,outerRadius:w,startAngle:c,endAngle:d});return $o($o({},g),{},GQ({},_,$))},{})},AOe=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},POe=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,l=AOe({x:r,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(r-s)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:EOe(d),angleInRadian:d}},COe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},kOe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(s,o);return e+l*360},GB=function(e,n){var r=e.x,i=e.y,s=POe({x:r,y:i},n),o=s.radius,l=s.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var f=COe(n),m=f.startAngle,p=f.endAngle,v=l,w;if(m<=p){for(;v>p;)v-=360;for(;v<m;)v+=360;w=v>=m&&v<=p}else{for(;v>m;)v-=360;for(;v<p;)v+=360;w=v>=p&&v<=m}return w?$o($o({},n),{},{radius:o,angle:kOe(v,n)}):null},QQ=function(e){return!S.isValidElement(e)&&!nt(e)&&typeof e!="boolean"?e.className:""};function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}var IOe=["offset"];function OOe(t){return LOe(t)||DOe(t)||MOe(t)||ROe()}function ROe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MOe(t,e){if(t){if(typeof t=="string")return HP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HP(t,e)}}function DOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LOe(t){if(Array.isArray(t))return HP(t)}function HP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $Oe(t,e){if(t==null)return{};var n=FOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KB(Object(n),!0).forEach(function(r){VOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VOe(t,e,n){return e=BOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BOe(t){var e=qOe(t,"string");return oy(e)=="symbol"?e:e+""}function qOe(t,e){if(oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(this,arguments)}var UOe=function(e){var n=e.value,r=e.formatter,i=mt(e.children)?n:e.children;return nt(r)?r(i):i},zOe=function(e,n){var r=_i(n-e),i=Math.min(Math.abs(n-e),360);return r*i},WOe=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,d=c.cx,f=c.cy,m=c.innerRadius,p=c.outerRadius,v=c.startAngle,w=c.endAngle,x=c.clockWise,g=(m+p)/2,_=zOe(v,w),T=_>=0?1:-1,A,I;i==="insideStart"?(A=v+T*o,I=x):i==="insideEnd"?(A=w-T*o,I=!x):i==="end"&&(A=w+T*o,I=x),I=_<=0?I:!I;var P=en(d,f,g,A),C=en(d,f,g,A+(I?1:-1)*359),E="M".concat(P.x,",").concat(P.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(I?0:1,`,
    `).concat(C.x,",").concat(C.y),N=mt(e.id)?Fd("recharts-radial-line-"):e.id;return z.createElement("text",ly({},r,{dominantBaseline:"central",className:ht("recharts-radial-bar-label",l)}),z.createElement("defs",null,z.createElement("path",{id:N,d:E})),z.createElement("textPath",{xlinkHref:"#".concat(N)},n))},HOe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,l=s.cy,c=s.innerRadius,d=s.outerRadius,f=s.startAngle,m=s.endAngle,p=(f+m)/2;if(i==="outside"){var v=en(o,l,d+r,p),w=v.x,x=v.y;return{x:w,y:x,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+d)/2,_=en(o,l,g,p),T=_.x,A=_.y;return{x:T,y:A,textAnchor:"middle",verticalAnchor:"middle"}},GOe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,l=o.x,c=o.y,d=o.width,f=o.height,m=f>=0?1:-1,p=m*i,v=m>0?"end":"start",w=m>0?"start":"end",x=d>=0?1:-1,g=x*i,_=x>0?"end":"start",T=x>0?"start":"end";if(s==="top"){var A={x:l+d/2,y:c-m*i,textAnchor:"middle",verticalAnchor:v};return fr(fr({},A),r?{height:Math.max(c-r.y,0),width:d}:{})}if(s==="bottom"){var I={x:l+d/2,y:c+f+p,textAnchor:"middle",verticalAnchor:w};return fr(fr({},I),r?{height:Math.max(r.y+r.height-(c+f),0),width:d}:{})}if(s==="left"){var P={x:l-g,y:c+f/2,textAnchor:_,verticalAnchor:"middle"};return fr(fr({},P),r?{width:Math.max(P.x-r.x,0),height:f}:{})}if(s==="right"){var C={x:l+d+g,y:c+f/2,textAnchor:T,verticalAnchor:"middle"};return fr(fr({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:f}:{})}var E=r?{width:d,height:f}:{};return s==="insideLeft"?fr({x:l+g,y:c+f/2,textAnchor:T,verticalAnchor:"middle"},E):s==="insideRight"?fr({x:l+d-g,y:c+f/2,textAnchor:_,verticalAnchor:"middle"},E):s==="insideTop"?fr({x:l+d/2,y:c+p,textAnchor:"middle",verticalAnchor:w},E):s==="insideBottom"?fr({x:l+d/2,y:c+f-p,textAnchor:"middle",verticalAnchor:v},E):s==="insideTopLeft"?fr({x:l+g,y:c+p,textAnchor:T,verticalAnchor:w},E):s==="insideTopRight"?fr({x:l+d-g,y:c+p,textAnchor:_,verticalAnchor:w},E):s==="insideBottomLeft"?fr({x:l+g,y:c+f-p,textAnchor:T,verticalAnchor:v},E):s==="insideBottomRight"?fr({x:l+d-g,y:c+f-p,textAnchor:_,verticalAnchor:v},E):wm(s)&&(ke(s.x)||Yu(s.x))&&(ke(s.y)||Yu(s.y))?fr({x:l+ji(s.x,d),y:c+ji(s.y,f),textAnchor:"end",verticalAnchor:"end"},E):fr({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},E)},KOe=function(e){return"cx"in e&&ke(e.cx)};function Ar(t){var e=t.offset,n=e===void 0?5:e,r=$Oe(t,IOe),i=fr({offset:n},r),s=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,f=i.className,m=f===void 0?"":f,p=i.textBreakAll;if(!s||mt(l)&&mt(c)&&!S.isValidElement(d)&&!nt(d))return null;if(S.isValidElement(d))return S.cloneElement(d,i);var v;if(nt(d)){if(v=S.createElement(d,i),S.isValidElement(v))return v}else v=UOe(i);var w=KOe(s),x=Ye(i,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return WOe(i,v,x);var g=w?HOe(i):GOe(i);return z.createElement(jd,ly({className:ht("recharts-label",m)},x,g,{breakAll:p}),v)}Ar.displayName="Label";var XQ=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,f=e.outerRadius,m=e.x,p=e.y,v=e.top,w=e.left,x=e.width,g=e.height,_=e.clockWise,T=e.labelViewBox;if(T)return T;if(ke(x)&&ke(g)){if(ke(m)&&ke(p))return{x:m,y:p,width:x,height:g};if(ke(v)&&ke(w))return{x:v,y:w,width:x,height:g}}return ke(m)&&ke(p)?{x:m,y:p,width:0,height:0}:ke(n)&&ke(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:f||c||l||0,clockWise:_}:e.viewBox?e.viewBox:{}},YOe=function(e,n){return e?e===!0?z.createElement(Ar,{key:"label-implicit",viewBox:n}):gr(e)?z.createElement(Ar,{key:"label-implicit",viewBox:n,value:e}):S.isValidElement(e)?e.type===Ar?S.cloneElement(e,{key:"label-implicit",viewBox:n}):z.createElement(Ar,{key:"label-implicit",content:e,viewBox:n}):nt(e)?z.createElement(Ar,{key:"label-implicit",content:e,viewBox:n}):wm(e)?z.createElement(Ar,ly({viewBox:n},e,{key:"label-implicit"})):null:null},QOe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=XQ(e),o=ms(i,Ar).map(function(c,d){return S.cloneElement(c,{viewBox:n||s,key:"label-".concat(d)})});if(!r)return o;var l=YOe(e.label,n||s);return[l].concat(OOe(o))};Ar.parseViewBox=XQ;Ar.renderCallByParent=QOe;var dE,YB;function XOe(){if(YB)return dE;YB=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return dE=t,dE}var JOe=XOe();const JQ=Jt(JOe);function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}var ZOe=["valueAccessor"],eRe=["data","dataKey","clockWise","id","textBreakAll"];function tRe(t){return sRe(t)||iRe(t)||rRe(t)||nRe()}function nRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rRe(t,e){if(t){if(typeof t=="string")return GP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GP(t,e)}}function iRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sRe(t){if(Array.isArray(t))return GP(t)}function GP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}function QB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QB(Object(n),!0).forEach(function(r){aRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aRe(t,e,n){return e=oRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oRe(t){var e=lRe(t,"string");return cy(e)=="symbol"?e:e+""}function lRe(t,e){if(cy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JB(t,e){if(t==null)return{};var n=cRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var uRe=function(e){return Array.isArray(e.value)?JQ(e.value):e.value};function fa(t){var e=t.valueAccessor,n=e===void 0?uRe:e,r=JB(t,ZOe),i=r.data,s=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,d=JB(r,eRe);return!i||!i.length?null:z.createElement(Tt,{className:"recharts-label-list"},i.map(function(f,m){var p=mt(s)?n(f,m):Fn(f&&f.payload,s),v=mt(l)?{}:{id:"".concat(l,"-").concat(m)};return z.createElement(Ar,ew({},Ye(f,!0),d,v,{parentViewBox:f.parentViewBox,value:p,textBreakAll:c,viewBox:Ar.parseViewBox(mt(o)?f:XB(XB({},f),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}fa.displayName="LabelList";function dRe(t,e){return t?t===!0?z.createElement(fa,{key:"labelList-implicit",data:e}):z.isValidElement(t)||nt(t)?z.createElement(fa,{key:"labelList-implicit",data:e,content:t}):wm(t)?z.createElement(fa,ew({data:e},t,{key:"labelList-implicit"})):null:null}function hRe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ms(r,fa).map(function(o,l){return S.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=dRe(t.label,e);return[s].concat(tRe(i))}fa.renderCallByParent=hRe;function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function KP(){return KP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KP.apply(this,arguments)}function ZB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZB(Object(n),!0).forEach(function(r){fRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fRe(t,e,n){return e=mRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mRe(t){var e=pRe(t,"string");return uy(e)=="symbol"?e:e+""}function pRe(t,e){if(uy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gRe=function(e,n){var r=_i(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},rx=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,f=c*(l?1:-1)+i,m=Math.asin(c/f)/Zb,p=d?s:s+o*m,v=en(n,r,f,p),w=en(n,r,i,p),x=d?s-o*m:s,g=en(n,r,f*Math.cos(m*Zb),x);return{center:v,circleTangency:w,lineTangency:g,theta:m}},ZQ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=gRe(o,l),d=o+c,f=en(n,r,s,o),m=en(n,r,s,d),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var v=en(n,r,i,o),w=en(n,r,i,d);p+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},yRe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,f=e.endAngle,m=_i(f-d),p=rx({cx:n,cy:r,radius:s,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),v=p.circleTangency,w=p.lineTangency,x=p.theta,g=rx({cx:n,cy:r,radius:s,angle:f,sign:-m,cornerRadius:o,cornerIsExternal:c}),_=g.circleTangency,T=g.lineTangency,A=g.theta,I=c?Math.abs(d-f):Math.abs(d-f)-x-A;if(I<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ZQ({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f});var P="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(I>180),",").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(i>0){var C=rx({cx:n,cy:r,radius:i,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=C.circleTangency,N=C.lineTangency,O=C.theta,D=rx({cx:n,cy:r,radius:i,angle:f,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=D.circleTangency,$=D.lineTangency,F=D.theta,G=c?Math.abs(d-f):Math.abs(d-f)-O-F;if(G<0&&o===0)return"".concat(P,"L").concat(n,",").concat(r,"Z");P+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(G>180),",").concat(+(m>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(N.x,",").concat(N.y,"Z")}else P+="L".concat(n,",").concat(r,"Z");return P},vRe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eX=function(e){var n=e8(e8({},vRe),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,f=n.startAngle,m=n.endAngle,p=n.className;if(o<s||f===m)return null;var v=ht("recharts-sector",p),w=o-s,x=ji(l,w,0,!0),g;return x>0&&Math.abs(f-m)<360?g=yRe({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,w/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):g=ZQ({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:m}),z.createElement("path",KP({},Ye(n,!0),{className:v,d:g,role:"img"}))};function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function YP(){return YP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YP.apply(this,arguments)}function t8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t8(Object(n),!0).forEach(function(r){xRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xRe(t,e,n){return e=bRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bRe(t){var e=wRe(t,"string");return dy(e)=="symbol"?e:e+""}function wRe(t,e){if(dy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r8={curveBasisClosed:U2e,curveBasisOpen:z2e,curveBasis:q2e,curveBumpX:A2e,curveBumpY:P2e,curveLinearClosed:W2e,curveLinear:I1,curveMonotoneX:H2e,curveMonotoneY:G2e,curveNatural:K2e,curveStep:Y2e,curveStepAfter:X2e,curveStepBefore:Q2e},ix=function(e){return e.x===+e.x&&e.y===+e.y},Op=function(e){return e.x},Rp=function(e){return e.y},_Re=function(e,n){if(nt(e))return e;var r="curve".concat(C1(e));return(r==="curveMonotone"||r==="curveBump")&&n?r8["".concat(r).concat(n==="vertical"?"Y":"X")]:r8[r]||I1},jRe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,f=_Re(r,l),m=d?s.filter(function(x){return ix(x)}):s,p;if(Array.isArray(o)){var v=d?o.filter(function(x){return ix(x)}):o,w=m.map(function(x,g){return n8(n8({},x),{},{base:v[g]})});return l==="vertical"?p=Yv().y(Rp).x1(Op).x0(function(x){return x.base.x}):p=Yv().x(Op).y1(Rp).y0(function(x){return x.base.y}),p.defined(ix).curve(f),p(w)}return l==="vertical"&&ke(o)?p=Yv().y(Rp).x1(Op).x0(o):ke(o)?p=Yv().x(Op).y1(Rp).y0(o):p=QK().x(Op).y(Rp),p.defined(ix).curve(f),p(m)},ud=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?jRe(e):i;return S.createElement("path",YP({},Ye(e,!1),Eb(e),{className:ht("recharts-curve",n),d:o,ref:s}))},hE={exports:{}},fE,i8;function NRe(){if(i8)return fE;i8=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return fE=t,fE}var mE,s8;function SRe(){if(s8)return mE;s8=1;var t=NRe();function e(){}function n(){}return n.resetWarningCache=e,mE=function(){function r(o,l,c,d,f,m){if(m!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},mE}var a8;function TRe(){return a8||(a8=1,hE.exports=SRe()()),hE.exports}var ERe=TRe();const sn=Jt(ERe);var ARe=Object.getOwnPropertyNames,PRe=Object.getOwnPropertySymbols,CRe=Object.prototype.hasOwnProperty;function o8(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function sx(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),l=s.get(r);if(o&&l)return o===r&&l===n;s.set(n,r),s.set(r,n);var c=t(n,r,i);return s.delete(n),s.delete(r),c}}function kRe(t){return t!=null?t[Symbol.toStringTag]:void 0}function l8(t){return ARe(t).concat(PRe(t))}var IRe=Object.hasOwn||(function(t,e){return CRe.call(t,e)});function qd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ORe="__v",RRe="__o",MRe="_owner",c8=Object.getOwnPropertyDescriptor,u8=Object.keys;function DRe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function LRe(t,e){return qd(t.getTime(),e.getTime())}function $Re(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function FRe(t,e){return t===e}function d8(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var d=e.entries(),f=!1,m=0;(l=d.next())&&!l.done;){if(i[m]){m++;continue}var p=o.value,v=l.value;if(n.equals(p[0],v[0],c,m,t,e,n)&&n.equals(p[1],v[1],p[0],v[0],t,e,n)){f=i[m]=!0;break}m++}if(!f)return!1;c++}return!0}var VRe=qd;function BRe(t,e,n){var r=u8(t),i=r.length;if(u8(e).length!==i)return!1;for(;i-- >0;)if(!tX(t,e,n,r[i]))return!1;return!0}function Mp(t,e,n){var r=l8(t),i=r.length;if(l8(e).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=r[i],!tX(t,e,n,s)||(o=c8(t,s),l=c8(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function qRe(t,e){return qd(t.valueOf(),e.valueOf())}function URe(t,e){return t.source===e.source&&t.flags===e.flags}function h8(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,l;(o=s.next())&&!o.done;){for(var c=e.values(),d=!1,f=0;(l=c.next())&&!l.done;){if(!i[f]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1}return!0}function zRe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function WRe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function tX(t,e,n,r){return(r===MRe||r===RRe||r===ORe)&&(t.$$typeof||e.$$typeof)?!0:IRe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var HRe="[object Arguments]",GRe="[object Boolean]",KRe="[object Date]",YRe="[object Error]",QRe="[object Map]",XRe="[object Number]",JRe="[object Object]",ZRe="[object RegExp]",eMe="[object Set]",tMe="[object String]",nMe="[object URL]",rMe=Array.isArray,f8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,m8=Object.assign,iMe=Object.prototype.toString.call.bind(Object.prototype.toString);function sMe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,f=t.areSetsEqual,m=t.areTypedArraysEqual,p=t.areUrlsEqual,v=t.unknownTagComparators;return function(x,g,_){if(x===g)return!0;if(x==null||g==null)return!1;var T=typeof x;if(T!==typeof g)return!1;if(T!=="object")return T==="number"?o(x,g,_):T==="function"?i(x,g,_):!1;var A=x.constructor;if(A!==g.constructor)return!1;if(A===Object)return l(x,g,_);if(rMe(x))return e(x,g,_);if(f8!=null&&f8(x))return m(x,g,_);if(A===Date)return n(x,g,_);if(A===RegExp)return d(x,g,_);if(A===Map)return s(x,g,_);if(A===Set)return f(x,g,_);var I=iMe(x);if(I===KRe)return n(x,g,_);if(I===ZRe)return d(x,g,_);if(I===QRe)return s(x,g,_);if(I===eMe)return f(x,g,_);if(I===JRe)return typeof x.then!="function"&&typeof g.then!="function"&&l(x,g,_);if(I===nMe)return p(x,g,_);if(I===YRe)return r(x,g,_);if(I===HRe)return l(x,g,_);if(I===GRe||I===XRe||I===tMe)return c(x,g,_);if(v){var P=v[I];if(!P){var C=kRe(x);C&&(P=v[C])}if(P)return P(x,g,_)}return!1}}function aMe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Mp:DRe,areDatesEqual:LRe,areErrorsEqual:$Re,areFunctionsEqual:FRe,areMapsEqual:r?o8(d8,Mp):d8,areNumbersEqual:VRe,areObjectsEqual:r?Mp:BRe,arePrimitiveWrappersEqual:qRe,areRegExpsEqual:URe,areSetsEqual:r?o8(h8,Mp):h8,areTypedArraysEqual:r?Mp:zRe,areUrlsEqual:WRe,unknownTagComparators:void 0};if(n&&(i=m8({},i,n(i))),e){var s=sx(i.areArraysEqual),o=sx(i.areMapsEqual),l=sx(i.areObjectsEqual),c=sx(i.areSetsEqual);i=m8({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function oMe(t){return function(e,n,r,i,s,o,l){return t(e,n,l)}}function lMe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(c,d){var f=r(),m=f.cache,p=m===void 0?e?new WeakMap:void 0:m,v=f.meta;return n(c,d,{cache:p,equals:i,meta:v,strict:s})};if(e)return function(c,d){return n(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,d){return n(c,d,o)}}var cMe=su();su({strict:!0});su({circular:!0});su({circular:!0,strict:!0});su({createInternalComparator:function(){return qd}});su({strict:!0,createInternalComparator:function(){return qd}});su({circular:!0,createInternalComparator:function(){return qd}});su({circular:!0,createInternalComparator:function(){return qd},strict:!0});function su(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,l=aMe(t),c=sMe(l),d=r?r(c):oMe(c);return lMe({circular:n,comparator:c,createState:i,equals:d,strict:o})}function uMe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function p8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):uMe(i)};requestAnimationFrame(r)}function QP(t){"@babel/helpers - typeof";return QP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QP(t)}function dMe(t){return pMe(t)||mMe(t)||fMe(t)||hMe()}function hMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fMe(t,e){if(t){if(typeof t=="string")return g8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g8(t,e)}}function g8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pMe(t){if(Array.isArray(t))return t}function gMe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,l=dMe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){p8(i.bind(null,d),c);return}i(c),p8(i.bind(null,d));return}QP(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function hy(t){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hy(t)}function y8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y8(Object(n),!0).forEach(function(r){nX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nX(t,e,n){return e=yMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yMe(t){var e=vMe(t,"string");return hy(e)==="symbol"?e:String(e)}function vMe(t,e){if(hy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xMe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},bMe=function(e){return e},wMe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},pg=function(e,n){return Object.keys(n).reduce(function(r,i){return v8(v8({},r),{},nX({},i,e(i,n[i])))},{})},x8=function(e,n,r){return e.map(function(i){return"".concat(wMe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function _Me(t,e){return SMe(t)||NMe(t,e)||rX(t,e)||jMe()}function jMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function SMe(t){if(Array.isArray(t))return t}function TMe(t){return PMe(t)||AMe(t)||rX(t)||EMe()}function EMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rX(t,e){if(t){if(typeof t=="string")return XP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XP(t,e)}}function AMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PMe(t){if(Array.isArray(t))return XP(t)}function XP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tw=1e-4,iX=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},sX=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},b8=function(e,n){return function(r){var i=iX(e,n);return sX(i,r)}},CMe=function(e,n){return function(r){var i=iX(e,n),s=[].concat(TMe(i.map(function(o,l){return o*l}).slice(1)),[0]);return sX(s,r)}},w8=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),f=_Me(d,4);i=f[0],s=f[1],o=f[2],l=f[3]}}}var m=b8(i,o),p=b8(s,l),v=CMe(i,o),w=function(_){return _>1?1:_<0?0:_},x=function(_){for(var T=_>1?1:_,A=T,I=0;I<8;++I){var P=m(A)-T,C=v(A);if(Math.abs(P-T)<tw||C<tw)return p(A);A=w(A-P/C)}return p(A)};return x.isStepper=!1,x},kMe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(f,m,p){var v=-(f-m)*r,w=p*s,x=p+(v-w)*l/1e3,g=p*l/1e3+f;return Math.abs(g-m)<tw&&Math.abs(x)<tw?[m,0]:[g,x]};return c.isStepper=!0,c.dt=l,c},IMe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return w8(i);case"spring":return kMe();default:if(i.split("(")[0]==="cubic-bezier")return w8(i)}return typeof i=="function"?i:null};function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function _8(t){return MMe(t)||RMe(t)||aX(t)||OMe()}function OMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MMe(t){if(Array.isArray(t))return ZP(t)}function j8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j8(Object(n),!0).forEach(function(r){JP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JP(t,e,n){return e=DMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DMe(t){var e=LMe(t,"string");return fy(e)==="symbol"?e:String(e)}function LMe(t,e){if(fy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Me(t,e){return BMe(t)||VMe(t,e)||aX(t,e)||FMe()}function FMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aX(t,e){if(t){if(typeof t=="string")return ZP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZP(t,e)}}function ZP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function BMe(t){if(Array.isArray(t))return t}var nw=function(e,n,r){return e+(n-e)*r},eC=function(e){var n=e.from,r=e.to;return n!==r},qMe=function t(e,n,r){var i=pg(function(s,o){if(eC(o)){var l=e(o.from,o.to,o.velocity),c=$Me(l,2),d=c[0],f=c[1];return Lr(Lr({},o),{},{from:d,velocity:f})}return o},n);return r<1?pg(function(s,o){return eC(o)?Lr(Lr({},o),{},{velocity:nw(o.velocity,i[s].velocity,r),from:nw(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const UMe=(function(t,e,n,r,i){var s=xMe(t,e),o=s.reduce(function(g,_){return Lr(Lr({},g),{},JP({},_,[t[_],e[_]]))},{}),l=s.reduce(function(g,_){return Lr(Lr({},g),{},JP({},_,{from:t[_],velocity:0,to:e[_]}))},{}),c=-1,d,f,m=function(){return null},p=function(){return pg(function(_,T){return T.from},l)},v=function(){return!Object.values(l).filter(eC).length},w=function(_){d||(d=_);var T=_-d,A=T/n.dt;l=qMe(n,l,A),i(Lr(Lr(Lr({},t),e),p())),d=_,v()||(c=requestAnimationFrame(m))},x=function(_){f||(f=_);var T=(_-f)/r,A=pg(function(P,C){return nw.apply(void 0,_8(C).concat([n(T)]))},o);if(i(Lr(Lr(Lr({},t),e),A)),T<1)c=requestAnimationFrame(m);else{var I=pg(function(P,C){return nw.apply(void 0,_8(C).concat([n(1)]))},o);i(Lr(Lr(Lr({},t),e),I))}};return m=n.isStepper?w:x,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}var zMe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function WMe(t,e){if(t==null)return{};var n=HMe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HMe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pE(t){return QMe(t)||YMe(t)||KMe(t)||GMe()}function GMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KMe(t,e){if(t){if(typeof t=="string")return tC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tC(t,e)}}function YMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QMe(t){if(Array.isArray(t))return tC(t)}function tC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N8(Object(n),!0).forEach(function(r){Yp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yp(t,e,n){return e=oX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oX(r.key),r)}}function ZMe(t,e,n){return e&&JMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oX(t){var e=e4e(t,"string");return $f(e)==="symbol"?e:String(e)}function e4e(t,e){if($f(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nC(t,e)}function nC(t,e){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nC(t,e)}function n4e(t){var e=r4e();return function(){var r=rw(t),i;if(e){var s=rw(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return rC(this,i)}}function rC(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iC(t)}function iC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r4e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rw(t){return rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rw(t)}var Us=(function(t){t4e(n,t);var e=n4e(n);function n(r,i){var s;XMe(this,n),s=e.call(this,r,i);var o=s.props,l=o.isActive,c=o.attributeName,d=o.from,f=o.to,m=o.steps,p=o.children,v=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(iC(s)),s.changeStyle=s.changeStyle.bind(iC(s)),!l||v<=0)return s.state={style:{}},typeof p=="function"&&(s.state={style:f}),rC(s);if(m&&m.length)s.state={style:m[0].style};else if(d){if(typeof p=="function")return s.state={style:d},rC(s);s.state={style:c?Yp({},c,d):d}}else s.state={style:{}};return s}return ZMe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,d=s.shouldReAnimate,f=s.to,m=s.from,p=this.state.style;if(l){if(!o){var v={style:c?Yp({},c,f):f};this.state&&p&&(c&&p[c]!==f||!c&&p!==f)&&this.setState(v);return}if(!(cMe(i.to,f)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=w||d?m:i.to;if(this.state&&p){var g={style:c?Yp({},c,x):x};(c&&p[c]!==x||!c&&p!==x)&&this.setState(g)}this.runAnimation(na(na({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,d=i.easing,f=i.begin,m=i.onAnimationEnd,p=i.onAnimationStart,v=UMe(o,l,IMe(d),c,this.changeStyle),w=function(){s.stopJSAnimation=v()};this.manager.start([p,f,w,c,m])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],f=d.style,m=d.duration,p=m===void 0?0:m,v=function(x,g,_){if(_===0)return x;var T=g.duration,A=g.easing,I=A===void 0?"ease":A,P=g.style,C=g.properties,E=g.onAnimationEnd,N=_>0?o[_-1]:g,O=C||Object.keys(P);if(typeof I=="function"||I==="spring")return[].concat(pE(x),[s.runJSAnimation.bind(s,{from:N.style,to:P,duration:T,easing:I}),T]);var D=x8(O,T,I),L=na(na(na({},N.style),P),{},{transition:D});return[].concat(pE(x),[L,T,E]).filter(bMe)};return this.manager.start([c].concat(pE(o.reduce(v,[f,Math.max(p,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=gMe());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,f=i.onAnimationStart,m=i.onAnimationEnd,p=i.steps,v=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof d=="function"||typeof v=="function"||d==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var x=l?Yp({},l,c):c,g=x8(Object.keys(x),o,d);w.start([f,s,na(na({},x),{},{transition:g}),o,m])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=WMe(i,zMe),d=S.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||d===0||o<=0)return s;var m=function(v){var w=v.props,x=w.style,g=x===void 0?{}:x,_=w.className,T=S.cloneElement(v,na(na({},c),{},{style:na(na({},g),f),className:_}));return T};return d===1?m(S.Children.only(s)):z.createElement("div",null,S.Children.map(s,function(p){return m(p)}))}}]),n})(S.PureComponent);Us.displayName="Animate";Us.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Us.propTypes={from:sn.oneOfType([sn.object,sn.string]),to:sn.oneOfType([sn.object,sn.string]),attributeName:sn.string,duration:sn.number,begin:sn.number,easing:sn.oneOfType([sn.string,sn.func]),steps:sn.arrayOf(sn.shape({duration:sn.number.isRequired,style:sn.object.isRequired,easing:sn.oneOfType([sn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),sn.func]),properties:sn.arrayOf("string"),onAnimationEnd:sn.func})),children:sn.oneOfType([sn.node,sn.func]),isActive:sn.bool,canBegin:sn.bool,onAnimationEnd:sn.func,shouldReAnimate:sn.bool,onAnimationStart:sn.func,onAnimationReStart:sn.func};function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(this,arguments)}function i4e(t,e){return l4e(t)||o4e(t,e)||a4e(t,e)||s4e()}function s4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a4e(t,e){if(t){if(typeof t=="string")return S8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S8(t,e)}}function S8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function l4e(t){if(Array.isArray(t))return t}function T8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(n),!0).forEach(function(r){c4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c4e(t,e,n){return e=u4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u4e(t){var e=d4e(t,"string");return my(e)=="symbol"?e:e+""}function d4e(t,e){if(my(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(my(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A8=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,d=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&s instanceof Array){for(var m=[0,0,0,0],p=0,v=4;p<v;p++)m[p]=s[p]>o?o:s[p];f="M".concat(e,",").concat(n+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(n)),f+="L ".concat(e+r-c*m[1],",").concat(n),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(n+l*m[1])),f+="L ".concat(e+r,",").concat(n+i-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+r-c*m[2],",").concat(n+i)),f+="L ".concat(e+c*m[3],",").concat(n+i),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(n+i-l*m[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var w=Math.min(o,s);f="M ".concat(e,",").concat(n+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+c*w,",").concat(n,`
            L `).concat(e+r-c*w,",").concat(n,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+r,",").concat(n+l*w,`
            L `).concat(e+r,",").concat(n+i-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+r-c*w,",").concat(n+i,`
            L `).concat(e+c*w,",").concat(n+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e,",").concat(n+i-l*w," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},h4e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(s,s+l),f=Math.max(s,s+l),m=Math.min(o,o+c),p=Math.max(o,o+c);return r>=d&&r<=f&&i>=m&&i<=p}return!1},f4e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rR=function(e){var n=E8(E8({},f4e),e),r=S.useRef(),i=S.useState(-1),s=i4e(i,2),o=s[0],l=s[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&l(I)}catch{}},[]);var c=n.x,d=n.y,f=n.width,m=n.height,p=n.radius,v=n.className,w=n.animationEasing,x=n.animationDuration,g=n.animationBegin,_=n.isAnimationActive,T=n.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||m!==+m||f===0||m===0)return null;var A=ht("recharts-rectangle",v);return T?z.createElement(Us,{canBegin:o>0,from:{width:f,height:m,x:c,y:d},to:{width:f,height:m,x:c,y:d},duration:x,animationEasing:w,isActive:T},function(I){var P=I.width,C=I.height,E=I.x,N=I.y;return z.createElement(Us,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,isActive:_,easing:w},z.createElement("path",iw({},Ye(n,!0),{className:A,d:A8(E,N,P,C,p),ref:r})))}):z.createElement("path",iw({},Ye(n,!0),{className:A,d:A8(c,d,f,m,p)}))},m4e=["points","className","baseLinePoints","connectNulls"];function Hh(){return Hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hh.apply(this,arguments)}function p4e(t,e){if(t==null)return{};var n=g4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function g4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function P8(t){return b4e(t)||x4e(t)||v4e(t)||y4e()}function y4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v4e(t,e){if(t){if(typeof t=="string")return sC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sC(t,e)}}function x4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b4e(t){if(Array.isArray(t))return sC(t)}function sC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var C8=function(e){return e&&e.x===+e.x&&e.y===+e.y},w4e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){C8(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),C8(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},gg=function(e,n){var r=w4e(e);n&&(r=[r.reduce(function(s,o){return[].concat(P8(s),P8(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},_4e=function(e,n,r){var i=gg(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(gg(n.reverse(),r).slice(1))},lX=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,o=p4e(e,m4e);if(!n||!n.length)return null;var l=ht("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=_4e(n,i,s);return z.createElement("g",{className:l},z.createElement("path",Hh({},Ye(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?z.createElement("path",Hh({},Ye(o,!0),{fill:"none",d:gg(n,s)})):null,c?z.createElement("path",Hh({},Ye(o,!0),{fill:"none",d:gg(i,s)})):null)}var f=gg(n,s);return z.createElement("path",Hh({},Ye(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function aC(){return aC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aC.apply(this,arguments)}var Em=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=ht("recharts-dot",s);return n===+n&&r===+r&&i===+i?S.createElement("circle",aC({},Ye(e,!1),Eb(e),{className:o,cx:n,cy:r,r:i})):null};function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}var j4e=["x","y","top","left","width","height","className"];function oC(){return oC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oC.apply(this,arguments)}function k8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N4e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k8(Object(n),!0).forEach(function(r){S4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S4e(t,e,n){return e=T4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T4e(t){var e=E4e(t,"string");return py(e)=="symbol"?e:e+""}function E4e(t,e){if(py(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(py(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A4e(t,e){if(t==null)return{};var n=P4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var C4e=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},k4e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,f=e.width,m=f===void 0?0:f,p=e.height,v=p===void 0?0:p,w=e.className,x=A4e(e,j4e),g=N4e({x:r,y:s,top:l,left:d,width:m,height:v},x);return!ke(r)||!ke(s)||!ke(m)||!ke(v)||!ke(l)||!ke(d)?null:z.createElement("path",oC({},Ye(g,!0),{className:ht("recharts-cross",w),d:C4e(r,s,m,v,l,d)}))},I4e=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function O4e(t,e){if(t==null)return{};var n=R4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function R4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(this,arguments)}function I8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I8(Object(n),!0).forEach(function(r){M4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M4e(t,e,n){return e=D4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D4e(t){var e=L4e(t,"string");return gy(e)=="symbol"?e:e+""}function L4e(t,e){if(gy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $4e=function(e,n,r,i){var s="";return i.forEach(function(o,l){var c=en(n,r,e,o);l?s+="L ".concat(c.x,",").concat(c.y):s+="M ".concat(c.x,",").concat(c.y)}),s+="Z",s},F4e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.polarAngles,l=e.radialLines;if(!o||!o.length||!l)return null;var c=yy({stroke:"#ccc"},Ye(e,!1));return z.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(d){var f=en(n,r,i,d),m=en(n,r,s,d);return z.createElement("line",yl({},c,{key:"line-".concat(d),x1:f.x,y1:f.y,x2:m.x,y2:m.y}))}))},V4e=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.index,o=yy(yy({stroke:"#ccc"},Ye(e,!1)),{},{fill:"none"});return z.createElement("circle",yl({},o,{className:ht("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(s),cx:n,cy:r,r:i}))},B4e=function(e){var n=e.radius,r=e.index,i=yy(yy({stroke:"#ccc"},Ye(e,!1)),{},{fill:"none"});return z.createElement("path",yl({},i,{className:ht("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:$4e(n,e.cx,e.cy,e.polarAngles)}))},q4e=function(e){var n=e.polarRadius,r=e.gridType;return!n||!n.length?null:z.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,s){var o=s;return r==="circle"?z.createElement(V4e,yl({key:o},e,{radius:i,index:s})):z.createElement(B4e,yl({key:o},e,{radius:i,index:s}))}))},cX=function(e){var n=e.cx,r=n===void 0?0:n,i=e.cy,s=i===void 0?0:i,o=e.innerRadius,l=o===void 0?0:o,c=e.outerRadius,d=c===void 0?0:c,f=e.gridType,m=f===void 0?"polygon":f,p=e.radialLines,v=p===void 0?!0:p,w=O4e(e,I4e);return d<=0?null:z.createElement("g",{className:"recharts-polar-grid"},z.createElement(F4e,yl({cx:r,cy:s,innerRadius:l,outerRadius:d,gridType:m,radialLines:v},w)),z.createElement(q4e,yl({cx:r,cy:s,innerRadius:l,outerRadius:d,gridType:m,radialLines:v},w)))};cX.displayName="PolarGrid";var gE,O8;function U4e(){if(O8)return gE;O8=1;var t=z1(),e=bQ(),n=vo();function r(i,s){return i&&i.length?t(i,n(s,2),e):void 0}return gE=r,gE}var z4e=U4e();const W4e=Jt(z4e);var yE,R8;function H4e(){if(R8)return yE;R8=1;var t=z1(),e=vo(),n=wQ();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return yE=r,yE}var G4e=H4e();const K4e=Jt(G4e);var Y4e=["cx","cy","angle","ticks","axisLine"],Q4e=["ticks","tick","angle","tickFormatter","stroke"];function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}function M8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M8(Object(n),!0).forEach(function(r){K1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D8(t,e){if(t==null)return{};var n=X4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dX(r.key),r)}}function Z4e(t,e,n){return e&&L8(t.prototype,e),n&&L8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function e5e(t,e,n){return e=sw(e),t5e(t,uX()?Reflect.construct(e,n||[],sw(t).constructor):e.apply(t,n))}function t5e(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n5e(t)}function n5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uX=function(){return!!t})()}function sw(t){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sw(t)}function r5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lC(t,e)}function lC(t,e){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lC(t,e)}function K1(t,e,n){return e=dX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dX(t){var e=i5e(t,"string");return Ff(e)=="symbol"?e:e+""}function i5e(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Am=(function(t){function e(){return J4e(this,e),e5e(this,e,arguments)}return r5e(e,t),Z4e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return en(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,l=r.ticks,c=W4e(l,function(f){return f.coordinate||0}),d=K4e(l,function(f){return f.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,d=D8(r,Y4e),f=l.reduce(function(w,x){return[Math.min(w[0],x.coordinate),Math.max(w[1],x.coordinate)]},[1/0,-1/0]),m=en(i,s,f[0],o),p=en(i,s,f[1],o),v=Lu(Lu(Lu({},Ye(d,!1)),{},{fill:"none"},Ye(c,!1)),{},{x1:m.x,y1:m.y,x2:p.x,y2:p.y});return z.createElement("line",yg({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,f=D8(i,Q4e),m=this.getTickTextAnchor(),p=Ye(f,!1),v=Ye(o,!1),w=s.map(function(x,g){var _=r.getTickValueCoord(x),T=Lu(Lu(Lu(Lu({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(_.x,", ").concat(_.y,")")},p),{},{stroke:"none",fill:d},v),{},{index:g},_),{},{payload:x});return z.createElement(Tt,yg({className:ht("recharts-polar-radius-axis-tick",QQ(o)),key:"tick-".concat(x.coordinate)},_d(r.props,x,g)),e.renderTickItem(o,T,c?c(x.value,g):x.value))});return z.createElement(Tt,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:z.createElement(Tt,{className:ht("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Ar.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return z.isValidElement(r)?o=z.cloneElement(r,i):nt(r)?o=r(i):o=z.createElement(jd,yg({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])})(S.PureComponent);K1(Am,"displayName","PolarRadiusAxis");K1(Am,"axisType","radiusAxis");K1(Am,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zu.apply(this,arguments)}function $8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$8(Object(n),!0).forEach(function(r){Y1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fX(r.key),r)}}function a5e(t,e,n){return e&&F8(t.prototype,e),n&&F8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o5e(t,e,n){return e=aw(e),l5e(t,hX()?Reflect.construct(e,n||[],aw(t).constructor):e.apply(t,n))}function l5e(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c5e(t)}function c5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hX=function(){return!!t})()}function aw(t){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aw(t)}function u5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cC(t,e)}function cC(t,e){return cC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cC(t,e)}function Y1(t,e,n){return e=fX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fX(t){var e=d5e(t,"string");return Vf(e)=="symbol"?e:e+""}function d5e(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var h5e=Math.PI/180,V8=1e-5,Pm=(function(t){function e(){return s5e(this,e),o5e(this,e,arguments)}return u5e(e,t),a5e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,f=d||8,m=en(s,o,l,r.coordinate),p=en(s,o,l+(c==="inner"?-1:1)*f,r.coordinate);return{x1:m.x,y1:m.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*h5e),o;return s>V8?o=i==="outer"?"start":"end":s<-V8?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,d=$u($u({},Ye(this.props,!1)),{},{fill:"none"},Ye(l,!1));if(c==="circle")return z.createElement(Em,zu({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:s,r:o}));var f=this.props.ticks,m=f.map(function(p){return en(i,s,o,p.coordinate)});return z.createElement(lX,zu({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,f=Ye(this.props,!1),m=Ye(o,!1),p=$u($u({},f),{},{fill:"none"},Ye(l,!1)),v=s.map(function(w,x){var g=r.getTickLineCoord(w),_=r.getTickTextAnchor(w),T=$u($u($u({textAnchor:_},f),{},{stroke:"none",fill:d},m),{},{index:x,payload:w,x:g.x2,y:g.y2});return z.createElement(Tt,zu({className:ht("recharts-polar-angle-axis-tick",QQ(o)),key:"tick-".concat(w.coordinate)},_d(r.props,w,x)),l&&z.createElement("line",zu({className:"recharts-polar-angle-axis-tick-line"},p,g)),o&&e.renderTickItem(o,T,c?c(w.value,x):w.value))});return z.createElement(Tt,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:z.createElement(Tt,{className:ht("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return z.isValidElement(r)?o=z.cloneElement(r,i):nt(r)?o=r(i):o=z.createElement(jd,zu({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])})(S.PureComponent);Y1(Pm,"displayName","PolarAngleAxis");Y1(Pm,"axisType","angleAxis");Y1(Pm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var vE,B8;function f5e(){if(B8)return vE;B8=1;var t=xY(),e=t(Object.getPrototypeOf,Object);return vE=e,vE}var xE,q8;function m5e(){if(q8)return xE;q8=1;var t=Sl(),e=f5e(),n=Tl(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,c=o.call(Object);function d(f){if(!n(f)||t(f)!=r)return!1;var m=e(f);if(m===null)return!0;var p=l.call(m,"constructor")&&m.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==c}return xE=d,xE}var p5e=m5e();const g5e=Jt(p5e);var bE,U8;function y5e(){if(U8)return bE;U8=1;var t=Sl(),e=Tl(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return bE=r,bE}var v5e=y5e();const x5e=Jt(v5e);function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function b5e(t,e){return N5e(t)||j5e(t,e)||_5e(t,e)||w5e()}function w5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _5e(t,e){if(t){if(typeof t=="string")return z8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z8(t,e)}}function z8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function N5e(t){if(Array.isArray(t))return t}function W8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(n),!0).forEach(function(r){S5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S5e(t,e,n){return e=T5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T5e(t){var e=E5e(t,"string");return vy(e)=="symbol"?e:e+""}function E5e(t,e){if(vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G8=function(e,n,r,i,s){var o=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+s),l+="L ".concat(e+r-o/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},A5e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},P5e=function(e){var n=H8(H8({},A5e),e),r=S.useRef(),i=S.useState(-1),s=b5e(i,2),o=s[0],l=s[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&l(A)}catch{}},[]);var c=n.x,d=n.y,f=n.upperWidth,m=n.lowerWidth,p=n.height,v=n.className,w=n.animationEasing,x=n.animationDuration,g=n.animationBegin,_=n.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||m!==+m||p!==+p||f===0&&m===0||p===0)return null;var T=ht("recharts-trapezoid",v);return _?z.createElement(Us,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:d},to:{upperWidth:f,lowerWidth:m,height:p,x:c,y:d},duration:x,animationEasing:w,isActive:_},function(A){var I=A.upperWidth,P=A.lowerWidth,C=A.height,E=A.x,N=A.y;return z.createElement(Us,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,easing:w},z.createElement("path",ow({},Ye(n,!0),{className:T,d:G8(E,N,I,P,C),ref:r})))}):z.createElement("g",null,z.createElement("path",ow({},Ye(n,!0),{className:T,d:G8(c,d,f,m,p)})))},C5e=["option","shapeType","propTransformer","activeClassName","isActive"];function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function k5e(t,e){if(t==null)return{};var n=I5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function K8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K8(Object(n),!0).forEach(function(r){O5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O5e(t,e,n){return e=R5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R5e(t){var e=M5e(t,"string");return xy(e)=="symbol"?e:e+""}function M5e(t,e){if(xy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D5e(t,e){return lw(lw({},e),t)}function L5e(t,e){return t==="symbols"}function Y8(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return z.createElement(rR,n);case"trapezoid":return z.createElement(P5e,n);case"sector":return z.createElement(eX,n);case"symbols":if(L5e(e))return z.createElement(_O,n);break;default:return null}}function $5e(t){return S.isValidElement(t)?t.props:t}function mX(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?D5e:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=k5e(t,C5e),d;if(S.isValidElement(e))d=S.cloneElement(e,lw(lw({},c),$5e(e)));else if(nt(e))d=e(c);else if(g5e(e)&&!x5e(e)){var f=i(e,c);d=z.createElement(Y8,{shapeType:n,elementProps:f})}else{var m=c;d=z.createElement(Y8,{shapeType:n,elementProps:m})}return l?z.createElement(Tt,{className:o},d):d}function Q1(t,e){return e!=null&&"trapezoids"in t.props}function X1(t,e){return e!=null&&"sectors"in t.props}function by(t,e){return e!=null&&"points"in t.props}function F5e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function V5e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function B5e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function q5e(t,e){var n;return Q1(t,e)?n=F5e:X1(t,e)?n=V5e:by(t,e)&&(n=B5e),n}function U5e(t,e){var n;return Q1(t,e)?n="trapezoids":X1(t,e)?n="sectors":by(t,e)&&(n="points"),n}function z5e(t,e){if(Q1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(X1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return by(t,e)?e.payload:{}}function W5e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=U5e(n,e),s=z5e(n,e),o=r.filter(function(c,d){var f=Gc(s,c),m=n.props[i].filter(function(w){var x=q5e(n,e);return x(w,e)}),p=n.props[i].indexOf(m[m.length-1]),v=d===p;return f&&v}),l=r.indexOf(o[o.length-1]);return l}var Ix;function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gh.apply(this,arguments)}function Q8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(n),!0).forEach(function(r){Os(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gX(r.key),r)}}function G5e(t,e,n){return e&&X8(t.prototype,e),n&&X8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function K5e(t,e,n){return e=cw(e),Y5e(t,pX()?Reflect.construct(e,n||[],cw(t).constructor):e.apply(t,n))}function Y5e(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q5e(t)}function Q5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pX=function(){return!!t})()}function cw(t){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cw(t)}function X5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uC(t,e)}function uC(t,e){return uC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uC(t,e)}function Os(t,e,n){return e=gX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gX(t){var e=J5e(t,"string");return Bf(e)=="symbol"?e:e+""}function J5e(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pl=(function(t){function e(n){var r;return H5e(this,e),r=K5e(this,e,[n]),Os(r,"pieRef",null),Os(r,"sectorRefs",[]),Os(r,"id",Fd("recharts-pie-")),Os(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),nt(i)&&i()}),Os(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),nt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return X5e(e,t),G5e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,d=s.valueKey,f=Ye(this.props,!1),m=Ye(o,!1),p=Ye(l,!1),v=o&&o.offsetRadius||20,w=r.map(function(x,g){var _=(x.startAngle+x.endAngle)/2,T=en(x.cx,x.cy,x.outerRadius+v,_),A=xn(xn(xn(xn({},f),x),{},{stroke:"none"},m),{},{index:g,textAnchor:e.getTextAnchor(T.x,x.cx)},T),I=xn(xn(xn(xn({},f),x),{},{fill:"none",stroke:x.fill},p),{},{index:g,points:[en(x.cx,x.cy,x.outerRadius,_),T]}),P=c;return mt(c)&&mt(d)?P="value":mt(c)&&(P=d),z.createElement(Tt,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,I,"line"),e.renderLabelItem(o,A,Fn(x,P)))});return z.createElement(Tt,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return r.map(function(d,f){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&r.length!==1)return null;var m=i.isActiveIndex(f),p=c&&i.hasActiveIndex()?c:null,v=m?o:p,w=xn(xn({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return z.createElement(Tt,Gh({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},_d(i.props,d,f),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(f)}),z.createElement(mX,Gh({option:v,isActive:m,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state,p=m.prevSectors,v=m.prevIsAnimationActive;return z.createElement(Us,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var x=w.t,g=[],_=s&&s[0],T=_.startAngle;return s.forEach(function(A,I){var P=p&&p[I],C=I>0?fs(A,"paddingAngle",0):0;if(P){var E=Ln(P.endAngle-P.startAngle,A.endAngle-A.startAngle),N=xn(xn({},A),{},{startAngle:T+C,endAngle:T+E(x)+C});g.push(N),T=N.endAngle}else{var O=A.endAngle,D=A.startAngle,L=Ln(0,O-D),$=L(x),F=xn(xn({},A),{},{startAngle:T+C,endAngle:T+$+C});g.push(F),T=F.endAngle}}),z.createElement(Tt,null,r.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Gc(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,d=i.cx,f=i.cy,m=i.innerRadius,p=i.outerRadius,v=i.isAnimationActive,w=this.state.isAnimationFinished;if(s||!o||!o.length||!ke(d)||!ke(f)||!ke(m)||!ke(p))return null;var x=ht("recharts-pie",l);return z.createElement(Tt,{tabIndex:this.props.rootTabIndex,className:x,ref:function(_){r.pieRef=_}},this.renderSectors(),c&&this.renderLabels(o),Ar.renderCallByParent(this.props,null,!1),(!v||w)&&fa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(z.isValidElement(r))return z.cloneElement(r,i);if(nt(r))return r(i);var o=ht("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return z.createElement(ud,Gh({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(z.isValidElement(r))return z.cloneElement(r,i);var o=s;if(nt(r)&&(o=r(i),z.isValidElement(o)))return o;var l=ht("recharts-pie-label-text",typeof r!="boolean"&&!nt(r)?r.className:"");return z.createElement(jd,Gh({},i,{alignmentBaseline:"middle",className:l}),o)}}])})(S.PureComponent);Ix=Pl;Os(Pl,"displayName","Pie");Os(Pl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!El.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Os(Pl,"parseDeltaAngle",function(t,e){var n=_i(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Os(Pl,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ye(t,!1),i=ms(n,L1);return e&&e.length?e.map(function(s,o){return xn(xn(xn({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return xn(xn({},r),s.props)}):[]});Os(Pl,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,o=KQ(i,s),l=r+ji(t.cx,i,i/2),c=n+ji(t.cy,s,s/2),d=ji(t.innerRadius,o,0),f=ji(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:m}});Os(Pl,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?xn(xn({},e.type.defaultProps),e.props):e.props,i=Ix.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,d=r.dataKey,f=r.nameKey,m=r.valueKey,p=r.tooltipType,v=Math.abs(r.minAngle),w=Ix.parseCoordinateOfPie(r,n),x=Ix.parseDeltaAngle(o,l),g=Math.abs(x),_=d;mt(d)&&mt(m)?(ha(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):mt(d)&&(ha(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=m);var T=i.filter(function(N){return Fn(N,_,0)!==0}).length,A=(g>=360?T:T-1)*c,I=g-T*v-A,P=i.reduce(function(N,O){var D=Fn(O,_,0);return N+(ke(D)?D:0)},0),C;if(P>0){var E;C=i.map(function(N,O){var D=Fn(N,_,0),L=Fn(N,f,O),$=(ke(D)?D:0)/P,F;O?F=E.endAngle+_i(x)*c*(D!==0?1:0):F=o;var G=F+_i(x)*((D!==0?v:0)+$*I),Y=(F+G)/2,K=(w.innerRadius+w.outerRadius)/2,X=[{name:L,value:D,payload:N,dataKey:_,type:p}],U=en(w.cx,w.cy,K,Y);return E=xn(xn(xn({percent:$,cornerRadius:s,name:L,tooltipPayload:X,midAngle:Y,middleRadius:K,tooltipPosition:U},N),w),{},{value:Fn(N,_),startAngle:F,endAngle:G,payload:N,paddingAngle:_i(x)*c}),E})}return xn(xn({},w),{},{sectors:C,data:i})});var wE,J8;function Z5e(){if(J8)return wE;J8=1;function t(e){return e&&e.length?e[0]:void 0}return wE=t,wE}var _E,Z8;function e3e(){return Z8||(Z8=1,_E=Z5e()),_E}var t3e=e3e();const n3e=Jt(t3e);var r3e=["key"];function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function i3e(t,e){if(t==null)return{};var n=s3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(this,arguments)}function eq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eq(Object(n),!0).forEach(function(r){qo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vX(r.key),r)}}function o3e(t,e,n){return e&&tq(t.prototype,e),n&&tq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l3e(t,e,n){return e=dw(e),c3e(t,yX()?Reflect.construct(e,n||[],dw(t).constructor):e.apply(t,n))}function c3e(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u3e(t)}function u3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yX=function(){return!!t})()}function dw(t){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dw(t)}function d3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dC(t,e)}function dC(t,e){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dC(t,e)}function qo(t,e,n){return e=vX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vX(t){var e=h3e(t,"string");return qf(e)=="symbol"?e:e+""}function h3e(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var u0=(function(t){function e(){var n;a3e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=l3e(this,e,[].concat(i)),qo(n,"state",{isAnimationFinished:!1}),qo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),nt(o)&&o()}),qo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),nt(o)&&o()}),qo(n,"handleMouseEnter",function(o){var l=n.props.onMouseEnter;l&&l(n.props,o)}),qo(n,"handleMouseLeave",function(o){var l=n.props.onMouseLeave;l&&l(n.props,o)}),n}return d3e(e,t),o3e(e,[{key:"renderDots",value:function(r){var i=this.props,s=i.dot,o=i.dataKey,l=Ye(this.props,!1),c=Ye(s,!0),d=r.map(function(f,m){var p=vi(vi(vi({key:"dot-".concat(m),r:3},l),c),{},{dataKey:o,cx:f.x,cy:f.y,index:m,payload:f});return e.renderDotItem(s,p)});return z.createElement(Tt,{className:"recharts-radar-dots"},d)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,s=i.shape,o=i.dot,l=i.isRange,c=i.baseLinePoints,d=i.connectNulls,f;return z.isValidElement(s)?f=z.cloneElement(s,vi(vi({},this.props),{},{points:r})):nt(s)?f=s(vi(vi({},this.props),{},{points:r})):f=z.createElement(lX,uw({},Ye(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:l?c:null,connectNulls:d})),z.createElement(Tt,{className:"recharts-radar-polygon"},f,o?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,s=i.points,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state.prevPoints;return z.createElement(Us,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"radar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,w=m&&m.length/s.length,x=s.map(function(g,_){var T=m&&m[Math.floor(_*w)];if(T){var A=Ln(T.x,g.x),I=Ln(T.y,g.y);return vi(vi({},g),{},{x:A(v),y:I(v)})}var P=Ln(g.cx,g.x),C=Ln(g.cy,g.y);return vi(vi({},g),{},{x:P(v),y:C(v)})});return r.renderPolygonStatically(x)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,s=r.isAnimationActive,o=r.isRange,l=this.state.prevPoints;return s&&i&&i.length&&!o&&(!l||!Gc(l,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.className,o=r.points,l=r.isAnimationActive;if(i||!o||!o.length)return null;var c=this.state.isAnimationFinished,d=ht("recharts-radar",s);return z.createElement(Tt,{className:d},this.renderPolygon(),(!l||c)&&fa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var s;if(z.isValidElement(r))s=z.cloneElement(r,i);else if(nt(r))s=r(i);else{var o=i.key,l=i3e(i,r3e);s=z.createElement(Em,uw({},l,{key:o,className:ht("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return s}}])})(S.PureComponent);qo(u0,"displayName","Radar");qo(u0,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!El.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});qo(u0,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,r=t.displayedData,i=t.dataKey,s=t.bandSize,o=n.cx,l=n.cy,c=!1,d=[],f=n.type!=="number"?s??0:0;r.forEach(function(p,v){var w=Fn(p,n.dataKey,v),x=Fn(p,i),g=n.scale(w)+f,_=Array.isArray(x)?JQ(x):x,T=mt(_)?void 0:e.scale(_);Array.isArray(x)&&x.length>=2&&(c=!0),d.push(vi(vi({},en(o,l,T,g)),{},{name:w,value:x,cx:o,cy:l,radius:T,angle:g,payload:p}))});var m=[];return c&&d.forEach(function(p){if(Array.isArray(p.value)){var v=n3e(p.value),w=mt(v)?void 0:e.scale(v);m.push(vi(vi({},p),{},{radius:w},en(o,l,w,p.angle)))}else m.push(p)}),{points:d,isRange:c,baseLinePoints:m}});var jE,nq;function f3e(){if(nq)return jE;nq=1;var t=Math.ceil,e=Math.max;function n(r,i,s,o){for(var l=-1,c=e(t((i-r)/(s||1)),0),d=Array(c);c--;)d[o?c:++l]=r,r+=s;return d}return jE=n,jE}var NE,rq;function xX(){if(rq)return NE;rq=1;var t=MY(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return NE=r,NE}var SE,iq;function m3e(){if(iq)return SE;iq=1;var t=f3e(),e=D1(),n=xX();function r(i){return function(s,o,l){return l&&typeof l!="number"&&e(s,o,l)&&(o=l=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),l=l===void 0?s<o?1:-1:n(l),t(s,o,l,i)}}return SE=r,SE}var TE,sq;function p3e(){if(sq)return TE;sq=1;var t=m3e(),e=t();return TE=e,TE}var g3e=p3e();const hw=Jt(g3e);function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}function aq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aq(Object(n),!0).forEach(function(r){bX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bX(t,e,n){return e=y3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y3e(t){var e=v3e(t,"string");return wy(e)=="symbol"?e:e+""}function v3e(t,e){if(wy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x3e=["Webkit","Moz","O","ms"],b3e=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=x3e.reduce(function(s,o){return oq(oq({},s),{},bX({},o+r,n))},{});return i[e]=n,i};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(this,arguments)}function lq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lq(Object(n),!0).forEach(function(r){ss(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_X(r.key),r)}}function _3e(t,e,n){return e&&cq(t.prototype,e),n&&cq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function j3e(t,e,n){return e=mw(e),N3e(t,wX()?Reflect.construct(e,n||[],mw(t).constructor):e.apply(t,n))}function N3e(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S3e(t)}function S3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wX=function(){return!!t})()}function mw(t){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mw(t)}function T3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hC(t,e)}function hC(t,e){return hC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hC(t,e)}function ss(t,e,n){return e=_X(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _X(t){var e=E3e(t,"string");return Uf(e)=="symbol"?e:e+""}function E3e(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var A3e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=fg().domain(hw(0,c)).range([s,s+o-l]),f=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(i),scale:d,scaleValues:f}},uq=function(e){return e.changedTouches&&!!e.changedTouches.length},zf=(function(t){function e(n){var r;return w3e(this,e),r=j3e(this,e,[n]),ss(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ss(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ss(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),r.detachDragEndListener()}),ss(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ss(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ss(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ss(r,"handleSlideDragStart",function(i){var s=uq(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return T3e(e,t),_3e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,f=d.length-1,m=Math.min(i,s),p=Math.max(i,s),v=e.getIndexInRange(o,m),w=e.getIndexInRange(o,p);return{startIndex:v-v%c,endIndex:w===f?f:w-w%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=Fn(s[r],l,r);return nt(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,f=c.width,m=c.travellerWidth,p=c.startIndex,v=c.endIndex,w=c.onChange,x=r.pageX-s;x>0?x=Math.min(x,d+f-m-l,d+f-m-o):x<0&&(x=Math.max(x,d-o,d-l));var g=this.getIndex({startX:o+x,endX:l+x});(g.startIndex!==p||g.endIndex!==v)&&w&&w(g),this.setState({startX:o+x,endX:l+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=uq(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],f=this.props,m=f.x,p=f.width,v=f.travellerWidth,w=f.onChange,x=f.gap,g=f.data,_={startX:this.state.startX,endX:this.state.endX},T=r.pageX-s;T>0?T=Math.min(T,m+p-v-d):T<0&&(T=Math.max(T,m-d)),_[o]=d+T;var A=this.getIndex(_),I=A.startIndex,P=A.endIndex,C=function(){var N=g.length-1;return o==="startX"&&(l>c?I%x===0:P%x===0)||l<c&&P===N||o==="endX"&&(l>c?P%x===0:I%x===0)||l>c&&P===N};this.setState(ss(ss({},o,d+T),"brushMoveStartX",r.pageX),function(){w&&C()&&w(A)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,f=this.state[i],m=l.indexOf(f);if(m!==-1){var p=m+r;if(!(p===-1||p>=l.length)){var v=l[p];i==="startX"&&v>=d||i==="endX"&&v<=c||this.setState(ss({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.fill,d=r.stroke;return z.createElement("rect",{stroke:d,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.data,d=r.children,f=r.padding,m=S.Children.only(d);return m?z.cloneElement(m,{x:i,y:s,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,l=this,c=this.props,d=c.y,f=c.travellerWidth,m=c.height,p=c.traveller,v=c.ariaLabel,w=c.data,x=c.startIndex,g=c.endIndex,_=Math.max(r,this.props.x),T=EE(EE({},Ye(this.props,!1)),{},{x:_,y:d,width:f,height:m}),A=v||"Min value: ".concat((s=w[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=w[g])===null||o===void 0?void 0:o.name);return z.createElement(Tt,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),l.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,T))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,d=s.travellerWidth,f=Math.min(r,i)+d,m=Math.max(Math.abs(i-r)-d,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:m,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,d=r.stroke,f=this.state,m=f.startX,p=f.endX,v=5,w={pointerEvents:"none",fill:d};return z.createElement(Tt,{className:"recharts-brush-texts"},z.createElement(jd,fw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,p)-v,y:o+l/2},w),this.getTextOfTick(i)),z.createElement(jd,fw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,p)+c+v,y:o+l/2},w),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,l=r.x,c=r.y,d=r.width,f=r.height,m=r.alwaysShowText,p=this.state,v=p.startX,w=p.endX,x=p.isTextActive,g=p.isSlideMoving,_=p.isTravellerMoving,T=p.isTravellerFocused;if(!i||!i.length||!ke(l)||!ke(c)||!ke(d)||!ke(f)||d<=0||f<=0)return null;var A=ht("recharts-brush",s),I=z.Children.count(o)===1,P=b3e("userSelect","none");return z.createElement(Tt,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(v,w),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(w,"endX"),(x||g||_||T||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,l=r.height,c=r.stroke,d=Math.floor(s+l/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),z.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return z.isValidElement(r)?s=z.cloneElement(r,i):nt(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,l=r.x,c=r.travellerWidth,d=r.updateId,f=r.startIndex,m=r.endIndex;if(s!==i.prevData||d!==i.prevUpdateId)return EE({prevData:s,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},s&&s.length?A3e({data:s,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var p=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])})(S.PureComponent);ss(zf,"displayName","Brush");ss(zf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var AE,dq;function P3e(){if(dq)return AE;dq=1;var t=PO();function e(n,r){var i;return t(n,function(s,o,l){return i=r(s,o,l),!i}),!!i}return AE=e,AE}var PE,hq;function C3e(){if(hq)return PE;hq=1;var t=hY(),e=vo(),n=P3e(),r=Ki(),i=D1();function s(o,l,c){var d=r(o)?t:n;return c&&i(o,l,c)&&(l=void 0),d(o,e(l,3))}return PE=s,PE}var k3e=C3e();const I3e=Jt(k3e);var so=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},CE,fq;function O3e(){if(fq)return CE;fq=1;var t=CY();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return CE=e,CE}var kE,mq;function R3e(){if(mq)return kE;mq=1;var t=O3e(),e=AY(),n=vo();function r(i,s){var o={};return s=n(s,3),e(i,function(l,c,d){t(o,c,s(l,c,d))}),o}return kE=r,kE}var M3e=R3e();const D3e=Jt(M3e);var IE,pq;function L3e(){if(pq)return IE;pq=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return IE=t,IE}var OE,gq;function $3e(){if(gq)return OE;gq=1;var t=PO();function e(n,r){var i=!0;return t(n,function(s,o,l){return i=!!r(s,o,l),i}),i}return OE=e,OE}var RE,yq;function F3e(){if(yq)return RE;yq=1;var t=L3e(),e=$3e(),n=vo(),r=Ki(),i=D1();function s(o,l,c){var d=r(o)?t:e;return c&&i(o,l,c)&&(l=void 0),d(o,n(l,3))}return RE=s,RE}var V3e=F3e();const jX=Jt(V3e);var B3e=["x","y"];function _y(t){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function fC(){return fC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fC.apply(this,arguments)}function vq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vq(Object(n),!0).forEach(function(r){q3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q3e(t,e,n){return e=U3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U3e(t){var e=z3e(t,"string");return _y(e)=="symbol"?e:e+""}function z3e(t,e){if(_y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W3e(t,e){if(t==null)return{};var n=H3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function H3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function G3e(t,e){var n=t.x,r=t.y,i=W3e(t,B3e),s="".concat(n),o=parseInt(s,10),l="".concat(r),c=parseInt(l,10),d="".concat(e.height||i.height),f=parseInt(d,10),m="".concat(e.width||i.width),p=parseInt(m,10);return Dp(Dp(Dp(Dp(Dp({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:p,name:e.name,radius:e.radius})}function xq(t){return z.createElement(mX,fC({shapeType:"rectangle",propTransformer:G3e,activeClassName:"recharts-active-bar"},t))}var K3e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=ke(r)||QSe(r);return s?e(r,i):(s||Sd(),n)}},Y3e=["value","background"],NX;function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function Q3e(t,e){if(t==null)return{};var n=X3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pw.apply(this,arguments)}function bq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bq(Object(n),!0).forEach(function(r){Nc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TX(r.key),r)}}function Z3e(t,e,n){return e&&wq(t.prototype,e),n&&wq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eDe(t,e,n){return e=gw(e),tDe(t,SX()?Reflect.construct(e,n||[],gw(t).constructor):e.apply(t,n))}function tDe(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nDe(t)}function nDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SX=function(){return!!t})()}function gw(t){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gw(t)}function rDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mC(t,e)}function mC(t,e){return mC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mC(t,e)}function Nc(t,e,n){return e=TX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TX(t){var e=iDe(t,"string");return Wf(e)=="symbol"?e:e+""}function iDe(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var da=(function(t){function e(){var n;J3e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=eDe(this,e,[].concat(i)),Nc(n,"state",{isAnimationFinished:!1}),Nc(n,"id",Fd("recharts-bar-")),Nc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Nc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return rDe(e,t),Z3e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,d=s.activeBar,f=Ye(this.props,!1);return r&&r.map(function(m,p){var v=p===c,w=v?d:o,x=ir(ir(ir({},f),m),{},{isActive:v,option:w,index:p,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(Tt,pw({className:"recharts-bar-rectangle"},_d(i.props,m,p),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(p)}),z.createElement(xq,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,f=i.animationEasing,m=i.animationId,p=this.state.prevData;return z.createElement(Us,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t,x=s.map(function(g,_){var T=p&&p[_];if(T){var A=Ln(T.x,g.x),I=Ln(T.y,g.y),P=Ln(T.width,g.width),C=Ln(T.height,g.height);return ir(ir({},g),{},{x:A(w),y:I(w),width:P(w),height:C(w)})}if(o==="horizontal"){var E=Ln(0,g.height),N=E(w);return ir(ir({},g),{},{y:g.y+g.height-N,height:N})}var O=Ln(0,g.width),D=O(w);return ir(ir({},g),{},{width:D})});return z.createElement(Tt,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Gc(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=Ye(this.props.background,!1);return s.map(function(d,f){d.value;var m=d.background,p=Q3e(d,Y3e);if(!m)return null;var v=ir(ir(ir(ir(ir({},p),{},{fill:"#eee"},m),c),_d(r.props,d,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return z.createElement(xq,pw({key:"background-bar-".concat(f),option:r.props.background,isActive:f===l},v))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,d=s.layout,f=s.children,m=ms(f,c0);if(!m)return null;var p=d==="vertical"?o[0].height/2:o[0].width/2,v=function(g,_){var T=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:T,errorVal:Fn(g,_)}},w={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(Tt,w,m.map(function(x){return z.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:p,dataPointFormatter:v})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,l=r.xAxis,c=r.yAxis,d=r.left,f=r.top,m=r.width,p=r.height,v=r.isAnimationActive,w=r.background,x=r.id;if(i||!s||!s.length)return null;var g=this.state.isAnimationFinished,_=ht("recharts-bar",o),T=l&&l.allowDataOverflow,A=c&&c.allowDataOverflow,I=T||A,P=mt(x)?this.id:x;return z.createElement(Tt,{className:_},T||A?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(P)},z.createElement("rect",{x:T?d:d-m/2,y:A?f:f-p/2,width:T?m:m*2,height:A?p:p*2}))):null,z.createElement(Tt,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(P,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,P),(!v||g)&&fa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(S.PureComponent);NX=da;Nc(da,"displayName","Bar");Nc(da,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!El.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Nc(da,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,f=t.dataStartIndex,m=t.displayedData,p=t.offset,v=uOe(r,n);if(!v)return null;var w=e.layout,x=n.type.defaultProps,g=x!==void 0?ir(ir({},x),n.props):n.props,_=g.dataKey,T=g.children,A=g.minPointSize,I=w==="horizontal"?o:s,P=d?I.scale.domain():null,C=yOe({numericAxis:I}),E=ms(T,L1),N=m.map(function(O,D){var L,$,F,G,Y,K;d?L=dOe(d[f+D],P):(L=Fn(O,_),Array.isArray(L)||(L=[C,L]));var X=K3e(A,NX.defaultProps.minPointSize)(L[1],D);if(w==="horizontal"){var U,Q=[o.scale(L[0]),o.scale(L[1])],re=Q[0],W=Q[1];$=BB({axis:s,ticks:l,bandSize:i,offset:v.offset,entry:O,index:D}),F=(U=W??re)!==null&&U!==void 0?U:void 0,G=v.size;var Z=re-W;if(Y=Number.isNaN(Z)?0:Z,K={x:$,y:o.y,width:G,height:o.height},Math.abs(X)>0&&Math.abs(Y)<Math.abs(X)){var ue=_i(Y||X)*(Math.abs(X)-Math.abs(Y));F-=ue,Y+=ue}}else{var le=[s.scale(L[0]),s.scale(L[1])],be=le[0],ge=le[1];if($=be,F=BB({axis:o,ticks:c,bandSize:i,offset:v.offset,entry:O,index:D}),G=ge-be,Y=v.size,K={x:s.x,y:F,width:s.width,height:Y},Math.abs(X)>0&&Math.abs(G)<Math.abs(X)){var me=_i(G||X)*(Math.abs(X)-Math.abs(G));G+=me}}return ir(ir(ir({},O),{},{x:$,y:F,width:G,height:Y,value:d?L:L[1],payload:O,background:K},E&&E[D]&&E[D].props),{},{tooltipPayload:[HQ(n,O)],tooltipPosition:{x:$+G/2,y:F+Y/2}})});return ir({data:N,layout:w},p)});function jy(t){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function sDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EX(r.key),r)}}function aDe(t,e,n){return e&&_q(t.prototype,e),n&&_q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jq(Object(n),!0).forEach(function(r){J1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J1(t,e,n){return e=EX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EX(t){var e=oDe(t,"string");return jy(e)=="symbol"?e:e+""}function oDe(t,e){if(jy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iR=function(e,n,r,i,s){var o=e.width,l=e.height,c=e.layout,d=e.children,f=Object.keys(n),m={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},p=!!as(d,da);return f.reduce(function(v,w){var x=n[w],g=x.orientation,_=x.domain,T=x.padding,A=T===void 0?{}:T,I=x.mirror,P=x.reversed,C="".concat(g).concat(I?"Mirror":""),E,N,O,D,L;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var $=_[1]-_[0],F=1/0,G=x.categoricalDomain.sort(ZSe);if(G.forEach(function(le,be){be>0&&(F=Math.min((le||0)-(G[be-1]||0),F))}),Number.isFinite(F)){var Y=F/$,K=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(E=Y*K/2),x.padding==="no-gap"){var X=ji(e.barCategoryGap,Y*K),U=Y*K/2;E=U-X-(U-X)/K*X}}}i==="xAxis"?N=[r.left+(A.left||0)+(E||0),r.left+r.width-(A.right||0)-(E||0)]:i==="yAxis"?N=c==="horizontal"?[r.top+r.height-(A.bottom||0),r.top+(A.top||0)]:[r.top+(A.top||0)+(E||0),r.top+r.height-(A.bottom||0)-(E||0)]:N=x.range,P&&(N=[N[1],N[0]]);var Q=qQ(x,s,p),re=Q.scale,W=Q.realScaleType;re.domain(_).range(N),UQ(re);var Z=zQ(re,aa(aa({},x),{},{realScaleType:W}));i==="xAxis"?(L=g==="top"&&!I||g==="bottom"&&I,O=r.left,D=m[C]-L*x.height):i==="yAxis"&&(L=g==="left"&&!I||g==="right"&&I,O=m[C]-L*x.width,D=r.top);var ue=aa(aa(aa({},x),Z),{},{realScaleType:W,x:O,y:D,scale:re,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return ue.bandSize=Jb(ue,Z),!x.hide&&i==="xAxis"?m[C]+=(L?-1:1)*ue.height:x.hide||(m[C]+=(L?-1:1)*ue.width),aa(aa({},v),{},J1({},w,ue))},{})},AX=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},lDe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return AX({x:n,y:r},{x:i,y:s})},PX=(function(){function t(e){sDe(this,t),this.scale=e}return aDe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();J1(PX,"EPS",1e-4);var sR=function(e){var n=Object.keys(e).reduce(function(r,i){return aa(aa({},r),{},J1({},i,PX.create(e[i])))},{});return aa(aa({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return D3e(i,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return jX(i,function(s,o){return n[o].isInRange(s)})}})};function cDe(t){return(t%180+180)%180}var uDe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=cDe(i),o=s*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},ME,Nq;function dDe(){if(Nq)return ME;Nq=1;var t=vo(),e=i0(),n=R1();function r(i){return function(s,o,l){var c=Object(s);if(!e(s)){var d=t(o,3);s=n(s),o=function(m){return d(c[m],m,c)}}var f=i(s,o,l);return f>-1?c[d?s[f]:f]:void 0}}return ME=r,ME}var DE,Sq;function hDe(){if(Sq)return DE;Sq=1;var t=xX();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return DE=e,DE}var LE,Tq;function fDe(){if(Tq)return LE;Tq=1;var t=jY(),e=vo(),n=hDe(),r=Math.max;function i(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var d=l==null?0:n(l);return d<0&&(d=r(c+d,0)),t(s,e(o,3),d)}return LE=i,LE}var $E,Eq;function mDe(){if(Eq)return $E;Eq=1;var t=dDe(),e=fDe(),n=t(e);return $E=n,$E}var pDe=mDe();const gDe=Jt(pDe);var yDe=$K();const vDe=Jt(yDe);var xDe=vDe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),aR=S.createContext(void 0),oR=S.createContext(void 0),CX=S.createContext(void 0),kX=S.createContext({}),IX=S.createContext(void 0),OX=S.createContext(0),RX=S.createContext(0),Aq=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,f=xDe(s);return z.createElement(aR.Provider,{value:r},z.createElement(oR.Provider,{value:i},z.createElement(kX.Provider,{value:s},z.createElement(CX.Provider,{value:f},z.createElement(IX.Provider,{value:o},z.createElement(OX.Provider,{value:d},z.createElement(RX.Provider,{value:c},l)))))))},bDe=function(){return S.useContext(IX)},MX=function(e){var n=S.useContext(aR);n==null&&Sd();var r=n[e];return r==null&&Sd(),r},wDe=function(){var e=S.useContext(aR);return pc(e)},_De=function(){var e=S.useContext(oR),n=gDe(e,function(r){return jX(r.domain,Number.isFinite)});return n||pc(e)},DX=function(e){var n=S.useContext(oR);n==null&&Sd();var r=n[e];return r==null&&Sd(),r},jDe=function(){var e=S.useContext(CX);return e},NDe=function(){return S.useContext(kX)},lR=function(){return S.useContext(RX)},cR=function(){return S.useContext(OX)};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function SDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$X(r.key),r)}}function EDe(t,e,n){return e&&TDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ADe(t,e,n){return e=yw(e),PDe(t,LX()?Reflect.construct(e,n||[],yw(t).constructor):e.apply(t,n))}function PDe(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CDe(t)}function CDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LX=function(){return!!t})()}function yw(t){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yw(t)}function kDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pC(t,e)}function pC(t,e){return pC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pC(t,e)}function Pq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pq(Object(n),!0).forEach(function(r){uR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uR(t,e,n){return e=$X(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $X(t){var e=IDe(t,"string");return Hf(e)=="symbol"?e:e+""}function IDe(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ODe(t,e){return LDe(t)||DDe(t,e)||MDe(t,e)||RDe()}function RDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MDe(t,e){if(t){if(typeof t=="string")return kq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kq(t,e)}}function kq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function LDe(t){if(Array.isArray(t))return t}function gC(){return gC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gC.apply(this,arguments)}var $De=function(e,n){var r;return z.isValidElement(e)?r=z.cloneElement(e,n):nt(e)?r=e(n):r=z.createElement("line",gC({},n,{className:"recharts-reference-line-line"})),r},FDe=function(e,n,r,i,s,o,l,c,d){var f=s.x,m=s.y,p=s.width,v=s.height;if(r){var w=d.y,x=e.y.apply(w,{position:o});if(so(d,"discard")&&!e.y.isInRange(x))return null;var g=[{x:f+p,y:x},{x:f,y:x}];return c==="left"?g.reverse():g}if(n){var _=d.x,T=e.x.apply(_,{position:o});if(so(d,"discard")&&!e.x.isInRange(T))return null;var A=[{x:T,y:m+v},{x:T,y:m}];return l==="top"?A.reverse():A}if(i){var I=d.segment,P=I.map(function(C){return e.apply(C,{position:o})});return so(d,"discard")&&I3e(P,function(C){return!e.isInRange(C)})?null:P}return null};function VDe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=bDe(),f=MX(i),m=DX(s),p=jDe();if(!d||!p)return null;ha(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=sR({x:f.scale,y:m.scale}),w=gr(e),x=gr(n),g=r&&r.length===2,_=FDe(v,w,x,g,p,t.position,f.orientation,m.orientation,t);if(!_)return null;var T=ODe(_,2),A=T[0],I=A.x,P=A.y,C=T[1],E=C.x,N=C.y,O=so(t,"hidden")?"url(#".concat(d,")"):void 0,D=Cq(Cq({clipPath:O},Ye(t,!0)),{},{x1:I,y1:P,x2:E,y2:N});return z.createElement(Tt,{className:ht("recharts-reference-line",l)},$De(o,D),Ar.renderCallByParent(t,lDe({x1:I,y1:P,x2:E,y2:N})))}var dR=(function(t){function e(){return SDe(this,e),ADe(this,e,arguments)}return kDe(e,t),EDe(e,[{key:"render",value:function(){return z.createElement(VDe,this.props)}}])})(z.Component);uR(dR,"displayName","ReferenceLine");uR(dR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yC(){return yC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yC.apply(this,arguments)}function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function Iq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iq(Object(n),!0).forEach(function(r){Z1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VX(r.key),r)}}function UDe(t,e,n){return e&&qDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zDe(t,e,n){return e=vw(e),WDe(t,FX()?Reflect.construct(e,n||[],vw(t).constructor):e.apply(t,n))}function WDe(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HDe(t)}function HDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FX=function(){return!!t})()}function vw(t){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vw(t)}function GDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vC(t,e)}function vC(t,e){return vC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vC(t,e)}function Z1(t,e,n){return e=VX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VX(t){var e=KDe(t,"string");return Gf(e)=="symbol"?e:e+""}function KDe(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var YDe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=sR({x:i.scale,y:s.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return so(e,"discard")&&!o.isInRange(l)?null:l},e_=(function(t){function e(){return BDe(this,e),zDe(this,e,arguments)}return GDe(e,t),UDe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,d=gr(i),f=gr(s);if(ha(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var m=YDe(this.props);if(!m)return null;var p=m.x,v=m.y,w=this.props,x=w.shape,g=w.className,_=so(this.props,"hidden")?"url(#".concat(c,")"):void 0,T=Oq(Oq({clipPath:_},Ye(this.props,!0)),{},{cx:p,cy:v});return z.createElement(Tt,{className:ht("recharts-reference-dot",g)},e.renderDot(x,T),Ar.renderCallByParent(this.props,{x:p-o,y:v-o,width:2*o,height:2*o}))}}])})(z.Component);Z1(e_,"displayName","ReferenceDot");Z1(e_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Z1(e_,"renderDot",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):nt(t)?n=t(e):n=z.createElement(Em,yC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function xC(){return xC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xC.apply(this,arguments)}function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function Rq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rq(Object(n),!0).forEach(function(r){t_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qX(r.key),r)}}function JDe(t,e,n){return e&&XDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZDe(t,e,n){return e=xw(e),e6e(t,BX()?Reflect.construct(e,n||[],xw(t).constructor):e.apply(t,n))}function e6e(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t6e(t)}function t6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BX=function(){return!!t})()}function xw(t){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xw(t)}function n6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bC(t,e)}function bC(t,e){return bC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bC(t,e)}function t_(t,e,n){return e=qX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qX(t){var e=r6e(t,"string");return Kf(e)=="symbol"?e:e+""}function r6e(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var i6e=function(e,n,r,i,s){var o=s.x1,l=s.x2,c=s.y1,d=s.y2,f=s.xAxis,m=s.yAxis;if(!f||!m)return null;var p=sR({x:f.scale,y:m.scale}),v={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(c,{position:"start"}):p.y.rangeMin},w={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(d,{position:"end"}):p.y.rangeMax};return so(s,"discard")&&(!p.isInRange(v)||!p.isInRange(w))?null:AX(v,w)},n_=(function(t){function e(){return QDe(this,e),ZDe(this,e,arguments)}return n6e(e,t),JDe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,l=r.y2,c=r.className,d=r.alwaysShow,f=r.clipPathId;ha(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=gr(i),p=gr(s),v=gr(o),w=gr(l),x=this.props.shape;if(!m&&!p&&!v&&!w&&!x)return null;var g=i6e(m,p,v,w,this.props);if(!g&&!x)return null;var _=so(this.props,"hidden")?"url(#".concat(f,")"):void 0;return z.createElement(Tt,{className:ht("recharts-reference-area",c)},e.renderRect(x,Mq(Mq({clipPath:_},Ye(this.props,!0)),g)),Ar.renderCallByParent(this.props,g))}}])})(z.Component);t_(n_,"displayName","ReferenceArea");t_(n_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});t_(n_,"renderRect",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):nt(t)?n=t(e):n=z.createElement(rR,xC({},e,{className:"recharts-reference-area-rect"})),n});function UX(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function s6e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return uDe(r,n)}function a6e(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:r?i:s,end:r?i+o:s+l}:{start:r?i+o:s+l,end:r?i:s}}function bw(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function o6e(t,e){return UX(t,e+1)}function l6e(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,l=e.end,c=0,d=1,f=o,m=function(){var w=r==null?void 0:r[c];if(w===void 0)return{v:UX(r,d)};var x=c,g,_=function(){return g===void 0&&(g=n(w,x)),g},T=w.coordinate,A=c===0||bw(t,T,_,f,l);A||(c=0,f=o,d+=1),A&&(f=T+t*(_()/2+i),c+=d)},p;d<=s.length;)if(p=m(),p)return p.v;return[]}function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function Dq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dq(Object(n),!0).forEach(function(r){c6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c6e(t,e,n){return e=u6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u6e(t){var e=d6e(t,"string");return Ny(e)=="symbol"?e:e+""}function d6e(t,e){if(Ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h6e(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end,d=function(p){var v=s[p],w,x=function(){return w===void 0&&(w=n(v,p)),w};if(p===o-1){var g=t*(v.coordinate+t*x()/2-c);s[p]=v=ti(ti({},v),{},{tickCoord:g>0?v.coordinate-g*t:v.coordinate})}else s[p]=v=ti(ti({},v),{},{tickCoord:v.coordinate});var _=bw(t,v.tickCoord,x,l,c);_&&(c=v.tickCoord-t*(x()/2+i),s[p]=ti(ti({},v),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return s}function f6e(t,e,n,r,i,s){var o=(r||[]).slice(),l=o.length,c=e.start,d=e.end;if(s){var f=r[l-1],m=n(f,l-1),p=t*(f.coordinate+t*m/2-d);o[l-1]=f=ti(ti({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate});var v=bw(t,f.tickCoord,function(){return m},c,d);v&&(d=f.tickCoord-t*(m/2+i),o[l-1]=ti(ti({},f),{},{isShow:!0}))}for(var w=s?l-1:l,x=function(T){var A=o[T],I,P=function(){return I===void 0&&(I=n(A,T)),I};if(T===0){var C=t*(A.coordinate-t*P()/2-c);o[T]=A=ti(ti({},A),{},{tickCoord:C<0?A.coordinate-C*t:A.coordinate})}else o[T]=A=ti(ti({},A),{},{tickCoord:A.coordinate});var E=bw(t,A.tickCoord,P,c,d);E&&(c=A.tickCoord+t*(P()/2+i),o[T]=ti(ti({},A),{},{isShow:!0}))},g=0;g<w;g++)x(g);return o}function hR(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,f=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(ke(c)||El.isSsr)return o6e(i,typeof c=="number"&&ke(c)?c:0);var p=[],v=l==="top"||l==="bottom"?"width":"height",w=f&&v==="width"?hg(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(A,I){var P=nt(d)?d(A.value,I):A.value;return v==="width"?s6e(hg(P,{fontSize:e,letterSpacing:n}),w,m):hg(P,{fontSize:e,letterSpacing:n})[v]},g=i.length>=2?_i(i[1].coordinate-i[0].coordinate):1,_=a6e(s,g,v);return c==="equidistantPreserveStart"?l6e(g,_,x,i,o):(c==="preserveStart"||c==="preserveStartEnd"?p=f6e(g,_,x,i,o,c==="preserveStartEnd"):p=h6e(g,_,x,i,o),p.filter(function(T){return T.isShow}))}var m6e=["viewBox"],p6e=["viewBox"],g6e=["ticks"];function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}function Lq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lq(Object(n),!0).forEach(function(r){fR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FE(t,e){if(t==null)return{};var n=y6e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WX(r.key),r)}}function x6e(t,e,n){return e&&$q(t.prototype,e),n&&$q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b6e(t,e,n){return e=ww(e),w6e(t,zX()?Reflect.construct(e,n||[],ww(t).constructor):e.apply(t,n))}function w6e(t,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _6e(t)}function _6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zX=function(){return!!t})()}function ww(t){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ww(t)}function j6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wC(t,e)}function wC(t,e){return wC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wC(t,e)}function fR(t,e,n){return e=WX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WX(t){var e=N6e(t,"string");return Yf(e)=="symbol"?e:e+""}function N6e(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cm=(function(t){function e(n){var r;return v6e(this,e),r=b6e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return j6e(e,t),x6e(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=FE(r,m6e),l=this.props,c=l.viewBox,d=FE(l,p6e);return!cf(s,c)||!cf(o,d)||!cf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,f=i.tickSize,m=i.mirror,p=i.tickMargin,v,w,x,g,_,T,A=m?-1:1,I=r.tickSize||f,P=ke(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":v=w=r.coordinate,g=o+ +!m*c,x=g-A*I,T=x-A*p,_=P;break;case"left":x=g=r.coordinate,w=s+ +!m*l,v=w-A*I,_=v-A*p,T=P;break;case"right":x=g=r.coordinate,w=s+ +m*l,v=w+A*I,_=v+A*p,T=P;break;default:v=w=r.coordinate,g=o+ +m*c,x=g+A*I,T=x+A*p,_=P;break}return{line:{x1:v,y1:x,x2:w,y2:g},tick:{x:_,y:T}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.orientation,d=r.mirror,f=r.axisLine,m=hr(hr(hr({},Ye(this.props,!1)),Ye(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!d||c==="bottom"&&d);m=hr(hr({},m),{},{x1:i,y1:s+p*l,x2:i+o,y2:s+p*l})}else{var v=+(c==="left"&&!d||c==="right"&&d);m=hr(hr({},m),{},{x1:i+v*o,y1:s,x2:i+v*o,y2:s+l})}return z.createElement("line",Kh({},m,{className:ht("recharts-cartesian-axis-line",fs(f,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,l=this.props,c=l.tickLine,d=l.stroke,f=l.tick,m=l.tickFormatter,p=l.unit,v=hR(hr(hr({},this.props),{},{ticks:r}),i,s),w=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),g=Ye(this.props,!1),_=Ye(f,!1),T=hr(hr({},g),{},{fill:"none"},Ye(c,!1)),A=v.map(function(I,P){var C=o.getTickLineCoord(I),E=C.line,N=C.tick,O=hr(hr(hr(hr({textAnchor:w,verticalAnchor:x},g),{},{stroke:"none",fill:d},_),N),{},{index:P,payload:I,visibleTicksCount:v.length,tickFormatter:m});return z.createElement(Tt,Kh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},_d(o.props,I,P)),c&&z.createElement("line",Kh({},T,E,{className:ht("recharts-cartesian-axis-tick-line",fs(c,"className"))})),f&&e.renderTickItem(f,O,"".concat(nt(m)?m(I.value,P):I.value).concat(p||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,f=i.hide;if(f)return null;var m=this.props,p=m.ticks,v=FE(m,g6e),w=p;return nt(c)&&(w=p&&p.length>0?c(this.props):c(v)),o<=0||l<=0||!w||!w.length?null:z.createElement(Tt,{className:ht("recharts-cartesian-axis",d),ref:function(g){r.layerReference=g}},s&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),Ar.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,l=ht(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(r)?o=z.cloneElement(r,hr(hr({},i),{},{className:l})):nt(r)?o=r(hr(hr({},i),{},{className:l})):o=z.createElement(jd,Kh({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(S.Component);fR(Cm,"displayName","CartesianAxis");fR(Cm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var S6e=["x1","y1","x2","y2","key"],T6e=["offset"];function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function Fq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fq(Object(n),!0).forEach(function(r){E6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E6e(t,e,n){return e=A6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A6e(t){var e=P6e(t,"string");return Td(e)=="symbol"?e:e+""}function P6e(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}function Vq(t,e){if(t==null)return{};var n=C6e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function C6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var k6e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return z.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function HX(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if(nt(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,l=e.key,c=Vq(e,S6e),d=Ye(c,!1);d.offset;var f=Vq(d,T6e);n=z.createElement("line",Ju({},f,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:l}))}return n}function I6e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var d=ii(ii({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return HX(i,d)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function O6e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var d=ii(ii({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return HX(i,d)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function R6e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var f=l.map(function(p){return Math.round(p+i-i)}).sort(function(p,v){return p-v});i!==f[0]&&f.unshift(0);var m=f.map(function(p,v){var w=!f[v+1],x=w?i+o-p:f[v+1]-p;if(x<=0)return null;var g=v%e.length;return z.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:x,width:s,stroke:"none",fill:e[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function M6e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!n||!r||!r.length)return null;var f=d.map(function(p){return Math.round(p+s-s)}).sort(function(p,v){return p-v});s!==f[0]&&f.unshift(0);var m=f.map(function(p,v){var w=!f[v+1],x=w?s+l-p:f[v+1]-p;if(x<=0)return null;var g=v%r.length;return z.createElement("rect",{key:"react-".concat(v),x:p,y:o,width:x,height:c,stroke:"none",fill:r[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var D6e=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return BQ(hR(ii(ii(ii({},Cm.defaultProps),r),{},{ticks:Ko(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},L6e=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return BQ(hR(ii(ii(ii({},Cm.defaultProps),r),{},{ticks:Ko(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Ih={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function tl(t){var e,n,r,i,s,o,l=lR(),c=cR(),d=NDe(),f=ii(ii({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ih.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ih.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ih.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ih.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Ih.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Ih.verticalFill,x:ke(t.x)?t.x:d.left,y:ke(t.y)?t.y:d.top,width:ke(t.width)?t.width:d.width,height:ke(t.height)?t.height:d.height}),m=f.x,p=f.y,v=f.width,w=f.height,x=f.syncWithTicks,g=f.horizontalValues,_=f.verticalValues,T=wDe(),A=_De();if(!ke(v)||v<=0||!ke(w)||w<=0||!ke(m)||m!==+m||!ke(p)||p!==+p)return null;var I=f.verticalCoordinatesGenerator||D6e,P=f.horizontalCoordinatesGenerator||L6e,C=f.horizontalPoints,E=f.verticalPoints;if((!C||!C.length)&&nt(P)){var N=g&&g.length,O=P({yAxis:A?ii(ii({},A),{},{ticks:N?g:A.ticks}):void 0,width:l,height:c,offset:d},N?!0:x);ha(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Td(O),"]")),Array.isArray(O)&&(C=O)}if((!E||!E.length)&&nt(I)){var D=_&&_.length,L=I({xAxis:T?ii(ii({},T),{},{ticks:D?_:T.ticks}):void 0,width:l,height:c,offset:d},D?!0:x);ha(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Td(L),"]")),Array.isArray(L)&&(E=L)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(k6e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),z.createElement(I6e,Ju({},f,{offset:d,horizontalPoints:C,xAxis:T,yAxis:A})),z.createElement(O6e,Ju({},f,{offset:d,verticalPoints:E,xAxis:T,yAxis:A})),z.createElement(R6e,Ju({},f,{horizontalPoints:C})),z.createElement(M6e,Ju({},f,{verticalPoints:E})))}tl.displayName="CartesianGrid";var $6e=["type","layout","connectNulls","ref"],F6e=["key"];function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function Bq(t,e){if(t==null)return{};var n=V6e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function V6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function qq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qq(Object(n),!0).forEach(function(r){oa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oh(t){return z6e(t)||U6e(t)||q6e(t)||B6e()}function B6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q6e(t,e){if(t){if(typeof t=="string")return _C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _C(t,e)}}function U6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z6e(t){if(Array.isArray(t))return _C(t)}function _C(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KX(r.key),r)}}function H6e(t,e,n){return e&&Uq(t.prototype,e),n&&Uq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function G6e(t,e,n){return e=_w(e),K6e(t,GX()?Reflect.construct(e,n||[],_w(t).constructor):e.apply(t,n))}function K6e(t,e){if(e&&(Qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y6e(t)}function Y6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GX=function(){return!!t})()}function _w(t){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_w(t)}function Q6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jC(t,e)}function jC(t,e){return jC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jC(t,e)}function oa(t,e,n){return e=KX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KX(t){var e=X6e(t,"string");return Qf(e)=="symbol"?e:e+""}function X6e(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wa=(function(t){function e(){var n;W6e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=G6e(this,e,[].concat(i)),oa(n,"state",{isAnimationFinished:!0,totalLength:0}),oa(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),oa(n,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(_,T){return _+T});if(!d)return n.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/d),m=o%d,p=l-o,v=[],w=0,x=0;w<c.length;x+=c[w],++w)if(x+c[w]>m){v=[].concat(Oh(c.slice(0,w)),[m-x]);break}var g=v.length%2===0?[0,p]:[p];return[].concat(Oh(e.repeat(c,f)),Oh(v),g).map(function(_){return"".concat(_,"px")}).join(", ")}),oa(n,"id",Fd("recharts-line-")),oa(n,"pathRef",function(o){n.mainCurve=o}),oa(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),oa(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Q6e(e,t),H6e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,d=s.layout,f=s.children,m=ms(f,c0);if(!m)return null;var p=function(x,g){return{x:x.x,y:x.y,value:x.value,errorVal:Fn(x.payload,g)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(Tt,v,m.map(function(w){return z.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,m=Ye(this.props,!1),p=Ye(c,!0),v=d.map(function(x,g){var _=is(is(is({key:"dot-".concat(g),r:3},m),p),{},{index:g,cx:x.x,cy:x.y,value:x.value,dataKey:f,payload:x.payload,points:d});return e.renderDotItem(c,_)}),w={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return z.createElement(Tt,vg({className:"recharts-line-dots",key:"dots"},w),v)}},{key:"renderCurveStatically",value:function(r,i,s,o){var l=this.props,c=l.type,d=l.layout,f=l.connectNulls;l.ref;var m=Bq(l,$6e),p=is(is(is({},Ye(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:c,layout:d,connectNulls:f});return z.createElement(ud,vg({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,p=o.animationEasing,v=o.animationId,w=o.animateNewValues,x=o.width,g=o.height,_=this.state,T=_.prevPoints,A=_.totalLength;return z.createElement(Us,{begin:f,duration:m,isActive:d,easing:p,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var P=I.t;if(T){var C=T.length/l.length,E=l.map(function($,F){var G=Math.floor(F*C);if(T[G]){var Y=T[G],K=Ln(Y.x,$.x),X=Ln(Y.y,$.y);return is(is({},$),{},{x:K(P),y:X(P)})}if(w){var U=Ln(x*2,$.x),Q=Ln(g/2,$.y);return is(is({},$),{},{x:U(P),y:Q(P)})}return is(is({},$),{},{x:$.x,y:$.y})});return s.renderCurveStatically(E,r,i)}var N=Ln(0,A),O=N(P),D;if(c){var L="".concat(c).split(/[,\s]+/gim).map(function($){return parseFloat($)});D=s.getStrokeDasharray(O,A,L)}else D=s.generateSimpleStrokeDasharray(A,O);return s.renderCurveStatically(l,r,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,d=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!d&&f>0||!Gc(d,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,d=i.xAxis,f=i.yAxis,m=i.top,p=i.left,v=i.width,w=i.height,x=i.isAnimationActive,g=i.id;if(s||!l||!l.length)return null;var _=this.state.isAnimationFinished,T=l.length===1,A=ht("recharts-line",c),I=d&&d.allowDataOverflow,P=f&&f.allowDataOverflow,C=I||P,E=mt(g)?this.id:g,N=(r=Ye(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=N.r,D=O===void 0?3:O,L=N.strokeWidth,$=L===void 0?2:L,F=UK(o)?o:{},G=F.clipDot,Y=G===void 0?!0:G,K=D*2+$;return z.createElement(Tt,{className:A},I||P?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:I?p:p-v/2,y:P?m:m-w/2,width:I?v:v*2,height:P?w:w*2})),!Y&&z.createElement("clipPath",{id:"clipPath-dots-".concat(E)},z.createElement("rect",{x:p-K/2,y:m-K/2,width:v+K,height:w+K}))):null,!T&&this.renderCurve(C,E),this.renderErrorBar(C,E),(T||o)&&this.renderDots(C,Y,E),(!x||_)&&fa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Oh(r),[0]):r,o=[],l=0;l<i;++l)o=[].concat(Oh(o),Oh(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(z.isValidElement(r))s=z.cloneElement(r,i);else if(nt(r))s=r(i);else{var o=i.key,l=Bq(i,F6e),c=ht("recharts-line-dot",typeof r!="boolean"?r.className:"");s=z.createElement(Em,vg({key:o},l,{className:c}))}return s}}])})(S.PureComponent);oa(wa,"displayName","Line");oa(wa,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!El.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});oa(wa,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,f=e.layout,m=c.map(function(p,v){var w=Fn(p,o);return f==="horizontal"?{x:Xb({axis:n,ticks:i,bandSize:l,entry:p,index:v}),y:mt(w)?null:r.scale(w),value:w,payload:p}:{x:mt(w)?null:n.scale(w),y:Xb({axis:r,ticks:s,bandSize:l,entry:p,index:v}),value:w,payload:p}});return is({points:m,layout:f},d)});var J6e=["layout","type","stroke","connectNulls","isRange","ref"],Z6e=["key"],YX;function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function QX(t,e){if(t==null)return{};var n=eLe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(this,arguments)}function zq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ac(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zq(Object(n),!0).forEach(function(r){Ka(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JX(r.key),r)}}function nLe(t,e,n){return e&&Wq(t.prototype,e),n&&Wq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rLe(t,e,n){return e=jw(e),iLe(t,XX()?Reflect.construct(e,n||[],jw(t).constructor):e.apply(t,n))}function iLe(t,e){if(e&&(Xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sLe(t)}function sLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XX=function(){return!!t})()}function jw(t){return jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jw(t)}function aLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NC(t,e)}function NC(t,e){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NC(t,e)}function Ka(t,e,n){return e=JX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JX(t){var e=oLe(t,"string");return Xf(e)=="symbol"?e:e+""}function oLe(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vl=(function(t){function e(){var n;tLe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=rLe(this,e,[].concat(i)),Ka(n,"state",{isAnimationFinished:!0}),Ka(n,"id",Fd("recharts-area-")),Ka(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),nt(o)&&o()}),Ka(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),nt(o)&&o()}),n}return aLe(e,t),nLe(e,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,f=c.points,m=c.dataKey,p=Ye(this.props,!1),v=Ye(d,!0),w=f.map(function(g,_){var T=ac(ac(ac({key:"dot-".concat(_),r:3},p),v),{},{index:_,cx:g.x,cy:g.y,dataKey:m,value:g.value,payload:g.payload,points:f});return e.renderDotItem(d,T)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return z.createElement(Tt,Zu({className:"recharts-area-dots"},x),w)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,d=o[o.length-1].x,f=r*Math.abs(c-d),m=jc(o.map(function(p){return p.y||0}));return ke(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(jc(s.map(function(p){return p.y||0})),m)),ke(m)?z.createElement("rect",{x:c<d?c:c-f,y:0,width:f,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,d=o[o.length-1].y,f=r*Math.abs(c-d),m=jc(o.map(function(p){return p.x||0}));return ke(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(jc(s.map(function(p){return p.x||0})),m)),ke(m)?z.createElement("rect",{x:0,y:c<d?c:c-f,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var l=this.props,c=l.layout,d=l.type,f=l.stroke,m=l.connectNulls,p=l.isRange;l.ref;var v=QX(l,J6e);return z.createElement(Tt,{clipPath:s?"url(#clipPath-".concat(o,")"):null},z.createElement(ud,Zu({},Ye(v,!0),{points:r,connectNulls:m,type:d,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&z.createElement(ud,Zu({},Ye(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:r})),f!=="none"&&p&&z.createElement(ud,Zu({},Ye(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,p=o.animationEasing,v=o.animationId,w=this.state,x=w.prevPoints,g=w.prevBaseLine;return z.createElement(Us,{begin:f,duration:m,isActive:d,easing:p,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var T=_.t;if(x){var A=x.length/l.length,I=l.map(function(N,O){var D=Math.floor(O*A);if(x[D]){var L=x[D],$=Ln(L.x,N.x),F=Ln(L.y,N.y);return ac(ac({},N),{},{x:$(T),y:F(T)})}return N}),P;if(ke(c)&&typeof c=="number"){var C=Ln(g,c);P=C(T)}else if(mt(c)||_m(c)){var E=Ln(g,0);P=E(T)}else P=c.map(function(N,O){var D=Math.floor(O*A);if(g[D]){var L=g[D],$=Ln(L.x,N.x),F=Ln(L.y,N.y);return ac(ac({},N),{},{x:$(T),y:F(T)})}return N});return s.renderAreaStatically(I,P,r,i)}return z.createElement(Tt,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(T))),z.createElement(Tt,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,d=this.state,f=d.prevPoints,m=d.prevBaseLine,p=d.totalLength;return c&&o&&o.length&&(!f&&p>0||!Gc(f,o)||!Gc(m,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,l,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,d=i.top,f=i.left,m=i.xAxis,p=i.yAxis,v=i.width,w=i.height,x=i.isAnimationActive,g=i.id;if(s||!l||!l.length)return null;var _=this.state.isAnimationFinished,T=l.length===1,A=ht("recharts-area",c),I=m&&m.allowDataOverflow,P=p&&p.allowDataOverflow,C=I||P,E=mt(g)?this.id:g,N=(r=Ye(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=N.r,D=O===void 0?3:O,L=N.strokeWidth,$=L===void 0?2:L,F=UK(o)?o:{},G=F.clipDot,Y=G===void 0?!0:G,K=D*2+$;return z.createElement(Tt,{className:A},I||P?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:I?f:f-v/2,y:P?d:d-w/2,width:I?v:v*2,height:P?w:w*2})),!Y&&z.createElement("clipPath",{id:"clipPath-dots-".concat(E)},z.createElement("rect",{x:f-K/2,y:d-K/2,width:v+K,height:w+K}))):null,T?null:this.renderArea(C,E),(o||T)&&this.renderDots(C,Y,E),(!x||_)&&fa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(S.PureComponent);YX=vl;Ka(vl,"displayName","Area");Ka(vl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!El.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ka(vl,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,o=e.props.baseValue,l=o??s;if(ke(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,d=c.scale.domain();if(c.type==="number"){var f=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Ka(vl,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,d=t.stackedData,f=t.dataStartIndex,m=t.displayedData,p=t.offset,v=e.layout,w=d&&d.length,x=YX.getBaseValue(e,n,r,i),g=v==="horizontal",_=!1,T=m.map(function(I,P){var C;w?C=d[f+P]:(C=Fn(I,c),Array.isArray(C)?_=!0:C=[x,C]);var E=C[1]==null||w&&Fn(I,c)==null;return g?{x:Xb({axis:r,ticks:s,bandSize:l,entry:I,index:P}),y:E?null:i.scale(C[1]),value:C,payload:I}:{x:E?null:r.scale(C[1]),y:Xb({axis:i,ticks:o,bandSize:l,entry:I,index:P}),value:C,payload:I}}),A;return w||_?A=T.map(function(I){var P=Array.isArray(I.value)?I.value[0]:null;return g?{x:I.x,y:P!=null&&I.y!=null?i.scale(P):null}:{x:P!=null?r.scale(P):null,y:I.y}}):A=g?i.scale(x):r.scale(x),ac({points:T,baseLine:A,layout:v,isRange:_},p)});Ka(vl,"renderDotItem",function(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if(nt(t))n=t(e);else{var r=ht("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=QX(e,Z6e);n=z.createElement(Em,Zu({},s,{key:i,className:r}))}return n});function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function lLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tJ(r.key),r)}}function uLe(t,e,n){return e&&cLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dLe(t,e,n){return e=Nw(e),hLe(t,ZX()?Reflect.construct(e,n||[],Nw(t).constructor):e.apply(t,n))}function hLe(t,e){if(e&&(Jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fLe(t)}function fLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZX=function(){return!!t})()}function Nw(t){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nw(t)}function mLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SC(t,e)}function SC(t,e){return SC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SC(t,e)}function eJ(t,e,n){return e=tJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tJ(t){var e=pLe(t,"string");return Jf(e)=="symbol"?e:e+""}function pLe(t,e){if(Jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TC(){return TC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TC.apply(this,arguments)}function gLe(t){var e=t.xAxisId,n=lR(),r=cR(),i=MX(e);return i==null?null:S.createElement(Cm,TC({},i,{className:ht("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ko(o,!0)}}))}var ps=(function(t){function e(){return lLe(this,e),dLe(this,e,arguments)}return mLe(e,t),uLe(e,[{key:"render",value:function(){return S.createElement(gLe,this.props)}}])})(S.Component);eJ(ps,"displayName","XAxis");eJ(ps,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function yLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iJ(r.key),r)}}function xLe(t,e,n){return e&&vLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bLe(t,e,n){return e=Sw(e),wLe(t,nJ()?Reflect.construct(e,n||[],Sw(t).constructor):e.apply(t,n))}function wLe(t,e){if(e&&(Zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Le(t)}function _Le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nJ=function(){return!!t})()}function Sw(t){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sw(t)}function jLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EC(t,e)}function EC(t,e){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EC(t,e)}function rJ(t,e,n){return e=iJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iJ(t){var e=NLe(t,"string");return Zf(e)=="symbol"?e:e+""}function NLe(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function AC(){return AC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AC.apply(this,arguments)}var SLe=function(e){var n=e.yAxisId,r=lR(),i=cR(),s=DX(n);return s==null?null:S.createElement(Cm,AC({},s,{className:ht("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Ko(l,!0)}}))},xi=(function(t){function e(){return yLe(this,e),bLe(this,e,arguments)}return jLe(e,t),xLe(e,[{key:"render",value:function(){return S.createElement(SLe,this.props)}}])})(S.Component);rJ(xi,"displayName","YAxis");rJ(xi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Hq(t){return PLe(t)||ALe(t)||ELe(t)||TLe()}function TLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ELe(t,e){if(t){if(typeof t=="string")return PC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PC(t,e)}}function ALe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PLe(t){if(Array.isArray(t))return PC(t)}function PC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var CC=function(e,n,r,i,s){var o=ms(e,dR),l=ms(e,e_),c=[].concat(Hq(o),Hq(l)),d=ms(e,n_),f="".concat(i,"Id"),m=i[0],p=n;if(c.length&&(p=c.reduce(function(x,g){if(g.props[f]===r&&so(g.props,"extendDomain")&&ke(g.props[m])){var _=g.props[m];return[Math.min(x[0],_),Math.max(x[1],_)]}return x},p)),d.length){var v="".concat(m,"1"),w="".concat(m,"2");p=d.reduce(function(x,g){if(g.props[f]===r&&so(g.props,"extendDomain")&&ke(g.props[v])&&ke(g.props[w])){var _=g.props[v],T=g.props[w];return[Math.min(x[0],_,T),Math.max(x[1],_,T)]}return x},p)}return s&&s.length&&(p=s.reduce(function(x,g){return ke(g)?[Math.min(x[0],g),Math.max(x[1],g)]:x},p)),p},VE={exports:{}},Gq;function CLe(){return Gq||(Gq=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,m||c,p),w=n?n+d:d;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],v]:c._events[w].push(v):(c._events[w]=v,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)e.call(f,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,v=m.length,w=new Array(v);p<v;p++)w[p]=m[p].fn;return w},l.prototype.listenerCount=function(d){var f=n?n+d:d,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,f,m,p,v,w){var x=n?n+d:d;if(!this._events[x])return!1;var g=this._events[x],_=arguments.length,T,A;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),_){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,m),!0;case 4:return g.fn.call(g.context,f,m,p),!0;case 5:return g.fn.call(g.context,f,m,p,v),!0;case 6:return g.fn.call(g.context,f,m,p,v,w),!0}for(A=1,T=new Array(_-1);A<_;A++)T[A-1]=arguments[A];g.fn.apply(g.context,T)}else{var I=g.length,P;for(A=0;A<I;A++)switch(g[A].once&&this.removeListener(d,g[A].fn,void 0,!0),_){case 1:g[A].fn.call(g[A].context);break;case 2:g[A].fn.call(g[A].context,f);break;case 3:g[A].fn.call(g[A].context,f,m);break;case 4:g[A].fn.call(g[A].context,f,m,p);break;default:if(!T)for(P=1,T=new Array(_-1);P<_;P++)T[P-1]=arguments[P];g[A].fn.apply(g[A].context,T)}}return!0},l.prototype.on=function(d,f,m){return s(this,d,f,m,!1)},l.prototype.once=function(d,f,m){return s(this,d,f,m,!0)},l.prototype.removeListener=function(d,f,m,p){var v=n?n+d:d;if(!this._events[v])return this;if(!f)return o(this,v),this;var w=this._events[v];if(w.fn)w.fn===f&&(!p||w.once)&&(!m||w.context===m)&&o(this,v);else{for(var x=0,g=[],_=w.length;x<_;x++)(w[x].fn!==f||p&&!w[x].once||m&&w[x].context!==m)&&g.push(w[x]);g.length?this._events[v]=g.length===1?g[0]:g:o(this,v)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(VE)),VE.exports}var kLe=CLe();const ILe=Jt(kLe);var BE=new ILe,qE="recharts.syncMouseEvents";function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function OLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sJ(r.key),r)}}function MLe(t,e,n){return e&&RLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UE(t,e,n){return e=sJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sJ(t){var e=DLe(t,"string");return Sy(e)=="symbol"?e:e+""}function DLe(t,e){if(Sy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LLe=(function(){function t(){OLe(this,t),UE(this,"activeIndex",0),UE(this,"coordinateList",[]),UE(this,"layout","horizontal")}return MLe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,f=n.offset,m=f===void 0?null:f,p=n.mouseHandlerCallback,v=p===void 0?null:p;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=s+c+d,p=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:m,pageY:p})}}}])})();function $Le(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ke(r)&&ke(i))return!0}return!1}function FLe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function aJ(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=en(e,n,r,i),l=en(e,n,r,s);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function VLe(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,f=e.outerRadius,m=e.angle,p=en(l,c,d,m),v=en(l,c,f,m);r=p.x,i=p.y,s=v.x,o=v.y}else return aJ(e);return[{x:r,y:i},{x:s,y:o}]}function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function Kq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ax(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kq(Object(n),!0).forEach(function(r){BLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BLe(t,e,n){return e=qLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qLe(t){var e=ULe(t,"string");return Ty(e)=="symbol"?e:e+""}function ULe(t,e){if(Ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zLe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,f=t.tooltipAxisBandSize,m=t.layout,p=t.chartName,v=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!v||!s||!o||p!=="ScatterChart"&&i!=="axis")return null;var w,x=ud;if(p==="ScatterChart")w=o,x=k4e;else if(p==="BarChart")w=FLe(m,o,c,f),x=rR;else if(m==="radial"){var g=aJ(o),_=g.cx,T=g.cy,A=g.radius,I=g.startAngle,P=g.endAngle;w={cx:_,cy:T,startAngle:I,endAngle:P,innerRadius:A,outerRadius:A},x=eX}else w={points:VLe(m,o,c)},x=ud;var C=ax(ax(ax(ax({stroke:"#ccc",pointerEvents:"none"},c),w),Ye(v,!1)),{},{payload:l,payloadIndex:d,className:ht("recharts-tooltip-cursor",v.className)});return S.isValidElement(v)?S.cloneElement(v,C):S.createElement(x,C)}var WLe=["item"],HLe=["children","className","width","height","style","compact","title","desc"];function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function Yh(){return Yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yh.apply(this,arguments)}function Yq(t,e){return YLe(t)||KLe(t,e)||lJ(t,e)||GLe()}function GLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function YLe(t){if(Array.isArray(t))return t}function Qq(t,e){if(t==null)return{};var n=QLe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cJ(r.key),r)}}function ZLe(t,e,n){return e&&JLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e$e(t,e,n){return e=Tw(e),t$e(t,oJ()?Reflect.construct(e,n||[],Tw(t).constructor):e.apply(t,n))}function t$e(t,e){if(e&&(em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n$e(t)}function n$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oJ=function(){return!!t})()}function Tw(t){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tw(t)}function r$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kC(t,e)}function kC(t,e){return kC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kC(t,e)}function tm(t){return a$e(t)||s$e(t)||lJ(t)||i$e()}function i$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lJ(t,e){if(t){if(typeof t=="string")return IC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IC(t,e)}}function s$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a$e(t){if(Array.isArray(t))return IC(t)}function IC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xq(Object(n),!0).forEach(function(r){lt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lt(t,e,n){return e=cJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cJ(t){var e=o$e(t,"string");return em(e)=="symbol"?e:e+""}function o$e(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l$e={xAxis:["bottom","top"],yAxis:["left","right"]},c$e={width:"100%",height:"100%"},uJ={x:0,y:0};function ox(t){return t}var u$e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},d$e=function(e,n,r,i){var s=n.find(function(f){return f&&f.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=i.radius;return pe(pe(pe({},i),en(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,d=i.angle;return pe(pe(pe({},i),en(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return uJ},r_=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(tm(l),tm(d)):l},[]);return o.length>0?o:e&&e.length&&ke(i)&&ke(s)?e.slice(i,s+1):[]};function dJ(t){return t==="number"?[0,"auto"]:void 0}var OC=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,l=r_(n,e);return r<0||!s||!s.length||r>=l.length?null:s.reduce(function(c,d){var f,m=(f=d.props.data)!==null&&f!==void 0?f:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var v=m===void 0?l:m;p=Tb(v,o.dataKey,i)}else p=m&&m[r]||l[r];return p?[].concat(tm(c),[HQ(d,p)]):c},[])},Jq=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=u$e(s,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,f=iOe(o,l,d,c);if(f>=0&&d){var m=d[f]&&d[f].value,p=OC(e,n,f,m),v=d$e(r,l,f,s);return{activeTooltipIndex:f,activeLabel:m,activePayload:p,activeCoordinate:v}}return null},h$e=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,f=e.layout,m=e.children,p=e.stackOffset,v=VQ(f,s);return r.reduce(function(w,x){var g,_=x.type.defaultProps!==void 0?pe(pe({},x.type.defaultProps),x.props):x.props,T=_.type,A=_.dataKey,I=_.allowDataOverflow,P=_.allowDuplicatedCategory,C=_.scale,E=_.ticks,N=_.includeHidden,O=_[o];if(w[O])return w;var D=r_(e.data,{graphicalItems:i.filter(function(Z){var ue,le=o in Z.props?Z.props[o]:(ue=Z.type.defaultProps)===null||ue===void 0?void 0:ue[o];return le===O}),dataStartIndex:c,dataEndIndex:d}),L=D.length,$,F,G;$Le(_.domain,I,T)&&($=WP(_.domain,null,I),v&&(T==="number"||C!=="auto")&&(G=mg(D,A,"category")));var Y=dJ(T);if(!$||$.length===0){var K,X=(K=_.domain)!==null&&K!==void 0?K:Y;if(A){if($=mg(D,A,T),T==="category"&&v){var U=JSe($);P&&U?(F=$,$=hw(0,L)):P||($=zB(X,$,x).reduce(function(Z,ue){return Z.indexOf(ue)>=0?Z:[].concat(tm(Z),[ue])},[]))}else if(T==="category")P?$=$.filter(function(Z){return Z!==""&&!mt(Z)}):$=zB(X,$,x).reduce(function(Z,ue){return Z.indexOf(ue)>=0||ue===""||mt(ue)?Z:[].concat(tm(Z),[ue])},[]);else if(T==="number"){var Q=cOe(D,i.filter(function(Z){var ue,le,be=o in Z.props?Z.props[o]:(ue=Z.type.defaultProps)===null||ue===void 0?void 0:ue[o],ge="hide"in Z.props?Z.props.hide:(le=Z.type.defaultProps)===null||le===void 0?void 0:le.hide;return be===O&&(N||!ge)}),A,s,f);Q&&($=Q)}v&&(T==="number"||C!=="auto")&&(G=mg(D,A,"category"))}else v?$=hw(0,L):l&&l[O]&&l[O].hasStack&&T==="number"?$=p==="expand"?[0,1]:WQ(l[O].stackGroups,c,d):$=FQ(D,i.filter(function(Z){var ue=o in Z.props?Z.props[o]:Z.type.defaultProps[o],le="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return ue===O&&(N||!le)}),T,f,!0);if(T==="number")$=CC(m,$,O,s,E),X&&($=WP(X,$,I));else if(T==="category"&&X){var re=X,W=$.every(function(Z){return re.indexOf(Z)>=0});W&&($=re)}}return pe(pe({},w),{},lt({},O,pe(pe({},_),{},{axisType:s,domain:$,categoricalDomain:G,duplicateDomain:F,originalDomain:(g=_.domain)!==null&&g!==void 0?g:Y,isCategorical:v,layout:f})))},{})},f$e=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,f=e.layout,m=e.children,p=r_(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),v=p.length,w=VQ(f,s),x=-1;return r.reduce(function(g,_){var T=_.type.defaultProps!==void 0?pe(pe({},_.type.defaultProps),_.props):_.props,A=T[o],I=dJ("number");if(!g[A]){x++;var P;return w?P=hw(0,v):l&&l[A]&&l[A].hasStack?(P=WQ(l[A].stackGroups,c,d),P=CC(m,P,A,s)):(P=WP(I,FQ(p,r.filter(function(C){var E,N,O=o in C.props?C.props[o]:(E=C.type.defaultProps)===null||E===void 0?void 0:E[o],D="hide"in C.props?C.props.hide:(N=C.type.defaultProps)===null||N===void 0?void 0:N.hide;return O===A&&!D}),"number",f),i.defaultProps.allowDataOverflow),P=CC(m,P,A,s)),pe(pe({},g),{},lt({},A,pe(pe({axisType:s},i.defaultProps),{},{hide:!0,orientation:fs(l$e,"".concat(s,".").concat(x%2),null),domain:P,originalDomain:I,isCategorical:w,layout:f})))}return g},{})},m$e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,f=e.children,m="".concat(i,"Id"),p=ms(f,s),v={};return p&&p.length?v=h$e(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(v=f$e(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),v},p$e=function(e){var n=pc(e),r=Ko(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:CO(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Jb(n,r)}},Zq=function(e){var n=e.children,r=e.defaultShowTooltip,i=as(n,zf),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},g$e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Zo(n&&n.type);return r&&r.indexOf("Bar")>=0})},eU=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},y$e=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,d=r.width,f=r.height,m=r.children,p=r.margin||{},v=as(m,zf),w=as(m,Hi),x=Object.keys(c).reduce(function(P,C){var E=c[C],N=E.orientation;return!E.mirror&&!E.hide?pe(pe({},P),{},lt({},N,P[N]+E.width)):P},{left:p.left||0,right:p.right||0}),g=Object.keys(o).reduce(function(P,C){var E=o[C],N=E.orientation;return!E.mirror&&!E.hide?pe(pe({},P),{},lt({},N,fs(P,"".concat(N))+E.height)):P},{top:p.top||0,bottom:p.bottom||0}),_=pe(pe({},g),x),T=_.bottom;v&&(_.bottom+=v.props.height||zf.defaultProps.height),w&&n&&(_=oOe(_,i,r,n));var A=d-_.left-_.right,I=f-_.top-_.bottom;return pe(pe({brushBottom:T},_),{},{width:Math.max(A,0),height:Math.max(I,0)})},v$e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},d0=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,f=e.formatAxisMap,m=e.defaultProps,p=function(_,T){var A=T.graphicalItems,I=T.stackGroups,P=T.offset,C=T.updateId,E=T.dataStartIndex,N=T.dataEndIndex,O=_.barSize,D=_.layout,L=_.barGap,$=_.barCategoryGap,F=_.maxBarSize,G=eU(D),Y=G.numericAxisName,K=G.cateAxisName,X=g$e(A),U=[];return A.forEach(function(Q,re){var W=r_(_.data,{graphicalItems:[Q],dataStartIndex:E,dataEndIndex:N}),Z=Q.type.defaultProps!==void 0?pe(pe({},Q.type.defaultProps),Q.props):Q.props,ue=Z.dataKey,le=Z.maxBarSize,be=Z["".concat(Y,"Id")],ge=Z["".concat(K,"Id")],me={},Ie=c.reduce(function(Cn,wr){var fi=T["".concat(wr.axisType,"Map")],gs=Z["".concat(wr.axisType,"Id")];fi&&fi[gs]||wr.axisType==="zAxis"||Sd();var kr=fi[gs];return pe(pe({},Cn),{},lt(lt({},wr.axisType,kr),"".concat(wr.axisType,"Ticks"),Ko(kr)))},me),fe=Ie[K],Ae=Ie["".concat(K,"Ticks")],Re=I&&I[be]&&I[be].hasStack&&vOe(Q,I[be].stackGroups),he=Zo(Q.type).indexOf("Bar")>=0,ot=Jb(fe,Ae),et=[],kt=X&&sOe({barSize:O,stackGroups:I,totalSize:v$e(Ie,K)});if(he){var It,Gt,Kn=mt(le)?F:le,Ot=(It=(Gt=Jb(fe,Ae,!0))!==null&&Gt!==void 0?Gt:Kn)!==null&&It!==void 0?It:0;et=aOe({barGap:L,barCategoryGap:$,bandSize:Ot!==ot?Ot:ot,sizeList:kt[ge],maxBarSize:Kn}),Ot!==ot&&(et=et.map(function(Cn){return pe(pe({},Cn),{},{position:pe(pe({},Cn.position),{},{offset:Cn.position.offset-Ot/2})})}))}var tn=Q&&Q.type&&Q.type.getComposedData;tn&&U.push({props:pe(pe({},tn(pe(pe({},Ie),{},{displayedData:W,props:_,dataKey:ue,item:Q,bandSize:ot,barPosition:et,offset:P,stackedData:Re,layout:D,dataStartIndex:E,dataEndIndex:N}))),{},lt(lt(lt({key:Q.key||"item-".concat(re)},Y,Ie[Y]),K,Ie[K]),"animationId",C)),childIndex:u2e(Q,_.children),item:Q})}),U},v=function(_,T){var A=_.props,I=_.dataStartIndex,P=_.dataEndIndex,C=_.updateId;if(!s$({props:A}))return null;var E=A.children,N=A.layout,O=A.stackOffset,D=A.data,L=A.reverseStackOrder,$=eU(N),F=$.numericAxisName,G=$.cateAxisName,Y=ms(E,r),K=gOe(D,Y,"".concat(F,"Id"),"".concat(G,"Id"),O,L),X=c.reduce(function(Z,ue){var le="".concat(ue.axisType,"Map");return pe(pe({},Z),{},lt({},le,m$e(A,pe(pe({},ue),{},{graphicalItems:Y,stackGroups:ue.axisType===F&&K,dataStartIndex:I,dataEndIndex:P}))))},{}),U=y$e(pe(pe({},X),{},{props:A,graphicalItems:Y}),T==null?void 0:T.legendBBox);Object.keys(X).forEach(function(Z){X[Z]=f(A,X[Z],U,Z.replace("Map",""),n)});var Q=X["".concat(G,"Map")],re=p$e(Q),W=p(A,pe(pe({},X),{},{dataStartIndex:I,dataEndIndex:P,updateId:C,graphicalItems:Y,stackGroups:K,offset:U}));return pe(pe({formattedGraphicalItems:W,graphicalItems:Y,offset:U,stackGroups:K},re),X)},w=(function(g){function _(T){var A,I,P;return XLe(this,_),P=e$e(this,_,[T]),lt(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),lt(P,"accessibilityManager",new LLe),lt(P,"handleLegendBBoxUpdate",function(C){if(C){var E=P.state,N=E.dataStartIndex,O=E.dataEndIndex,D=E.updateId;P.setState(pe({legendBBox:C},v({props:P.props,dataStartIndex:N,dataEndIndex:O,updateId:D},pe(pe({},P.state),{},{legendBBox:C}))))}}),lt(P,"handleReceiveSyncEvent",function(C,E,N){if(P.props.syncId===C){if(N===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(E)}}),lt(P,"handleBrushChange",function(C){var E=C.startIndex,N=C.endIndex;if(E!==P.state.dataStartIndex||N!==P.state.dataEndIndex){var O=P.state.updateId;P.setState(function(){return pe({dataStartIndex:E,dataEndIndex:N},v({props:P.props,dataStartIndex:E,dataEndIndex:N,updateId:O},P.state))}),P.triggerSyncEvent({dataStartIndex:E,dataEndIndex:N})}}),lt(P,"handleMouseEnter",function(C){var E=P.getMouseInfo(C);if(E){var N=pe(pe({},E),{},{isTooltipActive:!0});P.setState(N),P.triggerSyncEvent(N);var O=P.props.onMouseEnter;nt(O)&&O(N,C)}}),lt(P,"triggeredAfterMouseMove",function(C){var E=P.getMouseInfo(C),N=E?pe(pe({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(N),P.triggerSyncEvent(N);var O=P.props.onMouseMove;nt(O)&&O(N,C)}),lt(P,"handleItemMouseEnter",function(C){P.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),lt(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),lt(P,"handleMouseMove",function(C){C.persist(),P.throttleTriggeredAfterMouseMove(C)}),lt(P,"handleMouseLeave",function(C){P.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};P.setState(E),P.triggerSyncEvent(E);var N=P.props.onMouseLeave;nt(N)&&N(E,C)}),lt(P,"handleOuterEvent",function(C){var E=c2e(C),N=fs(P.props,"".concat(E));if(E&&nt(N)){var O,D;/.*touch.*/i.test(E)?D=P.getMouseInfo(C.changedTouches[0]):D=P.getMouseInfo(C),N((O=D)!==null&&O!==void 0?O:{},C)}}),lt(P,"handleClick",function(C){var E=P.getMouseInfo(C);if(E){var N=pe(pe({},E),{},{isTooltipActive:!0});P.setState(N),P.triggerSyncEvent(N);var O=P.props.onClick;nt(O)&&O(N,C)}}),lt(P,"handleMouseDown",function(C){var E=P.props.onMouseDown;if(nt(E)){var N=P.getMouseInfo(C);E(N,C)}}),lt(P,"handleMouseUp",function(C){var E=P.props.onMouseUp;if(nt(E)){var N=P.getMouseInfo(C);E(N,C)}}),lt(P,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),lt(P,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&P.handleMouseDown(C.changedTouches[0])}),lt(P,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&P.handleMouseUp(C.changedTouches[0])}),lt(P,"handleDoubleClick",function(C){var E=P.props.onDoubleClick;if(nt(E)){var N=P.getMouseInfo(C);E(N,C)}}),lt(P,"handleContextMenu",function(C){var E=P.props.onContextMenu;if(nt(E)){var N=P.getMouseInfo(C);E(N,C)}}),lt(P,"triggerSyncEvent",function(C){P.props.syncId!==void 0&&BE.emit(qE,P.props.syncId,C,P.eventEmitterSymbol)}),lt(P,"applySyncEvent",function(C){var E=P.props,N=E.layout,O=E.syncMethod,D=P.state.updateId,L=C.dataStartIndex,$=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)P.setState(pe({dataStartIndex:L,dataEndIndex:$},v({props:P.props,dataStartIndex:L,dataEndIndex:$,updateId:D},P.state)));else if(C.activeTooltipIndex!==void 0){var F=C.chartX,G=C.chartY,Y=C.activeTooltipIndex,K=P.state,X=K.offset,U=K.tooltipTicks;if(!X)return;if(typeof O=="function")Y=O(U,C);else if(O==="value"){Y=-1;for(var Q=0;Q<U.length;Q++)if(U[Q].value===C.activeLabel){Y=Q;break}}var re=pe(pe({},X),{},{x:X.left,y:X.top}),W=Math.min(F,re.x+re.width),Z=Math.min(G,re.y+re.height),ue=U[Y]&&U[Y].value,le=OC(P.state,P.props.data,Y),be=U[Y]?{x:N==="horizontal"?U[Y].coordinate:W,y:N==="horizontal"?Z:U[Y].coordinate}:uJ;P.setState(pe(pe({},C),{},{activeLabel:ue,activeCoordinate:be,activePayload:le,activeTooltipIndex:Y}))}else P.setState(C)}),lt(P,"renderCursor",function(C){var E,N=P.state,O=N.isTooltipActive,D=N.activeCoordinate,L=N.activePayload,$=N.offset,F=N.activeTooltipIndex,G=N.tooltipAxisBandSize,Y=P.getTooltipEventType(),K=(E=C.props.active)!==null&&E!==void 0?E:O,X=P.props.layout,U=C.key||"_recharts-cursor";return z.createElement(zLe,{key:U,activeCoordinate:D,activePayload:L,activeTooltipIndex:F,chartName:n,element:C,isActive:K,layout:X,offset:$,tooltipAxisBandSize:G,tooltipEventType:Y})}),lt(P,"renderPolarAxis",function(C,E,N){var O=fs(C,"type.axisType"),D=fs(P.state,"".concat(O,"Map")),L=C.type.defaultProps,$=L!==void 0?pe(pe({},L),C.props):C.props,F=D&&D[$["".concat(O,"Id")]];return S.cloneElement(C,pe(pe({},F),{},{className:ht(O,F.className),key:C.key||"".concat(E,"-").concat(N),ticks:Ko(F,!0)}))}),lt(P,"renderPolarGrid",function(C){var E=C.props,N=E.radialLines,O=E.polarAngles,D=E.polarRadius,L=P.state,$=L.radiusAxisMap,F=L.angleAxisMap,G=pc($),Y=pc(F),K=Y.cx,X=Y.cy,U=Y.innerRadius,Q=Y.outerRadius;return S.cloneElement(C,{polarAngles:Array.isArray(O)?O:Ko(Y,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(D)?D:Ko(G,!0).map(function(re){return re.coordinate}),cx:K,cy:X,innerRadius:U,outerRadius:Q,key:C.key||"polar-grid",radialLines:N})}),lt(P,"renderLegend",function(){var C=P.state.formattedGraphicalItems,E=P.props,N=E.children,O=E.width,D=E.height,L=P.props.margin||{},$=O-(L.left||0)-(L.right||0),F=LQ({children:N,formattedGraphicalItems:C,legendWidth:$,legendContent:d});if(!F)return null;var G=F.item,Y=Qq(F,WLe);return S.cloneElement(G,pe(pe({},Y),{},{chartWidth:O,chartHeight:D,margin:L,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),lt(P,"renderTooltip",function(){var C,E=P.props,N=E.children,O=E.accessibilityLayer,D=as(N,mr);if(!D)return null;var L=P.state,$=L.isTooltipActive,F=L.activeCoordinate,G=L.activePayload,Y=L.activeLabel,K=L.offset,X=(C=D.props.active)!==null&&C!==void 0?C:$;return S.cloneElement(D,{viewBox:pe(pe({},K),{},{x:K.left,y:K.top}),active:X,label:Y,payload:X?G:[],coordinate:F,accessibilityLayer:O})}),lt(P,"renderBrush",function(C){var E=P.props,N=E.margin,O=E.data,D=P.state,L=D.offset,$=D.dataStartIndex,F=D.dataEndIndex,G=D.updateId;return S.cloneElement(C,{key:C.key||"_recharts-brush",onChange:nx(P.handleBrushChange,C.props.onChange),data:O,x:ke(C.props.x)?C.props.x:L.left,y:ke(C.props.y)?C.props.y:L.top+L.height+L.brushBottom-(N.bottom||0),width:ke(C.props.width)?C.props.width:L.width,startIndex:$,endIndex:F,updateId:"brush-".concat(G)})}),lt(P,"renderReferenceElement",function(C,E,N){if(!C)return null;var O=P,D=O.clipPathId,L=P.state,$=L.xAxisMap,F=L.yAxisMap,G=L.offset,Y=C.type.defaultProps||{},K=C.props,X=K.xAxisId,U=X===void 0?Y.xAxisId:X,Q=K.yAxisId,re=Q===void 0?Y.yAxisId:Q;return S.cloneElement(C,{key:C.key||"".concat(E,"-").concat(N),xAxis:$[U],yAxis:F[re],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:D})}),lt(P,"renderActivePoints",function(C){var E=C.item,N=C.activePoint,O=C.basePoint,D=C.childIndex,L=C.isRange,$=[],F=E.props.key,G=E.item.type.defaultProps!==void 0?pe(pe({},E.item.type.defaultProps),E.item.props):E.item.props,Y=G.activeDot,K=G.dataKey,X=pe(pe({index:D,dataKey:K,cx:N.x,cy:N.y,r:4,fill:nR(E.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Ye(Y,!1)),Eb(Y));return $.push(_.renderActiveDot(Y,X,"".concat(F,"-activePoint-").concat(D))),O?$.push(_.renderActiveDot(Y,pe(pe({},X),{},{cx:O.x,cy:O.y}),"".concat(F,"-basePoint-").concat(D))):L&&$.push(null),$}),lt(P,"renderGraphicChild",function(C,E,N){var O=P.filterFormatItem(C,E,N);if(!O)return null;var D=P.getTooltipEventType(),L=P.state,$=L.isTooltipActive,F=L.tooltipAxis,G=L.activeTooltipIndex,Y=L.activeLabel,K=P.props.children,X=as(K,mr),U=O.props,Q=U.points,re=U.isRange,W=U.baseLine,Z=O.item.type.defaultProps!==void 0?pe(pe({},O.item.type.defaultProps),O.item.props):O.item.props,ue=Z.activeDot,le=Z.hide,be=Z.activeBar,ge=Z.activeShape,me=!!(!le&&$&&X&&(ue||be||ge)),Ie={};D!=="axis"&&X&&X.props.trigger==="click"?Ie={onClick:nx(P.handleItemMouseEnter,C.props.onClick)}:D!=="axis"&&(Ie={onMouseLeave:nx(P.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:nx(P.handleItemMouseEnter,C.props.onMouseEnter)});var fe=S.cloneElement(C,pe(pe({},O.props),Ie));function Ae(wr){return typeof F.dataKey=="function"?F.dataKey(wr.payload):null}if(me)if(G>=0){var Re,he;if(F.dataKey&&!F.allowDuplicatedCategory){var ot=typeof F.dataKey=="function"?Ae:"payload.".concat(F.dataKey.toString());Re=Tb(Q,ot,Y),he=re&&W&&Tb(W,ot,Y)}else Re=Q==null?void 0:Q[G],he=re&&W&&W[G];if(ge||be){var et=C.props.activeIndex!==void 0?C.props.activeIndex:G;return[S.cloneElement(C,pe(pe(pe({},O.props),Ie),{},{activeIndex:et})),null,null]}if(!mt(Re))return[fe].concat(tm(P.renderActivePoints({item:O,activePoint:Re,basePoint:he,childIndex:G,isRange:re})))}else{var kt,It=(kt=P.getItemByXY(P.state.activeCoordinate))!==null&&kt!==void 0?kt:{graphicalItem:fe},Gt=It.graphicalItem,Kn=Gt.item,Ot=Kn===void 0?C:Kn,tn=Gt.childIndex,Cn=pe(pe(pe({},O.props),Ie),{},{activeIndex:tn});return[S.cloneElement(Ot,Cn),null,null]}return re?[fe,null,null]:[fe,null]}),lt(P,"renderCustomized",function(C,E,N){return S.cloneElement(C,pe(pe({key:"recharts-customized-".concat(N)},P.props),P.state))}),lt(P,"renderMap",{CartesianGrid:{handler:ox,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:ox},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:ox},YAxis:{handler:ox},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((A=T.id)!==null&&A!==void 0?A:Fd("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=DY(P.triggeredAfterMouseMove,(I=T.throttleDelay)!==null&&I!==void 0?I:1e3/60),P.state={},P}return r$e(_,g),ZLe(_,[{key:"componentDidMount",value:function(){var A,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,I=A.children,P=A.data,C=A.height,E=A.layout,N=as(I,mr);if(N){var O=N.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,L=OC(this.state,P,O,D),$=this.state.tooltipTicks[O].coordinate,F=(this.state.offset.top+C)/2,G=E==="horizontal",Y=G?{x:$,y:F}:{y:$,x:F},K=this.state.formattedGraphicalItems.find(function(U){var Q=U.item;return Q.type.name==="Scatter"});K&&(Y=pe(pe({},Y),K.props.points[O].tooltipPosition),L=K.props.points[O].tooltipPayload);var X={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:D,activePayload:L,activeCoordinate:Y};this.setState(X),this.renderCursor(N),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var P,C;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(A){fP([as(A.children,mr)],[as(this.props.children,mr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=as(this.props.children,mr);if(A&&typeof A.props.shared=="boolean"){var I=A.props.shared?"axis":"item";return l.indexOf(I)>=0?I:s}return s}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var I=this.container,P=I.getBoundingClientRect(),C=QAe(P),E={chartX:Math.round(A.pageX-C.left),chartY:Math.round(A.pageY-C.top)},N=P.width/I.offsetWidth||1,O=this.inRange(E.chartX,E.chartY,N);if(!O)return null;var D=this.state,L=D.xAxisMap,$=D.yAxisMap,F=this.getTooltipEventType(),G=Jq(this.state,this.props.data,this.props.layout,O);if(F!=="axis"&&L&&$){var Y=pc(L).scale,K=pc($).scale,X=Y&&Y.invert?Y.invert(E.chartX):null,U=K&&K.invert?K.invert(E.chartY):null;return pe(pe({},E),{},{xValue:X,yValue:U},G)}return G?pe(pe({},E),G):null}},{key:"inRange",value:function(A,I){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=A/P,N=I/P;if(C==="horizontal"||C==="vertical"){var O=this.state.offset,D=E>=O.left&&E<=O.left+O.width&&N>=O.top&&N<=O.top+O.height;return D?{x:E,y:N}:null}var L=this.state,$=L.angleAxisMap,F=L.radiusAxisMap;if($&&F){var G=pc($);return GB({x:E,y:N},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,I=this.getTooltipEventType(),P=as(A,mr),C={};P&&I==="axis"&&(P.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Eb(this.props,this.handleOuterEvent);return pe(pe({},E),C)}},{key:"addListener",value:function(){BE.on(qE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){BE.removeListener(qE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,I,P){for(var C=this.state.formattedGraphicalItems,E=0,N=C.length;E<N;E++){var O=C[E];if(O.item===A||O.props.key===A.key||I===Zo(O.item.type)&&P===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,I=this.state.offset,P=I.left,C=I.top,E=I.height,N=I.width;return z.createElement("defs",null,z.createElement("clipPath",{id:A},z.createElement("rect",{x:P,y:C,height:E,width:N})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(I,P){var C=Yq(P,2),E=C[0],N=C[1];return pe(pe({},I),{},lt({},E,N.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(I,P){var C=Yq(P,2),E=C[0],N=C[1];return pe(pe({},I),{},lt({},E,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[A])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(A){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[A])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(A){var I=this.state,P=I.formattedGraphicalItems,C=I.activeItem;if(P&&P.length)for(var E=0,N=P.length;E<N;E++){var O=P[E],D=O.props,L=O.item,$=L.type.defaultProps!==void 0?pe(pe({},L.type.defaultProps),L.props):L.props,F=Zo(L.type);if(F==="Bar"){var G=(D.data||[]).find(function(U){return h4e(A,U)});if(G)return{graphicalItem:O,payload:G}}else if(F==="RadialBar"){var Y=(D.data||[]).find(function(U){return GB(A,U)});if(Y)return{graphicalItem:O,payload:Y}}else if(Q1(O,C)||X1(O,C)||by(O,C)){var K=W5e({graphicalItem:O,activeTooltipItem:C,itemData:$.data}),X=$.activeIndex===void 0?K:$.activeIndex;return{graphicalItem:pe(pe({},O),{},{childIndex:X}),payload:by(O,C)?$.data[K]:O.props.data[K]}}}return null}},{key:"render",value:function(){var A=this;if(!s$(this))return null;var I=this.props,P=I.children,C=I.className,E=I.width,N=I.height,O=I.style,D=I.compact,L=I.title,$=I.desc,F=Qq(I,HLe),G=Ye(F,!1);if(D)return z.createElement(Aq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(pP,Yh({},G,{width:E,height:N,title:L,desc:$}),this.renderClipPath(),o$(P,this.renderMap)));if(this.props.accessibilityLayer){var Y,K;G.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,G.role=(K=this.props.role)!==null&&K!==void 0?K:"application",G.onKeyDown=function(U){A.accessibilityManager.keyboardEvent(U)},G.onFocus=function(){A.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return z.createElement(Aq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",Yh({className:ht("recharts-wrapper",C),style:pe({position:"relative",cursor:"default",width:E,height:N},O)},X,{ref:function(Q){A.container=Q}}),z.createElement(pP,Yh({},G,{width:E,height:N,title:L,desc:$,style:c$e}),this.renderClipPath(),o$(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(S.Component);lt(w,"displayName",n),lt(w,"defaultProps",pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),lt(w,"getDerivedStateFromProps",function(g,_){var T=g.dataKey,A=g.data,I=g.children,P=g.width,C=g.height,E=g.layout,N=g.stackOffset,O=g.margin,D=_.dataStartIndex,L=_.dataEndIndex;if(_.updateId===void 0){var $=Zq(g);return pe(pe(pe({},$),{},{updateId:0},v(pe(pe({props:g},$),{},{updateId:0}),_)),{},{prevDataKey:T,prevData:A,prevWidth:P,prevHeight:C,prevLayout:E,prevStackOffset:N,prevMargin:O,prevChildren:I})}if(T!==_.prevDataKey||A!==_.prevData||P!==_.prevWidth||C!==_.prevHeight||E!==_.prevLayout||N!==_.prevStackOffset||!cf(O,_.prevMargin)){var F=Zq(g),G={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},Y=pe(pe({},Jq(_,A,E)),{},{updateId:_.updateId+1}),K=pe(pe(pe({},F),G),Y);return pe(pe(pe({},K),v(pe({props:g},K),_)),{},{prevDataKey:T,prevData:A,prevWidth:P,prevHeight:C,prevLayout:E,prevStackOffset:N,prevMargin:O,prevChildren:I})}if(!fP(I,_.prevChildren)){var X,U,Q,re,W=as(I,zf),Z=W&&(X=(U=W.props)===null||U===void 0?void 0:U.startIndex)!==null&&X!==void 0?X:D,ue=W&&(Q=(re=W.props)===null||re===void 0?void 0:re.endIndex)!==null&&Q!==void 0?Q:L,le=Z!==D||ue!==L,be=!mt(A),ge=be&&!le?_.updateId:_.updateId+1;return pe(pe({updateId:ge},v(pe(pe({props:g},_),{},{updateId:ge,dataStartIndex:Z,dataEndIndex:ue}),_)),{},{prevChildren:I,dataStartIndex:Z,dataEndIndex:ue})}return null}),lt(w,"renderActiveDot",function(g,_,T){var A;return S.isValidElement(g)?A=S.cloneElement(g,_):nt(g)?A=g(_):A=z.createElement(Em,_),z.createElement(Tt,{className:"recharts-active-dot",key:T},A)});var x=S.forwardRef(function(_,T){return z.createElement(w,Yh({},_,{ref:T}))});return x.displayName=w.displayName,x},i_=d0({chartName:"LineChart",GraphicalChild:wa,axisComponents:[{axisType:"xAxis",AxisComp:ps},{axisType:"yAxis",AxisComp:xi}],formatAxisMap:iR}),RC=d0({chartName:"BarChart",GraphicalChild:da,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ps},{axisType:"yAxis",AxisComp:xi}],formatAxisMap:iR}),x$e=d0({chartName:"PieChart",GraphicalChild:Pl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Pm},{axisType:"radiusAxis",AxisComp:Am}],formatAxisMap:YQ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),b$e=d0({chartName:"RadarChart",GraphicalChild:u0,axisComponents:[{axisType:"angleAxis",AxisComp:Pm},{axisType:"radiusAxis",AxisComp:Am}],formatAxisMap:YQ,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),w$e=d0({chartName:"AreaChart",GraphicalChild:vl,axisComponents:[{axisType:"xAxis",AxisComp:ps},{axisType:"yAxis",AxisComp:xi}],formatAxisMap:iR});function _$e({progress:t}){const n=t.slice(0,10).reverse().map((r,i)=>({name:`Game ${i+1}`,score:r.score,accuracy:Math.round(r.correct_answers/r.total_questions*100)}));return a.jsxs(te,{className:"mb-8",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(gn,{className:"w-6 h-6 text-green-500"}),"Performance Over Time"]})}),a.jsx(ne,{children:n.length>0?a.jsx(Wa,{width:"100%",height:300,children:a.jsxs(i_,{data:n,children:[a.jsx(tl,{strokeDasharray:"3 3"}),a.jsx(ps,{dataKey:"name"}),a.jsx(xi,{}),a.jsx(mr,{}),a.jsx(Hi,{}),a.jsx(wa,{type:"monotone",dataKey:"score",stroke:"#8b5cf6",strokeWidth:3}),a.jsx(wa,{type:"monotone",dataKey:"accuracy",stroke:"#10b981",strokeWidth:3})]})}):a.jsx("div",{className:"text-center py-12 text-gray-500",children:"Play some games to see your performance chart!"})})]})}function j$e({progress:t}){const e=t.slice(0,10),n={addition:"",subtraction:"",multiplication:"",division:""},r={easy:"bg-green-500",medium:"bg-yellow-500",hard:"bg-red-500"};return a.jsxs(te,{children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(_n,{className:"w-6 h-6 text-blue-500"}),"Recent Games"]})}),a.jsx(ne,{children:a.jsx("div",{className:"space-y-3",children:e.map((i,s)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-100 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"text-3xl",children:n[i.operation]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-bold capitalize",children:i.operation}),a.jsx(je,{className:r[i.level]+" text-white",children:i.level})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Qt,{className:"w-4 h-4"}),i.correct_answers,"/",i.total_questions]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(_n,{className:"w-4 h-4"}),i.time_taken,"s"]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"flex gap-1 mb-1",children:[1,2,3].map(o=>a.jsx(Nt,{className:`w-5 h-5 ${o<=i.stars_earned?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},o))}),a.jsx("div",{className:"text-sm text-gray-500",children:hn(new Date(i.created_date),"MMM d, h:mm a")})]})]},s))})})]})}function hJ(){const{data:t=[],isLoading:e}=dt({queryKey:["gameProgress"],queryFn:()=>base44.entities.GameProgress.list("-created_date"),initialData:[]}),{data:n=[]}=dt({queryKey:["userDailyChallenges"],queryFn:async()=>{const _=await base44.auth.me();return base44.entities.DailyChallenge.filter({created_by:_.email})},initialData:[]}),{data:r}=dt({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:i=[]}=dt({queryKey:["tutorSessions"],queryFn:async()=>{const _=await base44.auth.me();return base44.entities.TutorSession.filter({created_by:_.email})},initialData:[]}),s=()=>t.reduce((_,T)=>_+(T.stars_earned||0),0),o=()=>n.reduce((_,T)=>_+(T.bonus_stars||0),0),l=()=>t.reduce((_,T)=>_+(T.score||0),0),c=()=>{if(t.length===0)return 0;const _=t.reduce((T,A)=>T+A.correct_answers/A.total_questions*100,0);return Math.round(_/t.length)},d=()=>t.reduce((_,T)=>_+(T.time_taken||0),0),f=()=>t.length,m=s()+o(),p=m-((r==null?void 0:r.stars_spent)||0),w=(()=>{const _=f(),T=t.some(E=>E.stars_earned===3),A=t.some(E=>E.correct_answers/E.total_questions===1),I=t.some(E=>E.level==="hard"&&E.stars_earned>=2),P=n.length,C=[];return _>=5&&C.push({name:"Curly Hair",emoji:""}),_>=7&&C.push({name:"Hat",emoji:""}),_>=10&&C.push({name:"Sporty Outfit",emoji:""}),m>=10&&C.push({name:"Spiky Hair",emoji:""}),T&&C.push({name:"Cool Eyes",emoji:""}),A&&C.push({name:"Heart Eyes & Pirate Outfit",emoji:""}),I&&C.push({name:"Purple Hair, Superhero Outfit & Cape",emoji:""}),P>=7&&C.push({name:"Artist Outfit",emoji:""}),C.slice(0,3)})(),g=(()=>{const _={};return i.forEach(T=>{const A=`${T.operation}-${T.level}`;_[A]||(_[A]={operation:T.operation,level:T.level,count:0}),_[A].count++}),Object.values(_).sort((T,A)=>A.count-T.count).slice(0,3)})();return e?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Loading your progress..."})]})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-block mb-6",children:a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-2xl",children:a.jsx(Ct,{className:"w-12 h-12 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Your Progress"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Keep up the great work! "})]}),t.length===0?a.jsx(te,{className:"text-center py-12",children:a.jsxs(ne,{children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No games played yet!"}),a.jsx("p",{className:"text-gray-600",children:"Start playing to see your progress here."})]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[a.jsx(te,{className:"md:col-span-2 border-4 border-yellow-300 shadow-xl bg-gradient-to-r from-yellow-50 to-orange-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(Nt,{className:"w-8 h-8 text-white fill-white"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-3xl font-bold text-gray-800",children:[p," Stars Available"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[m," total earned  ",(r==null?void 0:r.stars_spent)||0," spent"]})]})]}),a.jsx(Ht,{to:Xe("Shop"),children:a.jsxs(oe,{className:"h-12 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(Wo,{className:"w-5 h-5 mr-2"}),"Visit Shop"]})})]})})}),w.length>0&&a.jsx(te,{className:"border-4 border-green-300 shadow-xl bg-gradient-to-r from-green-50 to-emerald-50",children:a.jsxs(ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx(kA,{className:"w-6 h-6 text-green-600"}),a.jsx("h3",{className:"font-bold text-lg text-green-800",children:"New Rewards!"})]}),a.jsx("div",{className:"space-y-2 mb-3",children:w.map((_,T)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"text-xl",children:_.emoji}),a.jsx("span",{className:"font-medium",children:_.name})]},T))}),a.jsx(Ht,{to:Xe("Shop"),children:a.jsx(oe,{variant:"outline",className:"w-full border-green-400 text-green-700 hover:bg-green-100",children:"Claim Rewards"})})]})})]}),i.length>0&&a.jsxs(te,{className:"mb-8 border-4 border-blue-300 shadow-xl bg-gradient-to-r from-blue-50 to-purple-50",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-100 to-purple-100 p-6 rounded-t-xl",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-xl font-bold text-blue-800",children:[a.jsx(pr,{className:"w-7 h-7 text-blue-600"}),"AI Tutor Learning Insights"]})}),a.jsxs(ne,{className:"p-6",children:[a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center border-2 border-blue-200 shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Tutoring Sessions"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center border-2 border-purple-200 shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-purple-600",children:i.filter(_=>_.hint_requested).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Hints Received"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center border-2 border-green-200 shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:i.filter(_=>_.explanation_viewed).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Explanations Viewed"})]})]}),g.length>0&&a.jsxs("div",{className:"bg-white p-4 rounded-xl border-2 border-orange-200 shadow-sm",children:[a.jsxs("h4",{className:"font-bold mb-3 flex items-center gap-2 text-lg text-orange-700",children:[a.jsx(Qt,{className:"w-5 h-5 text-orange-600"}),"Practice These Topics"]}),a.jsx("div",{className:"space-y-2",children:g.map((_,T)=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"capitalize font-medium text-gray-700",children:[_.operation," (",_.level,")"]}),a.jsxs(je,{variant:"outline",className:"bg-orange-50 text-orange-600 border-orange-200",children:[_.count," times needed help"]})]},T))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[a.jsxs(te,{className:"bg-gradient-to-br from-yellow-400 to-orange-500 text-white border-0",children:[a.jsx(_e,{className:"pb-2",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsx(Nt,{className:"w-8 h-8 fill-white"})})}),a.jsxs(ne,{children:[a.jsx("div",{className:"text-3xl font-bold mb-1",children:s()}),a.jsx("p",{className:"text-sm text-white/90",children:"Game Stars"})]})]}),a.jsxs(te,{className:"bg-gradient-to-br from-purple-500 to-pink-500 text-white border-0",children:[a.jsx(_e,{className:"pb-2",children:a.jsx(Ct,{className:"w-8 h-8"})}),a.jsxs(ne,{children:[a.jsx("div",{className:"text-3xl font-bold mb-1",children:l()}),a.jsx("p",{className:"text-sm text-white/90",children:"Total Score"})]})]}),a.jsxs(te,{className:"bg-gradient-to-br from-green-500 to-emerald-500 text-white border-0",children:[a.jsx(_e,{className:"pb-2",children:a.jsx(Qt,{className:"w-8 h-8"})}),a.jsxs(ne,{children:[a.jsxs("div",{className:"text-3xl font-bold mb-1",children:[c(),"%"]}),a.jsx("p",{className:"text-sm text-white/90",children:"Accuracy"})]})]}),a.jsxs(te,{className:"bg-gradient-to-br from-blue-500 to-cyan-500 text-white border-0",children:[a.jsx(_e,{className:"pb-2",children:a.jsx(_n,{className:"w-8 h-8"})}),a.jsxs(ne,{children:[a.jsxs("div",{className:"text-3xl font-bold mb-1",children:[Math.floor(d()/60),"m"]}),a.jsx("p",{className:"text-sm text-white/90",children:"Time Played"})]})]}),a.jsxs(te,{className:"bg-gradient-to-br from-indigo-500 to-purple-500 text-white border-0",children:[a.jsx(_e,{className:"pb-2",children:a.jsx(gn,{className:"w-8 h-8"})}),a.jsxs(ne,{children:[a.jsx("div",{className:"text-3xl font-bold mb-1",children:f()}),a.jsx("p",{className:"text-sm text-white/90",children:"Games Played"})]})]})]}),a.jsx(cSe,{progress:t}),a.jsx(_$e,{progress:t}),a.jsx(j$e,{progress:t})]})]})}var N$e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],S$e=N$e.reduce((t,e)=>{const n=sI(`Primitive.${e}`),r=S.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),T$e="Label",fJ=S.forwardRef((t,e)=>a.jsx(S$e.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));fJ.displayName=T$e;var mJ=fJ;const E$e=Gy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),at=S.forwardRef(({className:t,...e},n)=>a.jsx(mJ,{ref:n,className:vt(E$e(),t),...e}));at.displayName=mJ.displayName;var s_="Tabs",[A$e]=_a(s_,[p1]),pJ=p1(),[P$e,mR]=A$e(s_),gJ=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,f=Ky(l),[m,p]=ll({prop:r,onChange:i,defaultProp:s??"",caller:s_});return a.jsx(P$e,{scope:n,baseId:Bc(),value:m,onValueChange:p,orientation:o,dir:f,activationMode:c,children:a.jsx(wt.div,{dir:f,"data-orientation":o,...d,ref:e})})});gJ.displayName=s_;var yJ="TabsList",vJ=S.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=mR(yJ,n),o=pJ(n);return a.jsx(MW,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:a.jsx(wt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});vJ.displayName=yJ;var xJ="TabsTrigger",bJ=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=mR(xJ,n),l=pJ(n),c=jJ(o.baseId,r),d=NJ(o.baseId,r),f=r===o.value;return a.jsx(DW,{asChild:!0,...l,focusable:!i,active:f,children:a.jsx(wt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Fe(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:Fe(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:Fe(t.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!i&&m&&o.onValueChange(r)})})})});bJ.displayName=xJ;var wJ="TabsContent",_J=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,l=mR(wJ,n),c=jJ(l.baseId,r),d=NJ(l.baseId,r),f=r===l.value,m=S.useRef(f);return S.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx(Nl,{present:i||f,children:({present:p})=>a.jsx(wt.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:p&&s})})});_J.displayName=wJ;function jJ(t,e){return`${t}-trigger-${e}`}function NJ(t,e){return`${t}-content-${e}`}var C$e=gJ,SJ=vJ,TJ=bJ,EJ=_J;const Kc=C$e,xl=S.forwardRef(({className:t,...e},n)=>a.jsx(SJ,{ref:n,className:vt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));xl.displayName=SJ.displayName;const St=S.forwardRef(({className:t,...e},n)=>a.jsx(TJ,{ref:n,className:vt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));St.displayName=TJ.displayName;const Dt=S.forwardRef(({className:t,...e},n)=>a.jsx(EJ,{ref:n,className:vt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Dt.displayName=EJ.displayName;var k$e=Symbol("radix.slottable");function I$e(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=k$e,e}var AJ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),O$e="VisuallyHidden",PJ=S.forwardRef((t,e)=>a.jsx(wt.span,{...t,ref:e,style:{...AJ,...t.style}}));PJ.displayName=O$e;var R$e=PJ,[a_]=_a("Tooltip",[gm]),o_=gm(),CJ="TooltipProvider",M$e=700,MC="tooltip.open",[D$e,pR]=a_(CJ),kJ=t=>{const{__scopeTooltip:e,delayDuration:n=M$e,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=S.useRef(!0),l=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),a.jsx(D$e,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};kJ.displayName=CJ;var Ey="Tooltip",[L$e,h0]=a_(Ey),IJ=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,c=pR(Ey,t.__scopeTooltip),d=o_(e),[f,m]=S.useState(null),p=Bc(),v=S.useRef(0),w=o??c.disableHoverableContent,x=l??c.delayDuration,g=S.useRef(!1),[_,T]=ll({prop:r,defaultProp:i??!1,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(MC))):c.onClose(),s==null||s(E)},caller:Ey}),A=S.useMemo(()=>_?g.current?"delayed-open":"instant-open":"closed",[_]),I=S.useCallback(()=>{window.clearTimeout(v.current),v.current=0,g.current=!1,T(!0)},[T]),P=S.useCallback(()=>{window.clearTimeout(v.current),v.current=0,T(!1)},[T]),C=S.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{g.current=!0,T(!0),v.current=0},x)},[x,T]);return S.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),a.jsx(pI,{...d,children:a.jsx(L$e,{scope:e,contentId:p,open:_,stateAttribute:A,trigger:f,onTriggerChange:m,onTriggerEnter:S.useCallback(()=>{c.isOpenDelayedRef.current?C():I()},[c.isOpenDelayedRef,C,I]),onTriggerLeave:S.useCallback(()=>{w?P():(window.clearTimeout(v.current),v.current=0)},[P,w]),onOpen:I,onClose:P,disableHoverableContent:w,children:n})})};IJ.displayName=Ey;var DC="TooltipTrigger",OJ=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=h0(DC,n),s=pR(DC,n),o=o_(n),l=S.useRef(null),c=$t(e,l,i.onTriggerChange),d=S.useRef(!1),f=S.useRef(!1),m=S.useCallback(()=>d.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(gI,{asChild:!0,...o,children:a.jsx(wt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Fe(t.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Fe(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Fe(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Fe(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:Fe(t.onBlur,i.onClose),onClick:Fe(t.onClick,i.onClose)})})});OJ.displayName=DC;var gR="TooltipPortal",[$$e,F$e]=a_(gR,{forceMount:void 0}),RJ=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,s=h0(gR,e);return a.jsx($$e,{scope:e,forceMount:n,children:a.jsx(Nl,{present:n||s.open,children:a.jsx(m1,{asChild:!0,container:i,children:r})})})};RJ.displayName=gR;var nm="TooltipContent",MJ=S.forwardRef((t,e)=>{const n=F$e(nm,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=h0(nm,t.__scopeTooltip);return a.jsx(Nl,{present:r||o.open,children:o.disableHoverableContent?a.jsx(DJ,{side:i,...s,ref:e}):a.jsx(V$e,{side:i,...s,ref:e})})}),V$e=S.forwardRef((t,e)=>{const n=h0(nm,t.__scopeTooltip),r=pR(nm,t.__scopeTooltip),i=S.useRef(null),s=$t(e,i),[o,l]=S.useState(null),{trigger:c,onClose:d}=n,f=i.current,{onPointerInTransitChange:m}=r,p=S.useCallback(()=>{l(null),m(!1)},[m]),v=S.useCallback((w,x)=>{const g=w.currentTarget,_={x:w.clientX,y:w.clientY},T=W$e(_,g.getBoundingClientRect()),A=H$e(_,T),I=G$e(x.getBoundingClientRect()),P=Y$e([...A,...I]);l(P),m(!0)},[m]);return S.useEffect(()=>()=>p(),[p]),S.useEffect(()=>{if(c&&f){const w=g=>v(g,f),x=g=>v(g,c);return c.addEventListener("pointerleave",w),f.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",w),f.removeEventListener("pointerleave",x)}}},[c,f,v,p]),S.useEffect(()=>{if(o){const w=x=>{const g=x.target,_={x:x.clientX,y:x.clientY},T=(c==null?void 0:c.contains(g))||(f==null?void 0:f.contains(g)),A=!K$e(_,o);T?p():A&&(p(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,f,o,d,p]),a.jsx(DJ,{...t,ref:s})}),[B$e,q$e]=a_(Ey,{isInside:!1}),U$e=I$e("TooltipContent"),DJ=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=h0(nm,n),d=o_(n),{onClose:f}=c;return S.useEffect(()=>(document.addEventListener(MC,f),()=>document.removeEventListener(MC,f)),[f]),S.useEffect(()=>{if(c.trigger){const m=p=>{const v=p.target;v!=null&&v.contains(c.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,f]),a.jsx(l1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:a.jsxs(yI,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(U$e,{children:r}),a.jsx(B$e,{scope:n,isInside:!0,children:a.jsx(R$e,{id:c.contentId,role:"tooltip",children:i||r})})]})})});MJ.displayName=nm;var LJ="TooltipArrow",z$e=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=o_(n);return q$e(LJ,n).isInside?null:a.jsx(vI,{...i,...r,ref:e})});z$e.displayName=LJ;function W$e(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function H$e(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function G$e(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function K$e(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],d=l.x,f=l.y,m=c.x,p=c.y;f>r!=p>r&&n<(m-d)*(r-f)/(p-f)+d&&(i=!i)}return i}function Y$e(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Q$e(e)}function Q$e(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var X$e=kJ,J$e=IJ,Z$e=OJ,eFe=RJ,$J=MJ;const tU=X$e,nU=J$e,rU=Z$e,LC=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(eFe,{children:a.jsx($J,{ref:r,sideOffset:e,className:vt("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));LC.displayName=$J.displayName;function Di({title:t,options:e,selected:n,onChange:r,isUnlocked:i,unlockableItems:s=[],type:o="default"}){const l=c=>{const d=s.find(f=>f.id===c);return(d==null?void 0:d.requirement)||"Complete challenges to unlock"};return a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-800",children:t}),a.jsx("div",{className:"grid grid-cols-4 gap-3",children:e.map(c=>{const d=i(c.id),f=n===c.id;return o==="color"?a.jsx(tU,{children:a.jsxs(nU,{children:[a.jsx(rU,{asChild:!0,children:a.jsxs("button",{onClick:()=>d&&r(c.id),disabled:!d,className:`relative h-16 rounded-xl border-4 transition-all ${f?"border-purple-500 shadow-lg scale-110":"border-gray-200 hover:border-purple-300"} ${!d&&"opacity-50 cursor-not-allowed"}`,style:{backgroundColor:c.color},children:[!d&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-lg",children:a.jsx(oi,{className:"w-6 h-6 text-white"})}),f&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-purple-500 text-white rounded-full w-6 h-6 flex items-center justify-center",children:""})]})}),a.jsxs(LC,{children:[a.jsx("p",{className:"font-medium",children:c.label}),!d&&a.jsx("p",{className:"text-xs text-gray-400",children:l(c.id)})]})]})},c.id):a.jsx(tU,{children:a.jsxs(nU,{children:[a.jsx(rU,{asChild:!0,children:a.jsxs("button",{onClick:()=>d&&r(c.id),disabled:!d,className:`relative p-4 rounded-xl border-4 transition-all ${f?"border-purple-500 bg-purple-50 shadow-lg scale-105":"border-gray-200 bg-white hover:border-purple-300 hover:bg-purple-50"} ${!d&&"opacity-50 cursor-not-allowed"}`,children:[a.jsx("div",{className:"text-3xl mb-1",children:c.emoji}),a.jsx("div",{className:"text-xs font-medium text-gray-600 truncate",children:c.label}),!d&&a.jsx("div",{className:"absolute top-2 right-2 bg-gray-700 text-white rounded-full w-6 h-6 flex items-center justify-center",children:a.jsx(oi,{className:"w-3 h-3"})}),f&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-purple-500 text-white rounded-full w-7 h-7 flex items-center justify-center shadow-lg",children:""})]})}),a.jsxs(LC,{children:[a.jsx("p",{className:"font-medium",children:c.label}),!d&&a.jsx("p",{className:"text-xs text-gray-400",children:l(c.id)})]})]})},c.id)})})]})}function FJ(){var E,N,O;xr();const[t,e]=S.useState(!1),[n,r]=S.useState(!1),[i,s]=S.useState(null),[o,l]=S.useState(!0);S.useEffect(()=>{const D=zx(Bt),L=i9(D,async $=>{if($){const F=dn(Bt),G=await K7(Gi(F,"users",$.uid));s({email:$.email,full_name:$.displayName,...G.exists()?G.data():{}})}else s(null);l(!1)});return()=>L()},[]);const[c,d]=S.useState([]);S.useEffect(()=>{if(!i)return;const D=dn(Bt),L=va(Pr(D,"gameProgress"),si("user_email","==",i.email));Ti(L).then($=>{d($.docs.map(F=>F.data()))})},[i]);const[f,m]=S.useState({avatar_skin_tone:"medium",avatar_hair_style:"short",avatar_hair_color:"brown",avatar_eyes:"normal",avatar_face:"smile",avatar_shirt:"t_shirt_basic",avatar_pants:"jeans",avatar_shoes:"sneakers",avatar_hat:"none",avatar_glasses:"none",avatar_accessory:"none",avatar_background:"plain",pet_hat:"none",pet_accessory:"none",unlocked_items:["t_shirt_basic","jeans","sneakers","short","long","black","brown","blonde","normal","happy","light","medium","tan","dark","smile","big_smile","plain"],parent_email:""});S.useEffect(()=>{i&&m({avatar_skin_tone:i.avatar_skin_tone||"medium",avatar_hair_style:i.avatar_hair_style||"short",avatar_hair_color:i.avatar_hair_color||"brown",avatar_eyes:i.avatar_eyes||"normal",avatar_face:i.avatar_face||"smile",avatar_shirt:i.avatar_shirt||"t_shirt_basic",avatar_pants:i.avatar_pants||"jeans",avatar_shoes:i.avatar_shoes||"sneakers",avatar_hat:i.avatar_hat||"none",avatar_glasses:i.avatar_glasses||"none",avatar_accessory:i.avatar_accessory||"none",avatar_background:i.avatar_background||"plain",pet_hat:i.pet_hat||"none",pet_accessory:i.pet_accessory||"none",unlocked_items:i.unlocked_items||["t_shirt_basic","jeans","sneakers","short","long","black","brown","blonde","normal","happy","light","medium","tan","dark","smile","big_smile","plain"],parent_email:i.parent_email||""})},[i]);const p=async()=>{if(!i)return;const D=dn(Bt);await Fc(Gi(D,"users",i.email),{...i,...f},{merge:!0}),e(!0),setTimeout(()=>e(!1),3e3)},v=(D,L)=>{m($=>({...$,[D]:L}))},w=D=>(f.unlocked_items||[]).includes(D)||((i==null?void 0:i.purchased_items)||[]).includes(D),g=(()=>{const D=c.length,L=c.reduce((K,X)=>K+(X.stars_earned||0),0),$=c.some(K=>K.stars_earned===3),F=c.some(K=>K.correct_answers/K.total_questions===1),G=c.some(K=>K.level==="hard"&&K.stars_earned>=2),Y=[];return D>=3&&!w("hoodie")&&Y.push({item:"hoodie",reason:"Play 3 games",emoji:""}),D>=5&&!w("curly")&&Y.push({item:"curly",reason:"Play 5 games",emoji:""}),D>=7&&!w("baseball_cap")&&Y.push({item:"baseball_cap",reason:"Play 7 games",emoji:""}),D>=10&&!w("shorts")&&Y.push({item:"shorts",reason:"Play 10 games",emoji:""}),D>=15&&!w("boots")&&Y.push({item:"boots",reason:"Play 15 games",emoji:""}),L>=10&&!w("spiky")&&Y.push({item:"spiky",reason:"Earn 10 stars",emoji:""}),L>=20&&!w("sunglasses")&&Y.push({item:"sunglasses",reason:"Earn 20 stars",emoji:""}),L>=30&&!w("stars")&&Y.push({item:"stars",reason:"Earn 30 stars",emoji:""}),$&&!w("star")&&Y.push({item:"star",reason:"Get 3 stars in one game",emoji:""}),F&&!w("heart")&&Y.push({item:"heart",reason:"Perfect score",emoji:""}),G&&!w("crown")&&Y.push({item:"crown",reason:"Complete hard level",emoji:""}),Y.slice(0,3)})(),_=i==null?void 0:i.active_pet,T=_?{id:_,name:_.charAt(0).toUpperCase()+_.slice(1),emoji:_==="dragon"?"":_==="owl"?"":_==="fox"?"":_==="unicorn"?"":"",gradient:_==="dragon"?"from-red-400 to-orange-500":_==="owl"?"from-indigo-400 to-purple-500":_==="fox"?"from-orange-400 to-red-500":"from-pink-400 to-purple-500"}:null,A=(i==null?void 0:i.subscription_tier)||"free",I=A!=="free",P=i!=null&&i.subscription_expires_at?new Date(i.subscription_expires_at):null,C=P?Math.ceil((P-new Date)/(1e3*60*60*24)):0;return o?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Loading your avatar..."})]})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-xl",children:a.jsx(rf,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Customize Your Avatar"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Express yourself with tons of options!"})]}),t&&a.jsxs(Ue,{className:"mb-6 bg-green-50 border-green-200",children:[a.jsx(Yt,{className:"w-4 h-4 text-green-600"}),a.jsx(ze,{className:"text-green-800",children:"Avatar saved successfully! "})]}),g.length>0&&a.jsxs(Ue,{className:"mb-6 bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-300",children:[a.jsx(Yt,{className:"w-5 h-5 text-yellow-600"}),a.jsx(ze,{className:"text-yellow-800",children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[a.jsxs("div",{children:[a.jsx("strong",{className:"text-lg",children:" New Items Unlocked!"}),a.jsx("div",{className:"flex gap-3 mt-2",children:g.map((D,L)=>a.jsxs(je,{className:"bg-yellow-500 text-white text-sm",children:[D.emoji," ",D.item.replace(/_/g," ")]},L))})]}),a.jsx(Ht,{to:Xe("Shop"),children:a.jsxs(oe,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600",children:[a.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Browse Shop"]})})]})})]}),I&&a.jsx(te,{className:"mb-8 border-4 border-yellow-400 shadow-xl bg-gradient-to-r from-yellow-50 to-orange-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(bi,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:A==="premium_parent"?"Premium Parent":A==="premium_player"?"Premium Player":"Family/Teacher Plan"}),a.jsxs(je,{className:"bg-green-500 text-white",children:[a.jsx(Ut,{className:"w-3 h-3 mr-1"}),"Active"]})]}),a.jsx("p",{className:"text-gray-600",children:P&&`Renews ${hn(P,"MMM d, yyyy")}  ${C} days left`})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(oe,{variant:"outline",className:"h-12",onClick:()=>window.open(Xe("Subscription"),"_blank","noopener,noreferrer"),children:[a.jsx(a1,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]}),(i==null?void 0:i.subscription_auto_renew)!==!1&&a.jsxs(oe,{variant:"destructive",onClick:()=>r(!0),className:"h-12",children:[a.jsx(yd,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})})}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(te,{className:"sticky top-24 border-4 border-purple-200 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Your Avatar"}),a.jsxs(je,{variant:"secondary",className:"bg-white text-purple-600",children:[(((E=f.unlocked_items)==null?void 0:E.length)||0)+(((N=i==null?void 0:i.purchased_items)==null?void 0:N.length)||0)," Items"]})]})}),a.jsxs(ne,{className:"p-8",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx(of,{avatarData:f,size:"large",showPet:!!_,petData:T})}),_&&a.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl",children:[a.jsxs("h4",{className:"font-bold mb-3 flex items-center gap-2",children:[a.jsx(Yt,{className:"w-4 h-4 text-purple-500"}),T.name,"'s Accessories"]}),a.jsx("div",{className:"flex justify-center gap-4",children:a.jsx(PI,{pet:T,experience:((O=i==null?void 0:i.pet_experience)==null?void 0:O[_])||0,size:"medium",showAccessories:!0,hatType:f.pet_hat,accessoryType:f.pet_accessory})})]}),a.jsxs(oe,{onClick:p,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 h-12 text-lg",disabled:updateAvatarMutation.isPending,children:[a.jsx(ub,{className:"w-5 h-5 mr-2"}),updateAvatarMutation.isPending?"Saving...":"Save Avatar"]}),a.jsx(Ht,{to:Xe("Shop"),children:a.jsxs(oe,{variant:"outline",className:"w-full mt-3 h-12 border-2 border-purple-300 hover:bg-purple-50",children:[a.jsx(Wo,{className:"w-5 h-5 mr-2"}),"Get More Items"]})})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(te,{className:"border-2 border-purple-200 shadow-lg",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Yt,{className:"w-6 h-6 text-purple-500"}),"Customization Options"]})}),a.jsx(ne,{children:a.jsxs(Kc,{defaultValue:"appearance",className:"w-full",children:[a.jsxs(xl,{className:"grid w-full grid-cols-3 lg:grid-cols-6 mb-6",children:[a.jsxs(St,{value:"appearance",children:[a.jsx(qme,{className:"w-4 h-4 mr-1"}),"Face"]}),a.jsxs(St,{value:"hair",children:[a.jsx(vd,{className:"w-4 h-4 mr-1"}),"Hair"]}),a.jsxs(St,{value:"clothing",children:[a.jsx(Mme,{className:"w-4 h-4 mr-1"}),"Clothing"]}),a.jsxs(St,{value:"footwear",children:[a.jsx(Mfe,{className:"w-4 h-4 mr-1"}),"Shoes"]}),a.jsxs(St,{value:"accessories",children:[a.jsx(Vfe,{className:"w-4 h-4 mr-1"}),"Access."]}),a.jsxs(St,{value:"pet",children:[a.jsx(Yt,{className:"w-4 h-4 mr-1"}),"Pet"]})]}),a.jsxs(Dt,{value:"appearance",className:"space-y-6",children:[a.jsx(Di,{title:"Skin Tone",options:[{id:"light",label:"Light",color:"#FFE0BD"},{id:"medium",label:"Medium",color:"#F4C89A"},{id:"tan",label:"Tan",color:"#D4A574"},{id:"dark",label:"Dark",color:"#8D5524"}],selected:f.avatar_skin_tone,onChange:D=>v("avatar_skin_tone",D),isUnlocked:()=>!0,type:"color"}),a.jsx(Di,{title:"Eyes",options:[{id:"normal",label:"Normal",emoji:""},{id:"happy",label:"Happy",emoji:""},{id:"cool",label:"Cool",emoji:""},{id:"star",label:"Star",emoji:""},{id:"heart",label:"Heart",emoji:""},{id:"sleepy",label:"Sleepy",emoji:""},{id:"angry",label:"Determined",emoji:""},{id:"surprised",label:"Surprised",emoji:""},{id:"wink",label:"Wink",emoji:""}],selected:f.avatar_eyes,onChange:D=>v("avatar_eyes",D),isUnlocked:w}),a.jsx(Di,{title:"Face Expression",options:[{id:"smile",label:"Smile",emoji:""},{id:"big_smile",label:"Big Smile",emoji:""},{id:"laughing",label:"Laughing",emoji:""},{id:"determined",label:"Determined",emoji:""},{id:"neutral",label:"Neutral",emoji:""},{id:"tongue_out",label:"Playful",emoji:""}],selected:f.avatar_face,onChange:D=>v("avatar_face",D),isUnlocked:w}),a.jsx(Di,{title:"Background",options:[{id:"plain",label:"Plain",emoji:""},{id:"stars",label:"Stars",emoji:""},{id:"rainbow",label:"Rainbow",emoji:""},{id:"clouds",label:"Clouds",emoji:""},{id:"space",label:"Space",emoji:""},{id:"underwater",label:"Underwater",emoji:""},{id:"forest",label:"Forest",emoji:""},{id:"city",label:"City",emoji:""},{id:"beach",label:"Beach",emoji:""}],selected:f.avatar_background,onChange:D=>v("avatar_background",D),isUnlocked:w})]}),a.jsxs(Dt,{value:"hair",className:"space-y-6",children:[a.jsx(Di,{title:"Hair Style",options:[{id:"short",label:"Short",emoji:""},{id:"long",label:"Long",emoji:""},{id:"curly",label:"Curly",emoji:""},{id:"spiky",label:"Spiky",emoji:""},{id:"bald",label:"Bald",emoji:""},{id:"ponytail",label:"Ponytail",emoji:""},{id:"braids",label:"Braids",emoji:""},{id:"afro",label:"Afro",emoji:""},{id:"mohawk",label:"Mohawk",emoji:""},{id:"bun",label:"Bun",emoji:""}],selected:f.avatar_hair_style,onChange:D=>v("avatar_hair_style",D),isUnlocked:w}),a.jsx(Di,{title:"Hair Color",options:[{id:"black",label:"Black",color:"#000000"},{id:"brown",label:"Brown",color:"#8B4513"},{id:"blonde",label:"Blonde",color:"#FFD700"},{id:"red",label:"Red",color:"#DC143C"},{id:"blue",label:"Blue",color:"#4169E1"},{id:"pink",label:"Pink",color:"#FF69B4"},{id:"purple",label:"Purple",color:"#9370DB"},{id:"green",label:"Green",color:"#32CD32"},{id:"orange",label:"Orange",color:"#FF8C00"},{id:"white",label:"White",color:"#F5F5F5"},{id:"rainbow",label:"Rainbow",emoji:""}],selected:f.avatar_hair_color,onChange:D=>v("avatar_hair_color",D),isUnlocked:w,type:"color"})]}),a.jsxs(Dt,{value:"clothing",className:"space-y-6",children:[a.jsx(Di,{title:"Shirts & Tops",options:[{id:"t_shirt_basic",label:"Basic Tee",emoji:""},{id:"t_shirt_stripe",label:"Striped Tee",emoji:""},{id:"polo",label:"Polo Shirt",emoji:""},{id:"hoodie",label:"Hoodie",emoji:""},{id:"tank_top",label:"Tank Top",emoji:""},{id:"sweater",label:"Sweater",emoji:""},{id:"jersey",label:"Jersey",emoji:""},{id:"button_up",label:"Button Up",emoji:""},{id:"graphic_tee",label:"Graphic Tee",emoji:""}],selected:f.avatar_shirt,onChange:D=>v("avatar_shirt",D),isUnlocked:w}),a.jsx(Di,{title:"Pants & Bottoms",options:[{id:"jeans",label:"Jeans",emoji:""},{id:"shorts",label:"Shorts",emoji:""},{id:"skirt",label:"Skirt",emoji:""},{id:"dress_pants",label:"Dress Pants",emoji:""},{id:"joggers",label:"Joggers",emoji:""},{id:"overalls",label:"Overalls",emoji:""},{id:"leggings",label:"Leggings",emoji:""},{id:"cargo_pants",label:"Cargo Pants",emoji:""}],selected:f.avatar_pants,onChange:D=>v("avatar_pants",D),isUnlocked:w})]}),a.jsx(Dt,{value:"footwear",className:"space-y-6",children:a.jsx(Di,{title:"Shoes",options:[{id:"sneakers",label:"Sneakers",emoji:""},{id:"boots",label:"Boots",emoji:""},{id:"sandals",label:"Sandals",emoji:""},{id:"dress_shoes",label:"Dress Shoes",emoji:""},{id:"high_tops",label:"High Tops",emoji:""},{id:"cleats",label:"Cleats",emoji:""},{id:"slippers",label:"Slippers",emoji:""},{id:"bare_feet",label:"Bare Feet",emoji:""}],selected:f.avatar_shoes,onChange:D=>v("avatar_shoes",D),isUnlocked:w})}),a.jsxs(Dt,{value:"accessories",className:"space-y-6",children:[a.jsx(Di,{title:"Hats & Headwear",options:[{id:"none",label:"None",emoji:""},{id:"baseball_cap",label:"Baseball Cap",emoji:""},{id:"beanie",label:"Beanie",emoji:""},{id:"sun_hat",label:"Sun Hat",emoji:""},{id:"wizard_hat",label:"Wizard Hat",emoji:""},{id:"party_hat",label:"Party Hat",emoji:""},{id:"graduation_cap",label:"Graduation Cap",emoji:""},{id:"crown",label:"Crown",emoji:""},{id:"top_hat",label:"Top Hat",emoji:""},{id:"cowboy_hat",label:"Cowboy Hat",emoji:""}],selected:f.avatar_hat,onChange:D=>v("avatar_hat",D),isUnlocked:w}),a.jsx(Di,{title:"Glasses & Eyewear",options:[{id:"none",label:"None",emoji:""},{id:"regular",label:"Regular",emoji:""},{id:"sunglasses",label:"Sunglasses",emoji:""},{id:"reading",label:"Reading",emoji:""},{id:"safety_goggles",label:"Safety Goggles",emoji:""},{id:"3d_glasses",label:"3D Glasses",emoji:""},{id:"heart_shaped",label:"Heart Glasses",emoji:""},{id:"star_shaped",label:"Star Glasses",emoji:""}],selected:f.avatar_glasses,onChange:D=>v("avatar_glasses",D),isUnlocked:w}),a.jsx(Di,{title:"Other Accessories",options:[{id:"none",label:"None",emoji:""},{id:"backpack",label:"Backpack",emoji:""},{id:"cape",label:"Cape",emoji:""},{id:"scarf",label:"Scarf",emoji:""},{id:"bow_tie",label:"Bow Tie",emoji:""},{id:"necklace",label:"Necklace",emoji:""},{id:"watch",label:"Watch",emoji:""},{id:"headphones",label:"Headphones",emoji:""},{id:"earrings",label:"Earrings",emoji:""},{id:"bracelet",label:"Bracelet",emoji:""}],selected:f.avatar_accessory,onChange:D=>v("avatar_accessory",D),isUnlocked:w})]}),a.jsx(Dt,{value:"pet",className:"space-y-6",children:_?a.jsxs(a.Fragment,{children:[a.jsxs(Ue,{className:"bg-purple-50 border-purple-300",children:[a.jsx(Yt,{className:"w-4 h-4 text-purple-600"}),a.jsxs(ze,{className:"text-purple-800",children:[a.jsxs("strong",{children:["Dress up your ",T.name,"!"]})," Customize your pet's look with hats and accessories."]})]}),a.jsx(Di,{title:"Pet Hats",options:[{id:"none",label:"None",emoji:""},{id:"tiny_cap",label:"Tiny Cap",emoji:""},{id:"bow",label:"Bow",emoji:""},{id:"crown",label:"Crown",emoji:""},{id:"santa_hat",label:"Santa Hat",emoji:""},{id:"party_hat",label:"Party Hat",emoji:""}],selected:f.pet_hat,onChange:D=>v("pet_hat",D),isUnlocked:w}),a.jsx(Di,{title:"Pet Accessories",options:[{id:"none",label:"None",emoji:""},{id:"collar",label:"Collar",emoji:""},{id:"bow_tie",label:"Bow Tie",emoji:""},{id:"bandana",label:"Bandana",emoji:""},{id:"scarf",label:"Scarf",emoji:""},{id:"wings",label:"Wings",emoji:""},{id:"cape",label:"Cape",emoji:""}],selected:f.pet_accessory,onChange:D=>v("pet_accessory",D),isUnlocked:w})]}):a.jsx(te,{className:"text-center py-12",children:a.jsxs(ne,{children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No Pet Yet!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Get a pet from the shop to customize it!"}),a.jsx(Ht,{to:Xe("Shop"),children:a.jsxs(oe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(Wo,{className:"w-5 h-5 mr-2"}),"Visit Shop"]})})]})})})]})})]})})]}),a.jsxs(te,{className:"mt-8 border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(vr,{className:"w-6 h-6 text-blue-600"}),"Parent/Teacher Access"]})}),a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-600",children:"Allow a parent or teacher to monitor your progress and help you set learning goals."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"parent_email",children:"Parent/Teacher Email"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(an,{id:"parent_email",type:"email",value:f.parent_email||"",onChange:D=>v("parent_email",D.target.value),placeholder:"parent@example.com"}),a.jsx(oe,{onClick:()=>updateAvatarMutation.mutate({parent_email:f.parent_email}),disabled:updateAvatarMutation.isPending,children:"Save"})]}),(i==null?void 0:i.parent_email)&&a.jsxs("p",{className:"text-sm text-green-600",children:[" Linked to: ",i.parent_email]})]})]})})]}),n&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(te,{className:"max-w-md w-full border-4 border-red-300",children:[a.jsx(_e,{className:"bg-red-50",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-red-700",children:[a.jsx(zr,{className:"w-6 h-6"}),"Cancel Subscription?"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"Are you sure you want to cancel your subscription?"}),a.jsxs(Ue,{className:"bg-yellow-50 border-yellow-300",children:[a.jsx(zr,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(ze,{className:"text-yellow-800 text-sm",children:["You'll lose access to premium features when your current billing period ends on ",P?hn(P,"MMMM d, yyyy"):"the end date","."]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(oe,{variant:"outline",className:"flex-1",onClick:()=>r(!1),children:"Keep Subscription"}),a.jsx(oe,{variant:"destructive",className:"flex-1",onClick:()=>cancelSubscriptionMutation.mutate(),disabled:cancelSubscriptionMutation.isPending,children:cancelSubscriptionMutation.isPending?"Cancelling...":"Yes, Cancel"})]})]})]})})]})}function iU({todaysChallenges:t,currentUser:e}){const n=[...t].sort((l,c)=>c.score!==l.score?c.score-l.score:l.time_taken-c.time_taken),r=n.slice(0,10),i=n.findIndex(l=>l.created_by===(e==null?void 0:e.email))+1,s=l=>l===1?a.jsx(Ct,{className:"w-6 h-6 text-yellow-500 fill-yellow-500"}):l===2?a.jsx(sg,{className:"w-6 h-6 text-gray-400 fill-gray-400"}):l===3?a.jsx(sg,{className:"w-6 h-6 text-amber-600 fill-amber-600"}):a.jsxs("span",{className:"w-6 h-6 flex items-center justify-center font-bold text-gray-500",children:["#",l]}),o=l=>l===1?"from-yellow-100 to-yellow-200 border-yellow-300":l===2?"from-gray-100 to-gray-200 border-gray-300":l===3?"from-amber-100 to-amber-200 border-amber-300":"from-white to-gray-50 border-gray-200";return a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Gr,{className:"w-6 h-6 text-purple-600"}),"Today's Leaderboard",i>0&&a.jsxs(je,{variant:"outline",className:"ml-auto bg-white",children:["You're #",i]})]})}),a.jsx(ne,{className:"p-6",children:r.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Ct,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"Be the first to complete today's challenge!"})]}):a.jsx("div",{className:"space-y-2",children:r.map((l,c)=>{var p;const d=c+1,f=l.created_by===(e==null?void 0:e.email),m=Math.round(l.correct_answers/l.total_questions*100);return a.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all ${f?"bg-gradient-to-r from-purple-100 to-pink-100 border-purple-300 shadow-md":`bg-gradient-to-r ${o(d)} border`}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[s(d),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-bold",children:f?"You":((p=l.created_by)==null?void 0:p.split("@")[0])||"Player"}),f&&a.jsx(je,{className:"bg-purple-500 text-white",children:"You"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ct,{className:"w-4 h-4"}),l.score," pts"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Qt,{className:"w-4 h-4"}),m,"%"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(_n,{className:"w-4 h-4"}),l.time_taken,"s"]})]})]})]}),l.bonus_stars>0&&a.jsxs(je,{className:"bg-yellow-500 text-white",children:["+",l.bonus_stars," "]})]},c)})})})]})}const sU=(t,e="standard_mixed")=>{const n=new Date(t).getTime(),r=(o,l,c=0)=>{const d=Math.sin(n+o+l+c)*1e4;return Math.floor((d-Math.floor(d))*(l-o+1))+o};return({standard_mixed:aU,speed_round:tFe,accuracy_focus:nFe,concept_mastery:rFe,word_problem_day:iFe,brain_teaser:sFe,grade_level_challenge:aFe,streak_builder:oFe}[e]||aU)(r,n)};function aU(t,e){const n=["addition","subtraction","multiplication","division"],r=[];for(let i=0;i<15;i++){const s=n[t(0,n.length-1,i)],o=i<5?"easy":i<10?"medium":"hard";r.push(Bs(s,o))}return{questions:r,objective:"Complete 15 mixed math problems across different difficulties",bonusTarget:{accuracy:90,time:180},totalQuestions:15,challengeType:"standard_mixed",concepts:n,description:"Test your skills across all four operations with increasing difficulty!"}}function tFe(t,e){const n=["addition","multiplication"],r=[];for(let i=0;i<20;i++){const s=n[t(0,1,i)];r.push(Bs(s,"easy"))}return{questions:r,objective:"Answer 20 quick-fire questions as fast as possible!",bonusTarget:{accuracy:85,time:120},totalQuestions:20,challengeType:"speed_round",concepts:n,description:"Race against the clock! Can you finish in under 2 minutes?",timeLimit:120}}function nFe(t,e){const n=["multiplication","division","fractions"],r=[];for(let i=0;i<12;i++){const s=n[t(0,n.length-1,i)],o=i<4?"medium":i<8?"hard":"expert";r.push(Bs(s,o))}return{questions:r,objective:"Achieve perfect or near-perfect accuracy on challenging problems",bonusTarget:{accuracy:95,time:300},totalQuestions:12,challengeType:"accuracy_focus",concepts:n,description:"Take your time and aim for perfection! Accuracy is key today."}}function rFe(t,e){const n=["fractions","decimals","percentages","word_problems","geometry"],r=n[t(0,n.length-1,0)],i=[];for(let s=0;s<15;s++){const o=s<5?"easy":s<10?"medium":"hard";i.push(Bs(r,o))}return{questions:i,objective:`Master ${r} today!`,bonusTarget:{accuracy:88,time:240},totalQuestions:15,challengeType:"concept_mastery",concepts:[r],description:`Deep dive into ${r}! Build your expertise with focused practice.`,focusConcept:r}}function iFe(t,e){const n=[];for(let r=0;r<10;r++){const i=r<3?"easy":r<7?"medium":"hard";n.push(Bs("word_problems",i))}return{questions:n,objective:"Solve real-world math problems",bonusTarget:{accuracy:85,time:300},totalQuestions:10,challengeType:"word_problem_day",concepts:["word_problems"],description:"Apply math to real life! Read carefully and solve each scenario."}}function sFe(t,e){const n=[],r=["fractions","decimals","percentages","geometry","mixed"];for(let i=0;i<12;i++){const s=r[t(0,r.length-1,i)];n.push(Bs(s,"hard"))}return{questions:n,objective:"Crack today's brain teasers!",bonusTarget:{accuracy:80,time:360},totalQuestions:12,challengeType:"brain_teaser",concepts:r,description:"Think outside the box! These tricky problems will challenge your mind."}}function aFe(t,e){const n=["1","2","3","4","5","6","7","8"],r=n[t(0,n.length-1,0)],s={1:["addition","subtraction"],2:["addition","subtraction","time","money"],3:["multiplication","division","fractions"],4:["multiplication","division","fractions","decimals"],5:["decimals","fractions","percentages"],6:["percentages","fractions","decimals","geometry"],7:["percentages","geometry","mixed"],8:["mixed","geometry","percentages"]}[r]||["addition","subtraction"],o=[];for(let l=0;l<15;l++){const c=s[t(0,s.length-1,l)],d=l<5?"easy":l<10?"medium":"hard";o.push(Bs(c,d))}return{questions:o,objective:`Complete Grade ${r} Challenge`,bonusTarget:{accuracy:87,time:240},totalQuestions:15,challengeType:"grade_level_challenge",concepts:s,description:`Master Grade ${r} math skills! Perfect for students at this level.`,gradeLevel:r}}function oFe(t,e){const n=["addition","subtraction","multiplication"],r=[];for(let i=0;i<18;i++){const s=n[t(0,n.length-1,i)],o=i<6||i<12?"easy":"medium";r.push(Bs(s,o))}return{questions:r,objective:"Build your daily streak! Complete for bonus rewards.",bonusTarget:{accuracy:85,time:200},totalQuestions:18,challengeType:"streak_builder",concepts:n,description:"Keep your streak alive! Designed to be completable for all skill levels.",streakFocus:!0}}const lFe=(t,e,n,r)=>{const{bonusTarget:i,challengeType:s}=t;let o=0,l=0,c=!1,d=!1;return e>=95?(o=3,c=!0):e>=85?o=2:e>=70&&(o=1),i&&n<=i.time&&(o+=1,l+=20,d=!0),r&&r>=3&&(o+=1,l+=10*Math.min(r,10)),s==="speed_round"&&d&&(l+=30),s==="accuracy_focus"&&c&&(l+=40),s==="brain_teaser"&&e>=80&&(o+=1,l+=25),{bonusStars:Math.min(o,5),bonusCoins:l,perfectScoreBonus:c,speedBonus:d}};function VJ(){var W,Z,ue;const t=Zc(),e=xr(),[n,r]=S.useState(0),[i,s]=S.useState(null),[o,l]=S.useState([]),[c,d]=S.useState(0),[f,m]=S.useState(!1),[p,v]=S.useState(Date.now()),[w,x]=S.useState(!1),[g,_]=S.useState(0),[T,A]=S.useState(!1),I=hn(qi(new Date),"yyyy-MM-dd"),C=(()=>{const le=new Date().getDay();return["streak_builder","standard_mixed","speed_round","concept_mastery","accuracy_focus","word_problem_day","brain_teaser"][le]})(),{data:E}=dt({queryKey:["currentUser"],queryFn:async()=>(dn(Bt),null)}),{data:N=[]}=dt({queryKey:["dailyChallenges",I],queryFn:async()=>{const le=dn(Bt),be=va(Pr(le,"dailyChallenges"),si("challenge_date","==",I));return(await Ti(be)).docs.map(me=>me.data())},initialData:[]}),{data:O=[]}=dt({queryKey:["userDailyChallenges"],queryFn:async()=>{const le=dn(Bt);if(!(E!=null&&E.email))return[];const be=va(Pr(le,"dailyChallenges"),si("created_by","==",E.email));return(await Ti(be)).docs.map(me=>me.data())},initialData:[],enabled:!!E}),D=N.some(le=>le.created_by===(E==null?void 0:E.email)),$=(()=>{if(O.length===0)return 0;const le=[...O].sort((me,Ie)=>new Date(Ie.challenge_date)-new Date(me.challenge_date));let be=0,ge=qi(new Date);for(const me of le){const Ie=qi(new Date(me.challenge_date));if(Math.floor((ge-Ie)/(1e3*60*60*24))===be)be++;else break}return be})();S.useEffect(()=>{if(!f&&T){const le=setInterval(()=>{_(Math.floor((Date.now()-p)/1e3))},1e3);return()=>clearInterval(le)}},[p,f,T]);const F=Pn({mutationFn:le=>base44.entities.DailyChallenge.create(le),onSuccess:(le,be)=>{e.invalidateQueries({queryKey:["dailyChallenges"]}),e.invalidateQueries({queryKey:["userDailyChallenges"]}),e.invalidateQueries({queryKey:["currentUser"]});const ge=be.bonus_coins||0,me=((E==null?void 0:E.coins)||0)+ge;base44.auth.updateMe({coins:me})}}),G=()=>{const le=sU(I,C);s(le),v(Date.now()),A(!0)},Y=le=>{const be=le===i.questions[n].answer;if(l([...o,{question:n,correct:be}]),be&&(d(c+10),x(!0),setTimeout(()=>x(!1),1e3)),n<i.totalQuestions-1)setTimeout(()=>{r(n+1)},500);else{const ge=Math.floor((Date.now()-p)/1e3),me=o.filter(Re=>Re.correct).length+(be?1:0),Ie=c+(be?10:0),fe=me/i.totalQuestions*100,Ae=lFe(i,fe,ge,$);F.mutate({challenge_date:I,challenge_type:C,score:Ie,correct_answers:me,total_questions:i.totalQuestions,time_taken:ge,bonus_stars:Ae.bonusStars,bonus_coins:Ae.bonusCoins,streak_bonus:$>=3,perfect_score_bonus:Ae.perfectScoreBonus,speed_bonus:Ae.speedBonus,challenge_objective:i.objective,concepts_covered:i.concepts}),setTimeout(()=>{m(!0)},500)}},K=le=>({standard_mixed:Hn,speed_round:qr,accuracy_focus:Qt,concept_mastery:pr,word_problem_day:Gr,brain_teaser:Ct,grade_level_challenge:Gr,streak_builder:Fh})[le]||Hn,X=le=>({standard_mixed:"from-purple-500 to-pink-500",speed_round:"from-yellow-500 to-orange-500",accuracy_focus:"from-green-500 to-emerald-500",concept_mastery:"from-blue-500 to-cyan-500",word_problem_day:"from-indigo-500 to-purple-500",brain_teaser:"from-red-500 to-pink-500",grade_level_challenge:"from-teal-500 to-cyan-500",streak_builder:"from-orange-500 to-red-500"})[le]||"from-purple-500 to-pink-500",U=K(C),Q=X(C);if(!T)return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs(oe,{variant:"outline",onClick:()=>t(Xe("Home")),className:"mb-6 gap-2",children:[a.jsx(sd,{className:"w-4 h-4"}),"Back"]}),D?a.jsxs(te,{className:"border-4 border-green-300 shadow-2xl",children:[a.jsxs(_e,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white text-center py-8",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx(Ne,{className:"text-3xl",children:"Challenge Complete!"}),a.jsx("p",{className:"text-lg mt-2 opacity-90",children:"You've already completed today's challenge"})]}),a.jsxs(ne,{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Your Results Today"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl",children:[a.jsx(Ct,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),a.jsx("div",{className:"text-2xl font-bold",children:(W=N.find(le=>le.created_by===(E==null?void 0:E.email)))==null?void 0:W.score}),a.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-xl",children:[a.jsx(Nt,{className:"w-8 h-8 mx-auto mb-2 text-yellow-500"}),a.jsx("div",{className:"text-2xl font-bold",children:(Z=N.find(le=>le.created_by===(E==null?void 0:E.email)))==null?void 0:Z.bonus_stars}),a.jsx("div",{className:"text-sm text-gray-600",children:"Bonus Stars"})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl",children:[a.jsx(_n,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),a.jsxs("div",{className:"text-2xl font-bold",children:[(ue=N.find(le=>le.created_by===(E==null?void 0:E.email)))==null?void 0:ue.time_taken,"s"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Time"})]})]})]}),a.jsx(iU,{todaysChallenges:N,currentUser:E}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"Come back tomorrow for a new challenge!"}),a.jsx(oe,{onClick:()=>t(Xe("Home")),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:"Back to Home"})]})]})]}):a.jsxs(te,{className:"border-4 border-purple-300 shadow-2xl",children:[a.jsxs(_e,{className:`bg-gradient-to-r ${Q} text-white text-center py-12`,children:[a.jsx("div",{className:"text-7xl mb-4",children:a.jsx(U,{className:"w-20 h-20 mx-auto"})}),a.jsx(Ne,{className:"text-4xl mb-2",children:C.split("_").map(le=>le.charAt(0).toUpperCase()+le.slice(1)).join(" ")}),a.jsx("p",{className:"text-xl opacity-90",children:hn(new Date,"MMMM d, yyyy")})]}),a.jsx(ne,{className:"p-8 space-y-6",children:(()=>{const le=sU(I,C);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl border-2 border-blue-200",children:[a.jsxs("h3",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[a.jsx(Qt,{className:"w-6 h-6 text-blue-600"}),"Today's Objective"]}),a.jsx("p",{className:"text-lg text-gray-700",children:le.objective}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:le.description})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-xl border-2 border-yellow-200",children:[a.jsx(Nt,{className:"w-12 h-12 text-yellow-500 mb-3"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Bonus Rewards"}),a.jsx("p",{className:"text-gray-600",children:"Up to 5 bonus stars & extra coins!"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-xl border-2 border-orange-200",children:[a.jsx(Fh,{className:"w-12 h-12 text-orange-500 mb-3"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Current Streak"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[$," ",$===1?"Day":"Days"]}),$>=3&&a.jsx(je,{className:"mt-2 bg-orange-500",children:"+1 Bonus Star!"})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-xl border-2 border-purple-200",children:[a.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2",children:[a.jsx(Gr,{className:"w-5 h-5 text-purple-600"}),"Challenge Details"]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Questions:"})," ",le.totalQuestions]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Concepts:"})," ",le.concepts.join(", ")]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Players Today:"})," ",N.length]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border-2 border-green-200",children:[a.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),"How to Earn Bonus Rewards"]}),a.jsxs("ul",{className:"space-y-2 text-gray-700",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"w-4 h-4 text-yellow-500"}),"70%+ accuracy: 1 bonus star"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"w-4 h-4 text-yellow-500"}),"85%+ accuracy: 2 bonus stars"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"w-4 h-4 text-yellow-500"}),"95%+ accuracy: 3 bonus stars"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(qr,{className:"w-4 h-4 text-orange-500"}),"Complete quickly: +1 star & coins"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Fh,{className:"w-4 h-4 text-orange-500"}),"3+ day streak: +1 extra star & coins"]})]})]}),a.jsx(oe,{onClick:G,className:`w-full h-16 text-xl bg-gradient-to-r ${Q} hover:opacity-90 shadow-lg`,children:"Start Today's Challenge"})]})})()})]})]});if(f){const le=o.filter(ge=>ge.correct).length;le/i.totalQuestions*100;const be=N.find(ge=>ge.created_by===(E==null?void 0:E.email));return a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsxs(te,{className:"border-4 border-yellow-300 shadow-2xl",children:[a.jsxs("div",{className:`bg-gradient-to-r ${Q} py-12 text-white text-center`,children:[a.jsx("div",{className:"text-8xl mb-4",children:""}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:"Challenge Complete!"}),a.jsx("p",{className:"text-xl",children:"Great job on today's challenge!"})]}),a.jsxs(ne,{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[a.jsx(Ct,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),a.jsx("div",{className:"text-3xl font-bold text-purple-600",children:c}),a.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[a.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[le,"/",i.totalQuestions]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Correct"})]}),a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[a.jsx(_n,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),a.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[g,"s"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Time"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-xl",children:[a.jsx(Nt,{className:"w-8 h-8 mx-auto mb-2 text-yellow-500 fill-yellow-500"}),a.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:(be==null?void 0:be.bonus_stars)||0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Bonus Stars"})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[(be==null?void 0:be.perfect_score_bonus)&&a.jsxs(je,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 text-base",children:[a.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Perfect Score Bonus!"]}),(be==null?void 0:be.speed_bonus)&&a.jsxs(je,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-4 py-2 text-base",children:[a.jsx(qr,{className:"w-4 h-4 mr-2"}),"Speed Bonus!"]}),(be==null?void 0:be.streak_bonus)&&a.jsxs(je,{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 text-base",children:[a.jsx(Fh,{className:"w-4 h-4 mr-2"}),"Streak Bonus! (",$," days)"]})]}),(be==null?void 0:be.bonus_coins)>0&&a.jsx("div",{className:"bg-gradient-to-r from-cyan-100 to-blue-100 p-4 rounded-xl border-2 border-cyan-300 text-center",children:a.jsxs("p",{className:"font-bold text-lg",children:["Earned ",be.bonus_coins," Bonus Coins! "]})}),a.jsx(iU,{todaysChallenges:N,currentUser:E}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs(oe,{variant:"outline",className:"flex-1 h-14 text-lg gap-2",onClick:()=>t(Xe("Home")),children:[a.jsx(sd,{className:"w-5 h-5"}),"Back Home"]}),a.jsxs(oe,{className:`flex-1 h-14 text-lg bg-gradient-to-r ${Q} hover:opacity-90 gap-2`,onClick:()=>t(Xe("Progress")),children:[a.jsx(Ct,{className:"w-5 h-5"}),"View Progress"]})]})]})]})})}const re=(n+1)/i.totalQuestions*100;return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[w&&a.jsx(OK,{}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs(je,{variant:"outline",className:"text-lg px-4 py-2",children:[a.jsx(U,{className:"w-5 h-5 mr-2"}),C.split("_").map(le=>le.charAt(0).toUpperCase()+le.slice(1)).join(" ")]}),a.jsxs("div",{className:"flex items-center gap-4",children:[(i==null?void 0:i.timeLimit)&&a.jsxs(je,{variant:g>i.timeLimit?"destructive":"outline",className:"text-lg px-4 py-2",children:[a.jsx(_n,{className:"w-5 h-5 mr-2"}),g,"s / ",i.timeLimit,"s"]}),!(i!=null&&i.timeLimit)&&a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-md",children:[a.jsx(_n,{className:"w-5 h-5 text-blue-500"}),a.jsxs("span",{className:"font-bold text-gray-800",children:[g,"s"]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-md",children:[a.jsx(Ct,{className:"w-5 h-5 text-yellow-500"}),a.jsx("span",{className:"font-bold text-gray-800",children:c})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Question ",n+1," of ",i.totalQuestions]}),a.jsxs("span",{children:[Math.round(re),"%"]})]}),a.jsx(dl,{value:re,className:"h-3"})]})]}),i&&i.questions.length>0&&a.jsx(IK,{question:i.questions[n],onAnswer:Y,questionNumber:n+1})]})}function cFe({myChildren:t,selectedChildEmail:e,onSelectChild:n,currentUserEmail:r}){return a.jsx(te,{className:"border-2 border-purple-200 shadow-lg",children:a.jsxs(ne,{className:"p-6",children:[a.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(rf,{className:"w-6 h-6 text-purple-500"}),"Select Child"]}),t.length===0?a.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[a.jsx("p",{className:"text-gray-600",children:"No children linked to your account yet."}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Children can link their account to yours in their settings."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(i=>{const s=i.email===e,o={avatar_skin_tone:i.avatar_skin_tone||"medium",avatar_hair_style:i.avatar_hair_style||"short",avatar_hair_color:i.avatar_hair_color||"brown",avatar_eyes:i.avatar_eyes||"normal",avatar_outfit:i.avatar_outfit||"casual",avatar_accessory:i.avatar_accessory||"none"};return a.jsxs("button",{onClick:()=>n(i.email),className:`p-4 rounded-xl border-2 transition-all text-center ${s?"border-purple-500 bg-purple-50 shadow-lg scale-105":"border-gray-200 bg-white hover:border-purple-300 hover:bg-purple-50"}`,children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx(of,{avatarData:o,size:"medium"})}),a.jsx("h3",{className:"font-bold text-lg truncate",children:i.child_name||i.full_name||i.email.split("@")[0]}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:i.email}),s&&a.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 text-purple-600 text-sm font-medium",children:["Selected ",a.jsx(nI,{className:"w-4 h-4"})]})]},i.email)})})]})})}function uFe({childProgress:t,childDailyChallenges:e,selectedChild:n}){const{data:r}=dt({queryKey:["currentUser"],queryFn:async()=>{const p=dn(Bt),v=await K7(Gi(p,"users","USER_ID"));return v.exists()?v.data():null}}),{data:i=0}=dt({queryKey:["unreadChildReplies",n==null?void 0:n.email],queryFn:async()=>{const p=dn(Bt),v=va(Pr(p,"messages"),si("parent_email","==",r==null?void 0:r.email),si("child_email","==",n==null?void 0:n.email),si("message_type","==","response"),si("parent_read","==",!1));return(await Ti(v)).size},initialData:0,enabled:!!(r!=null&&r.email)&&!!(n!=null&&n.email)}),s=t.length,o=t.reduce((p,v)=>p+(v.stars_earned||0),0),l=t.reduce((p,v)=>p+(v.correct_answers||0),0),c=t.reduce((p,v)=>p+(v.total_questions||0),0),d=c>0?(l/c*100).toFixed(1):0,f=e.length,m=t.length>0?t[0].created_date:null;return a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(te,{className:"border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(Ct,{className:"w-5 h-5 text-blue-600"}),"Total Games"]})}),a.jsxs(ne,{className:"p-4",children:[a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:s}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m&&`Last: ${hn(new Date(m),"MMM d")}`})]})]}),a.jsxs(te,{className:"border-2 border-yellow-200",children:[a.jsx(_e,{className:"bg-yellow-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(Nt,{className:"w-5 h-5 text-yellow-600"}),"Total Stars"]})}),a.jsxs(ne,{className:"p-4",children:[a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:o}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Avg: ",s>0?(o/s).toFixed(1):0," per game"]})]})]}),a.jsxs(te,{className:"border-2 border-green-200",children:[a.jsx(_e,{className:"bg-green-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),"Accuracy"]})}),a.jsxs(ne,{className:"p-4",children:[a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[d,"%"]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[l," / ",c," correct"]})]})]}),a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(Hn,{className:"w-5 h-5 text-purple-600"}),"Daily Challenges"]})}),a.jsxs(ne,{className:"p-4",children:[a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:f}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"completed"})]})]}),a.jsxs(te,{className:"border-2 border-pink-200 md:col-span-2 lg:col-span-1",children:[a.jsx(_e,{className:"bg-pink-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(fc,{className:"w-5 h-5 text-pink-600"}),"Messages",i>0&&a.jsxs(je,{className:"bg-pink-500 text-white animate-pulse ml-auto",children:[i," New"]})]})}),a.jsxs(ne,{className:"p-4",children:[a.jsx("p",{className:"text-3xl font-bold text-pink-600",children:i}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"unread replies"})]})]})]})}function dFe({childProgress:t,childDailyChallenges:e}){const n=()=>{const m={addition:{total:0,correct:0,games:0},subtraction:{total:0,correct:0,games:0},multiplication:{total:0,correct:0,games:0},division:{total:0,correct:0,games:0}};return t.forEach(p=>{m[p.operation]&&(m[p.operation].games++,m[p.operation].total+=p.total_questions,m[p.operation].correct+=p.correct_answers)}),Object.entries(m).map(([p,v])=>({operation:p.charAt(0).toUpperCase()+p.slice(1),accuracy:v.total>0?Math.round(v.correct/v.total*100):0,games:v.games}))},r=()=>{const m={easy:{total:0,correct:0,games:0},medium:{total:0,correct:0,games:0},hard:{total:0,correct:0,games:0}};return t.forEach(p=>{m[p.level]&&(m[p.level].games++,m[p.level].total+=p.total_questions,m[p.level].correct+=p.correct_answers)}),Object.entries(m).map(([p,v])=>({level:p.charAt(0).toUpperCase()+p.slice(1),accuracy:v.total>0?Math.round(v.correct/v.total*100):0,games:v.games}))},i=()=>t.slice(0,10).reverse().map((p,v)=>({game:`Game ${v+1}`,accuracy:Math.round(p.correct_answers/p.total_questions*100),score:p.score})),s=()=>{const p=[...n()].sort((x,g)=>g.accuracy-x.accuracy),v=p.slice(0,2).filter(x=>x.accuracy>=70),w=p.slice(-2).filter(x=>x.accuracy<70&&x.games>0);return{strengths:v,weaknesses:w}},o=n(),l=r(),c=i(),{strengths:d,weaknesses:f}=s();return t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Sf,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600",children:"No performance data available yet"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Data will appear once the child starts playing games"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs(te,{className:"border-2 border-green-200 bg-green-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2 text-green-700",children:[a.jsx(Ut,{className:"w-6 h-6"}),"Strengths"]})}),a.jsx(ne,{children:d.length>0?a.jsx("div",{className:"space-y-3",children:d.map((m,p)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[a.jsx("span",{className:"font-medium",children:m.operation}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(je,{className:"bg-green-500",children:[m.accuracy,"%"]}),a.jsx(gn,{className:"w-5 h-5 text-green-600"})]})]},p))}):a.jsx("p",{className:"text-gray-600 text-center py-4",children:"Keep practicing to identify strengths!"})})]}),a.jsxs(te,{className:"border-2 border-orange-200 bg-orange-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2 text-orange-700",children:[a.jsx(dm,{className:"w-6 h-6"}),"Areas for Improvement"]})}),a.jsx(ne,{children:f.length>0?a.jsx("div",{className:"space-y-3",children:f.map((m,p)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[a.jsx("span",{className:"font-medium",children:m.operation}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(je,{variant:"outline",className:"border-orange-400",children:[m.accuracy,"%"]}),a.jsx(Vc,{className:"w-5 h-5 text-orange-600"})]})]},p))}):a.jsx("p",{className:"text-gray-600 text-center py-4",children:"Great job! No weak areas identified."})})]})]}),a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Performance by Operation"})}),a.jsx(ne,{children:a.jsx(Wa,{width:"100%",height:300,children:a.jsxs(RC,{data:o,children:[a.jsx(tl,{strokeDasharray:"3 3"}),a.jsx(ps,{dataKey:"operation"}),a.jsx(xi,{}),a.jsx(mr,{}),a.jsx(Hi,{}),a.jsx(da,{dataKey:"accuracy",fill:"#8b5cf6",name:"Accuracy %"}),a.jsx(da,{dataKey:"games",fill:"#ec4899",name:"Games Played"})]})})})]}),a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Performance by Difficulty Level"})}),a.jsx(ne,{children:a.jsx(Wa,{width:"100%",height:300,children:a.jsxs(RC,{data:l,children:[a.jsx(tl,{strokeDasharray:"3 3"}),a.jsx(ps,{dataKey:"level"}),a.jsx(xi,{}),a.jsx(mr,{}),a.jsx(Hi,{}),a.jsx(da,{dataKey:"accuracy",fill:"#10b981",name:"Accuracy %"}),a.jsx(da,{dataKey:"games",fill:"#f59e0b",name:"Games Played"})]})})})]}),c.length>0&&a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Recent Performance Trend"})}),a.jsx(ne,{children:a.jsx(Wa,{width:"100%",height:300,children:a.jsxs(i_,{data:c,children:[a.jsx(tl,{strokeDasharray:"3 3"}),a.jsx(ps,{dataKey:"game"}),a.jsx(xi,{}),a.jsx(mr,{}),a.jsx(Hi,{}),a.jsx(wa,{type:"monotone",dataKey:"accuracy",stroke:"#8b5cf6",strokeWidth:3,name:"Accuracy %"}),a.jsx(wa,{type:"monotone",dataKey:"score",stroke:"#10b981",strokeWidth:3,name:"Score"})]})})})]})]})}const Ed=S.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:vt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Ed.displayName="Textarea";function Ew(t,[e,n]){return Math.min(n,Math.max(e,t))}function hFe(t){const e=fFe(t),n=S.forwardRef((r,i)=>{const{children:s,...o}=r,l=S.Children.toArray(s),c=l.find(pFe);if(c){const d=c.props.children,f=l.map(m=>m===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return a.jsx(e,{...o,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function fFe(t){const e=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const o=yFe(i),l=gFe(s,i.props);return i.type!==S.Fragment&&(l.ref=r?eu(r,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mFe=Symbol("radix.slottable");function pFe(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mFe}function gFe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function yFe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function l_(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var vFe=[" ","Enter","ArrowUp","ArrowDown"],xFe=[" ","Enter"],Ad="Select",[c_,u_,bFe]=o1(Ad),[km]=_a(Ad,[bFe,gm]),d_=gm(),[wFe,au]=km(Ad),[_Fe,jFe]=km(Ad),BJ=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:m,disabled:p,required:v,form:w}=t,x=d_(e),[g,_]=S.useState(null),[T,A]=S.useState(null),[I,P]=S.useState(!1),C=Ky(d),[E,N]=ll({prop:r,defaultProp:i??!1,onChange:s,caller:Ad}),[O,D]=ll({prop:o,defaultProp:l,onChange:c,caller:Ad}),L=S.useRef(null),$=g?w||!!g.closest("form"):!0,[F,G]=S.useState(new Set),Y=Array.from(F).map(K=>K.props.value).join(";");return a.jsx(pI,{...x,children:a.jsxs(wFe,{required:v,scope:e,trigger:g,onTriggerChange:_,valueNode:T,onValueNodeChange:A,valueNodeHasChildren:I,onValueNodeHasChildrenChange:P,contentId:Bc(),value:O,onValueChange:D,open:E,onOpenChange:N,dir:C,triggerPointerDownPosRef:L,disabled:p,children:[a.jsx(c_.Provider,{scope:e,children:a.jsx(_Fe,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(K=>{G(X=>new Set(X).add(K))},[]),onNativeOptionRemove:S.useCallback(K=>{G(X=>{const U=new Set(X);return U.delete(K),U})},[]),children:n})}),$?a.jsxs(dZ,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:m,value:O,onChange:K=>D(K.target.value),disabled:p,form:w,children:[O===void 0?a.jsx("option",{value:""}):null,Array.from(F)]},Y):null]})})};BJ.displayName=Ad;var qJ="SelectTrigger",UJ=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=d_(n),o=au(qJ,n),l=o.disabled||r,c=$t(e,o.onTriggerChange),d=u_(n),f=S.useRef("touch"),[m,p,v]=fZ(x=>{const g=d().filter(A=>!A.disabled),_=g.find(A=>A.value===o.value),T=mZ(g,x,_);T!==void 0&&o.onValueChange(T.value)}),w=x=>{l||(o.onOpenChange(!0),v()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(gI,{asChild:!0,...s,children:a.jsx(wt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":hZ(o.value)?"":void 0,...i,ref:c,onClick:Fe(i.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&w(x)}),onPointerDown:Fe(i.onPointerDown,x=>{f.current=x.pointerType;const g=x.target;g.hasPointerCapture(x.pointerId)&&g.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:Fe(i.onKeyDown,x=>{const g=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(g&&x.key===" ")&&vFe.includes(x.key)&&(w(),x.preventDefault())})})})});UJ.displayName=qJ;var zJ="SelectValue",WJ=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...l}=t,c=au(zJ,n),{onValueNodeHasChildrenChange:d}=c,f=s!==void 0,m=$t(e,c.onValueNodeChange);return hi(()=>{d(f)},[d,f]),a.jsx(wt.span,{...l,ref:m,style:{pointerEvents:"none"},children:hZ(c.value)?a.jsx(a.Fragment,{children:o}):s})});WJ.displayName=zJ;var NFe="SelectIcon",HJ=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return a.jsx(wt.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});HJ.displayName=NFe;var SFe="SelectPortal",GJ=t=>a.jsx(m1,{asChild:!0,...t});GJ.displayName=SFe;var Pd="SelectContent",KJ=S.forwardRef((t,e)=>{const n=au(Pd,t.__scopeSelect),[r,i]=S.useState();if(hi(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Wy.createPortal(a.jsx(YJ,{scope:t.__scopeSelect,children:a.jsx(c_.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),s):null}return a.jsx(QJ,{...t,ref:e})});KJ.displayName=Pd;var ia=10,[YJ,ou]=km(Pd),TFe="SelectContentImpl",EFe=hFe("SelectContent.RemoveScroll"),QJ=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:v,sticky:w,hideWhenDetached:x,avoidCollisions:g,..._}=t,T=au(Pd,n),[A,I]=S.useState(null),[P,C]=S.useState(null),E=$t(e,me=>I(me)),[N,O]=S.useState(null),[D,L]=S.useState(null),$=u_(n),[F,G]=S.useState(!1),Y=S.useRef(!1);S.useEffect(()=>{if(A)return $W(A)},[A]),oW();const K=S.useCallback(me=>{const[Ie,...fe]=$().map(he=>he.ref.current),[Ae]=fe.slice(-1),Re=document.activeElement;for(const he of me)if(he===Re||(he==null||he.scrollIntoView({block:"nearest"}),he===Ie&&P&&(P.scrollTop=0),he===Ae&&P&&(P.scrollTop=P.scrollHeight),he==null||he.focus(),document.activeElement!==Re))return},[$,P]),X=S.useCallback(()=>K([N,A]),[K,N,A]);S.useEffect(()=>{F&&X()},[F,X]);const{onOpenChange:U,triggerPointerDownPosRef:Q}=T;S.useEffect(()=>{if(A){let me={x:0,y:0};const Ie=Ae=>{var Re,he;me={x:Math.abs(Math.round(Ae.pageX)-(((Re=Q.current)==null?void 0:Re.x)??0)),y:Math.abs(Math.round(Ae.pageY)-(((he=Q.current)==null?void 0:he.y)??0))}},fe=Ae=>{me.x<=10&&me.y<=10?Ae.preventDefault():A.contains(Ae.target)||U(!1),document.removeEventListener("pointermove",Ie),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",fe,{capture:!0})}}},[A,U,Q]),S.useEffect(()=>{const me=()=>U(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[U]);const[re,W]=fZ(me=>{const Ie=$().filter(Re=>!Re.disabled),fe=Ie.find(Re=>Re.ref.current===document.activeElement),Ae=mZ(Ie,me,fe);Ae&&setTimeout(()=>Ae.ref.current.focus())}),Z=S.useCallback((me,Ie,fe)=>{const Ae=!Y.current&&!fe;(T.value!==void 0&&T.value===Ie||Ae)&&(O(me),Ae&&(Y.current=!0))},[T.value]),ue=S.useCallback(()=>A==null?void 0:A.focus(),[A]),le=S.useCallback((me,Ie,fe)=>{const Ae=!Y.current&&!fe;(T.value!==void 0&&T.value===Ie||Ae)&&L(me)},[T.value]),be=r==="popper"?$C:XJ,ge=be===$C?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:v,sticky:w,hideWhenDetached:x,avoidCollisions:g}:{};return a.jsx(YJ,{scope:n,content:A,viewport:P,onViewportChange:C,itemRefCallback:Z,selectedItem:N,onItemLeave:ue,itemTextRefCallback:le,focusSelectedItem:X,selectedItemText:D,position:r,isPositioned:F,searchRef:re,children:a.jsx(xI,{as:EFe,allowPinchZoom:!0,children:a.jsx(aI,{asChild:!0,trapped:T.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:Fe(i,me=>{var Ie;(Ie=T.trigger)==null||Ie.focus({preventScroll:!0}),me.preventDefault()}),children:a.jsx(l1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:a.jsx(be,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:me=>me.preventDefault(),..._,...ge,onPlaced:()=>G(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Fe(_.onKeyDown,me=>{const Ie=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Ie&&me.key.length===1&&W(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let Ae=$().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(me.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Re=me.target,he=Ae.indexOf(Re);Ae=Ae.slice(he+1)}setTimeout(()=>K(Ae)),me.preventDefault()}})})})})})})});QJ.displayName=TFe;var AFe="SelectItemAlignedPosition",XJ=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=au(Pd,n),o=ou(Pd,n),[l,c]=S.useState(null),[d,f]=S.useState(null),m=$t(e,E=>f(E)),p=u_(n),v=S.useRef(!1),w=S.useRef(!0),{viewport:x,selectedItem:g,selectedItemText:_,focusSelectedItem:T}=o,A=S.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&x&&g&&_){const E=s.trigger.getBoundingClientRect(),N=d.getBoundingClientRect(),O=s.valueNode.getBoundingClientRect(),D=_.getBoundingClientRect();if(s.dir!=="rtl"){const Re=D.left-N.left,he=O.left-Re,ot=E.left-he,et=E.width+ot,kt=Math.max(et,N.width),It=window.innerWidth-ia,Gt=Ew(he,[ia,Math.max(ia,It-kt)]);l.style.minWidth=et+"px",l.style.left=Gt+"px"}else{const Re=N.right-D.right,he=window.innerWidth-O.right-Re,ot=window.innerWidth-E.right-he,et=E.width+ot,kt=Math.max(et,N.width),It=window.innerWidth-ia,Gt=Ew(he,[ia,Math.max(ia,It-kt)]);l.style.minWidth=et+"px",l.style.right=Gt+"px"}const L=p(),$=window.innerHeight-ia*2,F=x.scrollHeight,G=window.getComputedStyle(d),Y=parseInt(G.borderTopWidth,10),K=parseInt(G.paddingTop,10),X=parseInt(G.borderBottomWidth,10),U=parseInt(G.paddingBottom,10),Q=Y+K+F+U+X,re=Math.min(g.offsetHeight*5,Q),W=window.getComputedStyle(x),Z=parseInt(W.paddingTop,10),ue=parseInt(W.paddingBottom,10),le=E.top+E.height/2-ia,be=$-le,ge=g.offsetHeight/2,me=g.offsetTop+ge,Ie=Y+K+me,fe=Q-Ie;if(Ie<=le){const Re=L.length>0&&g===L[L.length-1].ref.current;l.style.bottom="0px";const he=d.clientHeight-x.offsetTop-x.offsetHeight,ot=Math.max(be,ge+(Re?ue:0)+he+X),et=Ie+ot;l.style.height=et+"px"}else{const Re=L.length>0&&g===L[0].ref.current;l.style.top="0px";const ot=Math.max(le,Y+x.offsetTop+(Re?Z:0)+ge)+fe;l.style.height=ot+"px",x.scrollTop=Ie-le+x.offsetTop}l.style.margin=`${ia}px 0`,l.style.minHeight=re+"px",l.style.maxHeight=$+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[p,s.trigger,s.valueNode,l,d,x,g,_,s.dir,r]);hi(()=>A(),[A]);const[I,P]=S.useState();hi(()=>{d&&P(window.getComputedStyle(d).zIndex)},[d]);const C=S.useCallback(E=>{E&&w.current===!0&&(A(),T==null||T(),w.current=!1)},[A,T]);return a.jsx(CFe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:C,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:a.jsx(wt.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});XJ.displayName=AFe;var PFe="SelectPopperPosition",$C=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ia,...s}=t,o=d_(n);return a.jsx(yI,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$C.displayName=PFe;var[CFe,yR]=km(Pd,{}),FC="SelectViewport",JJ=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=ou(FC,n),o=yR(FC,n),l=$t(e,s.onViewportChange),c=S.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(c_.Slot,{scope:n,children:a.jsx(wt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Fe(i.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&m){const v=Math.abs(c.current-f.scrollTop);if(v>0){const w=window.innerHeight-ia*2,x=parseFloat(m.style.minHeight),g=parseFloat(m.style.height),_=Math.max(x,g);if(_<w){const T=_+v,A=Math.min(w,T),I=T-A;m.style.height=A+"px",m.style.bottom==="0px"&&(f.scrollTop=I>0?I:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});JJ.displayName=FC;var ZJ="SelectGroup",[kFe,IFe]=km(ZJ),OFe=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Bc();return a.jsx(kFe,{scope:n,id:i,children:a.jsx(wt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});OFe.displayName=ZJ;var eZ="SelectLabel",tZ=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=IFe(eZ,n);return a.jsx(wt.div,{id:i.id,...r,ref:e})});tZ.displayName=eZ;var Aw="SelectItem",[RFe,nZ]=km(Aw),rZ=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,l=au(Aw,n),c=ou(Aw,n),d=l.value===r,[f,m]=S.useState(s??""),[p,v]=S.useState(!1),w=$t(e,T=>{var A;return(A=c.itemRefCallback)==null?void 0:A.call(c,T,r,i)}),x=Bc(),g=S.useRef("touch"),_=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(RFe,{scope:n,value:r,disabled:i,textId:x,isSelected:d,onItemTextChange:S.useCallback(T=>{m(A=>A||((T==null?void 0:T.textContent)??"").trim())},[]),children:a.jsx(c_.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:a.jsx(wt.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:w,onFocus:Fe(o.onFocus,()=>v(!0)),onBlur:Fe(o.onBlur,()=>v(!1)),onClick:Fe(o.onClick,()=>{g.current!=="mouse"&&_()}),onPointerUp:Fe(o.onPointerUp,()=>{g.current==="mouse"&&_()}),onPointerDown:Fe(o.onPointerDown,T=>{g.current=T.pointerType}),onPointerMove:Fe(o.onPointerMove,T=>{var A;g.current=T.pointerType,i?(A=c.onItemLeave)==null||A.call(c):g.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(o.onPointerLeave,T=>{var A;T.currentTarget===document.activeElement&&((A=c.onItemLeave)==null||A.call(c))}),onKeyDown:Fe(o.onKeyDown,T=>{var I;((I=c.searchRef)==null?void 0:I.current)!==""&&T.key===" "||(xFe.includes(T.key)&&_(),T.key===" "&&T.preventDefault())})})})})});rZ.displayName=Aw;var Qp="SelectItemText",iZ=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=au(Qp,n),l=ou(Qp,n),c=nZ(Qp,n),d=jFe(Qp,n),[f,m]=S.useState(null),p=$t(e,_=>m(_),c.onItemTextChange,_=>{var T;return(T=l.itemTextRefCallback)==null?void 0:T.call(l,_,c.value,c.disabled)}),v=f==null?void 0:f.textContent,w=S.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:g}=d;return hi(()=>(x(w),()=>g(w)),[x,g,w]),a.jsxs(a.Fragment,{children:[a.jsx(wt.span,{id:c.textId,...s,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Wy.createPortal(s.children,o.valueNode):null]})});iZ.displayName=Qp;var sZ="SelectItemIndicator",aZ=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return nZ(sZ,n).isSelected?a.jsx(wt.span,{"aria-hidden":!0,...r,ref:e}):null});aZ.displayName=sZ;var VC="SelectScrollUpButton",oZ=S.forwardRef((t,e)=>{const n=ou(VC,t.__scopeSelect),r=yR(VC,t.__scopeSelect),[i,s]=S.useState(!1),o=$t(e,r.onScrollButtonChange);return hi(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?a.jsx(cZ,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});oZ.displayName=VC;var BC="SelectScrollDownButton",lZ=S.forwardRef((t,e)=>{const n=ou(BC,t.__scopeSelect),r=yR(BC,t.__scopeSelect),[i,s]=S.useState(!1),o=$t(e,r.onScrollButtonChange);return hi(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;s(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?a.jsx(cZ,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});lZ.displayName=BC;var cZ=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=ou("SelectScrollButton",n),o=S.useRef(null),l=u_(n),c=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),hi(()=>{var f;const d=l().find(m=>m.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),a.jsx(wt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Fe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Fe(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Fe(i.onPointerLeave,()=>{c()})})}),MFe="SelectSeparator",uZ=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(wt.div,{"aria-hidden":!0,...r,ref:e})});uZ.displayName=MFe;var qC="SelectArrow",DFe=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=d_(n),s=au(qC,n),o=ou(qC,n);return s.open&&o.position==="popper"?a.jsx(vI,{...i,...r,ref:e}):null});DFe.displayName=qC;var LFe="SelectBubbleInput",dZ=S.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=S.useRef(null),s=$t(r,i),o=l_(e);return S.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const m=new Event("change",{bubbles:!0});f.call(l,e),l.dispatchEvent(m)}},[o,e]),a.jsx(wt.select,{...n,style:{...AJ,...n.style},ref:s,defaultValue:e})});dZ.displayName=LFe;function hZ(t){return t===""||t===void 0}function fZ(t){const e=co(t),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(o=>{const l=n.current+o;e(l),(function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),s=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function mZ(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=$Fe(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function $Fe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var FFe=BJ,pZ=UJ,VFe=WJ,BFe=HJ,qFe=GJ,gZ=KJ,UFe=JJ,yZ=tZ,vZ=rZ,zFe=iZ,WFe=aZ,xZ=oZ,bZ=lZ,wZ=uZ;const ci=FFe,ui=VFe,Wr=S.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(pZ,{ref:r,className:vt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(BFe,{asChild:!0,children:a.jsx(tI,{className:"h-4 w-4 opacity-50"})})]}));Wr.displayName=pZ.displayName;const _Z=S.forwardRef(({className:t,...e},n)=>a.jsx(xZ,{ref:n,className:vt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(hfe,{className:"h-4 w-4"})}));_Z.displayName=xZ.displayName;const jZ=S.forwardRef(({className:t,...e},n)=>a.jsx(bZ,{ref:n,className:vt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(tI,{className:"h-4 w-4"})}));jZ.displayName=bZ.displayName;const Hr=S.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>a.jsx(qFe,{children:a.jsxs(gZ,{ref:i,className:vt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(_Z,{}),a.jsx(UFe,{className:vt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(jZ,{})]})}));Hr.displayName=gZ.displayName;const HFe=S.forwardRef(({className:t,...e},n)=>a.jsx(yZ,{ref:n,className:vt("px-2 py-1.5 text-sm font-semibold",t),...e}));HFe.displayName=yZ.displayName;const Ze=S.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(vZ,{ref:r,className:vt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(WFe,{children:a.jsx(Dn,{className:"h-4 w-4"})})}),a.jsx(zFe,{children:e})]}));Ze.displayName=vZ.displayName;const GFe=S.forwardRef(({className:t,...e},n)=>a.jsx(wZ,{ref:n,className:vt("-mx-1 my-1 h-px bg-muted",t),...e}));GFe.displayName=wZ.displayName;function KFe({childEmail:t,childGoals:e,childProgress:n,childDailyChallenges:r}){const i=xr(),[s,o]=S.useState(!1),[l,c]=S.useState({goal_type:"total_stars",target_value:10,title:"",description:"",reward_message:"",operation:"",level:"",due_date:""}),d=Pn({mutationFn:async g=>{const _=dn(Bt);await qk(Pr(_,"customGoals"),{...g,child_email:t})},onSuccess:()=>{i.invalidateQueries({queryKey:["childGoals"]}),o(!1),c({goal_type:"total_stars",target_value:10,title:"",description:"",reward_message:"",operation:"",level:"",due_date:""})}}),f=Pn({mutationFn:async g=>{const _=dn(Bt);await Bk(Gi(_,"customGoals",g))},onSuccess:()=>{i.invalidateQueries({queryKey:["childGoals"]})}}),m=Pn({mutationFn:async({goalId:g,data:_})=>{const T=dn(Bt);await Fc(Gi(T,"customGoals",g),_,{merge:!0})},onSuccess:()=>{i.invalidateQueries({queryKey:["childGoals"]})}}),p=g=>{let _=0;switch(g.goal_type){case"total_stars":_=n.reduce((A,I)=>A+(I.stars_earned||0),0);break;case"games_played":_=n.length;break;case"accuracy":if(n.length>0){const A=n.reduce((I,P)=>I+P.correct_answers/P.total_questions*100,0);_=Math.round(A/n.length)}break;case"daily_streak":_=v();break;case"specific_operation":_=n.filter(A=>A.operation===g.operation&&(!g.level||A.level===g.level)).length;break}return _!==g.current_value&&m.mutate({goalId:g.id,data:{current_value:_}}),_>=g.target_value&&!g.is_completed&&m.mutate({goalId:g.id,data:{is_completed:!0}}),_},v=()=>{if(r.length===0)return 0;const g=[...r].sort((A,I)=>new Date(I.challenge_date)-new Date(A.challenge_date));let _=0,T=new Date;for(const A of g){const I=new Date(A.challenge_date);if(Math.floor((T-I)/(1e3*60*60*24))===_)_++;else break}return _},w=()=>{l.title&&d.mutate(l)},x={total_stars:"Total Stars",games_played:"Games Played",accuracy:"Average Accuracy",daily_streak:"Daily Streak",specific_operation:"Practice Specific Operation"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Qt,{className:"w-6 h-6 text-purple-500"}),"Custom Goals & Challenges"]}),a.jsxs(oe,{onClick:()=>o(!s),className:"bg-purple-500 hover:bg-purple-600",children:[a.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add Goal"]})]}),s&&a.jsxs(te,{className:"border-2 border-purple-300",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsx(Ne,{children:"Create New Goal"})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"title",children:"Goal Title"}),a.jsx(an,{id:"title",value:l.title,onChange:g=>c({...l,title:g.target.value}),placeholder:"e.g., Master Multiplication"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"goal_type",children:"Goal Type"}),a.jsxs(ci,{value:l.goal_type,onValueChange:g=>c({...l,goal_type:g}),children:[a.jsx(Wr,{children:a.jsx(ui,{})}),a.jsx(Hr,{children:Object.entries(x).map(([g,_])=>a.jsx(Ze,{value:g,children:_},g))})]})]}),l.goal_type==="specific_operation"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"operation",children:"Operation"}),a.jsxs(ci,{value:l.operation,onValueChange:g=>c({...l,operation:g}),children:[a.jsx(Wr,{children:a.jsx(ui,{placeholder:"Select operation"})}),a.jsxs(Hr,{children:[a.jsx(Ze,{value:"addition",children:"Addition"}),a.jsx(Ze,{value:"subtraction",children:"Subtraction"}),a.jsx(Ze,{value:"multiplication",children:"Multiplication"}),a.jsx(Ze,{value:"division",children:"Division"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"level",children:"Level (Optional)"}),a.jsxs(ci,{value:l.level,onValueChange:g=>c({...l,level:g}),children:[a.jsx(Wr,{children:a.jsx(ui,{placeholder:"Any level"})}),a.jsxs(Hr,{children:[a.jsx(Ze,{value:null,children:"Any Level"}),a.jsx(Ze,{value:"easy",children:"Easy"}),a.jsx(Ze,{value:"medium",children:"Medium"}),a.jsx(Ze,{value:"hard",children:"Hard"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"target",children:"Target Value"}),a.jsx(an,{id:"target",type:"number",min:"1",value:l.target_value,onChange:g=>c({...l,target_value:parseInt(g.target.value)})}),a.jsx("p",{className:"text-sm text-gray-500",children:l.goal_type==="accuracy"?"Target percentage (e.g., 80 for 80%)":"Target number"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"description",children:"Description (Optional)"}),a.jsx(Ed,{id:"description",value:l.description,onChange:g=>c({...l,description:g.target.value}),placeholder:"Additional details about this goal..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"reward",children:"Reward Message (Optional)"}),a.jsx(an,{id:"reward",value:l.reward_message,onChange:g=>c({...l,reward_message:g.target.value}),placeholder:"e.g., Great job! You're a multiplication master!"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"due_date",children:"Due Date (Optional)"}),a.jsx(an,{id:"due_date",type:"date",value:l.due_date,onChange:g=>c({...l,due_date:g.target.value})})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(oe,{onClick:w,className:"flex-1 bg-purple-500 hover:bg-purple-600",disabled:!l.title||d.isPending,children:d.isPending?"Creating...":"Create Goal"}),a.jsx(oe,{variant:"outline",onClick:()=>o(!1),children:"Cancel"})]})]})]}),a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsx(te,{className:"border-2 border-gray-200",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(Qt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"No goals set yet"}),a.jsx("p",{className:"text-gray-500",children:"Create custom goals to motivate and track progress"})]})}):e.map(g=>{const _=p(g),T=Math.min(_/g.target_value*100,100),A=g.is_completed||_>=g.target_value;return a.jsxs(te,{className:`border-2 ${A?"border-green-300 bg-green-50":"border-purple-200"}`,children:[a.jsx(_e,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs(Ne,{className:"flex items-center gap-2",children:[A?a.jsx(Ut,{className:"w-6 h-6 text-green-600"}):a.jsx(Qt,{className:"w-6 h-6 text-purple-500"}),g.title]}),a.jsx(je,{variant:"outline",children:x[g.goal_type]}),A&&a.jsx(je,{className:"bg-green-500",children:"Completed!"})]}),g.description&&a.jsx("p",{className:"text-sm text-gray-600",children:g.description}),g.due_date&&a.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1",children:[a.jsx(Hn,{className:"w-4 h-4"}),"Due: ",hn(new Date(g.due_date),"MMM d, yyyy")]})]}),a.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>f.mutate(g.id),className:"text-gray-400 hover:text-red-600",children:a.jsx(Hy,{className:"w-5 h-5"})})]})}),a.jsx(ne,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-medium",children:"Progress"}),a.jsxs("span",{className:"font-bold",children:[_," / ",g.target_value,g.goal_type==="accuracy"&&"%"]})]}),a.jsx(dl,{value:T,className:"h-3"}),A&&g.reward_message&&a.jsx("div",{className:"bg-green-100 border-2 border-green-300 rounded-lg p-3 text-center",children:a.jsxs("p",{className:"text-sm font-medium text-green-800",children:[" ",g.reward_message]})})]})})]},g.id)})})]})}function YFe({childProgress:t,childDailyChallenges:e}){const r=[...t.map(o=>({...o,type:"game"})),...e.map(o=>({...o,type:"daily"}))].sort((o,l)=>new Date(l.created_date)-new Date(o.created_date)).slice(0,20),i={addition:"",subtraction:"",multiplication:"",division:""},s={easy:"bg-green-500",medium:"bg-yellow-500",hard:"bg-red-500"};return r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Hn,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600",children:"No activity recorded yet"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Activities will appear here as the child plays"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Hn,{className:"w-6 h-6 text-purple-500"}),"Recent Activity Timeline"]}),a.jsx("div",{className:"space-y-3",children:r.map((o,l)=>{const c=Math.round(o.correct_answers/o.total_questions*100);return a.jsx(te,{className:"border-2 border-gray-200 hover:shadow-md transition-shadow",children:a.jsx(ne,{className:"p-4",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl flex items-center justify-center flex-shrink-0",children:o.type==="daily"?a.jsx(Hn,{className:"w-6 h-6 text-purple-600"}):a.jsx("span",{className:"text-2xl",children:i[o.operation]})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[o.type==="daily"?a.jsx("h4",{className:"font-bold text-lg",children:"Daily Challenge"}):a.jsxs(a.Fragment,{children:[a.jsx("h4",{className:"font-bold text-lg capitalize",children:o.operation}),a.jsx(je,{className:s[o.level]+" text-white",children:o.level})]}),a.jsx("span",{className:"text-sm text-gray-500",children:hn(new Date(o.created_date),"MMM d, h:mm a")})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ct,{className:"w-4 h-4 text-purple-500"}),a.jsxs("span",{className:"font-medium",children:[o.score," pts"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qt,{className:"w-4 h-4 text-green-500"}),a.jsxs("span",{className:"font-medium",children:[o.correct_answers,"/",o.total_questions," (",c,"%)"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_n,{className:"w-4 h-4 text-blue-500"}),a.jsxs("span",{className:"font-medium",children:[o.time_taken,"s"]})]}),o.stars_earned!==void 0&&a.jsx("div",{className:"flex items-center gap-1",children:[...Array(3)].map((d,f)=>a.jsx(Nt,{className:`w-4 h-4 ${f<o.stars_earned?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},f))}),o.bonus_stars!==void 0&&o.bonus_stars>0&&a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs(je,{className:"bg-yellow-500 text-white",children:["+",o.bonus_stars," Bonus "]})})]})]})]})})})},l)})})]})}var h_="Checkbox",[QFe]=_a(h_),[XFe,vR]=QFe(h_);function JFe(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:l,onCheckedChange:c,required:d,value:f="on",internal_do_not_use_render:m}=t,[p,v]=ll({prop:n,defaultProp:i??!1,onChange:c,caller:h_}),[w,x]=S.useState(null),[g,_]=S.useState(null),T=S.useRef(!1),A=w?!!o||!!w.closest("form"):!0,I={checked:p,disabled:s,setChecked:v,control:w,setControl:x,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:T,required:d,defaultChecked:kc(i)?!1:i,isFormControl:A,bubbleInput:g,setBubbleInput:_};return a.jsx(XFe,{scope:e,...I,children:ZFe(m)?m(I):r})}var NZ="CheckboxTrigger",SZ=S.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:o,disabled:l,checked:c,required:d,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:w}=vR(NZ,t),x=$t(i,f),g=S.useRef(c);return S.useEffect(()=>{const _=s==null?void 0:s.form;if(_){const T=()=>m(g.current);return _.addEventListener("reset",T),()=>_.removeEventListener("reset",T)}},[s,m]),a.jsx(wt.button,{type:"button",role:"checkbox","aria-checked":kc(c)?"mixed":c,"aria-required":d,"data-state":CZ(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:x,onKeyDown:Fe(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Fe(n,_=>{m(T=>kc(T)?!0:!T),w&&v&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})})});SZ.displayName=NZ;var xR=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:d,form:f,...m}=t;return a.jsx(JFe,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:d,name:r,form:f,value:c,internal_do_not_use_render:({isFormControl:p})=>a.jsxs(a.Fragment,{children:[a.jsx(SZ,{...m,ref:e,__scopeCheckbox:n}),p&&a.jsx(PZ,{__scopeCheckbox:n})]})})});xR.displayName=h_;var TZ="CheckboxIndicator",EZ=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=vR(TZ,n);return a.jsx(Nl,{present:r||kc(s.checked)||s.checked===!0,children:a.jsx(wt.span,{"data-state":CZ(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});EZ.displayName=TZ;var AZ="CheckboxBubbleInput",PZ=S.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:l,disabled:c,name:d,value:f,form:m,bubbleInput:p,setBubbleInput:v}=vR(AZ,t),w=$t(n,v),x=l_(s),g=f1(r);S.useEffect(()=>{const T=p;if(!T)return;const A=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(A,"checked").set,C=!i.current;if(x!==s&&P){const E=new Event("click",{bubbles:C});T.indeterminate=kc(s),P.call(T,kc(s)?!1:s),T.dispatchEvent(E)}},[p,x,s,i]);const _=S.useRef(kc(s)?!1:s);return a.jsx(wt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:l,disabled:c,name:d,value:f,form:m,...e,tabIndex:-1,ref:w,style:{...e.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});PZ.displayName=AZ;function ZFe(t){return typeof t=="function"}function kc(t){return t==="indeterminate"}function CZ(t){return kc(t)?"indeterminate":t?"checked":"unchecked"}const kZ=S.forwardRef(({className:t,...e},n)=>a.jsx(xR,{ref:n,className:vt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(EZ,{className:vt("flex items-center justify-center text-current"),children:a.jsx(Dn,{className:"h-4 w-4"})})}));kZ.displayName=xR.displayName;function eVe(){var w;const t=xr(),[e,n]=S.useState(!1),[r,i]=S.useState([]),[s,o]=S.useState({challenge_name:"",challenge_type:"team_score",target_value:1e3,description:"",start_date:new Date().toISOString().split("T")[0],end_date:"",reward_stars:10,reward_coins:50,reward_message:"",specific_operation:"any",specific_level:"any"}),{data:l}=dt({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:c=[]}=dt({queryKey:["allUsers"],queryFn:()=>base44.entities.User.list(),initialData:[]}),d=c.filter(x=>x.parent_email===(l==null?void 0:l.email)),f=Pn({mutationFn:x=>base44.entities.TeamChallenge.create(x),onSuccess:()=>{t.invalidateQueries({queryKey:["teamChallenges"]}),t.invalidateQueries({queryKey:["myTeamChallenges"]}),n(!1),i([]),o({challenge_name:"",challenge_type:"team_score",target_value:1e3,description:"",start_date:new Date().toISOString().split("T")[0],end_date:"",reward_stars:10,reward_coins:50,reward_message:"",specific_operation:"any",specific_level:"any"})}}),m=()=>{!s.challenge_name||r.length===0||f.mutate({...s,creator_email:l.email,team_members:r})},p=x=>{r.includes(x)?i(r.filter(g=>g!==x)):i([...r,x])},v=[{value:"team_score",label:"Team Score Challenge",description:"Combine all team members' scores"},{value:"combined_accuracy",label:"Combined Accuracy Goal",description:"Average accuracy across all members"},{value:"total_games",label:"Total Games Challenge",description:"Total number of games played by the team"},{value:"total_stars",label:"Star Collection Challenge",description:"Collect stars together as a team"},{value:"daily_streak_sum",label:"Daily Challenge Streak",description:"Combined daily challenge completions"},{value:"speed_challenge",label:"Speed Challenge",description:"Best (fastest) time from any team member"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(vr,{className:"w-6 h-6 text-purple-500"}),"Team Challenges"]}),a.jsxs(oe,{onClick:()=>n(!e),className:"bg-purple-500 hover:bg-purple-600",children:[a.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Create Team Challenge"]})]}),e&&a.jsxs(te,{className:"border-2 border-purple-300",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsx(Ne,{children:"Create New Team Challenge"})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"challenge_name",children:"Challenge Name"}),a.jsx(an,{id:"challenge_name",value:s.challenge_name,onChange:x=>o({...s,challenge_name:x.target.value}),placeholder:"e.g., Family Math Marathon"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"challenge_type",children:"Challenge Type"}),a.jsxs(ci,{value:s.challenge_type,onValueChange:x=>o({...s,challenge_type:x}),children:[a.jsx(Wr,{children:a.jsx(ui,{})}),a.jsx(Hr,{children:v.map(x=>a.jsx(Ze,{value:x.value,children:x.label},x.value))})]}),a.jsx("p",{className:"text-sm text-gray-600",children:(w=v.find(x=>x.value===s.challenge_type))==null?void 0:w.description})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"specific_operation",children:"Specific Operation (Optional)"}),a.jsxs(ci,{value:s.specific_operation,onValueChange:x=>o({...s,specific_operation:x}),children:[a.jsx(Wr,{children:a.jsx(ui,{})}),a.jsxs(Hr,{children:[a.jsx(Ze,{value:"any",children:"Any Operation"}),a.jsx(Ze,{value:"addition",children:"Addition Only"}),a.jsx(Ze,{value:"subtraction",children:"Subtraction Only"}),a.jsx(Ze,{value:"multiplication",children:"Multiplication Only"}),a.jsx(Ze,{value:"division",children:"Division Only"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"specific_level",children:"Specific Level (Optional)"}),a.jsxs(ci,{value:s.specific_level,onValueChange:x=>o({...s,specific_level:x}),children:[a.jsx(Wr,{children:a.jsx(ui,{})}),a.jsxs(Hr,{children:[a.jsx(Ze,{value:"any",children:"Any Level"}),a.jsx(Ze,{value:"easy",children:"Easy Only"}),a.jsx(Ze,{value:"medium",children:"Medium Only"}),a.jsx(Ze,{value:"hard",children:"Hard Only"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"target_value",children:"Target Value"}),a.jsx(an,{id:"target_value",type:"number",min:"1",value:s.target_value,onChange:x=>o({...s,target_value:parseInt(x.target.value)})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"start_date",children:"Start Date"}),a.jsx(an,{id:"start_date",type:"date",value:s.start_date,onChange:x=>o({...s,start_date:x.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"end_date",children:"End Date (Optional)"}),a.jsx(an,{id:"end_date",type:"date",value:s.end_date,onChange:x=>o({...s,end_date:x.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"description",children:"Description (Optional)"}),a.jsx(Ed,{id:"description",value:s.description,onChange:x=>o({...s,description:x.target.value}),placeholder:"Describe the challenge..."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"reward_stars",children:"Reward Stars (per member)"}),a.jsx(an,{id:"reward_stars",type:"number",min:"0",value:s.reward_stars,onChange:x=>o({...s,reward_stars:parseInt(x.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"reward_coins",children:"Reward Coins (per member)"}),a.jsx(an,{id:"reward_coins",type:"number",min:"0",value:s.reward_coins,onChange:x=>o({...s,reward_coins:parseInt(x.target.value)})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"reward_message",children:"Reward Message (Optional)"}),a.jsx(an,{id:"reward_message",value:s.reward_message,onChange:x=>o({...s,reward_message:x.target.value}),placeholder:"e.g., Amazing teamwork! You did it together!"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{children:"Select Team Members"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2 max-h-60 overflow-y-auto",children:d.length===0?a.jsx("p",{className:"text-gray-600 text-sm",children:"No children linked to your account"}):d.map(x=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kZ,{id:x.email,checked:r.includes(x.email),onCheckedChange:()=>p(x.email)}),a.jsx(at,{htmlFor:x.email,className:"cursor-pointer flex-1",children:x.child_name||x.full_name||x.email})]},x.email))}),r.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.map(x=>{const g=d.find(_=>_.email===x);return a.jsxs(je,{className:"bg-purple-500 text-white",children:[(g==null?void 0:g.child_name)||(g==null?void 0:g.full_name)||x,a.jsx("button",{onClick:()=>p(x),className:"ml-2 hover:bg-purple-600 rounded-full",children:a.jsx(Tr,{className:"w-3 h-3"})})]},x)})})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(oe,{onClick:m,className:"flex-1 bg-purple-500 hover:bg-purple-600",disabled:!s.challenge_name||r.length===0||f.isPending,children:f.isPending?"Creating...":"Create Challenge"}),a.jsx(oe,{variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]})]})]})}var f_="Switch",[tVe]=_a(f_),[nVe,rVe]=tVe(f_),IZ=S.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...m}=t,[p,v]=S.useState(null),w=$t(e,A=>v(A)),x=S.useRef(!1),g=p?f||!!p.closest("form"):!0,[_,T]=ll({prop:i,defaultProp:s??!1,onChange:d,caller:f_});return a.jsxs(nVe,{scope:n,checked:_,disabled:l,children:[a.jsx(wt.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":DZ(_),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:w,onClick:Fe(t.onClick,A=>{T(I=>!I),g&&(x.current=A.isPropagationStopped(),x.current||A.stopPropagation())})}),g&&a.jsx(MZ,{control:p,bubbles:!x.current,name:r,value:c,checked:_,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});IZ.displayName=f_;var OZ="SwitchThumb",RZ=S.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=rVe(OZ,n);return a.jsx(wt.span,{"data-state":DZ(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});RZ.displayName=OZ;var iVe="SwitchBubbleInput",MZ=S.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const o=S.useRef(null),l=$t(o,s),c=l_(n),d=f1(e);return S.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&v){const w=new Event("click",{bubbles:r});v.call(f,n),f.dispatchEvent(w)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});MZ.displayName=iVe;function DZ(t){return t?"checked":"unchecked"}var LZ=IZ,sVe=RZ;const UC=S.forwardRef(({className:t,...e},n)=>a.jsx(LZ,{className:vt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:a.jsx(sVe,{className:vt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));UC.displayName=LZ.displayName;function aVe({childEmail:t,currentControls:e}){const n=xr(),[r,i]=S.useState(!1),[s,o]=S.useState({daily_time_limit_minutes:0,time_limits_by_operation:{},enforce_time_limits:!0,time_limit_warning_minutes:5,allowed_operations:["addition","subtraction","multiplication","division"],allowed_levels:["easy","medium","hard"],blocked_features:[],focus_operations:[],focus_priority:"suggest",focus_reminder_frequency:"daily",weekly_goal_games:0,weekly_goal_stars:0,monthly_goal_games:0,monthly_goal_accuracy:0}),[l,c]=S.useState([]),[d,f]=S.useState(!1),[m,p]=S.useState({title:"",description:"",target_type:"games_completed",target_value:10,operation:"any",level:"any",deadline:""});S.useEffect(()=>{e&&(o({...s,...e}),e.custom_learning_goals&&c(e.custom_learning_goals))},[e]);const v=Pn({mutationFn:async()=>{const N=dn(Bt),D=(await Ti(Pr(N,"users"))).docs.find(L=>L.data().email===t);if(!D)throw new Error("Child not found");await Fc(Gi(N,"users",D.id),{parental_controls:{...s,custom_learning_goals:l}},{merge:!0})},onSuccess:()=>{n.invalidateQueries({queryKey:["allUsers"]}),i(!0),setTimeout(()=>i(!1),3e3)}}),w=()=>{v.mutate()},x=[{id:"addition",name:"Addition",emoji:""},{id:"subtraction",name:"Subtraction",emoji:""},{id:"multiplication",name:"Multiplication",emoji:""},{id:"division",name:"Division",emoji:""},{id:"fractions",name:"Fractions",emoji:""},{id:"decimals",name:"Decimals",emoji:"0.5"},{id:"percentages",name:"Percentages",emoji:"%"},{id:"word_problems",name:"Word Problems",emoji:""},{id:"money",name:"Money Math",emoji:""},{id:"time",name:"Time",emoji:""},{id:"geometry",name:"Geometry",emoji:""},{id:"mixed",name:"Mixed",emoji:""}],g=[{id:"easy",name:"Easy"},{id:"medium",name:"Medium"},{id:"hard",name:"Hard"},{id:"expert",name:"Expert"}],_=[{id:"shop",name:"Shop",description:"Disable access to the rewards shop"},{id:"leaderboards",name:"Leaderboards",description:"Hide competitive leaderboards"},{id:"team_challenges",name:"Team Challenges",description:"Disable team-based challenges"},{id:"daily_challenge",name:"Daily Challenge",description:"Disable daily challenges"},{id:"power_ups",name:"Power-Ups",description:"Prevent using power-ups in games"}],T=(N,O)=>{const D=O==="allowed"?"allowed_operations":"focus_operations",L=s[D];L.includes(N)?o({...s,[D]:L.filter($=>$!==N)}):o({...s,[D]:[...L,N]})},A=N=>{const O=s.allowed_levels;O.includes(N)?o({...s,allowed_levels:O.filter(D=>D!==N)}):o({...s,allowed_levels:[...O,N]})},I=N=>{const O=s.blocked_features||[];O.includes(N)?o({...s,blocked_features:O.filter(D=>D!==N)}):o({...s,blocked_features:[...O,N]})},P=(N,O)=>{o({...s,time_limits_by_operation:{...s.time_limits_by_operation||{},[N]:parseInt(O)||0}})},C=()=>{m.title&&(c([...l,{...m,id:Date.now().toString()}]),p({title:"",description:"",target_type:"games_completed",target_value:10,operation:"any",level:"any",deadline:""}),f(!1))},E=N=>{c(l.filter(O=>O.id!==N))};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Bi,{className:"w-6 h-6 text-blue-600"}),"Advanced Parental Controls"]})}),r&&a.jsxs(Ue,{className:"bg-green-50 border-green-200",children:[a.jsx(ub,{className:"w-4 h-4 text-green-600"}),a.jsxs(ze,{className:"text-green-800",children:[a.jsx(Ut,{className:"w-4 h-4 inline mr-2"}),"Settings saved successfully! Changes are now active."]})]}),a.jsxs(Kc,{defaultValue:"time-limits",className:"w-full",children:[a.jsxs(xl,{className:"grid w-full grid-cols-4",children:[a.jsxs(St,{value:"time-limits",children:[a.jsx(_n,{className:"w-4 h-4 mr-2"}),"Time Limits"]}),a.jsxs(St,{value:"content",children:[a.jsx(oi,{className:"w-4 h-4 mr-2"}),"Content Filter"]}),a.jsxs(St,{value:"focus",children:[a.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Focus Topics"]}),a.jsxs(St,{value:"goals",children:[a.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Custom Goals"]})]}),a.jsx(Dt,{value:"time-limits",className:"space-y-6",children:a.jsxs(te,{className:"border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(_n,{className:"w-5 h-5 text-blue-600"}),"Daily Time Limits"]})}),a.jsxs(ne,{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(at,{htmlFor:"daily_limit",className:"text-base font-bold",children:"Overall Daily Time Limit"}),a.jsx(UC,{checked:s.enforce_time_limits,onCheckedChange:N=>o({...s,enforce_time_limits:N})})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(an,{id:"daily_limit",type:"number",min:"0",max:"480",value:s.daily_time_limit_minutes,onChange:N=>o({...s,daily_time_limit_minutes:parseInt(N.target.value)||0}),className:"max-w-xs",disabled:!s.enforce_time_limits}),a.jsx("span",{className:"text-gray-600",children:"minutes per day"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:s.daily_time_limit_minutes===0?"Set to 0 for unlimited time":`Child can use the app for ${s.daily_time_limit_minutes} minutes per day`})]}),a.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[a.jsx(at,{htmlFor:"warning_time",className:"text-base font-bold",children:"Time Limit Warning"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(an,{id:"warning_time",type:"number",min:"1",max:"30",value:s.time_limit_warning_minutes,onChange:N=>o({...s,time_limit_warning_minutes:parseInt(N.target.value)||5}),className:"max-w-xs",disabled:!s.enforce_time_limits||s.daily_time_limit_minutes===0}),a.jsx("span",{className:"text-gray-600",children:"minutes before limit"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Show a warning when this many minutes remain"})]}),a.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[a.jsx(at,{className:"text-base font-bold",children:"Time Limits by Math Concept (Optional)"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Set specific time limits for individual math concepts. Leave at 0 for no limit."}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:x.map(N=>{var O;return a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-2xl",children:N.emoji}),a.jsx("div",{className:"flex-1",children:a.jsx(at,{className:"text-sm font-medium",children:N.name})}),a.jsx(an,{type:"number",min:"0",max:"120",value:((O=s.time_limits_by_operation)==null?void 0:O[N.id])||0,onChange:D=>P(N.id,D.target.value),className:"w-20",disabled:!s.enforce_time_limits}),a.jsx("span",{className:"text-xs text-gray-500",children:"min"})]},N.id)})})]}),a.jsxs(Ue,{className:"bg-yellow-50 border-yellow-200",children:[a.jsx(zr,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(ze,{className:"text-yellow-800 text-sm",children:[a.jsx("strong",{children:"How it works:"})," Time limits are enforced per calendar day. When time runs out, your child will be notified and games will be locked until the next day."]})]})]})]})}),a.jsxs(Dt,{value:"content",className:"space-y-6",children:[a.jsxs(te,{className:"border-2 border-green-200",children:[a.jsx(_e,{className:"bg-green-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(oi,{className:"w-5 h-5 text-green-600"}),"Allowed Math Concepts"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select which math concepts your child can access. At least one must be selected."}),a.jsx("div",{className:"grid md:grid-cols-3 gap-3",children:x.map(N=>a.jsx("div",{className:`p-4 rounded-lg border-2 transition-all cursor-pointer ${s.allowed_operations.includes(N.id)?"border-green-500 bg-green-50":"border-gray-200 bg-gray-50"}`,onClick:()=>T(N.id,"allowed"),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:N.emoji}),a.jsx("div",{className:"text-sm font-medium",children:N.name})]})},N.id))}),a.jsxs(Ue,{className:"bg-yellow-50 border-yellow-200 mt-4",children:[a.jsx(zr,{className:"w-4 h-4 text-yellow-600"}),a.jsx(ze,{className:"text-yellow-800 text-sm",children:"At least one operation must be allowed for your child to play games."})]})]})]}),a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(oi,{className:"w-5 h-5 text-purple-600"}),"Allowed Difficulty Levels"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Control which difficulty levels your child can play."}),a.jsx("div",{className:"grid grid-cols-4 gap-3",children:g.map(N=>a.jsx("div",{className:`p-4 rounded-lg border-2 transition-all cursor-pointer ${s.allowed_levels.includes(N.id)?"border-purple-500 bg-purple-50":"border-gray-200 bg-gray-50"}`,onClick:()=>A(N.id),children:a.jsx("div",{className:"text-center font-medium",children:N.name})},N.id))})]})]}),a.jsxs(te,{className:"border-2 border-orange-200",children:[a.jsx(_e,{className:"bg-orange-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(oi,{className:"w-5 h-5 text-orange-600"}),"Feature Access Control"]})}),a.jsxs(ne,{className:"p-6 space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Control which app features your child can access."}),_.map(N=>{var O;return a.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg border-2 border-gray-200",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-bold mb-1",children:N.name}),a.jsx("p",{className:"text-sm text-gray-600",children:N.description})]}),a.jsx(UC,{checked:!((O=s.blocked_features)!=null&&O.includes(N.id)),onCheckedChange:()=>I(N.id)})]},N.id)})]})]})]}),a.jsx(Dt,{value:"focus",className:"space-y-6",children:a.jsxs(te,{className:"border-2 border-indigo-200",children:[a.jsx(_e,{className:"bg-indigo-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Qt,{className:"w-5 h-5 text-indigo-600"}),"Focus Topics & Recommendations"]})}),a.jsx(ne,{className:"p-6 space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(at,{className:"text-base font-bold mb-3 block",children:"Select Focus Operations"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Highlight specific math concepts for your child to practice more."}),a.jsx("div",{className:"grid md:grid-cols-3 gap-3",children:x.map(N=>a.jsx("div",{className:`p-4 rounded-lg border-2 transition-all cursor-pointer ${s.focus_operations.includes(N.id)?"border-indigo-500 bg-indigo-50 ring-2 ring-indigo-200":"border-gray-200 bg-gray-50"}`,onClick:()=>T(N.id,"focus"),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:N.emoji}),a.jsx("div",{className:"text-sm font-medium",children:N.name}),s.focus_operations.includes(N.id)&&a.jsx(Badge,{className:"mt-2 bg-indigo-500 text-white text-xs",children:"Focus"})]})},N.id))})]}),s.focus_operations.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"pt-4 border-t space-y-3",children:[a.jsx(at,{className:"text-base font-bold",children:"Focus Priority Mode"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${s.focus_priority==="suggest"?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white"}`,onClick:()=>o({...s,focus_priority:"suggest"}),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${s.focus_priority==="suggest"?"border-indigo-500":"border-gray-300"}`,children:s.focus_priority==="suggest"&&a.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-500"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold",children:"Suggest (Recommended)"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Show reminders and highlight focus topics, but allow access to all enabled content"})]})]})}),a.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${s.focus_priority==="enforce"?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white"}`,onClick:()=>o({...s,focus_priority:"enforce"}),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${s.focus_priority==="enforce"?"border-indigo-500":"border-gray-300"}`,children:s.focus_priority==="enforce"&&a.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-500"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold",children:"Enforce (Strict)"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Only allow focus topics - other content will be locked"})]})]})})]})]}),a.jsxs("div",{className:"pt-4 border-t space-y-3",children:[a.jsx(at,{className:"text-base font-bold",children:"Reminder Frequency"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:["never","daily","every_session"].map(N=>a.jsx("div",{className:`p-3 rounded-lg border-2 cursor-pointer text-center transition-all ${s.focus_reminder_frequency===N?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white"}`,onClick:()=>o({...s,focus_reminder_frequency:N}),children:a.jsx("div",{className:"font-medium capitalize",children:N==="every_session"?"Every Game":N})},N))})]})]}),s.focus_operations.length===0&&a.jsxs(Ue,{className:"bg-blue-50 border-blue-200",children:[a.jsx(Qt,{className:"w-4 h-4 text-blue-600"}),a.jsx(ze,{className:"text-blue-800 text-sm",children:"Select at least one operation above to set it as a focus topic for your child."})]})]})})]})}),a.jsxs(Dt,{value:"goals",className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold",children:"Custom Learning Goals"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Create personalized goals tailored to your child's needs"})]}),a.jsxs(oe,{onClick:()=>f(!d),className:"bg-indigo-500 hover:bg-indigo-600",children:[a.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add Goal"]})]}),d&&a.jsxs(te,{className:"border-2 border-indigo-300",children:[a.jsx(_e,{className:"bg-indigo-50",children:a.jsx(Ne,{children:"Create New Learning Goal"})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"goal_title",children:"Goal Title"}),a.jsx(an,{id:"goal_title",value:m.title,onChange:N=>p({...m,title:N.target.value}),placeholder:"e.g., Master Multiplication Tables"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"goal_description",children:"Description (Optional)"}),a.jsx(Ed,{id:"goal_description",value:m.description,onChange:N=>p({...m,description:N.target.value}),placeholder:"Add more details about this goal...",rows:2})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"target_type",children:"Goal Type"}),a.jsxs("select",{id:"target_type",value:m.target_type,onChange:N=>p({...m,target_type:N.target.value}),className:"w-full p-2 border rounded-md",children:[a.jsx("option",{value:"games_completed",children:"Games Completed"}),a.jsx("option",{value:"stars_earned",children:"Stars Earned"}),a.jsx("option",{value:"accuracy",children:"Accuracy (%)"}),a.jsx("option",{value:"time_spent",children:"Time Spent (minutes)"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"target_value",children:"Target Value"}),a.jsx(an,{id:"target_value",type:"number",min:"1",value:m.target_value,onChange:N=>p({...m,target_value:parseInt(N.target.value)||1})})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"goal_operation",children:"Operation"}),a.jsxs("select",{id:"goal_operation",value:m.operation,onChange:N=>p({...m,operation:N.target.value}),className:"w-full p-2 border rounded-md",children:[a.jsx("option",{value:"any",children:"Any Operation"}),x.map(N=>a.jsxs("option",{value:N.id,children:[N.emoji," ",N.name]},N.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"goal_level",children:"Difficulty Level"}),a.jsxs("select",{id:"goal_level",value:m.level,onChange:N=>p({...m,level:N.target.value}),className:"w-full p-2 border rounded-md",children:[a.jsx("option",{value:"any",children:"Any Level"}),g.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"goal_deadline",children:"Deadline (Optional)"}),a.jsx(an,{id:"goal_deadline",type:"date",value:m.deadline,onChange:N=>p({...m,deadline:N.target.value})})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(oe,{onClick:C,className:"flex-1 bg-indigo-500 hover:bg-indigo-600",disabled:!m.title,children:"Add Goal"}),a.jsx(oe,{variant:"outline",onClick:()=>f(!1),children:"Cancel"})]})]})]}),a.jsx("div",{className:"space-y-4",children:l.length===0?a.jsx(te,{className:"border-2 border-gray-200",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(Nt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"No custom goals yet"}),a.jsx("p",{className:"text-gray-500",children:"Create goals to motivate and guide your child's learning"})]})}):l.map(N=>a.jsxs(te,{className:"border-2 border-indigo-200",children:[a.jsx(_e,{className:"bg-indigo-50",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Qt,{className:"w-5 h-5 text-indigo-600"}),N.title]}),N.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:N.description})]}),a.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>E(N.id),className:"text-gray-400 hover:text-red-600",children:a.jsx(Hy,{className:"w-5 h-5"})})]})}),a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Type:"})," ",N.target_type.replace("_"," ")]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Target:"})," ",N.target_value]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Operation:"})," ",N.operation]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Level:"})," ",N.level]})]}),N.deadline&&a.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(Hn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Deadline: ",N.deadline]})]})]})]},N.id))})]})]}),a.jsx("div",{className:"flex justify-end pt-6 border-t",children:a.jsxs(oe,{onClick:w,disabled:v.isPending,className:"h-12 px-8 bg-gradient-to-r from-blue-500 to-purple-500",children:[a.jsx(ub,{className:"w-5 h-5 mr-2"}),v.isPending?"Saving...":"Save All Settings"]})})]})}function oVe({childEmail:t,childProgress:e}){const n=xr(),[r,i]=S.useState(!1),[s,o]=S.useState({title:"",description:"",operation:"addition",level:"easy",target_games:5,target_accuracy:80,due_date:"",instructions:""}),{data:l=[]}=dt({queryKey:["lessonAssignments",t],queryFn:async()=>{const g=dn(Bt),_=va(Pr(g,"customGoals"),si("child_email","==",t),si("goal_type","==","specific_operation"));return(await Ti(_)).docs.map(A=>({id:A.id,...A.data()}))},initialData:[],enabled:!!t}),c=Pn({mutationFn:async g=>{const _=dn(Bt);await qk(Pr(_,"customGoals"),{...g,child_email:t,goal_type:"specific_operation",target_value:g.target_games})},onSuccess:()=>{n.invalidateQueries({queryKey:["lessonAssignments"]}),n.invalidateQueries({queryKey:["childGoals"]}),i(!1),o({title:"",description:"",operation:"addition",level:"easy",target_games:5,target_accuracy:80,due_date:"",instructions:""})}}),d=Pn({mutationFn:async g=>{const _=dn(Bt);await Bk(doc(_,"customGoals",g))},onSuccess:()=>{n.invalidateQueries({queryKey:["lessonAssignments"]}),n.invalidateQueries({queryKey:["childGoals"]})}}),f=()=>{s.title&&c.mutate(s)},m=g=>{const _=e.filter(I=>I.operation===g.operation&&I.level===g.level&&new Date(I.created_date)>=new Date(g.created_date)),T=_.length,A=_.length>0?_.reduce((I,P)=>I+P.correct_answers/P.total_questions*100,0)/_.length:0;return{gamesCompleted:T,avgAccuracy:Math.round(A),isComplete:T>=g.target_value&&A>=(g.target_accuracy||70)}},v=(()=>{const g={addition:{total:0,correct:0},subtraction:{total:0,correct:0},multiplication:{total:0,correct:0},division:{total:0,correct:0}};e.forEach(T=>{g[T.operation]&&(g[T.operation].total+=T.total_questions,g[T.operation].correct+=T.correct_answers)});const _=[];return Object.entries(g).forEach(([T,A])=>{if(A.total>0){const I=A.correct/A.total*100;I<70&&_.push({operation:T,level:I<50?"easy":"medium",reason:`Low accuracy: ${Math.round(I)}%`})}}),_})(),w={addition:"",subtraction:"",multiplication:"",division:""},x={easy:"bg-green-500",medium:"bg-yellow-500",hard:"bg-red-500"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Rs,{className:"w-6 h-6 text-blue-600"}),"Lesson Assignments"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Create custom practice lessons tailored to your child's needs"})]}),a.jsxs(oe,{onClick:()=>i(!r),className:"bg-blue-500 hover:bg-blue-600",children:[a.jsx(Fr,{className:"w-4 h-4 mr-2"}),"New Lesson"]})]}),v.length>0&&a.jsxs(Ue,{className:"bg-yellow-50 border-yellow-300",children:[a.jsx(dm,{className:"w-5 h-5 text-yellow-600"}),a.jsxs(ze,{className:"text-yellow-800",children:[a.jsx("strong",{children:"Suggested Focus Areas:"}),a.jsx("div",{className:"mt-2 space-y-2",children:v.map((g,_)=>a.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:w[g.operation]}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium capitalize",children:[g.operation," - ",g.level]}),a.jsx("p",{className:"text-sm text-gray-600",children:g.reason})]})]}),a.jsx(oe,{size:"sm",onClick:()=>{o({...s,operation:g.operation,level:g.level,title:`Practice ${g.operation.charAt(0).toUpperCase()+g.operation.slice(1)}`}),i(!0)},children:"Create Lesson"})]},_))})]})]}),r&&a.jsxs(te,{className:"border-2 border-blue-300",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsx(Ne,{children:"Create New Lesson Assignment"})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"title",children:"Lesson Title"}),a.jsx(an,{id:"title",value:s.title,onChange:g=>o({...s,title:g.target.value}),placeholder:"e.g., Master Two-Digit Addition"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"description",children:"Description"}),a.jsx(Ed,{id:"description",value:s.description,onChange:g=>o({...s,description:g.target.value}),placeholder:"What should the student learn from this lesson?",rows:3})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"operation",children:"Operation"}),a.jsxs(ci,{value:s.operation,onValueChange:g=>o({...s,operation:g}),children:[a.jsx(Wr,{children:a.jsx(ui,{})}),a.jsxs(Hr,{children:[a.jsx(Ze,{value:"addition",children:" Addition"}),a.jsx(Ze,{value:"subtraction",children:" Subtraction"}),a.jsx(Ze,{value:"multiplication",children:" Multiplication"}),a.jsx(Ze,{value:"division",children:" Division"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"level",children:"Difficulty Level"}),a.jsxs(ci,{value:s.level,onValueChange:g=>o({...s,level:g}),children:[a.jsx(Wr,{children:a.jsx(ui,{})}),a.jsxs(Hr,{children:[a.jsx(Ze,{value:"easy",children:"Easy"}),a.jsx(Ze,{value:"medium",children:"Medium"}),a.jsx(Ze,{value:"hard",children:"Hard"})]})]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"target_games",children:"Target Games"}),a.jsx(an,{id:"target_games",type:"number",min:"1",max:"50",value:s.target_games,onChange:g=>o({...s,target_games:parseInt(g.target.value)})}),a.jsx("p",{className:"text-xs text-gray-500",children:"Number of games to complete"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"target_accuracy",children:"Target Accuracy (%)"}),a.jsx(an,{id:"target_accuracy",type:"number",min:"50",max:"100",value:s.target_accuracy,onChange:g=>o({...s,target_accuracy:parseInt(g.target.value)})}),a.jsx("p",{className:"text-xs text-gray-500",children:"Minimum accuracy to complete"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"due_date",children:"Due Date (Optional)"}),a.jsx(an,{id:"due_date",type:"date",value:s.due_date,onChange:g=>o({...s,due_date:g.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"instructions",children:"Instructions for Student"}),a.jsx(Ed,{id:"instructions",value:s.instructions,onChange:g=>o({...s,instructions:g.target.value}),placeholder:"Any specific tips or guidance?",rows:3})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(oe,{onClick:f,className:"flex-1 bg-blue-500 hover:bg-blue-600",disabled:!s.title||c.isPending,children:[a.jsx(Wz,{className:"w-4 h-4 mr-2"}),c.isPending?"Assigning...":"Assign Lesson"]}),a.jsx(oe,{variant:"outline",onClick:()=>i(!1),children:"Cancel"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-bold text-lg",children:"Active Assignments"}),l.length===0?a.jsx(te,{className:"border-2 border-gray-200",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(Rs,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"No lessons assigned yet"}),a.jsx("p",{className:"text-gray-500",children:"Create custom lessons to guide your child's learning"})]})}):l.map(g=>{const _=m(g),T=Math.min(_.gamesCompleted/g.target_value*100,100);return a.jsxs(te,{className:`border-2 ${_.isComplete?"border-green-300 bg-green-50":"border-blue-200"}`,children:[a.jsx(_e,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("span",{className:"text-3xl",children:w[g.operation]}),a.jsxs("div",{children:[a.jsxs(Ne,{className:"flex items-center gap-2",children:[g.title,_.isComplete&&a.jsxs(je,{className:"bg-green-500",children:[a.jsx(Ut,{className:"w-3 h-3 mr-1"}),"Completed"]})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(je,{className:x[g.level]+" text-white",children:g.level}),g.due_date&&a.jsxs(je,{variant:"outline",className:"flex items-center gap-1",children:[a.jsx(Hn,{className:"w-3 h-3"}),"Due: ",hn(new Date(g.due_date),"MMM d")]})]})]})]}),g.description&&a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.description}),g.instructions&&a.jsx(Ue,{className:"mt-2",children:a.jsxs(ze,{className:"text-sm",children:[a.jsx("strong",{children:"Instructions:"})," ",g.instructions]})})]}),a.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>d.mutate(g.id),className:"text-gray-400 hover:text-red-600",children:a.jsx(Hy,{className:"w-5 h-5"})})]})}),a.jsx(ne,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Qt,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Games"})]}),a.jsxs("p",{className:"text-2xl font-bold",children:[_.gamesCompleted," / ",g.target_value]})]}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ut,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Accuracy"})]}),a.jsxs("p",{className:"text-2xl font-bold",children:[_.avgAccuracy,"%",a.jsxs("span",{className:"text-sm text-gray-500",children:[" / ",g.target_accuracy||70,"%"]})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{children:"Overall Progress"}),a.jsxs("span",{className:"font-bold",children:[Math.round(T),"%"]})]}),a.jsx(dl,{value:T,className:"h-3"})]}),_.isComplete&&a.jsxs(Ue,{className:"bg-green-100 border-green-300",children:[a.jsx(Ut,{className:"w-4 h-4 text-green-600"}),a.jsxs(ze,{className:"text-green-800",children:[a.jsx("strong",{children:"Great job!"})," This lesson has been completed successfully."]})]})]})})]},g.id)})]})]})}function lVe({childEmail:t,parentEmail:e}){var L;const n=xr(),[r,i]=S.useState("encouragement"),[s,o]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(""),[m,p]=S.useState(null),[v,w]=S.useState("normal"),{data:x=[]}=dt({queryKey:["messages",t,e],queryFn:async()=>{const $=dn(Bt),F=va(Pr($,"messages"),si("parent_email","==",e),si("child_email","==",t));return(await Ti(F)).docs.map(Y=>Y.data()).sort((Y,K)=>new Date(K.created_date)-new Date(Y.created_date))},initialData:[],enabled:!!t&&!!e}),g=x.filter($=>$.child_email===e&&!$.parent_read).length,_=Pn({mutationFn:async $=>{const F=dn(Bt);await qk(Pr(F,"messages"),{parent_email:e,child_email:t,message_type:$.type,subject:$.subject,message_text:$.text,priority:$.priority,reply_to_message_id:$.replyTo||null,is_read:!1,parent_read:!0,created_date:new Date().toISOString()})},onSuccess:()=>{n.invalidateQueries({queryKey:["messages"]}),n.invalidateQueries({queryKey:["unreadMessages"]}),o(""),c(""),f(""),p(null),w("normal")}}),T=Pn({mutationFn:async $=>{const F=dn(Bt);await Wle(Gi(F,"messages",$),{parent_read:!0})},onSuccess:()=>{n.invalidateQueries({queryKey:["messages"]}),n.invalidateQueries({queryKey:["unreadMessages"]})}}),A=Pn({mutationFn:async $=>{const F=dn(Bt);await Bk(Gi(F,"messages",$))},onSuccess:()=>{n.invalidateQueries({queryKey:["messages"]})}}),I={encouragement:[{subject:"You're Doing Great!",text:"I'm so proud of how hard you're working! Keep it up! "},{subject:"Amazing Progress!",text:"You're doing an amazing job! Your effort really shows! "},{subject:"Math Superstar",text:"Great progress today! You're a math superstar! "},{subject:"Keep Going!",text:"I love seeing you tackle these challenges! Keep going! "},{subject:"So Proud of You",text:"Your determination is inspiring! Way to go! "}],feedback:[{subject:"Nice Improvement!",text:"I noticed you're improving in addition. Excellent work!"},{subject:"Great Accuracy",text:"Your accuracy is getting better every day!"},{subject:"Love Your Effort",text:"I can see you're putting in great effort. Keep it up!"},{subject:"Wonderful Progress",text:"You're making wonderful progress. I'm proud of you!"}],reminder:[{subject:"Daily Challenge",text:"Don't forget to complete your daily challenge today! "},{subject:"Practice Time",text:"Remember to practice your multiplication today!"},{subject:"Almost There",text:"You're close to reaching your goal! Keep practicing! "},{subject:"Lesson Time",text:"Time to work on your assigned lesson! You've got this! "}],celebration:[{subject:"Congratulations!",text:"Congratulations on completing your goal! "},{subject:"Three Stars!",text:"You earned all 3 stars! Amazing! "},{subject:"Incredible Achievement",text:"What an incredible achievement! So proud! "},{subject:"Math Champion",text:"You're a math champion! Great job! "}],question:[{subject:"How's Math Going?",text:"How are you finding the math challenges? Any topics you'd like more help with?"},{subject:"Need Help?",text:"Is there anything you're struggling with? I'm here to help!"},{subject:"What's Your Favorite?",text:"What's your favorite math topic so far?"}]},P={encouragement:ig,feedback:Nt,reminder:ai,celebration:Ct,question:fc,response:Dv},C={encouragement:"from-pink-400 to-rose-500",feedback:"from-blue-400 to-purple-500",reminder:"from-yellow-400 to-orange-500",celebration:"from-green-400 to-emerald-500",question:"from-indigo-400 to-blue-500",response:"from-gray-400 to-slate-500"},E={low:"text-gray-500",normal:"text-blue-500",high:"text-red-500"},N=()=>{var $,F;s.trim()&&_.mutate({type:m?"response":r,text:s,subject:l||((F=($=I[r])==null?void 0:$[0])==null?void 0:F.subject)||"Message from Parent",priority:v,replyTo:m==null?void 0:m.id})},O=$=>{f($),o($.text),c($.subject)},D=$=>{p($),i("response"),c(`Re: ${$.subject}`),o(""),window.scrollTo({top:0,behavior:"smooth"})};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(fc,{className:"w-6 h-6 text-green-600"}),"Communication Center",g>0&&a.jsxs(je,{className:"bg-red-500 text-white animate-pulse",children:[g," New"]})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Send messages and receive responses from your child"})]})}),a.jsxs(Ue,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ai,{className:"w-5 h-5 text-blue-600"}),a.jsxs(ze,{className:"text-blue-800",children:[a.jsx("strong",{children:"Real-time messaging with your child!"})," Messages appear instantly in their inbox, and they can respond directly. Both of you will see notifications for new messages."]})]}),m&&a.jsxs(Ue,{className:"bg-purple-50 border-purple-300",children:[a.jsx(Dv,{className:"w-5 h-5 text-purple-600"}),a.jsx(ze,{className:"text-purple-800",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Replying to:"})," ",m.subject,a.jsxs("p",{className:"text-sm mt-1 italic",children:['"',m.message_text,'"']})]}),a.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>p(null),className:"text-purple-600",children:"Cancel"})]})})]}),a.jsxs(te,{className:"border-2 border-green-300",children:[a.jsx(_e,{className:"bg-green-50",children:a.jsx(Ne,{children:m?"Send Reply":"Send a Message"})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[!m&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"message_type",children:"Message Type"}),a.jsxs(ci,{value:r,onValueChange:i,children:[a.jsx(Wr,{children:a.jsx(ui,{})}),a.jsxs(Hr,{children:[a.jsx(Ze,{value:"encouragement",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ig,{className:"w-4 h-4"}),"Encouragement"]})}),a.jsx(Ze,{value:"feedback",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"w-4 h-4"}),"Feedback"]})}),a.jsx(Ze,{value:"reminder",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ai,{className:"w-4 h-4"}),"Reminder"]})}),a.jsx(Ze,{value:"celebration",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ct,{className:"w-4 h-4"}),"Celebration"]})}),a.jsx(Ze,{value:"question",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fc,{className:"w-4 h-4"}),"Question"]})})]})]})]}),!m&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{children:"Quick Templates"}),a.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-40 overflow-y-auto",children:(L=I[r])==null?void 0:L.map(($,F)=>a.jsx(oe,{variant:"outline",className:"justify-start text-left h-auto py-3 px-4",onClick:()=>O($),children:a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-sm",children:$.subject}),a.jsx("div",{className:"text-xs text-gray-600 mt-1",children:$.text})]})},F))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"subject",children:"Subject"}),a.jsx(an,{id:"subject",value:l,onChange:$=>c($.target.value),placeholder:"Message subject..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"message_text",children:"Message"}),a.jsx(Ed,{id:"message_text",value:s,onChange:$=>o($.target.value),placeholder:"Write your message...",rows:4,className:"resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"priority",children:"Priority"}),a.jsxs(ci,{value:v,onValueChange:w,children:[a.jsx(Wr,{children:a.jsx(ui,{})}),a.jsxs(Hr,{children:[a.jsx(Ze,{value:"low",children:"Low Priority"}),a.jsx(Ze,{value:"normal",children:"Normal"}),a.jsx(Ze,{value:"high",children:"High Priority"})]})]})]}),a.jsxs(oe,{onClick:N,disabled:!s.trim()||_.isPending,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:[a.jsx(Wz,{className:"w-4 h-4 mr-2"}),_.isPending?"Sending...":"Send Message"]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-bold text-lg",children:"Message History"}),a.jsxs(je,{variant:"outline",children:[x.length," Messages"]})]}),x.length===0?a.jsx(te,{className:"border-2 border-gray-200",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(fc,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"No messages yet"}),a.jsx("p",{className:"text-gray-500",children:"Start a conversation with your child!"})]})}):x.map($=>{const F=P[$.message_type]||fc,G=C[$.message_type]||"from-gray-400 to-gray-500",Y=$.child_email===e,K=Y&&!$.parent_read;return a.jsx(te,{className:`border-2 transition-all ${K?"border-blue-400 bg-blue-50 shadow-lg":"border-gray-200 hover:shadow-md"}`,children:a.jsx(ne,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full bg-gradient-to-br ${G} flex items-center justify-center flex-shrink-0`,children:a.jsx(F,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[a.jsx(je,{className:`bg-gradient-to-r ${G} text-white`,children:$.message_type}),Y&&a.jsxs(je,{className:"bg-purple-500 text-white",children:[a.jsx(Dv,{className:"w-3 h-3 mr-1"}),"Reply from child"]}),$.priority!=="normal"&&a.jsxs(je,{variant:"outline",className:E[$.priority],children:[a.jsx(dm,{className:"w-3 h-3 mr-1"}),$.priority]}),K&&a.jsx(je,{className:"bg-blue-500 text-white animate-pulse",children:"NEW"}),a.jsx("span",{className:"text-sm text-gray-500 ml-auto",children:hn(new Date($.created_date),"MMM d, h:mm a")})]}),a.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:$.subject}),a.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:$.message_text}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[Y&&a.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>D($),className:"text-purple-600 border-purple-300",children:[a.jsx(Dv,{className:"w-4 h-4 mr-1"}),"Reply"]}),K&&a.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>T.mutate($.id),className:"text-blue-600 border-blue-300",children:[a.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Mark as Read"]}),a.jsxs(oe,{size:"sm",variant:"ghost",onClick:()=>{confirm("Delete this message?")&&A.mutate($.id)},className:"text-red-600",children:[a.jsx(Hy,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]})})},$.id)})]}),a.jsxs(te,{className:"border-2 border-purple-200 bg-purple-50",children:[a.jsx(_e,{children:a.jsx(Ne,{className:"text-lg",children:"Quick Praise Buttons"})}),a.jsxs(ne,{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs(oe,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>{i("encouragement"),c("Great job today!"),o("Great job today! "),N()},children:[a.jsx(Nt,{className:"w-6 h-6 text-yellow-500"}),a.jsx("span",{className:"text-xs",children:"Great Job!"})]}),a.jsxs(oe,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>{i("encouragement"),c("I'm proud of you!"),o("I'm proud of you! "),N()},children:[a.jsx(ig,{className:"w-6 h-6 text-pink-500"}),a.jsx("span",{className:"text-xs",children:"Proud!"})]}),a.jsxs(oe,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>{i("encouragement"),c("Keep it up!"),o("Keep it up! "),N()},children:[a.jsx(Yme,{className:"w-6 h-6 text-blue-500"}),a.jsx("span",{className:"text-xs",children:"Keep Going!"})]}),a.jsxs(oe,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>{i("celebration"),c("Amazing work!"),o("Amazing work! "),N()},children:[a.jsx(Ct,{className:"w-6 h-6 text-green-500"}),a.jsx("span",{className:"text-xs",children:"Amazing!"})]})]})]})]})}function cVe({myChildren:t,parentEmail:e}){const n=xr(),[r,i]=S.useState(null),[s,o]=S.useState(""),l=Pn({mutationFn:async({childEmail:m,newName:p})=>{const v=dn(Bt),x=(await Ti(Pr(v,"users"))).docs.find(g=>g.data().email===m);if(!x)throw new Error("Child not found");await Fc(Gi(v,"users",x.id),{child_name:p},{merge:!0})},onSuccess:()=>{n.invalidateQueries({queryKey:["allUsers"]}),i(null),o("")}}),c=Pn({mutationFn:async m=>{const p=dn(Bt),w=(await Ti(Pr(p,"users"))).docs.find(x=>x.data().email===m);if(!w)throw new Error("Child not found");await Fc(Gi(p,"users",w.id),{parental_controls:{daily_time_limit:0,allowed_operations:["addition","subtraction","multiplication","division"],allowed_levels:["easy","medium","hard"],focus_operations:[],disabled_features:[]}},{merge:!0})},onSuccess:()=>{n.invalidateQueries({queryKey:["allUsers"]})}}),d=m=>{s.trim()&&l.mutate({childEmail:m,newName:s})},f=m=>{var w,x;const p=m.parental_controls&&Object.keys(m.parental_controls).length>0,v=p&&(m.parental_controls.daily_time_limit>0||((w=m.parental_controls.disabled_features)==null?void 0:w.length)>0||((x=m.parental_controls.allowed_operations)==null?void 0:x.length)<4);return{hasControls:p,hasRestrictions:v,status:v?"restricted":p?"monitored":"open"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(IA,{className:"w-6 h-6 text-purple-600"}),"Student Account Management"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage linked student accounts and their settings"})]}),a.jsxs(Ue,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ai,{className:"w-5 h-5 text-blue-600"}),a.jsxs(ze,{className:"text-blue-800",children:[a.jsx("strong",{children:"Managing Multiple Students:"})," You can monitor and control settings for all students linked to your account. Each student maintains their own progress and achievements while you guide their learning journey."]})]}),a.jsxs(te,{className:"border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Account Overview"}),a.jsxs(je,{className:"bg-purple-500 text-white text-lg px-4 py-2",children:[t.length," ",t.length===1?"Student":"Students"]})]})}),a.jsxs(ne,{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(rf,{className:"w-5 h-5 text-purple-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Active Students"})]}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t.length})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Bi,{className:"w-5 h-5 text-blue-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"With Controls"})]}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.filter(m=>f(m).hasControls).length})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ct,{className:"w-5 h-5 text-green-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Combined Stars"})]}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.reduce((m,p)=>m+(p.total_stars_earned||0),0)})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-bold text-lg",children:"Student Accounts"}),t.length===0?a.jsx(te,{className:"border-2 border-gray-200",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(IA,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Students Linked"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["Have your students add your email (",e,") as their parent/teacher email in their profile settings."]}),a.jsxs(Ue,{className:"bg-blue-50 border-blue-200 text-left",children:[a.jsx(ai,{className:"w-5 h-5 text-blue-600"}),a.jsxs(ze,{className:"text-blue-800",children:[a.jsx("strong",{children:"How students can link their account:"}),a.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Go to their Avatar/Profile page"}),a.jsx("li",{children:'Scroll to "Parent/Teacher Access" section'}),a.jsxs("li",{children:["Enter your email: ",a.jsx("strong",{children:e})]}),a.jsx("li",{children:"Click Save"})]})]})]})]})}):t.map(m=>{var _,T,A,I,P,C,E,N,O,D;const p=f(m),v={avatar_skin_tone:m.avatar_skin_tone||"medium",avatar_hair_style:m.avatar_hair_style||"short",avatar_hair_color:m.avatar_hair_color||"brown",avatar_eyes:m.avatar_eyes||"normal",avatar_outfit:m.avatar_outfit||"casual",avatar_accessory:m.avatar_accessory||"none"},w={open:"bg-green-100 text-green-700 border-green-300",monitored:"bg-blue-100 text-blue-700 border-blue-300",restricted:"bg-orange-100 text-orange-700 border-orange-300"},g={open:Ut,monitored:Bi,restricted:zr}[p.status];return a.jsx(te,{className:"border-2 border-gray-200 hover:shadow-lg transition-shadow",children:a.jsxs(ne,{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(of,{avatarData:v,size:"medium"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"text-xl font-bold",children:m.child_name||m.full_name||"Student"}),a.jsxs(je,{className:w[p.status],children:[a.jsx(g,{className:"w-3 h-3 mr-1"}),p.status]})]}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nf,{className:"w-4 h-4"}),a.jsx("span",{className:"truncate",children:m.email})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Joined ",hn(new Date(m.created_date),"MMM d, yyyy")]})]})]}),r===m.email?a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx(an,{placeholder:"Display name",value:s,onChange:L=>o(L.target.value),className:"w-full"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{size:"sm",onClick:()=>d(m.email),disabled:l.isPending,children:"Save"}),a.jsx(oe,{size:"sm",variant:"outline",onClick:()=>{i(null),o("")},children:"Cancel"})]})]}):a.jsxs(oe,{size:"sm",variant:"outline",className:"mt-3",onClick:()=>{i(m.email),o(m.child_name||"")},children:[a.jsx(Og,{className:"w-3 h-3 mr-1"}),"Edit Name"]})]})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Nt,{className:"w-4 h-4 text-yellow-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Stars"})]}),a.jsx("p",{className:"text-xl font-bold text-yellow-700",children:m.total_stars_earned||0})]}),a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Ct,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Coins"})]}),a.jsx("p",{className:"text-xl font-bold text-blue-700",children:m.coins||0})]}),a.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Bi,{className:"w-4 h-4 text-purple-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Badges"})]}),a.jsx("p",{className:"text-xl font-bold text-purple-700",children:((_=m.earned_badges)==null?void 0:_.length)||0})]}),a.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(_n,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Time Limit"})]}),a.jsxs("p",{className:"text-lg font-bold text-green-700",children:[((T=m.parental_controls)==null?void 0:T.daily_time_limit)||"",((A=m.parental_controls)==null?void 0:A.daily_time_limit)>0&&"m"]})]})]})]}),p.hasControls&&a.jsxs("div",{className:"mt-4 pt-4 border-t",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-bold text-sm",children:"Active Controls:"}),a.jsx(oe,{size:"sm",variant:"outline",onClick:()=>{confirm("Reset all parental controls for this student?")&&c.mutate(m.email)},children:"Reset Controls"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[((I=m.parental_controls)==null?void 0:I.daily_time_limit)>0&&a.jsxs(je,{variant:"outline",className:"justify-start",children:[a.jsx(_n,{className:"w-3 h-3 mr-1"}),m.parental_controls.daily_time_limit,"m/day"]}),((C=(P=m.parental_controls)==null?void 0:P.allowed_operations)==null?void 0:C.length)<4&&a.jsxs(je,{variant:"outline",className:"justify-start",children:[a.jsx(yd,{className:"w-3 h-3 mr-1"}),4-m.parental_controls.allowed_operations.length," ops blocked"]}),((N=(E=m.parental_controls)==null?void 0:E.focus_operations)==null?void 0:N.length)>0&&a.jsxs(je,{variant:"outline",className:"justify-start bg-purple-50",children:[a.jsx(Nt,{className:"w-3 h-3 mr-1"}),m.parental_controls.focus_operations.length," focus areas"]}),((D=(O=m.parental_controls)==null?void 0:O.disabled_features)==null?void 0:D.length)>0&&a.jsxs(je,{variant:"outline",className:"justify-start",children:[a.jsx(yd,{className:"w-3 h-3 mr-1"}),m.parental_controls.disabled_features.length," features disabled"]})]})]})]})},m.email)})]}),a.jsxs(te,{className:"border-2 border-blue-200 bg-blue-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(ai,{className:"w-5 h-5 text-blue-600"}),"Account Management Tips"]})}),a.jsxs(ne,{className:"space-y-3 text-sm text-blue-900",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Adding Students:"})," Have each student add your email in their profile settings to link their account to yours."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Display Names:"})," Set custom display names to easily identify students (especially useful for teachers with multiple students)."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Controls:"}),' Each student can have individual parental controls. Configure them in the "Controls" tab.']}),a.jsxs("p",{children:[a.jsx("strong",{children:"Privacy:"})," Students cannot see messages between their account and yours. All communication is one-way (parent to child)."]})]})]})]})}function uVe({childEmail:t,childProgress:e,childDailyChallenges:n}){var P,C;const[r,i]=S.useState("week"),[s,o]=S.useState("all"),c=(()=>{let E;const N=new Date;switch(r){case"week":E=bd(N);break;case"month":E=AK(N);break;case"all":E=new Date(0);break;default:E=$N(N,7)}const O=e.filter(D=>new Date(D.created_date)>=E);return s==="all"?O:O.filter(D=>D.operation===s)})(),d=()=>{const E={};return Array.from({length:7},(N,O)=>{const D=hn($N(new Date,6-O),"yyyy-MM-dd");return E[D]={date:hn($N(new Date,6-O),"EEE"),games:0,accuracy:0,totalQuestions:0,correctAnswers:0},D}),c.forEach(N=>{const O=hn(new Date(N.created_date),"yyyy-MM-dd");E[O]&&(E[O].games++,E[O].totalQuestions+=N.total_questions,E[O].correctAnswers+=N.correct_answers)}),Object.values(E).map(N=>({...N,accuracy:N.totalQuestions>0?Math.round(N.correctAnswers/N.totalQuestions*100):0}))},f=()=>{const E={addition:0,subtraction:0,multiplication:0,division:0};return c.forEach(N=>{E[N.operation]!==void 0&&E[N.operation]++}),Object.entries(E).map(([N,O])=>({name:N.charAt(0).toUpperCase()+N.slice(1),value:O,color:N==="addition"?"#10b981":N==="subtraction"?"#3b82f6":N==="multiplication"?"#8b5cf6":"#f59e0b"}))},m=()=>{const E={addition:{total:0,correct:0},subtraction:{total:0,correct:0},multiplication:{total:0,correct:0},division:{total:0,correct:0}};return c.forEach(N=>{E[N.operation]&&(E[N.operation].total+=N.total_questions,E[N.operation].correct+=N.correct_answers)}),Object.entries(E).map(([N,O])=>({skill:N.charAt(0).toUpperCase()+N.slice(1),score:O.total>0?Math.round(O.correct/O.total*100):0}))},p=()=>{const E={Morning:0,Afternoon:0,Evening:0,Night:0};return c.forEach(N=>{const O=new Date(N.created_date).getHours();O>=6&&O<12?E.Morning++:O>=12&&O<17?E.Afternoon++:O>=17&&O<21?E.Evening++:E.Night++}),Object.entries(E).map(([N,O])=>({name:N,games:O}))},v=()=>c.slice(-10).reverse().map((N,O)=>({game:`Game ${O+1}`,accuracy:Math.round(N.correct_answers/N.total_questions*100),speed:N.time_taken})),w=()=>{if(c.length===0)return{totalGames:0,avgAccuracy:0,avgSpeed:0,totalStars:0,improvementRate:0};const E=c.length,N=Math.round(c.reduce((K,X)=>K+X.correct_answers/X.total_questions*100,0)/E),O=Math.round(c.reduce((K,X)=>K+X.time_taken,0)/E),D=c.reduce((K,X)=>K+(X.stars_earned||0),0),L=c.slice(0,5),$=c.slice(5,10),F=L.length>0?L.reduce((K,X)=>K+X.correct_answers/X.total_questions*100,0)/L.length:0,G=$.length>0?$.reduce((K,X)=>K+X.correct_answers/X.total_questions*100,0)/$.length:0,Y=G>0?Math.round((F-G)/G*100):0;return{totalGames:E,avgAccuracy:N,avgSpeed:O,totalStars:D,improvementRate:Y}},x=d(),g=f(),_=m(),T=p(),A=v(),I=w();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Sf,{className:"w-6 h-6 text-purple-600"}),"Advanced Analytics Dashboard"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Comprehensive performance insights and trends"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ci,{value:r,onValueChange:i,children:[a.jsx(Wr,{className:"w-32",children:a.jsx(ui,{})}),a.jsxs(Hr,{children:[a.jsx(Ze,{value:"week",children:"This Week"}),a.jsx(Ze,{value:"month",children:"This Month"}),a.jsx(Ze,{value:"all",children:"All Time"})]})]}),a.jsxs(ci,{value:s,onValueChange:o,children:[a.jsx(Wr,{className:"w-32",children:a.jsx(ui,{})}),a.jsxs(Hr,{children:[a.jsx(Ze,{value:"all",children:"All Ops"}),a.jsx(Ze,{value:"addition",children:"Addition"}),a.jsx(Ze,{value:"subtraction",children:"Subtraction"}),a.jsx(Ze,{value:"multiplication",children:"Multiplication"}),a.jsx(Ze,{value:"division",children:"Division"})]})]}),a.jsx(oe,{variant:"outline",size:"icon",children:a.jsx(_me,{className:"w-4 h-4"})}),a.jsxs(oe,{variant:"outline",children:[a.jsx(Ig,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsx(te,{className:"border-2 border-blue-200",children:a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Qt,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Games"})]}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:I.totalGames})]})}),a.jsx(te,{className:"border-2 border-green-200",children:a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Gr,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Accuracy"})]}),a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[I.avgAccuracy,"%"]})]})}),a.jsx(te,{className:"border-2 border-purple-200",children:a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(_n,{className:"w-5 h-5 text-purple-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Speed"})]}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[I.avgSpeed,"s"]})]})}),a.jsx(te,{className:"border-2 border-yellow-200",children:a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Gr,{className:"w-5 h-5 text-yellow-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Stars"})]}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:I.totalStars})]})}),a.jsx(te,{className:`border-2 ${I.improvementRate>=0?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[I.improvementRate>=0?a.jsx(gn,{className:"w-5 h-5 text-green-600"}):a.jsx(Vc,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Trend"})]}),a.jsxs("p",{className:`text-3xl font-bold ${I.improvementRate>=0?"text-green-600":"text-red-600"}`,children:[I.improvementRate>0?"+":"",I.improvementRate,"%"]})]})})]}),a.jsx(te,{className:"border-2 border-purple-200",children:a.jsx(ne,{className:"p-6",children:a.jsxs(Kc,{defaultValue:"activity",className:"w-full",children:[a.jsxs(xl,{className:"grid w-full grid-cols-5 mb-6",children:[a.jsx(St,{value:"activity",children:"Activity"}),a.jsx(St,{value:"skills",children:"Skills"}),a.jsx(St,{value:"distribution",children:"Distribution"}),a.jsx(St,{value:"trends",children:"Trends"}),a.jsx(St,{value:"time",children:"Time"})]}),a.jsx(Dt,{value:"activity",children:a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Daily Activity (Last 7 Days)"})}),a.jsx(ne,{children:a.jsx(Wa,{width:"100%",height:350,children:a.jsxs(w$e,{data:x,children:[a.jsx(tl,{strokeDasharray:"3 3"}),a.jsx(ps,{dataKey:"date"}),a.jsx(xi,{yAxisId:"left"}),a.jsx(xi,{yAxisId:"right",orientation:"right"}),a.jsx(mr,{}),a.jsx(Hi,{}),a.jsx(vl,{yAxisId:"left",type:"monotone",dataKey:"games",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6,name:"Games Played"}),a.jsx(vl,{yAxisId:"right",type:"monotone",dataKey:"accuracy",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Accuracy %"})]})})})]})}),a.jsx(Dt,{value:"skills",children:a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Skills Assessment"})}),a.jsx(ne,{children:a.jsx(Wa,{width:"100%",height:400,children:a.jsxs(b$e,{data:_,children:[a.jsx(cX,{}),a.jsx(Pm,{dataKey:"skill"}),a.jsx(Am,{domain:[0,100]}),a.jsx(u0,{name:"Accuracy %",dataKey:"score",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6}),a.jsx(mr,{})]})})})]})}),a.jsx(Dt,{value:"distribution",children:a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Operation Distribution"})}),a.jsx(ne,{children:a.jsx(Wa,{width:"100%",height:400,children:a.jsxs(x$e,{children:[a.jsx(Pl,{data:g,cx:"50%",cy:"50%",labelLine:!1,label:E=>`${E.name}: ${E.value}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:g.map((E,N)=>a.jsx(L1,{fill:E.color},`cell-${N}`))}),a.jsx(mr,{})]})})})]})}),a.jsx(Dt,{value:"trends",children:a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Recent Performance Trend"})}),a.jsx(ne,{children:a.jsx(Wa,{width:"100%",height:350,children:a.jsxs(i_,{data:A,children:[a.jsx(tl,{strokeDasharray:"3 3"}),a.jsx(ps,{dataKey:"game"}),a.jsx(xi,{yAxisId:"left"}),a.jsx(xi,{yAxisId:"right",orientation:"right"}),a.jsx(mr,{}),a.jsx(Hi,{}),a.jsx(wa,{yAxisId:"left",type:"monotone",dataKey:"accuracy",stroke:"#10b981",strokeWidth:3,name:"Accuracy %"}),a.jsx(wa,{yAxisId:"right",type:"monotone",dataKey:"speed",stroke:"#f59e0b",strokeWidth:3,name:"Speed (seconds)"})]})})})]})}),a.jsx(Dt,{value:"time",children:a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Time of Day Analysis"})}),a.jsxs(ne,{children:[a.jsx(Wa,{width:"100%",height:350,children:a.jsxs(RC,{data:T,children:[a.jsx(tl,{strokeDasharray:"3 3"}),a.jsx(ps,{dataKey:"name"}),a.jsx(xi,{}),a.jsx(mr,{}),a.jsx(Hi,{}),a.jsx(da,{dataKey:"games",fill:"#8b5cf6",name:"Games Played"})]})}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-gray-600 mb-1",children:"Most Active Time"}),a.jsx("p",{className:"font-bold text-blue-700",children:((P=T.reduce((E,N)=>N.games>E.games?N:E,T[0]))==null?void 0:P.name)||"N/A"})]}),a.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-gray-600 mb-1",children:"Recommended Practice Time"}),a.jsx("p",{className:"font-bold text-purple-700",children:((C=T.reduce((E,N)=>N.games>E.games?N:E,T[0]))==null?void 0:C.name)||"N/A"})]})]})]})]})})]})})})]})}function $Z(){const t=xr(),[e,n]=S.useState(null),[r,i]=S.useState("overview"),{data:s}=dt({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:o=[]}=dt({queryKey:["allUsers"],queryFn:()=>base44.entities.User.list(),initialData:[]}),l=o.filter(x=>x.parent_email===(s==null?void 0:s.email)),{data:c=[]}=dt({queryKey:["childProgress",e],queryFn:()=>base44.entities.GameProgress.filter({created_by:e}),initialData:[],enabled:!!e}),{data:d=[]}=dt({queryKey:["childDailyChallenges",e],queryFn:()=>base44.entities.DailyChallenge.filter({created_by:e}),initialData:[],enabled:!!e}),{data:f=[]}=dt({queryKey:["childGoals",e],queryFn:()=>base44.entities.CustomGoal.filter({child_email:e}),initialData:[],enabled:!!e}),m=Pn({mutationFn:x=>base44.auth.updateMe({is_parent_mode:x}),onSuccess:()=>{t.invalidateQueries({queryKey:["currentUser"]})}}),p=l.find(x=>x.email===e),v=o.find(x=>x.email===e),w=(s==null?void 0:s.is_premium_parent)||(s==null?void 0:s.is_family_teacher);return s!=null&&s.is_parent_mode?w?a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Parent & Teacher Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive learning management & monitoring"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(oe,{variant:"outline",onClick:()=>window.open(Xe("Subscription"),"_blank","noopener,noreferrer"),children:[a.jsx(a1,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]}),a.jsxs(oe,{variant:"outline",onClick:()=>m.mutate(!1),children:[a.jsx(Og,{className:"w-4 h-4 mr-2"}),"Exit Parent Mode"]}),a.jsxs(oe,{className:"bg-gradient-to-r from-yellow-400 to-orange-500",onClick:()=>window.open(Xe("Subscription"),"_blank","noopener,noreferrer"),children:[a.jsx(bi,{className:"w-4 h-4 mr-2"}),(s==null?void 0:s.subscription_tier)==="family_teacher"?"Family Plan":"Premium"]})]})]}),a.jsx("div",{className:"mb-8",children:a.jsx(cFe,{myChildren:l,selectedChildEmail:e,onSelectChild:n,currentUserEmail:s==null?void 0:s.email})}),p?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[a.jsx(te,{className:"border-2 border-blue-200 hover:shadow-lg transition-all cursor-pointer hover:scale-105",onClick:()=>i("communication"),children:a.jsxs(ne,{className:"p-4 text-center",children:[a.jsx(Jhe,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),a.jsx("h3",{className:"font-bold text-sm",children:"Quick Message"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Send encouragement"})]})}),a.jsx(te,{className:"border-2 border-green-200 hover:shadow-lg transition-all cursor-pointer hover:scale-105",onClick:()=>i("lessons"),children:a.jsxs(ne,{className:"p-4 text-center",children:[a.jsx(xfe,{className:"w-8 h-8 mx-auto mb-2 text-green-600"}),a.jsx("h3",{className:"font-bold text-sm",children:"New Assignment"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Create lesson"})]})}),a.jsx(te,{className:"border-2 border-purple-200 hover:shadow-lg transition-all cursor-pointer hover:scale-105",onClick:()=>i("analytics"),children:a.jsxs(ne,{className:"p-4 text-center",children:[a.jsx(Sf,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),a.jsx("h3",{className:"font-bold text-sm",children:"View Report"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Generate PDF"})]})}),a.jsx(te,{className:"border-2 border-orange-200 hover:shadow-lg transition-all cursor-pointer hover:scale-105",onClick:()=>i("goals"),children:a.jsxs(ne,{className:"p-4 text-center",children:[a.jsx(Qt,{className:"w-8 h-8 mx-auto mb-2 text-orange-600"}),a.jsx("h3",{className:"font-bold text-sm",children:"Set Goal"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"New challenge"})]})})]}),a.jsx(uFe,{childProgress:c,childDailyChallenges:d,selectedChild:p}),a.jsx(te,{className:"border-2 border-purple-200 shadow-lg",children:a.jsx(ne,{className:"p-6",children:a.jsxs(Kc,{value:r,onValueChange:i,className:"w-full",children:[a.jsxs(xl,{className:"grid w-full grid-cols-4 lg:grid-cols-8 mb-6",children:[a.jsxs(St,{value:"overview",children:[a.jsx(Sf,{className:"w-4 h-4 mr-2"}),"Overview"]}),a.jsxs(St,{value:"analytics",children:[a.jsx(gn,{className:"w-4 h-4 mr-2"}),"Analytics"]}),a.jsxs(St,{value:"lessons",children:[a.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Lessons"]}),a.jsxs(St,{value:"goals",children:[a.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Goals"]}),a.jsxs(St,{value:"communication",children:[a.jsx(fc,{className:"w-4 h-4 mr-2"}),"Messages"]}),a.jsxs(St,{value:"team",children:[a.jsx(vr,{className:"w-4 h-4 mr-2"}),"Team"]}),a.jsxs(St,{value:"controls",children:[a.jsx(Bi,{className:"w-4 h-4 mr-2"}),"Controls"]}),a.jsxs(St,{value:"accounts",children:[a.jsx(IA,{className:"w-4 h-4 mr-2"}),"Accounts"]})]}),a.jsxs(Dt,{value:"overview",className:"space-y-6",children:[a.jsx(dFe,{childProgress:c,childDailyChallenges:d}),a.jsx(YFe,{childProgress:c,childDailyChallenges:d})]}),a.jsx(Dt,{value:"analytics",className:"space-y-6",children:a.jsx(uVe,{childEmail:e,childProgress:c,childDailyChallenges:d})}),a.jsx(Dt,{value:"lessons",className:"space-y-6",children:a.jsx(oVe,{childEmail:e,childProgress:c})}),a.jsx(Dt,{value:"goals",className:"space-y-6",children:a.jsx(KFe,{childEmail:e,childGoals:f,childProgress:c,childDailyChallenges:d})}),a.jsx(Dt,{value:"communication",className:"space-y-6",children:a.jsx(lVe,{childEmail:e,parentEmail:s==null?void 0:s.email})}),a.jsx(Dt,{value:"team",className:"space-y-6",children:a.jsx(eVe,{})}),a.jsx(Dt,{value:"controls",className:"space-y-6",children:a.jsx(aVe,{childEmail:e,currentControls:(v==null?void 0:v.parental_controls)||{}})}),a.jsx(Dt,{value:"accounts",className:"space-y-6",children:a.jsx(cVe,{myChildren:l,parentEmail:s==null?void 0:s.email})})]})})})]}):a.jsx(te,{className:"border-2 border-gray-200",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(vr,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Child Selected"}),a.jsx("p",{className:"text-gray-600 mb-6",children:l.length>0?"Select a child from above to view their progress":"Add a child account to start monitoring their progress"}),l.length===0&&a.jsxs(Ue,{className:"bg-blue-50 border-blue-200 text-left",children:[a.jsx(ai,{className:"w-5 h-5 text-blue-600"}),a.jsxs(ze,{className:"text-blue-800",children:[a.jsx("strong",{children:"How to add a child:"}),a.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Have your child create an account"}),a.jsx("li",{children:"In their account settings, they can add your email as their parent"}),a.jsx("li",{children:"Their progress will then appear in your portal"})]})]})]})]})})]}):a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsxs(te,{className:"border-4 border-yellow-300 shadow-2xl",children:[a.jsxs(_e,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-center py-12",children:[a.jsx(bi,{className:"w-20 h-20 mx-auto mb-4"}),a.jsx(Ne,{className:"text-4xl mb-2",children:"Unlock Premium Parent Features"}),a.jsx("p",{className:"text-xl opacity-90",children:"Get full access to advanced parental controls and analytics"})]}),a.jsxs(ne,{className:"p-8 space-y-6",children:[a.jsxs(Ue,{className:"bg-blue-50 border-blue-200",children:[a.jsx(Bi,{className:"w-5 h-5 text-blue-600"}),a.jsxs(ze,{className:"text-blue-800",children:[a.jsx("strong",{children:"Premium Parent Subscription Includes:"}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Advanced parental controls (time limits, content filtering)"}),a.jsx("li",{children:"Detailed progress analytics and performance insights"}),a.jsx("li",{children:"Custom goal setting and weekly/monthly reports"}),a.jsx("li",{children:"Focus topic recommendations"}),a.jsx("li",{children:"Feature access management"}),a.jsx("li",{children:"Lesson assignment capabilities"}),a.jsx("li",{children:"Communication center with your child"}),a.jsx("li",{children:"Student account management tools"})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs(oe,{className:"h-14 px-8 text-lg bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600",onClick:()=>window.open(Xe("Subscription"),"_blank","noopener,noreferrer"),children:[a.jsx(bi,{className:"w-5 h-5 mr-2"}),"View Subscription Plans"]}),a.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Starting at $7.99/month  Cancel anytime"})]})]})]})}):a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsxs(te,{className:"border-4 border-purple-300 shadow-2xl",children:[a.jsxs(_e,{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx(Ne,{className:"text-4xl mb-2",children:"Parent & Teacher Portal"}),a.jsx("p",{className:"text-xl opacity-90",children:"Monitor and guide your child's learning journey"})]}),a.jsxs(ne,{className:"p-8 space-y-6",children:[a.jsxs(Ue,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ai,{className:"w-5 h-5 text-blue-600"}),a.jsxs(ze,{className:"text-blue-800",children:[a.jsx("strong",{children:"Welcome to the Parent Portal!"})," This feature allows you to:",a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"View detailed progress across all game modes"}),a.jsx("li",{children:"Track performance trends and identify strengths/weaknesses"}),a.jsx("li",{children:"Set custom goals and challenges"}),a.jsx("li",{children:"Monitor daily challenge participation"}),a.jsx("li",{children:"Control app usage and customize learning focus"}),a.jsx("li",{children:"Set time limits and manage feature access"}),a.jsx("li",{children:"Assign specific lessons and practice areas"}),a.jsx("li",{children:"Communicate directly with your child"}),a.jsx("li",{children:"Manage multiple student accounts"})]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl border-2 border-purple-200",children:[a.jsx(gn,{className:"w-12 h-12 mx-auto mb-3 text-purple-600"}),a.jsx("h3",{className:"font-bold mb-2",children:"Track Progress"}),a.jsx("p",{className:"text-sm text-gray-600",children:"See detailed statistics and performance trends"})]}),a.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border-2 border-blue-200",children:[a.jsx(Qt,{className:"w-12 h-12 mx-auto mb-3 text-blue-600"}),a.jsx("h3",{className:"font-bold mb-2",children:"Assign Lessons"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Create custom lessons and practice goals"})]}),a.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-xl border-2 border-green-200",children:[a.jsx(fc,{className:"w-12 h-12 mx-auto mb-3 text-green-600"}),a.jsx("h3",{className:"font-bold mb-2",children:"Communicate"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Send feedback and encouragement"})]})]}),a.jsxs("div",{className:"text-center pt-4",children:[a.jsxs(oe,{onClick:()=>m.mutate(!0),className:"h-14 px-8 text-lg bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600",disabled:m.isPending,children:[a.jsx(vr,{className:"w-5 h-5 mr-2"}),m.isPending?"Enabling...":"Enable Parent Mode"]}),a.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"You can switch back to regular mode anytime"})]})]})]})})}function dVe({badge:t,size:e="medium"}){if(!t)return null;const n={small:"w-8 h-8 text-lg",medium:"w-12 h-12 text-2xl",large:"w-20 h-20 text-4xl"},r=n[e]||n.medium;return a.jsxs("div",{className:"relative inline-block",children:[a.jsx("div",{className:`${r} rounded-full bg-gradient-to-br ${t.gradient} flex items-center justify-center shadow-lg border-2 border-white`,children:a.jsx("span",{children:t.emoji})}),e!=="small"&&a.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 whitespace-nowrap",children:a.jsx(je,{variant:"outline",className:"text-xs bg-white",children:t.name})})]})}const oU=[{day:1,stars:5,coins:20,emoji:""},{day:2,stars:5,coins:25,emoji:""},{day:3,stars:10,coins:30,emoji:""},{day:4,stars:10,coins:35,emoji:""},{day:5,stars:15,coins:50,emoji:""},{day:6,stars:15,coins:60,emoji:""},{day:7,stars:25,coins:100,emoji:"",special:"Bonus Pet Food!"}];function hVe(){const t=xr(),[e,n]=S.useState(!1),{data:r}=dt({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),i=Pn({mutationFn:async()=>{var I;const v=hn(qi(new Date),"yyyy-MM-dd"),x=((r==null?void 0:r.daily_login_streak)||0)+1,g=(x-1)%7+1,_=oU[g-1],T={last_login_date:v,daily_login_streak:x,total_login_days:((r==null?void 0:r.total_login_days)||0)+1,coins:((r==null?void 0:r.coins)||0)+_.coins};if(g===7&&(r!=null&&r.active_pet)){const P=((I=r==null?void 0:r.pet_experience)==null?void 0:I[r.active_pet])||0;T.pet_experience={...(r==null?void 0:r.pet_experience)||{},[r.active_pet]:P+200}}const A=dn(Bt);await Fc(Gi(A,"users",r.email),T,{merge:!0})},onSuccess:()=>{t.invalidateQueries({queryKey:["currentUser"]}),n(!0),setTimeout(()=>n(!1),3e3)}}),s=()=>{if(!r)return!1;const v=hn(qi(new Date),"yyyy-MM-dd"),w=r.last_login_date;if(!w)return!0;if(w===v)return!1;const x=new Date(w),g=qi(new Date);return U6(g,x)===1},o=()=>{if(!(r!=null&&r.last_login_date))return!1;const v=new Date(r.last_login_date),w=qi(new Date);return U6(w,v)>1},l=()=>r!=null&&r.daily_login_streak?(r.daily_login_streak-1)%7+1:1,c=()=>{if(!(r!=null&&r.last_login_date))return!1;const v=hn(qi(new Date),"yyyy-MM-dd");return r.last_login_date===v},d=(r==null?void 0:r.daily_login_streak)||0,f=l(),m=c(),p=o();return a.jsxs(te,{className:"border-4 border-purple-300 shadow-xl bg-gradient-to-br from-purple-50 to-pink-50",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hn,{className:"w-6 h-6"}),a.jsx("span",{children:"Daily Login Rewards"})]}),a.jsxs(je,{className:"bg-white text-purple-600 font-bold",children:[a.jsx(Yt,{className:"w-4 h-4 mr-1"}),d," Day Streak"]})]})}),a.jsxs(ne,{className:"p-6",children:[e&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border-2 border-green-300 rounded-xl animate-pulse",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-4xl",children:""}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-green-800",children:"Reward Claimed!"}),a.jsx("p",{className:"text-sm text-green-700",children:"Come back tomorrow for more rewards!"})]})]})}),p&&a.jsx("div",{className:"mb-4 p-4 bg-orange-50 border-2 border-orange-300 rounded-xl",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-3xl",children:""}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-orange-800",children:"Streak Reset!"}),a.jsx("p",{className:"text-sm text-orange-700",children:"You missed a day. Start a new streak today!"})]})]})}),a.jsx("div",{className:"grid grid-cols-7 gap-2 mb-6",children:oU.map((v,w)=>{const x=w+1,g=x===f,_=!p&&d>=x,T=m&&x===f;return a.jsxs("div",{className:`relative p-3 rounded-xl text-center transition-all ${T?"bg-green-100 border-2 border-green-400 scale-105":g&&!m?"bg-purple-100 border-2 border-purple-400 scale-105 animate-pulse":_?"bg-gray-100 border-2 border-gray-300":"bg-white border-2 border-gray-200 opacity-60"}`,children:[a.jsx("div",{className:"text-2xl mb-1",children:v.emoji}),a.jsxs("div",{className:"text-xs font-bold mb-1",children:["Day ",x]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs",children:[a.jsx(Nt,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),a.jsx("span",{children:v.stars})]}),a.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs",children:[a.jsx(Pc,{className:"w-3 h-3 text-blue-500"}),a.jsx("span",{children:v.coins})]})]}),T&&a.jsx("div",{className:"absolute -top-1 -right-1",children:a.jsx(Ut,{className:"w-5 h-5 text-green-500 fill-green-100"})}),!g&&!_&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10 rounded-xl",children:a.jsx(oi,{className:"w-4 h-4 text-gray-500"})}),v.special&&g&&a.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 whitespace-nowrap",children:a.jsx(je,{className:"bg-orange-500 text-white text-xs",children:v.special})})]},x)})}),a.jsxs("div",{className:"space-y-3",children:[m?a.jsxs("div",{className:"text-center p-4 bg-green-50 border-2 border-green-200 rounded-xl",children:[a.jsx(Ut,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),a.jsx("p",{className:"font-bold text-green-800",children:"Already claimed today!"}),a.jsx("p",{className:"text-sm text-green-700",children:"Come back tomorrow for more rewards"})]}):p?a.jsxs(oe,{onClick:()=>i.mutate(),disabled:i.isPending,className:"w-full h-14 text-lg bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600",children:[a.jsx(kA,{className:"w-5 h-5 mr-2"}),"Start New Streak & Claim Day 1"]}):a.jsxs(oe,{onClick:()=>i.mutate(),disabled:!s()||i.isPending,className:"w-full h-14 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(kA,{className:"w-5 h-5 mr-2"}),"Claim Day ",f," Reward"]}),a.jsxs("div",{className:"text-center text-sm text-gray-600",children:[a.jsxs("p",{children:[" Total Login Days: ",a.jsx("strong",{children:(r==null?void 0:r.total_login_days)||0})]}),a.jsx("p",{className:"mt-1",children:" Log in every day to keep your streak and earn bigger rewards!"})]})]})]})]})}const lx={pets:[{id:"dragon",name:"Dragon",emoji:"",price:50,gradient:"from-red-400 to-orange-500",evolveLevel:5,description:"Breathe fire and soar!"},{id:"unicorn",name:"Unicorn",emoji:"",price:50,gradient:"from-pink-400 to-purple-500",evolveLevel:5,description:"Magical and sparkly!"},{id:"owl",name:"Owl",emoji:"",price:50,gradient:"from-indigo-400 to-purple-500",evolveLevel:5,description:"Wise and clever!"},{id:"fox",name:"Fox",emoji:"",price:50,gradient:"from-orange-400 to-red-500",evolveLevel:5,description:"Cunning and quick!"},{id:"cat",name:"Cat",emoji:"",price:50,gradient:"from-gray-400 to-slate-500",evolveLevel:5,description:"Playful and curious!"},{id:"dog",name:"Dog",emoji:"",price:50,gradient:"from-yellow-400 to-orange-500",evolveLevel:5,description:"Loyal and friendly!"}],avatarItems:[{id:"curly",name:"Curly Hair",emoji:"",price:20,category:"hair",type:"avatar_hair_style"},{id:"spiky",name:"Spiky Hair",emoji:"",price:20,category:"hair",type:"avatar_hair_style"},{id:"ponytail",name:"Ponytail",emoji:"",price:25,category:"hair",type:"avatar_hair_style"},{id:"braids",name:"Braids",emoji:"",price:25,category:"hair",type:"avatar_hair_style"},{id:"afro",name:"Afro",emoji:"",price:30,category:"hair",type:"avatar_hair_style"},{id:"mohawk",name:"Mohawk",emoji:"",price:30,category:"hair",type:"avatar_hair_style"},{id:"bun",name:"Bun",emoji:"",price:25,category:"hair",type:"avatar_hair_style"},{id:"red",name:"Red Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"blue",name:"Blue Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"pink",name:"Pink Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"purple",name:"Purple Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"green",name:"Green Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"orange",name:"Orange Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"white",name:"White Hair",emoji:"",price:20,category:"hair",type:"avatar_hair_color"},{id:"rainbow",name:"Rainbow Hair",emoji:"",price:40,category:"hair",type:"avatar_hair_color"},{id:"hoodie",name:"Hoodie",emoji:"",price:30,category:"clothing",type:"avatar_shirt"},{id:"tank_top",name:"Tank Top",emoji:"",price:25,category:"clothing",type:"avatar_shirt"},{id:"sweater",name:"Sweater",emoji:"",price:30,category:"clothing",type:"avatar_shirt"},{id:"jersey",name:"Jersey",emoji:"",price:35,category:"clothing",type:"avatar_shirt"},{id:"button_up",name:"Button Up",emoji:"",price:35,category:"clothing",type:"avatar_shirt"},{id:"graphic_tee",name:"Graphic Tee",emoji:"",price:30,category:"clothing",type:"avatar_shirt"},{id:"t_shirt_stripe",name:"Striped Tee",emoji:"",price:25,category:"clothing",type:"avatar_shirt"},{id:"polo",name:"Polo Shirt",emoji:"",price:30,category:"clothing",type:"avatar_shirt"},{id:"shorts",name:"Shorts",emoji:"",price:25,category:"clothing",type:"avatar_pants"},{id:"skirt",name:"Skirt",emoji:"",price:25,category:"clothing",type:"avatar_pants"},{id:"dress_pants",name:"Dress Pants",emoji:"",price:30,category:"clothing",type:"avatar_pants"},{id:"joggers",name:"Joggers",emoji:"",price:30,category:"clothing",type:"avatar_pants"},{id:"overalls",name:"Overalls",emoji:"",price:35,category:"clothing",type:"avatar_pants"},{id:"leggings",name:"Leggings",emoji:"",price:25,category:"clothing",type:"avatar_pants"},{id:"cargo_pants",name:"Cargo Pants",emoji:"",price:30,category:"clothing",type:"avatar_pants"},{id:"boots",name:"Boots",emoji:"",price:30,category:"clothing",type:"avatar_shoes"},{id:"sandals",name:"Sandals",emoji:"",price:20,category:"clothing",type:"avatar_shoes"},{id:"dress_shoes",name:"Dress Shoes",emoji:"",price:35,category:"clothing",type:"avatar_shoes"},{id:"high_tops",name:"High Tops",emoji:"",price:35,category:"clothing",type:"avatar_shoes"},{id:"cleats",name:"Cleats",emoji:"",price:35,category:"clothing",type:"avatar_shoes"},{id:"slippers",name:"Slippers",emoji:"",price:20,category:"clothing",type:"avatar_shoes"},{id:"baseball_cap",name:"Baseball Cap",emoji:"",price:25,category:"accessories",type:"avatar_hat"},{id:"beanie",name:"Beanie",emoji:"",price:25,category:"accessories",type:"avatar_hat"},{id:"sun_hat",name:"Sun Hat",emoji:"",price:25,category:"accessories",type:"avatar_hat"},{id:"wizard_hat",name:"Wizard Hat",emoji:"",price:40,category:"accessories",type:"avatar_hat"},{id:"party_hat",name:"Party Hat",emoji:"",price:30,category:"accessories",type:"avatar_hat"},{id:"graduation_cap",name:"Graduation Cap",emoji:"",price:35,category:"accessories",type:"avatar_hat"},{id:"crown",name:"Crown",emoji:"",price:50,category:"accessories",type:"avatar_hat"},{id:"top_hat",name:"Top Hat",emoji:"",price:35,category:"accessories",type:"avatar_hat"},{id:"cowboy_hat",name:"Cowboy Hat",emoji:"",price:30,category:"accessories",type:"avatar_hat"},{id:"regular",name:"Glasses",emoji:"",price:25,category:"accessories",type:"avatar_glasses"},{id:"sunglasses",name:"Sunglasses",emoji:"",price:30,category:"accessories",type:"avatar_glasses"},{id:"reading",name:"Reading Glasses",emoji:"",price:25,category:"accessories",type:"avatar_glasses"},{id:"safety_goggles",name:"Safety Goggles",emoji:"",price:30,category:"accessories",type:"avatar_glasses"},{id:"3d_glasses",name:"3D Glasses",emoji:"",price:30,category:"accessories",type:"avatar_glasses"},{id:"heart_shaped",name:"Heart Glasses",emoji:"",price:35,category:"accessories",type:"avatar_glasses"},{id:"star_shaped",name:"Star Glasses",emoji:"",price:35,category:"accessories",type:"avatar_glasses"},{id:"backpack",name:"Backpack",emoji:"",price:30,category:"accessories",type:"avatar_accessory"},{id:"cape",name:"Cape",emoji:"",price:40,category:"accessories",type:"avatar_accessory"},{id:"scarf",name:"Scarf",emoji:"",price:25,category:"accessories",type:"avatar_accessory"},{id:"bow_tie",name:"Bow Tie",emoji:"",price:25,category:"accessories",type:"avatar_accessory"},{id:"necklace",name:"Necklace",emoji:"",price:30,category:"accessories",type:"avatar_accessory"},{id:"watch",name:"Watch",emoji:"",price:35,category:"accessories",type:"avatar_accessory"},{id:"headphones",name:"Headphones",emoji:"",price:35,category:"accessories",type:"avatar_accessory"},{id:"earrings",name:"Earrings",emoji:"",price:30,category:"accessories",type:"avatar_accessory"},{id:"bracelet",name:"Bracelet",emoji:"",price:25,category:"accessories",type:"avatar_accessory"},{id:"stars",name:"Starry Background",emoji:"",price:40,category:"backgrounds",type:"avatar_background"},{id:"rainbow",name:"Rainbow Background",emoji:"",price:40,category:"backgrounds",type:"avatar_background"},{id:"clouds",name:"Cloudy Background",emoji:"",price:35,category:"backgrounds",type:"avatar_background"},{id:"space",name:"Space Background",emoji:"",price:45,category:"backgrounds",type:"avatar_background"},{id:"underwater",name:"Underwater Background",emoji:"",price:45,category:"backgrounds",type:"avatar_background"},{id:"forest",name:"Forest Background",emoji:"",price:40,category:"backgrounds",type:"avatar_background"},{id:"city",name:"City Background",emoji:"",price:40,category:"backgrounds",type:"avatar_background"},{id:"beach",name:"Beach Background",emoji:"",price:40,category:"backgrounds",type:"avatar_background"},{id:"cool",name:"Cool Eyes",emoji:"",price:20,category:"facial",type:"avatar_eyes"},{id:"star",name:"Star Eyes",emoji:"",price:25,category:"facial",type:"avatar_eyes"},{id:"heart",name:"Heart Eyes",emoji:"",price:25,category:"facial",type:"avatar_eyes"},{id:"sleepy",name:"Sleepy Eyes",emoji:"",price:20,category:"facial",type:"avatar_eyes"},{id:"angry",name:"Determined Eyes",emoji:"",price:20,category:"facial",type:"avatar_eyes"},{id:"surprised",name:"Surprised Eyes",emoji:"",price:20,category:"facial",type:"avatar_eyes"},{id:"wink",name:"Winking Eyes",emoji:"",price:25,category:"facial",type:"avatar_eyes"},{id:"laughing",name:"Laughing Face",emoji:"",price:20,category:"facial",type:"avatar_face"},{id:"determined",name:"Determined Face",emoji:"",price:20,category:"facial",type:"avatar_face"},{id:"neutral",name:"Neutral Face",emoji:"",price:15,category:"facial",type:"avatar_face"},{id:"tongue_out",name:"Playful Face",emoji:"",price:20,category:"facial",type:"avatar_face"}],badges:[{id:"first_game",name:"First Game",emoji:"",gradient:"from-green-400 to-emerald-500",description:"Completed your first game!",requirement:"Play 1 game"},{id:"star_collector",name:"Star Collector",emoji:"",gradient:"from-yellow-400 to-orange-500",description:"Earned 50 stars!",requirement:"Earn 50 stars"},{id:"speed_demon",name:"Speed Demon",emoji:"",gradient:"from-blue-400 to-cyan-500",description:"Complete a game in under 60 seconds",requirement:"Complete game < 60s"},{id:"perfectionist",name:"Perfectionist",emoji:"",gradient:"from-pink-400 to-purple-500",description:"Get 100% accuracy",requirement:"100% accuracy"},{id:"daily_warrior",name:"Daily Warrior",emoji:"",gradient:"from-red-400 to-orange-500",description:"Complete 7 daily challenges",requirement:"7 daily challenges"}],powerUps:[{id:"time_freeze",name:"Time Freeze",emoji:"",price:10,coins:!0,description:"Stop the timer for 10 seconds"},{id:"hint_helper",name:"Hint Helper",emoji:"",price:5,coins:!0,description:"Get a hint on a problem"},{id:"skip_question",name:"Skip Question",emoji:"",price:8,coins:!0,description:"Skip one difficult question"},{id:"double_stars",name:"Double Stars",emoji:"",price:15,coins:!0,description:"Earn 2x stars for next game"}]};function FZ(){const t=xr(),[e,n]=S.useState(null),[r,i]=S.useState("pets"),{data:s,isLoading:o}=dt({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:l=[]}=dt({queryKey:["gameProgress"],queryFn:()=>base44.entities.GameProgress.list(),initialData:[]}),c=Pn({mutationFn:async({itemId:g,price:_,type:T,coins:A=!1})=>{const I={};if(A)I.coins=((s==null?void 0:s.coins)||0)-_,I.power_ups={...(s==null?void 0:s.power_ups)||{},[g]:(((s==null?void 0:s.power_ups)||{})[g]||0)+1};else{const P=l.reduce((N,O)=>N+(O.stars_earned||0),0),C=(s==null?void 0:s.stars_spent)||0;if(P-C<_)throw new Error("Not enough stars!");I.stars_spent=C+_,T==="pet"?(I.owned_pets=[...(s==null?void 0:s.owned_pets)||[],g],s!=null&&s.active_pet||(I.active_pet=g)):I.purchased_items=[...(s==null?void 0:s.purchased_items)||[],g]}return base44.auth.updateMe(I)},onSuccess:(g,_)=>{t.invalidateQueries({queryKey:["currentUser"]}),n(_.itemId),setTimeout(()=>n(null),3e3)}}),d=Pn({mutationFn:g=>base44.auth.updateMe({active_pet:g}),onSuccess:()=>{t.invalidateQueries({queryKey:["currentUser"]})}}),f=(g,_="avatar",T=!1)=>{c.mutate({itemId:g.id,price:g.price,type:_,coins:T})},m=g=>{d.mutate(g)},p=(g,_="avatar")=>_==="pet"?((s==null?void 0:s.owned_pets)||[]).includes(g):((s==null?void 0:s.unlocked_items)||[]).includes(g)||((s==null?void 0:s.purchased_items)||[]).includes(g),v=()=>l.reduce((g,_)=>g+(_.stars_earned||0),0),w=()=>{const g=v(),_=(s==null?void 0:s.stars_spent)||0;return g-_},x=()=>(s==null?void 0:s.coins)||0;return o?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Loading shop..."})]})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-xl",children:a.jsx(Wo,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Rewards Shop"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Spend your stars and coins on awesome items!"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:[a.jsx(te,{className:"border-4 border-yellow-300 bg-gradient-to-r from-yellow-50 to-orange-50",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx(Nt,{className:"w-12 h-12 mx-auto mb-2 text-yellow-500 fill-yellow-500"}),a.jsx("div",{className:"text-4xl font-bold text-yellow-600 mb-1",children:w()}),a.jsx("p",{className:"text-gray-600",children:"Available Stars"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Total: ",v()," | Spent: ",(s==null?void 0:s.stars_spent)||0]})]})}),a.jsx(te,{className:"border-4 border-blue-300 bg-gradient-to-r from-blue-50 to-cyan-50",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx(Pc,{className:"w-12 h-12 mx-auto mb-2 text-blue-500"}),a.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:x()}),a.jsx("p",{className:"text-gray-600",children:"Coins"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For power-ups and boosts"})]})})]}),e&&a.jsxs(Ue,{className:"mb-6 bg-green-50 border-green-200",children:[a.jsx(Yt,{className:"w-4 h-4 text-green-600"}),a.jsx(ze,{className:"text-green-800",children:"Purchase successful! Item added to your collection "})]}),a.jsx("div",{className:"mb-8",children:a.jsx(hVe,{})}),a.jsx(te,{className:"border-2 border-purple-200",children:a.jsx(ne,{className:"p-6",children:a.jsxs(Kc,{value:r,onValueChange:i,children:[a.jsxs(xl,{className:"grid w-full grid-cols-4 mb-6",children:[a.jsxs(St,{value:"pets",children:[a.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Pets"]}),a.jsxs(St,{value:"avatar",children:[a.jsx(vd,{className:"w-4 h-4 mr-2"}),"Avatar"]}),a.jsxs(St,{value:"badges",children:[a.jsx(bi,{className:"w-4 h-4 mr-2"}),"Badges"]}),a.jsxs(St,{value:"powerups",children:[a.jsx(qr,{className:"w-4 h-4 mr-2"}),"Power-Ups"]})]}),a.jsx(Dt,{value:"pets",className:"space-y-6",children:a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:lx.pets.map(g=>{var I;const _=p(g.id,"pet"),T=(s==null?void 0:s.active_pet)===g.id,A=w()>=g.price;return a.jsxs(te,{className:`border-2 ${T?"border-purple-500 ring-2 ring-purple-200":"border-gray-200"}`,children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsx("span",{children:g.name}),T&&a.jsx(je,{className:"bg-purple-500",children:"Active"})]})}),a.jsxs(ne,{children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(PI,{pet:g,experience:((I=s==null?void 0:s.pet_experience)==null?void 0:I[g.id])||0,size:"large"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:g.description}),_?T?a.jsx(oe,{disabled:!0,className:"w-full",variant:"outline",children:"Currently Active"}):a.jsx(oe,{onClick:()=>m(g.id),className:"w-full bg-purple-500 hover:bg-purple-600",children:"Set as Active"}):a.jsx(oe,{onClick:()=>f(g,"pet"),disabled:!A||c.isPending,className:`w-full ${A?"bg-gradient-to-r from-purple-500 to-pink-500":""}`,children:A?a.jsxs(a.Fragment,{children:[a.jsx(Nt,{className:"w-4 h-4 mr-2 fill-white"}),"Buy for ",g.price," Stars"]}):a.jsxs(a.Fragment,{children:[a.jsx(oi,{className:"w-4 h-4 mr-2"}),"Need ",g.price-w()," more stars"]})})]})]},g.id)})})}),a.jsx(Dt,{value:"avatar",className:"space-y-6",children:a.jsxs(Kc,{defaultValue:"hair",children:[a.jsxs(xl,{className:"grid w-full grid-cols-5",children:[a.jsx(St,{value:"hair",children:"Hair"}),a.jsx(St,{value:"clothing",children:"Clothing"}),a.jsx(St,{value:"accessories",children:"Accessories"}),a.jsx(St,{value:"backgrounds",children:"Backgrounds"}),a.jsx(St,{value:"facial",children:"Facial"})]}),["hair","clothing","accessories","backgrounds","facial"].map(g=>a.jsx(Dt,{value:g,children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:lx.avatarItems.filter(_=>_.category===g).map(_=>{const T=p(_.id),A=w()>=_.price;return a.jsx(te,{className:`border-2 ${T?"border-green-300 bg-green-50":"border-gray-200"}`,children:a.jsxs(ne,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:_.emoji}),a.jsx("h3",{className:"font-bold text-sm mb-2",children:_.name}),T?a.jsx(je,{className:"bg-green-500 text-white",children:"Owned"}):a.jsx(oe,{onClick:()=>f(_),disabled:!A||c.isPending,size:"sm",className:`w-full ${A?"bg-gradient-to-r from-purple-500 to-pink-500":""}`,children:A?a.jsxs(a.Fragment,{children:[a.jsx(Nt,{className:"w-3 h-3 mr-1 fill-white"}),_.price]}):a.jsxs(a.Fragment,{children:[a.jsx(oi,{className:"w-3 h-3 mr-1"}),_.price]})})]})},_.id)})})},g))]})}),a.jsxs(Dt,{value:"badges",className:"space-y-6",children:[a.jsxs(Ue,{className:"bg-blue-50 border-blue-300",children:[a.jsx(Yt,{className:"w-4 h-4 text-blue-600"}),a.jsx(ze,{className:"text-blue-800",children:"Badges are earned by completing specific achievements. Keep playing to unlock them all!"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:lx.badges.map(g=>a.jsx(te,{className:"border-2 border-gray-200",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx(dVe,{badge:g,size:"large"})}),a.jsx("h3",{className:"font-bold text-lg mb-2",children:g.name}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.description}),a.jsx(je,{variant:"outline",className:"text-xs",children:g.requirement})]})},g.id))})]}),a.jsxs(Dt,{value:"powerups",className:"space-y-6",children:[a.jsxs(Ue,{className:"bg-cyan-50 border-cyan-300",children:[a.jsx(Pc,{className:"w-4 h-4 text-cyan-600"}),a.jsx(ze,{className:"text-cyan-800",children:"Power-ups are purchased with coins and can be used during games to help you succeed!"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:lx.powerUps.map(g=>{const _=x()>=g.price,T=((s==null?void 0:s.power_ups)||{})[g.id]||0;return a.jsx(te,{className:"border-2 border-cyan-200",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx("div",{className:"text-5xl mb-3",children:g.emoji}),a.jsx("h3",{className:"font-bold mb-2",children:g.name}),a.jsx("p",{className:"text-xs text-gray-600 mb-3",children:g.description}),T>0&&a.jsxs(je,{className:"bg-green-500 text-white mb-2",children:["Owned: ",T]}),a.jsx(oe,{onClick:()=>f(g,"powerup",!0),disabled:!_||c.isPending,size:"sm",className:`w-full ${_?"bg-gradient-to-r from-cyan-500 to-blue-500":""}`,children:_?a.jsxs(a.Fragment,{children:[a.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Buy for ",g.price]}):a.jsxs(a.Fragment,{children:[a.jsx(oi,{className:"w-4 h-4 mr-2"}),"Need ",g.price-x()," coins"]})})]})},g.id)})})]})]})})}),a.jsxs(te,{className:"mt-8 bg-gradient-to-r from-purple-100 to-pink-100 border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Yt,{className:"w-6 h-6 text-purple-600"}),"How to Earn More"]})}),a.jsxs(ne,{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Play Games"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Earn up to 3 stars per game"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Daily Challenges"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get bonus rewards every day"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Achievements"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Unlock items by achieving goals"})]})]})]})]})}function VZ(){const t=xr(),[e,n]=S.useState(""),[r,i]=S.useState(!1),{data:s}=dt({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:o=[]}=dt({queryKey:["allUsers"],queryFn:()=>base44.entities.User.list(),initialData:[]}),{data:l=[]}=dt({queryKey:["allProgress"],queryFn:()=>base44.entities.GameProgress.list("-score"),initialData:[]}),{data:c=[]}=dt({queryKey:["allDailyChallenges"],queryFn:()=>base44.entities.DailyChallenge.list("-score"),initialData:[]}),{data:d=[]}=dt({queryKey:["myFriends"],queryFn:async()=>{const N=await base44.auth.me(),O=await base44.entities.FriendConnection.filter({user_email:N.email,status:"accepted"}),D=await base44.entities.FriendConnection.filter({friend_email:N.email,status:"accepted"});return[...O,...D]},initialData:[],enabled:!!s}),{data:f=[]}=dt({queryKey:["pendingRequests"],queryFn:async()=>{const N=await base44.auth.me();return base44.entities.FriendConnection.filter({friend_email:N.email,status:"pending"})},initialData:[],enabled:!!s}),m=Pn({mutationFn:N=>base44.entities.FriendConnection.create(N),onSuccess:()=>{t.invalidateQueries({queryKey:["myFriends"]}),i(!0),n(""),setTimeout(()=>i(!1),3e3)}}),p=Pn({mutationFn:({id:N,status:O})=>base44.entities.FriendConnection.update(N,{status:O}),onSuccess:()=>{t.invalidateQueries({queryKey:["myFriends"]}),t.invalidateQueries({queryKey:["pendingRequests"]})}}),v=`${hn(new Date,"yyyy")}-W${CK(new Date)}`,w=`${hn(new Date,"yyyy")}-M${hn(new Date,"MM")}`,x=(N,O=null)=>{const D=l.filter($=>O?$.operation===N&&$.level===O:$.operation===N),L={};return D.forEach($=>{L[$.created_by]||(L[$.created_by]={email:$.created_by,totalScore:0,bestScore:0,gamesPlayed:0,totalAccuracy:0}),L[$.created_by].totalScore+=$.score,L[$.created_by].bestScore=Math.max(L[$.created_by].bestScore,$.score),L[$.created_by].gamesPlayed++,L[$.created_by].totalAccuracy+=$.correct_answers/$.total_questions*100}),Object.values(L).map($=>({...$,avgAccuracy:Math.round($.totalAccuracy/$.gamesPlayed)})).sort(($,F)=>F.bestScore-$.bestScore).slice(0,10)},g=()=>{const N={};return l.forEach(O=>{(!N[O.created_by]||O.time_taken<N[O.created_by].time)&&(N[O.created_by]={email:O.created_by,time:O.time_taken,score:O.score,accuracy:Math.round(O.correct_answers/O.total_questions*100)})}),Object.values(N).sort((O,D)=>O.time-D.time).slice(0,10)},_=()=>{const N=d.map(D=>D.user_email===(s==null?void 0:s.email)?D.friend_email:D.user_email);N.push(s==null?void 0:s.email);const O={};return l.forEach(D=>{N.includes(D.created_by)&&(O[D.created_by]||(O[D.created_by]={email:D.created_by,totalScore:0,gamesPlayed:0,totalStars:0}),O[D.created_by].totalScore+=D.score,O[D.created_by].gamesPlayed++,O[D.created_by].totalStars+=D.stars_earned||0)}),Object.values(O).sort((D,L)=>L.totalScore-D.totalScore).slice(0,10)},T=N=>{const O=N==="weekly"?bd(new Date):AK(new Date),D={};return l.forEach(L=>{new Date(L.created_date)>=O&&(D[L.created_by]||(D[L.created_by]={email:L.created_by,totalScore:0,gamesPlayed:0,totalStars:0}),D[L.created_by].totalScore+=L.score,D[L.created_by].gamesPlayed++,D[L.created_by].totalStars+=L.stars_earned||0)}),Object.values(D).sort((L,$)=>$.totalScore-L.totalScore).slice(0,10)},A=N=>N===1?a.jsx(Ct,{className:"w-6 h-6 text-yellow-500 fill-yellow-500"}):N===2?a.jsx(sg,{className:"w-6 h-6 text-gray-400 fill-gray-400"}):N===3?a.jsx(sg,{className:"w-6 h-6 text-amber-600 fill-amber-600"}):a.jsxs("span",{className:"w-6 h-6 flex items-center justify-center font-bold text-gray-500",children:["#",N]}),I=N=>N===1?"from-yellow-100 to-yellow-200 border-yellow-300":N===2?"from-gray-100 to-gray-200 border-gray-300":N===3?"from-amber-100 to-amber-200 border-amber-300":"from-white to-gray-50 border-gray-200",P=N=>{const O=o.find(D=>D.email===N);return(O==null?void 0:O.child_name)||(O==null?void 0:O.full_name)||N.split("@")[0]},C=()=>{!e||e===(s==null?void 0:s.email)||m.mutate({user_email:s.email,friend_email:e,connection_type:"friend"})},E=({title:N,icon:O,data:D,renderStats:L})=>a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(O,{className:"w-6 h-6 text-purple-600"}),N]})}),a.jsx(ne,{className:"p-6",children:D.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Ct,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"No data available yet"})]}):a.jsx("div",{className:"space-y-2",children:D.map(($,F)=>{const G=F+1,Y=$.email===(s==null?void 0:s.email);return a.jsx("div",{className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all ${Y?"bg-gradient-to-r from-purple-100 to-pink-100 border-purple-300 shadow-md":`bg-gradient-to-r ${I(G)} border`}`,children:a.jsxs("div",{className:"flex items-center gap-4",children:[A(G),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-bold",children:P($.email)}),Y&&a.jsx(je,{className:"bg-purple-500 text-white",children:"You"})]}),L($)]})]})},F)})})})]});return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-xl",children:a.jsx(Ct,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-yellow-600 via-orange-600 to-red-600 bg-clip-text text-transparent",children:"Leaderboards"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Compete with friends and players worldwide!"})]}),r&&a.jsxs(Ue,{className:"mb-6 bg-green-50 border-green-200",children:[a.jsx(zp,{className:"w-4 h-4 text-green-600"}),a.jsx(ze,{className:"text-green-800",children:"Friend request sent successfully! "})]}),f.length>0&&a.jsxs(te,{className:"mb-6 border-2 border-blue-300 bg-blue-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(zp,{className:"w-6 h-6 text-blue-600"}),"Pending Friend Requests (",f.length,")"]})}),a.jsx(ne,{children:a.jsx("div",{className:"space-y-2",children:f.map(N=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[a.jsx("span",{className:"font-medium",children:P(N.user_email)}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(oe,{size:"sm",onClick:()=>p.mutate({id:N.id,status:"accepted"}),className:"bg-green-500 hover:bg-green-600",children:"Accept"}),a.jsx(oe,{size:"sm",variant:"outline",onClick:()=>p.mutate({id:N.id,status:"declined"}),children:"Decline"})]})]},N.id))})})]}),a.jsxs(Kc,{defaultValue:"tournaments",className:"space-y-6",children:[a.jsxs(xl,{className:"grid w-full grid-cols-2 md:grid-cols-4",children:[a.jsx(St,{value:"tournaments",children:"Tournaments"}),a.jsx(St,{value:"categories",children:"Categories"}),a.jsx(St,{value:"friends",children:"Friends"}),a.jsx(St,{value:"special",children:"Special"})]}),a.jsxs(Dt,{value:"tournaments",className:"space-y-6",children:[a.jsxs(te,{className:"border-4 border-yellow-300 bg-gradient-to-r from-yellow-50 to-orange-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(bi,{className:"w-6 h-6 text-yellow-600"}),"Active Tournaments"]})}),a.jsx(ne,{children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Hn,{className:"w-8 h-8 text-purple-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg",children:"Weekly Tournament"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Resets every Monday"})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Tournament ID:"}),a.jsx("span",{className:"font-bold",children:v})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Prize:"}),a.jsx("span",{className:"font-bold text-yellow-600",children:"50 Bonus Stars "})]})]}),a.jsx(je,{className:"w-full justify-center bg-purple-500 text-white",children:"Active Now"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Hn,{className:"w-8 h-8 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg",children:"Monthly Tournament"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Resets on 1st of month"})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Tournament ID:"}),a.jsx("span",{className:"font-bold",children:w})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Prize:"}),a.jsx("span",{className:"font-bold text-yellow-600",children:"100 Bonus Stars "})]})]}),a.jsx(je,{className:"w-full justify-center bg-blue-500 text-white",children:"Active Now"})]})]})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(E,{title:"Weekly Leaders",icon:gn,data:T("weekly"),renderStats:N=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ct,{className:"w-4 h-4"}),N.totalScore," pts"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Nt,{className:"w-4 h-4 text-yellow-500"}),N.totalStars]}),a.jsxs("span",{children:[N.gamesPlayed," games"]})]})}),a.jsx(E,{title:"Monthly Leaders",icon:Gr,data:T("monthly"),renderStats:N=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ct,{className:"w-4 h-4"}),N.totalScore," pts"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Nt,{className:"w-4 h-4 text-yellow-500"}),N.totalStars]}),a.jsxs("span",{children:[N.gamesPlayed," games"]})]})})]})]}),a.jsx(Dt,{value:"categories",className:"space-y-6",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(E,{title:"Multiplication Masters (Hard)",icon:qr,data:x("multiplication","hard"),renderStats:N=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{children:["Best: ",N.bestScore]}),a.jsxs("span",{children:["Avg: ",N.avgAccuracy,"%"]}),a.jsxs("span",{children:[N.gamesPlayed," games"]})]})}),a.jsx(E,{title:"Addition Champions",icon:Fr,data:x("addition"),renderStats:N=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{children:["Best: ",N.bestScore]}),a.jsxs("span",{children:["Avg: ",N.avgAccuracy,"%"]}),a.jsxs("span",{children:[N.gamesPlayed," games"]})]})}),a.jsx(E,{title:"Division Experts (Hard)",icon:Qt,data:x("division","hard"),renderStats:N=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{children:["Best: ",N.bestScore]}),a.jsxs("span",{children:["Avg: ",N.avgAccuracy,"%"]}),a.jsxs("span",{children:[N.gamesPlayed," games"]})]})}),a.jsx(E,{title:"Subtraction Stars",icon:sg,data:x("subtraction"),renderStats:N=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{children:["Best: ",N.bestScore]}),a.jsxs("span",{children:["Avg: ",N.avgAccuracy,"%"]}),a.jsxs("span",{children:[N.gamesPlayed," games"]})]})})]})}),a.jsxs(Dt,{value:"friends",className:"space-y-6",children:[a.jsxs(te,{className:"border-2 border-blue-200 bg-blue-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(zp,{className:"w-6 h-6 text-blue-600"}),"Invite Friends"]})}),a.jsxs(ne,{children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(an,{placeholder:"Enter friend's email",value:e,onChange:N=>n(N.target.value),type:"email"}),a.jsxs(oe,{onClick:C,className:"bg-blue-500 hover:bg-blue-600",disabled:m.isPending||!e,children:[a.jsx(zp,{className:"w-4 h-4 mr-2"}),"Invite"]})]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Connected friends: ",d.length]})]})]}),a.jsx(E,{title:"Friends & Family Leaderboard",icon:vr,data:_(),renderStats:N=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ct,{className:"w-4 h-4"}),N.totalScore," pts"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Nt,{className:"w-4 h-4 text-yellow-500"}),N.totalStars]}),a.jsxs("span",{children:[N.gamesPlayed," games"]})]})})]}),a.jsxs(Dt,{value:"special",className:"space-y-6",children:[a.jsx(E,{title:"Speed Demons (Fastest Completion)",icon:_n,data:g(),renderStats:N=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1 font-bold text-blue-600",children:[a.jsx(_n,{className:"w-4 h-4"}),N.time,"s"]}),a.jsxs("span",{children:[N.score," pts"]}),a.jsxs("span",{children:[N.accuracy,"% accuracy"]})]})}),a.jsxs(te,{className:"border-2 border-green-200 bg-green-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Gr,{className:"w-6 h-6 text-green-600"}),"Special Achievements"]})}),a.jsx(ne,{children:a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h4",{className:"font-bold mb-1",children:"Perfect Score Club"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[l.filter(N=>N.correct_answers/N.total_questions===1).length," perfect games"]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h4",{className:"font-bold mb-1",children:"Speed Masters"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[l.filter(N=>N.time_taken<60).length," games under 60s"]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h4",{className:"font-bold mb-1",children:"Daily Warriors"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[c.length," daily challenges completed"]})]})]})})]})]})]})]})}function BZ(){const t=xr(),[e,n]=S.useState(null),{data:r}=dt({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:i=[]}=dt({queryKey:["allUsers"],queryFn:()=>base44.entities.User.list(),initialData:[]}),{data:s=[]}=dt({queryKey:["myTeamChallenges"],queryFn:async()=>{const g=await base44.auth.me();return(await base44.entities.TeamChallenge.list()).filter(T=>{var A;return((A=T.team_members)==null?void 0:A.includes(g.email))||T.creator_email===g.email})},initialData:[],enabled:!!r}),{data:o=[]}=dt({queryKey:["myProgress"],queryFn:async()=>{const g=await base44.auth.me();return base44.entities.GameProgress.filter({created_by:g.email})},initialData:[],enabled:!!r}),{data:l=[]}=dt({queryKey:["myDailyChallenges"],queryFn:async()=>{const g=await base44.auth.me();return base44.entities.DailyChallenge.filter({created_by:g.email})},initialData:[],enabled:!!r}),c=Pn({mutationFn:({challengeId:g,data:_})=>base44.entities.TeamChallenge.update(g,_),onSuccess:()=>{t.invalidateQueries({queryKey:["myTeamChallenges"]})}}),d=Pn({mutationFn:({stars:g,coins:_})=>{const T=r.total_stars_earned||0,A=r.coins||0;return base44.auth.updateMe({total_stars_earned:T+g,coins:A+_})},onSuccess:(g,_)=>{t.invalidateQueries({queryKey:["currentUser"]}),n(`Claimed ${_.stars} stars and ${_.coins} coins!`),setTimeout(()=>n(null),3e3)}}),f=g=>{const _=i.find(T=>T.email===g);return(_==null?void 0:_.child_name)||(_==null?void 0:_.full_name)||g.split("@")[0]},m=g=>{const _=new Date(g.start_date),T=g.end_date?new Date(g.end_date):new Date,A=o.filter(C=>{const E=new Date(C.created_date),N=E>=_&&E<=T,O=g.specific_operation==="any"||C.operation===g.specific_operation,D=g.specific_level==="any"||C.level===g.specific_level;return N&&O&&D}),I=l.filter(C=>{const E=new Date(C.created_date);return E>=_&&E<=T});let P=0;switch(g.challenge_type){case"team_score":P=A.reduce((C,E)=>C+(E.score||0),0);break;case"combined_accuracy":if(A.length>0){const C=A.reduce((E,N)=>E+N.correct_answers/N.total_questions*100,0);P=Math.round(C/A.length)}break;case"total_games":P=A.length;break;case"total_stars":P=A.reduce((C,E)=>C+(E.stars_earned||0),0),P+=I.reduce((C,E)=>C+(E.bonus_stars||0),0);break;case"daily_streak_sum":P=I.length;break;case"speed_challenge":A.length>0&&(P=Math.min(...A.map(C=>C.time_taken)));break}return P};S.useEffect(()=>{!r||s.length===0||s.forEach(g=>{if(g.is_completed)return;const _=m(g),T=g.member_contributions||{};if(T[r.email]!==_){const A={...T,[r.email]:_};let I=0;if(g.challenge_type==="combined_accuracy"){const C=Object.values(A);C.length>0&&(I=Math.round(C.reduce((E,N)=>E+N,0)/C.length))}else if(g.challenge_type==="speed_challenge"){const C=Object.values(A).filter(E=>E>0);C.length>0&&(I=Math.min(...C))}else I=Object.values(A).reduce((C,E)=>C+E,0);const P=I>=g.target_value;c.mutate({challengeId:g.id,data:{member_contributions:A,current_value:I,is_completed:P}})}})},[o,l,s,r]);const p=g=>{d.mutate({stars:g.reward_stars||0,coins:g.reward_coins||0})},v=g=>({team_score:"Team Score Challenge",combined_accuracy:"Combined Accuracy Goal",total_games:"Total Games Challenge",total_stars:"Star Collection Challenge",daily_streak_sum:"Daily Challenge Streak",speed_challenge:"Speed Challenge"})[g]||g,w=g=>({team_score:Ct,combined_accuracy:Qt,total_games:gn,total_stars:Nt,daily_streak_sum:Hn,speed_challenge:_n})[g]||Ct;s.filter(g=>!g.is_completed);const x=s.filter(g=>g.is_completed);return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-xl",children:a.jsx(vr,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Team Challenges"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Work together with friends and family!"})]}),e&&a.jsxs(Ue,{className:"mb-6 bg-green-50 border-green-200",children:[a.jsx(Ut,{className:"w-4 h-4 text-green-600"}),a.jsxs(ze,{className:"text-green-800",children:[a.jsx("strong",{children:"Reward Claimed!"})," ",e," "]})]}),s.length===0?a.jsx(te,{className:"border-2 border-gray-200",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(vr,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Team Challenges Yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Ask your parent or teacher to create a team challenge for you and your friends!"}),a.jsx(Ue,{className:"bg-blue-50 border-blue-200 text-left",children:a.jsxs(ze,{className:"text-blue-800",children:[a.jsx("strong",{children:"What are Team Challenges?"}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Work together with friends and family"}),a.jsx("li",{children:"Combine your progress to reach team goals"}),a.jsx("li",{children:"Earn bonus rewards when you succeed together"}),a.jsx("li",{children:"See everyone's contributions in real-time"})]})]})})]})}):a.jsxs("div",{className:"space-y-8",children:[activeChallenges.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(Ct,{className:"w-6 h-6 text-purple-500"}),"Active Challenges (",activeChallenges.length,")"]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:activeChallenges.map(g=>{var I,P,C;const _=w(g.challenge_type),T=Math.min(g.current_value/g.target_value*100,100);(I=g.member_contributions)!=null&&I[r==null?void 0:r.email];const A=g.end_date?Math.max(0,Math.ceil((new Date(g.end_date)-new Date)/(1e3*60*60*24))):null;return a.jsxs(te,{className:"border-2 border-purple-200 hover:shadow-lg transition-shadow",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(_,{className:"w-6 h-6 text-purple-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-lg",children:g.challenge_name}),A!==null&&a.jsxs(je,{variant:"outline",className:"bg-white",children:[a.jsx(_n,{className:"w-3 h-3 mr-1"}),A,"d left"]})]}),a.jsx("p",{className:"text-sm font-normal text-gray-600 mt-1",children:v(g.challenge_type)})]})]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[g.description&&a.jsx("p",{className:"text-gray-600",children:g.description}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"font-medium",children:"Team Progress"}),a.jsxs("span",{className:"font-bold",children:[Math.round(g.current_value)," / ",g.target_value,g.challenge_type==="combined_accuracy"&&"%",g.challenge_type==="speed_challenge"&&"s"]})]}),a.jsx(dl,{value:T,className:"h-3"})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-sm mb-3 flex items-center gap-2",children:[a.jsx(vr,{className:"w-4 h-4 text-purple-500"}),"Team Members (",((P=g.team_members)==null?void 0:P.length)||0,")"]}),a.jsx("div",{className:"space-y-2",children:(C=g.team_members)==null?void 0:C.map(E=>{var D;const N=((D=g.member_contributions)==null?void 0:D[E])||0,O=E===(r==null?void 0:r.email);return a.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${O?"bg-purple-50 border-2 border-purple-200":"bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:f(E)}),O&&a.jsx(je,{className:"bg-purple-500 text-white text-xs",children:"You"})]}),a.jsxs("span",{className:"text-sm font-bold text-gray-700",children:[Math.round(N),g.challenge_type==="combined_accuracy"&&"%",g.challenge_type==="speed_challenge"&&"s"]})]},E)})})]}),a.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 p-3 rounded-lg border-2 border-yellow-200",children:[a.jsxs("h4",{className:"font-bold text-sm mb-2 flex items-center gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-yellow-600"}),"Rewards on Completion"]}),a.jsxs("div",{className:"flex gap-3 text-sm",children:[g.reward_stars>0&&a.jsxs("div",{className:"flex items-center gap-1 font-bold text-yellow-600",children:[a.jsx(Nt,{className:"w-4 h-4 fill-yellow-400"}),g.reward_stars," stars"]}),g.reward_coins>0&&a.jsxs("div",{className:"flex items-center gap-1 font-bold text-blue-600",children:[a.jsx(Pc,{className:"w-4 h-4"}),g.reward_coins," coins"]})]})]})]})]},g.id)})})]}),x.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(Ut,{className:"w-6 h-6 text-green-500"}),"Completed Challenges (",x.length,")"]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:x.map(g=>(w(g.challenge_type),a.jsxs(te,{className:"border-2 border-green-300 bg-green-50",children:[a.jsx(_e,{className:"bg-gradient-to-r from-green-100 to-emerald-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Ut,{className:"w-6 h-6 text-green-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"text-lg",children:g.challenge_name}),a.jsx("p",{className:"text-sm font-normal text-gray-600 mt-1",children:v(g.challenge_type)})]})]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsxs(Ue,{className:"bg-white border-green-200",children:[a.jsx(Ct,{className:"w-4 h-4 text-green-600"}),a.jsxs(ze,{className:"text-green-800",children:[a.jsx("strong",{children:"Challenge Complete!"})," Your team achieved the goal together! ",g.reward_message&&a.jsx("p",{className:"mt-1",children:g.reward_message})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Final Score:"}),a.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[Math.round(g.current_value)," / ",g.target_value]})]}),a.jsxs(oe,{onClick:()=>p(g),disabled:d.isPending,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500",children:[a.jsx(Gr,{className:"w-4 h-4 mr-2"}),"Claim Rewards"]})]})]},g.id)))})]})]})]})}function qZ(){const t=xr(),[e,n]=S.useState(!1),[r,i]=S.useState(null),[s,o]=S.useState(!1),[l,c]=S.useState(!1);S.useEffect(()=>{const T=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");c(!T)},[]);const{data:d}=dt({queryKey:["currentUser"],queryFn:()=>base44.auth.me()});S.useEffect(()=>{const T=new URLSearchParams(window.location.search),A=T.get("success"),I=T.get("tier");A==="true"&&I&&setTimeout(()=>{t.invalidateQueries({queryKey:["currentUser"]})},1e3)},[t]);const f=(d==null?void 0:d.subscription_tier)||"free",m=f!=="free",p=d!=null&&d.subscription_expires_at?new Date(d.subscription_expires_at):null,v=p?Math.ceil((p-new Date)/(1e3*60*60*24)):0,w={premium_player:{monthly:"https://square.link/u/nFpI2tMT",yearly:"https://checkout.square.site/merchant/MLZ8SFCEGD55V/checkout/XKMFTRBKLNNDRTMQWSBJ4TOL"},premium_parent:{monthly:"https://square.link/u/mffPglOm",yearly:"https://checkout.square.site/merchant/MLZ8SFCEGD55V/checkout/LJ7EFZTE5IPACDT2HAO2H2IB"},family_teacher:{monthly:"https://square.link/u/bCQAOVfA",yearly:"https://checkout.square.site/merchant/MLZ8SFCEGD55V/checkout/VYNFU5WKRO4AU5KBQAG2S3NM"}},x=(T,A="monthly")=>{var P;if(!l){alert("Please open this page in your web browser to subscribe. Use the 'Open in Browser' button above.");return}const I=(P=w[T])==null?void 0:P[A];I?window.open(I,"_blank","noopener,noreferrer"):alert("No payment link available for this plan and period.")},g=Pn({mutationFn:async()=>base44.auth.updateMe({subscription_cancels_at:d.subscription_expires_at,subscription_auto_renew:!1}),onSuccess:()=>{t.invalidateQueries({queryKey:["currentUser"]}),o(!1)}}),_=[{id:"premium_player",name:"Premium Player",price:"$4.99",annualPrice:"$47.88",annualSavings:"Save $12",icon:Nt,color:"from-blue-500 to-cyan-500",features:["Unlimited games & challenges","Advanced avatar customization","Exclusive pets & badges","Ad-free experience","Priority support","Offline mode","Custom themes"],recommended:!1},{id:"premium_parent",name:"Premium Parent",price:"$7.99",annualPrice:"$76.88",annualSavings:"Save $19",icon:Bi,color:"from-purple-500 to-pink-500",features:["All Premium Player features","Advanced parental controls","Detailed progress analytics","Custom goal setting","Time limit management","Content filtering","Weekly/monthly reports","Direct messaging with child"],recommended:!0},{id:"family_teacher",name:"Family/Teacher Plan",price:"$12.99",annualPrice:"$124.88",annualSavings:"$31",icon:vr,color:"from-orange-500 to-red-500",features:["All Premium Parent features","Up to 5 student accounts","Classroom management tools","Lesson assignment system","Team challenges","Bulk progress reports","Multi-child dashboard","Priority teacher support"],recommended:!1}];return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[!l&&a.jsxs(Ue,{className:"mb-8 bg-blue-50 border-blue-300",children:[a.jsx(qfe,{className:"w-5 h-5 text-blue-600"}),a.jsx(ze,{className:"text-blue-800",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("strong",{className:"block mb-1",children:"Subscriptions Available on Web"}),a.jsx("p",{className:"text-sm",children:"To subscribe or manage your subscription, please open this page in your web browser (Chrome, Safari, etc.)"})]}),a.jsxs(oe,{onClick:()=>{const T=window.location.href;window.open(T,"_blank","noopener,noreferrer")},className:"bg-blue-600 hover:bg-blue-700 whitespace-nowrap",children:[a.jsx(_x,{className:"w-4 h-4 mr-2"}),"Open in Browser"]})]})})]}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-xl animate-pulse",children:a.jsx(bi,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-orange-600 bg-clip-text text-transparent",children:"Unlock Premium Features"}),a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Choose the perfect plan for your learning journey"}),a.jsx("p",{className:"text-md text-green-600 mb-2 font-semibold",children:"Save 20% when you purchase any yearly plan!"}),l&&a.jsx("p",{className:"text-sm text-gray-500",children:"Secure payment powered by Square"})]}),m&&a.jsx(te,{className:"mb-12 border-4 border-green-400 shadow-xl bg-gradient-to-r from-green-50 to-emerald-50",children:a.jsx(ne,{className:"p-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(Ut,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:f==="premium_parent"?"Premium Parent":f==="premium_player"?"Premium Player":"Family/Teacher Plan"}),a.jsx(je,{className:"bg-green-500 text-white",children:"Active"})]}),a.jsxs("div",{className:"space-y-1",children:[p&&a.jsx("p",{className:"text-gray-600",children:(d==null?void 0:d.subscription_auto_renew)===!1?`Expires ${hn(p,"MMMM d, yyyy")}`:`Renews ${hn(p,"MMMM d, yyyy")}  ${v} days left`}),(d==null?void 0:d.subscription_auto_renew)===!1&&a.jsxs(je,{variant:"outline",className:"bg-orange-50 border-orange-300 text-orange-700",children:[a.jsx(zr,{className:"w-3 h-3 mr-1"}),"Subscription will not renew"]})]})]})]}),(d==null?void 0:d.subscription_auto_renew)!==!1&&l&&a.jsxs(oe,{variant:"destructive",onClick:()=>o(!0),className:"h-12",children:[a.jsx(yd,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})]})})}),r&&a.jsxs(Ue,{className:"mb-8 bg-red-50 border-red-200",children:[a.jsx(zr,{className:"w-5 h-5 text-red-600"}),a.jsxs(ze,{className:"text-red-800",children:[a.jsx("strong",{children:"Error:"})," ",r]})]}),new URLSearchParams(window.location.search).get("success")==="true"&&a.jsxs(Ue,{className:"mb-8 bg-green-50 border-green-200",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),a.jsxs(ze,{className:"text-green-800",children:[a.jsx("strong",{children:"Success!"})," Your subscription is being activated. This may take a few moments."]})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:_.map(T=>{const A=T.icon,I=f===T.id;return a.jsxs(te,{className:`relative overflow-hidden transition-all duration-300 ${T.recommended?"border-4 border-purple-400 shadow-2xl scale-105":"border-2 border-gray-200 hover:shadow-xl hover:scale-102"}`,children:[T.recommended&&a.jsx("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-1 text-sm font-bold rounded-bl-lg",children:"MOST POPULAR"}),a.jsx("div",{className:`h-32 bg-gradient-to-br ${T.color} flex items-center justify-center`,children:a.jsx(A,{className:"w-16 h-16 text-white"})}),a.jsxs(_e,{children:[a.jsx(Ne,{className:"text-2xl mb-2",children:T.name}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{children:a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-4xl font-bold",children:T.price}),a.jsx("span",{className:"text-gray-600",children:"/month"})]})}),a.jsx("div",{className:"bg-green-50 p-2 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-semibold text-green-700",children:[T.annualPrice,"/year"]}),a.jsx(je,{className:"bg-green-500 text-white text-xs",children:T.annualSavings})]})})]})]}),a.jsxs(ne,{className:"space-y-6",children:[a.jsx("ul",{className:"space-y-3",children:T.features.map((P,C)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Dn,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-gray-700",children:P})]},C))}),I?a.jsxs(oe,{disabled:!0,className:"w-full h-12 bg-gray-400 cursor-not-allowed",children:[a.jsx(Ut,{className:"w-5 h-5 mr-2"}),"Current Plan"]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{onClick:()=>x(T.id,"monthly"),disabled:e||!l,className:`w-full h-12 text-lg bg-gradient-to-r ${T.color} hover:opacity-90 ${l?"":"opacity-50 cursor-not-allowed"}`,children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing..."]}):l?a.jsxs(a.Fragment,{children:[a.jsx(bi,{className:"w-5 h-5 mr-2"}),"Subscribe Monthly"]}):a.jsxs(a.Fragment,{children:[a.jsx(oi,{className:"w-5 h-5 mr-2"}),"Open in Browser"]})}),l&&a.jsx(oe,{onClick:()=>x(T.id,"yearly"),disabled:e,variant:"outline",className:"w-full h-12",children:e?"Processing...":a.jsxs(a.Fragment,{children:[a.jsx(Yt,{className:"w-5 h-5 mr-2"}),"Subscribe Annually (Save 20%)"]})})]})]})]},T.id)})}),a.jsxs(te,{className:"mb-12",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-50 to-pink-50",children:a.jsx(Ne,{className:"text-2xl",children:"Compare Features"})}),a.jsx(ne,{className:"p-6",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b-2",children:[a.jsx("th",{className:"text-left p-4 font-bold",children:"Feature"}),a.jsx("th",{className:"text-center p-4 font-bold",children:"Free"}),a.jsx("th",{className:"text-center p-4 font-bold",children:"Premium Player"}),a.jsx("th",{className:"text-center p-4 font-bold bg-purple-50",children:"Premium Parent"}),a.jsx("th",{className:"text-center p-4 font-bold",children:"Family/Teacher"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"Math Games Access"}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{variant:"outline",children:"Limited"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Dn,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:a.jsx(Dn,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Dn,{className:"w-5 h-5 text-green-500 mx-auto"})})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"Daily Challenges"}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Dn,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Dn,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:a.jsx(Dn,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Dn,{className:"w-5 h-5 text-green-500 mx-auto"})})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"AI Tutor Help"}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{variant:"outline",children:"Limited"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Dn,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:a.jsx(Dn,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Dn,{className:"w-5 h-5 text-green-500 mx-auto"})})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"Parental Controls"}),a.jsx("td",{className:"text-center p-4",children:""}),a.jsx("td",{className:"text-center p-4",children:""}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:a.jsx(Dn,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Dn,{className:"w-5 h-5 text-green-500 mx-auto"})})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"Progress Analytics"}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{variant:"outline",children:"Basic"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{variant:"outline",children:"Basic"})}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:a.jsx(je,{className:"bg-purple-500 text-white",children:"Advanced"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{className:"bg-orange-500 text-white",children:"Advanced"})})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"Number of Students"}),a.jsx("td",{className:"text-center p-4",children:"1"}),a.jsx("td",{className:"text-center p-4",children:"1"}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:"1"}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{className:"bg-orange-500 text-white",children:"Up to 5"})})]})]})]})})})]}),a.jsxs(te,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Frequently Asked Questions"})}),a.jsxs(ne,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Can I cancel anytime?"}),a.jsx("p",{className:"text-gray-600",children:"Yes! You can cancel your subscription at any time from this page. You'll continue to have access until the end of your billing period."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"What payment methods do you accept?"}),a.jsx("p",{className:"text-gray-600",children:"We accept all major credit cards (Visa, Mastercard, American Express) and debit cards through our secure payment provider, Square."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Is there a free trial?"}),a.jsx("p",{className:"text-gray-600",children:"The free version gives you access to basic features to try out the app. Premium features are available immediately upon subscription."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"What's the difference between monthly and annual plans?"}),a.jsx("p",{className:"text-gray-600",children:"Annual plans save you 20% compared to monthly subscriptions. You pay upfront for the year and get uninterrupted access to all premium features."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Can I upgrade or downgrade my plan?"}),a.jsx("p",{className:"text-gray-600",children:"Yes! Contact our support team and we'll help you switch plans. Changes typically take effect at the start of your next billing cycle."})]})]})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(te,{className:"max-w-md w-full border-4 border-red-300",children:[a.jsx(_e,{className:"bg-red-50",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-red-700",children:[a.jsx(zr,{className:"w-6 h-6"}),"Cancel Subscription?"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"Are you sure you want to cancel your subscription?"}),a.jsxs(Ue,{className:"bg-yellow-50 border-yellow-300",children:[a.jsx(zr,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(ze,{className:"text-yellow-800 text-sm",children:["You'll lose access to premium features when your current billing period ends on ",p?hn(p,"MMMM d, yyyy"):"the end date","."]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(oe,{variant:"outline",className:"flex-1",onClick:()=>o(!1),children:"Keep Subscription"}),a.jsx(oe,{variant:"destructive",className:"flex-1",onClick:()=>g.mutate(),disabled:g.isPending,children:g.isPending?"Cancelling...":"Yes, Cancel"})]})]})]})})]})}function UZ(){const[t,e]=S.useState(!1),[n,r]=S.useState(null),[i,s]=S.useState(null),o=async()=>{var c,d;e(!0),s(null),r(null);try{console.log("Calling Firebase Function generateAppIcons...");const m=await(await fetch("/generateAppIcons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json();console.log("Response:",m),m.success&&m.icons?r(m.icons):m.error?s(m.message||m.error):s("Unexpected response format")}catch(f){console.error("Error generating icons:",f),s(((d=(c=f.response)==null?void 0:c.data)==null?void 0:d.message)||f.message||"Failed to generate icons. AI image generation may be temporarily unavailable.")}finally{e(!1)}},l=async(c,d)=>{try{const m=await(await fetch(c)).blob(),p=window.URL.createObjectURL(m),v=document.createElement("a");v.href=p,v.download=d,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(p)}catch{alert("Failed to download icon. Please right-click the image and save manually.")}};return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-xl",children:a.jsx(Kfe,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Generate App Icons"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Create beautiful icons for your PWA"})]}),a.jsxs(te,{className:"border-2 border-purple-200 shadow-lg mb-8",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Yt,{className:"w-6 h-6 text-purple-600"}),"AI Icon Generator"]})}),a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Ue,{className:"bg-blue-50 border-blue-200",children:[a.jsx(Yt,{className:"w-4 h-4 text-blue-600"}),a.jsxs(ze,{className:"text-blue-800",children:[a.jsx("strong",{children:"AI-Powered Design:"})," This will generate professional app icons using AI based on your Math Adventure theme. It creates both 192x192 and 512x512 pixel versions automatically."]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-xl border-2 border-purple-200",children:[a.jsx("h3",{className:"font-bold text-lg mb-3",children:"What You'll Get:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),a.jsxs("span",{children:[a.jsx("strong",{children:"icon-192.png"})," - For mobile devices (192x192px)"]})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),a.jsxs("span",{children:[a.jsx("strong",{children:"icon-512.png"})," - For high-res displays (512x512px)"]})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{children:"Purple-pink gradient matching your app theme"})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{children:"Math symbols and playful design elements"})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{children:"Professional quality, optimized for visibility"})]})]})]}),a.jsx(oe,{onClick:o,disabled:t,className:"w-full h-14 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:t?a.jsxs(a.Fragment,{children:[a.jsx(Uz,{className:"w-5 h-5 mr-2 animate-spin"}),"Generating Icons... (takes ~30 seconds)"]}):a.jsxs(a.Fragment,{children:[a.jsx(Yt,{className:"w-5 h-5 mr-2"}),"Generate Icons with AI"]})})]})})]}),i&&a.jsxs(Ue,{className:"mb-8 bg-orange-50 border-orange-300",children:[a.jsx(zr,{className:"w-5 h-5 text-orange-600"}),a.jsxs(ze,{className:"text-orange-800",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Generation Failed:"})," ",i]}),a.jsx("p",{className:"text-sm mt-2",children:"Don't worry! You can create icons manually using the instructions below."})]})]}),n&&a.jsxs(te,{className:"border-4 border-green-300 shadow-xl bg-gradient-to-r from-green-50 to-emerald-50 mb-8",children:[a.jsx(_e,{className:"bg-gradient-to-r from-green-100 to-emerald-100",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-green-800",children:[a.jsx(Ut,{className:"w-6 h-6"}),"Icons Generated Successfully!"]})}),a.jsxs(ne,{className:"p-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-green-200 text-center",children:[a.jsx("div",{className:"mb-4",children:a.jsx("img",{src:n.icon_512,alt:"512x512 icon",className:"w-64 h-64 mx-auto rounded-2xl shadow-lg"})}),a.jsx("h3",{className:"font-bold text-lg mb-2",children:"icon-512.png"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"High Resolution (512x512px)"}),a.jsxs(oe,{onClick:()=>l(n.icon_512,"icon-512.png"),className:"w-full bg-green-500 hover:bg-green-600",children:[a.jsx(Ig,{className:"w-4 h-4 mr-2"}),"Download 512x512"]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-green-200 text-center",children:[a.jsx("div",{className:"mb-4 flex items-center justify-center",style:{height:"256px"},children:a.jsx("img",{src:n.icon_192,alt:"192x192 icon",className:"w-48 h-48 rounded-2xl shadow-lg"})}),a.jsx("h3",{className:"font-bold text-lg mb-2",children:"icon-192.png"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Standard Resolution (192x192px)"}),a.jsxs(oe,{onClick:()=>l(n.icon_192,"icon-192.png"),className:"w-full bg-green-500 hover:bg-green-600",children:[a.jsx(Ig,{className:"w-4 h-4 mr-2"}),"Download 192x192"]})]})]}),a.jsx(Ue,{className:"bg-blue-50 border-blue-200 mb-4",children:a.jsx(ze,{className:"text-blue-800",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ipe,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold mb-2",children:" Next Steps:"}),a.jsxs("ol",{className:"space-y-2 ml-1 text-sm",children:[a.jsx("li",{children:"1. Download both icons using the buttons above"}),a.jsxs("li",{children:["2. Upload them to your app's ",a.jsx("strong",{children:"public"})," folder in your hosting environment"]}),a.jsxs("li",{children:["3. Make sure they're named exactly ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"icon-192.png"})," and ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"icon-512.png"})]}),a.jsx("li",{children:"4. Your PWA will automatically use them!"})]})]})]})})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Don't like the design? Generate again for a new variation!"}),a.jsxs(oe,{onClick:o,variant:"outline",disabled:t,children:[a.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Generate New Icons"]})]})]})]}),a.jsxs(te,{className:"border-2 border-gray-200",children:[a.jsx(_e,{className:"bg-gray-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(_x,{className:"w-5 h-5"}),"Manual Option: Create Icons Yourself"]})}),a.jsxs(ne,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"If AI generation doesn't work, you can create beautiful icons manually:"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[a.jsxs("h3",{className:"font-bold mb-2 flex items-center gap-2",children:[a.jsx(_x,{className:"w-4 h-4 text-purple-600"}),"Option 1: Use Canva (Easiest)"]}),a.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-700 ml-2",children:[a.jsxs("li",{children:["Go to ",a.jsx("a",{href:"https://www.canva.com",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 underline font-semibold",children:"canva.com"})," (free account)"]}),a.jsxs("li",{children:["Create two custom sizes: ",a.jsx("strong",{children:"512x512px"})," and ",a.jsx("strong",{children:"192x192px"})]}),a.jsx("li",{children:"Add purple-pink gradient background (#9333ea  #ec4899)"}),a.jsxs("li",{children:["Add white math symbols: ",a.jsx("span",{className:"text-2xl",children:""})]}),a.jsx("li",{children:"Make the design playful and kid-friendly"}),a.jsx("li",{children:"Download as PNG files"}),a.jsxs("li",{children:["Rename to ",a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"icon-512.png"})," and ",a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"icon-192.png"})]}),a.jsx("li",{children:"Upload to your app's public folder"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsxs("h3",{className:"font-bold mb-2 flex items-center gap-2",children:[a.jsx(_x,{className:"w-4 h-4 text-blue-600"}),"Option 2: Use Figma"]}),a.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-700 ml-2",children:[a.jsxs("li",{children:["Go to ",a.jsx("a",{href:"https://www.figma.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline font-semibold",children:"figma.com"})]}),a.jsx("li",{children:"Create frames: 512512px and 192192px"}),a.jsx("li",{children:"Apply gradient background (purple to pink)"}),a.jsx("li",{children:"Add math symbols in white"}),a.jsx("li",{children:"Export as PNG @ 1x scale"}),a.jsx("li",{children:"Rename and upload to public folder"})]})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[a.jsx("h3",{className:"font-bold mb-2",children:" Design Tips:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-2",children:[a.jsx("li",{children:"Keep it simple - icons need to be recognizable at small sizes"}),a.jsx("li",{children:"Use high contrast (white on purple/pink works great)"}),a.jsx("li",{children:"Round the corners slightly for a modern look"}),a.jsx("li",{children:"Make sure symbols are centered and balanced"}),a.jsx("li",{children:"Test how it looks at different sizes before finalizing"})]})]})]})]})]})]})}function zZ(){const[t,e]=S.useState(!1),[n,r]=S.useState(null),[i,s]=S.useState(null),o=async()=>{e(!0),s(null),r(null);try{console.log(" Starting icon generation test...");const l=await base44.functions.invoke("generateAppIcons",{});console.log(" Function response:",l),l.data&&l.data.success?r({success:!0,icons:l.data.icons,message:"Icons generated successfully!"}):s("Function returned but no icons generated")}catch(l){console.error(" Icon generation failed:",l),s(l.message||"Unknown error occurred")}finally{e(!1)}};return a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsxs(te,{className:"border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-100 to-cyan-100",children:a.jsx(Ne,{children:" Icon Generation Test"})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx(Ue,{className:"bg-blue-50 border-blue-200",children:a.jsx(ze,{children:"This page tests the icon generation function. Click the button below to generate test icons."})}),a.jsx(oe,{onClick:o,disabled:t,className:"w-full h-14 text-lg bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600",children:t?a.jsxs(a.Fragment,{children:[a.jsx(Uz,{className:"w-5 h-5 mr-2 animate-spin"}),"Testing Icon Generation... (30 seconds)"]}):a.jsx(a.Fragment,{children:" Run Icon Generation Test"})}),i&&a.jsxs(Ue,{className:"bg-red-50 border-red-200",children:[a.jsx(yd,{className:"w-4 h-4 text-red-600"}),a.jsxs(ze,{className:"text-red-800",children:[a.jsx("strong",{children:"Test Failed:"})," ",i]})]}),n&&n.success&&a.jsxs(Ue,{className:"bg-green-50 border-green-200",children:[a.jsx(Ut,{className:"w-4 h-4 text-green-600"}),a.jsxs(ze,{className:"text-green-800",children:[a.jsx("strong",{children:" Test Passed!"})," Icons generated successfully!"]})]}),n&&n.icons&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-bold text-lg",children:"Generated Icons:"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-xl border-2 border-green-200",children:[a.jsx("img",{src:n.icons.icon_512,alt:"512x512 icon",className:"w-full rounded-lg shadow-lg mb-2"}),a.jsx("p",{className:"text-sm font-bold text-center",children:"512x512 Icon"}),a.jsx("p",{className:"text-xs text-gray-600 text-center break-all mt-1",children:n.icons.icon_512})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl border-2 border-green-200",children:[a.jsx("img",{src:n.icons.icon_192,alt:"192x192 icon",className:"w-full rounded-lg shadow-lg mb-2"}),a.jsx("p",{className:"text-sm font-bold text-center",children:"192x192 Icon"}),a.jsx("p",{className:"text-xs text-gray-600 text-center break-all mt-1",children:n.icons.icon_192})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-bold mb-2",children:"Test Details:"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Function: generateAppIcons"}),a.jsx("li",{children:"Expected: 2 icon URLs (192x192 and 512x512)"}),a.jsx("li",{children:"AI Model: Image Generation via Base44 Core"}),a.jsx("li",{children:"Timeout: ~30 seconds"})]})]})]})]})})}function WZ(){const t=Zc(),{data:e,isLoading:n}=dt({queryKey:["isAuthenticated"],queryFn:async()=>{try{return!0}catch{return!1}}});S.useEffect(()=>{!n&&e&&t(Xe("Home"))},[e,n,t]);const r=()=>{};if(n)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-white",children:"Loading..."})]})});const i=[{icon:Lfe,title:"12 Math Concepts",description:"Addition, subtraction, multiplication, division, fractions, decimals, percentages, geometry & more!",gradient:"from-blue-400 to-cyan-500",emoji:""},{icon:pr,title:"AI Math Tutor",description:"Stuck on a problem? Get instant help with step-by-step explanations!",gradient:"from-purple-400 to-pink-500",emoji:""},{icon:Ct,title:"Daily Challenges",description:"New challenges every day! Compete for bonus stars and climb the leaderboard!",gradient:"from-yellow-400 to-orange-500",emoji:""},{icon:Nt,title:"Earn Rewards",description:"Collect stars and coins to unlock cool avatar items, pets, badges, and power-ups!",gradient:"from-green-400 to-emerald-500",emoji:""},{icon:vr,title:"Team Challenges",description:"Team up with friends and family to complete challenges together!",gradient:"from-indigo-400 to-purple-500",emoji:""},{icon:Bi,title:"Safe & Secure",description:"Advanced parental controls, time limits, and content filtering for peace of mind",gradient:"from-red-400 to-pink-500",emoji:""}],s=[{emoji:"",name:"Addition",grade:"K-4"},{emoji:"",name:"Subtraction",grade:"K-4"},{emoji:"",name:"Multiplication",grade:"2-5"},{emoji:"",name:"Division",grade:"3-6"},{emoji:"",name:"Fractions",grade:"3-6"},{emoji:"0.5",name:"Decimals",grade:"4-7"},{emoji:"%",name:"Percentages",grade:"5-8"},{emoji:"",name:"Word Problems",grade:"2-6"},{emoji:"",name:"Money Math",grade:"1-5"},{emoji:"",name:"Time",grade:"1-4"},{emoji:"",name:"Geometry",grade:"3-7"},{emoji:"",name:"Mixed",grade:"3-8"}],o=[{text:"My kids actually BEG to practice math now! They love earning stars and unlocking new pets. Best $1 we've ever spent!",author:"Sarah M.",role:"Parent of 2 (Ages 7 & 9)",rating:5,emoji:""},{text:"The AI tutor is incredible! It explains things in a way my students actually understand. My whole class is hooked!",author:"Mr. Johnson",role:"3rd Grade Teacher",rating:5,emoji:""},{text:"I used to hate math but now it's FUN! I got the dragon pet and I'm on a 12-day streak! ",author:"Emma, Age 9",role:"Student & Math Champion",rating:5,emoji:""}],l=[{icon:Ct,value:"10,000+",label:"Games Played Daily",color:"text-yellow-600"},{icon:Nt,value:"50,000+",label:"Stars Earned",color:"text-purple-600"},{icon:vr,value:"1,000+",label:"Happy Learners",color:"text-blue-600"},{icon:ig,value:"100%",label:"Fun Guaranteed",color:"text-pink-600"}],c=[{emoji:"",name:"Dragon Pet",desc:"Levels up with you!"},{emoji:"",name:"Crown",desc:"Show you're a champion!"},{emoji:"",name:"Custom Avatar",desc:"100+ items to unlock!"},{emoji:"",name:"Power-Ups",desc:"Time freeze, hints & more!"}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx(Wt.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-20",children:""}),a.jsx(Wt.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-40 right-20 text-7xl opacity-20",children:""}),a.jsx(Wt.div,{animate:{y:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-40 text-5xl opacity-20",children:""}),a.jsx(Wt.div,{animate:{x:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 right-10 text-6xl opacity-20",children:""})]}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 md:py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Wt.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"inline-block mb-8",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl transform rotate-12 animate-pulse",children:a.jsx("span",{className:"text-7xl md:text-8xl transform -rotate-12",children:""})}),a.jsx(Wt.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 text-4xl",children:""}),a.jsx(Wt.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -left-2 text-4xl",children:""})]})}),a.jsx(Wt.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 text-white drop-shadow-2xl",children:"Math is FUN Now! "}),a.jsx(Wt.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl text-white mb-4 max-w-3xl mx-auto font-bold drop-shadow-lg",children:"Learn  Play  Earn Rewards  Level Up!"}),a.jsxs(Wt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[a.jsxs(je,{className:"bg-white text-purple-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[a.jsx(Ut,{className:"w-5 h-5 mr-2"}),"100% FREE to Start"]}),a.jsxs(je,{className:"bg-white text-pink-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[a.jsx(ig,{className:"w-5 h-5 mr-2"}),"Kids LOVE It!"]}),a.jsxs(je,{className:"bg-white text-blue-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[a.jsx(Yt,{className:"w-5 h-5 mr-2"}),"AI-Powered"]})]}),a.jsxs(Wt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[a.jsxs(oe,{onClick:r,className:"h-20 px-12 text-2xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:[a.jsx(Sme,{className:"w-8 h-8 mr-3"}),"START FREE NOW! "]}),a.jsxs(oe,{variant:"outline",onClick:()=>{var d;return(d=document.getElementById("features"))==null?void 0:d.scrollIntoView({behavior:"smooth"})},className:"h-20 px-10 text-xl font-bold border-4 border-white text-white hover:bg-white hover:text-purple-600 shadow-xl",children:["See What's Inside",a.jsx(Bz,{className:"w-6 h-6 ml-2"})]})]}),a.jsx(Wt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:l.map((d,f)=>{const m=d.icon;return a.jsxs(Wt.div,{whileHover:{scale:1.05},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border-4 border-yellow-300",children:[a.jsx(m,{className:`w-10 h-10 mx-auto mb-3 ${d.color}`}),a.jsx("div",{className:"text-3xl font-black text-gray-800",children:d.value}),a.jsx("div",{className:"text-sm font-bold text-gray-600 mt-1",children:d.label})]},f)})})]})}),a.jsx("div",{className:"bg-white py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"What's Inside? Everything! "}),a.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Your kids will love these amazing features!"})]}),a.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-16",children:c.map((d,f)=>a.jsxs(Wt.div,{whileHover:{y:-10,scale:1.05},className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-8 text-center border-4 border-purple-300 shadow-xl",children:[a.jsx("div",{className:"text-7xl mb-4",children:d.emoji}),a.jsx("h3",{className:"font-black text-xl mb-2 text-purple-800",children:d.name}),a.jsx("p",{className:"text-gray-700 font-semibold",children:d.desc})]},f))}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h3",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-gray-800",children:"12 Math Skills to Master! "}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:s.map((d,f)=>a.jsxs(Wt.div,{whileHover:{scale:1.1,rotate:5},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 text-center border-3 border-blue-200 shadow-lg hover:shadow-2xl transition-all",children:[a.jsx("div",{className:"text-5xl mb-3",children:d.emoji}),a.jsx("div",{className:"font-bold text-sm text-gray-800",children:d.name}),a.jsx(je,{className:"mt-2 bg-purple-500 text-white text-xs",children:d.grade})]},f))})]})]})}),a.jsx("div",{id:"features",className:"bg-gradient-to-br from-yellow-50 to-orange-50 py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Why Kids Are OBSESSED! "}),a.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Learning has never been this fun!"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map((d,f)=>{const m=d.icon;return a.jsxs(Wt.div,{whileHover:{y:-10},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300",children:[a.jsxs("div",{className:`h-32 bg-gradient-to-br ${d.gradient} flex items-center justify-center relative`,children:[a.jsx("div",{className:"text-7xl",children:d.emoji}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx(m,{className:"w-10 h-10 text-white opacity-50"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-2xl font-black mb-3 text-gray-800",children:d.title}),a.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:d.description})]})]},f)})})]})}),a.jsx("div",{className:"bg-white py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"So Easy, Even Parents Can Do It! "}),a.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Three simple steps to math mastery"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsxs(Wt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-green-600",children:[a.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:a.jsx("span",{className:"text-5xl font-black text-green-500",children:"1"})}),a.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Pick & Play! "}),a.jsx("p",{className:"text-xl font-bold text-center",children:"Choose a math topic and difficulty. Start playing in seconds!"})]}),a.jsxs(Wt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-blue-400 to-cyan-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-blue-600",children:[a.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:a.jsx("span",{className:"text-5xl font-black text-blue-500",children:"2"})}),a.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Learn & Win! "}),a.jsx("p",{className:"text-xl font-bold text-center",children:"Solve problems, get AI help when stuck, earn stars & coins!"})]}),a.jsxs(Wt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-purple-600",children:[a.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:a.jsx("span",{className:"text-5xl font-black text-purple-500",children:"3"})}),a.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Unlock Rewards! "}),a.jsx("p",{className:"text-xl font-bold text-center",children:"Buy avatars, pets, badges, power-ups and MORE!"})]})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Parents & Kids LOVE Us! "}),a.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Don't just take our word for it..."})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:o.map((d,f)=>a.jsxs(Wt.div,{whileHover:{y:-10,scale:1.02},className:"bg-white rounded-3xl p-8 shadow-2xl border-4 border-purple-300",children:[a.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(d.rating)].map((m,p)=>a.jsx(Nt,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"},p))}),a.jsx("div",{className:"text-6xl mb-4",children:d.emoji}),a.jsxs("p",{className:"text-gray-700 mb-6 italic font-semibold text-lg",children:['"',d.text,'"']}),a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-lg text-gray-800",children:d.author}),a.jsx("p",{className:"text-sm text-gray-600 font-bold",children:d.role})]})]},f))})]})}),a.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 py-20",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[a.jsx(Wt.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-8xl mb-8",children:""}),a.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 text-white drop-shadow-2xl",children:"Ready for Math Adventure?"}),a.jsx("p",{className:"text-3xl text-white mb-12 font-bold drop-shadow-lg",children:"Join 1,000+ kids having FUN with math!"}),a.jsxs(oe,{onClick:r,className:"h-24 px-16 text-3xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-110 transition-all animate-pulse",children:[a.jsx(yme,{className:"w-10 h-10 mr-4"}),"LET'S GO! IT'S FREE! "]}),a.jsx("p",{className:"text-white mt-6 text-lg font-bold drop-shadow",children:" No credit card   Start in 30 seconds   100% kid-safe"})]})}),a.jsx("div",{className:"bg-gray-900 text-white py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("h3",{className:"text-3xl font-black mb-2",children:"Math Adventure"}),a.jsx("p",{className:"text-gray-400 mb-4 text-lg",children:"Making math fun, one game at a time! "}),a.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Math Adventure. Built with  for learners everywhere."})]})})]})}function HZ(){return a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Loading..."})]})})}const lU={heart:{name:"Heart",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,1,1,0,0,0,1,1,0,0,0],[0,1,2,2,1,0,1,2,2,1,0,0],[1,2,2,2,2,1,2,2,2,2,1,0],[1,2,2,2,2,2,2,2,2,2,1,0],[1,2,2,2,2,2,2,2,2,2,1,0],[0,1,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,1,0,0,0,0],[0,0,0,0,1,2,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},star:{name:"Star",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,0,0,0,1,1,0,0,0,0,0],[0,0,0,0,1,3,3,1,0,0,0,0],[0,0,0,1,3,3,3,3,1,0,0,0],[0,0,0,0,1,3,3,1,0,0,0,0],[0,0,1,3,3,3,3,3,3,1,0,0],[0,1,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,1,3,3,1,3,3,3,1],[0,1,1,1,0,1,1,0,1,1,1,0],[0,1,3,3,1,0,0,1,3,3,1,0],[1,3,3,3,3,1,1,3,3,3,3,1],[0,1,1,1,1,0,0,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},fish:{name:"Fish",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:14,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,1,4,4,4,4,4,1,1,0,0,0],[0,0,1,4,4,4,4,4,4,4,4,1,0,0],[0,1,4,4,5,5,4,4,4,4,4,4,1,1],[0,1,4,4,5,5,4,4,4,4,4,4,1,2],[0,1,4,4,4,4,4,4,4,4,4,4,1,2],[0,1,4,4,4,4,4,4,4,4,4,4,1,1],[0,0,1,4,4,4,4,4,4,1,1,0,0,0],[0,0,0,1,4,4,4,4,4,1,1,0,0,0],[0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,2,2,2,2,2,2,2,2,2,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},smiley:{name:"Smiley Face",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,0,1,1,1,1,1,1,0,0,0],[0,0,1,3,3,3,3,3,3,1,0,0],[0,1,3,3,3,3,3,3,3,3,1,0],[1,3,3,1,1,3,3,1,1,3,3,1],[1,3,3,1,5,3,3,1,5,3,3,1],[1,3,3,1,1,3,3,1,1,3,3,1],[1,3,3,3,3,3,3,3,3,3,3,1],[1,3,1,3,3,3,3,3,3,1,3,1],[0,1,3,1,2,2,2,2,1,3,1,0],[0,1,3,3,1,1,1,1,3,3,1,0],[0,0,1,3,3,3,3,3,3,1,0,0],[0,0,0,1,1,1,1,1,1,0,0,0]]},sun:{name:"Sun",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,0,0,0,4,4,0,0,0,0,0],[0,0,0,0,0,4,4,0,0,0,0,0],[0,0,1,1,1,1,1,1,1,1,0,0],[4,0,1,3,3,3,3,3,3,1,0,4],[4,0,1,3,3,3,3,3,3,1,0,4],[0,1,3,3,3,3,3,3,3,3,1,0],[0,1,3,3,3,3,3,3,3,3,1,0],[4,0,1,3,3,3,3,3,3,1,0,4],[4,0,1,3,3,3,3,3,3,1,0,4],[0,0,1,1,1,1,1,1,1,1,0,0],[0,0,0,0,0,4,4,0,0,0,0,0],[0,0,0,0,0,4,4,0,0,0,0,0]]},apple:{name:"Apple",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,0,0,0,5,5,0,0,0,0,0],[0,0,0,0,0,5,6,6,0,0,0,0],[0,0,1,1,1,1,6,1,1,1,0,0],[0,1,2,2,2,2,1,2,2,2,1,0],[1,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,1],[0,1,2,2,2,2,2,2,2,2,1,0],[0,0,1,2,2,2,2,2,2,1,0,0],[0,0,0,1,1,1,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},balloon:{name:"Balloon",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,1,2,2,2,2,2,2,1,0,0],[0,1,2,2,2,2,2,2,2,2,1,0],[1,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,1],[0,1,2,2,2,2,2,2,2,2,1,0],[0,0,1,2,2,2,2,2,2,1,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,0,1,3,3,1,0,0,0,0],[0,0,0,0,0,1,1,0,0,0,0,0]]},car:{name:"Car",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:14,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,1,5,5,1,5,5,1,0,0,0,0],[0,0,1,5,5,5,5,5,5,5,1,0,0,0],[0,1,2,2,2,2,2,2,2,2,2,1,0,0],[1,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,2,2,1,1,2,2,2,1,1,2,2,1,0],[1,2,2,1,1,2,2,2,1,1,2,2,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,6,6,6,1,0,0,1,6,6,6,1,0],[0,1,6,6,6,1,0,0,1,6,6,6,1,0],[0,0,1,1,1,0,0,0,0,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},flower:{name:"Flower",emoji:"",difficulty:"medium",grades:["2","3","4"],gridSize:14,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,0,0,1,1,1,0,0,0],[0,0,1,6,6,6,1,1,6,6,6,1,0,0],[0,0,1,6,6,6,6,6,6,6,6,1,0,0],[0,0,0,1,6,6,6,6,6,6,1,0,0,0],[0,0,0,0,1,3,3,3,3,1,0,0,0,0],[1,1,1,0,1,3,3,3,3,1,0,1,1,1],[1,6,6,1,1,3,3,3,3,1,1,6,6,1],[1,6,6,6,1,3,3,3,3,1,6,6,6,1],[0,1,6,6,6,1,1,1,1,6,6,6,1,0],[0,0,1,1,1,5,5,5,5,1,1,1,0,0],[0,0,0,0,0,1,5,5,1,0,0,0,0,0],[0,0,0,0,0,1,5,5,1,0,0,0,0,0],[0,0,0,2,2,2,2,2,2,2,2,0,0,0]]},butterfly:{name:"Butterfly",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:16,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0],[0,1,5,5,5,1,0,0,0,0,1,5,5,5,1,0],[0,1,5,5,5,5,1,0,0,1,5,5,5,5,1,0],[1,5,5,4,5,5,5,1,1,5,5,5,4,5,5,1],[1,5,5,5,5,5,5,1,1,5,5,5,5,5,5,1],[0,1,5,5,5,5,1,1,1,1,5,5,5,5,1,0],[0,0,1,1,1,1,1,2,2,1,1,1,1,1,0,0],[0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0],[0,0,1,1,1,1,2,2,2,2,1,1,1,1,0,0],[0,1,6,6,6,6,1,2,2,1,6,6,6,6,1,0],[1,6,6,6,6,6,6,1,1,6,6,6,6,6,6,1],[1,6,6,4,6,6,1,0,0,1,6,6,4,6,6,1],[0,1,1,1,1,1,0,0,0,0,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},rocket:{name:"Rocket",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:14,pattern:[[0,0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,1,2,2,1,0,0,0,0,0],[0,0,0,0,1,2,2,2,2,1,0,0,0,0],[0,0,0,0,1,2,2,2,2,1,0,0,0,0],[0,0,0,0,1,2,4,4,2,1,0,0,0,0],[0,0,0,0,1,2,4,4,2,1,0,0,0,0],[0,0,0,1,1,2,2,2,2,1,1,0,0,0],[0,0,1,3,1,2,2,2,2,1,3,1,0,0],[0,1,3,3,1,2,2,2,2,1,3,3,1,0],[1,3,3,3,1,2,2,2,2,1,3,3,3,1],[1,3,3,1,1,1,1,1,1,1,1,3,3,1],[0,1,1,0,1,5,5,5,5,1,0,1,1,0],[0,0,0,0,1,5,5,5,5,1,0,0,0,0],[0,0,0,0,0,1,1,1,1,0,0,0,0,0]]},dinosaur:{name:"Dinosaur",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:16,pattern:[[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,1,3,3,3,1,0,0,0,0,0,0],[0,0,0,0,1,3,3,3,3,3,1,0,0,0,0,0],[0,0,0,0,1,3,5,3,3,3,1,0,0,0,0,0],[0,0,0,0,1,3,3,3,3,3,1,0,0,0,0,0],[0,0,0,1,1,3,3,3,3,3,1,1,0,0,0,0],[0,0,1,3,3,3,3,3,3,3,3,3,1,0,0,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,1,0,0],[1,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,3,1,1,3,3,1,1,3,3,3,1,0],[0,1,3,3,3,1,1,3,3,1,1,3,3,1,0,0],[0,0,1,1,1,0,0,1,1,0,0,1,1,0,0,0],[0,0,2,2,2,2,2,2,2,2,2,2,2,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},owl:{name:"Owl",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:14,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,0,0,0,0],[0,0,0,1,4,4,4,4,4,4,1,0,0,0],[0,0,1,4,4,4,4,4,4,4,4,1,0,0],[0,1,4,4,1,1,4,4,1,1,4,4,1,0],[0,1,4,1,5,5,1,1,5,5,1,4,1,0],[0,1,4,1,5,5,1,1,5,5,1,4,1,0],[0,1,4,4,1,1,4,4,1,1,4,4,1,0],[0,1,4,4,4,4,4,4,4,4,4,4,1,0],[0,1,4,4,4,1,3,3,1,4,4,4,1,0],[0,0,1,4,4,1,3,3,1,4,4,1,0,0],[0,0,1,4,4,4,1,1,4,4,4,1,0,0],[0,0,0,1,1,1,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},robot:{name:"Robot",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:14,pattern:[[0,0,0,0,0,1,1,1,1,0,0,0,0,0],[0,0,0,0,1,6,6,6,6,1,0,0,0,0],[0,0,0,1,2,2,2,2,2,2,1,0,0,0],[0,0,1,2,2,1,2,2,1,2,2,1,0,0],[0,0,1,2,2,4,2,2,4,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,1,1,1,1,1,1,2,1,0,0],[0,1,1,2,2,2,2,2,2,2,2,1,1,0],[1,3,1,2,2,2,2,2,2,2,2,1,3,1],[0,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,1,5,5,1,1,5,5,1,0,0,0],[0,0,0,1,5,5,1,1,5,5,1,0,0,0],[0,0,0,1,1,1,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},icecream:{name:"Ice Cream",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:14,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,0,0,0,0],[0,0,0,1,6,6,6,6,6,6,1,0,0,0],[0,0,1,6,6,6,6,6,6,6,6,1,0,0],[0,1,6,6,2,2,6,6,2,2,6,6,1,0],[0,1,6,6,2,2,6,6,2,2,6,6,1,0],[0,1,6,6,6,6,6,6,6,6,6,6,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,1,4,4,4,4,4,4,1,0,0,0],[0,0,0,0,1,4,4,4,4,1,0,0,0,0],[0,0,0,0,0,1,4,4,1,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},sailboat:{name:"Sailboat",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:14,pattern:[[0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,5,1,0,0,0,0,0],[0,0,0,0,0,0,1,5,5,1,0,0,0,0],[0,0,0,0,0,0,1,5,5,5,1,0,0,0],[0,0,0,0,0,0,1,5,5,5,5,1,0,0],[0,0,0,1,1,1,1,1,1,1,1,1,1,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,1],[0,1,2,2,2,2,2,2,2,2,2,2,2,1],[0,1,2,2,2,2,2,2,2,2,2,2,1,0],[0,0,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,3,3,3,3,3,3,3,3,3,3,3,0],[0,0,3,3,3,3,3,3,3,3,3,3,3,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},rainbow:{name:"Rainbow",emoji:"",difficulty:"hard",grades:["4","5","6"],gridSize:16,pattern:[[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,1,2,2,2,2,2,2,2,2,2,2,1,1,0],[0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,1,2,3,3,3,3,3,3,3,3,3,3,2,1,1],[1,2,3,3,3,3,3,3,3,3,3,3,3,3,2,1],[1,2,3,4,4,4,4,4,4,4,4,4,4,3,2,1],[1,2,3,4,5,5,5,5,5,5,5,5,4,3,2,1],[1,2,3,4,5,6,6,6,6,6,6,5,4,3,2,1],[1,2,3,4,5,6,0,0,0,0,6,5,4,3,2,1],[1,2,3,4,5,0,0,0,0,0,0,5,4,3,2,1],[1,2,3,4,0,0,0,0,0,0,0,0,4,3,2,1],[0,1,2,0,0,0,0,0,0,0,0,0,0,2,1,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},house:{name:"House",emoji:"",difficulty:"hard",grades:["4","5","6"],gridSize:16,pattern:[[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0],[0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0],[0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0],[0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,3,3,3,3,3,1,4,4,1,3,3,3,3,3,1],[1,3,3,3,3,3,1,4,4,1,3,3,3,3,3,1],[1,3,3,5,5,3,1,4,4,1,3,3,5,5,3,1],[1,3,3,5,5,3,1,4,4,1,3,3,5,5,3,1],[1,3,3,3,3,3,1,4,4,1,3,3,3,3,3,1],[1,3,3,3,3,3,1,4,4,1,3,3,3,3,3,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0]]},dragon:{name:"Dragon",emoji:"",difficulty:"hard",grades:["5","6","7"],gridSize:18,pattern:[[0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,3,3,3,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,3,3,3,3,3,1,0,0,0,0,0],[0,0,0,0,0,1,3,3,5,3,3,3,3,1,0,0,0,0],[0,0,0,0,1,3,3,3,3,3,3,3,3,3,1,0,0,0],[0,0,0,1,3,3,3,3,3,3,3,3,3,3,3,1,0,0],[0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,3,1,1,3,3,3,1,1,3,3,3,1,0,0],[1,3,3,3,3,1,1,3,3,3,1,1,3,3,1,0,0,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,1,0,0,0,0],[0,0,1,1,3,3,3,3,3,3,3,3,1,0,0,0,0,0],[0,0,0,0,1,1,3,3,3,3,1,1,0,0,0,0,0,0],[0,0,0,0,0,2,2,2,2,2,2,0,0,0,0,0,0,0],[0,0,0,0,0,2,2,2,2,2,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},castle:{name:"Castle",emoji:"",difficulty:"hard",grades:["5","6","7"],gridSize:18,pattern:[[0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0],[0,1,2,1,0,0,0,0,0,0,0,0,0,0,1,2,1,0],[0,1,2,1,0,0,0,1,1,1,1,0,0,0,1,2,1,0],[0,1,2,1,0,0,1,4,4,4,4,1,0,0,1,2,1,0],[0,1,2,1,1,1,4,4,4,4,4,4,1,1,1,2,1,0],[0,1,2,2,2,2,4,4,4,4,4,4,2,2,2,2,1,0],[0,1,2,2,2,2,4,4,4,4,4,4,2,2,2,2,1,0],[0,1,2,5,5,2,4,4,4,4,4,4,2,5,5,2,1,0],[0,1,2,5,5,2,4,4,4,4,4,4,2,5,5,2,1,0],[0,1,2,2,2,2,4,4,4,4,4,4,2,2,2,2,1,0],[0,1,2,2,2,2,4,4,1,1,4,4,2,2,2,2,1,0],[0,1,2,2,2,2,4,4,1,1,4,4,2,2,2,2,1,0],[0,1,2,2,2,2,4,4,1,1,4,4,2,2,2,2,1,0],[0,1,2,2,2,2,4,4,4,4,4,4,2,2,2,2,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0],[0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},unicorn:{name:"Unicorn",emoji:"",difficulty:"hard",grades:["5","6","7"],gridSize:16,pattern:[[0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,6,6,1,0,0,0,0,0,0],[0,0,0,0,0,1,5,1,1,5,1,0,0,0,0,0],[0,0,0,0,1,5,5,5,5,5,5,1,0,0,0,0],[0,0,0,1,5,5,5,5,5,5,5,5,1,0,0,0],[0,0,1,3,3,5,5,5,5,5,5,3,3,1,0,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[0,1,3,1,1,3,3,3,3,3,3,1,1,3,1,0],[0,1,3,1,4,3,3,3,3,3,3,1,4,3,1,0],[0,1,3,1,1,3,3,3,3,3,3,1,1,3,1,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[0,0,1,3,3,3,3,3,3,3,3,3,3,1,0,0],[0,0,0,1,3,3,3,1,1,3,3,3,1,0,0,0],[0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0],[0,0,0,2,2,2,2,2,2,2,2,2,2,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},spaceship:{name:"Spaceship",emoji:"",difficulty:"hard",grades:["5","6","7"],gridSize:16,pattern:[[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0],[0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0],[0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0],[0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,5,5,5,1,5,5,5,5,5,5,1,5,5,5,1],[1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1],[0,1,5,5,5,5,5,5,5,5,5,5,5,5,1,0],[0,0,1,1,5,5,5,5,5,5,5,5,1,1,0,0],[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0],[0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},elephant:{name:"Elephant",emoji:"",difficulty:"hard",grades:["5","6","7"],gridSize:18,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,1,3,3,3,3,3,3,3,3,1,0,0,0,0],[0,0,0,1,3,3,3,3,3,3,3,3,3,3,1,0,0,0],[0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,1,0,0],[0,1,3,3,1,1,3,3,3,3,3,3,1,1,3,3,1,0],[0,1,3,3,1,5,3,3,3,3,3,3,1,5,3,3,1,0],[0,1,3,3,1,1,3,3,3,3,3,3,1,1,3,3,1,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1],[1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1],[1,3,3,3,3,1,1,3,3,3,3,1,1,3,3,3,3,1],[0,1,1,3,3,1,1,3,3,3,3,1,1,3,3,1,1,0],[0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}};function GZ(){const t=Zc(),e=xr(),n=new URLSearchParams(window.location.search),r=n.get("operation")||"addition",i=n.get("level")||"easy",s=n.get("template"),[o,l]=S.useState(r),[c,d]=S.useState(i),[f,m]=S.useState({}),[p,v]=S.useState(null),[w,x]=S.useState(!1),[g,_]=S.useState(!1),[T,A]=S.useState(!s),[I,P]=S.useState(s||null),[C,E]=S.useState(!1),[N,O]=S.useState("brush"),[D,L]=S.useState(1),[$,F]=S.useState(!1),[G,Y]=S.useState(null),[K,X]=S.useState(!1),{data:U}=dt({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),re=(()=>{const Pe=[],ve=[],De=[];return Object.entries(lU).forEach(([st,Be])=>{Be.difficulty==="easy"?Pe.push([st,Be]):Be.difficulty==="medium"?ve.push([st,Be]):Be.difficulty==="hard"&&De.push([st,Be])}),{easy:Pe,medium:ve,hard:De}})(),W=()=>{const Pe={easy:{min:0,max:5,answers:[1,2,3,4,5,6]},medium:{min:0,max:10,answers:[2,4,6,8,10,12]},hard:{min:5,max:15,answers:[5,10,15,20,25,30]}},ve=Pe[c]||Pe.easy,De=[],st=ve.answers;return st.forEach(Be=>{let gt="";if(o==="addition"){const jt=Math.floor(Math.random()*Math.min(Be,ve.max)),_t=Be-jt;gt=`${jt}+${_t}`}else if(o==="subtraction"){const jt=Be+Math.floor(Math.random()*ve.max)+ve.min,_t=jt-Be;gt=`${jt}-${_t}`}else if(o==="multiplication"){const jt=Math.max(1,Math.floor(Math.random()*5)),_t=Math.floor(Be/jt);jt*_t===Be?gt=`${jt}${_t}`:gt=`${Be}1`}else if(o==="division"){const jt=Math.max(1,Math.floor(Math.random()*5));gt=`${Be*jt}${jt}`}De.push({question:gt,answer:Be,color:Z(Be,st)})}),De},Z=(Pe,ve)=>{const De=[{name:"Red",hex:"#EF4444",answer:ve[0]},{name:"Blue",hex:"#3B82F6",answer:ve[1]},{name:"Green",hex:"#10B981",answer:ve[2]},{name:"Yellow",hex:"#F59E0B",answer:ve[3]},{name:"Purple",hex:"#A855F7",answer:ve[4]},{name:"Pink",hex:"#EC4899",answer:ve[5]}],st=ve.indexOf(Pe);return De[st]||De[0]},[ue,le]=S.useState(()=>W());S.useEffect(()=>{le(W()),m({}),x(!1),v(null)},[o,c]);const be=[...new Set(ue.map(Pe=>Pe.color))],ge=I?lU[I]:null,me=Pn({mutationFn:Pe=>base44.entities.GameProgress.create(Pe),onSuccess:()=>{e.invalidateQueries({queryKey:["gameProgress"]});const ve=((U==null?void 0:U.coins)||0)+25;base44.auth.updateMe({coins:ve})}}),Ie=()=>{let Pe=0;ge.pattern.forEach(ve=>{ve.forEach(De=>{De!==0&&Pe++})}),me.mutate({level:c,operation:o,score:100,correct_answers:Pe,total_questions:Pe,time_taken:0,stars_earned:3,coins_earned:25,learning_objective:`Pixel art color by numbers - ${ge==null?void 0:ge.name} - practicing ${o}`})},fe=async()=>{if(!ge)return null;X(!0);try{const Pe=document.createElement("canvas"),ve=Pe.getContext("2d"),De=40,st=ge.gridSize;Pe.width=st*De,Pe.height=st*De,ge.pattern.forEach((jt,_t)=>{jt.forEach((fn,Ir)=>{const xo=`${_t}-${Ir}`,ys=Ir*De,vs=_t*De;fn===0?ve.fillStyle="#F3F4F6":ve.fillStyle=f[xo]||"#FFFFFF",ve.fillRect(ys,vs,De,De),ve.strokeStyle="#9CA3AF",ve.lineWidth=1,ve.strokeRect(ys,vs,De,De)})});const Be=await new Promise(jt=>Pe.toBlob(jt,"image/png")),gt=URL.createObjectURL(Be);return Y(gt),X(!1),gt}catch(Pe){return console.error("Error capturing artwork:",Pe),X(!1),null}};S.useEffect(()=>{if(!ge)return;let Pe=0,ve=0,De=0;ge.pattern.forEach((st,Be)=>{st.forEach((gt,jt)=>{if(gt!==0){Pe++;const _t=`${Be}-${jt}`,fn=ue[gt-1];f[_t]&&(ve++,f[_t]===(fn==null?void 0:fn.color.hex)&&De++)}})}),Pe>0&&ve===Pe&&De===Pe&&!w&&(x(!0),Ie(),fe())},[f,ge,w,ue]);const Ae=()=>{if(!G)return;const Pe=document.createElement("a");Pe.href=G,Pe.download=`math-adventure-${ge==null?void 0:ge.name.toLowerCase().replace(/\s+/g,"-")}-${Date.now()}.png`,document.body.appendChild(Pe),Pe.click(),document.body.removeChild(Pe)},Re=()=>{const Pe=` I just completed a ${ge==null?void 0:ge.name} pixel art in Math Adventure! Check out my awesome creation! `,ve=window.location.href,De=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(ve)}&quote=${encodeURIComponent(Pe)}`;window.open(De,"_blank","width=600,height=400")},he=()=>{const Pe=` I just completed a ${ge==null?void 0:ge.name} pixel art in Math Adventure while practicing ${o}!  #MathAdventure #PixelArt #Learning`,ve=window.location.href,De=`https://twitter.com/intent/tweet?text=${encodeURIComponent(Pe)}&url=${encodeURIComponent(ve)}`;window.open(De,"_blank","width=600,height=400")},ot=async()=>{try{await navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")}catch(Pe){console.error("Failed to copy link:",Pe)}},et=(Pe,ve,De,st)=>{if(!ge)return;const Be=new Set,gt=[[Pe,ve]],jt=[];for(;gt.length>0;){const[_t,fn]=gt.pop(),Ir=`${_t}-${fn}`;_t<0||_t>=ge.gridSize||fn<0||fn>=ge.gridSize||Be.has(Ir)||(Be.add(Ir),ge.pattern[_t][fn]!==De)||(jt.push(Ir),gt.push([_t+1,fn]),gt.push([_t-1,fn]),gt.push([_t,fn+1]),gt.push([_t,fn-1]))}return jt},kt=(Pe,ve,De)=>{if(w||De===0)return;const st=`${Pe}-${ve}`;if(N==="brush"){if(!p)return;m(Be=>({...Be,[st]:p}))}else if(N==="fill"){if(!p)return;const Be=et(Pe,ve,De);Be&&Be.length>0&&m(gt=>{const jt={...gt};return Be.forEach(_t=>{jt[_t]=p}),jt})}else N==="eraser"&&m(Be=>{const gt={...Be};return delete gt[st],gt})},It=(Pe,ve,De)=>{if(!p||w||De===0||N!=="brush")return;E(!0);const st=`${Pe}-${ve}`;m(Be=>({...Be,[st]:p}))},Gt=(Pe,ve,De)=>{if(!C||!p||w||De===0||N!=="brush")return;const st=`${Pe}-${ve}`;m(Be=>({...Be,[st]:p}))},Kn=()=>{E(!1)};S.useEffect(()=>{const Pe=()=>{E(!1)};return window.addEventListener("mouseup",Pe),window.addEventListener("touchend",Pe),()=>{window.removeEventListener("mouseup",Pe),window.removeEventListener("touchend",Pe)}},[]);const Ot=()=>{m({}),x(!1),v(null),L(1),Y(null)},tn=()=>{L(Pe=>Math.min(Pe+.25,2))},Cn=()=>{L(Pe=>Math.max(Pe-.25,.5))},wr=()=>{L(1)},fi=Pe=>{P(Pe),A(!1),m({}),x(!1),v(null),L(1),Y(null);const ve=`${window.location.pathname}?operation=${o}&level=${c}&template=${Pe}`;window.history.replaceState({},"",ve)},gs=Pe=>{l(Pe);const ve=ge?`${window.location.pathname}?operation=${Pe}&level=${c}&template=${I}`:`${window.location.pathname}?operation=${Pe}&level=${c}`;window.history.replaceState({},"",ve)},kr=Pe=>{d(Pe);const ve=ge?`${window.location.pathname}?operation=${o}&level=${Pe}&template=${I}`:`${window.location.pathname}?operation=${o}&level=${Pe}`;window.history.replaceState({},"",ve)};if(T)return a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs(oe,{variant:"outline",onClick:()=>t(Xe("Home")),className:"gap-2 mb-4",children:[a.jsx(sd,{className:"w-4 h-4"}),"Back"]}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center justify-center gap-2 mb-2",children:[a.jsx(vd,{className:"w-8 h-8 text-purple-500"}),"Choose Your Pixel Art"]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Pick a fun design to color!"}),a.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-center gap-4 relative z-50",children:[a.jsxs("div",{className:"w-full sm:w-auto",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Math Operation"}),a.jsxs(ci,{value:o,onValueChange:gs,children:[a.jsx(Wr,{className:"w-full sm:w-52 h-12 text-base",children:a.jsx(ui,{placeholder:"Select operation"})}),a.jsxs(Hr,{className:"z-[100]",children:[a.jsx(Ze,{value:"addition",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fr,{className:"w-4 h-4"}),"Addition"]})}),a.jsx(Ze,{value:"subtraction",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mc,{className:"w-4 h-4"}),"Subtraction"]})}),a.jsx(Ze,{value:"multiplication",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tr,{className:"w-4 h-4"}),"Multiplication"]})}),a.jsx(Ze,{value:"division",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hc,{className:"w-4 h-4"}),"Division"]})})]})]})]}),a.jsxs("div",{className:"w-full sm:w-auto",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),a.jsxs(ci,{value:c,onValueChange:kr,children:[a.jsx(Wr,{className:"w-full sm:w-52 h-12 text-base",children:a.jsx(ui,{placeholder:"Select level"})}),a.jsxs(Hr,{className:"z-[100]",children:[a.jsx(Ze,{value:"easy",children:"Easy (K-2nd Grade)"}),a.jsx(Ze,{value:"medium",children:"Medium (3-5th Grade)"}),a.jsx(Ze,{value:"hard",children:"Hard (6-8th Grade)"})]})]})]})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(je,{className:"bg-green-500 text-white text-lg px-4 py-2",children:"Easy"}),a.jsx("span",{className:"text-gray-600 text-lg",children:"Perfect for K-2nd Grade"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:re.easy.map(([Pe,ve])=>a.jsxs(te,{className:"border-4 border-green-200 hover:border-green-500 cursor-pointer transition-all hover:shadow-xl",onClick:()=>fi(Pe),children:[a.jsx(_e,{className:"bg-gradient-to-r from-green-100 to-emerald-100",children:a.jsxs(Ne,{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-2",children:ve.emoji}),a.jsx("div",{className:"text-xl",children:ve.name})]})}),a.jsx(ne,{className:"p-4",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[ve.gridSize,"",ve.gridSize," grid"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Grades: ",ve.grades.join(", ")]}),a.jsxs(je,{className:"bg-blue-500 text-white",children:[a.jsx(Yt,{className:"w-3 h-3 mr-1"}),"Pixel Art Style"]})]})})]},Pe))})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(je,{className:"bg-yellow-500 text-white text-lg px-4 py-2",children:"Medium"}),a.jsx("span",{className:"text-gray-600 text-lg",children:"Great for 3-5th Grade"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:re.medium.map(([Pe,ve])=>a.jsxs(te,{className:"border-4 border-yellow-200 hover:border-yellow-500 cursor-pointer transition-all hover:shadow-xl",onClick:()=>fi(Pe),children:[a.jsx(_e,{className:"bg-gradient-to-r from-yellow-100 to-orange-100",children:a.jsxs(Ne,{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-2",children:ve.emoji}),a.jsx("div",{className:"text-xl",children:ve.name})]})}),a.jsx(ne,{className:"p-4",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[ve.gridSize,"",ve.gridSize," grid"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Grades: ",ve.grades.join(", ")]}),a.jsxs(je,{className:"bg-blue-500 text-white",children:[a.jsx(Yt,{className:"w-3 h-3 mr-1"}),"Pixel Art Style"]})]})})]},Pe))})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(je,{className:"bg-red-500 text-white text-lg px-4 py-2",children:"Hard"}),a.jsx("span",{className:"text-gray-600 text-lg",children:"Challenge for 5-8th Grade"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:re.hard.map(([Pe,ve])=>a.jsxs(te,{className:"border-4 border-red-200 hover:border-red-500 cursor-pointer transition-all hover:shadow-xl",onClick:()=>fi(Pe),children:[a.jsx(_e,{className:"bg-gradient-to-r from-red-100 to-pink-100",children:a.jsxs(Ne,{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-2",children:ve.emoji}),a.jsx("div",{className:"text-xl",children:ve.name})]})}),a.jsx(ne,{className:"p-4",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[ve.gridSize,"",ve.gridSize," grid"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Grades: ",ve.grades.join(", ")]}),a.jsxs(je,{className:"bg-blue-500 text-white",children:[a.jsx(Yt,{className:"w-3 h-3 mr-1"}),"Pixel Art Style"]})]})})]},Pe))})]})]});if(!ge)return a.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8 text-center",children:a.jsx("p",{children:"Loading template..."})});const Hs=40;let Gs=0,Pi=0;return ge.pattern.forEach((Pe,ve)=>{Pe.forEach((De,st)=>{if(De!==0){Gs++;const Be=`${ve}-${st}`;f[Be]&&Pi++}})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4",children:[a.jsxs(oe,{variant:"outline",onClick:()=>A(!0),className:"gap-2",children:[a.jsx(sd,{className:"w-4 h-4"}),"Change Picture"]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(ci,{value:o,onValueChange:gs,children:[a.jsx(Wr,{className:"w-44",children:a.jsx(ui,{})}),a.jsxs(Hr,{children:[a.jsx(Ze,{value:"addition",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fr,{className:"w-4 h-4"}),"Addition"]})}),a.jsx(Ze,{value:"subtraction",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mc,{className:"w-4 h-4"}),"Subtraction"]})}),a.jsx(Ze,{value:"multiplication",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tr,{className:"w-4 h-4"}),"Multiplication"]})}),a.jsx(Ze,{value:"division",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hc,{className:"w-4 h-4"}),"Division"]})})]})]}),a.jsxs(ci,{value:c,onValueChange:kr,children:[a.jsx(Wr,{className:"w-44",children:a.jsx(ui,{})}),a.jsxs(Hr,{children:[a.jsx(Ze,{value:"easy",children:"Easy (K-2)"}),a.jsx(Ze,{value:"medium",children:"Medium (3-5)"}),a.jsx(Ze,{value:"hard",children:"Hard (6-8)"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(oe,{variant:"outline",onClick:()=>_(!g),className:"gap-2",children:[a.jsx(ai,{className:"w-4 h-4"}),g?"Hide":"Show"," Hints"]}),a.jsxs(oe,{variant:"outline",onClick:Ot,className:"gap-2",children:[a.jsx(rI,{className:"w-4 h-4"}),"Reset"]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center justify-center gap-2 mb-2",children:[a.jsx("span",{className:"text-4xl",children:ge.emoji}),ge.name," Pixel Art"]}),a.jsx("p",{className:"text-gray-600",children:"Solve the math problems and color the picture!"}),a.jsxs(je,{className:"mt-2 text-lg px-4 py-1",children:[o.charAt(0).toUpperCase()+o.slice(1)," - ",c.charAt(0).toUpperCase()+c.slice(1)]})]})]}),w&&a.jsxs(Ue,{className:"mb-6 bg-green-50 border-green-300",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),a.jsx(ze,{className:"text-green-800",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("strong",{children:" Pixel Art Complete!"}),a.jsx("p",{className:"text-sm mt-1",children:"You've colored all cells correctly! +25 coins & 3 stars!"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(oe,{onClick:()=>F(!0),className:"bg-blue-500 hover:bg-blue-600",children:[a.jsx(H3,{className:"w-4 h-4 mr-2"}),"Share"]}),a.jsxs(oe,{onClick:()=>A(!0),className:"bg-purple-500 hover:bg-purple-600",children:[a.jsx($me,{className:"w-4 h-4 mr-2"}),"New Picture"]}),a.jsxs(oe,{onClick:()=>t(Xe("Home")),className:"bg-green-500 hover:bg-green-600",children:[a.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Done"]})]})]})})]}),$&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[200] p-4",onClick:()=>F(!1),children:a.jsxs(te,{className:"max-w-2xl w-full border-4 border-purple-300 shadow-2xl",onClick:Pe=>Pe.stopPropagation(),children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H3,{className:"w-6 h-6"}),"Share Your Masterpiece!"]}),a.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>F(!1),className:"text-white hover:bg-white/20",children:a.jsx(Tr,{className:"w-5 h-5"})})]})}),a.jsxs(ne,{className:"p-6",children:[G&&a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"bg-gray-100 rounded-xl p-4 border-2 border-gray-300",children:a.jsx("img",{src:G,alt:"Completed artwork",className:"max-w-full mx-auto",style:{maxHeight:"300px",imageRendering:"pixelated"}})}),a.jsxs("p",{className:"text-center mt-3 text-gray-600",children:[a.jsx("span",{className:"text-2xl",children:ge==null?void 0:ge.emoji})," ",ge==null?void 0:ge.name," - ",o.charAt(0).toUpperCase()+o.slice(1)]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-bold text-lg mb-3",children:"Share on Social Media"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs(oe,{onClick:Re,className:"h-14 bg-[#1877F2] hover:bg-[#166FE5] text-white gap-2 text-base",children:[a.jsx(kfe,{className:"w-5 h-5"}),"Share on Facebook"]}),a.jsxs(oe,{onClick:he,className:"h-14 bg-[#1DA1F2] hover:bg-[#1A94DA] text-white gap-2 text-base",children:[a.jsx(npe,{className:"w-5 h-5"}),"Share on Twitter"]})]}),a.jsxs(Ue,{className:"bg-purple-50 border-purple-200",children:[a.jsx(Xfe,{className:"w-4 h-4 text-purple-600"}),a.jsxs(ze,{className:"text-purple-800 text-sm",children:[a.jsx("strong",{children:"Instagram Tip:"})," Download your artwork below and share it as a post or story!"]})]}),a.jsxs("div",{className:"pt-4 border-t space-y-3",children:[a.jsx("h3",{className:"font-bold text-lg",children:"Download & More"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs(oe,{onClick:Ae,variant:"outline",className:"h-12 gap-2 border-2 border-purple-300 hover:bg-purple-50",children:[a.jsx(Ig,{className:"w-5 h-5"}),"Download Image"]}),a.jsxs(oe,{onClick:ot,variant:"outline",className:"h-12 gap-2 border-2 border-blue-300 hover:bg-blue-50",children:[a.jsx(eme,{className:"w-5 h-5"}),"Copy Link"]})]})]}),a.jsxs(Ue,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ai,{className:"w-4 h-4 text-blue-600"}),a.jsxs(ze,{className:"text-blue-800 text-sm",children:[a.jsx("strong",{children:"Pro Tip:"})," Download your artwork and share it anywhere! Perfect for showing off your math skills to friends and family."]})]})]})]})]})}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[a.jsxs(te,{className:"border-4 border-blue-300 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(cb,{className:"w-6 h-6"}),"Drawing Tools"]})}),a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[a.jsxs(oe,{variant:N==="brush"?"default":"outline",onClick:()=>O("brush"),className:`flex flex-col items-center gap-1 h-auto py-3 ${N==="brush"?"bg-blue-500 text-white":""}`,children:[a.jsx(cb,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Brush"})]}),a.jsxs(oe,{variant:N==="fill"?"default":"outline",onClick:()=>O("fill"),className:`flex flex-col items-center gap-1 h-auto py-3 ${N==="fill"?"bg-blue-500 text-white":""}`,children:[a.jsx(zz,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Fill"})]}),a.jsxs(oe,{variant:N==="eraser"?"default":"outline",onClick:()=>O("eraser"),className:`flex flex-col items-center gap-1 h-auto py-3 ${N==="eraser"?"bg-blue-500 text-white":""}`,children:[a.jsx(qz,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Eraser"})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Zoom Controls"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:Cn,disabled:D<=.5,children:a.jsx(ppe,{className:"w-4 h-4"})}),a.jsx("div",{className:"flex-1 text-center",children:a.jsxs(je,{variant:"outline",className:"text-sm",children:[Math.round(D*100),"%"]})}),a.jsx(oe,{variant:"outline",size:"sm",onClick:tn,disabled:D>=2,children:a.jsx(fpe,{className:"w-4 h-4"})}),a.jsx(oe,{variant:"outline",size:"sm",onClick:wr,children:a.jsx(ame,{className:"w-4 h-4"})})]})]}),a.jsxs(Ue,{className:"bg-blue-50 border-blue-200 mt-4",children:[a.jsx(ai,{className:"w-4 h-4 text-blue-600"}),a.jsxs(ze,{className:"text-blue-800 text-xs",children:[N==="brush"&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:"Brush:"})," Click & drag to paint cells"]}),N==="fill"&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:"Fill:"})," Click to fill all connected cells with the same number"]}),N==="eraser"&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:"Eraser:"})," Click to remove color from cells"]})]})]})]})]}),a.jsxs(te,{className:"border-4 border-purple-300 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(vd,{className:"w-6 h-6"}),"Color Key"]})}),a.jsxs(ne,{className:"p-4 space-y-3",children:[be.map((Pe,ve)=>{var De;return a.jsx("div",{onClick:()=>v(Pe.hex),className:`p-4 rounded-xl cursor-pointer transition-all border-4 ${p===Pe.hex?"border-purple-500 scale-105 shadow-lg":"border-gray-200 hover:border-purple-300"}`,style:{backgroundColor:Pe.hex},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-white drop-shadow-lg",children:[a.jsx("div",{className:"font-bold text-2xl",children:Pe.answer}),a.jsx("div",{className:"text-sm",children:(De=ue[ve])==null?void 0:De.question})]}),p===Pe.hex&&a.jsx(Ut,{className:"w-6 h-6 text-white"})]})},ve)}),!p&&N!=="eraser"&&a.jsxs(Ue,{className:"bg-yellow-50 border-yellow-300",children:[a.jsx(ai,{className:"w-4 h-4 text-yellow-600"}),a.jsx(ze,{className:"text-yellow-800 text-sm",children:"Select a color to start coloring!"})]})]})]})]}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(te,{className:"border-4 border-blue-300 shadow-xl",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsx(Ne,{children:" Your Pixel Art"})}),a.jsxs(ne,{className:"p-6",children:[a.jsx("div",{className:"bg-white rounded-xl border-4 border-gray-300 p-4 overflow-auto max-h-[600px]",children:a.jsx("div",{className:"inline-block border-4 border-black select-none",style:{display:"grid",gridTemplateColumns:`repeat(${ge.gridSize}, ${Hs}px)`,gap:"0",transform:`scale(${D})`,transformOrigin:"top left"},onMouseUp:Kn,onMouseLeave:Kn,children:ge.pattern.map((Pe,ve)=>Pe.map((De,st)=>{const Be=`${ve}-${st}`,gt=ue[De-1],jt=!!f[Be],_t=f[Be]||(De===0?"#F3F4F6":"#FFFFFF"),fn=jt&&f[Be]===(gt==null?void 0:gt.color.hex);return a.jsxs("div",{onMouseDown:()=>N==="brush"&&It(ve,st,De),onMouseEnter:()=>N==="brush"&&Gt(ve,st,De),onClick:()=>kt(ve,st,De),onTouchStart:()=>kt(ve,st,De),className:`border border-gray-400 flex items-center justify-center font-bold transition-all ${De!==0&&!jt?"hover:bg-gray-100":""} ${N==="brush"&&C?"cursor-crosshair":"cursor-pointer"}`,style:{width:`${Hs}px`,height:`${Hs}px`,backgroundColor:_t},children:[De!==0&&!jt&&a.jsx("span",{className:"text-black text-xl select-none pointer-events-none",children:gt==null?void 0:gt.answer}),jt&&fn&&a.jsx("span",{className:"text-white text-2xl drop-shadow-lg pointer-events-none",children:""}),jt&&!fn&&a.jsx("span",{className:"text-white text-xl drop-shadow-lg pointer-events-none",children:""})]},Be)}))})}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",Pi," / ",Gs," cells colored",C&&a.jsx("span",{className:"ml-2 text-purple-600 font-bold",children:" Painting..."})]}),a.jsx("div",{className:"flex gap-1",children:[1,2,3].map(Pe=>a.jsx(Nt,{className:`w-6 h-6 ${w?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},Pe))})]})]})]})})]}),a.jsx(te,{className:"mt-6 border-2 border-purple-200",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"grid md:grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Brush Tool"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click & drag to paint multiple cells"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Fill Tool"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Fill all connected same numbers at once"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Eraser"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Remove colors to fix mistakes"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Zoom"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Zoom in for detailed work on large grids"})]})]})})})]})}var KZ=["PageUp","PageDown"],YZ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],QZ={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Im="Slider",[zC,fVe,mVe]=o1(Im),[XZ]=_a(Im,[mVe]),[pVe,m_]=XZ(Im),JZ=S.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[r],value:f,onValueChange:m=()=>{},onValueCommit:p=()=>{},inverted:v=!1,form:w,...x}=t,g=S.useRef(new Set),_=S.useRef(0),A=o==="horizontal"?gVe:yVe,[I=[],P]=ll({prop:f,defaultProp:d,onChange:L=>{var F;(F=[...g.current][_.current])==null||F.focus(),m(L)}}),C=S.useRef(I);function E(L){const $=_Ve(I,L);D(L,$)}function N(L){D(L,_.current)}function O(){const L=C.current[_.current];I[_.current]!==L&&p(I)}function D(L,$,{commit:F}={commit:!1}){const G=TVe(s),Y=EVe(Math.round((L-r)/s)*s+r,G),K=Ew(Y,[r,i]);P((X=[])=>{const U=bVe(X,K,$);if(SVe(U,c*s)){_.current=U.indexOf(K);const Q=String(U)!==String(X);return Q&&F&&p(U),Q?U:X}else return X})}return a.jsx(pVe,{scope:t.__scopeSlider,name:n,disabled:l,min:r,max:i,valueIndexToChangeRef:_,thumbs:g.current,values:I,orientation:o,form:w,children:a.jsx(zC.Provider,{scope:t.__scopeSlider,children:a.jsx(zC.Slot,{scope:t.__scopeSlider,children:a.jsx(A,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:e,onPointerDown:Fe(x.onPointerDown,()=>{l||(C.current=I)}),min:r,max:i,inverted:v,onSlideStart:l?void 0:E,onSlideMove:l?void 0:N,onSlideEnd:l?void 0:O,onHomeKeyDown:()=>!l&&D(r,0,{commit:!0}),onEndKeyDown:()=>!l&&D(i,I.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:$})=>{if(!l){const Y=KZ.includes(L.key)||L.shiftKey&&YZ.includes(L.key)?10:1,K=_.current,X=I[K],U=s*Y*$;D(X+U,K,{commit:!0})}}})})})})});JZ.displayName=Im;var[ZZ,eee]=XZ(Im,{startEdge:"left",endEdge:"right",size:"width",direction:1}),gVe=S.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...f}=t,[m,p]=S.useState(null),v=$t(e,A=>p(A)),w=S.useRef(void 0),x=Ky(i),g=x==="ltr",_=g&&!s||!g&&s;function T(A){const I=w.current||m.getBoundingClientRect(),P=[0,I.width],E=bR(P,_?[n,r]:[r,n]);return w.current=I,E(A-I.left)}return a.jsx(ZZ,{scope:t.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:a.jsx(tee,{dir:x,"data-orientation":"horizontal",...f,ref:v,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const I=T(A.clientX);o==null||o(I)},onSlideMove:A=>{const I=T(A.clientX);l==null||l(I)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:A=>{const P=QZ[_?"from-left":"from-right"].includes(A.key);d==null||d({event:A,direction:P?-1:1})}})})}),yVe=S.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,f=S.useRef(null),m=$t(e,f),p=S.useRef(void 0),v=!i;function w(x){const g=p.current||f.current.getBoundingClientRect(),_=[0,g.height],A=bR(_,v?[r,n]:[n,r]);return p.current=g,A(x-g.top)}return a.jsx(ZZ,{scope:t.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:a.jsx(tee,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const g=w(x.clientY);s==null||s(g)},onSlideMove:x=>{const g=w(x.clientY);o==null||o(g)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:x=>{const _=QZ[v?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:_?-1:1})}})})}),tee=S.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=t,f=m_(Im,n);return a.jsx(wt.span,{...d,ref:e,onKeyDown:Fe(t.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):KZ.concat(YZ).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:Fe(t.onPointerDown,m=>{const p=m.target;p.setPointerCapture(m.pointerId),m.preventDefault(),f.thumbs.has(p)?p.focus():r(m)}),onPointerMove:Fe(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&i(m)}),onPointerUp:Fe(t.onPointerUp,m=>{const p=m.target;p.hasPointerCapture(m.pointerId)&&(p.releasePointerCapture(m.pointerId),s(m))})})}),nee="SliderTrack",ree=S.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=m_(nee,n);return a.jsx(wt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});ree.displayName=nee;var WC="SliderRange",iee=S.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=m_(WC,n),s=eee(WC,n),o=S.useRef(null),l=$t(e,o),c=i.values.length,d=i.values.map(p=>oee(p,i.min,i.max)),f=c>1?Math.min(...d):0,m=100-Math.max(...d);return a.jsx(wt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...t.style,[s.startEdge]:f+"%",[s.endEdge]:m+"%"}})});iee.displayName=WC;var HC="SliderThumb",see=S.forwardRef((t,e)=>{const n=fVe(t.__scopeSlider),[r,i]=S.useState(null),s=$t(e,l=>i(l)),o=S.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return a.jsx(vVe,{...t,ref:s,index:o})}),vVe=S.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=m_(HC,n),l=eee(HC,n),[c,d]=S.useState(null),f=$t(e,T=>d(T)),m=c?o.form||!!c.closest("form"):!0,p=f1(c),v=o.values[r],w=v===void 0?0:oee(v,o.min,o.max),x=wVe(r,o.values.length),g=p==null?void 0:p[l.size],_=g?jVe(g,w,l.direction):0;return S.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${_}px)`},children:[a.jsx(zC.ItemSlot,{scope:t.__scopeSlider,children:a.jsx(wt.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":v,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:f,style:v===void 0?{display:"none"}:t.style,onFocus:Fe(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),m&&a.jsx(aee,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:v},r)]})});see.displayName=HC;var xVe="RadioBubbleInput",aee=S.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=S.useRef(null),s=$t(i,r),o=l_(e);return S.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const m=new Event("input",{bubbles:!0});f.call(l,e),l.dispatchEvent(m)}},[o,e]),a.jsx(wt.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});aee.displayName=xVe;function bVe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function oee(t,e,n){const s=100/(n-e)*(t-e);return Ew(s,[0,100])}function wVe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function _Ve(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function jVe(t,e,n){const r=t/2,s=bR([0,50],[0,r]);return(r-s(e)*n)*n}function NVe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function SVe(t,e){if(e>0){const n=NVe(t);return Math.min(...n)>=e}return!0}function bR(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function TVe(t){return(String(t).split(".")[1]||"").length}function EVe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var lee=JZ,AVe=ree,PVe=iee,CVe=see;const cee=S.forwardRef(({className:t,...e},n)=>a.jsxs(lee,{ref:n,className:vt("relative flex w-full touch-none select-none items-center",t),...e,children:[a.jsx(AVe,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:a.jsx(PVe,{className:"absolute h-full bg-primary"})}),a.jsx(CVe,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));cee.displayName=lee.displayName;function uee(){var N,O,D,L,$;const t=Zc(),e=xr(),{data:n}=dt({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),[r,i]=S.useState(((N=n==null?void 0:n.app_settings)==null?void 0:N.theme)||"light"),[s,o]=S.useState(((O=n==null?void 0:n.app_settings)==null?void 0:O.sound_volume)??70),[l,c]=S.useState(((D=n==null?void 0:n.app_settings)==null?void 0:D.default_operation)||"addition"),[d,f]=S.useState(((L=n==null?void 0:n.app_settings)==null?void 0:L.default_level)||"easy"),[m,p]=S.useState((($=n==null?void 0:n.app_settings)==null?void 0:$.default_drawing_tool)||"brush"),[v,w]=S.useState(!1),[x,g]=S.useState(!1);S.useEffect(()=>{n!=null&&n.app_settings&&(i(n.app_settings.theme||"light"),o(n.app_settings.sound_volume??70),c(n.app_settings.default_operation||"addition"),f(n.app_settings.default_level||"easy"),p(n.app_settings.default_drawing_tool||"brush"))},[n]);const _=()=>{const F=(n==null?void 0:n.app_settings)||{},G=r!==(F.theme||"light")||s!==(F.sound_volume??70)||l!==(F.default_operation||"addition")||d!==(F.default_level||"easy")||m!==(F.default_drawing_tool||"brush");w(G)};S.useEffect(()=>{_()},[r,s,l,d,m,n]);const T=Pn({mutationFn:async F=>await base44.auth.updateMe({app_settings:F}),onSuccess:()=>{e.invalidateQueries({queryKey:["currentUser"]}),g(!0),w(!1),setTimeout(()=>g(!1),3e3)}}),A=()=>{const F={theme:r,sound_volume:s,default_operation:l,default_level:d,default_drawing_tool:m};T.mutate(F)},I=()=>{i("light"),o(70),c("addition"),f("easy"),p("brush")},P=[{id:"addition",name:"Addition",icon:Fr},{id:"subtraction",name:"Subtraction",icon:mc},{id:"multiplication",name:"Multiplication",icon:Tr},{id:"division",name:"Division",icon:hc}],C=[{id:"easy",name:"Easy (K-2nd)",color:"bg-green-500"},{id:"medium",name:"Medium (3-5th)",color:"bg-yellow-500"},{id:"hard",name:"Hard (6-8th)",color:"bg-red-500"}],E=[{id:"brush",name:"Brush",icon:cb,description:"Click & drag to paint"},{id:"fill",name:"Fill",icon:zz,description:"Fill connected areas"},{id:"eraser",name:"Eraser",icon:qz,description:"Remove colors"}];return a.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Og,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"App Settings"}),a.jsx("p",{className:"text-gray-600",children:"Customize your Math Adventure experience"})]})]}),x&&a.jsxs(Ue,{className:"bg-green-50 border-green-300 mb-4",children:[a.jsx(Dn,{className:"w-4 h-4 text-green-600"}),a.jsxs(ze,{className:"text-green-800",children:[a.jsx("strong",{children:"Settings saved successfully!"})," Your preferences have been updated."]})]}),v&&a.jsxs(Ue,{className:"bg-blue-50 border-blue-300 mb-4",children:[a.jsx(ai,{className:"w-4 h-4 text-blue-600"}),a.jsx(ze,{className:"text-blue-800",children:'You have unsaved changes. Click "Save Settings" to apply them.'})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(te,{className:"border-4 border-purple-200 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(vd,{className:"w-6 h-6 text-purple-600"}),"Appearance Theme"]})}),a.jsxs(ne,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how the app looks"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{onClick:()=>i("light"),className:`cursor-pointer border-4 rounded-xl p-6 transition-all ${r==="light"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(Hme,{className:"w-8 h-8 text-yellow-500"}),r==="light"&&a.jsx(Dn,{className:"w-6 h-6 text-purple-600"})]}),a.jsx("h3",{className:"font-bold text-lg mb-1",children:"Light Mode"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Bright and colorful interface"}),a.jsx("div",{className:"mt-4 h-16 bg-gradient-to-r from-white to-gray-100 rounded-lg border-2 border-gray-300"})]}),a.jsxs("div",{onClick:()=>i("dark"),className:`cursor-pointer border-4 rounded-xl p-6 transition-all ${r==="dark"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(fme,{className:"w-8 h-8 text-indigo-500"}),r==="dark"&&a.jsx(Dn,{className:"w-6 h-6 text-purple-600"})]}),a.jsx("h3",{className:"font-bold text-lg mb-1",children:"Dark Mode"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Easy on the eyes at night"}),a.jsx("div",{className:"mt-4 h-16 bg-gradient-to-r from-gray-800 to-gray-900 rounded-lg border-2 border-gray-700"})]})]}),a.jsxs(Ue,{className:"mt-4 bg-blue-50 border-blue-300",children:[a.jsx(ai,{className:"w-4 h-4 text-blue-600"}),a.jsxs(ze,{className:"text-blue-800 text-sm",children:[a.jsx("strong",{children:"Dark Mode Active:"})," The theme will apply throughout the app. Refresh the page if colors don't update immediately."]})]})]})]}),a.jsxs(te,{className:"border-4 border-blue-200 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-100 to-cyan-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(K3,{className:"w-6 h-6 text-blue-600"}),"Sound Effects"]})}),a.jsxs(ne,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Adjust sound effects volume"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(K3,{className:`w-6 h-6 ${s===0?"text-gray-400":"text-blue-600"}`}),a.jsx(cee,{value:[s],onValueChange:F=>o(F[0]),max:100,step:1,className:"flex-1"}),a.jsxs(je,{className:"bg-blue-500 text-white text-lg px-4 py-1 min-w-[60px] text-center",children:[s,"%"]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>o(0),className:s===0?"bg-blue-100 border-blue-500":"",children:"Mute"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>o(30),className:s===30?"bg-blue-100 border-blue-500":"",children:"Low"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>o(70),className:s===70?"bg-blue-100 border-blue-500":"",children:"Medium"}),a.jsx(oe,{variant:"outline",size:"sm",onClick:()=>o(100),className:s===100?"bg-blue-100 border-blue-500":"",children:"High"})]}),a.jsxs(Ue,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ai,{className:"w-4 h-4 text-blue-600"}),a.jsx(ze,{className:"text-blue-800 text-sm",children:"Sound effects play when you answer questions correctly or earn rewards!"})]})]})]})]}),a.jsxs(te,{className:"border-4 border-green-200 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-green-100 to-emerald-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Qt,{className:"w-6 h-6 text-green-600"}),"Default Game Settings"]})}),a.jsxs(ne,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Set your preferred operation and difficulty level"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-3",children:"Default Operation"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:P.map(F=>{const G=F.icon;return a.jsxs("div",{onClick:()=>c(F.id),className:`cursor-pointer border-4 rounded-xl p-4 transition-all text-center ${l===F.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:[a.jsx(G,{className:`w-8 h-8 mx-auto mb-2 ${l===F.id?"text-green-600":"text-gray-600"}`}),a.jsx("p",{className:"font-semibold text-sm",children:F.name}),l===F.id&&a.jsx(Dn,{className:"w-5 h-5 mx-auto mt-2 text-green-600"})]},F.id)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-3",children:"Default Difficulty Level"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:C.map(F=>a.jsxs("div",{onClick:()=>f(F.id),className:`cursor-pointer border-4 rounded-xl p-4 transition-all text-center ${d===F.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:[a.jsx("div",{className:`w-12 h-12 ${F.color} rounded-full mx-auto mb-2 flex items-center justify-center text-white font-bold text-xl`,children:F.id==="easy"?"E":F.id==="medium"?"M":"H"}),a.jsx("p",{className:"font-semibold text-sm",children:F.name}),d===F.id&&a.jsx(Dn,{className:"w-5 h-5 mx-auto mt-2 text-green-600"})]},F.id))})]})]})]})]}),a.jsxs(te,{className:"border-4 border-orange-200 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-orange-100 to-red-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(cb,{className:"w-6 h-6 text-orange-600"}),"Color by Numbers Preferences"]})}),a.jsxs(ne,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose your default drawing tool"}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:E.map(F=>{const G=F.icon;return a.jsxs("div",{onClick:()=>p(F.id),className:`cursor-pointer border-4 rounded-xl p-6 transition-all ${m===F.id?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-orange-300"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(G,{className:`w-8 h-8 ${m===F.id?"text-orange-600":"text-gray-600"}`}),m===F.id&&a.jsx(Dn,{className:"w-6 h-6 text-orange-600"})]}),a.jsx("h3",{className:"font-bold text-lg mb-1",children:F.name}),a.jsx("p",{className:"text-xs text-gray-600",children:F.description})]},F.id)})}),a.jsxs(Ue,{className:"mt-4 bg-orange-50 border-orange-200",children:[a.jsx(ai,{className:"w-4 h-4 text-orange-600"}),a.jsx(ze,{className:"text-orange-800 text-sm",children:"This tool will be selected by default when you start a Color by Numbers game."})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[a.jsxs(oe,{variant:"outline",onClick:I,className:"w-full sm:w-auto gap-2 text-gray-700",children:[a.jsx(rI,{className:"w-4 h-4"}),"Reset to Defaults"]}),a.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[a.jsx(oe,{variant:"outline",onClick:()=>t(Xe("Home")),className:"flex-1 sm:flex-initial",children:"Cancel"}),a.jsxs(oe,{onClick:A,disabled:!v||T.isPending,className:"flex-1 sm:flex-initial gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 disabled:opacity-50",children:[a.jsx(ub,{className:"w-4 h-4"}),T.isPending?"Saving...":"Save Settings"]})]})]})]}),a.jsxs(te,{className:"mt-8 border-2 border-red-200",children:[a.jsx(_e,{className:"bg-red-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Bi,{className:"w-5 h-5 text-red-600"}),"Data & Privacy"]})}),a.jsx(ne,{className:"p-6",children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(zr,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Request Account Deletion"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"If you'd like to delete your account and all associated data, you can submit a deletion request. This action will permanently remove:"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 mb-4 ml-4",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500 font-bold",children:""}),a.jsx("span",{children:"Your profile and avatar customizations"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500 font-bold",children:""}),a.jsx("span",{children:"All game progress, scores, and achievements"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500 font-bold",children:""}),a.jsx("span",{children:"Messages, goals, and team challenges"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500 font-bold",children:""}),a.jsx("span",{children:"Subscription and payment information"})]})]}),a.jsxs(Ue,{className:"bg-yellow-50 border-yellow-300 mb-4",children:[a.jsx(zr,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(ze,{className:"text-yellow-800 text-sm",children:[a.jsx("strong",{children:"Warning:"})," Account deletion is permanent and cannot be undone. We will process your request within 30 days."]})]}),a.jsx("a",{href:`mailto:support@math-adventure.com?subject=Account Deletion Request&body=Hello,%0D%0A%0D%0AI would like to request the deletion of my Math Adventure account.%0D%0A%0D%0AAccount Email: ${(n==null?void 0:n.email)||""}%0D%0AAccount Name: ${(n==null?void 0:n.full_name)||""}%0D%0A%0D%0APlease confirm that all my personal data and game progress will be permanently deleted.%0D%0A%0D%0AThank you.`,className:"inline-block",children:a.jsxs(oe,{variant:"destructive",className:"gap-2",children:[a.jsx(Hy,{className:"w-4 h-4"}),"Request Account Deletion"]})})]})]})})})]}),a.jsxs(te,{className:"mt-8 border-2 border-gray-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Yt,{className:"w-5 h-5 text-purple-500"}),"Tips & Tricks"]})}),a.jsx(ne,{children:a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-500 font-bold",children:""}),a.jsx("span",{children:"Your settings are saved automatically and sync across all your devices"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-500 font-bold",children:""}),a.jsx("span",{children:"Default game settings make it faster to start playing your favorite challenges"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-500 font-bold",children:""}),a.jsx("span",{children:"You can change your drawing tool anytime while playing Color by Numbers"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-500 font-bold",children:""}),a.jsx("span",{children:"Turn down sound effects if you're playing in a quiet environment"})]})]})})]})]})}function dee(){const t="January 15, 2025",e="support@math-adventure.com";return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-xl",children:a.jsx(Bi,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Privacy Policy"}),a.jsx("p",{className:"text-gray-600",children:"Your privacy is important to us"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2 flex items-center justify-center gap-2",children:[a.jsx(Hn,{className:"w-4 h-4"}),"Last Updated: ",t]})]}),a.jsxs(Ue,{className:"mb-8 bg-blue-50 border-blue-300",children:[a.jsx(Bi,{className:"w-5 h-5 text-blue-600"}),a.jsxs(ze,{className:"text-blue-800",children:[a.jsx("strong",{children:"Children's Privacy Protection:"})," Math Adventure is designed for children aged 5-14. We comply with the Children's Online Privacy Protection Act (COPPA) and require verifiable parental consent before collecting any personal information from children under 13."]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(te,{className:"border-2 border-gray-200",children:[a.jsx(_e,{className:"bg-gray-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(U3,{className:"w-6 h-6 text-gray-700"}),"Introduction"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:'Welcome to Math Adventure ("we," "our," or "us"). This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our educational math learning platform (the "Service").'}),a.jsx("p",{className:"text-gray-700",children:"We are committed to protecting the privacy of all users, especially children. This policy applies to all users of Math Adventure, including students, parents, and teachers."}),a.jsx("p",{className:"text-gray-700",children:"By using our Service, you agree to the collection and use of information in accordance with this policy."})]})]}),a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(q3,{className:"w-6 h-6 text-purple-600"}),"Information We Collect"]})}),a.jsxs(ne,{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"1. Account Information"}),a.jsx("p",{className:"text-gray-700 mb-2",children:"When you create an account, we collect:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Full name"}),a.jsx("li",{children:"Email address"}),a.jsx("li",{children:"Age/grade level (for educational content alignment)"}),a.jsx("li",{children:"Parent/guardian email (for children under 13)"}),a.jsx("li",{children:"Account preferences and settings"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"2. Educational Data"}),a.jsx("p",{className:"text-gray-700 mb-2",children:"To provide personalized learning, we collect:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Game scores and performance metrics"}),a.jsx("li",{children:"Time spent on activities"}),a.jsx("li",{children:"Correct and incorrect answers"}),a.jsx("li",{children:"Learning progress and achievement data"}),a.jsx("li",{children:"Daily challenge participation"}),a.jsx("li",{children:"Skill mastery levels"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"3. Avatar & Customization Data"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Avatar customization choices"}),a.jsx("li",{children:"Items purchased with in-game currency"}),a.jsx("li",{children:"Unlocked achievements and badges"}),a.jsx("li",{children:"Pet selections and experience points"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"4. Payment Information"}),a.jsx("p",{className:"text-gray-700 mb-2",children:"When you purchase a subscription, payment processing is handled by Square, Inc. We do not store credit card information. We only receive:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Subscription tier selected"}),a.jsx("li",{children:"Subscription start and end dates"}),a.jsx("li",{children:"Payment confirmation status"}),a.jsx("li",{children:"Transaction IDs for record-keeping"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"5. Communication Data"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Messages between parents and children (within app)"}),a.jsx("li",{children:"Support requests and correspondence"}),a.jsx("li",{children:"Feedback and survey responses"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"6. Usage Information"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Device type and operating system"}),a.jsx("li",{children:"Browser type and version"}),a.jsx("li",{children:"IP address (for security and fraud prevention)"}),a.jsx("li",{children:"Login times and session duration"}),a.jsx("li",{children:"Pages visited and features used"})]})]})]})]}),a.jsxs(te,{className:"border-2 border-green-200",children:[a.jsx(_e,{className:"bg-green-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(vr,{className:"w-6 h-6 text-green-600"}),"How We Use Your Information"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700 mb-2",children:"We use the collected information to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Provide and maintain the Service:"})," Deliver educational content, track progress, and personalize learning experiences"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Process payments:"})," Manage subscriptions and billing through our payment processor"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Communicate with you:"})," Send important updates, respond to support requests, and deliver educational feedback"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Improve our Service:"})," Analyze usage patterns to enhance features and educational effectiveness"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Enable parent controls:"})," Allow parents/teachers to monitor children's progress and set appropriate boundaries"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Personalize learning:"})," Adapt difficulty levels and recommend appropriate content based on performance"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Generate reports:"})," Provide progress reports and analytics to parents and teachers"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Ensure security:"})," Detect and prevent fraudulent activity, abuse, and security threats"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Comply with legal obligations:"})," Meet legal requirements and enforce our terms of service"]})]})]})]}),a.jsxs(te,{className:"border-4 border-orange-300 shadow-lg",children:[a.jsx(_e,{className:"bg-orange-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(zr,{className:"w-6 h-6 text-orange-600"}),"Children's Privacy (COPPA Compliance)"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsxs("p",{className:"text-gray-700",children:[a.jsx("strong",{children:"Math Adventure is committed to protecting children's privacy."})," We comply with the Children's Online Privacy Protection Act (COPPA)."]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Parental Consent"}),a.jsx("p",{className:"text-gray-700 mb-2",children:"For children under 13, we:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Require verifiable parental consent before collecting personal information"}),a.jsx("li",{children:"Only collect information reasonably necessary to participate in the Service"}),a.jsx("li",{children:"Do not condition participation on providing more information than necessary"}),a.jsx("li",{children:"Allow parents to review, delete, or refuse further collection of their child's information"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Information We Collect from Children"}),a.jsx("p",{className:"text-gray-700",children:"From children under 13, we only collect information necessary for educational purposes:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Username and email (for account creation)"}),a.jsx("li",{children:"Grade level (for age-appropriate content)"}),a.jsx("li",{children:"Game progress and educational performance"}),a.jsx("li",{children:"Avatar customization preferences"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Parental Rights"}),a.jsx("p",{className:"text-gray-700 mb-2",children:"Parents have the right to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Review personal information collected from their child"}),a.jsx("li",{children:"Request deletion of their child's personal information"}),a.jsx("li",{children:"Refuse to allow further collection or use of their child's information"}),a.jsx("li",{children:"Access the parent portal to monitor their child's activity"})]}),a.jsxs("p",{className:"text-gray-700 mt-3",children:["To exercise these rights, contact us at ",a.jsx("a",{href:`mailto:${e}`,className:"text-blue-600 hover:underline",children:e})]})]})]})]}),a.jsxs(te,{className:"border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(vr,{className:"w-6 h-6 text-blue-600"}),"Data Sharing and Disclosure"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:a.jsx("strong",{children:"We do not sell or rent your personal information to third parties."})}),a.jsx("p",{className:"text-gray-700 mb-2",children:"We may share information with:"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Service Providers"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"We work with trusted third-party service providers to help us operate our Service:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 text-sm ml-4 mt-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Square, Inc.:"})," Payment processing (PCI-DSS compliant)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Base44 Platform:"})," Application hosting and infrastructure"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"OpenAI:"})," AI-powered tutoring features (anonymized data only)"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Parents and Teachers"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"When a child is linked to a parent or teacher account, we share the child's educational progress, game statistics, and performance data with that parent/teacher."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Legal Requirements"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"We may disclose information if required by law, court order, or to protect our rights, safety, or the rights and safety of others."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Business Transfers"}),a.jsx("p",{className:"text-700 text-sm",children:"In the event of a merger, acquisition, or sale of assets, user information may be transferred. We will notify you before your information is transferred and becomes subject to a different privacy policy."})]})]})]})]}),a.jsxs(te,{className:"border-2 border-red-200",children:[a.jsx(_e,{className:"bg-red-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(oi,{className:"w-6 h-6 text-red-600"}),"Data Security"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"We take the security of your information seriously and implement industry-standard security measures:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Encryption:"})," All data transmitted between your device and our servers is encrypted using HTTPS/TLS"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Secure Storage:"})," Data is stored on secure servers with restricted access"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Authentication:"})," User accounts are protected with secure authentication systems"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Access Controls:"})," Only authorized personnel have access to personal information"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Regular Security Audits:"})," We regularly review our security practices"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"PCI Compliance:"})," Payment processing through Square meets PCI-DSS standards"]})]}),a.jsxs(Ue,{className:"mt-4 bg-yellow-50 border-yellow-300",children:[a.jsx(zr,{className:"w-4 h-4 text-yellow-600"}),a.jsx(ze,{className:"text-yellow-800 text-sm",children:"While we strive to protect your information, no method of transmission over the internet or electronic storage is 100% secure. We cannot guarantee absolute security."})]})]})]}),a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Hn,{className:"w-6 h-6 text-purple-600"}),"Data Retention"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"We retain your information for as long as necessary to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Provide our Service and maintain your account"}),a.jsx("li",{children:"Comply with legal obligations"}),a.jsx("li",{children:"Resolve disputes and enforce our agreements"}),a.jsx("li",{children:"Enable parents/teachers to track long-term educational progress"})]}),a.jsx("p",{className:"text-gray-700 mt-4",children:"When you delete your account, we will delete or anonymize your personal information within 30 days, except where we are required by law to retain certain information longer."}),a.jsx("p",{className:"text-gray-700",children:"Educational progress data may be retained in anonymized form for research and product improvement purposes."})]})]}),a.jsxs(te,{className:"border-2 border-green-200",children:[a.jsx(_e,{className:"bg-green-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Bi,{className:"w-6 h-6 text-green-600"}),"Your Rights and Choices"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"You have the following rights regarding your personal information:"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Access and Portability"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Request a copy of your personal information in a machine-readable format"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Correction"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Update or correct inaccurate information through your account settings"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Deletion"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Request deletion of your account and associated data"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Opt-Out"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Unsubscribe from promotional emails (you'll still receive essential account notifications)"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Parental Controls"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Parents can access the Parent Portal to manage their child's account, set restrictions, and monitor activity"})]})]}),a.jsxs("p",{className:"text-gray-700 mt-4",children:["To exercise these rights, contact us at ",a.jsx("a",{href:`mailto:${e}`,className:"text-blue-600 hover:underline",children:e})]})]})]}),a.jsxs(te,{className:"border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(q3,{className:"w-6 h-6 text-blue-600"}),"Cookies and Tracking Technologies"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"We use cookies and similar technologies to enhance your experience and improve our Service:"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Essential Cookies"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Required for basic functionality (authentication, security, preferences)"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Analytics"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Help us understand how users interact with our Service to improve it"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Preferences"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Remember your settings and customization choices"})]})]}),a.jsx("p",{className:"text-gray-700 mt-4",children:"You can control cookies through your browser settings. However, disabling cookies may affect some functionality of the Service."})]})]}),a.jsxs(te,{className:"border-2 border-yellow-200",children:[a.jsx(_e,{className:"bg-yellow-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(zr,{className:"w-6 h-6 text-yellow-600"}),"Third-Party Links"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"Our Service may contain links to third-party websites or services that are not operated by us. We have no control over and assume no responsibility for the content, privacy policies, or practices of any third-party sites or services."}),a.jsx("p",{className:"text-gray-700",children:"We strongly advise you to review the privacy policy of every site you visit, especially before allowing children to use those sites."})]})]}),a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(vr,{className:"w-6 h-6 text-purple-600"}),"International Users"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"Math Adventure is based in the United States and our Service is intended primarily for users in the United States. If you access our Service from outside the United States, please be aware that your information may be transferred to, stored, and processed in the United States."}),a.jsx("p",{className:"text-gray-700",children:"By using our Service, you consent to the transfer of your information to the United States and agree that such transfer will be governed by U.S. law and this Privacy Policy."})]})]}),a.jsxs(te,{className:"border-2 border-gray-200",children:[a.jsx(_e,{className:"bg-gray-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(U3,{className:"w-6 h-6 text-gray-700"}),"Changes to This Privacy Policy"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"We may update this Privacy Policy from time to time. We will notify you of any changes by:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Posting the new Privacy Policy on this page"}),a.jsx("li",{children:'Updating the "Last Updated" date at the top of this policy'}),a.jsx("li",{children:"Sending an email notification for significant changes (if you've provided an email)"}),a.jsx("li",{children:"Displaying a prominent notice within the Service"})]}),a.jsx("p",{className:"text-gray-700 mt-4",children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when posted on this page."})]})]}),a.jsxs(te,{className:"border-4 border-blue-300 shadow-lg",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(nf,{className:"w-6 h-6"}),"Contact Us"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"If you have any questions, concerns, or requests regarding this Privacy Policy or our privacy practices, please contact us:"}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(nf,{className:"w-5 h-5 text-blue-600 mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-800",children:"Email"}),a.jsx("a",{href:`mailto:${e}`,className:"text-blue-600 hover:underline",children:e})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Bi,{className:"w-5 h-5 text-blue-600 mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-800",children:"For COPPA-related inquiries or parental rights"}),a.jsx("a",{href:`mailto:${e}`,className:"text-blue-600 hover:underline",children:e})]})]})]}),a.jsx("p",{className:"text-gray-700 text-sm",children:"We will respond to your inquiry within 30 days of receipt. For COPPA-related requests from parents, we will respond within 10 business days."})]})]}),a.jsxs(Ue,{className:"bg-green-50 border-green-300",children:[a.jsx(Bi,{className:"w-5 h-5 text-green-600"}),a.jsxs(ze,{className:"text-green-800",children:[a.jsx("strong",{children:"By using Math Adventure, you acknowledge that you have read and understood this Privacy Policy and agree to its terms."})," If you do not agree with this Privacy Policy, please do not use our Service."]})]})]})]})}function kVe({progress:t,tutorSessions:e,onPracticeClick:n}){const r=()=>{const d=[],f={};return t.forEach(m=>{f[m.operation]||(f[m.operation]={operation:m.operation,level:m.level,totalGames:0,totalCorrect:0,totalQuestions:0,totalTime:0}),f[m.operation].totalGames++,f[m.operation].totalCorrect+=m.correct_answers,f[m.operation].totalQuestions+=m.total_questions,f[m.operation].totalTime+=m.time_taken}),Object.values(f).forEach(m=>{const p=m.totalCorrect/m.totalQuestions*100;if(p<75||m.totalGames<3){let v="medium",w="";p<50?(v="high",w="Very low accuracy"):p<65?(v="high",w="Low accuracy"):p<75?(v="medium",w="Room for improvement"):m.totalGames<3&&(v="low",w="Need more practice"),d.push({operation:m.operation,level:m.level,accuracy:Math.round(p),totalGames:m.totalGames,severity:v,reason:w})}}),d.sort((m,p)=>{const v={high:0,medium:1,low:2};return v[m.severity]-v[p.severity]})},i=()=>{const d={};return e.forEach(f=>{const m=`${f.operation}-${f.level}`;d[m]||(d[m]={operation:f.operation,level:f.level,count:0,examples:[]}),d[m].count++,d[m].examples.length<3&&d[m].examples.push(f.question)}),Object.values(d).sort((f,m)=>m.count-f.count).slice(0,5)},s=r(),o=i(),c=(()=>{const d=[];if(s.length===0)d.push({type:"success",title:"Great Job!",message:"You're performing well across all topics! Keep practicing to maintain your skills.",icon:""});else{const f=s.filter(p=>p.severity==="high");f.length>0&&d.push({type:"urgent",title:"Priority Practice Areas",message:`Focus on ${f.map(p=>p.operation).join(", ")} to improve quickly.`,icon:""});const m=s.filter(p=>p.totalGames<3);m.length>0&&d.push({type:"info",title:"Try New Topics",message:`Play more games in ${m.map(p=>p.operation).join(", ")} to build confidence.`,icon:""})}return d})();return t.length===0?a.jsx(te,{className:"text-center py-12",children:a.jsxs(ne,{children:[a.jsx(Qt,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No Data Yet"}),a.jsx("p",{className:"text-gray-600",children:"Play some games first, then I'll identify areas to improve!"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"space-y-4",children:c.map((d,f)=>a.jsxs(Ue,{className:`${d.type==="urgent"?"bg-red-50 border-red-300":d.type==="success"?"bg-green-50 border-green-300":"bg-blue-50 border-blue-300"}`,children:[a.jsx("span",{className:"text-2xl mr-2",children:d.icon}),a.jsxs(ze,{children:[a.jsxs("strong",{children:[d.title,":"]})," ",d.message]})]},f))}),s.length>0&&a.jsxs(te,{className:"border-2 border-orange-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Vc,{className:"w-6 h-6 text-orange-600"}),"Areas Needing Improvement"]})}),a.jsx(ne,{className:"space-y-4",children:s.map((d,f)=>a.jsxs("div",{className:`p-4 rounded-xl border-2 ${d.severity==="high"?"bg-red-50 border-red-300":d.severity==="medium"?"bg-orange-50 border-orange-300":"bg-yellow-50 border-yellow-300"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"font-bold text-lg capitalize",children:d.operation.replace(/_/g," ")}),a.jsx(je,{className:`${d.severity==="high"?"bg-red-500":d.severity==="medium"?"bg-orange-500":"bg-yellow-500"} text-white`,children:d.severity==="high"?"High Priority":d.severity==="medium"?"Medium":"Low"}),a.jsx(je,{variant:"outline",children:d.level})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Accuracy"}),a.jsxs("div",{className:"text-2xl font-bold",children:[d.accuracy,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Games Played"}),a.jsx("div",{className:"text-2xl font-bold",children:d.totalGames})]})]}),a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:[a.jsx(dm,{className:"w-4 h-4 inline mr-1"}),d.reason]})]}),a.jsxs(oe,{onClick:()=>n({operation:d.operation,level:d.level}),className:"bg-blue-500 hover:bg-blue-600 ml-4",children:[a.jsx(ag,{className:"w-4 h-4 mr-2"}),"Practice Now"]})]}),a.jsxs("div",{className:"bg-white/50 p-3 rounded-lg",children:[a.jsxs("p",{className:"text-sm text-gray-700 font-medium mb-1",children:[a.jsx(qr,{className:"w-4 h-4 inline mr-1 text-yellow-500"}),"AI Tip:"]}),a.jsx("p",{className:"text-sm text-gray-600",children:IVe(d)})]})]},f))})]}),o.length>0&&a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(nfe,{className:"w-6 h-6 text-purple-600"}),"Common Mistakes to Review"]})}),a.jsx(ne,{className:"space-y-3",children:o.map((d,f)=>a.jsxs("div",{className:"p-4 bg-purple-50 rounded-xl border-2 border-purple-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h3",{className:"font-bold capitalize",children:[d.operation," (",d.level,")"]}),a.jsxs(je,{className:"bg-purple-500 text-white",children:[d.count," mistakes"]})]}),d.examples.length>0&&a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Examples:"})," ",d.examples.join(", ")]})]},f))})]})]})}function IVe(t){return{addition:"Try breaking down larger numbers into smaller, easier pieces. Practice counting up from the first number.",subtraction:"Use a number line to visualize taking away. Count backwards or think 'what do I add to get to the bigger number?'",multiplication:"Memorize the times tables! Look for patterns like doubling or skip counting.",division:"Think of division as 'sharing equally' or 'how many groups'. Draw circles to visualize!",fractions:"Draw pictures to see the parts. Remember: the bottom number shows how many pieces total.",decimals:"Line up the decimal points! Think of money - $1.50 is 1 dollar and 50 cents.",word_problems:"Read carefully! Underline key numbers and words like 'total', 'difference', or 'each'."}[t.operation]||"Practice regularly and take your time. You can do this!"}function OVe({selectedWeakness:t,progress:e}){const[n,r]=S.useState(null),[i,s]=S.useState(""),[o,l]=S.useState(null),[c,d]=S.useState(0),[f,m]=S.useState(0),[p,v]=S.useState(!1),[w,x]=S.useState(null),g=()=>{const C=[],E={};return e.forEach(N=>{E[N.operation]||(E[N.operation]={operation:N.operation,level:N.level,totalCorrect:0,totalQuestions:0}),E[N.operation].totalCorrect+=N.correct_answers,E[N.operation].totalQuestions+=N.total_questions}),Object.values(E).forEach(N=>{const O=N.totalCorrect/N.totalQuestions*100;O<75&&C.push({operation:N.operation,level:N.level,accuracy:Math.round(O),priority:O<60?"high":"medium"})}),C.sort((N,O)=>N.accuracy-O.accuracy).slice(0,5)},_=()=>{if(w){const C=Bs(w.operation,w.level);r(C),s(""),l(null),v(!1)}},T=(C,E)=>{x({operation:C,level:E}),d(0),m(0);const N=Bs(C,E);r(N),s(""),l(null),v(!1)},A=()=>{if(!n||i==="")return;const C=parseInt(i)===n.answer;l(C),d(c+1),C?m(f+1):v(!0)},I=()=>{_()},P=g();return S.useEffect(()=>{t&&!w&&T(t.operation,t.level)},[t]),a.jsxs("div",{className:"space-y-6",children:[w&&c>0&&a.jsx(te,{className:"border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:c}),a.jsx("div",{className:"text-sm text-gray-600",children:"Questions"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:f}),a.jsx("div",{className:"text-sm text-gray-600",children:"Correct"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[c>0?Math.round(f/c*100):0,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Accuracy"})]})]})})}),w&&n?a.jsxs(te,{className:"border-4 border-purple-300 shadow-2xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pr,{className:"w-6 h-6"}),a.jsxs("span",{className:"capitalize",children:[w.operation," Practice"]})]}),a.jsx(je,{className:"bg-white text-purple-600",children:w.level})]})}),a.jsx(ne,{className:"p-8",children:a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h3",{className:"text-5xl md:text-6xl font-bold mb-6 text-gray-800",children:n.question}),o===null&&a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("input",{type:"number",value:i,onChange:C=>s(C.target.value),onKeyPress:C=>{C.key==="Enter"&&A()},placeholder:"Type your answer...",className:"w-full text-3xl font-bold text-center p-4 border-4 border-purple-300 rounded-xl mb-4",autoFocus:!0}),a.jsx(oe,{onClick:A,disabled:i==="",className:"w-full h-14 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:"Check Answer"})]}),o!==null&&a.jsxs("div",{className:"space-y-6",children:[o?a.jsxs(Ue,{className:"bg-green-50 border-green-300",children:[a.jsx(Dn,{className:"w-6 h-6 text-green-600"}),a.jsxs(ze,{className:"text-green-800 text-lg",children:[a.jsx("strong",{children:"Correct! "})," Great job!"]})]}):a.jsxs(Ue,{className:"bg-red-50 border-red-300",children:[a.jsx(Tr,{className:"w-6 h-6 text-red-600"}),a.jsxs(ze,{className:"text-red-800 text-lg",children:[a.jsx("strong",{children:"Not quite."})," The correct answer is ",a.jsx("strong",{children:n.answer})]})]}),!o&&p&&n.explanation&&a.jsx(te,{className:"bg-blue-50 border-2 border-blue-300",children:a.jsxs(ne,{className:"p-6",children:[a.jsxs("h4",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[a.jsx(Yt,{className:"w-5 h-5 text-blue-600"}),"Let me explain:"]}),a.jsx("p",{className:"text-gray-700",children:n.explanation})]})}),a.jsxs(oe,{onClick:I,className:"w-full h-14 text-lg bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:["Next Question",a.jsx(ag,{className:"w-5 h-5 ml-2"})]})]})]})})]}):a.jsxs("div",{className:"space-y-6",children:[P.length>0&&a.jsxs(te,{className:"border-2 border-orange-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Qt,{className:"w-6 h-6 text-orange-600"}),"Recommended Practice Topics"]})}),a.jsx(ne,{className:"space-y-3",children:P.map((C,E)=>a.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl border-2 border-orange-200 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold capitalize mb-1",children:C.operation.replace(/_/g," ")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(je,{className:`${C.priority==="high"?"bg-red-500":"bg-orange-500"} text-white`,children:C.priority==="high"?"High Priority":"Medium"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Current: ",C.accuracy,"% accuracy"]})]})]}),a.jsxs(oe,{onClick:()=>T(C.operation,C.level),className:"bg-blue-500 hover:bg-blue-600",children:[a.jsx(ag,{className:"w-4 h-4 mr-2"}),"Start Practice"]})]},E))})]}),a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"w-6 h-6 text-purple-600"}),"Quick Practice by Topic"]})}),a.jsx(ne,{children:a.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:["addition","subtraction","multiplication","division"].map(C=>a.jsx(oe,{onClick:()=>T(C,"medium"),variant:"outline",className:"h-16 text-lg capitalize",children:C},C))})})]}),a.jsx(te,{className:"bg-gradient-to-r from-purple-100 to-pink-100 border-2 border-purple-300",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Ready for a Full Challenge?"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Try a complete game with stars and rewards!"}),a.jsx(Ht,{to:Xe("Home"),children:a.jsxs(oe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(ag,{className:"w-5 h-5 mr-2"}),"Go to Games"]})})]})})]})]})}function RVe({progress:t,tutorSessions:e,onWeaknessClick:n}){const[r,i]=S.useState(!1),s=()=>{if(t.length===0)return 0;const g=t.reduce((_,T)=>_+T.correct_answers/T.total_questions*100,0);return Math.round(g/t.length)},o=()=>{if(t.length===0)return 0;const g=t.reduce((_,T)=>_+T.time_taken,0);return Math.round(g/t.length)},l=()=>{if(t.length<5)return"neutral";const g=t.slice(0,5),_=t.slice(5,10),T=g.reduce((I,P)=>I+P.correct_answers/P.total_questions*100,0)/g.length,A=_.length>0?_.reduce((I,P)=>I+P.correct_answers/P.total_questions*100,0)/_.length:T;return T>A+5?"improving":T<A-5?"declining":"stable"},c=()=>{const g={};return t.forEach(_=>{g[_.operation]||(g[_.operation]={operation:_.operation,totalGames:0,totalCorrect:0,totalQuestions:0,averageTime:0,totalTime:0}),g[_.operation].totalGames++,g[_.operation].totalCorrect+=_.correct_answers,g[_.operation].totalQuestions+=_.total_questions,g[_.operation].totalTime+=_.time_taken}),Object.values(g).map(_=>({..._,accuracy:Math.round(_.totalCorrect/_.totalQuestions*100),averageTime:Math.round(_.totalTime/_.totalGames)})).sort((_,T)=>_.accuracy-T.accuracy)},d=()=>{const g={};return t.forEach(_=>{g[_.level]||(g[_.level]={level:_.level,totalGames:0,totalCorrect:0,totalQuestions:0}),g[_.level].totalGames++,g[_.level].totalCorrect+=_.correct_answers,g[_.level].totalQuestions+=_.total_questions}),Object.values(g).map(_=>({..._,accuracy:Math.round(_.totalCorrect/_.totalQuestions*100)}))},f=()=>{const g=[],_=c(),T=l(),A=s();T==="improving"?g.push({type:"positive",icon:gn,title:"You're Improving!",message:"Your recent performance shows great progress. Keep it up!"}):T==="declining"&&g.push({type:"warning",icon:Vc,title:"Need More Practice",message:"Your recent scores are lower. Let's focus on practice!"}),A>=90?g.push({type:"positive",icon:Gr,title:"Excellent Accuracy!",message:`You're at ${A}% accuracy. You're a math champion!`}):A<70&&g.push({type:"warning",icon:Qt,title:"Let's Boost Your Score",message:`Your accuracy is ${A}%. Practice will help you improve!`}),_.length>0&&_[0].accuracy<75&&g.push({type:"action",icon:pr,title:"Focus Area Identified",message:`${_[0].operation} needs attention (${_[0].accuracy}% accuracy)`,action:()=>n({operation:_[0].operation,level:"mixed"})});const I=o();return I<90&&A>=80&&g.push({type:"positive",icon:gn,title:"Fast and Accurate!",message:`You're solving problems in ${I}s with great accuracy!`}),g},m=c();d();const p=f(),v=l(),w=s(),x=t.slice(0,10).reverse().map((g,_)=>({game:`Game ${_+1}`,accuracy:Math.round(g.correct_answers/g.total_questions*100),speed:Math.max(0,120-g.time_taken)}));return t.length===0?a.jsx(te,{className:"text-center py-12",children:a.jsxs(ne,{children:[a.jsx(pr,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Start Playing to Get Analysis"}),a.jsx("p",{className:"text-gray-600",children:"Play some math games and I'll analyze your performance!"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(te,{className:"border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(pr,{className:"w-6 h-6 text-blue-600"}),"Overall Performance Analysis"]})}),a.jsxs(ne,{children:[a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"text-center p-4 bg-white rounded-xl",children:[a.jsxs("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:[w,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Overall Accuracy"}),a.jsx(dl,{value:w,className:"mt-2"})]}),a.jsxs("div",{className:"text-center p-4 bg-white rounded-xl",children:[a.jsxs("div",{className:"text-4xl font-bold text-purple-600 mb-1",children:[o(),"s"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Avg Time per Game"})]}),a.jsxs("div",{className:"text-center p-4 bg-white rounded-xl",children:[a.jsx("div",{className:"text-4xl font-bold text-green-600 mb-1",children:t.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Games Analyzed"})]})]}),a.jsxs("div",{className:"flex justify-center",children:[v==="improving"&&a.jsxs(je,{className:"bg-green-500 text-white text-lg px-6 py-2",children:[a.jsx(gn,{className:"w-5 h-5 mr-2"}),"Improving Trend"]}),v==="declining"&&a.jsxs(je,{className:"bg-orange-500 text-white text-lg px-6 py-2",children:[a.jsx(Vc,{className:"w-5 h-5 mr-2"}),"Needs Practice"]}),v==="stable"&&a.jsxs(je,{className:"bg-blue-500 text-white text-lg px-6 py-2",children:[a.jsx(Ut,{className:"w-5 h-5 mr-2"}),"Steady Progress"]})]})]})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:p.map((g,_)=>a.jsx(te,{className:`border-2 ${g.type==="positive"?"border-green-300 bg-green-50":g.type==="warning"?"border-orange-300 bg-orange-50":"border-blue-300 bg-blue-50"}`,children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${g.type==="positive"?"bg-green-500":g.type==="warning"?"bg-orange-500":"bg-blue-500"}`,children:a.jsx(g.icon,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-lg mb-1",children:g.title}),a.jsx("p",{className:"text-sm text-gray-700 mb-3",children:g.message}),g.action&&a.jsx(oe,{size:"sm",onClick:g.action,className:"bg-blue-500 hover:bg-blue-600",children:"Start Practice"})]})]})})},_))}),a.jsxs(te,{className:"border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Performance by Math Topic"})}),a.jsx(ne,{children:a.jsx("div",{className:"space-y-4",children:m.map((g,_)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium capitalize",children:g.operation.replace(/_/g," ")}),a.jsxs(je,{variant:"outline",children:[g.totalGames," games"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-2xl font-bold",children:[g.accuracy,"%"]}),g.accuracy<70&&a.jsx(oe,{size:"sm",onClick:()=>n({operation:g.operation,level:"mixed"}),className:"bg-orange-500 hover:bg-orange-600",children:"Practice"})]})]}),a.jsx(dl,{value:g.accuracy,className:`h-3 ${g.accuracy>=80?"bg-green-200":g.accuracy>=60?"bg-yellow-200":"bg-red-200"}`})]},g.operation))})})]}),x.length>0&&a.jsxs(te,{className:"border-2 border-blue-200",children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Recent Performance Trend"})}),a.jsx(ne,{children:a.jsx(Wa,{width:"100%",height:300,children:a.jsxs(i_,{data:x,children:[a.jsx(tl,{strokeDasharray:"3 3"}),a.jsx(ps,{dataKey:"game"}),a.jsx(xi,{}),a.jsx(mr,{}),a.jsx(Hi,{}),a.jsx(wa,{type:"monotone",dataKey:"accuracy",stroke:"#8b5cf6",strokeWidth:3,name:"Accuracy %"})]})})})]})]})}function hee(){const[t,e]=S.useState("analysis"),[n,r]=S.useState(null),{data:i}=dt({queryKey:["currentUser"],queryFn:async()=>{const f=await firebaseAuth.currentUser;return f?{email:f.email}:null}}),{data:s=[]}=dt({queryKey:["gameProgress"],queryFn:async()=>{const f=firebaseAuth.currentUser;if(!f)return[];const m=va(Pr(db,"gameProgress"),si("user_email","==",f.email));return(await Ti(m)).docs.map(v=>v.data())},initialData:[]}),{data:o=[]}=dt({queryKey:["tutorSessions"],queryFn:async()=>{const f=firebaseAuth.currentUser;if(!f)return[];const m=va(Pr(db,"tutorSessions"),si("created_by","==",f.email));return(await Ti(m)).docs.map(v=>v.data())},initialData:[]}),l=()=>o.length,c=()=>o.filter(f=>f.hint_requested).length,d=()=>o.filter(f=>f.explanation_viewed).length;return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-block mb-6",children:a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-2xl animate-pulse",children:a.jsx(pr,{className:"w-12 h-12 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"AI Math Tutor"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Your personal learning assistant powered by AI"})]}),a.jsxs(Ue,{className:"mb-8 bg-gradient-to-r from-blue-50 to-purple-50 border-blue-300",children:[a.jsx(Yt,{className:"w-5 h-5 text-blue-600"}),a.jsxs(ze,{className:"text-blue-800",children:[a.jsx("strong",{children:"Welcome to your AI Tutor!"})," I analyze your performance, identify areas for improvement, and create personalized practice exercises just for you. Let's make math fun and easy! "]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[a.jsx(te,{className:"bg-gradient-to-br from-blue-500 to-cyan-500 text-white border-0",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx(pr,{className:"w-8 h-8 mx-auto mb-2"}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:l()}),a.jsx("p",{className:"text-sm text-white/90",children:"Tutoring Sessions"})]})}),a.jsx(te,{className:"bg-gradient-to-br from-purple-500 to-pink-500 text-white border-0",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx(qr,{className:"w-8 h-8 mx-auto mb-2"}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:c()}),a.jsx("p",{className:"text-sm text-white/90",children:"Hints Received"})]})}),a.jsx(te,{className:"bg-gradient-to-br from-green-500 to-emerald-500 text-white border-0",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx(Rs,{className:"w-8 h-8 mx-auto mb-2"}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:d()}),a.jsx("p",{className:"text-sm text-white/90",children:"Explanations Read"})]})}),a.jsx(te,{className:"bg-gradient-to-br from-orange-500 to-red-500 text-white border-0",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx(Gr,{className:"w-8 h-8 mx-auto mb-2"}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:s.length}),a.jsx("p",{className:"text-sm text-white/90",children:"Games Analyzed"})]})})]}),a.jsx(te,{className:"border-4 border-purple-200 shadow-xl",children:a.jsx(ne,{className:"p-6",children:a.jsxs(Kc,{value:t,onValueChange:e,className:"w-full",children:[a.jsxs(xl,{className:"grid w-full grid-cols-3 mb-6",children:[a.jsxs(St,{value:"analysis",children:[a.jsx(Vc,{className:"w-4 h-4 mr-2"}),"Performance Analysis"]}),a.jsxs(St,{value:"weaknesses",children:[a.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Areas to Improve"]}),a.jsxs(St,{value:"practice",children:[a.jsx(ag,{className:"w-4 h-4 mr-2"}),"Practice Exercises"]})]}),a.jsx(Dt,{value:"analysis",className:"space-y-6",children:a.jsx(RVe,{progress:s,tutorSessions:o,onWeaknessClick:f=>{r(f),e("practice")}})}),a.jsx(Dt,{value:"weaknesses",className:"space-y-6",children:a.jsx(kVe,{progress:s,tutorSessions:o,onPracticeClick:f=>{r(f),e("practice")}})}),a.jsx(Dt,{value:"practice",className:"space-y-6",children:a.jsx(OVe,{selectedWeakness:n,progress:s})})]})})}),a.jsxs(te,{className:"mt-8 bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Yt,{className:"w-6 h-6 text-purple-600"}),"How Your AI Tutor Works"]})}),a.jsxs(ne,{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(Vc,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"font-bold mb-2",children:"1. Analyze Performance"}),a.jsx("p",{className:"text-sm text-gray-600",children:"AI reviews your games and identifies patterns in mistakes"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(Qt,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"font-bold mb-2",children:"2. Find Weaknesses"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Discover specific topics where you need more practice"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(Rs,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"font-bold mb-2",children:"3. Personalized Practice"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get custom exercises designed just for you"})]})]})]})]})}function fee(){const[t,e]=S.useState("googlereview@mathadventure.com"),[n,r]=S.useState(!1),[i,s]=S.useState(null),[o,l]=S.useState(null),c=async()=>{try{r(!0),l(null),s(null);const d=dn(Bt),m=(await Ti(Pr(d,"users"))).docs.find(v=>v.data().email===t);if(!m)throw new Error(`User with email ${t} not found. Please create the account first.`);const p=new Date;p.setFullYear(p.getFullYear()+1),await Fc(Gi(d,"users",m.id),{subscription_tier:"family_teacher",subscription_started_at:new Date().toISOString(),subscription_expires_at:p.toISOString(),subscription_auto_renew:!1,is_family_teacher:!0,is_premium_parent:!0,is_premium_player:!0,coins:500,total_stars_earned:100},{merge:!0}),s({email:t,expiresAt:p.toISOString(),tier:"family_teacher"})}catch(d){console.error("Error granting access:",d),l(d.message)}finally{r(!1)}};return a.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:a.jsxs(te,{className:"border-4 border-purple-300 shadow-xl",children:[a.jsxs(_e,{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white",children:[a.jsxs(Ne,{className:"flex items-center gap-2 text-2xl",children:[a.jsx(bi,{className:"w-6 h-6"}),"Test Account Manager"]}),a.jsx("p",{className:"text-sm opacity-90 mt-2",children:"Quickly grant premium access to test accounts for Google Play Review"})]}),a.jsxs(ne,{className:"p-6 space-y-6",children:[a.jsx(Ue,{className:"bg-blue-50 border-blue-200",children:a.jsxs(ze,{className:"text-blue-800",children:[a.jsx("strong",{children:"Steps:"}),a.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1 text-sm",children:[a.jsx("li",{children:"First, manually create the account in your app (sign up)"}),a.jsx("li",{children:"Enter the account email below"}),a.jsx("li",{children:'Click "Grant Premium Access"'}),a.jsx("li",{children:"Use this account for Google Play Console review"})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(at,{htmlFor:"email",className:"text-base font-semibold mb-2 block",children:"Test Account Email"}),a.jsx(an,{id:"email",type:"email",value:t,onChange:d=>e(d.target.value),placeholder:"googlereview@mathadventure.com",className:"h-12 text-base"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the email of an existing account"})]}),a.jsx(oe,{onClick:c,disabled:n||!t,className:"w-full h-12 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-lg",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(zp,{className:"w-5 h-5 mr-2"}),"Grant Premium Access"]})})]}),i&&a.jsxs(Ue,{className:"bg-green-50 border-green-300",children:[a.jsx(Ut,{className:"w-5 h-5 text-green-600"}),a.jsxs(ze,{className:"text-green-800",children:[a.jsx("strong",{className:"block mb-2",children:" Success! Premium Access Granted"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",i.email]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Tier:"})," Family/Teacher (Full Access)"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Expires:"})," ",new Date(i.expiresAt).toLocaleDateString()]}),a.jsxs("p",{className:"mt-3 pt-3 border-t border-green-200",children:[a.jsx("strong",{children:"Test Credentials:"}),a.jsx("br",{}),"Email: ",i.email,a.jsx("br",{}),"Password: (The password you set during signup)"]})]})]})]}),o&&a.jsxs(Ue,{className:"bg-red-50 border-red-300",children:[a.jsx(zr,{className:"w-5 h-5 text-red-600"}),a.jsxs(ze,{className:"text-red-800",children:[a.jsx("strong",{className:"block mb-1",children:"Error"}),o]})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border-2 border-purple-200",children:[a.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"What This Does:"}),a.jsxs("ul",{className:"space-y-1 text-sm text-purple-800",children:[a.jsx("li",{children:" Sets subscription tier to Family/Teacher"}),a.jsx("li",{children:" Grants all premium features"}),a.jsx("li",{children:" Sets expiration to 1 year from now"}),a.jsx("li",{children:" Adds 500 coins and 100 stars"}),a.jsx("li",{children:" Disables auto-renewal"})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-2 border-gray-200",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:" For Google Play Console:"}),a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Provide these instructions to reviewers:"}),a.jsx("pre",{className:"bg-white p-3 rounded text-xs border overflow-x-auto",children:`TEST ACCOUNT CREDENTIALS:
Email: ${t}
Password: (Your password)

INSTRUCTIONS:
1. Open Math Adventure app
2. Click "Sign In / Sign Up"  
3. Use credentials above
4. All premium features are unlocked

ACCOUNT FEATURES:
- Family/Teacher subscription active
- All premium content accessible
- Parental controls available
- No payment required

CONTACT:
support@math-adventure.com`})]})]})]})})}const cU={Home:uP,Game:MK,Progress:hJ,Avatar:FJ,DailyChallenge:VJ,ParentPortal:$Z,Shop:FZ,Leaderboards:VZ,TeamChallenges:BZ,Subscription:qZ,GenerateIcons:UZ,TestIconGeneration:zZ,Landing:WZ,Messages:HZ,ColorByNumbers:GZ,Settings:uee,PrivacyPolicy:dee,AITutor:hee,AdminTestAccount:fee};function MVe(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(cU).find(r=>r.toLowerCase()===e.toLowerCase())||Object.keys(cU)[0]}function DVe(){const t=jl(),e=MVe(t.pathname);return a.jsx(SNe,{currentPageName:e,children:a.jsxs(Mde,{children:[a.jsx(Xn,{path:"/",element:a.jsx(uP,{})}),a.jsx(Xn,{path:"/Home",element:a.jsx(uP,{})}),a.jsx(Xn,{path:"/Game",element:a.jsx(MK,{})}),a.jsx(Xn,{path:"/Progress",element:a.jsx(hJ,{})}),a.jsx(Xn,{path:"/Avatar",element:a.jsx(FJ,{})}),a.jsx(Xn,{path:"/DailyChallenge",element:a.jsx(VJ,{})}),a.jsx(Xn,{path:"/ParentPortal",element:a.jsx($Z,{})}),a.jsx(Xn,{path:"/Shop",element:a.jsx(FZ,{})}),a.jsx(Xn,{path:"/Leaderboards",element:a.jsx(VZ,{})}),a.jsx(Xn,{path:"/TeamChallenges",element:a.jsx(BZ,{})}),a.jsx(Xn,{path:"/Subscription",element:a.jsx(qZ,{})}),a.jsx(Xn,{path:"/GenerateIcons",element:a.jsx(UZ,{})}),a.jsx(Xn,{path:"/TestIconGeneration",element:a.jsx(zZ,{})}),a.jsx(Xn,{path:"/Landing",element:a.jsx(WZ,{})}),a.jsx(Xn,{path:"/Messages",element:a.jsx(HZ,{})}),a.jsx(Xn,{path:"/ColorByNumbers",element:a.jsx(GZ,{})}),a.jsx(Xn,{path:"/Settings",element:a.jsx(uee,{})}),a.jsx(Xn,{path:"/PrivacyPolicy",element:a.jsx(dee,{})}),a.jsx(Xn,{path:"/AITutor",element:a.jsx(hee,{})}),a.jsx(Xn,{path:"/AdminTestAccount",element:a.jsx(fee,{})})]})})}function LVe(){return a.jsx(ihe,{children:a.jsx(DVe,{})})}const $Ve=20,FVe=1e6,Yo={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let zE=0;function VVe(){return zE=(zE+1)%Number.MAX_VALUE,zE.toString()}const WE=new Map,uU=t=>{if(WE.has(t))return;const e=setTimeout(()=>{WE.delete(t),xg({type:Yo.REMOVE_TOAST,toastId:t})},FVe);WE.set(t,e)},BVe=(t,e)=>{switch(e.type){case Yo.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,$Ve)};case Yo.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Yo.DISMISS_TOAST:{const{toastId:n}=e;return n?uU(n):t.toasts.forEach(r=>{uU(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Yo.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ox=[];let Rx={toasts:[]};function xg(t){Rx=BVe(Rx,t),Ox.forEach(e=>{e(Rx)})}function qVe({...t}){const e=VVe(),n=i=>xg({type:Yo.UPDATE_TOAST,toast:{...i,id:e}}),r=()=>xg({type:Yo.DISMISS_TOAST,toastId:e});return xg({type:Yo.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function UVe(){const[t,e]=S.useState(Rx);return S.useEffect(()=>(Ox.push(e),()=>{const n=Ox.indexOf(e);n>-1&&Ox.splice(n,1)}),[t]),{...t,toast:qVe,dismiss:n=>xg({type:Yo.DISMISS_TOAST,toastId:n})}}const mee=S.forwardRef(({...t},e)=>a.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));mee.displayName="ToastProvider";const pee=S.forwardRef(({...t},e)=>a.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));pee.displayName="ToastViewport";const zVe=Gy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gee=S.forwardRef(({className:t,variant:e,...n},r)=>a.jsx("div",{ref:r,className:vt(zVe({variant:e}),t),...n}));gee.displayName="Toast";const WVe=S.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:vt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));WVe.displayName="ToastAction";const yee=S.forwardRef(({className:t,...e},n)=>a.jsx("button",{ref:n,className:vt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Tr,{className:"h-4 w-4"})}));yee.displayName="ToastClose";const vee=S.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:vt("text-sm font-semibold",t),...e}));vee.displayName="ToastTitle";const xee=S.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:vt("text-sm opacity-90",t),...e}));xee.displayName="ToastDescription";function HVe(){const{toasts:t}=UVe();return a.jsxs(mee,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return a.jsxs(gee,{...s,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(vee,{children:n}),r&&a.jsx(xee,{children:r})]}),i,a.jsx(yee,{})]},e)}),a.jsx(pee,{})]})}function GVe(){return a.jsxs(a.Fragment,{children:[a.jsx(LVe,{}),a.jsx(HVe,{})]})}Mte.createRoot(document.getElementById("root")).render(a.jsx(GVe,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});
