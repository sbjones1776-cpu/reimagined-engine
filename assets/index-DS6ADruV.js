const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC-i35konQI-CjlSaAQR-DWHXc9fM.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw-C3ozQzG_-BS-NPxbZ-Do7G8zpZ-Cj6Z1Ic1.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc-CAXKM_tn-BSUotW_a-C1AHqVwe.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV--CsHTKCTt-BP9X_a4h-DBl5YPJh-DgteZXgB.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD-CfwVKCbF-DwKF90JC-DVsm7u2y.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm-B0eqz-TD-DQldaXmM-CmslGYg4-CtMb4uf_.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113-BcwpOZqT-GOJVET6z-DJo7lhFZ-nIdUxZaV.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5-D5MMr3dA-CncrG6o8-h7sLaBiA-CSYVy3Yk.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9-W0QmP09M-3hRm0Cv0-DiMHEf8I-D6HHGdk3.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5-2slMDHp0-Dt8Hz_gu-DQ4ciPVI-C7q_24xj.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8-D7ZLtM3Q-fUNOd4Tb-uVCUCnov-BMauAVDu.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X-BjwcqdyU-HefgA4ey-dkeLpIxb-B5ApUK70.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh-BCHOnD0---4-_1MLM-D60HZjyU-CK9qTR--.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH-CjaDUu9L-Ds6IpQkW-BS1Y1LI3-CYhMNQ4x.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy-DSiTgkC1-DhFXkp_T-wjER_uU1-BJfJHVT0.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f-CFg9LYze-Dqr9YOPU-C0SyBRpa-Cu7J1VSn.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo-CXa-mNyE-B-nOEEZ2-BXIaXeaJ-3WK4aNSX.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o-DlsB7OV4-CfhTL5-j-CxIqGyFn.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_-BVesU6qw-CG5MCbzm-BvDHL4Y4-BLMKEBwG.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d-HS1mS00F-Bd1JUeU2-B1SlTvS--Dik_ibXC.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF-BcGzNvoM-InYk3mbD-BUsuQx1i-Be26j8Y5.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx-Bw8Xp5R6-Cn_nYyE2-DBnxm5kI-jkVqmyn3.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S-DshAzykl-BsXPPDcM-DBAPLTxO-BORqaJWi.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2-DHjNSAAD-mWQj0O8b-IitXZYGd-CNFa6peB.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI-BPEWt9vX-DCprVw_7-DX2Rz0v5-BJLgwOfU.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S-DKZmBPSQ-D_2XdzET-Ds72m2f0-DzQ2KTjW.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk-DghFmtyw-DjB8J4yd-BQPqGAFS.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff-CGgC7vS1-CgwfReGn-DNMXd5HN-D0eZQ7b1.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29-DymLulGz-DUrYCQ5E-CFVlOn0W-ClLCqgD8.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9-CbEJ5snd-CjkzqJFV-BjfMCE-B.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ-ezXG_L9G-BEUxX-nu-BaLol5Ef-Bk6hRXOE.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3-CERtGQAZ-BoCXO3SG-CiW37Qbf-CABa6JX2.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_-DZaDo8HZ-Bd77omDN-BCrgyW6d.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH-DwPTvosq-BzPWxo8M-DoJFGzd--B7jRlY6l.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R-BSHHPml2-D_yBAKS5-DIMqUFDl-SBtv80J2.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv-Bp24DiAJ-BrPJAgIo-xKg9mO9C.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g-DgYru0Gs-B5_uRmKS-BqjAjW_i-_Qq55oOh.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr-Ffel_h2u-C8GXHf8T-CRzihMLV.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV-BZi3D42F-BniOzOaT-B4WaX2EB-CE-Vyn65.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc-XiyT1ylp-BV4oUjra-CdhrMS0w-DSj_3q3t.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA-CQ-9O2Qt-CIrR7EI3-DlUHcS2G-M8-8SnQC.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs-CLTC0C47-DdwKpe-B-CjUiN4J_-CpHGTy1u.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr-Crsier0o-Bff3sT4n-DrOZgfPn-DaCjCY9G.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5--BPyiYMnQ-k2gq4TdQ-DUtTXYiH-ClTToQ8q.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u-CCYcbo7R-Oj5x0VMM-BSvNq37_.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb-uuJZ4FGW-ruYVavqy-CE5JpoGq.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20-Du5ZVLe7-CSuTkKjt-Dd0stPfK-9C-XPk8w.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4-BmOdg69B-CPQ46To1-CSgifZb6.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f-MccA_3E3-DQhvjEee--Hurig4W.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN-oTa863JD-0sbYUKBU-CCITiMP4.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh-lwZWuJt4-FmNlGGTF-D5ZL8Ai1-C0BAc7K0.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv-Dzw5lkMP-MKYQRKjk-7a1SNiNN.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC-CpqL9fon-Cde4ofN_-CHxxW_Er.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb-t4dmRNZn-07iJlHeK-Bz_4ad50.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc-CPBJsZoB-Cx2-ydHI-Cev9u3Kv-BX07Wmfg.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7-Dcz3eR3L-8JW9s778-D0iRmiby.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q-BfTbXhxt-BVC_lLSA-BerRSVOV.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw-Cla6mJUP-D58jAMXH-B1gXMpXZ.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg-qnXeUsv8-CRQgaPIC-DpX4gqt2.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499-NSoB4kZx-C1AH7B5I-CxZluI_D.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Q3="modulepreload",X3=function(t){return"/"+t},QS={},Ot=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=o(n.map(d=>{if(d=X3(d),d in QS)return;QS[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":Q3,p||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((k,_)=>{v.addEventListener("load",k),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return s.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},Lt=(t,e=Lt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC-i35konQI-CjlSaAQR.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw-C3ozQzG_-BS-NPxbZ-Do7G8zpZ.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc-CAXKM_tn-BSUotW_a.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV--CsHTKCTt-BP9X_a4h-DBl5YPJh.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD-CfwVKCbF-DwKF90JC.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm-B0eqz-TD-DQldaXmM-CmslGYg4.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113-BcwpOZqT-GOJVET6z-DJo7lhFZ.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5-D5MMr3dA-CncrG6o8-h7sLaBiA.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9-W0QmP09M-3hRm0Cv0-DiMHEf8I.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5-2slMDHp0-Dt8Hz_gu-DQ4ciPVI.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8-D7ZLtM3Q-fUNOd4Tb-uVCUCnov.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X-BjwcqdyU-HefgA4ey-dkeLpIxb.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh-BCHOnD0---4-_1MLM-D60HZjyU.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH-CjaDUu9L-Ds6IpQkW-BS1Y1LI3.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy-DSiTgkC1-DhFXkp_T-wjER_uU1.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f-CFg9LYze-Dqr9YOPU-C0SyBRpa.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo-CXa-mNyE-B-nOEEZ2-BXIaXeaJ.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o-DlsB7OV4-CfhTL5-j.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_-BVesU6qw-CG5MCbzm-BvDHL4Y4.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d-HS1mS00F-Bd1JUeU2-B1SlTvS-.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF-BcGzNvoM-InYk3mbD-BUsuQx1i.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx-Bw8Xp5R6-Cn_nYyE2-DBnxm5kI.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S-DshAzykl-BsXPPDcM-DBAPLTxO.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2-DHjNSAAD-mWQj0O8b-IitXZYGd.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI-BPEWt9vX-DCprVw_7-DX2Rz0v5.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S-DKZmBPSQ-D_2XdzET-Ds72m2f0.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk-DghFmtyw-DjB8J4yd.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff-CGgC7vS1-CgwfReGn-DNMXd5HN.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29-DymLulGz-DUrYCQ5E-CFVlOn0W.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9-CbEJ5snd-CjkzqJFV.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ-ezXG_L9G-BEUxX-nu-BaLol5Ef.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3-CERtGQAZ-BoCXO3SG-CiW37Qbf.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_-DZaDo8HZ-Bd77omDN.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH-DwPTvosq-BzPWxo8M-DoJFGzd-.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R-BSHHPml2-D_yBAKS5-DIMqUFDl.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv-Bp24DiAJ-BrPJAgIo.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g-DgYru0Gs-B5_uRmKS-BqjAjW_i.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr-Ffel_h2u-C8GXHf8T.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV-BZi3D42F-BniOzOaT-B4WaX2EB.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc-XiyT1ylp-BV4oUjra-CdhrMS0w.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA-CQ-9O2Qt-CIrR7EI3-DlUHcS2G.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs-CLTC0C47-DdwKpe-B-CjUiN4J_.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr-Crsier0o-Bff3sT4n-DrOZgfPn.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5--BPyiYMnQ-k2gq4TdQ-DUtTXYiH.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u-CCYcbo7R-Oj5x0VMM.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb-uuJZ4FGW-ruYVavqy.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20-Du5ZVLe7-CSuTkKjt-Dd0stPfK.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4-BmOdg69B-CPQ46To1.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f-MccA_3E3-DQhvjEee.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN-oTa863JD-0sbYUKBU.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh-lwZWuJt4-FmNlGGTF-D5ZL8Ai1.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv-Dzw5lkMP-MKYQRKjk.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC-CpqL9fon-Cde4ofN_.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb-t4dmRNZn-07iJlHeK.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc-CPBJsZoB-Cx2-ydHI-Cev9u3Kv.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7-Dcz3eR3L-8JW9s778.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q-BfTbXhxt-BVC_lLSA.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw-Cla6mJUP-D58jAMXH.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg-qnXeUsv8-CRQgaPIC.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499-NSoB4kZx-C1AH7B5I.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const Y3="modulepreload",J3=function(t){return"/"+t},XS={},Ft=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(c=>{if(c=J3(c),c in XS)return;XS[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":Y3,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},Bt=(t,e=Bt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC-i35konQI.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw-C3ozQzG_-BS-NPxbZ.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc-CAXKM_tn.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV--CsHTKCTt-BP9X_a4h.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD-CfwVKCbF.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm-B0eqz-TD-DQldaXmM.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113-BcwpOZqT-GOJVET6z.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5-D5MMr3dA-CncrG6o8.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9-W0QmP09M-3hRm0Cv0.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5-2slMDHp0-Dt8Hz_gu.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8-D7ZLtM3Q-fUNOd4Tb.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X-BjwcqdyU-HefgA4ey.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh-BCHOnD0---4-_1MLM.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH-CjaDUu9L-Ds6IpQkW.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy-DSiTgkC1-DhFXkp_T.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f-CFg9LYze-Dqr9YOPU.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo-CXa-mNyE-B-nOEEZ2.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o-DlsB7OV4.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_-BVesU6qw-CG5MCbzm.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d-HS1mS00F-Bd1JUeU2.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF-BcGzNvoM-InYk3mbD.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx-Bw8Xp5R6-Cn_nYyE2.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S-DshAzykl-BsXPPDcM.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2-DHjNSAAD-mWQj0O8b.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI-BPEWt9vX-DCprVw_7.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S-DKZmBPSQ-D_2XdzET.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk-DghFmtyw.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff-CGgC7vS1-CgwfReGn.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29-DymLulGz-DUrYCQ5E.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9-CbEJ5snd.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ-ezXG_L9G-BEUxX-nu.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3-CERtGQAZ-BoCXO3SG.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_-DZaDo8HZ.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH-DwPTvosq-BzPWxo8M.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R-BSHHPml2-D_yBAKS5.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv-Bp24DiAJ.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g-DgYru0Gs-B5_uRmKS.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr-Ffel_h2u.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV-BZi3D42F-BniOzOaT.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc-XiyT1ylp-BV4oUjra.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA-CQ-9O2Qt-CIrR7EI3.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs-CLTC0C47-DdwKpe-B.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr-Crsier0o-Bff3sT4n.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5--BPyiYMnQ-k2gq4TdQ.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u-CCYcbo7R.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb-uuJZ4FGW.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20-Du5ZVLe7-CSuTkKjt.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4-BmOdg69B.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f-MccA_3E3.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN-oTa863JD.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh-lwZWuJt4-FmNlGGTF.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv-Dzw5lkMP.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC-CpqL9fon.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb-t4dmRNZn.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc-CPBJsZoB-Cx2-ydHI.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7-Dcz3eR3L.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q-BfTbXhxt.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw-Cla6mJUP.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg-qnXeUsv8.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499-NSoB4kZx.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const Z3="modulepreload",eL=function(t){return"/"+t},YS={},Ut=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(c=>{if(c=eL(c),c in YS)return;YS[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":Z3,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},zt=(t,e=zt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw-C3ozQzG_.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV--CsHTKCTt.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm-B0eqz-TD.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113-BcwpOZqT.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5-D5MMr3dA.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9-W0QmP09M.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5-2slMDHp0.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8-D7ZLtM3Q.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X-BjwcqdyU.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh-BCHOnD0-.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH-CjaDUu9L.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy-DSiTgkC1.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f-CFg9LYze.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo-CXa-mNyE.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_-BVesU6qw.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d-HS1mS00F.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF-BcGzNvoM.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx-Bw8Xp5R6.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S-DshAzykl.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2-DHjNSAAD.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI-BPEWt9vX.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S-DKZmBPSQ.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff-CGgC7vS1.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29-DymLulGz.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ-ezXG_L9G.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3-CERtGQAZ.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH-DwPTvosq.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R-BSHHPml2.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g-DgYru0Gs.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV-BZi3D42F.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc-XiyT1ylp.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA-CQ-9O2Qt.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs-CLTC0C47.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr-Crsier0o.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5--BPyiYMnQ.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20-Du5ZVLe7.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh-lwZWuJt4.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc-CPBJsZoB.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const tL="modulepreload",nL=function(t){return"/"+t},JS={},Vt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(c=>{if(c=nL(c),c in JS)return;JS[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":tL,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},qt=(t,e=qt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV-.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV-.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5-.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const rL="modulepreload",sL=function(t){return"/"+t},ZS={},$t=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(c=>{if(c=sL(c),c in ZS)return;ZS[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":rL,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},Ht=(t,e=Ht,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm-.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00-.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const iL="modulepreload",aL=function(t){return"/"+t},eE={},Kt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(c=>{if(c=aL(c),c in eE)return;eE[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":iL,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},Gt=(t,e=Gt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ.js","assets/progress-DswiN-jt-CRkTvpyk.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx.js","assets/download-k8BXtbsE-hJBy54oi.js","assets/Home-B1e5oU6L-BnLx-1kh.js","assets/flame-Z4NDYWf0-CPLPmaZ3.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v.js","assets/zap-BUGd4PS--D5Rx8Je6.js","assets/external-link-B3vh6vLr-IAJFuuQW.js","assets/trending-up-DOxCo9I6-CjyZKRpy.js","assets/target-1p2ICMDN-CvDzxGjB.js","assets/book-open-CsZLkRie-CnloTbZU.js","assets/plus-CzE6Y-vE-CTS6AMhf.js","assets/minus-CxnUEU8f-CdSPzO8E.js","assets/lock-DVJmOJtR-CPCpectf.js","assets/circle-alert-D0KxAb-N-CBSI-qzf.js","assets/palette-C1tdbQoO-D9zv_SnR.js","assets/Game-BSxN8OV2-DCbKaoIo.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N.js","assets/trending-down-CtEqn-BB-zOpygq96.js","assets/triangle-alert-BF04o9wv-5R0uES8i.js","assets/QuestionGenerator-z-c728t7-CSzYVewV.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH.js","assets/arrow-left-8gFWt4dJ-CSNboBK9.js","assets/Progress-CJyc2nxx-CCph28do.js","assets/LineChart-Boznw0oC-BjVvaeYB.js","assets/gift-gU3fLUyU-xa62twJ2.js","assets/Avatar-DWsPiGGF-BsRh6I0m.js","assets/label-ClTmKTiT-BGzEp_4m.js","assets/tabs-BCUfDdd3-DRpA79_-.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T.js","assets/index-DytiPzxp-BK84tApl.js","assets/save-WpcaPzdX-CJl6cnmk.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE.js","assets/medal-iK-ypg-g-C4SGU5mg.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm.js","assets/textarea-CqrSSpqj-CdkJNOEe.js","assets/select-CEEjSQMd-D2Q8_Gex.js","assets/index-K24GeIQO-pPWQlksM.js","assets/trash-2-jwsEREBw-DdJfLY0z.js","assets/info-BwmiXNr9-k9-UA3eH.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh.js","assets/Shop-CVZgRxJn-CVz_4LS0.js","assets/Leaderboards-Bm79OtXC-B_odZ22w.js","assets/user-plus-DvDth6Co-mjoHpJFL.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz.js","assets/GenerateIcons-irEsrbiy-D96HRozy.js","assets/loader-circle-BANzzYJc-B3uLjLZr.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD.js","assets/Messages-BRMZI1jn-BJW4UB3P.js","assets/ColorByNumbers-JzUc735X-263wB9fx.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo.js","assets/Settings-DBhk2Jxw-eoqk1yaj.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ.js","assets/AITutor-CiJvOfzv-b-ne1DOj.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC.js","assets/Subscribe-D5mtZK-4-DoW00_oc.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const oL="modulepreload",lL=function(t){return"/"+t},tE={},Wt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(c=>{if(c=lL(c),c in tE)return;tE[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":oL,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},Qt=(t,e=Qt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq.js","assets/progress-DswiN-jt.js","assets/InstallPrompt-CYulZlIm.js","assets/download-k8BXtbsE.js","assets/Home-B1e5oU6L.js","assets/flame-Z4NDYWf0.js","assets/AppTrialPromo-fh-8uCNN.js","assets/zap-BUGd4PS-.js","assets/external-link-B3vh6vLr.js","assets/trending-up-DOxCo9I6.js","assets/target-1p2ICMDN.js","assets/book-open-CsZLkRie.js","assets/plus-CzE6Y-vE.js","assets/minus-CxnUEU8f.js","assets/lock-DVJmOJtR.js","assets/circle-alert-D0KxAb-N.js","assets/palette-C1tdbQoO.js","assets/Game-BSxN8OV2.js","assets/useMutation-Dw-sPjxD.js","assets/CelebrationAnimation-Dc0BowXO.js","assets/TextToSpeech-AHz3T4an.js","assets/rotate-ccw-D8vHVTX7.js","assets/trending-down-CtEqn-BB.js","assets/triangle-alert-BF04o9wv.js","assets/QuestionGenerator-z-c728t7.js","assets/PremiumFeatureLock-DUuDI_YH.js","assets/arrow-left-8gFWt4dJ.js","assets/Progress-CJyc2nxx.js","assets/LineChart-Boznw0oC.js","assets/gift-gU3fLUyU.js","assets/Avatar-DWsPiGGF.js","assets/label-ClTmKTiT.js","assets/tabs-BCUfDdd3.js","assets/AvatarDisplay-BzkYfhqx.js","assets/index-DytiPzxp.js","assets/save-WpcaPzdX.js","assets/DailyChallenge-Bdw758IQ.js","assets/medal-iK-ypg-g.js","assets/ParentPortal-ujdsGIsq.js","assets/textarea-CqrSSpqj.js","assets/select-CEEjSQMd.js","assets/index-K24GeIQO.js","assets/trash-2-jwsEREBw.js","assets/info-BwmiXNr9.js","assets/startOfMonth-D3h4jTlt.js","assets/Shop-CVZgRxJn.js","assets/Leaderboards-Bm79OtXC.js","assets/user-plus-DvDth6Co.js","assets/TeamChallenges-YLDuyulC.js","assets/Subscription-BXM5wPAK.js","assets/GenerateIcons-irEsrbiy.js","assets/loader-circle-BANzzYJc.js","assets/TestIconGeneration-oHdXBYrX.js","assets/Messages-BRMZI1jn.js","assets/ColorByNumbers-JzUc735X.js","assets/paint-bucket-C2C9L7S8.js","assets/Settings-DBhk2Jxw.js","assets/PrivacyPolicy-CiiZkyoZ.js","assets/AITutor-CiJvOfzv.js","assets/AdminTestAccount-DOgC3vLm.js","assets/Subscribe-D5mtZK-4.js"]))=>t.map(r=>n[r]);var uL=Object.defineProperty,cP=t=>{throw TypeError(t)},cL=(t,e,n)=>e in t?uL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nE=(t,e,n)=>cL(t,typeof e!="symbol"?e+"":e,n),fx=(t,e,n)=>e.has(t)||cP("Cannot "+n),$=(t,e,n)=>(fx(t,e,"read from private field"),n?n.call(t):e.get(t)),je=(t,e,n)=>e.has(t)?cP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(fx(t,e,"write to private field"),e.set(t,n),n),Ze=(t,e,n)=>(fx(t,e,"access private method"),n),Bw=(t,e,n,r)=>({set _(s){ge(t,e,s)},get _(){return $(t,e,r)}});function hL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var Une=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function px(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rE={exports:{}},Hh={},sE={exports:{}},Ke={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var iE;function dL(){if(iE)return Ke;iE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function T(G,re,pe){this.props=G,this.context=re,this.refs=E,this.updater=pe||k}T.prototype.isReactComponent={},T.prototype.setState=function(G,re){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,re,"setState")},T.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function D(){}D.prototype=T.prototype;function N(G,re,pe){this.props=G,this.context=re,this.refs=E,this.updater=pe||k}var R=N.prototype=new D;R.constructor=N,_(R,T.prototype),R.isPureReactComponent=!0;var U=Array.isArray,V=Object.prototype.hasOwnProperty,K={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function I(G,re,pe){var me,Me={},ze=null,Ie=null;if(re!=null)for(me in re.ref!==void 0&&(Ie=re.ref),re.key!==void 0&&(ze=""+re.key),re)V.call(re,me)&&!M.hasOwnProperty(me)&&(Me[me]=re[me]);var qe=arguments.length-2;if(qe===1)Me.children=pe;else if(1<qe){for(var Ue=Array(qe),pt=0;pt<qe;pt++)Ue[pt]=arguments[pt+2];Me.children=Ue}if(G&&G.defaultProps)for(me in qe=G.defaultProps,qe)Me[me]===void 0&&(Me[me]=qe[me]);return{$$typeof:t,type:G,key:ze,ref:Ie,props:Me,_owner:K.current}}function A(G,re){return{$$typeof:t,type:G.type,key:re,ref:G.ref,props:G.props,_owner:G._owner}}function O(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function B(G){var re={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(pe){return re[pe]})}var q=/\/+/g;function L(G,re){return typeof G=="object"&&G!==null&&G.key!=null?B(""+G.key):re.toString(36)}function Se(G,re,pe,me,Me){var ze=typeof G;(ze==="undefined"||ze==="boolean")&&(G=null);var Ie=!1;if(G===null)Ie=!0;else switch(ze){case"string":case"number":Ie=!0;break;case"object":switch(G.$$typeof){case t:case e:Ie=!0}}if(Ie)return Ie=G,Me=Me(Ie),G=me===""?"."+L(Ie,0):me,U(Me)?(pe="",G!=null&&(pe=G.replace(q,"$&/")+"/"),Se(Me,re,pe,"",function(pt){return pt})):Me!=null&&(O(Me)&&(Me=A(Me,pe+(!Me.key||Ie&&Ie.key===Me.key?"":(""+Me.key).replace(q,"$&/")+"/")+G)),re.push(Me)),1;if(Ie=0,me=me===""?".":me+":",U(G))for(var qe=0;qe<G.length;qe++){ze=G[qe];var Ue=me+L(ze,qe);Ie+=Se(ze,re,pe,Ue,Me)}else if(Ue=v(G),typeof Ue=="function")for(G=Ue.call(G),qe=0;!(ze=G.next()).done;)ze=ze.value,Ue=me+L(ze,qe++),Ie+=Se(ze,re,pe,Ue,Me);else if(ze==="object")throw re=String(G),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Ie}function Ne(G,re,pe){if(G==null)return G;var me=[],Me=0;return Se(G,me,"","",function(ze){return re.call(pe,ze,Me++)}),me}function ye(G){if(G._status===-1){var re=G._result;re=re(),re.then(function(pe){(G._status===0||G._status===-1)&&(G._status=1,G._result=pe)},function(pe){(G._status===0||G._status===-1)&&(G._status=2,G._result=pe)}),G._status===-1&&(G._status=0,G._result=re)}if(G._status===1)return G._result.default;throw G._result}var ve={current:null},W={transition:null},ne={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:W,ReactCurrentOwner:K};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:Ne,forEach:function(G,re,pe){Ne(G,function(){re.apply(this,arguments)},pe)},count:function(G){var re=0;return Ne(G,function(){re++}),re},toArray:function(G){return Ne(G,function(re){return re})||[]},only:function(G){if(!O(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ke.Component=T,Ke.Fragment=n,Ke.Profiler=s,Ke.PureComponent=N,Ke.StrictMode=r,Ke.Suspense=c,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Ke.act=ae,Ke.cloneElement=function(G,re,pe){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var me=_({},G.props),Me=G.key,ze=G.ref,Ie=G._owner;if(re!=null){if(re.ref!==void 0&&(ze=re.ref,Ie=K.current),re.key!==void 0&&(Me=""+re.key),G.type&&G.type.defaultProps)var qe=G.type.defaultProps;for(Ue in re)V.call(re,Ue)&&!M.hasOwnProperty(Ue)&&(me[Ue]=re[Ue]===void 0&&qe!==void 0?qe[Ue]:re[Ue])}var Ue=arguments.length-2;if(Ue===1)me.children=pe;else if(1<Ue){qe=Array(Ue);for(var pt=0;pt<Ue;pt++)qe[pt]=arguments[pt+2];me.children=qe}return{$$typeof:t,type:G.type,key:Me,ref:ze,props:me,_owner:Ie}},Ke.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:i,_context:G},G.Consumer=G},Ke.createElement=I,Ke.createFactory=function(G){var re=I.bind(null,G);return re.type=G,re},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(G){return{$$typeof:u,render:G}},Ke.isValidElement=O,Ke.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:ye}},Ke.memo=function(G,re){return{$$typeof:d,type:G,compare:re===void 0?null:re}},Ke.startTransition=function(G){var re=W.transition;W.transition={};try{G()}finally{W.transition=re}},Ke.unstable_act=ae,Ke.useCallback=function(G,re){return ve.current.useCallback(G,re)},Ke.useContext=function(G){return ve.current.useContext(G)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(G){return ve.current.useDeferredValue(G)},Ke.useEffect=function(G,re){return ve.current.useEffect(G,re)},Ke.useId=function(){return ve.current.useId()},Ke.useImperativeHandle=function(G,re,pe){return ve.current.useImperativeHandle(G,re,pe)},Ke.useInsertionEffect=function(G,re){return ve.current.useInsertionEffect(G,re)},Ke.useLayoutEffect=function(G,re){return ve.current.useLayoutEffect(G,re)},Ke.useMemo=function(G,re){return ve.current.useMemo(G,re)},Ke.useReducer=function(G,re,pe){return ve.current.useReducer(G,re,pe)},Ke.useRef=function(G){return ve.current.useRef(G)},Ke.useState=function(G){return ve.current.useState(G)},Ke.useSyncExternalStore=function(G,re,pe){return ve.current.useSyncExternalStore(G,re,pe)},Ke.useTransition=function(){return ve.current.useTransition()},Ke.version="18.3.1",Ke}var aE;function mx(){return aE||(aE=1,sE.exports=dL()),sE.exports}/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var oE;function fL(){if(oE)return Hh;oE=1;var t=mx(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(u,c,d){var p,g={},v=null,k=null;d!==void 0&&(v=""+d),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(k=c.ref);for(p in c)r.call(c,p)&&!i.hasOwnProperty(p)&&(g[p]=c[p]);if(u&&u.defaultProps)for(p in c=u.defaultProps,c)g[p]===void 0&&(g[p]=c[p]);return{$$typeof:e,type:u,key:v,ref:k,props:g,_owner:s.current}}return Hh.Fragment=n,Hh.jsx=o,Hh.jsxs=o,Hh}var lE;function pL(){return lE||(lE=1,rE.exports=fL()),rE.exports}var x=pL(),C=mx();const pn=px(C),gx=hL({__proto__:null,default:pn},[C]);var am={},P0={exports:{}},ir={},uE={exports:{}},cE={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var hE;function mL(){return hE||(hE=1,(function(t){function e(W,ne){var ae=W.length;W.push(ne);e:for(;0<ae;){var G=ae-1>>>1,re=W[G];if(0<s(re,ne))W[G]=ne,W[ae]=re,ae=G;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ne=W[0],ae=W.pop();if(ae!==ne){W[0]=ae;e:for(var G=0,re=W.length,pe=re>>>1;G<pe;){var me=2*(G+1)-1,Me=W[me],ze=me+1,Ie=W[ze];if(0>s(Me,ae))ze<re&&0>s(Ie,Me)?(W[G]=Ie,W[ze]=ae,G=ze):(W[G]=Me,W[me]=ae,G=me);else if(ze<re&&0>s(Ie,ae))W[G]=Ie,W[ze]=ae,G=ze;else break e}}return ne}function s(W,ne){var ae=W.sortIndex-ne.sortIndex;return ae!==0?ae:W.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],d=[],p=1,g=null,v=3,k=!1,_=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(W){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=W)r(d),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(d)}}function U(W){if(E=!1,R(W),!_)if(n(c)!==null)_=!0,ye(V);else{var ne=n(d);ne!==null&&ve(U,ne.startTime-W)}}function V(W,ne){_=!1,E&&(E=!1,D(I),I=-1),k=!0;var ae=v;try{for(R(ne),g=n(c);g!==null&&(!(g.expirationTime>ne)||W&&!B());){var G=g.callback;if(typeof G=="function"){g.callback=null,v=g.priorityLevel;var re=G(g.expirationTime<=ne);ne=t.unstable_now(),typeof re=="function"?g.callback=re:g===n(c)&&r(c),R(ne)}else r(c);g=n(c)}if(g!==null)var pe=!0;else{var me=n(d);me!==null&&ve(U,me.startTime-ne),pe=!1}return pe}finally{g=null,v=ae,k=!1}}var K=!1,M=null,I=-1,A=5,O=-1;function B(){return!(t.unstable_now()-O<A)}function q(){if(M!==null){var W=t.unstable_now();O=W;var ne=!0;try{ne=M(!0,W)}finally{ne?L():(K=!1,M=null)}}else K=!1}var L;if(typeof N=="function")L=function(){N(q)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ne=Se.port2;Se.port1.onmessage=q,L=function(){Ne.postMessage(null)}}else L=function(){T(q,0)};function ye(W){M=W,K||(K=!0,L())}function ve(W,ne){I=T(function(){W(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){_||k||(_=!0,ye(V))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(W){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var ae=v;v=ne;try{return W()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ae=v;v=W;try{return ne()}finally{v=ae}},t.unstable_scheduleCallback=function(W,ne,ae){var G=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?G+ae:G):ae=G,W){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ae+re,W={id:p++,callback:ne,priorityLevel:W,startTime:ae,expirationTime:re,sortIndex:-1},ae>G?(W.sortIndex=ae,e(d,W),n(c)===null&&W===n(d)&&(E?(D(I),I=-1):E=!0,ve(U,ae-G))):(W.sortIndex=re,e(c,W),_||k||(_=!0,ye(V))),W},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(W){var ne=v;return function(){var ae=v;v=ne;try{return W.apply(this,arguments)}finally{v=ae}}}})(cE)),cE}var dE;function gL(){return dE||(dE=1,uE.exports=mL()),uE.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var fE;function yL(){if(fE)return ir;fE=1;var t=mx(),e=gL();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(a,l){o(a,l),o(a+"Capture",l)}function o(a,l){for(s[a]=l,a=0;a<l.length;a++)r.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(a){return c.call(g,a)?!0:c.call(p,a)?!1:d.test(a)?g[a]=!0:(p[a]=!0,!1)}function k(a,l,h,m){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function _(a,l,h,m){if(l===null||typeof l>"u"||k(a,l,h,m))return!0;if(m)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function E(a,l,h,m,y,w,P){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=h,this.propertyName=a,this.type=l,this.sanitizeURL=w,this.removeEmptyString=P}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){T[a]=new E(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];T[l]=new E(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){T[a]=new E(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){T[a]=new E(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){T[a]=new E(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){T[a]=new E(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){T[a]=new E(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){T[a]=new E(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){T[a]=new E(a,5,!1,a.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function N(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(D,N);T[l]=new E(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(D,N);T[l]=new E(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(D,N);T[l]=new E(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){T[a]=new E(a,1,!1,a.toLowerCase(),null,!1,!1)}),T.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){T[a]=new E(a,1,!1,a.toLowerCase(),null,!0,!0)});function R(a,l,h,m){var y=T.hasOwnProperty(l)?T[l]:null;(y!==null?y.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(_(l,h,y,m)&&(h=null),m||y===null?v(l)&&(h===null?a.removeAttribute(l):a.setAttribute(l,""+h)):y.mustUseProperty?a[y.propertyName]=h===null?y.type===3?!1:"":h:(l=y.attributeName,m=y.attributeNamespace,h===null?a.removeAttribute(l):(y=y.type,h=y===3||y===4&&h===!0?"":""+h,m?a.setAttributeNS(m,l,h):a.setAttribute(l,h))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),K=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),W=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=W&&a[W]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Object.assign,G;function re(a){if(G===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);G=l&&l[1]||""}return`
`+G+a}var pe=!1;function me(a,l){if(!a||pe)return"";pe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Z){var m=Z}Reflect.construct(a,[],l)}else{try{l.call()}catch(Z){m=Z}a.call(l.prototype)}else{try{throw Error()}catch(Z){m=Z}a()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),w=m.stack.split(`
`),P=y.length-1,F=w.length-1;1<=P&&0<=F&&y[P]!==w[F];)F--;for(;1<=P&&0<=F;P--,F--)if(y[P]!==w[F]){if(P!==1||F!==1)do if(P--,F--,0>F||y[P]!==w[F]){var z=`
`+y[P].replace(" at new "," at ");return a.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",a.displayName)),z}while(1<=P&&0<=F);break}}}finally{pe=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?re(a):""}function Me(a){switch(a.tag){case 5:return re(a.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return a=me(a.type,!1),a;case 11:return a=me(a.type.render,!1),a;case 1:return a=me(a.type,!0),a;default:return""}}function ze(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case K:return"Portal";case A:return"Profiler";case I:return"StrictMode";case L:return"Suspense";case Se:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case B:return(a.displayName||"Context")+".Consumer";case O:return(a._context.displayName||"Context")+".Provider";case q:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ne:return l=a.displayName||null,l!==null?l:ze(a.type)||"Memo";case ye:l=a._payload,a=a._init;try{return ze(a(l))}catch{}}return null}function Ie(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(l);case 8:return l===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function qe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ue(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function pt(a){var l=Ue(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),m=""+a[l];if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,w=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return y.call(this)},set:function(P){m=""+P,w.call(this,P)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(P){m=""+P},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Dr(a){a._valueTracker||(a._valueTracker=pt(a))}function Ar(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),m="";return a&&(m=Ue(a)?a.checked?"true":"false":a.value),a=m,a!==h?(l.setValue(a),!0):!1}function Zn(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ra(a,l){var h=l.checked;return ae({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Xl(a,l){var h=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;h=qe(l.value!=null?l.value:h),a._wrapperState={initialChecked:m,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function sa(a,l){l=l.checked,l!=null&&R(a,"checked",l,!1)}function di(a,l){sa(a,l);var h=qe(l.value),m=l.type;if(h!=null)m==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(m==="submit"||m==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?mt(a,l.type,h):l.hasOwnProperty("defaultValue")&&mt(a,l.type,qe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function bo(a,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,h||l===a.value||(a.value=l),a.defaultValue=l}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function mt(a,l,h){(l!=="number"||Zn(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var Yt=Array.isArray;function es(a,l,h,m){if(a=a.options,l){l={};for(var y=0;y<h.length;y++)l["$"+h[y]]=!0;for(h=0;h<a.length;h++)y=l.hasOwnProperty("$"+a[h].value),a[h].selected!==y&&(a[h].selected=y),y&&m&&(a[h].defaultSelected=!0)}else{for(h=""+qe(h),l=null,y=0;y<a.length;y++){if(a[y].value===h){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}l!==null||a[y].disabled||(l=a[y])}l!==null&&(l.selected=!0)}}function Zc(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function eh(a,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(n(92));if(Yt(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),h=l}a._wrapperState={initialValue:qe(h)}}function Kf(a,l){var h=qe(l.value),m=qe(l.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),l.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),m!=null&&(a.defaultValue=""+m)}function ia(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function th(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yl(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?th(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var aa,Gf=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,m,y){MSApp.execUnsafeLocalFunction(function(){return a(l,h,m,y)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(aa=aa||document.createElement("div"),aa.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=aa.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function xo(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wf=["Webkit","ms","Moz","O"];Object.keys(oa).forEach(function(a){Wf.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),oa[l]=oa[a]})});function la(a,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||oa.hasOwnProperty(a)&&oa[a]?(""+l).trim():l+"px"}function Jl(a,l){a=a.style;for(var h in l)if(l.hasOwnProperty(h)){var m=h.indexOf("--")===0,y=la(h,l[h],m);h==="float"&&(h="cssFloat"),m?a.setProperty(h,y):a[h]=y}}var nh=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ts(a,l){if(l){if(nh[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Zl(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ua=null;function eu(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var fi=null,pi=null,Dt=null;function rh(a){if(a=Dh(a)){if(typeof fi!="function")throw Error(n(280));var l=a.stateNode;l&&(l=xp(l),fi(a.stateNode,a.type,l))}}function ca(a){pi?Dt?Dt.push(a):Dt=[a]:pi=a}function ha(){if(pi){var a=pi,l=Dt;if(Dt=pi=null,rh(a),l)for(a=0;a<l.length;a++)rh(l[a])}}function Qf(a,l){return a(l)}function Xf(){}var ks=!1;function Yf(a,l,h){if(ks)return a(l,h);ks=!0;try{return Qf(a,l,h)}finally{ks=!1,(pi!==null||Dt!==null)&&(Xf(),ha())}}function Co(a,l){var h=a.stateNode;if(h===null)return null;var m=xp(h);if(m===null)return null;h=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var da=!1;if(u)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){da=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{da=!1}function Jf(a,l,h,m,y,w,P,F,z){var Z=Array.prototype.slice.call(arguments,3);try{l.apply(h,Z)}catch(ie){this.onError(ie)}}var mi=!1,Ss=null,tu=!1,Nr=null,Zf={onError:function(a){mi=!0,Ss=a}};function ep(a,l,h,m,y,w,P,F,z){mi=!1,Ss=null,Jf.apply(Zf,arguments)}function sh(a,l,h,m,y,w,P,F,z){if(ep.apply(this,arguments),mi){if(mi){var Z=Ss;mi=!1,Ss=null}else throw Error(n(198));tu||(tu=!0,Nr=Z)}}function ns(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function ih(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function tp(a){if(ns(a)!==a)throw Error(n(188))}function np(a){var l=a.alternate;if(!l){if(l=ns(a),l===null)throw Error(n(188));return l!==a?null:a}for(var h=a,m=l;;){var y=h.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){h=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===h)return tp(y),a;if(w===m)return tp(y),l;w=w.sibling}throw Error(n(188))}if(h.return!==m.return)h=y,m=w;else{for(var P=!1,F=y.child;F;){if(F===h){P=!0,h=y,m=w;break}if(F===m){P=!0,m=y,h=w;break}F=F.sibling}if(!P){for(F=w.child;F;){if(F===h){P=!0,h=w,m=y;break}if(F===m){P=!0,m=w,h=y;break}F=F.sibling}if(!P)throw Error(n(189))}}if(h.alternate!==m)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:l}function rp(a){return a=np(a),a!==null?ko(a):null}function ko(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=ko(a);if(l!==null)return l;a=a.sibling}return null}var ah=e.unstable_scheduleCallback,nu=e.unstable_cancelCallback,So=e.unstable_shouldYield,gi=e.unstable_requestPaint,gt=e.unstable_now,ov=e.unstable_getCurrentPriorityLevel,ru=e.unstable_ImmediatePriority,oh=e.unstable_UserBlockingPriority,Eo=e.unstable_NormalPriority,lh=e.unstable_LowPriority,su=e.unstable_IdlePriority,To=null,fr=null;function sp(a){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(To,a,void 0,(a.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:_o,Es=Math.log,Mr=Math.LN2;function _o(a){return a>>>=0,a===0?32:31-(Es(a)/Mr|0)|0}var Ts=64,pa=4194304;function it(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function yi(a,l){var h=a.pendingLanes;if(h===0)return 0;var m=0,y=a.suspendedLanes,w=a.pingedLanes,P=h&268435455;if(P!==0){var F=P&~y;F!==0?m=it(F):(w&=P,w!==0&&(m=it(w)))}else P=h&~y,P!==0?m=it(P):w!==0&&(m=it(w));if(m===0)return 0;if(l!==0&&l!==m&&(l&y)===0&&(y=m&-m,w=l&-l,y>=w||y===16&&(w&4194240)!==0))return l;if((m&4)!==0&&(m|=h&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=m;0<l;)h=31-pr(l),y=1<<h,m|=a[h],l&=~y;return m}function Io(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(a,l){for(var h=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,w=a.pendingLanes;0<w;){var P=31-pr(w),F=1<<P,z=y[P];z===-1?((F&h)===0||(F&m)!==0)&&(y[P]=Io(F,l)):z<=l&&(a.expiredLanes|=F),w&=~F}}function uh(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function ch(){var a=Ts;return Ts<<=1,(Ts&4194240)===0&&(Ts=64),a}function hh(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function Do(a,l,h){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-pr(l),a[l]=h}function lv(a,l){var h=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var m=a.eventTimes;for(a=a.expirationTimes;0<h;){var y=31-pr(h),w=1<<y;l[y]=0,m[y]=-1,a[y]=-1,h&=~w}}function dh(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var m=31-pr(h),y=1<<m;y&l|a[m]&l&&(a[m]|=l),h&=~y}}var Qe=0;function _s(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var fh,iu,ph,mh,gh,Is=!1,au=[],Ps=null,Ds=null,Cn=null,Ao=new Map,vi=new Map,mr=[],ip="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ma(a,l){switch(a){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Ao.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(l.pointerId)}}function rs(a,l,h,m,y,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:h,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},l!==null&&(l=Dh(l),l!==null&&iu(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),a)}function ap(a,l,h,m,y){switch(l){case"focusin":return Ps=rs(Ps,a,l,h,m,y),!0;case"dragenter":return Ds=rs(Ds,a,l,h,m,y),!0;case"mouseover":return Cn=rs(Cn,a,l,h,m,y),!0;case"pointerover":var w=y.pointerId;return Ao.set(w,rs(Ao.get(w)||null,a,l,h,m,y)),!0;case"gotpointercapture":return w=y.pointerId,vi.set(w,rs(vi.get(w)||null,a,l,h,m,y)),!0}return!1}function ou(a){var l=Ro(a.target);if(l!==null){var h=ns(l);if(h!==null){if(l=h.tag,l===13){if(l=ih(h),l!==null){a.blockedOn=l,gh(a.priority,function(){ph(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ct(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=lu(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var m=new h.constructor(h.type,h);ua=m,h.target.dispatchEvent(m),ua=null}else return l=Dh(h),l!==null&&iu(l),a.blockedOn=h,!1;l.shift()}return!0}function op(a,l,h){ct(a)&&h.delete(l)}function uv(){Is=!1,Ps!==null&&ct(Ps)&&(Ps=null),Ds!==null&&ct(Ds)&&(Ds=null),Cn!==null&&ct(Cn)&&(Cn=null),Ao.forEach(op),vi.forEach(op)}function ga(a,l){a.blockedOn===l&&(a.blockedOn=null,Is||(Is=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uv)))}function ya(a){function l(y){return ga(y,a)}if(0<au.length){ga(au[0],a);for(var h=1;h<au.length;h++){var m=au[h];m.blockedOn===a&&(m.blockedOn=null)}}for(Ps!==null&&ga(Ps,a),Ds!==null&&ga(Ds,a),Cn!==null&&ga(Cn,a),Ao.forEach(l),vi.forEach(l),h=0;h<mr.length;h++)m=mr[h],m.blockedOn===a&&(m.blockedOn=null);for(;0<mr.length&&(h=mr[0],h.blockedOn===null);)ou(h),h.blockedOn===null&&mr.shift()}var wi=U.ReactCurrentBatchConfig,bi=!0;function As(a,l,h,m){var y=Qe,w=wi.transition;wi.transition=null;try{Qe=1,yh(a,l,h,m)}finally{Qe=y,wi.transition=w}}function lp(a,l,h,m){var y=Qe,w=wi.transition;wi.transition=null;try{Qe=4,yh(a,l,h,m)}finally{Qe=y,wi.transition=w}}function yh(a,l,h,m){if(bi){var y=lu(a,l,h,m);if(y===null)bv(a,l,m,Ns,h),ma(a,m);else if(ap(y,a,l,h,m))m.stopPropagation();else if(ma(a,m),l&4&&-1<ip.indexOf(a)){for(;y!==null;){var w=Dh(y);if(w!==null&&fh(w),w=lu(a,l,h,m),w===null&&bv(a,l,m,Ns,h),w===y)break;y=w}y!==null&&m.stopPropagation()}else bv(a,l,m,null,h)}}var Ns=null;function lu(a,l,h,m){if(Ns=null,a=eu(m),a=Ro(a),a!==null)if(l=ns(a),l===null)a=null;else if(h=l.tag,h===13){if(a=ih(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return Ns=a,null}function uu(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ov()){case ru:return 1;case oh:return 4;case Eo:case lh:return 16;case su:return 536870912;default:return 16}default:return 16}}var gr=null,cu=null,xi=null;function up(){if(xi)return xi;var a,l=cu,h=l.length,m,y="value"in gr?gr.value:gr.textContent,w=y.length;for(a=0;a<h&&l[a]===y[a];a++);var P=h-a;for(m=1;m<=P&&l[h-m]===y[w-m];m++);return xi=y.slice(a,1<m?1-m:void 0)}function No(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Ms(){return!0}function vh(){return!1}function An(a){function l(h,m,y,w,P){this._reactName=h,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var F in a)a.hasOwnProperty(F)&&(h=a[F],this[F]=h?h(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ms:vh,this.isPropagationStopped=vh,this}return ae(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),l}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=An(js),va=ae({},js,{view:0,detail:0}),hu=An(va),du,fu,yr,jo=ae({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ve,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yr&&(yr&&a.type==="mousemove"?(du=a.screenX-yr.screenX,fu=a.screenY-yr.screenY):fu=du=0,yr=a),du)},movementY:function(a){return"movementY"in a?a.movementY:fu}}),wh=An(jo),cp=ae({},jo,{dataTransfer:0}),hp=An(cp),pu=ae({},va,{relatedTarget:0}),kn=An(pu),dp=ae({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),fp=An(dp),wa=ae({},js,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),f=An(wa),b=ae({},js,{data:0}),S=An(b),j={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function he(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=ee[a])?!!l[a]:!1}function Ve(){return he}var Jt=ae({},va,{key:function(a){if(a.key){var l=j[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=No(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Y[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ve,charCode:function(a){return a.type==="keypress"?No(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?No(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ht=An(Jt),sn=ae({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vr=An(sn),ba=ae({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ve}),Rs=An(ba),Os=ae({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),mu=An(Os),bh=ae({},jo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),qO=An(bh),$O=[9,13,27,32],cv=u&&"CompositionEvent"in window,xh=null;u&&"documentMode"in document&&(xh=document.documentMode);var HO=u&&"TextEvent"in window&&!xh,UC=u&&(!cv||xh&&8<xh&&11>=xh),zC=" ",VC=!1;function qC(a,l){switch(a){case"keyup":return $O.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $C(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var gu=!1;function KO(a,l){switch(a){case"compositionend":return $C(l);case"keypress":return l.which!==32?null:(VC=!0,zC);case"textInput":return a=l.data,a===zC&&VC?null:a;default:return null}}function GO(a,l){if(gu)return a==="compositionend"||!cv&&qC(a,l)?(a=up(),xi=cu=gr=null,gu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return UC&&l.locale!=="ko"?null:l.data;default:return null}}var WO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HC(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!WO[a.type]:l==="textarea"}function KC(a,l,h,m){ca(m),l=vp(l,"onChange"),0<l.length&&(h=new Mo("onChange","change",null,h,m),a.push({event:h,listeners:l}))}var Ch=null,kh=null;function QO(a){ck(a,0)}function pp(a){var l=xu(a);if(Ar(l))return a}function XO(a,l){if(a==="change")return l}var GC=!1;if(u){var hv;if(u){var dv="oninput"in document;if(!dv){var WC=document.createElement("div");WC.setAttribute("oninput","return;"),dv=typeof WC.oninput=="function"}hv=dv}else hv=!1;GC=hv&&(!document.documentMode||9<document.documentMode)}function QC(){Ch&&(Ch.detachEvent("onpropertychange",XC),kh=Ch=null)}function XC(a){if(a.propertyName==="value"&&pp(kh)){var l=[];KC(l,kh,a,eu(a)),Yf(QO,l)}}function YO(a,l,h){a==="focusin"?(QC(),Ch=l,kh=h,Ch.attachEvent("onpropertychange",XC)):a==="focusout"&&QC()}function JO(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return pp(kh)}function ZO(a,l){if(a==="click")return pp(l)}function e3(a,l){if(a==="input"||a==="change")return pp(l)}function t3(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var ss=typeof Object.is=="function"?Object.is:t3;function Sh(a,l){if(ss(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),m=Object.keys(l);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var y=h[m];if(!c.call(l,y)||!ss(a[y],l[y]))return!1}return!0}function YC(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function JC(a,l){var h=YC(a);a=0;for(var m;h;){if(h.nodeType===3){if(m=a+h.textContent.length,a<=l&&m>=l)return{node:h,offset:l-a};a=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=YC(h)}}function ZC(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?ZC(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function ek(){for(var a=window,l=Zn();l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=Zn(a.document)}return l}function fv(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function n3(a){var l=ek(),h=a.focusedElem,m=a.selectionRange;if(l!==h&&h&&h.ownerDocument&&ZC(h.ownerDocument.documentElement,h)){if(m!==null&&fv(h)){if(l=m.start,a=m.end,a===void 0&&(a=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(a,h.value.length);else if(a=(l=h.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var y=h.textContent.length,w=Math.min(m.start,y);m=m.end===void 0?w:Math.min(m.end,y),!a.extend&&w>m&&(y=m,m=w,w=y),y=JC(h,w);var P=JC(h,m);y&&P&&(a.rangeCount!==1||a.anchorNode!==y.node||a.anchorOffset!==y.offset||a.focusNode!==P.node||a.focusOffset!==P.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),a.removeAllRanges(),w>m?(a.addRange(l),a.extend(P.node,P.offset)):(l.setEnd(P.node,P.offset),a.addRange(l)))}}for(l=[],a=h;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)a=l[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var r3=u&&"documentMode"in document&&11>=document.documentMode,yu=null,pv=null,Eh=null,mv=!1;function tk(a,l,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;mv||yu==null||yu!==Zn(m)||(m=yu,"selectionStart"in m&&fv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Eh&&Sh(Eh,m)||(Eh=m,m=vp(pv,"onSelect"),0<m.length&&(l=new Mo("onSelect","select",null,l,h),a.push({event:l,listeners:m}),l.target=yu)))}function mp(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var vu={animationend:mp("Animation","AnimationEnd"),animationiteration:mp("Animation","AnimationIteration"),animationstart:mp("Animation","AnimationStart"),transitionend:mp("Transition","TransitionEnd")},gv={},nk={};u&&(nk=document.createElement("div").style,"AnimationEvent"in window||(delete vu.animationend.animation,delete vu.animationiteration.animation,delete vu.animationstart.animation),"TransitionEvent"in window||delete vu.transitionend.transition);function gp(a){if(gv[a])return gv[a];if(!vu[a])return a;var l=vu[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in nk)return gv[a]=l[h];return a}var rk=gp("animationend"),sk=gp("animationiteration"),ik=gp("animationstart"),ak=gp("transitionend"),ok=new Map,lk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(a,l){ok.set(a,l),i(l,[a])}for(var yv=0;yv<lk.length;yv++){var vv=lk[yv],s3=vv.toLowerCase(),i3=vv[0].toUpperCase()+vv.slice(1);xa(s3,"on"+i3)}xa(rk,"onAnimationEnd"),xa(sk,"onAnimationIteration"),xa(ik,"onAnimationStart"),xa("dblclick","onDoubleClick"),xa("focusin","onFocus"),xa("focusout","onBlur"),xa(ak,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Th));function uk(a,l,h){var m=a.type||"unknown-event";a.currentTarget=h,sh(m,l,void 0,a),a.currentTarget=null}function ck(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var m=a[h],y=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var P=m.length-1;0<=P;P--){var F=m[P],z=F.instance,Z=F.currentTarget;if(F=F.listener,z!==w&&y.isPropagationStopped())break e;uk(y,F,Z),w=z}else for(P=0;P<m.length;P++){if(F=m[P],z=F.instance,Z=F.currentTarget,F=F.listener,z!==w&&y.isPropagationStopped())break e;uk(y,F,Z),w=z}}}if(tu)throw a=Nr,tu=!1,Nr=null,a}function yt(a,l){var h=l[Tv];h===void 0&&(h=l[Tv]=new Set);var m=a+"__bubble";h.has(m)||(hk(l,a,2,!1),h.add(m))}function wv(a,l,h){var m=0;l&&(m|=4),hk(h,a,m,l)}var yp="_reactListening"+Math.random().toString(36).slice(2);function _h(a){if(!a[yp]){a[yp]=!0,r.forEach(function(h){h!=="selectionchange"&&(a3.has(h)||wv(h,!1,a),wv(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[yp]||(l[yp]=!0,wv("selectionchange",!1,l))}}function hk(a,l,h,m){switch(uu(l)){case 1:var y=As;break;case 4:y=lp;break;default:y=yh}h=y.bind(null,l,h,a),y=void 0,!da||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(l,h,{capture:!0,passive:y}):a.addEventListener(l,h,!0):y!==void 0?a.addEventListener(l,h,{passive:y}):a.addEventListener(l,h,!1)}function bv(a,l,h,m,y){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var F=m.stateNode.containerInfo;if(F===y||F.nodeType===8&&F.parentNode===y)break;if(P===4)for(P=m.return;P!==null;){var z=P.tag;if((z===3||z===4)&&(z=P.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;P=P.return}for(;F!==null;){if(P=Ro(F),P===null)return;if(z=P.tag,z===5||z===6){m=w=P;continue e}F=F.parentNode}}m=m.return}Yf(function(){var Z=w,ie=eu(h),oe=[];e:{var se=ok.get(a);if(se!==void 0){var fe=Mo,be=a;switch(a){case"keypress":if(No(h)===0)break e;case"keydown":case"keyup":fe=ht;break;case"focusin":be="focus",fe=kn;break;case"focusout":be="blur",fe=kn;break;case"beforeblur":case"afterblur":fe=kn;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=hp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Rs;break;case rk:case sk:case ik:fe=fp;break;case ak:fe=mu;break;case"scroll":fe=hu;break;case"wheel":fe=qO;break;case"copy":case"cut":case"paste":fe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=vr}var Ee=(l&4)!==0,Zt=!Ee&&a==="scroll",X=Ee?se!==null?se+"Capture":null:se;Ee=[];for(var H=Z,J;H!==null;){J=H;var ue=J.stateNode;if(J.tag===5&&ue!==null&&(J=ue,X!==null&&(ue=Co(H,X),ue!=null&&Ee.push(Ih(H,ue,J)))),Zt)break;H=H.return}0<Ee.length&&(se=new fe(se,be,null,h,ie),oe.push({event:se,listeners:Ee}))}}if((l&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",fe=a==="mouseout"||a==="pointerout",se&&h!==ua&&(be=h.relatedTarget||h.fromElement)&&(Ro(be)||be[Ci]))break e;if((fe||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,fe?(be=h.relatedTarget||h.toElement,fe=Z,be=be?Ro(be):null,be!==null&&(Zt=ns(be),be!==Zt||be.tag!==5&&be.tag!==6)&&(be=null)):(fe=null,be=Z),fe!==be)){if(Ee=wh,ue="onMouseLeave",X="onMouseEnter",H="mouse",(a==="pointerout"||a==="pointerover")&&(Ee=vr,ue="onPointerLeave",X="onPointerEnter",H="pointer"),Zt=fe==null?se:xu(fe),J=be==null?se:xu(be),se=new Ee(ue,H+"leave",fe,h,ie),se.target=Zt,se.relatedTarget=J,ue=null,Ro(ie)===Z&&(Ee=new Ee(X,H+"enter",be,h,ie),Ee.target=J,Ee.relatedTarget=Zt,ue=Ee),Zt=ue,fe&&be)t:{for(Ee=fe,X=be,H=0,J=Ee;J;J=wu(J))H++;for(J=0,ue=X;ue;ue=wu(ue))J++;for(;0<H-J;)Ee=wu(Ee),H--;for(;0<J-H;)X=wu(X),J--;for(;H--;){if(Ee===X||X!==null&&Ee===X.alternate)break t;Ee=wu(Ee),X=wu(X)}Ee=null}else Ee=null;fe!==null&&dk(oe,se,fe,Ee,!1),be!==null&&Zt!==null&&dk(oe,Zt,be,Ee,!0)}}e:{if(se=Z?xu(Z):window,fe=se.nodeName&&se.nodeName.toLowerCase(),fe==="select"||fe==="input"&&se.type==="file")var Te=XO;else if(HC(se))if(GC)Te=e3;else{Te=JO;var De=YO}else(fe=se.nodeName)&&fe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Te=ZO);if(Te&&(Te=Te(a,Z))){KC(oe,Te,h,ie);break e}De&&De(a,se,Z),a==="focusout"&&(De=se._wrapperState)&&De.controlled&&se.type==="number"&&mt(se,"number",se.value)}switch(De=Z?xu(Z):window,a){case"focusin":(HC(De)||De.contentEditable==="true")&&(yu=De,pv=Z,Eh=null);break;case"focusout":Eh=pv=yu=null;break;case"mousedown":mv=!0;break;case"contextmenu":case"mouseup":case"dragend":mv=!1,tk(oe,h,ie);break;case"selectionchange":if(r3)break;case"keydown":case"keyup":tk(oe,h,ie)}var Ae;if(cv)e:{switch(a){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else gu?qC(a,h)&&(Le="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Le="onCompositionStart");Le&&(UC&&h.locale!=="ko"&&(gu||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&gu&&(Ae=up()):(gr=ie,cu="value"in gr?gr.value:gr.textContent,gu=!0)),De=vp(Z,Le),0<De.length&&(Le=new S(Le,a,null,h,ie),oe.push({event:Le,listeners:De}),Ae?Le.data=Ae:(Ae=$C(h),Ae!==null&&(Le.data=Ae)))),(Ae=HO?KO(a,h):GO(a,h))&&(Z=vp(Z,"onBeforeInput"),0<Z.length&&(ie=new S("onBeforeInput","beforeinput",null,h,ie),oe.push({event:ie,listeners:Z}),ie.data=Ae))}ck(oe,l)})}function Ih(a,l,h){return{instance:a,listener:l,currentTarget:h}}function vp(a,l){for(var h=l+"Capture",m=[];a!==null;){var y=a,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=Co(a,h),w!=null&&m.unshift(Ih(a,w,y)),w=Co(a,l),w!=null&&m.push(Ih(a,w,y))),a=a.return}return m}function wu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function dk(a,l,h,m,y){for(var w=l._reactName,P=[];h!==null&&h!==m;){var F=h,z=F.alternate,Z=F.stateNode;if(z!==null&&z===m)break;F.tag===5&&Z!==null&&(F=Z,y?(z=Co(h,w),z!=null&&P.unshift(Ih(h,z,F))):y||(z=Co(h,w),z!=null&&P.push(Ih(h,z,F)))),h=h.return}P.length!==0&&a.push({event:l,listeners:P})}var o3=/\r\n?/g,l3=/\u0000|\uFFFD/g;function fk(a){return(typeof a=="string"?a:""+a).replace(o3,`
`).replace(l3,"")}function wp(a,l,h){if(l=fk(l),fk(a)!==l&&h)throw Error(n(425))}function bp(){}var xv=null,Cv=null;function kv(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Sv=typeof setTimeout=="function"?setTimeout:void 0,u3=typeof clearTimeout=="function"?clearTimeout:void 0,pk=typeof Promise=="function"?Promise:void 0,c3=typeof queueMicrotask=="function"?queueMicrotask:typeof pk<"u"?function(a){return pk.resolve(null).then(a).catch(h3)}:Sv;function h3(a){setTimeout(function(){throw a})}function Ev(a,l){var h=l,m=0;do{var y=h.nextSibling;if(a.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(m===0){a.removeChild(y),ya(l);return}m--}else h!=="$"&&h!=="$?"&&h!=="$!"||m++;h=y}while(h);ya(l)}function Ca(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function mk(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}var bu=Math.random().toString(36).slice(2),Ls="__reactFiber$"+bu,Ph="__reactProps$"+bu,Ci="__reactContainer$"+bu,Tv="__reactEvents$"+bu,d3="__reactListeners$"+bu,f3="__reactHandles$"+bu;function Ro(a){var l=a[Ls];if(l)return l;for(var h=a.parentNode;h;){if(l=h[Ci]||h[Ls]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=mk(a);a!==null;){if(h=a[Ls])return h;a=mk(a)}return l}a=h,h=a.parentNode}return null}function Dh(a){return a=a[Ls]||a[Ci],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function xu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function xp(a){return a[Ph]||null}var _v=[],Cu=-1;function ka(a){return{current:a}}function vt(a){0>Cu||(a.current=_v[Cu],_v[Cu]=null,Cu--)}function dt(a,l){Cu++,_v[Cu]=a.current,a.current=l}var Sa={},Nn=ka(Sa),er=ka(!1),Oo=Sa;function ku(a,l){var h=a.type.contextTypes;if(!h)return Sa;var m=a.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in h)y[w]=l[w];return m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=y),y}function tr(a){return a=a.childContextTypes,a!=null}function Cp(){vt(er),vt(Nn)}function gk(a,l,h){if(Nn.current!==Sa)throw Error(n(168));dt(Nn,l),dt(er,h)}function yk(a,l,h){var m=a.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return h;m=m.getChildContext();for(var y in m)if(!(y in l))throw Error(n(108,Ie(a)||"Unknown",y));return ae({},h,m)}function kp(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Sa,Oo=Nn.current,dt(Nn,a),dt(er,er.current),!0}function vk(a,l,h){var m=a.stateNode;if(!m)throw Error(n(169));h?(a=yk(a,l,Oo),m.__reactInternalMemoizedMergedChildContext=a,vt(er),vt(Nn),dt(Nn,a)):vt(er),dt(er,h)}var ki=null,Sp=!1,Iv=!1;function wk(a){ki===null?ki=[a]:ki.push(a)}function p3(a){Sp=!0,wk(a)}function Ea(){if(!Iv&&ki!==null){Iv=!0;var a=0,l=Qe;try{var h=ki;for(Qe=1;a<h.length;a++){var m=h[a];do m=m(!0);while(m!==null)}ki=null,Sp=!1}catch(y){throw ki!==null&&(ki=ki.slice(a+1)),ah(ru,Ea),y}finally{Qe=l,Iv=!1}}return null}var Su=[],Eu=0,Ep=null,Tp=0,jr=[],Rr=0,Lo=null,Si=1,Ei="";function Fo(a,l){Su[Eu++]=Tp,Su[Eu++]=Ep,Ep=a,Tp=l}function bk(a,l,h){jr[Rr++]=Si,jr[Rr++]=Ei,jr[Rr++]=Lo,Lo=a;var m=Si;a=Ei;var y=32-pr(m)-1;m&=~(1<<y),h+=1;var w=32-pr(l)+y;if(30<w){var P=y-y%5;w=(m&(1<<P)-1).toString(32),m>>=P,y-=P,Si=1<<32-pr(l)+y|h<<y|m,Ei=w+a}else Si=1<<w|h<<y|m,Ei=a}function Pv(a){a.return!==null&&(Fo(a,1),bk(a,1,0))}function Dv(a){for(;a===Ep;)Ep=Su[--Eu],Su[Eu]=null,Tp=Su[--Eu],Su[Eu]=null;for(;a===Lo;)Lo=jr[--Rr],jr[Rr]=null,Ei=jr[--Rr],jr[Rr]=null,Si=jr[--Rr],jr[Rr]=null}var wr=null,br=null,bt=!1,is=null;function xk(a,l){var h=Br(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=a,l=a.deletions,l===null?(a.deletions=[h],a.flags|=16):l.push(h)}function Ck(a,l){switch(a.tag){case 5:var h=a.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,wr=a,br=Ca(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,wr=a,br=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=Lo!==null?{id:Si,overflow:Ei}:null,a.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Br(18,null,null,0),h.stateNode=l,h.return=a,a.child=h,wr=a,br=null,!0):!1;default:return!1}}function Av(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Nv(a){if(bt){var l=br;if(l){var h=l;if(!Ck(a,l)){if(Av(a))throw Error(n(418));l=Ca(h.nextSibling);var m=wr;l&&Ck(a,l)?xk(m,h):(a.flags=a.flags&-4097|2,bt=!1,wr=a)}}else{if(Av(a))throw Error(n(418));a.flags=a.flags&-4097|2,bt=!1,wr=a}}}function kk(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;wr=a}function _p(a){if(a!==wr)return!1;if(!bt)return kk(a),bt=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!kv(a.type,a.memoizedProps)),l&&(l=br)){if(Av(a))throw Sk(),Error(n(418));for(;l;)xk(a,l),l=Ca(l.nextSibling)}if(kk(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(l===0){br=Ca(a.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}a=a.nextSibling}br=null}}else br=wr?Ca(a.stateNode.nextSibling):null;return!0}function Sk(){for(var a=br;a;)a=Ca(a.nextSibling)}function Tu(){br=wr=null,bt=!1}function Mv(a){is===null?is=[a]:is.push(a)}var m3=U.ReactCurrentBatchConfig;function Ah(a,l,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var m=h.stateNode}if(!m)throw Error(n(147,a));var y=m,w=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(P){var F=y.refs;P===null?delete F[w]:F[w]=P},l._stringRef=w,l)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function Ip(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function Ek(a){var l=a._init;return l(a._payload)}function Tk(a){function l(X,H){if(a){var J=X.deletions;J===null?(X.deletions=[H],X.flags|=16):J.push(H)}}function h(X,H){if(!a)return null;for(;H!==null;)l(X,H),H=H.sibling;return null}function m(X,H){for(X=new Map;H!==null;)H.key!==null?X.set(H.key,H):X.set(H.index,H),H=H.sibling;return X}function y(X,H){return X=Ma(X,H),X.index=0,X.sibling=null,X}function w(X,H,J){return X.index=J,a?(J=X.alternate,J!==null?(J=J.index,J<H?(X.flags|=2,H):J):(X.flags|=2,H)):(X.flags|=1048576,H)}function P(X){return a&&X.alternate===null&&(X.flags|=2),X}function F(X,H,J,ue){return H===null||H.tag!==6?(H=k0(J,X.mode,ue),H.return=X,H):(H=y(H,J),H.return=X,H)}function z(X,H,J,ue){var Te=J.type;return Te===M?ie(X,H,J.props.children,ue,J.key):H!==null&&(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ye&&Ek(Te)===H.type)?(ue=y(H,J.props),ue.ref=Ah(X,H,J),ue.return=X,ue):(ue=Jp(J.type,J.key,J.props,null,X.mode,ue),ue.ref=Ah(X,H,J),ue.return=X,ue)}function Z(X,H,J,ue){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=S0(J,X.mode,ue),H.return=X,H):(H=y(H,J.children||[]),H.return=X,H)}function ie(X,H,J,ue,Te){return H===null||H.tag!==7?(H=Ko(J,X.mode,ue,Te),H.return=X,H):(H=y(H,J),H.return=X,H)}function oe(X,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=k0(""+H,X.mode,J),H.return=X,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case V:return J=Jp(H.type,H.key,H.props,null,X.mode,J),J.ref=Ah(X,null,H),J.return=X,J;case K:return H=S0(H,X.mode,J),H.return=X,H;case ye:var ue=H._init;return oe(X,ue(H._payload),J)}if(Yt(H)||ne(H))return H=Ko(H,X.mode,J,null),H.return=X,H;Ip(X,H)}return null}function se(X,H,J,ue){var Te=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Te!==null?null:F(X,H,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case V:return J.key===Te?z(X,H,J,ue):null;case K:return J.key===Te?Z(X,H,J,ue):null;case ye:return Te=J._init,se(X,H,Te(J._payload),ue)}if(Yt(J)||ne(J))return Te!==null?null:ie(X,H,J,ue,null);Ip(X,J)}return null}function fe(X,H,J,ue,Te){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return X=X.get(J)||null,F(H,X,""+ue,Te);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case V:return X=X.get(ue.key===null?J:ue.key)||null,z(H,X,ue,Te);case K:return X=X.get(ue.key===null?J:ue.key)||null,Z(H,X,ue,Te);case ye:var De=ue._init;return fe(X,H,J,De(ue._payload),Te)}if(Yt(ue)||ne(ue))return X=X.get(J)||null,ie(H,X,ue,Te,null);Ip(H,ue)}return null}function be(X,H,J,ue){for(var Te=null,De=null,Ae=H,Le=H=0,wn=null;Ae!==null&&Le<J.length;Le++){Ae.index>Le?(wn=Ae,Ae=null):wn=Ae.sibling;var st=se(X,Ae,J[Le],ue);if(st===null){Ae===null&&(Ae=wn);break}a&&Ae&&st.alternate===null&&l(X,Ae),H=w(st,H,Le),De===null?Te=st:De.sibling=st,De=st,Ae=wn}if(Le===J.length)return h(X,Ae),bt&&Fo(X,Le),Te;if(Ae===null){for(;Le<J.length;Le++)Ae=oe(X,J[Le],ue),Ae!==null&&(H=w(Ae,H,Le),De===null?Te=Ae:De.sibling=Ae,De=Ae);return bt&&Fo(X,Le),Te}for(Ae=m(X,Ae);Le<J.length;Le++)wn=fe(Ae,X,Le,J[Le],ue),wn!==null&&(a&&wn.alternate!==null&&Ae.delete(wn.key===null?Le:wn.key),H=w(wn,H,Le),De===null?Te=wn:De.sibling=wn,De=wn);return a&&Ae.forEach(function(ja){return l(X,ja)}),bt&&Fo(X,Le),Te}function Ee(X,H,J,ue){var Te=ne(J);if(typeof Te!="function")throw Error(n(150));if(J=Te.call(J),J==null)throw Error(n(151));for(var De=Te=null,Ae=H,Le=H=0,wn=null,st=J.next();Ae!==null&&!st.done;Le++,st=J.next()){Ae.index>Le?(wn=Ae,Ae=null):wn=Ae.sibling;var ja=se(X,Ae,st.value,ue);if(ja===null){Ae===null&&(Ae=wn);break}a&&Ae&&ja.alternate===null&&l(X,Ae),H=w(ja,H,Le),De===null?Te=ja:De.sibling=ja,De=ja,Ae=wn}if(st.done)return h(X,Ae),bt&&Fo(X,Le),Te;if(Ae===null){for(;!st.done;Le++,st=J.next())st=oe(X,st.value,ue),st!==null&&(H=w(st,H,Le),De===null?Te=st:De.sibling=st,De=st);return bt&&Fo(X,Le),Te}for(Ae=m(X,Ae);!st.done;Le++,st=J.next())st=fe(Ae,X,Le,st.value,ue),st!==null&&(a&&st.alternate!==null&&Ae.delete(st.key===null?Le:st.key),H=w(st,H,Le),De===null?Te=st:De.sibling=st,De=st);return a&&Ae.forEach(function(W3){return l(X,W3)}),bt&&Fo(X,Le),Te}function Zt(X,H,J,ue){if(typeof J=="object"&&J!==null&&J.type===M&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case V:e:{for(var Te=J.key,De=H;De!==null;){if(De.key===Te){if(Te=J.type,Te===M){if(De.tag===7){h(X,De.sibling),H=y(De,J.props.children),H.return=X,X=H;break e}}else if(De.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ye&&Ek(Te)===De.type){h(X,De.sibling),H=y(De,J.props),H.ref=Ah(X,De,J),H.return=X,X=H;break e}h(X,De);break}else l(X,De);De=De.sibling}J.type===M?(H=Ko(J.props.children,X.mode,ue,J.key),H.return=X,X=H):(ue=Jp(J.type,J.key,J.props,null,X.mode,ue),ue.ref=Ah(X,H,J),ue.return=X,X=ue)}return P(X);case K:e:{for(De=J.key;H!==null;){if(H.key===De)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){h(X,H.sibling),H=y(H,J.children||[]),H.return=X,X=H;break e}else{h(X,H);break}else l(X,H);H=H.sibling}H=S0(J,X.mode,ue),H.return=X,X=H}return P(X);case ye:return De=J._init,Zt(X,H,De(J._payload),ue)}if(Yt(J))return be(X,H,J,ue);if(ne(J))return Ee(X,H,J,ue);Ip(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(h(X,H.sibling),H=y(H,J),H.return=X,X=H):(h(X,H),H=k0(J,X.mode,ue),H.return=X,X=H),P(X)):h(X,H)}return Zt}var _u=Tk(!0),_k=Tk(!1),Pp=ka(null),Dp=null,Iu=null,jv=null;function Rv(){jv=Iu=Dp=null}function Ov(a){var l=Pp.current;vt(Pp),a._currentValue=l}function Lv(a,l,h){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===h)break;a=a.return}}function Pu(a,l){Dp=a,jv=Iu=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(nr=!0),a.firstContext=null)}function Or(a){var l=a._currentValue;if(jv!==a)if(a={context:a,memoizedValue:l,next:null},Iu===null){if(Dp===null)throw Error(n(308));Iu=a,Dp.dependencies={lanes:0,firstContext:a}}else Iu=Iu.next=a;return l}var Bo=null;function Fv(a){Bo===null?Bo=[a]:Bo.push(a)}function Ik(a,l,h,m){var y=l.interleaved;return y===null?(h.next=h,Fv(l)):(h.next=y.next,y.next=h),l.interleaved=h,Ti(a,m)}function Ti(a,l){a.lanes|=l;var h=a.alternate;for(h!==null&&(h.lanes|=l),h=a,a=a.return;a!==null;)a.childLanes|=l,h=a.alternate,h!==null&&(h.childLanes|=l),h=a,a=a.return;return h.tag===3?h.stateNode:null}var Ta=!1;function Bv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pk(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function _i(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function _a(a,l,h){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(tt&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,Ti(a,h)}return y=m.interleaved,y===null?(l.next=l,Fv(m)):(l.next=y.next,y.next=l),m.interleaved=l,Ti(a,h)}function Ap(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var m=l.lanes;m&=a.pendingLanes,h|=m,l.lanes=h,dh(a,h)}}function Dk(a,l){var h=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var y=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var P={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};w===null?y=w=P:w=w.next=P,h=h.next}while(h!==null);w===null?y=w=l:w=w.next=l}else y=w=l;h={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,effects:m.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}function Np(a,l,h,m){var y=a.updateQueue;Ta=!1;var w=y.firstBaseUpdate,P=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var z=F,Z=z.next;z.next=null,P===null?w=Z:P.next=Z,P=z;var ie=a.alternate;ie!==null&&(ie=ie.updateQueue,F=ie.lastBaseUpdate,F!==P&&(F===null?ie.firstBaseUpdate=Z:F.next=Z,ie.lastBaseUpdate=z))}if(w!==null){var oe=y.baseState;P=0,ie=Z=z=null,F=w;do{var se=F.lane,fe=F.eventTime;if((m&se)===se){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var be=a,Ee=F;switch(se=l,fe=h,Ee.tag){case 1:if(be=Ee.payload,typeof be=="function"){oe=be.call(fe,oe,se);break e}oe=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ee.payload,se=typeof be=="function"?be.call(fe,oe,se):be,se==null)break e;oe=ae({},oe,se);break e;case 2:Ta=!0}}F.callback!==null&&F.lane!==0&&(a.flags|=64,se=y.effects,se===null?y.effects=[F]:se.push(F))}else fe={eventTime:fe,lane:se,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ie===null?(Z=ie=fe,z=oe):ie=ie.next=fe,P|=se;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;se=F,F=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);if(ie===null&&(z=oe),y.baseState=z,y.firstBaseUpdate=Z,y.lastBaseUpdate=ie,l=y.shared.interleaved,l!==null){y=l;do P|=y.lane,y=y.next;while(y!==l)}else w===null&&(y.shared.lanes=0);Vo|=P,a.lanes=P,a.memoizedState=oe}}function Ak(a,l,h){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var m=a[l],y=m.callback;if(y!==null){if(m.callback=null,m=h,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var Nh={},Fs=ka(Nh),Mh=ka(Nh),jh=ka(Nh);function Uo(a){if(a===Nh)throw Error(n(174));return a}function Uv(a,l){switch(dt(jh,l),dt(Mh,a),dt(Fs,Nh),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Yl(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=Yl(l,a)}vt(Fs),dt(Fs,l)}function Du(){vt(Fs),vt(Mh),vt(jh)}function Nk(a){Uo(jh.current);var l=Uo(Fs.current),h=Yl(l,a.type);l!==h&&(dt(Mh,a),dt(Fs,h))}function zv(a){Mh.current===a&&(vt(Fs),vt(Mh))}var St=ka(0);function Mp(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Vv=[];function qv(){for(var a=0;a<Vv.length;a++)Vv[a]._workInProgressVersionPrimary=null;Vv.length=0}var jp=U.ReactCurrentDispatcher,$v=U.ReactCurrentBatchConfig,zo=0,Et=null,hn=null,yn=null,Rp=!1,Rh=!1,Oh=0,g3=0;function Mn(){throw Error(n(321))}function Hv(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!ss(a[h],l[h]))return!1;return!0}function Kv(a,l,h,m,y,w){if(zo=w,Et=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,jp.current=a===null||a.memoizedState===null?b3:x3,a=h(m,y),Rh){w=0;do{if(Rh=!1,Oh=0,25<=w)throw Error(n(301));w+=1,yn=hn=null,l.updateQueue=null,jp.current=C3,a=h(m,y)}while(Rh)}if(jp.current=Fp,l=hn!==null&&hn.next!==null,zo=0,yn=hn=Et=null,Rp=!1,l)throw Error(n(300));return a}function Gv(){var a=Oh!==0;return Oh=0,a}function Bs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Et.memoizedState=yn=a:yn=yn.next=a,yn}function Lr(){if(hn===null){var a=Et.alternate;a=a!==null?a.memoizedState:null}else a=hn.next;var l=yn===null?Et.memoizedState:yn.next;if(l!==null)yn=l,hn=a;else{if(a===null)throw Error(n(310));hn=a,a={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},yn===null?Et.memoizedState=yn=a:yn=yn.next=a}return yn}function Lh(a,l){return typeof l=="function"?l(a):l}function Wv(a){var l=Lr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var m=hn,y=m.baseQueue,w=h.pending;if(w!==null){if(y!==null){var P=y.next;y.next=w.next,w.next=P}m.baseQueue=y=w,h.pending=null}if(y!==null){w=y.next,m=m.baseState;var F=P=null,z=null,Z=w;do{var ie=Z.lane;if((zo&ie)===ie)z!==null&&(z=z.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:a(m,Z.action);else{var oe={lane:ie,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};z===null?(F=z=oe,P=m):z=z.next=oe,Et.lanes|=ie,Vo|=ie}Z=Z.next}while(Z!==null&&Z!==w);z===null?P=m:z.next=F,ss(m,l.memoizedState)||(nr=!0),l.memoizedState=m,l.baseState=P,l.baseQueue=z,h.lastRenderedState=m}if(a=h.interleaved,a!==null){y=a;do w=y.lane,Et.lanes|=w,Vo|=w,y=y.next;while(y!==a)}else y===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function Qv(a){var l=Lr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var m=h.dispatch,y=h.pending,w=l.memoizedState;if(y!==null){h.pending=null;var P=y=y.next;do w=a(w,P.action),P=P.next;while(P!==y);ss(w,l.memoizedState)||(nr=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),h.lastRenderedState=w}return[w,m]}function Mk(){}function jk(a,l){var h=Et,m=Lr(),y=l(),w=!ss(m.memoizedState,y);if(w&&(m.memoizedState=y,nr=!0),m=m.queue,Xv(Lk.bind(null,h,m,a),[a]),m.getSnapshot!==l||w||yn!==null&&yn.memoizedState.tag&1){if(h.flags|=2048,Fh(9,Ok.bind(null,h,m,y,l),void 0,null),vn===null)throw Error(n(349));(zo&30)!==0||Rk(h,l,y)}return y}function Rk(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=Et.updateQueue,l===null?(l={lastEffect:null,stores:null},Et.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function Ok(a,l,h,m){l.value=h,l.getSnapshot=m,Fk(l)&&Bk(a)}function Lk(a,l,h){return h(function(){Fk(l)&&Bk(a)})}function Fk(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!ss(a,h)}catch{return!0}}function Bk(a){var l=Ti(a,1);l!==null&&us(l,a,1,-1)}function Uk(a){var l=Bs();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lh,lastRenderedState:a},l.queue=a,a=a.dispatch=w3.bind(null,Et,a),[l.memoizedState,a]}function Fh(a,l,h,m){return a={tag:a,create:l,destroy:h,deps:m,next:null},l=Et.updateQueue,l===null?(l={lastEffect:null,stores:null},Et.updateQueue=l,l.lastEffect=a.next=a):(h=l.lastEffect,h===null?l.lastEffect=a.next=a:(m=h.next,h.next=a,a.next=m,l.lastEffect=a)),a}function zk(){return Lr().memoizedState}function Op(a,l,h,m){var y=Bs();Et.flags|=a,y.memoizedState=Fh(1|l,h,void 0,m===void 0?null:m)}function Lp(a,l,h,m){var y=Lr();m=m===void 0?null:m;var w=void 0;if(hn!==null){var P=hn.memoizedState;if(w=P.destroy,m!==null&&Hv(m,P.deps)){y.memoizedState=Fh(l,h,w,m);return}}Et.flags|=a,y.memoizedState=Fh(1|l,h,w,m)}function Vk(a,l){return Op(8390656,8,a,l)}function Xv(a,l){return Lp(2048,8,a,l)}function qk(a,l){return Lp(4,2,a,l)}function $k(a,l){return Lp(4,4,a,l)}function Hk(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Kk(a,l,h){return h=h!=null?h.concat([a]):null,Lp(4,4,Hk.bind(null,l,a),h)}function Yv(){}function Gk(a,l){var h=Lr();l=l===void 0?null:l;var m=h.memoizedState;return m!==null&&l!==null&&Hv(l,m[1])?m[0]:(h.memoizedState=[a,l],a)}function Wk(a,l){var h=Lr();l=l===void 0?null:l;var m=h.memoizedState;return m!==null&&l!==null&&Hv(l,m[1])?m[0]:(a=a(),h.memoizedState=[a,l],a)}function Qk(a,l,h){return(zo&21)===0?(a.baseState&&(a.baseState=!1,nr=!0),a.memoizedState=h):(ss(h,l)||(h=ch(),Et.lanes|=h,Vo|=h,a.baseState=!0),l)}function y3(a,l){var h=Qe;Qe=h!==0&&4>h?h:4,a(!0);var m=$v.transition;$v.transition={};try{a(!1),l()}finally{Qe=h,$v.transition=m}}function Xk(){return Lr().memoizedState}function v3(a,l,h){var m=Aa(a);if(h={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null},Yk(a))Jk(l,h);else if(h=Ik(a,l,h,m),h!==null){var y=$n();us(h,a,m,y),Zk(h,l,m)}}function w3(a,l,h){var m=Aa(a),y={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null};if(Yk(a))Jk(l,y);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var P=l.lastRenderedState,F=w(P,h);if(y.hasEagerState=!0,y.eagerState=F,ss(F,P)){var z=l.interleaved;z===null?(y.next=y,Fv(l)):(y.next=z.next,z.next=y),l.interleaved=y;return}}catch{}finally{}h=Ik(a,l,y,m),h!==null&&(y=$n(),us(h,a,m,y),Zk(h,l,m))}}function Yk(a){var l=a.alternate;return a===Et||l!==null&&l===Et}function Jk(a,l){Rh=Rp=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function Zk(a,l,h){if((h&4194240)!==0){var m=l.lanes;m&=a.pendingLanes,h|=m,l.lanes=h,dh(a,h)}}var Fp={readContext:Or,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},b3={readContext:Or,useCallback:function(a,l){return Bs().memoizedState=[a,l===void 0?null:l],a},useContext:Or,useEffect:Vk,useImperativeHandle:function(a,l,h){return h=h!=null?h.concat([a]):null,Op(4194308,4,Hk.bind(null,l,a),h)},useLayoutEffect:function(a,l){return Op(4194308,4,a,l)},useInsertionEffect:function(a,l){return Op(4,2,a,l)},useMemo:function(a,l){var h=Bs();return l=l===void 0?null:l,a=a(),h.memoizedState=[a,l],a},useReducer:function(a,l,h){var m=Bs();return l=h!==void 0?h(l):l,m.memoizedState=m.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},m.queue=a,a=a.dispatch=v3.bind(null,Et,a),[m.memoizedState,a]},useRef:function(a){var l=Bs();return a={current:a},l.memoizedState=a},useState:Uk,useDebugValue:Yv,useDeferredValue:function(a){return Bs().memoizedState=a},useTransition:function(){var a=Uk(!1),l=a[0];return a=y3.bind(null,a[1]),Bs().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,h){var m=Et,y=Bs();if(bt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),vn===null)throw Error(n(349));(zo&30)!==0||Rk(m,l,h)}y.memoizedState=h;var w={value:h,getSnapshot:l};return y.queue=w,Vk(Lk.bind(null,m,w,a),[a]),m.flags|=2048,Fh(9,Ok.bind(null,m,w,h,l),void 0,null),h},useId:function(){var a=Bs(),l=vn.identifierPrefix;if(bt){var h=Ei,m=Si;h=(m&~(1<<32-pr(m)-1)).toString(32)+h,l=":"+l+"R"+h,h=Oh++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=g3++,l=":"+l+"r"+h.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},x3={readContext:Or,useCallback:Gk,useContext:Or,useEffect:Xv,useImperativeHandle:Kk,useInsertionEffect:qk,useLayoutEffect:$k,useMemo:Wk,useReducer:Wv,useRef:zk,useState:function(){return Wv(Lh)},useDebugValue:Yv,useDeferredValue:function(a){var l=Lr();return Qk(l,hn.memoizedState,a)},useTransition:function(){var a=Wv(Lh)[0],l=Lr().memoizedState;return[a,l]},useMutableSource:Mk,useSyncExternalStore:jk,useId:Xk,unstable_isNewReconciler:!1},C3={readContext:Or,useCallback:Gk,useContext:Or,useEffect:Xv,useImperativeHandle:Kk,useInsertionEffect:qk,useLayoutEffect:$k,useMemo:Wk,useReducer:Qv,useRef:zk,useState:function(){return Qv(Lh)},useDebugValue:Yv,useDeferredValue:function(a){var l=Lr();return hn===null?l.memoizedState=a:Qk(l,hn.memoizedState,a)},useTransition:function(){var a=Qv(Lh)[0],l=Lr().memoizedState;return[a,l]},useMutableSource:Mk,useSyncExternalStore:jk,useId:Xk,unstable_isNewReconciler:!1};function as(a,l){if(a&&a.defaultProps){l=ae({},l),a=a.defaultProps;for(var h in a)l[h]===void 0&&(l[h]=a[h]);return l}return l}function Jv(a,l,h,m){l=a.memoizedState,h=h(m,l),h=h==null?l:ae({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Bp={isMounted:function(a){return(a=a._reactInternals)?ns(a)===a:!1},enqueueSetState:function(a,l,h){a=a._reactInternals;var m=$n(),y=Aa(a),w=_i(m,y);w.payload=l,h!=null&&(w.callback=h),l=_a(a,w,y),l!==null&&(us(l,a,y,m),Ap(l,a,y))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var m=$n(),y=Aa(a),w=_i(m,y);w.tag=1,w.payload=l,h!=null&&(w.callback=h),l=_a(a,w,y),l!==null&&(us(l,a,y,m),Ap(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=$n(),m=Aa(a),y=_i(h,m);y.tag=2,l!=null&&(y.callback=l),l=_a(a,y,m),l!==null&&(us(l,a,m,h),Ap(l,a,m))}};function eS(a,l,h,m,y,w,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,w,P):l.prototype&&l.prototype.isPureReactComponent?!Sh(h,m)||!Sh(y,w):!0}function tS(a,l,h){var m=!1,y=Sa,w=l.contextType;return typeof w=="object"&&w!==null?w=Or(w):(y=tr(l)?Oo:Nn.current,m=l.contextTypes,w=(m=m!=null)?ku(a,y):Sa),l=new l(h,w),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Bp,a.stateNode=l,l._reactInternals=a,m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=w),l}function nS(a,l,h,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,m),l.state!==a&&Bp.enqueueReplaceState(l,l.state,null)}function Zv(a,l,h,m){var y=a.stateNode;y.props=h,y.state=a.memoizedState,y.refs={},Bv(a);var w=l.contextType;typeof w=="object"&&w!==null?y.context=Or(w):(w=tr(l)?Oo:Nn.current,y.context=ku(a,w)),y.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Jv(a,l,w,h),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Bp.enqueueReplaceState(y,y.state,null),Np(a,h,y,m),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function Au(a,l){try{var h="",m=l;do h+=Me(m),m=m.return;while(m);var y=h}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:a,source:l,stack:y,digest:null}}function e0(a,l,h){return{value:a,source:null,stack:h??null,digest:l??null}}function t0(a,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var k3=typeof WeakMap=="function"?WeakMap:Map;function rS(a,l,h){h=_i(-1,h),h.tag=3,h.payload={element:null};var m=l.value;return h.callback=function(){Kp||(Kp=!0,m0=m),t0(a,l)},h}function sS(a,l,h){h=_i(-1,h),h.tag=3;var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var y=l.value;h.payload=function(){return m(y)},h.callback=function(){t0(a,l)}}var w=a.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(h.callback=function(){t0(a,l),typeof m!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})}),h}function iS(a,l,h){var m=a.pingCache;if(m===null){m=a.pingCache=new k3;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(h)||(y.add(h),a=L3.bind(null,a,l,h),l.then(a,a))}function aS(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function oS(a,l,h,m,y){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=_i(-1,1),l.tag=2,_a(h,l,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=y,a)}var S3=U.ReactCurrentOwner,nr=!1;function qn(a,l,h,m){l.child=a===null?_k(l,null,h,m):_u(l,a.child,h,m)}function lS(a,l,h,m,y){h=h.render;var w=l.ref;return Pu(l,y),m=Kv(a,l,h,m,w,y),h=Gv(),a!==null&&!nr?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,Ii(a,l,y)):(bt&&h&&Pv(l),l.flags|=1,qn(a,l,m,y),l.child)}function uS(a,l,h,m,y){if(a===null){var w=h.type;return typeof w=="function"&&!C0(w)&&w.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=w,cS(a,l,w,m,y)):(a=Jp(h.type,null,m,l,l.mode,y),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,(a.lanes&y)===0){var P=w.memoizedProps;if(h=h.compare,h=h!==null?h:Sh,h(P,m)&&a.ref===l.ref)return Ii(a,l,y)}return l.flags|=1,a=Ma(w,m),a.ref=l.ref,a.return=l,l.child=a}function cS(a,l,h,m,y){if(a!==null){var w=a.memoizedProps;if(Sh(w,m)&&a.ref===l.ref)if(nr=!1,l.pendingProps=m=w,(a.lanes&y)!==0)(a.flags&131072)!==0&&(nr=!0);else return l.lanes=a.lanes,Ii(a,l,y)}return n0(a,l,h,m,y)}function hS(a,l,h){var m=l.pendingProps,y=m.children,w=a!==null?a.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Mu,xr),xr|=h;else{if((h&1073741824)===0)return a=w!==null?w.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,dt(Mu,xr),xr|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=w!==null?w.baseLanes:h,dt(Mu,xr),xr|=m}else w!==null?(m=w.baseLanes|h,l.memoizedState=null):m=h,dt(Mu,xr),xr|=m;return qn(a,l,y,h),l.child}function dS(a,l){var h=l.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function n0(a,l,h,m,y){var w=tr(h)?Oo:Nn.current;return w=ku(l,w),Pu(l,y),h=Kv(a,l,h,m,w,y),m=Gv(),a!==null&&!nr?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,Ii(a,l,y)):(bt&&m&&Pv(l),l.flags|=1,qn(a,l,h,y),l.child)}function fS(a,l,h,m,y){if(tr(h)){var w=!0;kp(l)}else w=!1;if(Pu(l,y),l.stateNode===null)zp(a,l),tS(l,h,m),Zv(l,h,m,y),m=!0;else if(a===null){var P=l.stateNode,F=l.memoizedProps;P.props=F;var z=P.context,Z=h.contextType;typeof Z=="object"&&Z!==null?Z=Or(Z):(Z=tr(h)?Oo:Nn.current,Z=ku(l,Z));var ie=h.getDerivedStateFromProps,oe=typeof ie=="function"||typeof P.getSnapshotBeforeUpdate=="function";oe||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(F!==m||z!==Z)&&nS(l,P,m,Z),Ta=!1;var se=l.memoizedState;P.state=se,Np(l,m,P,y),z=l.memoizedState,F!==m||se!==z||er.current||Ta?(typeof ie=="function"&&(Jv(l,h,ie,m),z=l.memoizedState),(F=Ta||eS(l,h,F,m,se,z,Z))?(oe||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(l.flags|=4194308)):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=z),P.props=m,P.state=z,P.context=Z,m=F):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{P=l.stateNode,Pk(a,l),F=l.memoizedProps,Z=l.type===l.elementType?F:as(l.type,F),P.props=Z,oe=l.pendingProps,se=P.context,z=h.contextType,typeof z=="object"&&z!==null?z=Or(z):(z=tr(h)?Oo:Nn.current,z=ku(l,z));var fe=h.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(F!==oe||se!==z)&&nS(l,P,m,z),Ta=!1,se=l.memoizedState,P.state=se,Np(l,m,P,y);var be=l.memoizedState;F!==oe||se!==be||er.current||Ta?(typeof fe=="function"&&(Jv(l,h,fe,m),be=l.memoizedState),(Z=Ta||eS(l,h,Z,m,se,be,z)||!1)?(ie||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(m,be,z),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(m,be,z)),typeof P.componentDidUpdate=="function"&&(l.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof P.componentDidUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=be),P.props=m,P.state=be,P.context=z,m=Z):(typeof P.componentDidUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=1024),m=!1)}return r0(a,l,h,m,w,y)}function r0(a,l,h,m,y,w){dS(a,l);var P=(l.flags&128)!==0;if(!m&&!P)return y&&vk(l,h,!1),Ii(a,l,w);m=l.stateNode,S3.current=l;var F=P&&typeof h.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,a!==null&&P?(l.child=_u(l,a.child,null,w),l.child=_u(l,null,F,w)):qn(a,l,F,w),l.memoizedState=m.state,y&&vk(l,h,!0),l.child}function pS(a){var l=a.stateNode;l.pendingContext?gk(a,l.pendingContext,l.pendingContext!==l.context):l.context&&gk(a,l.context,!1),Uv(a,l.containerInfo)}function mS(a,l,h,m,y){return Tu(),Mv(y),l.flags|=256,qn(a,l,h,m),l.child}var s0={dehydrated:null,treeContext:null,retryLane:0};function i0(a){return{baseLanes:a,cachePool:null,transitions:null}}function gS(a,l,h){var m=l.pendingProps,y=St.current,w=!1,P=(l.flags&128)!==0,F;if((F=P)||(F=a!==null&&a.memoizedState===null?!1:(y&2)!==0),F?(w=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(y|=1),dt(St,y&1),a===null)return Nv(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(P=m.children,a=m.fallback,w?(m=l.mode,w=l.child,P={mode:"hidden",children:P},(m&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=P):w=Zp(P,m,0,null),a=Ko(a,m,h,null),w.return=l,a.return=l,w.sibling=a,l.child=w,l.child.memoizedState=i0(h),l.memoizedState=s0,a):a0(l,P));if(y=a.memoizedState,y!==null&&(F=y.dehydrated,F!==null))return E3(a,l,P,m,F,y,h);if(w){w=m.fallback,P=l.mode,y=a.child,F=y.sibling;var z={mode:"hidden",children:m.children};return(P&1)===0&&l.child!==y?(m=l.child,m.childLanes=0,m.pendingProps=z,l.deletions=null):(m=Ma(y,z),m.subtreeFlags=y.subtreeFlags&14680064),F!==null?w=Ma(F,w):(w=Ko(w,P,h,null),w.flags|=2),w.return=l,m.return=l,m.sibling=w,l.child=m,m=w,w=l.child,P=a.child.memoizedState,P=P===null?i0(h):{baseLanes:P.baseLanes|h,cachePool:null,transitions:P.transitions},w.memoizedState=P,w.childLanes=a.childLanes&~h,l.memoizedState=s0,m}return w=a.child,a=w.sibling,m=Ma(w,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=h),m.return=l,m.sibling=null,a!==null&&(h=l.deletions,h===null?(l.deletions=[a],l.flags|=16):h.push(a)),l.child=m,l.memoizedState=null,m}function a0(a,l){return l=Zp({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Up(a,l,h,m){return m!==null&&Mv(m),_u(l,a.child,null,h),a=a0(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function E3(a,l,h,m,y,w,P){if(h)return l.flags&256?(l.flags&=-257,m=e0(Error(n(422))),Up(a,l,P,m)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(w=m.fallback,y=l.mode,m=Zp({mode:"visible",children:m.children},y,0,null),w=Ko(w,y,P,null),w.flags|=2,m.return=l,w.return=l,m.sibling=w,l.child=m,(l.mode&1)!==0&&_u(l,a.child,null,P),l.child.memoizedState=i0(P),l.memoizedState=s0,w);if((l.mode&1)===0)return Up(a,l,P,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var F=m.dgst;return m=F,w=Error(n(419)),m=e0(w,m,void 0),Up(a,l,P,m)}if(F=(P&a.childLanes)!==0,nr||F){if(m=vn,m!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|P))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,Ti(a,y),us(m,a,y,-1))}return x0(),m=e0(Error(n(421))),Up(a,l,P,m)}return y.data==="$?"?(l.flags|=128,l.child=a.child,l=F3.bind(null,a),y._reactRetry=l,null):(a=w.treeContext,br=Ca(y.nextSibling),wr=l,bt=!0,is=null,a!==null&&(jr[Rr++]=Si,jr[Rr++]=Ei,jr[Rr++]=Lo,Si=a.id,Ei=a.overflow,Lo=l),l=a0(l,m.children),l.flags|=4096,l)}function yS(a,l,h){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),Lv(a.return,l,h)}function o0(a,l,h,m,y){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=h,w.tailMode=y)}function vS(a,l,h){var m=l.pendingProps,y=m.revealOrder,w=m.tail;if(qn(a,l,m.children,h),m=St.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&yS(a,h,l);else if(a.tag===19)yS(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}if(dt(St,m),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(h=l.child,y=null;h!==null;)a=h.alternate,a!==null&&Mp(a)===null&&(y=h),h=h.sibling;h=y,h===null?(y=l.child,l.child=null):(y=h.sibling,h.sibling=null),o0(l,!1,y,h,w);break;case"backwards":for(h=null,y=l.child,l.child=null;y!==null;){if(a=y.alternate,a!==null&&Mp(a)===null){l.child=y;break}a=y.sibling,y.sibling=h,h=y,y=a}o0(l,!0,h,null,w);break;case"together":o0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function zp(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function Ii(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),Vo|=l.lanes,(h&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,h=Ma(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=Ma(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function T3(a,l,h){switch(l.tag){case 3:pS(l),Tu();break;case 5:Nk(l);break;case 1:tr(l.type)&&kp(l);break;case 4:Uv(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,y=l.memoizedProps.value;dt(Pp,m._currentValue),m._currentValue=y;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(dt(St,St.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?gS(a,l,h):(dt(St,St.current&1),a=Ii(a,l,h),a!==null?a.sibling:null);dt(St,St.current&1);break;case 19:if(m=(h&l.childLanes)!==0,(a.flags&128)!==0){if(m)return vS(a,l,h);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),dt(St,St.current),m)break;return null;case 22:case 23:return l.lanes=0,hS(a,l,h)}return Ii(a,l,h)}var wS,l0,bS,xS;wS=function(a,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},l0=function(){},bS=function(a,l,h,m){var y=a.memoizedProps;if(y!==m){a=l.stateNode,Uo(Fs.current);var w=null;switch(h){case"input":y=ra(a,y),m=ra(a,m),w=[];break;case"select":y=ae({},y,{value:void 0}),m=ae({},m,{value:void 0}),w=[];break;case"textarea":y=Zc(a,y),m=Zc(a,m),w=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(a.onclick=bp)}ts(h,m);var P;h=null;for(Z in y)if(!m.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var F=y[Z];for(P in F)F.hasOwnProperty(P)&&(h||(h={}),h[P]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in m){var z=m[Z];if(F=y!=null?y[Z]:void 0,m.hasOwnProperty(Z)&&z!==F&&(z!=null||F!=null))if(Z==="style")if(F){for(P in F)!F.hasOwnProperty(P)||z&&z.hasOwnProperty(P)||(h||(h={}),h[P]="");for(P in z)z.hasOwnProperty(P)&&F[P]!==z[P]&&(h||(h={}),h[P]=z[P])}else h||(w||(w=[]),w.push(Z,h)),h=z;else Z==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,F=F?F.__html:void 0,z!=null&&F!==z&&(w=w||[]).push(Z,z)):Z==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(Z,""+z):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?(z!=null&&Z==="onScroll"&&yt("scroll",a),w||F===z||(w=[])):(w=w||[]).push(Z,z))}h&&(w=w||[]).push("style",h);var Z=w;(l.updateQueue=Z)&&(l.flags|=4)}},xS=function(a,l,h,m){h!==m&&(l.flags|=4)};function Bh(a,l){if(!bt)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function jn(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,m=0;if(l)for(var y=a.child;y!==null;)h|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)h|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=h,l}function _3(a,l,h){var m=l.pendingProps;switch(Dv(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(l),null;case 1:return tr(l.type)&&Cp(),jn(l),null;case 3:return m=l.stateNode,Du(),vt(er),vt(Nn),qv(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(_p(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,is!==null&&(v0(is),is=null))),l0(a,l),jn(l),null;case 5:zv(l);var y=Uo(jh.current);if(h=l.type,a!==null&&l.stateNode!=null)bS(a,l,h,m,y),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(n(166));return jn(l),null}if(a=Uo(Fs.current),_p(l)){m=l.stateNode,h=l.type;var w=l.memoizedProps;switch(m[Ls]=l,m[Ph]=w,a=(l.mode&1)!==0,h){case"dialog":yt("cancel",m),yt("close",m);break;case"iframe":case"object":case"embed":yt("load",m);break;case"video":case"audio":for(y=0;y<Th.length;y++)yt(Th[y],m);break;case"source":yt("error",m);break;case"img":case"image":case"link":yt("error",m),yt("load",m);break;case"details":yt("toggle",m);break;case"input":Xl(m,w),yt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!w.multiple},yt("invalid",m);break;case"textarea":eh(m,w),yt("invalid",m)}ts(h,w),y=null;for(var P in w)if(w.hasOwnProperty(P)){var F=w[P];P==="children"?typeof F=="string"?m.textContent!==F&&(w.suppressHydrationWarning!==!0&&wp(m.textContent,F,a),y=["children",F]):typeof F=="number"&&m.textContent!==""+F&&(w.suppressHydrationWarning!==!0&&wp(m.textContent,F,a),y=["children",""+F]):s.hasOwnProperty(P)&&F!=null&&P==="onScroll"&&yt("scroll",m)}switch(h){case"input":Dr(m),bo(m,w,!0);break;case"textarea":Dr(m),ia(m);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(m.onclick=bp)}m=y,l.updateQueue=m,m!==null&&(l.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=th(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=P.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof m.is=="string"?a=P.createElement(h,{is:m.is}):(a=P.createElement(h),h==="select"&&(P=a,m.multiple?P.multiple=!0:m.size&&(P.size=m.size))):a=P.createElementNS(a,h),a[Ls]=l,a[Ph]=m,wS(a,l,!1,!1),l.stateNode=a;e:{switch(P=Zl(h,m),h){case"dialog":yt("cancel",a),yt("close",a),y=m;break;case"iframe":case"object":case"embed":yt("load",a),y=m;break;case"video":case"audio":for(y=0;y<Th.length;y++)yt(Th[y],a);y=m;break;case"source":yt("error",a),y=m;break;case"img":case"image":case"link":yt("error",a),yt("load",a),y=m;break;case"details":yt("toggle",a),y=m;break;case"input":Xl(a,m),y=ra(a,m),yt("invalid",a);break;case"option":y=m;break;case"select":a._wrapperState={wasMultiple:!!m.multiple},y=ae({},m,{value:void 0}),yt("invalid",a);break;case"textarea":eh(a,m),y=Zc(a,m),yt("invalid",a);break;default:y=m}ts(h,y),F=y;for(w in F)if(F.hasOwnProperty(w)){var z=F[w];w==="style"?Jl(a,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Gf(a,z)):w==="children"?typeof z=="string"?(h!=="textarea"||z!=="")&&xo(a,z):typeof z=="number"&&xo(a,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?z!=null&&w==="onScroll"&&yt("scroll",a):z!=null&&R(a,w,z,P))}switch(h){case"input":Dr(a),bo(a,m,!1);break;case"textarea":Dr(a),ia(a);break;case"option":m.value!=null&&a.setAttribute("value",""+qe(m.value));break;case"select":a.multiple=!!m.multiple,w=m.value,w!=null?es(a,!!m.multiple,w,!1):m.defaultValue!=null&&es(a,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(a.onclick=bp)}switch(h){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return jn(l),null;case 6:if(a&&l.stateNode!=null)xS(a,l,a.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(h=Uo(jh.current),Uo(Fs.current),_p(l)){if(m=l.stateNode,h=l.memoizedProps,m[Ls]=l,(w=m.nodeValue!==h)&&(a=wr,a!==null))switch(a.tag){case 3:wp(m.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&wp(m.nodeValue,h,(a.mode&1)!==0)}w&&(l.flags|=4)}else m=(h.nodeType===9?h:h.ownerDocument).createTextNode(m),m[Ls]=l,l.stateNode=m}return jn(l),null;case 13:if(vt(St),m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(bt&&br!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Sk(),Tu(),l.flags|=98560,w=!1;else if(w=_p(l),m!==null&&m.dehydrated!==null){if(a===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Ls]=l}else Tu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;jn(l),w=!1}else is!==null&&(v0(is),is=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(m=m!==null,m!==(a!==null&&a.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(St.current&1)!==0?dn===0&&(dn=3):x0())),l.updateQueue!==null&&(l.flags|=4),jn(l),null);case 4:return Du(),l0(a,l),a===null&&_h(l.stateNode.containerInfo),jn(l),null;case 10:return Ov(l.type._context),jn(l),null;case 17:return tr(l.type)&&Cp(),jn(l),null;case 19:if(vt(St),w=l.memoizedState,w===null)return jn(l),null;if(m=(l.flags&128)!==0,P=w.rendering,P===null)if(m)Bh(w,!1);else{if(dn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(P=Mp(a),P!==null){for(l.flags|=128,Bh(w,!1),m=P.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=h,h=l.child;h!==null;)w=h,a=m,w.flags&=14680066,P=w.alternate,P===null?(w.childLanes=0,w.lanes=a,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=P.childLanes,w.lanes=P.lanes,w.child=P.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=P.memoizedProps,w.memoizedState=P.memoizedState,w.updateQueue=P.updateQueue,w.type=P.type,a=P.dependencies,w.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return dt(St,St.current&1|2),l.child}a=a.sibling}w.tail!==null&&gt()>ju&&(l.flags|=128,m=!0,Bh(w,!1),l.lanes=4194304)}else{if(!m)if(a=Mp(P),a!==null){if(l.flags|=128,m=!0,h=a.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Bh(w,!0),w.tail===null&&w.tailMode==="hidden"&&!P.alternate&&!bt)return jn(l),null}else 2*gt()-w.renderingStartTime>ju&&h!==1073741824&&(l.flags|=128,m=!0,Bh(w,!1),l.lanes=4194304);w.isBackwards?(P.sibling=l.child,l.child=P):(h=w.last,h!==null?h.sibling=P:l.child=P,w.last=P)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=gt(),l.sibling=null,h=St.current,dt(St,m?h&1|2:h&1),l):(jn(l),null);case 22:case 23:return b0(),m=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(xr&1073741824)!==0&&(jn(l),l.subtreeFlags&6&&(l.flags|=8192)):jn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function I3(a,l){switch(Dv(l),l.tag){case 1:return tr(l.type)&&Cp(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Du(),vt(er),vt(Nn),qv(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return zv(l),null;case 13:if(vt(St),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Tu()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return vt(St),null;case 4:return Du(),null;case 10:return Ov(l.type._context),null;case 22:case 23:return b0(),null;case 24:return null;default:return null}}var Vp=!1,Rn=!1,P3=typeof WeakSet=="function"?WeakSet:Set,we=null;function Nu(a,l){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(m){At(a,l,m)}else h.current=null}function CS(a,l,h){try{h()}catch(m){At(a,l,m)}}var kS=!1;function D3(a,l){if(xv=bi,a=ek(),fv(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break e}var P=0,F=-1,z=-1,Z=0,ie=0,oe=a,se=null;t:for(;;){for(var fe;oe!==h||y!==0&&oe.nodeType!==3||(F=P+y),oe!==w||m!==0&&oe.nodeType!==3||(z=P+m),oe.nodeType===3&&(P+=oe.nodeValue.length),(fe=oe.firstChild)!==null;)se=oe,oe=fe;for(;;){if(oe===a)break t;if(se===h&&++Z===y&&(F=P),se===w&&++ie===m&&(z=P),(fe=oe.nextSibling)!==null)break;oe=se,se=oe.parentNode}oe=fe}h=F===-1||z===-1?null:{start:F,end:z}}else h=null}h=h||{start:0,end:0}}else h=null;for(Cv={focusedElem:a,selectionRange:h},bi=!1,we=l;we!==null;)if(l=we,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,we=a;else for(;we!==null;){l=we;try{var be=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Ee=be.memoizedProps,Zt=be.memoizedState,X=l.stateNode,H=X.getSnapshotBeforeUpdate(l.elementType===l.type?Ee:as(l.type,Ee),Zt);X.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){At(l,l.return,ue)}if(a=l.sibling,a!==null){a.return=l.return,we=a;break}we=l.return}return be=kS,kS=!1,be}function Uh(a,l,h){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&a)===a){var w=y.destroy;y.destroy=void 0,w!==void 0&&CS(l,h,w)}y=y.next}while(y!==m)}}function qp(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&a)===a){var m=h.create;h.destroy=m()}h=h.next}while(h!==l)}}function u0(a){var l=a.ref;if(l!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof l=="function"?l(a):l.current=a}}function SS(a){var l=a.alternate;l!==null&&(a.alternate=null,SS(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[Ls],delete l[Ph],delete l[Tv],delete l[d3],delete l[f3])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function ES(a){return a.tag===5||a.tag===3||a.tag===4}function TS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ES(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function c0(a,l,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(a,l):h.insertBefore(a,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(a,h)):(l=h,l.appendChild(a)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=bp));else if(m!==4&&(a=a.child,a!==null))for(c0(a,l,h),a=a.sibling;a!==null;)c0(a,l,h),a=a.sibling}function h0(a,l,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(m!==4&&(a=a.child,a!==null))for(h0(a,l,h),a=a.sibling;a!==null;)h0(a,l,h),a=a.sibling}var Sn=null,os=!1;function Ia(a,l,h){for(h=h.child;h!==null;)_S(a,l,h),h=h.sibling}function _S(a,l,h){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(To,h)}catch{}switch(h.tag){case 5:Rn||Nu(h,l);case 6:var m=Sn,y=os;Sn=null,Ia(a,l,h),Sn=m,os=y,Sn!==null&&(os?(a=Sn,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):Sn.removeChild(h.stateNode));break;case 18:Sn!==null&&(os?(a=Sn,h=h.stateNode,a.nodeType===8?Ev(a.parentNode,h):a.nodeType===1&&Ev(a,h),ya(a)):Ev(Sn,h.stateNode));break;case 4:m=Sn,y=os,Sn=h.stateNode.containerInfo,os=!0,Ia(a,l,h),Sn=m,os=y;break;case 0:case 11:case 14:case 15:if(!Rn&&(m=h.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var w=y,P=w.destroy;w=w.tag,P!==void 0&&((w&2)!==0||(w&4)!==0)&&CS(h,l,P),y=y.next}while(y!==m)}Ia(a,l,h);break;case 1:if(!Rn&&(Nu(h,l),m=h.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=h.memoizedProps,m.state=h.memoizedState,m.componentWillUnmount()}catch(F){At(h,l,F)}Ia(a,l,h);break;case 21:Ia(a,l,h);break;case 22:h.mode&1?(Rn=(m=Rn)||h.memoizedState!==null,Ia(a,l,h),Rn=m):Ia(a,l,h);break;default:Ia(a,l,h)}}function IS(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new P3),l.forEach(function(m){var y=B3.bind(null,a,m);h.has(m)||(h.add(m),m.then(y,y))})}}function ls(a,l){var h=l.deletions;if(h!==null)for(var m=0;m<h.length;m++){var y=h[m];try{var w=a,P=l,F=P;e:for(;F!==null;){switch(F.tag){case 5:Sn=F.stateNode,os=!1;break e;case 3:Sn=F.stateNode.containerInfo,os=!0;break e;case 4:Sn=F.stateNode.containerInfo,os=!0;break e}F=F.return}if(Sn===null)throw Error(n(160));_S(w,P,y),Sn=null,os=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(Z){At(y,l,Z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)PS(l,a),l=l.sibling}function PS(a,l){var h=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ls(l,a),Us(a),m&4){try{Uh(3,a,a.return),qp(3,a)}catch(Ee){At(a,a.return,Ee)}try{Uh(5,a,a.return)}catch(Ee){At(a,a.return,Ee)}}break;case 1:ls(l,a),Us(a),m&512&&h!==null&&Nu(h,h.return);break;case 5:if(ls(l,a),Us(a),m&512&&h!==null&&Nu(h,h.return),a.flags&32){var y=a.stateNode;try{xo(y,"")}catch(Ee){At(a,a.return,Ee)}}if(m&4&&(y=a.stateNode,y!=null)){var w=a.memoizedProps,P=h!==null?h.memoizedProps:w,F=a.type,z=a.updateQueue;if(a.updateQueue=null,z!==null)try{F==="input"&&w.type==="radio"&&w.name!=null&&sa(y,w),Zl(F,P);var Z=Zl(F,w);for(P=0;P<z.length;P+=2){var ie=z[P],oe=z[P+1];ie==="style"?Jl(y,oe):ie==="dangerouslySetInnerHTML"?Gf(y,oe):ie==="children"?xo(y,oe):R(y,ie,oe,Z)}switch(F){case"input":di(y,w);break;case"textarea":Kf(y,w);break;case"select":var se=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var fe=w.value;fe!=null?es(y,!!w.multiple,fe,!1):se!==!!w.multiple&&(w.defaultValue!=null?es(y,!!w.multiple,w.defaultValue,!0):es(y,!!w.multiple,w.multiple?[]:"",!1))}y[Ph]=w}catch(Ee){At(a,a.return,Ee)}}break;case 6:if(ls(l,a),Us(a),m&4){if(a.stateNode===null)throw Error(n(162));y=a.stateNode,w=a.memoizedProps;try{y.nodeValue=w}catch(Ee){At(a,a.return,Ee)}}break;case 3:if(ls(l,a),Us(a),m&4&&h!==null&&h.memoizedState.isDehydrated)try{ya(l.containerInfo)}catch(Ee){At(a,a.return,Ee)}break;case 4:ls(l,a),Us(a);break;case 13:ls(l,a),Us(a),y=a.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(p0=gt())),m&4&&IS(a);break;case 22:if(ie=h!==null&&h.memoizedState!==null,a.mode&1?(Rn=(Z=Rn)||ie,ls(l,a),Rn=Z):ls(l,a),Us(a),m&8192){if(Z=a.memoizedState!==null,(a.stateNode.isHidden=Z)&&!ie&&(a.mode&1)!==0)for(we=a,ie=a.child;ie!==null;){for(oe=we=ie;we!==null;){switch(se=we,fe=se.child,se.tag){case 0:case 11:case 14:case 15:Uh(4,se,se.return);break;case 1:Nu(se,se.return);var be=se.stateNode;if(typeof be.componentWillUnmount=="function"){m=se,h=se.return;try{l=m,be.props=l.memoizedProps,be.state=l.memoizedState,be.componentWillUnmount()}catch(Ee){At(m,h,Ee)}}break;case 5:Nu(se,se.return);break;case 22:if(se.memoizedState!==null){NS(oe);continue}}fe!==null?(fe.return=se,we=fe):NS(oe)}ie=ie.sibling}e:for(ie=null,oe=a;;){if(oe.tag===5){if(ie===null){ie=oe;try{y=oe.stateNode,Z?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(F=oe.stateNode,z=oe.memoizedProps.style,P=z!=null&&z.hasOwnProperty("display")?z.display:null,F.style.display=la("display",P))}catch(Ee){At(a,a.return,Ee)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=Z?"":oe.memoizedProps}catch(Ee){At(a,a.return,Ee)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===a)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===a)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===a)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:ls(l,a),Us(a),m&4&&IS(a);break;case 21:break;default:ls(l,a),Us(a)}}function Us(a){var l=a.flags;if(l&2){try{e:{for(var h=a.return;h!==null;){if(ES(h)){var m=h;break e}h=h.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(xo(y,""),m.flags&=-33);var w=TS(a);h0(a,w,y);break;case 3:case 4:var P=m.stateNode.containerInfo,F=TS(a);c0(a,F,P);break;default:throw Error(n(161))}}catch(z){At(a,a.return,z)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function A3(a,l,h){we=a,DS(a)}function DS(a,l,h){for(var m=(a.mode&1)!==0;we!==null;){var y=we,w=y.child;if(y.tag===22&&m){var P=y.memoizedState!==null||Vp;if(!P){var F=y.alternate,z=F!==null&&F.memoizedState!==null||Rn;F=Vp;var Z=Rn;if(Vp=P,(Rn=z)&&!Z)for(we=y;we!==null;)P=we,z=P.child,P.tag===22&&P.memoizedState!==null?MS(y):z!==null?(z.return=P,we=z):MS(y);for(;w!==null;)we=w,DS(w),w=w.sibling;we=y,Vp=F,Rn=Z}AS(a)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,we=w):AS(a)}}function AS(a){for(;we!==null;){var l=we;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Rn||qp(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!Rn)if(h===null)m.componentDidMount();else{var y=l.elementType===l.type?h.memoizedProps:as(l.type,h.memoizedProps);m.componentDidUpdate(y,h.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&Ak(l,w,m);break;case 3:var P=l.updateQueue;if(P!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}Ak(l,P,h)}break;case 5:var F=l.stateNode;if(h===null&&l.flags&4){h=F;var z=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&h.focus();break;case"img":z.src&&(h.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Z=l.alternate;if(Z!==null){var ie=Z.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&ya(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Rn||l.flags&512&&u0(l)}catch(se){At(l,l.return,se)}}if(l===a){we=null;break}if(h=l.sibling,h!==null){h.return=l.return,we=h;break}we=l.return}}function NS(a){for(;we!==null;){var l=we;if(l===a){we=null;break}var h=l.sibling;if(h!==null){h.return=l.return,we=h;break}we=l.return}}function MS(a){for(;we!==null;){var l=we;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{qp(4,l)}catch(z){At(l,h,z)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var y=l.return;try{m.componentDidMount()}catch(z){At(l,y,z)}}var w=l.return;try{u0(l)}catch(z){At(l,w,z)}break;case 5:var P=l.return;try{u0(l)}catch(z){At(l,P,z)}}}catch(z){At(l,l.return,z)}if(l===a){we=null;break}var F=l.sibling;if(F!==null){F.return=l.return,we=F;break}we=l.return}}var N3=Math.ceil,$p=U.ReactCurrentDispatcher,d0=U.ReactCurrentOwner,Fr=U.ReactCurrentBatchConfig,tt=0,vn=null,an=null,En=0,xr=0,Mu=ka(0),dn=0,zh=null,Vo=0,Hp=0,f0=0,Vh=null,rr=null,p0=0,ju=1/0,Pi=null,Kp=!1,m0=null,Pa=null,Gp=!1,Da=null,Wp=0,qh=0,g0=null,Qp=-1,Xp=0;function $n(){return(tt&6)!==0?gt():Qp!==-1?Qp:Qp=gt()}function Aa(a){return(a.mode&1)===0?1:(tt&2)!==0&&En!==0?En&-En:m3.transition!==null?(Xp===0&&(Xp=ch()),Xp):(a=Qe,a!==0||(a=window.event,a=a===void 0?16:uu(a.type)),a)}function us(a,l,h,m){if(50<qh)throw qh=0,g0=null,Error(n(185));Do(a,h,m),((tt&2)===0||a!==vn)&&(a===vn&&((tt&2)===0&&(Hp|=h),dn===4&&Na(a,En)),sr(a,m),h===1&&tt===0&&(l.mode&1)===0&&(ju=gt()+500,Sp&&Ea()))}function sr(a,l){var h=a.callbackNode;Po(a,l);var m=yi(a,a===vn?En:0);if(m===0)h!==null&&nu(h),a.callbackNode=null,a.callbackPriority=0;else if(l=m&-m,a.callbackPriority!==l){if(h!=null&&nu(h),l===1)a.tag===0?p3(RS.bind(null,a)):wk(RS.bind(null,a)),c3(function(){(tt&6)===0&&Ea()}),h=null;else{switch(_s(m)){case 1:h=ru;break;case 4:h=oh;break;case 16:h=Eo;break;case 536870912:h=su;break;default:h=Eo}h=qS(h,jS.bind(null,a))}a.callbackPriority=l,a.callbackNode=h}}function jS(a,l){if(Qp=-1,Xp=0,(tt&6)!==0)throw Error(n(327));var h=a.callbackNode;if(Ru()&&a.callbackNode!==h)return null;var m=yi(a,a===vn?En:0);if(m===0)return null;if((m&30)!==0||(m&a.expiredLanes)!==0||l)l=Yp(a,m);else{l=m;var y=tt;tt|=2;var w=LS();(vn!==a||En!==l)&&(Pi=null,ju=gt()+500,$o(a,l));do try{R3();break}catch(F){OS(a,F)}while(!0);Rv(),$p.current=w,tt=y,an!==null?l=0:(vn=null,En=0,l=dn)}if(l!==0){if(l===2&&(y=uh(a),y!==0&&(m=y,l=y0(a,y))),l===1)throw h=zh,$o(a,0),Na(a,m),sr(a,gt()),h;if(l===6)Na(a,m);else{if(y=a.current.alternate,(m&30)===0&&!M3(y)&&(l=Yp(a,m),l===2&&(w=uh(a),w!==0&&(m=w,l=y0(a,w))),l===1))throw h=zh,$o(a,0),Na(a,m),sr(a,gt()),h;switch(a.finishedWork=y,a.finishedLanes=m,l){case 0:case 1:throw Error(n(345));case 2:Ho(a,rr,Pi);break;case 3:if(Na(a,m),(m&130023424)===m&&(l=p0+500-gt(),10<l)){if(yi(a,0)!==0)break;if(y=a.suspendedLanes,(y&m)!==m){$n(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=Sv(Ho.bind(null,a,rr,Pi),l);break}Ho(a,rr,Pi);break;case 4:if(Na(a,m),(m&4194240)===m)break;for(l=a.eventTimes,y=-1;0<m;){var P=31-pr(m);w=1<<P,P=l[P],P>y&&(y=P),m&=~w}if(m=y,m=gt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*N3(m/1960))-m,10<m){a.timeoutHandle=Sv(Ho.bind(null,a,rr,Pi),m);break}Ho(a,rr,Pi);break;case 5:Ho(a,rr,Pi);break;default:throw Error(n(329))}}}return sr(a,gt()),a.callbackNode===h?jS.bind(null,a):null}function y0(a,l){var h=Vh;return a.current.memoizedState.isDehydrated&&($o(a,l).flags|=256),a=Yp(a,l),a!==2&&(l=rr,rr=h,l!==null&&v0(l)),a}function v0(a){rr===null?rr=a:rr.push.apply(rr,a)}function M3(a){for(var l=a;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var m=0;m<h.length;m++){var y=h[m],w=y.getSnapshot;y=y.value;try{if(!ss(w(),y))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Na(a,l){for(l&=~f0,l&=~Hp,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var h=31-pr(l),m=1<<h;a[h]=-1,l&=~m}}function RS(a){if((tt&6)!==0)throw Error(n(327));Ru();var l=yi(a,0);if((l&1)===0)return sr(a,gt()),null;var h=Yp(a,l);if(a.tag!==0&&h===2){var m=uh(a);m!==0&&(l=m,h=y0(a,m))}if(h===1)throw h=zh,$o(a,0),Na(a,l),sr(a,gt()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Ho(a,rr,Pi),sr(a,gt()),null}function w0(a,l){var h=tt;tt|=1;try{return a(l)}finally{tt=h,tt===0&&(ju=gt()+500,Sp&&Ea())}}function qo(a){Da!==null&&Da.tag===0&&(tt&6)===0&&Ru();var l=tt;tt|=1;var h=Fr.transition,m=Qe;try{if(Fr.transition=null,Qe=1,a)return a()}finally{Qe=m,Fr.transition=h,tt=l,(tt&6)===0&&Ea()}}function b0(){xr=Mu.current,vt(Mu)}function $o(a,l){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,u3(h)),an!==null)for(h=an.return;h!==null;){var m=h;switch(Dv(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Cp();break;case 3:Du(),vt(er),vt(Nn),qv();break;case 5:zv(m);break;case 4:Du();break;case 13:vt(St);break;case 19:vt(St);break;case 10:Ov(m.type._context);break;case 22:case 23:b0()}h=h.return}if(vn=a,an=a=Ma(a.current,null),En=xr=l,dn=0,zh=null,f0=Hp=Vo=0,rr=Vh=null,Bo!==null){for(l=0;l<Bo.length;l++)if(h=Bo[l],m=h.interleaved,m!==null){h.interleaved=null;var y=m.next,w=h.pending;if(w!==null){var P=w.next;w.next=y,m.next=P}h.pending=m}Bo=null}return a}function OS(a,l){do{var h=an;try{if(Rv(),jp.current=Fp,Rp){for(var m=Et.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Rp=!1}if(zo=0,yn=hn=Et=null,Rh=!1,Oh=0,d0.current=null,h===null||h.return===null){dn=1,zh=l,an=null;break}e:{var w=a,P=h.return,F=h,z=l;if(l=En,F.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Z=z,ie=F,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=aS(P);if(fe!==null){fe.flags&=-257,oS(fe,P,F,w,l),fe.mode&1&&iS(w,Z,l),l=fe,z=Z;var be=l.updateQueue;if(be===null){var Ee=new Set;Ee.add(z),l.updateQueue=Ee}else be.add(z);break e}else{if((l&1)===0){iS(w,Z,l),x0();break e}z=Error(n(426))}}else if(bt&&F.mode&1){var Zt=aS(P);if(Zt!==null){(Zt.flags&65536)===0&&(Zt.flags|=256),oS(Zt,P,F,w,l),Mv(Au(z,F));break e}}w=z=Au(z,F),dn!==4&&(dn=2),Vh===null?Vh=[w]:Vh.push(w),w=P;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var X=rS(w,z,l);Dk(w,X);break e;case 1:F=z;var H=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Pa===null||!Pa.has(J)))){w.flags|=65536,l&=-l,w.lanes|=l;var ue=sS(w,F,l);Dk(w,ue);break e}}w=w.return}while(w!==null)}BS(h)}catch(Te){l=Te,an===h&&h!==null&&(an=h=h.return);continue}break}while(!0)}function LS(){var a=$p.current;return $p.current=Fp,a===null?Fp:a}function x0(){(dn===0||dn===3||dn===2)&&(dn=4),vn===null||(Vo&268435455)===0&&(Hp&268435455)===0||Na(vn,En)}function Yp(a,l){var h=tt;tt|=2;var m=LS();(vn!==a||En!==l)&&(Pi=null,$o(a,l));do try{j3();break}catch(y){OS(a,y)}while(!0);if(Rv(),tt=h,$p.current=m,an!==null)throw Error(n(261));return vn=null,En=0,dn}function j3(){for(;an!==null;)FS(an)}function R3(){for(;an!==null&&!So();)FS(an)}function FS(a){var l=VS(a.alternate,a,xr);a.memoizedProps=a.pendingProps,l===null?BS(a):an=l,d0.current=null}function BS(a){var l=a;do{var h=l.alternate;if(a=l.return,(l.flags&32768)===0){if(h=_3(h,l,xr),h!==null){an=h;return}}else{if(h=I3(h,l),h!==null){h.flags&=32767,an=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{dn=6,an=null;return}}if(l=l.sibling,l!==null){an=l;return}an=l=a}while(l!==null);dn===0&&(dn=5)}function Ho(a,l,h){var m=Qe,y=Fr.transition;try{Fr.transition=null,Qe=1,O3(a,l,h,m)}finally{Fr.transition=y,Qe=m}return null}function O3(a,l,h,m){do Ru();while(Da!==null);if((tt&6)!==0)throw Error(n(327));h=a.finishedWork;var y=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var w=h.lanes|h.childLanes;if(lv(a,w),a===vn&&(an=vn=null,En=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Gp||(Gp=!0,qS(Eo,function(){return Ru(),null})),w=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||w){w=Fr.transition,Fr.transition=null;var P=Qe;Qe=1;var F=tt;tt|=4,d0.current=null,D3(a,h),PS(h,a),n3(Cv),bi=!!xv,Cv=xv=null,a.current=h,A3(h),gi(),tt=F,Qe=P,Fr.transition=w}else a.current=h;if(Gp&&(Gp=!1,Da=a,Wp=y),w=a.pendingLanes,w===0&&(Pa=null),sp(h.stateNode),sr(a,gt()),l!==null)for(m=a.onRecoverableError,h=0;h<l.length;h++)y=l[h],m(y.value,{componentStack:y.stack,digest:y.digest});if(Kp)throw Kp=!1,a=m0,m0=null,a;return(Wp&1)!==0&&a.tag!==0&&Ru(),w=a.pendingLanes,(w&1)!==0?a===g0?qh++:(qh=0,g0=a):qh=0,Ea(),null}function Ru(){if(Da!==null){var a=_s(Wp),l=Fr.transition,h=Qe;try{if(Fr.transition=null,Qe=16>a?16:a,Da===null)var m=!1;else{if(a=Da,Da=null,Wp=0,(tt&6)!==0)throw Error(n(331));var y=tt;for(tt|=4,we=a.current;we!==null;){var w=we,P=w.child;if((we.flags&16)!==0){var F=w.deletions;if(F!==null){for(var z=0;z<F.length;z++){var Z=F[z];for(we=Z;we!==null;){var ie=we;switch(ie.tag){case 0:case 11:case 15:Uh(8,ie,w)}var oe=ie.child;if(oe!==null)oe.return=ie,we=oe;else for(;we!==null;){ie=we;var se=ie.sibling,fe=ie.return;if(SS(ie),ie===Z){we=null;break}if(se!==null){se.return=fe,we=se;break}we=fe}}}var be=w.alternate;if(be!==null){var Ee=be.child;if(Ee!==null){be.child=null;do{var Zt=Ee.sibling;Ee.sibling=null,Ee=Zt}while(Ee!==null)}}we=w}}if((w.subtreeFlags&2064)!==0&&P!==null)P.return=w,we=P;else e:for(;we!==null;){if(w=we,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Uh(9,w,w.return)}var X=w.sibling;if(X!==null){X.return=w.return,we=X;break e}we=w.return}}var H=a.current;for(we=H;we!==null;){P=we;var J=P.child;if((P.subtreeFlags&2064)!==0&&J!==null)J.return=P,we=J;else e:for(P=H;we!==null;){if(F=we,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:qp(9,F)}}catch(Te){At(F,F.return,Te)}if(F===P){we=null;break e}var ue=F.sibling;if(ue!==null){ue.return=F.return,we=ue;break e}we=F.return}}if(tt=y,Ea(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(To,a)}catch{}m=!0}return m}finally{Qe=h,Fr.transition=l}}return!1}function US(a,l,h){l=Au(h,l),l=rS(a,l,1),a=_a(a,l,1),l=$n(),a!==null&&(Do(a,1,l),sr(a,l))}function At(a,l,h){if(a.tag===3)US(a,a,h);else for(;l!==null;){if(l.tag===3){US(l,a,h);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Pa===null||!Pa.has(m))){a=Au(h,a),a=sS(l,a,1),l=_a(l,a,1),a=$n(),l!==null&&(Do(l,1,a),sr(l,a));break}}l=l.return}}function L3(a,l,h){var m=a.pingCache;m!==null&&m.delete(l),l=$n(),a.pingedLanes|=a.suspendedLanes&h,vn===a&&(En&h)===h&&(dn===4||dn===3&&(En&130023424)===En&&500>gt()-p0?$o(a,0):f0|=h),sr(a,l)}function zS(a,l){l===0&&((a.mode&1)===0?l=1:(l=pa,pa<<=1,(pa&130023424)===0&&(pa=4194304)));var h=$n();a=Ti(a,l),a!==null&&(Do(a,l,h),sr(a,h))}function F3(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),zS(a,h)}function B3(a,l){var h=0;switch(a.tag){case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(h=y.retryLane);break;case 19:m=a.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(l),zS(a,h)}var VS;VS=function(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps||er.current)nr=!0;else{if((a.lanes&h)===0&&(l.flags&128)===0)return nr=!1,T3(a,l,h);nr=(a.flags&131072)!==0}else nr=!1,bt&&(l.flags&1048576)!==0&&bk(l,Tp,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;zp(a,l),a=l.pendingProps;var y=ku(l,Nn.current);Pu(l,h),y=Kv(null,l,m,a,y,h);var w=Gv();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,tr(m)?(w=!0,kp(l)):w=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Bv(l),y.updater=Bp,l.stateNode=y,y._reactInternals=l,Zv(l,m,a,h),l=r0(null,l,m,!0,w,h)):(l.tag=0,bt&&w&&Pv(l),qn(null,l,y,h),l=l.child),l;case 16:m=l.elementType;e:{switch(zp(a,l),a=l.pendingProps,y=m._init,m=y(m._payload),l.type=m,y=l.tag=z3(m),a=as(m,a),y){case 0:l=n0(null,l,m,a,h);break e;case 1:l=fS(null,l,m,a,h);break e;case 11:l=lS(null,l,m,a,h);break e;case 14:l=uS(null,l,m,as(m.type,a),h);break e}throw Error(n(306,m,""))}return l;case 0:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:as(m,y),n0(a,l,m,y,h);case 1:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:as(m,y),fS(a,l,m,y,h);case 3:e:{if(pS(l),a===null)throw Error(n(387));m=l.pendingProps,w=l.memoizedState,y=w.element,Pk(a,l),Np(l,m,null,h);var P=l.memoizedState;if(m=P.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){y=Au(Error(n(423)),l),l=mS(a,l,m,h,y);break e}else if(m!==y){y=Au(Error(n(424)),l),l=mS(a,l,m,h,y);break e}else for(br=Ca(l.stateNode.containerInfo.firstChild),wr=l,bt=!0,is=null,h=_k(l,null,m,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Tu(),m===y){l=Ii(a,l,h);break e}qn(a,l,m,h)}l=l.child}return l;case 5:return Nk(l),a===null&&Nv(l),m=l.type,y=l.pendingProps,w=a!==null?a.memoizedProps:null,P=y.children,kv(m,y)?P=null:w!==null&&kv(m,w)&&(l.flags|=32),dS(a,l),qn(a,l,P,h),l.child;case 6:return a===null&&Nv(l),null;case 13:return gS(a,l,h);case 4:return Uv(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=_u(l,null,m,h):qn(a,l,m,h),l.child;case 11:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:as(m,y),lS(a,l,m,y,h);case 7:return qn(a,l,l.pendingProps,h),l.child;case 8:return qn(a,l,l.pendingProps.children,h),l.child;case 12:return qn(a,l,l.pendingProps.children,h),l.child;case 10:e:{if(m=l.type._context,y=l.pendingProps,w=l.memoizedProps,P=y.value,dt(Pp,m._currentValue),m._currentValue=P,w!==null)if(ss(w.value,P)){if(w.children===y.children&&!er.current){l=Ii(a,l,h);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var F=w.dependencies;if(F!==null){P=w.child;for(var z=F.firstContext;z!==null;){if(z.context===m){if(w.tag===1){z=_i(-1,h&-h),z.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var ie=Z.pending;ie===null?z.next=z:(z.next=ie.next,ie.next=z),Z.pending=z}}w.lanes|=h,z=w.alternate,z!==null&&(z.lanes|=h),Lv(w.return,h,l),F.lanes|=h;break}z=z.next}}else if(w.tag===10)P=w.type===l.type?null:w.child;else if(w.tag===18){if(P=w.return,P===null)throw Error(n(341));P.lanes|=h,F=P.alternate,F!==null&&(F.lanes|=h),Lv(P,h,l),P=w.sibling}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===l){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}qn(a,l,y.children,h),l=l.child}return l;case 9:return y=l.type,m=l.pendingProps.children,Pu(l,h),y=Or(y),m=m(y),l.flags|=1,qn(a,l,m,h),l.child;case 14:return m=l.type,y=as(m,l.pendingProps),y=as(m.type,y),uS(a,l,m,y,h);case 15:return cS(a,l,l.type,l.pendingProps,h);case 17:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:as(m,y),zp(a,l),l.tag=1,tr(m)?(a=!0,kp(l)):a=!1,Pu(l,h),tS(l,m,y),Zv(l,m,y,h),r0(null,l,m,!0,a,h);case 19:return vS(a,l,h);case 22:return hS(a,l,h)}throw Error(n(156,l.tag))};function qS(a,l){return ah(a,l)}function U3(a,l,h,m){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(a,l,h,m){return new U3(a,l,h,m)}function C0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function z3(a){if(typeof a=="function")return C0(a)?1:0;if(a!=null){if(a=a.$$typeof,a===q)return 11;if(a===Ne)return 14}return 2}function Ma(a,l){var h=a.alternate;return h===null?(h=Br(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function Jp(a,l,h,m,y,w){var P=2;if(m=a,typeof a=="function")C0(a)&&(P=1);else if(typeof a=="string")P=5;else e:switch(a){case M:return Ko(h.children,y,w,l);case I:P=8,y|=8;break;case A:return a=Br(12,h,l,y|2),a.elementType=A,a.lanes=w,a;case L:return a=Br(13,h,l,y),a.elementType=L,a.lanes=w,a;case Se:return a=Br(19,h,l,y),a.elementType=Se,a.lanes=w,a;case ve:return Zp(h,y,w,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:P=10;break e;case B:P=9;break e;case q:P=11;break e;case Ne:P=14;break e;case ye:P=16,m=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=Br(P,h,l,y),l.elementType=a,l.type=m,l.lanes=w,l}function Ko(a,l,h,m){return a=Br(7,a,m,l),a.lanes=h,a}function Zp(a,l,h,m){return a=Br(22,a,m,l),a.elementType=ve,a.lanes=h,a.stateNode={isHidden:!1},a}function k0(a,l,h){return a=Br(6,a,null,l),a.lanes=h,a}function S0(a,l,h){return l=Br(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function V3(a,l,h,m,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hh(0),this.expirationTimes=hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hh(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function E0(a,l,h,m,y,w,P,F,z){return a=new V3(a,l,h,F,z),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Br(3,null,null,l),a.current=w,w.stateNode=a,w.memoizedState={element:m,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bv(w),a}function q3(a,l,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:m==null?null:""+m,children:a,containerInfo:l,implementation:h}}function $S(a){if(!a)return Sa;a=a._reactInternals;e:{if(ns(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(tr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(tr(h))return yk(a,h,l)}return l}function HS(a,l,h,m,y,w,P,F,z){return a=E0(h,m,!0,a,y,w,P,F,z),a.context=$S(null),h=a.current,m=$n(),y=Aa(h),w=_i(m,y),w.callback=l??null,_a(h,w,y),a.current.lanes=y,Do(a,y,m),sr(a,m),a}function em(a,l,h,m){var y=l.current,w=$n(),P=Aa(y);return h=$S(h),l.context===null?l.context=h:l.pendingContext=h,l=_i(w,P),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=_a(y,l,P),a!==null&&(us(a,y,P,w),Ap(a,y,P)),P}function tm(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function KS(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function T0(a,l){KS(a,l),(a=a.alternate)&&KS(a,l)}function $3(){return null}var GS=typeof reportError=="function"?reportError:function(a){console.error(a)};function _0(a){this._internalRoot=a}nm.prototype.render=_0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));em(a,l,null,null)},nm.prototype.unmount=_0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;qo(function(){em(null,a,null,null)}),l[Ci]=null}};function nm(a){this._internalRoot=a}nm.prototype.unstable_scheduleHydration=function(a){if(a){var l=mh();a={blockedOn:null,target:a,priority:l};for(var h=0;h<mr.length&&l!==0&&l<mr[h].priority;h++);mr.splice(h,0,a),h===0&&ou(a)}};function I0(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function rm(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function WS(){}function H3(a,l,h,m,y){if(y){if(typeof m=="function"){var w=m;m=function(){var Z=tm(P);w.call(Z)}}var P=HS(l,m,a,0,null,!1,!1,"",WS);return a._reactRootContainer=P,a[Ci]=P.current,_h(a.nodeType===8?a.parentNode:a),qo(),P}for(;y=a.lastChild;)a.removeChild(y);if(typeof m=="function"){var F=m;m=function(){var Z=tm(z);F.call(Z)}}var z=E0(a,0,!1,null,null,!1,!1,"",WS);return a._reactRootContainer=z,a[Ci]=z.current,_h(a.nodeType===8?a.parentNode:a),qo(function(){em(l,z,h,m)}),z}function sm(a,l,h,m,y){var w=h._reactRootContainer;if(w){var P=w;if(typeof y=="function"){var F=y;y=function(){var z=tm(P);F.call(z)}}em(l,P,a,y)}else P=H3(h,l,a,y,m);return tm(P)}fh=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var h=it(l.pendingLanes);h!==0&&(dh(l,h|1),sr(l,gt()),(tt&6)===0&&(ju=gt()+500,Ea()))}break;case 13:qo(function(){var m=Ti(a,1);if(m!==null){var y=$n();us(m,a,1,y)}}),T0(a,1)}},iu=function(a){if(a.tag===13){var l=Ti(a,134217728);if(l!==null){var h=$n();us(l,a,134217728,h)}T0(a,134217728)}},ph=function(a){if(a.tag===13){var l=Aa(a),h=Ti(a,l);if(h!==null){var m=$n();us(h,a,l,m)}T0(a,l)}},mh=function(){return Qe},gh=function(a,l){var h=Qe;try{return Qe=a,l()}finally{Qe=h}},fi=function(a,l,h){switch(l){case"input":if(di(a,h),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var m=h[l];if(m!==a&&m.form===a.form){var y=xp(m);if(!y)throw Error(n(90));Ar(m),di(m,y)}}}break;case"textarea":Kf(a,h);break;case"select":l=h.value,l!=null&&es(a,!!h.multiple,l,!1)}},Qf=w0,Xf=qo;var K3={usingClientEntryPoint:!1,Events:[Dh,xu,xp,ca,ha,w0]},$h={findFiberByHostInstance:Ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G3={bundleType:$h.bundleType,version:$h.version,rendererPackageName:$h.rendererPackageName,rendererConfig:$h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=rp(a),a===null?null:a.stateNode},findFiberByHostInstance:$h.findFiberByHostInstance||$3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!im.isDisabled&&im.supportsFiber)try{To=im.inject(G3),fr=im}catch{}}return ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K3,ir.createPortal=function(a,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!I0(l))throw Error(n(200));return q3(a,l,null,h)},ir.createRoot=function(a,l){if(!I0(a))throw Error(n(299));var h=!1,m="",y=GS;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=E0(a,1,!1,null,null,h,!1,m,y),a[Ci]=l.current,_h(a.nodeType===8?a.parentNode:a),new _0(l)},ir.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=rp(l),a=a===null?null:a.stateNode,a},ir.flushSync=function(a){return qo(a)},ir.hydrate=function(a,l,h){if(!rm(l))throw Error(n(200));return sm(null,a,l,!0,h)},ir.hydrateRoot=function(a,l,h){if(!I0(a))throw Error(n(405));var m=h!=null&&h.hydratedSources||null,y=!1,w="",P=GS;if(h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onRecoverableError!==void 0&&(P=h.onRecoverableError)),l=HS(l,null,a,1,h??null,y,!1,w,P),a[Ci]=l.current,_h(a),m)for(a=0;a<m.length;a++)h=m[a],y=h._getVersion,y=y(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,y]:l.mutableSourceEagerHydrationData.push(h,y);return new nm(l)},ir.render=function(a,l,h){if(!rm(l))throw Error(n(200));return sm(null,a,l,!1,h)},ir.unmountComponentAtNode=function(a){if(!rm(a))throw Error(n(40));return a._reactRootContainer?(qo(function(){sm(null,null,a,!1,function(){a._reactRootContainer=null,a[Ci]=null})}),!0):!1},ir.unstable_batchedUpdates=w0,ir.unstable_renderSubtreeIntoContainer=function(a,l,h,m){if(!rm(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return sm(a,l,h,!1,m)},ir.version="18.3.1-next-f1338f8080-20240426",ir}var pE;function hP(){if(pE)return P0.exports;pE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),P0.exports=yL(),P0.exports}var mE;function vL(){if(mE)return am;mE=1;var t=hP();return am.createRoot=t.createRoot,am.hydrateRoot=t.hydrateRoot,am}var wL=vL();const bL=px(wL),xL="modulepreload",CL=function(t){return"/"+t},gE={},Xt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(c=>{if(c=CL(c),c in gE)return;gE[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":xL,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function yE({size:t="md",variant:e="circle",className:n=""}){const r={xs:{wrapper:"w-6 h-6",img:"w-5 h-5"},sm:{wrapper:"w-8 h-8",img:"w-6 h-6"},md:{wrapper:"w-12 h-12",img:"w-10 h-10"},lg:{wrapper:"w-20 h-20",img:"w-16 h-16"},xl:{wrapper:"w-32 h-32",img:"w-24 h-24"}},s=r[t]||r.md;return x.jsx("div",{className:`${e==="circle"?"bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full shadow-lg overflow-hidden flex items-center justify-center":""} ${s.wrapper} ${n}`.trim(),children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:`${s.img} object-contain ${e==="circle"?"transform -rotate-12":""}`,loading:"lazy"})})}const kL=()=>{};var vE={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},SL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],u=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},fP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,u=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,p=i>>2,g=(i&3)<<4|u>>4;let v=(u&15)<<2|d>>6,k=d&63;c||(k=64,o||(v=64)),r.push(n[p],n[g],n[v],n[k])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const c=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||o==null||u==null||c==null)throw new EL;const d=i<<2|o>>4;if(r.push(d),u!==64){const p=o<<4&240|u>>2;if(r.push(p),c!==64){const g=u<<6&192|c;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TL=function(t){const e=dP(t);return fP.encodeByteArray(e,!0)},dg=function(t){return TL(t).replace(/\./g,"")},pP=function(t){try{return fP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _L=()=>mP().__FIREBASE_DEFAULTS__,IL=()=>{if(typeof process>"u"||typeof vE>"u")return;const t=vE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pP(t[1]);return e&&JSON.parse(e)},iy=()=>{try{return kL()||_L()||IL()||PL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gP=t=>{var e,n;return(n=(e=iy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},yP=t=>{const e=gP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vP=()=>{var t;return(t=iy())==null?void 0:t.config},wP=t=>{var e;return(e=iy())==null?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class DL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yx(t){return(await fetch(t,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dg(JSON.stringify(n)),dg(JSON.stringify(o)),""].join(".")}const Sd={};function AL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Sd))Sd[e]?t.emulator.push(e):t.prod.push(e);return t}function NL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let wE=!1;function vx(t,e){if(typeof window>"u"||typeof document>"u"||!zl(window.location.host)||Sd[t]===e||Sd[t]||wE)return;Sd[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=AL().prod.length>0;function i(){const g=document.getElementById(r);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{wE=!0,i()},g}function d(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=NL(r),v=n("text"),k=document.getElementById(v)||document.createElement("span"),_=n("learnmore"),E=document.getElementById(_)||document.createElement("a"),T=n("preprendIcon"),D=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const N=g.element;o(N),d(E,_);const R=c();u(D,T),N.append(D,k,E,R),document.body.appendChild(N)}s?(k.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ML(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function xP(){var t;const e=(t=iy())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OL(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CP(){return!xP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kP(){return!xP()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function ay(){try{return typeof indexedDB=="object"}catch{return!1}}function bx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function SP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const LL="FirebaseError";class Zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LL,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?FL(i,r):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new Zr(s,u,r)}}function FL(t,e){return t.replace(BL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const BL=/\{\$([^}]+)}/g;function UL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function so(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(bE(i)&&bE(o)){if(!so(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function bE(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function md(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function gd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function zL(t,e){const n=new VL(t,e);return n.subscribe.bind(n)}class VL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=D0),s.error===void 0&&(s.error=D0),s.complete===void 0&&(s.complete=D0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function D0(){}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $L=1e3,HL=2,KL=14400*1e3,GL=.5;function xE(t,e=$L,n=HL){const r=e*Math.pow(n,t),s=Math.round(GL*r*(Math.random()-.5)*2);return Math.min(KL,r+s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Pt(t){return t&&t._delegate?t._delegate:t}class Jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sl="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new DL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XL(e))try{this.getOrInitializeService({instanceIdentifier:sl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=sl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sl){return this.instances.has(e)}getOptions(e=sl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sl){return this.component?this.component.multipleInstances?e:sl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QL(t){return t===sl?void 0:t}function XL(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const JL={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},ZL=Ge.INFO,e5={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},t5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=e5[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oy{constructor(e){this.name=e,this._logLevel=ZL,this._logHandler=t5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const n5=(t,e)=>e.some(n=>t instanceof n);let CE,kE;function r5(){return CE||(CE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s5(){return kE||(kE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EP=new WeakMap,Uw=new WeakMap,TP=new WeakMap,A0=new WeakMap,xx=new WeakMap;function i5(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ja(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EP.set(n,t)}).catch(()=>{}),xx.set(e,t),e}function a5(t){if(Uw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Uw.set(t,e)}let zw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ja(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o5(t){zw=t(zw)}function l5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(N0(this),e,...n);return TP.set(r,e.sort?e.sort():[e]),Ja(r)}:s5().includes(t)?function(...e){return t.apply(N0(this),e),Ja(EP.get(this))}:function(...e){return Ja(t.apply(N0(this),e))}}function u5(t){return typeof t=="function"?l5(t):(t instanceof IDBTransaction&&a5(t),n5(t,r5())?new Proxy(t,zw):t)}function Ja(t){if(t instanceof IDBRequest)return i5(t);if(A0.has(t))return A0.get(t);const e=u5(t);return e!==t&&(A0.set(t,e),xx.set(e,t)),e}const N0=t=>xx.get(t);function _P(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),u=Ja(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ja(o.result),c.oldVersion,c.newVersion,Ja(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const c5=["get","getKey","getAll","getAllKeys","count"],h5=["put","add","delete","clear"],M0=new Map;function SE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(M0.get(e))return M0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=h5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||c5.includes(n)))return;const i=async function(o,...u){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),s&&c.done]))[0]};return M0.set(e,i),i}o5(t=>({...t,get:(e,n,r)=>SE(e,n)||t.get(e,n,r),has:(e,n)=>!!SE(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class d5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(f5(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function f5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vw="@firebase/app",EE="0.14.5";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zi=new oy("@firebase/app"),p5="@firebase/app-compat",m5="@firebase/analytics-compat",g5="@firebase/analytics",y5="@firebase/app-check-compat",v5="@firebase/app-check",w5="@firebase/auth",b5="@firebase/auth-compat",x5="@firebase/database",C5="@firebase/data-connect",k5="@firebase/database-compat",S5="@firebase/functions",E5="@firebase/functions-compat",T5="@firebase/installations",_5="@firebase/installations-compat",I5="@firebase/messaging",P5="@firebase/messaging-compat",D5="@firebase/performance",A5="@firebase/performance-compat",N5="@firebase/remote-config",M5="@firebase/remote-config-compat",j5="@firebase/storage",R5="@firebase/storage-compat",O5="@firebase/firestore",L5="@firebase/ai",F5="@firebase/firestore-compat",B5="firebase",U5="12.5.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qw="[DEFAULT]",z5={[Vw]:"fire-core",[p5]:"fire-core-compat",[g5]:"fire-analytics",[m5]:"fire-analytics-compat",[v5]:"fire-app-check",[y5]:"fire-app-check-compat",[w5]:"fire-auth",[b5]:"fire-auth-compat",[x5]:"fire-rtdb",[C5]:"fire-data-connect",[k5]:"fire-rtdb-compat",[S5]:"fire-fn",[E5]:"fire-fn-compat",[T5]:"fire-iid",[_5]:"fire-iid-compat",[I5]:"fire-fcm",[P5]:"fire-fcm-compat",[D5]:"fire-perf",[A5]:"fire-perf-compat",[N5]:"fire-rc",[M5]:"fire-rc-compat",[j5]:"fire-gcs",[R5]:"fire-gcs-compat",[O5]:"fire-fst",[F5]:"fire-fst-compat",[L5]:"fire-vertex","fire-js":"fire-js",[B5]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fg=new Map,V5=new Map,$w=new Map;function TE(t,e){try{t.container.addComponent(e)}catch(n){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ms(t){const e=t.name;if($w.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;$w.set(e,t);for(const n of fg.values())TE(n,t);for(const n of V5.values())TE(n,t);return!0}function mo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Er(t){return t==null?!1:t.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const q5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Za=new Vl("app","Firebase",q5);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Za.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ql=U5;function IP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:qw,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Za.create("bad-app-name",{appName:String(s)});if(n||(n=vP()),!n)throw Za.create("no-options");const i=fg.get(s);if(i){if(so(n,i.options)&&so(r,i.config))return i;throw Za.create("duplicate-app",{appName:s})}const o=new YL(s);for(const c of $w.values())o.addComponent(c);const u=new $5(n,r,o);return fg.set(s,u),u}function ly(t=qw){const e=fg.get(t);if(!e&&t===qw&&vP())return IP();if(!e)throw Za.create("no-app",{appName:t});return e}function hr(t,e,n){let r=z5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(o.join(" "));return}ms(new Jr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const H5="firebase-heartbeat-database",K5=1,Ud="firebase-heartbeat-store";let j0=null;function PP(){return j0||(j0=_P(H5,K5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ud)}catch(n){console.warn(n)}}}}).catch(t=>{throw Za.create("idb-open",{originalErrorMessage:t.message})})),j0}async function G5(t){try{const e=(await PP()).transaction(Ud),n=await e.objectStore(Ud).get(DP(t));return await e.done,n}catch(e){if(e instanceof Zr)zi.warn(e.message);else{const n=Za.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zi.warn(n.message)}}}async function _E(t,e){try{const n=(await PP()).transaction(Ud,"readwrite");await n.objectStore(Ud).put(e,DP(t)),await n.done}catch(n){if(n instanceof Zr)zi.warn(n.message);else{const r=Za.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zi.warn(r.message)}}}function DP(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const W5=1024,Q5=30;class X5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new J5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>Q5){const i=Z5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=IE(),{heartbeatsToSend:r,unsentEntries:s}=Y5(this._heartbeatsCache.heartbeats),i=dg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return zi.warn(n),""}}}function IE(){return new Date().toISOString().substring(0,10)}function Y5(t,e=W5){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),PE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),PE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class J5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ay()?bx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await G5(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return _E(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return _E(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function PE(t){return dg(JSON.stringify({version:2,heartbeats:t})).length}function Z5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function e6(t){ms(new Jr("platform-logger",e=>new d5(e),"PRIVATE")),ms(new Jr("heartbeat",e=>new X5(e),"PRIVATE")),hr(Vw,EE,t),hr(Vw,EE,"esm2020"),hr("fire-js","")}e6("");function AP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t6=AP,NP=new Vl("auth","Firebase",AP());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pg=new oy("@firebase/auth");function n6(t,...e){pg.logLevel<=Ge.WARN&&pg.warn(`Auth (${ql}): ${t}`,...e)}function Rm(t,...e){pg.logLevel<=Ge.ERROR&&pg.error(`Auth (${ql}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gs(t,...e){throw Cx(t,...e)}function Ws(t,...e){return Cx(t,...e)}function MP(t,e,n){const r={...t6(),[e]:n};return new Vl("auth","Firebase",r).create(e,{appName:t.name})}function Bi(t){return MP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NP.create(t,...e)}function Re(t,e,...n){if(!t)throw Cx(e,...n)}function Ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rm(e),new Error(e)}function Vi(t,e){t||Ri(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Hw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function r6(){return DE()==="http:"||DE()==="https:"}function DE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function s6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r6()||wx()||"connection"in navigator)?navigator.onLine:!0}function i6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vi(n>e,"Short delay should be less than long delay!"),this.isMobile=ML()||RL()}get(){return s6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kx(t,e){Vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const a6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const o6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],l6=new vf(3e4,6e4);function Yi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ji(t,e,n,r,s={}){return RP(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const u=yf({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return jL()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&zl(t.emulatorConfig.host)&&(d.credentials="include"),jP.fetch()(await OP(t,t.config.apiHost,n,u),d)})}async function RP(t,e,n){t._canInitEmulator=!1;const r={...a6,...e};try{const s=new c6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw om(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const u=i.ok?o.errorMessage:o.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw om(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw om(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw om(t,"user-disabled",o);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw MP(t,p,d);gs(t,p)}}catch(s){if(s instanceof Zr)throw s;gs(t,"network-request-failed",{message:String(s)})}}async function wf(t,e,n,r,s={}){const i=await Ji(t,e,n,r,s);return"mfaPendingCredential"in i&&gs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function OP(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?kx(t.config,s):`${t.config.apiScheme}://${s}`;return o6.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function u6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class c6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ws(this.auth,"network-request-failed")),l6.get())})}}function om(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ws(t,e,r);return s.customData._tokenResponse=n,s}function AE(t){return t!==void 0&&t.enterprise!==void 0}class h6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return u6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function d6(t,e){return Ji(t,"GET","/v2/recaptchaConfig",Yi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function f6(t,e){return Ji(t,"POST","/v1/accounts:delete",e)}async function mg(t,e){return Ji(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ed(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function p6(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),s=Sx(r);Re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ed(R0(s.auth_time)),issuedAtTime:Ed(R0(s.iat)),expirationTime:Ed(R0(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function R0(t){return Number(t)*1e3}function Sx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rm("JWT malformed, contained fewer than 3 sections"),null;try{const s=pP(n);return s?JSON.parse(s):(Rm("Failed to decode base64 JWT payload"),null)}catch(s){return Rm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function NE(t){const e=Sx(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function zd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zr&&m6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function m6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class g6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ed(this.lastLoginAt),this.creationTime=Ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function gg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await zd(t,mg(n,{idToken:r}));Re(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=(e=i.providerUserInfo)!=null&&e.length?LP(i.providerUserInfo):[],u=v6(t.providerData,o),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(u!=null&&u.length),p=c?d:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new Kw(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function y6(t){const e=Pt(t);await gg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function v6(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function LP(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function w6(t,e){const n=await RP(t,{},async()=>{const r=yf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await OP(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&zl(t.emulatorConfig.host)&&(c.credentials="include"),jP.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function b6(t,e){return Ji(t,"POST","/v2/accounts:revokeToken",Yi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=NE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await w6(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new fc;return r&&(Re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fc,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ra(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fs{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new g6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await zd(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return p6(this,e)}reload(){return y6(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(Bi(this.auth));const e=await this.getIdToken();return await zd(this,f6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:k,providerData:_,stsTokenManager:E}=n;Re(g&&E,e,"internal-error");const T=fc.fromJSON(this.name,E);Re(typeof g=="string",e,"internal-error"),Ra(r,e.name),Ra(s,e.name),Re(typeof v=="boolean",e,"internal-error"),Re(typeof k=="boolean",e,"internal-error"),Ra(i,e.name),Ra(o,e.name),Ra(u,e.name),Ra(c,e.name),Ra(d,e.name),Ra(p,e.name);const D=new fs({uid:g,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:k,photoURL:o,phoneNumber:i,tenantId:u,stsTokenManager:T,createdAt:d,lastLoginAt:p});return _&&Array.isArray(_)&&(D.providerData=_.map(N=>({...N}))),c&&(D._redirectEventId=c),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new fc;s.updateFromServerResponse(n);const i=new fs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await gg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?LP(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new fc;u.updateFromIdToken(r);const c=new fs({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Kw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ME=new Map;function Oi(t){Vi(t instanceof Function,"Expected a class definition");let e=ME.get(t);return e?(Vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ME.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FP.type="NONE";const jE=FP;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Om(t,e,n){return`firebase:${t}:${e}:${n}`}class pc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Om(this.userKey,s.apiKey,i),this.fullPersistenceKey=Om("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mg(this.auth,{idToken:e}).catch(()=>{});return n?fs._fromGetAccountInfoResponse(this.auth,n,e):null}return fs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pc(Oi(jE),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Oi(jE);const o=Om(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const p=await d._get(o);if(p){let g;if(typeof p=="string"){const v=await mg(e,{idToken:p}).catch(()=>{});if(!v)break;g=await fs._fromGetAccountInfoResponse(e,v,p)}else g=fs._fromJSON(e,p);d!==i&&(u=g),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new pc(i,e,r):(i=c[0],u&&await i._set(o,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new pc(i,e,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function RE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($P(e))return"Blackberry";if(HP(e))return"Webos";if(UP(e))return"Safari";if((e.includes("chrome/")||zP(e))&&!e.includes("edge/"))return"Chrome";if(qP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BP(t=mn()){return/firefox\//i.test(t)}function UP(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zP(t=mn()){return/crios\//i.test(t)}function VP(t=mn()){return/iemobile/i.test(t)}function qP(t=mn()){return/android/i.test(t)}function $P(t=mn()){return/blackberry/i.test(t)}function HP(t=mn()){return/webos/i.test(t)}function Ex(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function x6(t=mn()){var e;return Ex(t)&&!!((e=window.navigator)!=null&&e.standalone)}function C6(){return OL()&&document.documentMode===10}function KP(t=mn()){return Ex(t)||qP(t)||HP(t)||$P(t)||/windows phone/i.test(t)||VP(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function GP(t,e=[]){let n;switch(t){case"Browser":n=RE(mn());break;case"Worker":n=`${RE(mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ql}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class k6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,u)=>{try{const c=e(i);o(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function S6(t,e={}){return Ji(t,"GET","/v2/passwordPolicy",Yi(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const E6=6;class T6{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??E6,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OE(this),this.idTokenSubscription=new OE(this),this.beforeStateQueue=new k6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Oi(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await pc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mg(this,{idToken:e}),r=await fs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Er(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)==null?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&c!=null&&c.user&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=i6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(Bi(this));const n=e?Pt(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(Bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(Bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S6(this),n=new T6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await b6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Oi(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await pc.create(this,[Oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(u,this,"internal-error"),u.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return n!=null&&n.error&&n6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function go(t){return Pt(t)}let OE=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=zL(e=>this.observer=e)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let uy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I6(t){uy=t}function WP(t){return uy.loadJS(t)}function P6(){return uy.recaptchaEnterpriseScript}function D6(){return uy.gapiScript}function A6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class N6{constructor(){this.enterprise=new M6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class M6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const j6="recaptcha-enterprise",QP="NO_RECAPTCHA";class R6{constructor(e){this.type=j6,this.auth=go(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,u)=>{d6(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new h6(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{u(c)})})}function s(i,o,u){const c=window.grecaptcha;AE(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(QP)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new N6().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(u=>{if(!n&&AE(window.grecaptcha))s(u,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=P6();c.length!==0&&(c+=u),WP(c).then(()=>{s(u,i,o)}).catch(d=>{o(d)})}}).catch(u=>{o(u)})})}}async function LE(t,e,n,r=!1,s=!1){const i=new R6(t);let o;if(s)o=QP;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function yg(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await LE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await LE(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(o)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function O6(t,e){const n=mo(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(so(s,e??{}))return r;gs(r,"already-initialized")}return n.initialize({options:e})}function L6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Oi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function F6(t,e,n){const r=go(t);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=XP(e),{host:o,port:u}=B6(e),c=u===null?"":`:${u}`,d={url:`${i}//${o}${c}/`},p=Object.freeze({host:o,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(so(d,r.config.emulator)&&so(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,zl(o)?(yx(`${i}//${o}${c}`),vx("Auth",!0)):U6()}function XP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function B6(t){const e=XP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:FE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:FE(o)}}}function FE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function U6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,n){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}async function z6(t,e){return Ji(t,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function V6(t,e){return wf(t,"POST","/v1/accounts:signInWithPassword",Yi(t,e))}async function q6(t,e){return Ji(t,"POST","/v1/accounts:sendOobCode",Yi(t,e))}async function $6(t,e){return q6(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function H6(t,e){return wf(t,"POST","/v1/accounts:signInWithEmailLink",Yi(t,e))}async function K6(t,e){return wf(t,"POST","/v1/accounts:signInWithEmailLink",Yi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vd extends Tx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Vd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yg(e,n,"signInWithPassword",V6);case"emailLink":return H6(e,{email:this._email,oobCode:this._password});default:gs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yg(e,r,"signUpPassword",z6);case"emailLink":return K6(e,{idToken:n,email:this._email,oobCode:this._password});default:gs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function mc(t,e){return wf(t,"POST","/v1/accounts:signInWithIdp",Yi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const G6="http://localhost";class Tl extends Tx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Tl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Tl(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return mc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,mc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mc(e,n)}buildRequest(){const e={requestUri:G6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yf(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function W6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Q6(t){const e=md(gd(t)).link,n=e?md(gd(e)).deep_link_id:null,r=md(gd(t)).deep_link_id;return(r?md(gd(r)).link:null)||r||n||e||t}class _x{constructor(e){const n=md(gd(e)),r=n.apiKey??null,s=n.oobCode??null,i=W6(n.mode??null);Re(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Q6(e);try{return new _x(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fc{constructor(){this.providerId=Fc.PROVIDER_ID}static credential(e,n){return Vd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=_x.parseLink(n);return Re(r,"argument-error"),Vd._fromEmailAndCode(e,r.code,r.tenantId)}}Fc.PROVIDER_ID="password";Fc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bf extends YP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ka extends bf{constructor(){super("facebook.com")}static credential(e){return Tl._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ka.credential(e.oauthAccessToken)}catch{return null}}}Ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ka.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ga extends bf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Tl._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ga.credential(n,r)}catch{return null}}}Ga.GOOGLE_SIGN_IN_METHOD="google.com";Ga.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wa extends bf{constructor(){super("github.com")}static credential(e){return Tl._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wa.credential(e.oauthAccessToken)}catch{return null}}}Wa.GITHUB_SIGN_IN_METHOD="github.com";Wa.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qa extends bf{constructor(){super("twitter.com")}static credential(e,n){return Tl._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qa.credential(n,r)}catch{return null}}}Qa.TWITTER_SIGN_IN_METHOD="twitter.com";Qa.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function X6(t,e){return wf(t,"POST","/v1/accounts:signUp",Yi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _l{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await fs._fromIdTokenResponse(e,r,s),o=BE(r);return new _l({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=BE(r);return new _l({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function BE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vg extends Zr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,vg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new vg(e,n,r,s)}}function JP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?vg._fromErrorAndOperation(t,s,e,r):s})}async function Y6(t,e,n=!1){const r=await zd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _l._forOperation(t,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function J6(t,e,n=!1){const{auth:r}=t;if(Er(r.app))return Promise.reject(Bi(r));const s="reauthenticate";try{const i=await zd(t,JP(r,s,e,t),n);Re(i.idToken,r,"internal-error");const o=Sx(i.idToken);Re(o,r,"internal-error");const{sub:u}=o;return Re(t.uid===u,r,"user-mismatch"),_l._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&gs(r,"user-mismatch"),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ZP(t,e,n=!1){if(Er(t.app))return Promise.reject(Bi(t));const r="signIn",s=await JP(t,r,e),i=await _l._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Z6(t,e){return ZP(go(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function eD(t){const e=go(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eF(t,e,n){const r=go(t);await yg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",$6)}async function tF(t,e,n){if(Er(t.app))return Promise.reject(Bi(t));const r=go(t),s=await yg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",X6).catch(o=>{throw o.code==="auth/password-does-not-meet-requirements"&&eD(t),o}),i=await _l._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}function nF(t,e,n){return Er(t.app)?Promise.reject(Bi(t)):Z6(Pt(t),Fc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eD(t),r})}function rF(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function sF(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function iF(t,e,n,r){return Pt(t).onAuthStateChanged(e,n,r)}function aF(t){return Pt(t).signOut()}const wg="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wg,"1"),this.storage.removeItem(wg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const oF=1e3,lF=10;class nD extends tD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);C6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,lF):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nD.type="LOCAL";const uF=nD;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rD extends tD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rD.type="SESSION";const sD=rD;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function cF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new cy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(o).map(async d=>d(n.origin,i)),c=await cF(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cy.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ix(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((u,c)=>{const d=Ix("",20);s.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(g){const v=g;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(v.data.response);break;default:clearTimeout(p),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Qs(){return window}function dF(t){Qs().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function iD(){return typeof Qs().WorkerGlobalScope<"u"&&typeof Qs().importScripts=="function"}async function fF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function mF(){return iD()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aD="firebaseLocalStorageDb",gF=1,bg="firebaseLocalStorage",oD="fbase_key";class xf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hy(t,e){return t.transaction([bg],e?"readwrite":"readonly").objectStore(bg)}function yF(){const t=indexedDB.deleteDatabase(aD);return new xf(t).toPromise()}function Gw(){const t=indexedDB.open(aD,gF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bg,{keyPath:oD})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bg)?e(r):(r.close(),await yF(),e(await Gw()))})})}async function UE(t,e,n){const r=hy(t,!0).put({[oD]:e,value:n});return new xf(r).toPromise()}async function vF(t,e){const n=hy(t,!1).get(e),r=await new xf(n).toPromise();return r===void 0?null:r.value}function zE(t,e){const n=hy(t,!0).delete(e);return new xf(n).toPromise()}const wF=800,bF=3;class lD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cy._getInstance(mF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fF(),!this.activeServiceWorker)return;this.sender=new hF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(e=r[0])!=null&&e.fulfilled&&(n=r[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gw();return await UE(e,wg,"1"),await zE(e,wg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>UE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=hy(s,!1).getAll();return new xf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lD.type="LOCAL";const xF=lD;new vf(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function CF(t,e){return e?Oi(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Px extends Tx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kF(t){return ZP(t.auth,new Px(t),t.bypassAuthState)}function SF(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),J6(n,new Px(t),t.bypassAuthState)}async function EF(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),Y6(n,new Px(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uD{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:u}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kF;case"linkViaPopup":case"linkViaRedirect":return EF;case"reauthViaPopup":case"reauthViaRedirect":return SF;default:gs(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const TF=new vf(2e3,1e4);class oc extends uD{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,oc.currentPopupAction&&oc.currentPopupAction.cancel(),oc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=Ix();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TF.get())};e()}}oc.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _F="pendingRedirect",Lm=new Map;class IF extends uD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Lm.get(this.auth._key());if(!e){try{const n=await PF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}Lm.set(this.auth._key(),e)}return this.bypassAuthState||Lm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PF(t,e){const n=NF(e),r=AF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function DF(t,e){Lm.set(t._key(),e)}function AF(t){return Oi(t._redirectPersistence)}function NF(t){return Om(_F,t.config.apiKey,t.name)}async function MF(t,e,n=!1){if(Er(t.app))return Promise.reject(Bi(t));const r=go(t),s=CF(r,e),i=await new IF(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jF=600*1e3;class RF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cD(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ws(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jF&&this.cachedEventUids.clear(),this.cachedEventUids.has(VE(e))}saveEventToCache(e){this.cachedEventUids.add(VE(e)),this.lastProcessedEventTime=Date.now()}}function VE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cD(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function LF(t,e={}){return Ji(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const FF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BF=/^https?/;async function UF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LF(t);for(const n of e)try{if(zF(n))return}catch{}gs(t,"unauthorized-domain")}function zF(t){const e=Hw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!BF.test(n))return!1;if(FF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const VF=new vf(3e4,6e4);function qE(){const t=Qs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qF(t){return new Promise((e,n)=>{var r,s,i;function o(){qE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qE(),n(Ws(t,"network-request-failed"))},timeout:VF.get()})}if((s=(r=Qs().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((i=Qs().gapi)!=null&&i.load)o();else{const u=A6("iframefcb");return Qs()[u]=()=>{gapi.load?o():n(Ws(t,"network-request-failed"))},WP(`${D6()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Fm=null,e})}let Fm=null;function $F(t){return Fm=Fm||qF(t),Fm}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const HF=new vf(5e3,15e3),KF="__/auth/iframe",GF="emulator/auth/iframe",WF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XF(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kx(e,GF):`https://${t.config.authDomain}/${KF}`,r={apiKey:e.apiKey,appName:t.name,v:ql},s=QF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${yf(r).slice(1)}`}async function YF(t){const e=await $F(t),n=Qs().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:XF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Ws(t,"network-request-failed"),u=Qs().setTimeout(()=>{i(o)},HF.get());function c(){Qs().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const JF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZF=500,eB=600,tB="_blank",nB="http://localhost";class $E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rB(t,e,n,r=ZF,s=eB){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...JF,width:r.toString(),height:s.toString(),top:i,left:o},d=mn().toLowerCase();n&&(u=zP(d)?tB:n),BP(d)&&(e=e||nB,c.scrollbars="yes");const p=Object.entries(c).reduce((v,[k,_])=>`${v}${k}=${_},`,"");if(x6(d)&&u!=="_self")return sB(e||"",u),new $E(null);const g=window.open(e||"",u,p);Re(g,t,"popup-blocked");try{g.focus()}catch{}return new $E(g)}function sB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iB="__/auth/handler",aB="emulator/auth/handler",oB=encodeURIComponent("fac");async function HE(t,e,n,r,s,i){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ql,eventId:s};if(e instanceof YP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",UL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(e instanceof bf){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await t._getAppCheckToken(),d=c?`#${oB}=${encodeURIComponent(c)}`:"";return`${lB(t)}?${yf(u).slice(1)}${d}`}function lB({config:t}){return t.emulator?kx(t,aB):`https://${t.authDomain}/${iB}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const O0="webStorageSupport";class uB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sD,this._completeRedirectFn=MF,this._overrideRedirectResult=DF}async _openPopup(e,n,r,s){var i;Vi((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await HE(e,n,r,Hw(),s);return rB(e,o,Ix())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await HE(e,n,r,Hw(),s);return dF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Vi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await YF(e),r=new RF(e);return n.register("authEvent",s=>(Re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(O0,{type:O0},r=>{var s;const i=(s=r==null?void 0:r[0])==null?void 0:s[O0];i!==void 0&&n(!!i),gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KP()||UP()||Ex()}}const cB=uB;var KE="@firebase/auth",GE="1.11.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fB(t){ms(new Jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;Re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GP(t)},d=new _6(r,s,i,c);return L6(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ms(new Jr("auth-internal",e=>{const n=go(e.getProvider("auth").getImmediate());return(r=>new hB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(KE,GE,dB(t)),hr(KE,GE,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pB=300,mB=wP("authIdTokenMaxAge")||pB;let WE=null;const gB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mB)return;const s=n==null?void 0:n.token;WE!==s&&(WE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function dy(t=ly()){const e=mo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=O6(t,{popupRedirectResolver:cB,persistence:[xF,uF,sD]}),r=wP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=gB(i.toString());sF(n,o,()=>o(n.currentUser)),rF(n,u=>o(u))}}const s=gP("auth");return s&&F6(n,`http://${s}`),n}function yB(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}I6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ws("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",yB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fB("Browser");var vB="firebase",wB="12.5.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/hr(vB,wB,"app");var QE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eo,hD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,I){function A(){}A.prototype=I.prototype,M.F=I.prototype,M.prototype=new A,M.prototype.constructor=M,M.D=function(O,B,q){for(var L=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)L[Se-2]=arguments[Se];return I.prototype[B].apply(O,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,I,A){A||(A=0);const O=Array(16);if(typeof I=="string")for(var B=0;B<16;++B)O[B]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(B=0;B<16;++B)O[B]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=M.g[0],A=M.g[1],B=M.g[2];let q=M.g[3],L;L=I+(q^A&(B^q))+O[0]+3614090360&4294967295,I=A+(L<<7&4294967295|L>>>25),L=q+(B^I&(A^B))+O[1]+3905402710&4294967295,q=I+(L<<12&4294967295|L>>>20),L=B+(A^q&(I^A))+O[2]+606105819&4294967295,B=q+(L<<17&4294967295|L>>>15),L=A+(I^B&(q^I))+O[3]+3250441966&4294967295,A=B+(L<<22&4294967295|L>>>10),L=I+(q^A&(B^q))+O[4]+4118548399&4294967295,I=A+(L<<7&4294967295|L>>>25),L=q+(B^I&(A^B))+O[5]+1200080426&4294967295,q=I+(L<<12&4294967295|L>>>20),L=B+(A^q&(I^A))+O[6]+2821735955&4294967295,B=q+(L<<17&4294967295|L>>>15),L=A+(I^B&(q^I))+O[7]+4249261313&4294967295,A=B+(L<<22&4294967295|L>>>10),L=I+(q^A&(B^q))+O[8]+1770035416&4294967295,I=A+(L<<7&4294967295|L>>>25),L=q+(B^I&(A^B))+O[9]+2336552879&4294967295,q=I+(L<<12&4294967295|L>>>20),L=B+(A^q&(I^A))+O[10]+4294925233&4294967295,B=q+(L<<17&4294967295|L>>>15),L=A+(I^B&(q^I))+O[11]+2304563134&4294967295,A=B+(L<<22&4294967295|L>>>10),L=I+(q^A&(B^q))+O[12]+1804603682&4294967295,I=A+(L<<7&4294967295|L>>>25),L=q+(B^I&(A^B))+O[13]+4254626195&4294967295,q=I+(L<<12&4294967295|L>>>20),L=B+(A^q&(I^A))+O[14]+2792965006&4294967295,B=q+(L<<17&4294967295|L>>>15),L=A+(I^B&(q^I))+O[15]+1236535329&4294967295,A=B+(L<<22&4294967295|L>>>10),L=I+(B^q&(A^B))+O[1]+4129170786&4294967295,I=A+(L<<5&4294967295|L>>>27),L=q+(A^B&(I^A))+O[6]+3225465664&4294967295,q=I+(L<<9&4294967295|L>>>23),L=B+(I^A&(q^I))+O[11]+643717713&4294967295,B=q+(L<<14&4294967295|L>>>18),L=A+(q^I&(B^q))+O[0]+3921069994&4294967295,A=B+(L<<20&4294967295|L>>>12),L=I+(B^q&(A^B))+O[5]+3593408605&4294967295,I=A+(L<<5&4294967295|L>>>27),L=q+(A^B&(I^A))+O[10]+38016083&4294967295,q=I+(L<<9&4294967295|L>>>23),L=B+(I^A&(q^I))+O[15]+3634488961&4294967295,B=q+(L<<14&4294967295|L>>>18),L=A+(q^I&(B^q))+O[4]+3889429448&4294967295,A=B+(L<<20&4294967295|L>>>12),L=I+(B^q&(A^B))+O[9]+568446438&4294967295,I=A+(L<<5&4294967295|L>>>27),L=q+(A^B&(I^A))+O[14]+3275163606&4294967295,q=I+(L<<9&4294967295|L>>>23),L=B+(I^A&(q^I))+O[3]+4107603335&4294967295,B=q+(L<<14&4294967295|L>>>18),L=A+(q^I&(B^q))+O[8]+1163531501&4294967295,A=B+(L<<20&4294967295|L>>>12),L=I+(B^q&(A^B))+O[13]+2850285829&4294967295,I=A+(L<<5&4294967295|L>>>27),L=q+(A^B&(I^A))+O[2]+4243563512&4294967295,q=I+(L<<9&4294967295|L>>>23),L=B+(I^A&(q^I))+O[7]+1735328473&4294967295,B=q+(L<<14&4294967295|L>>>18),L=A+(q^I&(B^q))+O[12]+2368359562&4294967295,A=B+(L<<20&4294967295|L>>>12),L=I+(A^B^q)+O[5]+4294588738&4294967295,I=A+(L<<4&4294967295|L>>>28),L=q+(I^A^B)+O[8]+2272392833&4294967295,q=I+(L<<11&4294967295|L>>>21),L=B+(q^I^A)+O[11]+1839030562&4294967295,B=q+(L<<16&4294967295|L>>>16),L=A+(B^q^I)+O[14]+4259657740&4294967295,A=B+(L<<23&4294967295|L>>>9),L=I+(A^B^q)+O[1]+2763975236&4294967295,I=A+(L<<4&4294967295|L>>>28),L=q+(I^A^B)+O[4]+1272893353&4294967295,q=I+(L<<11&4294967295|L>>>21),L=B+(q^I^A)+O[7]+4139469664&4294967295,B=q+(L<<16&4294967295|L>>>16),L=A+(B^q^I)+O[10]+3200236656&4294967295,A=B+(L<<23&4294967295|L>>>9),L=I+(A^B^q)+O[13]+681279174&4294967295,I=A+(L<<4&4294967295|L>>>28),L=q+(I^A^B)+O[0]+3936430074&4294967295,q=I+(L<<11&4294967295|L>>>21),L=B+(q^I^A)+O[3]+3572445317&4294967295,B=q+(L<<16&4294967295|L>>>16),L=A+(B^q^I)+O[6]+76029189&4294967295,A=B+(L<<23&4294967295|L>>>9),L=I+(A^B^q)+O[9]+3654602809&4294967295,I=A+(L<<4&4294967295|L>>>28),L=q+(I^A^B)+O[12]+3873151461&4294967295,q=I+(L<<11&4294967295|L>>>21),L=B+(q^I^A)+O[15]+530742520&4294967295,B=q+(L<<16&4294967295|L>>>16),L=A+(B^q^I)+O[2]+3299628645&4294967295,A=B+(L<<23&4294967295|L>>>9),L=I+(B^(A|~q))+O[0]+4096336452&4294967295,I=A+(L<<6&4294967295|L>>>26),L=q+(A^(I|~B))+O[7]+1126891415&4294967295,q=I+(L<<10&4294967295|L>>>22),L=B+(I^(q|~A))+O[14]+2878612391&4294967295,B=q+(L<<15&4294967295|L>>>17),L=A+(q^(B|~I))+O[5]+4237533241&4294967295,A=B+(L<<21&4294967295|L>>>11),L=I+(B^(A|~q))+O[12]+1700485571&4294967295,I=A+(L<<6&4294967295|L>>>26),L=q+(A^(I|~B))+O[3]+2399980690&4294967295,q=I+(L<<10&4294967295|L>>>22),L=B+(I^(q|~A))+O[10]+4293915773&4294967295,B=q+(L<<15&4294967295|L>>>17),L=A+(q^(B|~I))+O[1]+2240044497&4294967295,A=B+(L<<21&4294967295|L>>>11),L=I+(B^(A|~q))+O[8]+1873313359&4294967295,I=A+(L<<6&4294967295|L>>>26),L=q+(A^(I|~B))+O[15]+4264355552&4294967295,q=I+(L<<10&4294967295|L>>>22),L=B+(I^(q|~A))+O[6]+2734768916&4294967295,B=q+(L<<15&4294967295|L>>>17),L=A+(q^(B|~I))+O[13]+1309151649&4294967295,A=B+(L<<21&4294967295|L>>>11),L=I+(B^(A|~q))+O[4]+4149444226&4294967295,I=A+(L<<6&4294967295|L>>>26),L=q+(A^(I|~B))+O[11]+3174756917&4294967295,q=I+(L<<10&4294967295|L>>>22),L=B+(I^(q|~A))+O[2]+718787259&4294967295,B=q+(L<<15&4294967295|L>>>17),L=A+(q^(B|~I))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(B+(L<<21&4294967295|L>>>11))&4294967295,M.g[2]=M.g[2]+B&4294967295,M.g[3]=M.g[3]+q&4294967295}r.prototype.v=function(M,I){I===void 0&&(I=M.length);const A=I-this.blockSize,O=this.C;let B=this.h,q=0;for(;q<I;){if(B==0)for(;q<=A;)s(this,M,q),q+=this.blockSize;if(typeof M=="string"){for(;q<I;)if(O[B++]=M.charCodeAt(q++),B==this.blockSize){s(this,O),B=0;break}}else for(;q<I;)if(O[B++]=M[q++],B==this.blockSize){s(this,O),B=0;break}}this.h=B,this.o+=I},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;I=this.o*8;for(var A=M.length-8;A<M.length;++A)M[A]=I&255,I/=256;for(this.v(M),M=Array(16),I=0,A=0;A<4;++A)for(let O=0;O<32;O+=8)M[I++]=this.g[A]>>>O&255;return M};function i(M,I){var A=u;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=I(M)}function o(M,I){this.h=I;const A=[];let O=!0;for(let B=M.length-1;B>=0;B--){const q=M[B]|0;O&&q==I||(A[B]=q,O=!1)}this.g=A}var u={};function c(M){return-128<=M&&M<128?i(M,function(I){return new o([I|0],I<0?-1:0)}):new o([M|0],M<0?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return g;if(M<0)return T(d(-M));const I=[];let A=1;for(let O=0;M>=A;O++)I[O]=M/A|0,A*=4294967296;return new o(I,0)}function p(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return T(p(M.substring(1),I));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=d(Math.pow(I,8));let O=g;for(let q=0;q<M.length;q+=8){var B=Math.min(8,M.length-q);const L=parseInt(M.substring(q,q+B),I);B<8?(B=d(Math.pow(I,B)),O=O.j(B).add(d(L))):(O=O.j(A),O=O.add(d(L)))}return O}var g=c(0),v=c(1),k=c(16777216);t=o.prototype,t.m=function(){if(E(this))return-T(this).m();let M=0,I=1;for(let A=0;A<this.g.length;A++){const O=this.i(A);M+=(O>=0?O:4294967296+O)*I,I*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(_(this))return"0";if(E(this))return"-"+T(this).toString(M);const I=d(Math.pow(M,6));var A=this;let O="";for(;;){const B=U(A,I).g;A=D(A,B.j(I));let q=((A.g.length>0?A.g[0]:A.h)>>>0).toString(M);if(A=B,_(A))return q+O;for(;q.length<6;)q="0"+q;O=q+O}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function _(M){if(M.h!=0)return!1;for(let I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function E(M){return M.h==-1}t.l=function(M){return M=D(this,M),E(M)?-1:_(M)?0:1};function T(M){const I=M.g.length,A=[];for(let O=0;O<I;O++)A[O]=~M.g[O];return new o(A,~M.h).add(v)}t.abs=function(){return E(this)?T(this):this},t.add=function(M){const I=Math.max(this.g.length,M.g.length),A=[];let O=0;for(let B=0;B<=I;B++){let q=O+(this.i(B)&65535)+(M.i(B)&65535),L=(q>>>16)+(this.i(B)>>>16)+(M.i(B)>>>16);O=L>>>16,q&=65535,L&=65535,A[B]=L<<16|q}return new o(A,A[A.length-1]&-2147483648?-1:0)};function D(M,I){return M.add(T(I))}t.j=function(M){if(_(this)||_(M))return g;if(E(this))return E(M)?T(this).j(T(M)):T(T(this).j(M));if(E(M))return T(this.j(T(M)));if(this.l(k)<0&&M.l(k)<0)return d(this.m()*M.m());const I=this.g.length+M.g.length,A=[];for(var O=0;O<2*I;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(let B=0;B<M.g.length;B++){const q=this.i(O)>>>16,L=this.i(O)&65535,Se=M.i(B)>>>16,Ne=M.i(B)&65535;A[2*O+2*B]+=L*Ne,N(A,2*O+2*B),A[2*O+2*B+1]+=q*Ne,N(A,2*O+2*B+1),A[2*O+2*B+1]+=L*Se,N(A,2*O+2*B+1),A[2*O+2*B+2]+=q*Se,N(A,2*O+2*B+2)}for(M=0;M<I;M++)A[M]=A[2*M+1]<<16|A[2*M];for(M=I;M<2*I;M++)A[M]=0;return new o(A,0)};function N(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function R(M,I){this.g=M,this.h=I}function U(M,I){if(_(I))throw Error("division by zero");if(_(M))return new R(g,g);if(E(M))return I=U(T(M),I),new R(T(I.g),T(I.h));if(E(I))return I=U(M,T(I)),new R(T(I.g),I.h);if(M.g.length>30){if(E(M)||E(I))throw Error("slowDivide_ only works with positive integers.");for(var A=v,O=I;O.l(M)<=0;)A=V(A),O=V(O);var B=K(A,1),q=K(O,1);for(O=K(O,2),A=K(A,2);!_(O);){var L=q.add(O);L.l(M)<=0&&(B=B.add(A),q=L),O=K(O,1),A=K(A,1)}return I=D(M,B.j(I)),new R(B,I)}for(B=g;M.l(I)>=0;){for(A=Math.max(1,Math.floor(M.m()/I.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),q=d(A),L=q.j(I);E(L)||L.l(M)>0;)A-=O,q=d(A),L=q.j(I);_(q)&&(q=v),B=B.add(q),M=D(M,L)}return new R(B,M)}t.B=function(M){return U(this,M).h},t.and=function(M){const I=Math.max(this.g.length,M.g.length),A=[];for(let O=0;O<I;O++)A[O]=this.i(O)&M.i(O);return new o(A,this.h&M.h)},t.or=function(M){const I=Math.max(this.g.length,M.g.length),A=[];for(let O=0;O<I;O++)A[O]=this.i(O)|M.i(O);return new o(A,this.h|M.h)},t.xor=function(M){const I=Math.max(this.g.length,M.g.length),A=[];for(let O=0;O<I;O++)A[O]=this.i(O)^M.i(O);return new o(A,this.h^M.h)};function V(M){const I=M.g.length+1,A=[];for(let O=0;O<I;O++)A[O]=M.i(O)<<1|M.i(O-1)>>>31;return new o(A,M.h)}function K(M,I){const A=I>>5;I%=32;const O=M.g.length-A,B=[];for(let q=0;q<O;q++)B[q]=I>0?M.i(q+A)>>>I|M.i(q+A+1)<<32-I:M.i(q+A);return new o(B,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,hD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,eo=o}).apply(typeof QE<"u"?QE:typeof self<"u"?self:typeof window<"u"?window:{});var lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dD,yd,fD,Bm,Ww,pD,mD,gD;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof lm=="object"&&lm];for(var b=0;b<f.length;++b){var S=f[b];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(f,b){if(b)e:{var S=r;f=f.split(".");for(var j=0;j<f.length-1;j++){var Y=f[j];if(!(Y in S))break e;S=S[Y]}f=f[f.length-1],j=S[f],b=b(j),b!=j&&b!=null&&e(S,f,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(b){var S=[],j;for(j in b)Object.prototype.hasOwnProperty.call(b,j)&&S.push([j,b[j]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function u(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function c(f,b,S){return f.call.apply(f.bind,arguments)}function d(f,b,S){return d=c,d.apply(null,arguments)}function p(f,b){var S=Array.prototype.slice.call(arguments,1);return function(){var j=S.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function g(f,b){function S(){}S.prototype=b.prototype,f.Z=b.prototype,f.prototype=new S,f.prototype.constructor=f,f.Ob=function(j,Y,ee){for(var he=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)he[Ve-2]=arguments[Ve];return b.prototype[Y].apply(j,he)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function k(f){const b=f.length;if(b>0){const S=Array(b);for(let j=0;j<b;j++)S[j]=f[j];return S}return[]}function _(f,b){for(let j=1;j<arguments.length;j++){const Y=arguments[j];var S=typeof Y;if(S=S!="object"?S:Y?Array.isArray(Y)?"array":S:"null",S=="array"||S=="object"&&typeof Y.length=="number"){S=f.length||0;const ee=Y.length||0;f.length=S+ee;for(let he=0;he<ee;he++)f[S+he]=Y[he]}else f.push(Y)}}class E{constructor(b,S){this.i=b,this.j=S,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function T(f){o.setTimeout(()=>{throw f},0)}function D(){var f=M;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class N{constructor(){this.h=this.g=null}add(b,S){const j=R.get();j.set(b,S),this.h?this.h.next=j:this.g=j,this.h=j}}var R=new E(()=>new U,f=>f.reset());class U{constructor(){this.next=this.g=this.h=null}set(b,S){this.h=b,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let V,K=!1,M=new N,I=()=>{const f=Promise.resolve(void 0);V=()=>{f.then(A)}};function A(){for(var f;f=D();){try{f.h.call(f.g)}catch(S){T(S)}var b=R;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}K=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};o.addEventListener("test",S,b),o.removeEventListener("test",S,b)}catch{}return f})();function L(f){return/^[\s\xa0]*$/.test(f)}function Se(f,b){B.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}g(Se,B),Se.prototype.init=function(f,b){const S=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(S=="mouseover"?b=f.fromElement:S=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),ye=0;function ve(f,b,S,j,Y){this.listener=f,this.proxy=null,this.src=b,this.type=S,this.capture=!!j,this.ha=Y,this.key=++ye,this.da=this.fa=!1}function W(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ne(f,b,S){for(const j in f)b.call(S,f[j],j,f)}function ae(f,b){for(const S in f)b.call(void 0,f[S],S,f)}function G(f){const b={};for(const S in f)b[S]=f[S];return b}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(f,b){let S,j;for(let Y=1;Y<arguments.length;Y++){j=arguments[Y];for(S in j)f[S]=j[S];for(let ee=0;ee<re.length;ee++)S=re[ee],Object.prototype.hasOwnProperty.call(j,S)&&(f[S]=j[S])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,b,S,j,Y){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const he=ze(f,b,j,Y);return he>-1?(b=f[he],S||(b.fa=!1)):(b=new ve(b,this.src,ee,!!j,Y),b.fa=S,f.push(b)),b};function Me(f,b){const S=b.type;if(S in f.g){var j=f.g[S],Y=Array.prototype.indexOf.call(j,b,void 0),ee;(ee=Y>=0)&&Array.prototype.splice.call(j,Y,1),ee&&(W(b),f.g[S].length==0&&(delete f.g[S],f.h--))}}function ze(f,b,S,j){for(let Y=0;Y<f.length;++Y){const ee=f[Y];if(!ee.da&&ee.listener==b&&ee.capture==!!S&&ee.ha==j)return Y}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),qe={};function Ue(f,b,S,j,Y){if(Array.isArray(b)){for(let ee=0;ee<b.length;ee++)Ue(f,b[ee],S,j,Y);return null}return S=bo(S),f&&f[Ne]?f.J(b,S,u(j)?!!j.capture:!1,Y):pt(f,b,S,!1,j,Y)}function pt(f,b,S,j,Y,ee){if(!b)throw Error("Invalid event type");const he=u(Y)?!!Y.capture:!!Y;let Ve=sa(f);if(Ve||(f[Ie]=Ve=new me(f)),S=Ve.add(b,S,j,he,ee),S.proxy)return S;if(j=Dr(),S.proxy=j,j.src=f,j.listener=S,f.addEventListener)q||(Y=he),Y===void 0&&(Y=!1),f.addEventListener(b.toString(),j,Y);else if(f.attachEvent)f.attachEvent(ra(b.toString()),j);else if(f.addListener&&f.removeListener)f.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Dr(){function f(S){return b.call(f.src,f.listener,S)}const b=Xl;return f}function Ar(f,b,S,j,Y){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)Ar(f,b[ee],S,j,Y);else j=u(j)?!!j.capture:!!j,S=bo(S),f&&f[Ne]?(f=f.i,ee=String(b).toString(),ee in f.g&&(b=f.g[ee],S=ze(b,S,j,Y),S>-1&&(W(b[S]),Array.prototype.splice.call(b,S,1),b.length==0&&(delete f.g[ee],f.h--)))):f&&(f=sa(f))&&(b=f.g[b.toString()],f=-1,b&&(f=ze(b,S,j,Y)),(S=f>-1?b[f]:null)&&Zn(S))}function Zn(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Ne])Me(b.i,f);else{var S=f.type,j=f.proxy;b.removeEventListener?b.removeEventListener(S,j,f.capture):b.detachEvent?b.detachEvent(ra(S),j):b.addListener&&b.removeListener&&b.removeListener(j),(S=sa(b))?(Me(S,f),S.h==0&&(S.src=null,b[Ie]=null)):W(f)}}}function ra(f){return f in qe?qe[f]:qe[f]="on"+f}function Xl(f,b){if(f.da)f=!0;else{b=new Se(b,this);const S=f.listener,j=f.ha||f.src;f.fa&&Zn(f),f=S.call(j,b)}return f}function sa(f){return f=f[Ie],f instanceof me?f:null}var di="__closure_events_fn_"+(Math.random()*1e9>>>0);function bo(f){return typeof f=="function"?f:(f[di]||(f[di]=function(b){return f.handleEvent(b)}),f[di])}function mt(){O.call(this),this.i=new me(this),this.M=this,this.G=null}g(mt,O),mt.prototype[Ne]=!0,mt.prototype.removeEventListener=function(f,b,S,j){Ar(this,f,b,S,j)};function Yt(f,b){var S,j=f.G;if(j)for(S=[];j;j=j.G)S.push(j);if(f=f.M,j=b.type||b,typeof b=="string")b=new B(b,f);else if(b instanceof B)b.target=b.target||f;else{var Y=b;b=new B(j,f),pe(b,Y)}Y=!0;let ee,he;if(S)for(he=S.length-1;he>=0;he--)ee=b.g=S[he],Y=es(ee,j,!0,b)&&Y;if(ee=b.g=f,Y=es(ee,j,!0,b)&&Y,Y=es(ee,j,!1,b)&&Y,S)for(he=0;he<S.length;he++)ee=b.g=S[he],Y=es(ee,j,!1,b)&&Y}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const S=f.g[b];for(let j=0;j<S.length;j++)W(S[j]);delete f.g[b],f.h--}}this.G=null},mt.prototype.J=function(f,b,S,j){return this.i.add(String(f),b,!1,S,j)},mt.prototype.K=function(f,b,S,j){return this.i.add(String(f),b,!0,S,j)};function es(f,b,S,j){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let Y=!0;for(let ee=0;ee<b.length;++ee){const he=b[ee];if(he&&!he.da&&he.capture==S){const Ve=he.listener,Jt=he.ha||he.src;he.fa&&Me(f.i,he),Y=Ve.call(Jt,j)!==!1&&Y}}return Y&&!j.defaultPrevented}function Zc(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:o.setTimeout(f,b||0)}function eh(f){f.g=Zc(()=>{f.g=null,f.i&&(f.i=!1,eh(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Kf extends O{constructor(b,S){super(),this.m=b,this.l=S,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:eh(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ia(f){O.call(this),this.h=f,this.g={}}g(ia,O);var th=[];function Yl(f){ne(f.g,function(b,S){this.g.hasOwnProperty(S)&&Zn(b)},f),f.g={}}ia.prototype.N=function(){ia.Z.N.call(this),Yl(this)},ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var aa=o.JSON.stringify,Gf=o.JSON.parse,xo=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function oa(){}function Wf(){}var la={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jl(){B.call(this,"d")}g(Jl,B);function nh(){B.call(this,"c")}g(nh,B);var ts={},Zl=null;function ua(){return Zl=Zl||new mt}ts.Ia="serverreachability";function eu(f){B.call(this,ts.Ia,f)}g(eu,B);function fi(f){const b=ua();Yt(b,new eu(b))}ts.STAT_EVENT="statevent";function pi(f,b){B.call(this,ts.STAT_EVENT,f),this.stat=b}g(pi,B);function Dt(f){const b=ua();Yt(b,new pi(b,f))}ts.Ja="timingevent";function rh(f,b){B.call(this,ts.Ja,f),this.size=b}g(rh,B);function ca(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},b)}function ha(){this.g=!0}ha.prototype.ua=function(){this.g=!1};function Qf(f,b,S,j,Y,ee){f.info(function(){if(f.g)if(ee){var he="",Ve=ee.split("&");for(let ht=0;ht<Ve.length;ht++){var Jt=Ve[ht].split("=");if(Jt.length>1){const sn=Jt[0];Jt=Jt[1];const vr=sn.split("_");he=vr.length>=2&&vr[1]=="type"?he+(sn+"="+Jt+"&"):he+(sn+"=redacted&")}}}else he=null;else he=ee;return"XMLHTTP REQ ("+j+") [attempt "+Y+"]: "+b+`
`+S+`
`+he})}function Xf(f,b,S,j,Y,ee,he){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+Y+"]: "+b+`
`+S+`
`+ee+" "+he})}function ks(f,b,S,j){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Co(f,S)+(j?" "+j:"")})}function Yf(f,b){f.info(function(){return"TIMEOUT: "+b})}ha.prototype.info=function(){};function Co(f,b){if(!f.g)return b;if(!b)return null;try{const ee=JSON.parse(b);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var S=ee[f];if(!(S.length<2)){var j=S[1];if(Array.isArray(j)&&!(j.length<1)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let he=1;he<j.length;he++)j[he]=""}}}}return aa(ee)}catch{return b}}var da={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jf;function mi(){}g(mi,oa),mi.prototype.g=function(){return new XMLHttpRequest},Jf=new mi;function Ss(f){return encodeURIComponent(String(f))}function tu(f){var b=1;f=f.split(":");const S=[];for(;b>0&&f.length;)S.push(f.shift()),b--;return f.length&&S.push(f.join(":")),S}function Nr(f,b,S,j){this.j=f,this.i=b,this.l=S,this.S=j||1,this.V=new ia(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zf}function Zf(){this.i=null,this.g="",this.h=!1}var ep={},sh={};function ns(f,b,S){f.M=1,f.A=yi(Mr(b)),f.u=S,f.R=!0,ih(f,null)}function ih(f,b){f.F=Date.now(),ko(f),f.B=Mr(f.A);var S=f.B,j=f.S;Array.isArray(j)||(j=[String(j)]),mh(S.i,"t",j),f.C=0,S=f.j.L,f.h=new Zf,f.g=cp(f.j,S?b:null,!f.u),f.P>0&&(f.O=new Kf(d(f.Y,f,f.g),f.P)),b=f.V,S=f.g,j=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(th[0]=Y.toString()),Y=th);for(let ee=0;ee<Y.length;ee++){const he=Ue(S,Y[ee],j||b.handleEvent,!1,b.h||b);if(!he)break;b.g[he.key]=he}b=f.J?G(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),fi(),Qf(f.i,f.v,f.B,f.l,f.S,f.u)}Nr.prototype.ba=function(f){f=f.target;const b=this.O;b&&As(f)==3?b.j():this.Y(f)},Nr.prototype.Y=function(f){try{if(f==this.g)e:{const Ve=As(this.g),Jt=this.g.ya(),ht=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||lp(this.g)))){this.K||Ve!=4||Jt==7||(Jt==8||ht<=0?fi(3):fi(2)),nu(this);var b=this.g.ca();this.X=b;var S=tp(this);if(this.o=b==200,Xf(this.i,this.v,this.B,this.l,this.S,Ve,b),this.o){if(this.U&&!this.L){t:{if(this.g){var j,Y=this.g;if((j=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(j)){var ee=j;break t}}ee=null}if(f=ee)ks(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gt(this,f);else{this.o=!1,this.m=3,Dt(12),gi(this),So(this);break e}}if(this.R){f=!0;let sn;for(;!this.K&&this.C<S.length;)if(sn=rp(this,S),sn==sh){Ve==4&&(this.m=4,Dt(14),f=!1),ks(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==ep){this.m=4,Dt(15),ks(this.i,this.l,S,"[Invalid Chunk]"),f=!1;break}else ks(this.i,this.l,sn,null),gt(this,sn);if(np(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||S.length!=0||this.h.h||(this.m=1,Dt(16),f=!1),this.o=this.o&&f,!f)ks(this.i,this.l,S,"[Invalid Chunked Response]"),gi(this),So(this);else if(S.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),Mo(he),he.P=!0,Dt(11))}}else ks(this.i,this.l,S,null),gt(this,S);Ve==4&&gi(this),this.o&&!this.K&&(Ve==4?du(this.j,this):(this.o=!1,ko(this)))}else yh(this.g),b==400&&S.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),gi(this),So(this)}}}catch{}finally{}};function tp(f){if(!np(f))return f.g.la();const b=lp(f.g);if(b==="")return"";let S="";const j=b.length,Y=As(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return gi(f),So(f),"";f.h.i=new o.TextDecoder}for(let ee=0;ee<j;ee++)f.h.h=!0,S+=f.h.i.decode(b[ee],{stream:!(Y&&ee==j-1)});return b.length=0,f.h.g+=S,f.C=0,f.h.g}function np(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function rp(f,b){var S=f.C,j=b.indexOf(`
`,S);return j==-1?sh:(S=Number(b.substring(S,j)),isNaN(S)?ep:(j+=1,j+S>b.length?sh:(b=b.slice(j,j+S),f.C=j+S,b)))}Nr.prototype.cancel=function(){this.K=!0,gi(this)};function ko(f){f.T=Date.now()+f.H,ah(f,f.H)}function ah(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=ca(d(f.aa,f),b)}function nu(f){f.D&&(o.clearTimeout(f.D),f.D=null)}Nr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Yf(this.i,this.B),this.M!=2&&(fi(),Dt(17)),gi(this),this.m=2,So(this)):ah(this,this.T-f)};function So(f){f.j.I==0||f.K||du(f.j,f)}function gi(f){nu(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Yl(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function gt(f,b){try{var S=f.j;if(S.I!=0&&(S.g==f||lh(S.h,f))){if(!f.L&&lh(S.h,f)&&S.I==3){try{var j=S.Ba.g.parse(b)}catch{j=null}if(Array.isArray(j)&&j.length==3){var Y=j;if(Y[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<f.F)hu(S),gr(S);else break e;js(S),Dt(18)}}else S.xa=Y[1],0<S.xa-S.K&&Y[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=ca(d(S.Va,S),6e3));Eo(S.h)<=1&&S.ta&&(S.ta=void 0)}else yr(S,11)}else if((f.L||S.g==f)&&hu(S),!L(b))for(Y=S.Ba.g.parse(b),b=0;b<Y.length;b++){let ht=Y[b];const sn=ht[0];if(!(sn<=S.K))if(S.K=sn,ht=ht[1],S.I==2)if(ht[0]=="c"){S.M=ht[1],S.ba=ht[2];const vr=ht[3];vr!=null&&(S.ka=vr,S.j.info("VER="+S.ka));const ba=ht[4];ba!=null&&(S.za=ba,S.j.info("SVER="+S.za));const Rs=ht[5];Rs!=null&&typeof Rs=="number"&&Rs>0&&(j=1.5*Rs,S.O=j,S.j.info("backChannelRequestTimeoutMs_="+j)),j=S;const Os=f.g;if(Os){const mu=Os.g?Os.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mu){var ee=j.h;ee.g||mu.indexOf("spdy")==-1&&mu.indexOf("quic")==-1&&mu.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(su(ee,ee.h),ee.h=null))}if(j.G){const bh=Os.g?Os.g.getResponseHeader("X-HTTP-Session-Id"):null;bh&&(j.wa=bh,it(j.J,j.G,bh))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-f.F,S.j.info("Handshake RTT: "+S.T+"ms")),j=S;var he=f;if(j.na=wh(j,j.L?j.ba:null,j.W),he.L){To(j.h,he);var Ve=he,Jt=j.O;Jt&&(Ve.H=Jt),Ve.D&&(nu(Ve),ko(Ve)),j.g=he}else An(j);S.i.length>0&&xi(S)}else ht[0]!="stop"&&ht[0]!="close"||yr(S,7);else S.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?yr(S,7):uu(S):ht[0]!="noop"&&S.l&&S.l.qa(ht),S.A=0)}}fi(4)}catch{}}var ov=class{constructor(f,b){this.g=f,this.map=b}};function ru(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function oh(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Eo(f){return f.h?1:f.g?f.g.size:0}function lh(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function su(f,b){f.g?f.g.add(b):f.h=b}function To(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}ru.prototype.cancel=function(){if(this.i=fr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function fr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const S of f.g.values())b=b.concat(S.G);return b}return k(f.i)}var sp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pr(f,b){if(f){f=f.split("&");for(let S=0;S<f.length;S++){const j=f[S].indexOf("=");let Y,ee=null;j>=0?(Y=f[S].substring(0,j),ee=f[S].substring(j+1)):Y=f[S],b(Y,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Es(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof Es?(this.l=f.l,_o(this,f.j),this.o=f.o,this.g=f.g,Ts(this,f.u),this.h=f.h,pa(this,gh(f.i)),this.m=f.m):f&&(b=String(f).match(sp))?(this.l=!1,_o(this,b[1]||"",!0),this.o=Io(b[2]||""),this.g=Io(b[3]||"",!0),Ts(this,b[4]),this.h=Io(b[5]||"",!0),pa(this,b[6]||"",!0),this.m=Io(b[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}Es.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(Po(b,ch,!0),":");var S=this.g;return(S||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Po(b,ch,!0),"@"),f.push(Ss(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&f.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Po(S,S.charAt(0)=="/"?Do:hh,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Po(S,dh)),f.join("")},Es.prototype.resolve=function(f){const b=Mr(this);let S=!!f.j;S?_o(b,f.j):S=!!f.o,S?b.o=f.o:S=!!f.g,S?b.g=f.g:S=f.u!=null;var j=f.h;if(S)Ts(b,f.u);else if(S=!!f.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var Y=b.h.lastIndexOf("/");Y!=-1&&(j=b.h.slice(0,Y+1)+j)}if(Y=j,Y==".."||Y==".")j="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){j=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ee=[];for(let he=0;he<Y.length;){const Ve=Y[he++];Ve=="."?j&&he==Y.length&&ee.push(""):Ve==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),j&&he==Y.length&&ee.push("")):(ee.push(Ve),j=!0)}j=ee.join("/")}else j=Y}return S?b.h=j:S=f.i.toString()!=="",S?pa(b,gh(f.i)):S=!!f.m,S&&(b.m=f.m),b};function Mr(f){return new Es(f)}function _o(f,b,S){f.j=S?Io(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Ts(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function pa(f,b,S){b instanceof Qe?(f.i=b,au(f.i,f.l)):(S||(b=Po(b,lv)),f.i=new Qe(b,f.l))}function it(f,b,S){f.i.set(b,S)}function yi(f){return it(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Io(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Po(f,b,S){return typeof f=="string"?(f=encodeURI(f).replace(b,uh),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function uh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ch=/[#\/\?@]/g,hh=/[#\?:]/g,Do=/[#\?]/g,lv=/[#\?@]/g,dh=/#/g;function Qe(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function _s(f){f.g||(f.g=new Map,f.h=0,f.i&&pr(f.i,function(b,S){f.add(decodeURIComponent(b.replace(/\+/g," ")),S)}))}t=Qe.prototype,t.add=function(f,b){_s(this),this.i=null,f=Is(this,f);let S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(b),this.h+=1,this};function fh(f,b){_s(f),b=Is(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function iu(f,b){return _s(f),b=Is(f,b),f.g.has(b)}t.forEach=function(f,b){_s(this),this.g.forEach(function(S,j){S.forEach(function(Y){f.call(b,Y,j,this)},this)},this)};function ph(f,b){_s(f);let S=[];if(typeof b=="string")iu(f,b)&&(S=S.concat(f.g.get(Is(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)S=S.concat(f[b]);return S}t.set=function(f,b){return _s(this),this.i=null,f=Is(this,f),iu(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=ph(this,f),f.length>0?String(f[0]):b):b};function mh(f,b,S){fh(f,b),S.length>0&&(f.i=null,f.g.set(Is(f,b),k(S)),f.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let j=0;j<b.length;j++){var S=b[j];const Y=Ss(S);S=ph(this,S);for(let ee=0;ee<S.length;ee++){let he=Y;S[ee]!==""&&(he+="="+Ss(S[ee])),f.push(he)}}return this.i=f.join("&")};function gh(f){const b=new Qe;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function Is(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function au(f,b){b&&!f.j&&(_s(f),f.i=null,f.g.forEach(function(S,j){const Y=j.toLowerCase();j!=Y&&(fh(this,j),mh(this,Y,S))},f)),f.j=b}function Ps(f,b){const S=new ha;if(o.Image){const j=new Image;j.onload=p(Cn,S,"TestLoadImage: loaded",!0,b,j),j.onerror=p(Cn,S,"TestLoadImage: error",!1,b,j),j.onabort=p(Cn,S,"TestLoadImage: abort",!1,b,j),j.ontimeout=p(Cn,S,"TestLoadImage: timeout",!1,b,j),o.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else b(!1)}function Ds(f,b){const S=new ha,j=new AbortController,Y=setTimeout(()=>{j.abort(),Cn(S,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:j.signal}).then(ee=>{clearTimeout(Y),ee.ok?Cn(S,"TestPingServer: ok",!0,b):Cn(S,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),Cn(S,"TestPingServer: error",!1,b)})}function Cn(f,b,S,j,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),j(S)}catch{}}function Ao(){this.g=new xo}function vi(f){this.i=f.Sb||null,this.h=f.ab||!1}g(vi,oa),vi.prototype.g=function(){return new mr(this.i,this.h)};function mr(f,b){mt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(mr,mt),t=mr.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,rs(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||o).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,rs(this)),this.g&&(this.readyState=3,rs(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ip(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function ip(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?ma(this):rs(this),this.readyState==3&&ip(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ma(this))},t.Na=function(f){this.g&&(this.response=f,ma(this))},t.ga=function(){this.g&&ma(this)};function ma(f){f.readyState=4,f.l=null,f.j=null,f.B=null,rs(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var S=b.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=b.next();return f.join(`\r
`)};function rs(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ap(f){let b="";return ne(f,function(S,j){b+=j,b+=":",b+=S,b+=`\r
`}),b}function ou(f,b,S){e:{for(j in S){var j=!1;break e}j=!0}j||(S=ap(S),typeof f=="string"?S!=null&&Ss(S):it(f,b,S))}function ct(f){mt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ct,mt);var op=/^https?$/i,uv=["POST","PUT"];t=ct.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,S,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jf.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ee){ga(this,ee);return}if(f=S||"",S=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var Y in j)S.set(Y,j[Y]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ee of j.keys())S.set(ee,j.get(ee));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(S.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(uv,b,void 0)>=0)||j||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,he]of S)this.g.setRequestHeader(ee,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){ga(this,ee)}};function ga(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,ya(f),bi(f)}function ya(f){f.A||(f.A=!0,Yt(f,"complete"),Yt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Yt(this,"complete"),Yt(this,"abort"),bi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?wi(this):this.Xa())},t.Xa=function(){wi(this)};function wi(f){if(f.h&&typeof i<"u"){if(f.v&&As(f)==4)setTimeout(f.Ca.bind(f),0);else if(Yt(f,"readystatechange"),As(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var S;if(!(S=b)){var j;if(j=ee===0){let he=String(f.D).match(sp)[1]||null;!he&&o.self&&o.self.location&&(he=o.self.location.protocol.slice(0,-1)),j=!op.test(he?he.toLowerCase():"")}S=j}if(S)Yt(f,"complete"),Yt(f,"success");else{f.o=6;try{var Y=As(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",ya(f)}}finally{bi(f)}}}}function bi(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const S=f.g;f.g=null,b||Yt(f,"ready");try{S.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function As(f){return f.g?f.g.readyState:0}t.ca=function(){try{return As(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Gf(b)}};function lp(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function yh(f){const b={};f=(f.g&&As(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<f.length;j++){if(L(f[j]))continue;var S=tu(f[j]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ee=b[Y]||[];b[Y]=ee,ee.push(S)}ae(b,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ns(f,b,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||b}function lu(f){this.za=0,this.i=[],this.j=new ha,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ns("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ns("baseRetryDelayMs",5e3,f),this.Za=Ns("retryDelaySeedMs",1e4,f),this.Ta=Ns("forwardChannelMaxRetries",2,f),this.va=Ns("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ru(f&&f.concurrentRequestLimit),this.Ba=new Ao,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=lu.prototype,t.ka=8,t.I=1,t.connect=function(f,b,S,j){Dt(0),this.W=f,this.H=b||{},S&&j!==void 0&&(this.H.OSID=S,this.H.OAID=j),this.F=this.X,this.J=wh(this,null,this.W),xi(this)};function uu(f){if(cu(f),f.I==3){var b=f.V++,S=Mr(f.J);if(it(S,"SID",f.M),it(S,"RID",b),it(S,"TYPE","terminate"),Ms(f,S),b=new Nr(f,f.j,b),b.M=2,b.A=yi(Mr(S)),S=!1,o.navigator&&o.navigator.sendBeacon)try{S=o.navigator.sendBeacon(b.A.toString(),"")}catch{}!S&&o.Image&&(new Image().src=b.A,S=!0),S||(b.g=cp(b.j,null),b.g.ea(b.A)),b.F=Date.now(),ko(b)}jo(f)}function gr(f){f.g&&(Mo(f),f.g.cancel(),f.g=null)}function cu(f){gr(f),f.v&&(o.clearTimeout(f.v),f.v=null),hu(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function xi(f){if(!oh(f.h)&&!f.m){f.m=!0;var b=f.Ea;V||I(),K||(V(),K=!0),M.add(b,f),f.D=0}}function up(f,b){return Eo(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=ca(d(f.Ea,f,b),fu(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new Nr(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=G(ee),pe(ee,this.U)):ee=this.U),this.u!==null||this.R||(Y.J=ee,ee=null),this.S)e:{for(var b=0,S=0;S<this.i.length;S++){t:{var j=this.i[S];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(b+=j,b>4096){b=S;break e}if(b===4096||S===this.i.length-1){b=S+1;break e}}b=1e3}else b=1e3;b=vh(this,Y,b),S=Mr(this.J),it(S,"RID",f),it(S,"CVER",22),this.G&&it(S,"X-HTTP-Session-Id",this.G),Ms(this,S),ee&&(this.R?b="headers="+Ss(ap(ee))+"&"+b:this.u&&ou(S,this.u,ee)),su(this.h,Y),this.Ra&&it(S,"TYPE","init"),this.S?(it(S,"$req",b),it(S,"SID","null"),Y.U=!0,ns(Y,S,null)):ns(Y,S,b),this.I=2}}else this.I==3&&(f?No(this,f):this.i.length==0||oh(this.h)||No(this))};function No(f,b){var S;b?S=b.l:S=f.V++;const j=Mr(f.J);it(j,"SID",f.M),it(j,"RID",S),it(j,"AID",f.K),Ms(f,j),f.u&&f.o&&ou(j,f.u,f.o),S=new Nr(f,f.j,S,f.D+1),f.u===null&&(S.J=f.o),b&&(f.i=b.G.concat(f.i)),b=vh(f,S,1e3),S.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),su(f.h,S),ns(S,j,b)}function Ms(f,b){f.H&&ne(f.H,function(S,j){it(b,j,S)}),f.l&&ne({},function(S,j){it(b,j,S)})}function vh(f,b,S){S=Math.min(f.i.length,S);const j=f.l?d(f.l.Ka,f.l,f):null;e:{var Y=f.i;let Ve=-1;for(;;){const Jt=["count="+S];Ve==-1?S>0?(Ve=Y[0].g,Jt.push("ofs="+Ve)):Ve=0:Jt.push("ofs="+Ve);let ht=!0;for(let sn=0;sn<S;sn++){var ee=Y[sn].g;const vr=Y[sn].map;if(ee-=Ve,ee<0)Ve=Math.max(0,Y[sn].g-100),ht=!1;else try{ee="req"+ee+"_"||"";try{var he=vr instanceof Map?vr:Object.entries(vr);for(const[ba,Rs]of he){let Os=Rs;u(Rs)&&(Os=aa(Rs)),Jt.push(ee+ba+"="+encodeURIComponent(Os))}}catch(ba){throw Jt.push(ee+"type="+encodeURIComponent("_badmap")),ba}}catch{j&&j(vr)}}if(ht){he=Jt.join("&");break e}}he=void 0}return f=f.i.splice(0,S),b.G=f,he}function An(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;V||I(),K||(V(),K=!0),M.add(b,f),f.A=0}}function js(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=ca(d(f.Da,f),fu(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,va(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=ca(d(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),gr(this),va(this))};function Mo(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function va(f){f.g=new Nr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Mr(f.na);it(b,"RID","rpc"),it(b,"SID",f.M),it(b,"AID",f.K),it(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&it(b,"TO",f.ia),it(b,"TYPE","xmlhttp"),Ms(f,b),f.u&&f.o&&ou(b,f.u,f.o),f.O&&(f.g.H=f.O);var S=f.g;f=f.ba,S.M=1,S.A=yi(Mr(b)),S.u=null,S.R=!0,ih(S,f)}t.Va=function(){this.C!=null&&(this.C=null,gr(this),js(this),Dt(19))};function hu(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function du(f,b){var S=null;if(f.g==b){hu(f),Mo(f),f.g=null;var j=2}else if(lh(f.h,b))S=b.G,To(f.h,b),j=1;else return;if(f.I!=0){if(b.o)if(j==1){S=b.u?b.u.length:0,b=Date.now()-b.F;var Y=f.D;j=ua(),Yt(j,new rh(j,S)),xi(f)}else An(f);else if(Y=b.m,Y==3||Y==0&&b.X>0||!(j==1&&up(f,b)||j==2&&js(f)))switch(S&&S.length>0&&(b=f.h,b.i=b.i.concat(S)),Y){case 1:yr(f,5);break;case 4:yr(f,10);break;case 3:yr(f,6);break;default:yr(f,2)}}}function fu(f,b){let S=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(S*=2),S*b}function yr(f,b){if(f.j.info("Error code "+b),b==2){var S=d(f.bb,f),j=f.Ua;const Y=!j;j=new Es(j||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||_o(j,"https"),yi(j),Y?Ps(j.toString(),S):Ds(j.toString(),S)}else Dt(2);f.I=0,f.l&&f.l.pa(b),jo(f),cu(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function jo(f){if(f.I=0,f.ja=[],f.l){const b=fr(f.h);(b.length!=0||f.i.length!=0)&&(_(f.ja,b),_(f.ja,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.oa()}}function wh(f,b,S){var j=S instanceof Es?Mr(S):new Es(S);if(j.g!="")b&&(j.g=b+"."+j.g),Ts(j,j.u);else{var Y=o.location;j=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;const ee=new Es(null);j&&_o(ee,j),b&&(ee.g=b),Y&&Ts(ee,Y),S&&(ee.h=S),j=ee}return S=f.G,b=f.wa,S&&b&&it(j,S,b),it(j,"VER",f.ka),Ms(f,j),j}function cp(f,b,S){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ct(new vi({ab:S})):new ct(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hp(){}t=hp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function pu(){}pu.prototype.g=function(f,b){return new kn(f,b)};function kn(f,b){mt.call(this),this.g=new lu(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!L(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!L(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new wa(this)}g(kn,mt),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){uu(this.g)},kn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.v&&(S={},S.__data__=aa(f),f=S);b.i.push(new ov(b.Ya++,f)),b.I==3&&xi(b)},kn.prototype.N=function(){this.g.l=null,delete this.j,uu(this.g),delete this.g,kn.Z.N.call(this)};function dp(f){Jl.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const S in b){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}g(dp,Jl);function fp(){nh.call(this),this.status=1}g(fp,nh);function wa(f){this.g=f}g(wa,hp),wa.prototype.ra=function(){Yt(this.g,"a")},wa.prototype.qa=function(f){Yt(this.g,new dp(f))},wa.prototype.pa=function(f){Yt(this.g,new fp)},wa.prototype.oa=function(){Yt(this.g,"b")},pu.prototype.createWebChannel=pu.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,gD=function(){return new pu},mD=function(){return ua()},pD=ts,Ww={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},da.NO_ERROR=0,da.TIMEOUT=8,da.HTTP_ERROR=6,Bm=da,fa.COMPLETE="complete",fD=fa,Wf.EventType=la,la.OPEN="a",la.CLOSE="b",la.ERROR="c",la.MESSAGE="d",mt.prototype.listen=mt.prototype.J,yd=Wf,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,dD=ct}).apply(typeof lm<"u"?lm:typeof self<"u"?self:typeof window<"u"?window:{});const XE="@firebase/firestore",YE="4.9.2";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let In=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Bc="12.3.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Il=new oy("@firebase/firestore");function nc(){return Il.logLevel}function le(t,...e){if(Il.logLevel<=Ge.DEBUG){const n=e.map(Dx);Il.debug(`Firestore (${Bc}): ${t}`,...n)}}function Hn(t,...e){if(Il.logLevel<=Ge.ERROR){const n=e.map(Dx);Il.error(`Firestore (${Bc}): ${t}`,...n)}}function Pl(t,...e){if(Il.logLevel<=Ge.WARN){const n=e.map(Dx);Il.warn(`Firestore (${Bc}): ${t}`,...n)}}function Dx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(t)}catch{return t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yD(t,r,n)}function yD(t,e,n){let r=`FIRESTORE (${Bc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Hn(r),new Error(r)}function _e(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||yD(e,s,r)}function Be(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class xB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class CB{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Xs,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const c=i;e.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},u=c=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Xs)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new vD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class kB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new kB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class JE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new JE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new JE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function TB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ax{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=TB(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function Qw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return L0(s)===L0(i)?Fe(s,i):L0(s)?1:-1}return Fe(t.length,e.length)}const _B=55296,IB=57343;function L0(t){const e=t.charCodeAt(0);return e>=_B&&e<=IB}function xc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function wD(t){return t+"\0"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ZE="__name__";class qs{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=qs.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Fe(e.length,n.length)}static compareSegments(e,n){const r=qs.isNumericId(e),s=qs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?qs.extractNumericId(e).compare(qs.extractNumericId(n)):Qw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return eo.fromString(e.substring(4,e.length-2))}}class at extends qs{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const PB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends qs{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return PB.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZE}static keyField(){return new Tt([ZE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(r+=u,s++):(i(),s++)}if(i(),o)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class de{constructor(e){this.path=e}static fromPath(e){return new de(at.fromString(e))}static fromName(e){return new de(at.fromString(e).popFirst(5))}static empty(){return new de(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new at(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bD(t,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DB(t,e,n,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eT(t){if(!de.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tT(t){if(de.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function fy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function Wn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fy(t);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function AB(t,e){if(e<=0)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function un(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cf(t,e){if(!xD(t))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nT=-62135596800,rT=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rT);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nT)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rT}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cf(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:un("string",rt._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new rt(0,0))}static max(){return new Pe(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qd=-1;class xg{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function Xw(t){return t.fields.find((e=>e.kind===2))}function il(t){return t.fields.filter((e=>e.kind!==2))}xg.UNKNOWN_ID=-1;class Um{constructor(e,n){this.fieldPath=e,this.kind=n}}class $d{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new $d(0,Pr.min())}}function NB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Pr(s,de.empty(),e)}function CD(t){return new Pr(t.readTime,t.key,qd)}class Pr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pr(Pe.min(),de.empty(),qd)}static max(){return new Pr(Pe.max(),de.empty(),qd)}}function Nx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function $l(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==kD)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let s=0,i=0,o=!1;e.forEach((u=>{++s,u.next((()=>{++i,o&&i===s&&n()}),(c=>r(c)))})),o=!0,i===s&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((s=>s?Q.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,s)=>{const i=e.length,o=new Array(i);let u=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next((p=>{o[d]=p,++u,u===i&&r(o)}),(p=>s(p)))}}))}static doWhile(e,n){return new Q(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kr="SimpleDb";class py{static open(e,n,r,s){try{return new py(n,e.transaction(s,r))}catch(i){throw new Td(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Xs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Td(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=Mx(r.target.error);this.S.reject(new Td(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(kr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new jB(n)}}class to{static delete(e){return le(kr,"Removing database:",e),ul(mP().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!ay())return!1;if(to.F())return!0;const e=mn(),n=to.M(e),r=0<n&&n<10,s=ED(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,to.M(mn())===12.2&&Hn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(kr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Td(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new ce(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ce(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Td(e,o))},s.onupgradeneeded=i=>{le(kr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.N.k(o,s.transaction,i.oldVersion,this.version).next((()=>{le(kr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.L(e);const u=py.open(this.db,e,i?"readonly":"readwrite",r),c=s(u).next((d=>(u.C(),d))).catch((d=>(u.abort(d),Q.reject(d)))).toPromise();return c.catch((()=>{})),await u.D,c}catch(u){const c=u,d=c.name!=="FirebaseError"&&o<3;if(le(kr,"Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ED(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class MB{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ul(this.U.delete())}}class Td extends ce{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function yo(t){return t.name==="IndexedDbTransactionError"}class jB{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(le(kr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(le(kr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ul(r)}add(e){return le(kr,"ADD",this.store.name,e,e),ul(this.store.add(e))}get(e){return ul(this.store.get(e)).next((n=>(n===void 0&&(n=null),le(kr,"GET",this.store.name,e,n),n)))}delete(e){return le(kr,"DELETE",this.store.name,e),ul(this.store.delete(e))}count(){return le(kr,"COUNT",this.store.name),ul(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Q(((o,u)=>{i.onerror=c=>{u(c.target.error)},i.onsuccess=c=>{o(c.target.result)}}))}{const i=this.cursor(r),o=[];return this.H(i,((u,c)=>{o.push(c)})).next((()=>o))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}}))}Z(e,n){le(kr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,((i,o,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new Q(((r,s)=>{n.onerror=i=>{const o=Mx(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next((u=>{u?o.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const u=o.target.result;if(!u)return void s();const c=new MB(u),d=n(u.primaryKey,u.value,c);if(d instanceof Q){const p=d.catch((g=>(c.done(),Q.reject(g))));r.push(p)}c.isDone?s():c.G===null?u.continue():u.continue(c.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ul(t){return new Q(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Mx(r.target.error);n(s)}}))}let sT=!1;function Mx(t){const e=to.M(mn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sT||(sT=!0,setTimeout((()=>{throw r}),0)),r}}return t}const _d="IndexBackfiller";class RB{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(_d,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();le(_d,`Documents written: ${n}`)}catch(n){yo(n)?le(_d,"Ignoring IndexedDB error during index backfill: ",n):await $l(n)}await this.re(6e4)}))}}class OB{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let s=n,i=!0;return Q.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((o=>{if(o!==null&&!r.has(o))return le(_d,`Processing collection: ${o}`),this.oe(e,o,s).next((u=>{s-=u,r.add(o)}));i=!1})))).next((()=>n-s))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next((()=>this._e(s,i))).next((u=>(le(_d,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>o.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((s,i)=>{const o=CD(i);Nx(o,r)>0&&(r=o)})),new Pr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Kr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kr.ce=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wl=-1;function my(t){return t==null}function Hd(t){return t===0&&1/t==-1/0}function LB(t){return typeof t=="number"&&Number.isInteger(t)&&!Hd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cg="";function zn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iT(e)),e=FB(t.get(n),e);return iT(e)}function FB(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Cg:n+="";break;default:n+=i}}return n}function iT(t){return t+Cg+""}function Hs(t){const e=t.length;if(_e(e>=2,64408,{path:t}),e===2)return _e(t.charAt(0)===Cg&&t.charAt(1)==="",56145,{path:t}),at.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf(Cg,i);switch((o<0||o>n)&&ke(50515,{path:t}),t.charAt(o+1)){case"":const u=t.substring(i,o);let c;s.length===0?c=u:(s+=u,c=s,s=""),r.push(c);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:ke(61167,{path:t})}i=o+2}return new at(r)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const al="remoteDocuments",kf="owner",Ou="owner",Kd="mutationQueues",BB="userId",ds="mutations",aT="batchId",fl="userMutationsIndex",oT=["userId","batchId"];/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zm(t,e){return[t,zn(e)]}function TD(t,e,n){return[t,zn(e),n]}const UB={},Cc="documentMutations",kg="remoteDocumentsV14",zB=["prefixPath","collectionGroup","readTime","documentId"],Vm="documentKeyIndex",VB=["prefixPath","collectionGroup","documentId"],_D="collectionGroupIndex",qB=["collectionGroup","readTime","prefixPath","documentId"],Gd="remoteDocumentGlobal",Yw="remoteDocumentGlobalKey",kc="targets",ID="queryTargetsIndex",$B=["canonicalId","targetId"],Sc="targetDocuments",HB=["targetId","path"],jx="documentTargetsIndex",KB=["path","targetId"],Sg="targetGlobalKey",bl="targetGlobal",Wd="collectionParents",GB=["collectionId","parent"],Ec="clientMetadata",WB="clientId",gy="bundles",QB="bundleId",yy="namedQueries",XB="name",Rx="indexConfiguration",YB="indexId",Jw="collectionGroupIndex",JB="collectionGroup",Id="indexState",ZB=["indexId","uid"],PD="sequenceNumberIndex",eU=["uid","sequenceNumber"],Pd="indexEntries",tU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],DD="documentKeyIndex",nU=["indexId","uid","orderedDocumentKey"],vy="documentOverlays",rU=["userId","collectionPath","documentId"],Zw="collectionPathOverlayIndex",sU=["userId","collectionPath","largestBatchId"],AD="collectionGroupOverlayIndex",iU=["userId","collectionGroup","largestBatchId"],Ox="globals",aU="name",ND=[Kd,ds,Cc,al,kc,kf,bl,Sc,Ec,Gd,Wd,gy,yy],oU=[...ND,vy],MD=[Kd,ds,Cc,kg,kc,kf,bl,Sc,Ec,Gd,Wd,gy,yy,vy],jD=MD,Lx=[...jD,Rx,Id,Pd],lU=Lx,RD=[...Lx,Ox],uU=RD;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eb extends SD{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function gn(t,e){const n=Be(t);return to.O(n.le,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function lT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kt{constructor(e,n){this.comparator=e,this.root=n||Pn.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new um(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new um(this.root,e,this.comparator,!1)}getReverseIterator(){return new um(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new um(this.root,e,this.comparator,!0)}}class um{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Pn.RED,this.left=s??Pn.EMPTY,this.right=i??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Pn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Pn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(t,e,n,r,s){return this}insert(t,e,n){return new Pn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ut{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uT(this.data.getIterator())}getIteratorFrom(e){return new uT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class uT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Lu(t){return t.hasNext()?t.getNext():void 0}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ur{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new ur([])}unionWith(e){let n=new ut(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new LD("Invalid base64 string: "+s):s}})(e);return new cn(n)}static fromUint8Array(e){const n=(function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s})(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const cU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(t){if(_e(!!t,39018),typeof t=="string"){let e=0;const n=cU.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $i(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const FD="server_timestamp",BD="__type__",UD="__previous_value__",zD="__local_write_time__";function Fx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[BD])==null?void 0:n.stringValue)===FD}function wy(t){const e=t.mapValue.fields[UD];return Fx(e)?wy(e):e}function Qd(t){const e=qi(t.mapValue.fields[zD].timestampValue);return new rt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hU{constructor(e,n,r,s,i,o,u,c,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=p}}const Eg="(default)";class Dl{constructor(e,n){this.projectId=e,this.database=n||Eg}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Eg}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bx="__type__",VD="__max__",Ya={mapValue:{fields:{__type__:{stringValue:VD}}}},Ux="__vector__",Tc="value",qm={nullValue:"NULL_VALUE"};function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fx(t)?4:qD(t)?9007199254740991:by(t)?10:11:ke(28295,{value:t})}function ri(t,e){if(t===e)return!0;const n=io(t);if(n!==io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qd(t).isEqual(Qd(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=qi(r.timestampValue),o=qi(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,s){return $i(r.bytesValue).isEqual($i(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,s){return xt(r.geoPointValue.latitude)===xt(s.geoPointValue.latitude)&&xt(r.geoPointValue.longitude)===xt(s.geoPointValue.longitude)})(t,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return xt(r.integerValue)===xt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=xt(r.doubleValue),o=xt(s.doubleValue);return i===o?Hd(i)===Hd(o):isNaN(i)&&isNaN(o)}return!1})(t,e);case 9:return xc(t.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return(function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(lT(i)!==lT(o))return!1;for(const u in i)if(i.hasOwnProperty(u)&&(o[u]===void 0||!ri(i[u],o[u])))return!1;return!0})(t,e);default:return ke(52216,{left:t})}}function Xd(t,e){return(t.values||[]).find((n=>ri(n,e)))!==void 0}function ao(t,e){if(t===e)return 0;const n=io(t),r=io(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(s,i){const o=xt(s.integerValue||s.doubleValue),u=xt(i.integerValue||i.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1})(t,e);case 3:return cT(t.timestampValue,e.timestampValue);case 4:return cT(Qd(t),Qd(e));case 5:return Qw(t.stringValue,e.stringValue);case 6:return(function(s,i){const o=$i(s),u=$i(i);return o.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,i){const o=s.split("/"),u=i.split("/");for(let c=0;c<o.length&&c<u.length;c++){const d=Fe(o[c],u[c]);if(d!==0)return d}return Fe(o.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,i){const o=Fe(xt(s.latitude),xt(i.latitude));return o!==0?o:Fe(xt(s.longitude),xt(i.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return hT(t.arrayValue,e.arrayValue);case 10:return(function(s,i){var o,u,c,d;const p=s.fields||{},g=i.fields||{},v=(o=p[Tc])==null?void 0:o.arrayValue,k=(u=g[Tc])==null?void 0:u.arrayValue,_=Fe(((c=v==null?void 0:v.values)==null?void 0:c.length)||0,((d=k==null?void 0:k.values)==null?void 0:d.length)||0);return _!==0?_:hT(v,k)})(t.mapValue,e.mapValue);case 11:return(function(s,i){if(s===Ya.mapValue&&i===Ya.mapValue)return 0;if(s===Ya.mapValue)return 1;if(i===Ya.mapValue)return-1;const o=s.fields||{},u=Object.keys(o),c=i.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const g=Qw(u[p],d[p]);if(g!==0)return g;const v=ao(o[u[p]],c[d[p]]);if(v!==0)return v}return Fe(u.length,d.length)})(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function cT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=qi(t),r=qi(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function hT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ao(n[s],r[s]);if(i)return i}return Fe(n.length,r.length)}function _c(t){return tb(t)}function tb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(e){const n=qi(e);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(e){return $i(e).toBase64()})(t.bytesValue):"referenceValue"in t?(function(e){return de.fromName(e).toString()})(t.referenceValue):"geoPointValue"in t?(function(e){return`geo(${e.latitude},${e.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(e){let n="[",r=!0;for(const s of e.values||[])r?r=!1:n+=",",n+=tb(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(e){const n=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const i of n)s?s=!1:r+=",",r+=`${i}:${tb(e.fields[i])}`;return r+"}"})(t.mapValue):ke(61005,{value:t})}function $m(t){switch(io(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wy(t);return e?16+$m(e):16;case 5:return 2*t.stringValue.length;case 6:return $i(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((r,s)=>r+$m(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let r=0;return vo(n.fields,((s,i)=>{r+=s.length+$m(i)})),r})(t.mapValue);default:throw ke(13486,{value:t})}}function Yd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function nb(t){return!!t&&"integerValue"in t}function Jd(t){return!!t&&"arrayValue"in t}function dT(t){return!!t&&"nullValue"in t}function fT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hm(t){return!!t&&"mapValue"in t}function by(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[Bx])==null?void 0:n.stringValue)===Ux}function Dd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Dd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dd(t.arrayValue.values[n]);return e}return{...t}}function qD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VD}const $D={mapValue:{fields:{[Bx]:{stringValue:Ux},[Tc]:{arrayValue:{}}}}};function dU(t){return"nullValue"in t?qm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Yd(Dl.empty(),de.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?by(t)?$D:{mapValue:{}}:ke(35942,{value:t})}function fU(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Yd(Dl.empty(),de.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?$D:"mapValue"in t?by(t)?{mapValue:{}}:Ya:ke(61959,{value:t})}function pT(t,e){const n=ao(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function mT(t,e){const n=ao(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dd(n)}setAll(e){let n=Tt.emptyPath(),r={},s=[];e.forEach(((o,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=u.popLast()}o?r[u.lastSegment()]=Dd(o):s.push(u.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Hm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Hm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){vo(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Fn(Dd(this.value))}}function HD(t){const e=[];return vo(t.fields,((n,r)=>{const s=new Tt([n]);if(Hm(r)){const i=HD(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new ur(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jt{constructor(e,n,r,s,i,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new jt(e,0,Pe.min(),Pe.min(),Pe.min(),Fn.empty(),0)}static newFoundDocument(e,n,r,s){return new jt(e,1,n,Pe.min(),r,s,0)}static newNoDocument(e,n){return new jt(e,2,n,Pe.min(),Pe.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,Pe.min(),Pe.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ic{constructor(e,n){this.position=e,this.inclusive=n}}function gT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=ao(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function yT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ri(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zd{constructor(e,n="asc"){this.field=e,this.dir=n}}function pU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class KD{}class We extends KD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mU(e,n,r):n==="array-contains"?new vU(e,r):n==="in"?new JD(e,r):n==="not-in"?new wU(e,r):n==="array-contains-any"?new bU(e,r):new We(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gU(e,r):new yU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ao(n,this.value)):n!==null&&io(this.value)===io(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends KD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lt(e,n)}matches(e){return Pc(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Pc(t){return t.op==="and"}function rb(t){return t.op==="or"}function zx(t){return GD(t)&&Pc(t)}function GD(t){for(const e of t.filters)if(e instanceof lt)return!1;return!0}function sb(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+_c(t.value);if(zx(t))return t.filters.map((e=>sb(e))).join(",");{const e=t.filters.map((n=>sb(n))).join(",");return`${t.op}(${e})`}}function WD(t,e){return t instanceof We?(function(n,r){return r instanceof We&&n.op===r.op&&n.field.isEqual(r.field)&&ri(n.value,r.value)})(t,e):t instanceof lt?(function(n,r){return r instanceof lt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce(((s,i,o)=>s&&WD(i,r.filters[o])),!0):!1})(t,e):void ke(19439)}function QD(t,e){const n=t.filters.concat(e);return lt.create(n,t.op)}function XD(t){return t instanceof We?(function(e){return`${e.field.canonicalString()} ${e.op} ${_c(e.value)}`})(t):t instanceof lt?(function(e){return e.op.toString()+" {"+e.getFilters().map(XD).join(" ,")+"}"})(t):"Filter"}class mU extends We{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class gU extends We{constructor(e,n){super(e,"in",n),this.keys=YD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class yU extends We{constructor(e,n){super(e,"not-in",n),this.keys=YD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function YD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>de.fromName(r.referenceValue)))}class vU extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jd(n)&&Xd(n.arrayValue,this.value)}}class JD extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xd(this.value.arrayValue,n)}}class wU extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xd(this.value.arrayValue,n)}}class bU extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Xd(this.value.arrayValue,r)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xU{constructor(e,n=null,r=[],s=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=u,this.Te=null}}function ib(t,e=null,n=[],r=[],s=null,i=null,o=null){return new xU(t,e,n,r,s,i,o)}function Al(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>sb(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),my(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>_c(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>_c(r))).join(",")),e.Te=n}return e.Te}function Sf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yT(t.startAt,e.startAt)&&yT(t.endAt,e.endAt)}function Tg(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function _g(t,e){return t.filters.filter((n=>n instanceof We&&n.field.isEqual(e)))}function vT(t,e,n){let r=qm,s=!0;for(const i of _g(t,e)){let o=qm,u=!0;switch(i.op){case"<":case"<=":o=dU(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,u=!1;break;case"!=":case"not-in":o=qm}pT({value:r,inclusive:s},{value:o,inclusive:u})<0&&(r=o,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];pT({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function wT(t,e,n){let r=Ya,s=!0;for(const i of _g(t,e)){let o=Ya,u=!0;switch(i.op){case">=":case">":o=fU(i.value),u=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,u=!1;break;case"!=":case"not-in":o=Ya}mT({value:r,inclusive:s},{value:o,inclusive:u})>0&&(r=o,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];mT({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Uc{constructor(e,n=null,r=[],s=[],i=null,o="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CU(t,e,n,r,s,i,o,u){return new Uc(t,e,n,r,s,i,o,u)}function Ef(t){return new Uc(t)}function bT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZD(t){return t.collectionGroup!==null}function Ad(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let i=new ut(Tt.comparator);return s.filters.forEach((o=>{o.getFlattenedFilters().forEach((u=>{u.isInequality()&&(i=i.add(u.field))}))})),i})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Zd(s,r))})),n.has(Tt.keyField().canonicalString())||e.Ie.push(new Zd(Tt.keyField(),r))}return e.Ie}function Qr(t){const e=Be(t);return e.Ee||(e.Ee=kU(e,Ad(t))),e.Ee}function kU(t,e){if(t.limitType==="F")return ib(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Zd(s.field,i)}));const n=t.endAt?new Ic(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ic(t.startAt.position,t.startAt.inclusive):null;return ib(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ab(t,e){const n=t.filters.concat([e]);return new Uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ig(t,e,n){return new Uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xy(t,e){return Sf(Qr(t),Qr(e))&&t.limitType===e.limitType}function eA(t){return`${Al(Qr(t))}|lt:${t.limitType}`}function rc(t){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((r=>XD(r))).join(", ")}]`),my(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((r=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(r))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>_c(r))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>_c(r))).join(",")),`Target(${n})`})(Qr(t))}; limitType=${t.limitType})`}function Tf(t,e){return e.isFoundDocument()&&(function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):de.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,r){for(const s of Ad(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0})(t,e)&&(function(n,r){return!(n.startAt&&!(function(s,i,o){const u=gT(s,i,o);return s.inclusive?u<=0:u<0})(n.startAt,Ad(n),r)||n.endAt&&!(function(s,i,o){const u=gT(s,i,o);return s.inclusive?u>=0:u>0})(n.endAt,Ad(n),r))})(t,e)}function SU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tA(t){return(e,n)=>{let r=!1;for(const s of Ad(t)){const i=EU(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function EU(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):(function(s,i,o){const u=i.data.field(s),c=o.data.field(s);return u!==null&&c!==null?ao(u,c):ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:t.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){vo(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return OD(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const TU=new kt(de.comparator);function Tr(){return TU}const nA=new kt(de.comparator);function vd(...t){let e=nA;for(const n of t)e=e.insert(n.key,n);return e}function rA(t){let e=nA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ks(){return Nd()}function sA(){return Nd()}function Nd(){return new Zi((t=>t.toString()),((t,e)=>t.isEqual(e)))}const _U=new kt(de.comparator),IU=new ut(de.comparator);function He(...t){let e=IU;for(const n of t)e=e.add(n);return e}const PU=new ut(Fe);function DU(){return PU}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hd(e)?"-0":e}}function iA(t){return{integerValue:""+t}}function AU(t,e){return LB(e)?iA(e):Vx(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cy{constructor(){this._=void 0}}function NU(t,e,n){return t instanceof Dc?(function(r,s){const i={fields:{[BD]:{stringValue:FD},[zD]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Fx(s)&&(s=wy(s)),s&&(i.fields[UD]=s),{mapValue:i}})(n,e):t instanceof Ac?oA(t,e):t instanceof Nc?lA(t,e):(function(r,s){const i=aA(r,s),o=xT(i)+xT(r.Ae);return nb(i)&&nb(r.Ae)?iA(o):Vx(r.serializer,o)})(t,e)}function MU(t,e,n){return t instanceof Ac?oA(t,e):t instanceof Nc?lA(t,e):n}function aA(t,e){return t instanceof ef?(function(n){return nb(n)||(function(r){return!!r&&"doubleValue"in r})(n)})(e)?e:{integerValue:0}:null}class Dc extends Cy{}class Ac extends Cy{constructor(e){super(),this.elements=e}}function oA(t,e){const n=uA(e);for(const r of t.elements)n.some((s=>ri(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Nc extends Cy{constructor(e){super(),this.elements=e}}function lA(t,e){let n=uA(e);for(const r of t.elements)n=n.filter((s=>!ri(s,r)));return{arrayValue:{values:n}}}class ef extends Cy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function xT(t){return xt(t.integerValue||t.doubleValue)}function uA(t){return Jd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cA{constructor(e,n){this.field=e,this.transform=n}}function jU(t,e){return t.field.isEqual(e.field)&&(function(n,r){return n instanceof Ac&&r instanceof Ac||n instanceof Nc&&r instanceof Nc?xc(n.elements,r.elements,ri):n instanceof ef&&r instanceof ef?ri(n.Ae,r.Ae):n instanceof Dc&&r instanceof Dc})(t.transform,e.transform)}class RU{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Km(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let ky=class{};function hA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sy(t.key,Bn.none()):new zc(t.key,t.data,Bn.none());{const n=t.data,r=Fn.empty();let s=new ut(Tt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ea(t.key,r,new ur(s.toArray()),Bn.none())}}function OU(t,e,n){t instanceof zc?(function(r,s,i){const o=r.value.clone(),u=kT(r.fieldTransforms,s,i.transformResults);o.setAll(u),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()})(t,e,n):t instanceof ea?(function(r,s,i){if(!Km(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=kT(r.fieldTransforms,s,i.transformResults),u=s.data;u.setAll(dA(r)),u.setAll(o),s.convertToFoundDocument(i.version,u).setHasCommittedMutations()})(t,e,n):(function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()})(0,e,n)}function Md(t,e,n,r){return t instanceof zc?(function(s,i,o,u){if(!Km(s.precondition,i))return o;const c=s.value.clone(),d=ST(s.fieldTransforms,u,i);return c.setAll(d),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof ea?(function(s,i,o,u){if(!Km(s.precondition,i))return o;const c=ST(s.fieldTransforms,u,i),d=i.data;return d.setAll(dA(s)),d.setAll(c),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,i,o){return Km(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o})(t,e,n)}function LU(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=aA(r.transform,s||null);i!=null&&(n===null&&(n=Fn.empty()),n.set(r.field,i))}return n||null}function CT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&xc(n,r,((s,i)=>jU(s,i)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zc extends ky{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ea extends ky{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function dA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function kT(t,e,n){const r=new Map;_e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,u=e.data.field(i.field);r.set(i.field,MU(o,u,n[s]))}return r}function ST(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,NU(i,o,e))}return r}class Sy extends ky{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fA extends ky{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qx{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&OU(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Md(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Md(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sA();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=n.has(s.key)?null:u;const c=hA(o,u);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Pe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&xc(this.mutations,e.mutations,((n,r)=>CT(n,r)))&&xc(this.baseMutations,e.baseMutations,((n,r)=>CT(n,r)))}}class $x{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){_e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return _U})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new $x(e,n,r,s)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var on,Ye;function BU(t){switch(t){case te.OK:return ke(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function pA(t){if(t===void 0)return Hn("GRPC error has no .code"),te.UNKNOWN;switch(t){case on.OK:return te.OK;case on.CANCELLED:return te.CANCELLED;case on.UNKNOWN:return te.UNKNOWN;case on.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case on.INTERNAL:return te.INTERNAL;case on.UNAVAILABLE:return te.UNAVAILABLE;case on.UNAUTHENTICATED:return te.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case on.NOT_FOUND:return te.NOT_FOUND;case on.ALREADY_EXISTS:return te.ALREADY_EXISTS;case on.PERMISSION_DENIED:return te.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case on.ABORTED:return te.ABORTED;case on.OUT_OF_RANGE:return te.OUT_OF_RANGE;case on.UNIMPLEMENTED:return te.UNIMPLEMENTED;case on.DATA_LOSS:return te.DATA_LOSS;default:return ke(39323,{code:t})}}(Ye=on||(on={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function UU(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zU=new eo([4294967295,4294967295],0);function ET(t){const e=UU().encode(t),n=new hD;return n.update(e),new Uint8Array(n.digest())}function TT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new eo([n,r],0),new eo([s,i],0)]}class Kx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wd(`Invalid padding: ${n}`);if(r<0)throw new wd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=eo.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(eo.fromNumber(r)));return s.compare(zU)===1&&(s=new eo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ET(e),[r,s]=TT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Kx(i,s,n);return r.forEach((u=>o.insert(u))),o}insert(e){if(this.ge===0)return;const n=ET(e),[r,s]=TT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ey{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,_f.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ey(Pe.min(),s,new kt(Fe),Tr(),He())}}class _f{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _f(r,n,He(),He(),He())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gm{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class mA{constructor(e,n){this.targetId=e,this.Ce=n}}class gA{constructor(e,n,r=cn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class _T{constructor(){this.ve=0,this.Fe=IT(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),r=He();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ke(38017,{changeType:i})}})),new _f(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=IT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VU{constructor(e){this.Ge=e,this.ze=new Map,this.je=Tr(),this.Je=cm(),this.He=cm(),this.Ye=new kt(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Tg(i))if(r===0){const o=new de(i.path);this.et(n,o,jt.newNoDocument(o,Pe.min()))}else _e(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const u=this.ut(e),c=u?this.ct(u,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,u;try{o=$i(r).toUint8Array()}catch(c){if(c instanceof LD)return Pl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Kx(o,s,i)}catch(c){return Pl(c instanceof wd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const u=this.ot(o);if(u){if(i.current&&Tg(u.target)){const c=new de(u.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,jt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=He();this.He.forEach(((i,o)=>{let u=!0;o.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new Ey(e,n,this.Ye,this.je,r);return this.je=Tr(),this.Je=cm(),this.He=cm(),this.Ye=new kt(Fe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new _T,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ut(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ut(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _T),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cm(){return new kt(de.comparator)}function IT(){return new kt(de.comparator)}const qU={asc:"ASCENDING",desc:"DESCENDING"},$U={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HU={and:"AND",or:"OR"};class KU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ob(t,e){return t.useProto3Json||my(e)?e:{value:e}}function Mc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GU(t,e){return Mc(t,e.toTimestamp())}function Qn(t){return _e(!!t,49232),Pe.fromTimestamp((function(e){const n=qi(e);return new rt(n.seconds,n.nanos)})(t))}function Gx(t,e){return lb(t,e).canonicalString()}function lb(t,e){const n=(function(r){return new at(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function vA(t){const e=at.fromString(t);return _e(_A(e),10190,{key:e.toString()}),e}function Pg(t,e){return Gx(t.databaseId,e.path)}function xl(t,e){const n=vA(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(xA(n))}function wA(t,e){return Gx(t.databaseId,e)}function bA(t){const e=vA(t);return e.length===4?at.emptyPath():xA(e)}function ub(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xA(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function PT(t,e,n){return{name:Pg(t,e),fields:n.value.mapValue.fields}}function WU(t,e,n){const r=xl(t,e.name),s=Qn(e.updateTime),i=e.createTime?Qn(e.createTime):Pe.min(),o=new Fn({mapValue:{fields:e.fields}}),u=jt.newFoundDocument(r,s,i,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function QU(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ke(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(c,d){return c.useProto3Json?(_e(d===void 0||typeof d=="string",58123),cn.fromBase64String(d||"")):(_e(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),cn.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(c){const d=c.code===void 0?te.UNKNOWN:pA(c.code);return new ce(d,c.message||"")})(o);n=new gA(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=xl(t,r.document.name),i=Qn(r.document.updateTime),o=r.document.createTime?Qn(r.document.createTime):Pe.min(),u=new Fn({mapValue:{fields:r.document.fields}}),c=jt.newFoundDocument(s,i,o,u),d=r.targetIds||[],p=r.removedTargetIds||[];n=new Gm(d,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=xl(t,r.document),i=r.readTime?Qn(r.readTime):Pe.min(),o=jt.newNoDocument(s,i),u=r.removedTargetIds||[];n=new Gm([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=xl(t,r.document),i=r.removedTargetIds||[];n=new Gm([],i,s,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new FU(s,i),u=r.targetId;n=new mA(u,o)}}return n}function Dg(t,e){let n;if(e instanceof zc)n={update:PT(t,e.key,e.value)};else if(e instanceof Sy)n={delete:Pg(t,e.key)};else if(e instanceof ea)n={update:PT(t,e.key,e.data),updateMask:t9(e.fieldMask)};else{if(!(e instanceof fA))return ke(16599,{Vt:e.type});n={verify:Pg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,i){const o=i.transform;if(o instanceof Dc)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ac)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Nc)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ef)return{fieldPath:i.field.canonicalString(),increment:o.Ae};throw ke(20930,{transform:i.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:GU(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ke(27497)})(t,e.precondition)),n}function cb(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?Bn.updateTime(Qn(s.updateTime)):s.exists!==void 0?Bn.exists(s.exists):Bn.none()})(e.currentDocument):Bn.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(i,o){let u=null;if("setToServerValue"in o)_e(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),u=new Dc;else if("appendMissingElements"in o){const d=o.appendMissingElements.values||[];u=new Ac(d)}else if("removeAllFromArray"in o){const d=o.removeAllFromArray.values||[];u=new Nc(d)}else"increment"in o?u=new ef(i,o.increment):ke(16584,{proto:o});const c=Tt.fromServerFormat(o.fieldPath);return new cA(c,u)})(t,s))):[];if(e.update){e.update.name;const s=xl(t,e.update.name),i=new Fn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=(function(u){const c=u.fieldPaths||[];return new ur(c.map((d=>Tt.fromServerFormat(d))))})(e.updateMask);return new ea(s,i,o,n,r)}return new zc(s,i,n,r)}if(e.delete){const s=xl(t,e.delete);return new Sy(s,n)}if(e.verify){const s=xl(t,e.verify);return new fA(s,n)}return ke(1463,{proto:e})}function XU(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map((n=>(function(r,s){let i=r.updateTime?Qn(r.updateTime):Qn(s);return i.isEqual(Pe.min())&&(i=Qn(s)),new RU(i,r.transformResults||[])})(n,e)))):[]}function CA(t,e){return{documents:[wA(t,e.path)]}}function kA(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wA(t,s);const i=(function(c){if(c.length!==0)return TA(lt.create(c,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(c){if(c.length!==0)return c.map((d=>(function(p){return{field:sc(p.field),direction:JU(p.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=ob(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:s}}function SA(t){let e=bA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){_e(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=(function(p){const g=EA(p);return g instanceof lt&&zx(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((g=>(function(v){return new Zd(ic(v.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let g;return g=typeof p=="object"?p.value:p,my(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,v=p.values||[];return new Ic(v,g)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const g=!p.before,v=p.values||[];return new Ic(v,g)})(n.endAt)),CU(e,s,o,i,u,"F",c,d)}function YU(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EA(t){return t.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ic(e.unaryFilter.field);return We.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ic(e.unaryFilter.field);return We.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ic(e.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ic(e.unaryFilter.field);return We.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(t):t.fieldFilter!==void 0?(function(e){return We.create(ic(e.fieldFilter.field),(function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(e){return lt.create(e.compositeFilter.filters.map((n=>EA(n))),(function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(e.compositeFilter.op))})(t):ke(30097,{filter:t})}function JU(t){return qU[t]}function ZU(t){return $U[t]}function e9(t){return HU[t]}function sc(t){return{fieldPath:t.canonicalString()}}function ic(t){return Tt.fromServerFormat(t.fieldPath)}function TA(t){return t instanceof We?(function(e){if(e.op==="=="){if(fT(e.value))return{unaryFilter:{field:sc(e.field),op:"IS_NAN"}};if(dT(e.value))return{unaryFilter:{field:sc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(fT(e.value))return{unaryFilter:{field:sc(e.field),op:"IS_NOT_NAN"}};if(dT(e.value))return{unaryFilter:{field:sc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sc(e.field),op:ZU(e.op),value:e.value}}})(t):t instanceof lt?(function(e){const n=e.getFilters().map((r=>TA(r)));return n.length===1?n[0]:{compositeFilter:{op:e9(e.op),filters:n}}})(t):ke(54877,{filter:t})}function t9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _A(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Li{constructor(e,n,r,s,i=Pe.min(),o=Pe.min(),u=cn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IA{constructor(e){this.yt=e}}function n9(t,e){let n;if(e.document)n=WU(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=de.fromSegments(e.noDocument.path),s=Ml(e.noDocument.readTime);n=jt.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ke(56709);{const r=de.fromSegments(e.unknownDocument.path),s=Ml(e.unknownDocument.version);n=jt.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(r){const s=new rt(r[0],r[1]);return Pe.fromTimestamp(s)})(e.readTime)),n}function DT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ag(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,i){return{name:Pg(s,i.key),fields:i.data.value.mapValue.fields,updateTime:Mc(s,i.version.toTimestamp()),createTime:Mc(s,i.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Nl(e.version)};else{if(!e.isUnknownDocument())return ke(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Nl(e.version)}}return r}function Ag(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Nl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ml(t){const e=new rt(t.seconds,t.nanoseconds);return Pe.fromTimestamp(e)}function cl(t,e){const n=(e.baseMutations||[]).map((i=>cb(t.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>cb(t.yt,i))),s=rt.fromMillis(e.localWriteTimeMs);return new qx(e.batchId,s,n,r)}function bd(t){const e=Ml(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ml(t.lastLimboFreeSnapshotVersion):Pe.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const i=s.documents.length;return _e(i===1,1966,{count:i}),Qr(Ef(bA(s.documents[0])))})(t.query):(function(s){return Qr(SA(s))})(t.query),new Li(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,cn.fromBase64String(t.resumeToken))}function PA(t,e){const n=Nl(e.snapshotVersion),r=Nl(e.lastLimboFreeSnapshotVersion);let s;s=Tg(e.target)?CA(t.yt,e.target):kA(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Al(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function DA(t){const e=SA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ig(e,e.limit,"L"):e}function F0(t,e){return new Hx(e.largestBatchId,cb(t.yt,e.overlayMutation))}function AT(t,e){const n=e.path.lastSegment();return[t,zn(e.path.popLast()),n]}function NT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Nl(r.readTime),documentKey:zn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class r9{getBundleMetadata(e,n){return MT(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Ml(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return MT(e).put((function(r){return{bundleId:r.id,createTime:Nl(Qn(r.createTime)),version:r.version}})(n))}getNamedQuery(e,n){return jT(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:DA(s.bundledQuery),readTime:Ml(s.readTime)}})(r)}))}saveNamedQuery(e,n){return jT(e).put((function(r){return{name:r.name,readTime:Nl(Qn(r.readTime)),bundledQuery:r.bundledQuery}})(n))}}function MT(t){return gn(t,gy)}function jT(t){return gn(t,yy)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ty{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Ty(e,r)}getOverlay(e,n){return Kh(e).get(AT(this.userId,n)).next((r=>r?F0(this.serializer,r):null))}getOverlays(e,n){const r=Ks();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((i,o)=>{const u=new Hx(n,o);s.push(this.St(e,u))})),Q.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((o=>s.add(zn(o.getCollectionPath()))));const i=[];return s.forEach((o=>{const u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(Kh(e).Z(Zw,u))})),Q.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Ks(),i=zn(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Kh(e).J(Zw,o).next((u=>{for(const c of u){const d=F0(this.serializer,c);s.set(d.getKey(),d)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const i=Ks();let o;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Kh(e).ee({index:AD,range:u},((c,d,p)=>{const g=F0(this.serializer,d);i.size()<s||g.largestBatchId===o?(i.set(g.getKey(),g),o=g.largestBatchId):p.done()})).next((()=>i))}St(e,n){return Kh(e).put((function(r,s,i){const[o,u,c]=AT(s,i.mutation.key);return{userId:s,collectionPath:u,documentId:c,collectionGroup:i.mutation.key.getCollectionGroup(),largestBatchId:i.largestBatchId,overlayMutation:Dg(r.yt,i.mutation)}})(this.serializer,this.userId,n))}}function Kh(t){return gn(t,vy)}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class s9{bt(e){return gn(e,Ox)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?cn.fromUint8Array(r):cn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hl{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(xt(e.integerValue));else if("doubleValue"in e){const r=xt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Hd(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=qi(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt($i(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?qD(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):by(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):ke(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){var r,s;const i=e.fields||{};this.Ft(n,53);const o=Tc,u=((s=(r=i[o].arrayValue)==null?void 0:r.values)==null?void 0:s.length)||0;this.Ft(n,15),n.Mt(xt(u)),this.Ot(o,n),this.Ct(i[o],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),de.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}hl.Kt=new hl;/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law | agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fu=255;function i9(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function RT(t){const e=64-(function(n){let r=0;for(let s=0;s<8;++s){const i=i9(255&n[s]);if(r+=i,i!==8)break}return r})(t);return Math.ceil(e/8)}class a9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=RT(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=RT(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(Fu),this.sn(255)}_n(){this.an(Fu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const i=new DataView(new ArrayBuffer(8));return i.setFloat64(0,s,!1),new Uint8Array(i.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Fu?(this.sn(Fu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Fu?(this.an(Fu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class o9{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class l9{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Gh{constructor(){this.cn=new a9,this.ln=new o9(this.cn),this.hn=new l9(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dl{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new dl(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Wm(this.En),directionalValue:Wm(this.dn),orderedDocumentKey:Wm(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Oa(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=OT(t.En,e.En),n!==0?n:(n=OT(t.dn,e.dn),n!==0?n:de.comparator(t.In,e.In)))}function OT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Wm(t){return kP()?(function(e){let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return n})(t):t}function LT(t){return typeof t!="string"?t:(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(t)}class FT{constructor(e){this.mn=new ut(((n,r)=>Tt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(_e(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Xw(e);if(n!==void 0&&!this.wn(n))return!1;const r=il(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const c=r[i];if(!this.Sn(u,c)||!this.bn(this.fn[o++],c))return!1}++i}for(;i<r.length;++i){const u=r[i];if(o>=this.fn.length||!this.bn(this.fn[o++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new ut(Tt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Um(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Um(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Um(r.field,r.dir==="asc"?0:1)));return new xg(xg.UNKNOWN_ID,this.collectionId,n,$d.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function AA(t){var e,n;if(_e(t instanceof We||t instanceof lt,20012),t instanceof We){if(t instanceof JD){const s=((n=(e=t.value.arrayValue)==null?void 0:e.values)==null?void 0:n.map((i=>We.create(t.field,"==",i))))||[];return lt.create(s,"or")}return t}const r=t.filters.map((s=>AA(s)));return lt.create(r,t.op)}function u9(t){if(t.getFilters().length===0)return[];const e=fb(AA(t));return _e(NA(e),7391),hb(e)||db(e)?[e]:e.getFilters()}function hb(t){return t instanceof We}function db(t){return t instanceof lt&&zx(t)}function NA(t){return hb(t)||db(t)||(function(e){if(e instanceof lt&&rb(e)){for(const n of e.getFilters())if(!hb(n)&&!db(n))return!1;return!0}return!1})(t)}function fb(t){if(_e(t instanceof We||t instanceof lt,34018),t instanceof We)return t;if(t.filters.length===1)return fb(t.filters[0]);const e=t.filters.map((r=>fb(r)));let n=lt.create(e,t.op);return n=Ng(n),NA(n)?n:(_e(n instanceof lt,64498),_e(Pc(n),40251),_e(n.filters.length>1,57927),n.filters.reduce(((r,s)=>Wx(r,s))))}function Wx(t,e){let n;return _e(t instanceof We||t instanceof lt,38388),_e(e instanceof We||e instanceof lt,25473),n=t instanceof We?e instanceof We?(function(r,s){return lt.create([r,s],"and")})(t,e):BT(t,e):e instanceof We?BT(e,t):(function(r,s){if(_e(r.filters.length>0&&s.filters.length>0,48005),Pc(r)&&Pc(s))return QD(r,s.getFilters());const i=rb(r)?r:s,o=rb(r)?s:r,u=i.filters.map((c=>Wx(c,o)));return lt.create(u,"or")})(t,e),Ng(n)}function BT(t,e){if(Pc(e))return QD(e,t.getFilters());{const n=e.filters.map((r=>Wx(t,r)));return lt.create(n,"or")}}function Ng(t){if(_e(t instanceof We||t instanceof lt,11850),t instanceof We)return t;const e=t.getFilters();if(e.length===1)return Ng(e[0]);if(GD(t))return t;const n=e.map((s=>Ng(s))),r=[];return n.forEach((s=>{s instanceof We?r.push(s):s instanceof lt&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:lt.create(r,t.op)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class c9{constructor(){this.Cn=new Qx}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Pr.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class Qx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ut(at.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ut(at.comparator)).toArray()}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const UT="IndexedDbIndexManager",hm=new Uint8Array(0);class h9{constructor(e,n){this.databaseId=n,this.vn=new Qx,this.Fn=new Zi((r=>Al(r)),((r,s)=>Sf(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const i={collectionId:r,parent:zn(s)};return zT(e).put(i)}return Q.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[wD(n),""],!1,!0);return zT(e).J(s).next((i=>{for(const o of i){if(o.collectionId!==n)break;r.push(Hs(o.parent))}return r}))}addFieldIndex(e,n){const r=Wh(e),s=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=Uu(e);return i.next((u=>{o.put(NT(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return i.next()}deleteFieldIndex(e,n){const r=Wh(e),s=Uu(e),i=Bu(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Wh(e),r=Bu(e),s=Uu(e);return n.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new FT(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,n){const r=Bu(e);let s=!0;const i=new Map;return Q.forEach(this.Mn(n),(o=>this.xn(e,o).next((u=>{s&&(s=!!u),i.set(o,u)})))).next((()=>{if(s){let o=He();const u=[];return Q.forEach(i,((c,d)=>{le(UT,`Using index ${(function(N){return`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map((R=>`${R.fieldPath}:${R.kind}`)).join(",")}`})(c)} to execute ${Al(n)}`);const p=(function(N,R){const U=Xw(R);if(U===void 0)return null;for(const V of _g(N,U.fieldPath))switch(V.op){case"array-contains-any":return V.value.arrayValue.values||[];case"array-contains":return[V.value]}return null})(d,c),g=(function(N,R){const U=new Map;for(const V of il(R))for(const K of _g(N,V.fieldPath))switch(K.op){case"==":case"in":U.set(V.fieldPath.canonicalString(),K.value);break;case"not-in":case"!=":return U.set(V.fieldPath.canonicalString(),K.value),Array.from(U.values())}return null})(d,c),v=(function(N,R){const U=[];let V=!0;for(const K of il(R)){const M=K.kind===0?vT(N,K.fieldPath,N.startAt):wT(N,K.fieldPath,N.startAt);U.push(M.value),V&&(V=M.inclusive)}return new Ic(U,V)})(d,c),k=(function(N,R){const U=[];let V=!0;for(const K of il(R)){const M=K.kind===0?wT(N,K.fieldPath,N.endAt):vT(N,K.fieldPath,N.endAt);U.push(M.value),V&&(V=M.inclusive)}return new Ic(U,V)})(d,c),_=this.On(c,d,v),E=this.On(c,d,k),T=this.Nn(c,d,g),D=this.Bn(c.indexId,p,_,v.inclusive,E,k.inclusive,T);return Q.forEach(D,(N=>r.Y(N,n.limit).next((R=>{R.forEach((U=>{const V=de.fromSegments(U.documentKey);o.has(V)||(o=o.add(V),u.push(V))}))}))))})).next((()=>u))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=u9(lt.create(e.filters,"and")).map((r=>ib(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,o,u){const c=(n!=null?n.length:1)*Math.max(r.length,i.length),d=c/(n!=null?n.length:1),p=[];for(let g=0;g<c;++g){const v=n?this.Ln(n[g/d]):hm,k=this.kn(e,v,r[g%d],s),_=this.qn(e,v,i[g%d],o),E=u.map((T=>this.kn(e,v,T,!0)));p.push(...this.createRange(k,_,E))}return p}kn(e,n,r,s){const i=new dl(e,de.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new dl(e,de.empty(),n,r);return s?i.An():i}xn(e,n){const r=new FT(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let o=null;for(const u of i)r.yn(u)&&(!o||u.fields.length>o.fields.length)&&(o=u);return o}))}getIndexType(e,n){let r=2;const s=this.Mn(n);return Q.forEach(s,(i=>this.xn(e,i).next((o=>{o?r!==0&&o.fields.length<(function(u){let c=new ut(Tt.comparator),d=!1;for(const p of u.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:c=c.add(g.field));for(const p of u.orderBy)p.field.isKeyField()||(c=c.add(p.field));return c.size+(d?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(i){return i.limit!==null})(n)&&s.length>1&&r===2?1:r))}Qn(e,n){const r=new Gh;for(const s of il(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Pn(s.kind);hl.Kt.Dt(i,o)}return r.un()}Ln(e){const n=new Gh;return hl.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Gh;return hl.Kt.Dt(Yd(this.databaseId,n),r.Pn((function(s){const i=il(s);return i.length===0?0:i[i.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new Gh);let i=0;for(const o of il(e)){const u=r[i++];for(const c of s)if(this.Un(n,o.fieldPath)&&Jd(u))s=this.Kn(s,o,u);else{const d=c.Pn(o.kind);hl.Kt.Dt(u,d)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const u of s){const c=new Gh;c.seed(u.un()),hl.Kt.Dt(o,c.Pn(n.kind)),i.push(c)}return i}Un(e,n){return!!e.filters.find((r=>r instanceof We&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Wh(e),s=Uu(e);return(n?r.J(Jw,IDBKeyRange.bound(n,n)):r.J()).next((i=>{const o=[];return Q.forEach(i,(u=>s.get([u.indexId,this.uid]).next((c=>{o.push((function(d,p){const g=p?new $d(p.sequenceNumber,new Pr(Ml(p.readTime),new de(Hs(p.documentKey)),p.largestBatchId)):$d.empty(),v=d.fields.map((([k,_])=>new Um(Tt.fromServerFormat(k),_)));return new xg(d.indexId,d.collectionGroup,v,g)})(u,c))})))).next((()=>o))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Fe(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=Wh(e),i=Uu(e);return this.Gn(e).next((o=>s.J(Jw,IDBKeyRange.bound(n,n)).next((u=>Q.forEach(u,(c=>i.put(NT(c.indexId,this.uid,o,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((s,i)=>{const o=r.get(s.collectionGroup);return(o?Q.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Q.forEach(u,(c=>this.zn(e,s,c).next((d=>{const p=this.jn(i,c);return d.isEqual(p)?Q.resolve():this.Jn(e,i,c,d,p)})))))))}))}Hn(e,n,r,s){return Bu(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return Bu(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=Bu(e);let i=new ut(Oa);return s.ee({index:DD,range:IDBKeyRange.only([r.indexId,this.uid,Wm(this.$n(r,n))])},((o,u)=>{i=i.add(new dl(r.indexId,n,LT(u.arrayValue),LT(u.directionalValue)))})).next((()=>i))}jn(e,n){let r=new ut(Oa);const s=this.Qn(n,e);if(s==null)return r;const i=Xw(n);if(i!=null){const o=e.data.field(i.fieldPath);if(Jd(o))for(const u of o.arrayValue.values||[])r=r.add(new dl(n.indexId,e.key,this.Ln(u),s))}else r=r.add(new dl(n.indexId,e.key,hm,s));return r}Jn(e,n,r,s,i){le(UT,"Updating index entries for document '%s'",n.key);const o=[];return(function(u,c,d,p,g){const v=u.getIterator(),k=c.getIterator();let _=Lu(v),E=Lu(k);for(;_||E;){let T=!1,D=!1;if(_&&E){const N=d(_,E);N<0?D=!0:N>0&&(T=!0)}else _!=null?D=!0:T=!0;T?(p(E),E=Lu(k)):D?(g(_),_=Lu(v)):(_=Lu(v),E=Lu(k))}})(s,i,Oa,(u=>{o.push(this.Hn(e,n,r,u))}),(u=>{o.push(this.Yn(e,n,r,u))})),Q.waitFor(o)}Gn(e){let n=1;return Uu(e).ee({index:PD,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((o,u)=>Oa(o,u))).filter(((o,u,c)=>!u||Oa(o,c[u-1])!==0));const s=[];s.push(e);for(const o of r){const u=Oa(o,e),c=Oa(o,n);if(u===0)s[0]=e.An();else if(u>0&&c<0)s.push(o),s.push(o.An());else if(c>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Zn(s[o],s[o+1]))return[];const u=s[o].Vn(this.uid,hm,de.empty()),c=s[o+1].Vn(this.uid,hm,de.empty());i.push(IDBKeyRange.bound(u,c))}return i}Zn(e,n){return Oa(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(VT)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((s=>s||ke(44426))))).next(VT)}}function zT(t){return gn(t,Wd)}function Bu(t){return gn(t,Pd)}function Wh(t){return gn(t,Rx)}function Uu(t){return gn(t,Id)}function VT(t){_e(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;Nx(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Pr(e.readTime,e.documentKey,n)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MA=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jA(t,e,n){const r=t.store(ds),s=t.store(Cc),i=[],o=IDBKeyRange.only(n.batchId);let u=0;const c=r.ee({range:o},((p,g,v)=>(u++,v.delete())));i.push(c.next((()=>{_e(u===1,47070,{batchId:n.batchId})})));const d=[];for(const p of n.mutations){const g=TD(e,p.key.path,n.batchId);i.push(s.delete(g)),d.push(p.key)}return Q.waitFor(i).next((()=>d))}function Mg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ke(14731);e=t.noDocument}return JSON.stringify(e).length}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(MA,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class _y{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){_e(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new _y(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return La(e).ee({index:fl,range:r},((s,i,o)=>{n=!1,o.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const i=ac(e),o=La(e);return o.add({}).next((u=>{_e(typeof u=="number",49019);const c=new qx(u,n,r,s),d=(function(v,k,_){const E=_.baseMutations.map((D=>Dg(v.yt,D))),T=_.mutations.map((D=>Dg(v.yt,D)));return{userId:k,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:E,mutations:T}})(this.serializer,this.userId,c),p=[];let g=new ut(((v,k)=>Fe(v.canonicalString(),k.canonicalString())));for(const v of s){const k=TD(this.userId,v.key.path,u);g=g.add(v.key.path.popLast()),p.push(o.put(d)),p.push(i.put(k,UB))}return g.forEach((v=>{p.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[u]=c.keys()})),Q.waitFor(p).next((()=>c))}))}lookupMutationBatch(e,n){return La(e).get(n).next((r=>r?(_e(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),cl(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return La(e).ee({index:fl,range:s},((o,u,c)=>{u.userId===this.userId&&(_e(u.batchId>=r,47524,{tr:r}),i=cl(this.serializer,u)),c.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=wl;return La(e).ee({index:fl,range:n,reverse:!0},((s,i,o)=>{r=i.batchId,o.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,wl],[this.userId,Number.POSITIVE_INFINITY]);return La(e).J(fl,n).next((r=>r.map((s=>cl(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=zm(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return ac(e).ee({range:s},((o,u,c)=>{const[d,p,g]=o,v=Hs(p);if(d===this.userId&&n.path.isEqual(v))return La(e).get(g).next((k=>{if(!k)throw ke(61480,{nr:o,batchId:g});_e(k.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:k.userId,batchId:g}),i.push(cl(this.serializer,k))}));c.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Fe);const s=[];return n.forEach((i=>{const o=zm(this.userId,i.path),u=IDBKeyRange.lowerBound(o),c=ac(e).ee({range:u},((d,p,g)=>{const[v,k,_]=d,E=Hs(k);v===this.userId&&i.path.isEqual(E)?r=r.add(_):g.done()}));s.push(c)})),Q.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=zm(this.userId,r),o=IDBKeyRange.lowerBound(i);let u=new ut(Fe);return ac(e).ee({range:o},((c,d,p)=>{const[g,v,k]=c,_=Hs(v);g===this.userId&&r.isPrefixOf(_)?_.length===s&&(u=u.add(k)):p.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],s=[];return n.forEach((i=>{s.push(La(e).get(i).next((o=>{if(o===null)throw ke(35274,{batchId:i});_e(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:i}),r.push(cl(this.serializer,o))})))})),Q.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return jA(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(i){return[i]})(this.userId)),s=[];return ac(e).ee({range:r},((i,o,u)=>{if(i[0]===this.userId){const c=Hs(i[1]);s.push(c)}else u.done()})).next((()=>{_e(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,n){return RA(e,this.userId,n)}_r(e){return OA(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:wl,lastStreamToken:""}))}}function RA(t,e,n){const r=zm(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return ac(t).ee({range:i,X:!0},((u,c,d)=>{const[p,g,v]=u;p===e&&g===s&&(o=!0),d.done()})).next((()=>o))}function La(t){return gn(t,ds)}function ac(t){return gn(t,Cc)}function OA(t){return gn(t,Kd)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jl(0)}static cr(){return new jl(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class d9{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new jl(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Pe.fromTimestamp(new rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>zu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(_e(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let s=0;const i=[];return zu(e).ee(((o,u)=>{const c=bd(u);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(s++,i.push(this.removeTargetData(e,c)))})).next((()=>Q.waitFor(i))).next((()=>s))}forEachTarget(e,n){return zu(e).ee(((r,s)=>{const i=bd(s);n(i)}))}lr(e){return $T(e).get(Sg).next((n=>(_e(n!==null,2888),n)))}hr(e,n){return $T(e).put(Sg,n)}Pr(e,n){return zu(e).put(PA(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Al(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return zu(e).ee({range:s,index:ID},((o,u,c)=>{const d=bd(u);Sf(n,d.target)&&(i=d,c.done())})).next((()=>i))}addMatchingKeys(e,n,r){const s=[],i=Xa(e);return n.forEach((o=>{const u=zn(o.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,o))})),Q.waitFor(s)}removeMatchingKeys(e,n,r){const s=Xa(e);return Q.forEach(n,(i=>{const o=zn(i.path);return Q.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,n){const r=Xa(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Xa(e);let i=He();return s.ee({range:r,X:!0},((o,u,c)=>{const d=Hs(o[1]),p=new de(d);i=i.add(p)})).next((()=>i))}containsKey(e,n){const r=zn(n.path),s=IDBKeyRange.bound([r],[wD(r)],!1,!0);let i=0;return Xa(e).ee({index:jx,X:!0,range:s},(([o,u],c,d)=>{o!==0&&(i++,d.done())})).next((()=>i>0))}At(e,n){return zu(e).get(n).next((r=>r?bd(r):null))}}function zu(t){return gn(t,kc)}function $T(t){return gn(t,bl)}function Xa(t){return gn(t,Sc)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const HT="LruGarbageCollector",f9=1048576;function KT([t,e],[n,r]){const s=Fe(t,n);return s===0?Fe(e,r):s}class p9{constructor(e){this.Ir=e,this.buffer=new ut(KT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();KT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LA{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(HT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yo(n)?le(HT,"Ignoring IndexedDB error during garbage collection: ",n):await $l(n)}await this.Vr(3e5)}))}}class m9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Kr.ce);const r=new p9(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(qT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,u,c,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,o=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),nc()<=Ge.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${s} in `+(u-o)+`ms
	Removed ${i} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(d-c)+`ms
Total Duration: ${d-p}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function FA(t,e){return new m9(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class g9{constructor(e,n){this.db=e,this.garbageCollector=FA(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,s)=>n(s)))}addReference(e,n,r){return dm(e,r)}removeReference(e,n,r){return dm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return dm(e,n)}br(e,n){return(function(r,s){let i=!1;return OA(r).te((o=>RA(r,o,s).next((u=>(u&&(i=!0),Q.resolve(!u)))))).next((()=>i))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((o,u)=>{if(u<=n){const c=this.br(e,o).next((d=>{if(!d)return i++,r.getEntry(e,o).next((()=>(r.removeEntry(o,Pe.min()),Xa(e).delete((function(p){return[0,zn(p.path)]})(o)))))}));s.push(c)}})).next((()=>Q.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return dm(e,n)}Sr(e,n){const r=Xa(e);let s,i=Kr.ce;return r.ee({index:jx},(([o,u],{path:c,sequenceNumber:d})=>{o===0?(i!==Kr.ce&&n(new de(Hs(s)),i),i=d,s=c):i=Kr.ce})).next((()=>{i!==Kr.ce&&n(new de(Hs(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dm(t,e){return Xa(t).put((function(n,r){return{targetId:0,path:zn(n.path),sequenceNumber:r}})(e,t.currentSequenceNumber))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BA{constructor(){this.changes=new Zi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class y9{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Go(e).put(r)}removeEntry(e,n,r){return Go(e).delete((function(s,i){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Ag(i),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=jt.newInvalidDocument(n);return Go(e).ee({index:Vm,range:IDBKeyRange.only(Qh(n))},((s,i)=>{r=this.Cr(n,i)})).next((()=>r))}vr(e,n){let r={size:0,document:jt.newInvalidDocument(n)};return Go(e).ee({index:Vm,range:IDBKeyRange.only(Qh(n))},((s,i)=>{r={document:this.Cr(n,i),size:Mg(i)}})).next((()=>r))}getEntries(e,n){let r=Tr();return this.Fr(e,n,((s,i)=>{const o=this.Cr(s,i);r=r.insert(s,o)})).next((()=>r))}Mr(e,n){let r=Tr(),s=new kt(de.comparator);return this.Fr(e,n,((i,o)=>{const u=this.Cr(i,o);r=r.insert(i,u),s=s.insert(i,Mg(o))})).next((()=>({documents:r,Or:s})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let s=new ut(QT);n.forEach((c=>s=s.add(c)));const i=IDBKeyRange.bound(Qh(s.first()),Qh(s.last())),o=s.getIterator();let u=o.getNext();return Go(e).ee({index:Vm,range:i},((c,d,p)=>{const g=de.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;u&&QT(u,g)<0;)r(u,null),u=o.getNext();u&&u.isEqual(g)&&(r(u,d),u=o.hasNext()?o.getNext():null),u?p.j(Qh(u)):p.done()})).next((()=>{for(;u;)r(u,null),u=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,u=[o.popLast().toArray(),o.lastSegment(),Ag(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Go(e).J(IDBKeyRange.bound(u,c,!0)).next((d=>{i==null||i.incrementDocumentReadCount(d.length);let p=Tr();for(const g of d){const v=this.Cr(de.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(Tf(n,v)||s.has(v.key))&&(p=p.insert(v.key,v))}return p}))}getAllFromCollectionGroup(e,n,r,s){let i=Tr();const o=WT(n,r),u=WT(n,Pr.max());return Go(e).ee({index:_D,range:IDBKeyRange.bound(o,u,!0)},((c,d,p)=>{const g=this.Cr(de.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);i=i.insert(g.key,g),i.size===s&&p.done()})).next((()=>i))}newChangeBuffer(e){return new v9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return GT(e).get(Yw).next((n=>(_e(!!n,20021),n)))}Dr(e,n){return GT(e).put(Yw,n)}Cr(e,n){if(n){const r=n9(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Pe.min())))return r}return jt.newInvalidDocument(e)}}function UA(t){return new y9(t)}class v9 extends BA{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Zi((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new ut(((i,o)=>Fe(i.canonicalString(),o.canonicalString())));return this.changes.forEach(((i,o)=>{const u=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,u.readTime)),o.isValidDocument()){const c=DT(this.Nr.serializer,o);s=s.add(i.path.popLast());const d=Mg(c);r+=d-u.size,n.push(this.Nr.addEntry(e,i,c))}else if(r-=u.size,this.trackRemovals){const c=DT(this.Nr.serializer,o.convertToNoDocument(Pe.min()));n.push(this.Nr.addEntry(e,i,c))}})),s.forEach((i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:s})=>(s.forEach(((i,o)=>{this.Br.set(i,{size:o,readTime:r.get(i).readTime})})),r)))}}function GT(t){return gn(t,Gd)}function Go(t){return gn(t,kg)}function Qh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function WT(t,e){const n=e.documentKey.path.toArray();return[t,Ag(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function QT(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Fe(n[i],r[i]),s)return s;return s=Fe(n.length,r.length),s||(s=Fe(n[n.length-2],r[r.length-2]),s||Fe(n[n.length-1],r[r.length-1]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class w9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zA{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Md(r.mutation,s,ur.empty(),rt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=He()){const s=Ks();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=vd();return i.forEach(((u,c)=>{o=o.insert(u,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Ks();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,He())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,u)=>{n.set(o,u)}))}))}computeViews(e,n,r,s){let i=Tr();const o=Nd(),u=(function(){return Nd()})();return n.forEach(((c,d)=>{const p=r.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof ea)?i=i.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),Md(p.mutation,d,p.mutation.getFieldMask(),rt.now())):o.set(d.key,ur.empty())})),this.recalculateAndSaveOverlays(e,i).next((c=>(c.forEach(((d,p)=>o.set(d,p))),n.forEach(((d,p)=>u.set(d,new w9(p,o.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Nd();let s=new kt(((o,u)=>o-u)),i=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const u of o)u.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let p=r.get(c)||ur.empty();p=u.applyToLocalView(d,p),r.set(c,p);const g=(s.get(u.batchId)||He()).add(c);s=s.insert(u.batchId,g)}))})).next((()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,p=c.value,g=sA();p.forEach((v=>{if(!i.has(v)){const k=hA(n.get(v),r.get(v));k!==null&&g.set(v,k),i=i.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return Q.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Ks());let u=qd,c=i;return o.next((d=>Q.forEach(d,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),i.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{c=c.insert(p,v)}))))).next((()=>this.populateOverlays(e,d,i))).next((()=>this.computeViews(e,c,d,He()))).next((p=>({batchId:u,changes:rA(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((r=>{let s=vd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=vd();return this.indexManager.getCollectionParents(e,i).next((u=>Q.forEach(u,(c=>{const d=(function(p,g){return new Uc(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((p=>{p.forEach(((g,v)=>{o=o.insert(g,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((c,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,jt.newInvalidDocument(p)))}));let u=vd();return o.forEach(((c,d)=>{const p=i.get(c);p!==void 0&&Md(p.mutation,d,ur.empty(),rt.now()),Tf(n,d)&&(u=u.insert(c,d))})),u}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class b9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:Qn(r.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:DA(r.bundledQuery),readTime:Qn(r.readTime)}})(n)),Q.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class x9{constructor(){this.overlays=new kt(de.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ks();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Ks(),i=n.length+1,o=new de(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new kt(((d,p)=>d-p));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=i.get(d.largestBatchId);p===null&&(p=Ks(),i=i.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const u=Ks(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,p)=>u.set(d,p))),!(u.size()>=s)););return Q.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Hx(n,r));let i=this.qr.get(n);i===void 0&&(i=He(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class C9{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xx{constructor(){this.Qr=new ut(bn.$r),this.Ur=new ut(bn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new bn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new bn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new de(new at([])),r=new bn(n,e),s=new bn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new at([])),r=new bn(n,e),s=new bn(n,e+1);let i=He();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new bn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class k9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ut(bn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qx(i,n,r,s);this.mutationQueue.push(o);for(const u of s)this.Zr=this.Zr.add(new bn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?wl:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bn(n,0),s=new bn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const u=this.Xr(o.Yr);i.push(u)})),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Fe);return n.forEach((s=>{const i=new bn(s,0),o=new bn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(u=>{r=r.add(u.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;de.isDocumentKey(i)||(i=i.child(""));const o=new bn(new de(i),0);let u=new ut(Fe);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(u=u.add(c.Yr)),!0)}),o),Q.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(s=>{const i=new bn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new bn(n,0),s=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S9{constructor(e){this.ri=e,this.docs=(function(){return new kt(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=Tr();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():jt.newInvalidDocument(s))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Tr();const o=n.path,u=new de(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Nx(CD(p),r)<=0||(s.has(p.key)||Tf(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ke(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new E9(this)}getSize(e){return Q.resolve(this.size)}}class E9 extends BA{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class T9{constructor(e){this.persistence=e,this.si=new Zi((n=>Al(n)),Sf),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Xx,this.targetCount=0,this.ai=jl.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new jl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Q.waitFor(i).next((()=>s))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Kr(0),this.li=!1,this.li=!0,this.hi=new C9,this.referenceDelegate=e(this),this.Pi=new T9(this),this.indexManager=new c9,this.remoteDocumentCache=(function(r){return new S9(r)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new IA(n),this.Ii=new b9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new x9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new k9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new _9(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class _9 extends SD{constructor(e){super(),this.currentSequenceNumber=e}}class Iy{constructor(e){this.persistence=e,this.Ri=new Xx,this.Vi=null}static mi(e){return new Iy(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const s=de.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Pe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class jg{constructor(e,n){this.persistence=e,this.pi=new Zi((r=>zn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=FA(this,n)}static mi(e,n){return new jg(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Q.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((u=>{u||(r++,i.removeEntry(o,Pe.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$m(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I9{constructor(e){this.serializer=e}k(e,n,r,s){const i=new py("createOrUpgrade",n);r<1&&s>=1&&((function(u){u.createObjectStore(kf)})(e),(function(u){u.createObjectStore(Kd,{keyPath:BB}),u.createObjectStore(ds,{keyPath:aT,autoIncrement:!0}).createIndex(fl,oT,{unique:!0}),u.createObjectStore(Cc)})(e),XT(e),(function(u){u.createObjectStore(al)})(e));let o=Q.resolve();return r<3&&s>=3&&(r!==0&&((function(u){u.deleteObjectStore(Sc),u.deleteObjectStore(kc),u.deleteObjectStore(bl)})(e),XT(e)),o=o.next((()=>(function(u){const c=u.store(bl),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pe.min().toTimestamp(),targetCount:0};return c.put(Sg,d)})(i)))),r<4&&s>=4&&(r!==0&&(o=o.next((()=>(function(u,c){return c.store(ds).J().next((d=>{u.deleteObjectStore(ds),u.createObjectStore(ds,{keyPath:aT,autoIncrement:!0}).createIndex(fl,oT,{unique:!0});const p=c.store(ds),g=d.map((v=>p.put(v)));return Q.waitFor(g)}))})(e,i)))),o=o.next((()=>{(function(u){u.createObjectStore(Ec,{keyPath:WB})})(e)}))),r<5&&s>=5&&(o=o.next((()=>this.yi(i)))),r<6&&s>=6&&(o=o.next((()=>((function(u){u.createObjectStore(Gd)})(e),this.wi(i))))),r<7&&s>=7&&(o=o.next((()=>this.Si(i)))),r<8&&s>=8&&(o=o.next((()=>this.bi(e,i)))),r<9&&s>=9&&(o=o.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(o=o.next((()=>this.Di(i)))),r<11&&s>=11&&(o=o.next((()=>{(function(u){u.createObjectStore(gy,{keyPath:QB})})(e),(function(u){u.createObjectStore(yy,{keyPath:XB})})(e)}))),r<12&&s>=12&&(o=o.next((()=>{(function(u){const c=u.createObjectStore(vy,{keyPath:rU});c.createIndex(Zw,sU,{unique:!1}),c.createIndex(AD,iU,{unique:!1})})(e)}))),r<13&&s>=13&&(o=o.next((()=>(function(u){const c=u.createObjectStore(kg,{keyPath:zB});c.createIndex(Vm,VB),c.createIndex(_D,qB)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(al)))),r<14&&s>=14&&(o=o.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(o=o.next((()=>(function(u){u.createObjectStore(Rx,{keyPath:YB,autoIncrement:!0}).createIndex(Jw,JB,{unique:!1}),u.createObjectStore(Id,{keyPath:ZB}).createIndex(PD,eU,{unique:!1}),u.createObjectStore(Pd,{keyPath:tU}).createIndex(DD,nU,{unique:!1})})(e)))),r<16&&s>=16&&(o=o.next((()=>{n.objectStore(Id).clear()})).next((()=>{n.objectStore(Pd).clear()}))),r<17&&s>=17&&(o=o.next((()=>{(function(u){u.createObjectStore(Ox,{keyPath:aU})})(e)}))),r<18&&s>=18&&kP()&&(o=o.next((()=>{n.objectStore(Id).clear()})).next((()=>{n.objectStore(Pd).clear()}))),o}wi(e){let n=0;return e.store(al).ee(((r,s)=>{n+=Mg(s)})).next((()=>{const r={byteSize:n};return e.store(Gd).put(Yw,r)}))}yi(e){const n=e.store(Kd),r=e.store(ds);return n.J().next((s=>Q.forEach(s,(i=>{const o=IDBKeyRange.bound([i.userId,wl],[i.userId,i.lastAcknowledgedBatchId]);return r.J(fl,o).next((u=>Q.forEach(u,(c=>{_e(c.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const d=cl(this.serializer,c);return jA(e,i.userId,d).next((()=>{}))}))))}))))}Si(e){const n=e.store(Sc),r=e.store(al);return e.store(bl).get(Sg).next((s=>{const i=[];return r.ee(((o,u)=>{const c=new at(o),d=(function(p){return[0,zn(p)]})(c);i.push(n.get(d).next((p=>p?Q.resolve():(g=>n.put({targetId:0,path:zn(g),sequenceNumber:s.highestListenSequenceNumber}))(c))))})).next((()=>Q.waitFor(i)))}))}bi(e,n){e.createObjectStore(Wd,{keyPath:GB});const r=n.store(Wd),s=new Qx,i=o=>{if(s.add(o)){const u=o.lastSegment(),c=o.popLast();return r.put({collectionId:u,parent:zn(c)})}};return n.store(al).ee({X:!0},((o,u)=>{const c=new at(o);return i(c.popLast())})).next((()=>n.store(Cc).ee({X:!0},(([o,u,c],d)=>{const p=Hs(u);return i(p.popLast())}))))}Di(e){const n=e.store(kc);return n.ee(((r,s)=>{const i=bd(s),o=PA(this.serializer,i);return n.put(o)}))}Ci(e,n){const r=n.store(al),s=[];return r.ee(((i,o)=>{const u=n.store(kg),c=(function(p){return p.document?new de(at.fromString(p.document.name).popFirst(5)):p.noDocument?de.fromSegments(p.noDocument.path):p.unknownDocument?de.fromSegments(p.unknownDocument.path):ke(36783)})(o).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(u.put(d))})).next((()=>Q.waitFor(s)))}Fi(e,n){const r=n.store(ds),s=UA(this.serializer),i=new Yx(Iy.mi,this.serializer.yt);return r.J().next((o=>{const u=new Map;return o.forEach((c=>{let d=u.get(c.userId)??He();cl(this.serializer,c).keys().forEach((p=>d=d.add(p))),u.set(c.userId,d)})),Q.forEach(u,((c,d)=>{const p=new In(d),g=Ty.wt(this.serializer,p),v=i.getIndexManager(p),k=_y.wt(p,this.serializer,v,i.referenceDelegate);return new zA(s,k,g,v).recalculateAndSaveOverlaysForDocumentKeys(new eb(n,Kr.ce),c).next()}))}))}}function XT(t){t.createObjectStore(Sc,{keyPath:HB}).createIndex(jx,KB,{unique:!0}),t.createObjectStore(kc,{keyPath:"targetId"}).createIndex(ID,$B,{unique:!0}),t.createObjectStore(bl)}const Fa="IndexedDbPersistence",B0=18e5,U0=5e3,z0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",P9="main";class Jx{constructor(e,n,r,s,i,o,u,c,d,p,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=o,this.document=u,this.xi=d,this.Oi=p,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!Jx.v())throw new ce(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new g9(this,s),this.$i=n+P9,this.serializer=new IA(c),this.Ui=new to(this.$i,this.Ni,new I9(this.serializer)),this.hi=new s9,this.Pi=new d9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=UA(this.serializer),this.Ii=new r9,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&Hn(Fa,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,z0);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Kr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>fm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(yo(e))return le(Fa,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(Fa,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Xh(e).get(Ou).next((n=>Q.resolve(this.es(n))))}ts(e){return fm(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,B0)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=gn(n,Ec);return r.J().next((s=>{const i=this.ss(s,B0),o=s.filter((u=>i.indexOf(u)===-1));return Q.forEach(o,(u=>r.delete(u.clientId))).next((()=>o))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):Xh(e).get(Ou).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,U0)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,z0);return!1}}return!(!this.networkEnabled||!this.inForeground)||fm(e).J().next((r=>this.ss(r,U0).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||o&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&le(Fa,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[kf,Ec],(e=>{const n=new eb(e,Kr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>fm(e).J().next((n=>this.ss(n,B0).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return _y.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new h9(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Ty.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){le(Fa,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(function(u){return u===18?uU:u===17?RD:u===16?lU:u===15?Lx:u===14?jD:u===13?MD:u===12?oU:u===11?ND:void ke(60245)})(this.Ni);let o;return this.Ui.runTransaction(e,s,i,(u=>(o=new eb(u,this.ci?this.ci.next():Kr.ce),n==="readwrite-primary"?this.Hi(o).next((c=>!!c||this.Yi(o))).next((c=>{if(!c)throw Hn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ce(te.FAILED_PRECONDITION,kD);return r(o)})).next((c=>this.Xi(o).next((()=>c)))):this.Is(o).next((()=>r(o)))))).then((u=>(o.raiseOnCommittedEvent(),u)))}Is(e){return Xh(e).get(Ou).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,U0)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ce(te.FAILED_PRECONDITION,z0)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xh(e).put(Ou,n)}static v(){return to.v()}Zi(e){const n=Xh(e);return n.get(Ou).next((r=>this.es(r)?(le(Fa,"Releasing primary lease."),n.delete(Ou)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Hn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;CP()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return le(Fa,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Hn(Fa,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Hn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Xh(t){return gn(t,kf)}function fm(t){return gn(t,Ec)}function D9(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=He(),s=He();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Zx(e,n.fromCache,r,s)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class A9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return CP()?8:ED(mn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new A9;return this.Ss(e,n,o).next((u=>{if(i.result=u,this.Vs)return this.bs(e,n,o,u.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(nc()<=Ge.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",rc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(nc()<=Ge.DEBUG&&le("QueryEngine","Query:",rc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(nc()<=Ge.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",rc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):Q.resolve())}ys(e,n){if(bT(n))return Q.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Ig(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=He(...i);return this.ps.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.Ds(n,u);return this.Cs(n,d,o,c.readTime)?this.ys(e,Ig(n,null,"F")):this.vs(e,d,n,c)}))))})))))}ws(e,n,r,s){return bT(n)||s.isEqual(Pe.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?Q.resolve(null):(nc()<=Ge.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),rc(n)),this.vs(e,o,n,NB(s,qd)).next((u=>u)))}))}Ds(e,n){let r=new ut(tA(e));return n.forEach(((s,i)=>{Tf(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return nc()<=Ge.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",rc(n)),this.ps.getDocumentsMatchingQuery(e,n,Pr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const e1="LocalStore",N9=3e8;class M9{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new kt(Fe),this.xs=new Zi((i=>Al(i)),Sf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function qA(t,e,n,r){return new M9(t,e,n,r)}async function $A(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],u=[];let c=He();for(const d of s){o.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}for(const d of i){u.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:u})))}))}))}function j9(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,u,c,d){const p=c.batch,g=p.keys();let v=Q.resolve();return g.forEach((k=>{v=v.next((()=>d.getEntry(u,k))).next((_=>{const E=c.docVersions.get(k);_e(E!==null,48541),_.version.compareTo(E)<0&&(p.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))}))})),v.next((()=>o.mutationQueue.removeMutationBatch(u,p)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let u=He();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(u=u.add(o.batch.mutations[c].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function HA(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function R9(t,e){const n=Be(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const v=s.get(g);if(!v)return;u.push(n.Pi.removeMatchingKeys(i,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(i,p.addedDocuments,g))));let k=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?k=k.withResumeToken(cn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):p.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(p.resumeToken,r)),s=s.insert(g,k),(function(_,E,T){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=N9?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(v,k,p)&&u.push(n.Pi.updateTargetData(i,k))}));let c=Tr(),d=He();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))})),u.push(O9(i,o,e.documentUpdates).next((p=>{c=p.ks,d=p.qs}))),!r.isEqual(Pe.min())){const p=n.Pi.getLastRemoteSnapshotVersion(i).next((g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(p)}return Q.waitFor(u).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,d))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function O9(t,e,n){let r=He(),s=He();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=Tr();return n.forEach(((u,c)=>{const d=i.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(u)),c.isNoDocument()&&c.version.isEqual(Pe.min())?(e.removeEntry(u,c.readTime),o=o.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(u,c)):le(e1,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)})),{ks:o,qs:s}}))}function L9(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=wl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function F9(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,Q.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new Li(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function pb(t,e,n){const r=Be(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!yo(o))throw o;le(e1,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function YT(t,e,n){const r=Be(t);let s=Pe.min(),i=He();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,c,d){const p=Be(u),g=p.xs.get(d);return g!==void 0?Q.resolve(p.Ms.get(g)):p.Pi.getTargetData(c,d)})(r,o,Qr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Pe.min(),n?i:He()))).next((u=>(B9(r,SU(e),u),{documents:u,Qs:i})))))}function B9(t,e,n){let r=t.Os.get(e)||Pe.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class JT{constructor(){this.activeTargetIds=DU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KA{constructor(){this.Mo=new JT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new JT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class U9{Oo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ZT="ConnectivityMonitor";class e_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(ZT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(ZT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let pm=null;function mb(){return pm===null?pm=(function(){return 268435456+Math.round(2147483648*Math.random())})():pm++,"0x"+pm.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const V0="RestConnection",z9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Eg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=mb(),u=this.zo(e,n.toUriEncodedString());le(V0,`Sending RPC '${e}' ${o}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(u),p=zl(d);return this.Jo(e,u,c,r,p).then((g=>(le(V0,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw Pl(V0,`RPC '${e}' ${o} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=z9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class q9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const On="WebChannelConnection";class $9 extends V9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=mb();return new Promise(((u,c)=>{const d=new dD;d.setWithCredentials(!0),d.listenOnce(fD.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Bm.NO_ERROR:const g=d.getResponseJson();le(On,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case Bm.TIMEOUT:le(On,`RPC '${e}' ${o} timed out`),c(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case Bm.HTTP_ERROR:const v=d.getStatus();if(le(On,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let k=d.getResponseJson();Array.isArray(k)&&(k=k[0]);const _=k==null?void 0:k.error;if(_&&_.status&&_.message){const E=(function(T){const D=T.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(D)>=0?D:te.UNKNOWN})(_.status);c(new ce(E,_.message))}else c(new ce(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ce(te.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{le(On,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(s);le(On,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",p,r,15)}))}T_(e,n,r){const s=mb(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gD(),u=mD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=i.join("");le(On,`Creating RPC '${e}' stream ${s}: ${p}`,c);const g=o.createWebChannel(p,c);this.I_(g);let v=!1,k=!1;const _=new q9({Yo:T=>{k?le(On,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(v||(le(On,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),le(On,`RPC '${e}' stream ${s} sending:`,T),g.send(T))},Zo:()=>g.close()}),E=(T,D,N)=>{T.listen(D,(R=>{try{N(R)}catch(U){setTimeout((()=>{throw U}),0)}}))};return E(g,yd.EventType.OPEN,(()=>{k||(le(On,`RPC '${e}' stream ${s} transport opened.`),_.o_())})),E(g,yd.EventType.CLOSE,(()=>{k||(k=!0,le(On,`RPC '${e}' stream ${s} transport closed`),_.a_(),this.E_(g))})),E(g,yd.EventType.ERROR,(T=>{k||(k=!0,Pl(On,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),_.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),E(g,yd.EventType.MESSAGE,(T=>{var D;if(!k){const N=T.data[0];_e(!!N,16349);const R=N,U=(R==null?void 0:R.error)||((D=R[0])==null?void 0:D.error);if(U){le(On,`RPC '${e}' stream ${s} received error:`,U);const V=U.status;let K=(function(I){const A=on[I];if(A!==void 0)return pA(A)})(V),M=U.message;K===void 0&&(K=te.INTERNAL,M="Unknown error status: "+V+" with message "+U.message),k=!0,_.a_(new ce(K,M)),g.close()}else le(On,`RPC '${e}' stream ${s} received:`,N),_.u_(N)}})),E(u,pD.STAT_EVENT,(T=>{T.stat===Ww.PROXY?le(On,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Ww.NOPROXY&&le(On,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function H9(){return typeof window<"u"?window:null}function Qm(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Py(t){return new KU(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class GA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const t_="PersistentStream";class WA{constructor(e,n,r,s,i,o,u,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Hn(n.toString()),Hn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(t_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(t_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class K9 extends WA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=QU(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Pe.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?Pe.min():i.readTime?Qn(i.readTime):Pe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ub(this.serializer),n.addTarget=(function(s,i){let o;const u=i.target;if(o=Tg(u)?{documents:CA(s,u)}:{query:kA(s,u).ft},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=yA(s,i.resumeToken);const c=ob(s,i.expectedCount);c!==null&&(o.expectedCount=c)}else if(i.snapshotVersion.compareTo(Pe.min())>0){o.readTime=Mc(s,i.snapshotVersion.toTimestamp());const c=ob(s,i.expectedCount);c!==null&&(o.expectedCount=c)}return o})(this.serializer,e);const r=YU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ub(this.serializer),n.removeTarget=e,this.q_(n)}}class G9 extends WA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=XU(e.writeResults,e.commitTime),r=Qn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ub(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Dg(this.serializer,r)))};this.q_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class W9{}class Q9 extends W9{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,lb(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(te.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Ho(e,lb(n,r),s,o,u,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(te.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class X9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hn(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Rl="RemoteStore";class Y9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Hl(this)&&(le(Rl,"Restarting streams for network reachability change."),await(async function(u){const c=Be(u);c.Ea.add(4),await If(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Dy(c)})(this))}))})),this.Ra=new X9(r,s)}}async function Dy(t){if(Hl(t))for(const e of t.da)await e(!0)}async function If(t){for(const e of t.da)await e(!1)}function QA(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),s1(n)?r1(n):Vc(n).O_()&&n1(n,e))}function t1(t,e){const n=Be(t),r=Vc(n);n.Ia.delete(e),r.O_()&&XA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Hl(n)&&n.Ra.set("Unknown"))}function n1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vc(t).Y_(e)}function XA(t,e){t.Va.Ue(e),Vc(t).Z_(e)}function r1(t){t.Va=new VU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vc(t).start(),t.Ra.ua()}function s1(t){return Hl(t)&&!Vc(t).x_()&&t.Ia.size>0}function Hl(t){return Be(t).Ea.size===0}function YA(t){t.Va=void 0}async function J9(t){t.Ra.set("Online")}async function Z9(t){t.Ia.forEach(((e,n)=>{n1(t,e)}))}async function ez(t,e){YA(t),s1(t)?(t.Ra.ha(e),r1(t)):t.Ra.set("Unknown")}async function tz(t,e,n){if(t.Ra.set("Online"),e instanceof gA&&e.state===2&&e.cause)try{await(async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Ia.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Ia.delete(o),r.Va.removeTarget(o))})(t,e)}catch(r){le(Rl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rg(t,r)}else if(e instanceof Gm?t.Va.Ze(e):e instanceof mA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const r=await HA(t.localStore);n.compareTo(r)>=0&&await(function(s,i){const o=s.Va.Tt(i);return o.targetChanges.forEach(((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(u.resumeToken,i))}})),o.targetMismatches.forEach(((u,c)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(cn.EMPTY_BYTE_STRING,d.snapshotVersion)),XA(s,u);const p=new Li(d.target,u,c,d.sequenceNumber);n1(s,p)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){le(Rl,"Failed to raise snapshot:",r),await Rg(t,r)}}async function Rg(t,e,n){if(!yo(e))throw e;t.Ea.add(1),await If(t),t.Ra.set("Offline"),n||(n=()=>HA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{le(Rl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dy(t)}))}function JA(t,e){return e().catch((n=>Rg(t,n,e)))}async function Pf(t){const e=Be(t),n=oo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wl;for(;nz(e);)try{const s=await L9(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,rz(e,s)}catch(s){await Rg(e,s)}ZA(e)&&eN(e)}function nz(t){return Hl(t)&&t.Ta.length<10}function rz(t,e){t.Ta.push(e);const n=oo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ZA(t){return Hl(t)&&!oo(t).x_()&&t.Ta.length>0}function eN(t){oo(t).start()}async function sz(t){oo(t).ra()}async function iz(t){const e=oo(t);for(const n of t.Ta)e.ea(n.mutations)}async function az(t,e,n){const r=t.Ta.shift(),s=$x.from(r,e,n);await JA(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Pf(t)}async function oz(t,e){e&&oo(t).X_&&await(async function(n,r){if((function(s){return BU(s)&&s!==te.ABORTED})(r.code)){const s=n.Ta.shift();oo(n).B_(),await JA(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r))),await Pf(n)}})(t,e),ZA(t)&&eN(t)}async function n_(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),le(Rl,"RemoteStore received new credentials");const r=Hl(n);n.Ea.add(3),await If(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dy(n)}async function lz(t,e){const n=Be(t);e?(n.Ea.delete(2),await Dy(n)):e||(n.Ea.add(2),await If(n),n.Ra.set("Unknown"))}function Vc(t){return t.ma||(t.ma=(function(e,n,r){const s=Be(e);return s.sa(),new K9(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:J9.bind(null,t),t_:Z9.bind(null,t),r_:ez.bind(null,t),H_:tz.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),s1(t)?r1(t):t.Ra.set("Unknown")):(await t.ma.stop(),YA(t))}))),t.ma}function oo(t){return t.fa||(t.fa=(function(e,n,r){const s=Be(e);return s.sa(),new G9(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:sz.bind(null,t),r_:oz.bind(null,t),ta:iz.bind(null,t),na:az.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Pf(t)):(await t.fa.stop(),t.Ta.length>0&&(le(Rl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class i1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,u=new i1(e,n,o,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a1(t,e){if(Hn("AsyncQueue",`${e}: ${t}`),yo(t))return new ce(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gc{static emptySet(e){return new gc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=vd(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class r_{constructor(){this.ga=new kt(de.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class jc{constructor(e,n,r,s,i,o,u,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((u=>{o.push({type:0,doc:u})})),new jc(e,n,gc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uz{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class cz{constructor(){this.queries=s_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const r=Be(e),s=r.queries;r.queries=s_(),s.forEach(((i,o)=>{for(const u of o.Sa)u.onError(n)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function s_(){return new Zi((t=>eA(t)),xy)}async function o1(t,e){const n=Be(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new uz,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const u=a1(o,`Initialization of query '${rc(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&u1(n)}async function l1(t,e){const n=Be(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hz(t,e){const n=Be(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const u of o.Sa)u.Fa(s)&&(r=!0);o.wa=s}}r&&u1(n)}function dz(t,e,n){const r=Be(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function u1(t){t.Ca.forEach((e=>{e.next()}))}var gb,i_;(i_=gb||(gb={})).Ma="default",i_.Cache="cache";class c1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new jc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=jc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gb.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tN{constructor(e){this.key=e}}class nN{constructor(e){this.key=e}}class fz{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=tA(e),this.tu=new gc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new r_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,u=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,g)=>{const v=s.get(p),k=Tf(this.query,g)?g:null,_=!!v&&this.mutatedKeys.has(v.key),E=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let T=!1;v&&k?v.data.isEqual(k.data)?_!==E&&(r.track({type:3,doc:k}),T=!0):this.su(v,k)||(r.track({type:2,doc:k}),T=!0,(c&&this.eu(k,c)>0||d&&this.eu(k,d)<0)&&(u=!0)):!v&&k?(r.track({type:0,doc:k}),T=!0):v&&!k&&(r.track({type:1,doc:v}),T=!0,(c||d)&&(u=!0)),T&&(k?(o=o.add(k),i=E?i.add(p):i.delete(p)):(o=o.delete(p),i=i.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{tu:o,iu:r,Cs:u,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((p,g)=>(function(v,k){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:E})}};return _(v)-_(k)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new jc(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new nN(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new tN(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return jc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const h1="SyncEngine";class pz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mz{constructor(e){this.key=e,this.hu=!1}}class gz{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Zi((u=>eA(u)),xy),this.Iu=new Map,this.Eu=new Set,this.du=new kt(de.comparator),this.Au=new Map,this.Ru=new Xx,this.Vu={},this.mu=new Map,this.fu=jl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yz(t,e,n=!0){const r=lN(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await rN(r,e,n,!0),s}async function vz(t,e){const n=lN(t);await rN(n,e,!0,!1)}async function rN(t,e,n,r){const s=await F9(t.localStore,Qr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await wz(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&QA(t.remoteStore,s),u}async function wz(t,e,n,r,s){t.pu=(g,v,k)=>(async function(_,E,T,D){let N=E.view.ru(T);N.Cs&&(N=await YT(_.localStore,E.query,!1).then((({documents:K})=>E.view.ru(K,N))));const R=D&&D.targetChanges.get(E.targetId),U=D&&D.targetMismatches.get(E.targetId)!=null,V=E.view.applyChanges(N,_.isPrimaryClient,R,U);return o_(_,E.targetId,V.au),V.snapshot})(t,g,v,k);const i=await YT(t.localStore,e,!0),o=new fz(e,i.Qs),u=o.ru(i.documents),c=_f.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(u,t.isPrimaryClient,c);o_(t,n,d.au);const p=new pz(e,n,o);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function bz(t,e,n){const r=Be(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!xy(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await pb(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&t1(r.remoteStore,s.targetId),yb(r,s.targetId)})).catch($l)):(yb(r,s.targetId),await pb(r.localStore,s.targetId,!0))}async function xz(t,e){const n=Be(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),t1(n.remoteStore,r.targetId))}async function Cz(t,e,n){const r=uN(t);try{const s=await(function(i,o){const u=Be(i),c=rt.now(),d=o.reduce(((v,k)=>v.add(k.key)),He());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let k=Tr(),_=He();return u.Ns.getEntries(v,d).next((E=>{k=E,k.forEach(((T,D)=>{D.isValidDocument()||(_=_.add(T))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,k))).next((E=>{p=E;const T=[];for(const D of o){const N=LU(D,p.get(D.key).overlayedDocument);N!=null&&T.push(new ea(D.key,N,HD(N.value.mapValue),Bn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,T,o)})).next((E=>{g=E;const T=E.applyToLocalDocumentSet(p,_);return u.documentOverlayCache.saveOverlays(v,E.batchId,T)}))})).then((()=>({batchId:g.batchId,changes:rA(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(i,o,u){let c=i.Vu[i.currentUser.toKey()];c||(c=new kt(Fe)),c=c.insert(o,u),i.Vu[i.currentUser.toKey()]=c})(r,s.batchId,n),await Df(r,s.changes),await Pf(r.remoteStore)}catch(s){const i=a1(s,"Failed to persist write");n.reject(i)}}async function sN(t,e){const n=Be(t);try{const r=await R9(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(_e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?_e(o.hu,14607):s.removedDocuments.size>0&&(_e(o.hu,42227),o.hu=!1))})),await Df(n,r,e)}catch(r){await $l(r)}}function a_(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const u=o.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(i,o){const u=Be(i);u.onlineState=o;let c=!1;u.queries.forEach(((d,p)=>{for(const g of p.Sa)g.va(o)&&(c=!0)})),c&&u1(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kz(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new kt(de.comparator);o=o.insert(i,jt.newNoDocument(i,Pe.min()));const u=He().add(i),c=new Ey(Pe.min(),new Map,new kt(Fe),o,u);await sN(r,c),r.du=r.du.remove(i),r.Au.delete(e),d1(r)}else await pb(r.localStore,e,!1).then((()=>yb(r,e,n))).catch($l)}async function Sz(t,e){const n=Be(t),r=e.batch.batchId;try{const s=await j9(n.localStore,e);aN(n,r,null),iN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Df(n,s)}catch(s){await $l(s)}}async function Ez(t,e,n){const r=Be(t);try{const s=await(function(i,o){const u=Be(i);return u.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let d;return u.mutationQueue.lookupMutationBatch(c,o).next((p=>(_e(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p)))).next((()=>u.mutationQueue.performConsistencyCheck(c))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,o))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d))).next((()=>u.localDocuments.getDocuments(c,d)))}))})(r.localStore,e);aN(r,e,n),iN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Df(r,s)}catch(s){await $l(s)}}function iN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function aN(t,e,n){const r=Be(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function yb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||oN(t,r)}))}function oN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(t1(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),d1(t))}function o_(t,e,n){for(const r of n)r instanceof tN?(t.Ru.addReference(r.key,e),Tz(t,r)):r instanceof nN?(le(h1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||oN(t,r.key)):ke(19791,{wu:r})}function Tz(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(le(h1,"New document in limbo: "+n),t.Eu.add(r),d1(t))}function d1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new de(at.fromString(e)),r=t.fu.next();t.Au.set(r,new mz(n)),t.du=t.du.insert(n,r),QA(t.remoteStore,new Li(Qr(Ef(n.path)),r,"TargetPurposeLimboResolution",Kr.ce))}}async function Df(t,e,n){const r=Be(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{o.push(r.pu(c,e,n).then((d=>{var p;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(d){s.push(d);const g=Zx.As(c.targetId,d);i.push(g)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(u,c){const d=Be(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Q.forEach(c,(g=>Q.forEach(g.Es,(v=>d.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>Q.forEach(g.ds,(v=>d.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!yo(p))throw p;le(e1,"Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const v=d.Ms.get(g),k=v.snapshotVersion,_=v.withLastLimboFreeSnapshotVersion(k);d.Ms=d.Ms.insert(g,_)}}})(r.localStore,i))}async function _z(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){le(h1,"User change. New user:",e.toKey());const r=await $A(n.localStore,e);n.currentUser=e,(function(s,i){s.mu.forEach((o=>{o.forEach((u=>{u.reject(new ce(te.CANCELLED,i))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Df(n,r.Ls)}}function Iz(t,e){const n=Be(t),r=n.Au.get(e);if(r&&r.hu)return He().add(r.key);{let s=He();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const u=n.Tu.get(o);s=s.unionWith(u.view.nu)}return s}}function lN(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kz.bind(null,e),e.Pu.H_=hz.bind(null,e.eventManager),e.Pu.yu=dz.bind(null,e.eventManager),e}function uN(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ez.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Py(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return qA(this.persistence,new VA,e.initialUser,this.serializer)}Cu(e){return new Yx(Iy.mi,this.serializer)}Du(e){return new KA}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class Pz extends tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_e(this.persistence.referenceDelegate instanceof jg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LA(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new Yx((r=>jg.mi(r,n)),this.serializer)}}class Dz extends tf{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await uN(this.xu.syncEngine),await Pf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return qA(this.persistence,new VA,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new LA(r,e.asyncQueue,n)}Mu(e,n){const r=new OB(n,this.persistence);return new RB(e.asyncQueue,r)}Cu(e){const n=D9(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new Jx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,H9(),Qm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new KA}}class Og{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_z.bind(null,this.syncEngine),await lz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cz})()}createDatastore(e){const n=Py(e.databaseInfo.databaseId),r=(function(s){return new $9(s)})(e.databaseInfo);return(function(s,i,o,u){return new Q9(s,i,o,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(n,r,s,i,o){return new Y9(n,r,s,i,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>a_(this.syncEngine,n,0)),(function(){return e_.v()?new e_:new U9})())}createSyncEngine(e,n){return(function(r,s,i,o,u,c,d){const p=new gz(r,s,i,o,u,c);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(r){const s=Be(r);le(Rl,"RemoteStore shutting down."),s.Ea.add(5),await If(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Og.provider={build:()=>new Og};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class f1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lo="FirestoreClient";class Az{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=In.UNAUTHENTICATED,this.clientId=Ax.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{le(lo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(le(lo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=a1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function q0(t,e){t.asyncQueue.verifyOperationInProgress(),le(lo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await $A(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function l_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Nz(t);le(lo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>n_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>n_(e.remoteStore,s))),t._onlineComponents=e}async function Nz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(lo,"Using user provided OfflineComponentProvider");try{await q0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===te.FAILED_PRECONDITION||r.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;Pl("Error using user provided cache. Falling back to memory cache: "+n),await q0(t,new tf)}}else le(lo,"Using default OfflineComponentProvider"),await q0(t,new Pz(void 0));return t._offlineComponents}async function cN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(lo,"Using user provided OnlineComponentProvider"),await l_(t,t._uninitializedComponentsProvider._online)):(le(lo,"Using default OnlineComponentProvider"),await l_(t,new Og))),t._onlineComponents}function Mz(t){return cN(t).then((e=>e.syncEngine))}async function Lg(t){const e=await cN(t),n=e.eventManager;return n.onListen=yz.bind(null,e.syncEngine),n.onUnlisten=bz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xz.bind(null,e.syncEngine),n}function jz(t,e,n={}){const r=new Xs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,o,u,c){const d=new f1({next:g=>{d.Nu(),i.enqueueAndForget((()=>l1(s,p)));const v=g.docs.has(o);!v&&g.fromCache?c.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&u&&u.source==="server"?c.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new c1(Ef(o.path),d,{includeMetadataChanges:!0,qa:!0});return o1(s,p)})(await Lg(t),t.asyncQueue,e,n,r))),r.promise}function Rz(t,e,n={}){const r=new Xs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,o,u,c){const d=new f1({next:g=>{d.Nu(),i.enqueueAndForget((()=>l1(s,p))),g.fromCache&&u.source==="server"?c.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new c1(o,d,{includeMetadataChanges:!0,qa:!0});return o1(s,p)})(await Lg(t),t.asyncQueue,e,n,r))),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const u_=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dN="firestore.googleapis.com",c_=!0;class h_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dN,this.ssl=c_}else this.host=e.host,this.ssl=e.ssl??c_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f9)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hN(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ay{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new bB;switch(n.type){case"firstParty":return new SB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=u_.get(e);n&&(le("ComponentProvider","Removing Datastore"),u_.delete(e),n.terminate())})(this),Promise.resolve()}}function Oz(t,e,n,r={}){var s;t=Wn(t,Ay);const i=zl(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(yx(`https://${c}`),vx("Firestore",!0)),o.host!==dN&&o.host!==c&&Pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:c,ssl:i,emulatorOptions:r};if(!so(d,u)&&(t._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=In.MOCK_USER;else{p=bP(r.mockUserToken,(s=t._app)==null?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new In(v)}t._authCredentials=new xB(new vD(p,g))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Kl=class fN{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fN(this.firestore,e,this._query)}};class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Cf(n,Rt._jsonSchema))return new Rt(e,r||null,new de(at.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:un("string",Rt._jsonSchemaVersion),referencePath:un("string")};class no extends Kl{constructor(e,n,r){super(e,n,Ef(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new de(e))}withConverter(e){return new no(this.firestore,e,this._path)}}function Vn(t,e,...n){if(t=Pt(t),bD("collection","path",e),t instanceof Ay){const r=at.fromString(e,...n);return tT(r),new no(t,null,r)}{if(!(t instanceof Rt||t instanceof no))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return tT(r),new no(t.firestore,null,r)}}function li(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=Ax.newId()),bD("doc","path",e),t instanceof Ay){const r=at.fromString(e,...n);return eT(r),new Rt(t,null,new de(r))}{if(!(t instanceof Rt||t instanceof no))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return eT(r),new Rt(t.firestore,t instanceof no?t.converter:null,new de(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const d_="AsyncQueue";class f_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GA(this,"async_queue_retry"),this._c=()=>{const r=Qm();r&&le(d_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yo(e))throw e;le(d_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Hn("INTERNAL UNHANDLED ERROR: ",p_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=i1.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&ke(47125,{Pc:p_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function p_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function m_(t){return(function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1})(t,["next","error","complete"])}class si extends Ay{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new f_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new f_(e),this._firestoreClient=void 0,await e}}}function Ny(t,e){const n=typeof t=="object"?t:ly(),r=typeof t=="string"?t:Eg,s=mo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=yP("firestore");i&&Oz(s,...i)}return s}function My(t){if(t._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pN(t),t._firestoreClient}function pN(t){var e,n,r;const s=t._freezeSettings(),i=(function(o,u,c,d){return new hU(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,hN(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,((e=t._app)==null?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||(n=s.localCache)!=null&&n._offlineComponentProvider&&(r=s.localCache)!=null&&r._onlineComponentProvider&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Az(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}})(t._componentsProvider))}function Lz(t,e){Pl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return Fz(t,Og.provider,{build:r=>new Dz(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function Fz(t,e,n){if((t=Wn(t,si))._firestoreClient||t._terminated)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ce(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},pN(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hr(cn.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hr(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cf(e,Hr._jsonSchema))return Hr.fromBase64String(e.bytes)}}Hr._jsonSchemaVersion="firestore/bytes/1.0",Hr._jsonSchema={type:un("string",Hr._jsonSchemaVersion),bytes:un("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ry{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ys{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ys._jsonSchemaVersion}}static fromJSON(e){if(Cf(e,Ys._jsonSchema))return new Ys(e.latitude,e.longitude)}}Ys._jsonSchemaVersion="firestore/geoPoint/1.0",Ys._jsonSchema={type:un("string",Ys._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Js{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Js._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cf(e,Js._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Js(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Js._jsonSchemaVersion="firestore/vectorValue/1.0",Js._jsonSchema={type:un("string",Js._jsonSchemaVersion),vectorValues:un("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bz=/^__.*__$/;class Uz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ea(e,this.data,this.fieldMask,n,this.fieldTransforms):new zc(e,this.data,n,this.fieldTransforms)}}class mN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ea(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:t})}}class p1{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new p1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gN(this.Ac)&&Bz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Py(e)}Cc(e,n,r,s=!1){return new p1({Ac:e,methodName:n,Dc:r,path:Tt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oy(t){const e=t._freezeSettings(),n=Py(t._databaseId);return new zz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yN(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);g1("Data must be an object, but it was:",o,r);const u=vN(r,o);let c,d;if(i.merge)c=new ur(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const p=[];for(const g of i.mergeFields){const v=vb(e,g,n);if(!o.contains(v))throw new ce(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);bN(p,v)||p.push(v)}c=new ur(p),d=o.fieldTransforms.filter((g=>c.covers(g.field)))}else c=null,d=o.fieldTransforms;return new Uz(new Fn(u),c,d)}class Ly extends Ry{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ly}}class m1 extends Ry{_toFieldTransform(e){return new cA(e.path,new Dc)}isEqual(e){return e instanceof m1}}function Vz(t,e,n,r){const s=t.Cc(1,e,n);g1("Data must be an object, but it was:",s,r);const i=[],o=Fn.empty();vo(r,((c,d)=>{const p=y1(e,c,n);d=Pt(d);const g=s.yc(p);if(d instanceof Ly)i.push(p);else{const v=Af(d,g);v!=null&&(i.push(p),o.set(p,v))}}));const u=new ur(i);return new mN(o,u,s.fieldTransforms)}function qz(t,e,n,r,s,i){const o=t.Cc(1,e,n),u=[vb(e,r,n)],c=[s];if(i.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)u.push(vb(e,i[v])),c.push(i[v+1]);const d=[],p=Fn.empty();for(let v=u.length-1;v>=0;--v)if(!bN(d,u[v])){const k=u[v];let _=c[v];_=Pt(_);const E=o.yc(k);if(_ instanceof Ly)d.push(k);else{const T=Af(_,E);T!=null&&(d.push(k),p.set(k,T))}}const g=new ur(d);return new mN(p,g,o.fieldTransforms)}function $z(t,e,n,r=!1){return Af(n,t.Cc(r?4:3,e))}function Af(t,e){if(wN(t=Pt(t)))return g1("Unsupported field value:",e,t),vN(t,e);if(t instanceof Ry)return(function(n,r){if(!gN(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,r){const s=[];let i=0;for(const o of n){let u=Af(o,r.wc(i));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),i++}return{arrayValue:{values:s}}})(t,e)}return(function(n,r){if((n=Pt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return AU(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=rt.fromDate(n);return{timestampValue:Mc(r.serializer,s)}}if(n instanceof rt){const s=new rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Mc(r.serializer,s)}}if(n instanceof Ys)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Hr)return{bytesValue:yA(r.serializer,n._byteString)};if(n instanceof Rt){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Gx(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof Js)return(function(s,i){return{mapValue:{fields:{[Bx]:{stringValue:Ux},[Tc]:{arrayValue:{values:s.toArray().map((o=>{if(typeof o!="number")throw i.Sc("VectorValues must only contain numeric values.");return Vx(i.serializer,o)}))}}}}}})(n,r);throw r.Sc(`Unsupported field value: ${fy(n)}`)})(t,e)}function vN(t,e){const n={};return OD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vo(t,((r,s)=>{const i=Af(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function wN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Ys||t instanceof Hr||t instanceof Rt||t instanceof Ry||t instanceof Js)}function g1(t,e,n){if(!wN(n)||!xD(n)){const r=fy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function vb(t,e,n){if((e=Pt(e))instanceof jy)return e._internalPath;if(typeof e=="string")return y1(t,e);throw Fg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Hz=new RegExp("[~\\*/\\[\\]]");function y1(t,e,n){if(e.search(Hz)>=0)throw Fg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jy(...e.split("."))._internalPath}catch{throw Fg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fg(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ce(te.INVALID_ARGUMENT,u+t+c)}function bN(t,e){return t.some((n=>n.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xN{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Kz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Kz extends xN{data(){return super.data()}}function Fy(t,e){return typeof e=="string"?y1(t,e):e instanceof jy?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function CN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v1{}class w1 extends v1{}function ys(t,e,...n){let r=[];e instanceof v1&&r.push(e),r=r.concat(n),(function(s){const i=s.filter((u=>u instanceof b1)).length,o=s.filter((u=>u instanceof By)).length;if(i>1||i>0&&o>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class By extends w1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new By(e,n,r)}_apply(e){const n=this._parse(e);return kN(e._query,n),new Kl(e.firestore,e.converter,ab(e._query,n))}_parse(e){const n=Oy(e.firestore);return(function(r,s,i,o,u,c,d){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){y_(d,c);const g=[];for(const v of d)g.push(g_(o,r,v));p={arrayValue:{values:g}}}else p=g_(o,r,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||y_(d,c),p=$z(i,s,d,c==="in"||c==="not-in");return We.create(u,c,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gr(t,e,n){const r=e,s=Fy("where",t);return By._create(s,r,n)}class b1 extends v1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new b1(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:lt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,s){let i=r;const o=s.getFlattenedFilters();for(const u of o)kN(i,u),i=ab(i,u)})(e._query,n),new Kl(e.firestore,e.converter,ab(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class x1 extends w1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new x1(e,n)}_apply(e){const n=(function(r,s,i){if(r.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zd(s,i)})(e._query,this._field,this._direction);return new Kl(e.firestore,e.converter,(function(r,s){const i=r.explicitOrderBy.concat([s]);return new Uc(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,n))}}function qc(t,e="asc"){const n=e,r=Fy("orderBy",t);return x1._create(r,n)}class C1 extends w1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new C1(e,n,r)}_apply(e){return new Kl(e.firestore,e.converter,Ig(e._query,this._limit,this._limitType))}}function k1(t){return AB("limit",t),C1._create("limit",t,"F")}function g_(t,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZD(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!de.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yd(t,new de(r))}if(n instanceof Rt)return Yd(t,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fy(n)}.`)}function y_(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kN(t,e){const n=(function(r,s){for(const i of r)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Gz{convertValue(e,n="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vo(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)==null?void 0:n[Tc].arrayValue)==null?void 0:r.values)==null?void 0:s.map((o=>xt(o.doubleValue)));return new Js(i)}convertGeoPoint(e){return new Ys(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qd(e));default:return null}}convertTimestamp(e){const n=qi(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);_e(_A(r),9688,{name:e});const s=new Dl(r.get(1),r.get(3)),i=new de(r.popFirst(5));return s.isEqual(n)||Hn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function SN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class xd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cl extends xN{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Cl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),n}}Cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cl._jsonSchema={type:un("string",Cl._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class Xm extends Cl{data(e={}){return super.data(e)}}class kl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new xd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Xm(this._firestore,this._userDataWriter,r.key,r,new xd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map((o=>{const u=new Xm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new xd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:i++}}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const u=new Xm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new xd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),d=i.indexOf(o.doc.key)),{type:Wz(o.type),doc:u,oldIndex:c,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=kl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ax.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Wz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function EN(t){t=Wn(t,Rt);const e=Wn(t.firestore,si);return jz(My(e),t._key).then((n=>_N(e,t,n)))}kl._jsonSchemaVersion="firestore/querySnapshot/1.0",kl._jsonSchema={type:un("string",kl._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};class S1 extends Gz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function vs(t){t=Wn(t,Kl);const e=Wn(t.firestore,si),n=My(e),r=new S1(e);return CN(t._query),Rz(n,t._query).then((s=>new kl(e,r,t,s)))}function Uy(t,e,n){t=Wn(t,Rt);const r=Wn(t.firestore,si),s=SN(t.converter,e,n);return Vy(r,[yN(Oy(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Bn.none())])}function zy(t,e,n,...r){t=Wn(t,Rt);const s=Wn(t.firestore,si),i=Oy(s);let o;return o=typeof(e=Pt(e))=="string"||e instanceof jy?qz(i,"updateDoc",t._key,e,n,r):Vz(i,"updateDoc",t._key,e),Vy(s,[o.toMutation(t._key,Bn.exists(!0))])}function zne(t){return Vy(Wn(t.firestore,si),[new Sy(t._key,Bn.none())])}function E1(t,e){const n=Wn(t.firestore,si),r=li(t),s=SN(t.converter,e);return Vy(n,[yN(Oy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then((()=>r))}function TN(t,...e){var n,r,s;t=Pt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||m_(e[o])||(i=e[o++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(m_(e[o])){const g=e[o];e[o]=(n=g.next)==null?void 0:n.bind(g),e[o+1]=(r=g.error)==null?void 0:r.bind(g),e[o+2]=(s=g.complete)==null?void 0:s.bind(g)}let c,d,p;if(t instanceof Rt)d=Wn(t.firestore,si),p=Ef(t._key.path),c={next:g=>{e[o]&&e[o](_N(d,t,g))},error:e[o+1],complete:e[o+2]};else{const g=Wn(t,Kl);d=Wn(g.firestore,si),p=g._query;const v=new S1(d);c={next:k=>{e[o]&&e[o](new kl(d,v,g,k))},error:e[o+1],complete:e[o+2]},CN(t._query)}return(function(g,v,k,_){const E=new f1(_),T=new c1(v,E,k);return g.asyncQueue.enqueueAndForget((async()=>o1(await Lg(g),T))),()=>{E.Nu(),g.asyncQueue.enqueueAndForget((async()=>l1(await Lg(g),T)))}})(My(d),p,u,c)}function Vy(t,e){return(function(n,r){const s=new Xs;return n.asyncQueue.enqueueAndForget((async()=>Cz(await Mz(n),r,s))),s.promise})(My(t),e)}function _N(t,e,n){const r=n.docs.get(e._key),s=new S1(t);return new Cl(t,s,e._key,r,new xd(n.hasPendingWrites,n.fromCache),e.converter)}function Kn(){return new m1("serverTimestamp")}(function(t,e=!0){(function(n){Bc=n})(ql),ms(new Jr("firestore",((n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new si(new CB(n.getProvider("auth-internal")),new EB(i,n.getProvider("app-check-internal")),(function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(u.options.projectId,c)})(i,r),i);return s={useFetchStreams:e,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),hr(XE,YE,t),hr(XE,YE,"esm2020")})();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const IN="firebasestorage.googleapis.com",Qz="storageBucket",Xz=120*1e3,Yz=600*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ui extends Zr{constructor(e,n,r=0){super($0(e),`Firebase Storage: ${n} (${$0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ui.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ii;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ii||(ii={}));function $0(t){return"storage/"+t}function Jz(){const t="An unknown error occurred, please check the error payload for server response.";return new ui(ii.UNKNOWN,t)}function Zz(){return new ui(ii.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eV(){return new ui(ii.CANCELED,"User canceled the upload/download.")}function tV(t){return new ui(ii.INVALID_URL,"Invalid URL '"+t+"'.")}function nV(t){return new ui(ii.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function v_(t){return new ui(ii.INVALID_ARGUMENT,t)}function PN(){return new ui(ii.APP_DELETED,"The Firebase app was deleted.")}function rV(t){return new ui(ii.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ps{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ps.makeFromUrl(e,n)}catch{return new ps(e,"")}if(r.path==="")return r;throw nV(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(R){R.path_=decodeURIComponent(R.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",k=new RegExp(`^https?://${g}/${p}/b/${s}/o${v}`,"i"),_={bucket:1,path:3},E=n===IN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",D=new RegExp(`^https?://${E}/${s}/${T}`,"i"),N=[{regex:u,indices:c,postModify:i},{regex:k,indices:_,postModify:d},{regex:D,indices:{bucket:1,path:2},postModify:d}];for(let R=0;R<N.length;R++){const U=N[R],V=U.regex.exec(e);if(V){const K=V[U.indices.bucket];let M=V[U.indices.path];M||(M=""),r=new ps(K,M),U.postModify(r);break}}if(r==null)throw tV(e);return r}}class sV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function iV(t,e,n){let r=1,s=null,i=null,o=!1,u=0;function c(){return u===2}let d=!1;function p(...T){d||(d=!0,e.apply(null,T))}function g(T){s=setTimeout(()=>{s=null,t(k,c())},T)}function v(){i&&clearTimeout(i)}function k(T,...D){if(d){v();return}if(T){v(),p.call(null,T,...D);return}if(c()||o){v(),p.call(null,T,...D);return}r<64&&(r*=2);let N;u===1?(u=2,N=0):N=(r+Math.random())*1e3,g(N)}let _=!1;function E(T){_||(_=!0,v(),!d&&(s!==null?(T||(u=2),clearTimeout(s),g(0)):T||(u=1)))}return g(0),i=setTimeout(()=>{o=!0,E(!0)},n),E}function aV(t){t(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oV(t){return t!==void 0}function w_(t,e,n,r){if(r<e)throw v_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw v_(`Invalid value for '${t}'. Expected ${n} or less.`)}function lV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Bg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bg||(Bg={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uV(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cV{constructor(e,n,r,s,i,o,u,c,d,p,g,v=!0,k=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,E)=>{this.resolve_=_,this.reject_=E,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new mm(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=u=>{const c=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const u=i.getErrorCode()===Bg.NO_ERROR,c=i.getStatus();if(!u||uV(c,this.additionalRetryCodes_)&&this.retry){const p=i.getErrorCode()===Bg.ABORT;r(!1,new mm(!1,null,p));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new mm(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());oV(c)?i(c):i()}catch(c){o(c)}else if(u!==null){const c=Jz();c.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,c)):o(c)}else if(s.canceled){const c=this.appDelete_?PN():eV();o(c)}else{const c=Zz();o(c)}};this.canceled_?n(!1,new mm(!1,null,!0)):this.backoffId_=iV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function hV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function dV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function pV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mV(t,e,n,r,s,i,o=!0,u=!1){const c=lV(t.urlParams),d=t.url+c,p=Object.assign({},t.headers);return fV(p,e),hV(p,n),dV(p,i),pV(p,r),new cV(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,u)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function yV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ug{constructor(e,n){this._service=e,n instanceof ps?this._location=n:this._location=ps.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ug(e,n)}get root(){const e=new ps(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yV(this._location.path)}get storage(){return this._service}get parent(){const e=gV(this._location.path);if(e===null)return null;const n=new ps(this._location.bucket,e);return new Ug(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rV(e)}}function b_(t,e){const n=e==null?void 0:e[Qz];return n==null?null:ps.makeFromBucketSpec(n,t)}function vV(t,e,n,r={}){t.host=`${e}:${n}`;const s=zl(e);s&&(yx(`https://${t.host}/b`),vx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:bP(i,t.app.options.projectId))}class wV{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=IN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Xz,this._maxUploadRetryTime=Yz,this._requests=new Set,s!=null?this._bucket=ps.makeFromBucketSpec(s,this._host):this._bucket=b_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ps.makeFromBucketSpec(this._url,e):this._bucket=b_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){w_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){w_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ug(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new sV(PN());{const o=mV(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const x_="@firebase/storage",C_="0.14.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DN="storage";function bV(t=ly(),e){t=Pt(t);const n=mo(t,DN).getImmediate({identifier:e}),r=yP("storage");return r&&xV(n,...r),n}function xV(t,e,n,r={}){vV(t,e,n,r)}function CV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new wV(n,r,s,e,ql)}function kV(){ms(new Jr(DN,CV,"PUBLIC").setMultipleInstances(!0)),hr(x_,C_,""),hr(x_,C_,"esm2020")}kV();const AN="@firebase/installations",T1="0.6.19";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const NN=1e4,MN=`w:${T1}`,jN="FIS_v2",SV="https://firebaseinstallations.googleapis.com/v1",EV=3600*1e3,TV="installations",_V="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const IV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ol=new Vl(TV,_V,IV);function RN(t){return t instanceof Zr&&t.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ON({projectId:t}){return`${SV}/projects/${t}/installations`}function LN(t){return{token:t.token,requestStatus:2,expiresIn:DV(t.expiresIn),creationTime:Date.now()}}async function FN(t,e){const n=(await e.json()).error;return Ol.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function BN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function PV(t,{refreshToken:e}){const n=BN(t);return n.append("Authorization",AV(e)),n}async function UN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function DV(t){return Number(t.replace("s","000"))}function AV(t){return`${jN} ${t}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function NV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=ON(t),s=BN(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:jN,appId:t.appId,sdkVersion:MN},u={method:"POST",headers:s,body:JSON.stringify(o)},c=await UN(()=>fetch(r,u));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:LN(d.authToken)}}else throw await FN("Create Installation",c)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zN(t){return new Promise(e=>{setTimeout(e,t)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function MV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jV=/^[cdef][\w-]{21}$/,wb="";function RV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=OV(t);return jV.test(e)?e:wb}catch{return wb}}function OV(t){return MV(t).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qy(t){return`${t.appName}!${t.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const VN=new Map;function qN(t,e){const n=qy(t);$N(n,e),LV(n,e)}function $N(t,e){const n=VN.get(t);if(n)for(const r of n)r(e)}function LV(t,e){const n=FV();n&&n.postMessage({key:t,fid:e}),BV()}let pl=null;function FV(){return!pl&&"BroadcastChannel"in self&&(pl=new BroadcastChannel("[Firebase] FID Change"),pl.onmessage=t=>{$N(t.data.key,t.data.fid)}),pl}function BV(){VN.size===0&&pl&&(pl.close(),pl=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const UV="firebase-installations-database",zV=1,Ll="firebase-installations-store";let H0=null;function _1(){return H0||(H0=_P(UV,zV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ll)}}})),H0}async function zg(t,e){const n=qy(t),r=(await _1()).transaction(Ll,"readwrite"),s=r.objectStore(Ll),i=await s.get(n);return await s.put(e,n),await r.done,(!i||i.fid!==e.fid)&&qN(t,e.fid),e}async function HN(t){const e=qy(t),n=(await _1()).transaction(Ll,"readwrite");await n.objectStore(Ll).delete(e),await n.done}async function $y(t,e){const n=qy(t),r=(await _1()).transaction(Ll,"readwrite"),s=r.objectStore(Ll),i=await s.get(n),o=e(i);return o===void 0?await s.delete(n):await s.put(o,n),await r.done,o&&(!i||i.fid!==o.fid)&&qN(t,o.fid),o}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function I1(t){let e;const n=await $y(t.appConfig,r=>{const s=VV(r),i=qV(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===wb?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function VV(t){const e=t||{fid:RV(),registrationStatus:0};return KN(e)}function qV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ol.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=$V(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:HV(t)}:{installationEntry:e}}async function $V(t,e){try{const n=await NV(t,e);return zg(t.appConfig,n)}catch(n){throw RN(n)&&n.customData.serverCode===409?await HN(t.appConfig):await zg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function HV(t){let e=await k_(t.appConfig);for(;e.registrationStatus===1;)await zN(100),e=await k_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await I1(t);return r||n}return e}function k_(t){return $y(t,e=>{if(!e)throw Ol.create("installation-not-found");return KN(e)})}function KN(t){return KV(t)?{fid:t.fid,registrationStatus:0}:t}function KV(t){return t.registrationStatus===1&&t.registrationTime+NN<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function GV({appConfig:t,heartbeatServiceProvider:e},n){const r=WV(t,n),s=PV(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:MN,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(o)},c=await UN(()=>fetch(r,u));if(c.ok){const d=await c.json();return LN(d)}else throw await FN("Generate Auth Token",c)}function WV(t,{fid:e}){return`${ON(t)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function P1(t,e=!1){let n;const r=await $y(t.appConfig,s=>{if(!GN(s))throw Ol.create("not-registered");const i=s.authToken;if(!e&&YV(i))return s;if(i.requestStatus===1)return n=QV(t,e),s;{if(!navigator.onLine)throw Ol.create("app-offline");const o=ZV(s);return n=XV(t,o),o}});return n?await n:r.authToken}async function QV(t,e){let n=await S_(t.appConfig);for(;n.authToken.requestStatus===1;)await zN(100),n=await S_(t.appConfig);const r=n.authToken;return r.requestStatus===0?P1(t,e):r}function S_(t){return $y(t,e=>{if(!GN(e))throw Ol.create("not-registered");const n=e.authToken;return e8(n)?{...e,authToken:{requestStatus:0}}:e})}async function XV(t,e){try{const n=await GV(t,e),r={...e,authToken:n};return await zg(t.appConfig,r),n}catch(n){if(RN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await HN(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await zg(t.appConfig,r)}throw n}}function GN(t){return t!==void 0&&t.registrationStatus===2}function YV(t){return t.requestStatus===2&&!JV(t)}function JV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+EV}function ZV(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function e8(t){return t.requestStatus===1&&t.requestTime+NN<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function t8(t){const e=t,{installationEntry:n,registrationPromise:r}=await I1(e);return r?r.catch(console.error):P1(e).catch(console.error),n.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function n8(t,e=!1){const n=t;return await r8(n),(await P1(n,e)).token}async function r8(t){const{registrationPromise:e}=await I1(t);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function s8(t){if(!t||!t.options)throw K0("App Configuration");if(!t.name)throw K0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw K0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function K0(t){return Ol.create("missing-app-config-values",{valueName:t})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const WN="installations",i8="installations-internal",a8=t=>{const e=t.getProvider("app").getImmediate(),n=s8(e),r=mo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},o8=t=>{const e=t.getProvider("app").getImmediate(),n=mo(e,WN).getImmediate();return{getId:()=>t8(n),getToken:r=>n8(n,r)}};function l8(){ms(new Jr(WN,a8,"PUBLIC")),ms(new Jr(i8,o8,"PRIVATE"))}l8();hr(AN,T1);hr(AN,T1,"esm2020");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Vg="analytics",u8="firebase_id",c8="origin",h8=60*1e3,d8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",D1="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xn=new oy("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const f8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_r=new Vl("analytics","Analytics",f8);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function p8(t){if(!t.startsWith(D1)){const e=_r.create("invalid-gtag-resource",{gtagURL:t});return Xn.warn(e.message),""}return t}function QN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function m8(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function g8(t,e){const n=m8("firebase-js-sdk-policy",{createScriptURL:p8}),r=document.createElement("script"),s=`${D1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function y8(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function v8(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const u=(await QN(n)).find(c=>c.measurementId===s);u&&await e[u.appId]}}catch(u){Xn.error(u)}t("config",s,i)}async function w8(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const u=await QN(n);for(const c of o){const d=u.find(g=>g.measurementId===c),p=d&&e[d.appId];if(p)i.push(p);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Xn.error(i)}}function b8(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[u,c]=o;await w8(t,e,n,u,c)}else if(i==="config"){const[u,c]=o;await v8(t,e,n,r,u,c)}else if(i==="consent"){const[u,c]=o;t("consent",u,c)}else if(i==="get"){const[u,c,d]=o;t("get",u,c,d)}else if(i==="set"){const[u]=o;t("set",u)}else t(i,...o)}catch(u){Xn.error(u)}}return s}function x8(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=b8(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function C8(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(D1)&&n.src.includes(t))return n;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const k8=30,S8=1e3;class E8{constructor(e={},n=S8){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const XN=new E8;function T8(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function _8(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:T8(r)},i=d8.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let u="";try{const c=await o.json();(e=c.error)!=null&&e.message&&(u=c.error.message)}catch{}throw _r.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function I8(t,e=XN,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw _r.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw _r.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new A8;return setTimeout(async()=>{u.abort()},h8),YN({appId:r,apiKey:s,measurementId:i},o,u,e)}async function YN(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=XN){var i;const{appId:o,measurementId:u}=t;try{await P8(r,e)}catch(c){if(u)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:u};throw c}try{const c=await _8(t);return s.deleteThrottleMetadata(o),c}catch(c){const d=c;if(!D8(d)){if(s.deleteThrottleMetadata(o),u)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:u};throw c}const p=Number((i=d==null?void 0:d.customData)==null?void 0:i.httpStatus)===503?xE(n,s.intervalMillis,k8):xE(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return s.setThrottleMetadata(o,g),Xn.debug(`Calling attemptFetch again in ${p} millis`),YN(t,g,r,s)}}function P8(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(_r.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function D8(t){if(!(t instanceof Zr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class A8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function N8(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function M8(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function j8(){if(ay())try{await bx()}catch(t){return Xn.warn(_r.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Xn.warn(_r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function R8(t,e,n,r,s,i,o){const u=I8(t);u.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Xn.error(v)),e.push(u);const c=j8().then(v=>{if(v)return r.getId()}),[d,p]=await Promise.all([u,c]);C8(i)||g8(i,d.measurementId),s("js",new Date);const g=(o==null?void 0:o.config)??{};return g[c8]="firebase",g.update=!0,p!=null&&(g[u8]=p),s("config",d.measurementId,g),d.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O8{constructor(e){this.app=e}_delete(){return delete yc[this.app.options.appId],Promise.resolve()}}let yc={},E_=[];const T_={};let G0="dataLayer",L8="gtag",__,A1,I_=!1;function F8(){const t=[];if(wx()&&t.push("This is a browser extension environment."),SP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=_r.create("invalid-analytics-context",{errorInfo:e});Xn.warn(n.message)}}function B8(t,e,n){F8();const r=t.options.appId;if(!r)throw _r.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _r.create("no-api-key");if(yc[r]!=null)throw _r.create("already-exists",{id:r});if(!I_){y8(G0);const{wrappedGtag:s,gtagCore:i}=x8(yc,E_,T_,G0,L8);A1=s,__=i,I_=!0}return yc[r]=R8(t,E_,T_,e,__,G0,n),new O8(t)}function JN(t=ly()){t=Pt(t);const e=mo(t,Vg);return e.isInitialized()?e.getImmediate():U8(t)}function U8(t,e={}){const n=mo(t,Vg);if(n.isInitialized()){const r=n.getImmediate();if(so(e,n.getOptions()))return r;throw _r.create("already-initialized")}return n.initialize({options:e})}async function ZN(){if(wx()||!SP()||!ay())return!1;try{return await bx()}catch{return!1}}function z8(t,e,n){t=Pt(t),M8(A1,yc[t.app.options.appId],e,n).catch(r=>Xn.error(r))}function eM(t,e,n,r){t=Pt(t),N8(A1,yc[t.app.options.appId],e,n,r).catch(s=>Xn.error(s))}const P_="@firebase/analytics",D_="0.10.19";function V8(){ms(new Jr(Vg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return B8(r,s,n)},"PUBLIC")),ms(new Jr("analytics-internal",t,"PRIVATE")),hr(P_,D_),hr(P_,D_,"esm2020");function t(e){try{const n=e.getProvider(Vg).getImmediate();return{logEvent:(r,s,i)=>eM(n,r,s,i),setUserProperties:(r,s)=>z8(n,r,s)}}catch(n){throw _r.create("interop-component-reg-failed",{reason:n})}}}V8();const q8={apiKey:"AIzaSyA-ji4PrndkvUwbcN6axWGjLJd-pNJrTBY",authDomain:"math-adventure-app.firebaseapp.com",projectId:"math-adventure-app",storageBucket:"math-adventure-app.firebasestorage.app",messagingSenderId:"685781375492",appId:"1:685781375492:web:cb2f52696292927cb07351",measurementId:"G-FGQWD7WPCY"},ws=IP(q8),W0=dy(ws),$8=Ny(ws);bV(ws);try{Lz($8).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Firestore persistence: Not supported in this browser")})}catch(t){console.warn("Firestore persistence init failed:",t)}let tM=null;try{ZN().then(t=>{t&&(tM=JN(ws))}).catch(()=>{})}catch{}const H8=tM;/**
* react-router v7.9.5
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var A_="popstate";function K8(t={}){function e(r,s){let{pathname:i,search:o,hash:u}=r.location;return bb("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:nf(s)}return W8(e,n,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ai(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G8(){return Math.random().toString(36).substring(2,10)}function N_(t,e){return{usr:t.state,key:t.key,idx:e}}function bb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$c(e):e,state:n,key:e&&e.key||r||G8()}}function nf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $c(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function W8(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,u="POP",c=null,d=p();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function p(){return(o.state||{idx:null}).idx}function g(){u="POP";let T=p(),D=T==null?null:T-d;d=T,c&&c({action:u,location:E.location,delta:D})}function v(T,D){u="PUSH";let N=bb(E.location,T,D);d=p()+1;let R=N_(N,d),U=E.createHref(N);try{o.pushState(R,"",U)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(U)}i&&c&&c({action:u,location:E.location,delta:1})}function k(T,D){u="REPLACE";let N=bb(E.location,T,D);d=p();let R=N_(N,d),U=E.createHref(N);o.replaceState(R,"",U),i&&c&&c({action:u,location:E.location,delta:0})}function _(T){return Q8(T)}let E={get action(){return u},get location(){return t(s,o)},listen(T){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(A_,g),c=T,()=>{s.removeEventListener(A_,g),c=null}},createHref(T){return e(s,T)},createURL:_,encodeLocation(T){let D=_(T);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:v,replace:k,go(T){return o.go(T)}};return E}function Q8(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:nf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function nM(t,e,n="/"){return X8(t,e,n,!1)}function X8(t,e,n,r){let s=typeof e=="string"?$c(e):e,i=Hi(s.pathname||"/",n);if(i==null)return null;let o=rM(t);Y8(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let d=l7(i);u=a7(o[c],d,r)}return u}function rM(t,e=[],n=[],r="",s=!1){let i=(o,u,c=s,d)=>{let p={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&c)return;It(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Ui([r,p.relativePath]),v=n.concat(p);o.children&&o.children.length>0&&(It(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),rM(o.children,e,v,g,c)),!(o.path==null&&!o.index)&&e.push({path:g,score:s7(g,o.index),routesMeta:v})};return t.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,u);else for(let d of sM(o.path))i(o,u,!0,d)}),e}function sM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=sM(r.join("/")),u=[];return u.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function Y8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:i7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var J8=/^:[\w-]+$/,Z8=3,e7=2,t7=1,n7=10,r7=-2,M_=t=>t==="*";function s7(t,e){let n=t.split("/"),r=n.length;return n.some(M_)&&(r+=r7),e&&(r+=e7),n.filter(s=>!M_(s)).reduce((s,i)=>s+(J8.test(i)?Z8:i===""?t7:n7),r)}function i7(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function a7(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",g=qg({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),v=c.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=qg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Ui([i,g.pathname]),pathnameBase:d7(Ui([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=Ui([i,g.pathnameBase]))}return o}function qg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=o7(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:p},g)=>{if(d==="*"){let k=u[g]||"";o=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const v=u[g];return p&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function o7(t,e=!1,n=!0){ai(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function l7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ai(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function u7(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?$c(t):t;return{pathname:n?n.startsWith("/")?n:c7(n,e):e,search:f7(r),hash:p7(s)}}function c7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Q0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iM(t){let e=h7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function aM(t,e,n,r=!1){let s;typeof t=="string"?s=$c(t):(s={...t},It(!s.pathname||!s.pathname.includes("?"),Q0("?","pathname","search",s)),It(!s.pathname||!s.pathname.includes("#"),Q0("#","pathname","hash",s)),It(!s.search||!s.search.includes("#"),Q0("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?e[g]:"/"}let c=u7(s,u),d=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}var Ui=t=>t.join("/").replace(/\/\/+/g,"/"),d7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),f7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function m7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oM=["POST","PUT","PATCH","DELETE"];new Set(oM);var g7=["GET",...oM];new Set(g7);var Hc=C.createContext(null);Hc.displayName="DataRouter";var Hy=C.createContext(null);Hy.displayName="DataRouterState";C.createContext(!1);var lM=C.createContext({isTransitioning:!1});lM.displayName="ViewTransition";var y7=C.createContext(new Map);y7.displayName="Fetchers";var v7=C.createContext(null);v7.displayName="Await";var ci=C.createContext(null);ci.displayName="Navigation";var Nf=C.createContext(null);Nf.displayName="Location";var ta=C.createContext({outlet:null,matches:[],isDataRoute:!1});ta.displayName="Route";var N1=C.createContext(null);N1.displayName="RouteError";function w7(t,{relative:e}={}){It(Mf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(ci),{hash:s,pathname:i,search:o}=jf(t,{relative:e}),u=i;return n!=="/"&&(u=i==="/"?n:Ui([n,i])),r.createHref({pathname:u,search:o,hash:s})}function Mf(){return C.useContext(Nf)!=null}function na(){return It(Mf(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Nf).location}var uM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cM(t){C.useContext(ci).static||C.useLayoutEffect(t)}function M1(){let{isDataRoute:t}=C.useContext(ta);return t?N7():b7()}function b7(){It(Mf(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(Hc),{basename:e,navigator:n}=C.useContext(ci),{matches:r}=C.useContext(ta),{pathname:s}=na(),i=JSON.stringify(iM(r)),o=C.useRef(!1);return cM(()=>{o.current=!0}),C.useCallback((u,c={})=>{if(ai(o.current,uM),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=aM(u,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ui([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,i,s,t])}C.createContext(null);function jf(t,{relative:e}={}){let{matches:n}=C.useContext(ta),{pathname:r}=na(),s=JSON.stringify(iM(n));return C.useMemo(()=>aM(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function x7(t,e){return hM(t,e)}function hM(t,e,n,r,s){var i;It(Mf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=C.useContext(ci),{matches:u}=C.useContext(ta),c=u[u.length-1],d=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let R=v&&v.path||"";dM(p,!v||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let k=na(),_;if(e){let R=typeof e=="string"?$c(e):e;It(g==="/"||((i=R.pathname)==null?void 0:i.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${R.pathname}" was given in the \`location\` prop.`),_=R}else _=k;let E=_.pathname||"/",T=E;if(g!=="/"){let R=g.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(R.length).join("/")}let D=nM(t,{pathname:T});ai(v||D!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ai(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=T7(D&&D.map(R=>Object.assign({},R,{params:Object.assign({},d,R.params),pathname:Ui([g,o.encodeLocation?o.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:Ui([g,o.encodeLocation?o.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),u,n,r,s);return e&&N?C.createElement(Nf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},N):N}function C7(){let t=A7(),e=m7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,o)}var k7=C.createElement(C7,null),S7=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(ta.Provider,{value:this.props.routeContext},C.createElement(N1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E7({routeContext:t,match:e,children:n}){let r=C.useContext(Hc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(ta.Provider,{value:t},n)}function T7(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let d=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);It(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:g,errors:v}=n,k=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||k){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,p,g)=>{let v,k=!1,_=null,E=null;n&&(v=o&&p.route.id?o[p.route.id]:void 0,_=p.route.errorElement||k7,u&&(c<0&&g===0?(dM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,E=null):c===g&&(k=!0,E=p.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,g+1)),D=()=>{let N;return v?N=_:k?N=E:p.route.Component?N=C.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=d,C.createElement(E7,{match:p,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(S7,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:D(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:r}):D()},null)}function j1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _7(t){let e=C.useContext(Hc);return It(e,j1(t)),e}function I7(t){let e=C.useContext(Hy);return It(e,j1(t)),e}function P7(t){let e=C.useContext(ta);return It(e,j1(t)),e}function R1(t){let e=P7(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function D7(){return R1("useRouteId")}function A7(){var t;let e=C.useContext(N1),n=I7("useRouteError"),r=R1("useRouteError");return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function N7(){let{router:t}=_7("useNavigate"),e=R1("useNavigate"),n=C.useRef(!1);return cM(()=>{n.current=!0}),C.useCallback(async(r,s={})=>{ai(n.current,uM),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var j_={};function dM(t,e,n){!e&&!j_[t]&&(j_[t]=!0,ai(!1,n))}C.memo(M7);function M7({routes:t,future:e,state:n,unstable_onError:r}){return hM(t,void 0,n,r,e)}function Nt(t){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function j7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){It(!Mf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=$c(n));let{pathname:c="/",search:d="",hash:p="",state:g=null,key:v="default"}=n,k=C.useMemo(()=>{let _=Hi(c,o);return _==null?null:{location:{pathname:_,search:d,hash:p,state:g,key:v},navigationType:r}},[o,c,d,p,g,v,r]);return ai(k!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:C.createElement(ci.Provider,{value:u},C.createElement(Nf.Provider,{children:e,value:k}))}function R7({children:t,location:e}){return x7(xb(t),e)}function xb(t,e=[]){let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,xb(r.props.children,i));return}It(r.type===Nt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xb(r.props.children,i)),n.push(o)}),n}var Ym="get",Jm="application/x-www-form-urlencoded";function Ky(t){return t!=null&&typeof t.tagName=="string"}function O7(t){return Ky(t)&&t.tagName.toLowerCase()==="button"}function L7(t){return Ky(t)&&t.tagName.toLowerCase()==="form"}function F7(t){return Ky(t)&&t.tagName.toLowerCase()==="input"}function B7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U7(t,e){return t.button===0&&(!e||e==="_self")&&!B7(t)}var gm=null;function z7(){if(gm===null)try{new FormData(document.createElement("form"),0),gm=!1}catch{gm=!0}return gm}var V7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X0(t){return t!=null&&!V7.has(t)?(ai(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jm}"`),null):t}function q7(t,e){let n,r,s,i,o;if(L7(t)){let u=t.getAttribute("action");r=u?Hi(u,e):null,n=t.getAttribute("method")||Ym,s=X0(t.getAttribute("enctype"))||Jm,i=new FormData(t)}else if(O7(t)||F7(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?Hi(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Ym,s=X0(t.getAttribute("formenctype"))||X0(u.getAttribute("enctype"))||Jm,i=new FormData(u,t),!z7()){let{name:d,type:p,value:g}=t;if(p==="image"){let v=d?`${d}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else d&&i.append(d,g)}}else{if(Ky(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ym,r=null,s=Jm,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function O1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $7(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Hi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function H7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function G7(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await H7(i,n);return o.links?o.links():[]}return[]}));return Y7(r.flat(1).filter(K7).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function R_(t,e,n,r,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,u=(c,d)=>{var p;return n[d].pathname!==c.pathname||((p=n[d].route.path)==null?void 0:p.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||u(c,d)):i==="data"?e.filter((c,d)=>{var p;let g=r.routes[c.route.id];if(!g||!g.hasLoader)return!1;if(o(c,d)||u(c,d))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function W7(t,e,{includeHydrateFallback:n}={}){return Q7(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Q7(t){return[...new Set(t)]}function X7(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Y7(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(X7(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function fM(){let t=C.useContext(Hc);return O1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function J7(){let t=C.useContext(Hy);return O1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var L1=C.createContext(void 0);L1.displayName="FrameworkContext";function pM(){let t=C.useContext(L1);return O1(t,"You must render this element inside a <HydratedRouter> element"),t}function Z7(t,e){let n=C.useContext(L1),[r,s]=C.useState(!1),[i,o]=C.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:d,onMouseLeave:p,onTouchStart:g}=e,v=C.useRef(null);C.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let E=D=>{D.forEach(N=>{o(N.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[t]),C.useEffect(()=>{if(r){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[r]);let k=()=>{s(!0)},_=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,v,{}]:[i,v,{onFocus:Yh(u,k),onBlur:Yh(c,_),onMouseEnter:Yh(d,k),onMouseLeave:Yh(p,_),onTouchStart:Yh(g,k)}]:[!1,v,{}]}function Yh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function eq({page:t,...e}){let{router:n}=fM(),r=C.useMemo(()=>nM(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(nq,{page:t,matches:r,...e}):null}function tq(t){let{manifest:e,routeModules:n}=pM(),[r,s]=C.useState([]);return C.useEffect(()=>{let i=!1;return G7(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function nq({page:t,matches:e,...n}){let r=na(),{manifest:s,routeModules:i}=pM(),{basename:o}=fM(),{loaderData:u,matches:c}=J7(),d=C.useMemo(()=>R_(t,e,c,s,r,"data"),[t,e,c,s,r]),p=C.useMemo(()=>R_(t,e,c,s,r,"assets"),[t,e,c,s,r]),g=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,E=!1;if(e.forEach(D=>{var N;let R=s.routes[D.route.id];!R||!R.hasLoader||(!d.some(U=>U.route.id===D.route.id)&&D.route.id in u&&(N=i[D.route.id])!=null&&N.shouldRevalidate||R.hasClientLoader?E=!0:_.add(D.route.id))}),_.size===0)return[];let T=$7(t,o,"data");return E&&_.size>0&&T.searchParams.set("_routes",e.filter(D=>_.has(D.route.id)).map(D=>D.route.id).join(",")),[T.pathname+T.search]},[o,u,r,s,d,e,t,i]),v=C.useMemo(()=>W7(p,s),[p,s]),k=tq(p);return C.createElement(C.Fragment,null,g.map(_=>C.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),v.map(_=>C.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),k.map(({key:_,link:E})=>C.createElement("link",{key:_,nonce:n.nonce,...E})))}function rq(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mM&&(window.__reactRouterVersion="7.9.5")}catch{}function sq({basename:t,children:e,window:n}){let r=C.useRef();r.current==null&&(r.current=K8({window:n,v5Compat:!0}));let s=r.current,[i,o]=C.useState({action:s.action,location:s.location}),u=C.useCallback(c=>{C.startTransition(()=>o(c))},[o]);return C.useLayoutEffect(()=>s.listen(u),[s,u]),C.createElement(j7,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var gM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=C.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:s,replace:i,state:o,target:u,to:c,preventScrollReset:d,viewTransition:p,...g},v){let{basename:k}=C.useContext(ci),_=typeof c=="string"&&gM.test(c),E,T=!1;if(typeof c=="string"&&_&&(E=c,mM))try{let I=new URL(window.location.href),A=c.startsWith("//")?new URL(I.protocol+c):new URL(c),O=Hi(A.pathname,k);A.origin===I.origin&&O!=null?c=O+A.search+A.hash:T=!0}catch{ai(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=w7(c,{relative:r}),[N,R,U]=Z7(n,g),V=lq(c,{replace:i,state:o,target:u,preventScrollReset:d,relative:r,viewTransition:p});function K(I){t&&t(I),I.defaultPrevented||V(I)}let M=C.createElement("a",{...g,...U,href:E||D,onClick:T||s?t:K,ref:rq(v,R),target:u,"data-discover":!_&&e==="render"?"true":void 0});return N&&!_?C.createElement(C.Fragment,null,M,C.createElement(eq,{page:D})):M});ft.displayName="Link";var iq=C.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:s,to:i,viewTransition:o,children:u,...c},d){let p=jf(i,{relative:c.relative}),g=na(),v=C.useContext(Hy),{navigator:k,basename:_}=C.useContext(ci),E=v!=null&&fq(p)&&o===!0,T=k.encodeLocation?k.encodeLocation(p).pathname:p.pathname,D=g.pathname,N=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(D=D.toLowerCase(),N=N?N.toLowerCase():null,T=T.toLowerCase()),N&&_&&(N=Hi(N,_)||N);const R=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let U=D===T||!r&&D.startsWith(T)&&D.charAt(R)==="/",V=N!=null&&(N===T||!r&&N.startsWith(T)&&N.charAt(T.length)==="/"),K={isActive:U,isPending:V,isTransitioning:E},M=U?t:void 0,I;typeof n=="function"?I=n(K):I=[n,U?"active":null,V?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let A=typeof s=="function"?s(K):s;return C.createElement(ft,{...c,"aria-current":M,className:I,ref:d,style:A,to:i,viewTransition:o},typeof u=="function"?u(K):u)});iq.displayName="NavLink";var aq=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Ym,action:u,onSubmit:c,relative:d,preventScrollReset:p,viewTransition:g,...v},k)=>{let _=hq(),E=dq(u,{relative:d}),T=o.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&gM.test(u),N=R=>{if(c&&c(R),R.defaultPrevented)return;R.preventDefault();let U=R.nativeEvent.submitter,V=(U==null?void 0:U.getAttribute("formmethod"))||o;_(U||R.currentTarget,{fetcherKey:e,method:V,navigate:n,replace:s,state:i,relative:d,preventScrollReset:p,viewTransition:g})};return C.createElement("form",{ref:k,method:T,action:E,onSubmit:r?c:N,...v,"data-discover":!D&&t==="render"?"true":void 0})});aq.displayName="Form";function oq(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yM(t){let e=C.useContext(Hc);return It(e,oq(t)),e}function lq(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let u=M1(),c=na(),d=jf(t,{relative:i});return C.useCallback(p=>{if(U7(p,e)){p.preventDefault();let g=n!==void 0?n:nf(c)===nf(d);u(t,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,u,d,n,r,e,t,s,i,o])}var uq=0,cq=()=>`__${String(++uq)}__`;function hq(){let{router:t}=yM("useSubmit"),{basename:e}=C.useContext(ci),n=D7();return C.useCallback(async(r,s={})=>{let{action:i,method:o,encType:u,formData:c,body:d}=q7(r,e);if(s.navigate===!1){let p=s.fetcherKey||cq();await t.fetch(p,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function dq(t,{relative:e}={}){let{basename:n}=C.useContext(ci),r=C.useContext(ta);It(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...jf(t||".",{relative:e})},o=na();if(t==null){i.search=o.search;let u=new URLSearchParams(i.search),c=u.getAll("index");if(c.some(d=>d==="")){u.delete("index"),c.filter(p=>p).forEach(p=>u.append("index",p));let d=u.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ui([n,i.pathname])),nf(i)}function fq(t,{relative:e}={}){let n=C.useContext(lM);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yM("useViewTransitionState"),s=jf(t,{relative:e});if(!n.isTransitioning)return!1;let i=Hi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Hi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return qg(s.pathname,o)!=null||qg(s.pathname,i)!=null}var F1=hP();const pq=px(F1);function nt(t){if(!t)return"/";const[e,n]=t.split("?"),r="/"+e.replace(/\s+/g,"");return n?`${r}?${n}`:r}var Rf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mq={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Wo,O_,L_,gq=(L_=class{constructor(){je(this,Wo,mq),je(this,O_,!1)}setTimeoutProvider(t){ge(this,Wo,t)}setTimeout(t,e){return $(this,Wo).setTimeout(t,e)}clearTimeout(t){$(this,Wo).clearTimeout(t)}setInterval(t,e){return $(this,Wo).setInterval(t,e)}clearInterval(t){$(this,Wo).clearInterval(t)}},Wo=new WeakMap,O_=new WeakMap,L_),ml=new gq;function yq(t){setTimeout(t,0)}var Fl=typeof window>"u"||"Deno"in globalThis;function lr(){}function vq(t,e){return typeof t=="function"?t(e):t}function Cb(t){return typeof t=="number"&&t>=0&&t!==1/0}function vM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ro(t,e){return typeof t=="function"?t(e):t}function $r(t,e){return typeof t=="function"?t(e):t}function F_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:u}=t;if(o){if(r){if(e.queryHash!==B1(o,e.options))return!1}else if(!sf(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||i&&!i(e))}function B_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(rf(e.options.mutationKey)!==rf(i))return!1}else if(!sf(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function B1(t,e){return((e==null?void 0:e.queryKeyHashFn)||rf)(t)}function rf(t){return JSON.stringify(t,(e,n)=>Sb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function sf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>sf(t[n],e[n])):!1}var wq=Object.prototype.hasOwnProperty;function wM(t,e){if(t===e)return t;const n=U_(t)&&U_(e);if(!n&&!(Sb(t)&&Sb(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),i=s.length,o=n?new Array(i):{};let u=0;for(let c=0;c<i;c++){const d=n?c:s[c],p=t[d],g=e[d];if(p===g){o[d]=p,(n?c<r:wq.call(t,d))&&u++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){o[d]=g;continue}const v=wM(p,g);o[d]=v,v===p&&u++}return r===i&&u===r?t:o}function kb(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function U_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Sb(t){if(!z_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!z_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function z_(t){return Object.prototype.toString.call(t)==="[object Object]"}function bq(t){return new Promise(e=>{ml.setTimeout(e,t)})}function Eb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?wM(t,e):e}function xq(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Cq(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var U1=Symbol();function bM(t,e){return!t.queryFn&&e!=null&&e.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===U1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function kq(t,e){return typeof t=="function"?t(...e):!!t}var Vu,Qo,Jh,V_,Sq=(V_=class extends Rf{constructor(){super(),je(this,Vu),je(this,Qo),je(this,Jh),ge(this,Jh,t=>{if(!Fl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){$(this,Qo)||this.setEventListener($(this,Jh))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Qo))==null||t.call(this),ge(this,Qo,void 0))}setEventListener(t){var e;ge(this,Jh,t),(e=$(this,Qo))==null||e.call(this),ge(this,Qo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){$(this,Vu)!==t&&(ge(this,Vu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof $(this,Vu)=="boolean"?$(this,Vu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Vu=new WeakMap,Qo=new WeakMap,Jh=new WeakMap,V_),z1=new Sq;function Tb(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var Eq=yq;function Tq(){let t=[],e=0,n=u=>{u()},r=u=>{u()},s=Eq;const i=u=>{e?t.push(u):s(()=>{n(u)})},o=()=>{const u=t;t=[],u.length&&s(()=>{r(()=>{u.forEach(c=>{n(c)})})})};return{batch:u=>{let c;e++;try{c=u()}finally{e--,e||o()}return c},batchCalls:u=>(...c)=>{i(()=>{u(...c)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var Dn=Tq(),Zh,Xo,ed,q_,_q=(q_=class extends Rf{constructor(){super(),je(this,Zh,!0),je(this,Xo),je(this,ed),ge(this,ed,t=>{if(!Fl&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,Xo)||this.setEventListener($(this,ed))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Xo))==null||t.call(this),ge(this,Xo,void 0))}setEventListener(t){var e;ge(this,ed,t),(e=$(this,Xo))==null||e.call(this),ge(this,Xo,t(this.setOnline.bind(this)))}setOnline(t){$(this,Zh)!==t&&(ge(this,Zh,t),this.listeners.forEach(e=>{e(t)}))}isOnline(){return $(this,Zh)}},Zh=new WeakMap,Xo=new WeakMap,ed=new WeakMap,q_),$g=new _q;function Iq(t){return Math.min(1e3*2**t,3e4)}function xM(t){return(t??"online")==="online"?$g.isOnline():!0}var _b=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function CM(t){let e=!1,n=0,r;const s=Tb(),i=()=>s.status!=="pending",o=E=>{var T;if(!i()){const D=new _b(E);v(D),(T=t.onCancel)==null||T.call(t,D)}},u=()=>{e=!0},c=()=>{e=!1},d=()=>z1.isFocused()&&(t.networkMode==="always"||$g.isOnline())&&t.canRun(),p=()=>xM(t.networkMode)&&t.canRun(),g=E=>{i()||(r==null||r(),s.resolve(E))},v=E=>{i()||(r==null||r(),s.reject(E))},k=()=>new Promise(E=>{var T;r=D=>{(i()||d())&&E(D)},(T=t.onPause)==null||T.call(t)}).then(()=>{var E;r=void 0,i()||(E=t.onContinue)==null||E.call(t)}),_=()=>{if(i())return;let E;const T=n===0?t.initialPromise:void 0;try{E=T??t.fn()}catch(D){E=Promise.reject(D)}Promise.resolve(E).then(g).catch(D=>{var N;if(i())return;const R=t.retry??(Fl?0:3),U=t.retryDelay??Iq,V=typeof U=="function"?U(n,D):U,K=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,D);if(e||!K){v(D);return}n++,(N=t.onFail)==null||N.call(t,n,D),bq(V).then(()=>d()?void 0:k()).then(()=>{e?v(D):_()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:u,continueRetry:c,canStart:p,start:()=>(p()?_():k().then(_),s)}}var qu,$_,kM=($_=class{constructor(){je(this,qu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cb(this.gcTime)&&ge(this,qu,ml.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Fl?1/0:300*1e3))}clearGcTimeout(){$(this,qu)&&(ml.clearTimeout($(this,qu)),ge(this,qu,void 0))}},qu=new WeakMap,$_),$u,td,cs,Hu,Tn,ym,Ku,zs,Di,H_,Pq=(H_=class extends kM{constructor(t){super(),je(this,zs),je(this,$u),je(this,td),je(this,cs),je(this,Hu),je(this,Tn),je(this,ym),je(this,Ku),ge(this,Ku,!1),ge(this,ym,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,Hu,t.client),ge(this,cs,$(this,Hu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,$u,G_(this.options)),this.state=t.state??$(this,$u),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,Tn))==null?void 0:t.promise}setOptions(t){if(this.options={...$(this,ym),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=G_(this.options);e.data!==void 0&&(this.setState(K_(e.data,e.dataUpdatedAt)),ge(this,$u,e))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,cs).remove(this)}setData(t,e){const n=Eb(this.state.data,t,this.options);return Ze(this,zs,Di).call(this,{data:n,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),n}setState(t,e){Ze(this,zs,Di).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var e,n;const r=(e=$(this,Tn))==null?void 0:e.promise;return(n=$(this,Tn))==null||n.cancel(t),r?r.then(lr).catch(lr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,$u))}isActive(){return this.observers.some(t=>$r(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===U1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ro(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!vM(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=$(this,Tn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=$(this,Tn))==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,cs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||($(this,Tn)&&($(this,Ku)?$(this,Tn).cancel({revert:!0}):$(this,Tn).cancelRetry()),this.scheduleGc()),$(this,cs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,zs,Di).call(this,{type:"invalidate"})}async fetch(t,e){var n,r,s,i,o,u,c,d,p,g,v,k;if(this.state.fetchStatus!=="idle"&&((n=$(this,Tn))==null?void 0:n.status())!=="rejected"){if(this.state.data!==void 0&&e!=null&&e.cancelRefetch)this.cancel({silent:!0});else if($(this,Tn))return $(this,Tn).continueRetry(),$(this,Tn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(R=>R.options.queryFn);N&&this.setOptions(N.options)}const _=new AbortController,E=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(ge(this,Ku,!0),_.signal)})},T=()=>{const N=bM(this.options,e),R=(()=>{const U={client:$(this,Hu),queryKey:this.queryKey,meta:this.meta};return E(U),U})();return ge(this,Ku,!1),this.options.persister?this.options.persister(N,R,this):N(R)},D=(()=>{const N={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:$(this,Hu),state:this.state,fetchFn:T};return E(N),N})();(r=this.options.behavior)==null||r.onFetch(D,this),ge(this,td,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=D.fetchOptions)==null?void 0:s.meta))&&Ze(this,zs,Di).call(this,{type:"fetch",meta:(i=D.fetchOptions)==null?void 0:i.meta}),ge(this,Tn,CM({initialPromise:e==null?void 0:e.initialPromise,fn:D.fetchFn,onCancel:N=>{N instanceof _b&&N.revert&&this.setState({...$(this,td),fetchStatus:"idle"}),_.abort()},onFail:(N,R)=>{Ze(this,zs,Di).call(this,{type:"failed",failureCount:N,error:R})},onPause:()=>{Ze(this,zs,Di).call(this,{type:"pause"})},onContinue:()=>{Ze(this,zs,Di).call(this,{type:"continue"})},retry:D.options.retry,retryDelay:D.options.retryDelay,networkMode:D.options.networkMode,canRun:()=>!0}));try{const N=await $(this,Tn).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(u=(o=$(this,cs).config).onSuccess)==null||u.call(o,N,this),(d=(c=$(this,cs).config).onSettled)==null||d.call(c,N,this.state.error,this),N}catch(N){if(N instanceof _b){if(N.silent)return $(this,Tn).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw Ze(this,zs,Di).call(this,{type:"error",error:N}),(g=(p=$(this,cs).config).onError)==null||g.call(p,N,this),(k=(v=$(this,cs).config).onSettled)==null||k.call(v,this.state.data,N,this),N}finally{this.scheduleGc()}}},$u=new WeakMap,td=new WeakMap,cs=new WeakMap,Hu=new WeakMap,Tn=new WeakMap,ym=new WeakMap,Ku=new WeakMap,zs=new WeakSet,Di=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...SM(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...K_(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ge(this,td,t.manual?r:void 0),r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Dn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,cs).notify({query:this,type:"updated",action:t})})},H_);function SM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xM(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function K_(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function G_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Cr,Je,vm,ar,Gu,nd,Ba,Yo,wm,rd,sd,Wu,Qu,Jo,id,en,ad,Y0,J0,Z0,ew,tw,nw,rw,W_,Q_,Dq=(Q_=class extends Rf{constructor(t,e){super(),je(this,en),je(this,Cr),je(this,Je),je(this,vm),je(this,ar),je(this,Gu),je(this,nd),je(this,Ba),je(this,Yo),je(this,wm),je(this,rd),je(this,sd),je(this,Wu),je(this,Qu),je(this,Jo),je(this,id,new Set),this.options=e,ge(this,Cr,t),ge(this,Yo,null),ge(this,Ba,Tb()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,Je).addObserver(this),X_($(this,Je),this.options)?Ze(this,en,ad).call(this):this.updateResult(),Ze(this,en,ew).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ib($(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ib($(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,en,tw).call(this),Ze(this,en,nw).call(this),$(this,Je).removeObserver(this)}setOptions(t){const e=this.options,n=$(this,Je);if(this.options=$(this,Cr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $r(this.options.enabled,$(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,en,rw).call(this),$(this,Je).setOptions(this.options),e._defaulted&&!kb(this.options,e)&&$(this,Cr).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,Je),observer:this});const r=this.hasListeners();r&&Y_($(this,Je),n,this.options,e)&&Ze(this,en,ad).call(this),this.updateResult(),r&&($(this,Je)!==n||$r(this.options.enabled,$(this,Je))!==$r(e.enabled,$(this,Je))||ro(this.options.staleTime,$(this,Je))!==ro(e.staleTime,$(this,Je)))&&Ze(this,en,Y0).call(this);const s=Ze(this,en,J0).call(this);r&&($(this,Je)!==n||$r(this.options.enabled,$(this,Je))!==$r(e.enabled,$(this,Je))||s!==$(this,Jo))&&Ze(this,en,Z0).call(this,s)}getOptimisticResult(t){const e=$(this,Cr).getQueryCache().build($(this,Cr),t),n=this.createResult(e,t);return Nq(this,n)&&(ge(this,ar,n),ge(this,nd,this.options),ge(this,Gu,$(this,Je).state)),n}getCurrentResult(){return $(this,ar)}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e==null||e(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&$(this,Ba).status==="pending"&&$(this,Ba).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){$(this,id).add(t)}getCurrentQuery(){return $(this,Je)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=$(this,Cr).defaultQueryOptions(t),n=$(this,Cr).getQueryCache().build($(this,Cr),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return Ze(this,en,ad).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,ar)))}createResult(t,e){var n;const r=$(this,Je),s=this.options,i=$(this,ar),o=$(this,Gu),u=$(this,nd),c=t!==r?t.state:$(this,vm),{state:d}=t;let p={...d},g=!1,v;if(e._optimisticResults){const M=this.hasListeners(),I=!M&&X_(t,e),A=M&&Y_(t,r,e,s);(I||A)&&(p={...p,...SM(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:k,errorUpdatedAt:_,status:E}=p;v=p.data;let T=!1;if(e.placeholderData!==void 0&&v===void 0&&E==="pending"){let M;i!=null&&i.isPlaceholderData&&e.placeholderData===(u==null?void 0:u.placeholderData)?(M=i.data,T=!0):M=typeof e.placeholderData=="function"?e.placeholderData((n=$(this,sd))==null?void 0:n.state.data,$(this,sd)):e.placeholderData,M!==void 0&&(E="success",v=Eb(i==null?void 0:i.data,M,e),g=!0)}if(e.select&&v!==void 0&&!T)if(i&&v===(o==null?void 0:o.data)&&e.select===$(this,wm))v=$(this,rd);else try{ge(this,wm,e.select),v=e.select(v),v=Eb(i==null?void 0:i.data,v,e),ge(this,rd,v),ge(this,Yo,null)}catch(M){ge(this,Yo,M)}$(this,Yo)&&(k=$(this,Yo),v=$(this,rd),_=Date.now(),E="error");const D=p.fetchStatus==="fetching",N=E==="pending",R=E==="error",U=N&&D,V=v!==void 0,K={status:E,fetchStatus:p.fetchStatus,isPending:N,isSuccess:E==="success",isError:R,isInitialLoading:U,isLoading:U,data:v,dataUpdatedAt:p.dataUpdatedAt,error:k,errorUpdatedAt:_,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:D,isRefetching:D&&!N,isLoadingError:R&&!V,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:R&&V,isStale:V1(t,e),refetch:this.refetch,promise:$(this,Ba),isEnabled:$r(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=O=>{K.status==="error"?O.reject(K.error):K.data!==void 0&&O.resolve(K.data)},I=()=>{const O=ge(this,Ba,K.promise=Tb());M(O)},A=$(this,Ba);switch(A.status){case"pending":t.queryHash===r.queryHash&&M(A);break;case"fulfilled":(K.status==="error"||K.data!==A.value)&&I();break;case"rejected":(K.status!=="error"||K.error!==A.reason)&&I();break}}return K}updateResult(){const t=$(this,ar),e=this.createResult($(this,Je),this.options);if(ge(this,Gu,$(this,Je).state),ge(this,nd,this.options),$(this,Gu).data!==void 0&&ge(this,sd,$(this,Je)),kb(e,t))return;ge(this,ar,e);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!$(this,id).size)return!0;const i=new Set(s??$(this,id));return this.options.throwOnError&&i.add("error"),Object.keys($(this,ar)).some(o=>{const u=o;return $(this,ar)[u]!==t[u]&&i.has(u)})};Ze(this,en,W_).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,en,ew).call(this)}},Cr=new WeakMap,Je=new WeakMap,vm=new WeakMap,ar=new WeakMap,Gu=new WeakMap,nd=new WeakMap,Ba=new WeakMap,Yo=new WeakMap,wm=new WeakMap,rd=new WeakMap,sd=new WeakMap,Wu=new WeakMap,Qu=new WeakMap,Jo=new WeakMap,id=new WeakMap,en=new WeakSet,ad=function(t){Ze(this,en,rw).call(this);let e=$(this,Je).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(lr)),e},Y0=function(){Ze(this,en,tw).call(this);const t=ro(this.options.staleTime,$(this,Je));if(Fl||$(this,ar).isStale||!Cb(t))return;const e=vM($(this,ar).dataUpdatedAt,t)+1;ge(this,Wu,ml.setTimeout(()=>{$(this,ar).isStale||this.updateResult()},e))},J0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,Je)):this.options.refetchInterval)??!1},Z0=function(t){Ze(this,en,nw).call(this),ge(this,Jo,t),!(Fl||$r(this.options.enabled,$(this,Je))===!1||!Cb($(this,Jo))||$(this,Jo)===0)&&ge(this,Qu,ml.setInterval(()=>{(this.options.refetchIntervalInBackground||z1.isFocused())&&Ze(this,en,ad).call(this)},$(this,Jo)))},ew=function(){Ze(this,en,Y0).call(this),Ze(this,en,Z0).call(this,Ze(this,en,J0).call(this))},tw=function(){$(this,Wu)&&(ml.clearTimeout($(this,Wu)),ge(this,Wu,void 0))},nw=function(){$(this,Qu)&&(ml.clearInterval($(this,Qu)),ge(this,Qu,void 0))},rw=function(){const t=$(this,Cr).getQueryCache().build($(this,Cr),this.options);if(t===$(this,Je))return;const e=$(this,Je);ge(this,Je,t),ge(this,vm,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},W_=function(t){Dn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e($(this,ar))}),$(this,Cr).getQueryCache().notify({query:$(this,Je),type:"observerResultsUpdated"})})},Q_);function Aq(t,e){return $r(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function X_(t,e){return Aq(t,e)||t.state.data!==void 0&&Ib(t,e,e.refetchOnMount)}function Ib(t,e,n){if($r(e.enabled,t)!==!1&&ro(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&V1(t,e)}return!1}function Y_(t,e,n,r){return(t!==e||$r(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&V1(t,n)}function V1(t,e){return $r(e.enabled,t)!==!1&&t.isStaleByTime(ro(e.staleTime,t))}function Nq(t,e){return!kb(t.getCurrentResult(),e)}function J_(t){return{onFetch:(e,n)=>{var r,s,i,o,u;const c=e.options,d=(i=(s=(r=e.fetchOptions)==null?void 0:r.meta)==null?void 0:s.fetchMore)==null?void 0:i.direction,p=((o=e.state.data)==null?void 0:o.pages)||[],g=((u=e.state.data)==null?void 0:u.pageParams)||[];let v={pages:[],pageParams:[]},k=0;const _=async()=>{let E=!1;const T=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?E=!0:e.signal.addEventListener("abort",()=>{E=!0}),e.signal)})},D=bM(e.options,e.fetchOptions),N=async(R,U,V)=>{if(E)return Promise.reject();if(U==null&&R.pages.length)return Promise.resolve(R);const K=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:U,direction:V?"backward":"forward",meta:e.options.meta};return T(O),O})(),M=await D(K),{maxPages:I}=e.options,A=V?Cq:xq;return{pages:A(R.pages,M,I),pageParams:A(R.pageParams,U,I)}};if(d&&p.length){const R=d==="backward",U=R?Mq:Z_,V={pages:p,pageParams:g},K=U(c,V);v=await N(V,K,R)}else{const R=t??p.length;do{const U=k===0?g[0]??c.initialPageParam:Z_(c,v);if(k>0&&U==null)break;v=await N(v,U),k++}while(k<R)}return v};e.options.persister?e.fetchFn=()=>{var E,T;return(T=(E=e.options).persister)==null?void 0:T.call(E,_,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=_}}}function Z_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Mq(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var bm,Ai,or,Xu,Ni,Ua,e2,jq=(e2=class extends kM{constructor(t){super(),je(this,Ni),je(this,bm),je(this,Ai),je(this,or),je(this,Xu),ge(this,bm,t.client),this.mutationId=t.mutationId,ge(this,or,t.mutationCache),ge(this,Ai,[]),this.state=t.state||Rq(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,Ai).includes(t)||($(this,Ai).push(t),this.clearGcTimeout(),$(this,or).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,Ai,$(this,Ai).filter(e=>e!==t)),this.scheduleGc(),$(this,or).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,Ai).length||(this.state.status==="pending"?this.scheduleGc():$(this,or).remove(this))}continue(){var t;return((t=$(this,Xu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var e,n,r,s,i,o,u,c,d,p,g,v,k,_,E,T,D,N,R,U;const V=()=>{Ze(this,Ni,Ua).call(this,{type:"continue"})},K={client:$(this,bm),meta:this.options.meta,mutationKey:this.options.mutationKey};ge(this,Xu,CM({fn:()=>this.options.mutationFn?this.options.mutationFn(t,K):Promise.reject(new Error("No mutationFn found")),onFail:(A,O)=>{Ze(this,Ni,Ua).call(this,{type:"failed",failureCount:A,error:O})},onPause:()=>{Ze(this,Ni,Ua).call(this,{type:"pause"})},onContinue:V,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,or).canRun(this)}));const M=this.state.status==="pending",I=!$(this,Xu).canStart();try{if(M)V();else{Ze(this,Ni,Ua).call(this,{type:"pending",variables:t,isPaused:I}),await((n=(e=$(this,or).config).onMutate)==null?void 0:n.call(e,t,this,K));const O=await((s=(r=this.options).onMutate)==null?void 0:s.call(r,t,K));O!==this.state.context&&Ze(this,Ni,Ua).call(this,{type:"pending",context:O,variables:t,isPaused:I})}const A=await $(this,Xu).start();return await((o=(i=$(this,or).config).onSuccess)==null?void 0:o.call(i,A,t,this.state.context,this,K)),await((c=(u=this.options).onSuccess)==null?void 0:c.call(u,A,t,this.state.context,K)),await((p=(d=$(this,or).config).onSettled)==null?void 0:p.call(d,A,null,this.state.variables,this.state.context,this,K)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,A,null,t,this.state.context,K)),Ze(this,Ni,Ua).call(this,{type:"success",data:A}),A}catch(A){try{throw await((_=(k=$(this,or).config).onError)==null?void 0:_.call(k,A,t,this.state.context,this,K)),await((T=(E=this.options).onError)==null?void 0:T.call(E,A,t,this.state.context,K)),await((N=(D=$(this,or).config).onSettled)==null?void 0:N.call(D,void 0,A,this.state.variables,this.state.context,this,K)),await((U=(R=this.options).onSettled)==null?void 0:U.call(R,void 0,A,t,this.state.context,K)),A}finally{Ze(this,Ni,Ua).call(this,{type:"error",error:A})}}finally{$(this,or).runNext(this)}}},bm=new WeakMap,Ai=new WeakMap,or=new WeakMap,Xu=new WeakMap,Ni=new WeakSet,Ua=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Dn.batch(()=>{$(this,Ai).forEach(n=>{n.onMutationUpdate(t)}),$(this,or).notify({mutation:this,type:"updated",action:t})})},e2);function Rq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var za,Vs,xm,t2,Oq=(t2=class extends Rf{constructor(t={}){super(),je(this,za),je(this,Vs),je(this,xm),this.config=t,ge(this,za,new Set),ge(this,Vs,new Map),ge(this,xm,0)}build(t,e,n){const r=new jq({client:t,mutationCache:this,mutationId:++Bw(this,xm)._,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){$(this,za).add(t);const e=Cm(t);if(typeof e=="string"){const n=$(this,Vs).get(e);n?n.push(t):$(this,Vs).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if($(this,za).delete(t)){const e=Cm(t);if(typeof e=="string"){const n=$(this,Vs).get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&$(this,Vs).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Cm(t);if(typeof e=="string"){const n=$(this,Vs).get(e),r=n==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){var e;const n=Cm(t);if(typeof n=="string"){const r=(e=$(this,Vs).get(n))==null?void 0:e.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Dn.batch(()=>{$(this,za).forEach(t=>{this.notify({type:"removed",mutation:t})}),$(this,za).clear(),$(this,Vs).clear()})}getAll(){return Array.from($(this,za))}find(t){const e={exact:!0,...t};return this.getAll().find(n=>B_(e,n))}findAll(t={}){return this.getAll().filter(e=>B_(t,e))}notify(t){Dn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Dn.batch(()=>Promise.all(t.map(e=>e.continue().catch(lr))))}},za=new WeakMap,Vs=new WeakMap,xm=new WeakMap,t2);function Cm(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Mi,n2,Lq=(n2=class extends Rf{constructor(t={}){super(),je(this,Mi),this.config=t,ge(this,Mi,new Map)}build(t,e,n){const r=e.queryKey,s=e.queryHash??B1(r,e);let i=this.get(s);return i||(i=new Pq({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){$(this,Mi).has(t.queryHash)||($(this,Mi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=$(this,Mi).get(t.queryHash);e&&(t.destroy(),e===t&&$(this,Mi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Dn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,Mi).get(t)}getAll(){return[...$(this,Mi).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>F_(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>F_(t,n)):e}notify(t){Dn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Dn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Dn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Mi=new WeakMap,n2),tn,Zo,el,od,ld,tl,ud,cd,r2,Fq=(r2=class{constructor(t={}){je(this,tn),je(this,Zo),je(this,el),je(this,od),je(this,ld),je(this,tl),je(this,ud),je(this,cd),ge(this,tn,t.queryCache||new Lq),ge(this,Zo,t.mutationCache||new Oq),ge(this,el,t.defaultOptions||{}),ge(this,od,new Map),ge(this,ld,new Map),ge(this,tl,0)}mount(){Bw(this,tl)._++,$(this,tl)===1&&(ge(this,ud,z1.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,tn).onFocus())})),ge(this,cd,$g.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,tn).onOnline())})))}unmount(){var t,e;Bw(this,tl)._--,$(this,tl)===0&&((t=$(this,ud))==null||t.call(this),ge(this,ud,void 0),(e=$(this,cd))==null||e.call(this),ge(this,cd,void 0))}isFetching(t){return $(this,tn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,Zo).findAll({...t,status:"pending"}).length}getQueryData(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=$(this,tn).get(n.queryHash))==null?void 0:e.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=$(this,tn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ro(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return $(this,tn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,tn).get(r.queryHash),i=s==null?void 0:s.state.data,o=vq(e,i);if(o!==void 0)return $(this,tn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Dn.batch(()=>$(this,tn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=$(this,tn).get(n.queryHash))==null?void 0:e.state}removeQueries(t){const e=$(this,tn);Dn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,tn);return Dn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Dn.batch(()=>$(this,tn).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(lr).catch(lr)}invalidateQueries(t,e={}){return Dn.batch(()=>($(this,tn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Dn.batch(()=>$(this,tn).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(lr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(lr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,tn).build(this,e);return n.isStaleByTime(ro(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(lr).catch(lr)}fetchInfiniteQuery(t){return t.behavior=J_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(lr).catch(lr)}ensureInfiniteQueryData(t){return t.behavior=J_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $g.isOnline()?$(this,Zo).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,tn)}getMutationCache(){return $(this,Zo)}getDefaultOptions(){return $(this,el)}setDefaultOptions(t){ge(this,el,t)}setQueryDefaults(t,e){$(this,od).set(rf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,od).values()],n={};return e.forEach(r=>{sf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){$(this,ld).set(rf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,ld).values()],n={};return e.forEach(r=>{sf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,el).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=B1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===U1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,el).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,tn).clear(),$(this,Zo).clear()}},tn=new WeakMap,Zo=new WeakMap,el=new WeakMap,od=new WeakMap,ld=new WeakMap,tl=new WeakMap,ud=new WeakMap,cd=new WeakMap,r2),EM=C.createContext(void 0),Bq=t=>{const e=C.useContext(EM);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Uq=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(EM.Provider,{value:t,children:e})),TM=C.createContext(!1),zq=()=>C.useContext(TM);TM.Provider;function Vq(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var qq=C.createContext(Vq()),$q=()=>C.useContext(qq),Hq=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Kq=t=>{C.useEffect(()=>{t.clearReset()},[t])},Gq=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||kq(n,[t.error,r])),Wq=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Qq=(t,e)=>t.isLoading&&t.isFetching&&!e,Xq=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,s2=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Yq(t,e,n){var r,s,i,o,u;const c=zq(),d=$q(),p=Bq(),g=p.defaultQueryOptions(t);(s=(r=p.getDefaultOptions().queries)==null?void 0:r._experimental_beforeQuery)==null||s.call(r,g),g._optimisticResults=c?"isRestoring":"optimistic",Wq(g),Hq(g,d),Kq(d);const v=!p.getQueryCache().get(g.queryHash),[k]=C.useState(()=>new e(p,g)),_=k.getOptimisticResult(g),E=!c&&t.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(T=>{const D=E?k.subscribe(Dn.batchCalls(T)):lr;return k.updateResult(),D},[k,E]),()=>k.getCurrentResult(),()=>k.getCurrentResult()),C.useEffect(()=>{k.setOptions(g)},[g,k]),Xq(g,_))throw s2(g,k,d);if(Gq({result:_,errorResetBoundary:d,throwOnError:g.throwOnError,query:p.getQueryCache().get(g.queryHash),suspense:g.suspense}))throw _.error;if((o=(i=p.getDefaultOptions().queries)==null?void 0:i._experimental_afterQuery)==null||o.call(i,g,_),g.experimental_prefetchInRender&&!Fl&&Qq(_,c)){const T=v?s2(g,k,d):(u=p.getQueryCache().get(g.queryHash))==null?void 0:u.promise;T==null||T.catch(lr).finally(()=>{k.updateResult()})}return g.notifyOnChangeProps?_:k.trackResult(_)}function Jq(t,e){return Yq(t,Dq)}/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Zq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_M=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var e$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const t$=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...u},c)=>C.createElement("svg",{ref:c,...e$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:_M("lucide",s),...u},[...o.map(([d,p])=>C.createElement(d,p)),...Array.isArray(i)?i:[i]]));/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Xe=(t,e)=>{const n=C.forwardRef(({className:r,...s},i)=>C.createElement(t$,{ref:i,iconNode:e,className:_M(`lucide-${Zq(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const n$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],r$=Xe("ArrowRight",n$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const s$=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],i$=Xe("Award",s$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const a$=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Zm=Xe("Brain",a$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const o$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sw=Xe("Calendar",o$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const l$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],u$=Xe("ChartColumn",l$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const c$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],h$=Xe("Check",c$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const d$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],f$=Xe("ChevronDown",d$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const p$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],m$=Xe("ChevronRight",p$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const g$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],y$=Xe("CircleCheckBig",g$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const v$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],w$=Xe("CircleX",v$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const b$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],x$=Xe("Circle",b$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const C$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],k$=Xe("Clock",C$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const S$=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],i2=Xe("Coins",S$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const E$=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],T$=Xe("CreditCard",E$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _$=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],gl=Xe("Crown",_$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const I$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],a2=Xe("EyeOff",I$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const P$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],o2=Xe("Eye",P$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const D$=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],A$=Xe("Gamepad2",D$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const N$=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],l2=Xe("GraduationCap",N$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const M$=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],u2=Xe("Heart",M$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const j$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],c2=Xe("House",j$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const R$=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],h2=Xe("LogOut",R$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const O$=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],d2=Xe("Mail",O$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const L$=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],F$=Xe("Menu",L$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const B$=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],U$=Xe("PartyPopper",B$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const z$=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],V$=Xe("Rocket",z$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const q$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],f2=Xe("Settings",q$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],H$=Xe("Shield",$$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const K$=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],iw=Xe("ShoppingBag",K$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const G$=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],IM=Xe("Sparkles",G$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const W$=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],aw=Xe("Star",W$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Q$=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Pb=Xe("Trophy",Q$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const X$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ow=Xe("User",X$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Y$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Db=Xe("Users",Y$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const J$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],q1=Xe("X",J$);function PM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=PM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function DM(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=PM(t))&&(r&&(r+=" "),r+=e);return r}const p2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,m2=DM,Gy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return m2(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const p=n==null?void 0:n[d],g=i==null?void 0:i[d];if(p===null)return null;const v=p2(p)||p2(g);return s[d][v]}),u=n&&Object.entries(n).reduce((d,p)=>{let[g,v]=p;return v===void 0||(d[g]=v),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,p)=>{let{class:g,className:v,...k}=p;return Object.entries(k).every(_=>{let[E,T]=_;return Array.isArray(T)?T.includes({...i,...u}[E]):{...i,...u}[E]===T})?[...d,g,v]:d},[]);return m2(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},$1="-",Z$=t=>{const e=tH(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const i=s.split($1);return i[0]===""&&i.length!==1&&i.shift(),AM(i,e)||eH(s)},getConflictingClassGroupIds:(s,i)=>{const o=n[s]||[];return i&&r[s]?[...o,...r[s]]:o}}},AM=(t,e)=>{var n;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),i=s?AM(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join($1);return(n=e.validators.find(({validator:u})=>u(o)))==null?void 0:n.classGroupId},g2=/^\[(.+)\]$/,eH=t=>{if(g2.test(t)){const e=g2.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},tH=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Ab(n[s],r,s,e);return r},Ab=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:y2(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(nH(s)){Ab(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ab(o,y2(e,i),n,r)})})},y2=(t,e)=>{let n=t;return e.split($1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},nH=t=>t.isThemeGetter,rH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Nb="!",Mb=":",sH=Mb.length,iH=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,u=0,c=0,d;for(let _=0;_<s.length;_++){let E=s[_];if(o===0&&u===0){if(E===Mb){i.push(s.slice(c,_)),c=_+sH;continue}if(E==="/"){d=_;continue}}E==="["?o++:E==="]"?o--:E==="("?u++:E===")"&&u--}const p=i.length===0?s:s.substring(c),g=aH(p),v=g!==p,k=d&&d>c?d-c:void 0;return{modifiers:i,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:k}};if(e){const s=e+Mb,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},aH=t=>t.endsWith(Nb)?t.substring(0,t.length-1):t.startsWith(Nb)?t.substring(1):t,oH=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(r.push(...s.sort(),i),s=[]):s.push(i)}),r.push(...s.sort()),r}},lH=t=>({cache:rH(t.cacheSize),parseClassName:iH(t),sortModifiers:oH(t),...Z$(t)}),uH=/\s+/,cH=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],u=t.trim().split(uH);let c="";for(let d=u.length-1;d>=0;d-=1){const p=u[d],{isExternal:g,modifiers:v,hasImportantModifier:k,baseClassName:_,maybePostfixModifierPosition:E}=n(p);if(g){c=p+(c.length>0?" "+c:c);continue}let T=!!E,D=r(T?_.substring(0,E):_);if(!D){if(!T){c=p+(c.length>0?" "+c:c);continue}if(D=r(_),!D){c=p+(c.length>0?" "+c:c);continue}T=!1}const N=i(v).join(":"),R=k?N+Nb:N,U=R+D;if(o.includes(U))continue;o.push(U);const V=s(D,T);for(let K=0;K<V.length;++K){const M=V[K];o.push(R+M)}c=p+(c.length>0?" "+c:c)}return c};function hH(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=NM(e))&&(r&&(r+=" "),r+=n);return r}const NM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=NM(t[r]))&&(n&&(n+=" "),n+=e);return n};function dH(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((p,g)=>g(p),t());return n=lH(d),r=n.cache.get,s=n.cache.set,i=u,u(c)}function u(c){const d=r(c);if(d)return d;const p=cH(c,n);return s(c,p),p}return function(){return i(hH.apply(null,arguments))}}const fn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},MM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,jM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fH=/^\d+\/\d+$/,pH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,yH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yu=t=>fH.test(t),$e=t=>!!t&&!Number.isNaN(Number(t)),Va=t=>!!t&&Number.isInteger(Number(t)),lw=t=>t.endsWith("%")&&$e(t.slice(0,-1)),ji=t=>pH.test(t),wH=()=>!0,bH=t=>mH.test(t)&&!gH.test(t),RM=()=>!1,xH=t=>yH.test(t),CH=t=>vH.test(t),kH=t=>!xe(t)&&!Ce(t),SH=t=>Kc(t,FM,RM),xe=t=>MM.test(t),nl=t=>Kc(t,BM,bH),uw=t=>Kc(t,PH,$e),v2=t=>Kc(t,OM,RM),EH=t=>Kc(t,LM,CH),km=t=>Kc(t,UM,xH),Ce=t=>jM.test(t),hd=t=>Gc(t,BM),TH=t=>Gc(t,DH),w2=t=>Gc(t,OM),_H=t=>Gc(t,FM),IH=t=>Gc(t,LM),Sm=t=>Gc(t,UM,!0),Kc=(t,e,n)=>{const r=MM.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Gc=(t,e,n=!1)=>{const r=jM.exec(t);return r?r[1]?e(r[1]):n:!1},OM=t=>t==="position"||t==="percentage",LM=t=>t==="image"||t==="url",FM=t=>t==="length"||t==="size"||t==="bg-size",BM=t=>t==="length",PH=t=>t==="number",DH=t=>t==="family-name",UM=t=>t==="shadow",AH=()=>{const t=fn("color"),e=fn("font"),n=fn("text"),r=fn("font-weight"),s=fn("tracking"),i=fn("leading"),o=fn("breakpoint"),u=fn("container"),c=fn("spacing"),d=fn("radius"),p=fn("shadow"),g=fn("inset-shadow"),v=fn("text-shadow"),k=fn("drop-shadow"),_=fn("blur"),E=fn("perspective"),T=fn("aspect"),D=fn("ease"),N=fn("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],V=()=>[...U(),Ce,xe],K=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],I=()=>[Ce,xe,c],A=()=>[Yu,"full","auto",...I()],O=()=>[Va,"none","subgrid",Ce,xe],B=()=>["auto",{span:["full",Va,Ce,xe]},Va,Ce,xe],q=()=>[Va,"auto",Ce,xe],L=()=>["auto","min","max","fr",Ce,xe],Se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ne=()=>["start","end","center","stretch","center-safe","end-safe"],ye=()=>["auto",...I()],ve=()=>[Yu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],W=()=>[t,Ce,xe],ne=()=>[...U(),w2,v2,{position:[Ce,xe]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",_H,SH,{size:[Ce,xe]}],re=()=>[lw,hd,nl],pe=()=>["","none","full",d,Ce,xe],me=()=>["",$e,hd,nl],Me=()=>["solid","dashed","dotted","double"],ze=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ie=()=>[$e,lw,w2,v2],qe=()=>["","none",_,Ce,xe],Ue=()=>["none",$e,Ce,xe],pt=()=>["none",$e,Ce,xe],Dr=()=>[$e,Ce,xe],Ar=()=>[Yu,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ji],breakpoint:[ji],color:[wH],container:[ji],"drop-shadow":[ji],ease:["in","out","in-out"],font:[kH],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ji],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ji],shadow:[ji],spacing:["px",$e],text:[ji],"text-shadow":[ji],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yu,xe,Ce,T]}],container:["container"],columns:[{columns:[$e,xe,Ce,u]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:V()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[Va,"auto",Ce,xe]}],basis:[{basis:[Yu,"full","auto",u,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,Yu,"auto","initial","none",xe]}],grow:[{grow:["",$e,Ce,xe]}],shrink:[{shrink:["",$e,Ce,xe]}],order:[{order:[Va,"first","last","none",Ce,xe]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...Se(),"normal"]}],"justify-items":[{"justify-items":[...Ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ne()]}],"align-content":[{content:["normal",...Se()]}],"align-items":[{items:[...Ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":Se()}],"place-items":[{"place-items":[...Ne(),"baseline"]}],"place-self":[{"place-self":["auto",...Ne()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:ye()}],mx:[{mx:ye()}],my:[{my:ye()}],ms:[{ms:ye()}],me:[{me:ye()}],mt:[{mt:ye()}],mr:[{mr:ye()}],mb:[{mb:ye()}],ml:[{ml:ye()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:ve()}],w:[{w:[u,"screen",...ve()]}],"min-w":[{"min-w":[u,"screen","none",...ve()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...ve()]}],h:[{h:["screen","lh",...ve()]}],"min-h":[{"min-h":["screen","lh","none",...ve()]}],"max-h":[{"max-h":["screen","lh",...ve()]}],"font-size":[{text:["base",n,hd,nl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ce,uw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",lw,xe]}],"font-family":[{font:[TH,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ce,xe]}],"line-clamp":[{"line-clamp":[$e,"none",Ce,uw]}],leading:[{leading:[i,...I()]}],"list-image":[{"list-image":["none",Ce,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Me(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",Ce,nl]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[$e,"auto",Ce,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Va,Ce,xe],radial:["",Ce,xe],conic:[Va,Ce,xe]},IH,EH]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Me(),"hidden","none"]}],"divide-style":[{divide:[...Me(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...Me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,Ce,xe]}],"outline-w":[{outline:["",$e,hd,nl]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",p,Sm,km]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",g,Sm,km]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[$e,nl]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",v,Sm,km]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[$e,Ce,xe]}],"mix-blend":[{"mix-blend":[...ze(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ze()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ie()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":Ie()}],"mask-image-t-to-pos":[{"mask-t-to":Ie()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":Ie()}],"mask-image-r-to-pos":[{"mask-r-to":Ie()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":Ie()}],"mask-image-b-to-pos":[{"mask-b-to":Ie()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":Ie()}],"mask-image-l-to-pos":[{"mask-l-to":Ie()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":Ie()}],"mask-image-x-to-pos":[{"mask-x-to":Ie()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":Ie()}],"mask-image-y-to-pos":[{"mask-y-to":Ie()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Ce,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ie()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ie()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,xe]}],filter:[{filter:["","none",Ce,xe]}],blur:[{blur:qe()}],brightness:[{brightness:[$e,Ce,xe]}],contrast:[{contrast:[$e,Ce,xe]}],"drop-shadow":[{"drop-shadow":["","none",k,Sm,km]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",$e,Ce,xe]}],"hue-rotate":[{"hue-rotate":[$e,Ce,xe]}],invert:[{invert:["",$e,Ce,xe]}],saturate:[{saturate:[$e,Ce,xe]}],sepia:[{sepia:["",$e,Ce,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,xe]}],"backdrop-blur":[{"backdrop-blur":qe()}],"backdrop-brightness":[{"backdrop-brightness":[$e,Ce,xe]}],"backdrop-contrast":[{"backdrop-contrast":[$e,Ce,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,Ce,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,Ce,xe]}],"backdrop-invert":[{"backdrop-invert":["",$e,Ce,xe]}],"backdrop-opacity":[{"backdrop-opacity":[$e,Ce,xe]}],"backdrop-saturate":[{"backdrop-saturate":[$e,Ce,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,Ce,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",Ce,xe]}],ease:[{ease:["linear","initial",D,Ce,xe]}],delay:[{delay:[$e,Ce,xe]}],animate:[{animate:["none",N,Ce,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Ce,xe]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:Ue()}],"rotate-x":[{"rotate-x":Ue()}],"rotate-y":[{"rotate-y":Ue()}],"rotate-z":[{"rotate-z":Ue()}],scale:[{scale:pt()}],"scale-x":[{"scale-x":pt()}],"scale-y":[{"scale-y":pt()}],"scale-z":[{"scale-z":pt()}],"scale-3d":["scale-3d"],skew:[{skew:Dr()}],"skew-x":[{"skew-x":Dr()}],"skew-y":[{"skew-y":Dr()}],transform:[{transform:[Ce,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ar()}],"translate-x":[{"translate-x":Ar()}],"translate-y":[{"translate-y":Ar()}],"translate-z":[{"translate-z":Ar()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,xe]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[$e,hd,nl,uw]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},NH=dH(AH);function wt(...t){return NH(DM(t))}function jb(t){const e=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];if(t<20)return e[t];if(t<100)return n[Math.floor(t/10)]+(t%10?"-"+e[t%10]:"");if(t<1e3){const r=t%100,s=e[Math.floor(t/100)]+" hundred";return r?s+" "+jb(r):s}return String(t)}function Rb(t){const e=["cero","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez","once","doce","trece","catorce","quince","diecisis","diecisiete","dieciocho","diecinueve"],n=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];if(t<20)return e[t];if(t<30)return t===20?"veinte":"veinti"+e[t-20];if(t<100)return n[Math.floor(t/10)]+(t%10?" y "+e[t%10]:"");if(t<200)return"ciento"+(t%100?" "+Rb(t%100):"");if(t<1e3){const r=["cero","ciento","doscientos","trescientos","cuatrocientos","quinientos","seiscientos","setecientos","ochocientos","novecientos"][Math.floor(t/100)],s=t%100;return r+(s?" "+Rb(s):"")}return String(t)}function Vne(t,e={}){if(!t||typeof t!="string")return t;const{numberToWords:n="auto",language:r,pauseOperators:s=!0}=e;let i="en";try{i=r||(localStorage.getItem("tts.lang")==="es"?"es":"en")||"en"}catch{}let o=t;o=o.replace(//g,"-").replace(/|/g,"");const u={2:"half",3:"third",4:"fourth",5:"fifth",6:"sixth",7:"seventh",8:"eighth",9:"ninth",10:"tenth",12:"twelfth"},c={2:"medios",3:"tercios",4:"cuartos",5:"quintos",6:"sextos",7:"sptimos",8:"octavos",9:"novenos",10:"dcimos",12:"duodcimos"};if([{pattern:/\s*\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\/\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\s*/g,spoken:i==="es"?" por ":" times "},{pattern:/\s*\*\s*/g,spoken:" times "},{pattern:/(\d+)\s*[xX]\s*(\d+)/g,spoken:i==="es"?"$1 por $2":"$1 times $2"},{pattern:/\s*\+\s*/g,spoken:i==="es"?" ms ":" plus "},{pattern:/(\d+)\s*-\s*(\d+)/g,spoken:i==="es"?"$1 menos $2":"$1 minus $2"},{pattern:/\s*=\s*/g,spoken:i==="es"?" igual a ":" equals "},{pattern:/\s*>\s*/g,spoken:i==="es"?" es mayor que ":" is greater than "},{pattern:/\s*<\s*/g,spoken:i==="es"?" es menor que ":" is less than "},{pattern:/\s*\s*/g,spoken:i==="es"?" es mayor o igual que ":" is greater than or equal to "},{pattern:/\s*\s*/g,spoken:i==="es"?" es menor o igual que ":" is less than or equal to "},{pattern:/(\d+)\/(\d+)/g,spoken:(d,p,g)=>i==="es"?`${p} ${c[g]||"sobre "+g}`:u[g]?`${p==="1"?"one":jb(Number(p))} ${u[g]}${p!=="1"?"s":""}`:`${p} over ${g}`},{pattern:/%/g,spoken:i==="es"?" por ciento":" percent"},{pattern:/\^(\d+)/g,spoken:i==="es"?" a la potencia de $1":" to the power of $1"},{pattern:/(\d+)/g,spoken:i==="es"?"raz cuadrada de $1":"square root of $1"}].forEach(({pattern:d,spoken:p})=>{o=o.replace(d,p)}),o=o.replace(/(\d)\.(\d)/g,i==="es"?"$1 coma $2":"$1 point $2"),o=o.replace(/\s*(,)?\s*(\?+|_+)\s*(,)?\s*/g,(d,p,g,v)=>p&&v?", ":" "),o=o.replace(/\?\s*$/g,""),s&&(i==="es"?[" ms "," menos "," por "," dividido entre "," igual a "]:[" plus "," minus "," times "," divided by "," equals "]).forEach(d=>{const p=new RegExp(d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"(?!,)","g");o=o.replace(p,d+", ")}),n!=="none"){const d=i==="es"?Rb:jb;o=o.replace(/\b\d+\b/g,(p,g)=>{const v=parseInt(p,10);if(!Number.isFinite(v))return p;if(n==="all")return d(v);const k=v<=20,_=o[g-1]||"",E=o[g+p.length]||"";return k||_===","||E===","?d(v):p})}return o=o.replace(/\s+,/g,",").replace(/,\s*,/g,", ").replace(/\s+/g," ").replace(/\s+,\s*$/g,"").trim(),o}const MH=Gy("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function qr({className:t,variant:e,...n}){return x.jsx("div",{className:wt(MH({variant:e}),t),...n})}function b2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Gl(...t){return e=>{let n=!1;const r=t.map(s=>{const i=b2(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():b2(t[s],null)}}}}function dr(...t){return C.useCallback(Gl(...t),t)}var jH=Symbol.for("react.lazy"),Hg=gx[" use ".trim().toString()];function RH(t){return typeof t=="object"&&t!==null&&"then"in t}function zM(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===jH&&"_payload"in t&&RH(t._payload)}function OH(t){const e=FH(t),n=C.forwardRef((r,s)=>{let{children:i,...o}=r;zM(i)&&typeof Hg=="function"&&(i=Hg(i._payload));const u=C.Children.toArray(i),c=u.find(UH);if(c){const d=c.props.children,p=u.map(g=>g===c?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:C.isValidElement(d)?C.cloneElement(d,void 0,p):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var LH=OH("Slot");function FH(t){const e=C.forwardRef((n,r)=>{let{children:s,...i}=n;if(zM(s)&&typeof Hg=="function"&&(s=Hg(s._payload)),C.isValidElement(s)){const o=VH(s),u=zH(i,s.props);return s.type!==C.Fragment&&(u.ref=r?Gl(r,o):o),C.cloneElement(s,u)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var BH=Symbol("radix.slottable");function UH(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===BH}function zH(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function VH(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}const qH=Gy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Zs=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?LH:"button";return x.jsx(o,{className:wt(qH({variant:e,size:n,className:t})),ref:i,...s})});Zs.displayName="Button";const xn=Ny(ws);dy(ws);const VM=async(t,e={})=>{const n=li(xn,"users",t),r={email:t,subscription_tier:"free",subscription_expires_at:null,subscription_auto_renew:!1,trial_start_date:Kn(),trial_expires_at:null,trial_used:!1,trial_grace_used:!1,coins:0,stars_spent:0,total_stars_earned:0,owned_pets:[],active_pet:null,purchased_items:[],unlocked_items:[],power_ups:{},pet_experience:{},daily_login_streak:0,total_login_days:0,last_login_date:null,parental_controls:{enabled:!1,allowed_operations:[],allowed_levels:[],focus_operations:[],daily_time_limit_minutes:0,enforce_time_limits:!1},daily_usage_tracking:{},is_parent_mode:!1,is_premium_parent:!1,is_family_teacher:!1,parent_email:null,child_name:null,full_name:null,created_at:Kn(),updated_at:Kn(),...e};await Uy(n,r);const s=(await EN(n)).data();let i=null;if(s&&s.trial_start_date&&s.trial_start_date.toDate?i=s.trial_start_date.toDate():s&&s.trial_start_date&&s.trial_start_date.seconds&&(i=new Date(s.trial_start_date.seconds*1e3)),i){const o=new Date(i.getTime()+6048e5);return await zy(n,{trial_expires_at:rt.fromDate(o),updated_at:Kn()}),{...s,trial_expires_at:rt.fromDate(o)}}return s||r},qM=async t=>{const e=li(xn,"users",t),n=await EN(e);return n.exists()?{id:n.id,...n.data()}:await VM(t)},Em=async(t,e)=>{const n=li(xn,"users",t);await zy(n,{...e,updated_at:Kn()})},qne=async()=>{const t=Vn(xn,"users");return(await vs(t)).docs.map(e=>({id:e.id,...e.data()}))},$ne=async(t,e)=>{const n=Vn(xn,"gameProgress"),r=li(n),s={user_email:t,operation:e.operation,level:e.level,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,coins_earned:e.coins_earned||0,accuracy:e.accuracy||0,completed_at:Kn(),...e};return await Uy(r,s),{id:r.id,...s}},Hne=async t=>{const e=Vn(xn,"gameProgress"),n=ys(e,Gr("user_email","==",t),qc("completed_at","desc"));return(await vs(n)).docs.map(r=>({id:r.id,...r.data()}))},Kne=(t,e)=>{const n=Vn(xn,"gameProgress"),r=ys(n,Gr("user_email","==",t),qc("completed_at","desc"));return TN(r,s=>{const i=s.docs.map(o=>({id:o.id,...o.data()}));e(i)})},Gne=async()=>{const t=Vn(xn,"gameProgress"),e=ys(t,qc("score","desc"),k1(100));return(await vs(e)).docs.map(n=>({id:n.id,...n.data()}))},Wne=async(t,e)=>{const n=Vn(xn,"dailyChallenges"),r=li(n),s={user_email:t,challenge_type:e.challenge_type,challenge_date:e.challenge_date,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,bonus_coins:e.bonus_coins||0,completed_at:Kn(),...e};return await Uy(r,s),{id:r.id,...s}},Qne=async t=>{const e=Vn(xn,"dailyChallenges"),n=ys(e,Gr("user_email","==",t),qc("completed_at","desc"));return(await vs(n)).docs.map(r=>({id:r.id,...r.data()}))},Xne=async()=>{const t=Vn(xn,"dailyChallenges"),e=ys(t,qc("score","desc"),k1(100));return(await vs(e)).docs.map(n=>({id:n.id,...n.data()}))},Yne=async t=>{const e=Vn(xn,"teamChallenges"),n=ys(e,Gr("creator_email","==",t)),r=ys(e,Gr("team_members","array-contains",t)),[s,i]=await Promise.all([vs(n),vs(r)]),o=new Map;return s.docs.forEach(u=>o.set(u.id,{id:u.id,...u.data()})),i.docs.forEach(u=>o.set(u.id,{id:u.id,...u.data()})),Array.from(o.values())},Jne=async(t,e)=>{const n=li(xn,"teamChallenges",t);await zy(n,{...e,updated_at:Kn()})},Zne=async t=>{const e=Vn(xn,"tutorSessions"),n=ys(e,Gr("user_email","==",t),qc("created_at","desc"),k1(50));return(await vs(n)).docs.map(r=>({id:r.id,...r.data()}))},ere=async(t,e)=>{const n=Vn(xn,"friendConnections"),r=li(n),s={user_email:t,friend_email:e,status:"pending",sent_at:Kn()};return await Uy(r,s),{id:r.id,...s}},tre=async t=>{const e=Vn(xn,"friendConnections"),n=ys(e,Gr("user_email","==",t),Gr("status","==","accepted")),r=ys(e,Gr("friend_email","==",t),Gr("status","==","accepted")),[s,i]=await Promise.all([vs(n),vs(r)]);return[...s.docs.map(o=>({id:o.id,...o.data()})),...i.docs.map(o=>({id:o.id,...o.data()}))]},nre=async t=>{const e=Vn(xn,"friendConnections"),n=ys(e,Gr("friend_email","==",t),Gr("status","==","pending"));return(await vs(n)).docs.map(r=>({id:r.id,...r.data()}))},rre=async(t,e)=>{const n=li(xn,"friendConnections",t);await zy(n,{status:e,updated_at:Kn()})},eg=C.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:wt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));eg.displayName="Input";function $M(){const[t,e]=C.useState("sign-in"),[n,r]=C.useState(""),[s,i]=C.useState(""),[o,u]=C.useState(""),[c,d]=C.useState(!1),[p,g]=C.useState(""),[v,k]=C.useState(""),[_,E]=C.useState(!1),[T,D]=C.useState(!1),N=()=>{k(""),g("")},R=async()=>{if(N(),!n){k("Email required");return}if(t==="sign-up"){if(!s){k("Password required");return}if(s!==o){k("Passwords do not match");return}}if(t==="sign-in"&&!s){k("Password required");return}d(!0);try{t==="sign-up"?(await tF(W0,n,s),await VM(n),g("Account created. You are signed in.")):t==="sign-in"?(await nF(W0,n,s),await qM(n),g("Signed in.")):t==="reset"&&(await eF(W0,n),g("Reset link sent. Check your email."))}catch(V){k((V==null?void 0:V.message)||"Auth failed")}finally{d(!1)}},U=V=>{N(),e(V)};return x.jsxs("div",{className:"w-full max-w-sm mx-auto bg-white/90 rounded-xl shadow-lg p-5 space-y-4",children:[x.jsxs("h2",{className:"text-xl font-bold text-purple-700 text-center",children:[t==="sign-in"&&"Sign In",t==="sign-up"&&"Create Account",t==="reset"&&"Reset Password"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(eg,{type:"email",autoComplete:"email",placeholder:"Email",value:n,onChange:V=>r(V.target.value)}),t!=="reset"&&x.jsxs("div",{className:"relative",children:[x.jsx(eg,{type:_?"text":"password",autoComplete:t==="sign-up"?"new-password":"current-password",placeholder:"Password",value:s,onChange:V=>i(V.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>E(!_),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:_?x.jsx(a2,{className:"w-4 h-4"}):x.jsx(o2,{className:"w-4 h-4"})})]}),t==="sign-up"&&x.jsxs("div",{className:"relative",children:[x.jsx(eg,{type:T?"text":"password",placeholder:"Confirm Password",value:o,onChange:V=>u(V.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>D(!T),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:T?x.jsx(a2,{className:"w-4 h-4"}):x.jsx(o2,{className:"w-4 h-4"})})]})]}),(v||p)&&x.jsx("div",{className:`text-sm rounded-md p-2 ${v?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:v||p}),x.jsx(Zs,{onClick:R,disabled:c,className:"w-full bg-purple-600 hover:bg-purple-700",children:c?"Please wait":t==="sign-in"?"Sign In":t==="sign-up"?"Sign Up":"Send Reset Link"}),x.jsxs("div",{className:"text-xs text-center text-gray-600 space-y-1",children:[t==="sign-in"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>U("sign-up"),className:"text-purple-600 hover:underline block w-full",children:"Need an account? Sign up"}),x.jsx("button",{onClick:()=>U("reset"),className:"text-purple-600 hover:underline block w-full",children:"Forgot password?"})]}),t==="sign-up"&&x.jsx("button",{onClick:()=>U("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Have an account? Sign in"}),t==="reset"&&x.jsx("button",{onClick:()=>U("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Back to sign in"})]})]})}const HM=t=>{if(!t)return!1;if(!t.trial_start_date||!t.trial_expires_at)return t.subscription_tier==="free"&&t.trial_used!==!0;if(t.subscription_tier!=="free"||t.trial_used===!0)return!1;const e=new Date,n=t.trial_expires_at.toDate();return e<n},$H=t=>{if(!t||!t.trial_start_date||!t.trial_expires_at||t.subscription_tier!=="free")return!1;const e=new Date,n=t.trial_expires_at.toDate();return e>=n},HH=t=>{if(!t||!t.trial_expires_at||t.subscription_tier!=="free")return 0;const e=new Date,n=t.trial_expires_at.toDate()-e;return n<=0?0:Math.ceil(n/(1e3*60*60*24))},KH=t=>t?!!(t.subscription_tier&&t.subscription_tier!=="free"||HM(t)&&t.trial_used!==!0):!1;let Kg=H8;(async()=>{try{!Kg&&await ZN()&&(Kg=JN(ws))}catch{}})();function Wy(t,e={}){if(Kg)try{eM(Kg,t,e)}catch(n){console.warn("analytics log skipped",t,n==null?void 0:n.message)}}const GH=t=>Wy("trial_start",{method:"auto",user_email:t}),WH=(t,e)=>Wy("trial_day",{day:e,user_email:t}),QH=t=>Wy("trial_expired",{user_email:t}),XH=t=>Wy("trial_grace_lock",{user_email:t}),H1=Ny(ws);async function YH(t){try{await E1(Vn(H1,"notifications"),{user_email:t,type:"trial_day6_warning",title:"Trial Ending Soon!",message:"Your 7-day trial ends tomorrow. Upgrade now to keep unlimited access to premium features!",is_read:!1,created_at:Kn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create day6 notification:",e.message)}}async function JH(t){try{await E1(Vn(H1,"notifications"),{user_email:t,type:"trial_expired",title:"Trial Ended",message:"Your 7-day trial has ended. You are now on the free plan. Upgrade anytime to regain premium features.",is_read:!1,created_at:Kn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create trial expired notification:",e.message)}}async function ZH(t){try{await E1(Vn(H1,"notifications"),{user_email:t,type:"trial_grace_day",title:"Grace Day: Final Chance!",message:"Your trial expired, but you still have premium access today only. Upgrade now before it locks tomorrow.",is_read:!1,created_at:Kn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create grace day notification:",e.message)}}function eK(){const[t,e]=C.useState(null),[n,r]=C.useState(!0),[s,i]=C.useState(null);return C.useEffect(()=>{const o=dy(ws),u=Ny(ws);let c=null;const d=iF(o,async p=>{var g;if(!p){e(null),r(!1);return}try{e(v=>v||{email:p.email,subscription_tier:"free",coins:0}),i(null);try{const v=(g=p==null?void 0:p.metadata)!=null&&g.creationTime?new Date(p.metadata.creationTime).getTime():null,k=v?Date.now()-v<1440*60*1e3:!1,_=`optimistic_trial_${p.email}`,E=typeof window<"u"?localStorage.getItem(_):null;k&&!E&&(e(T=>({...T||{},email:p.email,subscription_tier:"free",coins:0,isOnTrial:!0,trialExpired:!1,trialDaysRemaining:7,inGraceDay:!1,hasPremiumAccess:!0,_optimisticTrial:!0})),localStorage.setItem(_,"true"))}catch{}try{if(typeof window<"u"&&window.location.search.includes("reset_trial=true")){const v=Date.now(),k=new Date(v+10080*60*1e3);await Em(p.email,{trial_start_date:Kn(),trial_expires_at:rt.fromDate(k),trial_used:!1,trial_grace_used:!1}),localStorage.removeItem(`trial_log_${p.email}`);const _=new URL(window.location.href);_.searchParams.delete("reset_trial"),window.history.replaceState({},"",_.toString()),console.info("[trial] Trial reset performed for",p.email)}}catch(v){console.warn("[trial] Trial reset attempt failed:",v==null?void 0:v.message)}c&&c(),c=TN(li(u,"users",p.email),v=>{var k,_;if(v.exists()){const E={id:v.id,...v.data()};(async()=>{try{if(!E.trial_start_date||!E.trial_expires_at){const B=Date.now(),q=new Date(B+10080*60*1e3);await Em(p.email,{trial_start_date:Kn(),trial_expires_at:rt.fromDate(q),trial_used:!1,trial_grace_used:!1})}}catch{}})();const T=HM(E)||!E.trial_start_date||!E.trial_expires_at,D=$H(E),N=HH(E),R=7,U=(k=E.trial_start_date)!=null&&k.toDate?Math.floor((Date.now()-E.trial_start_date.toDate().getTime())/(1e3*60*60*24)):null,V=D&&U===R&&E.trial_grace_used!==!0;e({...E,isOnTrial:T,trialExpired:D,trialDaysRemaining:N,inGraceDay:V,hasPremiumAccess:KH(E)||T||V});const K=v.id,M=`trial_log_${K}`,I=localStorage.getItem(M);let A=I?JSON.parse(I):{};const O=(_=E.trial_start_date)!=null&&_.toDate?E.trial_start_date.toDate().getTime():null;if(O){const B=A.trial_start_timestamp||null;(!B||B!==O)&&(A={})}if(E.trial_start_date&&!A.trial_start&&(GH(K),A.trial_start=!0,O&&(A.trial_start_timestamp=O)),T&&N>=0&&N<=7){const B=`day_${7-N}`;A[B]||(WH(K,7-N),A[B]=!0),N===1&&!A.notif_day6&&(YH(K),A.notif_day6=!0)}D&&E.subscription_tier==="free"&&!A.trial_expired&&(QH(K),A.trial_expired=!0,E.trial_used!==!0&&Em(v.id,{trial_used:!0}).catch(()=>{}),A.notif_expired||(JH(K),A.notif_expired=!0)),V&&!A.grace_lock&&(XH(K),A.grace_lock=!0,E.trial_grace_used!==!0&&Em(v.id,{trial_grace_used:!0}).catch(()=>{}),A.notif_grace||(ZH(K),A.notif_grace=!0));try{localStorage.setItem(M,JSON.stringify(A))}catch{}}},v=>{console.error("Firestore snapshot error:",v)}),qM(p.email).catch(v=>{console.error("Failed to ensure user profile",v),i(v)})}catch(v){console.error("Failed to initialize user session",v),i(v),e({email:p.email,subscription_tier:"free",coins:0})}finally{r(!1)}});return()=>{c&&c(),d()}},[]),{user:t,loading:n,error:s}}const KM=C.createContext({user:null,loading:!0,error:null});function tK({children:t}){const e=eK();return x.jsx(KM.Provider,{value:e,children:t})}function K1(){return C.useContext(KM)}const nK=Gy("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),GM=C.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,role:"alert",className:wt(nK({variant:e}),t),...n}));GM.displayName="Alert";const rK=C.forwardRef(({className:t,...e},n)=>x.jsx("h5",{ref:n,className:wt("mb-1 font-medium leading-none tracking-tight",t),...e}));rK.displayName="AlertTitle";const WM=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm [&_p]:leading-relaxed",t),...e}));WM.displayName="AlertDescription";function sK(){const{user:t}=K1(),e=M1(),[n,r]=pn.useState(!1),[s,i]=pn.useState(!0);if(!t||n===!0||s===!1||!(t.isOnTrial||t.trialExpired||t.inGraceDay))return null;const o=t.trialExpired&&!t.inGraceDay,u=t.trialDaysRemaining||0,c=t.inGraceDay;return x.jsx(GM,{className:`mb-4 ${o?"bg-red-50 border-red-300":u<=2?"bg-orange-50 border-orange-300":"bg-blue-50 border-blue-300"}`,children:x.jsxs("div",{className:"flex items-start justify-between gap-4",children:[x.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c?x.jsx(gl,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}):o?x.jsx(gl,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}):x.jsx(k$,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),x.jsx(WM,{className:c?"text-orange-800":o?"text-red-800":"text-blue-800",children:x.jsx("div",{className:"space-y-2",children:c?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Grace Day: Final Chance!"}),x.jsx("p",{className:"text-sm",children:"Your trial expired, but you still have premium access today only. Upgrade now to keep everything before it locks tomorrow."})]}):o?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Your 7-day trial has ended"}),x.jsx("p",{className:"text-sm",children:"You're now on the free plan with limited access. Upgrade to continue enjoying premium features like unlimited games, AI tutor, and more!"})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:u===0?" Trial ends today!":`${u} day${u===1?"":"s"} left in your trial`}),x.jsx("p",{className:"text-sm",children:"You're currently enjoying premium features. Upgrade now to keep unlimited access after your trial ends!"})]})})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(Zs,{onClick:()=>e("/subscription"),className:`${c?"bg-orange-600 hover:bg-orange-700":o?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white whitespace-nowrap`,size:"sm",children:[x.jsx(gl,{className:"w-4 h-4 mr-1"}),"Upgrade Now"]}),x.jsx(Zs,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"flex-shrink-0",children:x.jsx(q1,{className:"w-4 h-4"})})]})]})})}function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function sre(t,e){const n=C.createContext(e),r=i=>{const{children:o,...u}=i,c=C.useMemo(()=>u,Object.values(u));return x.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=C.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Of(t,e=[]){let n=[];function r(i,o){const u=C.createContext(o),c=n.length;n=[...n,o];const d=g=>{var v;const{scope:k,children:_,...E}=g,T=((v=k==null?void 0:k[t])==null?void 0:v[c])||u,D=C.useMemo(()=>E,Object.values(E));return x.jsx(T.Provider,{value:D,children:_})};d.displayName=i+"Provider";function p(g,v){var k;const _=((k=v==null?void 0:v[t])==null?void 0:k[c])||u,E=C.useContext(_);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[d,p]}const s=()=>{const i=n.map(o=>C.createContext(o));return function(o){const u=(o==null?void 0:o[t])||i;return C.useMemo(()=>({[`__scope${t}`]:{...o,[t]:u}}),[o,u])}};return s.scopeName=t,[r,iK(s,...e)]}function iK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){const i=r.reduce((o,{useScope:u,scopeName:c})=>{const d=u(s)[`__scope${c}`];return{...o,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var uo=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},aK=gx[" useInsertionEffect ".trim().toString()]||uo;function QM({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=oK({defaultProp:e,onChange:n}),u=t!==void 0,c=u?t:s;{const p=C.useRef(t!==void 0);C.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const d=C.useCallback(p=>{var g;if(u){const v=lK(p)?p(t):p;v!==t&&((g=o.current)==null||g.call(o,v))}else i(p)},[u,t,i,o]);return[c,d]}function oK({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),s=C.useRef(n),i=C.useRef(e);return aK(()=>{i.current=e},[e]),C.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function lK(t){return typeof t=="function"}function uK(t){const e=cK(t),n=C.forwardRef((r,s)=>{const{children:i,...o}=r,u=C.Children.toArray(i),c=u.find(dK);if(c){const d=c.props.children,p=u.map(g=>g===c?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:C.isValidElement(d)?C.cloneElement(d,void 0,p):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function cK(t){const e=C.forwardRef((n,r)=>{const{children:s,...i}=n;if(C.isValidElement(s)){const o=pK(s),u=fK(i,s.props);return s.type!==C.Fragment&&(u.ref=r?Gl(r,o):o),C.cloneElement(s,u)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var hK=Symbol("radix.slottable");function dK(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===hK}function fK(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function pK(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var mK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yn=mK.reduce((t,e)=>{const n=uK(`Primitive.${e}`),r=C.forwardRef((s,i)=>{const{asChild:o,...u}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(c,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function XM(t,e){t&&F1.flushSync(()=>t.dispatchEvent(e))}function x2(t){const e=gK(t),n=C.forwardRef((r,s)=>{const{children:i,...o}=r,u=C.Children.toArray(i),c=u.find(vK);if(c){const d=c.props.children,p=u.map(g=>g===c?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:C.isValidElement(d)?C.cloneElement(d,void 0,p):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function gK(t){const e=C.forwardRef((n,r)=>{const{children:s,...i}=n;if(C.isValidElement(s)){const o=bK(s),u=wK(i,s.props);return s.type!==C.Fragment&&(u.ref=r?Gl(r,o):o),C.cloneElement(s,u)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yK=Symbol("radix.slottable");function vK(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yK}function wK(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function bK(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function YM(t){const e=t+"CollectionProvider",[n,r]=Of(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:T,children:D}=E,N=pn.useRef(null),R=pn.useRef(new Map).current;return x.jsx(s,{scope:T,itemMap:R,collectionRef:N,children:D})};o.displayName=e;const u=t+"CollectionSlot",c=x2(u),d=pn.forwardRef((E,T)=>{const{scope:D,children:N}=E,R=i(u,D),U=dr(T,R.collectionRef);return x.jsx(c,{ref:U,children:N})});d.displayName=u;const p=t+"CollectionItemSlot",g="data-radix-collection-item",v=x2(p),k=pn.forwardRef((E,T)=>{const{scope:D,children:N,...R}=E,U=pn.useRef(null),V=dr(T,U),K=i(p,D);return pn.useEffect(()=>(K.itemMap.set(U,{ref:U,...R}),()=>void K.itemMap.delete(U))),x.jsx(v,{[g]:"",ref:V,children:N})});k.displayName=p;function _(E){const T=i(t+"CollectionConsumer",E);return pn.useCallback(()=>{const D=T.collectionRef.current;if(!D)return[];const N=Array.from(D.querySelectorAll(`[${g}]`));return Array.from(T.itemMap.values()).sort((R,U)=>N.indexOf(R.ref.current)-N.indexOf(U.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:d,ItemSlot:k},_,r]}var xK=C.createContext(void 0);function JM(t){const e=C.useContext(xK);return t||e||"ltr"}function Ki(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function CK(t,e=globalThis==null?void 0:globalThis.document){const n=Ki(t);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var kK="DismissableLayer",Ob="dismissableLayer.update",SK="dismissableLayer.pointerDownOutside",EK="dismissableLayer.focusOutside",C2,ZM=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ej=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:u,...c}=t,d=C.useContext(ZM),[p,g]=C.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=C.useState({}),_=dr(e,M=>g(M)),E=Array.from(d.layers),[T]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),D=E.indexOf(T),N=p?E.indexOf(p):-1,R=d.layersWithOutsidePointerEventsDisabled.size>0,U=N>=D,V=IK(M=>{const I=M.target,A=[...d.branches].some(O=>O.contains(I));!U||A||(s==null||s(M),o==null||o(M),M.defaultPrevented||u==null||u())},v),K=PK(M=>{const I=M.target;[...d.branches].some(A=>A.contains(I))||(i==null||i(M),o==null||o(M),M.defaultPrevented||u==null||u())},v);return CK(M=>{N===d.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&u&&(M.preventDefault(),u()))},v),C.useEffect(()=>{if(p)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(C2=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),k2(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=C2)}},[p,v,n,d]),C.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),k2())},[p,d]),C.useEffect(()=>{const M=()=>k({});return document.addEventListener(Ob,M),()=>document.removeEventListener(Ob,M)},[]),x.jsx(Yn.div,{...c,ref:_,style:{pointerEvents:R?U?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,K.onFocusCapture),onBlurCapture:et(t.onBlurCapture,K.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,V.onPointerDownCapture)})});ej.displayName=kK;var TK="DismissableLayerBranch",_K=C.forwardRef((t,e)=>{const n=C.useContext(ZM),r=C.useRef(null),s=dr(e,r);return C.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx(Yn.div,{...t,ref:s})});_K.displayName=TK;function IK(t,e=globalThis==null?void 0:globalThis.document){const n=Ki(t),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let c=function(){tj(SK,n,d,{discrete:!0})};const d={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function PK(t,e=globalThis==null?void 0:globalThis.document){const n=Ki(t),r=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!r.current&&tj(EK,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function k2(){const t=new CustomEvent(Ob);document.dispatchEvent(t)}function tj(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?XM(s,i):s.dispatchEvent(i)}var cw=0;function DK(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??S2()),document.body.insertAdjacentElement("beforeend",t[1]??S2()),cw++,()=>{cw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),cw--}},[])}function S2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hw="focusScope.autoFocusOnMount",dw="focusScope.autoFocusOnUnmount",E2={bubbles:!1,cancelable:!0},AK="FocusScope",nj=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[u,c]=C.useState(null),d=Ki(s),p=Ki(i),g=C.useRef(null),v=dr(e,E=>c(E)),k=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let E=function(R){if(k.paused||!u)return;const U=R.target;u.contains(U)?g.current=U:$a(g.current,{select:!0})},T=function(R){if(k.paused||!u)return;const U=R.relatedTarget;U!==null&&(u.contains(U)||$a(g.current,{select:!0}))},D=function(R){if(document.activeElement===document.body)for(const U of R)U.removedNodes.length>0&&$a(u)};document.addEventListener("focusin",E),document.addEventListener("focusout",T);const N=new MutationObserver(D);return u&&N.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",T),N.disconnect()}}},[r,u,k.paused]),C.useEffect(()=>{if(u){_2.add(k);const E=document.activeElement;if(!u.contains(E)){const T=new CustomEvent(hw,E2);u.addEventListener(hw,d),u.dispatchEvent(T),T.defaultPrevented||(NK(LK(rj(u)),{select:!0}),document.activeElement===E&&$a(u))}return()=>{u.removeEventListener(hw,d),setTimeout(()=>{const T=new CustomEvent(dw,E2);u.addEventListener(dw,p),u.dispatchEvent(T),T.defaultPrevented||$a(E??document.body,{select:!0}),u.removeEventListener(dw,p),_2.remove(k)},0)}}},[u,d,p,k]);const _=C.useCallback(E=>{if(!n&&!r||k.paused)return;const T=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,D=document.activeElement;if(T&&D){const N=E.currentTarget,[R,U]=MK(N);R&&U?!E.shiftKey&&D===U?(E.preventDefault(),n&&$a(R,{select:!0})):E.shiftKey&&D===R&&(E.preventDefault(),n&&$a(U,{select:!0})):D===N&&E.preventDefault()}},[n,r,k.paused]);return x.jsx(Yn.div,{tabIndex:-1,...o,ref:v,onKeyDown:_})});nj.displayName=AK;function NK(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if($a(r,{select:e}),document.activeElement!==n)return}function MK(t){const e=rj(t),n=T2(e,t),r=T2(e.reverse(),t);return[n,r]}function rj(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function T2(t,e){for(const n of t)if(!jK(n,{upTo:e}))return n}function jK(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function RK(t){return t instanceof HTMLInputElement&&"select"in t}function $a(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&RK(t)&&e&&t.select()}}var _2=OK();function OK(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=I2(t,e),t.unshift(e)},remove(e){var n;t=I2(t,e),(n=t[0])==null||n.resume()}}}function I2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function LK(t){return t.filter(e=>e.tagName!=="A")}var FK=gx[" useId ".trim().toString()]||(()=>{}),BK=0;function Lb(t){const[e,n]=C.useState(FK());return uo(()=>{n(r=>r??String(BK++))},[t]),e?`radix-${e}`:""}const UK=["top","right","bottom","left"],co=Math.min,Sr=Math.max,Gg=Math.round,Tm=Math.floor,ei=t=>({x:t,y:t}),zK={left:"right",right:"left",bottom:"top",top:"bottom"},VK={start:"end",end:"start"};function Fb(t,e,n){return Sr(t,co(e,n))}function Gi(t,e){return typeof t=="function"?t(e):t}function Wi(t){return t.split("-")[0]}function Wc(t){return t.split("-")[1]}function G1(t){return t==="x"?"y":"x"}function W1(t){return t==="y"?"height":"width"}const qK=new Set(["top","bottom"]);function Gs(t){return qK.has(Wi(t))?"y":"x"}function Q1(t){return G1(Gs(t))}function $K(t,e,n){n===void 0&&(n=!1);const r=Wc(t),s=Q1(t),i=W1(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Wg(o)),[o,Wg(o)]}function HK(t){const e=Wg(t);return[Bb(t),e,Bb(e)]}function Bb(t){return t.replace(/start|end/g,e=>VK[e])}const P2=["left","right"],D2=["right","left"],KK=["top","bottom"],GK=["bottom","top"];function WK(t,e,n){switch(t){case"top":case"bottom":return n?e?D2:P2:e?P2:D2;case"left":case"right":return e?KK:GK;default:return[]}}function QK(t,e,n,r){const s=Wc(t);let i=WK(Wi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Bb)))),i}function Wg(t){return t.replace(/left|right|bottom|top/g,e=>zK[e])}function XK(t){return{top:0,right:0,bottom:0,left:0,...t}}function sj(t){return typeof t!="number"?XK(t):{top:t,right:t,bottom:t,left:t}}function Qg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function A2(t,e,n){let{reference:r,floating:s}=t;const i=Gs(e),o=Q1(e),u=W1(o),c=Wi(e),d=i==="y",p=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let k;switch(c){case"top":k={x:p,y:r.y-s.height};break;case"bottom":k={x:p,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y:g};break;case"left":k={x:r.x-s.width,y:g};break;default:k={x:r.x,y:r.y}}switch(Wc(e)){case"start":k[o]-=v*(n&&d?-1:1);break;case"end":k[o]+=v*(n&&d?-1:1);break}return k}const YK=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,u=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:g}=A2(d,r,c),v=r,k={},_=0;for(let E=0;E<u.length;E++){const{name:T,fn:D}=u[E],{x:N,y:R,data:U,reset:V}=await D({x:p,y:g,initialPlacement:r,placement:v,strategy:s,middlewareData:k,rects:d,platform:o,elements:{reference:t,floating:e}});p=N??p,g=R??g,k={...k,[T]:{...k[T],...U}},V&&_<=50&&(_++,typeof V=="object"&&(V.placement&&(v=V.placement),V.rects&&(d=V.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):V.rects),{x:p,y:g}=A2(d,v,c)),E=-1)}return{x:p,y:g,placement:v,strategy:s,middlewareData:k}};async function af(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:u,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:k=0}=Gi(e,t),_=sj(k),E=u[v?g==="floating"?"reference":"floating":g],T=Qg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:d,rootBoundary:p,strategy:c})),D=g==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),R=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},U=Qg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:D,offsetParent:N,strategy:c}):D);return{top:(T.top-U.top+_.top)/R.y,bottom:(U.bottom-T.bottom+_.bottom)/R.y,left:(T.left-U.left+_.left)/R.x,right:(U.right-T.right+_.right)/R.x}}const JK=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:u,middlewareData:c}=e,{element:d,padding:p=0}=Gi(t,e)||{};if(d==null)return{};const g=sj(p),v={x:n,y:r},k=Q1(s),_=W1(k),E=await o.getDimensions(d),T=k==="y",D=T?"top":"left",N=T?"bottom":"right",R=T?"clientHeight":"clientWidth",U=i.reference[_]+i.reference[k]-v[k]-i.floating[_],V=v[k]-i.reference[k],K=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let M=K?K[R]:0;(!M||!await(o.isElement==null?void 0:o.isElement(K)))&&(M=u.floating[R]||i.floating[_]);const I=U/2-V/2,A=M/2-E[_]/2-1,O=co(g[D],A),B=co(g[N],A),q=O,L=M-E[_]-B,Se=M/2-E[_]/2+I,Ne=Fb(q,Se,L),ye=!c.arrow&&Wc(s)!=null&&Se!==Ne&&i.reference[_]/2-(Se<q?O:B)-E[_]/2<0,ve=ye?Se<q?Se-q:Se-L:0;return{[k]:v[k]+ve,data:{[k]:Ne,centerOffset:Se-Ne-ve,...ye&&{alignmentOffset:ve}},reset:ye}}}),ZK=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:u,platform:c,elements:d}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:E=!0,...T}=Gi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const D=Wi(s),N=Gs(u),R=Wi(u)===u,U=await(c.isRTL==null?void 0:c.isRTL(d.floating)),V=v||(R||!E?[Wg(u)]:HK(u)),K=_!=="none";!v&&K&&V.push(...QK(u,E,_,U));const M=[u,...V],I=await af(e,T),A=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&A.push(I[D]),g){const Se=$K(s,o,U);A.push(I[Se[0]],I[Se[1]])}if(O=[...O,{placement:s,overflows:A}],!A.every(Se=>Se<=0)){var B,q;const Se=(((B=i.flip)==null?void 0:B.index)||0)+1,Ne=M[Se];if(Ne&&(!(g==="alignment"&&N!==Gs(Ne))||O.every(ve=>Gs(ve.placement)===N?ve.overflows[0]>0:!0)))return{data:{index:Se,overflows:O},reset:{placement:Ne}};let ye=(q=O.filter(ve=>ve.overflows[0]<=0).sort((ve,W)=>ve.overflows[1]-W.overflows[1])[0])==null?void 0:q.placement;if(!ye)switch(k){case"bestFit":{var L;const ve=(L=O.filter(W=>{if(K){const ne=Gs(W.placement);return ne===N||ne==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(ne=>ne>0).reduce((ne,ae)=>ne+ae,0)]).sort((W,ne)=>W[1]-ne[1])[0])==null?void 0:L[0];ve&&(ye=ve);break}case"initialPlacement":ye=u;break}if(s!==ye)return{reset:{placement:ye}}}return{}}}};function N2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function M2(t){return UK.some(e=>t[e]>=0)}const eG=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Gi(t,e);switch(r){case"referenceHidden":{const i=await af(e,{...s,elementContext:"reference"}),o=N2(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:M2(o)}}}case"escaped":{const i=await af(e,{...s,altBoundary:!0}),o=N2(i,n.floating);return{data:{escapedOffsets:o,escaped:M2(o)}}}default:return{}}}}},ij=new Set(["left","top"]);async function tG(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Wi(n),u=Wc(n),c=Gs(n)==="y",d=ij.has(o)?-1:1,p=i&&c?-1:1,g=Gi(e,t);let{mainAxis:v,crossAxis:k,alignmentAxis:_}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof _=="number"&&(k=u==="end"?_*-1:_),c?{x:k*p,y:v*d}:{x:v*d,y:k*p}}const nG=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:u}=e,c=await tG(e,t);return o===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},rG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:u={fn:T=>{let{x:D,y:N}=T;return{x:D,y:N}}},...c}=Gi(t,e),d={x:n,y:r},p=await af(e,c),g=Gs(Wi(s)),v=G1(g);let k=d[v],_=d[g];if(i){const T=v==="y"?"top":"left",D=v==="y"?"bottom":"right",N=k+p[T],R=k-p[D];k=Fb(N,k,R)}if(o){const T=g==="y"?"top":"left",D=g==="y"?"bottom":"right",N=_+p[T],R=_-p[D];_=Fb(N,_,R)}const E=u.fn({...e,[v]:k,[g]:_});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[v]:i,[g]:o}}}}}},sG=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:u=0,mainAxis:c=!0,crossAxis:d=!0}=Gi(t,e),p={x:n,y:r},g=Gs(s),v=G1(g);let k=p[v],_=p[g];const E=Gi(u,e),T=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(c){const R=v==="y"?"height":"width",U=i.reference[v]-i.floating[R]+T.mainAxis,V=i.reference[v]+i.reference[R]-T.mainAxis;k<U?k=U:k>V&&(k=V)}if(d){var D,N;const R=v==="y"?"width":"height",U=ij.has(Wi(s)),V=i.reference[g]-i.floating[R]+(U&&((D=o.offset)==null?void 0:D[g])||0)+(U?0:T.crossAxis),K=i.reference[g]+i.reference[R]+(U?0:((N=o.offset)==null?void 0:N[g])||0)-(U?T.crossAxis:0);_<V?_=V:_>K&&(_=K)}return{[v]:k,[g]:_}}}},iG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:u}=e,{apply:c=()=>{},...d}=Gi(t,e),p=await af(e,d),g=Wi(s),v=Wc(s),k=Gs(s)==="y",{width:_,height:E}=i.floating;let T,D;g==="top"||g==="bottom"?(T=g,D=v===(await(o.isRTL==null?void 0:o.isRTL(u.floating))?"start":"end")?"left":"right"):(D=g,T=v==="end"?"top":"bottom");const N=E-p.top-p.bottom,R=_-p.left-p.right,U=co(E-p[T],N),V=co(_-p[D],R),K=!e.middlewareData.shift;let M=U,I=V;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=R),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=N),K&&!v){const O=Sr(p.left,0),B=Sr(p.right,0),q=Sr(p.top,0),L=Sr(p.bottom,0);k?I=_-2*(O!==0||B!==0?O+B:Sr(p.left,p.right)):M=E-2*(q!==0||L!==0?q+L:Sr(p.top,p.bottom))}await c({...e,availableWidth:I,availableHeight:M});const A=await o.getDimensions(u.floating);return _!==A.width||E!==A.height?{reset:{rects:!0}}:{}}}};function Qy(){return typeof window<"u"}function Qc(t){return aj(t)?(t.nodeName||"").toLowerCase():"#document"}function Ir(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hi(t){var e;return(e=(aj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function aj(t){return Qy()?t instanceof Node||t instanceof Ir(t).Node:!1}function bs(t){return Qy()?t instanceof Element||t instanceof Ir(t).Element:!1}function oi(t){return Qy()?t instanceof HTMLElement||t instanceof Ir(t).HTMLElement:!1}function j2(t){return!Qy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ir(t).ShadowRoot}const aG=new Set(["inline","contents"]);function Lf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=xs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!aG.has(s)}const oG=new Set(["table","td","th"]);function lG(t){return oG.has(Qc(t))}const uG=[":popover-open",":modal"];function Xy(t){return uG.some(e=>{try{return t.matches(e)}catch{return!1}})}const cG=["transform","translate","scale","rotate","perspective"],hG=["transform","translate","scale","rotate","perspective","filter"],dG=["paint","layout","strict","content"];function X1(t){const e=Y1(),n=bs(t)?xs(t):t;return cG.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||hG.some(r=>(n.willChange||"").includes(r))||dG.some(r=>(n.contain||"").includes(r))}function fG(t){let e=ho(t);for(;oi(e)&&!Rc(e);){if(X1(e))return e;if(Xy(e))return null;e=ho(e)}return null}function Y1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pG=new Set(["html","body","#document"]);function Rc(t){return pG.has(Qc(t))}function xs(t){return Ir(t).getComputedStyle(t)}function Yy(t){return bs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ho(t){if(Qc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||j2(t)&&t.host||hi(t);return j2(e)?e.host:e}function oj(t){const e=ho(t);return Rc(e)?t.ownerDocument?t.ownerDocument.body:t.body:oi(e)&&Lf(e)?e:oj(e)}function of(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=oj(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Ir(s);if(i){const u=Ub(o);return e.concat(o,o.visualViewport||[],Lf(s)?s:[],u&&n?of(u):[])}return e.concat(s,of(s,[],n))}function Ub(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lj(t){const e=xs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=oi(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,u=Gg(n)!==i||Gg(r)!==o;return u&&(n=i,r=o),{width:n,height:r,$:u}}function J1(t){return bs(t)?t:t.contextElement}function vc(t){const e=J1(t);if(!oi(e))return ei(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=lj(e);let o=(i?Gg(n.width):n.width)/r,u=(i?Gg(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const mG=ei(0);function uj(t){const e=Ir(t);return!Y1()||!e.visualViewport?mG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ir(t)?!1:e}function Bl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=J1(t);let o=ei(1);e&&(r?bs(r)&&(o=vc(r)):o=vc(t));const u=gG(i,n,r)?uj(i):ei(0);let c=(s.left+u.x)/o.x,d=(s.top+u.y)/o.y,p=s.width/o.x,g=s.height/o.y;if(i){const v=Ir(i),k=r&&bs(r)?Ir(r):r;let _=v,E=Ub(_);for(;E&&r&&k!==_;){const T=vc(E),D=E.getBoundingClientRect(),N=xs(E),R=D.left+(E.clientLeft+parseFloat(N.paddingLeft))*T.x,U=D.top+(E.clientTop+parseFloat(N.paddingTop))*T.y;c*=T.x,d*=T.y,p*=T.x,g*=T.y,c+=R,d+=U,_=Ir(E),E=Ub(_)}}return Qg({width:p,height:g,x:c,y:d})}function Jy(t,e){const n=Yy(t).scrollLeft;return e?e.left+n:Bl(hi(t)).left+n}function cj(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Jy(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function yG(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=hi(r),u=e?Xy(e.floating):!1;if(r===o||u&&i)return n;let c={scrollLeft:0,scrollTop:0},d=ei(1);const p=ei(0),g=oi(r);if((g||!g&&!i)&&((Qc(r)!=="body"||Lf(o))&&(c=Yy(r)),oi(r))){const k=Bl(r);d=vc(r),p.x=k.x+r.clientLeft,p.y=k.y+r.clientTop}const v=o&&!g&&!i?cj(o,c):ei(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+p.x+v.x,y:n.y*d.y-c.scrollTop*d.y+p.y+v.y}}function vG(t){return Array.from(t.getClientRects())}function wG(t){const e=hi(t),n=Yy(t),r=t.ownerDocument.body,s=Sr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Sr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Jy(t);const u=-n.scrollTop;return xs(r).direction==="rtl"&&(o+=Sr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:u}}const R2=25;function bG(t,e){const n=Ir(t),r=hi(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,u=0,c=0;if(s){i=s.width,o=s.height;const p=Y1();(!p||p&&e==="fixed")&&(u=s.offsetLeft,c=s.offsetTop)}const d=Jy(r);if(d<=0){const p=r.ownerDocument,g=p.body,v=getComputedStyle(g),k=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,_=Math.abs(r.clientWidth-g.clientWidth-k);_<=R2&&(i-=_)}else d<=R2&&(i+=d);return{width:i,height:o,x:u,y:c}}const xG=new Set(["absolute","fixed"]);function CG(t,e){const n=Bl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=oi(t)?vc(t):ei(1),o=t.clientWidth*i.x,u=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:u,x:c,y:d}}function O2(t,e,n){let r;if(e==="viewport")r=bG(t,n);else if(e==="document")r=wG(hi(t));else if(bs(e))r=CG(e,n);else{const s=uj(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Qg(r)}function hj(t,e){const n=ho(t);return n===e||!bs(n)||Rc(n)?!1:xs(n).position==="fixed"||hj(n,e)}function kG(t,e){const n=e.get(t);if(n)return n;let r=of(t,[],!1).filter(u=>bs(u)&&Qc(u)!=="body"),s=null;const i=xs(t).position==="fixed";let o=i?ho(t):t;for(;bs(o)&&!Rc(o);){const u=xs(o),c=X1(o);!c&&u.position==="fixed"&&(s=null),(i?!c&&!s:!c&&u.position==="static"&&s&&xG.has(s.position)||Lf(o)&&!c&&hj(t,o))?r=r.filter(d=>d!==o):s=u,o=ho(o)}return e.set(t,r),r}function SG(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Xy(e)?[]:kG(e,this._c):[].concat(n),r],o=i[0],u=i.reduce((c,d)=>{const p=O2(e,d,s);return c.top=Sr(p.top,c.top),c.right=co(p.right,c.right),c.bottom=co(p.bottom,c.bottom),c.left=Sr(p.left,c.left),c},O2(e,o,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function EG(t){const{width:e,height:n}=lj(t);return{width:e,height:n}}function TG(t,e,n){const r=oi(e),s=hi(e),i=n==="fixed",o=Bl(t,!0,i,e);let u={scrollLeft:0,scrollTop:0};const c=ei(0);function d(){c.x=Jy(s)}if(r||!r&&!i)if((Qc(e)!=="body"||Lf(s))&&(u=Yy(e)),r){const k=Bl(e,!0,i,e);c.x=k.x+e.clientLeft,c.y=k.y+e.clientTop}else s&&d();i&&!r&&s&&d();const p=s&&!r&&!i?cj(s,u):ei(0),g=o.left+u.scrollLeft-c.x-p.x,v=o.top+u.scrollTop-c.y-p.y;return{x:g,y:v,width:o.width,height:o.height}}function fw(t){return xs(t).position==="static"}function L2(t,e){if(!oi(t)||xs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return hi(t)===n&&(n=n.ownerDocument.body),n}function dj(t,e){const n=Ir(t);if(Xy(t))return n;if(!oi(t)){let s=ho(t);for(;s&&!Rc(s);){if(bs(s)&&!fw(s))return s;s=ho(s)}return n}let r=L2(t,e);for(;r&&lG(r)&&fw(r);)r=L2(r,e);return r&&Rc(r)&&fw(r)&&!X1(r)?n:r||fG(t)||n}const _G=async function(t){const e=this.getOffsetParent||dj,n=this.getDimensions,r=await n(t.floating);return{reference:TG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function IG(t){return xs(t).direction==="rtl"}const PG={convertOffsetParentRelativeRectToViewportRelativeRect:yG,getDocumentElement:hi,getClippingRect:SG,getOffsetParent:dj,getElementRects:_G,getClientRects:vG,getDimensions:EG,getScale:vc,isElement:bs,isRTL:IG};function fj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function DG(t,e){let n=null,r;const s=hi(t);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function o(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:p,top:g,width:v,height:k}=d;if(u||e(),!v||!k)return;const _=Tm(g),E=Tm(s.clientWidth-(p+v)),T=Tm(s.clientHeight-(g+k)),D=Tm(p),N={rootMargin:-_+"px "+-E+"px "+-T+"px "+-D+"px",threshold:Sr(0,co(1,c))||1};let R=!0;function U(V){const K=V[0].intersectionRatio;if(K!==c){if(!R)return o();K?o(!1,K):r=setTimeout(()=>{o(!1,1e-7)},1e3)}K===1&&!fj(d,t.getBoundingClientRect())&&o(),R=!1}try{n=new IntersectionObserver(U,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(U,N)}n.observe(t)}return o(!0),i}function AG(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=J1(t),p=s||i?[...d?of(d):[],...of(e)]:[];p.forEach(D=>{s&&D.addEventListener("scroll",n,{passive:!0}),i&&D.addEventListener("resize",n)});const g=d&&u?DG(d,n):null;let v=-1,k=null;o&&(k=new ResizeObserver(D=>{let[N]=D;N&&N.target===d&&k&&(k.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var R;(R=k)==null||R.observe(e)})),n()}),d&&!c&&k.observe(d),k.observe(e));let _,E=c?Bl(t):null;c&&T();function T(){const D=Bl(t);E&&!fj(E,D)&&n(),E=D,_=requestAnimationFrame(T)}return n(),()=>{var D;p.forEach(N=>{s&&N.removeEventListener("scroll",n),i&&N.removeEventListener("resize",n)}),g==null||g(),(D=k)==null||D.disconnect(),k=null,c&&cancelAnimationFrame(_)}}const NG=nG,MG=rG,jG=ZK,RG=iG,OG=eG,F2=JK,LG=sG,FG=(t,e,n)=>{const r=new Map,s={platform:PG,...n},i={...s.platform,_c:r};return YK(t,e,{...s,platform:i})};var BG=typeof document<"u",UG=function(){},tg=BG?C.useLayoutEffect:UG;function Xg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Xg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Xg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function pj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function B2(t,e){const n=pj(t);return Math.round(e*n)/n}function pw(t){const e=C.useRef(t);return tg(()=>{e.current=t}),e}function zG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:u=!0,whileElementsMounted:c,open:d}=t,[p,g]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,k]=C.useState(r);Xg(v,r)||k(r);const[_,E]=C.useState(null),[T,D]=C.useState(null),N=C.useCallback(W=>{W!==K.current&&(K.current=W,E(W))},[]),R=C.useCallback(W=>{W!==M.current&&(M.current=W,D(W))},[]),U=i||_,V=o||T,K=C.useRef(null),M=C.useRef(null),I=C.useRef(p),A=c!=null,O=pw(c),B=pw(s),q=pw(d),L=C.useCallback(()=>{if(!K.current||!M.current)return;const W={placement:e,strategy:n,middleware:v};B.current&&(W.platform=B.current),FG(K.current,M.current,W).then(ne=>{const ae={...ne,isPositioned:q.current!==!1};Se.current&&!Xg(I.current,ae)&&(I.current=ae,F1.flushSync(()=>{g(ae)}))})},[v,e,n,B,q]);tg(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,g(W=>({...W,isPositioned:!1})))},[d]);const Se=C.useRef(!1);tg(()=>(Se.current=!0,()=>{Se.current=!1}),[]),tg(()=>{if(U&&(K.current=U),V&&(M.current=V),U&&V){if(O.current)return O.current(U,V,L);L()}},[U,V,L,O,A]);const Ne=C.useMemo(()=>({reference:K,floating:M,setReference:N,setFloating:R}),[N,R]),ye=C.useMemo(()=>({reference:U,floating:V}),[U,V]),ve=C.useMemo(()=>{const W={position:n,left:0,top:0};if(!ye.floating)return W;const ne=B2(ye.floating,p.x),ae=B2(ye.floating,p.y);return u?{...W,transform:"translate("+ne+"px, "+ae+"px)",...pj(ye.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ae}},[n,u,ye.floating,p.x,p.y]);return C.useMemo(()=>({...p,update:L,refs:Ne,elements:ye,floatingStyles:ve}),[p,L,Ne,ye,ve])}const VG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?F2({element:r.current,padding:s}).fn(n):{}:r?F2({element:r,padding:s}).fn(n):{}}}},qG=(t,e)=>({...NG(t),options:[t,e]}),$G=(t,e)=>({...MG(t),options:[t,e]}),HG=(t,e)=>({...LG(t),options:[t,e]}),KG=(t,e)=>({...jG(t),options:[t,e]}),GG=(t,e)=>({...RG(t),options:[t,e]}),WG=(t,e)=>({...OG(t),options:[t,e]}),QG=(t,e)=>({...VG(t),options:[t,e]});var XG="Arrow",mj=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return x.jsx(Yn.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});mj.displayName=XG;var YG=mj;function JG(t){const[e,n]=C.useState(void 0);return uo(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,u;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,u=d.blockSize}else o=t.offsetWidth,u=t.offsetHeight;n({width:o,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Z1="Popper",[gj,yj]=Of(Z1),[ZG,vj]=gj(Z1),wj=t=>{const{__scopePopper:e,children:n}=t,[r,s]=C.useState(null);return x.jsx(ZG,{scope:e,anchor:r,onAnchorChange:s,children:n})};wj.displayName=Z1;var bj="PopperAnchor",xj=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=vj(bj,n),o=C.useRef(null),u=dr(e,o),c=C.useRef(null);return C.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),r?null:x.jsx(Yn.div,{...s,ref:u})});xj.displayName=bj;var eC="PopperContent",[eW,tW]=gj(eC),Cj=C.forwardRef((t,e)=>{var n,r,s,i,o,u;const{__scopePopper:c,side:d="bottom",sideOffset:p=0,align:g="center",alignOffset:v=0,arrowPadding:k=0,avoidCollisions:_=!0,collisionBoundary:E=[],collisionPadding:T=0,sticky:D="partial",hideWhenDetached:N=!1,updatePositionStrategy:R="optimized",onPlaced:U,...V}=t,K=vj(eC,c),[M,I]=C.useState(null),A=dr(e,Zn=>I(Zn)),[O,B]=C.useState(null),q=JG(O),L=(q==null?void 0:q.width)??0,Se=(q==null?void 0:q.height)??0,Ne=d+(g!=="center"?"-"+g:""),ye=typeof T=="number"?T:{top:0,right:0,bottom:0,left:0,...T},ve=Array.isArray(E)?E:[E],W=ve.length>0,ne={padding:ye,boundary:ve.filter(rW),altBoundary:W},{refs:ae,floatingStyles:G,placement:re,isPositioned:pe,middlewareData:me}=zG({strategy:"fixed",placement:Ne,whileElementsMounted:(...Zn)=>AG(...Zn,{animationFrame:R==="always"}),elements:{reference:K.anchor},middleware:[qG({mainAxis:p+Se,alignmentAxis:v}),_&&$G({mainAxis:!0,crossAxis:!1,limiter:D==="partial"?HG():void 0,...ne}),_&&KG({...ne}),GG({...ne,apply:({elements:Zn,rects:ra,availableWidth:Xl,availableHeight:sa})=>{const{width:di,height:bo}=ra.reference,mt=Zn.floating.style;mt.setProperty("--radix-popper-available-width",`${Xl}px`),mt.setProperty("--radix-popper-available-height",`${sa}px`),mt.setProperty("--radix-popper-anchor-width",`${di}px`),mt.setProperty("--radix-popper-anchor-height",`${bo}px`)}}),O&&QG({element:O,padding:k}),sW({arrowWidth:L,arrowHeight:Se}),N&&WG({strategy:"referenceHidden",...ne})]}),[Me,ze]=Ej(re),Ie=Ki(U);uo(()=>{pe&&(Ie==null||Ie())},[pe,Ie]);const qe=(n=me.arrow)==null?void 0:n.x,Ue=(r=me.arrow)==null?void 0:r.y,pt=((s=me.arrow)==null?void 0:s.centerOffset)!==0,[Dr,Ar]=C.useState();return uo(()=>{M&&Ar(window.getComputedStyle(M).zIndex)},[M]),x.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:pe?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Dr,"--radix-popper-transform-origin":[(i=me.transformOrigin)==null?void 0:i.x,(o=me.transformOrigin)==null?void 0:o.y].join(" "),...((u=me.hide)==null?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(eW,{scope:c,placedSide:Me,onArrowChange:B,arrowX:qe,arrowY:Ue,shouldHideArrow:pt,children:x.jsx(Yn.div,{"data-side":Me,"data-align":ze,...V,ref:A,style:{...V.style,animation:pe?void 0:"none"}})})})});Cj.displayName=eC;var kj="PopperArrow",nW={top:"bottom",right:"left",bottom:"top",left:"right"},Sj=C.forwardRef(function(t,e){const{__scopePopper:n,...r}=t,s=tW(kj,n),i=nW[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(YG,{...r,ref:e,style:{...r.style,display:"block"}})})});Sj.displayName=kj;function rW(t){return t!==null}var sW=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s;const{placement:i,rects:o,middlewareData:u}=e,c=((n=u.arrow)==null?void 0:n.centerOffset)!==0,d=c?0:t.arrowWidth,p=c?0:t.arrowHeight,[g,v]=Ej(i),k={start:"0%",center:"50%",end:"100%"}[v],_=(((r=u.arrow)==null?void 0:r.x)??0)+d/2,E=(((s=u.arrow)==null?void 0:s.y)??0)+p/2;let T="",D="";return g==="bottom"?(T=c?k:`${_}px`,D=`${-p}px`):g==="top"?(T=c?k:`${_}px`,D=`${o.floating.height+p}px`):g==="right"?(T=`${-p}px`,D=c?k:`${E}px`):g==="left"&&(T=`${o.floating.width+p}px`,D=c?k:`${E}px`),{data:{x:T,y:D}}}});function Ej(t){const[e,n="center"]=t.split("-");return[e,n]}var iW=wj,aW=xj,oW=Cj,lW=Sj,uW="Portal",Tj=C.forwardRef((t,e)=>{var n;const{container:r,...s}=t,[i,o]=C.useState(!1);uo(()=>o(!0),[]);const u=r||i&&((n=globalThis==null?void 0:globalThis.document)==null?void 0:n.body);return u?pq.createPortal(x.jsx(Yn.div,{...s,ref:e}),u):null});Tj.displayName=uW;function cW(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var Ff=t=>{const{present:e,children:n}=t,r=hW(e),s=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),i=dr(r.ref,dW(s));return typeof n=="function"||r.isPresent?C.cloneElement(s,{ref:i}):null};Ff.displayName="Presence";function hW(t){const[e,n]=C.useState(),r=C.useRef(null),s=C.useRef(t),i=C.useRef("none"),o=t?"mounted":"unmounted",[u,c]=cW(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=_m(r.current);i.current=u==="mounted"?d:"none"},[u]),uo(()=>{const d=r.current,p=s.current;if(p!==t){const g=i.current,v=_m(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(p&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),uo(()=>{if(e){let d;const p=e.ownerDocument.defaultView??window,g=k=>{const _=_m(r.current).includes(CSS.escape(k.animationName));if(k.target===e&&_&&(c("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",d=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},v=k=>{k.target===e&&(i.current=_m(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:C.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function _m(t){return(t==null?void 0:t.animationName)||"none"}function dW(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var mw="rovingFocusGroup.onEntryFocus",fW={bubbles:!1,cancelable:!0},Bf="RovingFocusGroup",[zb,_j,pW]=YM(Bf),[mW,Ij]=Of(Bf,[pW]),[gW,yW]=mW(Bf),Pj=C.forwardRef((t,e)=>x.jsx(zb.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(zb.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(vW,{...t,ref:e})})}));Pj.displayName=Bf;var vW=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...g}=t,v=C.useRef(null),k=dr(e,v),_=JM(i),[E,T]=QM({prop:o,defaultProp:u??null,onChange:c,caller:Bf}),[D,N]=C.useState(!1),R=Ki(d),U=_j(n),V=C.useRef(!1),[K,M]=C.useState(0);return C.useEffect(()=>{const I=v.current;if(I)return I.addEventListener(mw,R),()=>I.removeEventListener(mw,R)},[R]),x.jsx(gW,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:E,onItemFocus:C.useCallback(I=>T(I),[T]),onItemShiftTab:C.useCallback(()=>N(!0),[]),onFocusableItemAdd:C.useCallback(()=>M(I=>I+1),[]),onFocusableItemRemove:C.useCallback(()=>M(I=>I-1),[]),children:x.jsx(Yn.div,{tabIndex:D||K===0?-1:0,"data-orientation":r,...g,ref:k,style:{outline:"none",...t.style},onMouseDown:et(t.onMouseDown,()=>{V.current=!0}),onFocus:et(t.onFocus,I=>{const A=!V.current;if(I.target===I.currentTarget&&A&&!D){const O=new CustomEvent(mw,fW);if(I.currentTarget.dispatchEvent(O),!O.defaultPrevented){const B=U().filter(Ne=>Ne.focusable),q=B.find(Ne=>Ne.active),L=B.find(Ne=>Ne.id===E),Se=[q,L,...B].filter(Boolean).map(Ne=>Ne.ref.current);Nj(Se,p)}}V.current=!1}),onBlur:et(t.onBlur,()=>N(!1))})})}),Dj="RovingFocusGroupItem",Aj=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...u}=t,c=Lb(),d=i||c,p=yW(Dj,n),g=p.currentTabStopId===d,v=_j(n),{onFocusableItemAdd:k,onFocusableItemRemove:_,currentTabStopId:E}=p;return C.useEffect(()=>{if(r)return k(),()=>_()},[r,k,_]),x.jsx(zb.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:x.jsx(Yn.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:et(t.onMouseDown,T=>{r?p.onItemFocus(d):T.preventDefault()}),onFocus:et(t.onFocus,()=>p.onItemFocus(d)),onKeyDown:et(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){p.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const D=xW(T,p.orientation,p.dir);if(D!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let N=v().filter(R=>R.focusable).map(R=>R.ref.current);if(D==="last")N.reverse();else if(D==="prev"||D==="next"){D==="prev"&&N.reverse();const R=N.indexOf(T.currentTarget);N=p.loop?CW(N,R+1):N.slice(R+1)}setTimeout(()=>Nj(N))}}),children:typeof o=="function"?o({isCurrentTabStop:g,hasTabStop:E!=null}):o})})});Aj.displayName=Dj;var wW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bW(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function xW(t,e,n){const r=bW(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return wW[r]}function Nj(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function CW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var kW=Pj,SW=Aj;function EW(t){const e=TW(t),n=C.forwardRef((r,s)=>{const{children:i,...o}=r,u=C.Children.toArray(i),c=u.find(IW);if(c){const d=c.props.children,p=u.map(g=>g===c?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:C.isValidElement(d)?C.cloneElement(d,void 0,p):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function TW(t){const e=C.forwardRef((n,r)=>{const{children:s,...i}=n;if(C.isValidElement(s)){const o=DW(s),u=PW(i,s.props);return s.type!==C.Fragment&&(u.ref=r?Gl(r,o):o),C.cloneElement(s,u)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _W=Symbol("radix.slottable");function IW(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_W}function PW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function DW(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var AW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ju=new WeakMap,Im=new WeakMap,Pm={},gw=0,Mj=function(t){return t&&(t.host||Mj(t.parentNode))},NW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Mj(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},MW=function(t,e,n,r){var s=NW(e,Array.isArray(t)?t:[t]);Pm[n]||(Pm[n]=new WeakMap);var i=Pm[n],o=[],u=new Set,c=new Set(s),d=function(g){!g||u.has(g)||(u.add(g),d(g.parentNode))};s.forEach(d);var p=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))p(v);else try{var k=v.getAttribute(r),_=k!==null&&k!=="false",E=(Ju.get(v)||0)+1,T=(i.get(v)||0)+1;Ju.set(v,E),i.set(v,T),o.push(v),E===1&&_&&Im.set(v,!0),T===1&&v.setAttribute(n,"true"),_||v.setAttribute(r,"true")}catch(D){console.error("aria-hidden: cannot operate on ",v,D)}})};return p(e),u.clear(),gw++,function(){o.forEach(function(g){var v=Ju.get(g)-1,k=i.get(g)-1;Ju.set(g,v),i.set(g,k),v||(Im.has(g)||g.removeAttribute(r),Im.delete(g)),k||g.removeAttribute(n)}),gw--,gw||(Ju=new WeakMap,Ju=new WeakMap,Im=new WeakMap,Pm={})}},jW=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=AW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),MW(r,s,n,"aria-hidden")):function(){return null}},$s=function(){return $s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},$s.apply(this,arguments)};function jj(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function RW(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var ng="right-scroll-bar-position",rg="width-before-scroll-bar",OW="with-scroll-bars-hidden",LW="--removed-body-scroll-bar-size";function yw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function FW(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var BW=typeof window<"u"?C.useLayoutEffect:C.useEffect,U2=new WeakMap;function UW(t,e){var n=FW(null,function(r){return t.forEach(function(s){return yw(s,r)})});return BW(function(){var r=U2.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(u){i.has(u)||yw(u,null)}),i.forEach(function(u){s.has(u)||yw(u,o)})}U2.set(n,t)},[t]),n}function zW(t){return t}function VW(t,e){e===void 0&&(e=zW);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(u){return u!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var u=n;n=[],u.forEach(i),o=n}var c=function(){var p=o;o=[],p.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(p){o.push(p),d()},filter:function(p){return o=o.filter(p),n}}}};return s}function qW(t){t===void 0&&(t={});var e=VW(null);return e.options=$s({async:!0,ssr:!1},t),e}var Rj=function(t){var e=t.sideCar,n=jj(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,$s({},n))};Rj.isSideCarExport=!0;function $W(t,e){return t.useMedium(e),Rj}var Oj=qW(),vw=function(){},Zy=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:vw,onWheelCapture:vw,onTouchMoveCapture:vw}),s=r[0],i=r[1],o=t.forwardProps,u=t.children,c=t.className,d=t.removeScrollBar,p=t.enabled,g=t.shards,v=t.sideCar,k=t.noRelative,_=t.noIsolation,E=t.inert,T=t.allowPinchZoom,D=t.as,N=D===void 0?"div":D,R=t.gapMode,U=jj(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),V=v,K=UW([n,e]),M=$s($s({},U),s);return C.createElement(C.Fragment,null,p&&C.createElement(V,{sideCar:Oj,removeScrollBar:d,shards:g,noRelative:k,noIsolation:_,inert:E,setCallbacks:i,allowPinchZoom:!!T,lockRef:n,gapMode:R}),o?C.cloneElement(C.Children.only(u),$s($s({},M),{ref:K})):C.createElement(N,$s({},M,{className:c,ref:K}),u))});Zy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zy.classNames={fullWidth:rg,zeroRight:ng};var HW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=HW();return e&&t.setAttribute("nonce",e),t}function GW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function WW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var QW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=KW())&&(GW(e,n),WW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},XW=function(){var t=QW();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Lj=function(){var t=XW(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},YW={left:0,top:0,right:0,gap:0},ww=function(t){return parseInt(t||"",10)||0},JW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ww(n),ww(r),ww(s)]},ZW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return YW;var e=JW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},eQ=Lj(),wc="data-scroll-locked",tQ=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(OW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(wc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ng,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(rg,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ng," .").concat(ng,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(rg," .").concat(rg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(wc,`] {
    `).concat(LW,": ").concat(u,`px;
  }
`)},z2=function(){var t=parseInt(document.body.getAttribute(wc)||"0",10);return isFinite(t)?t:0},nQ=function(){C.useEffect(function(){return document.body.setAttribute(wc,(z2()+1).toString()),function(){var t=z2()-1;t<=0?document.body.removeAttribute(wc):document.body.setAttribute(wc,t.toString())}},[])},rQ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;nQ();var i=C.useMemo(function(){return ZW(s)},[s]);return C.createElement(eQ,{styles:tQ(i,!e,s,n?"":"!important")})},Vb=!1;if(typeof window<"u")try{var Dm=Object.defineProperty({},"passive",{get:function(){return Vb=!0,!0}});window.addEventListener("test",Dm,Dm),window.removeEventListener("test",Dm,Dm)}catch{Vb=!1}var Zu=Vb?{passive:!1}:!1,sQ=function(t){return t.tagName==="TEXTAREA"},Fj=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!sQ(t)&&n[e]==="visible")},iQ=function(t){return Fj(t,"overflowY")},aQ=function(t){return Fj(t,"overflowX")},V2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Bj(t,r);if(s){var i=Uj(t,r),o=i[1],u=i[2];if(o>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},oQ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},lQ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Bj=function(t,e){return t==="v"?iQ(e):aQ(e)},Uj=function(t,e){return t==="v"?oQ(e):lQ(e)},uQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},cQ=function(t,e,n,r,s){var i=uQ(t,window.getComputedStyle(e).direction),o=i*r,u=n.target,c=e.contains(u),d=!1,p=o>0,g=0,v=0;do{if(!u)break;var k=Uj(t,u),_=k[0],E=k[1],T=k[2],D=E-T-i*_;(_||D)&&Bj(t,u)&&(g+=D,v+=_);var N=u.parentNode;u=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!c&&u!==document.body||c&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(v)<1)&&(d=!0),d},Am=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},q2=function(t){return[t.deltaX,t.deltaY]},$2=function(t){return t&&"current"in t?t.current:t},hQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},dQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},fQ=0,ec=[];function pQ(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),s=C.useState(fQ++)[0],i=C.useState(Lj)[0],o=C.useRef(t);C.useEffect(function(){o.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var E=RW([t.lockRef.current],(t.shards||[]).map($2)).filter(Boolean);return E.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=C.useCallback(function(E,T){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!o.current.allowPinchZoom;var D=Am(E),N=n.current,R="deltaX"in E?E.deltaX:N[0]-D[0],U="deltaY"in E?E.deltaY:N[1]-D[1],V,K=E.target,M=Math.abs(R)>Math.abs(U)?"h":"v";if("touches"in E&&M==="h"&&K.type==="range")return!1;var I=V2(M,K);if(!I)return!0;if(I?V=M:(V=M==="v"?"h":"v",I=V2(M,K)),!I)return!1;if(!r.current&&"changedTouches"in E&&(R||U)&&(r.current=V),!V)return!0;var A=r.current||V;return cQ(A,T,E,A==="h"?R:U)},[]),c=C.useCallback(function(E){var T=E;if(!(!ec.length||ec[ec.length-1]!==i)){var D="deltaY"in T?q2(T):Am(T),N=e.current.filter(function(V){return V.name===T.type&&(V.target===T.target||T.target===V.shadowParent)&&hQ(V.delta,D)})[0];if(N&&N.should){T.cancelable&&T.preventDefault();return}if(!N){var R=(o.current.shards||[]).map($2).filter(Boolean).filter(function(V){return V.contains(T.target)}),U=R.length>0?u(T,R[0]):!o.current.noIsolation;U&&T.cancelable&&T.preventDefault()}}},[]),d=C.useCallback(function(E,T,D,N){var R={name:E,delta:T,target:D,should:N,shadowParent:mQ(D)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(U){return U!==R})},1)},[]),p=C.useCallback(function(E){n.current=Am(E),r.current=void 0},[]),g=C.useCallback(function(E){d(E.type,q2(E),E.target,u(E,t.lockRef.current))},[]),v=C.useCallback(function(E){d(E.type,Am(E),E.target,u(E,t.lockRef.current))},[]);C.useEffect(function(){return ec.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",c,Zu),document.addEventListener("touchmove",c,Zu),document.addEventListener("touchstart",p,Zu),function(){ec=ec.filter(function(E){return E!==i}),document.removeEventListener("wheel",c,Zu),document.removeEventListener("touchmove",c,Zu),document.removeEventListener("touchstart",p,Zu)}},[]);var k=t.removeScrollBar,_=t.inert;return C.createElement(C.Fragment,null,_?C.createElement(i,{styles:dQ(s)}):null,k?C.createElement(rQ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function mQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const gQ=$W(Oj,pQ);var zj=C.forwardRef(function(t,e){return C.createElement(Zy,$s({},t,{ref:e,sideCar:gQ}))});zj.classNames=Zy.classNames;var qb=["Enter"," "],yQ=["ArrowDown","PageUp","Home"],Vj=["ArrowUp","PageDown","End"],vQ=[...yQ,...Vj],wQ={ltr:[...qb,"ArrowRight"],rtl:[...qb,"ArrowLeft"]},bQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Uf="Menu",[lf,xQ,CQ]=YM(Uf),[Wl,qj]=Of(Uf,[CQ,yj,Ij]),ev=yj(),$j=Ij(),[kQ,Ql]=Wl(Uf),[SQ,zf]=Wl(Uf),Hj=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,u=ev(e),[c,d]=C.useState(null),p=C.useRef(!1),g=Ki(i),v=JM(s);return C.useEffect(()=>{const k=()=>{p.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>p.current=!1;return document.addEventListener("keydown",k,{capture:!0}),()=>{document.removeEventListener("keydown",k,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),x.jsx(iW,{...u,children:x.jsx(kQ,{scope:e,open:n,onOpenChange:g,content:c,onContentChange:d,children:x.jsx(SQ,{scope:e,onClose:C.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:v,modal:o,children:r})})})};Hj.displayName=Uf;var EQ="MenuAnchor",tC=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=ev(n);return x.jsx(aW,{...s,...r,ref:e})});tC.displayName=EQ;var nC="MenuPortal",[TQ,Kj]=Wl(nC,{forceMount:void 0}),Gj=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Ql(nC,e);return x.jsx(TQ,{scope:e,forceMount:n,children:x.jsx(Ff,{present:n||i.open,children:x.jsx(Tj,{asChild:!0,container:s,children:r})})})};Gj.displayName=nC;var Xr="MenuContent",[_Q,rC]=Wl(Xr),Wj=C.forwardRef((t,e)=>{const n=Kj(Xr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ql(Xr,t.__scopeMenu),o=zf(Xr,t.__scopeMenu);return x.jsx(lf.Provider,{scope:t.__scopeMenu,children:x.jsx(Ff,{present:r||i.open,children:x.jsx(lf.Slot,{scope:t.__scopeMenu,children:o.modal?x.jsx(IQ,{...s,ref:e}):x.jsx(PQ,{...s,ref:e})})})})}),IQ=C.forwardRef((t,e)=>{const n=Ql(Xr,t.__scopeMenu),r=C.useRef(null),s=dr(e,r);return C.useEffect(()=>{const i=r.current;if(i)return jW(i)},[]),x.jsx(sC,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),PQ=C.forwardRef((t,e)=>{const n=Ql(Xr,t.__scopeMenu);return x.jsx(sC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),DQ=EW("MenuContent.ScrollLock"),sC=C.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:u,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:k,disableOutsideScroll:_,...E}=t,T=Ql(Xr,n),D=zf(Xr,n),N=ev(n),R=$j(n),U=xQ(n),[V,K]=C.useState(null),M=C.useRef(null),I=dr(e,M,T.onContentChange),A=C.useRef(0),O=C.useRef(""),B=C.useRef(0),q=C.useRef(null),L=C.useRef("right"),Se=C.useRef(0),Ne=_?zj:C.Fragment,ye=_?{as:DQ,allowPinchZoom:!0}:void 0,ve=ne=>{var ae,G;const re=O.current+ne,pe=U().filter(Ue=>!Ue.disabled),me=document.activeElement,Me=(ae=pe.find(Ue=>Ue.ref.current===me))==null?void 0:ae.textValue,ze=pe.map(Ue=>Ue.textValue),Ie=VQ(ze,re,Me),qe=(G=pe.find(Ue=>Ue.textValue===Ie))==null?void 0:G.ref.current;(function Ue(pt){O.current=pt,window.clearTimeout(A.current),pt!==""&&(A.current=window.setTimeout(()=>Ue(""),1e3))})(re),qe&&setTimeout(()=>qe.focus())};C.useEffect(()=>()=>window.clearTimeout(A.current),[]),DK();const W=C.useCallback(ne=>{var ae,G;return L.current===((ae=q.current)==null?void 0:ae.side)&&$Q(ne,(G=q.current)==null?void 0:G.area)},[]);return x.jsx(_Q,{scope:n,searchRef:O,onItemEnter:C.useCallback(ne=>{W(ne)&&ne.preventDefault()},[W]),onItemLeave:C.useCallback(ne=>{var ae;W(ne)||((ae=M.current)==null||ae.focus(),K(null))},[W]),onTriggerLeave:C.useCallback(ne=>{W(ne)&&ne.preventDefault()},[W]),pointerGraceTimerRef:B,onPointerGraceIntentChange:C.useCallback(ne=>{q.current=ne},[]),children:x.jsx(Ne,{...ye,children:x.jsx(nj,{asChild:!0,trapped:s,onMountAutoFocus:et(i,ne=>{var ae;ne.preventDefault(),(ae=M.current)==null||ae.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:x.jsx(ej,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:k,children:x.jsx(kW,{asChild:!0,...R,dir:D.dir,orientation:"vertical",loop:r,currentTabStopId:V,onCurrentTabStopIdChange:K,onEntryFocus:et(c,ne=>{D.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(oW,{role:"menu","aria-orientation":"vertical","data-state":cR(T.open),"data-radix-menu-content":"",dir:D.dir,...N,...E,ref:I,style:{outline:"none",...E.style},onKeyDown:et(E.onKeyDown,ne=>{const ae=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,G=ne.ctrlKey||ne.altKey||ne.metaKey,re=ne.key.length===1;ae&&(ne.key==="Tab"&&ne.preventDefault(),!G&&re&&ve(ne.key));const pe=M.current;if(ne.target!==pe||!vQ.includes(ne.key))return;ne.preventDefault();const me=U().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);Vj.includes(ne.key)&&me.reverse(),UQ(me)}),onBlur:et(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(A.current),O.current="")}),onPointerMove:et(t.onPointerMove,uf(ne=>{const ae=ne.target,G=Se.current!==ne.clientX;if(ne.currentTarget.contains(ae)&&G){const re=ne.clientX>Se.current?"right":"left";L.current=re,Se.current=ne.clientX}}))})})})})})})});Wj.displayName=Xr;var AQ="MenuGroup",iC=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Yn.div,{role:"group",...r,ref:e})});iC.displayName=AQ;var NQ="MenuLabel",Qj=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Yn.div,{...r,ref:e})});Qj.displayName=NQ;var Yg="MenuItem",H2="menu.itemSelect",tv=C.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=C.useRef(null),o=zf(Yg,t.__scopeMenu),u=rC(Yg,t.__scopeMenu),c=dr(e,i),d=C.useRef(!1),p=()=>{const g=i.current;if(!n&&g){const v=new CustomEvent(H2,{bubbles:!0,cancelable:!0});g.addEventListener(H2,k=>r==null?void 0:r(k),{once:!0}),XM(g,v),v.defaultPrevented?d.current=!1:o.onClose()}};return x.jsx(Xj,{...s,ref:c,disabled:n,onClick:et(t.onClick,p),onPointerDown:g=>{var v;(v=t.onPointerDown)==null||v.call(t,g),d.current=!0},onPointerUp:et(t.onPointerUp,g=>{var v;d.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:et(t.onKeyDown,g=>{const v=u.searchRef.current!=="";n||v&&g.key===" "||qb.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});tv.displayName=Yg;var Xj=C.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=rC(Yg,n),u=$j(n),c=C.useRef(null),d=dr(e,c),[p,g]=C.useState(!1),[v,k]=C.useState("");return C.useEffect(()=>{const _=c.current;_&&k((_.textContent??"").trim())},[i.children]),x.jsx(lf.ItemSlot,{scope:n,disabled:r,textValue:s??v,children:x.jsx(SW,{asChild:!0,...u,focusable:!r,children:x.jsx(Yn.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:et(t.onPointerMove,uf(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(t.onPointerLeave,uf(_=>o.onItemLeave(_))),onFocus:et(t.onFocus,()=>g(!0)),onBlur:et(t.onBlur,()=>g(!1))})})})}),MQ="MenuCheckboxItem",Yj=C.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return x.jsx(nR,{scope:t.__scopeMenu,checked:n,children:x.jsx(tv,{role:"menuitemcheckbox","aria-checked":Jg(n)?"mixed":n,...s,ref:e,"data-state":oC(n),onSelect:et(s.onSelect,()=>r==null?void 0:r(Jg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Yj.displayName=MQ;var Jj="MenuRadioGroup",[jQ,RQ]=Wl(Jj,{value:void 0,onValueChange:()=>{}}),Zj=C.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Ki(r);return x.jsx(jQ,{scope:t.__scopeMenu,value:n,onValueChange:i,children:x.jsx(iC,{...s,ref:e})})});Zj.displayName=Jj;var eR="MenuRadioItem",tR=C.forwardRef((t,e)=>{const{value:n,...r}=t,s=RQ(eR,t.__scopeMenu),i=n===s.value;return x.jsx(nR,{scope:t.__scopeMenu,checked:i,children:x.jsx(tv,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":oC(i),onSelect:et(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});tR.displayName=eR;var aC="MenuItemIndicator",[nR,OQ]=Wl(aC,{checked:!1}),rR=C.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=OQ(aC,n);return x.jsx(Ff,{present:r||Jg(i.checked)||i.checked===!0,children:x.jsx(Yn.span,{...s,ref:e,"data-state":oC(i.checked)})})});rR.displayName=aC;var LQ="MenuSeparator",sR=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Yn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});sR.displayName=LQ;var FQ="MenuArrow",iR=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=ev(n);return x.jsx(lW,{...s,...r,ref:e})});iR.displayName=FQ;var BQ="MenuSub",[ire,aR]=Wl(BQ),Cd="MenuSubTrigger",oR=C.forwardRef((t,e)=>{const n=Ql(Cd,t.__scopeMenu),r=zf(Cd,t.__scopeMenu),s=aR(Cd,t.__scopeMenu),i=rC(Cd,t.__scopeMenu),o=C.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},p=C.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return C.useEffect(()=>p,[p]),C.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),c(null)}},[u,c]),x.jsx(tC,{asChild:!0,...d,children:x.jsx(Xj,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":cR(n.open),...t,ref:Gl(e,s.onTriggerChange),onClick:g=>{var v;(v=t.onClick)==null||v.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(t.onPointerMove,uf(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:et(t.onPointerLeave,uf(g=>{var v,k;p();const _=(v=n.content)==null?void 0:v.getBoundingClientRect();if(_){const E=(k=n.content)==null?void 0:k.dataset.side,T=E==="right",D=T?-5:5,N=_[T?"left":"right"],R=_[T?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+D,y:g.clientY},{x:N,y:_.top},{x:R,y:_.top},{x:R,y:_.bottom},{x:N,y:_.bottom}],side:E}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(t.onKeyDown,g=>{var v;const k=i.searchRef.current!=="";t.disabled||k&&g.key===" "||wQ[r.dir].includes(g.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),g.preventDefault())})})})});oR.displayName=Cd;var lR="MenuSubContent",uR=C.forwardRef((t,e)=>{const n=Kj(Xr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ql(Xr,t.__scopeMenu),o=zf(Xr,t.__scopeMenu),u=aR(lR,t.__scopeMenu),c=C.useRef(null),d=dr(e,c);return x.jsx(lf.Provider,{scope:t.__scopeMenu,children:x.jsx(Ff,{present:r||i.open,children:x.jsx(lf.Slot,{scope:t.__scopeMenu,children:x.jsx(sC,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;o.isUsingKeyboardRef.current&&((g=c.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:et(t.onFocusOutside,p=>{p.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(t.onEscapeKeyDown,p=>{o.onClose(),p.preventDefault()}),onKeyDown:et(t.onKeyDown,p=>{var g;const v=p.currentTarget.contains(p.target),k=bQ[o.dir].includes(p.key);v&&k&&(i.onOpenChange(!1),(g=u.trigger)==null||g.focus(),p.preventDefault())})})})})})});uR.displayName=lR;function cR(t){return t?"open":"closed"}function Jg(t){return t==="indeterminate"}function oC(t){return Jg(t)?"indeterminate":t?"checked":"unchecked"}function UQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function zQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function VQ(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=zQ(t,Math.max(s,0));r.length===1&&(i=i.filter(u=>u!==n));const o=i.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return o!==n?o:void 0}function qQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const u=e[i],c=e[o],d=u.x,p=u.y,g=c.x,v=c.y;p>r!=v>r&&n<(g-d)*(r-p)/(v-p)+d&&(s=!s)}return s}function $Q(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return qQ(n,e)}function uf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var HQ=Hj,KQ=tC,GQ=Gj,WQ=Wj,QQ=iC,XQ=Qj,YQ=tv,JQ=Yj,ZQ=Zj,eX=tR,tX=rR,nX=sR,rX=iR,sX=oR,iX=uR,nv="DropdownMenu",[aX]=Of(nv,[qj]),Jn=qj(),[oX,hR]=aX(nv),dR=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:u=!0}=t,c=Jn(e),d=C.useRef(null),[p,g]=QM({prop:s,defaultProp:i??!1,onChange:o,caller:nv});return x.jsx(oX,{scope:e,triggerId:Lb(),triggerRef:d,contentId:Lb(),open:p,onOpenChange:g,onOpenToggle:C.useCallback(()=>g(v=>!v),[g]),modal:u,children:x.jsx(HQ,{...c,open:p,onOpenChange:g,dir:r,modal:u,children:n})})};dR.displayName=nv;var fR="DropdownMenuTrigger",pR=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=hR(fR,n),o=Jn(n);return x.jsx(KQ,{asChild:!0,...o,children:x.jsx(Yn.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Gl(e,i.triggerRef),onPointerDown:et(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:et(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});pR.displayName=fR;var lX="DropdownMenuPortal",mR=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Jn(e);return x.jsx(GQ,{...r,...n})};mR.displayName=lX;var gR="DropdownMenuContent",yR=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=hR(gR,n),i=Jn(n),o=C.useRef(!1);return x.jsx(WQ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:et(t.onCloseAutoFocus,u=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,u.preventDefault()}),onInteractOutside:et(t.onInteractOutside,u=>{const c=u.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,p=c.button===2||d;(!s.modal||p)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yR.displayName=gR;var uX="DropdownMenuGroup",cX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return x.jsx(QQ,{...s,...r,ref:e})});cX.displayName=uX;var hX="DropdownMenuLabel",vR=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return x.jsx(XQ,{...s,...r,ref:e})});vR.displayName=hX;var dX="DropdownMenuItem",wR=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return x.jsx(YQ,{...s,...r,ref:e})});wR.displayName=dX;var fX="DropdownMenuCheckboxItem",bR=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return x.jsx(JQ,{...s,...r,ref:e})});bR.displayName=fX;var pX="DropdownMenuRadioGroup",mX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return x.jsx(ZQ,{...s,...r,ref:e})});mX.displayName=pX;var gX="DropdownMenuRadioItem",xR=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return x.jsx(eX,{...s,...r,ref:e})});xR.displayName=gX;var yX="DropdownMenuItemIndicator",CR=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return x.jsx(tX,{...s,...r,ref:e})});CR.displayName=yX;var vX="DropdownMenuSeparator",kR=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return x.jsx(nX,{...s,...r,ref:e})});kR.displayName=vX;var wX="DropdownMenuArrow",bX=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return x.jsx(rX,{...s,...r,ref:e})});bX.displayName=wX;var xX="DropdownMenuSubTrigger",SR=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return x.jsx(sX,{...s,...r,ref:e})});SR.displayName=xX;var CX="DropdownMenuSubContent",ER=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Jn(n);return x.jsx(iX,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ER.displayName=CX;var kX=dR,SX=pR,EX=mR,TR=yR,_R=vR,IR=wR,PR=bR,DR=xR,AR=CR,NR=kR,MR=SR,jR=ER;const TX=kX,_X=SX,IX=C.forwardRef(({className:t,inset:e,children:n,...r},s)=>x.jsxs(MR,{ref:s,className:wt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,x.jsx(m$,{className:"ml-auto"})]}));IX.displayName=MR.displayName;const PX=C.forwardRef(({className:t,...e},n)=>x.jsx(jR,{ref:n,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));PX.displayName=jR.displayName;const RR=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(EX,{children:x.jsx(TR,{ref:r,sideOffset:e,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));RR.displayName=TR.displayName;const zr=C.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(IR,{ref:r,className:wt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));zr.displayName=IR.displayName;const DX=C.forwardRef(({className:t,children:e,checked:n,...r},s)=>x.jsxs(PR,{ref:s,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(AR,{children:x.jsx(h$,{className:"h-4 w-4"})})}),e]}));DX.displayName=PR.displayName;const AX=C.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(DR,{ref:r,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(AR,{children:x.jsx(x$,{className:"h-2 w-2 fill-current"})})}),e]}));AX.displayName=DR.displayName;const OR=C.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(_R,{ref:r,className:wt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));OR.displayName=_R.displayName;const sg=C.forwardRef(({className:t,...e},n)=>x.jsx(NR,{ref:n,className:wt("-mx-1 my-1 h-px bg-muted",t),...e}));sg.displayName=NR.displayName;function Cs(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ul(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const LR=6048e5,NX=864e5;let MX={};function rv(){return MX}function cf(t,e){var n,r,s,i;const o=rv(),u=(e==null?void 0:e.weekStartsOn)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.weekStartsOn)??o.weekStartsOn??((i=(s=o.locale)==null?void 0:s.options)==null?void 0:i.weekStartsOn)??0,c=Cs(t),d=c.getDay(),p=(d<u?7:0)+d-u;return c.setDate(c.getDate()-p),c.setHours(0,0,0,0),c}function Zg(t){return cf(t,{weekStartsOn:1})}function FR(t){const e=Cs(t),n=e.getFullYear(),r=Ul(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Zg(r),i=Ul(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Zg(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function $b(t){const e=Cs(t);return e.setHours(0,0,0,0),e}function K2(t){const e=Cs(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function jX(t,e){const n=$b(t),r=$b(e),s=+n-K2(n),i=+r-K2(r);return Math.round((s-i)/NX)}function RX(t){const e=FR(t),n=Ul(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Zg(n)}function OX(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function LX(t){if(!OX(t)&&typeof t!="number")return!1;const e=Cs(t);return!isNaN(Number(e))}function FX(t){const e=Cs(t),n=Ul(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const BX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UX=(t,e,n)=>{let r;const s=BX[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function bw(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const zX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},VX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$X={date:bw({formats:zX,defaultWidth:"full"}),time:bw({formats:VX,defaultWidth:"full"}),dateTime:bw({formats:qX,defaultWidth:"full"})},HX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KX=(t,e,n,r)=>HX[t];function dd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):o;s=t.formattingValues[u]||t.formattingValues[o]}else{const o=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[u]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const GX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},WX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},QX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},YX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZX=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},eY={ordinalNumber:ZX,era:dd({values:GX,defaultWidth:"wide"}),quarter:dd({values:WX,defaultWidth:"wide",argumentCallback:t=>t-1}),month:dd({values:QX,defaultWidth:"wide"}),day:dd({values:XX,defaultWidth:"wide"}),dayPeriod:dd({values:YX,defaultWidth:"wide",formattingValues:JX,defaultFormattingWidth:"wide"})};function fd(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?nY(u,g=>g.test(o)):tY(u,g=>g.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const p=e.slice(o.length);return{value:d,rest:p}}}function tY(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function nY(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function rY(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const u=e.slice(s.length);return{value:o,rest:u}}}const sY=/^(\d+)(th|st|nd|rd)?/i,iY=/\d+/i,aY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oY={any:[/^b/i,/^(a|c)/i]},lY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uY={any:[/1/i,/2/i,/3/i,/4/i]},cY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gY={ordinalNumber:rY({matchPattern:sY,parsePattern:iY,valueCallback:t=>parseInt(t,10)}),era:fd({matchPatterns:aY,defaultMatchWidth:"wide",parsePatterns:oY,defaultParseWidth:"any"}),quarter:fd({matchPatterns:lY,defaultMatchWidth:"wide",parsePatterns:uY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fd({matchPatterns:cY,defaultMatchWidth:"wide",parsePatterns:hY,defaultParseWidth:"any"}),day:fd({matchPatterns:dY,defaultMatchWidth:"wide",parsePatterns:fY,defaultParseWidth:"any"}),dayPeriod:fd({matchPatterns:pY,defaultMatchWidth:"any",parsePatterns:mY,defaultParseWidth:"any"})},yY={code:"en-US",formatDistance:UX,formatLong:$X,formatRelative:KX,localize:eY,match:gY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vY(t){const e=Cs(t);return jX(e,FX(e))+1}function wY(t){const e=Cs(t),n=+Zg(e)-+RX(e);return Math.round(n/LR)+1}function BR(t,e){var n,r,s,i;const o=Cs(t),u=o.getFullYear(),c=rv(),d=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??c.firstWeekContainsDate??((i=(s=c.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,p=Ul(t,0);p.setFullYear(u+1,0,d),p.setHours(0,0,0,0);const g=cf(p,e),v=Ul(t,0);v.setFullYear(u,0,d),v.setHours(0,0,0,0);const k=cf(v,e);return o.getTime()>=g.getTime()?u+1:o.getTime()>=k.getTime()?u:u-1}function bY(t,e){var n,r,s,i;const o=rv(),u=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??o.firstWeekContainsDate??((i=(s=o.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,c=BR(t,e),d=Ul(t,0);return d.setFullYear(c,0,u),d.setHours(0,0,0,0),cf(d,e)}function xY(t,e){const n=Cs(t),r=+cf(n,e)-+bY(n,e);return Math.round(r/LR)+1}function ot(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const qa={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ot(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ot(n+1,2)},d(t,e){return ot(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ot(t.getHours()%12||12,e.length)},H(t,e){return ot(t.getHours(),e.length)},m(t,e){return ot(t.getMinutes(),e.length)},s(t,e){return ot(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ot(s,e.length)}},tc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},G2={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return qa.y(t,e)},Y:function(t,e,n,r){const s=BR(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return ot(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):ot(i,e.length)},R:function(t,e){const n=FR(t);return ot(n,e.length)},u:function(t,e){const n=t.getFullYear();return ot(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ot(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ot(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return qa.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ot(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=xY(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):ot(s,e.length)},I:function(t,e,n){const r=wY(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ot(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):qa.d(t,e)},D:function(t,e,n){const r=vY(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ot(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ot(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ot(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return ot(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=tc.noon:r===0?s=tc.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=tc.evening:r>=12?s=tc.afternoon:r>=4?s=tc.morning:s=tc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return qa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):qa.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ot(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ot(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):qa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):qa.s(t,e)},S:function(t,e){return qa.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Q2(r);case"XXXX":case"XX":return ol(r);case"XXXXX":case"XXX":default:return ol(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Q2(r);case"xxxx":case"xx":return ol(r);case"xxxxx":case"xxx":default:return ol(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+W2(r,":");case"OOOO":default:return"GMT"+ol(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+W2(r,":");case"zzzz":default:return"GMT"+ol(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ot(r,e.length)},T:function(t,e,n){const r=t.getTime();return ot(r,e.length)}};function W2(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+ot(i,2)}function Q2(t,e){return t%60===0?(t>0?"-":"+")+ot(Math.abs(t)/60,2):ol(t,e)}function ol(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ot(Math.trunc(r/60),2),i=ot(r%60,2);return n+s+e+i}const X2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},UR=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},CY=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return X2(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",X2(r,e)).replace("{{time}}",UR(s,e))},kY={p:UR,P:CY},SY=/^D+$/,EY=/^Y+$/,TY=["D","DD","YY","YYYY"];function _Y(t){return SY.test(t)}function IY(t){return EY.test(t)}function PY(t,e,n){const r=DY(t,e,n);if(console.warn(r),TY.includes(t))throw new RangeError(r)}function DY(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const AY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MY=/^'([^]*?)'?$/,jY=/''/g,RY=/[a-zA-Z]/;function OY(t,e,n){var r,s,i,o;const u=rv(),c=u.locale??yY,d=u.firstWeekContainsDate??((s=(r=u.locale)==null?void 0:r.options)==null?void 0:s.firstWeekContainsDate)??1,p=u.weekStartsOn??((o=(i=u.locale)==null?void 0:i.options)==null?void 0:o.weekStartsOn)??0,g=Cs(t);if(!LX(g))throw new RangeError("Invalid time value");let v=e.match(NY).map(_=>{const E=_[0];if(E==="p"||E==="P"){const T=kY[E];return T(_,c.formatLong)}return _}).join("").match(AY).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const E=_[0];if(E==="'")return{isToken:!1,value:LY(_)};if(G2[E])return{isToken:!0,value:_};if(E.match(RY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:_}});c.localize.preprocessor&&(v=c.localize.preprocessor(g,v));const k={firstWeekContainsDate:d,weekStartsOn:p,locale:c};return v.map(_=>{if(!_.isToken)return _.value;const E=_.value;(IY(E)||_Y(E))&&PY(E,e,String(t));const T=G2[E[0]];return T(g,E,c.localize,k)}).join("")}function LY(t){const e=t.match(MY);return e?e[1].replace(jY,"'"):t}class ig extends pn.Component{constructor(e){super(e),nE(this,"hardReload",()=>{window.location.reload(!0)}),nE(this,"clearCachesAndReload",async()=>{try{if("caches"in window){const n=await caches.keys();await Promise.all(n.map(r=>caches.delete(r)))}if("serviceWorker"in navigator){const n=await navigator.serviceWorker.getRegistrations();await Promise.all(n.map(r=>r.unregister()))}}catch(n){console.warn("Failed to clear caches or unregister SW",n)}finally{window.location.reload()}}),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ChunkErrorBoundary caught an error:",e,n)}render(){var e,n,r,s;if(this.state.hasError){const i=((e=this.state.error)==null?void 0:e.message)||"";return((n=this.state.error)==null?void 0:n.name)==="ChunkLoadError"||((r=this.state.error)==null?void 0:r.name)==="CSSChunkLoadError"||/Loading chunk|Failed to fetch dynamically imported module|Importing a module script failed/i.test(i)?x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Update available"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"The app was updated. Please refresh to load the latest version."}),x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx("button",{onClick:this.hardReload,className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"}),x.jsx("button",{onClick:this.clearCachesAndReload,className:"px-4 py-2 rounded-lg bg-gray-200",children:"Reset cache & reload"})]}),x.jsxs("details",{className:"mt-4 text-left text-xs text-gray-500",children:[x.jsx("summary",{children:"Details"}),x.jsx("pre",{className:"whitespace-pre-wrap break-words",children:((s=this.state.error)==null?void 0:s.stack)||i})]})]})}):x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"Try refreshing the page."}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"})]})})}return this.props.children}}const xw=pn.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_-DZaDo8HZ-Bd77omDN-BCrgyW6d.js"),[]),[]),[]),[]),[]),[]),[]),[])),FY=pn.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC-i35konQI-CjlSaAQR-DWHXc9fM.js"),__vite__mapDeps([0,1])),Lt([0,1])),Bt([0,1])),zt([0,1])),qt([0,1])),Ht([0,1])),Gt([0,1])),Qt([0,1]))),BY=pn.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc-CAXKM_tn-BSUotW_a-C1AHqVwe.js"),__vite__mapDeps([2,3])),Lt([2,3])),Bt([2,3])),zt([2,3])),qt([2,3])),Ht([2,3])),Gt([2,3])),Qt([2,3])));function UY({children:t,currentPageName:e}){var n;const r=na(),[s,i]=C.useState(!1),{user:o,loading:u}=K1(),[c,d]=C.useState(()=>localStorage.getItem("app.theme")==="dark");C.useEffect(()=>{const K=()=>{d(localStorage.getItem("app.theme")==="dark")};K(),window.addEventListener("storage",K);const M=setInterval(K,500);return()=>{window.removeEventListener("storage",K),clearInterval(M)}},[]),C.useEffect(()=>{const K=document.createElement("link");K.rel="manifest",K.href="/manifest.json",document.head.appendChild(K);const M=document.createElement("meta");M.name="theme-color",M.content=c?"#1e293b":"#9333ea",document.head.appendChild(M);const I=document.createElement("meta");I.name="apple-mobile-web-app-capable",I.content="yes",document.head.appendChild(I);const A=document.createElement("meta");A.name="apple-mobile-web-app-status-bar-style",A.content="default",document.head.appendChild(A);const O=document.createElement("meta");O.name="apple-mobile-web-app-title",O.content="Math Adventure",document.head.appendChild(O);const B=document.createElement("link");return B.rel="apple-touch-icon",document.head.appendChild(B),()=>{B.parentNode&&B.remove()}},[c]);const[p,g]=C.useState(0);C.useEffect(()=>{o!=null&&o.email&&g(0)},[o==null?void 0:o.email]);const v=OY($b(new Date),"yyyy-MM-dd"),{data:k=[]}=Jq({queryKey:["dailyChallenges",v],initialData:[],enabled:!!o});if(e==="Landing")return x.jsx(x.Fragment,{children:t});if(e==="Home"&&!o)return x.jsx(x.Fragment,{children:t});if(!o)return u?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center max-w-md w-full",children:[x.jsx(yE,{size:"xl",variant:"circle",className:"mx-auto mb-6"}),x.jsx("h1",{className:"text-4xl font-extrabold text-white mb-3 drop-shadow-2xl",children:"Math Adventure"}),x.jsx("p",{className:"text-lg text-white mb-6 drop-shadow-lg",children:"Sign in or create an account to start."}),x.jsx($M,{})]})});const _=k.some(K=>K.created_by===(o==null?void 0:o.email)),E=o?{avatar_skin_tone:o.avatar_skin_tone||"medium",avatar_hair_style:o.avatar_hair_style||"short",avatar_hair_color:o.avatar_hair_color||"brown",avatar_eyes:o.avatar_eyes||"normal",avatar_outfit:o.avatar_outfit||"casual",avatar_accessory:o.avatar_accessory||"none"}:null,T=o==null?void 0:o.active_pet,D=T?{id:T,name:"Pet",emoji:T==="dragon"?"":T==="owl"?"":T==="fox"?"":"",gradient:T==="dragon"?"from-red-400 to-orange-500":T==="owl"?"from-indigo-400 to-purple-500":T==="fox"?"from-orange-400 to-red-500":"from-pink-400 to-purple-500",evolveLevel:5}:null,N=(o==null?void 0:o.subscription_tier)||"free",R=N!=="free",U=async()=>{const K=dy(ws);await aF(K),localStorage.clear(),window.location.href="/"},V=({to:K,icon:M,label:I,badge:A,badgeColor:O="red",isDarkMode:B})=>{const q=r.pathname===nt(K);return x.jsxs(ft,{to:nt(K),onClick:()=>i(!1),className:`relative flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${q?"bg-purple-500 text-white shadow-lg":B?"text-gray-300 hover:bg-slate-700":"text-gray-600 hover:bg-purple-50"}`,children:[x.jsx(M,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:I}),A&&x.jsx(qr,{className:`absolute -top-1 -right-1 bg-${O}-500 text-white text-xs px-1.5 py-0.5 ${O==="red"?"animate-pulse":""}`,children:A})]})};return x.jsxs("div",{className:`min-h-screen ${c?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50"}`,children:[x.jsx(sK,{}),x.jsx("style",{children:`
        :root {
          --primary: 168 85% 55%;
          --secondary: 280 65% 60%;
          --accent: 45 95% 55%;
          --success: 142 76% 45%;
        }

        @media all and (display-mode: standalone) {
          body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
          }
        }

        ${c?`
          * {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
          }

          *::-webkit-scrollbar {
            width: 8px;
          }

          *::-webkit-scrollbar-track {
            background: #1e293b;
          }

          *::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
          }

          *::-webkit-scrollbar-thumb:hover {
            background: #64748b;
          }
        `:""}
      `}),x.jsx("header",{className:`${c?"bg-slate-800/90":"bg-white/80"} backdrop-blur-md shadow-sm sticky top-0 z-50`,children:x.jsxs("div",{className:"max-w-7xl mx-auto px-2 md:px-4 py-2 md:py-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs(ft,{to:nt("Home"),className:"flex items-center gap-3",children:[x.jsx(yE,{size:"md",variant:"circle"}),x.jsx("div",{children:x.jsx("h1",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${c&&"from-purple-400 to-pink-400"}`,children:"Math Adventure"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[o&&x.jsx(ft,{to:nt("Home"),className:"hidden md:inline-block",children:x.jsxs(Zs,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold shadow-lg",children:[x.jsx(IM,{className:"w-4 h-4 mr-2"}),"Play Now"]})}),o&&x.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white px-3 py-2 rounded-xl shadow-md",children:[x.jsx(i2,{className:"w-4 h-4"}),x.jsx("span",{className:"font-bold text-sm",children:o.coins||0})]}),N!=="free"?x.jsx(ft,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs(qr,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 px-3 py-1.5 cursor-pointer",children:[x.jsx(gl,{className:"w-3 h-3 mr-1"}),N==="family_teacher"?"Family":N==="premium_player"?"Premium":"Parent"]})}):x.jsx(ft,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs(qr,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 px-3 py-1.5 cursor-pointer animate-pulse",children:[x.jsx(gl,{className:"w-3 h-3 mr-1"}),"Upgrade"]})}),o&&x.jsx("div",{className:"hidden lg:block",children:x.jsxs(TX,{children:[x.jsx(_X,{asChild:!0,children:x.jsx(Zs,{variant:"ghost",className:`${c?"hover:bg-slate-700 text-gray-50":"hover:bg-purple-50 text-gray-900"} h-auto p-2`,children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"flex items-center gap-1",children:x.jsx(ig,{children:x.jsxs(pn.Suspense,{fallback:x.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 animate-pulse"}),children:[E&&x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(xw,{avatarData:E,size:"small"})}),D&&x.jsx("div",{className:"scale-50 origin-center -ml-2",children:x.jsx(FY,{pet:D,experience:((n=o==null?void 0:o.pet_experience)==null?void 0:n[T])||0,size:"small"})})]})})}),x.jsxs("div",{className:"text-left",children:[x.jsx("p",{className:`text-sm font-semibold ${c?"text-gray-50":"text-gray-900"}`,children:o.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:o.email})]}),x.jsx(f$,{className:`w-4 h-4 ${c?"text-gray-300":"text-gray-500"}`})]})})}),x.jsxs(RR,{align:"end",className:`${c?"bg-slate-800 border-slate-700 text-gray-50":"bg-white"} w-56`,children:[x.jsx(OR,{children:x.jsxs("div",{className:"flex flex-col space-y-1",children:[x.jsx("p",{className:`text-sm font-medium ${c?"text-gray-50":"text-gray-900"}`,children:o.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:o.email})]})}),x.jsx(sg,{className:c?"bg-slate-700":""}),x.jsx(zr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Avatar"),className:"cursor-pointer",children:[x.jsx(ow,{className:"w-4 h-4 mr-2"}),"View Profile"]})}),x.jsx(zr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Messages"),className:"cursor-pointer",children:[x.jsx(d2,{className:"w-4 h-4 mr-2"}),"Messages",p>0&&x.jsx(qr,{className:"ml-auto bg-blue-500 text-white text-xs",children:p})]})}),x.jsx(zr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("DailyChallenge"),className:"cursor-pointer",children:[x.jsx(sw,{className:"w-4 h-4 mr-2"}),"Daily Challenge",!_&&x.jsx(qr,{className:"ml-auto bg-red-500 text-white text-xs animate-pulse",children:"!"})]})}),x.jsx(zr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("AITutor"),className:"cursor-pointer",children:[x.jsx(Zm,{className:"w-4 h-4 mr-2"}),"AI Tutor"]})}),x.jsx(zr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Progress"),className:"cursor-pointer",children:[x.jsx(u$,{className:"w-4 h-4 mr-2"}),"Progress & Stats"]})}),x.jsx(zr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Shop"),className:"cursor-pointer",children:[x.jsx(iw,{className:"w-4 h-4 mr-2"}),"Rewards Shop"]})}),x.jsx(zr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("ParentPortal"),className:"cursor-pointer",children:[x.jsx(l2,{className:"w-4 h-4 mr-2"}),"Parent Portal",(o==null?void 0:o.is_parent_mode)&&x.jsx(qr,{className:"ml-2 bg-blue-500 text-white text-xs",children:"ON"})]})}),x.jsx(sg,{className:c?"bg-slate-700":""}),x.jsx(zr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Settings"),className:"cursor-pointer",children:[x.jsx(f2,{className:"w-4 h-4 mr-2"}),"App Settings"]})}),x.jsx(zr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Subscription"),className:"cursor-pointer",children:[x.jsx(T$,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})}),R&&(o==null?void 0:o.subscription_auto_renew)!==!1&&x.jsx(zr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Subscription"),className:"cursor-pointer text-orange-600 focus:text-orange-600",children:[x.jsx(w$,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})}),x.jsx(sg,{className:c?"bg-slate-700":""}),x.jsxs(zr,{onClick:U,className:`${c?"text-red-400 focus:bg-slate-700 focus:text-red-400":"text-red-600 focus:text-red-600"} cursor-pointer`,children:[x.jsx(h2,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),x.jsx(Zs,{variant:"ghost",size:"icon",onClick:()=>i(!s),className:`lg:hidden ${c?"text-gray-50 hover:bg-slate-700":""}`,children:s?x.jsx(q1,{className:"w-6 h-6"}):x.jsx(F$,{className:"w-6 h-6"})})]})]}),s&&x.jsxs("div",{className:`mt-4 pb-4 space-y-2 border-t pt-4 max-h-[calc(100vh-140px)] overflow-y-auto ${c?"border-slate-700":""}`,children:[o&&x.jsxs("div",{className:`${c?"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-50":"bg-gradient-to-r from-purple-50 to-pink-50"} p-4 rounded-xl mb-4`,children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx(pn.Suspense,{fallback:null,children:E&&x.jsx("div",{className:"scale-90 origin-center",children:x.jsx(xw,{avatarData:E,size:"small"})})}),x.jsxs("div",{children:[x.jsx("p",{className:`font-bold ${c?"text-gray-50":"text-gray-900"}`,children:o.full_name||"Player"}),x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:o.email})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(qr,{className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white",children:[x.jsx(i2,{className:"w-3 h-3 mr-1"}),o.coins||0," Coins"]}),N!=="free"&&x.jsxs(qr,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white",children:[x.jsx(gl,{className:"w-3 h-3 mr-1"}),N==="family_teacher"?"Family":N==="premium_player"?"Premium":"Parent"]})]})]}),x.jsx(V,{to:"Home",icon:c2,label:"Home",isDarkMode:c}),x.jsx(V,{to:"DailyChallenge",icon:sw,label:"Daily Challenge",badge:_?null:"!",isDarkMode:c}),x.jsx(V,{to:"Progress",icon:Pb,label:"Progress",isDarkMode:c}),x.jsx(V,{to:"AITutor",icon:Zm,label:"AI Tutor",isDarkMode:c}),x.jsx(V,{to:"Messages",icon:d2,label:"Messages",badge:p>0?p:null,badgeColor:"blue",isDarkMode:c}),x.jsx(V,{to:"Leaderboards",icon:i$,label:"Leaderboards",isDarkMode:c}),x.jsx(V,{to:"Shop",icon:iw,label:"Shop",isDarkMode:c}),x.jsx(V,{to:"TeamChallenges",icon:Db,label:"Team Challenges",isDarkMode:c}),x.jsx(V,{to:"ParentPortal",icon:l2,label:"Parent Portal",badge:o!=null&&o.is_parent_mode?"ON":null,badgeColor:"blue",isDarkMode:c}),x.jsx(V,{to:"Avatar",icon:ow,label:"Profile",isDarkMode:c}),x.jsx("div",{className:`pt-2 mt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(ft,{to:nt("Settings"),onClick:()=>i(!1),children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-gradient-to-r from-gray-700 to-gray-800 text-gray-50 hover:bg-gray-700":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[x.jsx(f2,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"App Settings"})]})})}),x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(ft,{to:nt("Subscription"),onClick:()=>i(!1),className:"w-full block",children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${N!=="free"?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-purple-500 to-pink-500 text-white animate-pulse"}`,children:[x.jsx(gl,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:N!=="free"?"Manage Subscription":"Upgrade to Premium"})]})})}),o&&x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsxs("button",{onClick:()=>{i(!1),U()},className:`w-full flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-red-900/20 text-red-400 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[x.jsx(h2,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]})}),x.jsx("div",{className:`lg:hidden fixed bottom-0 left-0 right-0 ${c?"bg-slate-800/90 border-slate-700":"bg-white/90 border-t"} backdrop-blur-md shadow-lg z-40`,children:x.jsxs("div",{className:"grid grid-cols-5 gap-1 px-2 py-2",children:[x.jsxs(ft,{to:nt("Home"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Home")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(c2,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),x.jsxs(ft,{to:nt("DailyChallenge"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("DailyChallenge")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(sw,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Daily"}),!_&&x.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),x.jsxs(ft,{to:nt("AITutor"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("AITutor")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(Zm,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Tutor"})]}),x.jsxs(ft,{to:nt("Shop"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Shop")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(iw,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Shop"})]}),x.jsx(ft,{to:nt("Avatar"),className:`flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Avatar")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:E?x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(xw,{avatarData:E,size:"small"})}):x.jsx(ow,{className:"w-6 h-6"})})]})}),x.jsx(ig,{children:x.jsx(pn.Suspense,{fallback:null,children:x.jsx(BY,{})})}),x.jsx("main",{className:"flex-1 pb-20 lg:pb-0",children:x.jsx(ig,{children:x.jsx(pn.Suspense,{fallback:x.jsx("div",{className:"min-h-[40vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-3"}),x.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),children:t})})}),x.jsx("footer",{className:`${c?"bg-slate-800/60 border-slate-700":"bg-white/60 border-gray-200"} backdrop-blur-sm mt-12 py-8 border-t`,children:x.jsx("div",{className:"max-w-7xl mx-auto px-4",children:x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"text-center md:text-left",children:[x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:"Keep practicing and have fun! "}),x.jsx("p",{className:`text-xs ${c?"text-gray-400":"text-gray-500"} mt-1`,children:" 2025 Math Adventure. All rights reserved."})]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[x.jsx(ft,{to:nt("PrivacyPolicy"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Privacy Policy"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx(ft,{to:nt("Subscription"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Pricing"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx("a",{href:"mailto:support@math-adventure.com",className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Contact"})]})]})})})]})}const zY=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));zY.displayName="Card";const VY=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex flex-col space-y-1.5 p-6",t),...e}));VY.displayName="CardHeader";const qY=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("font-semibold leading-none tracking-tight",t),...e}));qY.displayName="CardTitle";const $Y=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm text-muted-foreground",t),...e}));$Y.displayName="CardDescription";const HY=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("p-6 pt-0",t),...e}));HY.displayName="CardContent";const KY=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex items-center p-6 pt-0",t),...e}));KY.displayName="CardFooter";const zR=C.createContext({});function GY(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const lC=typeof window<"u",WY=lC?C.useLayoutEffect:C.useEffect,uC=C.createContext(null);function cC(t,e){t.indexOf(e)===-1&&t.push(e)}function hC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Qi=(t,e,n)=>n>e?e:n<t?t:n;let dC=()=>{};const Xi={},VR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function qR(t){return typeof t=="object"&&t!==null}const $R=t=>/^0[^.\s]+$/u.test(t);function fC(t){let e;return()=>(e===void 0&&(e=t()),e)}const Yr=t=>t,QY=(t,e)=>n=>e(t(n)),Vf=(...t)=>t.reduce(QY),hf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class pC{constructor(){this.subscriptions=[]}add(e){return cC(this.subscriptions,e),()=>hC(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ti=t=>t*1e3,Wr=t=>t/1e3;function HR(t,e){return e?t*(1e3/e):0}const KR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,XY=1e-7,YY=12;function JY(t,e,n,r,s){let i,o,u=0;do o=e+(n-e)/2,i=KR(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>XY&&++u<YY);return o}function qf(t,e,n,r){if(t===e&&n===r)return Yr;const s=i=>JY(i,0,1,t,n);return i=>i===0||i===1?i:KR(s(i),e,r)}const GR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,WR=t=>e=>1-t(1-e),QR=qf(.33,1.53,.69,.99),mC=WR(QR),XR=GR(mC),YR=t=>(t*=2)<1?.5*mC(t):.5*(2-Math.pow(2,-10*(t-1))),gC=t=>1-Math.sin(Math.acos(t)),JR=WR(gC),ZR=GR(gC),ZY=qf(.42,0,1,1),eJ=qf(0,0,.58,1),e4=qf(.42,0,.58,1),tJ=t=>Array.isArray(t)&&typeof t[0]!="number",t4=t=>Array.isArray(t)&&typeof t[0]=="number",nJ={linear:Yr,easeIn:ZY,easeInOut:e4,easeOut:eJ,circIn:gC,circInOut:ZR,circOut:JR,backIn:mC,backInOut:XR,backOut:QR,anticipate:YR},rJ=t=>typeof t=="string",Y2=t=>{if(t4(t)){dC(t.length===4);const[e,n,r,s]=t;return qf(e,n,r,s)}else if(rJ(t))return nJ[t];return t},Nm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function sJ(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(p){o.has(p)&&(d.schedule(p),t()),p(u)}const d={schedule:(p,g=!1,v=!1)=>{const k=v&&s?n:r;return g&&o.add(p),k.has(p)||k.add(p),p},cancel:p=>{r.delete(p),o.delete(p)},process:p=>{if(u=p,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,d.process(p))}};return d}const iJ=40;function n4(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Nm.reduce((D,N)=>(D[N]=sJ(i),D),{}),{setup:u,read:c,resolveKeyframes:d,preUpdate:p,update:g,preRender:v,render:k,postRender:_}=o,E=()=>{const D=Xi.useManualTiming?s.timestamp:performance.now();n=!1,Xi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(D-s.timestamp,iJ),1)),s.timestamp=D,s.isProcessing=!0,u.process(s),c.process(s),d.process(s),p.process(s),g.process(s),v.process(s),k.process(s),_.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(E))},T=()=>{n=!0,r=!0,s.isProcessing||t(E)};return{schedule:Nm.reduce((D,N)=>{const R=o[N];return D[N]=(U,V=!1,K=!1)=>(n||T(),R.schedule(U,V,K)),D},{}),cancel:D=>{for(let N=0;N<Nm.length;N++)o[Nm[N]].cancel(D)},state:s,steps:o}}const{schedule:Ct,cancel:fo,state:_n,steps:Cw}=n4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yr,!0);let ag;function aJ(){ag=void 0}const cr={now:()=>(ag===void 0&&cr.set(_n.isProcessing||Xi.useManualTiming?_n.timestamp:performance.now()),ag),set:t=>{ag=t,queueMicrotask(aJ)}},r4=t=>e=>typeof e=="string"&&e.startsWith(t),yC=r4("--"),oJ=r4("var(--"),vC=t=>oJ(t)?lJ.test(t.split("/*")[0].trim()):!1,lJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},df={...Xc,transform:t=>Qi(0,1,t)},Mm={...Xc,default:1},jd=t=>Math.round(t*1e5)/1e5,wC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uJ(t){return t==null}const cJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bC=(t,e)=>n=>!!(typeof n=="string"&&cJ.test(n)&&n.startsWith(t)||e&&!uJ(n)&&Object.prototype.hasOwnProperty.call(n,e)),s4=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,u]=r.match(wC);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},hJ=t=>Qi(0,255,t),kw={...Xc,transform:t=>Math.round(hJ(t))},yl={test:bC("rgb","red"),parse:s4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+kw.transform(t)+", "+kw.transform(e)+", "+kw.transform(n)+", "+jd(df.transform(r))+")"};function dJ(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Hb={test:bC("#"),parse:dJ,transform:yl.transform},$f=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ha=$f("deg"),ni=$f("%"),Oe=$f("px"),fJ=$f("vh"),pJ=$f("vw"),J2={...ni,parse:t=>ni.parse(t)/100,transform:t=>ni.transform(t*100)},lc={test:bC("hsl","hue"),parse:s4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ni.transform(jd(e))+", "+ni.transform(jd(n))+", "+jd(df.transform(r))+")"},ln={test:t=>yl.test(t)||Hb.test(t)||lc.test(t),parse:t=>yl.test(t)?yl.parse(t):lc.test(t)?lc.parse(t):Hb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?yl.transform(t):lc.transform(t),getAnimatableNone:t=>{const e=ln.parse(t);return e.alpha=0,ln.transform(e)}},mJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gJ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(wC))==null?void 0:e.length)||0)+(((n=t.match(mJ))==null?void 0:n.length)||0)>0}const i4="number",a4="color",yJ="var",vJ="var(",Z2="${}",wJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ff(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(wJ,u=>(ln.test(u)?(r.color.push(i),s.push(a4),n.push(ln.parse(u))):u.startsWith(vJ)?(r.var.push(i),s.push(yJ),n.push(u)):(r.number.push(i),s.push(i4),n.push(parseFloat(u))),++i,Z2)).split(Z2);return{values:n,split:o,indexes:r,types:s}}function o4(t){return ff(t).values}function l4(t){const{split:e,types:n}=ff(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const u=n[o];u===i4?i+=jd(s[o]):u===a4?i+=ln.transform(s[o]):i+=s[o]}return i}}const bJ=t=>typeof t=="number"?0:ln.test(t)?ln.getAnimatableNone(t):t;function xJ(t){const e=o4(t);return l4(t)(e.map(bJ))}const po={test:gJ,parse:o4,createTransformer:l4,getAnimatableNone:xJ};function Sw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function CJ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;s=Sw(c,u,t+1/3),i=Sw(c,u,t),o=Sw(c,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function ey(t,e){return n=>n>0?e:t}const _t=(t,e,n)=>t+(e-t)*n,Ew=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},kJ=[Hb,yl,lc],SJ=t=>kJ.find(e=>e.test(t));function eI(t){const e=SJ(t);if(!e)return!1;let n=e.parse(t);return e===lc&&(n=CJ(n)),n}const tI=(t,e)=>{const n=eI(t),r=eI(e);if(!n||!r)return ey(t,e);const s={...n};return i=>(s.red=Ew(n.red,r.red,i),s.green=Ew(n.green,r.green,i),s.blue=Ew(n.blue,r.blue,i),s.alpha=_t(n.alpha,r.alpha,i),yl.transform(s))},Kb=new Set(["none","hidden"]);function EJ(t,e){return Kb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function TJ(t,e){return n=>_t(t,e,n)}function xC(t){return typeof t=="number"?TJ:typeof t=="string"?vC(t)?ey:ln.test(t)?tI:PJ:Array.isArray(t)?u4:typeof t=="object"?ln.test(t)?tI:_J:ey}function u4(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>xC(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function _J(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=xC(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function IJ(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],u=t.values[o]??0;n[s]=u,r[i]++}return n}const PJ=(t,e)=>{const n=po.createTransformer(e),r=ff(t),s=ff(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Kb.has(t)&&!s.values.length||Kb.has(e)&&!r.values.length?EJ(t,e):Vf(u4(IJ(r,s),s.values),n):ey(t,e)};function c4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):xC(t)(t,e)}const DJ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ct.update(e,n),stop:()=>fo(e),now:()=>_n.isProcessing?_n.timestamp:cr.now()}},h4=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ty=2e4;function CC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ty;)e+=n,r=t.next(e);return e>=ty?1/0:e}function AJ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(CC(r),ty);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Wr(s)}}const NJ=5;function d4(t,e,n){const r=Math.max(e-NJ,0);return HR(n-t(r),e-r)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tw=.001;function MJ({duration:t=Mt.duration,bounce:e=Mt.bounce,velocity:n=Mt.velocity,mass:r=Mt.mass}){let s,i,o=1-e;o=Qi(Mt.minDamping,Mt.maxDamping,o),t=Qi(Mt.minDuration,Mt.maxDuration,Wr(t)),o<1?(s=d=>{const p=d*o,g=p*t,v=p-n,k=Gb(d,o),_=Math.exp(-g);return Tw-v/k*_},i=d=>{const p=d*o*t,g=p*n+n,v=Math.pow(o,2)*Math.pow(d,2)*t,k=Math.exp(-p),_=Gb(Math.pow(d,2),o);return(-s(d)+Tw>0?-1:1)*((g-v)*k)/_}):(s=d=>{const p=Math.exp(-d*t),g=(d-n)*t+1;return-Tw+p*g},i=d=>{const p=Math.exp(-d*t),g=(n-d)*(t*t);return p*g});const u=5/t,c=RJ(s,i,u);if(t=ti(t),isNaN(c))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const jJ=12;function RJ(t,e,n){let r=n;for(let s=1;s<jJ;s++)r=r-t(r)/e(r);return r}function Gb(t,e){return t*Math.sqrt(1-e*e)}const OJ=["duration","bounce"],LJ=["stiffness","damping","mass"];function nI(t,e){return e.some(n=>t[n]!==void 0)}function FJ(t){let e={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...t};if(!nI(t,LJ)&&nI(t,OJ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Qi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Mt.mass,stiffness:s,damping:i}}else{const n=MJ(t);e={...e,...n,mass:Mt.mass},e.isResolvedFromDuration=!0}return e}function ny(t=Mt.visualDuration,e=Mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:c,damping:d,mass:p,duration:g,velocity:v,isResolvedFromDuration:k}=FJ({...n,velocity:-Wr(n.velocity||0)}),_=v||0,E=d/(2*Math.sqrt(c*p)),T=o-i,D=Wr(Math.sqrt(c/p)),N=Math.abs(T)<5;r||(r=N?Mt.restSpeed.granular:Mt.restSpeed.default),s||(s=N?Mt.restDelta.granular:Mt.restDelta.default);let R;if(E<1){const V=Gb(D,E);R=K=>{const M=Math.exp(-E*D*K);return o-M*((_+E*D*T)/V*Math.sin(V*K)+T*Math.cos(V*K))}}else if(E===1)R=V=>o-Math.exp(-D*V)*(T+(_+D*T)*V);else{const V=D*Math.sqrt(E*E-1);R=K=>{const M=Math.exp(-E*D*K),I=Math.min(V*K,300);return o-M*((_+E*D*T)*Math.sinh(I)+V*T*Math.cosh(I))/V}}const U={calculatedDuration:k&&g||null,next:V=>{const K=R(V);if(k)u.done=V>=g;else{let M=V===0?_:0;E<1&&(M=V===0?ti(_):d4(R,V,K));const I=Math.abs(M)<=r,A=Math.abs(o-K)<=s;u.done=I&&A}return u.value=u.done?o:K,u},toString:()=>{const V=Math.min(CC(U),ty),K=h4(M=>U.next(V*M).value,V,30);return V+"ms "+K},toTransition:()=>{}};return U}ny.applyToOptions=t=>{const e=AJ(t,100,ny);return t.ease=e.ease,t.duration=ti(e.duration),t.type="keyframes",t};function Wb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:u,max:c,restDelta:d=.5,restSpeed:p}){const g=t[0],v={done:!1,value:g},k=I=>u!==void 0&&I<u||c!==void 0&&I>c,_=I=>u===void 0?c:c===void 0||Math.abs(u-I)<Math.abs(c-I)?u:c;let E=n*e;const T=g+E,D=o===void 0?T:o(T);D!==T&&(E=D-g);const N=I=>-E*Math.exp(-I/r),R=I=>D+N(I),U=I=>{const A=N(I),O=R(I);v.done=Math.abs(A)<=d,v.value=v.done?D:O};let V,K;const M=I=>{k(v.value)&&(V=I,K=ny({keyframes:[v.value,_(v.value)],velocity:d4(R,I,v.value),damping:s,stiffness:i,restDelta:d,restSpeed:p}))};return M(0),{calculatedDuration:null,next:I=>{let A=!1;return!K&&V===void 0&&(A=!0,U(I),M(I)),V!==void 0&&I>=V?K.next(I-V):(!A&&U(I),v)}}}function BJ(t,e,n){const r=[],s=n||Xi.mix||c4,i=t.length-1;for(let o=0;o<i;o++){let u=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Yr:e;u=Vf(c,u)}r.push(u)}return r}function UJ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(dC(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=BJ(e,r,s),c=u.length,d=p=>{if(o&&p<t[0])return e[0];let g=0;if(c>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const v=hf(t[g],t[g+1],p);return u[g](v)};return n?p=>d(Qi(t[0],t[i-1],p)):d}function zJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=hf(0,e,r);t.push(_t(n,1,s))}}function VJ(t){const e=[0];return zJ(e,t.length-1),e}function qJ(t,e){return t.map(n=>n*e)}function $J(t,e){return t.map(()=>e||e4).splice(0,t.length-1)}function Rd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=tJ(r)?r.map(Y2):Y2(r),i={done:!1,value:e[0]},o=qJ(n&&n.length===e.length?n:VJ(e),t),u=UJ(o,e,{ease:Array.isArray(s)?s:$J(e,s)});return{calculatedDuration:t,next:c=>(i.value=u(c),i.done=c>=t,i)}}const HJ=t=>t!==null;function kC(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(HJ),o=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const KJ={decay:Wb,inertia:Wb,tween:Rd,keyframes:Rd,spring:ny};function f4(t){typeof t.type=="string"&&(t.type=KJ[t.type])}class SC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const GJ=t=>t/100;class EC extends SC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==cr.now()&&this.tick(cr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;f4(e);const{type:n=Rd,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:u}=e;const c=n||Rd;c!==Rd&&typeof u[0]!="number"&&(this.mixKeyframes=Vf(GJ,c4(u[0],u[1])),u=[0,100]);const d=c({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=CC(d));const{calculatedDuration:p}=d;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:k,type:_,onUpdate:E,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-d*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?D<0:D>s;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let R=this.currentTime,U=r;if(g){const I=Math.min(this.currentTime,s)/u;let A=Math.floor(I),O=I%1;!O&&I>=1&&(O=1),O===1&&A--,A=Math.min(A,g+1),A%2&&(v==="reverse"?(O=1-O,k&&(O-=k/u)):v==="mirror"&&(U=o)),R=Qi(0,1,O)*u}const V=N?{done:!1,value:p[0]}:U.next(R);i&&(V.value=i(V.value));let{done:K}=V;!N&&c!==null&&(K=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return M&&_!==Wb&&(V.value=kC(p,this.options,T,this.speed)),E&&E(V.value),M&&this.finish(),V}then(e,n){return this.finished.then(e,n)}get duration(){return Wr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wr(e)}get time(){return Wr(this.currentTime)}set time(e){var n;e=ti(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(cr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Wr(this.currentTime))}play(){var e,n;if(this.isStopped)return;const{driver:r=DJ,startTime:s}=this.options;this.driver||(this.driver=r(o=>this.tick(o))),(n=(e=this.options).onPlay)==null||n.call(e);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(cr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function WJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const vl=t=>t*180/Math.PI,Qb=t=>{const e=vl(Math.atan2(t[1],t[0]));return Xb(e)},QJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Qb,rotateZ:Qb,skewX:t=>vl(Math.atan(t[1])),skewY:t=>vl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Xb=t=>(t=t%360,t<0&&(t+=360),t),rI=Qb,sI=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),iI=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),XJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sI,scaleY:iI,scale:t=>(sI(t)+iI(t))/2,rotateX:t=>Xb(vl(Math.atan2(t[6],t[5]))),rotateY:t=>Xb(vl(Math.atan2(-t[2],t[0]))),rotateZ:rI,rotate:rI,skewX:t=>vl(Math.atan(t[4])),skewY:t=>vl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Yb(t){return t.includes("scale")?1:0}function Jb(t,e){if(!t||t==="none")return Yb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=XJ,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=QJ,s=u}if(!s)return Yb(e);const i=r[e],o=s[1].split(",").map(JJ);return typeof i=="function"?i(o):o[i]}const YJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Jb(n,e)};function JJ(t){return parseFloat(t.trim())}const Yc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jc=new Set(Yc),aI=t=>t===Xc||t===Oe,ZJ=new Set(["x","y","z"]),eZ=Yc.filter(t=>!ZJ.has(t));function tZ(t){const e=[];return eZ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Sl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Jb(e,"x"),y:(t,{transform:e})=>Jb(e,"y")};Sl.translateX=Sl.x;Sl.translateY=Sl.y;const El=new Set;let Zb=!1,ex=!1,tx=!1;function p4(){if(ex){const t=Array.from(El).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=tZ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var u;(u=r.getValue(i))==null||u.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ex=!1,Zb=!1,El.forEach(t=>t.complete(tx)),El.clear()}function m4(){El.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ex=!0)})}function nZ(){tx=!0,m4(),p4(),tx=!1}class TC{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(El.add(this),Zb||(Zb=!0,Ct.read(m4),Ct.resolveKeyframes(p4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const u=r.readValue(n,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}WJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),El.delete(this)}cancel(){this.state==="scheduled"&&(El.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rZ=t=>t.startsWith("--");function sZ(t,e,n){rZ(e)?t.style.setProperty(e,n):t.style[e]=n}const iZ=fC(()=>window.ScrollTimeline!==void 0),aZ={};function oZ(t,e){const n=fC(t);return()=>aZ[e]??n()}const g4=oZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,oI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kd([0,.65,.55,1]),circOut:kd([.55,0,1,.45]),backIn:kd([.31,.01,.66,-.59]),backOut:kd([.33,1.53,.69,.99])};function y4(t,e){if(t)return typeof t=="function"?g4()?h4(t,e):"ease-out":t4(t)?kd(t):Array.isArray(t)?t.map(n=>y4(n,e)||oI.easeOut):oI[t]}function lZ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:u="easeOut",times:c}={},d=void 0){const p={[e]:n};c&&(p.offset=c);const g=y4(u,s);Array.isArray(g)&&(p.easing=g);const v={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),t.animate(p,v)}function v4(t){return typeof t=="function"&&"applyToOptions"in t}function uZ({type:t,...e}){return v4(t)&&g4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class cZ extends SC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,dC(typeof e.type!="string");const d=uZ(e);this.animation=lZ(n,r,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=kC(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):sZ(n,r,p),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var e,n;const r=((n=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:n.call(e).duration)||0;return Wr(Number(r))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wr(e)}get time(){return Wr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ti(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&iZ()?(this.animation.timeline=e,Yr):n(this)}}const w4={anticipate:YR,backInOut:XR,circInOut:ZR};function hZ(t){return t in w4}function dZ(t){typeof t.ease=="string"&&hZ(t.ease)&&(t.ease=w4[t.ease])}const lI=10;class fZ extends cZ{constructor(e){dZ(e),f4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new EC({...o,autoplay:!1}),c=ti(this.finishedTime??this.time);n.setWithVelocity(u.sample(c-lI).value,u.sample(c).value,lI),u.stop()}}const uI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(po.test(t)||t==="0")&&!t.startsWith("url("));function pZ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mZ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=uI(s,e),u=uI(i,e);return!o||!u?!1:pZ(t)||(n==="spring"||v4(n))&&r}function nx(t){t.duration=0,t.type="keyframes"}const gZ=new Set(["opacity","clipPath","filter","transform"]),yZ=fC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function vZ(t){var e;const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:u}=t;if(!(((e=n==null?void 0:n.owner)==null?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=n.owner.getProps();return yZ()&&r&&gZ.has(r)&&(r!=="transform"||!d)&&!c&&!s&&i!=="mirror"&&o!==0&&u!=="inertia"}const wZ=40;class bZ extends SC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:u,name:c,motionValue:d,element:p,...g}){var v;super(),this.stop=()=>{var E,T;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=cr.now();const k={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:p,...g},_=(p==null?void 0:p.KeyframeResolver)||TC;this.keyframeResolver=new _(u,(E,T,D)=>this.onKeyframesResolved(E,T,k,!D),c,d,p),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:u,delay:c,isHandoff:d,onUpdate:p}=r;this.resolvedAt=cr.now(),mZ(e,i,o,u)||((Xi.instantAnimations||!c)&&(p==null||p(kC(e,r,n))),e[0]=e[e.length-1],nx(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>wZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!d&&vZ(g)?new fZ({...g,element:g.motionValue.owner.current}):new EC(g);v.finished.then(()=>this.notifyFinished()).catch(Yr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),nZ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const xZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function CZ(t){const e=xZ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function b4(t,e,n=1){const[r,s]=CZ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return VR(o)?parseFloat(o):o}return vC(s)?b4(s,e,n+1):s}function _C(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const x4=new Set(["width","height","top","left","right","bottom",...Yc]),kZ={test:t=>t==="auto",parse:t=>t},C4=t=>e=>e.test(t),k4=[Xc,Oe,ni,Ha,pJ,fJ,kZ],cI=t=>k4.find(C4(t));function SZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||$R(t):!0}const EZ=new Set(["brightness","contrast","saturate","opacity"]);function TZ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(wC)||[];if(!r)return t;const s=n.replace(r,"");let i=EZ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const _Z=/\b([a-z-]*)\(.*?\)/gu,rx={...po,getAnimatableNone:t=>{const e=t.match(_Z);return e?e.map(TZ).join(" "):t}},hI={...Xc,transform:Math.round},IZ={rotate:Ha,rotateX:Ha,rotateY:Ha,rotateZ:Ha,scale:Mm,scaleX:Mm,scaleY:Mm,scaleZ:Mm,skew:Ha,skewX:Ha,skewY:Ha,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:df,originX:J2,originY:J2,originZ:Oe},IC={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...IZ,zIndex:hI,fillOpacity:df,strokeOpacity:df,numOctaves:hI},PZ={...IC,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:rx,WebkitFilter:rx},S4=t=>PZ[t];function E4(t,e){let n=S4(t);return n!==rx&&(n=po),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const DZ=new Set(["auto","none","0"]);function AZ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!DZ.has(i)&&ff(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=E4(n,s)}class NZ extends TC{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),vC(d))){const p=b4(d,n.current);p!==void 0&&(e[c]=p),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!x4.has(r)||e.length!==2)return;const[s,i]=e,o=cI(s),u=cI(i);if(o!==u)if(aI(o)&&aI(u))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Sl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||SZ(e[s]))&&r.push(s);r.length&&AZ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,u=s[o];s[o]=Sl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(e=this.removedTransforms)!=null&&e.length&&this.removedTransforms.forEach(([c,d])=>{n.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function MZ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const T4=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function jZ(t){return qR(t)&&"offsetHeight"in t}const dI=30,RZ=t=>!isNaN(parseFloat(t));class OZ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=cr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=cr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=RZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new pC);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ct.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=cr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dI);return HR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oc(t,e){return new OZ(t,e)}const{schedule:PC}=n4(queueMicrotask,!1),hs={x:!1,y:!1};function _4(){return hs.x||hs.y}function LZ(t){return t==="x"||t==="y"?hs[t]?null:(hs[t]=!0,()=>{hs[t]=!1}):hs.x||hs.y?null:(hs.x=hs.y=!0,()=>{hs.x=hs.y=!1})}function I4(t,e){const n=MZ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function fI(t){return!(t.pointerType==="touch"||_4())}function FZ(t,e,n={}){const[r,s,i]=I4(t,n),o=u=>{if(!fI(u))return;const{target:c}=u,d=e(c,u);if(typeof d!="function"||!c)return;const p=g=>{fI(g)&&(d(g),c.removeEventListener("pointerleave",p))};c.addEventListener("pointerleave",p,s)};return r.forEach(u=>{u.addEventListener("pointerenter",o,s)}),i}const P4=(t,e)=>e?t===e?!0:P4(t,e.parentElement):!1,DC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,BZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function UZ(t){return BZ.has(t.tagName)||t.tabIndex!==-1}const og=new WeakSet;function pI(t){return e=>{e.key==="Enter"&&t(e)}}function _w(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=pI(()=>{if(og.has(n))return;_w(n,"down");const s=pI(()=>{_w(n,"up")}),i=()=>_w(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function mI(t){return DC(t)&&!_4()}function VZ(t,e,n={}){const[r,s,i]=I4(t,n),o=u=>{const c=u.currentTarget;if(!mI(u))return;og.add(c);const d=e(c,u),p=(k,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),og.has(c)&&og.delete(c),mI(k)&&typeof d=="function"&&d(k,{success:_})},g=k=>{p(k,c===window||c===document||n.useGlobalTarget||P4(c,k.target))},v=k=>{p(k,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",o,s),jZ(u)&&(u.addEventListener("focus",c=>zZ(c,s)),!UZ(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function D4(t){return qR(t)&&"ownerSVGElement"in t}function qZ(t){return D4(t)&&t.tagName==="svg"}const Un=t=>!!(t&&t.getVelocity),$Z=[...k4,ln,po],HZ=t=>$Z.find(C4(t)),A4=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function KZ(t=!0){const e=C.useContext(uC);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=C.useId();C.useEffect(()=>{if(t)return s(i)},[t]);const o=C.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const N4=C.createContext({strict:!1}),gI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lc={};for(const t in gI)Lc[t]={isEnabled:e=>gI[t].some(n=>!!e[n])};function GZ(t){for(const e in t)Lc[e]={...Lc[e],...t[e]}}const WZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ry(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||WZ.has(t)}let M4=t=>!ry(t);function QZ(t){typeof t=="function"&&(M4=e=>e.startsWith("on")?!ry(e):t(e))}try{QZ(require("@emotion/is-prop-valid").default)}catch{}function XZ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(M4(s)||n===!0&&ry(s)||!e&&!ry(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const sv=C.createContext({});function iv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pf(t){return typeof t=="string"||Array.isArray(t)}const AC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],NC=["initial",...AC];function av(t){return iv(t.animate)||NC.some(e=>pf(t[e]))}function j4(t){return!!(av(t)||t.variants)}function YZ(t,e){if(av(t)){const{initial:n,animate:r}=t;return{initial:n===!1||pf(n)?n:void 0,animate:pf(r)?r:void 0}}return t.inherit!==!1?e:{}}function JZ(t){const{initial:e,animate:n}=YZ(t,C.useContext(sv));return C.useMemo(()=>({initial:e,animate:n}),[yI(e),yI(n)])}function yI(t){return Array.isArray(t)?t.join(" "):t}const mf={};function ZZ(t){for(const e in t)mf[e]=t[e],yC(e)&&(mf[e].isCSSVariable=!0)}function R4(t,{layout:e,layoutId:n}){return Jc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mf[t]||t==="opacity")}const eee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tee=Yc.length;function nee(t,e,n){let r="",s=!0;for(let i=0;i<tee;i++){const o=Yc[i],u=t[o];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(o.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||n){const d=T4(u,IC[o]);if(!c){s=!1;const p=eee[o]||o;r+=`${p}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function MC(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,u=!1;for(const c in e){const d=e[c];if(Jc.has(c)){o=!0;continue}else if(yC(c)){s[c]=d;continue}else{const p=T4(d,IC[c]);c.startsWith("origin")?(u=!0,i[c]=p):r[c]=p}}if(e.transform||(o||n?r.transform=nee(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:d="50%",originZ:p=0}=i;r.transformOrigin=`${c} ${d} ${p}`}}const jC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function O4(t,e,n){for(const r in e)!Un(e[r])&&!R4(r,n)&&(t[r]=e[r])}function ree({transformTemplate:t},e){return C.useMemo(()=>{const n=jC();return MC(n,e,t),Object.assign({},n.vars,n.style)},[e])}function see(t,e){const n=t.style||{},r={};return O4(r,n,t),Object.assign(r,ree(t,e)),r}function iee(t,e){const n={},r=see(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const aee={offset:"stroke-dashoffset",array:"stroke-dasharray"},oee={offset:"strokeDashoffset",array:"strokeDasharray"};function lee(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?aee:oee;t[i.offset]=Oe.transform(-r);const o=Oe.transform(e),u=Oe.transform(n);t[i.array]=`${o} ${u}`}function L4(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...u},c,d,p){if(MC(t,u,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&lee(g,s,i,o,!1)}const F4=()=>({...jC(),attrs:{}}),B4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function uee(t,e,n,r){const s=C.useMemo(()=>{const i=F4();return L4(i,e,B4(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};O4(i,t.style,t),s.style={...i,...s.style}}return s}const cee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function RC(t){return typeof t!="string"||t.includes("-")?!1:!!(cee.indexOf(t)>-1||/[A-Z]/u.test(t))}function hee(t,e,n,{latestValues:r},s,i=!1){const o=(RC(t)?uee:iee)(e,r,s,t),u=XZ(e,typeof t=="string",i),c=t!==C.Fragment?{...u,...o,ref:n}:{},{children:d}=e,p=C.useMemo(()=>Un(d)?d.get():d,[d]);return C.createElement(t,{...c,children:p})}function vI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function OC(t,e,n,r){if(typeof e=="function"){const[s,i]=vI(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=vI(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function lg(t){return Un(t)?t.get():t}function dee({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:fee(n,r,s,t),renderState:e()}}function fee(t,e,n,r){const s={},i=r(t,{});for(const v in i)s[v]=lg(i[v]);let{initial:o,animate:u}=t;const c=av(t),d=j4(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||o===!1;const g=p?u:o;if(g&&typeof g!="boolean"&&!iv(g)){const v=Array.isArray(g)?g:[g];for(let k=0;k<v.length;k++){const _=OC(t,v[k]);if(_){const{transitionEnd:E,transition:T,...D}=_;for(const N in D){let R=D[N];if(Array.isArray(R)){const U=p?R.length-1:0;R=R[U]}R!==null&&(s[N]=R)}for(const N in E)s[N]=E[N]}}}return s}const U4=t=>(e,n)=>{const r=C.useContext(sv),s=C.useContext(uC),i=()=>dee(t,e,r,s);return n?i():GY(i)};function LC(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Un(s[o])||e.style&&Un(e.style[o])||R4(o,t)||((r=n==null?void 0:n.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}const pee=U4({scrapeMotionValuesFromProps:LC,createRenderState:jC});function z4(t,e,n){const r=LC(t,e,n);for(const s in t)if(Un(t[s])||Un(e[s])){const i=Yc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const mee=U4({scrapeMotionValuesFromProps:z4,createRenderState:F4}),gee=Symbol.for("motionComponentSymbol");function uc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function yee(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):uc(n)&&(n.current=r))},[e])}const FC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vee="framerAppearId",V4="data-"+FC(vee),q4=C.createContext({});function wee(t,e,n,r,s){var i,o;const{visualElement:u}=C.useContext(sv),c=C.useContext(N4),d=C.useContext(uC),p=C.useContext(A4).reducedMotion,g=C.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,k=C.useContext(q4);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&bee(g.current,n,s,k);const _=C.useRef(!1);C.useInsertionEffect(()=>{v&&_.current&&v.update(n,d)});const E=n[V4],T=C.useRef(!!E&&!((i=window.MotionHandoffIsComplete)!=null&&i.call(window,E))&&((o=window.MotionHasOptimisedAnimation)==null?void 0:o.call(window,E)));return WY(()=>{v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),T.current&&v.animationState&&v.animationState.animateChanges())}),C.useEffect(()=>{v&&(!T.current&&v.animationState&&v.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,E)}),T.current=!1),v.enteringChildren=void 0)}),v}function bee(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:u,layoutScroll:c,layoutRoot:d,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:$4(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||u&&uc(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:c,layoutRoot:d})}function $4(t){if(t)return t.options.allowProjection!==!1?t.projection:$4(t.parent)}function Iw(t,{forwardMotionProps:e=!1}={},n,r){n&&GZ(n);const s=RC(t)?mee:pee;function i(u,c){let d;const p={...C.useContext(A4),...u,layoutId:xee(u)},{isStatic:g}=p,v=JZ(u),k=s(u,g);if(!g&&lC){Cee();const _=kee(p);d=_.MeasureLayout,v.visualElement=wee(t,k,p,r,_.ProjectionNode)}return x.jsxs(sv.Provider,{value:v,children:[d&&v.visualElement?x.jsx(d,{visualElement:v.visualElement,...p}):null,hee(t,u,yee(k,v.visualElement,c),k,g,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=C.forwardRef(i);return o[gee]=t,o}function xee({layoutId:t}){const e=C.useContext(zR).id;return e&&t!==void 0?e+"-"+t:t}function Cee(t,e){C.useContext(N4).strict}function kee(t){const{drag:e,layout:n}=Lc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function See(t,e){if(typeof Proxy>"u")return Iw;const n=new Map,r=(i,o)=>Iw(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Iw(o,void 0,t,e)),n.get(o))})}function H4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Eee({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Tee(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Pw(t){return t===void 0||t===1}function sx({scale:t,scaleX:e,scaleY:n}){return!Pw(t)||!Pw(e)||!Pw(n)}function ll(t){return sx(t)||K4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function K4(t){return wI(t.x)||wI(t.y)}function wI(t){return t&&t!=="0%"}function sy(t,e,n){const r=t-n,s=e*r;return n+s}function bI(t,e,n,r,s){return s!==void 0&&(t=sy(t,s,r)),sy(t,n,r)+e}function ix(t,e=0,n=1,r,s){t.min=bI(t.min,e,n,r,s),t.max=bI(t.max,e,n,r,s)}function G4(t,{x:e,y:n}){ix(t.x,e.translate,e.scale,e.originPoint),ix(t.y,n.translate,n.scale,n.originPoint)}const xI=.999999999999,CI=1.0000000000001;function _ee(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let u=0;u<s;u++){i=n[u],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&hc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,G4(t,o)),r&&ll(i.latestValues)&&hc(t,i.latestValues))}e.x<CI&&e.x>xI&&(e.x=1),e.y<CI&&e.y>xI&&(e.y=1)}function cc(t,e){t.min=t.min+e,t.max=t.max+e}function kI(t,e,n,r,s=.5){const i=_t(t.min,t.max,s);ix(t,e,n,i,r)}function hc(t,e){kI(t.x,e.x,e.scaleX,e.scale,e.originX),kI(t.y,e.y,e.scaleY,e.scale,e.originY)}function W4(t,e){return H4(Tee(t.getBoundingClientRect(),e))}function Iee(t,e,n){const r=W4(t,n),{scroll:s}=e;return s&&(cc(r.x,s.offset.x),cc(r.y,s.offset.y)),r}const SI=()=>({translate:0,scale:1,origin:0,originPoint:0}),dc=()=>({x:SI(),y:SI()}),EI=()=>({min:0,max:0}),rn=()=>({x:EI(),y:EI()}),ax={current:null},Q4={current:!1};function Pee(){if(Q4.current=!0,!!lC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ax.current=t.matches;t.addEventListener("change",e),e()}else ax.current=!1}const Dee=new WeakMap;function Aee(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Un(s))t.addValue(r,s);else if(Un(i))t.addValue(r,Oc(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Oc(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const TI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Nee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=TC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=cr.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Ct.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=av(n),this.isVariantNode=j4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const k=g[v];c[v]!==void 0&&Un(k)&&k.set(c[v])}}mount(e){var n;this.current=e,Dee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),Q4.current||Pee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ax.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),fo(this.notifyUpdate),fo(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Jc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Lc){const n=Lc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<TI.length;r++){const s=TI[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Aee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Oc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(VR(r)||$R(r))?r=parseFloat(r):!HZ(r)&&po.test(n)&&(r=E4(e,n)),this.setBaseTarget(e,Un(r)?r.get():r)),Un(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=OC(this.props,r,(n=this.presenceContext)==null?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Un(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new pC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){PC.render(this.render)}}class X4 extends Nee{constructor(){super(...arguments),this.KeyframeResolver=NZ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Y4(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function Mee(t){return window.getComputedStyle(t)}class jee extends X4{constructor(){super(...arguments),this.type="html",this.renderInstance=Y4}readValueFromInstance(e,n){var r;if(Jc.has(n))return(r=this.projection)!=null&&r.isProjecting?Yb(n):YJ(e,n);{const s=Mee(e),i=(yC(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return W4(e,n)}build(e,n,r){MC(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return LC(e,n,r)}}const J4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ree(t,e,n,r){Y4(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(J4.has(s)?s:FC(s),e.attrs[s])}class Oee extends X4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Jc.has(n)){const r=S4(n);return r&&r.default||0}return n=J4.has(n)?n:FC(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return z4(e,n,r)}build(e,n,r){L4(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){Ree(e,n,r,s)}mount(e){this.isSVGTag=B4(e.tagName),super.mount(e)}}const Lee=(t,e)=>RC(t)?new Oee(e):new jee(e,{allowProjection:t!==C.Fragment});function bc(t,e,n){const r=t.getProps();return OC(r,e,n!==void 0?n:r.custom,t)}const ox=t=>Array.isArray(t);function Fee(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Oc(n))}function Bee(t){return ox(t)?t[t.length-1]||0:t}function Uee(t,e){const n=bc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const u=Bee(i[o]);Fee(t,o,u)}}function zee(t){return!!(Un(t)&&t.add)}function lx(t,e){const n=t.getValue("willChange");if(zee(n))return n.add(e);if(!n&&Xi.WillChange){const r=new Xi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Z4(t){return t.props[V4]}const Vee=t=>t!==null;function qee(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Vee),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const $ee={type:"spring",stiffness:500,damping:25,restSpeed:10},Hee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Kee={type:"keyframes",duration:.8},Gee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wee=(t,{keyframes:e})=>e.length>2?Kee:Jc.has(t)?t.startsWith("scale")?Hee(e[1]):$ee:Gee;function Qee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:u,from:c,elapsed:d,...p}){return!!Object.keys(p).length}const BC=(t,e,n,r={},s,i)=>o=>{const u=_C(r,t)||{},c=u.delay||r.delay||0;let{elapsed:d=0}=r;d=d-ti(c);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-d,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:s};Qee(u)||Object.assign(p,Wee(t,p)),p.duration&&(p.duration=ti(p.duration)),p.repeatDelay&&(p.repeatDelay=ti(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(nx(p),p.delay===0&&(g=!0)),(Xi.instantAnimations||Xi.skipAnimations)&&(g=!0,nx(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!i&&e.get()!==void 0){const v=qee(p.keyframes,u);if(v!==void 0){Ct.update(()=>{p.onUpdate(v),p.onComplete()});return}}return u.isSync?new EC(p):new bZ(p)};function Xee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function eO(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...u}=e;r&&(i=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),v=u[p];if(v===void 0||d&&Xee(d,p))continue;const k={delay:n,..._C(i||{},p)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===_&&!k.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const D=Z4(t);if(D){const N=window.MotionHandoffAnimation(D,p,Ct);N!==null&&(k.startTime=N,E=!0)}}lx(t,p),g.start(BC(p,g,v,t.shouldReduceMotion&&x4.has(p)?{type:!1}:k,t,E));const T=g.animation;T&&c.push(T)}return o&&Promise.all(c).then(()=>{Ct.update(()=>{o&&Uee(t,o)})}),c}function tO(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),o=t.size,u=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:u-i*r}function ux(t,e,n={}){var r;const s=bc(t,e,n.type==="exit"?(r=t.presenceContext)==null?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(eO(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=i;return Yee(t,e,d,p,g,v,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,p]=c==="beforeChildren"?[o,u]:[u,o];return d().then(()=>p())}else return Promise.all([o(),u(n.delay)])}function Yee(t,e,n=0,r=0,s=0,i=1,o){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(ux(c,e,{...o,delay:n+(typeof r=="function"?0:r)+tO(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function Jee(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>ux(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=ux(t,e,n);else{const s=typeof e=="function"?bc(t,e,n.custom):e;r=Promise.all(eO(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function nO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Zee=NC.length;function rO(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?rO(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Zee;n++){const r=NC[n],s=t.props[r];(pf(s)||s===!1)&&(e[r]=s)}return e}const ete=[...AC].reverse(),tte=AC.length;function nte(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Jee(t,n,r)))}function rte(t){let e=nte(t),n=_I(),r=!0;const s=c=>(d,p)=>{var g;const v=bc(t,p,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(v){const{transition:k,transitionEnd:_,...E}=v;d={...d,...E,..._}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,p=rO(t.parent)||{},g=[],v=new Set;let k={},_=1/0;for(let T=0;T<tte;T++){const D=ete[T],N=n[D],R=d[D]!==void 0?d[D]:p[D],U=pf(R),V=D===c?N.isActive:null;V===!1&&(_=T);let K=R===p[D]&&R!==d[D]&&U;if(K&&r&&t.manuallyAnimateOnMount&&(K=!1),N.protectedKeys={...k},!N.isActive&&V===null||!R&&!N.prevProp||iv(R)||typeof R=="boolean")continue;const M=ste(N.prevProp,R);let I=M||D===c&&N.isActive&&!K&&U||T>_&&U,A=!1;const O=Array.isArray(R)?R:[R];let B=O.reduce(s(D),{});V===!1&&(B={});const{prevResolvedValues:q={}}=N,L={...q,...B},Se=ye=>{I=!0,v.has(ye)&&(A=!0,v.delete(ye)),N.needsAnimating[ye]=!0;const ve=t.getValue(ye);ve&&(ve.liveStyle=!1)};for(const ye in L){const ve=B[ye],W=q[ye];if(k.hasOwnProperty(ye))continue;let ne=!1;ox(ve)&&ox(W)?ne=!nO(ve,W):ne=ve!==W,ne?ve!=null?Se(ye):v.add(ye):ve!==void 0&&v.has(ye)?Se(ye):N.protectedKeys[ye]=!0}N.prevProp=R,N.prevResolvedValues=B,N.isActive&&(k={...k,...B}),r&&t.blockInitialAnimation&&(I=!1);const Ne=K&&M;I&&(!Ne||A)&&g.push(...O.map(ye=>{const ve={type:D};if(typeof ye=="string"&&r&&!Ne&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,ne=bc(W,ye);if(W.enteringChildren&&ne){const{delayChildren:ae}=ne.transition||{};ve.delay=tO(W.enteringChildren,t,ae)}}return{animation:ye,options:ve}}))}if(v.size){const T={};if(typeof d.initial!="boolean"){const D=bc(t,Array.isArray(d.initial)?d.initial[0]:d.initial);D&&D.transition&&(T.transition=D.transition)}v.forEach(D=>{const N=t.getBaseTarget(D),R=t.getValue(D);R&&(R.liveStyle=!0),T[D]=N??null}),g.push({animation:T})}let E=!!g.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(g):Promise.resolve()}function u(c,d){var p;if(n[c].isActive===d)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(v=>{var k;return(k=v.animationState)==null?void 0:k.setActive(c,d)}),n[c].isActive=d;const g=o(c);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:o,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=_I()}}}function ste(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!nO(e,t):!1}function rl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _I(){return{animate:rl(!0),whileInView:rl(),whileHover:rl(),whileTap:rl(),whileDrag:rl(),whileFocus:rl(),exit:rl()}}class wo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ite extends wo{constructor(e){super(e),e.animationState||(e.animationState=rte(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();iv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let ate=0;class ote extends wo{constructor(){super(...arguments),this.id=ate++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const lte={animation:{Feature:ite},exit:{Feature:ote}};function gf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Hf(t){return{point:{x:t.pageX,y:t.pageY}}}const ute=t=>e=>DC(e)&&t(e,Hf(e));function Od(t,e,n,r){return gf(t,e,ute(n),r)}const sO=1e-4,cte=1-sO,hte=1+sO,iO=.01,dte=0-iO,fte=0+iO;function Gn(t){return t.max-t.min}function pte(t,e,n){return Math.abs(t-e)<=n}function II(t,e,n,r=.5){t.origin=r,t.originPoint=_t(e.min,e.max,t.origin),t.scale=Gn(n)/Gn(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=cte&&t.scale<=hte||isNaN(t.scale))&&(t.scale=1),(t.translate>=dte&&t.translate<=fte||isNaN(t.translate))&&(t.translate=0)}function Ld(t,e,n,r){II(t.x,e.x,n.x,r?r.originX:void 0),II(t.y,e.y,n.y,r?r.originY:void 0)}function PI(t,e,n){t.min=n.min+e.min,t.max=t.min+Gn(e)}function mte(t,e,n){PI(t.x,e.x,n.x),PI(t.y,e.y,n.y)}function DI(t,e,n){t.min=e.min-n.min,t.max=t.min+Gn(e)}function Fd(t,e,n){DI(t.x,e.x,n.x),DI(t.y,e.y,n.y)}function Vr(t){return[t("x"),t("y")]}const aO=({current:t})=>t?t.ownerDocument.defaultView:null,AI=(t,e)=>Math.abs(t-e);function gte(t,e){const n=AI(t.x,e.x),r=AI(t.y,e.y);return Math.sqrt(n**2+r**2)}class oO{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Aw(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,_=gte(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!_)return;const{point:E}=v,{timestamp:T}=_n;this.history.push({...E,timestamp:T});const{onStart:D,onMove:N}=this.handlers;k||(D&&D(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,v)},this.handlePointerMove=(v,k)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Dw(k,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(v,k)=>{this.end();const{onEnd:_,onSessionEnd:E,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Aw(v.type==="pointercancel"?this.lastMoveEventInfo:Dw(k,this.transformPagePoint),this.history);this.startEvent&&_&&_(v,D),E&&E(v,D)},!DC(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const u=Hf(e),c=Dw(u,this.transformPagePoint),{point:d}=c,{timestamp:p}=_n;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Aw(c,this.history)),this.removeListeners=Vf(Od(this.contextWindow,"pointermove",this.handlePointerMove),Od(this.contextWindow,"pointerup",this.handlePointerUp),Od(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fo(this.updatePoint)}}function Dw(t,e){return e?{point:e(t.point)}:t}function NI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Aw({point:t},e){return{point:t,delta:NI(t,lO(e)),offset:NI(t,yte(e)),velocity:vte(e,.1)}}function yte(t){return t[0]}function lO(t){return t[t.length-1]}function vte(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=lO(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ti(e)));)n--;if(!r)return{x:0,y:0};const i=Wr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function wte(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_t(n,t,r.max):Math.min(t,n)),t}function MI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function bte(t,{top:e,left:n,bottom:r,right:s}){return{x:MI(t.x,n,s),y:MI(t.y,e,r)}}function jI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function xte(t,e){return{x:jI(t.x,e.x),y:jI(t.y,e.y)}}function Cte(t,e){let n=.5;const r=Gn(t),s=Gn(e);return s>r?n=hf(e.min,e.max-r,t.min):r>s&&(n=hf(t.min,t.max-s,e.min)),Qi(0,1,n)}function kte(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const cx=.35;function Ste(t=cx){return t===!1?t=0:t===!0&&(t=cx),{x:RI(t,"left","right"),y:RI(t,"top","bottom")}}function RI(t,e,n){return{min:OI(t,e),max:OI(t,n)}}function OI(t,e){return typeof t=="number"?t:t[e]||0}const Ete=new WeakMap;class Tte{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hf(g).point)},o=(g,v)=>{const{drag:k,dragPropagation:_,onDragStart:E}=this.getProps();if(k&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LZ(k),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vr(D=>{let N=this.getAxisMotionValue(D).get()||0;if(ni.test(N)){const{projection:R}=this.visualElement;if(R&&R.layout){const U=R.layout.layoutBox[D];U&&(N=Gn(U)*(parseFloat(N)/100))}}this.originPoint[D]=N}),E&&Ct.postRender(()=>E(g,v)),lx(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:k,dragDirectionLock:_,onDirectionLock:E,onDrag:T}=this.getProps();if(!k&&!this.openDragLock)return;const{offset:D}=v;if(_&&this.currentDirection===null){this.currentDirection=_te(D),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",v.point,D),this.updateAxis("y",v.point,D),this.visualElement.render(),T&&T(g,v)},c=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Vr(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new oO(e,{onSessionStart:i,onStart:o,onMove:u,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:aO(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&Ct.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!jm(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=wte(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,i=this.constraints;n&&uc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=bte(s.layoutBox,n):this.constraints=!1,this.elastic=Ste(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Vr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=kte(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!uc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Iee(r,s.root,this.visualElement.getTransformPagePoint());let o=xte(s.layout.layoutBox,i);if(n){const u=n(Eee(o));this.hasMutatedConstraints=!!u,u&&(o=H4(u))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},d=Vr(p=>{if(!jm(p,n,this.currentDirection))return;let g=c&&c[p]||{};o&&(g={min:0,max:0});const v=s?200:1e6,k=s?40:1e7,_={type:"inertia",velocity:r?e[p]:0,bounceStiffness:v,bounceDamping:k,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(p,_)});return Promise.all(d).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return lx(this.visualElement,e),r.start(BC(e,r,0,n,this.visualElement,!1))}stopAnimation(){Vr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vr(n=>{const{drag:r}=this.getProps();if(!jm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:u}=s.layout.layoutBox[n];i.set(e[n]-_t(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!uc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Vr(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const c=u.get();s[o]=Cte({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vr(o=>{if(!jm(o,e,null))return;const u=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];u.set(_t(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;Ete.set(this.visualElement,this);const e=this.visualElement.current,n=Od(e,"pointerdown",c=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();uc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ct.read(r);const o=gf(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Vr(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=c[p].translate,g.set(g.get()+c[p].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=cx,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:u}}}function jm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _te(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Ite extends wo{constructor(e){super(e),this.removeGroupControls=Yr,this.removeListeners=Yr,this.controls=new Tte(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yr}unmount(){this.removeGroupControls(),this.removeListeners()}}const LI=t=>(e,n)=>{t&&Ct.postRender(()=>t(e,n))};class Pte extends wo{constructor(){super(...arguments),this.removePointerDownListener=Yr}onPointerDown(e){this.session=new oO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:LI(e),onStart:LI(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Ct.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Od(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ug={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function FI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const pd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=FI(t,e.target.x),r=FI(t,e.target.y);return`${n}% ${r}%`}},Dte={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=po.parse(t);if(s.length>5)return r;const i=po.createTransformer(t),o=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=u,s[1+o]/=c;const d=_t(u,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};let Nw=!1;class Ate extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;ZZ(Nte),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Nw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ug.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Nw=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Ct.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),PC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Nw=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function uO(t){const[e,n]=KZ(),r=C.useContext(zR);return x.jsx(Ate,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(q4),isPresent:e,safeToRemove:n})}const Nte={borderRadius:{...pd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pd,borderTopRightRadius:pd,borderBottomLeftRadius:pd,borderBottomRightRadius:pd,boxShadow:Dte};function Mte(t,e,n){const r=Un(t)?t:Oc(t);return r.start(BC("",r,e,n)),r.animation}const jte=(t,e)=>t.depth-e.depth;class Rte{constructor(){this.children=[],this.isDirty=!1}add(e){cC(this.children,e),this.isDirty=!0}remove(e){hC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jte),this.isDirty=!1,this.children.forEach(e)}}function Ote(t,e){const n=cr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(fo(r),t(i-e))};return Ct.setup(r,!0),()=>fo(r)}const cO=["TopLeft","TopRight","BottomLeft","BottomRight"],Lte=cO.length,BI=t=>typeof t=="string"?parseFloat(t):t,UI=t=>typeof t=="number"||Oe.test(t);function Fte(t,e,n,r,s,i){s?(t.opacity=_t(0,n.opacity??1,Bte(r)),t.opacityExit=_t(e.opacity??1,0,Ute(r))):i&&(t.opacity=_t(e.opacity??1,n.opacity??1,r));for(let o=0;o<Lte;o++){const u=`border${cO[o]}Radius`;let c=zI(e,u),d=zI(n,u);c===void 0&&d===void 0||(c||(c=0),d||(d=0),c===0||d===0||UI(c)===UI(d)?(t[u]=Math.max(_t(BI(c),BI(d),r),0),(ni.test(d)||ni.test(c))&&(t[u]+="%")):t[u]=d)}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,r))}function zI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Bte=hO(0,.5,JR),Ute=hO(.5,.95,Yr);function hO(t,e,n){return r=>r<t?0:r>e?1:n(hf(t,e,r))}function VI(t,e){t.min=e.min,t.max=e.max}function Ur(t,e){VI(t.x,e.x),VI(t.y,e.y)}function qI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function $I(t,e,n,r,s){return t-=e,t=sy(t,1/n,r),s!==void 0&&(t=sy(t,1/s,r)),t}function zte(t,e=0,n=1,r=.5,s,i=t,o=t){if(ni.test(e)&&(e=parseFloat(e),e=_t(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=_t(i.min,i.max,r);t===i&&(u-=e),t.min=$I(t.min,e,n,u,s),t.max=$I(t.max,e,n,u,s)}function HI(t,e,[n,r,s],i,o){zte(t,e[n],e[r],e[s],e.scale,i,o)}const Vte=["x","scaleX","originX"],qte=["y","scaleY","originY"];function KI(t,e,n,r){HI(t.x,e,Vte,n?n.x:void 0,r?r.x:void 0),HI(t.y,e,qte,n?n.y:void 0,r?r.y:void 0)}function GI(t){return t.translate===0&&t.scale===1}function dO(t){return GI(t.x)&&GI(t.y)}function WI(t,e){return t.min===e.min&&t.max===e.max}function $te(t,e){return WI(t.x,e.x)&&WI(t.y,e.y)}function QI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function fO(t,e){return QI(t.x,e.x)&&QI(t.y,e.y)}function XI(t){return Gn(t.x)/Gn(t.y)}function YI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Hte{constructor(){this.members=[]}add(e){cC(this.members,e),e.scheduleRender()}remove(e){if(hC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Kte(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:p,rotateX:g,rotateY:v,skewX:k,skewY:_}=n;d&&(r=`perspective(${d}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),k&&(r+=`skewX(${k}deg) `),_&&(r+=`skewY(${_}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const Mw=["","X","Y","Z"],Gte=1e3;let Wte=0;function jw(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function pO(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Z4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ct,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&pO(r)}function mO({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},o=e==null?void 0:e()){this.id=Wte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Yte),this.nodes.forEach(tne),this.nodes.forEach(nne),this.nodes.forEach(Jte)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Rte)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new pC),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const u=this.eventHandlers.get(i);u&&u.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=D4(i)&&!qZ(i),this.instance=i;const{layoutId:o,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||o)&&(this.isLayoutDirty=!0),t){let d,p=0;const g=()=>this.root.updateBlockedByResize=!1;Ct.read(()=>{p=window.innerWidth}),t(i,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,d&&d(),d=Ote(g,250),ug.hasAnimatedSinceResize&&(ug.hasAnimatedSinceResize=!1,this.nodes.forEach(eP)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||c.getDefaultTransition()||one,{onLayoutAnimationStart:_,onLayoutAnimationComplete:E}=c.getProps(),T=!this.targetLayout||!fO(this.targetLayout,v),D=!p&&g;if(this.options.layoutRoot||this.resumeFrom||D||p&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={..._C(k,"layout"),onPlay:_,onComplete:E};(c.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(d,D)}else p||eP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rne),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&pO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(JI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ZI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ene),this.nodes.forEach(Qte),this.nodes.forEach(Xte)):this.nodes.forEach(ZI),this.clearAllSnapshots();const i=cr.now();_n.delta=Qi(0,1e3/60,i-_n.timestamp),_n.timestamp=i,_n.isProcessing=!0,Cw.update.process(_n),Cw.preRender.process(_n),Cw.render.process(_n),_n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,PC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Zte),this.sharedNodes.forEach(sne)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gn(this.snapshot.measuredBox.x)&&!Gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!dO(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&this.instance&&(o||ll(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return i&&(u=this.removeTransform(u)),lne(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:o}=this.options;if(!o)return rn();const u=o.measureViewportBox();if(!((i=this.scroll)!=null&&i.wasRoot||this.path.some(une))){const{scroll:c}=this.root;c&&(cc(u.x,c.offset.x),cc(u.y,c.offset.y))}return u}removeElementScroll(i){var o;const u=rn();if(Ur(u,i),(o=this.scroll)!=null&&o.wasRoot)return u;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:p,options:g}=d;d!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Ur(u,i),cc(u.x,p.offset.x),cc(u.y,p.offset.y))}return u}applyTransform(i,o=!1){const u=rn();Ur(u,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&hc(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ll(d.latestValues)&&hc(u,d.latestValues)}return ll(this.latestValues)&&hc(u,this.latestValues),u}removeTransform(i){const o=rn();Ur(o,i);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!ll(c.latestValues))continue;sx(c.latestValues)&&c.updateSnapshot();const d=rn(),p=c.measurePageBox();Ur(d,p),KI(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ll(this.latestValues)&&KI(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(o=this.parent)!=null&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=_n.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),Fd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rn(),this.targetWithTransforms=rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ur(this.target,this.layout.layoutBox),G4(this.target,this.targetDelta)):Ur(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),Fd(this.relativeTargetOrigin,this.target,g.target),Ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||sx(this.parent.latestValues)||K4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(i=this.parent)!=null&&i.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===_n.timestamp&&(c=!1),c)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;Ur(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;_ee(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=rn());const{target:k}=o;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qI(this.prevProjectionDelta.x,this.projectionDelta.x),qI(this.prevProjectionDelta.y,this.projectionDelta.y)),Ld(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!YI(this.projectionDelta.x,this.prevProjectionDelta.x)||!YI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),i){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dc(),this.projectionDelta=dc(),this.projectionDeltaWithTransform=dc()}setAnimationOrigin(i,o=!1){const u=this.snapshot,c=u?u.latestValues:{},d={...this.latestValues},p=dc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=rn(),v=u?u.source:void 0,k=this.layout?this.layout.source:void 0,_=v!==k,E=this.getStack(),T=!E||E.members.length<=1,D=!!(_&&!T&&this.options.crossfade===!0&&!this.path.some(ane));this.animationProgress=0;let N;this.mixTargetDelta=R=>{const U=R/1e3;tP(p.x,i.x,U),tP(p.y,i.y,U),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fd(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ine(this.relativeTarget,this.relativeTargetOrigin,g,U),N&&$te(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=rn()),Ur(N,this.relativeTarget)),_&&(this.animationValues=d,Fte(d,c,this.latestValues,U,D,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var o,u,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(fo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update(()=>{ug.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Oc(0)),this.currentAnimation=Mte(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gte),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:u,layout:c,latestValues:d}=i;if(!(!o||!u||!c)){if(this!==i&&this.layout&&c&&gO(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||rn();const p=Gn(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+p;const g=Gn(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+g}Ur(o,u),hc(o,d),Ld(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Hte),this.sharedNodes.get(i).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())==null?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())==null?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:u}=i;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const c={};u.z&&jw("z",i,c,this.animationValues);for(let d=0;d<Mw.length;d++)jw(`rotate${Mw[d]}`,i,c,this.animationValues),jw(`skew${Mw[d]}`,i,c,this.animationValues);i.render();for(const d in c)i.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);i.scheduleRender()}applyProjectionStyles(i,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=lg(o==null?void 0:o.pointerEvents)||"",i.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=lg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ll(this.latestValues)&&(i.transform=u?u({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let p=Kte(this.projectionDeltaWithTransform,this.treeScale,d);u&&(p=u(d,p)),i.transform=p;const{x:g,y:v}=this.projectionDelta;i.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,c.animationValues?i.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const k in mf){if(d[k]===void 0)continue;const{correct:_,applyTo:E,isCSSVariable:T}=mf[k],D=p==="none"?d[k]:_(d[k],c);if(E){const N=E.length;for(let R=0;R<N;R++)i[E[R]]=D}else T?this.options.visualElement.renderState.vars[k]=D:i[k]=D}this.options.layoutId&&(i.pointerEvents=c===this?lg(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(JI),this.root.sharedNodes.clear()}}}function Qte(t){t.updateLayout()}function Xte(t){var e;const n=((e=t.resumeFrom)==null?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Vr(g=>{const v=o?n.measuredBox[g]:n.layoutBox[g],k=Gn(v);v.min=r[g].min,v.max=v.min+k}):gO(i,n.layoutBox,r)&&Vr(g=>{const v=o?n.measuredBox[g]:n.layoutBox[g],k=Gn(r[g]);v.max=v.min+k,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+k)});const u=dc();Ld(u,r,n.layoutBox);const c=dc();o?Ld(c,t.applyTransform(s,!0),n.measuredBox):Ld(c,r,n.layoutBox);const d=!dO(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:k}=g;if(v&&k){const _=rn();Fd(_,n.layoutBox,v.layoutBox);const E=rn();Fd(E,r,k.layoutBox),fO(_,E)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=_,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Yte(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Jte(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Zte(t){t.clearSnapshot()}function JI(t){t.clearMeasurements()}function ZI(t){t.isLayoutDirty=!1}function ene(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function eP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function tne(t){t.resolveTargetDelta()}function nne(t){t.calcProjection()}function rne(t){t.resetSkewAndRotation()}function sne(t){t.removeLeadSnapshot()}function tP(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function nP(t,e,n,r){t.min=_t(e.min,n.min,r),t.max=_t(e.max,n.max,r)}function ine(t,e,n,r){nP(t.x,e.x,n.x,r),nP(t.y,e.y,n.y,r)}function ane(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const one={duration:.45,ease:[.4,0,.1,1]},rP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sP=rP("applewebkit/")&&!rP("chrome/")?Math.round:Yr;function iP(t){t.min=sP(t.min),t.max=sP(t.max)}function lne(t){iP(t.x),iP(t.y)}function gO(t,e,n){return t==="position"||t==="preserve-aspect"&&!pte(XI(e),XI(n),.2)}function une(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const cne=mO({attachResizeListener:(t,e)=>gf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rw={current:void 0},yO=mO({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Rw.current){const t=new cne({});t.mount(window),t.setOptions({layoutScroll:!0}),Rw.current=t}return Rw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hne={pan:{Feature:Pte},drag:{Feature:Ite,ProjectionNode:yO,MeasureLayout:uO}};function aP(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ct.postRender(()=>i(e,Hf(e)))}class dne extends wo{mount(){const{current:e}=this.node;e&&(this.unmount=FZ(e,(n,r)=>(aP(this.node,r,"Start"),s=>aP(this.node,s,"End"))))}unmount(){}}class fne extends wo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vf(gf(this.node.current,"focus",()=>this.onFocus()),gf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oP(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ct.postRender(()=>i(e,Hf(e)))}class pne extends wo{mount(){const{current:e}=this.node;e&&(this.unmount=VZ(e,(n,r)=>(oP(this.node,r,"Start"),(s,{success:i})=>oP(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hx=new WeakMap,Ow=new WeakMap,mne=t=>{const e=hx.get(t.target);e&&e(t)},gne=t=>{t.forEach(mne)};function yne({root:t,...e}){const n=t||document;Ow.has(n)||Ow.set(n,{});const r=Ow.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(gne,{root:t,...e})),r[s]}function vne(t,e,n){const r=yne(e);return hx.set(t,n),r.observe(t),()=>{hx.delete(t),r.unobserve(t)}}const wne={some:0,all:1};class bne extends wo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:wne[s]},u=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=d?p:g;v&&v(c)};return vne(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(xne(e,n))&&this.startObserver()}unmount(){}}function xne({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Cne={inView:{Feature:bne},tap:{Feature:pne},focus:{Feature:fne},hover:{Feature:dne}},kne={layout:{ProjectionNode:yO,MeasureLayout:uO}},Sne={...lte,...Cne,...hne,...kne},nn=See(Sne,Lee);function dx(){const t=M1(),{user:e,loading:n}=K1(),[r,s]=pn.useState(!1);C.useEffect(()=>{!n&&e&&t(nt("Home"))},[e,n,t]);const i=()=>{e?t(nt("Home")):s(!0)};if(n)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-white",children:"Loading..."})]})});const o=[{icon:A$,title:"12 Math Concepts",description:"Addition, subtraction, multiplication, division, fractions, decimals, percentages, geometry & more!",gradient:"from-blue-400 to-cyan-500",emoji:""},{icon:Zm,title:"AI Math Tutor",description:"Stuck on a problem? Get instant help with step-by-step explanations!",gradient:"from-purple-400 to-pink-500",emoji:""},{icon:Pb,title:"Daily Challenges",description:"New challenges every day! Compete for bonus stars and climb the leaderboard!",gradient:"from-yellow-400 to-orange-500",emoji:""},{icon:aw,title:"Earn Rewards",description:"Collect stars and coins to unlock cool avatar items, pets, badges, and power-ups!",gradient:"from-green-400 to-emerald-500",emoji:""},{icon:Db,title:"Team Challenges",description:"Team up with friends and family to complete challenges together!",gradient:"from-indigo-400 to-purple-500",emoji:""},{icon:H$,title:"Safe & Secure",description:"Advanced parental controls, time limits, and content filtering for peace of mind",gradient:"from-red-400 to-pink-500",emoji:""}],u=[{emoji:"",name:"Addition",grade:"K-4"},{emoji:"",name:"Subtraction",grade:"K-4"},{emoji:"",name:"Multiplication",grade:"2-5"},{emoji:"",name:"Division",grade:"3-6"},{emoji:"",name:"Fractions",grade:"3-6"},{emoji:"0.5",name:"Decimals",grade:"4-7"},{emoji:"%",name:"Percentages",grade:"5-8"},{emoji:"",name:"Word Problems",grade:"2-6"},{emoji:"",name:"Money Math",grade:"1-5"},{emoji:"",name:"Time",grade:"1-4"},{emoji:"",name:"Geometry",grade:"3-7"},{emoji:"",name:"Mixed",grade:"3-8"}],c=[{text:"My kids actually BEG to practice math now! They love earning stars and unlocking new pets. Best $1 we've ever spent!",author:"Sarah M.",role:"Parent of 2 (Ages 7 & 9)",rating:5,emoji:""},{text:"The AI tutor is incredible! It explains things in a way my students actually understand. My whole class is hooked!",author:"Mr. Johnson",role:"3rd Grade Teacher",rating:5,emoji:""},{text:"I used to hate math but now it's FUN! I got the dragon pet and I'm on a 12-day streak! ",author:"Emma, Age 9",role:"Student & Math Champion",rating:5,emoji:""}],d=[{icon:Pb,value:"10,000+",label:"Games Played Daily",color:"text-yellow-600"},{icon:aw,value:"50,000+",label:"Stars Earned",color:"text-purple-600"},{icon:Db,value:"1,000+",label:"Happy Learners",color:"text-blue-600"},{icon:u2,value:"100%",label:"Fun Guaranteed",color:"text-pink-600"}],p=[{emoji:"",name:"Dragon Pet",desc:"Levels up with you!"},{emoji:"",name:"Crown",desc:"Show you're a champion!"},{emoji:"",name:"Custom Avatar",desc:"100+ items to unlock!"},{emoji:"",name:"Power-Ups",desc:"Time freeze, hints & more!"}];return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx(nn.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-20",children:""}),x.jsx(nn.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-40 right-20 text-7xl opacity-20",children:""}),x.jsx(nn.div,{animate:{y:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-40 text-5xl opacity-20",children:""}),x.jsx(nn.div,{animate:{x:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 right-10 text-6xl opacity-20",children:""})]}),x.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 md:py-20",children:x.jsxs("div",{className:"text-center",children:[x.jsx(nn.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"inline-block mb-8",children:x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl transform rotate-12 animate-pulse overflow-hidden",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-24 h-24 object-contain transform -rotate-12"})}),x.jsx(nn.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 text-4xl",children:""}),x.jsx(nn.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -left-2 text-4xl",children:""})]})}),x.jsx(nn.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 text-white drop-shadow-2xl",children:"Math is FUN Now! "}),x.jsx(nn.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl text-white mb-4 max-w-3xl mx-auto font-bold drop-shadow-lg",children:"Learn  Play  Earn Rewards  Level Up!"}),x.jsxs(nn.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[x.jsxs(qr,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 text-lg font-bold shadow-xl border-0 animate-pulse",children:[x.jsx(y$,{className:"w-5 h-5 mr-2"}),"7-Day FREE Trial - All Features!"]}),x.jsxs(qr,{className:"bg-white text-pink-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(u2,{className:"w-5 h-5 mr-2"}),"Kids LOVE It!"]}),x.jsxs(qr,{className:"bg-white text-blue-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(IM,{className:"w-5 h-5 mr-2"}),"AI-Powered"]})]}),x.jsxs(nn.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[x.jsxs(Zs,{onClick:i,className:"h-20 px-12 text-2xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:[x.jsx(V$,{className:"w-8 h-8 mr-3"}),"START FREE NOW! "]}),x.jsxs(Zs,{onClick:()=>{var g;return(g=document.getElementById("features"))==null?void 0:g.scrollIntoView({behavior:"smooth"})},className:"h-20 px-10 text-xl font-bold border-4 border-white text-white bg-transparent hover:bg-white hover:text-purple-600 shadow-xl transition-all",children:["See What's Inside",x.jsx(r$,{className:"w-6 h-6 ml-2"})]})]}),x.jsx(nn.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:d.map((g,v)=>{const k=g.icon;return x.jsxs(nn.div,{whileHover:{scale:1.05},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border-4 border-yellow-300",children:[x.jsx(k,{className:`w-10 h-10 mx-auto mb-3 ${g.color}`}),x.jsx("div",{className:"text-3xl font-black text-gray-800",children:g.value}),x.jsx("div",{className:"text-sm font-bold text-gray-600 mt-1",children:g.label})]},v)})})]})}),x.jsxs("div",{style:{background:"linear-gradient(90deg, #6a11cb 0%, #2575fc 100%)",color:"#fff",padding:"14px 0 12px 0",textAlign:"center",fontWeight:"bold",fontSize:"1.1rem",letterSpacing:"0.01em",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.08)",borderBottom:"2px solid #fff",borderRadius:8,margin:"0 auto 24px auto",maxWidth:900},className:"mx-auto mb-8",children:[x.jsx("span",{role:"img","aria-label":"lightbulb",style:{marginRight:8},children:""}),"Best Experience: ",x.jsx("span",{style:{fontWeight:700},children:"Math Adventure"})," works best on ",x.jsx("span",{style:{textDecoration:"underline"},children:"tablets"})," and ",x.jsx("span",{style:{textDecoration:"underline"},children:"desktop computers"})," for optimal gameplay and features."]}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"What's Inside? Everything! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Your kids will love these amazing features!"})]}),x.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-16",children:p.map((g,v)=>x.jsxs(nn.div,{whileHover:{y:-10,scale:1.05},className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-8 text-center border-4 border-purple-300 shadow-xl",children:[x.jsx("div",{className:"text-7xl mb-4",children:g.emoji}),x.jsx("h3",{className:"font-black text-xl mb-2 text-purple-800",children:g.name}),x.jsx("p",{className:"text-gray-700 font-semibold",children:g.desc})]},v))}),x.jsxs("div",{className:"mb-16",children:[x.jsx("h3",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-gray-800",children:"12 Math Skills to Master! "}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:u.map((g,v)=>x.jsxs(nn.div,{whileHover:{scale:1.1,rotate:5},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 text-center border-3 border-blue-200 shadow-lg hover:shadow-2xl transition-all",children:[x.jsx("div",{className:"text-5xl mb-3",children:g.emoji}),x.jsx("div",{className:"font-bold text-sm text-gray-800",children:g.name}),x.jsx(qr,{className:"mt-2 bg-purple-500 text-white text-xs",children:g.grade})]},v))})]})]})}),x.jsx("div",{id:"features",className:"bg-gradient-to-br from-yellow-50 to-orange-50 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Why Kids Are OBSESSED! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Learning has never been this fun!"})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map((g,v)=>{const k=g.icon;return x.jsxs(nn.div,{whileHover:{y:-10},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300",children:[x.jsxs("div",{className:`h-32 bg-gradient-to-br ${g.gradient} flex items-center justify-center relative`,children:[x.jsx("div",{className:"text-7xl",children:g.emoji}),x.jsx("div",{className:"absolute top-3 right-3",children:x.jsx(k,{className:"w-10 h-10 text-white opacity-50"})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("h3",{className:"text-2xl font-black mb-3 text-gray-800",children:g.title}),x.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:g.description})]})]},v)})})]})}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"So Easy, Even Parents Can Do It! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Three simple steps to math mastery"})]}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[x.jsxs(nn.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-green-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-green-500",children:"1"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Pick & Play! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Choose a math topic and difficulty. Start playing in seconds!"})]}),x.jsxs(nn.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-blue-400 to-cyan-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-blue-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-blue-500",children:"2"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Learn & Win! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Solve problems, get AI help when stuck, earn stars & coins!"})]}),x.jsxs(nn.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-purple-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-purple-500",children:"3"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Unlock Rewards! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Buy avatars, pets, badges, power-ups and MORE!"})]})]})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Parents & Kids LOVE Us! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Don't just take our word for it..."})]}),x.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:c.map((g,v)=>x.jsxs(nn.div,{whileHover:{y:-10,scale:1.02},className:"bg-white rounded-3xl p-8 shadow-2xl border-4 border-purple-300",children:[x.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(g.rating)].map((k,_)=>x.jsx(aw,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"},_))}),x.jsx("div",{className:"text-6xl mb-4",children:g.emoji}),x.jsxs("p",{className:"text-gray-700 mb-6 italic font-semibold text-lg",children:['"',g.text,'"']}),x.jsxs("div",{children:[x.jsx("p",{className:"font-black text-lg text-gray-800",children:g.author}),x.jsx("p",{className:"text-sm text-gray-600 font-bold",children:g.role})]})]},v))})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 py-20",children:x.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[x.jsx(nn.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-8xl mb-8",children:""}),x.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 text-white drop-shadow-2xl",children:"Ready for Math Adventure?"}),x.jsx("p",{className:"text-3xl text-white mb-12 font-bold drop-shadow-lg",children:"Join 1,000+ kids having FUN with math!"}),x.jsxs(Zs,{onClick:i,className:"h-24 px-16 text-3xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-110 transition-all animate-pulse",children:[x.jsx(U$,{className:"w-10 h-10 mr-4"}),"LET'S GO! IT'S FREE! "]}),x.jsx("p",{className:"text-white mt-6 text-lg font-bold drop-shadow",children:" No credit card   Start in 30 seconds   100% kid-safe"})]})}),x.jsx("div",{className:"bg-gray-900 text-white py-8",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[x.jsx("div",{className:"mb-4 flex items-center justify-center",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-16 h-16 object-contain"})}),x.jsx("h3",{className:"text-3xl font-black mb-2",children:"Math Adventure"}),x.jsx("p",{className:"text-gray-400 mb-4 text-lg",children:"Making math fun, one game at a time! "}),x.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Math Adventure. Built with  for learners everywhere."})]})}),r&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[x.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:""}),x.jsx($M,{onSuccess:()=>t(nt("Home"))})]})})]})}const vO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD-CfwVKCbF-DwKF90JC-DVsm7u2y.js"),__vite__mapDeps([4,5,6,7,8,9,10,11,12,13,14,15,16])),Lt([4,5,6,7,8,9,10,11,12,13,14,15,16])),Bt([4,5,6,7,8,9,10,11,12,13,14,15,16])),zt([4,5,6,7,8,9,10,11,12,13,14,15,16])),qt([4,5,6,7,8,9,10,11,12,13,14,15,16])),Ht([4,5,6,7,8,9,10,11,12,13,14,15,16])),Gt([4,5,6,7,8,9,10,11,12,13,14,15,16])),Qt([4,5,6,7,8,9,10,11,12,13,14,15,16]))),wO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o-DlsB7OV4-CfhTL5-j-CxIqGyFn.js"),__vite__mapDeps([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Lt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Bt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),zt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),qt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Ht([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Gt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Qt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7]))),bO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk-DghFmtyw-DjB8J4yd-BQPqGAFS.js"),__vite__mapDeps([27,7,5,9,28,10,29])),Lt([27,7,5,9,28,10,29])),Bt([27,7,5,9,28,10,29])),zt([27,7,5,9,28,10,29])),qt([27,7,5,9,28,10,29])),Ht([27,7,5,9,28,10,29])),Gt([27,7,5,9,28,10,29])),Qt([27,7,5,9,28,10,29]))),xO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9-CbEJ5snd-CjkzqJFV-BjfMCE-B.js"),__vite__mapDeps([30,18,31,32,33,34,14,0,1,35,23])),Lt([30,18,31,32,33,34,14,0,1,35,23])),Bt([30,18,31,32,33,34,14,0,1,35,23])),zt([30,18,31,32,33,34,14,0,1,35,23])),qt([30,18,31,32,33,34,14,0,1,35,23])),Ht([30,18,31,32,33,34,14,0,1,35,23])),Gt([30,18,31,32,33,34,14,0,1,35,23])),Qt([30,18,31,32,33,34,14,0,1,35,23]))),CO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv-Bp24DiAJ-BrPJAgIo-xKg9mO9C.js"),__vite__mapDeps([36,18,1,19,20,10,37,24,26,5,7])),Lt([36,18,1,19,20,10,37,24,26,5,7])),Bt([36,18,1,19,20,10,37,24,26,5,7])),zt([36,18,1,19,20,10,37,24,26,5,7])),qt([36,18,1,19,20,10,37,24,26,5,7])),Ht([36,18,1,19,20,10,37,24,26,5,7])),Gt([36,18,1,19,20,10,37,24,26,5,7])),Qt([36,18,1,19,20,10,37,24,26,5,7]))),kO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr-Ffel_h2u-C8GXHf8T-CRzihMLV.js"),__vite__mapDeps([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Lt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Bt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),zt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),qt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Ht([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Gt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Qt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25]))),SO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u-CCYcbo7R-Oj5x0VMM-BSvNq37_.js"),__vite__mapDeps([45,18,32,0,1,14,29,25,16,7])),Lt([45,18,32,0,1,14,29,25,16,7])),Bt([45,18,32,0,1,14,29,25,16,7])),zt([45,18,32,0,1,14,29,25,16,7])),qt([45,18,32,0,1,14,29,25,16,7])),Ht([45,18,32,0,1,14,29,25,16,7])),Gt([45,18,32,0,1,14,29,25,16,7])),Qt([45,18,32,0,1,14,29,25,16,7]))),EO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb-uuJZ4FGW-ruYVavqy-CE5JpoGq.js"),__vite__mapDeps([46,18,32,47,9,7,12,10,37,44])),Lt([46,18,32,47,9,7,12,10,37,44])),Bt([46,18,32,47,9,7,12,10,37,44])),zt([46,18,32,47,9,7,12,10,37,44])),qt([46,18,32,47,9,7,12,10,37,44])),Ht([46,18,32,47,9,7,12,10,37,44])),Gt([46,18,32,47,9,7,12,10,37,44])),Qt([46,18,32,47,9,7,12,10,37,44]))),TO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4-BmOdg69B-CPQ46To1-CSgifZb6.js"),__vite__mapDeps([48,18,1,9,10])),Lt([48,18,1,9,10])),Bt([48,18,1,9,10])),zt([48,18,1,9,10])),qt([48,18,1,9,10])),Ht([48,18,1,9,10])),Gt([48,18,1,9,10])),Qt([48,18,1,9,10]))),_O=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f-MccA_3E3-DQhvjEee--Hurig4W.js"),__vite__mapDeps([49,18,6,23])),Lt([49,18,6,23])),Bt([49,18,6,23])),zt([49,18,6,23])),qt([49,18,6,23])),Ht([49,18,6,23])),Gt([49,18,6,23])),Qt([49,18,6,23]))),IO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN-oTa863JD-0sbYUKBU-CCITiMP4.js"),__vite__mapDeps([50,51,23,3,8])),Lt([50,51,23,3,8])),Bt([50,51,23,3,8])),zt([50,51,23,3,8])),qt([50,51,23,3,8])),Ht([50,51,23,3,8])),Gt([50,51,23,3,8])),Qt([50,51,23,3,8]))),PO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv-Dzw5lkMP-MKYQRKjk-7a1SNiNN.js"),__vite__mapDeps([52,51])),Lt([52,51])),Bt([52,51])),zt([52,51])),qt([52,51])),Ht([52,51])),Gt([52,51])),Qt([52,51]))),DO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC-CpqL9fon-Cde4ofN_-CHxxW_Er.js"),__vite__mapDeps([53,18,39,43,15,42])),Lt([53,18,39,43,15,42])),Bt([53,18,39,43,15,42])),zt([53,18,39,43,15,42])),qt([53,18,39,43,15,42])),Ht([53,18,39,43,15,42])),Gt([53,18,39,43,15,42])),Qt([53,18,39,43,15,42]))),AO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb-t4dmRNZn-07iJlHeK-Bz_4ad50.js"),__vite__mapDeps([54,18,40,41,34,26,16,12,13,43,21,3,55])),Lt([54,18,40,41,34,26,16,12,13,43,21,3,55])),Bt([54,18,40,41,34,26,16,12,13,43,21,3,55])),zt([54,18,40,41,34,26,16,12,13,43,21,3,55])),qt([54,18,40,41,34,26,16,12,13,43,21,3,55])),Ht([54,18,40,41,34,26,16,12,13,43,21,3,55])),Gt([54,18,40,41,34,26,16,12,13,43,21,3,55])),Qt([54,18,40,41,34,26,16,12,13,43,21,3,55]))),NO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7-Dcz3eR3L-8JW9s778-D0iRmiby.js"),__vite__mapDeps([56,41,20,16,43,10,12,13,55,21,23,42])),Lt([56,41,20,16,43,10,12,13,55,21,23,42])),Bt([56,41,20,16,43,10,12,13,55,21,23,42])),zt([56,41,20,16,43,10,12,13,55,21,23,42])),qt([56,41,20,16,43,10,12,13,55,21,23,42])),Ht([56,41,20,16,43,10,12,13,55,21,23,42])),Gt([56,41,20,16,43,10,12,13,55,21,23,42])),Qt([56,41,20,16,43,10,12,13,55,21,23,42]))),MO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q-BfTbXhxt-BVC_lLSA-BerRSVOV.js"),__vite__mapDeps([57,23,14])),Lt([57,23,14])),Bt([57,23,14])),zt([57,23,14])),qt([57,23,14])),Ht([57,23,14])),Gt([57,23,14])),Qt([57,23,14]))),jO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw-Cla6mJUP-D58jAMXH-B1gXMpXZ.js"),__vite__mapDeps([58,32,10,22,15,7,24,1,9,28,25,14,11])),Lt([58,32,10,22,15,7,24,1,9,28,25,14,11])),Bt([58,32,10,22,15,7,24,1,9,28,25,14,11])),zt([58,32,10,22,15,7,24,1,9,28,25,14,11])),qt([58,32,10,22,15,7,24,1,9,28,25,14,11])),Ht([58,32,10,22,15,7,24,1,9,28,25,14,11])),Gt([58,32,10,22,15,7,24,1,9,28,25,14,11])),Qt([58,32,10,22,15,7,24,1,9,28,25,14,11]))),RO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg-qnXeUsv8-CRQgaPIC-DpX4gqt2.js"),__vite__mapDeps([59,31,47,23])),Lt([59,31,47,23])),Bt([59,31,47,23])),zt([59,31,47,23])),qt([59,31,47,23])),Ht([59,31,47,23])),Gt([59,31,47,23])),Qt([59,31,47,23]))),OO=C.lazy(()=>Xt(()=>Wt(()=>Kt(()=>$t(()=>Vt(()=>Ut(()=>Ft(()=>Ot(()=>import("./Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499-NSoB4kZx-C1AH7B5I-CxZluI_D.js"),__vite__mapDeps([60,51])),Lt([60,51])),Bt([60,51])),zt([60,51])),qt([60,51])),Ht([60,51])),Gt([60,51])),Qt([60,51]))),lP={Home:vO,Game:wO,Progress:bO,Avatar:xO,DailyChallenge:CO,ParentPortal:kO,Shop:SO,Leaderboards:EO,TeamChallenges:TO,Subscription:_O,GenerateIcons:IO,TestIconGeneration:PO,Landing:dx,Messages:DO,ColorByNumbers:AO,Settings:NO,PrivacyPolicy:MO,AITutor:jO,AdminTestAccount:RO,Subscribe:OO};function Ene(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(lP).find(n=>n.toLowerCase()===e.toLowerCase())||Object.keys(lP)[0]}const Tne=()=>x.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-gray-600",children:"Loading..."})]})});function _ne(){const t=na(),e=Ene(t.pathname);return x.jsx(UY,{currentPageName:e,children:x.jsx(ig,{children:x.jsx(C.Suspense,{fallback:x.jsx(Tne,{}),children:x.jsxs(R7,{children:[x.jsx(Nt,{path:"/",element:x.jsx(dx,{})}),x.jsx(Nt,{path:"/Home",element:x.jsx(vO,{})}),x.jsx(Nt,{path:"/Game",element:x.jsx(wO,{})}),x.jsx(Nt,{path:"/Progress",element:x.jsx(bO,{})}),x.jsx(Nt,{path:"/Avatar",element:x.jsx(xO,{})}),x.jsx(Nt,{path:"/DailyChallenge",element:x.jsx(CO,{})}),x.jsx(Nt,{path:"/ParentPortal",element:x.jsx(kO,{})}),x.jsx(Nt,{path:"/Shop",element:x.jsx(SO,{})}),x.jsx(Nt,{path:"/Leaderboards",element:x.jsx(EO,{})}),x.jsx(Nt,{path:"/TeamChallenges",element:x.jsx(TO,{})}),x.jsx(Nt,{path:"/Subscription",element:x.jsx(_O,{})}),x.jsx(Nt,{path:"/GenerateIcons",element:x.jsx(IO,{})}),x.jsx(Nt,{path:"/TestIconGeneration",element:x.jsx(PO,{})}),x.jsx(Nt,{path:"/Landing",element:x.jsx(dx,{})}),x.jsx(Nt,{path:"/Messages",element:x.jsx(DO,{})}),x.jsx(Nt,{path:"/ColorByNumbers",element:x.jsx(AO,{})}),x.jsx(Nt,{path:"/Settings",element:x.jsx(NO,{})}),x.jsx(Nt,{path:"/PrivacyPolicy",element:x.jsx(MO,{})}),x.jsx(Nt,{path:"/AITutor",element:x.jsx(jO,{})}),x.jsx(Nt,{path:"/AdminTestAccount",element:x.jsx(RO,{})}),x.jsx(Nt,{path:"/Subscribe",element:x.jsx(OO,{})})]})})})})}function Ine(){return x.jsx(sq,{children:x.jsx(_ne,{})})}const Pne=20,Dne=1e6,Fi={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Lw=0;function Ane(){return Lw=(Lw+1)%Number.MAX_VALUE,Lw.toString()}const Fw=new Map,uP=t=>{if(Fw.has(t))return;const e=setTimeout(()=>{Fw.delete(t),Bd({type:Fi.REMOVE_TOAST,toastId:t})},Dne);Fw.set(t,e)},Nne=(t,e)=>{switch(e.type){case Fi.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,Pne)};case Fi.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Fi.DISMISS_TOAST:{const{toastId:n}=e;return n?uP(n):t.toasts.forEach(r=>{uP(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Fi.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},cg=[];let hg={toasts:[]};function Bd(t){hg=Nne(hg,t),cg.forEach(e=>{e(hg)})}function Mne({...t}){const e=Ane(),n=s=>Bd({type:Fi.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>Bd({type:Fi.DISMISS_TOAST,toastId:e});return Bd({type:Fi.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function jne(){const[t,e]=C.useState(hg);return C.useEffect(()=>(cg.push(e),()=>{const n=cg.indexOf(e);n>-1&&cg.splice(n,1)}),[t]),{...t,toast:Mne,dismiss:n=>Bd({type:Fi.DISMISS_TOAST,toastId:n})}}const LO=C.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));LO.displayName="ToastProvider";const FO=C.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));FO.displayName="ToastViewport";const Rne=Gy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),BO=C.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,className:wt(Rne({variant:e}),t),...n}));BO.displayName="Toast";const One=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));One.displayName="ToastAction";const UO=C.forwardRef(({className:t,...e},n)=>x.jsx("button",{ref:n,className:wt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(q1,{className:"h-4 w-4"})}));UO.displayName="ToastClose";const zO=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm font-semibold",t),...e}));zO.displayName="ToastTitle";const VO=C.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm opacity-90",t),...e}));VO.displayName="ToastDescription";function Lne(){const{toasts:t}=jne();return x.jsxs(LO,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return x.jsxs(BO,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(zO,{children:n}),r&&x.jsx(VO,{children:r})]}),s,x.jsx(UO,{})]},e)}),x.jsx(FO,{})]})}function Fne(){return x.jsxs(x.Fragment,{children:[x.jsx(Ine,{}),x.jsx(Lne,{})]})}const Bne=new Fq({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});bL.createRoot(document.getElementById("root")).render(x.jsx(Uq,{client:Bne,children:x.jsx(tK,{children:x.jsx(Fne,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{K1 as $,$b as A,q1 as B,y$ as C,jZ as D,wt as E,l2 as F,Jq as G,h$ as H,A4 as I,Ny as J,ws as K,VY as L,zY as M,OY as N,ys as O,Gr as P,Vn as Q,Bq as R,C as S,vs as T,HY as U,zR as V,WM as W,Zs as X,Xe as Y,Hne as Z,Pb as _,KZ as a,Gl as a$,Yne as a0,M1 as a1,eK as a2,Vne as a3,i2 as a4,c2 as a5,r$ as a6,w$ as a7,m$ as a8,$ne as a9,E1 as aA,zne as aB,zy as aC,u2 as aD,d2 as aE,Cs as aF,Ul as aG,DM as aH,JG as aI,px as aJ,EN as aK,jne as aL,jX as aM,xY as aN,rre as aO,ere as aP,qne as aQ,Gne as aR,Xne as aS,tre as aT,nre as aU,Jne as aV,jW as aW,zj as aX,DK as aY,nj as aZ,sre as a_,Em as aa,iw as ab,Dn as ac,Qne as ad,Zne as ae,ow as af,eg as ag,Uy as ah,li as ai,Of as aj,yj as ak,Lb as al,QM as am,iW as an,dr as ao,aW as ap,Yn as aq,et as ar,Ff as as,Tj as at,ej as au,oW as av,lW as aw,Wne as ax,f2 as ay,cf as az,uC as b,JM as b0,YM as b1,f$ as b2,uo as b3,F1 as b4,Ki as b5,lr as b6,kq as b7,Rf as b8,kb as b9,rf as ba,Rq as bb,o2 as bc,Une as bd,Ij as be,kW as bf,SW as bg,OH as bh,Gy as bi,Kne as c,Db as d,nn as e,Zm as f,u$ as g,qr as h,ft as i,nt as j,T$ as k,GM as l,i$ as m,sw as n,IM as o,gl as p,WY as q,qY as r,aw as s,yE as t,$M as u,k$ as v,pn as w,x,H$ as y,GY as z};
