import{C as N,a2 as se,l as R,x as e,D as te,e as q,Z as E,y as F,u as W,Y as m,t as d,v as V,X,J as P,z as C,m as k,_ as ae,r as z,I as re,G as le,g as ce,p as ie,q as ne,R as H,S as L,T as O,U}from"./index-BXLScRZ5.js";import{Z as oe,L as me,O as D,Q as K}from"./tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3-CERtGQAZ-BoCXO3SG-CiW37Qbf-CABa6JX2-DjJdYRTG-BebtthiM-D1FMe7eh.js";import{y as Y}from"./target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8-D7ZLtM3Q-fUNOd4Tb-uVCUCnov-BMauAVDu-BG4_fLfQ-mdeLfgsR-DIatUeKu.js";import{i as Q}from"./trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S-DshAzykl-BsXPPDcM-DBAPLTxO-BORqaJWi-DK2oiQKm-CyNmKGTE-C_FOC0h-.js";import{r as de}from"./circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f-CFg9LYze-Dqr9YOPU-C0SyBRpa-Cu7J1VSn-DjlcNz2B-Ca9RhSWe-Dfv--kBN.js";import{o as ee}from"./zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5-D5MMr3dA-CncrG6o8-h7sLaBiA-CSYVy3Yk-Fuox9TMR-C7HLLnHm-BJ6Bhvzu.js";import{w as B}from"./QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz.js";import{H as J}from"./progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw-C3ozQzG_-BS-NPxbZ-Do7G8zpZ-Cj6Z1Ic1-BED7H43X-SnwNM-Ot-aUkal9om.js";import{n as $}from"./trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5-2slMDHp0-Dt8Hz_gu-DQ4ciPVI-C7q_24xj-H1M9DqwC-CFaYqVfq-Cj0POjxG.js";import{u as xe,s as he,D as ue,i as pe,a as ge,b as je,l as be,z as Ne}from"./LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff-CGgC7vS1-CgwfReGn-DNMXd5HN-D0eZQ7b1-X-gmCUiL-Ct2lGKCN--StYJDCg.js";import{b as ye}from"./PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI-BPEWt9vX-DCprVw_7-DX2Rz0v5-BJLgwOfU-CoP1frej-l1p3Aoda-BdNDkI3E.js";import{e as Z}from"./book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X-BjwcqdyU-HefgA4ey-dkeLpIxb-B5ApUK70-BoW5V0tu-N5Y9hGO2-Bs1Nebjc.js";import"./lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy-DSiTgkC1-DhFXkp_T-wjER_uU1-BJfJHVT0-BXmwYOmK-DL7mqtoS-C-w3ySFU.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],ve=X("Book",fe);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const we=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],I=X("Play",we);function ke({progress:i,tutorSessions:A,onPracticeClick:g}){const T=()=>{const s=[],l={};return i.forEach(r=>{l[r.operation]||(l[r.operation]={operation:r.operation,level:r.level,totalGames:0,totalCorrect:0,totalQuestions:0,totalTime:0}),l[r.operation].totalGames++,l[r.operation].totalCorrect+=r.correct_answers,l[r.operation].totalQuestions+=r.total_questions,l[r.operation].totalTime+=r.time_taken}),Object.values(l).forEach(r=>{const o=r.totalCorrect/r.totalQuestions*100;if(o<75||r.totalGames<3){let b="medium",c="";o<50?(b="high",c="Very low accuracy"):o<65?(b="high",c="Low accuracy"):o<75?(b="medium",c="Room for improvement"):r.totalGames<3&&(b="low",c="Need more practice"),s.push({operation:r.operation,level:r.level,accuracy:Math.round(o),totalGames:r.totalGames,severity:b,reason:c})}}),s.sort((r,o)=>{const b={high:0,medium:1,low:2};return b[r.severity]-b[o.severity]})},f=()=>{const s={};return A.forEach(l=>{const r=`${l.operation}-${l.level}`;s[r]||(s[r]={operation:l.operation,level:l.level,count:0,examples:[]}),s[r].count++,s[r].examples.length<3&&s[r].examples.push(l.question)}),Object.values(s).sort((l,r)=>r.count-l.count).slice(0,5)},u=T(),j=f(),w=(()=>{const s=[];if(u.length===0)s.push({type:"success",title:"Great Job!",message:"You're performing well across all topics! Keep practicing to maintain your skills.",icon:"ðŸŽ‰"});else{const l=u.filter(o=>o.severity==="high");l.length>0&&s.push({type:"urgent",title:"Priority Practice Areas",message:`Focus on ${l.map(o=>o.operation).join(", ")} to improve quickly.`,icon:"ðŸŽ¯"});const r=u.filter(o=>o.totalGames<3);r.length>0&&s.push({type:"info",title:"Try New Topics",message:`Play more games in ${r.map(o=>o.operation).join(", ")} to build confidence.`,icon:"ðŸ’ª"})}return s})();return i.length===0?e.jsx(m,{className:"text-center py-12",children:e.jsxs(d,{children:[e.jsx(Y,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No Data Yet"}),e.jsx("p",{className:"text-gray-600",children:"Play some games first, then I'll identify areas to improve!"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:w.map((s,l)=>e.jsxs(E,{className:`${s.type==="urgent"?"bg-red-50 border-red-300":s.type==="success"?"bg-green-50 border-green-300":"bg-blue-50 border-blue-300"}`,children:[e.jsx("span",{className:"text-2xl mr-2",children:s.icon}),e.jsxs(W,{children:[e.jsxs("strong",{children:[s.title,":"]})," ",s.message]})]},l))}),u.length>0&&e.jsxs(m,{className:"border-2 border-orange-200",children:[e.jsx(P,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-6 h-6 text-orange-600"}),"Areas Needing Improvement"]})}),e.jsx(d,{className:"space-y-4",children:u.map((s,l)=>e.jsxs("div",{className:`p-4 rounded-xl border-2 ${s.severity==="high"?"bg-red-50 border-red-300":s.severity==="medium"?"bg-orange-50 border-orange-300":"bg-yellow-50 border-yellow-300"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-bold text-lg capitalize",children:s.operation.replace(/_/g," ")}),e.jsx(k,{className:`${s.severity==="high"?"bg-red-500":s.severity==="medium"?"bg-orange-500":"bg-yellow-500"} text-white`,children:s.severity==="high"?"High Priority":s.severity==="medium"?"Medium":"Low"}),e.jsx(k,{variant:"outline",children:s.level})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Accuracy"}),e.jsxs("div",{className:"text-2xl font-bold",children:[s.accuracy,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Games Played"}),e.jsx("div",{className:"text-2xl font-bold",children:s.totalGames})]})]}),e.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:[e.jsx(de,{className:"w-4 h-4 inline mr-1"}),s.reason]})]}),e.jsxs(z,{onClick:()=>g({operation:s.operation,level:s.level}),className:"bg-blue-500 hover:bg-blue-600 ml-4",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Practice Now"]})]}),e.jsxs("div",{className:"bg-white/50 p-3 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-700 font-medium mb-1",children:[e.jsx(ee,{className:"w-4 h-4 inline mr-1 text-yellow-500"}),"AI Tip:"]}),e.jsx("p",{className:"text-sm text-gray-600",children:Pe(s)})]})]},l))})]}),j.length>0&&e.jsxs(m,{className:"border-2 border-purple-200",children:[e.jsx(P,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"w-6 h-6 text-purple-600"}),"Common Mistakes to Review"]})}),e.jsx(d,{className:"space-y-3",children:j.map((s,l)=>e.jsxs("div",{className:"p-4 bg-purple-50 rounded-xl border-2 border-purple-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"font-bold capitalize",children:[s.operation," (",s.level,")"]}),e.jsxs(k,{className:"bg-purple-500 text-white",children:[s.count," mistakes"]})]}),s.examples.length>0&&e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Examples:"})," ",s.examples.join(", ")]})]},l))})]})]})}function Pe(i){return{addition:"Try breaking down larger numbers into smaller, easier pieces. Practice counting up from the first number.",subtraction:"Use a number line to visualize taking away. Count backwards or think 'what do I add to get to the bigger number?'",multiplication:"Memorize the times tables! Look for patterns like doubling or skip counting.",division:"Think of division as 'sharing equally' or 'how many groups'. Draw circles to visualize!",fractions:"Draw pictures to see the parts. Remember: the bottom number shows how many pieces total.",decimals:"Line up the decimal points! Think of money - $1.50 is 1 dollar and 50 cents.",word_problems:"Read carefully! Underline key numbers and words like 'total', 'difference', or 'each'."}[i.operation]||"Practice regularly and take your time. You can do this!"}function Ce({selectedWeakness:i,progress:A}){const[g,T]=N.useState(null),[f,u]=N.useState(""),[j,w]=N.useState(null),[s,l]=N.useState(0),[r,o]=N.useState(0),[b,c]=N.useState(!1),[p,_]=N.useState(null),t=()=>{const n=[],v={};return A.forEach(h=>{v[h.operation]||(v[h.operation]={operation:h.operation,level:h.level,totalCorrect:0,totalQuestions:0}),v[h.operation].totalCorrect+=h.correct_answers,v[h.operation].totalQuestions+=h.total_questions}),Object.values(v).forEach(h=>{const M=h.totalCorrect/h.totalQuestions*100;M<75&&n.push({operation:h.operation,level:h.level,accuracy:Math.round(M),priority:M<60?"high":"medium"})}),n.sort((h,M)=>h.accuracy-M.accuracy).slice(0,5)},a=()=>{if(p){const n=B(p.operation,p.level);T(n),u(""),w(null),c(!1)}},x=(n,v)=>{_({operation:n,level:v}),l(0),o(0);const h=B(n,v);T(h),u(""),w(null),c(!1)},y=()=>{if(!g||f==="")return;const n=parseInt(f)===g.answer;w(n),l(s+1),n?o(r+1):c(!0)},G=()=>{a()},S=t();return N.useEffect(()=>{i&&!p&&x(i.operation,i.level)},[i]),e.jsxs("div",{className:"space-y-6",children:[p&&s>0&&e.jsx(m,{className:"border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:s}),e.jsx("div",{className:"text-sm text-gray-600",children:"Questions"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:r}),e.jsx("div",{className:"text-sm text-gray-600",children:"Correct"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[s>0?Math.round(r/s*100):0,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Accuracy"})]})]})})}),p&&g?e.jsxs(m,{className:"border-4 border-purple-300 shadow-2xl",children:[e.jsx(P,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:e.jsxs(C,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-6 h-6"}),e.jsxs("span",{className:"capitalize",children:[p.operation," Practice"]})]}),e.jsx(k,{className:"bg-white text-purple-600",children:p.level})]})}),e.jsx(d,{className:"p-8",children:e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-5xl md:text-6xl font-bold mb-6 text-gray-800",children:g.question}),j===null&&e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("input",{type:"number",value:f,onChange:n=>u(n.target.value),onKeyPress:n=>{n.key==="Enter"&&y()},placeholder:"Type your answer...",className:"w-full text-3xl font-bold text-center p-4 border-4 border-purple-300 rounded-xl mb-4",autoFocus:!0}),e.jsx(z,{onClick:y,disabled:f==="",className:"w-full h-14 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:"Check Answer"})]}),j!==null&&e.jsxs("div",{className:"space-y-6",children:[j?e.jsxs(E,{className:"bg-green-50 border-green-300",children:[e.jsx(re,{className:"w-6 h-6 text-green-600"}),e.jsxs(W,{className:"text-green-800 text-lg",children:[e.jsx("strong",{children:"Correct! ðŸŽ‰"})," Great job!"]})]}):e.jsxs(E,{className:"bg-red-50 border-red-300",children:[e.jsx(le,{className:"w-6 h-6 text-red-600"}),e.jsxs(W,{className:"text-red-800 text-lg",children:[e.jsx("strong",{children:"Not quite."})," The correct answer is ",e.jsx("strong",{children:g.answer})]})]}),!j&&b&&g.explanation&&e.jsx(m,{className:"bg-blue-50 border-2 border-blue-300",children:e.jsxs(d,{className:"p-6",children:[e.jsxs("h4",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[e.jsx(F,{className:"w-5 h-5 text-blue-600"}),"Let me explain:"]}),e.jsx("p",{className:"text-gray-700",children:g.explanation})]})}),e.jsxs(z,{onClick:G,className:"w-full h-14 text-lg bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:["Next Question",e.jsx(I,{className:"w-5 h-5 ml-2"})]})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[S.length>0&&e.jsxs(m,{className:"border-2 border-orange-200",children:[e.jsx(P,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"w-6 h-6 text-orange-600"}),"Recommended Practice Topics"]})}),e.jsx(d,{className:"space-y-3",children:S.map((n,v)=>e.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl border-2 border-orange-200 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold capitalize mb-1",children:n.operation.replace(/_/g," ")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:`${n.priority==="high"?"bg-red-500":"bg-orange-500"} text-white`,children:n.priority==="high"?"High Priority":"Medium"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Current: ",n.accuracy,"% accuracy"]})]})]}),e.jsxs(z,{onClick:()=>x(n.operation,n.level),className:"bg-blue-500 hover:bg-blue-600",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Start Practice"]})]},v))})]}),e.jsxs(m,{className:"border-2 border-purple-200",children:[e.jsx(P,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-6 h-6 text-purple-600"}),"Quick Practice by Topic"]})}),e.jsx(d,{children:e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:["addition","subtraction","multiplication","division"].map(n=>e.jsx(z,{onClick:()=>x(n,"medium"),variant:"outline",className:"h-16 text-lg capitalize",children:n},n))})})]}),e.jsx(m,{className:"bg-gradient-to-r from-purple-100 to-pink-100 border-2 border-purple-300",children:e.jsxs(d,{className:"p-6 text-center",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Ready for a Full Challenge?"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"Try a complete game with stars and rewards!"}),e.jsx(ie,{to:ne("Home"),children:e.jsxs(z,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[e.jsx(I,{className:"w-5 h-5 mr-2"}),"Go to Games"]})})]})})]})]})}function Ae({progress:i,tutorSessions:A,onWeaknessClick:g}){const[T,f]=N.useState(!1),u=()=>{if(i.length===0)return 0;const t=i.reduce((a,x)=>a+x.correct_answers/x.total_questions*100,0);return Math.round(t/i.length)},j=()=>{if(i.length===0)return 0;const t=i.reduce((a,x)=>a+x.time_taken,0);return Math.round(t/i.length)},w=()=>{if(i.length<5)return"neutral";const t=i.slice(0,5),a=i.slice(5,10),x=t.reduce((G,S)=>G+S.correct_answers/S.total_questions*100,0)/t.length,y=a.length>0?a.reduce((G,S)=>G+S.correct_answers/S.total_questions*100,0)/a.length:x;return x>y+5?"improving":x<y-5?"declining":"stable"},s=()=>{const t={};return i.forEach(a=>{t[a.operation]||(t[a.operation]={operation:a.operation,totalGames:0,totalCorrect:0,totalQuestions:0,averageTime:0,totalTime:0}),t[a.operation].totalGames++,t[a.operation].totalCorrect+=a.correct_answers,t[a.operation].totalQuestions+=a.total_questions,t[a.operation].totalTime+=a.time_taken}),Object.values(t).map(a=>({...a,accuracy:Math.round(a.totalCorrect/a.totalQuestions*100),averageTime:Math.round(a.totalTime/a.totalGames)})).sort((a,x)=>a.accuracy-x.accuracy)},l=()=>{const t={};return i.forEach(a=>{t[a.level]||(t[a.level]={level:a.level,totalGames:0,totalCorrect:0,totalQuestions:0}),t[a.level].totalGames++,t[a.level].totalCorrect+=a.correct_answers,t[a.level].totalQuestions+=a.total_questions}),Object.values(t).map(a=>({...a,accuracy:Math.round(a.totalCorrect/a.totalQuestions*100)}))},r=()=>{const t=[],a=s(),x=w(),y=u();x==="improving"?t.push({type:"positive",icon:$,title:"You're Improving!",message:"Your recent performance shows great progress. Keep it up!"}):x==="declining"&&t.push({type:"warning",icon:Q,title:"Need More Practice",message:"Your recent scores are lower. Let's focus on practice!"}),y>=90?t.push({type:"positive",icon:V,title:"Excellent Accuracy!",message:`You're at ${y}% accuracy. You're a math champion!`}):y<70&&t.push({type:"warning",icon:Y,title:"Let's Boost Your Score",message:`Your accuracy is ${y}%. Practice will help you improve!`}),a.length>0&&a[0].accuracy<75&&t.push({type:"action",icon:q,title:"Focus Area Identified",message:`${a[0].operation} needs attention (${a[0].accuracy}% accuracy)`,action:()=>g({operation:a[0].operation,level:"mixed"})});const G=j();return G<90&&y>=80&&t.push({type:"positive",icon:$,title:"Fast and Accurate!",message:`You're solving problems in ${G}s with great accuracy!`}),t},o=s();l();const b=r(),c=w(),p=u(),_=i.slice(0,10).reverse().map((t,a)=>({game:`Game ${a+1}`,accuracy:Math.round(t.correct_answers/t.total_questions*100),speed:Math.max(0,120-t.time_taken)}));return i.length===0?e.jsx(m,{className:"text-center py-12",children:e.jsxs(d,{children:[e.jsx(q,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Start Playing to Get Analysis"}),e.jsx("p",{className:"text-gray-600",children:"Play some math games and I'll analyze your performance!"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{className:"border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[e.jsx(P,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-6 h-6 text-blue-600"}),"Overall Performance Analysis"]})}),e.jsxs(d,{children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-white rounded-xl",children:[e.jsxs("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:[p,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Overall Accuracy"}),e.jsx(J,{value:p,className:"mt-2"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-xl",children:[e.jsxs("div",{className:"text-4xl font-bold text-purple-600 mb-1",children:[j(),"s"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg Time per Game"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-xl",children:[e.jsx("div",{className:"text-4xl font-bold text-green-600 mb-1",children:i.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Games Analyzed"})]})]}),e.jsxs("div",{className:"flex justify-center",children:[c==="improving"&&e.jsxs(k,{className:"bg-green-500 text-white text-lg px-6 py-2",children:[e.jsx($,{className:"w-5 h-5 mr-2"}),"Improving Trend"]}),c==="declining"&&e.jsxs(k,{className:"bg-orange-500 text-white text-lg px-6 py-2",children:[e.jsx(Q,{className:"w-5 h-5 mr-2"}),"Needs Practice"]}),c==="stable"&&e.jsxs(k,{className:"bg-blue-500 text-white text-lg px-6 py-2",children:[e.jsx(ae,{className:"w-5 h-5 mr-2"}),"Steady Progress"]})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:b.map((t,a)=>e.jsx(m,{className:`border-2 ${t.type==="positive"?"border-green-300 bg-green-50":t.type==="warning"?"border-orange-300 bg-orange-50":"border-blue-300 bg-blue-50"}`,children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${t.type==="positive"?"bg-green-500":t.type==="warning"?"bg-orange-500":"bg-blue-500"}`,children:e.jsx(t.icon,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:t.message}),t.action&&e.jsx(z,{size:"sm",onClick:t.action,className:"bg-blue-500 hover:bg-blue-600",children:"Start Practice"})]})]})})},a))}),e.jsxs(m,{className:"border-2 border-purple-200",children:[e.jsx(P,{children:e.jsx(C,{children:"Performance by Math Topic"})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:o.map((t,a)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-medium capitalize",children:t.operation.replace(/_/g," ")}),e.jsxs(k,{variant:"outline",children:[t.totalGames," games"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-2xl font-bold",children:[t.accuracy,"%"]}),t.accuracy<70&&e.jsx(z,{size:"sm",onClick:()=>g({operation:t.operation,level:"mixed"}),className:"bg-orange-500 hover:bg-orange-600",children:"Practice"})]})]}),e.jsx(J,{value:t.accuracy,className:`h-3 ${t.accuracy>=80?"bg-green-200":t.accuracy>=60?"bg-yellow-200":"bg-red-200"}`})]},t.operation))})})]}),_.length>0&&e.jsxs(m,{className:"border-2 border-blue-200",children:[e.jsx(P,{children:e.jsx(C,{children:"Recent Performance Trend"})}),e.jsx(d,{children:e.jsx(xe,{width:"100%",height:300,children:e.jsxs(he,{data:_,children:[e.jsx(ue,{strokeDasharray:"3 3"}),e.jsx(pe,{dataKey:"game"}),e.jsx(ge,{}),e.jsx(je,{}),e.jsx(be,{}),e.jsx(Ne,{type:"monotone",dataKey:"accuracy",stroke:"#8b5cf6",strokeWidth:3,name:"Accuracy %"})]})})})]})]})}function De(){const[i,A]=N.useState("analysis"),[g,T]=N.useState(null),[f,u]=N.useState(!1),{user:j}=se(),{data:w}=R({queryKey:["currentUser"],queryFn:async()=>{const c=await firebaseAuth.currentUser;return c?{email:c.email}:null}}),{data:s=[]}=R({queryKey:["gameProgress"],queryFn:async()=>{const c=firebaseAuth.currentUser;if(!c)return[];const p=H(O(db,"gameProgress"),L("user_email","==",c.email));return(await U(p)).docs.map(_=>_.data())},initialData:[]}),{data:l=[]}=R({queryKey:["tutorSessions"],queryFn:async()=>{const c=firebaseAuth.currentUser;if(!c)return[];const p=H(O(db,"tutorSessions"),L("created_by","==",c.email));return(await U(p)).docs.map(_=>_.data())},initialData:[]}),r=()=>l.length,o=()=>l.filter(c=>c.hint_requested).length,b=()=>l.filter(c=>c.explanation_viewed).length;return te.useEffect(()=>{j&&!j.hasPremiumAccess&&u(!0)},[j]),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[f&&e.jsx(ye,{featureName:"AI Math Tutor",description:"Get personalized AI assistance with hints, explanations, and practice exercises tailored to your learning needs.",isOpen:f,onClose:()=>u(!1)}),e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-block mb-6",children:e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-2xl animate-pulse",children:e.jsx(q,{className:"w-12 h-12 text-white"})})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"AI Math Tutor"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Your personal learning assistant powered by AI"})]}),e.jsxs(E,{className:"mb-8 bg-gradient-to-r from-blue-50 to-purple-50 border-blue-300",children:[e.jsx(F,{className:"w-5 h-5 text-blue-600"}),e.jsxs(W,{className:"text-blue-800",children:[e.jsx("strong",{children:"Welcome to your AI Tutor!"})," I analyze your performance, identify areas for improvement, and create personalized practice exercises just for you. Let's make math fun and easy! ðŸš€"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(m,{className:"bg-gradient-to-br from-blue-500 to-cyan-500 text-white border-0",children:e.jsxs(d,{className:"p-6 text-center",children:[e.jsx(q,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("div",{className:"text-3xl font-bold mb-1",children:r()}),e.jsx("p",{className:"text-sm text-white/90",children:"Tutoring Sessions"})]})}),e.jsx(m,{className:"bg-gradient-to-br from-purple-500 to-pink-500 text-white border-0",children:e.jsxs(d,{className:"p-6 text-center",children:[e.jsx(ee,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("div",{className:"text-3xl font-bold mb-1",children:o()}),e.jsx("p",{className:"text-sm text-white/90",children:"Hints Received"})]})}),e.jsx(m,{className:"bg-gradient-to-br from-green-500 to-emerald-500 text-white border-0",children:e.jsxs(d,{className:"p-6 text-center",children:[e.jsx(Z,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("div",{className:"text-3xl font-bold mb-1",children:b()}),e.jsx("p",{className:"text-sm text-white/90",children:"Explanations Read"})]})}),e.jsx(m,{className:"bg-gradient-to-br from-orange-500 to-red-500 text-white border-0",children:e.jsxs(d,{className:"p-6 text-center",children:[e.jsx(V,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("div",{className:"text-3xl font-bold mb-1",children:s.length}),e.jsx("p",{className:"text-sm text-white/90",children:"Games Analyzed"})]})})]}),e.jsx(m,{className:"border-4 border-purple-200 shadow-xl",children:e.jsx(d,{className:"p-6",children:e.jsxs(oe,{value:i,onValueChange:A,className:"w-full",children:[e.jsxs(me,{className:"grid w-full grid-cols-3 mb-6",children:[e.jsxs(D,{value:"analysis",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Performance Analysis"]}),e.jsxs(D,{value:"weaknesses",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Areas to Improve"]}),e.jsxs(D,{value:"practice",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Practice Exercises"]})]}),e.jsx(K,{value:"analysis",className:"space-y-6",children:e.jsx(Ae,{progress:s,tutorSessions:l,onWeaknessClick:c=>{T(c),A("practice")}})}),e.jsx(K,{value:"weaknesses",className:"space-y-6",children:e.jsx(ke,{progress:s,tutorSessions:l,onPracticeClick:c=>{T(c),A("practice")}})}),e.jsx(K,{value:"practice",className:"space-y-6",children:e.jsx(Ce,{selectedWeakness:g,progress:s})})]})})}),e.jsxs(m,{className:"mt-8 bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200",children:[e.jsx(P,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-6 h-6 text-purple-600"}),"How Your AI Tutor Works"]})}),e.jsxs(d,{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Q,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold mb-2",children:"1. Analyze Performance"}),e.jsx("p",{className:"text-sm text-gray-600",children:"AI reviews your games and identifies patterns in mistakes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Y,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold mb-2",children:"2. Find Weaknesses"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Discover specific topics where you need more practice"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Z,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold mb-2",children:"3. Personalized Practice"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get custom exercises designed just for you"})]})]})]})]})}export{De as default};
