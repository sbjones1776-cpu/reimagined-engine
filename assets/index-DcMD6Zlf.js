const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC-i35konQI.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw-C3ozQzG_-BS-NPxbZ.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc-CAXKM_tn.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV--CsHTKCTt-BP9X_a4h.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD-CfwVKCbF.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm-B0eqz-TD-DQldaXmM.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113-BcwpOZqT-GOJVET6z.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5-D5MMr3dA-CncrG6o8.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9-W0QmP09M-3hRm0Cv0.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5-2slMDHp0-Dt8Hz_gu.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8-D7ZLtM3Q-fUNOd4Tb.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X-BjwcqdyU-HefgA4ey.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh-BCHOnD0---4-_1MLM.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH-CjaDUu9L-Ds6IpQkW.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy-DSiTgkC1-DhFXkp_T.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f-CFg9LYze-Dqr9YOPU.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo-CXa-mNyE-B-nOEEZ2.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o-DlsB7OV4.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_-BVesU6qw-CG5MCbzm.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d-HS1mS00F-Bd1JUeU2.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF-BcGzNvoM-InYk3mbD.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx-Bw8Xp5R6-Cn_nYyE2.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S-DshAzykl-BsXPPDcM.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2-DHjNSAAD-mWQj0O8b.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI-BPEWt9vX-DCprVw_7.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S-DKZmBPSQ-D_2XdzET.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk-DghFmtyw.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff-CGgC7vS1-CgwfReGn.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29-DymLulGz-DUrYCQ5E.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9-CbEJ5snd.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ-ezXG_L9G-BEUxX-nu.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3-CERtGQAZ-BoCXO3SG.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_-DZaDo8HZ.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH-DwPTvosq-BzPWxo8M.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R-BSHHPml2-D_yBAKS5.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv-Bp24DiAJ.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g-DgYru0Gs-B5_uRmKS.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr-Ffel_h2u.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV-BZi3D42F-BniOzOaT.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc-XiyT1ylp-BV4oUjra.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA-CQ-9O2Qt-CIrR7EI3.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs-CLTC0C47-DdwKpe-B.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr-Crsier0o-Bff3sT4n.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5--BPyiYMnQ-k2gq4TdQ.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u-CCYcbo7R.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb-uuJZ4FGW.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20-Du5ZVLe7-CSuTkKjt.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4-BmOdg69B.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f-MccA_3E3.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN-oTa863JD.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh-lwZWuJt4-FmNlGGTF.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv-Dzw5lkMP.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC-CpqL9fon.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb-t4dmRNZn.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc-CPBJsZoB-Cx2-ydHI.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7-Dcz3eR3L.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q-BfTbXhxt.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw-Cla6mJUP.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg-qnXeUsv8.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499-NSoB4kZx.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const qL="modulepreload",$L=function(t){return"/"+t},Kk={},jt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=o(n.map(d=>{if(d=$L(d),d in Kk)return;Kk[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":qL,p||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((S,C)=>{v.addEventListener("load",S),v.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return s.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},Lt=(t,e=Lt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw-C3ozQzG_.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV--CsHTKCTt.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm-B0eqz-TD.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113-BcwpOZqT.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5-D5MMr3dA.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9-W0QmP09M.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5-2slMDHp0.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8-D7ZLtM3Q.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X-BjwcqdyU.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh-BCHOnD0-.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH-CjaDUu9L.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy-DSiTgkC1.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f-CFg9LYze.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo-CXa-mNyE.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_-BVesU6qw.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d-HS1mS00F.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF-BcGzNvoM.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx-Bw8Xp5R6.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S-DshAzykl.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2-DHjNSAAD.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI-BPEWt9vX.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S-DKZmBPSQ.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff-CGgC7vS1.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29-DymLulGz.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ-ezXG_L9G.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3-CERtGQAZ.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH-DwPTvosq.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R-BSHHPml2.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g-DgYru0Gs.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV-BZi3D42F.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc-XiyT1ylp.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA-CQ-9O2Qt.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs-CLTC0C47.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr-Crsier0o.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5--BPyiYMnQ.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20-Du5ZVLe7.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh-lwZWuJt4.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc-CPBJsZoB.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const KL="modulepreload",WL=function(t){return"/"+t},Wk={},Ft=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(c=>{if(c=WL(c),c in Wk)return;Wk[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":KL,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,S)=>{g.addEventListener("load",v),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},Bt=(t,e=Bt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV-.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV-.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5-.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const GL="modulepreload",HL=function(t){return"/"+t},Gk={},Vt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(c=>{if(c=HL(c),c in Gk)return;Gk[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":GL,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,S)=>{g.addEventListener("load",v),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},zt=(t,e=zt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm-.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00-.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const QL="modulepreload",XL=function(t){return"/"+t},Hk={},Ut=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(c=>{if(c=XL(c),c in Hk)return;Hk[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":QL,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,S)=>{g.addEventListener("load",v),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},qt=(t,e=qt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ.js","assets/progress-DswiN-jt-CRkTvpyk.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx.js","assets/download-k8BXtbsE-hJBy54oi.js","assets/Home-B1e5oU6L-BnLx-1kh.js","assets/flame-Z4NDYWf0-CPLPmaZ3.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v.js","assets/zap-BUGd4PS--D5Rx8Je6.js","assets/external-link-B3vh6vLr-IAJFuuQW.js","assets/trending-up-DOxCo9I6-CjyZKRpy.js","assets/target-1p2ICMDN-CvDzxGjB.js","assets/book-open-CsZLkRie-CnloTbZU.js","assets/plus-CzE6Y-vE-CTS6AMhf.js","assets/minus-CxnUEU8f-CdSPzO8E.js","assets/lock-DVJmOJtR-CPCpectf.js","assets/circle-alert-D0KxAb-N-CBSI-qzf.js","assets/palette-C1tdbQoO-D9zv_SnR.js","assets/Game-BSxN8OV2-DCbKaoIo.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N.js","assets/trending-down-CtEqn-BB-zOpygq96.js","assets/triangle-alert-BF04o9wv-5R0uES8i.js","assets/QuestionGenerator-z-c728t7-CSzYVewV.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH.js","assets/arrow-left-8gFWt4dJ-CSNboBK9.js","assets/Progress-CJyc2nxx-CCph28do.js","assets/LineChart-Boznw0oC-BjVvaeYB.js","assets/gift-gU3fLUyU-xa62twJ2.js","assets/Avatar-DWsPiGGF-BsRh6I0m.js","assets/label-ClTmKTiT-BGzEp_4m.js","assets/tabs-BCUfDdd3-DRpA79_-.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T.js","assets/index-DytiPzxp-BK84tApl.js","assets/save-WpcaPzdX-CJl6cnmk.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE.js","assets/medal-iK-ypg-g-C4SGU5mg.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm.js","assets/textarea-CqrSSpqj-CdkJNOEe.js","assets/select-CEEjSQMd-D2Q8_Gex.js","assets/index-K24GeIQO-pPWQlksM.js","assets/trash-2-jwsEREBw-DdJfLY0z.js","assets/info-BwmiXNr9-k9-UA3eH.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh.js","assets/Shop-CVZgRxJn-CVz_4LS0.js","assets/Leaderboards-Bm79OtXC-B_odZ22w.js","assets/user-plus-DvDth6Co-mjoHpJFL.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz.js","assets/GenerateIcons-irEsrbiy-D96HRozy.js","assets/loader-circle-BANzzYJc-B3uLjLZr.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD.js","assets/Messages-BRMZI1jn-BJW4UB3P.js","assets/ColorByNumbers-JzUc735X-263wB9fx.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo.js","assets/Settings-DBhk2Jxw-eoqk1yaj.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ.js","assets/AITutor-CiJvOfzv-b-ne1DOj.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC.js","assets/Subscribe-D5mtZK-4-DoW00_oc.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const YL="modulepreload",JL=function(t){return"/"+t},Qk={},$t=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(c=>{if(c=JL(c),c in Qk)return;Qk[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":YL,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,S)=>{g.addEventListener("load",v),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},Kt=(t,e=Kt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq.js","assets/progress-DswiN-jt.js","assets/InstallPrompt-CYulZlIm.js","assets/download-k8BXtbsE.js","assets/Home-B1e5oU6L.js","assets/flame-Z4NDYWf0.js","assets/AppTrialPromo-fh-8uCNN.js","assets/zap-BUGd4PS-.js","assets/external-link-B3vh6vLr.js","assets/trending-up-DOxCo9I6.js","assets/target-1p2ICMDN.js","assets/book-open-CsZLkRie.js","assets/plus-CzE6Y-vE.js","assets/minus-CxnUEU8f.js","assets/lock-DVJmOJtR.js","assets/circle-alert-D0KxAb-N.js","assets/palette-C1tdbQoO.js","assets/Game-BSxN8OV2.js","assets/useMutation-Dw-sPjxD.js","assets/CelebrationAnimation-Dc0BowXO.js","assets/TextToSpeech-AHz3T4an.js","assets/rotate-ccw-D8vHVTX7.js","assets/trending-down-CtEqn-BB.js","assets/triangle-alert-BF04o9wv.js","assets/QuestionGenerator-z-c728t7.js","assets/PremiumFeatureLock-DUuDI_YH.js","assets/arrow-left-8gFWt4dJ.js","assets/Progress-CJyc2nxx.js","assets/LineChart-Boznw0oC.js","assets/gift-gU3fLUyU.js","assets/Avatar-DWsPiGGF.js","assets/label-ClTmKTiT.js","assets/tabs-BCUfDdd3.js","assets/AvatarDisplay-BzkYfhqx.js","assets/index-DytiPzxp.js","assets/save-WpcaPzdX.js","assets/DailyChallenge-Bdw758IQ.js","assets/medal-iK-ypg-g.js","assets/ParentPortal-ujdsGIsq.js","assets/textarea-CqrSSpqj.js","assets/select-CEEjSQMd.js","assets/index-K24GeIQO.js","assets/trash-2-jwsEREBw.js","assets/info-BwmiXNr9.js","assets/startOfMonth-D3h4jTlt.js","assets/Shop-CVZgRxJn.js","assets/Leaderboards-Bm79OtXC.js","assets/user-plus-DvDth6Co.js","assets/TeamChallenges-YLDuyulC.js","assets/Subscription-BXM5wPAK.js","assets/GenerateIcons-irEsrbiy.js","assets/loader-circle-BANzzYJc.js","assets/TestIconGeneration-oHdXBYrX.js","assets/Messages-BRMZI1jn.js","assets/ColorByNumbers-JzUc735X.js","assets/paint-bucket-C2C9L7S8.js","assets/Settings-DBhk2Jxw.js","assets/PrivacyPolicy-CiiZkyoZ.js","assets/AITutor-CiJvOfzv.js","assets/AdminTestAccount-DOgC3vLm.js","assets/Subscribe-D5mtZK-4.js"]))=>t.map(r=>n[r]);var ZL=Object.defineProperty,sP=t=>{throw TypeError(t)},e3=(t,e,n)=>e in t?ZL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xk=(t,e,n)=>e3(t,typeof e!="symbol"?e+"":e,n),ux=(t,e,n)=>e.has(t)||sP("Cannot "+n),$=(t,e,n)=>(ux(t,e,"read from private field"),n?n.call(t):e.get(t)),Re=(t,e,n)=>e.has(t)?sP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(ux(t,e,"write to private field"),e.set(t,n),n),Ze=(t,e,n)=>(ux(t,e,"access private method"),n),Ow=(t,e,n,r)=>({set _(s){ge(t,e,s)},get _(){return $(t,e,r)}});function t3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var Dne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yk={exports:{}},zh={},Jk={exports:{}},We={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Zk;function n3(){if(Zk)return We;Zk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,T={};function _(G,re,pe){this.props=G,this.context=re,this.refs=T,this.updater=pe||S}_.prototype.isReactComponent={},_.prototype.setState=function(G,re){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,re,"setState")},_.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function D(){}D.prototype=_.prototype;function A(G,re,pe){this.props=G,this.context=re,this.refs=T,this.updater=pe||S}var O=A.prototype=new D;O.constructor=A,C(O,_.prototype),O.isPureReactComponent=!0;var V=Array.isArray,U=Object.prototype.hasOwnProperty,W={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function I(G,re,pe){var me,Me={},ze=null,Ie=null;if(re!=null)for(me in re.ref!==void 0&&(Ie=re.ref),re.key!==void 0&&(ze=""+re.key),re)U.call(re,me)&&!M.hasOwnProperty(me)&&(Me[me]=re[me]);var qe=arguments.length-2;if(qe===1)Me.children=pe;else if(1<qe){for(var Ve=Array(qe),pt=0;pt<qe;pt++)Ve[pt]=arguments[pt+2];Me.children=Ve}if(G&&G.defaultProps)for(me in qe=G.defaultProps,qe)Me[me]===void 0&&(Me[me]=qe[me]);return{$$typeof:t,type:G,key:ze,ref:Ie,props:Me,_owner:W.current}}function N(G,re){return{$$typeof:t,type:G.type,key:re,ref:G.ref,props:G.props,_owner:G._owner}}function j(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function B(G){var re={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(pe){return re[pe]})}var q=/\/+/g;function L(G,re){return typeof G=="object"&&G!==null&&G.key!=null?B(""+G.key):re.toString(36)}function ke(G,re,pe,me,Me){var ze=typeof G;(ze==="undefined"||ze==="boolean")&&(G=null);var Ie=!1;if(G===null)Ie=!0;else switch(ze){case"string":case"number":Ie=!0;break;case"object":switch(G.$$typeof){case t:case e:Ie=!0}}if(Ie)return Ie=G,Me=Me(Ie),G=me===""?"."+L(Ie,0):me,V(Me)?(pe="",G!=null&&(pe=G.replace(q,"$&/")+"/"),ke(Me,re,pe,"",function(pt){return pt})):Me!=null&&(j(Me)&&(Me=N(Me,pe+(!Me.key||Ie&&Ie.key===Me.key?"":(""+Me.key).replace(q,"$&/")+"/")+G)),re.push(Me)),1;if(Ie=0,me=me===""?".":me+":",V(G))for(var qe=0;qe<G.length;qe++){ze=G[qe];var Ve=me+L(ze,qe);Ie+=ke(ze,re,pe,Ve,Me)}else if(Ve=v(G),typeof Ve=="function")for(G=Ve.call(G),qe=0;!(ze=G.next()).done;)ze=ze.value,Ve=me+L(ze,qe++),Ie+=ke(ze,re,pe,Ve,Me);else if(ze==="object")throw re=String(G),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Ie}function Ae(G,re,pe){if(G==null)return G;var me=[],Me=0;return ke(G,me,"","",function(ze){return re.call(pe,ze,Me++)}),me}function ye(G){if(G._status===-1){var re=G._result;re=re(),re.then(function(pe){(G._status===0||G._status===-1)&&(G._status=1,G._result=pe)},function(pe){(G._status===0||G._status===-1)&&(G._status=2,G._result=pe)}),G._status===-1&&(G._status=0,G._result=re)}if(G._status===1)return G._result.default;throw G._result}var ve={current:null},H={transition:null},ne={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:H,ReactCurrentOwner:W};function ae(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:Ae,forEach:function(G,re,pe){Ae(G,function(){re.apply(this,arguments)},pe)},count:function(G){var re=0;return Ae(G,function(){re++}),re},toArray:function(G){return Ae(G,function(re){return re})||[]},only:function(G){if(!j(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},We.Component=_,We.Fragment=n,We.Profiler=s,We.PureComponent=A,We.StrictMode=r,We.Suspense=c,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,We.act=ae,We.cloneElement=function(G,re,pe){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var me=C({},G.props),Me=G.key,ze=G.ref,Ie=G._owner;if(re!=null){if(re.ref!==void 0&&(ze=re.ref,Ie=W.current),re.key!==void 0&&(Me=""+re.key),G.type&&G.type.defaultProps)var qe=G.type.defaultProps;for(Ve in re)U.call(re,Ve)&&!M.hasOwnProperty(Ve)&&(me[Ve]=re[Ve]===void 0&&qe!==void 0?qe[Ve]:re[Ve])}var Ve=arguments.length-2;if(Ve===1)me.children=pe;else if(1<Ve){qe=Array(Ve);for(var pt=0;pt<Ve;pt++)qe[pt]=arguments[pt+2];me.children=qe}return{$$typeof:t,type:G.type,key:Me,ref:ze,props:me,_owner:Ie}},We.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:i,_context:G},G.Consumer=G},We.createElement=I,We.createFactory=function(G){var re=I.bind(null,G);return re.type=G,re},We.createRef=function(){return{current:null}},We.forwardRef=function(G){return{$$typeof:u,render:G}},We.isValidElement=j,We.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:ye}},We.memo=function(G,re){return{$$typeof:d,type:G,compare:re===void 0?null:re}},We.startTransition=function(G){var re=H.transition;H.transition={};try{G()}finally{H.transition=re}},We.unstable_act=ae,We.useCallback=function(G,re){return ve.current.useCallback(G,re)},We.useContext=function(G){return ve.current.useContext(G)},We.useDebugValue=function(){},We.useDeferredValue=function(G){return ve.current.useDeferredValue(G)},We.useEffect=function(G,re){return ve.current.useEffect(G,re)},We.useId=function(){return ve.current.useId()},We.useImperativeHandle=function(G,re,pe){return ve.current.useImperativeHandle(G,re,pe)},We.useInsertionEffect=function(G,re){return ve.current.useInsertionEffect(G,re)},We.useLayoutEffect=function(G,re){return ve.current.useLayoutEffect(G,re)},We.useMemo=function(G,re){return ve.current.useMemo(G,re)},We.useReducer=function(G,re,pe){return ve.current.useReducer(G,re,pe)},We.useRef=function(G){return ve.current.useRef(G)},We.useState=function(G){return ve.current.useState(G)},We.useSyncExternalStore=function(G,re,pe){return ve.current.useSyncExternalStore(G,re,pe)},We.useTransition=function(){return ve.current.useTransition()},We.version="18.3.1",We}var eT;function hx(){return eT||(eT=1,Jk.exports=n3()),Jk.exports}/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var tT;function r3(){if(tT)return zh;tT=1;var t=hx(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(u,c,d){var p,g={},v=null,S=null;d!==void 0&&(v=""+d),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(S=c.ref);for(p in c)r.call(c,p)&&!i.hasOwnProperty(p)&&(g[p]=c[p]);if(u&&u.defaultProps)for(p in c=u.defaultProps,c)g[p]===void 0&&(g[p]=c[p]);return{$$typeof:e,type:u,key:v,ref:S,props:g,_owner:s.current}}return zh.Fragment=n,zh.jsx=o,zh.jsxs=o,zh}var nT;function s3(){return nT||(nT=1,Yk.exports=r3()),Yk.exports}var x=s3(),E=hx();const cn=cx(E),dx=t3({__proto__:null,default:cn},[E]);var nm={},T0={exports:{}},tr={},rT={exports:{}},sT={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var iT;function i3(){return iT||(iT=1,(function(t){function e(H,ne){var ae=H.length;H.push(ne);e:for(;0<ae;){var G=ae-1>>>1,re=H[G];if(0<s(re,ne))H[G]=ne,H[ae]=re,ae=G;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ne=H[0],ae=H.pop();if(ae!==ne){H[0]=ae;e:for(var G=0,re=H.length,pe=re>>>1;G<pe;){var me=2*(G+1)-1,Me=H[me],ze=me+1,Ie=H[ze];if(0>s(Me,ae))ze<re&&0>s(Ie,Me)?(H[G]=Ie,H[ze]=ae,G=ze):(H[G]=Me,H[me]=ae,G=me);else if(ze<re&&0>s(Ie,ae))H[G]=Ie,H[ze]=ae,G=ze;else break e}}return ne}function s(H,ne){var ae=H.sortIndex-ne.sortIndex;return ae!==0?ae:H.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],d=[],p=1,g=null,v=3,S=!1,C=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(H){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=H)r(d),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(d)}}function V(H){if(T=!1,O(H),!C)if(n(c)!==null)C=!0,ye(U);else{var ne=n(d);ne!==null&&ve(V,ne.startTime-H)}}function U(H,ne){C=!1,T&&(T=!1,D(I),I=-1),S=!0;var ae=v;try{for(O(ne),g=n(c);g!==null&&(!(g.expirationTime>ne)||H&&!B());){var G=g.callback;if(typeof G=="function"){g.callback=null,v=g.priorityLevel;var re=G(g.expirationTime<=ne);ne=t.unstable_now(),typeof re=="function"?g.callback=re:g===n(c)&&r(c),O(ne)}else r(c);g=n(c)}if(g!==null)var pe=!0;else{var me=n(d);me!==null&&ve(V,me.startTime-ne),pe=!1}return pe}finally{g=null,v=ae,S=!1}}var W=!1,M=null,I=-1,N=5,j=-1;function B(){return!(t.unstable_now()-j<N)}function q(){if(M!==null){var H=t.unstable_now();j=H;var ne=!0;try{ne=M(!0,H)}finally{ne?L():(W=!1,M=null)}}else W=!1}var L;if(typeof A=="function")L=function(){A(q)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Ae=ke.port2;ke.port1.onmessage=q,L=function(){Ae.postMessage(null)}}else L=function(){_(q,0)};function ye(H){M=H,W||(W=!0,L())}function ve(H,ne){I=_(function(){H(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){C||S||(C=!0,ye(U))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var ae=v;v=ne;try{return H()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ae=v;v=H;try{return ne()}finally{v=ae}},t.unstable_scheduleCallback=function(H,ne,ae){var G=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?G+ae:G):ae=G,H){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ae+re,H={id:p++,callback:ne,priorityLevel:H,startTime:ae,expirationTime:re,sortIndex:-1},ae>G?(H.sortIndex=ae,e(d,H),n(c)===null&&H===n(d)&&(T?(D(I),I=-1):T=!0,ve(V,ae-G))):(H.sortIndex=re,e(c,H),C||S||(C=!0,ye(U))),H},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(H){var ne=v;return function(){var ae=v;v=ne;try{return H.apply(this,arguments)}finally{v=ae}}}})(sT)),sT}var aT;function a3(){return aT||(aT=1,rT.exports=i3()),rT.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var oT;function o3(){if(oT)return tr;oT=1;var t=hx(),e=a3();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(a,l){o(a,l),o(a+"Capture",l)}function o(a,l){for(s[a]=l,a=0;a<l.length;a++)r.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(a){return c.call(g,a)?!0:c.call(p,a)?!1:d.test(a)?g[a]=!0:(p[a]=!0,!1)}function S(a,l,h,m){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function C(a,l,h,m){if(l===null||typeof l>"u"||S(a,l,h,m))return!0;if(m)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(a,l,h,m,y,w,P){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=h,this.propertyName=a,this.type=l,this.sanitizeURL=w,this.removeEmptyString=P}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new T(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];_[l]=new T(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new T(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new T(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new T(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new T(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new T(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new T(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new T(a,5,!1,a.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function A(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(D,A);_[l]=new T(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(D,A);_[l]=new T(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(D,A);_[l]=new T(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new T(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new T(a,1,!1,a.toLowerCase(),null,!0,!0)});function O(a,l,h,m){var y=_.hasOwnProperty(l)?_[l]:null;(y!==null?y.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(C(l,h,y,m)&&(h=null),m||y===null?v(l)&&(h===null?a.removeAttribute(l):a.setAttribute(l,""+h)):y.mustUseProperty?a[y.propertyName]=h===null?y.type===3?!1:"":h:(l=y.attributeName,m=y.attributeNamespace,h===null?a.removeAttribute(l):(y=y.type,h=y===3||y===4&&h===!0?"":""+h,m?a.setAttributeNS(m,l,h):a.setAttribute(l,h))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),W=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),H=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=H&&a[H]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Object.assign,G;function re(a){if(G===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);G=l&&l[1]||""}return`
`+G+a}var pe=!1;function me(a,l){if(!a||pe)return"";pe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Z){var m=Z}Reflect.construct(a,[],l)}else{try{l.call()}catch(Z){m=Z}a.call(l.prototype)}else{try{throw Error()}catch(Z){m=Z}a()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),w=m.stack.split(`
`),P=y.length-1,F=w.length-1;1<=P&&0<=F&&y[P]!==w[F];)F--;for(;1<=P&&0<=F;P--,F--)if(y[P]!==w[F]){if(P!==1||F!==1)do if(P--,F--,0>F||y[P]!==w[F]){var z=`
`+y[P].replace(" at new "," at ");return a.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",a.displayName)),z}while(1<=P&&0<=F);break}}}finally{pe=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?re(a):""}function Me(a){switch(a.tag){case 5:return re(a.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return a=me(a.type,!1),a;case 11:return a=me(a.type.render,!1),a;case 1:return a=me(a.type,!0),a;default:return""}}function ze(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case W:return"Portal";case N:return"Profiler";case I:return"StrictMode";case L:return"Suspense";case ke:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case B:return(a.displayName||"Context")+".Consumer";case j:return(a._context.displayName||"Context")+".Provider";case q:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ae:return l=a.displayName||null,l!==null?l:ze(a.type)||"Memo";case ye:l=a._payload,a=a._init;try{return ze(a(l))}catch{}}return null}function Ie(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(l);case 8:return l===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function qe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ve(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function pt(a){var l=Ve(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),m=""+a[l];if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,w=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return y.call(this)},set:function(P){m=""+P,w.call(this,P)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(P){m=""+P},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function _r(a){a._valueTracker||(a._valueTracker=pt(a))}function Cr(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),m="";return a&&(m=Ve(a)?a.checked?"true":"false":a.value),a=m,a!==h?(l.setValue(a),!0):!1}function Qn(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Zi(a,l){var h=l.checked;return ae({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Wl(a,l){var h=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;h=qe(l.value!=null?l.value:h),a._wrapperState={initialChecked:m,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ea(a,l){l=l.checked,l!=null&&O(a,"checked",l,!1)}function li(a,l){ea(a,l);var h=qe(l.value),m=l.type;if(h!=null)m==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(m==="submit"||m==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?mt(a,l.type,h):l.hasOwnProperty("defaultValue")&&mt(a,l.type,qe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function go(a,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,h||l===a.value||(a.value=l),a.defaultValue=l}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function mt(a,l,h){(l!=="number"||Qn(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var Gt=Array.isArray;function Xr(a,l,h,m){if(a=a.options,l){l={};for(var y=0;y<h.length;y++)l["$"+h[y]]=!0;for(h=0;h<a.length;h++)y=l.hasOwnProperty("$"+a[h].value),a[h].selected!==y&&(a[h].selected=y),y&&m&&(a[h].defaultSelected=!0)}else{for(h=""+qe(h),l=null,y=0;y<a.length;y++){if(a[y].value===h){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}l!==null||a[y].disabled||(l=a[y])}l!==null&&(l.selected=!0)}}function Qc(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Xc(a,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(n(92));if(Gt(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),h=l}a._wrapperState={initialValue:qe(h)}}function Uf(a,l){var h=qe(l.value),m=qe(l.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),l.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),m!=null&&(a.defaultValue=""+m)}function ta(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Yc(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gl(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Yc(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var na,qf=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,m,y){MSApp.execUnsafeLocalFunction(function(){return a(l,h,m,y)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(na=na||document.createElement("div"),na.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=na.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function yo(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$f=["Webkit","ms","Moz","O"];Object.keys(ra).forEach(function(a){$f.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),ra[l]=ra[a]})});function sa(a,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||ra.hasOwnProperty(a)&&ra[a]?(""+l).trim():l+"px"}function Hl(a,l){a=a.style;for(var h in l)if(l.hasOwnProperty(h)){var m=h.indexOf("--")===0,y=sa(h,l[h],m);h==="float"&&(h="cssFloat"),m?a.setProperty(h,y):a[h]=y}}var Jc=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yr(a,l){if(l){if(Jc[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Ql(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ia=null;function Xl(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ui=null,ci=null,Dt=null;function Zc(a){if(a=_h(a)){if(typeof ui!="function")throw Error(n(280));var l=a.stateNode;l&&(l=yp(l),ui(a.stateNode,a.type,l))}}function aa(a){ci?Dt?Dt.push(a):Dt=[a]:ci=a}function oa(){if(ci){var a=ci,l=Dt;if(Dt=ci=null,Zc(a),l)for(a=0;a<l.length;a++)Zc(l[a])}}function Kf(a,l){return a(l)}function Wf(){}var ws=!1;function Gf(a,l,h){if(ws)return a(l,h);ws=!0;try{return Kf(a,l,h)}finally{ws=!1,(ci!==null||Dt!==null)&&(Wf(),oa())}}function vo(a,l){var h=a.stateNode;if(h===null)return null;var m=yp(h);if(m===null)return null;h=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var la=!1;if(u)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){la=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{la=!1}function Hf(a,l,h,m,y,w,P,F,z){var Z=Array.prototype.slice.call(arguments,3);try{l.apply(h,Z)}catch(ie){this.onError(ie)}}var hi=!1,bs=null,Yl=!1,Ir=null,Qf={onError:function(a){hi=!0,bs=a}};function Xf(a,l,h,m,y,w,P,F,z){hi=!1,bs=null,Hf.apply(Qf,arguments)}function eh(a,l,h,m,y,w,P,F,z){if(Xf.apply(this,arguments),hi){if(hi){var Z=bs;hi=!1,bs=null}else throw Error(n(198));Yl||(Yl=!0,Ir=Z)}}function Jr(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function th(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Yf(a){if(Jr(a)!==a)throw Error(n(188))}function Jf(a){var l=a.alternate;if(!l){if(l=Jr(a),l===null)throw Error(n(188));return l!==a?null:a}for(var h=a,m=l;;){var y=h.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){h=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===h)return Yf(y),a;if(w===m)return Yf(y),l;w=w.sibling}throw Error(n(188))}if(h.return!==m.return)h=y,m=w;else{for(var P=!1,F=y.child;F;){if(F===h){P=!0,h=y,m=w;break}if(F===m){P=!0,m=y,h=w;break}F=F.sibling}if(!P){for(F=w.child;F;){if(F===h){P=!0,h=w,m=y;break}if(F===m){P=!0,m=w,h=y;break}F=F.sibling}if(!P)throw Error(n(189))}}if(h.alternate!==m)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:l}function Zf(a){return a=Jf(a),a!==null?wo(a):null}function wo(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=wo(a);if(l!==null)return l;a=a.sibling}return null}var nh=e.unstable_scheduleCallback,Jl=e.unstable_cancelCallback,bo=e.unstable_shouldYield,di=e.unstable_requestPaint,gt=e.unstable_now,rv=e.unstable_getCurrentPriorityLevel,Zl=e.unstable_ImmediatePriority,rh=e.unstable_UserBlockingPriority,xo=e.unstable_NormalPriority,sh=e.unstable_LowPriority,eu=e.unstable_IdlePriority,Eo=null,ur=null;function ep(a){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Eo,a,void 0,(a.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:So,xs=Math.log,Pr=Math.LN2;function So(a){return a>>>=0,a===0?32:31-(xs(a)/Pr|0)|0}var Es=64,ca=4194304;function it(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function fi(a,l){var h=a.pendingLanes;if(h===0)return 0;var m=0,y=a.suspendedLanes,w=a.pingedLanes,P=h&268435455;if(P!==0){var F=P&~y;F!==0?m=it(F):(w&=P,w!==0&&(m=it(w)))}else P=h&~y,P!==0?m=it(P):w!==0&&(m=it(w));if(m===0)return 0;if(l!==0&&l!==m&&(l&y)===0&&(y=m&-m,w=l&-l,y>=w||y===16&&(w&4194240)!==0))return l;if((m&4)!==0&&(m|=h&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=m;0<l;)h=31-cr(l),y=1<<h,m|=a[h],l&=~y;return m}function ko(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function To(a,l){for(var h=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,w=a.pendingLanes;0<w;){var P=31-cr(w),F=1<<P,z=y[P];z===-1?((F&h)===0||(F&m)!==0)&&(y[P]=ko(F,l)):z<=l&&(a.expiredLanes|=F),w&=~F}}function ih(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function ah(){var a=Es;return Es<<=1,(Es&4194240)===0&&(Es=64),a}function oh(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function _o(a,l,h){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-cr(l),a[l]=h}function sv(a,l){var h=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var m=a.eventTimes;for(a=a.expirationTimes;0<h;){var y=31-cr(h),w=1<<y;l[y]=0,m[y]=-1,a[y]=-1,h&=~w}}function lh(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var m=31-cr(h),y=1<<m;y&l|a[m]&l&&(a[m]|=l),h&=~y}}var Qe=0;function Ss(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var uh,tu,ch,hh,dh,ks=!1,nu=[],Ts=null,_s=null,vn=null,Co=new Map,pi=new Map,hr=[],tp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ha(a,l){switch(a){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":Co.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(l.pointerId)}}function Zr(a,l,h,m,y,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:h,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},l!==null&&(l=_h(l),l!==null&&tu(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),a)}function np(a,l,h,m,y){switch(l){case"focusin":return Ts=Zr(Ts,a,l,h,m,y),!0;case"dragenter":return _s=Zr(_s,a,l,h,m,y),!0;case"mouseover":return vn=Zr(vn,a,l,h,m,y),!0;case"pointerover":var w=y.pointerId;return Co.set(w,Zr(Co.get(w)||null,a,l,h,m,y)),!0;case"gotpointercapture":return w=y.pointerId,pi.set(w,Zr(pi.get(w)||null,a,l,h,m,y)),!0}return!1}function ru(a){var l=No(a.target);if(l!==null){var h=Jr(l);if(h!==null){if(l=h.tag,l===13){if(l=th(h),l!==null){a.blockedOn=l,dh(a.priority,function(){ch(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ct(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=su(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var m=new h.constructor(h.type,h);ia=m,h.target.dispatchEvent(m),ia=null}else return l=_h(h),l!==null&&tu(l),a.blockedOn=h,!1;l.shift()}return!0}function rp(a,l,h){ct(a)&&h.delete(l)}function iv(){ks=!1,Ts!==null&&ct(Ts)&&(Ts=null),_s!==null&&ct(_s)&&(_s=null),vn!==null&&ct(vn)&&(vn=null),Co.forEach(rp),pi.forEach(rp)}function da(a,l){a.blockedOn===l&&(a.blockedOn=null,ks||(ks=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iv)))}function fa(a){function l(y){return da(y,a)}if(0<nu.length){da(nu[0],a);for(var h=1;h<nu.length;h++){var m=nu[h];m.blockedOn===a&&(m.blockedOn=null)}}for(Ts!==null&&da(Ts,a),_s!==null&&da(_s,a),vn!==null&&da(vn,a),Co.forEach(l),pi.forEach(l),h=0;h<hr.length;h++)m=hr[h],m.blockedOn===a&&(m.blockedOn=null);for(;0<hr.length&&(h=hr[0],h.blockedOn===null);)ru(h),h.blockedOn===null&&hr.shift()}var mi=V.ReactCurrentBatchConfig,gi=!0;function Cs(a,l,h,m){var y=Qe,w=mi.transition;mi.transition=null;try{Qe=1,fh(a,l,h,m)}finally{Qe=y,mi.transition=w}}function sp(a,l,h,m){var y=Qe,w=mi.transition;mi.transition=null;try{Qe=4,fh(a,l,h,m)}finally{Qe=y,mi.transition=w}}function fh(a,l,h,m){if(gi){var y=su(a,l,h,m);if(y===null)gv(a,l,m,Is,h),ha(a,m);else if(np(y,a,l,h,m))m.stopPropagation();else if(ha(a,m),l&4&&-1<tp.indexOf(a)){for(;y!==null;){var w=_h(y);if(w!==null&&uh(w),w=su(a,l,h,m),w===null&&gv(a,l,m,Is,h),w===y)break;y=w}y!==null&&m.stopPropagation()}else gv(a,l,m,null,h)}}var Is=null;function su(a,l,h,m){if(Is=null,a=Xl(m),a=No(a),a!==null)if(l=Jr(a),l===null)a=null;else if(h=l.tag,h===13){if(a=th(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return Is=a,null}function iu(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rv()){case Zl:return 1;case rh:return 4;case xo:case sh:return 16;case eu:return 536870912;default:return 16}default:return 16}}var dr=null,au=null,yi=null;function ip(){if(yi)return yi;var a,l=au,h=l.length,m,y="value"in dr?dr.value:dr.textContent,w=y.length;for(a=0;a<h&&l[a]===y[a];a++);var P=h-a;for(m=1;m<=P&&l[h-m]===y[w-m];m++);return yi=y.slice(a,1<m?1-m:void 0)}function Io(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Ps(){return!0}function ph(){return!1}function Cn(a){function l(h,m,y,w,P){this._reactName=h,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var F in a)a.hasOwnProperty(F)&&(h=a[F],this[F]=h?h(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ps:ph,this.isPropagationStopped=ph,this}return ae(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),l}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=Cn(Ds),pa=ae({},Ds,{view:0,detail:0}),ou=Cn(pa),lu,uu,fr,Do=ae({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ue,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==fr&&(fr&&a.type==="mousemove"?(lu=a.screenX-fr.screenX,uu=a.screenY-fr.screenY):uu=lu=0,fr=a),lu)},movementY:function(a){return"movementY"in a?a.movementY:uu}}),mh=Cn(Do),ap=ae({},Do,{dataTransfer:0}),op=Cn(ap),cu=ae({},pa,{relatedTarget:0}),wn=Cn(cu),lp=ae({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),up=Cn(lp),ma=ae({},Ds,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),f=Cn(ma),b=ae({},Ds,{data:0}),k=Cn(b),R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function he(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=ee[a])?!!l[a]:!1}function Ue(){return he}var Ht=ae({},pa,{key:function(a){if(a.key){var l=R[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Io(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Y[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ue,charCode:function(a){return a.type==="keypress"?Io(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Io(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ht=Cn(Ht),en=ae({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pr=Cn(en),ga=ae({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ue}),Ns=Cn(ga),As=ae({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),hu=Cn(As),gh=ae({},Do,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),L4=Cn(gh),F4=[9,13,27,32],av=u&&"CompositionEvent"in window,yh=null;u&&"documentMode"in document&&(yh=document.documentMode);var B4=u&&"TextEvent"in window&&!yh,jE=u&&(!av||yh&&8<yh&&11>=yh),LE=" ",FE=!1;function BE(a,l){switch(a){case"keyup":return F4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VE(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var du=!1;function V4(a,l){switch(a){case"compositionend":return VE(l);case"keypress":return l.which!==32?null:(FE=!0,LE);case"textInput":return a=l.data,a===LE&&FE?null:a;default:return null}}function z4(a,l){if(du)return a==="compositionend"||!av&&BE(a,l)?(a=ip(),yi=au=dr=null,du=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return jE&&l.locale!=="ko"?null:l.data;default:return null}}var U4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zE(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!U4[a.type]:l==="textarea"}function UE(a,l,h,m){aa(m),l=pp(l,"onChange"),0<l.length&&(h=new Po("onChange","change",null,h,m),a.push({event:h,listeners:l}))}var vh=null,wh=null;function q4(a){aS(a,0)}function cp(a){var l=yu(a);if(Cr(l))return a}function $4(a,l){if(a==="change")return l}var qE=!1;if(u){var ov;if(u){var lv="oninput"in document;if(!lv){var $E=document.createElement("div");$E.setAttribute("oninput","return;"),lv=typeof $E.oninput=="function"}ov=lv}else ov=!1;qE=ov&&(!document.documentMode||9<document.documentMode)}function KE(){vh&&(vh.detachEvent("onpropertychange",WE),wh=vh=null)}function WE(a){if(a.propertyName==="value"&&cp(wh)){var l=[];UE(l,wh,a,Xl(a)),Gf(q4,l)}}function K4(a,l,h){a==="focusin"?(KE(),vh=l,wh=h,vh.attachEvent("onpropertychange",WE)):a==="focusout"&&KE()}function W4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return cp(wh)}function G4(a,l){if(a==="click")return cp(l)}function H4(a,l){if(a==="input"||a==="change")return cp(l)}function Q4(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var es=typeof Object.is=="function"?Object.is:Q4;function bh(a,l){if(es(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),m=Object.keys(l);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var y=h[m];if(!c.call(l,y)||!es(a[y],l[y]))return!1}return!0}function GE(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function HE(a,l){var h=GE(a);a=0;for(var m;h;){if(h.nodeType===3){if(m=a+h.textContent.length,a<=l&&m>=l)return{node:h,offset:l-a};a=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=GE(h)}}function QE(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?QE(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function XE(){for(var a=window,l=Qn();l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=Qn(a.document)}return l}function uv(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function X4(a){var l=XE(),h=a.focusedElem,m=a.selectionRange;if(l!==h&&h&&h.ownerDocument&&QE(h.ownerDocument.documentElement,h)){if(m!==null&&uv(h)){if(l=m.start,a=m.end,a===void 0&&(a=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(a,h.value.length);else if(a=(l=h.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var y=h.textContent.length,w=Math.min(m.start,y);m=m.end===void 0?w:Math.min(m.end,y),!a.extend&&w>m&&(y=m,m=w,w=y),y=HE(h,w);var P=HE(h,m);y&&P&&(a.rangeCount!==1||a.anchorNode!==y.node||a.anchorOffset!==y.offset||a.focusNode!==P.node||a.focusOffset!==P.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),a.removeAllRanges(),w>m?(a.addRange(l),a.extend(P.node,P.offset)):(l.setEnd(P.node,P.offset),a.addRange(l)))}}for(l=[],a=h;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)a=l[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Y4=u&&"documentMode"in document&&11>=document.documentMode,fu=null,cv=null,xh=null,hv=!1;function YE(a,l,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;hv||fu==null||fu!==Qn(m)||(m=fu,"selectionStart"in m&&uv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),xh&&bh(xh,m)||(xh=m,m=pp(cv,"onSelect"),0<m.length&&(l=new Po("onSelect","select",null,l,h),a.push({event:l,listeners:m}),l.target=fu)))}function hp(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var pu={animationend:hp("Animation","AnimationEnd"),animationiteration:hp("Animation","AnimationIteration"),animationstart:hp("Animation","AnimationStart"),transitionend:hp("Transition","TransitionEnd")},dv={},JE={};u&&(JE=document.createElement("div").style,"AnimationEvent"in window||(delete pu.animationend.animation,delete pu.animationiteration.animation,delete pu.animationstart.animation),"TransitionEvent"in window||delete pu.transitionend.transition);function dp(a){if(dv[a])return dv[a];if(!pu[a])return a;var l=pu[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in JE)return dv[a]=l[h];return a}var ZE=dp("animationend"),eS=dp("animationiteration"),tS=dp("animationstart"),nS=dp("transitionend"),rS=new Map,sS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ya(a,l){rS.set(a,l),i(l,[a])}for(var fv=0;fv<sS.length;fv++){var pv=sS[fv],J4=pv.toLowerCase(),Z4=pv[0].toUpperCase()+pv.slice(1);ya(J4,"on"+Z4)}ya(ZE,"onAnimationEnd"),ya(eS,"onAnimationIteration"),ya(tS,"onAnimationStart"),ya("dblclick","onDoubleClick"),ya("focusin","onFocus"),ya("focusout","onBlur"),ya(nS,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eh));function iS(a,l,h){var m=a.type||"unknown-event";a.currentTarget=h,eh(m,l,void 0,a),a.currentTarget=null}function aS(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var m=a[h],y=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var P=m.length-1;0<=P;P--){var F=m[P],z=F.instance,Z=F.currentTarget;if(F=F.listener,z!==w&&y.isPropagationStopped())break e;iS(y,F,Z),w=z}else for(P=0;P<m.length;P++){if(F=m[P],z=F.instance,Z=F.currentTarget,F=F.listener,z!==w&&y.isPropagationStopped())break e;iS(y,F,Z),w=z}}}if(Yl)throw a=Ir,Yl=!1,Ir=null,a}function yt(a,l){var h=l[Ev];h===void 0&&(h=l[Ev]=new Set);var m=a+"__bubble";h.has(m)||(oS(l,a,2,!1),h.add(m))}function mv(a,l,h){var m=0;l&&(m|=4),oS(h,a,m,l)}var fp="_reactListening"+Math.random().toString(36).slice(2);function Sh(a){if(!a[fp]){a[fp]=!0,r.forEach(function(h){h!=="selectionchange"&&(eL.has(h)||mv(h,!1,a),mv(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[fp]||(l[fp]=!0,mv("selectionchange",!1,l))}}function oS(a,l,h,m){switch(iu(l)){case 1:var y=Cs;break;case 4:y=sp;break;default:y=fh}h=y.bind(null,l,h,a),y=void 0,!la||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(l,h,{capture:!0,passive:y}):a.addEventListener(l,h,!0):y!==void 0?a.addEventListener(l,h,{passive:y}):a.addEventListener(l,h,!1)}function gv(a,l,h,m,y){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var F=m.stateNode.containerInfo;if(F===y||F.nodeType===8&&F.parentNode===y)break;if(P===4)for(P=m.return;P!==null;){var z=P.tag;if((z===3||z===4)&&(z=P.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;P=P.return}for(;F!==null;){if(P=No(F),P===null)return;if(z=P.tag,z===5||z===6){m=w=P;continue e}F=F.parentNode}}m=m.return}Gf(function(){var Z=w,ie=Xl(h),oe=[];e:{var se=rS.get(a);if(se!==void 0){var fe=Po,be=a;switch(a){case"keypress":if(Io(h)===0)break e;case"keydown":case"keyup":fe=ht;break;case"focusin":be="focus",fe=wn;break;case"focusout":be="blur",fe=wn;break;case"beforeblur":case"afterblur":fe=wn;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Ns;break;case ZE:case eS:case tS:fe=up;break;case nS:fe=hu;break;case"scroll":fe=ou;break;case"wheel":fe=L4;break;case"copy":case"cut":case"paste":fe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=pr}var Te=(l&4)!==0,Qt=!Te&&a==="scroll",X=Te?se!==null?se+"Capture":null:se;Te=[];for(var K=Z,J;K!==null;){J=K;var ue=J.stateNode;if(J.tag===5&&ue!==null&&(J=ue,X!==null&&(ue=vo(K,X),ue!=null&&Te.push(kh(K,ue,J)))),Qt)break;K=K.return}0<Te.length&&(se=new fe(se,be,null,h,ie),oe.push({event:se,listeners:Te}))}}if((l&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",fe=a==="mouseout"||a==="pointerout",se&&h!==ia&&(be=h.relatedTarget||h.fromElement)&&(No(be)||be[vi]))break e;if((fe||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,fe?(be=h.relatedTarget||h.toElement,fe=Z,be=be?No(be):null,be!==null&&(Qt=Jr(be),be!==Qt||be.tag!==5&&be.tag!==6)&&(be=null)):(fe=null,be=Z),fe!==be)){if(Te=mh,ue="onMouseLeave",X="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(Te=pr,ue="onPointerLeave",X="onPointerEnter",K="pointer"),Qt=fe==null?se:yu(fe),J=be==null?se:yu(be),se=new Te(ue,K+"leave",fe,h,ie),se.target=Qt,se.relatedTarget=J,ue=null,No(ie)===Z&&(Te=new Te(X,K+"enter",be,h,ie),Te.target=J,Te.relatedTarget=Qt,ue=Te),Qt=ue,fe&&be)t:{for(Te=fe,X=be,K=0,J=Te;J;J=mu(J))K++;for(J=0,ue=X;ue;ue=mu(ue))J++;for(;0<K-J;)Te=mu(Te),K--;for(;0<J-K;)X=mu(X),J--;for(;K--;){if(Te===X||X!==null&&Te===X.alternate)break t;Te=mu(Te),X=mu(X)}Te=null}else Te=null;fe!==null&&lS(oe,se,fe,Te,!1),be!==null&&Qt!==null&&lS(oe,Qt,be,Te,!0)}}e:{if(se=Z?yu(Z):window,fe=se.nodeName&&se.nodeName.toLowerCase(),fe==="select"||fe==="input"&&se.type==="file")var _e=$4;else if(zE(se))if(qE)_e=H4;else{_e=W4;var De=K4}else(fe=se.nodeName)&&fe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(_e=G4);if(_e&&(_e=_e(a,Z))){UE(oe,_e,h,ie);break e}De&&De(a,se,Z),a==="focusout"&&(De=se._wrapperState)&&De.controlled&&se.type==="number"&&mt(se,"number",se.value)}switch(De=Z?yu(Z):window,a){case"focusin":(zE(De)||De.contentEditable==="true")&&(fu=De,cv=Z,xh=null);break;case"focusout":xh=cv=fu=null;break;case"mousedown":hv=!0;break;case"contextmenu":case"mouseup":case"dragend":hv=!1,YE(oe,h,ie);break;case"selectionchange":if(Y4)break;case"keydown":case"keyup":YE(oe,h,ie)}var Ne;if(av)e:{switch(a){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else du?BE(a,h)&&(Le="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Le="onCompositionStart");Le&&(jE&&h.locale!=="ko"&&(du||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&du&&(Ne=ip()):(dr=ie,au="value"in dr?dr.value:dr.textContent,du=!0)),De=pp(Z,Le),0<De.length&&(Le=new k(Le,a,null,h,ie),oe.push({event:Le,listeners:De}),Ne?Le.data=Ne:(Ne=VE(h),Ne!==null&&(Le.data=Ne)))),(Ne=B4?V4(a,h):z4(a,h))&&(Z=pp(Z,"onBeforeInput"),0<Z.length&&(ie=new k("onBeforeInput","beforeinput",null,h,ie),oe.push({event:ie,listeners:Z}),ie.data=Ne))}aS(oe,l)})}function kh(a,l,h){return{instance:a,listener:l,currentTarget:h}}function pp(a,l){for(var h=l+"Capture",m=[];a!==null;){var y=a,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=vo(a,h),w!=null&&m.unshift(kh(a,w,y)),w=vo(a,l),w!=null&&m.push(kh(a,w,y))),a=a.return}return m}function mu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function lS(a,l,h,m,y){for(var w=l._reactName,P=[];h!==null&&h!==m;){var F=h,z=F.alternate,Z=F.stateNode;if(z!==null&&z===m)break;F.tag===5&&Z!==null&&(F=Z,y?(z=vo(h,w),z!=null&&P.unshift(kh(h,z,F))):y||(z=vo(h,w),z!=null&&P.push(kh(h,z,F)))),h=h.return}P.length!==0&&a.push({event:l,listeners:P})}var tL=/\r\n?/g,nL=/\u0000|\uFFFD/g;function uS(a){return(typeof a=="string"?a:""+a).replace(tL,`
`).replace(nL,"")}function mp(a,l,h){if(l=uS(l),uS(a)!==l&&h)throw Error(n(425))}function gp(){}var yv=null,vv=null;function wv(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var bv=typeof setTimeout=="function"?setTimeout:void 0,rL=typeof clearTimeout=="function"?clearTimeout:void 0,cS=typeof Promise=="function"?Promise:void 0,sL=typeof queueMicrotask=="function"?queueMicrotask:typeof cS<"u"?function(a){return cS.resolve(null).then(a).catch(iL)}:bv;function iL(a){setTimeout(function(){throw a})}function xv(a,l){var h=l,m=0;do{var y=h.nextSibling;if(a.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(m===0){a.removeChild(y),fa(l);return}m--}else h!=="$"&&h!=="$?"&&h!=="$!"||m++;h=y}while(h);fa(l)}function va(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function hS(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}var gu=Math.random().toString(36).slice(2),Ms="__reactFiber$"+gu,Th="__reactProps$"+gu,vi="__reactContainer$"+gu,Ev="__reactEvents$"+gu,aL="__reactListeners$"+gu,oL="__reactHandles$"+gu;function No(a){var l=a[Ms];if(l)return l;for(var h=a.parentNode;h;){if(l=h[vi]||h[Ms]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=hS(a);a!==null;){if(h=a[Ms])return h;a=hS(a)}return l}a=h,h=a.parentNode}return null}function _h(a){return a=a[Ms]||a[vi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function yu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function yp(a){return a[Th]||null}var Sv=[],vu=-1;function wa(a){return{current:a}}function vt(a){0>vu||(a.current=Sv[vu],Sv[vu]=null,vu--)}function dt(a,l){vu++,Sv[vu]=a.current,a.current=l}var ba={},In=wa(ba),Xn=wa(!1),Ao=ba;function wu(a,l){var h=a.type.contextTypes;if(!h)return ba;var m=a.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in h)y[w]=l[w];return m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=y),y}function Yn(a){return a=a.childContextTypes,a!=null}function vp(){vt(Xn),vt(In)}function dS(a,l,h){if(In.current!==ba)throw Error(n(168));dt(In,l),dt(Xn,h)}function fS(a,l,h){var m=a.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return h;m=m.getChildContext();for(var y in m)if(!(y in l))throw Error(n(108,Ie(a)||"Unknown",y));return ae({},h,m)}function wp(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ba,Ao=In.current,dt(In,a),dt(Xn,Xn.current),!0}function pS(a,l,h){var m=a.stateNode;if(!m)throw Error(n(169));h?(a=fS(a,l,Ao),m.__reactInternalMemoizedMergedChildContext=a,vt(Xn),vt(In),dt(In,a)):vt(Xn),dt(Xn,h)}var wi=null,bp=!1,kv=!1;function mS(a){wi===null?wi=[a]:wi.push(a)}function lL(a){bp=!0,mS(a)}function xa(){if(!kv&&wi!==null){kv=!0;var a=0,l=Qe;try{var h=wi;for(Qe=1;a<h.length;a++){var m=h[a];do m=m(!0);while(m!==null)}wi=null,bp=!1}catch(y){throw wi!==null&&(wi=wi.slice(a+1)),nh(Zl,xa),y}finally{Qe=l,kv=!1}}return null}var bu=[],xu=0,xp=null,Ep=0,Dr=[],Nr=0,Mo=null,bi=1,xi="";function Ro(a,l){bu[xu++]=Ep,bu[xu++]=xp,xp=a,Ep=l}function gS(a,l,h){Dr[Nr++]=bi,Dr[Nr++]=xi,Dr[Nr++]=Mo,Mo=a;var m=bi;a=xi;var y=32-cr(m)-1;m&=~(1<<y),h+=1;var w=32-cr(l)+y;if(30<w){var P=y-y%5;w=(m&(1<<P)-1).toString(32),m>>=P,y-=P,bi=1<<32-cr(l)+y|h<<y|m,xi=w+a}else bi=1<<w|h<<y|m,xi=a}function Tv(a){a.return!==null&&(Ro(a,1),gS(a,1,0))}function _v(a){for(;a===xp;)xp=bu[--xu],bu[xu]=null,Ep=bu[--xu],bu[xu]=null;for(;a===Mo;)Mo=Dr[--Nr],Dr[Nr]=null,xi=Dr[--Nr],Dr[Nr]=null,bi=Dr[--Nr],Dr[Nr]=null}var mr=null,gr=null,bt=!1,ts=null;function yS(a,l){var h=Or(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=a,l=a.deletions,l===null?(a.deletions=[h],a.flags|=16):l.push(h)}function vS(a,l){switch(a.tag){case 5:var h=a.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,mr=a,gr=va(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,mr=a,gr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=Mo!==null?{id:bi,overflow:xi}:null,a.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Or(18,null,null,0),h.stateNode=l,h.return=a,a.child=h,mr=a,gr=null,!0):!1;default:return!1}}function Cv(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Iv(a){if(bt){var l=gr;if(l){var h=l;if(!vS(a,l)){if(Cv(a))throw Error(n(418));l=va(h.nextSibling);var m=mr;l&&vS(a,l)?yS(m,h):(a.flags=a.flags&-4097|2,bt=!1,mr=a)}}else{if(Cv(a))throw Error(n(418));a.flags=a.flags&-4097|2,bt=!1,mr=a}}}function wS(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;mr=a}function Sp(a){if(a!==mr)return!1;if(!bt)return wS(a),bt=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!wv(a.type,a.memoizedProps)),l&&(l=gr)){if(Cv(a))throw bS(),Error(n(418));for(;l;)yS(a,l),l=va(l.nextSibling)}if(wS(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(l===0){gr=va(a.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}a=a.nextSibling}gr=null}}else gr=mr?va(a.stateNode.nextSibling):null;return!0}function bS(){for(var a=gr;a;)a=va(a.nextSibling)}function Eu(){gr=mr=null,bt=!1}function Pv(a){ts===null?ts=[a]:ts.push(a)}var uL=V.ReactCurrentBatchConfig;function Ch(a,l,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var m=h.stateNode}if(!m)throw Error(n(147,a));var y=m,w=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(P){var F=y.refs;P===null?delete F[w]:F[w]=P},l._stringRef=w,l)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function kp(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function xS(a){var l=a._init;return l(a._payload)}function ES(a){function l(X,K){if(a){var J=X.deletions;J===null?(X.deletions=[K],X.flags|=16):J.push(K)}}function h(X,K){if(!a)return null;for(;K!==null;)l(X,K),K=K.sibling;return null}function m(X,K){for(X=new Map;K!==null;)K.key!==null?X.set(K.key,K):X.set(K.index,K),K=K.sibling;return X}function y(X,K){return X=Pa(X,K),X.index=0,X.sibling=null,X}function w(X,K,J){return X.index=J,a?(J=X.alternate,J!==null?(J=J.index,J<K?(X.flags|=2,K):J):(X.flags|=2,K)):(X.flags|=1048576,K)}function P(X){return a&&X.alternate===null&&(X.flags|=2),X}function F(X,K,J,ue){return K===null||K.tag!==6?(K=w0(J,X.mode,ue),K.return=X,K):(K=y(K,J),K.return=X,K)}function z(X,K,J,ue){var _e=J.type;return _e===M?ie(X,K,J.props.children,ue,J.key):K!==null&&(K.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ye&&xS(_e)===K.type)?(ue=y(K,J.props),ue.ref=Ch(X,K,J),ue.return=X,ue):(ue=Hp(J.type,J.key,J.props,null,X.mode,ue),ue.ref=Ch(X,K,J),ue.return=X,ue)}function Z(X,K,J,ue){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=b0(J,X.mode,ue),K.return=X,K):(K=y(K,J.children||[]),K.return=X,K)}function ie(X,K,J,ue,_e){return K===null||K.tag!==7?(K=Uo(J,X.mode,ue,_e),K.return=X,K):(K=y(K,J),K.return=X,K)}function oe(X,K,J){if(typeof K=="string"&&K!==""||typeof K=="number")return K=w0(""+K,X.mode,J),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case U:return J=Hp(K.type,K.key,K.props,null,X.mode,J),J.ref=Ch(X,null,K),J.return=X,J;case W:return K=b0(K,X.mode,J),K.return=X,K;case ye:var ue=K._init;return oe(X,ue(K._payload),J)}if(Gt(K)||ne(K))return K=Uo(K,X.mode,J,null),K.return=X,K;kp(X,K)}return null}function se(X,K,J,ue){var _e=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return _e!==null?null:F(X,K,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case U:return J.key===_e?z(X,K,J,ue):null;case W:return J.key===_e?Z(X,K,J,ue):null;case ye:return _e=J._init,se(X,K,_e(J._payload),ue)}if(Gt(J)||ne(J))return _e!==null?null:ie(X,K,J,ue,null);kp(X,J)}return null}function fe(X,K,J,ue,_e){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return X=X.get(J)||null,F(K,X,""+ue,_e);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case U:return X=X.get(ue.key===null?J:ue.key)||null,z(K,X,ue,_e);case W:return X=X.get(ue.key===null?J:ue.key)||null,Z(K,X,ue,_e);case ye:var De=ue._init;return fe(X,K,J,De(ue._payload),_e)}if(Gt(ue)||ne(ue))return X=X.get(J)||null,ie(K,X,ue,_e,null);kp(K,ue)}return null}function be(X,K,J,ue){for(var _e=null,De=null,Ne=K,Le=K=0,mn=null;Ne!==null&&Le<J.length;Le++){Ne.index>Le?(mn=Ne,Ne=null):mn=Ne.sibling;var st=se(X,Ne,J[Le],ue);if(st===null){Ne===null&&(Ne=mn);break}a&&Ne&&st.alternate===null&&l(X,Ne),K=w(st,K,Le),De===null?_e=st:De.sibling=st,De=st,Ne=mn}if(Le===J.length)return h(X,Ne),bt&&Ro(X,Le),_e;if(Ne===null){for(;Le<J.length;Le++)Ne=oe(X,J[Le],ue),Ne!==null&&(K=w(Ne,K,Le),De===null?_e=Ne:De.sibling=Ne,De=Ne);return bt&&Ro(X,Le),_e}for(Ne=m(X,Ne);Le<J.length;Le++)mn=fe(Ne,X,Le,J[Le],ue),mn!==null&&(a&&mn.alternate!==null&&Ne.delete(mn.key===null?Le:mn.key),K=w(mn,K,Le),De===null?_e=mn:De.sibling=mn,De=mn);return a&&Ne.forEach(function(Da){return l(X,Da)}),bt&&Ro(X,Le),_e}function Te(X,K,J,ue){var _e=ne(J);if(typeof _e!="function")throw Error(n(150));if(J=_e.call(J),J==null)throw Error(n(151));for(var De=_e=null,Ne=K,Le=K=0,mn=null,st=J.next();Ne!==null&&!st.done;Le++,st=J.next()){Ne.index>Le?(mn=Ne,Ne=null):mn=Ne.sibling;var Da=se(X,Ne,st.value,ue);if(Da===null){Ne===null&&(Ne=mn);break}a&&Ne&&Da.alternate===null&&l(X,Ne),K=w(Da,K,Le),De===null?_e=Da:De.sibling=Da,De=Da,Ne=mn}if(st.done)return h(X,Ne),bt&&Ro(X,Le),_e;if(Ne===null){for(;!st.done;Le++,st=J.next())st=oe(X,st.value,ue),st!==null&&(K=w(st,K,Le),De===null?_e=st:De.sibling=st,De=st);return bt&&Ro(X,Le),_e}for(Ne=m(X,Ne);!st.done;Le++,st=J.next())st=fe(Ne,X,Le,st.value,ue),st!==null&&(a&&st.alternate!==null&&Ne.delete(st.key===null?Le:st.key),K=w(st,K,Le),De===null?_e=st:De.sibling=st,De=st);return a&&Ne.forEach(function(UL){return l(X,UL)}),bt&&Ro(X,Le),_e}function Qt(X,K,J,ue){if(typeof J=="object"&&J!==null&&J.type===M&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case U:e:{for(var _e=J.key,De=K;De!==null;){if(De.key===_e){if(_e=J.type,_e===M){if(De.tag===7){h(X,De.sibling),K=y(De,J.props.children),K.return=X,X=K;break e}}else if(De.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ye&&xS(_e)===De.type){h(X,De.sibling),K=y(De,J.props),K.ref=Ch(X,De,J),K.return=X,X=K;break e}h(X,De);break}else l(X,De);De=De.sibling}J.type===M?(K=Uo(J.props.children,X.mode,ue,J.key),K.return=X,X=K):(ue=Hp(J.type,J.key,J.props,null,X.mode,ue),ue.ref=Ch(X,K,J),ue.return=X,X=ue)}return P(X);case W:e:{for(De=J.key;K!==null;){if(K.key===De)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){h(X,K.sibling),K=y(K,J.children||[]),K.return=X,X=K;break e}else{h(X,K);break}else l(X,K);K=K.sibling}K=b0(J,X.mode,ue),K.return=X,X=K}return P(X);case ye:return De=J._init,Qt(X,K,De(J._payload),ue)}if(Gt(J))return be(X,K,J,ue);if(ne(J))return Te(X,K,J,ue);kp(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,K!==null&&K.tag===6?(h(X,K.sibling),K=y(K,J),K.return=X,X=K):(h(X,K),K=w0(J,X.mode,ue),K.return=X,X=K),P(X)):h(X,K)}return Qt}var Su=ES(!0),SS=ES(!1),Tp=wa(null),_p=null,ku=null,Dv=null;function Nv(){Dv=ku=_p=null}function Av(a){var l=Tp.current;vt(Tp),a._currentValue=l}function Mv(a,l,h){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===h)break;a=a.return}}function Tu(a,l){_p=a,Dv=ku=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(Jn=!0),a.firstContext=null)}function Ar(a){var l=a._currentValue;if(Dv!==a)if(a={context:a,memoizedValue:l,next:null},ku===null){if(_p===null)throw Error(n(308));ku=a,_p.dependencies={lanes:0,firstContext:a}}else ku=ku.next=a;return l}var Oo=null;function Rv(a){Oo===null?Oo=[a]:Oo.push(a)}function kS(a,l,h,m){var y=l.interleaved;return y===null?(h.next=h,Rv(l)):(h.next=y.next,y.next=h),l.interleaved=h,Ei(a,m)}function Ei(a,l){a.lanes|=l;var h=a.alternate;for(h!==null&&(h.lanes|=l),h=a,a=a.return;a!==null;)a.childLanes|=l,h=a.alternate,h!==null&&(h.childLanes|=l),h=a,a=a.return;return h.tag===3?h.stateNode:null}var Ea=!1;function Ov(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TS(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Si(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Sa(a,l,h){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(tt&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,Ei(a,h)}return y=m.interleaved,y===null?(l.next=l,Rv(m)):(l.next=y.next,y.next=l),m.interleaved=l,Ei(a,h)}function Cp(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var m=l.lanes;m&=a.pendingLanes,h|=m,l.lanes=h,lh(a,h)}}function _S(a,l){var h=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var y=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var P={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};w===null?y=w=P:w=w.next=P,h=h.next}while(h!==null);w===null?y=w=l:w=w.next=l}else y=w=l;h={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,effects:m.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}function Ip(a,l,h,m){var y=a.updateQueue;Ea=!1;var w=y.firstBaseUpdate,P=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var z=F,Z=z.next;z.next=null,P===null?w=Z:P.next=Z,P=z;var ie=a.alternate;ie!==null&&(ie=ie.updateQueue,F=ie.lastBaseUpdate,F!==P&&(F===null?ie.firstBaseUpdate=Z:F.next=Z,ie.lastBaseUpdate=z))}if(w!==null){var oe=y.baseState;P=0,ie=Z=z=null,F=w;do{var se=F.lane,fe=F.eventTime;if((m&se)===se){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var be=a,Te=F;switch(se=l,fe=h,Te.tag){case 1:if(be=Te.payload,typeof be=="function"){oe=be.call(fe,oe,se);break e}oe=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Te.payload,se=typeof be=="function"?be.call(fe,oe,se):be,se==null)break e;oe=ae({},oe,se);break e;case 2:Ea=!0}}F.callback!==null&&F.lane!==0&&(a.flags|=64,se=y.effects,se===null?y.effects=[F]:se.push(F))}else fe={eventTime:fe,lane:se,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ie===null?(Z=ie=fe,z=oe):ie=ie.next=fe,P|=se;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;se=F,F=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);if(ie===null&&(z=oe),y.baseState=z,y.firstBaseUpdate=Z,y.lastBaseUpdate=ie,l=y.shared.interleaved,l!==null){y=l;do P|=y.lane,y=y.next;while(y!==l)}else w===null&&(y.shared.lanes=0);Fo|=P,a.lanes=P,a.memoizedState=oe}}function CS(a,l,h){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var m=a[l],y=m.callback;if(y!==null){if(m.callback=null,m=h,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var Ih={},Rs=wa(Ih),Ph=wa(Ih),Dh=wa(Ih);function jo(a){if(a===Ih)throw Error(n(174));return a}function jv(a,l){switch(dt(Dh,l),dt(Ph,a),dt(Rs,Ih),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Gl(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=Gl(l,a)}vt(Rs),dt(Rs,l)}function _u(){vt(Rs),vt(Ph),vt(Dh)}function IS(a){jo(Dh.current);var l=jo(Rs.current),h=Gl(l,a.type);l!==h&&(dt(Ph,a),dt(Rs,h))}function Lv(a){Ph.current===a&&(vt(Rs),vt(Ph))}var kt=wa(0);function Pp(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Fv=[];function Bv(){for(var a=0;a<Fv.length;a++)Fv[a]._workInProgressVersionPrimary=null;Fv.length=0}var Dp=V.ReactCurrentDispatcher,Vv=V.ReactCurrentBatchConfig,Lo=0,Tt=null,on=null,fn=null,Np=!1,Nh=!1,Ah=0,cL=0;function Pn(){throw Error(n(321))}function zv(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!es(a[h],l[h]))return!1;return!0}function Uv(a,l,h,m,y,w){if(Lo=w,Tt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Dp.current=a===null||a.memoizedState===null?pL:mL,a=h(m,y),Nh){w=0;do{if(Nh=!1,Ah=0,25<=w)throw Error(n(301));w+=1,fn=on=null,l.updateQueue=null,Dp.current=gL,a=h(m,y)}while(Nh)}if(Dp.current=Rp,l=on!==null&&on.next!==null,Lo=0,fn=on=Tt=null,Np=!1,l)throw Error(n(300));return a}function qv(){var a=Ah!==0;return Ah=0,a}function Os(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Tt.memoizedState=fn=a:fn=fn.next=a,fn}function Mr(){if(on===null){var a=Tt.alternate;a=a!==null?a.memoizedState:null}else a=on.next;var l=fn===null?Tt.memoizedState:fn.next;if(l!==null)fn=l,on=a;else{if(a===null)throw Error(n(310));on=a,a={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},fn===null?Tt.memoizedState=fn=a:fn=fn.next=a}return fn}function Mh(a,l){return typeof l=="function"?l(a):l}function $v(a){var l=Mr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var m=on,y=m.baseQueue,w=h.pending;if(w!==null){if(y!==null){var P=y.next;y.next=w.next,w.next=P}m.baseQueue=y=w,h.pending=null}if(y!==null){w=y.next,m=m.baseState;var F=P=null,z=null,Z=w;do{var ie=Z.lane;if((Lo&ie)===ie)z!==null&&(z=z.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:a(m,Z.action);else{var oe={lane:ie,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};z===null?(F=z=oe,P=m):z=z.next=oe,Tt.lanes|=ie,Fo|=ie}Z=Z.next}while(Z!==null&&Z!==w);z===null?P=m:z.next=F,es(m,l.memoizedState)||(Jn=!0),l.memoizedState=m,l.baseState=P,l.baseQueue=z,h.lastRenderedState=m}if(a=h.interleaved,a!==null){y=a;do w=y.lane,Tt.lanes|=w,Fo|=w,y=y.next;while(y!==a)}else y===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function Kv(a){var l=Mr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var m=h.dispatch,y=h.pending,w=l.memoizedState;if(y!==null){h.pending=null;var P=y=y.next;do w=a(w,P.action),P=P.next;while(P!==y);es(w,l.memoizedState)||(Jn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),h.lastRenderedState=w}return[w,m]}function PS(){}function DS(a,l){var h=Tt,m=Mr(),y=l(),w=!es(m.memoizedState,y);if(w&&(m.memoizedState=y,Jn=!0),m=m.queue,Wv(MS.bind(null,h,m,a),[a]),m.getSnapshot!==l||w||fn!==null&&fn.memoizedState.tag&1){if(h.flags|=2048,Rh(9,AS.bind(null,h,m,y,l),void 0,null),pn===null)throw Error(n(349));(Lo&30)!==0||NS(h,l,y)}return y}function NS(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=Tt.updateQueue,l===null?(l={lastEffect:null,stores:null},Tt.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function AS(a,l,h,m){l.value=h,l.getSnapshot=m,RS(l)&&OS(a)}function MS(a,l,h){return h(function(){RS(l)&&OS(a)})}function RS(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!es(a,h)}catch{return!0}}function OS(a){var l=Ei(a,1);l!==null&&is(l,a,1,-1)}function jS(a){var l=Os();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mh,lastRenderedState:a},l.queue=a,a=a.dispatch=fL.bind(null,Tt,a),[l.memoizedState,a]}function Rh(a,l,h,m){return a={tag:a,create:l,destroy:h,deps:m,next:null},l=Tt.updateQueue,l===null?(l={lastEffect:null,stores:null},Tt.updateQueue=l,l.lastEffect=a.next=a):(h=l.lastEffect,h===null?l.lastEffect=a.next=a:(m=h.next,h.next=a,a.next=m,l.lastEffect=a)),a}function LS(){return Mr().memoizedState}function Ap(a,l,h,m){var y=Os();Tt.flags|=a,y.memoizedState=Rh(1|l,h,void 0,m===void 0?null:m)}function Mp(a,l,h,m){var y=Mr();m=m===void 0?null:m;var w=void 0;if(on!==null){var P=on.memoizedState;if(w=P.destroy,m!==null&&zv(m,P.deps)){y.memoizedState=Rh(l,h,w,m);return}}Tt.flags|=a,y.memoizedState=Rh(1|l,h,w,m)}function FS(a,l){return Ap(8390656,8,a,l)}function Wv(a,l){return Mp(2048,8,a,l)}function BS(a,l){return Mp(4,2,a,l)}function VS(a,l){return Mp(4,4,a,l)}function zS(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function US(a,l,h){return h=h!=null?h.concat([a]):null,Mp(4,4,zS.bind(null,l,a),h)}function Gv(){}function qS(a,l){var h=Mr();l=l===void 0?null:l;var m=h.memoizedState;return m!==null&&l!==null&&zv(l,m[1])?m[0]:(h.memoizedState=[a,l],a)}function $S(a,l){var h=Mr();l=l===void 0?null:l;var m=h.memoizedState;return m!==null&&l!==null&&zv(l,m[1])?m[0]:(a=a(),h.memoizedState=[a,l],a)}function KS(a,l,h){return(Lo&21)===0?(a.baseState&&(a.baseState=!1,Jn=!0),a.memoizedState=h):(es(h,l)||(h=ah(),Tt.lanes|=h,Fo|=h,a.baseState=!0),l)}function hL(a,l){var h=Qe;Qe=h!==0&&4>h?h:4,a(!0);var m=Vv.transition;Vv.transition={};try{a(!1),l()}finally{Qe=h,Vv.transition=m}}function WS(){return Mr().memoizedState}function dL(a,l,h){var m=Ca(a);if(h={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null},GS(a))HS(l,h);else if(h=kS(a,l,h,m),h!==null){var y=Vn();is(h,a,m,y),QS(h,l,m)}}function fL(a,l,h){var m=Ca(a),y={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null};if(GS(a))HS(l,y);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var P=l.lastRenderedState,F=w(P,h);if(y.hasEagerState=!0,y.eagerState=F,es(F,P)){var z=l.interleaved;z===null?(y.next=y,Rv(l)):(y.next=z.next,z.next=y),l.interleaved=y;return}}catch{}finally{}h=kS(a,l,y,m),h!==null&&(y=Vn(),is(h,a,m,y),QS(h,l,m))}}function GS(a){var l=a.alternate;return a===Tt||l!==null&&l===Tt}function HS(a,l){Nh=Np=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function QS(a,l,h){if((h&4194240)!==0){var m=l.lanes;m&=a.pendingLanes,h|=m,l.lanes=h,lh(a,h)}}var Rp={readContext:Ar,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},pL={readContext:Ar,useCallback:function(a,l){return Os().memoizedState=[a,l===void 0?null:l],a},useContext:Ar,useEffect:FS,useImperativeHandle:function(a,l,h){return h=h!=null?h.concat([a]):null,Ap(4194308,4,zS.bind(null,l,a),h)},useLayoutEffect:function(a,l){return Ap(4194308,4,a,l)},useInsertionEffect:function(a,l){return Ap(4,2,a,l)},useMemo:function(a,l){var h=Os();return l=l===void 0?null:l,a=a(),h.memoizedState=[a,l],a},useReducer:function(a,l,h){var m=Os();return l=h!==void 0?h(l):l,m.memoizedState=m.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},m.queue=a,a=a.dispatch=dL.bind(null,Tt,a),[m.memoizedState,a]},useRef:function(a){var l=Os();return a={current:a},l.memoizedState=a},useState:jS,useDebugValue:Gv,useDeferredValue:function(a){return Os().memoizedState=a},useTransition:function(){var a=jS(!1),l=a[0];return a=hL.bind(null,a[1]),Os().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,h){var m=Tt,y=Os();if(bt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),pn===null)throw Error(n(349));(Lo&30)!==0||NS(m,l,h)}y.memoizedState=h;var w={value:h,getSnapshot:l};return y.queue=w,FS(MS.bind(null,m,w,a),[a]),m.flags|=2048,Rh(9,AS.bind(null,m,w,h,l),void 0,null),h},useId:function(){var a=Os(),l=pn.identifierPrefix;if(bt){var h=xi,m=bi;h=(m&~(1<<32-cr(m)-1)).toString(32)+h,l=":"+l+"R"+h,h=Ah++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=cL++,l=":"+l+"r"+h.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},mL={readContext:Ar,useCallback:qS,useContext:Ar,useEffect:Wv,useImperativeHandle:US,useInsertionEffect:BS,useLayoutEffect:VS,useMemo:$S,useReducer:$v,useRef:LS,useState:function(){return $v(Mh)},useDebugValue:Gv,useDeferredValue:function(a){var l=Mr();return KS(l,on.memoizedState,a)},useTransition:function(){var a=$v(Mh)[0],l=Mr().memoizedState;return[a,l]},useMutableSource:PS,useSyncExternalStore:DS,useId:WS,unstable_isNewReconciler:!1},gL={readContext:Ar,useCallback:qS,useContext:Ar,useEffect:Wv,useImperativeHandle:US,useInsertionEffect:BS,useLayoutEffect:VS,useMemo:$S,useReducer:Kv,useRef:LS,useState:function(){return Kv(Mh)},useDebugValue:Gv,useDeferredValue:function(a){var l=Mr();return on===null?l.memoizedState=a:KS(l,on.memoizedState,a)},useTransition:function(){var a=Kv(Mh)[0],l=Mr().memoizedState;return[a,l]},useMutableSource:PS,useSyncExternalStore:DS,useId:WS,unstable_isNewReconciler:!1};function ns(a,l){if(a&&a.defaultProps){l=ae({},l),a=a.defaultProps;for(var h in a)l[h]===void 0&&(l[h]=a[h]);return l}return l}function Hv(a,l,h,m){l=a.memoizedState,h=h(m,l),h=h==null?l:ae({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Op={isMounted:function(a){return(a=a._reactInternals)?Jr(a)===a:!1},enqueueSetState:function(a,l,h){a=a._reactInternals;var m=Vn(),y=Ca(a),w=Si(m,y);w.payload=l,h!=null&&(w.callback=h),l=Sa(a,w,y),l!==null&&(is(l,a,y,m),Cp(l,a,y))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var m=Vn(),y=Ca(a),w=Si(m,y);w.tag=1,w.payload=l,h!=null&&(w.callback=h),l=Sa(a,w,y),l!==null&&(is(l,a,y,m),Cp(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=Vn(),m=Ca(a),y=Si(h,m);y.tag=2,l!=null&&(y.callback=l),l=Sa(a,y,m),l!==null&&(is(l,a,m,h),Cp(l,a,m))}};function XS(a,l,h,m,y,w,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,w,P):l.prototype&&l.prototype.isPureReactComponent?!bh(h,m)||!bh(y,w):!0}function YS(a,l,h){var m=!1,y=ba,w=l.contextType;return typeof w=="object"&&w!==null?w=Ar(w):(y=Yn(l)?Ao:In.current,m=l.contextTypes,w=(m=m!=null)?wu(a,y):ba),l=new l(h,w),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Op,a.stateNode=l,l._reactInternals=a,m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=w),l}function JS(a,l,h,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,m),l.state!==a&&Op.enqueueReplaceState(l,l.state,null)}function Qv(a,l,h,m){var y=a.stateNode;y.props=h,y.state=a.memoizedState,y.refs={},Ov(a);var w=l.contextType;typeof w=="object"&&w!==null?y.context=Ar(w):(w=Yn(l)?Ao:In.current,y.context=wu(a,w)),y.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Hv(a,l,w,h),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Op.enqueueReplaceState(y,y.state,null),Ip(a,h,y,m),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function Cu(a,l){try{var h="",m=l;do h+=Me(m),m=m.return;while(m);var y=h}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:a,source:l,stack:y,digest:null}}function Xv(a,l,h){return{value:a,source:null,stack:h??null,digest:l??null}}function Yv(a,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var yL=typeof WeakMap=="function"?WeakMap:Map;function ZS(a,l,h){h=Si(-1,h),h.tag=3,h.payload={element:null};var m=l.value;return h.callback=function(){Up||(Up=!0,h0=m),Yv(a,l)},h}function ek(a,l,h){h=Si(-1,h),h.tag=3;var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var y=l.value;h.payload=function(){return m(y)},h.callback=function(){Yv(a,l)}}var w=a.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(h.callback=function(){Yv(a,l),typeof m!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})}),h}function tk(a,l,h){var m=a.pingCache;if(m===null){m=a.pingCache=new yL;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(h)||(y.add(h),a=NL.bind(null,a,l,h),l.then(a,a))}function nk(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function rk(a,l,h,m,y){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=Si(-1,1),l.tag=2,Sa(h,l,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=y,a)}var vL=V.ReactCurrentOwner,Jn=!1;function Bn(a,l,h,m){l.child=a===null?SS(l,null,h,m):Su(l,a.child,h,m)}function sk(a,l,h,m,y){h=h.render;var w=l.ref;return Tu(l,y),m=Uv(a,l,h,m,w,y),h=qv(),a!==null&&!Jn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,ki(a,l,y)):(bt&&h&&Tv(l),l.flags|=1,Bn(a,l,m,y),l.child)}function ik(a,l,h,m,y){if(a===null){var w=h.type;return typeof w=="function"&&!v0(w)&&w.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=w,ak(a,l,w,m,y)):(a=Hp(h.type,null,m,l,l.mode,y),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,(a.lanes&y)===0){var P=w.memoizedProps;if(h=h.compare,h=h!==null?h:bh,h(P,m)&&a.ref===l.ref)return ki(a,l,y)}return l.flags|=1,a=Pa(w,m),a.ref=l.ref,a.return=l,l.child=a}function ak(a,l,h,m,y){if(a!==null){var w=a.memoizedProps;if(bh(w,m)&&a.ref===l.ref)if(Jn=!1,l.pendingProps=m=w,(a.lanes&y)!==0)(a.flags&131072)!==0&&(Jn=!0);else return l.lanes=a.lanes,ki(a,l,y)}return Jv(a,l,h,m,y)}function ok(a,l,h){var m=l.pendingProps,y=m.children,w=a!==null?a.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Pu,yr),yr|=h;else{if((h&1073741824)===0)return a=w!==null?w.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,dt(Pu,yr),yr|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=w!==null?w.baseLanes:h,dt(Pu,yr),yr|=m}else w!==null?(m=w.baseLanes|h,l.memoizedState=null):m=h,dt(Pu,yr),yr|=m;return Bn(a,l,y,h),l.child}function lk(a,l){var h=l.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function Jv(a,l,h,m,y){var w=Yn(h)?Ao:In.current;return w=wu(l,w),Tu(l,y),h=Uv(a,l,h,m,w,y),m=qv(),a!==null&&!Jn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,ki(a,l,y)):(bt&&m&&Tv(l),l.flags|=1,Bn(a,l,h,y),l.child)}function uk(a,l,h,m,y){if(Yn(h)){var w=!0;wp(l)}else w=!1;if(Tu(l,y),l.stateNode===null)Lp(a,l),YS(l,h,m),Qv(l,h,m,y),m=!0;else if(a===null){var P=l.stateNode,F=l.memoizedProps;P.props=F;var z=P.context,Z=h.contextType;typeof Z=="object"&&Z!==null?Z=Ar(Z):(Z=Yn(h)?Ao:In.current,Z=wu(l,Z));var ie=h.getDerivedStateFromProps,oe=typeof ie=="function"||typeof P.getSnapshotBeforeUpdate=="function";oe||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(F!==m||z!==Z)&&JS(l,P,m,Z),Ea=!1;var se=l.memoizedState;P.state=se,Ip(l,m,P,y),z=l.memoizedState,F!==m||se!==z||Xn.current||Ea?(typeof ie=="function"&&(Hv(l,h,ie,m),z=l.memoizedState),(F=Ea||XS(l,h,F,m,se,z,Z))?(oe||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(l.flags|=4194308)):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=z),P.props=m,P.state=z,P.context=Z,m=F):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{P=l.stateNode,TS(a,l),F=l.memoizedProps,Z=l.type===l.elementType?F:ns(l.type,F),P.props=Z,oe=l.pendingProps,se=P.context,z=h.contextType,typeof z=="object"&&z!==null?z=Ar(z):(z=Yn(h)?Ao:In.current,z=wu(l,z));var fe=h.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(F!==oe||se!==z)&&JS(l,P,m,z),Ea=!1,se=l.memoizedState,P.state=se,Ip(l,m,P,y);var be=l.memoizedState;F!==oe||se!==be||Xn.current||Ea?(typeof fe=="function"&&(Hv(l,h,fe,m),be=l.memoizedState),(Z=Ea||XS(l,h,Z,m,se,be,z)||!1)?(ie||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(m,be,z),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(m,be,z)),typeof P.componentDidUpdate=="function"&&(l.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof P.componentDidUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=be),P.props=m,P.state=be,P.context=z,m=Z):(typeof P.componentDidUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=1024),m=!1)}return Zv(a,l,h,m,w,y)}function Zv(a,l,h,m,y,w){lk(a,l);var P=(l.flags&128)!==0;if(!m&&!P)return y&&pS(l,h,!1),ki(a,l,w);m=l.stateNode,vL.current=l;var F=P&&typeof h.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,a!==null&&P?(l.child=Su(l,a.child,null,w),l.child=Su(l,null,F,w)):Bn(a,l,F,w),l.memoizedState=m.state,y&&pS(l,h,!0),l.child}function ck(a){var l=a.stateNode;l.pendingContext?dS(a,l.pendingContext,l.pendingContext!==l.context):l.context&&dS(a,l.context,!1),jv(a,l.containerInfo)}function hk(a,l,h,m,y){return Eu(),Pv(y),l.flags|=256,Bn(a,l,h,m),l.child}var e0={dehydrated:null,treeContext:null,retryLane:0};function t0(a){return{baseLanes:a,cachePool:null,transitions:null}}function dk(a,l,h){var m=l.pendingProps,y=kt.current,w=!1,P=(l.flags&128)!==0,F;if((F=P)||(F=a!==null&&a.memoizedState===null?!1:(y&2)!==0),F?(w=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(y|=1),dt(kt,y&1),a===null)return Iv(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(P=m.children,a=m.fallback,w?(m=l.mode,w=l.child,P={mode:"hidden",children:P},(m&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=P):w=Qp(P,m,0,null),a=Uo(a,m,h,null),w.return=l,a.return=l,w.sibling=a,l.child=w,l.child.memoizedState=t0(h),l.memoizedState=e0,a):n0(l,P));if(y=a.memoizedState,y!==null&&(F=y.dehydrated,F!==null))return wL(a,l,P,m,F,y,h);if(w){w=m.fallback,P=l.mode,y=a.child,F=y.sibling;var z={mode:"hidden",children:m.children};return(P&1)===0&&l.child!==y?(m=l.child,m.childLanes=0,m.pendingProps=z,l.deletions=null):(m=Pa(y,z),m.subtreeFlags=y.subtreeFlags&14680064),F!==null?w=Pa(F,w):(w=Uo(w,P,h,null),w.flags|=2),w.return=l,m.return=l,m.sibling=w,l.child=m,m=w,w=l.child,P=a.child.memoizedState,P=P===null?t0(h):{baseLanes:P.baseLanes|h,cachePool:null,transitions:P.transitions},w.memoizedState=P,w.childLanes=a.childLanes&~h,l.memoizedState=e0,m}return w=a.child,a=w.sibling,m=Pa(w,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=h),m.return=l,m.sibling=null,a!==null&&(h=l.deletions,h===null?(l.deletions=[a],l.flags|=16):h.push(a)),l.child=m,l.memoizedState=null,m}function n0(a,l){return l=Qp({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function jp(a,l,h,m){return m!==null&&Pv(m),Su(l,a.child,null,h),a=n0(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function wL(a,l,h,m,y,w,P){if(h)return l.flags&256?(l.flags&=-257,m=Xv(Error(n(422))),jp(a,l,P,m)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(w=m.fallback,y=l.mode,m=Qp({mode:"visible",children:m.children},y,0,null),w=Uo(w,y,P,null),w.flags|=2,m.return=l,w.return=l,m.sibling=w,l.child=m,(l.mode&1)!==0&&Su(l,a.child,null,P),l.child.memoizedState=t0(P),l.memoizedState=e0,w);if((l.mode&1)===0)return jp(a,l,P,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var F=m.dgst;return m=F,w=Error(n(419)),m=Xv(w,m,void 0),jp(a,l,P,m)}if(F=(P&a.childLanes)!==0,Jn||F){if(m=pn,m!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|P))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,Ei(a,y),is(m,a,y,-1))}return y0(),m=Xv(Error(n(421))),jp(a,l,P,m)}return y.data==="$?"?(l.flags|=128,l.child=a.child,l=AL.bind(null,a),y._reactRetry=l,null):(a=w.treeContext,gr=va(y.nextSibling),mr=l,bt=!0,ts=null,a!==null&&(Dr[Nr++]=bi,Dr[Nr++]=xi,Dr[Nr++]=Mo,bi=a.id,xi=a.overflow,Mo=l),l=n0(l,m.children),l.flags|=4096,l)}function fk(a,l,h){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),Mv(a.return,l,h)}function r0(a,l,h,m,y){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=h,w.tailMode=y)}function pk(a,l,h){var m=l.pendingProps,y=m.revealOrder,w=m.tail;if(Bn(a,l,m.children,h),m=kt.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&fk(a,h,l);else if(a.tag===19)fk(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}if(dt(kt,m),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(h=l.child,y=null;h!==null;)a=h.alternate,a!==null&&Pp(a)===null&&(y=h),h=h.sibling;h=y,h===null?(y=l.child,l.child=null):(y=h.sibling,h.sibling=null),r0(l,!1,y,h,w);break;case"backwards":for(h=null,y=l.child,l.child=null;y!==null;){if(a=y.alternate,a!==null&&Pp(a)===null){l.child=y;break}a=y.sibling,y.sibling=h,h=y,y=a}r0(l,!0,h,null,w);break;case"together":r0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Lp(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function ki(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),Fo|=l.lanes,(h&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,h=Pa(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=Pa(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function bL(a,l,h){switch(l.tag){case 3:ck(l),Eu();break;case 5:IS(l);break;case 1:Yn(l.type)&&wp(l);break;case 4:jv(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,y=l.memoizedProps.value;dt(Tp,m._currentValue),m._currentValue=y;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(dt(kt,kt.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?dk(a,l,h):(dt(kt,kt.current&1),a=ki(a,l,h),a!==null?a.sibling:null);dt(kt,kt.current&1);break;case 19:if(m=(h&l.childLanes)!==0,(a.flags&128)!==0){if(m)return pk(a,l,h);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),dt(kt,kt.current),m)break;return null;case 22:case 23:return l.lanes=0,ok(a,l,h)}return ki(a,l,h)}var mk,s0,gk,yk;mk=function(a,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},s0=function(){},gk=function(a,l,h,m){var y=a.memoizedProps;if(y!==m){a=l.stateNode,jo(Rs.current);var w=null;switch(h){case"input":y=Zi(a,y),m=Zi(a,m),w=[];break;case"select":y=ae({},y,{value:void 0}),m=ae({},m,{value:void 0}),w=[];break;case"textarea":y=Qc(a,y),m=Qc(a,m),w=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(a.onclick=gp)}Yr(h,m);var P;h=null;for(Z in y)if(!m.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var F=y[Z];for(P in F)F.hasOwnProperty(P)&&(h||(h={}),h[P]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in m){var z=m[Z];if(F=y!=null?y[Z]:void 0,m.hasOwnProperty(Z)&&z!==F&&(z!=null||F!=null))if(Z==="style")if(F){for(P in F)!F.hasOwnProperty(P)||z&&z.hasOwnProperty(P)||(h||(h={}),h[P]="");for(P in z)z.hasOwnProperty(P)&&F[P]!==z[P]&&(h||(h={}),h[P]=z[P])}else h||(w||(w=[]),w.push(Z,h)),h=z;else Z==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,F=F?F.__html:void 0,z!=null&&F!==z&&(w=w||[]).push(Z,z)):Z==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(Z,""+z):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?(z!=null&&Z==="onScroll"&&yt("scroll",a),w||F===z||(w=[])):(w=w||[]).push(Z,z))}h&&(w=w||[]).push("style",h);var Z=w;(l.updateQueue=Z)&&(l.flags|=4)}},yk=function(a,l,h,m){h!==m&&(l.flags|=4)};function Oh(a,l){if(!bt)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Dn(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,m=0;if(l)for(var y=a.child;y!==null;)h|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)h|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=h,l}function xL(a,l,h){var m=l.pendingProps;switch(_v(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(l),null;case 1:return Yn(l.type)&&vp(),Dn(l),null;case 3:return m=l.stateNode,_u(),vt(Xn),vt(In),Bv(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(Sp(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ts!==null&&(p0(ts),ts=null))),s0(a,l),Dn(l),null;case 5:Lv(l);var y=jo(Dh.current);if(h=l.type,a!==null&&l.stateNode!=null)gk(a,l,h,m,y),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(n(166));return Dn(l),null}if(a=jo(Rs.current),Sp(l)){m=l.stateNode,h=l.type;var w=l.memoizedProps;switch(m[Ms]=l,m[Th]=w,a=(l.mode&1)!==0,h){case"dialog":yt("cancel",m),yt("close",m);break;case"iframe":case"object":case"embed":yt("load",m);break;case"video":case"audio":for(y=0;y<Eh.length;y++)yt(Eh[y],m);break;case"source":yt("error",m);break;case"img":case"image":case"link":yt("error",m),yt("load",m);break;case"details":yt("toggle",m);break;case"input":Wl(m,w),yt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!w.multiple},yt("invalid",m);break;case"textarea":Xc(m,w),yt("invalid",m)}Yr(h,w),y=null;for(var P in w)if(w.hasOwnProperty(P)){var F=w[P];P==="children"?typeof F=="string"?m.textContent!==F&&(w.suppressHydrationWarning!==!0&&mp(m.textContent,F,a),y=["children",F]):typeof F=="number"&&m.textContent!==""+F&&(w.suppressHydrationWarning!==!0&&mp(m.textContent,F,a),y=["children",""+F]):s.hasOwnProperty(P)&&F!=null&&P==="onScroll"&&yt("scroll",m)}switch(h){case"input":_r(m),go(m,w,!0);break;case"textarea":_r(m),ta(m);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(m.onclick=gp)}m=y,l.updateQueue=m,m!==null&&(l.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Yc(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=P.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof m.is=="string"?a=P.createElement(h,{is:m.is}):(a=P.createElement(h),h==="select"&&(P=a,m.multiple?P.multiple=!0:m.size&&(P.size=m.size))):a=P.createElementNS(a,h),a[Ms]=l,a[Th]=m,mk(a,l,!1,!1),l.stateNode=a;e:{switch(P=Ql(h,m),h){case"dialog":yt("cancel",a),yt("close",a),y=m;break;case"iframe":case"object":case"embed":yt("load",a),y=m;break;case"video":case"audio":for(y=0;y<Eh.length;y++)yt(Eh[y],a);y=m;break;case"source":yt("error",a),y=m;break;case"img":case"image":case"link":yt("error",a),yt("load",a),y=m;break;case"details":yt("toggle",a),y=m;break;case"input":Wl(a,m),y=Zi(a,m),yt("invalid",a);break;case"option":y=m;break;case"select":a._wrapperState={wasMultiple:!!m.multiple},y=ae({},m,{value:void 0}),yt("invalid",a);break;case"textarea":Xc(a,m),y=Qc(a,m),yt("invalid",a);break;default:y=m}Yr(h,y),F=y;for(w in F)if(F.hasOwnProperty(w)){var z=F[w];w==="style"?Hl(a,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&qf(a,z)):w==="children"?typeof z=="string"?(h!=="textarea"||z!=="")&&yo(a,z):typeof z=="number"&&yo(a,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?z!=null&&w==="onScroll"&&yt("scroll",a):z!=null&&O(a,w,z,P))}switch(h){case"input":_r(a),go(a,m,!1);break;case"textarea":_r(a),ta(a);break;case"option":m.value!=null&&a.setAttribute("value",""+qe(m.value));break;case"select":a.multiple=!!m.multiple,w=m.value,w!=null?Xr(a,!!m.multiple,w,!1):m.defaultValue!=null&&Xr(a,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(a.onclick=gp)}switch(h){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Dn(l),null;case 6:if(a&&l.stateNode!=null)yk(a,l,a.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(h=jo(Dh.current),jo(Rs.current),Sp(l)){if(m=l.stateNode,h=l.memoizedProps,m[Ms]=l,(w=m.nodeValue!==h)&&(a=mr,a!==null))switch(a.tag){case 3:mp(m.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&mp(m.nodeValue,h,(a.mode&1)!==0)}w&&(l.flags|=4)}else m=(h.nodeType===9?h:h.ownerDocument).createTextNode(m),m[Ms]=l,l.stateNode=m}return Dn(l),null;case 13:if(vt(kt),m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(bt&&gr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)bS(),Eu(),l.flags|=98560,w=!1;else if(w=Sp(l),m!==null&&m.dehydrated!==null){if(a===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Ms]=l}else Eu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Dn(l),w=!1}else ts!==null&&(p0(ts),ts=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(m=m!==null,m!==(a!==null&&a.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(kt.current&1)!==0?ln===0&&(ln=3):y0())),l.updateQueue!==null&&(l.flags|=4),Dn(l),null);case 4:return _u(),s0(a,l),a===null&&Sh(l.stateNode.containerInfo),Dn(l),null;case 10:return Av(l.type._context),Dn(l),null;case 17:return Yn(l.type)&&vp(),Dn(l),null;case 19:if(vt(kt),w=l.memoizedState,w===null)return Dn(l),null;if(m=(l.flags&128)!==0,P=w.rendering,P===null)if(m)Oh(w,!1);else{if(ln!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(P=Pp(a),P!==null){for(l.flags|=128,Oh(w,!1),m=P.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=h,h=l.child;h!==null;)w=h,a=m,w.flags&=14680066,P=w.alternate,P===null?(w.childLanes=0,w.lanes=a,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=P.childLanes,w.lanes=P.lanes,w.child=P.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=P.memoizedProps,w.memoizedState=P.memoizedState,w.updateQueue=P.updateQueue,w.type=P.type,a=P.dependencies,w.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return dt(kt,kt.current&1|2),l.child}a=a.sibling}w.tail!==null&&gt()>Du&&(l.flags|=128,m=!0,Oh(w,!1),l.lanes=4194304)}else{if(!m)if(a=Pp(P),a!==null){if(l.flags|=128,m=!0,h=a.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Oh(w,!0),w.tail===null&&w.tailMode==="hidden"&&!P.alternate&&!bt)return Dn(l),null}else 2*gt()-w.renderingStartTime>Du&&h!==1073741824&&(l.flags|=128,m=!0,Oh(w,!1),l.lanes=4194304);w.isBackwards?(P.sibling=l.child,l.child=P):(h=w.last,h!==null?h.sibling=P:l.child=P,w.last=P)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=gt(),l.sibling=null,h=kt.current,dt(kt,m?h&1|2:h&1),l):(Dn(l),null);case 22:case 23:return g0(),m=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(yr&1073741824)!==0&&(Dn(l),l.subtreeFlags&6&&(l.flags|=8192)):Dn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function EL(a,l){switch(_v(l),l.tag){case 1:return Yn(l.type)&&vp(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return _u(),vt(Xn),vt(In),Bv(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Lv(l),null;case 13:if(vt(kt),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Eu()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return vt(kt),null;case 4:return _u(),null;case 10:return Av(l.type._context),null;case 22:case 23:return g0(),null;case 24:return null;default:return null}}var Fp=!1,Nn=!1,SL=typeof WeakSet=="function"?WeakSet:Set,we=null;function Iu(a,l){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(m){Nt(a,l,m)}else h.current=null}function vk(a,l,h){try{h()}catch(m){Nt(a,l,m)}}var wk=!1;function kL(a,l){if(yv=gi,a=XE(),uv(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break e}var P=0,F=-1,z=-1,Z=0,ie=0,oe=a,se=null;t:for(;;){for(var fe;oe!==h||y!==0&&oe.nodeType!==3||(F=P+y),oe!==w||m!==0&&oe.nodeType!==3||(z=P+m),oe.nodeType===3&&(P+=oe.nodeValue.length),(fe=oe.firstChild)!==null;)se=oe,oe=fe;for(;;){if(oe===a)break t;if(se===h&&++Z===y&&(F=P),se===w&&++ie===m&&(z=P),(fe=oe.nextSibling)!==null)break;oe=se,se=oe.parentNode}oe=fe}h=F===-1||z===-1?null:{start:F,end:z}}else h=null}h=h||{start:0,end:0}}else h=null;for(vv={focusedElem:a,selectionRange:h},gi=!1,we=l;we!==null;)if(l=we,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,we=a;else for(;we!==null;){l=we;try{var be=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Te=be.memoizedProps,Qt=be.memoizedState,X=l.stateNode,K=X.getSnapshotBeforeUpdate(l.elementType===l.type?Te:ns(l.type,Te),Qt);X.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){Nt(l,l.return,ue)}if(a=l.sibling,a!==null){a.return=l.return,we=a;break}we=l.return}return be=wk,wk=!1,be}function jh(a,l,h){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&a)===a){var w=y.destroy;y.destroy=void 0,w!==void 0&&vk(l,h,w)}y=y.next}while(y!==m)}}function Bp(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&a)===a){var m=h.create;h.destroy=m()}h=h.next}while(h!==l)}}function i0(a){var l=a.ref;if(l!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof l=="function"?l(a):l.current=a}}function bk(a){var l=a.alternate;l!==null&&(a.alternate=null,bk(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[Ms],delete l[Th],delete l[Ev],delete l[aL],delete l[oL])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function xk(a){return a.tag===5||a.tag===3||a.tag===4}function Ek(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||xk(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function a0(a,l,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(a,l):h.insertBefore(a,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(a,h)):(l=h,l.appendChild(a)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=gp));else if(m!==4&&(a=a.child,a!==null))for(a0(a,l,h),a=a.sibling;a!==null;)a0(a,l,h),a=a.sibling}function o0(a,l,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(m!==4&&(a=a.child,a!==null))for(o0(a,l,h),a=a.sibling;a!==null;)o0(a,l,h),a=a.sibling}var bn=null,rs=!1;function ka(a,l,h){for(h=h.child;h!==null;)Sk(a,l,h),h=h.sibling}function Sk(a,l,h){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Eo,h)}catch{}switch(h.tag){case 5:Nn||Iu(h,l);case 6:var m=bn,y=rs;bn=null,ka(a,l,h),bn=m,rs=y,bn!==null&&(rs?(a=bn,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):bn.removeChild(h.stateNode));break;case 18:bn!==null&&(rs?(a=bn,h=h.stateNode,a.nodeType===8?xv(a.parentNode,h):a.nodeType===1&&xv(a,h),fa(a)):xv(bn,h.stateNode));break;case 4:m=bn,y=rs,bn=h.stateNode.containerInfo,rs=!0,ka(a,l,h),bn=m,rs=y;break;case 0:case 11:case 14:case 15:if(!Nn&&(m=h.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var w=y,P=w.destroy;w=w.tag,P!==void 0&&((w&2)!==0||(w&4)!==0)&&vk(h,l,P),y=y.next}while(y!==m)}ka(a,l,h);break;case 1:if(!Nn&&(Iu(h,l),m=h.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=h.memoizedProps,m.state=h.memoizedState,m.componentWillUnmount()}catch(F){Nt(h,l,F)}ka(a,l,h);break;case 21:ka(a,l,h);break;case 22:h.mode&1?(Nn=(m=Nn)||h.memoizedState!==null,ka(a,l,h),Nn=m):ka(a,l,h);break;default:ka(a,l,h)}}function kk(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new SL),l.forEach(function(m){var y=ML.bind(null,a,m);h.has(m)||(h.add(m),m.then(y,y))})}}function ss(a,l){var h=l.deletions;if(h!==null)for(var m=0;m<h.length;m++){var y=h[m];try{var w=a,P=l,F=P;e:for(;F!==null;){switch(F.tag){case 5:bn=F.stateNode,rs=!1;break e;case 3:bn=F.stateNode.containerInfo,rs=!0;break e;case 4:bn=F.stateNode.containerInfo,rs=!0;break e}F=F.return}if(bn===null)throw Error(n(160));Sk(w,P,y),bn=null,rs=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(Z){Nt(y,l,Z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Tk(l,a),l=l.sibling}function Tk(a,l){var h=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ss(l,a),js(a),m&4){try{jh(3,a,a.return),Bp(3,a)}catch(Te){Nt(a,a.return,Te)}try{jh(5,a,a.return)}catch(Te){Nt(a,a.return,Te)}}break;case 1:ss(l,a),js(a),m&512&&h!==null&&Iu(h,h.return);break;case 5:if(ss(l,a),js(a),m&512&&h!==null&&Iu(h,h.return),a.flags&32){var y=a.stateNode;try{yo(y,"")}catch(Te){Nt(a,a.return,Te)}}if(m&4&&(y=a.stateNode,y!=null)){var w=a.memoizedProps,P=h!==null?h.memoizedProps:w,F=a.type,z=a.updateQueue;if(a.updateQueue=null,z!==null)try{F==="input"&&w.type==="radio"&&w.name!=null&&ea(y,w),Ql(F,P);var Z=Ql(F,w);for(P=0;P<z.length;P+=2){var ie=z[P],oe=z[P+1];ie==="style"?Hl(y,oe):ie==="dangerouslySetInnerHTML"?qf(y,oe):ie==="children"?yo(y,oe):O(y,ie,oe,Z)}switch(F){case"input":li(y,w);break;case"textarea":Uf(y,w);break;case"select":var se=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var fe=w.value;fe!=null?Xr(y,!!w.multiple,fe,!1):se!==!!w.multiple&&(w.defaultValue!=null?Xr(y,!!w.multiple,w.defaultValue,!0):Xr(y,!!w.multiple,w.multiple?[]:"",!1))}y[Th]=w}catch(Te){Nt(a,a.return,Te)}}break;case 6:if(ss(l,a),js(a),m&4){if(a.stateNode===null)throw Error(n(162));y=a.stateNode,w=a.memoizedProps;try{y.nodeValue=w}catch(Te){Nt(a,a.return,Te)}}break;case 3:if(ss(l,a),js(a),m&4&&h!==null&&h.memoizedState.isDehydrated)try{fa(l.containerInfo)}catch(Te){Nt(a,a.return,Te)}break;case 4:ss(l,a),js(a);break;case 13:ss(l,a),js(a),y=a.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(c0=gt())),m&4&&kk(a);break;case 22:if(ie=h!==null&&h.memoizedState!==null,a.mode&1?(Nn=(Z=Nn)||ie,ss(l,a),Nn=Z):ss(l,a),js(a),m&8192){if(Z=a.memoizedState!==null,(a.stateNode.isHidden=Z)&&!ie&&(a.mode&1)!==0)for(we=a,ie=a.child;ie!==null;){for(oe=we=ie;we!==null;){switch(se=we,fe=se.child,se.tag){case 0:case 11:case 14:case 15:jh(4,se,se.return);break;case 1:Iu(se,se.return);var be=se.stateNode;if(typeof be.componentWillUnmount=="function"){m=se,h=se.return;try{l=m,be.props=l.memoizedProps,be.state=l.memoizedState,be.componentWillUnmount()}catch(Te){Nt(m,h,Te)}}break;case 5:Iu(se,se.return);break;case 22:if(se.memoizedState!==null){Ik(oe);continue}}fe!==null?(fe.return=se,we=fe):Ik(oe)}ie=ie.sibling}e:for(ie=null,oe=a;;){if(oe.tag===5){if(ie===null){ie=oe;try{y=oe.stateNode,Z?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(F=oe.stateNode,z=oe.memoizedProps.style,P=z!=null&&z.hasOwnProperty("display")?z.display:null,F.style.display=sa("display",P))}catch(Te){Nt(a,a.return,Te)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=Z?"":oe.memoizedProps}catch(Te){Nt(a,a.return,Te)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===a)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===a)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===a)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:ss(l,a),js(a),m&4&&kk(a);break;case 21:break;default:ss(l,a),js(a)}}function js(a){var l=a.flags;if(l&2){try{e:{for(var h=a.return;h!==null;){if(xk(h)){var m=h;break e}h=h.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(yo(y,""),m.flags&=-33);var w=Ek(a);o0(a,w,y);break;case 3:case 4:var P=m.stateNode.containerInfo,F=Ek(a);a0(a,F,P);break;default:throw Error(n(161))}}catch(z){Nt(a,a.return,z)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function TL(a,l,h){we=a,_k(a)}function _k(a,l,h){for(var m=(a.mode&1)!==0;we!==null;){var y=we,w=y.child;if(y.tag===22&&m){var P=y.memoizedState!==null||Fp;if(!P){var F=y.alternate,z=F!==null&&F.memoizedState!==null||Nn;F=Fp;var Z=Nn;if(Fp=P,(Nn=z)&&!Z)for(we=y;we!==null;)P=we,z=P.child,P.tag===22&&P.memoizedState!==null?Pk(y):z!==null?(z.return=P,we=z):Pk(y);for(;w!==null;)we=w,_k(w),w=w.sibling;we=y,Fp=F,Nn=Z}Ck(a)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,we=w):Ck(a)}}function Ck(a){for(;we!==null;){var l=we;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Nn||Bp(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!Nn)if(h===null)m.componentDidMount();else{var y=l.elementType===l.type?h.memoizedProps:ns(l.type,h.memoizedProps);m.componentDidUpdate(y,h.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&CS(l,w,m);break;case 3:var P=l.updateQueue;if(P!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}CS(l,P,h)}break;case 5:var F=l.stateNode;if(h===null&&l.flags&4){h=F;var z=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&h.focus();break;case"img":z.src&&(h.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Z=l.alternate;if(Z!==null){var ie=Z.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&fa(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nn||l.flags&512&&i0(l)}catch(se){Nt(l,l.return,se)}}if(l===a){we=null;break}if(h=l.sibling,h!==null){h.return=l.return,we=h;break}we=l.return}}function Ik(a){for(;we!==null;){var l=we;if(l===a){we=null;break}var h=l.sibling;if(h!==null){h.return=l.return,we=h;break}we=l.return}}function Pk(a){for(;we!==null;){var l=we;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{Bp(4,l)}catch(z){Nt(l,h,z)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var y=l.return;try{m.componentDidMount()}catch(z){Nt(l,y,z)}}var w=l.return;try{i0(l)}catch(z){Nt(l,w,z)}break;case 5:var P=l.return;try{i0(l)}catch(z){Nt(l,P,z)}}}catch(z){Nt(l,l.return,z)}if(l===a){we=null;break}var F=l.sibling;if(F!==null){F.return=l.return,we=F;break}we=l.return}}var _L=Math.ceil,Vp=V.ReactCurrentDispatcher,l0=V.ReactCurrentOwner,Rr=V.ReactCurrentBatchConfig,tt=0,pn=null,tn=null,xn=0,yr=0,Pu=wa(0),ln=0,Lh=null,Fo=0,zp=0,u0=0,Fh=null,Zn=null,c0=0,Du=1/0,Ti=null,Up=!1,h0=null,Ta=null,qp=!1,_a=null,$p=0,Bh=0,d0=null,Kp=-1,Wp=0;function Vn(){return(tt&6)!==0?gt():Kp!==-1?Kp:Kp=gt()}function Ca(a){return(a.mode&1)===0?1:(tt&2)!==0&&xn!==0?xn&-xn:uL.transition!==null?(Wp===0&&(Wp=ah()),Wp):(a=Qe,a!==0||(a=window.event,a=a===void 0?16:iu(a.type)),a)}function is(a,l,h,m){if(50<Bh)throw Bh=0,d0=null,Error(n(185));_o(a,h,m),((tt&2)===0||a!==pn)&&(a===pn&&((tt&2)===0&&(zp|=h),ln===4&&Ia(a,xn)),er(a,m),h===1&&tt===0&&(l.mode&1)===0&&(Du=gt()+500,bp&&xa()))}function er(a,l){var h=a.callbackNode;To(a,l);var m=fi(a,a===pn?xn:0);if(m===0)h!==null&&Jl(h),a.callbackNode=null,a.callbackPriority=0;else if(l=m&-m,a.callbackPriority!==l){if(h!=null&&Jl(h),l===1)a.tag===0?lL(Nk.bind(null,a)):mS(Nk.bind(null,a)),sL(function(){(tt&6)===0&&xa()}),h=null;else{switch(Ss(m)){case 1:h=Zl;break;case 4:h=rh;break;case 16:h=xo;break;case 536870912:h=eu;break;default:h=xo}h=Bk(h,Dk.bind(null,a))}a.callbackPriority=l,a.callbackNode=h}}function Dk(a,l){if(Kp=-1,Wp=0,(tt&6)!==0)throw Error(n(327));var h=a.callbackNode;if(Nu()&&a.callbackNode!==h)return null;var m=fi(a,a===pn?xn:0);if(m===0)return null;if((m&30)!==0||(m&a.expiredLanes)!==0||l)l=Gp(a,m);else{l=m;var y=tt;tt|=2;var w=Mk();(pn!==a||xn!==l)&&(Ti=null,Du=gt()+500,Vo(a,l));do try{PL();break}catch(F){Ak(a,F)}while(!0);Nv(),Vp.current=w,tt=y,tn!==null?l=0:(pn=null,xn=0,l=ln)}if(l!==0){if(l===2&&(y=ih(a),y!==0&&(m=y,l=f0(a,y))),l===1)throw h=Lh,Vo(a,0),Ia(a,m),er(a,gt()),h;if(l===6)Ia(a,m);else{if(y=a.current.alternate,(m&30)===0&&!CL(y)&&(l=Gp(a,m),l===2&&(w=ih(a),w!==0&&(m=w,l=f0(a,w))),l===1))throw h=Lh,Vo(a,0),Ia(a,m),er(a,gt()),h;switch(a.finishedWork=y,a.finishedLanes=m,l){case 0:case 1:throw Error(n(345));case 2:zo(a,Zn,Ti);break;case 3:if(Ia(a,m),(m&130023424)===m&&(l=c0+500-gt(),10<l)){if(fi(a,0)!==0)break;if(y=a.suspendedLanes,(y&m)!==m){Vn(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=bv(zo.bind(null,a,Zn,Ti),l);break}zo(a,Zn,Ti);break;case 4:if(Ia(a,m),(m&4194240)===m)break;for(l=a.eventTimes,y=-1;0<m;){var P=31-cr(m);w=1<<P,P=l[P],P>y&&(y=P),m&=~w}if(m=y,m=gt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*_L(m/1960))-m,10<m){a.timeoutHandle=bv(zo.bind(null,a,Zn,Ti),m);break}zo(a,Zn,Ti);break;case 5:zo(a,Zn,Ti);break;default:throw Error(n(329))}}}return er(a,gt()),a.callbackNode===h?Dk.bind(null,a):null}function f0(a,l){var h=Fh;return a.current.memoizedState.isDehydrated&&(Vo(a,l).flags|=256),a=Gp(a,l),a!==2&&(l=Zn,Zn=h,l!==null&&p0(l)),a}function p0(a){Zn===null?Zn=a:Zn.push.apply(Zn,a)}function CL(a){for(var l=a;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var m=0;m<h.length;m++){var y=h[m],w=y.getSnapshot;y=y.value;try{if(!es(w(),y))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ia(a,l){for(l&=~u0,l&=~zp,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var h=31-cr(l),m=1<<h;a[h]=-1,l&=~m}}function Nk(a){if((tt&6)!==0)throw Error(n(327));Nu();var l=fi(a,0);if((l&1)===0)return er(a,gt()),null;var h=Gp(a,l);if(a.tag!==0&&h===2){var m=ih(a);m!==0&&(l=m,h=f0(a,m))}if(h===1)throw h=Lh,Vo(a,0),Ia(a,l),er(a,gt()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,zo(a,Zn,Ti),er(a,gt()),null}function m0(a,l){var h=tt;tt|=1;try{return a(l)}finally{tt=h,tt===0&&(Du=gt()+500,bp&&xa())}}function Bo(a){_a!==null&&_a.tag===0&&(tt&6)===0&&Nu();var l=tt;tt|=1;var h=Rr.transition,m=Qe;try{if(Rr.transition=null,Qe=1,a)return a()}finally{Qe=m,Rr.transition=h,tt=l,(tt&6)===0&&xa()}}function g0(){yr=Pu.current,vt(Pu)}function Vo(a,l){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,rL(h)),tn!==null)for(h=tn.return;h!==null;){var m=h;switch(_v(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&vp();break;case 3:_u(),vt(Xn),vt(In),Bv();break;case 5:Lv(m);break;case 4:_u();break;case 13:vt(kt);break;case 19:vt(kt);break;case 10:Av(m.type._context);break;case 22:case 23:g0()}h=h.return}if(pn=a,tn=a=Pa(a.current,null),xn=yr=l,ln=0,Lh=null,u0=zp=Fo=0,Zn=Fh=null,Oo!==null){for(l=0;l<Oo.length;l++)if(h=Oo[l],m=h.interleaved,m!==null){h.interleaved=null;var y=m.next,w=h.pending;if(w!==null){var P=w.next;w.next=y,m.next=P}h.pending=m}Oo=null}return a}function Ak(a,l){do{var h=tn;try{if(Nv(),Dp.current=Rp,Np){for(var m=Tt.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Np=!1}if(Lo=0,fn=on=Tt=null,Nh=!1,Ah=0,l0.current=null,h===null||h.return===null){ln=1,Lh=l,tn=null;break}e:{var w=a,P=h.return,F=h,z=l;if(l=xn,F.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Z=z,ie=F,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=nk(P);if(fe!==null){fe.flags&=-257,rk(fe,P,F,w,l),fe.mode&1&&tk(w,Z,l),l=fe,z=Z;var be=l.updateQueue;if(be===null){var Te=new Set;Te.add(z),l.updateQueue=Te}else be.add(z);break e}else{if((l&1)===0){tk(w,Z,l),y0();break e}z=Error(n(426))}}else if(bt&&F.mode&1){var Qt=nk(P);if(Qt!==null){(Qt.flags&65536)===0&&(Qt.flags|=256),rk(Qt,P,F,w,l),Pv(Cu(z,F));break e}}w=z=Cu(z,F),ln!==4&&(ln=2),Fh===null?Fh=[w]:Fh.push(w),w=P;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var X=ZS(w,z,l);_S(w,X);break e;case 1:F=z;var K=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Ta===null||!Ta.has(J)))){w.flags|=65536,l&=-l,w.lanes|=l;var ue=ek(w,F,l);_S(w,ue);break e}}w=w.return}while(w!==null)}Ok(h)}catch(_e){l=_e,tn===h&&h!==null&&(tn=h=h.return);continue}break}while(!0)}function Mk(){var a=Vp.current;return Vp.current=Rp,a===null?Rp:a}function y0(){(ln===0||ln===3||ln===2)&&(ln=4),pn===null||(Fo&268435455)===0&&(zp&268435455)===0||Ia(pn,xn)}function Gp(a,l){var h=tt;tt|=2;var m=Mk();(pn!==a||xn!==l)&&(Ti=null,Vo(a,l));do try{IL();break}catch(y){Ak(a,y)}while(!0);if(Nv(),tt=h,Vp.current=m,tn!==null)throw Error(n(261));return pn=null,xn=0,ln}function IL(){for(;tn!==null;)Rk(tn)}function PL(){for(;tn!==null&&!bo();)Rk(tn)}function Rk(a){var l=Fk(a.alternate,a,yr);a.memoizedProps=a.pendingProps,l===null?Ok(a):tn=l,l0.current=null}function Ok(a){var l=a;do{var h=l.alternate;if(a=l.return,(l.flags&32768)===0){if(h=xL(h,l,yr),h!==null){tn=h;return}}else{if(h=EL(h,l),h!==null){h.flags&=32767,tn=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{ln=6,tn=null;return}}if(l=l.sibling,l!==null){tn=l;return}tn=l=a}while(l!==null);ln===0&&(ln=5)}function zo(a,l,h){var m=Qe,y=Rr.transition;try{Rr.transition=null,Qe=1,DL(a,l,h,m)}finally{Rr.transition=y,Qe=m}return null}function DL(a,l,h,m){do Nu();while(_a!==null);if((tt&6)!==0)throw Error(n(327));h=a.finishedWork;var y=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var w=h.lanes|h.childLanes;if(sv(a,w),a===pn&&(tn=pn=null,xn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||qp||(qp=!0,Bk(xo,function(){return Nu(),null})),w=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||w){w=Rr.transition,Rr.transition=null;var P=Qe;Qe=1;var F=tt;tt|=4,l0.current=null,kL(a,h),Tk(h,a),X4(vv),gi=!!yv,vv=yv=null,a.current=h,TL(h),di(),tt=F,Qe=P,Rr.transition=w}else a.current=h;if(qp&&(qp=!1,_a=a,$p=y),w=a.pendingLanes,w===0&&(Ta=null),ep(h.stateNode),er(a,gt()),l!==null)for(m=a.onRecoverableError,h=0;h<l.length;h++)y=l[h],m(y.value,{componentStack:y.stack,digest:y.digest});if(Up)throw Up=!1,a=h0,h0=null,a;return($p&1)!==0&&a.tag!==0&&Nu(),w=a.pendingLanes,(w&1)!==0?a===d0?Bh++:(Bh=0,d0=a):Bh=0,xa(),null}function Nu(){if(_a!==null){var a=Ss($p),l=Rr.transition,h=Qe;try{if(Rr.transition=null,Qe=16>a?16:a,_a===null)var m=!1;else{if(a=_a,_a=null,$p=0,(tt&6)!==0)throw Error(n(331));var y=tt;for(tt|=4,we=a.current;we!==null;){var w=we,P=w.child;if((we.flags&16)!==0){var F=w.deletions;if(F!==null){for(var z=0;z<F.length;z++){var Z=F[z];for(we=Z;we!==null;){var ie=we;switch(ie.tag){case 0:case 11:case 15:jh(8,ie,w)}var oe=ie.child;if(oe!==null)oe.return=ie,we=oe;else for(;we!==null;){ie=we;var se=ie.sibling,fe=ie.return;if(bk(ie),ie===Z){we=null;break}if(se!==null){se.return=fe,we=se;break}we=fe}}}var be=w.alternate;if(be!==null){var Te=be.child;if(Te!==null){be.child=null;do{var Qt=Te.sibling;Te.sibling=null,Te=Qt}while(Te!==null)}}we=w}}if((w.subtreeFlags&2064)!==0&&P!==null)P.return=w,we=P;else e:for(;we!==null;){if(w=we,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:jh(9,w,w.return)}var X=w.sibling;if(X!==null){X.return=w.return,we=X;break e}we=w.return}}var K=a.current;for(we=K;we!==null;){P=we;var J=P.child;if((P.subtreeFlags&2064)!==0&&J!==null)J.return=P,we=J;else e:for(P=K;we!==null;){if(F=we,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:Bp(9,F)}}catch(_e){Nt(F,F.return,_e)}if(F===P){we=null;break e}var ue=F.sibling;if(ue!==null){ue.return=F.return,we=ue;break e}we=F.return}}if(tt=y,xa(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Eo,a)}catch{}m=!0}return m}finally{Qe=h,Rr.transition=l}}return!1}function jk(a,l,h){l=Cu(h,l),l=ZS(a,l,1),a=Sa(a,l,1),l=Vn(),a!==null&&(_o(a,1,l),er(a,l))}function Nt(a,l,h){if(a.tag===3)jk(a,a,h);else for(;l!==null;){if(l.tag===3){jk(l,a,h);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ta===null||!Ta.has(m))){a=Cu(h,a),a=ek(l,a,1),l=Sa(l,a,1),a=Vn(),l!==null&&(_o(l,1,a),er(l,a));break}}l=l.return}}function NL(a,l,h){var m=a.pingCache;m!==null&&m.delete(l),l=Vn(),a.pingedLanes|=a.suspendedLanes&h,pn===a&&(xn&h)===h&&(ln===4||ln===3&&(xn&130023424)===xn&&500>gt()-c0?Vo(a,0):u0|=h),er(a,l)}function Lk(a,l){l===0&&((a.mode&1)===0?l=1:(l=ca,ca<<=1,(ca&130023424)===0&&(ca=4194304)));var h=Vn();a=Ei(a,l),a!==null&&(_o(a,l,h),er(a,h))}function AL(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),Lk(a,h)}function ML(a,l){var h=0;switch(a.tag){case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(h=y.retryLane);break;case 19:m=a.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(l),Lk(a,h)}var Fk;Fk=function(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps||Xn.current)Jn=!0;else{if((a.lanes&h)===0&&(l.flags&128)===0)return Jn=!1,bL(a,l,h);Jn=(a.flags&131072)!==0}else Jn=!1,bt&&(l.flags&1048576)!==0&&gS(l,Ep,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;Lp(a,l),a=l.pendingProps;var y=wu(l,In.current);Tu(l,h),y=Uv(null,l,m,a,y,h);var w=qv();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Yn(m)?(w=!0,wp(l)):w=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Ov(l),y.updater=Op,l.stateNode=y,y._reactInternals=l,Qv(l,m,a,h),l=Zv(null,l,m,!0,w,h)):(l.tag=0,bt&&w&&Tv(l),Bn(null,l,y,h),l=l.child),l;case 16:m=l.elementType;e:{switch(Lp(a,l),a=l.pendingProps,y=m._init,m=y(m._payload),l.type=m,y=l.tag=OL(m),a=ns(m,a),y){case 0:l=Jv(null,l,m,a,h);break e;case 1:l=uk(null,l,m,a,h);break e;case 11:l=sk(null,l,m,a,h);break e;case 14:l=ik(null,l,m,ns(m.type,a),h);break e}throw Error(n(306,m,""))}return l;case 0:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:ns(m,y),Jv(a,l,m,y,h);case 1:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:ns(m,y),uk(a,l,m,y,h);case 3:e:{if(ck(l),a===null)throw Error(n(387));m=l.pendingProps,w=l.memoizedState,y=w.element,TS(a,l),Ip(l,m,null,h);var P=l.memoizedState;if(m=P.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){y=Cu(Error(n(423)),l),l=hk(a,l,m,h,y);break e}else if(m!==y){y=Cu(Error(n(424)),l),l=hk(a,l,m,h,y);break e}else for(gr=va(l.stateNode.containerInfo.firstChild),mr=l,bt=!0,ts=null,h=SS(l,null,m,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Eu(),m===y){l=ki(a,l,h);break e}Bn(a,l,m,h)}l=l.child}return l;case 5:return IS(l),a===null&&Iv(l),m=l.type,y=l.pendingProps,w=a!==null?a.memoizedProps:null,P=y.children,wv(m,y)?P=null:w!==null&&wv(m,w)&&(l.flags|=32),lk(a,l),Bn(a,l,P,h),l.child;case 6:return a===null&&Iv(l),null;case 13:return dk(a,l,h);case 4:return jv(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=Su(l,null,m,h):Bn(a,l,m,h),l.child;case 11:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:ns(m,y),sk(a,l,m,y,h);case 7:return Bn(a,l,l.pendingProps,h),l.child;case 8:return Bn(a,l,l.pendingProps.children,h),l.child;case 12:return Bn(a,l,l.pendingProps.children,h),l.child;case 10:e:{if(m=l.type._context,y=l.pendingProps,w=l.memoizedProps,P=y.value,dt(Tp,m._currentValue),m._currentValue=P,w!==null)if(es(w.value,P)){if(w.children===y.children&&!Xn.current){l=ki(a,l,h);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var F=w.dependencies;if(F!==null){P=w.child;for(var z=F.firstContext;z!==null;){if(z.context===m){if(w.tag===1){z=Si(-1,h&-h),z.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var ie=Z.pending;ie===null?z.next=z:(z.next=ie.next,ie.next=z),Z.pending=z}}w.lanes|=h,z=w.alternate,z!==null&&(z.lanes|=h),Mv(w.return,h,l),F.lanes|=h;break}z=z.next}}else if(w.tag===10)P=w.type===l.type?null:w.child;else if(w.tag===18){if(P=w.return,P===null)throw Error(n(341));P.lanes|=h,F=P.alternate,F!==null&&(F.lanes|=h),Mv(P,h,l),P=w.sibling}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===l){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}Bn(a,l,y.children,h),l=l.child}return l;case 9:return y=l.type,m=l.pendingProps.children,Tu(l,h),y=Ar(y),m=m(y),l.flags|=1,Bn(a,l,m,h),l.child;case 14:return m=l.type,y=ns(m,l.pendingProps),y=ns(m.type,y),ik(a,l,m,y,h);case 15:return ak(a,l,l.type,l.pendingProps,h);case 17:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:ns(m,y),Lp(a,l),l.tag=1,Yn(m)?(a=!0,wp(l)):a=!1,Tu(l,h),YS(l,m,y),Qv(l,m,y,h),Zv(null,l,m,!0,a,h);case 19:return pk(a,l,h);case 22:return ok(a,l,h)}throw Error(n(156,l.tag))};function Bk(a,l){return nh(a,l)}function RL(a,l,h,m){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(a,l,h,m){return new RL(a,l,h,m)}function v0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function OL(a){if(typeof a=="function")return v0(a)?1:0;if(a!=null){if(a=a.$$typeof,a===q)return 11;if(a===Ae)return 14}return 2}function Pa(a,l){var h=a.alternate;return h===null?(h=Or(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function Hp(a,l,h,m,y,w){var P=2;if(m=a,typeof a=="function")v0(a)&&(P=1);else if(typeof a=="string")P=5;else e:switch(a){case M:return Uo(h.children,y,w,l);case I:P=8,y|=8;break;case N:return a=Or(12,h,l,y|2),a.elementType=N,a.lanes=w,a;case L:return a=Or(13,h,l,y),a.elementType=L,a.lanes=w,a;case ke:return a=Or(19,h,l,y),a.elementType=ke,a.lanes=w,a;case ve:return Qp(h,y,w,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case j:P=10;break e;case B:P=9;break e;case q:P=11;break e;case Ae:P=14;break e;case ye:P=16,m=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=Or(P,h,l,y),l.elementType=a,l.type=m,l.lanes=w,l}function Uo(a,l,h,m){return a=Or(7,a,m,l),a.lanes=h,a}function Qp(a,l,h,m){return a=Or(22,a,m,l),a.elementType=ve,a.lanes=h,a.stateNode={isHidden:!1},a}function w0(a,l,h){return a=Or(6,a,null,l),a.lanes=h,a}function b0(a,l,h){return l=Or(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function jL(a,l,h,m,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oh(0),this.expirationTimes=oh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oh(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function x0(a,l,h,m,y,w,P,F,z){return a=new jL(a,l,h,F,z),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Or(3,null,null,l),a.current=w,w.stateNode=a,w.memoizedState={element:m,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ov(w),a}function LL(a,l,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:m==null?null:""+m,children:a,containerInfo:l,implementation:h}}function Vk(a){if(!a)return ba;a=a._reactInternals;e:{if(Jr(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Yn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(Yn(h))return fS(a,h,l)}return l}function zk(a,l,h,m,y,w,P,F,z){return a=x0(h,m,!0,a,y,w,P,F,z),a.context=Vk(null),h=a.current,m=Vn(),y=Ca(h),w=Si(m,y),w.callback=l??null,Sa(h,w,y),a.current.lanes=y,_o(a,y,m),er(a,m),a}function Xp(a,l,h,m){var y=l.current,w=Vn(),P=Ca(y);return h=Vk(h),l.context===null?l.context=h:l.pendingContext=h,l=Si(w,P),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Sa(y,l,P),a!==null&&(is(a,y,P,w),Cp(a,y,P)),P}function Yp(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Uk(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function E0(a,l){Uk(a,l),(a=a.alternate)&&Uk(a,l)}function FL(){return null}var qk=typeof reportError=="function"?reportError:function(a){console.error(a)};function S0(a){this._internalRoot=a}Jp.prototype.render=S0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));Xp(a,l,null,null)},Jp.prototype.unmount=S0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Bo(function(){Xp(null,a,null,null)}),l[vi]=null}};function Jp(a){this._internalRoot=a}Jp.prototype.unstable_scheduleHydration=function(a){if(a){var l=hh();a={blockedOn:null,target:a,priority:l};for(var h=0;h<hr.length&&l!==0&&l<hr[h].priority;h++);hr.splice(h,0,a),h===0&&ru(a)}};function k0(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Zp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function $k(){}function BL(a,l,h,m,y){if(y){if(typeof m=="function"){var w=m;m=function(){var Z=Yp(P);w.call(Z)}}var P=zk(l,m,a,0,null,!1,!1,"",$k);return a._reactRootContainer=P,a[vi]=P.current,Sh(a.nodeType===8?a.parentNode:a),Bo(),P}for(;y=a.lastChild;)a.removeChild(y);if(typeof m=="function"){var F=m;m=function(){var Z=Yp(z);F.call(Z)}}var z=x0(a,0,!1,null,null,!1,!1,"",$k);return a._reactRootContainer=z,a[vi]=z.current,Sh(a.nodeType===8?a.parentNode:a),Bo(function(){Xp(l,z,h,m)}),z}function em(a,l,h,m,y){var w=h._reactRootContainer;if(w){var P=w;if(typeof y=="function"){var F=y;y=function(){var z=Yp(P);F.call(z)}}Xp(l,P,a,y)}else P=BL(h,l,a,y,m);return Yp(P)}uh=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var h=it(l.pendingLanes);h!==0&&(lh(l,h|1),er(l,gt()),(tt&6)===0&&(Du=gt()+500,xa()))}break;case 13:Bo(function(){var m=Ei(a,1);if(m!==null){var y=Vn();is(m,a,1,y)}}),E0(a,1)}},tu=function(a){if(a.tag===13){var l=Ei(a,134217728);if(l!==null){var h=Vn();is(l,a,134217728,h)}E0(a,134217728)}},ch=function(a){if(a.tag===13){var l=Ca(a),h=Ei(a,l);if(h!==null){var m=Vn();is(h,a,l,m)}E0(a,l)}},hh=function(){return Qe},dh=function(a,l){var h=Qe;try{return Qe=a,l()}finally{Qe=h}},ui=function(a,l,h){switch(l){case"input":if(li(a,h),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var m=h[l];if(m!==a&&m.form===a.form){var y=yp(m);if(!y)throw Error(n(90));Cr(m),li(m,y)}}}break;case"textarea":Uf(a,h);break;case"select":l=h.value,l!=null&&Xr(a,!!h.multiple,l,!1)}},Kf=m0,Wf=Bo;var VL={usingClientEntryPoint:!1,Events:[_h,yu,yp,aa,oa,m0]},Vh={findFiberByHostInstance:No,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zL={bundleType:Vh.bundleType,version:Vh.version,rendererPackageName:Vh.rendererPackageName,rendererConfig:Vh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Zf(a),a===null?null:a.stateNode},findFiberByHostInstance:Vh.findFiberByHostInstance||FL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tm.isDisabled&&tm.supportsFiber)try{Eo=tm.inject(zL),ur=tm}catch{}}return tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VL,tr.createPortal=function(a,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!k0(l))throw Error(n(200));return LL(a,l,null,h)},tr.createRoot=function(a,l){if(!k0(a))throw Error(n(299));var h=!1,m="",y=qk;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=x0(a,1,!1,null,null,h,!1,m,y),a[vi]=l.current,Sh(a.nodeType===8?a.parentNode:a),new S0(l)},tr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Zf(l),a=a===null?null:a.stateNode,a},tr.flushSync=function(a){return Bo(a)},tr.hydrate=function(a,l,h){if(!Zp(l))throw Error(n(200));return em(null,a,l,!0,h)},tr.hydrateRoot=function(a,l,h){if(!k0(a))throw Error(n(405));var m=h!=null&&h.hydratedSources||null,y=!1,w="",P=qk;if(h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onRecoverableError!==void 0&&(P=h.onRecoverableError)),l=zk(l,null,a,1,h??null,y,!1,w,P),a[vi]=l.current,Sh(a),m)for(a=0;a<m.length;a++)h=m[a],y=h._getVersion,y=y(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,y]:l.mutableSourceEagerHydrationData.push(h,y);return new Jp(l)},tr.render=function(a,l,h){if(!Zp(l))throw Error(n(200));return em(null,a,l,!1,h)},tr.unmountComponentAtNode=function(a){if(!Zp(a))throw Error(n(40));return a._reactRootContainer?(Bo(function(){em(null,null,a,!1,function(){a._reactRootContainer=null,a[vi]=null})}),!0):!1},tr.unstable_batchedUpdates=m0,tr.unstable_renderSubtreeIntoContainer=function(a,l,h,m){if(!Zp(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return em(a,l,h,!1,m)},tr.version="18.3.1-next-f1338f8080-20240426",tr}var lT;function iP(){if(lT)return T0.exports;lT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),T0.exports=o3(),T0.exports}var uT;function l3(){if(uT)return nm;uT=1;var t=iP();return nm.createRoot=t.createRoot,nm.hydrateRoot=t.hydrateRoot,nm}var u3=l3();const c3=cx(u3),h3="modulepreload",d3=function(t){return"/"+t},cT={},Wt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(c=>{if(c=d3(c),c in cT)return;cT[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":h3,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,S)=>{g.addEventListener("load",v),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function hT({size:t="md",variant:e="circle",className:n=""}){const r={xs:{wrapper:"w-6 h-6",img:"w-5 h-5"},sm:{wrapper:"w-8 h-8",img:"w-6 h-6"},md:{wrapper:"w-12 h-12",img:"w-10 h-10"},lg:{wrapper:"w-20 h-20",img:"w-16 h-16"},xl:{wrapper:"w-32 h-32",img:"w-24 h-24"}},s=r[t]||r.md;return x.jsx("div",{className:`${e==="circle"?"bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full shadow-lg overflow-hidden flex items-center justify-center":""} ${s.wrapper} ${n}`.trim(),children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:`${s.img} object-contain ${e==="circle"?"transform -rotate-12":""}`,loading:"lazy"})})}const f3=()=>{};var dT={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},p3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],u=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},oP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,u=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,p=i>>2,g=(i&3)<<4|u>>4;let v=(u&15)<<2|d>>6,S=d&63;c||(S=64,o||(v=64)),r.push(n[p],n[g],n[v],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):p3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const c=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||o==null||u==null||c==null)throw new m3;const d=i<<2|o>>4;if(r.push(d),u!==64){const p=o<<4&240|u>>2;if(r.push(p),c!==64){const g=u<<6&192|c;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class m3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g3=function(t){const e=aP(t);return oP.encodeByteArray(e,!0)},lg=function(t){return g3(t).replace(/\./g,"")},lP=function(t){try{return oP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const y3=()=>uP().__FIREBASE_DEFAULTS__,v3=()=>{if(typeof process>"u"||typeof dT>"u")return;const t=dT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},w3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lP(t[1]);return e&&JSON.parse(e)},ty=()=>{try{return f3()||y3()||v3()||w3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cP=t=>{var e,n;return(n=(e=ty())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},hP=t=>{const e=cP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dP=()=>{var t;return(t=ty())==null?void 0:t.config},fP=t=>{var e;return(e=ty())==null?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class b3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ll(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fx(t){return(await fetch(t,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[lg(JSON.stringify(n)),lg(JSON.stringify(o)),""].join(".")}const bd={};function x3(){const t={prod:[],emulator:[]};for(const e of Object.keys(bd))bd[e]?t.emulator.push(e):t.prod.push(e);return t}function E3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fT=!1;function px(t,e){if(typeof window>"u"||typeof document>"u"||!Ll(window.location.host)||bd[t]===e||bd[t]||fT)return;bd[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=x3().prod.length>0;function i(){const g=document.getElementById(r);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{fT=!0,i()},g}function d(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=E3(r),v=n("text"),S=document.getElementById(v)||document.createElement("span"),C=n("learnmore"),T=document.getElementById(C)||document.createElement("a"),_=n("preprendIcon"),D=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const A=g.element;o(A),d(T,C);const O=c();u(D,_),A.append(D,S,T,O),document.body.appendChild(A)}s?(S.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function mP(){var t;const e=(t=ty())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function T3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _3(){const t=hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gP(){return!mP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yP(){return!mP()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function ny(){try{return typeof indexedDB=="object"}catch{return!1}}function gx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function vP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const C3="FirebaseError";class Qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=C3,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?I3(i,r):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new Qr(s,u,r)}}function I3(t,e){return t.replace(P3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const P3=/\{\$([^}]+)}/g;function D3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function eo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(pT(i)&&pT(o)){if(!eo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function pT(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ff(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function dd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function N3(t,e){const n=new A3(t,e);return n.subscribe.bind(n)}class A3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");M3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=_0),s.error===void 0&&(s.error=_0),s.complete===void 0&&(s.complete=_0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _0(){}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R3=1e3,O3=2,j3=14400*1e3,L3=.5;function mT(t,e=R3,n=O3){const r=e*Math.pow(n,t),s=Math.round(L3*r*(Math.random()-.5)*2);return Math.min(j3,r+s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Pt(t){return t&&t._delegate?t._delegate:t}class Hr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const el="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class F3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new b3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V3(e))try{this.getOrInitializeService({instanceIdentifier:el})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=el){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=el){return this.instances.has(e)}getOptions(e=el){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=el){return this.component?this.component.multipleInstances?e:el:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B3(t){return t===el?void 0:t}function V3(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class z3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const U3={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},q3=Ge.INFO,$3={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},K3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=$3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ry{constructor(e){this.name=e,this._logLevel=q3,this._logHandler=K3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const W3=(t,e)=>e.some(n=>t instanceof n);let gT,yT;function G3(){return gT||(gT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H3(){return yT||(yT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wP=new WeakMap,jw=new WeakMap,bP=new WeakMap,C0=new WeakMap,yx=new WeakMap;function Q3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ha(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wP.set(n,t)}).catch(()=>{}),yx.set(e,t),e}function X3(t){if(jw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});jw.set(t,e)}let Lw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ha(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Y3(t){Lw=t(Lw)}function J3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(I0(this),e,...n);return bP.set(r,e.sort?e.sort():[e]),Ha(r)}:H3().includes(t)?function(...e){return t.apply(I0(this),e),Ha(wP.get(this))}:function(...e){return Ha(t.apply(I0(this),e))}}function Z3(t){return typeof t=="function"?J3(t):(t instanceof IDBTransaction&&X3(t),W3(t,G3())?new Proxy(t,Lw):t)}function Ha(t){if(t instanceof IDBRequest)return Q3(t);if(C0.has(t))return C0.get(t);const e=Z3(t);return e!==t&&(C0.set(t,e),yx.set(e,t)),e}const I0=t=>yx.get(t);function xP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),u=Ha(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ha(o.result),c.oldVersion,c.newVersion,Ha(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const e5=["get","getKey","getAll","getAllKeys","count"],t5=["put","add","delete","clear"],P0=new Map;function vT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(P0.get(e))return P0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=t5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||e5.includes(n)))return;const i=async function(o,...u){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),s&&c.done]))[0]};return P0.set(e,i),i}Y3(t=>({...t,get:(e,n,r)=>vT(e,n)||t.get(e,n,r),has:(e,n)=>!!vT(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class n5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(r5(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function r5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fw="@firebase/app",wT="0.14.5";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Li=new ry("@firebase/app"),s5="@firebase/app-compat",i5="@firebase/analytics-compat",a5="@firebase/analytics",o5="@firebase/app-check-compat",l5="@firebase/app-check",u5="@firebase/auth",c5="@firebase/auth-compat",h5="@firebase/database",d5="@firebase/data-connect",f5="@firebase/database-compat",p5="@firebase/functions",m5="@firebase/functions-compat",g5="@firebase/installations",y5="@firebase/installations-compat",v5="@firebase/messaging",w5="@firebase/messaging-compat",b5="@firebase/performance",x5="@firebase/performance-compat",E5="@firebase/remote-config",S5="@firebase/remote-config-compat",k5="@firebase/storage",T5="@firebase/storage-compat",_5="@firebase/firestore",C5="@firebase/ai",I5="@firebase/firestore-compat",P5="firebase",D5="12.5.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bw="[DEFAULT]",N5={[Fw]:"fire-core",[s5]:"fire-core-compat",[a5]:"fire-analytics",[i5]:"fire-analytics-compat",[l5]:"fire-app-check",[o5]:"fire-app-check-compat",[u5]:"fire-auth",[c5]:"fire-auth-compat",[h5]:"fire-rtdb",[d5]:"fire-data-connect",[f5]:"fire-rtdb-compat",[p5]:"fire-fn",[m5]:"fire-fn-compat",[g5]:"fire-iid",[y5]:"fire-iid-compat",[v5]:"fire-fcm",[w5]:"fire-fcm-compat",[b5]:"fire-perf",[x5]:"fire-perf-compat",[E5]:"fire-rc",[S5]:"fire-rc-compat",[k5]:"fire-gcs",[T5]:"fire-gcs-compat",[_5]:"fire-fst",[I5]:"fire-fst-compat",[C5]:"fire-vertex","fire-js":"fire-js",[P5]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ug=new Map,A5=new Map,Vw=new Map;function bT(t,e){try{t.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hs(t){const e=t.name;if(Vw.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Vw.set(e,t);for(const n of ug.values())bT(n,t);for(const n of A5.values())bT(n,t);return!0}function co(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xr(t){return t==null?!1:t.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const M5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new Fl("app","Firebase",M5);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bl=D5;function EP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Bw,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Qa.create("bad-app-name",{appName:String(s)});if(n||(n=dP()),!n)throw Qa.create("no-options");const i=ug.get(s);if(i){if(eo(n,i.options)&&eo(r,i.config))return i;throw Qa.create("duplicate-app",{appName:s})}const o=new z3(s);for(const c of Vw.values())o.addComponent(c);const u=new R5(n,r,o);return ug.set(s,u),u}function sy(t=Bw){const e=ug.get(t);if(!e&&t===Bw&&dP())return EP();if(!e)throw Qa.create("no-app",{appName:t});return e}function or(t,e,n){let r=N5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(o.join(" "));return}hs(new Hr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const O5="firebase-heartbeat-database",j5=1,jd="firebase-heartbeat-store";let D0=null;function SP(){return D0||(D0=xP(O5,j5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qa.create("idb-open",{originalErrorMessage:t.message})})),D0}async function L5(t){try{const e=(await SP()).transaction(jd),n=await e.objectStore(jd).get(kP(t));return await e.done,n}catch(e){if(e instanceof Qr)Li.warn(e.message);else{const n=Qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Li.warn(n.message)}}}async function xT(t,e){try{const n=(await SP()).transaction(jd,"readwrite");await n.objectStore(jd).put(e,kP(t)),await n.done}catch(n){if(n instanceof Qr)Li.warn(n.message);else{const r=Qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Li.warn(r.message)}}}function kP(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const F5=1024,B5=30;class V5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new U5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ET();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>B5){const i=q5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Li.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ET(),{heartbeatsToSend:r,unsentEntries:s}=z5(this._heartbeatsCache.heartbeats),i=lg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Li.warn(n),""}}}function ET(){return new Date().toISOString().substring(0,10)}function z5(t,e=F5){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ST(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ST(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class U5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ny()?gx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await L5(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return xT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return xT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function ST(t){return lg(JSON.stringify({version:2,heartbeats:t})).length}function q5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $5(t){hs(new Hr("platform-logger",e=>new n5(e),"PRIVATE")),hs(new Hr("heartbeat",e=>new V5(e),"PRIVATE")),or(Fw,wT,t),or(Fw,wT,"esm2020"),or("fire-js","")}$5("");function TP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K5=TP,_P=new Fl("auth","Firebase",TP());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const cg=new ry("@firebase/auth");function W5(t,...e){cg.logLevel<=Ge.WARN&&cg.warn(`Auth (${Bl}): ${t}`,...e)}function Nm(t,...e){cg.logLevel<=Ge.ERROR&&cg.error(`Auth (${Bl}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ds(t,...e){throw vx(t,...e)}function $s(t,...e){return vx(t,...e)}function CP(t,e,n){const r={...K5(),[e]:n};return new Fl("auth","Firebase",r).create(e,{appName:t.name})}function Oi(t){return CP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _P.create(t,...e)}function Oe(t,e,...n){if(!t)throw vx(e,...n)}function Ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nm(e),new Error(e)}function Fi(t,e){t||Ni(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function G5(){return kT()==="http:"||kT()==="https:"}function kT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function H5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G5()||mx()||"connection"in navigator)?navigator.onLine:!0}function Q5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=S3()||T3()}get(){return H5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wx(t,e){Fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const X5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Y5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J5=new pf(3e4,6e4);function Gi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Hi(t,e,n,r,s={}){return PP(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const u=ff({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return k3()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ll(t.emulatorConfig.host)&&(d.credentials="include"),IP.fetch()(await DP(t,t.config.apiHost,n,u),d)})}async function PP(t,e,n){t._canInitEmulator=!1;const r={...X5,...e};try{const s=new e6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw rm(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const u=i.ok?o.errorMessage:o.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw rm(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw rm(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw rm(t,"user-disabled",o);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw CP(t,p,d);ds(t,p)}}catch(s){if(s instanceof Qr)throw s;ds(t,"network-request-failed",{message:String(s)})}}async function mf(t,e,n,r,s={}){const i=await Hi(t,e,n,r,s);return"mfaPendingCredential"in i&&ds(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function DP(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?wx(t.config,s):`${t.config.apiScheme}://${s}`;return Y5.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function Z5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($s(this.auth,"network-request-failed")),J5.get())})}}function rm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=$s(t,e,r);return s.customData._tokenResponse=n,s}function TT(t){return t!==void 0&&t.enterprise!==void 0}class t6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Z5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n6(t,e){return Hi(t,"GET","/v2/recaptchaConfig",Gi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function r6(t,e){return Hi(t,"POST","/v1/accounts:delete",e)}async function hg(t,e){return Hi(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function s6(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),s=bx(r);Oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:xd(N0(s.auth_time)),issuedAtTime:xd(N0(s.iat)),expirationTime:xd(N0(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function N0(t){return Number(t)*1e3}function bx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nm("JWT malformed, contained fewer than 3 sections"),null;try{const s=lP(n);return s?JSON.parse(s):(Nm("Failed to decode base64 JWT payload"),null)}catch(s){return Nm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _T(t){const e=bx(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Ld(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qr&&i6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function i6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class a6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Uw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xd(this.lastLoginAt),this.creationTime=xd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function dg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ld(t,hg(n,{idToken:r}));Oe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=(e=i.providerUserInfo)!=null&&e.length?NP(i.providerUserInfo):[],u=l6(t.providerData,o),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(u!=null&&u.length),p=c?d:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new Uw(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function o6(t){const e=Pt(t);await dg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l6(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function NP(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function u6(t,e){const n=await PP(t,{},async()=>{const r=ff({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await DP(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&Ll(t.emulatorConfig.host)&&(c.credentials="include"),IP.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function c6(t,e){return Hi(t,"POST","/v2/accounts:revokeToken",Gi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_T(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=_T(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await u6(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new uc;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uc,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Na(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class us{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new a6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Uw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ld(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return s6(this,e)}reload(){return o6(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new us({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xr(this.auth.app))return Promise.reject(Oi(this.auth));const e=await this.getIdToken();return await Ld(this,r6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:S,providerData:C,stsTokenManager:T}=n;Oe(g&&T,e,"internal-error");const _=uc.fromJSON(this.name,T);Oe(typeof g=="string",e,"internal-error"),Na(r,e.name),Na(s,e.name),Oe(typeof v=="boolean",e,"internal-error"),Oe(typeof S=="boolean",e,"internal-error"),Na(i,e.name),Na(o,e.name),Na(u,e.name),Na(c,e.name),Na(d,e.name),Na(p,e.name);const D=new us({uid:g,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:S,photoURL:o,phoneNumber:i,tenantId:u,stsTokenManager:_,createdAt:d,lastLoginAt:p});return C&&Array.isArray(C)&&(D.providerData=C.map(A=>({...A}))),c&&(D._redirectEventId=c),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new uc;s.updateFromServerResponse(n);const i=new us({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await dg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?NP(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new uc;u.updateFromIdToken(r);const c=new us({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Uw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const CT=new Map;function Ai(t){Fi(t instanceof Function,"Expected a class definition");let e=CT.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CT.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AP.type="NONE";const IT=AP;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Am(t,e,n){return`firebase:${t}:${e}:${n}`}class cc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Am(this.userKey,s.apiKey,i),this.fullPersistenceKey=Am("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hg(this.auth,{idToken:e}).catch(()=>{});return n?us._fromGetAccountInfoResponse(this.auth,n,e):null}return us._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cc(Ai(IT),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Ai(IT);const o=Am(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const p=await d._get(o);if(p){let g;if(typeof p=="string"){const v=await hg(e,{idToken:p}).catch(()=>{});if(!v)break;g=await us._fromGetAccountInfoResponse(e,v,p)}else g=us._fromJSON(e,p);d!==i&&(u=g),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new cc(i,e,r):(i=c[0],u&&await i._set(o,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new cc(i,e,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function PT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FP(e))return"Blackberry";if(BP(e))return"Webos";if(RP(e))return"Safari";if((e.includes("chrome/")||OP(e))&&!e.includes("edge/"))return"Chrome";if(LP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MP(t=hn()){return/firefox\//i.test(t)}function RP(t=hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OP(t=hn()){return/crios\//i.test(t)}function jP(t=hn()){return/iemobile/i.test(t)}function LP(t=hn()){return/android/i.test(t)}function FP(t=hn()){return/blackberry/i.test(t)}function BP(t=hn()){return/webos/i.test(t)}function xx(t=hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function h6(t=hn()){var e;return xx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function d6(){return _3()&&document.documentMode===10}function VP(t=hn()){return xx(t)||LP(t)||BP(t)||FP(t)||/windows phone/i.test(t)||jP(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zP(t,e=[]){let n;switch(t){case"Browser":n=PT(hn());break;case"Worker":n=`${PT(hn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bl}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class f6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,u)=>{try{const c=e(i);o(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function p6(t,e={}){return Hi(t,"GET","/v2/passwordPolicy",Gi(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const m6=6;class g6{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??m6,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class y6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DT(this),this.idTokenSubscription=new DT(this),this.beforeStateQueue=new f6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_P,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ai(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await cc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hg(this,{idToken:e}),r=await us._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)==null?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&c!=null&&c.user&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xr(this.app))return Promise.reject(Oi(this));const n=e?Pt(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xr(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xr(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p6(this),n=new g6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await c6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ai(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await cc.create(this,[Ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(u,this,"internal-error"),u.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return n!=null&&n.error&&W5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ho(t){return Pt(t)}let DT=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=N3(e=>this.observer=e)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let iy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v6(t){iy=t}function UP(t){return iy.loadJS(t)}function w6(){return iy.recaptchaEnterpriseScript}function b6(){return iy.gapiScript}function x6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class E6{constructor(){this.enterprise=new S6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class S6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const k6="recaptcha-enterprise",qP="NO_RECAPTCHA";class T6{constructor(e){this.type=k6,this.auth=ho(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,u)=>{n6(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new t6(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{u(c)})})}function s(i,o,u){const c=window.grecaptcha;TT(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(qP)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new E6().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(u=>{if(!n&&TT(window.grecaptcha))s(u,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=w6();c.length!==0&&(c+=u),UP(c).then(()=>{s(u,i,o)}).catch(d=>{o(d)})}}).catch(u=>{o(u)})})}}async function NT(t,e,n,r=!1,s=!1){const i=new T6(t);let o;if(s)o=qP;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function fg(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await NT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await NT(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(o)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _6(t,e){const n=co(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(eo(s,e??{}))return r;ds(r,"already-initialized")}return n.initialize({options:e})}function C6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ai);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function I6(t,e,n){const r=ho(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=$P(e),{host:o,port:u}=P6(e),c=u===null?"":`:${u}`,d={url:`${i}//${o}${c}/`},p=Object.freeze({host:o,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(eo(d,r.config.emulator)&&eo(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Ll(o)?(fx(`${i}//${o}${c}`),px("Auth",!0)):D6()}function $P(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function P6(t){const e=$P(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:AT(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:AT(o)}}}function AT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function D6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ex{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,n){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function N6(t,e){return Hi(t,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function A6(t,e){return mf(t,"POST","/v1/accounts:signInWithPassword",Gi(t,e))}async function M6(t,e){return Hi(t,"POST","/v1/accounts:sendOobCode",Gi(t,e))}async function R6(t,e){return M6(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function O6(t,e){return mf(t,"POST","/v1/accounts:signInWithEmailLink",Gi(t,e))}async function j6(t,e){return mf(t,"POST","/v1/accounts:signInWithEmailLink",Gi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fd extends Ex{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Fd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fg(e,n,"signInWithPassword",A6);case"emailLink":return O6(e,{email:this._email,oobCode:this._password});default:ds(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fg(e,r,"signUpPassword",N6);case"emailLink":return j6(e,{idToken:n,email:this._email,oobCode:this._password});default:ds(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function hc(t,e){return mf(t,"POST","/v1/accounts:signInWithIdp",Gi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const L6="http://localhost";class El extends Ex{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new El(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new El(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return hc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hc(e,n)}buildRequest(){const e={requestUri:L6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ff(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function F6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B6(t){const e=hd(dd(t)).link,n=e?hd(dd(e)).deep_link_id:null,r=hd(dd(t)).deep_link_id;return(r?hd(dd(r)).link:null)||r||n||e||t}class Sx{constructor(e){const n=hd(dd(e)),r=n.apiKey??null,s=n.oobCode??null,i=F6(n.mode??null);Oe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=B6(e);try{return new Sx(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rc{constructor(){this.providerId=Rc.PROVIDER_ID}static credential(e,n){return Fd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sx.parseLink(n);return Oe(r,"argument-error"),Fd._fromEmailAndCode(e,r.code,r.tenantId)}}Rc.PROVIDER_ID="password";Rc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class KP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gf extends KP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ua extends gf{constructor(){super("facebook.com")}static credential(e){return El._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ua.credential(e.oauthAccessToken)}catch{return null}}}Ua.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ua.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qa extends gf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return El._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qa.credential(n,r)}catch{return null}}}qa.GOOGLE_SIGN_IN_METHOD="google.com";qa.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $a extends gf{constructor(){super("github.com")}static credential(e){return El._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $a.credential(e.oauthAccessToken)}catch{return null}}}$a.GITHUB_SIGN_IN_METHOD="github.com";$a.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ka extends gf{constructor(){super("twitter.com")}static credential(e,n){return El._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ka.credential(n,r)}catch{return null}}}Ka.TWITTER_SIGN_IN_METHOD="twitter.com";Ka.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function V6(t,e){return mf(t,"POST","/v1/accounts:signUp",Gi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await us._fromIdTokenResponse(e,r,s),o=MT(r);return new Sl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=MT(r);return new Sl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function MT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pg extends Qr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,pg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new pg(e,n,r,s)}}function WP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pg._fromErrorAndOperation(t,s,e,r):s})}async function z6(t,e,n=!1){const r=await Ld(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Sl._forOperation(t,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function U6(t,e,n=!1){const{auth:r}=t;if(xr(r.app))return Promise.reject(Oi(r));const s="reauthenticate";try{const i=await Ld(t,WP(r,s,e,t),n);Oe(i.idToken,r,"internal-error");const o=bx(i.idToken);Oe(o,r,"internal-error");const{sub:u}=o;return Oe(t.uid===u,r,"user-mismatch"),Sl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ds(r,"user-mismatch"),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function GP(t,e,n=!1){if(xr(t.app))return Promise.reject(Oi(t));const r="signIn",s=await WP(t,r,e),i=await Sl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function q6(t,e){return GP(ho(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function HP(t){const e=ho(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $6(t,e,n){const r=ho(t);await fg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",R6)}async function K6(t,e,n){if(xr(t.app))return Promise.reject(Oi(t));const r=ho(t),s=await fg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",V6).catch(o=>{throw o.code==="auth/password-does-not-meet-requirements"&&HP(t),o}),i=await Sl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}function W6(t,e,n){return xr(t.app)?Promise.reject(Oi(t)):q6(Pt(t),Rc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&HP(t),r})}function G6(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function H6(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function Q6(t,e,n,r){return Pt(t).onAuthStateChanged(e,n,r)}function X6(t){return Pt(t).signOut()}const mg="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class QP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mg,"1"),this.storage.removeItem(mg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Y6=1e3,J6=10;class XP extends QP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);d6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,J6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Y6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XP.type="LOCAL";const Z6=XP;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YP extends QP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YP.type="SESSION";const JP=YP;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function eF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ay{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ay(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(o).map(async d=>d(n.origin,i)),c=await eF(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ay.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((u,c)=>{const d=kx("",20);s.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(g){const v=g;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(v.data.response);break;default:clearTimeout(p),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ks(){return window}function nF(t){Ks().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ZP(){return typeof Ks().WorkerGlobalScope<"u"&&typeof Ks().importScripts=="function"}async function rF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function iF(){return ZP()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eD="firebaseLocalStorageDb",aF=1,gg="firebaseLocalStorage",tD="fbase_key";class yf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function oy(t,e){return t.transaction([gg],e?"readwrite":"readonly").objectStore(gg)}function oF(){const t=indexedDB.deleteDatabase(eD);return new yf(t).toPromise()}function qw(){const t=indexedDB.open(eD,aF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gg,{keyPath:tD})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gg)?e(r):(r.close(),await oF(),e(await qw()))})})}async function RT(t,e,n){const r=oy(t,!0).put({[tD]:e,value:n});return new yf(r).toPromise()}async function lF(t,e){const n=oy(t,!1).get(e),r=await new yf(n).toPromise();return r===void 0?null:r.value}function OT(t,e){const n=oy(t,!0).delete(e);return new yf(n).toPromise()}const uF=800,cF=3;class nD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ay._getInstance(iF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rF(),!this.activeServiceWorker)return;this.sender=new tF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(e=r[0])!=null&&e.fulfilled&&(n=r[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qw();return await RT(e,mg,"1"),await OT(e,mg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>RT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=oy(s,!1).getAll();return new yf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nD.type="LOCAL";const hF=nD;new pf(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dF(t,e){return e?Ai(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tx extends Ex{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fF(t){return GP(t.auth,new Tx(t),t.bypassAuthState)}function pF(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),U6(n,new Tx(t),t.bypassAuthState)}async function mF(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),z6(n,new Tx(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rD{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:u}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fF;case"linkViaPopup":case"linkViaRedirect":return mF;case"reauthViaPopup":case"reauthViaRedirect":return pF;default:ds(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gF=new pf(2e3,1e4);class rc extends rD{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,rc.currentPopupAction&&rc.currentPopupAction.cancel(),rc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=kx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gF.get())};e()}}rc.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yF="pendingRedirect",Mm=new Map;class vF extends rD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mm.get(this.auth._key());if(!e){try{const n=await wF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}Mm.set(this.auth._key(),e)}return this.bypassAuthState||Mm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wF(t,e){const n=EF(e),r=xF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function bF(t,e){Mm.set(t._key(),e)}function xF(t){return Ai(t._redirectPersistence)}function EF(t){return Am(yF,t.config.apiKey,t.name)}async function SF(t,e,n=!1){if(xr(t.app))return Promise.reject(Oi(t));const r=ho(t),s=dF(r,e),i=await new vF(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kF=600*1e3;class TF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_F(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sD(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError($s(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kF&&this.cachedEventUids.clear(),this.cachedEventUids.has(jT(e))}saveEventToCache(e){this.cachedEventUids.add(jT(e)),this.lastProcessedEventTime=Date.now()}}function jT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _F(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sD(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function CF(t,e={}){return Hi(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const IF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PF=/^https?/;async function DF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CF(t);for(const n of e)try{if(NF(n))return}catch{}ds(t,"unauthorized-domain")}function NF(t){const e=zw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!PF.test(n))return!1;if(IF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const AF=new pf(3e4,6e4);function LT(){const t=Ks().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MF(t){return new Promise((e,n)=>{var r,s,i;function o(){LT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LT(),n($s(t,"network-request-failed"))},timeout:AF.get()})}if((s=(r=Ks().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((i=Ks().gapi)!=null&&i.load)o();else{const u=x6("iframefcb");return Ks()[u]=()=>{gapi.load?o():n($s(t,"network-request-failed"))},UP(`${b6()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Rm=null,e})}let Rm=null;function RF(t){return Rm=Rm||MF(t),Rm}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const OF=new pf(5e3,15e3),jF="__/auth/iframe",LF="emulator/auth/iframe",FF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VF(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wx(e,LF):`https://${t.config.authDomain}/${jF}`,r={apiKey:e.apiKey,appName:t.name,v:Bl},s=BF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ff(r).slice(1)}`}async function zF(t){const e=await RF(t),n=Ks().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:VF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=$s(t,"network-request-failed"),u=Ks().setTimeout(()=>{i(o)},OF.get());function c(){Ks().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const UF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qF=500,$F=600,KF="_blank",WF="http://localhost";class FT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GF(t,e,n,r=qF,s=$F){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...UF,width:r.toString(),height:s.toString(),top:i,left:o},d=hn().toLowerCase();n&&(u=OP(d)?KF:n),MP(d)&&(e=e||WF,c.scrollbars="yes");const p=Object.entries(c).reduce((v,[S,C])=>`${v}${S}=${C},`,"");if(h6(d)&&u!=="_self")return HF(e||"",u),new FT(null);const g=window.open(e||"",u,p);Oe(g,t,"popup-blocked");try{g.focus()}catch{}return new FT(g)}function HF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const QF="__/auth/handler",XF="emulator/auth/handler",YF=encodeURIComponent("fac");async function BT(t,e,n,r,s,i){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bl,eventId:s};if(e instanceof KP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",D3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(e instanceof gf){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await t._getAppCheckToken(),d=c?`#${YF}=${encodeURIComponent(c)}`:"";return`${JF(t)}?${ff(u).slice(1)}${d}`}function JF({config:t}){return t.emulator?wx(t,XF):`https://${t.authDomain}/${QF}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const A0="webStorageSupport";class ZF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JP,this._completeRedirectFn=SF,this._overrideRedirectResult=bF}async _openPopup(e,n,r,s){var i;Fi((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await BT(e,n,r,zw(),s);return GF(e,o,kx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await BT(e,n,r,zw(),s);return nF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Fi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await zF(e),r=new TF(e);return n.register("authEvent",s=>(Oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(A0,{type:A0},r=>{var s;const i=(s=r==null?void 0:r[0])==null?void 0:s[A0];i!==void 0&&n(!!i),ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VP()||RP()||xx()}}const eB=ZF;var VT="@firebase/auth",zT="1.11.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rB(t){hs(new Hr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;Oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zP(t)},d=new y6(r,s,i,c);return C6(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hs(new Hr("auth-internal",e=>{const n=ho(e.getProvider("auth").getImmediate());return(r=>new tB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(VT,zT,nB(t)),or(VT,zT,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sB=300,iB=fP("authIdTokenMaxAge")||sB;let UT=null;const aB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iB)return;const s=n==null?void 0:n.token;UT!==s&&(UT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ly(t=sy()){const e=co(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_6(t,{popupRedirectResolver:eB,persistence:[hF,Z6,JP]}),r=fP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=aB(i.toString());H6(n,o,()=>o(n.currentUser)),G6(n,u=>o(u))}}const s=cP("auth");return s&&I6(n,`http://${s}`),n}function oB(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}v6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=$s("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",oB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rB("Browser");var lB="firebase",uB="12.5.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/or(lB,uB,"app");var qT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xa,iD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,I){function N(){}N.prototype=I.prototype,M.F=I.prototype,M.prototype=new N,M.prototype.constructor=M,M.D=function(j,B,q){for(var L=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)L[ke-2]=arguments[ke];return I.prototype[B].apply(j,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,I,N){N||(N=0);const j=Array(16);if(typeof I=="string")for(var B=0;B<16;++B)j[B]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(B=0;B<16;++B)j[B]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=M.g[0],N=M.g[1],B=M.g[2];let q=M.g[3],L;L=I+(q^N&(B^q))+j[0]+3614090360&4294967295,I=N+(L<<7&4294967295|L>>>25),L=q+(B^I&(N^B))+j[1]+3905402710&4294967295,q=I+(L<<12&4294967295|L>>>20),L=B+(N^q&(I^N))+j[2]+606105819&4294967295,B=q+(L<<17&4294967295|L>>>15),L=N+(I^B&(q^I))+j[3]+3250441966&4294967295,N=B+(L<<22&4294967295|L>>>10),L=I+(q^N&(B^q))+j[4]+4118548399&4294967295,I=N+(L<<7&4294967295|L>>>25),L=q+(B^I&(N^B))+j[5]+1200080426&4294967295,q=I+(L<<12&4294967295|L>>>20),L=B+(N^q&(I^N))+j[6]+2821735955&4294967295,B=q+(L<<17&4294967295|L>>>15),L=N+(I^B&(q^I))+j[7]+4249261313&4294967295,N=B+(L<<22&4294967295|L>>>10),L=I+(q^N&(B^q))+j[8]+1770035416&4294967295,I=N+(L<<7&4294967295|L>>>25),L=q+(B^I&(N^B))+j[9]+2336552879&4294967295,q=I+(L<<12&4294967295|L>>>20),L=B+(N^q&(I^N))+j[10]+4294925233&4294967295,B=q+(L<<17&4294967295|L>>>15),L=N+(I^B&(q^I))+j[11]+2304563134&4294967295,N=B+(L<<22&4294967295|L>>>10),L=I+(q^N&(B^q))+j[12]+1804603682&4294967295,I=N+(L<<7&4294967295|L>>>25),L=q+(B^I&(N^B))+j[13]+4254626195&4294967295,q=I+(L<<12&4294967295|L>>>20),L=B+(N^q&(I^N))+j[14]+2792965006&4294967295,B=q+(L<<17&4294967295|L>>>15),L=N+(I^B&(q^I))+j[15]+1236535329&4294967295,N=B+(L<<22&4294967295|L>>>10),L=I+(B^q&(N^B))+j[1]+4129170786&4294967295,I=N+(L<<5&4294967295|L>>>27),L=q+(N^B&(I^N))+j[6]+3225465664&4294967295,q=I+(L<<9&4294967295|L>>>23),L=B+(I^N&(q^I))+j[11]+643717713&4294967295,B=q+(L<<14&4294967295|L>>>18),L=N+(q^I&(B^q))+j[0]+3921069994&4294967295,N=B+(L<<20&4294967295|L>>>12),L=I+(B^q&(N^B))+j[5]+3593408605&4294967295,I=N+(L<<5&4294967295|L>>>27),L=q+(N^B&(I^N))+j[10]+38016083&4294967295,q=I+(L<<9&4294967295|L>>>23),L=B+(I^N&(q^I))+j[15]+3634488961&4294967295,B=q+(L<<14&4294967295|L>>>18),L=N+(q^I&(B^q))+j[4]+3889429448&4294967295,N=B+(L<<20&4294967295|L>>>12),L=I+(B^q&(N^B))+j[9]+568446438&4294967295,I=N+(L<<5&4294967295|L>>>27),L=q+(N^B&(I^N))+j[14]+3275163606&4294967295,q=I+(L<<9&4294967295|L>>>23),L=B+(I^N&(q^I))+j[3]+4107603335&4294967295,B=q+(L<<14&4294967295|L>>>18),L=N+(q^I&(B^q))+j[8]+1163531501&4294967295,N=B+(L<<20&4294967295|L>>>12),L=I+(B^q&(N^B))+j[13]+2850285829&4294967295,I=N+(L<<5&4294967295|L>>>27),L=q+(N^B&(I^N))+j[2]+4243563512&4294967295,q=I+(L<<9&4294967295|L>>>23),L=B+(I^N&(q^I))+j[7]+1735328473&4294967295,B=q+(L<<14&4294967295|L>>>18),L=N+(q^I&(B^q))+j[12]+2368359562&4294967295,N=B+(L<<20&4294967295|L>>>12),L=I+(N^B^q)+j[5]+4294588738&4294967295,I=N+(L<<4&4294967295|L>>>28),L=q+(I^N^B)+j[8]+2272392833&4294967295,q=I+(L<<11&4294967295|L>>>21),L=B+(q^I^N)+j[11]+1839030562&4294967295,B=q+(L<<16&4294967295|L>>>16),L=N+(B^q^I)+j[14]+4259657740&4294967295,N=B+(L<<23&4294967295|L>>>9),L=I+(N^B^q)+j[1]+2763975236&4294967295,I=N+(L<<4&4294967295|L>>>28),L=q+(I^N^B)+j[4]+1272893353&4294967295,q=I+(L<<11&4294967295|L>>>21),L=B+(q^I^N)+j[7]+4139469664&4294967295,B=q+(L<<16&4294967295|L>>>16),L=N+(B^q^I)+j[10]+3200236656&4294967295,N=B+(L<<23&4294967295|L>>>9),L=I+(N^B^q)+j[13]+681279174&4294967295,I=N+(L<<4&4294967295|L>>>28),L=q+(I^N^B)+j[0]+3936430074&4294967295,q=I+(L<<11&4294967295|L>>>21),L=B+(q^I^N)+j[3]+3572445317&4294967295,B=q+(L<<16&4294967295|L>>>16),L=N+(B^q^I)+j[6]+76029189&4294967295,N=B+(L<<23&4294967295|L>>>9),L=I+(N^B^q)+j[9]+3654602809&4294967295,I=N+(L<<4&4294967295|L>>>28),L=q+(I^N^B)+j[12]+3873151461&4294967295,q=I+(L<<11&4294967295|L>>>21),L=B+(q^I^N)+j[15]+530742520&4294967295,B=q+(L<<16&4294967295|L>>>16),L=N+(B^q^I)+j[2]+3299628645&4294967295,N=B+(L<<23&4294967295|L>>>9),L=I+(B^(N|~q))+j[0]+4096336452&4294967295,I=N+(L<<6&4294967295|L>>>26),L=q+(N^(I|~B))+j[7]+1126891415&4294967295,q=I+(L<<10&4294967295|L>>>22),L=B+(I^(q|~N))+j[14]+2878612391&4294967295,B=q+(L<<15&4294967295|L>>>17),L=N+(q^(B|~I))+j[5]+4237533241&4294967295,N=B+(L<<21&4294967295|L>>>11),L=I+(B^(N|~q))+j[12]+1700485571&4294967295,I=N+(L<<6&4294967295|L>>>26),L=q+(N^(I|~B))+j[3]+2399980690&4294967295,q=I+(L<<10&4294967295|L>>>22),L=B+(I^(q|~N))+j[10]+4293915773&4294967295,B=q+(L<<15&4294967295|L>>>17),L=N+(q^(B|~I))+j[1]+2240044497&4294967295,N=B+(L<<21&4294967295|L>>>11),L=I+(B^(N|~q))+j[8]+1873313359&4294967295,I=N+(L<<6&4294967295|L>>>26),L=q+(N^(I|~B))+j[15]+4264355552&4294967295,q=I+(L<<10&4294967295|L>>>22),L=B+(I^(q|~N))+j[6]+2734768916&4294967295,B=q+(L<<15&4294967295|L>>>17),L=N+(q^(B|~I))+j[13]+1309151649&4294967295,N=B+(L<<21&4294967295|L>>>11),L=I+(B^(N|~q))+j[4]+4149444226&4294967295,I=N+(L<<6&4294967295|L>>>26),L=q+(N^(I|~B))+j[11]+3174756917&4294967295,q=I+(L<<10&4294967295|L>>>22),L=B+(I^(q|~N))+j[2]+718787259&4294967295,B=q+(L<<15&4294967295|L>>>17),L=N+(q^(B|~I))+j[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(B+(L<<21&4294967295|L>>>11))&4294967295,M.g[2]=M.g[2]+B&4294967295,M.g[3]=M.g[3]+q&4294967295}r.prototype.v=function(M,I){I===void 0&&(I=M.length);const N=I-this.blockSize,j=this.C;let B=this.h,q=0;for(;q<I;){if(B==0)for(;q<=N;)s(this,M,q),q+=this.blockSize;if(typeof M=="string"){for(;q<I;)if(j[B++]=M.charCodeAt(q++),B==this.blockSize){s(this,j),B=0;break}}else for(;q<I;)if(j[B++]=M[q++],B==this.blockSize){s(this,j),B=0;break}}this.h=B,this.o+=I},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;I=this.o*8;for(var N=M.length-8;N<M.length;++N)M[N]=I&255,I/=256;for(this.v(M),M=Array(16),I=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)M[I++]=this.g[N]>>>j&255;return M};function i(M,I){var N=u;return Object.prototype.hasOwnProperty.call(N,M)?N[M]:N[M]=I(M)}function o(M,I){this.h=I;const N=[];let j=!0;for(let B=M.length-1;B>=0;B--){const q=M[B]|0;j&&q==I||(N[B]=q,j=!1)}this.g=N}var u={};function c(M){return-128<=M&&M<128?i(M,function(I){return new o([I|0],I<0?-1:0)}):new o([M|0],M<0?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return g;if(M<0)return _(d(-M));const I=[];let N=1;for(let j=0;M>=N;j++)I[j]=M/N|0,N*=4294967296;return new o(I,0)}function p(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return _(p(M.substring(1),I));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=d(Math.pow(I,8));let j=g;for(let q=0;q<M.length;q+=8){var B=Math.min(8,M.length-q);const L=parseInt(M.substring(q,q+B),I);B<8?(B=d(Math.pow(I,B)),j=j.j(B).add(d(L))):(j=j.j(N),j=j.add(d(L)))}return j}var g=c(0),v=c(1),S=c(16777216);t=o.prototype,t.m=function(){if(T(this))return-_(this).m();let M=0,I=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);M+=(j>=0?j:4294967296+j)*I,I*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(C(this))return"0";if(T(this))return"-"+_(this).toString(M);const I=d(Math.pow(M,6));var N=this;let j="";for(;;){const B=V(N,I).g;N=D(N,B.j(I));let q=((N.g.length>0?N.g[0]:N.h)>>>0).toString(M);if(N=B,C(N))return q+j;for(;q.length<6;)q="0"+q;j=q+j}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function C(M){if(M.h!=0)return!1;for(let I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function T(M){return M.h==-1}t.l=function(M){return M=D(this,M),T(M)?-1:C(M)?0:1};function _(M){const I=M.g.length,N=[];for(let j=0;j<I;j++)N[j]=~M.g[j];return new o(N,~M.h).add(v)}t.abs=function(){return T(this)?_(this):this},t.add=function(M){const I=Math.max(this.g.length,M.g.length),N=[];let j=0;for(let B=0;B<=I;B++){let q=j+(this.i(B)&65535)+(M.i(B)&65535),L=(q>>>16)+(this.i(B)>>>16)+(M.i(B)>>>16);j=L>>>16,q&=65535,L&=65535,N[B]=L<<16|q}return new o(N,N[N.length-1]&-2147483648?-1:0)};function D(M,I){return M.add(_(I))}t.j=function(M){if(C(this)||C(M))return g;if(T(this))return T(M)?_(this).j(_(M)):_(_(this).j(M));if(T(M))return _(this.j(_(M)));if(this.l(S)<0&&M.l(S)<0)return d(this.m()*M.m());const I=this.g.length+M.g.length,N=[];for(var j=0;j<2*I;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let B=0;B<M.g.length;B++){const q=this.i(j)>>>16,L=this.i(j)&65535,ke=M.i(B)>>>16,Ae=M.i(B)&65535;N[2*j+2*B]+=L*Ae,A(N,2*j+2*B),N[2*j+2*B+1]+=q*Ae,A(N,2*j+2*B+1),N[2*j+2*B+1]+=L*ke,A(N,2*j+2*B+1),N[2*j+2*B+2]+=q*ke,A(N,2*j+2*B+2)}for(M=0;M<I;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=I;M<2*I;M++)N[M]=0;return new o(N,0)};function A(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function O(M,I){this.g=M,this.h=I}function V(M,I){if(C(I))throw Error("division by zero");if(C(M))return new O(g,g);if(T(M))return I=V(_(M),I),new O(_(I.g),_(I.h));if(T(I))return I=V(M,_(I)),new O(_(I.g),I.h);if(M.g.length>30){if(T(M)||T(I))throw Error("slowDivide_ only works with positive integers.");for(var N=v,j=I;j.l(M)<=0;)N=U(N),j=U(j);var B=W(N,1),q=W(j,1);for(j=W(j,2),N=W(N,2);!C(j);){var L=q.add(j);L.l(M)<=0&&(B=B.add(N),q=L),j=W(j,1),N=W(N,1)}return I=D(M,B.j(I)),new O(B,I)}for(B=g;M.l(I)>=0;){for(N=Math.max(1,Math.floor(M.m()/I.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),q=d(N),L=q.j(I);T(L)||L.l(M)>0;)N-=j,q=d(N),L=q.j(I);C(q)&&(q=v),B=B.add(q),M=D(M,L)}return new O(B,M)}t.B=function(M){return V(this,M).h},t.and=function(M){const I=Math.max(this.g.length,M.g.length),N=[];for(let j=0;j<I;j++)N[j]=this.i(j)&M.i(j);return new o(N,this.h&M.h)},t.or=function(M){const I=Math.max(this.g.length,M.g.length),N=[];for(let j=0;j<I;j++)N[j]=this.i(j)|M.i(j);return new o(N,this.h|M.h)},t.xor=function(M){const I=Math.max(this.g.length,M.g.length),N=[];for(let j=0;j<I;j++)N[j]=this.i(j)^M.i(j);return new o(N,this.h^M.h)};function U(M){const I=M.g.length+1,N=[];for(let j=0;j<I;j++)N[j]=M.i(j)<<1|M.i(j-1)>>>31;return new o(N,M.h)}function W(M,I){const N=I>>5;I%=32;const j=M.g.length-N,B=[];for(let q=0;q<j;q++)B[q]=I>0?M.i(q+N)>>>I|M.i(q+N+1)<<32-I:M.i(q+N);return new o(B,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,iD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,Xa=o}).apply(typeof qT<"u"?qT:typeof self<"u"?self:typeof window<"u"?window:{});var sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aD,fd,oD,Om,$w,lD,uD,cD;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof sm=="object"&&sm];for(var b=0;b<f.length;++b){var k=f[b];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function s(f,b){if(b)e:{var k=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var Y=f[R];if(!(Y in k))break e;k=k[Y]}f=f[f.length-1],R=k[f],b=b(R),b!=R&&b!=null&&e(k,f,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(b){var k=[],R;for(R in b)Object.prototype.hasOwnProperty.call(b,R)&&k.push([R,b[R]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function u(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function c(f,b,k){return f.call.apply(f.bind,arguments)}function d(f,b,k){return d=c,d.apply(null,arguments)}function p(f,b){var k=Array.prototype.slice.call(arguments,1);return function(){var R=k.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function g(f,b){function k(){}k.prototype=b.prototype,f.Z=b.prototype,f.prototype=new k,f.prototype.constructor=f,f.Ob=function(R,Y,ee){for(var he=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)he[Ue-2]=arguments[Ue];return b.prototype[Y].apply(R,he)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const b=f.length;if(b>0){const k=Array(b);for(let R=0;R<b;R++)k[R]=f[R];return k}return[]}function C(f,b){for(let R=1;R<arguments.length;R++){const Y=arguments[R];var k=typeof Y;if(k=k!="object"?k:Y?Array.isArray(Y)?"array":k:"null",k=="array"||k=="object"&&typeof Y.length=="number"){k=f.length||0;const ee=Y.length||0;f.length=k+ee;for(let he=0;he<ee;he++)f[k+he]=Y[he]}else f.push(Y)}}class T{constructor(b,k){this.i=b,this.j=k,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function _(f){o.setTimeout(()=>{throw f},0)}function D(){var f=M;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class A{constructor(){this.h=this.g=null}add(b,k){const R=O.get();R.set(b,k),this.h?this.h.next=R:this.g=R,this.h=R}}var O=new T(()=>new V,f=>f.reset());class V{constructor(){this.next=this.g=this.h=null}set(b,k){this.h=b,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let U,W=!1,M=new A,I=()=>{const f=Promise.resolve(void 0);U=()=>{f.then(N)}};function N(){for(var f;f=D();){try{f.h.call(f.g)}catch(k){_(k)}var b=O;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}W=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const k=()=>{};o.addEventListener("test",k,b),o.removeEventListener("test",k,b)}catch{}return f})();function L(f){return/^[\s\xa0]*$/.test(f)}function ke(f,b){B.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}g(ke,B),ke.prototype.init=function(f,b){const k=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(k=="mouseover"?b=f.fromElement:k=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),ye=0;function ve(f,b,k,R,Y){this.listener=f,this.proxy=null,this.src=b,this.type=k,this.capture=!!R,this.ha=Y,this.key=++ye,this.da=this.fa=!1}function H(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ne(f,b,k){for(const R in f)b.call(k,f[R],R,f)}function ae(f,b){for(const k in f)b.call(void 0,f[k],k,f)}function G(f){const b={};for(const k in f)b[k]=f[k];return b}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(f,b){let k,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(k in R)f[k]=R[k];for(let ee=0;ee<re.length;ee++)k=re[ee],Object.prototype.hasOwnProperty.call(R,k)&&(f[k]=R[k])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,b,k,R,Y){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const he=ze(f,b,R,Y);return he>-1?(b=f[he],k||(b.fa=!1)):(b=new ve(b,this.src,ee,!!R,Y),b.fa=k,f.push(b)),b};function Me(f,b){const k=b.type;if(k in f.g){var R=f.g[k],Y=Array.prototype.indexOf.call(R,b,void 0),ee;(ee=Y>=0)&&Array.prototype.splice.call(R,Y,1),ee&&(H(b),f.g[k].length==0&&(delete f.g[k],f.h--))}}function ze(f,b,k,R){for(let Y=0;Y<f.length;++Y){const ee=f[Y];if(!ee.da&&ee.listener==b&&ee.capture==!!k&&ee.ha==R)return Y}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),qe={};function Ve(f,b,k,R,Y){if(Array.isArray(b)){for(let ee=0;ee<b.length;ee++)Ve(f,b[ee],k,R,Y);return null}return k=go(k),f&&f[Ae]?f.J(b,k,u(R)?!!R.capture:!1,Y):pt(f,b,k,!1,R,Y)}function pt(f,b,k,R,Y,ee){if(!b)throw Error("Invalid event type");const he=u(Y)?!!Y.capture:!!Y;let Ue=ea(f);if(Ue||(f[Ie]=Ue=new me(f)),k=Ue.add(b,k,R,he,ee),k.proxy)return k;if(R=_r(),k.proxy=R,R.src=f,R.listener=k,f.addEventListener)q||(Y=he),Y===void 0&&(Y=!1),f.addEventListener(b.toString(),R,Y);else if(f.attachEvent)f.attachEvent(Zi(b.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return k}function _r(){function f(k){return b.call(f.src,f.listener,k)}const b=Wl;return f}function Cr(f,b,k,R,Y){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)Cr(f,b[ee],k,R,Y);else R=u(R)?!!R.capture:!!R,k=go(k),f&&f[Ae]?(f=f.i,ee=String(b).toString(),ee in f.g&&(b=f.g[ee],k=ze(b,k,R,Y),k>-1&&(H(b[k]),Array.prototype.splice.call(b,k,1),b.length==0&&(delete f.g[ee],f.h--)))):f&&(f=ea(f))&&(b=f.g[b.toString()],f=-1,b&&(f=ze(b,k,R,Y)),(k=f>-1?b[f]:null)&&Qn(k))}function Qn(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Ae])Me(b.i,f);else{var k=f.type,R=f.proxy;b.removeEventListener?b.removeEventListener(k,R,f.capture):b.detachEvent?b.detachEvent(Zi(k),R):b.addListener&&b.removeListener&&b.removeListener(R),(k=ea(b))?(Me(k,f),k.h==0&&(k.src=null,b[Ie]=null)):H(f)}}}function Zi(f){return f in qe?qe[f]:qe[f]="on"+f}function Wl(f,b){if(f.da)f=!0;else{b=new ke(b,this);const k=f.listener,R=f.ha||f.src;f.fa&&Qn(f),f=k.call(R,b)}return f}function ea(f){return f=f[Ie],f instanceof me?f:null}var li="__closure_events_fn_"+(Math.random()*1e9>>>0);function go(f){return typeof f=="function"?f:(f[li]||(f[li]=function(b){return f.handleEvent(b)}),f[li])}function mt(){j.call(this),this.i=new me(this),this.M=this,this.G=null}g(mt,j),mt.prototype[Ae]=!0,mt.prototype.removeEventListener=function(f,b,k,R){Cr(this,f,b,k,R)};function Gt(f,b){var k,R=f.G;if(R)for(k=[];R;R=R.G)k.push(R);if(f=f.M,R=b.type||b,typeof b=="string")b=new B(b,f);else if(b instanceof B)b.target=b.target||f;else{var Y=b;b=new B(R,f),pe(b,Y)}Y=!0;let ee,he;if(k)for(he=k.length-1;he>=0;he--)ee=b.g=k[he],Y=Xr(ee,R,!0,b)&&Y;if(ee=b.g=f,Y=Xr(ee,R,!0,b)&&Y,Y=Xr(ee,R,!1,b)&&Y,k)for(he=0;he<k.length;he++)ee=b.g=k[he],Y=Xr(ee,R,!1,b)&&Y}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const k=f.g[b];for(let R=0;R<k.length;R++)H(k[R]);delete f.g[b],f.h--}}this.G=null},mt.prototype.J=function(f,b,k,R){return this.i.add(String(f),b,!1,k,R)},mt.prototype.K=function(f,b,k,R){return this.i.add(String(f),b,!0,k,R)};function Xr(f,b,k,R){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let Y=!0;for(let ee=0;ee<b.length;++ee){const he=b[ee];if(he&&!he.da&&he.capture==k){const Ue=he.listener,Ht=he.ha||he.src;he.fa&&Me(f.i,he),Y=Ue.call(Ht,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function Qc(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:o.setTimeout(f,b||0)}function Xc(f){f.g=Qc(()=>{f.g=null,f.i&&(f.i=!1,Xc(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Uf extends j{constructor(b,k){super(),this.m=b,this.l=k,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Xc(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ta(f){j.call(this),this.h=f,this.g={}}g(ta,j);var Yc=[];function Gl(f){ne(f.g,function(b,k){this.g.hasOwnProperty(k)&&Qn(b)},f),f.g={}}ta.prototype.N=function(){ta.Z.N.call(this),Gl(this)},ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var na=o.JSON.stringify,qf=o.JSON.parse,yo=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function ra(){}function $f(){}var sa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Hl(){B.call(this,"d")}g(Hl,B);function Jc(){B.call(this,"c")}g(Jc,B);var Yr={},Ql=null;function ia(){return Ql=Ql||new mt}Yr.Ia="serverreachability";function Xl(f){B.call(this,Yr.Ia,f)}g(Xl,B);function ui(f){const b=ia();Gt(b,new Xl(b))}Yr.STAT_EVENT="statevent";function ci(f,b){B.call(this,Yr.STAT_EVENT,f),this.stat=b}g(ci,B);function Dt(f){const b=ia();Gt(b,new ci(b,f))}Yr.Ja="timingevent";function Zc(f,b){B.call(this,Yr.Ja,f),this.size=b}g(Zc,B);function aa(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},b)}function oa(){this.g=!0}oa.prototype.ua=function(){this.g=!1};function Kf(f,b,k,R,Y,ee){f.info(function(){if(f.g)if(ee){var he="",Ue=ee.split("&");for(let ht=0;ht<Ue.length;ht++){var Ht=Ue[ht].split("=");if(Ht.length>1){const en=Ht[0];Ht=Ht[1];const pr=en.split("_");he=pr.length>=2&&pr[1]=="type"?he+(en+"="+Ht+"&"):he+(en+"=redacted&")}}}else he=null;else he=ee;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+b+`
`+k+`
`+he})}function Wf(f,b,k,R,Y,ee,he){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+b+`
`+k+`
`+ee+" "+he})}function ws(f,b,k,R){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+vo(f,k)+(R?" "+R:"")})}function Gf(f,b){f.info(function(){return"TIMEOUT: "+b})}oa.prototype.info=function(){};function vo(f,b){if(!f.g)return b;if(!b)return null;try{const ee=JSON.parse(b);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var k=ee[f];if(!(k.length<2)){var R=k[1];if(Array.isArray(R)&&!(R.length<1)){var Y=R[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let he=1;he<R.length;he++)R[he]=""}}}}return na(ee)}catch{return b}}var la={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ua={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hf;function hi(){}g(hi,ra),hi.prototype.g=function(){return new XMLHttpRequest},Hf=new hi;function bs(f){return encodeURIComponent(String(f))}function Yl(f){var b=1;f=f.split(":");const k=[];for(;b>0&&f.length;)k.push(f.shift()),b--;return f.length&&k.push(f.join(":")),k}function Ir(f,b,k,R){this.j=f,this.i=b,this.l=k,this.S=R||1,this.V=new ta(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qf}function Qf(){this.i=null,this.g="",this.h=!1}var Xf={},eh={};function Jr(f,b,k){f.M=1,f.A=fi(Pr(b)),f.u=k,f.R=!0,th(f,null)}function th(f,b){f.F=Date.now(),wo(f),f.B=Pr(f.A);var k=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),hh(k.i,"t",R),f.C=0,k=f.j.L,f.h=new Qf,f.g=ap(f.j,k?b:null,!f.u),f.P>0&&(f.O=new Uf(d(f.Y,f,f.g),f.P)),b=f.V,k=f.g,R=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Yc[0]=Y.toString()),Y=Yc);for(let ee=0;ee<Y.length;ee++){const he=Ve(k,Y[ee],R||b.handleEvent,!1,b.h||b);if(!he)break;b.g[he.key]=he}b=f.J?G(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),ui(),Kf(f.i,f.v,f.B,f.l,f.S,f.u)}Ir.prototype.ba=function(f){f=f.target;const b=this.O;b&&Cs(f)==3?b.j():this.Y(f)},Ir.prototype.Y=function(f){try{if(f==this.g)e:{const Ue=Cs(this.g),Ht=this.g.ya(),ht=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||sp(this.g)))){this.K||Ue!=4||Ht==7||(Ht==8||ht<=0?ui(3):ui(2)),Jl(this);var b=this.g.ca();this.X=b;var k=Yf(this);if(this.o=b==200,Wf(this.i,this.v,this.B,this.l,this.S,Ue,b),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Y=this.g;if((R=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(R)){var ee=R;break t}}ee=null}if(f=ee)ws(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gt(this,f);else{this.o=!1,this.m=3,Dt(12),di(this),bo(this);break e}}if(this.R){f=!0;let en;for(;!this.K&&this.C<k.length;)if(en=Zf(this,k),en==eh){Ue==4&&(this.m=4,Dt(14),f=!1),ws(this.i,this.l,null,"[Incomplete Response]");break}else if(en==Xf){this.m=4,Dt(15),ws(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else ws(this.i,this.l,en,null),gt(this,en);if(Jf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||k.length!=0||this.h.h||(this.m=1,Dt(16),f=!1),this.o=this.o&&f,!f)ws(this.i,this.l,k,"[Invalid Chunked Response]"),di(this),bo(this);else if(k.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Po(he),he.P=!0,Dt(11))}}else ws(this.i,this.l,k,null),gt(this,k);Ue==4&&di(this),this.o&&!this.K&&(Ue==4?lu(this.j,this):(this.o=!1,wo(this)))}else fh(this.g),b==400&&k.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),di(this),bo(this)}}}catch{}finally{}};function Yf(f){if(!Jf(f))return f.g.la();const b=sp(f.g);if(b==="")return"";let k="";const R=b.length,Y=Cs(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return di(f),bo(f),"";f.h.i=new o.TextDecoder}for(let ee=0;ee<R;ee++)f.h.h=!0,k+=f.h.i.decode(b[ee],{stream:!(Y&&ee==R-1)});return b.length=0,f.h.g+=k,f.C=0,f.h.g}function Jf(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Zf(f,b){var k=f.C,R=b.indexOf(`
`,k);return R==-1?eh:(k=Number(b.substring(k,R)),isNaN(k)?Xf:(R+=1,R+k>b.length?eh:(b=b.slice(R,R+k),f.C=R+k,b)))}Ir.prototype.cancel=function(){this.K=!0,di(this)};function wo(f){f.T=Date.now()+f.H,nh(f,f.H)}function nh(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=aa(d(f.aa,f),b)}function Jl(f){f.D&&(o.clearTimeout(f.D),f.D=null)}Ir.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Gf(this.i,this.B),this.M!=2&&(ui(),Dt(17)),di(this),this.m=2,bo(this)):nh(this,this.T-f)};function bo(f){f.j.I==0||f.K||lu(f.j,f)}function di(f){Jl(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Gl(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function gt(f,b){try{var k=f.j;if(k.I!=0&&(k.g==f||sh(k.h,f))){if(!f.L&&sh(k.h,f)&&k.I==3){try{var R=k.Ba.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<f.F)ou(k),dr(k);else break e;Ds(k),Dt(18)}}else k.xa=Y[1],0<k.xa-k.K&&Y[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=aa(d(k.Va,k),6e3));xo(k.h)<=1&&k.ta&&(k.ta=void 0)}else fr(k,11)}else if((f.L||k.g==f)&&ou(k),!L(b))for(Y=k.Ba.g.parse(b),b=0;b<Y.length;b++){let ht=Y[b];const en=ht[0];if(!(en<=k.K))if(k.K=en,ht=ht[1],k.I==2)if(ht[0]=="c"){k.M=ht[1],k.ba=ht[2];const pr=ht[3];pr!=null&&(k.ka=pr,k.j.info("VER="+k.ka));const ga=ht[4];ga!=null&&(k.za=ga,k.j.info("SVER="+k.za));const Ns=ht[5];Ns!=null&&typeof Ns=="number"&&Ns>0&&(R=1.5*Ns,k.O=R,k.j.info("backChannelRequestTimeoutMs_="+R)),R=k;const As=f.g;if(As){const hu=As.g?As.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hu){var ee=R.h;ee.g||hu.indexOf("spdy")==-1&&hu.indexOf("quic")==-1&&hu.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(eu(ee,ee.h),ee.h=null))}if(R.G){const gh=As.g?As.g.getResponseHeader("X-HTTP-Session-Id"):null;gh&&(R.wa=gh,it(R.J,R.G,gh))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-f.F,k.j.info("Handshake RTT: "+k.T+"ms")),R=k;var he=f;if(R.na=mh(R,R.L?R.ba:null,R.W),he.L){Eo(R.h,he);var Ue=he,Ht=R.O;Ht&&(Ue.H=Ht),Ue.D&&(Jl(Ue),wo(Ue)),R.g=he}else Cn(R);k.i.length>0&&yi(k)}else ht[0]!="stop"&&ht[0]!="close"||fr(k,7);else k.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?fr(k,7):iu(k):ht[0]!="noop"&&k.l&&k.l.qa(ht),k.A=0)}}ui(4)}catch{}}var rv=class{constructor(f,b){this.g=f,this.map=b}};function Zl(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rh(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function xo(f){return f.h?1:f.g?f.g.size:0}function sh(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function eu(f,b){f.g?f.g.add(b):f.h=b}function Eo(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Zl.prototype.cancel=function(){if(this.i=ur(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ur(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const k of f.g.values())b=b.concat(k.G);return b}return S(f.i)}var ep=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cr(f,b){if(f){f=f.split("&");for(let k=0;k<f.length;k++){const R=f[k].indexOf("=");let Y,ee=null;R>=0?(Y=f[k].substring(0,R),ee=f[k].substring(R+1)):Y=f[k],b(Y,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function xs(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof xs?(this.l=f.l,So(this,f.j),this.o=f.o,this.g=f.g,Es(this,f.u),this.h=f.h,ca(this,dh(f.i)),this.m=f.m):f&&(b=String(f).match(ep))?(this.l=!1,So(this,b[1]||"",!0),this.o=ko(b[2]||""),this.g=ko(b[3]||"",!0),Es(this,b[4]),this.h=ko(b[5]||"",!0),ca(this,b[6]||"",!0),this.m=ko(b[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}xs.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(To(b,ah,!0),":");var k=this.g;return(k||b=="file")&&(f.push("//"),(b=this.o)&&f.push(To(b,ah,!0),"@"),f.push(bs(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&f.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&f.push("/"),f.push(To(k,k.charAt(0)=="/"?_o:oh,!0))),(k=this.i.toString())&&f.push("?",k),(k=this.m)&&f.push("#",To(k,lh)),f.join("")},xs.prototype.resolve=function(f){const b=Pr(this);let k=!!f.j;k?So(b,f.j):k=!!f.o,k?b.o=f.o:k=!!f.g,k?b.g=f.g:k=f.u!=null;var R=f.h;if(k)Es(b,f.u);else if(k=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Y=b.h.lastIndexOf("/");Y!=-1&&(R=b.h.slice(0,Y+1)+R)}if(Y=R,Y==".."||Y==".")R="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){R=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ee=[];for(let he=0;he<Y.length;){const Ue=Y[he++];Ue=="."?R&&he==Y.length&&ee.push(""):Ue==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),R&&he==Y.length&&ee.push("")):(ee.push(Ue),R=!0)}R=ee.join("/")}else R=Y}return k?b.h=R:k=f.i.toString()!=="",k?ca(b,dh(f.i)):k=!!f.m,k&&(b.m=f.m),b};function Pr(f){return new xs(f)}function So(f,b,k){f.j=k?ko(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Es(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function ca(f,b,k){b instanceof Qe?(f.i=b,nu(f.i,f.l)):(k||(b=To(b,sv)),f.i=new Qe(b,f.l))}function it(f,b,k){f.i.set(b,k)}function fi(f){return it(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ko(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function To(f,b,k){return typeof f=="string"?(f=encodeURI(f).replace(b,ih),k&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ih(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ah=/[#\/\?@]/g,oh=/[#\?:]/g,_o=/[#\?]/g,sv=/[#\?@]/g,lh=/#/g;function Qe(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function Ss(f){f.g||(f.g=new Map,f.h=0,f.i&&cr(f.i,function(b,k){f.add(decodeURIComponent(b.replace(/\+/g," ")),k)}))}t=Qe.prototype,t.add=function(f,b){Ss(this),this.i=null,f=ks(this,f);let k=this.g.get(f);return k||this.g.set(f,k=[]),k.push(b),this.h+=1,this};function uh(f,b){Ss(f),b=ks(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function tu(f,b){return Ss(f),b=ks(f,b),f.g.has(b)}t.forEach=function(f,b){Ss(this),this.g.forEach(function(k,R){k.forEach(function(Y){f.call(b,Y,R,this)},this)},this)};function ch(f,b){Ss(f);let k=[];if(typeof b=="string")tu(f,b)&&(k=k.concat(f.g.get(ks(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)k=k.concat(f[b]);return k}t.set=function(f,b){return Ss(this),this.i=null,f=ks(this,f),tu(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=ch(this,f),f.length>0?String(f[0]):b):b};function hh(f,b,k){uh(f,b),k.length>0&&(f.i=null,f.g.set(ks(f,b),S(k)),f.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let R=0;R<b.length;R++){var k=b[R];const Y=bs(k);k=ch(this,k);for(let ee=0;ee<k.length;ee++){let he=Y;k[ee]!==""&&(he+="="+bs(k[ee])),f.push(he)}}return this.i=f.join("&")};function dh(f){const b=new Qe;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function ks(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function nu(f,b){b&&!f.j&&(Ss(f),f.i=null,f.g.forEach(function(k,R){const Y=R.toLowerCase();R!=Y&&(uh(this,R),hh(this,Y,k))},f)),f.j=b}function Ts(f,b){const k=new oa;if(o.Image){const R=new Image;R.onload=p(vn,k,"TestLoadImage: loaded",!0,b,R),R.onerror=p(vn,k,"TestLoadImage: error",!1,b,R),R.onabort=p(vn,k,"TestLoadImage: abort",!1,b,R),R.ontimeout=p(vn,k,"TestLoadImage: timeout",!1,b,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else b(!1)}function _s(f,b){const k=new oa,R=new AbortController,Y=setTimeout(()=>{R.abort(),vn(k,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:R.signal}).then(ee=>{clearTimeout(Y),ee.ok?vn(k,"TestPingServer: ok",!0,b):vn(k,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),vn(k,"TestPingServer: error",!1,b)})}function vn(f,b,k,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(k)}catch{}}function Co(){this.g=new yo}function pi(f){this.i=f.Sb||null,this.h=f.ab||!1}g(pi,ra),pi.prototype.g=function(){return new hr(this.i,this.h)};function hr(f,b){mt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(hr,mt),t=hr.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Zr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||o).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ha(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;tp(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function tp(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?ha(this):Zr(this),this.readyState==3&&tp(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ha(this))},t.Na=function(f){this.g&&(this.response=f,ha(this))},t.ga=function(){this.g&&ha(this)};function ha(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Zr(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var k=b.next();!k.done;)k=k.value,f.push(k[0]+": "+k[1]),k=b.next();return f.join(`\r
`)};function Zr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function np(f){let b="";return ne(f,function(k,R){b+=R,b+=":",b+=k,b+=`\r
`}),b}function ru(f,b,k){e:{for(R in k){var R=!1;break e}R=!0}R||(k=np(k),typeof f=="string"?k!=null&&bs(k):it(f,b,k))}function ct(f){mt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ct,mt);var rp=/^https?$/i,iv=["POST","PUT"];t=ct.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,k,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hf.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ee){da(this,ee);return}if(f=k||"",k=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)k.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ee of R.keys())k.set(ee,R.get(ee));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(k.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(iv,b,void 0)>=0)||R||Y||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,he]of k)this.g.setRequestHeader(ee,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){da(this,ee)}};function da(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,fa(f),gi(f)}function fa(f){f.A||(f.A=!0,Gt(f,"complete"),Gt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Gt(this,"complete"),Gt(this,"abort"),gi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?mi(this):this.Xa())},t.Xa=function(){mi(this)};function mi(f){if(f.h&&typeof i<"u"){if(f.v&&Cs(f)==4)setTimeout(f.Ca.bind(f),0);else if(Gt(f,"readystatechange"),Cs(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var k;if(!(k=b)){var R;if(R=ee===0){let he=String(f.D).match(ep)[1]||null;!he&&o.self&&o.self.location&&(he=o.self.location.protocol.slice(0,-1)),R=!rp.test(he?he.toLowerCase():"")}k=R}if(k)Gt(f,"complete"),Gt(f,"success");else{f.o=6;try{var Y=Cs(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",fa(f)}}finally{gi(f)}}}}function gi(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const k=f.g;f.g=null,b||Gt(f,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Cs(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Cs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),qf(b)}};function sp(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function fh(f){const b={};f=(f.g&&Cs(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(L(f[R]))continue;var k=Yl(f[R]);const Y=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ee=b[Y]||[];b[Y]=ee,ee.push(k)}ae(b,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(f,b,k){return k&&k.internalChannelParams&&k.internalChannelParams[f]||b}function su(f){this.za=0,this.i=[],this.j=new oa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Is("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Is("baseRetryDelayMs",5e3,f),this.Za=Is("retryDelaySeedMs",1e4,f),this.Ta=Is("forwardChannelMaxRetries",2,f),this.va=Is("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Zl(f&&f.concurrentRequestLimit),this.Ba=new Co,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=su.prototype,t.ka=8,t.I=1,t.connect=function(f,b,k,R){Dt(0),this.W=f,this.H=b||{},k&&R!==void 0&&(this.H.OSID=k,this.H.OAID=R),this.F=this.X,this.J=mh(this,null,this.W),yi(this)};function iu(f){if(au(f),f.I==3){var b=f.V++,k=Pr(f.J);if(it(k,"SID",f.M),it(k,"RID",b),it(k,"TYPE","terminate"),Ps(f,k),b=new Ir(f,f.j,b),b.M=2,b.A=fi(Pr(k)),k=!1,o.navigator&&o.navigator.sendBeacon)try{k=o.navigator.sendBeacon(b.A.toString(),"")}catch{}!k&&o.Image&&(new Image().src=b.A,k=!0),k||(b.g=ap(b.j,null),b.g.ea(b.A)),b.F=Date.now(),wo(b)}Do(f)}function dr(f){f.g&&(Po(f),f.g.cancel(),f.g=null)}function au(f){dr(f),f.v&&(o.clearTimeout(f.v),f.v=null),ou(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function yi(f){if(!rh(f.h)&&!f.m){f.m=!0;var b=f.Ea;U||I(),W||(U(),W=!0),M.add(b,f),f.D=0}}function ip(f,b){return xo(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=aa(d(f.Ea,f,b),uu(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new Ir(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=G(ee),pe(ee,this.U)):ee=this.U),this.u!==null||this.R||(Y.J=ee,ee=null),this.S)e:{for(var b=0,k=0;k<this.i.length;k++){t:{var R=this.i[k];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(b+=R,b>4096){b=k;break e}if(b===4096||k===this.i.length-1){b=k+1;break e}}b=1e3}else b=1e3;b=ph(this,Y,b),k=Pr(this.J),it(k,"RID",f),it(k,"CVER",22),this.G&&it(k,"X-HTTP-Session-Id",this.G),Ps(this,k),ee&&(this.R?b="headers="+bs(np(ee))+"&"+b:this.u&&ru(k,this.u,ee)),eu(this.h,Y),this.Ra&&it(k,"TYPE","init"),this.S?(it(k,"$req",b),it(k,"SID","null"),Y.U=!0,Jr(Y,k,null)):Jr(Y,k,b),this.I=2}}else this.I==3&&(f?Io(this,f):this.i.length==0||rh(this.h)||Io(this))};function Io(f,b){var k;b?k=b.l:k=f.V++;const R=Pr(f.J);it(R,"SID",f.M),it(R,"RID",k),it(R,"AID",f.K),Ps(f,R),f.u&&f.o&&ru(R,f.u,f.o),k=new Ir(f,f.j,k,f.D+1),f.u===null&&(k.J=f.o),b&&(f.i=b.G.concat(f.i)),b=ph(f,k,1e3),k.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),eu(f.h,k),Jr(k,R,b)}function Ps(f,b){f.H&&ne(f.H,function(k,R){it(b,R,k)}),f.l&&ne({},function(k,R){it(b,R,k)})}function ph(f,b,k){k=Math.min(f.i.length,k);const R=f.l?d(f.l.Ka,f.l,f):null;e:{var Y=f.i;let Ue=-1;for(;;){const Ht=["count="+k];Ue==-1?k>0?(Ue=Y[0].g,Ht.push("ofs="+Ue)):Ue=0:Ht.push("ofs="+Ue);let ht=!0;for(let en=0;en<k;en++){var ee=Y[en].g;const pr=Y[en].map;if(ee-=Ue,ee<0)Ue=Math.max(0,Y[en].g-100),ht=!1;else try{ee="req"+ee+"_"||"";try{var he=pr instanceof Map?pr:Object.entries(pr);for(const[ga,Ns]of he){let As=Ns;u(Ns)&&(As=na(Ns)),Ht.push(ee+ga+"="+encodeURIComponent(As))}}catch(ga){throw Ht.push(ee+"type="+encodeURIComponent("_badmap")),ga}}catch{R&&R(pr)}}if(ht){he=Ht.join("&");break e}}he=void 0}return f=f.i.splice(0,k),b.G=f,he}function Cn(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;U||I(),W||(U(),W=!0),M.add(b,f),f.A=0}}function Ds(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=aa(d(f.Da,f),uu(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,pa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=aa(d(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),dr(this),pa(this))};function Po(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function pa(f){f.g=new Ir(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Pr(f.na);it(b,"RID","rpc"),it(b,"SID",f.M),it(b,"AID",f.K),it(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&it(b,"TO",f.ia),it(b,"TYPE","xmlhttp"),Ps(f,b),f.u&&f.o&&ru(b,f.u,f.o),f.O&&(f.g.H=f.O);var k=f.g;f=f.ba,k.M=1,k.A=fi(Pr(b)),k.u=null,k.R=!0,th(k,f)}t.Va=function(){this.C!=null&&(this.C=null,dr(this),Ds(this),Dt(19))};function ou(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function lu(f,b){var k=null;if(f.g==b){ou(f),Po(f),f.g=null;var R=2}else if(sh(f.h,b))k=b.G,Eo(f.h,b),R=1;else return;if(f.I!=0){if(b.o)if(R==1){k=b.u?b.u.length:0,b=Date.now()-b.F;var Y=f.D;R=ia(),Gt(R,new Zc(R,k)),yi(f)}else Cn(f);else if(Y=b.m,Y==3||Y==0&&b.X>0||!(R==1&&ip(f,b)||R==2&&Ds(f)))switch(k&&k.length>0&&(b=f.h,b.i=b.i.concat(k)),Y){case 1:fr(f,5);break;case 4:fr(f,10);break;case 3:fr(f,6);break;default:fr(f,2)}}}function uu(f,b){let k=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(k*=2),k*b}function fr(f,b){if(f.j.info("Error code "+b),b==2){var k=d(f.bb,f),R=f.Ua;const Y=!R;R=new xs(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||So(R,"https"),fi(R),Y?Ts(R.toString(),k):_s(R.toString(),k)}else Dt(2);f.I=0,f.l&&f.l.pa(b),Do(f),au(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Do(f){if(f.I=0,f.ja=[],f.l){const b=ur(f.h);(b.length!=0||f.i.length!=0)&&(C(f.ja,b),C(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function mh(f,b,k){var R=k instanceof xs?Pr(k):new xs(k);if(R.g!="")b&&(R.g=b+"."+R.g),Es(R,R.u);else{var Y=o.location;R=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;const ee=new xs(null);R&&So(ee,R),b&&(ee.g=b),Y&&Es(ee,Y),k&&(ee.h=k),R=ee}return k=f.G,b=f.wa,k&&b&&it(R,k,b),it(R,"VER",f.ka),Ps(f,R),R}function ap(f,b,k){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ct(new pi({ab:k})):new ct(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function op(){}t=op.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function cu(){}cu.prototype.g=function(f,b){return new wn(f,b)};function wn(f,b){mt.call(this),this.g=new su(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!L(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!L(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new ma(this)}g(wn,mt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){iu(this.g)},wn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var k={};k.__data__=f,f=k}else this.v&&(k={},k.__data__=na(f),f=k);b.i.push(new rv(b.Ya++,f)),b.I==3&&yi(b)},wn.prototype.N=function(){this.g.l=null,delete this.j,iu(this.g),delete this.g,wn.Z.N.call(this)};function lp(f){Hl.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const k in b){f=k;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}g(lp,Hl);function up(){Jc.call(this),this.status=1}g(up,Jc);function ma(f){this.g=f}g(ma,op),ma.prototype.ra=function(){Gt(this.g,"a")},ma.prototype.qa=function(f){Gt(this.g,new lp(f))},ma.prototype.pa=function(f){Gt(this.g,new up)},ma.prototype.oa=function(){Gt(this.g,"b")},cu.prototype.createWebChannel=cu.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,cD=function(){return new cu},uD=function(){return ia()},lD=Yr,$w={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,Om=la,ua.COMPLETE="complete",oD=ua,$f.EventType=sa,sa.OPEN="a",sa.CLOSE="b",sa.ERROR="c",sa.MESSAGE="d",mt.prototype.listen=mt.prototype.J,fd=$f,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,aD=ct}).apply(typeof sm<"u"?sm:typeof self<"u"?self:typeof window<"u"?window:{});const $T="@firebase/firestore",KT="4.9.2";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let kn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Oc="12.3.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kl=new ry("@firebase/firestore");function Ju(){return kl.logLevel}function le(t,...e){if(kl.logLevel<=Ge.DEBUG){const n=e.map(_x);kl.debug(`Firestore (${Oc}): ${t}`,...n)}}function zn(t,...e){if(kl.logLevel<=Ge.ERROR){const n=e.map(_x);kl.error(`Firestore (${Oc}): ${t}`,...n)}}function Tl(t,...e){if(kl.logLevel<=Ge.WARN){const n=e.map(_x);kl.warn(`Firestore (${Oc}): ${t}`,...n)}}function _x(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(t)}catch{return t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hD(t,r,n)}function hD(t,e,n){let r=`FIRESTORE (${Oc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw zn(r),new Error(r)}function Ce(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||hD(e,s,r)}function Be(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ws{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(kn.UNAUTHENTICATED)))}shutdown(){}}class hB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dB{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ws;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ws,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const c=i;e.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},u=c=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ws)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string",31837,{l:r}),new dD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class fB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(kn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class WT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ce(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new WT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new WT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=gB(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function Kw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return M0(s)===M0(i)?Fe(s,i):M0(s)?1:-1}return Fe(t.length,e.length)}const yB=55296,vB=57343;function M0(t){const e=t.charCodeAt(0);return e>=yB&&e<=vB}function yc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function fD(t){return t+"\0"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const GT="__name__";class Bs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Bs.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Fe(e.length,n.length)}static compareSegments(e,n){const r=Bs.isNumericId(e),s=Bs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Bs.extractNumericId(e).compare(Bs.extractNumericId(n)):Kw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xa.fromString(e.substring(4,e.length-2))}}class at extends Bs{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const wB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends Bs{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return wB.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GT}static keyField(){return new _t([GT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(r+=u,s++):(i(),s++)}if(i(),o)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class de{constructor(e){this.path=e}static fromPath(e){return new de(at.fromString(e))}static fromName(e){return new de(at.fromString(e).popFirst(5))}static empty(){return new de(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new at(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pD(t,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bB(t,e,n,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HT(t){if(!de.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QT(t){if(de.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function uy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function $n(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uy(t);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function xB(t,e){if(e<=0)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sn(t,e){const n={typeString:t};return e&&(n.value=e),n}function vf(t,e){if(!mD(t))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const XT=-62135596800,YT=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*YT);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<XT)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YT}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vf(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-XT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:sn("string",rt._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new rt(0,0))}static max(){return new Pe(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bd=-1;class yg{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function Ww(t){return t.fields.find((e=>e.kind===2))}function tl(t){return t.fields.filter((e=>e.kind!==2))}yg.UNKNOWN_ID=-1;class jm{constructor(e,n){this.fieldPath=e,this.kind=n}}class Vd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Vd(0,Tr.min())}}function EB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Tr(s,de.empty(),e)}function gD(t){return new Tr(t.readTime,t.key,Bd)}class Tr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Tr(Pe.min(),de.empty(),Bd)}static max(){return new Tr(Pe.max(),de.empty(),Bd)}}function Ix(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Vl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==yD)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let s=0,i=0,o=!1;e.forEach((u=>{++s,u.next((()=>{++i,o&&i===s&&n()}),(c=>r(c)))})),o=!0,i===s&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((s=>s?Q.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,s)=>{const i=e.length,o=new Array(i);let u=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next((p=>{o[d]=p,++u,u===i&&r(o)}),(p=>s(p)))}}))}static doWhile(e,n){return new Q(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wr="SimpleDb";class cy{static open(e,n,r,s){try{return new cy(n,e.transaction(s,r))}catch(i){throw new Ed(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ws,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Ed(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=Px(r.target.error);this.S.reject(new Ed(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(wr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new kB(n)}}class Ya{static delete(e){return le(wr,"Removing database:",e),il(uP().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!ny())return!1;if(Ya.F())return!0;const e=hn(),n=Ya.M(e),r=0<n&&n<10,s=wD(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Ya.M(hn())===12.2&&zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(wr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Ed(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new ce(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ce(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ed(e,o))},s.onupgradeneeded=i=>{le(wr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.N.k(o,s.transaction,i.oldVersion,this.version).next((()=>{le(wr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.L(e);const u=cy.open(this.db,e,i?"readonly":"readwrite",r),c=s(u).next((d=>(u.C(),d))).catch((d=>(u.abort(d),Q.reject(d)))).toPromise();return c.catch((()=>{})),await u.D,c}catch(u){const c=u,d=c.name!=="FirebaseError"&&o<3;if(le(wr,"Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function wD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class SB{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return il(this.U.delete())}}class Ed extends ce{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function fo(t){return t.name==="IndexedDbTransactionError"}class kB{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(le(wr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(le(wr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),il(r)}add(e){return le(wr,"ADD",this.store.name,e,e),il(this.store.add(e))}get(e){return il(this.store.get(e)).next((n=>(n===void 0&&(n=null),le(wr,"GET",this.store.name,e,n),n)))}delete(e){return le(wr,"DELETE",this.store.name,e),il(this.store.delete(e))}count(){return le(wr,"COUNT",this.store.name),il(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Q(((o,u)=>{i.onerror=c=>{u(c.target.error)},i.onsuccess=c=>{o(c.target.result)}}))}{const i=this.cursor(r),o=[];return this.H(i,((u,c)=>{o.push(c)})).next((()=>o))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}}))}Z(e,n){le(wr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,((i,o,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new Q(((r,s)=>{n.onerror=i=>{const o=Px(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next((u=>{u?o.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const u=o.target.result;if(!u)return void s();const c=new SB(u),d=n(u.primaryKey,u.value,c);if(d instanceof Q){const p=d.catch((g=>(c.done(),Q.reject(g))));r.push(p)}c.isDone?s():c.G===null?u.continue():u.continue(c.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function il(t){return new Q(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Px(r.target.error);n(s)}}))}let JT=!1;function Px(t){const e=Ya.M(hn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return JT||(JT=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Sd="IndexBackfiller";class TB{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(Sd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();le(Sd,`Documents written: ${n}`)}catch(n){fo(n)?le(Sd,"Ignoring IndexedDB error during index backfill: ",n):await Vl(n)}await this.re(6e4)}))}}class _B{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let s=n,i=!0;return Q.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((o=>{if(o!==null&&!r.has(o))return le(Sd,`Processing collection: ${o}`),this.oe(e,o,s).next((u=>{s-=u,r.add(o)}));i=!1})))).next((()=>n-s))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next((()=>this._e(s,i))).next((u=>(le(Sd,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>o.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((s,i)=>{const o=gD(i);Ix(o,r)>0&&(r=o)})),new Tr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ur{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ur.ce=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ml=-1;function hy(t){return t==null}function zd(t){return t===0&&1/t==-1/0}function CB(t){return typeof t=="number"&&Number.isInteger(t)&&!zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vg="";function Ln(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ZT(e)),e=IB(t.get(n),e);return ZT(e)}function IB(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case vg:n+="";break;default:n+=i}}return n}function ZT(t){return t+vg+""}function zs(t){const e=t.length;if(Ce(e>=2,64408,{path:t}),e===2)return Ce(t.charAt(0)===vg&&t.charAt(1)==="",56145,{path:t}),at.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf(vg,i);switch((o<0||o>n)&&Se(50515,{path:t}),t.charAt(o+1)){case"":const u=t.substring(i,o);let c;s.length===0?c=u:(s+=u,c=s,s=""),r.push(c);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:Se(61167,{path:t})}i=o+2}return new at(r)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nl="remoteDocuments",wf="owner",Au="owner",Ud="mutationQueues",PB="userId",ls="mutations",e_="batchId",ul="userMutationsIndex",t_=["userId","batchId"];/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Lm(t,e){return[t,Ln(e)]}function bD(t,e,n){return[t,Ln(e),n]}const DB={},vc="documentMutations",wg="remoteDocumentsV14",NB=["prefixPath","collectionGroup","readTime","documentId"],Fm="documentKeyIndex",AB=["prefixPath","collectionGroup","documentId"],xD="collectionGroupIndex",MB=["collectionGroup","readTime","prefixPath","documentId"],qd="remoteDocumentGlobal",Gw="remoteDocumentGlobalKey",wc="targets",ED="queryTargetsIndex",RB=["canonicalId","targetId"],bc="targetDocuments",OB=["targetId","path"],Dx="documentTargetsIndex",jB=["path","targetId"],bg="targetGlobalKey",gl="targetGlobal",$d="collectionParents",LB=["collectionId","parent"],xc="clientMetadata",FB="clientId",dy="bundles",BB="bundleId",fy="namedQueries",VB="name",Nx="indexConfiguration",zB="indexId",Hw="collectionGroupIndex",UB="collectionGroup",kd="indexState",qB=["indexId","uid"],SD="sequenceNumberIndex",$B=["uid","sequenceNumber"],Td="indexEntries",KB=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kD="documentKeyIndex",WB=["indexId","uid","orderedDocumentKey"],py="documentOverlays",GB=["userId","collectionPath","documentId"],Qw="collectionPathOverlayIndex",HB=["userId","collectionPath","largestBatchId"],TD="collectionGroupOverlayIndex",QB=["userId","collectionGroup","largestBatchId"],Ax="globals",XB="name",_D=[Ud,ls,vc,nl,wc,wf,gl,bc,xc,qd,$d,dy,fy],YB=[..._D,py],CD=[Ud,ls,vc,wg,wc,wf,gl,bc,xc,qd,$d,dy,fy,py],ID=CD,Mx=[...ID,Nx,kd,Td],JB=Mx,PD=[...Mx,Ax],ZB=PD;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xw extends vD{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function dn(t,e){const n=Be(t);return Ya.O(n.le,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function n_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function po(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class St{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new im(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new im(this.root,e,this.comparator,!1)}getReverseIterator(){return new im(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new im(this.root,e,this.comparator,!0)}}class im{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=s??Tn.EMPTY,this.right=i??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Tn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Tn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(t,e,n,r,s){return this}insert(t,e,n){return new Tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ut{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mu(t){return t.hasNext()?t.getNext():void 0}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ir{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new ir([])}unionWith(e){let n=new ut(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ND extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ND("Invalid base64 string: "+s):s}})(e);return new an(n)}static fromUint8Array(e){const n=(function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s})(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const e9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(t){if(Ce(!!t,39018),typeof t=="string"){let e=0;const n=e9.exec(t);if(Ce(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vi(t){return typeof t=="string"?an.fromBase64String(t):an.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const AD="server_timestamp",MD="__type__",RD="__previous_value__",OD="__local_write_time__";function Rx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[MD])==null?void 0:n.stringValue)===AD}function my(t){const e=t.mapValue.fields[RD];return Rx(e)?my(e):e}function Kd(t){const e=Bi(t.mapValue.fields[OD].timestampValue);return new rt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t9{constructor(e,n,r,s,i,o,u,c,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=p}}const xg="(default)";class _l{constructor(e,n){this.projectId=e,this.database=n||xg}static empty(){return new _l("","")}get isDefaultDatabase(){return this.database===xg}isEqual(e){return e instanceof _l&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ox="__type__",jD="__max__",Ga={mapValue:{fields:{__type__:{stringValue:jD}}}},jx="__vector__",Ec="value",Bm={nullValue:"NULL_VALUE"};function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rx(t)?4:LD(t)?9007199254740991:gy(t)?10:11:Se(28295,{value:t})}function Zs(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kd(t).isEqual(Kd(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Bi(r.timestampValue),o=Bi(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,s){return Vi(r.bytesValue).isEqual(Vi(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,s){return xt(r.geoPointValue.latitude)===xt(s.geoPointValue.latitude)&&xt(r.geoPointValue.longitude)===xt(s.geoPointValue.longitude)})(t,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return xt(r.integerValue)===xt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=xt(r.doubleValue),o=xt(s.doubleValue);return i===o?zd(i)===zd(o):isNaN(i)&&isNaN(o)}return!1})(t,e);case 9:return yc(t.arrayValue.values||[],e.arrayValue.values||[],Zs);case 10:case 11:return(function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(n_(i)!==n_(o))return!1;for(const u in i)if(i.hasOwnProperty(u)&&(o[u]===void 0||!Zs(i[u],o[u])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function Wd(t,e){return(t.values||[]).find((n=>Zs(n,e)))!==void 0}function no(t,e){if(t===e)return 0;const n=to(t),r=to(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(s,i){const o=xt(s.integerValue||s.doubleValue),u=xt(i.integerValue||i.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1})(t,e);case 3:return s_(t.timestampValue,e.timestampValue);case 4:return s_(Kd(t),Kd(e));case 5:return Kw(t.stringValue,e.stringValue);case 6:return(function(s,i){const o=Vi(s),u=Vi(i);return o.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,i){const o=s.split("/"),u=i.split("/");for(let c=0;c<o.length&&c<u.length;c++){const d=Fe(o[c],u[c]);if(d!==0)return d}return Fe(o.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,i){const o=Fe(xt(s.latitude),xt(i.latitude));return o!==0?o:Fe(xt(s.longitude),xt(i.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return i_(t.arrayValue,e.arrayValue);case 10:return(function(s,i){var o,u,c,d;const p=s.fields||{},g=i.fields||{},v=(o=p[Ec])==null?void 0:o.arrayValue,S=(u=g[Ec])==null?void 0:u.arrayValue,C=Fe(((c=v==null?void 0:v.values)==null?void 0:c.length)||0,((d=S==null?void 0:S.values)==null?void 0:d.length)||0);return C!==0?C:i_(v,S)})(t.mapValue,e.mapValue);case 11:return(function(s,i){if(s===Ga.mapValue&&i===Ga.mapValue)return 0;if(s===Ga.mapValue)return 1;if(i===Ga.mapValue)return-1;const o=s.fields||{},u=Object.keys(o),c=i.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const g=Kw(u[p],d[p]);if(g!==0)return g;const v=no(o[u[p]],c[d[p]]);if(v!==0)return v}return Fe(u.length,d.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function s_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Bi(t),r=Bi(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function i_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=no(n[s],r[s]);if(i)return i}return Fe(n.length,r.length)}function Sc(t){return Yw(t)}function Yw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(e){const n=Bi(e);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(e){return Vi(e).toBase64()})(t.bytesValue):"referenceValue"in t?(function(e){return de.fromName(e).toString()})(t.referenceValue):"geoPointValue"in t?(function(e){return`geo(${e.latitude},${e.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(e){let n="[",r=!0;for(const s of e.values||[])r?r=!1:n+=",",n+=Yw(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(e){const n=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const i of n)s?s=!1:r+=",",r+=`${i}:${Yw(e.fields[i])}`;return r+"}"})(t.mapValue):Se(61005,{value:t})}function Vm(t){switch(to(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=my(t);return e?16+Vm(e):16;case 5:return 2*t.stringValue.length;case 6:return Vi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((r,s)=>r+Vm(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let r=0;return po(n.fields,((s,i)=>{r+=s.length+Vm(i)})),r})(t.mapValue);default:throw Se(13486,{value:t})}}function Gd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jw(t){return!!t&&"integerValue"in t}function Hd(t){return!!t&&"arrayValue"in t}function a_(t){return!!t&&"nullValue"in t}function o_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zm(t){return!!t&&"mapValue"in t}function gy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[Ox])==null?void 0:n.stringValue)===jx}function _d(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return po(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=_d(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_d(t.arrayValue.values[n]);return e}return{...t}}function LD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===jD}const FD={mapValue:{fields:{[Ox]:{stringValue:jx},[Ec]:{arrayValue:{}}}}};function n9(t){return"nullValue"in t?Bm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Gd(_l.empty(),de.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?gy(t)?FD:{mapValue:{}}:Se(35942,{value:t})}function r9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Gd(_l.empty(),de.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?FD:"mapValue"in t?gy(t)?{mapValue:{}}:Ga:Se(61959,{value:t})}function l_(t,e){const n=no(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function u_(t,e){const n=no(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_d(n)}setAll(e){let n=_t.emptyPath(),r={},s=[];e.forEach(((o,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=u.popLast()}o?r[u.lastSegment()]=_d(o):s.push(u.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());zm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];zm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){po(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Rn(_d(this.value))}}function BD(t){const e=[];return po(t.fields,((n,r)=>{const s=new _t([n]);if(zm(r)){const i=BD(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new ir(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rt{constructor(e,n,r,s,i,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Rt(e,0,Pe.min(),Pe.min(),Pe.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,s){return new Rt(e,1,n,Pe.min(),r,s,0)}static newNoDocument(e,n){return new Rt(e,2,n,Pe.min(),Pe.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,Pe.min(),Pe.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kc{constructor(e,n){this.position=e,this.inclusive=n}}function c_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=no(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function h_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zs(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qd{constructor(e,n="asc"){this.field=e,this.dir=n}}function s9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VD{}class He extends VD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new i9(e,n,r):n==="array-contains"?new l9(e,r):n==="in"?new WD(e,r):n==="not-in"?new u9(e,r):n==="array-contains-any"?new c9(e,r):new He(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new a9(e,r):new o9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends VD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lt(e,n)}matches(e){return Tc(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Tc(t){return t.op==="and"}function Zw(t){return t.op==="or"}function Lx(t){return zD(t)&&Tc(t)}function zD(t){for(const e of t.filters)if(e instanceof lt)return!1;return!0}function eb(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+Sc(t.value);if(Lx(t))return t.filters.map((e=>eb(e))).join(",");{const e=t.filters.map((n=>eb(n))).join(",");return`${t.op}(${e})`}}function UD(t,e){return t instanceof He?(function(n,r){return r instanceof He&&n.op===r.op&&n.field.isEqual(r.field)&&Zs(n.value,r.value)})(t,e):t instanceof lt?(function(n,r){return r instanceof lt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce(((s,i,o)=>s&&UD(i,r.filters[o])),!0):!1})(t,e):void Se(19439)}function qD(t,e){const n=t.filters.concat(e);return lt.create(n,t.op)}function $D(t){return t instanceof He?(function(e){return`${e.field.canonicalString()} ${e.op} ${Sc(e.value)}`})(t):t instanceof lt?(function(e){return e.op.toString()+" {"+e.getFilters().map($D).join(" ,")+"}"})(t):"Filter"}class i9 extends He{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class a9 extends He{constructor(e,n){super(e,"in",n),this.keys=KD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class o9 extends He{constructor(e,n){super(e,"not-in",n),this.keys=KD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function KD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>de.fromName(r.referenceValue)))}class l9 extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hd(n)&&Wd(n.arrayValue,this.value)}}class WD extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wd(this.value.arrayValue,n)}}class u9 extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wd(this.value.arrayValue,n)}}class c9 extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Wd(this.value.arrayValue,r)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h9{constructor(e,n=null,r=[],s=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=u,this.Te=null}}function tb(t,e=null,n=[],r=[],s=null,i=null,o=null){return new h9(t,e,n,r,s,i,o)}function Cl(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>eb(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),hy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Sc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Sc(r))).join(",")),e.Te=n}return e.Te}function bf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!s9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!h_(t.startAt,e.startAt)&&h_(t.endAt,e.endAt)}function Eg(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Sg(t,e){return t.filters.filter((n=>n instanceof He&&n.field.isEqual(e)))}function d_(t,e,n){let r=Bm,s=!0;for(const i of Sg(t,e)){let o=Bm,u=!0;switch(i.op){case"<":case"<=":o=n9(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,u=!1;break;case"!=":case"not-in":o=Bm}l_({value:r,inclusive:s},{value:o,inclusive:u})<0&&(r=o,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];l_({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function f_(t,e,n){let r=Ga,s=!0;for(const i of Sg(t,e)){let o=Ga,u=!0;switch(i.op){case">=":case">":o=r9(i.value),u=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,u=!1;break;case"!=":case"not-in":o=Ga}u_({value:r,inclusive:s},{value:o,inclusive:u})>0&&(r=o,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];u_({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jc{constructor(e,n=null,r=[],s=[],i=null,o="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function d9(t,e,n,r,s,i,o,u){return new jc(t,e,n,r,s,i,o,u)}function xf(t){return new jc(t)}function p_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GD(t){return t.collectionGroup!==null}function Cd(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let i=new ut(_t.comparator);return s.filters.forEach((o=>{o.getFlattenedFilters().forEach((u=>{u.isInequality()&&(i=i.add(u.field))}))})),i})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Qd(s,r))})),n.has(_t.keyField().canonicalString())||e.Ie.push(new Qd(_t.keyField(),r))}return e.Ie}function Kr(t){const e=Be(t);return e.Ee||(e.Ee=f9(e,Cd(t))),e.Ee}function f9(t,e){if(t.limitType==="F")return tb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Qd(s.field,i)}));const n=t.endAt?new kc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kc(t.startAt.position,t.startAt.inclusive):null;return tb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nb(t,e){const n=t.filters.concat([e]);return new jc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kg(t,e,n){return new jc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yy(t,e){return bf(Kr(t),Kr(e))&&t.limitType===e.limitType}function HD(t){return`${Cl(Kr(t))}|lt:${t.limitType}`}function Zu(t){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((r=>$D(r))).join(", ")}]`),hy(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((r=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(r))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Sc(r))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Sc(r))).join(",")),`Target(${n})`})(Kr(t))}; limitType=${t.limitType})`}function Ef(t,e){return e.isFoundDocument()&&(function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):de.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,r){for(const s of Cd(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0})(t,e)&&(function(n,r){return!(n.startAt&&!(function(s,i,o){const u=c_(s,i,o);return s.inclusive?u<=0:u<0})(n.startAt,Cd(n),r)||n.endAt&&!(function(s,i,o){const u=c_(s,i,o);return s.inclusive?u>=0:u>0})(n.endAt,Cd(n),r))})(t,e)}function p9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QD(t){return(e,n)=>{let r=!1;for(const s of Cd(t)){const i=m9(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function m9(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):(function(s,i,o){const u=i.data.field(s),c=o.data.field(s);return u!==null&&c!==null?no(u,c):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:t.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return DD(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const g9=new St(de.comparator);function Er(){return g9}const XD=new St(de.comparator);function pd(...t){let e=XD;for(const n of t)e=e.insert(n.key,n);return e}function YD(t){let e=XD;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Us(){return Id()}function JD(){return Id()}function Id(){return new Qi((t=>t.toString()),((t,e)=>t.isEqual(e)))}const y9=new St(de.comparator),v9=new ut(de.comparator);function Ke(...t){let e=v9;for(const n of t)e=e.add(n);return e}const w9=new ut(Fe);function b9(){return w9}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Fx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zd(e)?"-0":e}}function ZD(t){return{integerValue:""+t}}function x9(t,e){return CB(e)?ZD(e):Fx(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vy{constructor(){this._=void 0}}function E9(t,e,n){return t instanceof _c?(function(r,s){const i={fields:{[MD]:{stringValue:AD},[OD]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Rx(s)&&(s=my(s)),s&&(i.fields[RD]=s),{mapValue:i}})(n,e):t instanceof Cc?tN(t,e):t instanceof Ic?nN(t,e):(function(r,s){const i=eN(r,s),o=m_(i)+m_(r.Ae);return Jw(i)&&Jw(r.Ae)?ZD(o):Fx(r.serializer,o)})(t,e)}function S9(t,e,n){return t instanceof Cc?tN(t,e):t instanceof Ic?nN(t,e):n}function eN(t,e){return t instanceof Xd?(function(n){return Jw(n)||(function(r){return!!r&&"doubleValue"in r})(n)})(e)?e:{integerValue:0}:null}class _c extends vy{}class Cc extends vy{constructor(e){super(),this.elements=e}}function tN(t,e){const n=rN(e);for(const r of t.elements)n.some((s=>Zs(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Ic extends vy{constructor(e){super(),this.elements=e}}function nN(t,e){let n=rN(e);for(const r of t.elements)n=n.filter((s=>!Zs(s,r)));return{arrayValue:{values:n}}}class Xd extends vy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function m_(t){return xt(t.integerValue||t.doubleValue)}function rN(t){return Hd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sN{constructor(e,n){this.field=e,this.transform=n}}function k9(t,e){return t.field.isEqual(e.field)&&(function(n,r){return n instanceof Cc&&r instanceof Cc||n instanceof Ic&&r instanceof Ic?yc(n.elements,r.elements,Zs):n instanceof Xd&&r instanceof Xd?Zs(n.Ae,r.Ae):n instanceof _c&&r instanceof _c})(t.transform,e.transform)}class T9{constructor(e,n){this.version=e,this.transformResults=n}}class On{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Um(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let wy=class{};function iN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new by(t.key,On.none()):new Lc(t.key,t.data,On.none());{const n=t.data,r=Rn.empty();let s=new ut(_t.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Xi(t.key,r,new ir(s.toArray()),On.none())}}function _9(t,e,n){t instanceof Lc?(function(r,s,i){const o=r.value.clone(),u=y_(r.fieldTransforms,s,i.transformResults);o.setAll(u),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()})(t,e,n):t instanceof Xi?(function(r,s,i){if(!Um(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=y_(r.fieldTransforms,s,i.transformResults),u=s.data;u.setAll(aN(r)),u.setAll(o),s.convertToFoundDocument(i.version,u).setHasCommittedMutations()})(t,e,n):(function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()})(0,e,n)}function Pd(t,e,n,r){return t instanceof Lc?(function(s,i,o,u){if(!Um(s.precondition,i))return o;const c=s.value.clone(),d=v_(s.fieldTransforms,u,i);return c.setAll(d),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof Xi?(function(s,i,o,u){if(!Um(s.precondition,i))return o;const c=v_(s.fieldTransforms,u,i),d=i.data;return d.setAll(aN(s)),d.setAll(c),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,i,o){return Um(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o})(t,e,n)}function C9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=eN(r.transform,s||null);i!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,i))}return n||null}function g_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&yc(n,r,((s,i)=>k9(s,i)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lc extends wy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xi extends wy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function aN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function y_(t,e,n){const r=new Map;Ce(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,u=e.data.field(i.field);r.set(i.field,S9(o,u,n[s]))}return r}function v_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,E9(i,o,e))}return r}class by extends wy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oN extends wy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bx{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&_9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JD();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=n.has(s.key)?null:u;const c=iN(o,u);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Pe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,((n,r)=>g_(n,r)))&&yc(this.baseMutations,e.baseMutations,((n,r)=>g_(n,r)))}}class Vx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return y9})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Vx(e,n,r,s)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var nn,Ye;function P9(t){switch(t){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function lN(t){if(t===void 0)return zn("GRPC error has no .code"),te.UNKNOWN;switch(t){case nn.OK:return te.OK;case nn.CANCELLED:return te.CANCELLED;case nn.UNKNOWN:return te.UNKNOWN;case nn.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case nn.INTERNAL:return te.INTERNAL;case nn.UNAVAILABLE:return te.UNAVAILABLE;case nn.UNAUTHENTICATED:return te.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case nn.NOT_FOUND:return te.NOT_FOUND;case nn.ALREADY_EXISTS:return te.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return te.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case nn.ABORTED:return te.ABORTED;case nn.OUT_OF_RANGE:return te.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return te.UNIMPLEMENTED;case nn.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:t})}}(Ye=nn||(nn={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function D9(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const N9=new Xa([4294967295,4294967295],0);function w_(t){const e=D9().encode(t),n=new iD;return n.update(e),new Uint8Array(n.digest())}function b_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Xa([n,r],0),new Xa([s,i],0)]}class Ux{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new md(`Invalid padding: ${n}`);if(r<0)throw new md(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new md(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new md(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xa.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Xa.fromNumber(r)));return s.compare(N9)===1&&(s=new Xa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=w_(e),[r,s]=b_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ux(i,s,n);return r.forEach((u=>o.insert(u))),o}insert(e){if(this.ge===0)return;const n=w_(e),[r,s]=b_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class md extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Sf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xy(Pe.min(),s,new St(Fe),Er(),Ke())}}class Sf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sf(r,n,Ke(),Ke(),Ke())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qm{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class uN{constructor(e,n){this.targetId=e,this.Ce=n}}class cN{constructor(e,n,r=an.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class x_{constructor(){this.ve=0,this.Fe=E_(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),r=Ke();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se(38017,{changeType:i})}})),new Sf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=E_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class A9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Er(),this.Je=am(),this.He=am(),this.Ye=new St(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Eg(i))if(r===0){const o=new de(i.path);this.et(n,o,Rt.newNoDocument(o,Pe.min()))}else Ce(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const u=this.ut(e),c=u?this.ct(u,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,u;try{o=Vi(r).toUint8Array()}catch(c){if(c instanceof ND)return Tl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Ux(o,s,i)}catch(c){return Tl(c instanceof md?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const u=this.ot(o);if(u){if(i.current&&Eg(u.target)){const c=new de(u.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Rt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=Ke();this.He.forEach(((i,o)=>{let u=!0;o.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new xy(e,n,this.Ye,this.je,r);return this.je=Er(),this.Je=am(),this.He=am(),this.Ye=new St(Fe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new x_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ut(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ut(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new x_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function am(){return new St(de.comparator)}function E_(){return new St(de.comparator)}const M9={asc:"ASCENDING",desc:"DESCENDING"},R9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O9={and:"AND",or:"OR"};class j9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rb(t,e){return t.useProto3Json||hy(e)?e:{value:e}}function Pc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function L9(t,e){return Pc(t,e.toTimestamp())}function Kn(t){return Ce(!!t,49232),Pe.fromTimestamp((function(e){const n=Bi(e);return new rt(n.seconds,n.nanos)})(t))}function qx(t,e){return sb(t,e).canonicalString()}function sb(t,e){const n=(function(r){return new at(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function dN(t){const e=at.fromString(t);return Ce(xN(e),10190,{key:e.toString()}),e}function Tg(t,e){return qx(t.databaseId,e.path)}function yl(t,e){const n=dN(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(mN(n))}function fN(t,e){return qx(t.databaseId,e)}function pN(t){const e=dN(t);return e.length===4?at.emptyPath():mN(e)}function ib(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mN(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function S_(t,e,n){return{name:Tg(t,e),fields:n.value.mapValue.fields}}function F9(t,e,n){const r=yl(t,e.name),s=Kn(e.updateTime),i=e.createTime?Kn(e.createTime):Pe.min(),o=new Rn({mapValue:{fields:e.fields}}),u=Rt.newFoundDocument(r,s,i,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function B9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Se(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(c,d){return c.useProto3Json?(Ce(d===void 0||typeof d=="string",58123),an.fromBase64String(d||"")):(Ce(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),an.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(c){const d=c.code===void 0?te.UNKNOWN:lN(c.code);return new ce(d,c.message||"")})(o);n=new cN(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=yl(t,r.document.name),i=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):Pe.min(),u=new Rn({mapValue:{fields:r.document.fields}}),c=Rt.newFoundDocument(s,i,o,u),d=r.targetIds||[],p=r.removedTargetIds||[];n=new qm(d,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=yl(t,r.document),i=r.readTime?Kn(r.readTime):Pe.min(),o=Rt.newNoDocument(s,i),u=r.removedTargetIds||[];n=new qm([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=yl(t,r.document),i=r.removedTargetIds||[];n=new qm([],i,s,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new I9(s,i),u=r.targetId;n=new uN(u,o)}}return n}function _g(t,e){let n;if(e instanceof Lc)n={update:S_(t,e.key,e.value)};else if(e instanceof by)n={delete:Tg(t,e.key)};else if(e instanceof Xi)n={update:S_(t,e.key,e.data),updateMask:K9(e.fieldMask)};else{if(!(e instanceof oN))return Se(16599,{Vt:e.type});n={verify:Tg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,i){const o=i.transform;if(o instanceof _c)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Cc)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ic)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Xd)return{fieldPath:i.field.canonicalString(),increment:o.Ae};throw Se(20930,{transform:i.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:L9(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se(27497)})(t,e.precondition)),n}function ab(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?On.updateTime(Kn(s.updateTime)):s.exists!==void 0?On.exists(s.exists):On.none()})(e.currentDocument):On.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(i,o){let u=null;if("setToServerValue"in o)Ce(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),u=new _c;else if("appendMissingElements"in o){const d=o.appendMissingElements.values||[];u=new Cc(d)}else if("removeAllFromArray"in o){const d=o.removeAllFromArray.values||[];u=new Ic(d)}else"increment"in o?u=new Xd(i,o.increment):Se(16584,{proto:o});const c=_t.fromServerFormat(o.fieldPath);return new sN(c,u)})(t,s))):[];if(e.update){e.update.name;const s=yl(t,e.update.name),i=new Rn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=(function(u){const c=u.fieldPaths||[];return new ir(c.map((d=>_t.fromServerFormat(d))))})(e.updateMask);return new Xi(s,i,o,n,r)}return new Lc(s,i,n,r)}if(e.delete){const s=yl(t,e.delete);return new by(s,n)}if(e.verify){const s=yl(t,e.verify);return new oN(s,n)}return Se(1463,{proto:e})}function V9(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map((n=>(function(r,s){let i=r.updateTime?Kn(r.updateTime):Kn(s);return i.isEqual(Pe.min())&&(i=Kn(s)),new T9(i,r.transformResults||[])})(n,e)))):[]}function gN(t,e){return{documents:[fN(t,e.path)]}}function yN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fN(t,s);const i=(function(c){if(c.length!==0)return bN(lt.create(c,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(c){if(c.length!==0)return c.map((d=>(function(p){return{field:ec(p.field),direction:U9(p.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=rb(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:s}}function vN(t){let e=pN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ce(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=(function(p){const g=wN(p);return g instanceof lt&&Lx(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((g=>(function(v){return new Qd(tc(v.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let g;return g=typeof p=="object"?p.value:p,hy(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,v=p.values||[];return new kc(v,g)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const g=!p.before,v=p.values||[];return new kc(v,g)})(n.endAt)),d9(e,s,o,i,u,"F",c,d)}function z9(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wN(t){return t.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=tc(e.unaryFilter.field);return He.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=tc(e.unaryFilter.field);return He.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=tc(e.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=tc(e.unaryFilter.field);return He.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(e){return He.create(tc(e.fieldFilter.field),(function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(e){return lt.create(e.compositeFilter.filters.map((n=>wN(n))),(function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(e.compositeFilter.op))})(t):Se(30097,{filter:t})}function U9(t){return M9[t]}function q9(t){return R9[t]}function $9(t){return O9[t]}function ec(t){return{fieldPath:t.canonicalString()}}function tc(t){return _t.fromServerFormat(t.fieldPath)}function bN(t){return t instanceof He?(function(e){if(e.op==="=="){if(o_(e.value))return{unaryFilter:{field:ec(e.field),op:"IS_NAN"}};if(a_(e.value))return{unaryFilter:{field:ec(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(o_(e.value))return{unaryFilter:{field:ec(e.field),op:"IS_NOT_NAN"}};if(a_(e.value))return{unaryFilter:{field:ec(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ec(e.field),op:q9(e.op),value:e.value}}})(t):t instanceof lt?(function(e){const n=e.getFilters().map((r=>bN(r)));return n.length===1?n[0]:{compositeFilter:{op:$9(e.op),filters:n}}})(t):Se(54877,{filter:t})}function K9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function xN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mi{constructor(e,n,r,s,i=Pe.min(),o=Pe.min(),u=an.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EN{constructor(e){this.yt=e}}function W9(t,e){let n;if(e.document)n=F9(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=de.fromSegments(e.noDocument.path),s=Pl(e.noDocument.readTime);n=Rt.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Se(56709);{const r=de.fromSegments(e.unknownDocument.path),s=Pl(e.unknownDocument.version);n=Rt.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(r){const s=new rt(r[0],r[1]);return Pe.fromTimestamp(s)})(e.readTime)),n}function k_(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Cg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,i){return{name:Tg(s,i.key),fields:i.data.value.mapValue.fields,updateTime:Pc(s,i.version.toTimestamp()),createTime:Pc(s,i.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Il(e.version)};else{if(!e.isUnknownDocument())return Se(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Il(e.version)}}return r}function Cg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Il(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pl(t){const e=new rt(t.seconds,t.nanoseconds);return Pe.fromTimestamp(e)}function al(t,e){const n=(e.baseMutations||[]).map((i=>ab(t.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>ab(t.yt,i))),s=rt.fromMillis(e.localWriteTimeMs);return new Bx(e.batchId,s,n,r)}function gd(t){const e=Pl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Pl(t.lastLimboFreeSnapshotVersion):Pe.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const i=s.documents.length;return Ce(i===1,1966,{count:i}),Kr(xf(pN(s.documents[0])))})(t.query):(function(s){return Kr(vN(s))})(t.query),new Mi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,an.fromBase64String(t.resumeToken))}function SN(t,e){const n=Il(e.snapshotVersion),r=Il(e.lastLimboFreeSnapshotVersion);let s;s=Eg(e.target)?gN(t.yt,e.target):yN(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Cl(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function kN(t){const e=vN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kg(e,e.limit,"L"):e}function R0(t,e){return new zx(e.largestBatchId,ab(t.yt,e.overlayMutation))}function T_(t,e){const n=e.path.lastSegment();return[t,Ln(e.path.popLast()),n]}function __(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Il(r.readTime),documentKey:Ln(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class G9{getBundleMetadata(e,n){return C_(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Pl(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return C_(e).put((function(r){return{bundleId:r.id,createTime:Il(Kn(r.createTime)),version:r.version}})(n))}getNamedQuery(e,n){return I_(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:kN(s.bundledQuery),readTime:Pl(s.readTime)}})(r)}))}saveNamedQuery(e,n){return I_(e).put((function(r){return{name:r.name,readTime:Il(Kn(r.readTime)),bundledQuery:r.bundledQuery}})(n))}}function C_(t){return dn(t,dy)}function I_(t){return dn(t,fy)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ey{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Ey(e,r)}getOverlay(e,n){return Uh(e).get(T_(this.userId,n)).next((r=>r?R0(this.serializer,r):null))}getOverlays(e,n){const r=Us();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((i,o)=>{const u=new zx(n,o);s.push(this.St(e,u))})),Q.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((o=>s.add(Ln(o.getCollectionPath()))));const i=[];return s.forEach((o=>{const u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(Uh(e).Z(Qw,u))})),Q.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Us(),i=Ln(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Uh(e).J(Qw,o).next((u=>{for(const c of u){const d=R0(this.serializer,c);s.set(d.getKey(),d)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const i=Us();let o;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Uh(e).ee({index:TD,range:u},((c,d,p)=>{const g=R0(this.serializer,d);i.size()<s||g.largestBatchId===o?(i.set(g.getKey(),g),o=g.largestBatchId):p.done()})).next((()=>i))}St(e,n){return Uh(e).put((function(r,s,i){const[o,u,c]=T_(s,i.mutation.key);return{userId:s,collectionPath:u,documentId:c,collectionGroup:i.mutation.key.getCollectionGroup(),largestBatchId:i.largestBatchId,overlayMutation:_g(r.yt,i.mutation)}})(this.serializer,this.userId,n))}}function Uh(t){return dn(t,py)}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class H9{bt(e){return dn(e,Ax)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?an.fromUint8Array(r):an.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ol{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(xt(e.integerValue));else if("doubleValue"in e){const r=xt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),zd(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Bi(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Vi(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?LD(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):gy(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Se(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){var r,s;const i=e.fields||{};this.Ft(n,53);const o=Ec,u=((s=(r=i[o].arrayValue)==null?void 0:r.values)==null?void 0:s.length)||0;this.Ft(n,15),n.Mt(xt(u)),this.Ot(o,n),this.Ct(i[o],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),de.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}ol.Kt=new ol;/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law | agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ru=255;function Q9(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function P_(t){const e=64-(function(n){let r=0;for(let s=0;s<8;++s){const i=Q9(255&n[s]);if(r+=i,i!==8)break}return r})(t);return Math.ceil(e/8)}class X9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=P_(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=P_(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(Ru),this.sn(255)}_n(){this.an(Ru),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const i=new DataView(new ArrayBuffer(8));return i.setFloat64(0,s,!1),new Uint8Array(i.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Ru?(this.sn(Ru),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Ru?(this.an(Ru),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class Y9{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class J9{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class qh{constructor(){this.cn=new X9,this.ln=new Y9(this.cn),this.hn=new J9(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ll{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new ll(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:$m(this.En),directionalValue:$m(this.dn),orderedDocumentKey:$m(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Aa(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=D_(t.En,e.En),n!==0?n:(n=D_(t.dn,e.dn),n!==0?n:de.comparator(t.In,e.In)))}function D_(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function $m(t){return yP()?(function(e){let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return n})(t):t}function N_(t){return typeof t!="string"?t:(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(t)}class A_{constructor(e){this.mn=new ut(((n,r)=>_t.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ce(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Ww(e);if(n!==void 0&&!this.wn(n))return!1;const r=tl(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const c=r[i];if(!this.Sn(u,c)||!this.bn(this.fn[o++],c))return!1}++i}for(;i<r.length;++i){const u=r[i];if(o>=this.fn.length||!this.bn(this.fn[o++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new ut(_t.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new jm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new jm(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new jm(r.field,r.dir==="asc"?0:1)));return new yg(yg.UNKNOWN_ID,this.collectionId,n,Vd.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function TN(t){var e,n;if(Ce(t instanceof He||t instanceof lt,20012),t instanceof He){if(t instanceof WD){const s=((n=(e=t.value.arrayValue)==null?void 0:e.values)==null?void 0:n.map((i=>He.create(t.field,"==",i))))||[];return lt.create(s,"or")}return t}const r=t.filters.map((s=>TN(s)));return lt.create(r,t.op)}function Z9(t){if(t.getFilters().length===0)return[];const e=ub(TN(t));return Ce(_N(e),7391),ob(e)||lb(e)?[e]:e.getFilters()}function ob(t){return t instanceof He}function lb(t){return t instanceof lt&&Lx(t)}function _N(t){return ob(t)||lb(t)||(function(e){if(e instanceof lt&&Zw(e)){for(const n of e.getFilters())if(!ob(n)&&!lb(n))return!1;return!0}return!1})(t)}function ub(t){if(Ce(t instanceof He||t instanceof lt,34018),t instanceof He)return t;if(t.filters.length===1)return ub(t.filters[0]);const e=t.filters.map((r=>ub(r)));let n=lt.create(e,t.op);return n=Ig(n),_N(n)?n:(Ce(n instanceof lt,64498),Ce(Tc(n),40251),Ce(n.filters.length>1,57927),n.filters.reduce(((r,s)=>$x(r,s))))}function $x(t,e){let n;return Ce(t instanceof He||t instanceof lt,38388),Ce(e instanceof He||e instanceof lt,25473),n=t instanceof He?e instanceof He?(function(r,s){return lt.create([r,s],"and")})(t,e):M_(t,e):e instanceof He?M_(e,t):(function(r,s){if(Ce(r.filters.length>0&&s.filters.length>0,48005),Tc(r)&&Tc(s))return qD(r,s.getFilters());const i=Zw(r)?r:s,o=Zw(r)?s:r,u=i.filters.map((c=>$x(c,o)));return lt.create(u,"or")})(t,e),Ig(n)}function M_(t,e){if(Tc(e))return qD(e,t.getFilters());{const n=e.filters.map((r=>$x(t,r)));return lt.create(n,"or")}}function Ig(t){if(Ce(t instanceof He||t instanceof lt,11850),t instanceof He)return t;const e=t.getFilters();if(e.length===1)return Ig(e[0]);if(zD(t))return t;const n=e.map((s=>Ig(s))),r=[];return n.forEach((s=>{s instanceof He?r.push(s):s instanceof lt&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:lt.create(r,t.op)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class eV{constructor(){this.Cn=new Kx}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Tr.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class Kx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ut(at.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ut(at.comparator)).toArray()}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R_="IndexedDbIndexManager",om=new Uint8Array(0);class tV{constructor(e,n){this.databaseId=n,this.vn=new Kx,this.Fn=new Qi((r=>Cl(r)),((r,s)=>bf(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const i={collectionId:r,parent:Ln(s)};return O_(e).put(i)}return Q.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[fD(n),""],!1,!0);return O_(e).J(s).next((i=>{for(const o of i){if(o.collectionId!==n)break;r.push(zs(o.parent))}return r}))}addFieldIndex(e,n){const r=$h(e),s=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=ju(e);return i.next((u=>{o.put(__(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return i.next()}deleteFieldIndex(e,n){const r=$h(e),s=ju(e),i=Ou(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=$h(e),r=Ou(e),s=ju(e);return n.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new A_(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,n){const r=Ou(e);let s=!0;const i=new Map;return Q.forEach(this.Mn(n),(o=>this.xn(e,o).next((u=>{s&&(s=!!u),i.set(o,u)})))).next((()=>{if(s){let o=Ke();const u=[];return Q.forEach(i,((c,d)=>{le(R_,`Using index ${(function(A){return`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map((O=>`${O.fieldPath}:${O.kind}`)).join(",")}`})(c)} to execute ${Cl(n)}`);const p=(function(A,O){const V=Ww(O);if(V===void 0)return null;for(const U of Sg(A,V.fieldPath))switch(U.op){case"array-contains-any":return U.value.arrayValue.values||[];case"array-contains":return[U.value]}return null})(d,c),g=(function(A,O){const V=new Map;for(const U of tl(O))for(const W of Sg(A,U.fieldPath))switch(W.op){case"==":case"in":V.set(U.fieldPath.canonicalString(),W.value);break;case"not-in":case"!=":return V.set(U.fieldPath.canonicalString(),W.value),Array.from(V.values())}return null})(d,c),v=(function(A,O){const V=[];let U=!0;for(const W of tl(O)){const M=W.kind===0?d_(A,W.fieldPath,A.startAt):f_(A,W.fieldPath,A.startAt);V.push(M.value),U&&(U=M.inclusive)}return new kc(V,U)})(d,c),S=(function(A,O){const V=[];let U=!0;for(const W of tl(O)){const M=W.kind===0?f_(A,W.fieldPath,A.endAt):d_(A,W.fieldPath,A.endAt);V.push(M.value),U&&(U=M.inclusive)}return new kc(V,U)})(d,c),C=this.On(c,d,v),T=this.On(c,d,S),_=this.Nn(c,d,g),D=this.Bn(c.indexId,p,C,v.inclusive,T,S.inclusive,_);return Q.forEach(D,(A=>r.Y(A,n.limit).next((O=>{O.forEach((V=>{const U=de.fromSegments(V.documentKey);o.has(U)||(o=o.add(U),u.push(U))}))}))))})).next((()=>u))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=Z9(lt.create(e.filters,"and")).map((r=>tb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,o,u){const c=(n!=null?n.length:1)*Math.max(r.length,i.length),d=c/(n!=null?n.length:1),p=[];for(let g=0;g<c;++g){const v=n?this.Ln(n[g/d]):om,S=this.kn(e,v,r[g%d],s),C=this.qn(e,v,i[g%d],o),T=u.map((_=>this.kn(e,v,_,!0)));p.push(...this.createRange(S,C,T))}return p}kn(e,n,r,s){const i=new ll(e,de.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new ll(e,de.empty(),n,r);return s?i.An():i}xn(e,n){const r=new A_(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let o=null;for(const u of i)r.yn(u)&&(!o||u.fields.length>o.fields.length)&&(o=u);return o}))}getIndexType(e,n){let r=2;const s=this.Mn(n);return Q.forEach(s,(i=>this.xn(e,i).next((o=>{o?r!==0&&o.fields.length<(function(u){let c=new ut(_t.comparator),d=!1;for(const p of u.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:c=c.add(g.field));for(const p of u.orderBy)p.field.isKeyField()||(c=c.add(p.field));return c.size+(d?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(i){return i.limit!==null})(n)&&s.length>1&&r===2?1:r))}Qn(e,n){const r=new qh;for(const s of tl(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Pn(s.kind);ol.Kt.Dt(i,o)}return r.un()}Ln(e){const n=new qh;return ol.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new qh;return ol.Kt.Dt(Gd(this.databaseId,n),r.Pn((function(s){const i=tl(s);return i.length===0?0:i[i.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new qh);let i=0;for(const o of tl(e)){const u=r[i++];for(const c of s)if(this.Un(n,o.fieldPath)&&Hd(u))s=this.Kn(s,o,u);else{const d=c.Pn(o.kind);ol.Kt.Dt(u,d)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const u of s){const c=new qh;c.seed(u.un()),ol.Kt.Dt(o,c.Pn(n.kind)),i.push(c)}return i}Un(e,n){return!!e.filters.find((r=>r instanceof He&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=$h(e),s=ju(e);return(n?r.J(Hw,IDBKeyRange.bound(n,n)):r.J()).next((i=>{const o=[];return Q.forEach(i,(u=>s.get([u.indexId,this.uid]).next((c=>{o.push((function(d,p){const g=p?new Vd(p.sequenceNumber,new Tr(Pl(p.readTime),new de(zs(p.documentKey)),p.largestBatchId)):Vd.empty(),v=d.fields.map((([S,C])=>new jm(_t.fromServerFormat(S),C)));return new yg(d.indexId,d.collectionGroup,v,g)})(u,c))})))).next((()=>o))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Fe(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=$h(e),i=ju(e);return this.Gn(e).next((o=>s.J(Hw,IDBKeyRange.bound(n,n)).next((u=>Q.forEach(u,(c=>i.put(__(c.indexId,this.uid,o,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((s,i)=>{const o=r.get(s.collectionGroup);return(o?Q.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Q.forEach(u,(c=>this.zn(e,s,c).next((d=>{const p=this.jn(i,c);return d.isEqual(p)?Q.resolve():this.Jn(e,i,c,d,p)})))))))}))}Hn(e,n,r,s){return Ou(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return Ou(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=Ou(e);let i=new ut(Aa);return s.ee({index:kD,range:IDBKeyRange.only([r.indexId,this.uid,$m(this.$n(r,n))])},((o,u)=>{i=i.add(new ll(r.indexId,n,N_(u.arrayValue),N_(u.directionalValue)))})).next((()=>i))}jn(e,n){let r=new ut(Aa);const s=this.Qn(n,e);if(s==null)return r;const i=Ww(n);if(i!=null){const o=e.data.field(i.fieldPath);if(Hd(o))for(const u of o.arrayValue.values||[])r=r.add(new ll(n.indexId,e.key,this.Ln(u),s))}else r=r.add(new ll(n.indexId,e.key,om,s));return r}Jn(e,n,r,s,i){le(R_,"Updating index entries for document '%s'",n.key);const o=[];return(function(u,c,d,p,g){const v=u.getIterator(),S=c.getIterator();let C=Mu(v),T=Mu(S);for(;C||T;){let _=!1,D=!1;if(C&&T){const A=d(C,T);A<0?D=!0:A>0&&(_=!0)}else C!=null?D=!0:_=!0;_?(p(T),T=Mu(S)):D?(g(C),C=Mu(v)):(C=Mu(v),T=Mu(S))}})(s,i,Aa,(u=>{o.push(this.Hn(e,n,r,u))}),(u=>{o.push(this.Yn(e,n,r,u))})),Q.waitFor(o)}Gn(e){let n=1;return ju(e).ee({index:SD,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((o,u)=>Aa(o,u))).filter(((o,u,c)=>!u||Aa(o,c[u-1])!==0));const s=[];s.push(e);for(const o of r){const u=Aa(o,e),c=Aa(o,n);if(u===0)s[0]=e.An();else if(u>0&&c<0)s.push(o),s.push(o.An());else if(c>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Zn(s[o],s[o+1]))return[];const u=s[o].Vn(this.uid,om,de.empty()),c=s[o+1].Vn(this.uid,om,de.empty());i.push(IDBKeyRange.bound(u,c))}return i}Zn(e,n){return Aa(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(j_)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((s=>s||Se(44426))))).next(j_)}}function O_(t){return dn(t,$d)}function Ou(t){return dn(t,Td)}function $h(t){return dn(t,Nx)}function ju(t){return dn(t,kd)}function j_(t){Ce(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;Ix(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Tr(e.readTime,e.documentKey,n)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const L_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CN=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function IN(t,e,n){const r=t.store(ls),s=t.store(vc),i=[],o=IDBKeyRange.only(n.batchId);let u=0;const c=r.ee({range:o},((p,g,v)=>(u++,v.delete())));i.push(c.next((()=>{Ce(u===1,47070,{batchId:n.batchId})})));const d=[];for(const p of n.mutations){const g=bD(e,p.key.path,n.batchId);i.push(s.delete(g)),d.push(p.key)}return Q.waitFor(i).next((()=>d))}function Pg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Se(14731);e=t.noDocument}return JSON.stringify(e).length}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(CN,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class Sy{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){Ce(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new Sy(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ma(e).ee({index:ul,range:r},((s,i,o)=>{n=!1,o.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const i=nc(e),o=Ma(e);return o.add({}).next((u=>{Ce(typeof u=="number",49019);const c=new Bx(u,n,r,s),d=(function(v,S,C){const T=C.baseMutations.map((D=>_g(v.yt,D))),_=C.mutations.map((D=>_g(v.yt,D)));return{userId:S,batchId:C.batchId,localWriteTimeMs:C.localWriteTime.toMillis(),baseMutations:T,mutations:_}})(this.serializer,this.userId,c),p=[];let g=new ut(((v,S)=>Fe(v.canonicalString(),S.canonicalString())));for(const v of s){const S=bD(this.userId,v.key.path,u);g=g.add(v.key.path.popLast()),p.push(o.put(d)),p.push(i.put(S,DB))}return g.forEach((v=>{p.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[u]=c.keys()})),Q.waitFor(p).next((()=>c))}))}lookupMutationBatch(e,n){return Ma(e).get(n).next((r=>r?(Ce(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),al(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Ma(e).ee({index:ul,range:s},((o,u,c)=>{u.userId===this.userId&&(Ce(u.batchId>=r,47524,{tr:r}),i=al(this.serializer,u)),c.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ml;return Ma(e).ee({index:ul,range:n,reverse:!0},((s,i,o)=>{r=i.batchId,o.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,ml],[this.userId,Number.POSITIVE_INFINITY]);return Ma(e).J(ul,n).next((r=>r.map((s=>al(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Lm(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return nc(e).ee({range:s},((o,u,c)=>{const[d,p,g]=o,v=zs(p);if(d===this.userId&&n.path.isEqual(v))return Ma(e).get(g).next((S=>{if(!S)throw Se(61480,{nr:o,batchId:g});Ce(S.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:S.userId,batchId:g}),i.push(al(this.serializer,S))}));c.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Fe);const s=[];return n.forEach((i=>{const o=Lm(this.userId,i.path),u=IDBKeyRange.lowerBound(o),c=nc(e).ee({range:u},((d,p,g)=>{const[v,S,C]=d,T=zs(S);v===this.userId&&i.path.isEqual(T)?r=r.add(C):g.done()}));s.push(c)})),Q.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Lm(this.userId,r),o=IDBKeyRange.lowerBound(i);let u=new ut(Fe);return nc(e).ee({range:o},((c,d,p)=>{const[g,v,S]=c,C=zs(v);g===this.userId&&r.isPrefixOf(C)?C.length===s&&(u=u.add(S)):p.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],s=[];return n.forEach((i=>{s.push(Ma(e).get(i).next((o=>{if(o===null)throw Se(35274,{batchId:i});Ce(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:i}),r.push(al(this.serializer,o))})))})),Q.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return IN(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(i){return[i]})(this.userId)),s=[];return nc(e).ee({range:r},((i,o,u)=>{if(i[0]===this.userId){const c=zs(i[1]);s.push(c)}else u.done()})).next((()=>{Ce(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,n){return PN(e,this.userId,n)}_r(e){return DN(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:ml,lastStreamToken:""}))}}function PN(t,e,n){const r=Lm(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return nc(t).ee({range:i,X:!0},((u,c,d)=>{const[p,g,v]=u;p===e&&g===s&&(o=!0),d.done()})).next((()=>o))}function Ma(t){return dn(t,ls)}function nc(t){return dn(t,vc)}function DN(t){return dn(t,Ud)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Dl(0)}static cr(){return new Dl(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nV{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Dl(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Pe.fromTimestamp(new rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Lu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ce(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let s=0;const i=[];return Lu(e).ee(((o,u)=>{const c=gd(u);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(s++,i.push(this.removeTargetData(e,c)))})).next((()=>Q.waitFor(i))).next((()=>s))}forEachTarget(e,n){return Lu(e).ee(((r,s)=>{const i=gd(s);n(i)}))}lr(e){return F_(e).get(bg).next((n=>(Ce(n!==null,2888),n)))}hr(e,n){return F_(e).put(bg,n)}Pr(e,n){return Lu(e).put(SN(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Cl(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Lu(e).ee({range:s,index:ED},((o,u,c)=>{const d=gd(u);bf(n,d.target)&&(i=d,c.done())})).next((()=>i))}addMatchingKeys(e,n,r){const s=[],i=Wa(e);return n.forEach((o=>{const u=Ln(o.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,o))})),Q.waitFor(s)}removeMatchingKeys(e,n,r){const s=Wa(e);return Q.forEach(n,(i=>{const o=Ln(i.path);return Q.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,n){const r=Wa(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Wa(e);let i=Ke();return s.ee({range:r,X:!0},((o,u,c)=>{const d=zs(o[1]),p=new de(d);i=i.add(p)})).next((()=>i))}containsKey(e,n){const r=Ln(n.path),s=IDBKeyRange.bound([r],[fD(r)],!1,!0);let i=0;return Wa(e).ee({index:Dx,X:!0,range:s},(([o,u],c,d)=>{o!==0&&(i++,d.done())})).next((()=>i>0))}At(e,n){return Lu(e).get(n).next((r=>r?gd(r):null))}}function Lu(t){return dn(t,wc)}function F_(t){return dn(t,gl)}function Wa(t){return dn(t,bc)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const B_="LruGarbageCollector",rV=1048576;function V_([t,e],[n,r]){const s=Fe(t,n);return s===0?Fe(e,r):s}class sV{constructor(e){this.Ir=e,this.buffer=new ut(V_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();V_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(B_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fo(n)?le(B_,"Ignoring IndexedDB error during garbage collection: ",n):await Vl(n)}await this.Vr(3e5)}))}}class iV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Ur.ce);const r=new sV(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(L_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,u,c,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,o=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),Ju()<=Ge.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${s} in `+(u-o)+`ms
	Removed ${i} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(d-c)+`ms
Total Duration: ${d-p}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function AN(t,e){return new iV(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aV{constructor(e,n){this.db=e,this.garbageCollector=AN(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,s)=>n(s)))}addReference(e,n,r){return lm(e,r)}removeReference(e,n,r){return lm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return lm(e,n)}br(e,n){return(function(r,s){let i=!1;return DN(r).te((o=>PN(r,o,s).next((u=>(u&&(i=!0),Q.resolve(!u)))))).next((()=>i))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((o,u)=>{if(u<=n){const c=this.br(e,o).next((d=>{if(!d)return i++,r.getEntry(e,o).next((()=>(r.removeEntry(o,Pe.min()),Wa(e).delete((function(p){return[0,Ln(p.path)]})(o)))))}));s.push(c)}})).next((()=>Q.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return lm(e,n)}Sr(e,n){const r=Wa(e);let s,i=Ur.ce;return r.ee({index:Dx},(([o,u],{path:c,sequenceNumber:d})=>{o===0?(i!==Ur.ce&&n(new de(zs(s)),i),i=d,s=c):i=Ur.ce})).next((()=>{i!==Ur.ce&&n(new de(zs(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lm(t,e){return Wa(t).put((function(n,r){return{targetId:0,path:Ln(n.path),sequenceNumber:r}})(e,t.currentSequenceNumber))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MN{constructor(){this.changes=new Qi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oV{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return qo(e).put(r)}removeEntry(e,n,r){return qo(e).delete((function(s,i){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Cg(i),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Rt.newInvalidDocument(n);return qo(e).ee({index:Fm,range:IDBKeyRange.only(Kh(n))},((s,i)=>{r=this.Cr(n,i)})).next((()=>r))}vr(e,n){let r={size:0,document:Rt.newInvalidDocument(n)};return qo(e).ee({index:Fm,range:IDBKeyRange.only(Kh(n))},((s,i)=>{r={document:this.Cr(n,i),size:Pg(i)}})).next((()=>r))}getEntries(e,n){let r=Er();return this.Fr(e,n,((s,i)=>{const o=this.Cr(s,i);r=r.insert(s,o)})).next((()=>r))}Mr(e,n){let r=Er(),s=new St(de.comparator);return this.Fr(e,n,((i,o)=>{const u=this.Cr(i,o);r=r.insert(i,u),s=s.insert(i,Pg(o))})).next((()=>({documents:r,Or:s})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let s=new ut(q_);n.forEach((c=>s=s.add(c)));const i=IDBKeyRange.bound(Kh(s.first()),Kh(s.last())),o=s.getIterator();let u=o.getNext();return qo(e).ee({index:Fm,range:i},((c,d,p)=>{const g=de.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;u&&q_(u,g)<0;)r(u,null),u=o.getNext();u&&u.isEqual(g)&&(r(u,d),u=o.hasNext()?o.getNext():null),u?p.j(Kh(u)):p.done()})).next((()=>{for(;u;)r(u,null),u=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,u=[o.popLast().toArray(),o.lastSegment(),Cg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qo(e).J(IDBKeyRange.bound(u,c,!0)).next((d=>{i==null||i.incrementDocumentReadCount(d.length);let p=Er();for(const g of d){const v=this.Cr(de.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(Ef(n,v)||s.has(v.key))&&(p=p.insert(v.key,v))}return p}))}getAllFromCollectionGroup(e,n,r,s){let i=Er();const o=U_(n,r),u=U_(n,Tr.max());return qo(e).ee({index:xD,range:IDBKeyRange.bound(o,u,!0)},((c,d,p)=>{const g=this.Cr(de.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);i=i.insert(g.key,g),i.size===s&&p.done()})).next((()=>i))}newChangeBuffer(e){return new lV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return z_(e).get(Gw).next((n=>(Ce(!!n,20021),n)))}Dr(e,n){return z_(e).put(Gw,n)}Cr(e,n){if(n){const r=W9(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Pe.min())))return r}return Rt.newInvalidDocument(e)}}function RN(t){return new oV(t)}class lV extends MN{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Qi((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new ut(((i,o)=>Fe(i.canonicalString(),o.canonicalString())));return this.changes.forEach(((i,o)=>{const u=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,u.readTime)),o.isValidDocument()){const c=k_(this.Nr.serializer,o);s=s.add(i.path.popLast());const d=Pg(c);r+=d-u.size,n.push(this.Nr.addEntry(e,i,c))}else if(r-=u.size,this.trackRemovals){const c=k_(this.Nr.serializer,o.convertToNoDocument(Pe.min()));n.push(this.Nr.addEntry(e,i,c))}})),s.forEach((i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:s})=>(s.forEach(((i,o)=>{this.Br.set(i,{size:o,readTime:r.get(i).readTime})})),r)))}}function z_(t){return dn(t,qd)}function qo(t){return dn(t,wg)}function Kh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function U_(t,e){const n=e.documentKey.path.toArray();return[t,Cg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function q_(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Fe(n[i],r[i]),s)return s;return s=Fe(n.length,r.length),s||(s=Fe(n[n.length-2],r[r.length-2]),s||Fe(n[n.length-1],r[r.length-1]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ON{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Pd(r.mutation,s,ir.empty(),rt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ke()){const s=Us();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=pd();return i.forEach(((u,c)=>{o=o.insert(u,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Us();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ke())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,u)=>{n.set(o,u)}))}))}computeViews(e,n,r,s){let i=Er();const o=Id(),u=(function(){return Id()})();return n.forEach(((c,d)=>{const p=r.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof Xi)?i=i.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),Pd(p.mutation,d,p.mutation.getFieldMask(),rt.now())):o.set(d.key,ir.empty())})),this.recalculateAndSaveOverlays(e,i).next((c=>(c.forEach(((d,p)=>o.set(d,p))),n.forEach(((d,p)=>u.set(d,new uV(p,o.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Id();let s=new St(((o,u)=>o-u)),i=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const u of o)u.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let p=r.get(c)||ir.empty();p=u.applyToLocalView(d,p),r.set(c,p);const g=(s.get(u.batchId)||Ke()).add(c);s=s.insert(u.batchId,g)}))})).next((()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,p=c.value,g=JD();p.forEach((v=>{if(!i.has(v)){const S=iN(n.get(v),r.get(v));S!==null&&g.set(v,S),i=i.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return Q.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Us());let u=Bd,c=i;return o.next((d=>Q.forEach(d,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),i.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{c=c.insert(p,v)}))))).next((()=>this.populateOverlays(e,d,i))).next((()=>this.computeViews(e,c,d,Ke()))).next((p=>({batchId:u,changes:YD(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((r=>{let s=pd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=pd();return this.indexManager.getCollectionParents(e,i).next((u=>Q.forEach(u,(c=>{const d=(function(p,g){return new jc(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((p=>{p.forEach(((g,v)=>{o=o.insert(g,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((c,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,Rt.newInvalidDocument(p)))}));let u=pd();return o.forEach(((c,d)=>{const p=i.get(c);p!==void 0&&Pd(p.mutation,d,ir.empty(),rt.now()),Ef(n,d)&&(u=u.insert(c,d))})),u}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:Kn(r.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:kN(r.bundledQuery),readTime:Kn(r.readTime)}})(n)),Q.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hV{constructor(){this.overlays=new St(de.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Us();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Us(),i=n.length+1,o=new de(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new St(((d,p)=>d-p));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=i.get(d.largestBatchId);p===null&&(p=Us(),i=i.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const u=Us(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,p)=>u.set(d,p))),!(u.size()>=s)););return Q.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zx(n,r));let i=this.qr.get(n);i===void 0&&(i=Ke(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dV{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wx{constructor(){this.Qr=new ut(gn.$r),this.Ur=new ut(gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new gn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new gn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new de(new at([])),r=new gn(n,e),s=new gn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new at([])),r=new gn(n,e),s=new gn(n,e+1);let i=Ke();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new gn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ut(gn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Bx(i,n,r,s);this.mutationQueue.push(o);for(const u of s)this.Zr=this.Zr.add(new gn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?ml:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gn(n,0),s=new gn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const u=this.Xr(o.Yr);i.push(u)})),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Fe);return n.forEach((s=>{const i=new gn(s,0),o=new gn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(u=>{r=r.add(u.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;de.isDocumentKey(i)||(i=i.child(""));const o=new gn(new de(i),0);let u=new ut(Fe);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(u=u.add(c.Yr)),!0)}),o),Q.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(s=>{const i=new gn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new gn(n,0),s=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pV{constructor(e){this.ri=e,this.docs=(function(){return new St(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=Er();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Rt.newInvalidDocument(s))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Er();const o=n.path,u=new de(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Ix(gD(p),r)<=0||(s.has(p.key)||Ef(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Se(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new mV(this)}getSize(e){return Q.resolve(this.size)}}class mV extends MN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gV{constructor(e){this.persistence=e,this.si=new Qi((n=>Cl(n)),bf),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Wx,this.targetCount=0,this.ai=Dl.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Q.waitFor(i).next((()=>s))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ur(0),this.li=!1,this.li=!0,this.hi=new dV,this.referenceDelegate=e(this),this.Pi=new gV(this),this.indexManager=new eV,this.remoteDocumentCache=(function(r){return new pV(r)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new EN(n),this.Ii=new cV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new fV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new yV(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class yV extends vD{constructor(e){super(),this.currentSequenceNumber=e}}class ky{constructor(e){this.persistence=e,this.Ri=new Wx,this.Vi=null}static mi(e){return new ky(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const s=de.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Pe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Dg{constructor(e,n){this.persistence=e,this.pi=new Qi((r=>Ln(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=AN(this,n)}static mi(e,n){return new Dg(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Q.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((u=>{u||(r++,i.removeEntry(o,Pe.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vm(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vV{constructor(e){this.serializer=e}k(e,n,r,s){const i=new cy("createOrUpgrade",n);r<1&&s>=1&&((function(u){u.createObjectStore(wf)})(e),(function(u){u.createObjectStore(Ud,{keyPath:PB}),u.createObjectStore(ls,{keyPath:e_,autoIncrement:!0}).createIndex(ul,t_,{unique:!0}),u.createObjectStore(vc)})(e),$_(e),(function(u){u.createObjectStore(nl)})(e));let o=Q.resolve();return r<3&&s>=3&&(r!==0&&((function(u){u.deleteObjectStore(bc),u.deleteObjectStore(wc),u.deleteObjectStore(gl)})(e),$_(e)),o=o.next((()=>(function(u){const c=u.store(gl),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pe.min().toTimestamp(),targetCount:0};return c.put(bg,d)})(i)))),r<4&&s>=4&&(r!==0&&(o=o.next((()=>(function(u,c){return c.store(ls).J().next((d=>{u.deleteObjectStore(ls),u.createObjectStore(ls,{keyPath:e_,autoIncrement:!0}).createIndex(ul,t_,{unique:!0});const p=c.store(ls),g=d.map((v=>p.put(v)));return Q.waitFor(g)}))})(e,i)))),o=o.next((()=>{(function(u){u.createObjectStore(xc,{keyPath:FB})})(e)}))),r<5&&s>=5&&(o=o.next((()=>this.yi(i)))),r<6&&s>=6&&(o=o.next((()=>((function(u){u.createObjectStore(qd)})(e),this.wi(i))))),r<7&&s>=7&&(o=o.next((()=>this.Si(i)))),r<8&&s>=8&&(o=o.next((()=>this.bi(e,i)))),r<9&&s>=9&&(o=o.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(o=o.next((()=>this.Di(i)))),r<11&&s>=11&&(o=o.next((()=>{(function(u){u.createObjectStore(dy,{keyPath:BB})})(e),(function(u){u.createObjectStore(fy,{keyPath:VB})})(e)}))),r<12&&s>=12&&(o=o.next((()=>{(function(u){const c=u.createObjectStore(py,{keyPath:GB});c.createIndex(Qw,HB,{unique:!1}),c.createIndex(TD,QB,{unique:!1})})(e)}))),r<13&&s>=13&&(o=o.next((()=>(function(u){const c=u.createObjectStore(wg,{keyPath:NB});c.createIndex(Fm,AB),c.createIndex(xD,MB)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(nl)))),r<14&&s>=14&&(o=o.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(o=o.next((()=>(function(u){u.createObjectStore(Nx,{keyPath:zB,autoIncrement:!0}).createIndex(Hw,UB,{unique:!1}),u.createObjectStore(kd,{keyPath:qB}).createIndex(SD,$B,{unique:!1}),u.createObjectStore(Td,{keyPath:KB}).createIndex(kD,WB,{unique:!1})})(e)))),r<16&&s>=16&&(o=o.next((()=>{n.objectStore(kd).clear()})).next((()=>{n.objectStore(Td).clear()}))),r<17&&s>=17&&(o=o.next((()=>{(function(u){u.createObjectStore(Ax,{keyPath:XB})})(e)}))),r<18&&s>=18&&yP()&&(o=o.next((()=>{n.objectStore(kd).clear()})).next((()=>{n.objectStore(Td).clear()}))),o}wi(e){let n=0;return e.store(nl).ee(((r,s)=>{n+=Pg(s)})).next((()=>{const r={byteSize:n};return e.store(qd).put(Gw,r)}))}yi(e){const n=e.store(Ud),r=e.store(ls);return n.J().next((s=>Q.forEach(s,(i=>{const o=IDBKeyRange.bound([i.userId,ml],[i.userId,i.lastAcknowledgedBatchId]);return r.J(ul,o).next((u=>Q.forEach(u,(c=>{Ce(c.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const d=al(this.serializer,c);return IN(e,i.userId,d).next((()=>{}))}))))}))))}Si(e){const n=e.store(bc),r=e.store(nl);return e.store(gl).get(bg).next((s=>{const i=[];return r.ee(((o,u)=>{const c=new at(o),d=(function(p){return[0,Ln(p)]})(c);i.push(n.get(d).next((p=>p?Q.resolve():(g=>n.put({targetId:0,path:Ln(g),sequenceNumber:s.highestListenSequenceNumber}))(c))))})).next((()=>Q.waitFor(i)))}))}bi(e,n){e.createObjectStore($d,{keyPath:LB});const r=n.store($d),s=new Kx,i=o=>{if(s.add(o)){const u=o.lastSegment(),c=o.popLast();return r.put({collectionId:u,parent:Ln(c)})}};return n.store(nl).ee({X:!0},((o,u)=>{const c=new at(o);return i(c.popLast())})).next((()=>n.store(vc).ee({X:!0},(([o,u,c],d)=>{const p=zs(u);return i(p.popLast())}))))}Di(e){const n=e.store(wc);return n.ee(((r,s)=>{const i=gd(s),o=SN(this.serializer,i);return n.put(o)}))}Ci(e,n){const r=n.store(nl),s=[];return r.ee(((i,o)=>{const u=n.store(wg),c=(function(p){return p.document?new de(at.fromString(p.document.name).popFirst(5)):p.noDocument?de.fromSegments(p.noDocument.path):p.unknownDocument?de.fromSegments(p.unknownDocument.path):Se(36783)})(o).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(u.put(d))})).next((()=>Q.waitFor(s)))}Fi(e,n){const r=n.store(ls),s=RN(this.serializer),i=new Gx(ky.mi,this.serializer.yt);return r.J().next((o=>{const u=new Map;return o.forEach((c=>{let d=u.get(c.userId)??Ke();al(this.serializer,c).keys().forEach((p=>d=d.add(p))),u.set(c.userId,d)})),Q.forEach(u,((c,d)=>{const p=new kn(d),g=Ey.wt(this.serializer,p),v=i.getIndexManager(p),S=Sy.wt(p,this.serializer,v,i.referenceDelegate);return new ON(s,S,g,v).recalculateAndSaveOverlaysForDocumentKeys(new Xw(n,Ur.ce),c).next()}))}))}}function $_(t){t.createObjectStore(bc,{keyPath:OB}).createIndex(Dx,jB,{unique:!0}),t.createObjectStore(wc,{keyPath:"targetId"}).createIndex(ED,RB,{unique:!0}),t.createObjectStore(gl)}const Ra="IndexedDbPersistence",O0=18e5,j0=5e3,L0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wV="main";class Hx{constructor(e,n,r,s,i,o,u,c,d,p,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=o,this.document=u,this.xi=d,this.Oi=p,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!Hx.v())throw new ce(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new aV(this,s),this.$i=n+wV,this.serializer=new EN(c),this.Ui=new Ya(this.$i,this.Ni,new vV(this.serializer)),this.hi=new H9,this.Pi=new nV(this.referenceDelegate,this.serializer),this.remoteDocumentCache=RN(this.serializer),this.Ii=new G9,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&zn(Ra,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,L0);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Ur(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>um(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(fo(e))return le(Ra,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(Ra,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Wh(e).get(Au).next((n=>Q.resolve(this.es(n))))}ts(e){return um(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,O0)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=dn(n,xc);return r.J().next((s=>{const i=this.ss(s,O0),o=s.filter((u=>i.indexOf(u)===-1));return Q.forEach(o,(u=>r.delete(u.clientId))).next((()=>o))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):Wh(e).get(Au).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,j0)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,L0);return!1}}return!(!this.networkEnabled||!this.inForeground)||um(e).J().next((r=>this.ss(r,j0).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||o&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&le(Ra,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[wf,xc],(e=>{const n=new Xw(e,Ur.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>um(e).J().next((n=>this.ss(n,O0).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Sy.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new tV(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Ey.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){le(Ra,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(function(u){return u===18?ZB:u===17?PD:u===16?JB:u===15?Mx:u===14?ID:u===13?CD:u===12?YB:u===11?_D:void Se(60245)})(this.Ni);let o;return this.Ui.runTransaction(e,s,i,(u=>(o=new Xw(u,this.ci?this.ci.next():Ur.ce),n==="readwrite-primary"?this.Hi(o).next((c=>!!c||this.Yi(o))).next((c=>{if(!c)throw zn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ce(te.FAILED_PRECONDITION,yD);return r(o)})).next((c=>this.Xi(o).next((()=>c)))):this.Is(o).next((()=>r(o)))))).then((u=>(o.raiseOnCommittedEvent(),u)))}Is(e){return Wh(e).get(Au).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,j0)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ce(te.FAILED_PRECONDITION,L0)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wh(e).put(Au,n)}static v(){return Ya.v()}Zi(e){const n=Wh(e);return n.get(Au).next((r=>this.es(r)?(le(Ra,"Releasing primary lease."),n.delete(Au)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(zn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;gP()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return le(Ra,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return zn(Ra,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){zn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wh(t){return dn(t,wf)}function um(t){return dn(t,xc)}function bV(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ke(),s=Ke();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Qx(e,n.fromCache,r,s)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gP()?8:wD(hn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new xV;return this.Ss(e,n,o).next((u=>{if(i.result=u,this.Vs)return this.bs(e,n,o,u.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ju()<=Ge.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Zu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Ju()<=Ge.DEBUG&&le("QueryEngine","Query:",Zu(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ju()<=Ge.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Zu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(n))):Q.resolve())}ys(e,n){if(p_(n))return Q.resolve(null);let r=Kr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=kg(n,null,"F"),r=Kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=Ke(...i);return this.ps.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.Ds(n,u);return this.Cs(n,d,o,c.readTime)?this.ys(e,kg(n,null,"F")):this.vs(e,d,n,c)}))))})))))}ws(e,n,r,s){return p_(n)||s.isEqual(Pe.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?Q.resolve(null):(Ju()<=Ge.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Zu(n)),this.vs(e,o,n,EB(s,Bd)).next((u=>u)))}))}Ds(e,n){let r=new ut(QD(e));return n.forEach(((s,i)=>{Ef(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ju()<=Ge.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Zu(n)),this.ps.getDocumentsMatchingQuery(e,n,Tr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xx="LocalStore",EV=3e8;class SV{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new St(Fe),this.xs=new Qi((i=>Cl(i)),bf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ON(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function LN(t,e,n,r){return new SV(t,e,n,r)}async function FN(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],u=[];let c=Ke();for(const d of s){o.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}for(const d of i){u.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:u})))}))}))}function kV(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,u,c,d){const p=c.batch,g=p.keys();let v=Q.resolve();return g.forEach((S=>{v=v.next((()=>d.getEntry(u,S))).next((C=>{const T=c.docVersions.get(S);Ce(T!==null,48541),C.version.compareTo(T)<0&&(p.applyToRemoteDocument(C,c),C.isValidDocument()&&(C.setReadTime(c.commitVersion),d.addEntry(C)))}))})),v.next((()=>o.mutationQueue.removeMutationBatch(u,p)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let u=Ke();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(u=u.add(o.batch.mutations[c].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function BN(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function TV(t,e){const n=Be(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const v=s.get(g);if(!v)return;u.push(n.Pi.removeMatchingKeys(i,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(i,p.addedDocuments,g))));let S=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?S=S.withResumeToken(an.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):p.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(p.resumeToken,r)),s=s.insert(g,S),(function(C,T,_){return C.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=EV?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(v,S,p)&&u.push(n.Pi.updateTargetData(i,S))}));let c=Er(),d=Ke();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))})),u.push(_V(i,o,e.documentUpdates).next((p=>{c=p.ks,d=p.qs}))),!r.isEqual(Pe.min())){const p=n.Pi.getLastRemoteSnapshotVersion(i).next((g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(p)}return Q.waitFor(u).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,d))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function _V(t,e,n){let r=Ke(),s=Ke();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=Er();return n.forEach(((u,c)=>{const d=i.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(u)),c.isNoDocument()&&c.version.isEqual(Pe.min())?(e.removeEntry(u,c.readTime),o=o.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(u,c)):le(Xx,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)})),{ks:o,qs:s}}))}function CV(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ml),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function IV(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,Q.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new Mi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function cb(t,e,n){const r=Be(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!fo(o))throw o;le(Xx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function K_(t,e,n){const r=Be(t);let s=Pe.min(),i=Ke();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,c,d){const p=Be(u),g=p.xs.get(d);return g!==void 0?Q.resolve(p.Ms.get(g)):p.Pi.getTargetData(c,d)})(r,o,Kr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Pe.min(),n?i:Ke()))).next((u=>(PV(r,p9(e),u),{documents:u,Qs:i})))))}function PV(t,e,n){let r=t.Os.get(e)||Pe.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class W_{constructor(){this.activeTargetIds=b9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VN{constructor(){this.Mo=new W_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new W_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class DV{Oo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const G_="ConnectivityMonitor";class H_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(G_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(G_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let cm=null;function hb(){return cm===null?cm=(function(){return 268435456+Math.round(2147483648*Math.random())})():cm++,"0x"+cm.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const F0="RestConnection",NV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===xg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=hb(),u=this.zo(e,n.toUriEncodedString());le(F0,`Sending RPC '${e}' ${o}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(u),p=Ll(d);return this.Jo(e,u,c,r,p).then((g=>(le(F0,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw Tl(F0,`RPC '${e}' ${o} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Oc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=NV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const An="WebChannelConnection";class RV extends AV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=hb();return new Promise(((u,c)=>{const d=new aD;d.setWithCredentials(!0),d.listenOnce(oD.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Om.NO_ERROR:const g=d.getResponseJson();le(An,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case Om.TIMEOUT:le(An,`RPC '${e}' ${o} timed out`),c(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case Om.HTTP_ERROR:const v=d.getStatus();if(le(An,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let S=d.getResponseJson();Array.isArray(S)&&(S=S[0]);const C=S==null?void 0:S.error;if(C&&C.status&&C.message){const T=(function(_){const D=_.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(D)>=0?D:te.UNKNOWN})(C.status);c(new ce(T,C.message))}else c(new ce(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ce(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{le(An,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(s);le(An,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",p,r,15)}))}T_(e,n,r){const s=hb(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=cD(),u=uD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=i.join("");le(An,`Creating RPC '${e}' stream ${s}: ${p}`,c);const g=o.createWebChannel(p,c);this.I_(g);let v=!1,S=!1;const C=new MV({Yo:_=>{S?le(An,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(v||(le(An,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),le(An,`RPC '${e}' stream ${s} sending:`,_),g.send(_))},Zo:()=>g.close()}),T=(_,D,A)=>{_.listen(D,(O=>{try{A(O)}catch(V){setTimeout((()=>{throw V}),0)}}))};return T(g,fd.EventType.OPEN,(()=>{S||(le(An,`RPC '${e}' stream ${s} transport opened.`),C.o_())})),T(g,fd.EventType.CLOSE,(()=>{S||(S=!0,le(An,`RPC '${e}' stream ${s} transport closed`),C.a_(),this.E_(g))})),T(g,fd.EventType.ERROR,(_=>{S||(S=!0,Tl(An,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),C.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),T(g,fd.EventType.MESSAGE,(_=>{var D;if(!S){const A=_.data[0];Ce(!!A,16349);const O=A,V=(O==null?void 0:O.error)||((D=O[0])==null?void 0:D.error);if(V){le(An,`RPC '${e}' stream ${s} received error:`,V);const U=V.status;let W=(function(I){const N=nn[I];if(N!==void 0)return lN(N)})(U),M=V.message;W===void 0&&(W=te.INTERNAL,M="Unknown error status: "+U+" with message "+V.message),S=!0,C.a_(new ce(W,M)),g.close()}else le(An,`RPC '${e}' stream ${s} received:`,A),C.u_(A)}})),T(u,lD.STAT_EVENT,(_=>{_.stat===$w.PROXY?le(An,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===$w.NOPROXY&&le(An,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function OV(){return typeof window<"u"?window:null}function Km(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ty(t){return new j9(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zN{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Q_="PersistentStream";class UN{constructor(e,n,r,s,i,o,u,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(zn(n.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(Q_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(Q_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jV extends UN{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=B9(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Pe.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?Pe.min():i.readTime?Kn(i.readTime):Pe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ib(this.serializer),n.addTarget=(function(s,i){let o;const u=i.target;if(o=Eg(u)?{documents:gN(s,u)}:{query:yN(s,u).ft},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=hN(s,i.resumeToken);const c=rb(s,i.expectedCount);c!==null&&(o.expectedCount=c)}else if(i.snapshotVersion.compareTo(Pe.min())>0){o.readTime=Pc(s,i.snapshotVersion.toTimestamp());const c=rb(s,i.expectedCount);c!==null&&(o.expectedCount=c)}return o})(this.serializer,e);const r=z9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ib(this.serializer),n.removeTarget=e,this.q_(n)}}class LV extends UN{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=V9(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ib(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>_g(this.serializer,r)))};this.q_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FV{}class BV extends FV{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,sb(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(te.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Ho(e,sb(n,r),s,o,u,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(te.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zn(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Nl="RemoteStore";class zV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{zl(this)&&(le(Nl,"Restarting streams for network reachability change."),await(async function(u){const c=Be(u);c.Ea.add(4),await kf(c),c.Ra.set("Unknown"),c.Ea.delete(4),await _y(c)})(this))}))})),this.Ra=new VV(r,s)}}async function _y(t){if(zl(t))for(const e of t.da)await e(!0)}async function kf(t){for(const e of t.da)await e(!1)}function qN(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),e1(n)?Zx(n):Fc(n).O_()&&Jx(n,e))}function Yx(t,e){const n=Be(t),r=Fc(n);n.Ia.delete(e),r.O_()&&$N(n,e),n.Ia.size===0&&(r.O_()?r.L_():zl(n)&&n.Ra.set("Unknown"))}function Jx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fc(t).Y_(e)}function $N(t,e){t.Va.Ue(e),Fc(t).Z_(e)}function Zx(t){t.Va=new A9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fc(t).start(),t.Ra.ua()}function e1(t){return zl(t)&&!Fc(t).x_()&&t.Ia.size>0}function zl(t){return Be(t).Ea.size===0}function KN(t){t.Va=void 0}async function UV(t){t.Ra.set("Online")}async function qV(t){t.Ia.forEach(((e,n)=>{Jx(t,e)}))}async function $V(t,e){KN(t),e1(t)?(t.Ra.ha(e),Zx(t)):t.Ra.set("Unknown")}async function KV(t,e,n){if(t.Ra.set("Online"),e instanceof cN&&e.state===2&&e.cause)try{await(async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Ia.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Ia.delete(o),r.Va.removeTarget(o))})(t,e)}catch(r){le(Nl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ng(t,r)}else if(e instanceof qm?t.Va.Ze(e):e instanceof uN?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const r=await BN(t.localStore);n.compareTo(r)>=0&&await(function(s,i){const o=s.Va.Tt(i);return o.targetChanges.forEach(((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(u.resumeToken,i))}})),o.targetMismatches.forEach(((u,c)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(an.EMPTY_BYTE_STRING,d.snapshotVersion)),$N(s,u);const p=new Mi(d.target,u,c,d.sequenceNumber);Jx(s,p)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){le(Nl,"Failed to raise snapshot:",r),await Ng(t,r)}}async function Ng(t,e,n){if(!fo(e))throw e;t.Ea.add(1),await kf(t),t.Ra.set("Offline"),n||(n=()=>BN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{le(Nl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await _y(t)}))}function WN(t,e){return e().catch((n=>Ng(t,n,e)))}async function Tf(t){const e=Be(t),n=ro(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ml;for(;WV(e);)try{const s=await CV(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,GV(e,s)}catch(s){await Ng(e,s)}GN(e)&&HN(e)}function WV(t){return zl(t)&&t.Ta.length<10}function GV(t,e){t.Ta.push(e);const n=ro(t);n.O_()&&n.X_&&n.ea(e.mutations)}function GN(t){return zl(t)&&!ro(t).x_()&&t.Ta.length>0}function HN(t){ro(t).start()}async function HV(t){ro(t).ra()}async function QV(t){const e=ro(t);for(const n of t.Ta)e.ea(n.mutations)}async function XV(t,e,n){const r=t.Ta.shift(),s=Vx.from(r,e,n);await WN(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Tf(t)}async function YV(t,e){e&&ro(t).X_&&await(async function(n,r){if((function(s){return P9(s)&&s!==te.ABORTED})(r.code)){const s=n.Ta.shift();ro(n).B_(),await WN(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r))),await Tf(n)}})(t,e),GN(t)&&HN(t)}async function X_(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),le(Nl,"RemoteStore received new credentials");const r=zl(n);n.Ea.add(3),await kf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _y(n)}async function JV(t,e){const n=Be(t);e?(n.Ea.delete(2),await _y(n)):e||(n.Ea.add(2),await kf(n),n.Ra.set("Unknown"))}function Fc(t){return t.ma||(t.ma=(function(e,n,r){const s=Be(e);return s.sa(),new jV(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:UV.bind(null,t),t_:qV.bind(null,t),r_:$V.bind(null,t),H_:KV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),e1(t)?Zx(t):t.Ra.set("Unknown")):(await t.ma.stop(),KN(t))}))),t.ma}function ro(t){return t.fa||(t.fa=(function(e,n,r){const s=Be(e);return s.sa(),new LV(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:HV.bind(null,t),r_:YV.bind(null,t),ta:QV.bind(null,t),na:XV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Tf(t)):(await t.fa.stop(),t.Ta.length>0&&(le(Nl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,u=new t1(e,n,o,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n1(t,e){if(zn("AsyncQueue",`${e}: ${t}`),fo(t))return new ce(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dc{static emptySet(e){return new dc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=pd(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new dc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Y_{constructor(){this.ga=new St(de.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Dc{constructor(e,n,r,s,i,o,u,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((u=>{o.push({type:0,doc:u})})),new Dc(e,n,dc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ZV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ez{constructor(){this.queries=J_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const r=Be(e),s=r.queries;r.queries=J_(),s.forEach(((i,o)=>{for(const u of o.Sa)u.onError(n)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function J_(){return new Qi((t=>HD(t)),yy)}async function r1(t,e){const n=Be(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new ZV,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const u=n1(o,`Initialization of query '${Zu(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&i1(n)}async function s1(t,e){const n=Be(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tz(t,e){const n=Be(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const u of o.Sa)u.Fa(s)&&(r=!0);o.wa=s}}r&&i1(n)}function nz(t,e,n){const r=Be(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function i1(t){t.Ca.forEach((e=>{e.next()}))}var db,Z_;(Z_=db||(db={})).Ma="default",Z_.Cache="cache";class a1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==db.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class QN{constructor(e){this.key=e}}class XN{constructor(e){this.key=e}}class rz{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=QD(e),this.tu=new dc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Y_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,u=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,g)=>{const v=s.get(p),S=Ef(this.query,g)?g:null,C=!!v&&this.mutatedKeys.has(v.key),T=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let _=!1;v&&S?v.data.isEqual(S.data)?C!==T&&(r.track({type:3,doc:S}),_=!0):this.su(v,S)||(r.track({type:2,doc:S}),_=!0,(c&&this.eu(S,c)>0||d&&this.eu(S,d)<0)&&(u=!0)):!v&&S?(r.track({type:0,doc:S}),_=!0):v&&!S&&(r.track({type:1,doc:v}),_=!0,(c||d)&&(u=!0)),_&&(S?(o=o.add(S),i=T?i.add(p):i.delete(p)):(o=o.delete(p),i=i.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{tu:o,iu:r,Cs:u,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((p,g)=>(function(v,S){const C=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:T})}};return C(v)-C(S)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new Dc(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Y_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new XN(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new QN(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Dc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const o1="SyncEngine";class sz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iz{constructor(e){this.key=e,this.hu=!1}}class az{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Qi((u=>HD(u)),yy),this.Iu=new Map,this.Eu=new Set,this.du=new St(de.comparator),this.Au=new Map,this.Ru=new Wx,this.Vu={},this.mu=new Map,this.fu=Dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oz(t,e,n=!0){const r=nA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await YN(r,e,n,!0),s}async function lz(t,e){const n=nA(t);await YN(n,e,!0,!1)}async function YN(t,e,n,r){const s=await IV(t.localStore,Kr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await uz(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&qN(t.remoteStore,s),u}async function uz(t,e,n,r,s){t.pu=(g,v,S)=>(async function(C,T,_,D){let A=T.view.ru(_);A.Cs&&(A=await K_(C.localStore,T.query,!1).then((({documents:W})=>T.view.ru(W,A))));const O=D&&D.targetChanges.get(T.targetId),V=D&&D.targetMismatches.get(T.targetId)!=null,U=T.view.applyChanges(A,C.isPrimaryClient,O,V);return tC(C,T.targetId,U.au),U.snapshot})(t,g,v,S);const i=await K_(t.localStore,e,!0),o=new rz(e,i.Qs),u=o.ru(i.documents),c=Sf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(u,t.isPrimaryClient,c);tC(t,n,d.au);const p=new sz(e,n,o);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function cz(t,e,n){const r=Be(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!yy(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await cb(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Yx(r.remoteStore,s.targetId),fb(r,s.targetId)})).catch(Vl)):(fb(r,s.targetId),await cb(r.localStore,s.targetId,!0))}async function hz(t,e){const n=Be(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yx(n.remoteStore,r.targetId))}async function dz(t,e,n){const r=rA(t);try{const s=await(function(i,o){const u=Be(i),c=rt.now(),d=o.reduce(((v,S)=>v.add(S.key)),Ke());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let S=Er(),C=Ke();return u.Ns.getEntries(v,d).next((T=>{S=T,S.forEach(((_,D)=>{D.isValidDocument()||(C=C.add(_))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,S))).next((T=>{p=T;const _=[];for(const D of o){const A=C9(D,p.get(D.key).overlayedDocument);A!=null&&_.push(new Xi(D.key,A,BD(A.value.mapValue),On.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,_,o)})).next((T=>{g=T;const _=T.applyToLocalDocumentSet(p,C);return u.documentOverlayCache.saveOverlays(v,T.batchId,_)}))})).then((()=>({batchId:g.batchId,changes:YD(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(i,o,u){let c=i.Vu[i.currentUser.toKey()];c||(c=new St(Fe)),c=c.insert(o,u),i.Vu[i.currentUser.toKey()]=c})(r,s.batchId,n),await _f(r,s.changes),await Tf(r.remoteStore)}catch(s){const i=n1(s,"Failed to persist write");n.reject(i)}}async function JN(t,e){const n=Be(t);try{const r=await TV(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ce(o.hu,14607):s.removedDocuments.size>0&&(Ce(o.hu,42227),o.hu=!1))})),await _f(n,r,e)}catch(r){await Vl(r)}}function eC(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const u=o.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(i,o){const u=Be(i);u.onlineState=o;let c=!1;u.queries.forEach(((d,p)=>{for(const g of p.Sa)g.va(o)&&(c=!0)})),c&&i1(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fz(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new St(de.comparator);o=o.insert(i,Rt.newNoDocument(i,Pe.min()));const u=Ke().add(i),c=new xy(Pe.min(),new Map,new St(Fe),o,u);await JN(r,c),r.du=r.du.remove(i),r.Au.delete(e),l1(r)}else await cb(r.localStore,e,!1).then((()=>fb(r,e,n))).catch(Vl)}async function pz(t,e){const n=Be(t),r=e.batch.batchId;try{const s=await kV(n.localStore,e);eA(n,r,null),ZN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _f(n,s)}catch(s){await Vl(s)}}async function mz(t,e,n){const r=Be(t);try{const s=await(function(i,o){const u=Be(i);return u.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let d;return u.mutationQueue.lookupMutationBatch(c,o).next((p=>(Ce(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p)))).next((()=>u.mutationQueue.performConsistencyCheck(c))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,o))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d))).next((()=>u.localDocuments.getDocuments(c,d)))}))})(r.localStore,e);eA(r,e,n),ZN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _f(r,s)}catch(s){await Vl(s)}}function ZN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function eA(t,e,n){const r=Be(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function fb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||tA(t,r)}))}function tA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Yx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),l1(t))}function tC(t,e,n){for(const r of n)r instanceof QN?(t.Ru.addReference(r.key,e),gz(t,r)):r instanceof XN?(le(o1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||tA(t,r.key)):Se(19791,{wu:r})}function gz(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(le(o1,"New document in limbo: "+n),t.Eu.add(r),l1(t))}function l1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new de(at.fromString(e)),r=t.fu.next();t.Au.set(r,new iz(n)),t.du=t.du.insert(n,r),qN(t.remoteStore,new Mi(Kr(xf(n.path)),r,"TargetPurposeLimboResolution",Ur.ce))}}async function _f(t,e,n){const r=Be(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{o.push(r.pu(c,e,n).then((d=>{var p;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(d){s.push(d);const g=Qx.As(c.targetId,d);i.push(g)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(u,c){const d=Be(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Q.forEach(c,(g=>Q.forEach(g.Es,(v=>d.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>Q.forEach(g.ds,(v=>d.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!fo(p))throw p;le(Xx,"Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const v=d.Ms.get(g),S=v.snapshotVersion,C=v.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(g,C)}}})(r.localStore,i))}async function yz(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){le(o1,"User change. New user:",e.toKey());const r=await FN(n.localStore,e);n.currentUser=e,(function(s,i){s.mu.forEach((o=>{o.forEach((u=>{u.reject(new ce(te.CANCELLED,i))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _f(n,r.Ls)}}function vz(t,e){const n=Be(t),r=n.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let s=Ke();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const u=n.Tu.get(o);s=s.unionWith(u.view.nu)}return s}}function nA(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fz.bind(null,e),e.Pu.H_=tz.bind(null,e.eventManager),e.Pu.yu=nz.bind(null,e.eventManager),e}function rA(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mz.bind(null,e),e}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ty(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LN(this.persistence,new jN,e.initialUser,this.serializer)}Cu(e){return new Gx(ky.mi,this.serializer)}Du(e){return new VN}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class wz extends Yd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ce(this.persistence.referenceDelegate instanceof Dg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NN(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new Gx((r=>Dg.mi(r,n)),this.serializer)}}class bz extends Yd{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await rA(this.xu.syncEngine),await Tf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return LN(this.persistence,new jN,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new NN(r,e.asyncQueue,n)}Mu(e,n){const r=new _B(n,this.persistence);return new TB(e.asyncQueue,r)}Cu(e){const n=bV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new Hx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,OV(),Km(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new VN}}class Ag{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yz.bind(null,this.syncEngine),await JV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ez})()}createDatastore(e){const n=Ty(e.databaseInfo.databaseId),r=(function(s){return new RV(s)})(e.databaseInfo);return(function(s,i,o,u){return new BV(s,i,o,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(n,r,s,i,o){return new zV(n,r,s,i,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>eC(this.syncEngine,n,0)),(function(){return H_.v()?new H_:new DV})())}createSyncEngine(e,n){return(function(r,s,i,o,u,c,d){const p=new az(r,s,i,o,u,c);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(r){const s=Be(r);le(Nl,"RemoteStore shutting down."),s.Ea.add(5),await kf(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ag.provider={build:()=>new Ag};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class u1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const so="FirestoreClient";class xz{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=kn.UNAUTHENTICATED,this.clientId=Cx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{le(so,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(le(so,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=n1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function B0(t,e){t.asyncQueue.verifyOperationInProgress(),le(so,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await FN(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function nC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ez(t);le(so,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>X_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>X_(e.remoteStore,s))),t._onlineComponents=e}async function Ez(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(so,"Using user provided OfflineComponentProvider");try{await B0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===te.FAILED_PRECONDITION||r.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;Tl("Error using user provided cache. Falling back to memory cache: "+n),await B0(t,new Yd)}}else le(so,"Using default OfflineComponentProvider"),await B0(t,new wz(void 0));return t._offlineComponents}async function sA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(so,"Using user provided OnlineComponentProvider"),await nC(t,t._uninitializedComponentsProvider._online)):(le(so,"Using default OnlineComponentProvider"),await nC(t,new Ag))),t._onlineComponents}function Sz(t){return sA(t).then((e=>e.syncEngine))}async function Mg(t){const e=await sA(t),n=e.eventManager;return n.onListen=oz.bind(null,e.syncEngine),n.onUnlisten=cz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hz.bind(null,e.syncEngine),n}function kz(t,e,n={}){const r=new Ws;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,o,u,c){const d=new u1({next:g=>{d.Nu(),i.enqueueAndForget((()=>s1(s,p)));const v=g.docs.has(o);!v&&g.fromCache?c.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&u&&u.source==="server"?c.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new a1(xf(o.path),d,{includeMetadataChanges:!0,qa:!0});return r1(s,p)})(await Mg(t),t.asyncQueue,e,n,r))),r.promise}function Tz(t,e,n={}){const r=new Ws;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,o,u,c){const d=new u1({next:g=>{d.Nu(),i.enqueueAndForget((()=>s1(s,p))),g.fromCache&&u.source==="server"?c.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new a1(o,d,{includeMetadataChanges:!0,qa:!0});return r1(s,p)})(await Mg(t),t.asyncQueue,e,n,r))),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function iA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rC=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aA="firestore.googleapis.com",sC=!0;class iC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aA,this.ssl=sC}else this.host=e.host,this.ssl=e.ssl??sC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rV)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iA(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new cB;switch(n.type){case"firstParty":return new pB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=rC.get(e);n&&(le("ComponentProvider","Removing Datastore"),rC.delete(e),n.terminate())})(this),Promise.resolve()}}function _z(t,e,n,r={}){var s;t=$n(t,Cy);const i=Ll(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(fx(`https://${c}`),px("Firestore",!0)),o.host!==aA&&o.host!==c&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:c,ssl:i,emulatorOptions:r};if(!eo(d,u)&&(t._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=kn.MOCK_USER;else{p=pP(r.mockUserToken,(s=t._app)==null?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new kn(v)}t._authCredentials=new hB(new dD(p,g))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Ul=class oA{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oA(this.firestore,e,this._query)}};class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(vf(n,Ot._jsonSchema))return new Ot(e,r||null,new de(at.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:sn("string",Ot._jsonSchemaVersion),referencePath:sn("string")};class Ja extends Ul{constructor(e,n,r){super(e,n,xf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new de(e))}withConverter(e){return new Ja(this.firestore,e,this._path)}}function Fn(t,e,...n){if(t=Pt(t),pD("collection","path",e),t instanceof Cy){const r=at.fromString(e,...n);return QT(r),new Ja(t,null,r)}{if(!(t instanceof Ot||t instanceof Ja))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return QT(r),new Ja(t.firestore,null,r)}}function si(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=Cx.newId()),pD("doc","path",e),t instanceof Cy){const r=at.fromString(e,...n);return HT(r),new Ot(t,null,new de(r))}{if(!(t instanceof Ot||t instanceof Ja))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return HT(r),new Ot(t.firestore,t instanceof Ja?t.converter:null,new de(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aC="AsyncQueue";class oC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zN(this,"async_queue_retry"),this._c=()=>{const r=Km();r&&le(aC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ws;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fo(e))throw e;le(aC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zn("INTERNAL UNHANDLED ERROR: ",lC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=t1.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Se(47125,{Pc:lC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function lC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uC(t){return(function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1})(t,["next","error","complete"])}class ei extends Cy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new oC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oC(e),this._firestoreClient=void 0,await e}}}function Iy(t,e){const n=typeof t=="object"?t:sy(),r=typeof t=="string"?t:xg,s=co(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=hP("firestore");i&&_z(s,...i)}return s}function Py(t){if(t._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lA(t),t._firestoreClient}function lA(t){var e,n,r;const s=t._freezeSettings(),i=(function(o,u,c,d){return new t9(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,iA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,((e=t._app)==null?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||(n=s.localCache)!=null&&n._offlineComponentProvider&&(r=s.localCache)!=null&&r._onlineComponentProvider&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new xz(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}})(t._componentsProvider))}function Cz(t,e){Tl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return Iz(t,Ag.provider,{build:r=>new bz(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function Iz(t,e,n){if((t=$n(t,ei))._firestoreClient||t._terminated)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ce(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},lA(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zr(an.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zr(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vf(e,zr._jsonSchema))return zr.fromBase64String(e.bytes)}}zr._jsonSchemaVersion="firestore/bytes/1.0",zr._jsonSchema={type:sn("string",zr._jsonSchemaVersion),bytes:sn("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ny{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gs._jsonSchemaVersion}}static fromJSON(e){if(vf(e,Gs._jsonSchema))return new Gs(e.latitude,e.longitude)}}Gs._jsonSchemaVersion="firestore/geoPoint/1.0",Gs._jsonSchema={type:sn("string",Gs._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vf(e,Hs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Hs(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hs._jsonSchemaVersion="firestore/vectorValue/1.0",Hs._jsonSchema={type:sn("string",Hs._jsonSchemaVersion),vectorValues:sn("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pz=/^__.*__$/;class Dz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lc(e,this.data,n,this.fieldTransforms)}}class uA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class c1{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new c1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(cA(this.Ac)&&Pz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Nz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ty(e)}Cc(e,n,r,s=!1){return new c1({Ac:e,methodName:n,Dc:r,path:_t.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ay(t){const e=t._freezeSettings(),n=Ty(t._databaseId);return new Nz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hA(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);d1("Data must be an object, but it was:",o,r);const u=dA(r,o);let c,d;if(i.merge)c=new ir(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const p=[];for(const g of i.mergeFields){const v=pb(e,g,n);if(!o.contains(v))throw new ce(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);pA(p,v)||p.push(v)}c=new ir(p),d=o.fieldTransforms.filter((g=>c.covers(g.field)))}else c=null,d=o.fieldTransforms;return new Dz(new Rn(u),c,d)}class My extends Ny{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof My}}class h1 extends Ny{_toFieldTransform(e){return new sN(e.path,new _c)}isEqual(e){return e instanceof h1}}function Az(t,e,n,r){const s=t.Cc(1,e,n);d1("Data must be an object, but it was:",s,r);const i=[],o=Rn.empty();po(r,((c,d)=>{const p=f1(e,c,n);d=Pt(d);const g=s.yc(p);if(d instanceof My)i.push(p);else{const v=Cf(d,g);v!=null&&(i.push(p),o.set(p,v))}}));const u=new ir(i);return new uA(o,u,s.fieldTransforms)}function Mz(t,e,n,r,s,i){const o=t.Cc(1,e,n),u=[pb(e,r,n)],c=[s];if(i.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)u.push(pb(e,i[v])),c.push(i[v+1]);const d=[],p=Rn.empty();for(let v=u.length-1;v>=0;--v)if(!pA(d,u[v])){const S=u[v];let C=c[v];C=Pt(C);const T=o.yc(S);if(C instanceof My)d.push(S);else{const _=Cf(C,T);_!=null&&(d.push(S),p.set(S,_))}}const g=new ir(d);return new uA(p,g,o.fieldTransforms)}function Rz(t,e,n,r=!1){return Cf(n,t.Cc(r?4:3,e))}function Cf(t,e){if(fA(t=Pt(t)))return d1("Unsupported field value:",e,t),dA(t,e);if(t instanceof Ny)return(function(n,r){if(!cA(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,r){const s=[];let i=0;for(const o of n){let u=Cf(o,r.wc(i));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),i++}return{arrayValue:{values:s}}})(t,e)}return(function(n,r){if((n=Pt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return x9(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=rt.fromDate(n);return{timestampValue:Pc(r.serializer,s)}}if(n instanceof rt){const s=new rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Pc(r.serializer,s)}}if(n instanceof Gs)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof zr)return{bytesValue:hN(r.serializer,n._byteString)};if(n instanceof Ot){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qx(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof Hs)return(function(s,i){return{mapValue:{fields:{[Ox]:{stringValue:jx},[Ec]:{arrayValue:{values:s.toArray().map((o=>{if(typeof o!="number")throw i.Sc("VectorValues must only contain numeric values.");return Fx(i.serializer,o)}))}}}}}})(n,r);throw r.Sc(`Unsupported field value: ${uy(n)}`)})(t,e)}function dA(t,e){const n={};return DD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(t,((r,s)=>{const i=Cf(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function fA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Gs||t instanceof zr||t instanceof Ot||t instanceof Ny||t instanceof Hs)}function d1(t,e,n){if(!fA(n)||!mD(n)){const r=uy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function pb(t,e,n){if((e=Pt(e))instanceof Dy)return e._internalPath;if(typeof e=="string")return f1(t,e);throw Rg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Oz=new RegExp("[~\\*/\\[\\]]");function f1(t,e,n){if(e.search(Oz)>=0)throw Rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dy(...e.split("."))._internalPath}catch{throw Rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rg(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ce(te.INVALID_ARGUMENT,u+t+c)}function pA(t,e){return t.some((n=>n.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ry("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jz extends mA{data(){return super.data()}}function Ry(t,e){return typeof e=="string"?f1(t,e):e instanceof Dy?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p1{}class m1 extends p1{}function fs(t,e,...n){let r=[];e instanceof p1&&r.push(e),r=r.concat(n),(function(s){const i=s.filter((u=>u instanceof g1)).length,o=s.filter((u=>u instanceof Oy)).length;if(i>1||i>0&&o>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Oy extends m1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Oy(e,n,r)}_apply(e){const n=this._parse(e);return yA(e._query,n),new Ul(e.firestore,e.converter,nb(e._query,n))}_parse(e){const n=Ay(e.firestore);return(function(r,s,i,o,u,c,d){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){hC(d,c);const g=[];for(const v of d)g.push(cC(o,r,v));p={arrayValue:{values:g}}}else p=cC(o,r,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||hC(d,c),p=Rz(i,s,d,c==="in"||c==="not-in");return He.create(u,c,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function qr(t,e,n){const r=e,s=Ry("where",t);return Oy._create(s,r,n)}class g1 extends p1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new g1(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:lt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,s){let i=r;const o=s.getFlattenedFilters();for(const u of o)yA(i,u),i=nb(i,u)})(e._query,n),new Ul(e.firestore,e.converter,nb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class y1 extends m1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new y1(e,n)}_apply(e){const n=(function(r,s,i){if(r.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qd(s,i)})(e._query,this._field,this._direction);return new Ul(e.firestore,e.converter,(function(r,s){const i=r.explicitOrderBy.concat([s]);return new jc(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,n))}}function Bc(t,e="asc"){const n=e,r=Ry("orderBy",t);return y1._create(r,n)}class v1 extends m1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new v1(e,n,r)}_apply(e){return new Ul(e.firestore,e.converter,kg(e._query,this._limit,this._limitType))}}function w1(t){return xB("limit",t),v1._create("limit",t,"F")}function cC(t,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GD(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!de.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gd(t,new de(r))}if(n instanceof Ot)return Gd(t,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uy(n)}.`)}function hC(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yA(t,e){const n=(function(r,s){for(const i of r)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Lz{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return po(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)==null?void 0:n[Ec].arrayValue)==null?void 0:r.values)==null?void 0:s.map((o=>xt(o.doubleValue)));return new Hs(i)}convertGeoPoint(e){return new Gs(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=my(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kd(e));default:return null}}convertTimestamp(e){const n=Bi(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Ce(xN(r),9688,{name:e});const s=new _l(r.get(1),r.get(3)),i=new de(r.popFirst(5));return s.isEqual(n)||zn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class yd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vl extends mA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ry("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),n}}vl._jsonSchemaVersion="firestore/documentSnapshot/1.0",vl._jsonSchema={type:sn("string",vl._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class Wm extends vl{data(e={}){return super.data(e)}}class wl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new yd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Wm(this._firestore,this._userDataWriter,r.key,r,new yd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map((o=>{const u=new Wm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new yd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:i++}}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const u=new Wm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new yd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),d=i.indexOf(o.doc.key)),{type:Fz(o.type),doc:u,oldIndex:c,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Fz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wA(t){t=$n(t,Ot);const e=$n(t.firestore,ei);return kz(Py(e),t._key).then((n=>xA(e,t,n)))}wl._jsonSchemaVersion="firestore/querySnapshot/1.0",wl._jsonSchema={type:sn("string",wl._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class b1 extends Lz{constructor(e){super(),this.firestore=e}convertBytes(e){return new zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function ps(t){t=$n(t,Ul);const e=$n(t.firestore,ei),n=Py(e),r=new b1(e);return gA(t._query),Tz(n,t._query).then((s=>new wl(e,r,t,s)))}function jy(t,e,n){t=$n(t,Ot);const r=$n(t.firestore,ei),s=vA(t.converter,e,n);return Fy(r,[hA(Ay(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,On.none())])}function Ly(t,e,n,...r){t=$n(t,Ot);const s=$n(t.firestore,ei),i=Ay(s);let o;return o=typeof(e=Pt(e))=="string"||e instanceof Dy?Mz(i,"updateDoc",t._key,e,n,r):Az(i,"updateDoc",t._key,e),Fy(s,[o.toMutation(t._key,On.exists(!0))])}function Nne(t){return Fy($n(t.firestore,ei),[new by(t._key,On.none())])}function x1(t,e){const n=$n(t.firestore,ei),r=si(t),s=vA(t.converter,e);return Fy(n,[hA(Ay(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,On.exists(!1))]).then((()=>r))}function bA(t,...e){var n,r,s;t=Pt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||uC(e[o])||(i=e[o++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(uC(e[o])){const g=e[o];e[o]=(n=g.next)==null?void 0:n.bind(g),e[o+1]=(r=g.error)==null?void 0:r.bind(g),e[o+2]=(s=g.complete)==null?void 0:s.bind(g)}let c,d,p;if(t instanceof Ot)d=$n(t.firestore,ei),p=xf(t._key.path),c={next:g=>{e[o]&&e[o](xA(d,t,g))},error:e[o+1],complete:e[o+2]};else{const g=$n(t,Ul);d=$n(g.firestore,ei),p=g._query;const v=new b1(d);c={next:S=>{e[o]&&e[o](new wl(d,v,g,S))},error:e[o+1],complete:e[o+2]},gA(t._query)}return(function(g,v,S,C){const T=new u1(C),_=new a1(v,T,S);return g.asyncQueue.enqueueAndForget((async()=>r1(await Mg(g),_))),()=>{T.Nu(),g.asyncQueue.enqueueAndForget((async()=>s1(await Mg(g),_)))}})(Py(d),p,u,c)}function Fy(t,e){return(function(n,r){const s=new Ws;return n.asyncQueue.enqueueAndForget((async()=>dz(await Sz(n),r,s))),s.promise})(Py(t),e)}function xA(t,e,n){const r=n.docs.get(e._key),s=new b1(t);return new vl(t,s,e._key,r,new yd(n.hasPendingWrites,n.fromCache),e.converter)}function Un(){return new h1("serverTimestamp")}(function(t,e=!0){(function(n){Oc=n})(Bl),hs(new Hr("firestore",((n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new ei(new dB(n.getProvider("auth-internal")),new mB(i,n.getProvider("app-check-internal")),(function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _l(u.options.projectId,c)})(i,r),i);return s={useFetchStreams:e,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),or($T,KT,t),or($T,KT,"esm2020")})();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const EA="firebasestorage.googleapis.com",Bz="storageBucket",Vz=120*1e3,zz=600*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ii extends Qr{constructor(e,n,r=0){super(V0(e),`Firebase Storage: ${n} (${V0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ii.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return V0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ti;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ti||(ti={}));function V0(t){return"storage/"+t}function Uz(){const t="An unknown error occurred, please check the error payload for server response.";return new ii(ti.UNKNOWN,t)}function qz(){return new ii(ti.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $z(){return new ii(ti.CANCELED,"User canceled the upload/download.")}function Kz(t){return new ii(ti.INVALID_URL,"Invalid URL '"+t+"'.")}function Wz(t){return new ii(ti.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dC(t){return new ii(ti.INVALID_ARGUMENT,t)}function SA(){return new ii(ti.APP_DELETED,"The Firebase app was deleted.")}function Gz(t){return new ii(ti.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=cs.makeFromUrl(e,n)}catch{return new cs(e,"")}if(r.path==="")return r;throw Wz(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(O){O.path_=decodeURIComponent(O.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",S=new RegExp(`^https?://${g}/${p}/b/${s}/o${v}`,"i"),C={bucket:1,path:3},T=n===EA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",D=new RegExp(`^https?://${T}/${s}/${_}`,"i"),A=[{regex:u,indices:c,postModify:i},{regex:S,indices:C,postModify:d},{regex:D,indices:{bucket:1,path:2},postModify:d}];for(let O=0;O<A.length;O++){const V=A[O],U=V.regex.exec(e);if(U){const W=U[V.indices.bucket];let M=U[V.indices.path];M||(M=""),r=new cs(W,M),V.postModify(r);break}}if(r==null)throw Kz(e);return r}}class Hz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Qz(t,e,n){let r=1,s=null,i=null,o=!1,u=0;function c(){return u===2}let d=!1;function p(..._){d||(d=!0,e.apply(null,_))}function g(_){s=setTimeout(()=>{s=null,t(S,c())},_)}function v(){i&&clearTimeout(i)}function S(_,...D){if(d){v();return}if(_){v(),p.call(null,_,...D);return}if(c()||o){v(),p.call(null,_,...D);return}r<64&&(r*=2);let A;u===1?(u=2,A=0):A=(r+Math.random())*1e3,g(A)}let C=!1;function T(_){C||(C=!0,v(),!d&&(s!==null?(_||(u=2),clearTimeout(s),g(0)):_||(u=1)))}return g(0),i=setTimeout(()=>{o=!0,T(!0)},n),T}function Xz(t){t(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Yz(t){return t!==void 0}function fC(t,e,n,r){if(r<e)throw dC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dC(`Invalid value for '${t}'. Expected ${n} or less.`)}function Jz(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Og;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Og||(Og={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Zz(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class e8{constructor(e,n,r,s,i,o,u,c,d,p,g,v=!0,S=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,T)=>{this.resolve_=C,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new hm(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=u=>{const c=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const u=i.getErrorCode()===Og.NO_ERROR,c=i.getStatus();if(!u||Zz(c,this.additionalRetryCodes_)&&this.retry){const p=i.getErrorCode()===Og.ABORT;r(!1,new hm(!1,null,p));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new hm(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());Yz(c)?i(c):i()}catch(c){o(c)}else if(u!==null){const c=Uz();c.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,c)):o(c)}else if(s.canceled){const c=this.appDelete_?SA():$z();o(c)}else{const c=qz();o(c)}};this.canceled_?n(!1,new hm(!1,null,!0)):this.backoffId_=Qz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Xz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function t8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function n8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function r8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function s8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function i8(t,e,n,r,s,i,o=!0,u=!1){const c=Jz(t.urlParams),d=t.url+c,p=Object.assign({},t.headers);return r8(p,e),t8(p,n),n8(p,i),s8(p,r),new e8(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,u)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function a8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function o8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jg{constructor(e,n){this._service=e,n instanceof cs?this._location=n:this._location=cs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new jg(e,n)}get root(){const e=new cs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return o8(this._location.path)}get storage(){return this._service}get parent(){const e=a8(this._location.path);if(e===null)return null;const n=new cs(this._location.bucket,e);return new jg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Gz(e)}}function pC(t,e){const n=e==null?void 0:e[Bz];return n==null?null:cs.makeFromBucketSpec(n,t)}function l8(t,e,n,r={}){t.host=`${e}:${n}`;const s=Ll(e);s&&(fx(`https://${t.host}/b`),px("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:pP(i,t.app.options.projectId))}class u8{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=EA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Vz,this._maxUploadRetryTime=zz,this._requests=new Set,s!=null?this._bucket=cs.makeFromBucketSpec(s,this._host):this._bucket=pC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cs.makeFromBucketSpec(this._url,e):this._bucket=pC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jg(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Hz(SA());{const o=i8(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const mC="@firebase/storage",gC="0.14.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kA="storage";function c8(t=sy(),e){t=Pt(t);const n=co(t,kA).getImmediate({identifier:e}),r=hP("storage");return r&&h8(n,...r),n}function h8(t,e,n,r={}){l8(t,e,n,r)}function d8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new u8(n,r,s,e,Bl)}function f8(){hs(new Hr(kA,d8,"PUBLIC").setMultipleInstances(!0)),or(mC,gC,""),or(mC,gC,"esm2020")}f8();const TA="@firebase/installations",E1="0.6.19";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _A=1e4,CA=`w:${E1}`,IA="FIS_v2",p8="https://firebaseinstallations.googleapis.com/v1",m8=3600*1e3,g8="installations",y8="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const v8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Al=new Fl(g8,y8,v8);function PA(t){return t instanceof Qr&&t.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function DA({projectId:t}){return`${p8}/projects/${t}/installations`}function NA(t){return{token:t.token,requestStatus:2,expiresIn:b8(t.expiresIn),creationTime:Date.now()}}async function AA(t,e){const n=(await e.json()).error;return Al.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function MA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function w8(t,{refreshToken:e}){const n=MA(t);return n.append("Authorization",x8(e)),n}async function RA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function b8(t){return Number(t.replace("s","000"))}function x8(t){return`${IA} ${t}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function E8({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=DA(t),s=MA(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:IA,appId:t.appId,sdkVersion:CA},u={method:"POST",headers:s,body:JSON.stringify(o)},c=await RA(()=>fetch(r,u));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:NA(d.authToken)}}else throw await AA("Create Installation",c)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function OA(t){return new Promise(e=>{setTimeout(e,t)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function S8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const k8=/^[cdef][\w-]{21}$/,mb="";function T8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=_8(t);return k8.test(e)?e:mb}catch{return mb}}function _8(t){return S8(t).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function By(t){return`${t.appName}!${t.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jA=new Map;function LA(t,e){const n=By(t);FA(n,e),C8(n,e)}function FA(t,e){const n=jA.get(t);if(n)for(const r of n)r(e)}function C8(t,e){const n=I8();n&&n.postMessage({key:t,fid:e}),P8()}let cl=null;function I8(){return!cl&&"BroadcastChannel"in self&&(cl=new BroadcastChannel("[Firebase] FID Change"),cl.onmessage=t=>{FA(t.data.key,t.data.fid)}),cl}function P8(){jA.size===0&&cl&&(cl.close(),cl=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const D8="firebase-installations-database",N8=1,Ml="firebase-installations-store";let z0=null;function S1(){return z0||(z0=xP(D8,N8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ml)}}})),z0}async function Lg(t,e){const n=By(t),r=(await S1()).transaction(Ml,"readwrite"),s=r.objectStore(Ml),i=await s.get(n);return await s.put(e,n),await r.done,(!i||i.fid!==e.fid)&&LA(t,e.fid),e}async function BA(t){const e=By(t),n=(await S1()).transaction(Ml,"readwrite");await n.objectStore(Ml).delete(e),await n.done}async function Vy(t,e){const n=By(t),r=(await S1()).transaction(Ml,"readwrite"),s=r.objectStore(Ml),i=await s.get(n),o=e(i);return o===void 0?await s.delete(n):await s.put(o,n),await r.done,o&&(!i||i.fid!==o.fid)&&LA(t,o.fid),o}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function k1(t){let e;const n=await Vy(t.appConfig,r=>{const s=A8(r),i=M8(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===mb?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function A8(t){const e=t||{fid:T8(),registrationStatus:0};return VA(e)}function M8(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Al.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=R8(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:O8(t)}:{installationEntry:e}}async function R8(t,e){try{const n=await E8(t,e);return Lg(t.appConfig,n)}catch(n){throw PA(n)&&n.customData.serverCode===409?await BA(t.appConfig):await Lg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function O8(t){let e=await yC(t.appConfig);for(;e.registrationStatus===1;)await OA(100),e=await yC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await k1(t);return r||n}return e}function yC(t){return Vy(t,e=>{if(!e)throw Al.create("installation-not-found");return VA(e)})}function VA(t){return j8(t)?{fid:t.fid,registrationStatus:0}:t}function j8(t){return t.registrationStatus===1&&t.registrationTime+_A<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function L8({appConfig:t,heartbeatServiceProvider:e},n){const r=F8(t,n),s=w8(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:CA,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(o)},c=await RA(()=>fetch(r,u));if(c.ok){const d=await c.json();return NA(d)}else throw await AA("Generate Auth Token",c)}function F8(t,{fid:e}){return`${DA(t)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function T1(t,e=!1){let n;const r=await Vy(t.appConfig,s=>{if(!zA(s))throw Al.create("not-registered");const i=s.authToken;if(!e&&z8(i))return s;if(i.requestStatus===1)return n=B8(t,e),s;{if(!navigator.onLine)throw Al.create("app-offline");const o=q8(s);return n=V8(t,o),o}});return n?await n:r.authToken}async function B8(t,e){let n=await vC(t.appConfig);for(;n.authToken.requestStatus===1;)await OA(100),n=await vC(t.appConfig);const r=n.authToken;return r.requestStatus===0?T1(t,e):r}function vC(t){return Vy(t,e=>{if(!zA(e))throw Al.create("not-registered");const n=e.authToken;return $8(n)?{...e,authToken:{requestStatus:0}}:e})}async function V8(t,e){try{const n=await L8(t,e),r={...e,authToken:n};return await Lg(t.appConfig,r),n}catch(n){if(PA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await BA(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Lg(t.appConfig,r)}throw n}}function zA(t){return t!==void 0&&t.registrationStatus===2}function z8(t){return t.requestStatus===2&&!U8(t)}function U8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+m8}function q8(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function $8(t){return t.requestStatus===1&&t.requestTime+_A<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function K8(t){const e=t,{installationEntry:n,registrationPromise:r}=await k1(e);return r?r.catch(console.error):T1(e).catch(console.error),n.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function W8(t,e=!1){const n=t;return await G8(n),(await T1(n,e)).token}async function G8(t){const{registrationPromise:e}=await k1(t);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function H8(t){if(!t||!t.options)throw U0("App Configuration");if(!t.name)throw U0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw U0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function U0(t){return Al.create("missing-app-config-values",{valueName:t})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const UA="installations",Q8="installations-internal",X8=t=>{const e=t.getProvider("app").getImmediate(),n=H8(e),r=co(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Y8=t=>{const e=t.getProvider("app").getImmediate(),n=co(e,UA).getImmediate();return{getId:()=>K8(n),getToken:r=>W8(n,r)}};function J8(){hs(new Hr(UA,X8,"PUBLIC")),hs(new Hr(Q8,Y8,"PRIVATE"))}J8();or(TA,E1);or(TA,E1,"esm2020");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fg="analytics",Z8="firebase_id",eU="origin",tU=60*1e3,nU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_1="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Wn=new ry("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sr=new Fl("analytics","Analytics",rU);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sU(t){if(!t.startsWith(_1)){const e=Sr.create("invalid-gtag-resource",{gtagURL:t});return Wn.warn(e.message),""}return t}function qA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function iU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function aU(t,e){const n=iU("firebase-js-sdk-policy",{createScriptURL:sU}),r=document.createElement("script"),s=`${_1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function oU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function lU(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const u=(await qA(n)).find(c=>c.measurementId===s);u&&await e[u.appId]}}catch(u){Wn.error(u)}t("config",s,i)}async function uU(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const u=await qA(n);for(const c of o){const d=u.find(g=>g.measurementId===c),p=d&&e[d.appId];if(p)i.push(p);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Wn.error(i)}}function cU(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[u,c]=o;await uU(t,e,n,u,c)}else if(i==="config"){const[u,c]=o;await lU(t,e,n,r,u,c)}else if(i==="consent"){const[u,c]=o;t("consent",u,c)}else if(i==="get"){const[u,c,d]=o;t("get",u,c,d)}else if(i==="set"){const[u]=o;t("set",u)}else t(i,...o)}catch(u){Wn.error(u)}}return s}function hU(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=cU(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function dU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(_1)&&n.src.includes(t))return n;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fU=30,pU=1e3;class mU{constructor(e={},n=pU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $A=new mU;function gU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function yU(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:gU(r)},i=nU.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let u="";try{const c=await o.json();(e=c.error)!=null&&e.message&&(u=c.error.message)}catch{}throw Sr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function vU(t,e=$A,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Sr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Sr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new xU;return setTimeout(async()=>{u.abort()},tU),KA({appId:r,apiKey:s,measurementId:i},o,u,e)}async function KA(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=$A){var i;const{appId:o,measurementId:u}=t;try{await wU(r,e)}catch(c){if(u)return Wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:u};throw c}try{const c=await yU(t);return s.deleteThrottleMetadata(o),c}catch(c){const d=c;if(!bU(d)){if(s.deleteThrottleMetadata(o),u)return Wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:u};throw c}const p=Number((i=d==null?void 0:d.customData)==null?void 0:i.httpStatus)===503?mT(n,s.intervalMillis,fU):mT(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return s.setThrottleMetadata(o,g),Wn.debug(`Calling attemptFetch again in ${p} millis`),KA(t,g,r,s)}}function wU(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Sr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bU(t){if(!(t instanceof Qr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class xU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function EU(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function SU(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function kU(){if(ny())try{await gx()}catch(t){return Wn.warn(Sr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Wn.warn(Sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function TU(t,e,n,r,s,i,o){const u=vU(t);u.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Wn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Wn.error(v)),e.push(u);const c=kU().then(v=>{if(v)return r.getId()}),[d,p]=await Promise.all([u,c]);dU(i)||aU(i,d.measurementId),s("js",new Date);const g=(o==null?void 0:o.config)??{};return g[eU]="firebase",g.update=!0,p!=null&&(g[Z8]=p),s("config",d.measurementId,g),d.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _U{constructor(e){this.app=e}_delete(){return delete fc[this.app.options.appId],Promise.resolve()}}let fc={},wC=[];const bC={};let q0="dataLayer",CU="gtag",xC,C1,EC=!1;function IU(){const t=[];if(mx()&&t.push("This is a browser extension environment."),vP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Sr.create("invalid-analytics-context",{errorInfo:e});Wn.warn(n.message)}}function PU(t,e,n){IU();const r=t.options.appId;if(!r)throw Sr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sr.create("no-api-key");if(fc[r]!=null)throw Sr.create("already-exists",{id:r});if(!EC){oU(q0);const{wrappedGtag:s,gtagCore:i}=hU(fc,wC,bC,q0,CU);C1=s,xC=i,EC=!0}return fc[r]=TU(t,wC,bC,e,xC,q0,n),new _U(t)}function WA(t=sy()){t=Pt(t);const e=co(t,Fg);return e.isInitialized()?e.getImmediate():DU(t)}function DU(t,e={}){const n=co(t,Fg);if(n.isInitialized()){const r=n.getImmediate();if(eo(e,n.getOptions()))return r;throw Sr.create("already-initialized")}return n.initialize({options:e})}async function GA(){if(mx()||!vP()||!ny())return!1;try{return await gx()}catch{return!1}}function NU(t,e,n){t=Pt(t),SU(C1,fc[t.app.options.appId],e,n).catch(r=>Wn.error(r))}function HA(t,e,n,r){t=Pt(t),EU(C1,fc[t.app.options.appId],e,n,r).catch(s=>Wn.error(s))}const SC="@firebase/analytics",kC="0.10.19";function AU(){hs(new Hr(Fg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return PU(r,s,n)},"PUBLIC")),hs(new Hr("analytics-internal",t,"PRIVATE")),or(SC,kC),or(SC,kC,"esm2020");function t(e){try{const n=e.getProvider(Fg).getImmediate();return{logEvent:(r,s,i)=>HA(n,r,s,i),setUserProperties:(r,s)=>NU(n,r,s)}}catch(n){throw Sr.create("interop-component-reg-failed",{reason:n})}}}AU();const MU={apiKey:"AIzaSyA-ji4PrndkvUwbcN6axWGjLJd-pNJrTBY",authDomain:"math-adventure-app.firebaseapp.com",projectId:"math-adventure-app",storageBucket:"math-adventure-app.firebasestorage.app",messagingSenderId:"685781375492",appId:"1:685781375492:web:cb2f52696292927cb07351",measurementId:"G-FGQWD7WPCY"},ms=EP(MU),$0=ly(ms),RU=Iy(ms);c8(ms);try{Cz(RU).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Firestore persistence: Not supported in this browser")})}catch(t){console.warn("Firestore persistence init failed:",t)}let QA=null;try{GA().then(t=>{t&&(QA=WA(ms))}).catch(()=>{})}catch{}const OU=QA;/**
* react-router v7.9.5
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var TC="popstate";function jU(t={}){function e(r,s){let{pathname:i,search:o,hash:u}=r.location;return gb("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Jd(s)}return FU(e,n,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ni(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LU(){return Math.random().toString(36).substring(2,10)}function _C(t,e){return{usr:t.state,key:t.key,idx:e}}function gb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vc(e):e,state:n,key:e&&e.key||r||LU()}}function Jd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function FU(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,u="POP",c=null,d=p();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function p(){return(o.state||{idx:null}).idx}function g(){u="POP";let _=p(),D=_==null?null:_-d;d=_,c&&c({action:u,location:T.location,delta:D})}function v(_,D){u="PUSH";let A=gb(T.location,_,D);d=p()+1;let O=_C(A,d),V=T.createHref(A);try{o.pushState(O,"",V)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(V)}i&&c&&c({action:u,location:T.location,delta:1})}function S(_,D){u="REPLACE";let A=gb(T.location,_,D);d=p();let O=_C(A,d),V=T.createHref(A);o.replaceState(O,"",V),i&&c&&c({action:u,location:T.location,delta:0})}function C(_){return BU(_)}let T={get action(){return u},get location(){return t(s,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(TC,g),c=_,()=>{s.removeEventListener(TC,g),c=null}},createHref(_){return e(s,_)},createURL:C,encodeLocation(_){let D=C(_);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:v,replace:S,go(_){return o.go(_)}};return T}function BU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Jd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function XA(t,e,n="/"){return VU(t,e,n,!1)}function VU(t,e,n,r){let s=typeof e=="string"?Vc(e):e,i=zi(s.pathname||"/",n);if(i==null)return null;let o=YA(t);zU(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let d=JU(i);u=XU(o[c],d,r)}return u}function YA(t,e=[],n=[],r="",s=!1){let i=(o,u,c=s,d)=>{let p={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&c)return;It(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=ji([r,p.relativePath]),v=n.concat(p);o.children&&o.children.length>0&&(It(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),YA(o.children,e,v,g,c)),!(o.path==null&&!o.index)&&e.push({path:g,score:HU(g,o.index),routesMeta:v})};return t.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,u);else for(let d of JA(o.path))i(o,u,!0,d)}),e}function JA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=JA(r.join("/")),u=[];return u.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function zU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var UU=/^:[\w-]+$/,qU=3,$U=2,KU=1,WU=10,GU=-2,CC=t=>t==="*";function HU(t,e){let n=t.split("/"),r=n.length;return n.some(CC)&&(r+=GU),e&&(r+=$U),n.filter(s=>!CC(s)).reduce((s,i)=>s+(UU.test(i)?qU:i===""?KU:WU),r)}function QU(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function XU(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",g=Bg({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),v=c.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=Bg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:ji([i,g.pathname]),pathnameBase:n7(ji([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=ji([i,g.pathnameBase]))}return o}function Bg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YU(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:p},g)=>{if(d==="*"){let S=u[g]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const v=u[g];return p&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function YU(t,e=!1,n=!0){ni(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function JU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ni(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function zi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZU(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Vc(t):t;return{pathname:n?n.startsWith("/")?n:e7(n,e):e,search:r7(r),hash:s7(s)}}function e7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function K0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ZA(t){let e=t7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function eM(t,e,n,r=!1){let s;typeof t=="string"?s=Vc(t):(s={...t},It(!s.pathname||!s.pathname.includes("?"),K0("?","pathname","search",s)),It(!s.pathname||!s.pathname.includes("#"),K0("#","pathname","hash",s)),It(!s.search||!s.search.includes("#"),K0("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?e[g]:"/"}let c=ZU(s,u),d=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}var ji=t=>t.join("/").replace(/\/\/+/g,"/"),n7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),r7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,s7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function i7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tM=["POST","PUT","PATCH","DELETE"];new Set(tM);var a7=["GET",...tM];new Set(a7);var zc=E.createContext(null);zc.displayName="DataRouter";var zy=E.createContext(null);zy.displayName="DataRouterState";E.createContext(!1);var nM=E.createContext({isTransitioning:!1});nM.displayName="ViewTransition";var o7=E.createContext(new Map);o7.displayName="Fetchers";var l7=E.createContext(null);l7.displayName="Await";var ai=E.createContext(null);ai.displayName="Navigation";var If=E.createContext(null);If.displayName="Location";var Yi=E.createContext({outlet:null,matches:[],isDataRoute:!1});Yi.displayName="Route";var I1=E.createContext(null);I1.displayName="RouteError";function u7(t,{relative:e}={}){It(Pf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(ai),{hash:s,pathname:i,search:o}=Df(t,{relative:e}),u=i;return n!=="/"&&(u=i==="/"?n:ji([n,i])),r.createHref({pathname:u,search:o,hash:s})}function Pf(){return E.useContext(If)!=null}function Ji(){return It(Pf(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(If).location}var rM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sM(t){E.useContext(ai).static||E.useLayoutEffect(t)}function P1(){let{isDataRoute:t}=E.useContext(Yi);return t?E7():c7()}function c7(){It(Pf(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(zc),{basename:e,navigator:n}=E.useContext(ai),{matches:r}=E.useContext(Yi),{pathname:s}=Ji(),i=JSON.stringify(ZA(r)),o=E.useRef(!1);return sM(()=>{o.current=!0}),E.useCallback((u,c={})=>{if(ni(o.current,rM),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=eM(u,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ji([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,i,s,t])}E.createContext(null);function Df(t,{relative:e}={}){let{matches:n}=E.useContext(Yi),{pathname:r}=Ji(),s=JSON.stringify(ZA(n));return E.useMemo(()=>eM(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function h7(t,e){return iM(t,e)}function iM(t,e,n,r,s){var i;It(Pf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(ai),{matches:u}=E.useContext(Yi),c=u[u.length-1],d=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let O=v&&v.path||"";aM(p,!v||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let S=Ji(),C;if(e){let O=typeof e=="string"?Vc(e):e;It(g==="/"||((i=O.pathname)==null?void 0:i.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${O.pathname}" was given in the \`location\` prop.`),C=O}else C=S;let T=C.pathname||"/",_=T;if(g!=="/"){let O=g.replace(/^\//,"").split("/");_="/"+T.replace(/^\//,"").split("/").slice(O.length).join("/")}let D=XA(t,{pathname:_});ni(v||D!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ni(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=g7(D&&D.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:ji([g,o.encodeLocation?o.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?g:ji([g,o.encodeLocation?o.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),u,n,r,s);return e&&A?E.createElement(If.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},A):A}function d7(){let t=x7(),e=i7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:i},"ErrorBoundary")," or"," ",E.createElement("code",{style:i},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,o)}var f7=E.createElement(d7,null),p7=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(Yi.Provider,{value:this.props.routeContext},E.createElement(I1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m7({routeContext:t,match:e,children:n}){let r=E.useContext(zc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Yi.Provider,{value:t},n)}function g7(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let d=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);It(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:g,errors:v}=n,S=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||S){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,p,g)=>{let v,S=!1,C=null,T=null;n&&(v=o&&p.route.id?o[p.route.id]:void 0,C=p.route.errorElement||f7,u&&(c<0&&g===0?(aM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,T=null):c===g&&(S=!0,T=p.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,g+1)),D=()=>{let A;return v?A=C:S?A=T:p.route.Component?A=E.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=d,E.createElement(m7,{match:p,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?E.createElement(p7,{location:n.location,revalidation:n.revalidation,component:C,error:v,children:D(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:r}):D()},null)}function D1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y7(t){let e=E.useContext(zc);return It(e,D1(t)),e}function v7(t){let e=E.useContext(zy);return It(e,D1(t)),e}function w7(t){let e=E.useContext(Yi);return It(e,D1(t)),e}function N1(t){let e=w7(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function b7(){return N1("useRouteId")}function x7(){var t;let e=E.useContext(I1),n=v7("useRouteError"),r=N1("useRouteError");return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function E7(){let{router:t}=y7("useNavigate"),e=N1("useNavigate"),n=E.useRef(!1);return sM(()=>{n.current=!0}),E.useCallback(async(r,s={})=>{ni(n.current,rM),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var IC={};function aM(t,e,n){!e&&!IC[t]&&(IC[t]=!0,ni(!1,n))}E.memo(S7);function S7({routes:t,future:e,state:n,unstable_onError:r}){return iM(t,void 0,n,r,e)}function At(t){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function k7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){It(!Pf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Vc(n));let{pathname:c="/",search:d="",hash:p="",state:g=null,key:v="default"}=n,S=E.useMemo(()=>{let C=zi(c,o);return C==null?null:{location:{pathname:C,search:d,hash:p,state:g,key:v},navigationType:r}},[o,c,d,p,g,v,r]);return ni(S!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:E.createElement(ai.Provider,{value:u},E.createElement(If.Provider,{children:e,value:S}))}function T7({children:t,location:e}){return h7(yb(t),e)}function yb(t,e=[]){let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let i=[...e,s];if(r.type===E.Fragment){n.push.apply(n,yb(r.props.children,i));return}It(r.type===At,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yb(r.props.children,i)),n.push(o)}),n}var Gm="get",Hm="application/x-www-form-urlencoded";function Uy(t){return t!=null&&typeof t.tagName=="string"}function _7(t){return Uy(t)&&t.tagName.toLowerCase()==="button"}function C7(t){return Uy(t)&&t.tagName.toLowerCase()==="form"}function I7(t){return Uy(t)&&t.tagName.toLowerCase()==="input"}function P7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function D7(t,e){return t.button===0&&(!e||e==="_self")&&!P7(t)}var dm=null;function N7(){if(dm===null)try{new FormData(document.createElement("form"),0),dm=!1}catch{dm=!0}return dm}var A7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function W0(t){return t!=null&&!A7.has(t)?(ni(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hm}"`),null):t}function M7(t,e){let n,r,s,i,o;if(C7(t)){let u=t.getAttribute("action");r=u?zi(u,e):null,n=t.getAttribute("method")||Gm,s=W0(t.getAttribute("enctype"))||Hm,i=new FormData(t)}else if(_7(t)||I7(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?zi(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Gm,s=W0(t.getAttribute("formenctype"))||W0(u.getAttribute("enctype"))||Hm,i=new FormData(u,t),!N7()){let{name:d,type:p,value:g}=t;if(p==="image"){let v=d?`${d}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else d&&i.append(d,g)}}else{if(Uy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gm,r=null,s=Hm,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function A1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function R7(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&zi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function O7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function L7(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await O7(i,n);return o.links?o.links():[]}return[]}));return z7(r.flat(1).filter(j7).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function PC(t,e,n,r,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,u=(c,d)=>{var p;return n[d].pathname!==c.pathname||((p=n[d].route.path)==null?void 0:p.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||u(c,d)):i==="data"?e.filter((c,d)=>{var p;let g=r.routes[c.route.id];if(!g||!g.hasLoader)return!1;if(o(c,d)||u(c,d))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function F7(t,e,{includeHydrateFallback:n}={}){return B7(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function B7(t){return[...new Set(t)]}function V7(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function z7(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(V7(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function oM(){let t=E.useContext(zc);return A1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function U7(){let t=E.useContext(zy);return A1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var M1=E.createContext(void 0);M1.displayName="FrameworkContext";function lM(){let t=E.useContext(M1);return A1(t,"You must render this element inside a <HydratedRouter> element"),t}function q7(t,e){let n=E.useContext(M1),[r,s]=E.useState(!1),[i,o]=E.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:d,onMouseLeave:p,onTouchStart:g}=e,v=E.useRef(null);E.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let T=D=>{D.forEach(A=>{o(A.isIntersecting)})},_=new IntersectionObserver(T,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[t]),E.useEffect(()=>{if(r){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[r]);let S=()=>{s(!0)},C=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,v,{}]:[i,v,{onFocus:Gh(u,S),onBlur:Gh(c,C),onMouseEnter:Gh(d,S),onMouseLeave:Gh(p,C),onTouchStart:Gh(g,S)}]:[!1,v,{}]}function Gh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $7({page:t,...e}){let{router:n}=oM(),r=E.useMemo(()=>XA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(W7,{page:t,matches:r,...e}):null}function K7(t){let{manifest:e,routeModules:n}=lM(),[r,s]=E.useState([]);return E.useEffect(()=>{let i=!1;return L7(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function W7({page:t,matches:e,...n}){let r=Ji(),{manifest:s,routeModules:i}=lM(),{basename:o}=oM(),{loaderData:u,matches:c}=U7(),d=E.useMemo(()=>PC(t,e,c,s,r,"data"),[t,e,c,s,r]),p=E.useMemo(()=>PC(t,e,c,s,r,"assets"),[t,e,c,s,r]),g=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,T=!1;if(e.forEach(D=>{var A;let O=s.routes[D.route.id];!O||!O.hasLoader||(!d.some(V=>V.route.id===D.route.id)&&D.route.id in u&&(A=i[D.route.id])!=null&&A.shouldRevalidate||O.hasClientLoader?T=!0:C.add(D.route.id))}),C.size===0)return[];let _=R7(t,o,"data");return T&&C.size>0&&_.searchParams.set("_routes",e.filter(D=>C.has(D.route.id)).map(D=>D.route.id).join(",")),[_.pathname+_.search]},[o,u,r,s,d,e,t,i]),v=E.useMemo(()=>F7(p,s),[p,s]),S=K7(p);return E.createElement(E.Fragment,null,g.map(C=>E.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),v.map(C=>E.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),S.map(({key:C,link:T})=>E.createElement("link",{key:C,nonce:n.nonce,...T})))}function G7(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uM&&(window.__reactRouterVersion="7.9.5")}catch{}function H7({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=jU({window:n,v5Compat:!0}));let s=r.current,[i,o]=E.useState({action:s.action,location:s.location}),u=E.useCallback(c=>{E.startTransition(()=>o(c))},[o]);return E.useLayoutEffect(()=>s.listen(u),[s,u]),E.createElement(k7,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var cM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=E.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:s,replace:i,state:o,target:u,to:c,preventScrollReset:d,viewTransition:p,...g},v){let{basename:S}=E.useContext(ai),C=typeof c=="string"&&cM.test(c),T,_=!1;if(typeof c=="string"&&C&&(T=c,uM))try{let I=new URL(window.location.href),N=c.startsWith("//")?new URL(I.protocol+c):new URL(c),j=zi(N.pathname,S);N.origin===I.origin&&j!=null?c=j+N.search+N.hash:_=!0}catch{ni(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=u7(c,{relative:r}),[A,O,V]=q7(n,g),U=J7(c,{replace:i,state:o,target:u,preventScrollReset:d,relative:r,viewTransition:p});function W(I){t&&t(I),I.defaultPrevented||U(I)}let M=E.createElement("a",{...g,...V,href:T||D,onClick:_||s?t:W,ref:G7(v,O),target:u,"data-discover":!C&&e==="render"?"true":void 0});return A&&!C?E.createElement(E.Fragment,null,M,E.createElement($7,{page:D})):M});ft.displayName="Link";var Q7=E.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:s,to:i,viewTransition:o,children:u,...c},d){let p=Df(i,{relative:c.relative}),g=Ji(),v=E.useContext(zy),{navigator:S,basename:C}=E.useContext(ai),T=v!=null&&rq(p)&&o===!0,_=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,D=g.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(D=D.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&C&&(A=zi(A,C)||A);const O=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let V=D===_||!r&&D.startsWith(_)&&D.charAt(O)==="/",U=A!=null&&(A===_||!r&&A.startsWith(_)&&A.charAt(_.length)==="/"),W={isActive:V,isPending:U,isTransitioning:T},M=V?t:void 0,I;typeof n=="function"?I=n(W):I=[n,V?"active":null,U?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(W):s;return E.createElement(ft,{...c,"aria-current":M,className:I,ref:d,style:N,to:i,viewTransition:o},typeof u=="function"?u(W):u)});Q7.displayName="NavLink";var X7=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Gm,action:u,onSubmit:c,relative:d,preventScrollReset:p,viewTransition:g,...v},S)=>{let C=tq(),T=nq(u,{relative:d}),_=o.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&cM.test(u),A=O=>{if(c&&c(O),O.defaultPrevented)return;O.preventDefault();let V=O.nativeEvent.submitter,U=(V==null?void 0:V.getAttribute("formmethod"))||o;C(V||O.currentTarget,{fetcherKey:e,method:U,navigate:n,replace:s,state:i,relative:d,preventScrollReset:p,viewTransition:g})};return E.createElement("form",{ref:S,method:_,action:T,onSubmit:r?c:A,...v,"data-discover":!D&&t==="render"?"true":void 0})});X7.displayName="Form";function Y7(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hM(t){let e=E.useContext(zc);return It(e,Y7(t)),e}function J7(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let u=P1(),c=Ji(),d=Df(t,{relative:i});return E.useCallback(p=>{if(D7(p,e)){p.preventDefault();let g=n!==void 0?n:Jd(c)===Jd(d);u(t,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,u,d,n,r,e,t,s,i,o])}var Z7=0,eq=()=>`__${String(++Z7)}__`;function tq(){let{router:t}=hM("useSubmit"),{basename:e}=E.useContext(ai),n=b7();return E.useCallback(async(r,s={})=>{let{action:i,method:o,encType:u,formData:c,body:d}=M7(r,e);if(s.navigate===!1){let p=s.fetcherKey||eq();await t.fetch(p,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function nq(t,{relative:e}={}){let{basename:n}=E.useContext(ai),r=E.useContext(Yi);It(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Df(t||".",{relative:e})},o=Ji();if(t==null){i.search=o.search;let u=new URLSearchParams(i.search),c=u.getAll("index");if(c.some(d=>d==="")){u.delete("index"),c.filter(p=>p).forEach(p=>u.append("index",p));let d=u.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:ji([n,i.pathname])),Jd(i)}function rq(t,{relative:e}={}){let n=E.useContext(nM);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hM("useViewTransitionState"),s=Df(t,{relative:e});if(!n.isTransitioning)return!1;let i=zi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=zi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Bg(s.pathname,o)!=null||Bg(s.pathname,i)!=null}var R1=iP();const sq=cx(R1);function nt(t){if(!t)return"/";const[e,n]=t.split("?"),r="/"+e.replace(/\s+/g,"");return n?`${r}?${n}`:r}var Nf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},iq={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},$o,DC,NC,aq=(NC=class{constructor(){Re(this,$o,iq),Re(this,DC,!1)}setTimeoutProvider(t){ge(this,$o,t)}setTimeout(t,e){return $(this,$o).setTimeout(t,e)}clearTimeout(t){$(this,$o).clearTimeout(t)}setInterval(t,e){return $(this,$o).setInterval(t,e)}clearInterval(t){$(this,$o).clearInterval(t)}},$o=new WeakMap,DC=new WeakMap,NC),hl=new aq;function oq(t){setTimeout(t,0)}var Rl=typeof window>"u"||"Deno"in globalThis;function sr(){}function lq(t,e){return typeof t=="function"?t(e):t}function vb(t){return typeof t=="number"&&t>=0&&t!==1/0}function dM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Za(t,e){return typeof t=="function"?t(e):t}function Vr(t,e){return typeof t=="function"?t(e):t}function AC(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:u}=t;if(o){if(r){if(e.queryHash!==O1(o,e.options))return!1}else if(!ef(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||i&&!i(e))}function MC(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Zd(e.options.mutationKey)!==Zd(i))return!1}else if(!ef(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function O1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Zd)(t)}function Zd(t){return JSON.stringify(t,(e,n)=>bb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ef(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>ef(t[n],e[n])):!1}var uq=Object.prototype.hasOwnProperty;function fM(t,e){if(t===e)return t;const n=RC(t)&&RC(e);if(!n&&!(bb(t)&&bb(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),i=s.length,o=n?new Array(i):{};let u=0;for(let c=0;c<i;c++){const d=n?c:s[c],p=t[d],g=e[d];if(p===g){o[d]=p,(n?c<r:uq.call(t,d))&&u++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){o[d]=g;continue}const v=fM(p,g);o[d]=v,v===p&&u++}return r===i&&u===r?t:o}function wb(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function RC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function bb(t){if(!OC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!OC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function OC(t){return Object.prototype.toString.call(t)==="[object Object]"}function cq(t){return new Promise(e=>{hl.setTimeout(e,t)})}function xb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?fM(t,e):e}function hq(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function dq(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var j1=Symbol();function pM(t,e){return!t.queryFn&&e!=null&&e.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===j1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function fq(t,e){return typeof t=="function"?t(...e):!!t}var Fu,Ko,Hh,jC,pq=(jC=class extends Nf{constructor(){super(),Re(this,Fu),Re(this,Ko),Re(this,Hh),ge(this,Hh,t=>{if(!Rl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){$(this,Ko)||this.setEventListener($(this,Hh))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Ko))==null||t.call(this),ge(this,Ko,void 0))}setEventListener(t){var e;ge(this,Hh,t),(e=$(this,Ko))==null||e.call(this),ge(this,Ko,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){$(this,Fu)!==t&&(ge(this,Fu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof $(this,Fu)=="boolean"?$(this,Fu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Fu=new WeakMap,Ko=new WeakMap,Hh=new WeakMap,jC),L1=new pq;function Eb(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var mq=oq;function gq(){let t=[],e=0,n=u=>{u()},r=u=>{u()},s=mq;const i=u=>{e?t.push(u):s(()=>{n(u)})},o=()=>{const u=t;t=[],u.length&&s(()=>{r(()=>{u.forEach(c=>{n(c)})})})};return{batch:u=>{let c;e++;try{c=u()}finally{e--,e||o()}return c},batchCalls:u=>(...c)=>{i(()=>{u(...c)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var _n=gq(),Qh,Wo,Xh,LC,yq=(LC=class extends Nf{constructor(){super(),Re(this,Qh,!0),Re(this,Wo),Re(this,Xh),ge(this,Xh,t=>{if(!Rl&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,Wo)||this.setEventListener($(this,Xh))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Wo))==null||t.call(this),ge(this,Wo,void 0))}setEventListener(t){var e;ge(this,Xh,t),(e=$(this,Wo))==null||e.call(this),ge(this,Wo,t(this.setOnline.bind(this)))}setOnline(t){$(this,Qh)!==t&&(ge(this,Qh,t),this.listeners.forEach(e=>{e(t)}))}isOnline(){return $(this,Qh)}},Qh=new WeakMap,Wo=new WeakMap,Xh=new WeakMap,LC),Vg=new yq;function vq(t){return Math.min(1e3*2**t,3e4)}function mM(t){return(t??"online")==="online"?Vg.isOnline():!0}var Sb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function gM(t){let e=!1,n=0,r;const s=Eb(),i=()=>s.status!=="pending",o=T=>{var _;if(!i()){const D=new Sb(T);v(D),(_=t.onCancel)==null||_.call(t,D)}},u=()=>{e=!0},c=()=>{e=!1},d=()=>L1.isFocused()&&(t.networkMode==="always"||Vg.isOnline())&&t.canRun(),p=()=>mM(t.networkMode)&&t.canRun(),g=T=>{i()||(r==null||r(),s.resolve(T))},v=T=>{i()||(r==null||r(),s.reject(T))},S=()=>new Promise(T=>{var _;r=D=>{(i()||d())&&T(D)},(_=t.onPause)==null||_.call(t)}).then(()=>{var T;r=void 0,i()||(T=t.onContinue)==null||T.call(t)}),C=()=>{if(i())return;let T;const _=n===0?t.initialPromise:void 0;try{T=_??t.fn()}catch(D){T=Promise.reject(D)}Promise.resolve(T).then(g).catch(D=>{var A;if(i())return;const O=t.retry??(Rl?0:3),V=t.retryDelay??vq,U=typeof V=="function"?V(n,D):V,W=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,D);if(e||!W){v(D);return}n++,(A=t.onFail)==null||A.call(t,n,D),cq(U).then(()=>d()?void 0:S()).then(()=>{e?v(D):C()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:u,continueRetry:c,canStart:p,start:()=>(p()?C():S().then(C),s)}}var Bu,FC,yM=(FC=class{constructor(){Re(this,Bu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vb(this.gcTime)&&ge(this,Bu,hl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Rl?1/0:300*1e3))}clearGcTimeout(){$(this,Bu)&&(hl.clearTimeout($(this,Bu)),ge(this,Bu,void 0))}},Bu=new WeakMap,FC),Vu,Yh,as,zu,En,fm,Uu,Ls,_i,BC,wq=(BC=class extends yM{constructor(t){super(),Re(this,Ls),Re(this,Vu),Re(this,Yh),Re(this,as),Re(this,zu),Re(this,En),Re(this,fm),Re(this,Uu),ge(this,Uu,!1),ge(this,fm,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,zu,t.client),ge(this,as,$(this,zu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,Vu,zC(this.options)),this.state=t.state??$(this,Vu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,En))==null?void 0:t.promise}setOptions(t){if(this.options={...$(this,fm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=zC(this.options);e.data!==void 0&&(this.setState(VC(e.data,e.dataUpdatedAt)),ge(this,Vu,e))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,as).remove(this)}setData(t,e){const n=xb(this.state.data,t,this.options);return Ze(this,Ls,_i).call(this,{data:n,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),n}setState(t,e){Ze(this,Ls,_i).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var e,n;const r=(e=$(this,En))==null?void 0:e.promise;return(n=$(this,En))==null||n.cancel(t),r?r.then(sr).catch(sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Vu))}isActive(){return this.observers.some(t=>Vr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===j1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Za(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!dM(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=$(this,En))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=$(this,En))==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,as).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||($(this,En)&&($(this,Uu)?$(this,En).cancel({revert:!0}):$(this,En).cancelRetry()),this.scheduleGc()),$(this,as).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Ls,_i).call(this,{type:"invalidate"})}async fetch(t,e){var n,r,s,i,o,u,c,d,p,g,v,S;if(this.state.fetchStatus!=="idle"&&((n=$(this,En))==null?void 0:n.status())!=="rejected"){if(this.state.data!==void 0&&e!=null&&e.cancelRefetch)this.cancel({silent:!0});else if($(this,En))return $(this,En).continueRetry(),$(this,En).promise}if(t&&this.setOptions(t),!this.options.queryFn){const A=this.observers.find(O=>O.options.queryFn);A&&this.setOptions(A.options)}const C=new AbortController,T=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(ge(this,Uu,!0),C.signal)})},_=()=>{const A=pM(this.options,e),O=(()=>{const V={client:$(this,zu),queryKey:this.queryKey,meta:this.meta};return T(V),V})();return ge(this,Uu,!1),this.options.persister?this.options.persister(A,O,this):A(O)},D=(()=>{const A={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:$(this,zu),state:this.state,fetchFn:_};return T(A),A})();(r=this.options.behavior)==null||r.onFetch(D,this),ge(this,Yh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=D.fetchOptions)==null?void 0:s.meta))&&Ze(this,Ls,_i).call(this,{type:"fetch",meta:(i=D.fetchOptions)==null?void 0:i.meta}),ge(this,En,gM({initialPromise:e==null?void 0:e.initialPromise,fn:D.fetchFn,onCancel:A=>{A instanceof Sb&&A.revert&&this.setState({...$(this,Yh),fetchStatus:"idle"}),C.abort()},onFail:(A,O)=>{Ze(this,Ls,_i).call(this,{type:"failed",failureCount:A,error:O})},onPause:()=>{Ze(this,Ls,_i).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Ls,_i).call(this,{type:"continue"})},retry:D.options.retry,retryDelay:D.options.retryDelay,networkMode:D.options.networkMode,canRun:()=>!0}));try{const A=await $(this,En).start();if(A===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(A),(u=(o=$(this,as).config).onSuccess)==null||u.call(o,A,this),(d=(c=$(this,as).config).onSettled)==null||d.call(c,A,this.state.error,this),A}catch(A){if(A instanceof Sb){if(A.silent)return $(this,En).promise;if(A.revert){if(this.state.data===void 0)throw A;return this.state.data}}throw Ze(this,Ls,_i).call(this,{type:"error",error:A}),(g=(p=$(this,as).config).onError)==null||g.call(p,A,this),(S=(v=$(this,as).config).onSettled)==null||S.call(v,this.state.data,A,this),A}finally{this.scheduleGc()}}},Vu=new WeakMap,Yh=new WeakMap,as=new WeakMap,zu=new WeakMap,En=new WeakMap,fm=new WeakMap,Uu=new WeakMap,Ls=new WeakSet,_i=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...vM(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...VC(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ge(this,Yh,t.manual?r:void 0),r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),_n.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,as).notify({query:this,type:"updated",action:t})})},BC);function vM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mM(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function VC(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function zC(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var vr,Je,pm,nr,qu,Jh,Oa,Go,mm,Zh,ed,$u,Ku,Ho,td,Xt,nd,G0,H0,Q0,X0,Y0,J0,Z0,UC,qC,bq=(qC=class extends Nf{constructor(t,e){super(),Re(this,Xt),Re(this,vr),Re(this,Je),Re(this,pm),Re(this,nr),Re(this,qu),Re(this,Jh),Re(this,Oa),Re(this,Go),Re(this,mm),Re(this,Zh),Re(this,ed),Re(this,$u),Re(this,Ku),Re(this,Ho),Re(this,td,new Set),this.options=e,ge(this,vr,t),ge(this,Go,null),ge(this,Oa,Eb()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,Je).addObserver(this),$C($(this,Je),this.options)?Ze(this,Xt,nd).call(this):this.updateResult(),Ze(this,Xt,X0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kb($(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kb($(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,Xt,Y0).call(this),Ze(this,Xt,J0).call(this),$(this,Je).removeObserver(this)}setOptions(t){const e=this.options,n=$(this,Je);if(this.options=$(this,vr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vr(this.options.enabled,$(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,Xt,Z0).call(this),$(this,Je).setOptions(this.options),e._defaulted&&!wb(this.options,e)&&$(this,vr).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,Je),observer:this});const r=this.hasListeners();r&&KC($(this,Je),n,this.options,e)&&Ze(this,Xt,nd).call(this),this.updateResult(),r&&($(this,Je)!==n||Vr(this.options.enabled,$(this,Je))!==Vr(e.enabled,$(this,Je))||Za(this.options.staleTime,$(this,Je))!==Za(e.staleTime,$(this,Je)))&&Ze(this,Xt,G0).call(this);const s=Ze(this,Xt,H0).call(this);r&&($(this,Je)!==n||Vr(this.options.enabled,$(this,Je))!==Vr(e.enabled,$(this,Je))||s!==$(this,Ho))&&Ze(this,Xt,Q0).call(this,s)}getOptimisticResult(t){const e=$(this,vr).getQueryCache().build($(this,vr),t),n=this.createResult(e,t);return Eq(this,n)&&(ge(this,nr,n),ge(this,Jh,this.options),ge(this,qu,$(this,Je).state)),n}getCurrentResult(){return $(this,nr)}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e==null||e(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&$(this,Oa).status==="pending"&&$(this,Oa).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){$(this,td).add(t)}getCurrentQuery(){return $(this,Je)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=$(this,vr).defaultQueryOptions(t),n=$(this,vr).getQueryCache().build($(this,vr),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return Ze(this,Xt,nd).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,nr)))}createResult(t,e){var n;const r=$(this,Je),s=this.options,i=$(this,nr),o=$(this,qu),u=$(this,Jh),c=t!==r?t.state:$(this,pm),{state:d}=t;let p={...d},g=!1,v;if(e._optimisticResults){const M=this.hasListeners(),I=!M&&$C(t,e),N=M&&KC(t,r,e,s);(I||N)&&(p={...p,...vM(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:S,errorUpdatedAt:C,status:T}=p;v=p.data;let _=!1;if(e.placeholderData!==void 0&&v===void 0&&T==="pending"){let M;i!=null&&i.isPlaceholderData&&e.placeholderData===(u==null?void 0:u.placeholderData)?(M=i.data,_=!0):M=typeof e.placeholderData=="function"?e.placeholderData((n=$(this,ed))==null?void 0:n.state.data,$(this,ed)):e.placeholderData,M!==void 0&&(T="success",v=xb(i==null?void 0:i.data,M,e),g=!0)}if(e.select&&v!==void 0&&!_)if(i&&v===(o==null?void 0:o.data)&&e.select===$(this,mm))v=$(this,Zh);else try{ge(this,mm,e.select),v=e.select(v),v=xb(i==null?void 0:i.data,v,e),ge(this,Zh,v),ge(this,Go,null)}catch(M){ge(this,Go,M)}$(this,Go)&&(S=$(this,Go),v=$(this,Zh),C=Date.now(),T="error");const D=p.fetchStatus==="fetching",A=T==="pending",O=T==="error",V=A&&D,U=v!==void 0,W={status:T,fetchStatus:p.fetchStatus,isPending:A,isSuccess:T==="success",isError:O,isInitialLoading:V,isLoading:V,data:v,dataUpdatedAt:p.dataUpdatedAt,error:S,errorUpdatedAt:C,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:D,isRefetching:D&&!A,isLoadingError:O&&!U,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:O&&U,isStale:F1(t,e),refetch:this.refetch,promise:$(this,Oa),isEnabled:Vr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=j=>{W.status==="error"?j.reject(W.error):W.data!==void 0&&j.resolve(W.data)},I=()=>{const j=ge(this,Oa,W.promise=Eb());M(j)},N=$(this,Oa);switch(N.status){case"pending":t.queryHash===r.queryHash&&M(N);break;case"fulfilled":(W.status==="error"||W.data!==N.value)&&I();break;case"rejected":(W.status!=="error"||W.error!==N.reason)&&I();break}}return W}updateResult(){const t=$(this,nr),e=this.createResult($(this,Je),this.options);if(ge(this,qu,$(this,Je).state),ge(this,Jh,this.options),$(this,qu).data!==void 0&&ge(this,ed,$(this,Je)),wb(e,t))return;ge(this,nr,e);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!$(this,td).size)return!0;const i=new Set(s??$(this,td));return this.options.throwOnError&&i.add("error"),Object.keys($(this,nr)).some(o=>{const u=o;return $(this,nr)[u]!==t[u]&&i.has(u)})};Ze(this,Xt,UC).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,Xt,X0).call(this)}},vr=new WeakMap,Je=new WeakMap,pm=new WeakMap,nr=new WeakMap,qu=new WeakMap,Jh=new WeakMap,Oa=new WeakMap,Go=new WeakMap,mm=new WeakMap,Zh=new WeakMap,ed=new WeakMap,$u=new WeakMap,Ku=new WeakMap,Ho=new WeakMap,td=new WeakMap,Xt=new WeakSet,nd=function(t){Ze(this,Xt,Z0).call(this);let e=$(this,Je).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(sr)),e},G0=function(){Ze(this,Xt,Y0).call(this);const t=Za(this.options.staleTime,$(this,Je));if(Rl||$(this,nr).isStale||!vb(t))return;const e=dM($(this,nr).dataUpdatedAt,t)+1;ge(this,$u,hl.setTimeout(()=>{$(this,nr).isStale||this.updateResult()},e))},H0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,Je)):this.options.refetchInterval)??!1},Q0=function(t){Ze(this,Xt,J0).call(this),ge(this,Ho,t),!(Rl||Vr(this.options.enabled,$(this,Je))===!1||!vb($(this,Ho))||$(this,Ho)===0)&&ge(this,Ku,hl.setInterval(()=>{(this.options.refetchIntervalInBackground||L1.isFocused())&&Ze(this,Xt,nd).call(this)},$(this,Ho)))},X0=function(){Ze(this,Xt,G0).call(this),Ze(this,Xt,Q0).call(this,Ze(this,Xt,H0).call(this))},Y0=function(){$(this,$u)&&(hl.clearTimeout($(this,$u)),ge(this,$u,void 0))},J0=function(){$(this,Ku)&&(hl.clearInterval($(this,Ku)),ge(this,Ku,void 0))},Z0=function(){const t=$(this,vr).getQueryCache().build($(this,vr),this.options);if(t===$(this,Je))return;const e=$(this,Je);ge(this,Je,t),ge(this,pm,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},UC=function(t){_n.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e($(this,nr))}),$(this,vr).getQueryCache().notify({query:$(this,Je),type:"observerResultsUpdated"})})},qC);function xq(t,e){return Vr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function $C(t,e){return xq(t,e)||t.state.data!==void 0&&kb(t,e,e.refetchOnMount)}function kb(t,e,n){if(Vr(e.enabled,t)!==!1&&Za(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&F1(t,e)}return!1}function KC(t,e,n,r){return(t!==e||Vr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&F1(t,n)}function F1(t,e){return Vr(e.enabled,t)!==!1&&t.isStaleByTime(Za(e.staleTime,t))}function Eq(t,e){return!wb(t.getCurrentResult(),e)}function WC(t){return{onFetch:(e,n)=>{var r,s,i,o,u;const c=e.options,d=(i=(s=(r=e.fetchOptions)==null?void 0:r.meta)==null?void 0:s.fetchMore)==null?void 0:i.direction,p=((o=e.state.data)==null?void 0:o.pages)||[],g=((u=e.state.data)==null?void 0:u.pageParams)||[];let v={pages:[],pageParams:[]},S=0;const C=async()=>{let T=!1;const _=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(e.signal.aborted?T=!0:e.signal.addEventListener("abort",()=>{T=!0}),e.signal)})},D=pM(e.options,e.fetchOptions),A=async(O,V,U)=>{if(T)return Promise.reject();if(V==null&&O.pages.length)return Promise.resolve(O);const W=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:V,direction:U?"backward":"forward",meta:e.options.meta};return _(j),j})(),M=await D(W),{maxPages:I}=e.options,N=U?dq:hq;return{pages:N(O.pages,M,I),pageParams:N(O.pageParams,V,I)}};if(d&&p.length){const O=d==="backward",V=O?Sq:GC,U={pages:p,pageParams:g},W=V(c,U);v=await A(U,W,O)}else{const O=t??p.length;do{const V=S===0?g[0]??c.initialPageParam:GC(c,v);if(S>0&&V==null)break;v=await A(v,V),S++}while(S<O)}return v};e.options.persister?e.fetchFn=()=>{var T,_;return(_=(T=e.options).persister)==null?void 0:_.call(T,C,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=C}}}function GC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Sq(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var gm,Ci,rr,Wu,Ii,ja,HC,kq=(HC=class extends yM{constructor(t){super(),Re(this,Ii),Re(this,gm),Re(this,Ci),Re(this,rr),Re(this,Wu),ge(this,gm,t.client),this.mutationId=t.mutationId,ge(this,rr,t.mutationCache),ge(this,Ci,[]),this.state=t.state||Tq(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,Ci).includes(t)||($(this,Ci).push(t),this.clearGcTimeout(),$(this,rr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,Ci,$(this,Ci).filter(e=>e!==t)),this.scheduleGc(),$(this,rr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,Ci).length||(this.state.status==="pending"?this.scheduleGc():$(this,rr).remove(this))}continue(){var t;return((t=$(this,Wu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var e,n,r,s,i,o,u,c,d,p,g,v,S,C,T,_,D,A,O,V;const U=()=>{Ze(this,Ii,ja).call(this,{type:"continue"})},W={client:$(this,gm),meta:this.options.meta,mutationKey:this.options.mutationKey};ge(this,Wu,gM({fn:()=>this.options.mutationFn?this.options.mutationFn(t,W):Promise.reject(new Error("No mutationFn found")),onFail:(N,j)=>{Ze(this,Ii,ja).call(this,{type:"failed",failureCount:N,error:j})},onPause:()=>{Ze(this,Ii,ja).call(this,{type:"pause"})},onContinue:U,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,rr).canRun(this)}));const M=this.state.status==="pending",I=!$(this,Wu).canStart();try{if(M)U();else{Ze(this,Ii,ja).call(this,{type:"pending",variables:t,isPaused:I}),await((n=(e=$(this,rr).config).onMutate)==null?void 0:n.call(e,t,this,W));const j=await((s=(r=this.options).onMutate)==null?void 0:s.call(r,t,W));j!==this.state.context&&Ze(this,Ii,ja).call(this,{type:"pending",context:j,variables:t,isPaused:I})}const N=await $(this,Wu).start();return await((o=(i=$(this,rr).config).onSuccess)==null?void 0:o.call(i,N,t,this.state.context,this,W)),await((c=(u=this.options).onSuccess)==null?void 0:c.call(u,N,t,this.state.context,W)),await((p=(d=$(this,rr).config).onSettled)==null?void 0:p.call(d,N,null,this.state.variables,this.state.context,this,W)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,N,null,t,this.state.context,W)),Ze(this,Ii,ja).call(this,{type:"success",data:N}),N}catch(N){try{throw await((C=(S=$(this,rr).config).onError)==null?void 0:C.call(S,N,t,this.state.context,this,W)),await((_=(T=this.options).onError)==null?void 0:_.call(T,N,t,this.state.context,W)),await((A=(D=$(this,rr).config).onSettled)==null?void 0:A.call(D,void 0,N,this.state.variables,this.state.context,this,W)),await((V=(O=this.options).onSettled)==null?void 0:V.call(O,void 0,N,t,this.state.context,W)),N}finally{Ze(this,Ii,ja).call(this,{type:"error",error:N})}}finally{$(this,rr).runNext(this)}}},gm=new WeakMap,Ci=new WeakMap,rr=new WeakMap,Wu=new WeakMap,Ii=new WeakSet,ja=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),_n.batch(()=>{$(this,Ci).forEach(n=>{n.onMutationUpdate(t)}),$(this,rr).notify({mutation:this,type:"updated",action:t})})},HC);function Tq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var La,Fs,ym,QC,_q=(QC=class extends Nf{constructor(t={}){super(),Re(this,La),Re(this,Fs),Re(this,ym),this.config=t,ge(this,La,new Set),ge(this,Fs,new Map),ge(this,ym,0)}build(t,e,n){const r=new kq({client:t,mutationCache:this,mutationId:++Ow(this,ym)._,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){$(this,La).add(t);const e=vm(t);if(typeof e=="string"){const n=$(this,Fs).get(e);n?n.push(t):$(this,Fs).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if($(this,La).delete(t)){const e=vm(t);if(typeof e=="string"){const n=$(this,Fs).get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&$(this,Fs).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=vm(t);if(typeof e=="string"){const n=$(this,Fs).get(e),r=n==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){var e;const n=vm(t);if(typeof n=="string"){const r=(e=$(this,Fs).get(n))==null?void 0:e.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_n.batch(()=>{$(this,La).forEach(t=>{this.notify({type:"removed",mutation:t})}),$(this,La).clear(),$(this,Fs).clear()})}getAll(){return Array.from($(this,La))}find(t){const e={exact:!0,...t};return this.getAll().find(n=>MC(e,n))}findAll(t={}){return this.getAll().filter(e=>MC(t,e))}notify(t){_n.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return _n.batch(()=>Promise.all(t.map(e=>e.continue().catch(sr))))}},La=new WeakMap,Fs=new WeakMap,ym=new WeakMap,QC);function vm(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Pi,XC,Cq=(XC=class extends Nf{constructor(t={}){super(),Re(this,Pi),this.config=t,ge(this,Pi,new Map)}build(t,e,n){const r=e.queryKey,s=e.queryHash??O1(r,e);let i=this.get(s);return i||(i=new wq({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){$(this,Pi).has(t.queryHash)||($(this,Pi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=$(this,Pi).get(t.queryHash);e&&(t.destroy(),e===t&&$(this,Pi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_n.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,Pi).get(t)}getAll(){return[...$(this,Pi).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>AC(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>AC(t,n)):e}notify(t){_n.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Pi=new WeakMap,XC),Yt,Qo,Xo,rd,sd,Yo,id,ad,YC,Iq=(YC=class{constructor(t={}){Re(this,Yt),Re(this,Qo),Re(this,Xo),Re(this,rd),Re(this,sd),Re(this,Yo),Re(this,id),Re(this,ad),ge(this,Yt,t.queryCache||new Cq),ge(this,Qo,t.mutationCache||new _q),ge(this,Xo,t.defaultOptions||{}),ge(this,rd,new Map),ge(this,sd,new Map),ge(this,Yo,0)}mount(){Ow(this,Yo)._++,$(this,Yo)===1&&(ge(this,id,L1.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Yt).onFocus())})),ge(this,ad,Vg.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Yt).onOnline())})))}unmount(){var t,e;Ow(this,Yo)._--,$(this,Yo)===0&&((t=$(this,id))==null||t.call(this),ge(this,id,void 0),(e=$(this,ad))==null||e.call(this),ge(this,ad,void 0))}isFetching(t){return $(this,Yt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,Qo).findAll({...t,status:"pending"}).length}getQueryData(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=$(this,Yt).get(n.queryHash))==null?void 0:e.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=$(this,Yt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Za(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return $(this,Yt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,Yt).get(r.queryHash),i=s==null?void 0:s.state.data,o=lq(e,i);if(o!==void 0)return $(this,Yt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return _n.batch(()=>$(this,Yt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=$(this,Yt).get(n.queryHash))==null?void 0:e.state}removeQueries(t){const e=$(this,Yt);_n.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,Yt);return _n.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=_n.batch(()=>$(this,Yt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(sr).catch(sr)}invalidateQueries(t,e={}){return _n.batch(()=>($(this,Yt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=_n.batch(()=>$(this,Yt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(sr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(sr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,Yt).build(this,e);return n.isStaleByTime(Za(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(sr).catch(sr)}fetchInfiniteQuery(t){return t.behavior=WC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(sr).catch(sr)}ensureInfiniteQueryData(t){return t.behavior=WC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Vg.isOnline()?$(this,Qo).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Yt)}getMutationCache(){return $(this,Qo)}getDefaultOptions(){return $(this,Xo)}setDefaultOptions(t){ge(this,Xo,t)}setQueryDefaults(t,e){$(this,rd).set(Zd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,rd).values()],n={};return e.forEach(r=>{ef(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){$(this,sd).set(Zd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,sd).values()],n={};return e.forEach(r=>{ef(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,Xo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=O1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===j1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,Xo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,Yt).clear(),$(this,Qo).clear()}},Yt=new WeakMap,Qo=new WeakMap,Xo=new WeakMap,rd=new WeakMap,sd=new WeakMap,Yo=new WeakMap,id=new WeakMap,ad=new WeakMap,YC),wM=E.createContext(void 0),Pq=t=>{const e=E.useContext(wM);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Dq=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(wM.Provider,{value:t,children:e})),bM=E.createContext(!1),Nq=()=>E.useContext(bM);bM.Provider;function Aq(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Mq=E.createContext(Aq()),Rq=()=>E.useContext(Mq),Oq=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},jq=t=>{E.useEffect(()=>{t.clearReset()},[t])},Lq=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||fq(n,[t.error,r])),Fq=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Bq=(t,e)=>t.isLoading&&t.isFetching&&!e,Vq=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,JC=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function zq(t,e,n){var r,s,i,o,u;const c=Nq(),d=Rq(),p=Pq(),g=p.defaultQueryOptions(t);(s=(r=p.getDefaultOptions().queries)==null?void 0:r._experimental_beforeQuery)==null||s.call(r,g),g._optimisticResults=c?"isRestoring":"optimistic",Fq(g),Oq(g,d),jq(d);const v=!p.getQueryCache().get(g.queryHash),[S]=E.useState(()=>new e(p,g)),C=S.getOptimisticResult(g),T=!c&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(_=>{const D=T?S.subscribe(_n.batchCalls(_)):sr;return S.updateResult(),D},[S,T]),()=>S.getCurrentResult(),()=>S.getCurrentResult()),E.useEffect(()=>{S.setOptions(g)},[g,S]),Vq(g,C))throw JC(g,S,d);if(Lq({result:C,errorResetBoundary:d,throwOnError:g.throwOnError,query:p.getQueryCache().get(g.queryHash),suspense:g.suspense}))throw C.error;if((o=(i=p.getDefaultOptions().queries)==null?void 0:i._experimental_afterQuery)==null||o.call(i,g,C),g.experimental_prefetchInRender&&!Rl&&Bq(C,c)){const _=v?JC(g,S,d):(u=p.getQueryCache().get(g.queryHash))==null?void 0:u.promise;_==null||_.catch(sr).finally(()=>{S.updateResult()})}return g.notifyOnChangeProps?C:S.trackResult(C)}function Uq(t,e){return zq(t,bq)}/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const qq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xM=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var $q={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Kq=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...u},c)=>E.createElement("svg",{ref:c,...$q,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:xM("lucide",s),...u},[...o.map(([d,p])=>E.createElement(d,p)),...Array.isArray(i)?i:[i]]));/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Xe=(t,e)=>{const n=E.forwardRef(({className:r,...s},i)=>E.createElement(Kq,{ref:i,iconNode:e,className:xM(`lucide-${qq(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Wq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Gq=Xe("ArrowRight",Wq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Hq=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Qq=Xe("Award",Hq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Xq=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Qm=Xe("Brain",Xq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Yq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ew=Xe("Calendar",Yq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Jq=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Zq=Xe("ChartColumn",Jq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const e$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],t$=Xe("Check",e$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const n$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],r$=Xe("ChevronDown",n$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const s$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],i$=Xe("ChevronRight",s$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const a$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],o$=Xe("CircleCheckBig",a$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const l$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],u$=Xe("CircleX",l$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const c$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],h$=Xe("Circle",c$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const d$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],f$=Xe("Clock",d$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const p$=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],ZC=Xe("Coins",p$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const m$=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],g$=Xe("CreditCard",m$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const y$=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],dl=Xe("Crown",y$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const v$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],eI=Xe("EyeOff",v$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const w$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tI=Xe("Eye",w$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const b$=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],x$=Xe("Gamepad2",b$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const E$=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],nI=Xe("GraduationCap",E$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const S$=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],rI=Xe("Heart",S$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const k$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],sI=Xe("House",k$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const T$=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],iI=Xe("LogOut",T$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _$=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],aI=Xe("Mail",_$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const C$=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],I$=Xe("Menu",C$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const P$=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],D$=Xe("PartyPopper",P$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const N$=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],A$=Xe("Rocket",N$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const M$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oI=Xe("Settings",M$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const R$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],O$=Xe("Shield",R$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const j$=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],tw=Xe("ShoppingBag",j$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const L$=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],EM=Xe("Sparkles",L$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const F$=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],nw=Xe("Star",F$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const B$=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Tb=Xe("Trophy",B$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const V$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rw=Xe("User",V$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const z$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],_b=Xe("Users",z$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const U$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],B1=Xe("X",U$);function SM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=SM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kM(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=SM(t))&&(r&&(r+=" "),r+=e);return r}const lI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,uI=kM,qy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return uI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const p=n==null?void 0:n[d],g=i==null?void 0:i[d];if(p===null)return null;const v=lI(p)||lI(g);return s[d][v]}),u=n&&Object.entries(n).reduce((d,p)=>{let[g,v]=p;return v===void 0||(d[g]=v),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,p)=>{let{class:g,className:v,...S}=p;return Object.entries(S).every(C=>{let[T,_]=C;return Array.isArray(_)?_.includes({...i,...u}[T]):{...i,...u}[T]===_})?[...d,g,v]:d},[]);return uI(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},V1="-",q$=t=>{const e=K$(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const i=s.split(V1);return i[0]===""&&i.length!==1&&i.shift(),TM(i,e)||$$(s)},getConflictingClassGroupIds:(s,i)=>{const o=n[s]||[];return i&&r[s]?[...o,...r[s]]:o}}},TM=(t,e)=>{var n;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),i=s?TM(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(V1);return(n=e.validators.find(({validator:u})=>u(o)))==null?void 0:n.classGroupId},cI=/^\[(.+)\]$/,$$=t=>{if(cI.test(t)){const e=cI.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},K$=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Cb(n[s],r,s,e);return r},Cb=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:hI(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(W$(s)){Cb(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Cb(o,hI(e,i),n,r)})})},hI=(t,e)=>{let n=t;return e.split(V1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},W$=t=>t.isThemeGetter,G$=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Ib="!",Pb=":",H$=Pb.length,Q$=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,u=0,c=0,d;for(let C=0;C<s.length;C++){let T=s[C];if(o===0&&u===0){if(T===Pb){i.push(s.slice(c,C)),c=C+H$;continue}if(T==="/"){d=C;continue}}T==="["?o++:T==="]"?o--:T==="("?u++:T===")"&&u--}const p=i.length===0?s:s.substring(c),g=X$(p),v=g!==p,S=d&&d>c?d-c:void 0;return{modifiers:i,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:S}};if(e){const s=e+Pb,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},X$=t=>t.endsWith(Ib)?t.substring(0,t.length-1):t.startsWith(Ib)?t.substring(1):t,Y$=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(r.push(...s.sort(),i),s=[]):s.push(i)}),r.push(...s.sort()),r}},J$=t=>({cache:G$(t.cacheSize),parseClassName:Q$(t),sortModifiers:Y$(t),...q$(t)}),Z$=/\s+/,eK=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],u=t.trim().split(Z$);let c="";for(let d=u.length-1;d>=0;d-=1){const p=u[d],{isExternal:g,modifiers:v,hasImportantModifier:S,baseClassName:C,maybePostfixModifierPosition:T}=n(p);if(g){c=p+(c.length>0?" "+c:c);continue}let _=!!T,D=r(_?C.substring(0,T):C);if(!D){if(!_){c=p+(c.length>0?" "+c:c);continue}if(D=r(C),!D){c=p+(c.length>0?" "+c:c);continue}_=!1}const A=i(v).join(":"),O=S?A+Ib:A,V=O+D;if(o.includes(V))continue;o.push(V);const U=s(D,_);for(let W=0;W<U.length;++W){const M=U[W];o.push(O+M)}c=p+(c.length>0?" "+c:c)}return c};function tK(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=_M(e))&&(r&&(r+=" "),r+=n);return r}const _M=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=_M(t[r]))&&(n&&(n+=" "),n+=e);return n};function nK(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((p,g)=>g(p),t());return n=J$(d),r=n.cache.get,s=n.cache.set,i=u,u(c)}function u(c){const d=r(c);if(d)return d;const p=eK(c,n);return s(c,p),p}return function(){return i(tK.apply(null,arguments))}}const un=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},CM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,IM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rK=/^\d+\/\d+$/,sK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,oK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gu=t=>rK.test(t),$e=t=>!!t&&!Number.isNaN(Number(t)),Fa=t=>!!t&&Number.isInteger(Number(t)),sw=t=>t.endsWith("%")&&$e(t.slice(0,-1)),Di=t=>sK.test(t),uK=()=>!0,cK=t=>iK.test(t)&&!aK.test(t),PM=()=>!1,hK=t=>oK.test(t),dK=t=>lK.test(t),fK=t=>!xe(t)&&!Ee(t),pK=t=>Uc(t,AM,PM),xe=t=>CM.test(t),Jo=t=>Uc(t,MM,cK),iw=t=>Uc(t,wK,$e),dI=t=>Uc(t,DM,PM),mK=t=>Uc(t,NM,dK),wm=t=>Uc(t,RM,hK),Ee=t=>IM.test(t),od=t=>qc(t,MM),gK=t=>qc(t,bK),fI=t=>qc(t,DM),yK=t=>qc(t,AM),vK=t=>qc(t,NM),bm=t=>qc(t,RM,!0),Uc=(t,e,n)=>{const r=CM.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},qc=(t,e,n=!1)=>{const r=IM.exec(t);return r?r[1]?e(r[1]):n:!1},DM=t=>t==="position"||t==="percentage",NM=t=>t==="image"||t==="url",AM=t=>t==="length"||t==="size"||t==="bg-size",MM=t=>t==="length",wK=t=>t==="number",bK=t=>t==="family-name",RM=t=>t==="shadow",xK=()=>{const t=un("color"),e=un("font"),n=un("text"),r=un("font-weight"),s=un("tracking"),i=un("leading"),o=un("breakpoint"),u=un("container"),c=un("spacing"),d=un("radius"),p=un("shadow"),g=un("inset-shadow"),v=un("text-shadow"),S=un("drop-shadow"),C=un("blur"),T=un("perspective"),_=un("aspect"),D=un("ease"),A=un("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...V(),Ee,xe],W=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],I=()=>[Ee,xe,c],N=()=>[Gu,"full","auto",...I()],j=()=>[Fa,"none","subgrid",Ee,xe],B=()=>["auto",{span:["full",Fa,Ee,xe]},Fa,Ee,xe],q=()=>[Fa,"auto",Ee,xe],L=()=>["auto","min","max","fr",Ee,xe],ke=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ae=()=>["start","end","center","stretch","center-safe","end-safe"],ye=()=>["auto",...I()],ve=()=>[Gu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],H=()=>[t,Ee,xe],ne=()=>[...V(),fI,dI,{position:[Ee,xe]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",yK,pK,{size:[Ee,xe]}],re=()=>[sw,od,Jo],pe=()=>["","none","full",d,Ee,xe],me=()=>["",$e,od,Jo],Me=()=>["solid","dashed","dotted","double"],ze=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ie=()=>[$e,sw,fI,dI],qe=()=>["","none",C,Ee,xe],Ve=()=>["none",$e,Ee,xe],pt=()=>["none",$e,Ee,xe],_r=()=>[$e,Ee,xe],Cr=()=>[Gu,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Di],breakpoint:[Di],color:[uK],container:[Di],"drop-shadow":[Di],ease:["in","out","in-out"],font:[fK],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Di],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Di],shadow:[Di],spacing:["px",$e],text:[Di],"text-shadow":[Di],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Gu,xe,Ee,_]}],container:["container"],columns:[{columns:[$e,xe,Ee,u]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[Fa,"auto",Ee,xe]}],basis:[{basis:[Gu,"full","auto",u,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,Gu,"auto","initial","none",xe]}],grow:[{grow:["",$e,Ee,xe]}],shrink:[{shrink:["",$e,Ee,xe]}],order:[{order:[Fa,"first","last","none",Ee,xe]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...ke(),"normal"]}],"justify-items":[{"justify-items":[...Ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ae()]}],"align-content":[{content:["normal",...ke()]}],"align-items":[{items:[...Ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":ke()}],"place-items":[{"place-items":[...Ae(),"baseline"]}],"place-self":[{"place-self":["auto",...Ae()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:ye()}],mx:[{mx:ye()}],my:[{my:ye()}],ms:[{ms:ye()}],me:[{me:ye()}],mt:[{mt:ye()}],mr:[{mr:ye()}],mb:[{mb:ye()}],ml:[{ml:ye()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:ve()}],w:[{w:[u,"screen",...ve()]}],"min-w":[{"min-w":[u,"screen","none",...ve()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...ve()]}],h:[{h:["screen","lh",...ve()]}],"min-h":[{"min-h":["screen","lh","none",...ve()]}],"max-h":[{"max-h":["screen","lh",...ve()]}],"font-size":[{text:["base",n,od,Jo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ee,iw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",sw,xe]}],"font-family":[{font:[gK,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ee,xe]}],"line-clamp":[{"line-clamp":[$e,"none",Ee,iw]}],leading:[{leading:[i,...I()]}],"list-image":[{"list-image":["none",Ee,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Me(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",Ee,Jo]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[$e,"auto",Ee,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Fa,Ee,xe],radial:["",Ee,xe],conic:[Fa,Ee,xe]},vK,mK]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Me(),"hidden","none"]}],"divide-style":[{divide:[...Me(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...Me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,Ee,xe]}],"outline-w":[{outline:["",$e,od,Jo]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",p,bm,wm]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",g,bm,wm]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[$e,Jo]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",v,bm,wm]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[$e,Ee,xe]}],"mix-blend":[{"mix-blend":[...ze(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ze()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ie()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":Ie()}],"mask-image-t-to-pos":[{"mask-t-to":Ie()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":Ie()}],"mask-image-r-to-pos":[{"mask-r-to":Ie()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":Ie()}],"mask-image-b-to-pos":[{"mask-b-to":Ie()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":Ie()}],"mask-image-l-to-pos":[{"mask-l-to":Ie()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":Ie()}],"mask-image-x-to-pos":[{"mask-x-to":Ie()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":Ie()}],"mask-image-y-to-pos":[{"mask-y-to":Ie()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Ee,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ie()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":V()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ie()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,xe]}],filter:[{filter:["","none",Ee,xe]}],blur:[{blur:qe()}],brightness:[{brightness:[$e,Ee,xe]}],contrast:[{contrast:[$e,Ee,xe]}],"drop-shadow":[{"drop-shadow":["","none",S,bm,wm]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",$e,Ee,xe]}],"hue-rotate":[{"hue-rotate":[$e,Ee,xe]}],invert:[{invert:["",$e,Ee,xe]}],saturate:[{saturate:[$e,Ee,xe]}],sepia:[{sepia:["",$e,Ee,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,xe]}],"backdrop-blur":[{"backdrop-blur":qe()}],"backdrop-brightness":[{"backdrop-brightness":[$e,Ee,xe]}],"backdrop-contrast":[{"backdrop-contrast":[$e,Ee,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,Ee,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,Ee,xe]}],"backdrop-invert":[{"backdrop-invert":["",$e,Ee,xe]}],"backdrop-opacity":[{"backdrop-opacity":[$e,Ee,xe]}],"backdrop-saturate":[{"backdrop-saturate":[$e,Ee,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,Ee,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",Ee,xe]}],ease:[{ease:["linear","initial",D,Ee,xe]}],delay:[{delay:[$e,Ee,xe]}],animate:[{animate:["none",A,Ee,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Ee,xe]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:Ve()}],"rotate-x":[{"rotate-x":Ve()}],"rotate-y":[{"rotate-y":Ve()}],"rotate-z":[{"rotate-z":Ve()}],scale:[{scale:pt()}],"scale-x":[{"scale-x":pt()}],"scale-y":[{"scale-y":pt()}],"scale-z":[{"scale-z":pt()}],"scale-3d":["scale-3d"],skew:[{skew:_r()}],"skew-x":[{"skew-x":_r()}],"skew-y":[{"skew-y":_r()}],transform:[{transform:[Ee,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Cr()}],"translate-x":[{"translate-x":Cr()}],"translate-y":[{"translate-y":Cr()}],"translate-z":[{"translate-z":Cr()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,xe]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[$e,od,Jo,iw]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},EK=nK(xK);function wt(...t){return EK(kM(t))}function Db(t){const e=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];if(t<20)return e[t];if(t<100)return n[Math.floor(t/10)]+(t%10?"-"+e[t%10]:"");if(t<1e3){const r=t%100,s=e[Math.floor(t/100)]+" hundred";return r?s+" "+Db(r):s}return String(t)}function Nb(t){const e=["cero","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez","once","doce","trece","catorce","quince","diecisis","diecisiete","dieciocho","diecinueve"],n=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];if(t<20)return e[t];if(t<30)return t===20?"veinte":"veinti"+e[t-20];if(t<100)return n[Math.floor(t/10)]+(t%10?" y "+e[t%10]:"");if(t<200)return"ciento"+(t%100?" "+Nb(t%100):"");if(t<1e3){const r=["cero","ciento","doscientos","trescientos","cuatrocientos","quinientos","seiscientos","setecientos","ochocientos","novecientos"][Math.floor(t/100)],s=t%100;return r+(s?" "+Nb(s):"")}return String(t)}function Ane(t,e={}){if(!t||typeof t!="string")return t;const{numberToWords:n="auto",language:r,pauseOperators:s=!0}=e;let i="en";try{i=r||(localStorage.getItem("tts.lang")==="es"?"es":"en")||"en"}catch{}let o=t;o=o.replace(//g,"-").replace(/|/g,"");const u={2:"half",3:"third",4:"fourth",5:"fifth",6:"sixth",7:"seventh",8:"eighth",9:"ninth",10:"tenth",12:"twelfth"},c={2:"medios",3:"tercios",4:"cuartos",5:"quintos",6:"sextos",7:"sptimos",8:"octavos",9:"novenos",10:"dcimos",12:"duodcimos"};if([{pattern:/\s*\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\/\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\s*/g,spoken:i==="es"?" por ":" times "},{pattern:/\s*\*\s*/g,spoken:" times "},{pattern:/(\d+)\s*[xX]\s*(\d+)/g,spoken:i==="es"?"$1 por $2":"$1 times $2"},{pattern:/\s*\+\s*/g,spoken:i==="es"?" ms ":" plus "},{pattern:/(\d+)\s*-\s*(\d+)/g,spoken:i==="es"?"$1 menos $2":"$1 minus $2"},{pattern:/\s*=\s*/g,spoken:i==="es"?" igual a ":" equals "},{pattern:/\s*>\s*/g,spoken:i==="es"?" es mayor que ":" is greater than "},{pattern:/\s*<\s*/g,spoken:i==="es"?" es menor que ":" is less than "},{pattern:/\s*\s*/g,spoken:i==="es"?" es mayor o igual que ":" is greater than or equal to "},{pattern:/\s*\s*/g,spoken:i==="es"?" es menor o igual que ":" is less than or equal to "},{pattern:/(\d+)\/(\d+)/g,spoken:(d,p,g)=>i==="es"?`${p} ${c[g]||"sobre "+g}`:u[g]?`${p==="1"?"one":Db(Number(p))} ${u[g]}${p!=="1"?"s":""}`:`${p} over ${g}`},{pattern:/%/g,spoken:i==="es"?" por ciento":" percent"},{pattern:/\^(\d+)/g,spoken:i==="es"?" a la potencia de $1":" to the power of $1"},{pattern:/(\d+)/g,spoken:i==="es"?"raz cuadrada de $1":"square root of $1"}].forEach(({pattern:d,spoken:p})=>{o=o.replace(d,p)}),o=o.replace(/(\d)\.(\d)/g,i==="es"?"$1 coma $2":"$1 point $2"),o=o.replace(/\s*(,)?\s*(\?+|_+)\s*(,)?\s*/g,(d,p,g,v)=>p&&v?", ":" "),o=o.replace(/\?\s*$/g,""),s&&(i==="es"?[" ms "," menos "," por "," dividido entre "," igual a "]:[" plus "," minus "," times "," divided by "," equals "]).forEach(d=>{const p=new RegExp(d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"(?!,)","g");o=o.replace(p,d+", ")}),n!=="none"){const d=i==="es"?Nb:Db;o=o.replace(/\b\d+\b/g,(p,g)=>{const v=parseInt(p,10);if(!Number.isFinite(v))return p;if(n==="all")return d(v);const S=v<=20,C=o[g-1]||"",T=o[g+p.length]||"";return S||C===","||T===","?d(v):p})}return o=o.replace(/\s+,/g,",").replace(/,\s*,/g,", ").replace(/\s+/g," ").replace(/\s+,\s*$/g,"").trim(),o}const SK=qy("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Br({className:t,variant:e,...n}){return x.jsx("div",{className:wt(SK({variant:e}),t),...n})}function pI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ql(...t){return e=>{let n=!1;const r=t.map(s=>{const i=pI(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():pI(t[s],null)}}}}function lr(...t){return E.useCallback(ql(...t),t)}var kK=Symbol.for("react.lazy"),zg=dx[" use ".trim().toString()];function TK(t){return typeof t=="object"&&t!==null&&"then"in t}function OM(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===kK&&"_payload"in t&&TK(t._payload)}function _K(t){const e=IK(t),n=E.forwardRef((r,s)=>{let{children:i,...o}=r;OM(i)&&typeof zg=="function"&&(i=zg(i._payload));const u=E.Children.toArray(i),c=u.find(DK);if(c){const d=c.props.children,p=u.map(g=>g===c?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,p):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var CK=_K("Slot");function IK(t){const e=E.forwardRef((n,r)=>{let{children:s,...i}=n;if(OM(s)&&typeof zg=="function"&&(s=zg(s._payload)),E.isValidElement(s)){const o=AK(s),u=NK(i,s.props);return s.type!==E.Fragment&&(u.ref=r?ql(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var PK=Symbol("radix.slottable");function DK(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===PK}function NK(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function AK(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}const MK=qy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Qs=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?CK:"button";return x.jsx(o,{className:wt(MK({variant:e,size:n,className:t})),ref:i,...s})});Qs.displayName="Button";const yn=Iy(ms);ly(ms);const jM=async(t,e={})=>{const n=si(yn,"users",t),r={email:t,subscription_tier:"free",subscription_expires_at:null,subscription_auto_renew:!1,trial_start_date:Un(),trial_expires_at:null,trial_used:!1,trial_grace_used:!1,coins:0,stars_spent:0,total_stars_earned:0,owned_pets:[],active_pet:null,purchased_items:[],unlocked_items:[],power_ups:{},pet_experience:{},daily_login_streak:0,total_login_days:0,last_login_date:null,parental_controls:{enabled:!1,allowed_operations:[],allowed_levels:[],focus_operations:[],daily_time_limit_minutes:0,enforce_time_limits:!1},daily_usage_tracking:{},is_parent_mode:!1,is_premium_parent:!1,is_family_teacher:!1,parent_email:null,child_name:null,full_name:null,created_at:Un(),updated_at:Un(),...e};await jy(n,r);const s=(await wA(n)).data();let i=null;if(s&&s.trial_start_date&&s.trial_start_date.toDate?i=s.trial_start_date.toDate():s&&s.trial_start_date&&s.trial_start_date.seconds&&(i=new Date(s.trial_start_date.seconds*1e3)),i){const o=new Date(i.getTime()+6048e5);return await Ly(n,{trial_expires_at:rt.fromDate(o),updated_at:Un()}),{...s,trial_expires_at:rt.fromDate(o)}}return s||r},LM=async t=>{const e=si(yn,"users",t),n=await wA(e);return n.exists()?{id:n.id,...n.data()}:await jM(t)},xm=async(t,e)=>{const n=si(yn,"users",t);await Ly(n,{...e,updated_at:Un()})},Mne=async()=>{const t=Fn(yn,"users");return(await ps(t)).docs.map(e=>({id:e.id,...e.data()}))},Rne=async(t,e)=>{const n=Fn(yn,"gameProgress"),r=si(n),s={user_email:t,operation:e.operation,level:e.level,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,coins_earned:e.coins_earned||0,accuracy:e.accuracy||0,completed_at:Un(),...e};return await jy(r,s),{id:r.id,...s}},One=async t=>{const e=Fn(yn,"gameProgress"),n=fs(e,qr("user_email","==",t),Bc("completed_at","desc"));return(await ps(n)).docs.map(r=>({id:r.id,...r.data()}))},jne=(t,e)=>{const n=Fn(yn,"gameProgress"),r=fs(n,qr("user_email","==",t),Bc("completed_at","desc"));return bA(r,s=>{const i=s.docs.map(o=>({id:o.id,...o.data()}));e(i)})},Lne=async()=>{const t=Fn(yn,"gameProgress"),e=fs(t,Bc("score","desc"),w1(100));return(await ps(e)).docs.map(n=>({id:n.id,...n.data()}))},Fne=async(t,e)=>{const n=Fn(yn,"dailyChallenges"),r=si(n),s={user_email:t,challenge_type:e.challenge_type,challenge_date:e.challenge_date,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,bonus_coins:e.bonus_coins||0,completed_at:Un(),...e};return await jy(r,s),{id:r.id,...s}},Bne=async t=>{const e=Fn(yn,"dailyChallenges"),n=fs(e,qr("user_email","==",t),Bc("completed_at","desc"));return(await ps(n)).docs.map(r=>({id:r.id,...r.data()}))},Vne=async()=>{const t=Fn(yn,"dailyChallenges"),e=fs(t,Bc("score","desc"),w1(100));return(await ps(e)).docs.map(n=>({id:n.id,...n.data()}))},zne=async t=>{const e=Fn(yn,"teamChallenges"),n=fs(e,qr("creator_email","==",t)),r=fs(e,qr("team_members","array-contains",t)),[s,i]=await Promise.all([ps(n),ps(r)]),o=new Map;return s.docs.forEach(u=>o.set(u.id,{id:u.id,...u.data()})),i.docs.forEach(u=>o.set(u.id,{id:u.id,...u.data()})),Array.from(o.values())},Une=async(t,e)=>{const n=si(yn,"teamChallenges",t);await Ly(n,{...e,updated_at:Un()})},qne=async t=>{const e=Fn(yn,"tutorSessions"),n=fs(e,qr("user_email","==",t),Bc("created_at","desc"),w1(50));return(await ps(n)).docs.map(r=>({id:r.id,...r.data()}))},$ne=async(t,e)=>{const n=Fn(yn,"friendConnections"),r=si(n),s={user_email:t,friend_email:e,status:"pending",sent_at:Un()};return await jy(r,s),{id:r.id,...s}},Kne=async t=>{const e=Fn(yn,"friendConnections"),n=fs(e,qr("user_email","==",t),qr("status","==","accepted")),r=fs(e,qr("friend_email","==",t),qr("status","==","accepted")),[s,i]=await Promise.all([ps(n),ps(r)]);return[...s.docs.map(o=>({id:o.id,...o.data()})),...i.docs.map(o=>({id:o.id,...o.data()}))]},Wne=async t=>{const e=Fn(yn,"friendConnections"),n=fs(e,qr("friend_email","==",t),qr("status","==","pending"));return(await ps(n)).docs.map(r=>({id:r.id,...r.data()}))},Gne=async(t,e)=>{const n=si(yn,"friendConnections",t);await Ly(n,{status:e,updated_at:Un()})},Xm=E.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:wt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Xm.displayName="Input";function FM(){const[t,e]=E.useState("sign-in"),[n,r]=E.useState(""),[s,i]=E.useState(""),[o,u]=E.useState(""),[c,d]=E.useState(!1),[p,g]=E.useState(""),[v,S]=E.useState(""),[C,T]=E.useState(!1),[_,D]=E.useState(!1),A=()=>{S(""),g("")},O=async()=>{if(A(),!n){S("Email required");return}if(t==="sign-up"){if(!s){S("Password required");return}if(s!==o){S("Passwords do not match");return}}if(t==="sign-in"&&!s){S("Password required");return}d(!0);try{t==="sign-up"?(await K6($0,n,s),await jM(n),g("Account created. You are signed in.")):t==="sign-in"?(await W6($0,n,s),await LM(n),g("Signed in.")):t==="reset"&&(await $6($0,n),g("Reset link sent. Check your email."))}catch(U){S((U==null?void 0:U.message)||"Auth failed")}finally{d(!1)}},V=U=>{A(),e(U)};return x.jsxs("div",{className:"w-full max-w-sm mx-auto bg-white/90 rounded-xl shadow-lg p-5 space-y-4",children:[x.jsxs("h2",{className:"text-xl font-bold text-purple-700 text-center",children:[t==="sign-in"&&"Sign In",t==="sign-up"&&"Create Account",t==="reset"&&"Reset Password"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Xm,{type:"email",autoComplete:"email",placeholder:"Email",value:n,onChange:U=>r(U.target.value)}),t!=="reset"&&x.jsxs("div",{className:"relative",children:[x.jsx(Xm,{type:C?"text":"password",autoComplete:t==="sign-up"?"new-password":"current-password",placeholder:"Password",value:s,onChange:U=>i(U.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>T(!C),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:C?x.jsx(eI,{className:"w-4 h-4"}):x.jsx(tI,{className:"w-4 h-4"})})]}),t==="sign-up"&&x.jsxs("div",{className:"relative",children:[x.jsx(Xm,{type:_?"text":"password",placeholder:"Confirm Password",value:o,onChange:U=>u(U.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>D(!_),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:_?x.jsx(eI,{className:"w-4 h-4"}):x.jsx(tI,{className:"w-4 h-4"})})]})]}),(v||p)&&x.jsx("div",{className:`text-sm rounded-md p-2 ${v?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:v||p}),x.jsx(Qs,{onClick:O,disabled:c,className:"w-full bg-purple-600 hover:bg-purple-700",children:c?"Please wait":t==="sign-in"?"Sign In":t==="sign-up"?"Sign Up":"Send Reset Link"}),x.jsxs("div",{className:"text-xs text-center text-gray-600 space-y-1",children:[t==="sign-in"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>V("sign-up"),className:"text-purple-600 hover:underline block w-full",children:"Need an account? Sign up"}),x.jsx("button",{onClick:()=>V("reset"),className:"text-purple-600 hover:underline block w-full",children:"Forgot password?"})]}),t==="sign-up"&&x.jsx("button",{onClick:()=>V("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Have an account? Sign in"}),t==="reset"&&x.jsx("button",{onClick:()=>V("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Back to sign in"})]})]})}const BM=t=>{if(!t)return!1;if(!t.trial_start_date||!t.trial_expires_at)return t.subscription_tier==="free"&&t.trial_used!==!0;if(t.subscription_tier!=="free"||t.trial_used===!0)return!1;const e=new Date,n=t.trial_expires_at.toDate();return e<n},RK=t=>{if(!t||!t.trial_start_date||!t.trial_expires_at||t.subscription_tier!=="free")return!1;const e=new Date,n=t.trial_expires_at.toDate();return e>=n},OK=t=>{if(!t||!t.trial_expires_at||t.subscription_tier!=="free")return 0;const e=new Date,n=t.trial_expires_at.toDate()-e;return n<=0?0:Math.ceil(n/(1e3*60*60*24))},jK=t=>t?!!(t.subscription_tier&&t.subscription_tier!=="free"||BM(t)&&t.trial_used!==!0):!1;let Ug=OU;(async()=>{try{!Ug&&await GA()&&(Ug=WA(ms))}catch{}})();function $y(t,e={}){if(Ug)try{HA(Ug,t,e)}catch(n){console.warn("analytics log skipped",t,n==null?void 0:n.message)}}const LK=t=>$y("trial_start",{method:"auto",user_email:t}),FK=(t,e)=>$y("trial_day",{day:e,user_email:t}),BK=t=>$y("trial_expired",{user_email:t}),VK=t=>$y("trial_grace_lock",{user_email:t}),z1=Iy(ms);async function zK(t){try{await x1(Fn(z1,"notifications"),{user_email:t,type:"trial_day6_warning",title:"Trial Ending Soon!",message:"Your 7-day trial ends tomorrow. Upgrade now to keep unlimited access to premium features!",is_read:!1,created_at:Un(),action_url:"/subscription"})}catch(e){console.warn("Failed to create day6 notification:",e.message)}}async function UK(t){try{await x1(Fn(z1,"notifications"),{user_email:t,type:"trial_expired",title:"Trial Ended",message:"Your 7-day trial has ended. You are now on the free plan. Upgrade anytime to regain premium features.",is_read:!1,created_at:Un(),action_url:"/subscription"})}catch(e){console.warn("Failed to create trial expired notification:",e.message)}}async function qK(t){try{await x1(Fn(z1,"notifications"),{user_email:t,type:"trial_grace_day",title:"Grace Day: Final Chance!",message:"Your trial expired, but you still have premium access today only. Upgrade now before it locks tomorrow.",is_read:!1,created_at:Un(),action_url:"/subscription"})}catch(e){console.warn("Failed to create grace day notification:",e.message)}}function $K(){const[t,e]=E.useState(null),[n,r]=E.useState(!0),[s,i]=E.useState(null);return E.useEffect(()=>{const o=ly(ms),u=Iy(ms);let c=null;const d=Q6(o,async p=>{var g;if(!p){e(null),r(!1);return}try{e(v=>v||{email:p.email,subscription_tier:"free",coins:0}),i(null);try{const v=(g=p==null?void 0:p.metadata)!=null&&g.creationTime?new Date(p.metadata.creationTime).getTime():null,S=v?Date.now()-v<1440*60*1e3:!1,C=`optimistic_trial_${p.email}`,T=typeof window<"u"?localStorage.getItem(C):null;S&&!T&&(e(_=>({..._||{},email:p.email,subscription_tier:"free",coins:0,isOnTrial:!0,trialExpired:!1,trialDaysRemaining:7,inGraceDay:!1,hasPremiumAccess:!0,_optimisticTrial:!0})),localStorage.setItem(C,"true"))}catch{}try{if(typeof window<"u"&&window.location.search.includes("reset_trial=true")){const v=Date.now(),S=new Date(v+10080*60*1e3);await xm(p.email,{trial_start_date:Un(),trial_expires_at:rt.fromDate(S),trial_used:!1,trial_grace_used:!1}),localStorage.removeItem(`trial_log_${p.email}`);const C=new URL(window.location.href);C.searchParams.delete("reset_trial"),window.history.replaceState({},"",C.toString()),console.info("[trial] Trial reset performed for",p.email)}}catch(v){console.warn("[trial] Trial reset attempt failed:",v==null?void 0:v.message)}c&&c(),c=bA(si(u,"users",p.email),v=>{var S,C;if(v.exists()){const T={id:v.id,...v.data()};(async()=>{try{if(!T.trial_start_date||!T.trial_expires_at){const B=Date.now(),q=new Date(B+10080*60*1e3);await xm(p.email,{trial_start_date:Un(),trial_expires_at:rt.fromDate(q),trial_used:!1,trial_grace_used:!1})}}catch{}})();const _=BM(T)||!T.trial_start_date||!T.trial_expires_at,D=RK(T),A=OK(T),O=7,V=(S=T.trial_start_date)!=null&&S.toDate?Math.floor((Date.now()-T.trial_start_date.toDate().getTime())/(1e3*60*60*24)):null,U=D&&V===O&&T.trial_grace_used!==!0;e({...T,isOnTrial:_,trialExpired:D,trialDaysRemaining:A,inGraceDay:U,hasPremiumAccess:jK(T)||_||U});const W=v.id,M=`trial_log_${W}`,I=localStorage.getItem(M);let N=I?JSON.parse(I):{};const j=(C=T.trial_start_date)!=null&&C.toDate?T.trial_start_date.toDate().getTime():null;if(j){const B=N.trial_start_timestamp||null;(!B||B!==j)&&(N={})}if(T.trial_start_date&&!N.trial_start&&(LK(W),N.trial_start=!0,j&&(N.trial_start_timestamp=j)),_&&A>=0&&A<=7){const B=`day_${7-A}`;N[B]||(FK(W,7-A),N[B]=!0),A===1&&!N.notif_day6&&(zK(W),N.notif_day6=!0)}D&&T.subscription_tier==="free"&&!N.trial_expired&&(BK(W),N.trial_expired=!0,T.trial_used!==!0&&xm(v.id,{trial_used:!0}).catch(()=>{}),N.notif_expired||(UK(W),N.notif_expired=!0)),U&&!N.grace_lock&&(VK(W),N.grace_lock=!0,T.trial_grace_used!==!0&&xm(v.id,{trial_grace_used:!0}).catch(()=>{}),N.notif_grace||(qK(W),N.notif_grace=!0));try{localStorage.setItem(M,JSON.stringify(N))}catch{}}},v=>{console.error("Firestore snapshot error:",v)}),LM(p.email).catch(v=>{console.error("Failed to ensure user profile",v),i(v)})}catch(v){console.error("Failed to initialize user session",v),i(v),e({email:p.email,subscription_tier:"free",coins:0})}finally{r(!1)}});return()=>{c&&c(),d()}},[]),{user:t,loading:n,error:s}}const VM=E.createContext({user:null,loading:!0,error:null});function KK({children:t}){const e=$K();return x.jsx(VM.Provider,{value:e,children:t})}function U1(){return E.useContext(VM)}const WK=qy("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),zM=E.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,role:"alert",className:wt(WK({variant:e}),t),...n}));zM.displayName="Alert";const GK=E.forwardRef(({className:t,...e},n)=>x.jsx("h5",{ref:n,className:wt("mb-1 font-medium leading-none tracking-tight",t),...e}));GK.displayName="AlertTitle";const UM=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm [&_p]:leading-relaxed",t),...e}));UM.displayName="AlertDescription";function HK(){const{user:t}=U1(),e=P1(),[n,r]=cn.useState(!1),[s,i]=cn.useState(!0);if(!t||n===!0||s===!1||!(t.isOnTrial||t.trialExpired||t.inGraceDay))return null;const o=t.trialExpired&&!t.inGraceDay,u=t.trialDaysRemaining||0,c=t.inGraceDay;return x.jsx(zM,{className:`mb-4 ${o?"bg-red-50 border-red-300":u<=2?"bg-orange-50 border-orange-300":"bg-blue-50 border-blue-300"}`,children:x.jsxs("div",{className:"flex items-start justify-between gap-4",children:[x.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c?x.jsx(dl,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}):o?x.jsx(dl,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}):x.jsx(f$,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),x.jsx(UM,{className:c?"text-orange-800":o?"text-red-800":"text-blue-800",children:x.jsx("div",{className:"space-y-2",children:c?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Grace Day: Final Chance!"}),x.jsx("p",{className:"text-sm",children:"Your trial expired, but you still have premium access today only. Upgrade now to keep everything before it locks tomorrow."})]}):o?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Your 7-day trial has ended"}),x.jsx("p",{className:"text-sm",children:"You're now on the free plan with limited access. Upgrade to continue enjoying premium features like unlimited games, AI tutor, and more!"})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:u===0?" Trial ends today!":`${u} day${u===1?"":"s"} left in your trial`}),x.jsx("p",{className:"text-sm",children:"You're currently enjoying premium features. Upgrade now to keep unlimited access after your trial ends!"})]})})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(Qs,{onClick:()=>e("/subscription"),className:`${c?"bg-orange-600 hover:bg-orange-700":o?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white whitespace-nowrap`,size:"sm",children:[x.jsx(dl,{className:"w-4 h-4 mr-1"}),"Upgrade Now"]}),x.jsx(Qs,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"flex-shrink-0",children:x.jsx(B1,{className:"w-4 h-4"})})]})]})})}function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function Hne(t,e){const n=E.createContext(e),r=i=>{const{children:o,...u}=i,c=E.useMemo(()=>u,Object.values(u));return x.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=E.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Af(t,e=[]){let n=[];function r(i,o){const u=E.createContext(o),c=n.length;n=[...n,o];const d=g=>{var v;const{scope:S,children:C,...T}=g,_=((v=S==null?void 0:S[t])==null?void 0:v[c])||u,D=E.useMemo(()=>T,Object.values(T));return x.jsx(_.Provider,{value:D,children:C})};d.displayName=i+"Provider";function p(g,v){var S;const C=((S=v==null?void 0:v[t])==null?void 0:S[c])||u,T=E.useContext(C);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[d,p]}const s=()=>{const i=n.map(o=>E.createContext(o));return function(o){const u=(o==null?void 0:o[t])||i;return E.useMemo(()=>({[`__scope${t}`]:{...o,[t]:u}}),[o,u])}};return s.scopeName=t,[r,QK(s,...e)]}function QK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){const i=r.reduce((o,{useScope:u,scopeName:c})=>{const d=u(s)[`__scope${c}`];return{...o,...d}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var io=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},XK=dx[" useInsertionEffect ".trim().toString()]||io;function qM({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=YK({defaultProp:e,onChange:n}),u=t!==void 0,c=u?t:s;{const p=E.useRef(t!==void 0);E.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const d=E.useCallback(p=>{var g;if(u){const v=JK(p)?p(t):p;v!==t&&((g=o.current)==null||g.call(o,v))}else i(p)},[u,t,i,o]);return[c,d]}function YK({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),s=E.useRef(n),i=E.useRef(e);return XK(()=>{i.current=e},[e]),E.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function JK(t){return typeof t=="function"}function ZK(t){const e=eW(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,u=E.Children.toArray(i),c=u.find(nW);if(c){const d=c.props.children,p=u.map(g=>g===c?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,p):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function eW(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=sW(s),u=rW(i,s.props);return s.type!==E.Fragment&&(u.ref=r?ql(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tW=Symbol("radix.slottable");function nW(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tW}function rW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function sW(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var iW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Gn=iW.reduce((t,e)=>{const n=ZK(`Primitive.${e}`),r=E.forwardRef((s,i)=>{const{asChild:o,...u}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(c,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function $M(t,e){t&&R1.flushSync(()=>t.dispatchEvent(e))}function mI(t){const e=aW(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,u=E.Children.toArray(i),c=u.find(lW);if(c){const d=c.props.children,p=u.map(g=>g===c?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,p):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function aW(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=cW(s),u=uW(i,s.props);return s.type!==E.Fragment&&(u.ref=r?ql(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oW=Symbol("radix.slottable");function lW(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oW}function uW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function cW(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function KM(t){const e=t+"CollectionProvider",[n,r]=Af(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=T=>{const{scope:_,children:D}=T,A=cn.useRef(null),O=cn.useRef(new Map).current;return x.jsx(s,{scope:_,itemMap:O,collectionRef:A,children:D})};o.displayName=e;const u=t+"CollectionSlot",c=mI(u),d=cn.forwardRef((T,_)=>{const{scope:D,children:A}=T,O=i(u,D),V=lr(_,O.collectionRef);return x.jsx(c,{ref:V,children:A})});d.displayName=u;const p=t+"CollectionItemSlot",g="data-radix-collection-item",v=mI(p),S=cn.forwardRef((T,_)=>{const{scope:D,children:A,...O}=T,V=cn.useRef(null),U=lr(_,V),W=i(p,D);return cn.useEffect(()=>(W.itemMap.set(V,{ref:V,...O}),()=>void W.itemMap.delete(V))),x.jsx(v,{[g]:"",ref:U,children:A})});S.displayName=p;function C(T){const _=i(t+"CollectionConsumer",T);return cn.useCallback(()=>{const D=_.collectionRef.current;if(!D)return[];const A=Array.from(D.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((O,V)=>A.indexOf(O.ref.current)-A.indexOf(V.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:d,ItemSlot:S},C,r]}var hW=E.createContext(void 0);function WM(t){const e=E.useContext(hW);return t||e||"ltr"}function Ui(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function dW(t,e=globalThis==null?void 0:globalThis.document){const n=Ui(t);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var fW="DismissableLayer",Ab="dismissableLayer.update",pW="dismissableLayer.pointerDownOutside",mW="dismissableLayer.focusOutside",gI,GM=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),HM=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:u,...c}=t,d=E.useContext(GM),[p,g]=E.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=E.useState({}),C=lr(e,M=>g(M)),T=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),D=T.indexOf(_),A=p?T.indexOf(p):-1,O=d.layersWithOutsidePointerEventsDisabled.size>0,V=A>=D,U=vW(M=>{const I=M.target,N=[...d.branches].some(j=>j.contains(I));!V||N||(s==null||s(M),o==null||o(M),M.defaultPrevented||u==null||u())},v),W=wW(M=>{const I=M.target;[...d.branches].some(N=>N.contains(I))||(i==null||i(M),o==null||o(M),M.defaultPrevented||u==null||u())},v);return dW(M=>{A===d.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&u&&(M.preventDefault(),u()))},v),E.useEffect(()=>{if(p)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(gI=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),yI(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=gI)}},[p,v,n,d]),E.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),yI())},[p,d]),E.useEffect(()=>{const M=()=>S({});return document.addEventListener(Ab,M),()=>document.removeEventListener(Ab,M)},[]),x.jsx(Gn.div,{...c,ref:C,style:{pointerEvents:O?V?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,W.onFocusCapture),onBlurCapture:et(t.onBlurCapture,W.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,U.onPointerDownCapture)})});HM.displayName=fW;var gW="DismissableLayerBranch",yW=E.forwardRef((t,e)=>{const n=E.useContext(GM),r=E.useRef(null),s=lr(e,r);return E.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx(Gn.div,{...t,ref:s})});yW.displayName=gW;function vW(t,e=globalThis==null?void 0:globalThis.document){const n=Ui(t),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let c=function(){QM(pW,n,d,{discrete:!0})};const d={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function wW(t,e=globalThis==null?void 0:globalThis.document){const n=Ui(t),r=E.useRef(!1);return E.useEffect(()=>{const s=i=>{i.target&&!r.current&&QM(mW,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yI(){const t=new CustomEvent(Ab);document.dispatchEvent(t)}function QM(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?$M(s,i):s.dispatchEvent(i)}var aw=0;function bW(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??vI()),document.body.insertAdjacentElement("beforeend",t[1]??vI()),aw++,()=>{aw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),aw--}},[])}function vI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ow="focusScope.autoFocusOnMount",lw="focusScope.autoFocusOnUnmount",wI={bubbles:!1,cancelable:!0},xW="FocusScope",XM=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[u,c]=E.useState(null),d=Ui(s),p=Ui(i),g=E.useRef(null),v=lr(e,T=>c(T)),S=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let T=function(O){if(S.paused||!u)return;const V=O.target;u.contains(V)?g.current=V:Va(g.current,{select:!0})},_=function(O){if(S.paused||!u)return;const V=O.relatedTarget;V!==null&&(u.contains(V)||Va(g.current,{select:!0}))},D=function(O){if(document.activeElement===document.body)for(const V of O)V.removedNodes.length>0&&Va(u)};document.addEventListener("focusin",T),document.addEventListener("focusout",_);const A=new MutationObserver(D);return u&&A.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",_),A.disconnect()}}},[r,u,S.paused]),E.useEffect(()=>{if(u){xI.add(S);const T=document.activeElement;if(!u.contains(T)){const _=new CustomEvent(ow,wI);u.addEventListener(ow,d),u.dispatchEvent(_),_.defaultPrevented||(EW(CW(YM(u)),{select:!0}),document.activeElement===T&&Va(u))}return()=>{u.removeEventListener(ow,d),setTimeout(()=>{const _=new CustomEvent(lw,wI);u.addEventListener(lw,p),u.dispatchEvent(_),_.defaultPrevented||Va(T??document.body,{select:!0}),u.removeEventListener(lw,p),xI.remove(S)},0)}}},[u,d,p,S]);const C=E.useCallback(T=>{if(!n&&!r||S.paused)return;const _=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,D=document.activeElement;if(_&&D){const A=T.currentTarget,[O,V]=SW(A);O&&V?!T.shiftKey&&D===V?(T.preventDefault(),n&&Va(O,{select:!0})):T.shiftKey&&D===O&&(T.preventDefault(),n&&Va(V,{select:!0})):D===A&&T.preventDefault()}},[n,r,S.paused]);return x.jsx(Gn.div,{tabIndex:-1,...o,ref:v,onKeyDown:C})});XM.displayName=xW;function EW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Va(r,{select:e}),document.activeElement!==n)return}function SW(t){const e=YM(t),n=bI(e,t),r=bI(e.reverse(),t);return[n,r]}function YM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function bI(t,e){for(const n of t)if(!kW(n,{upTo:e}))return n}function kW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function TW(t){return t instanceof HTMLInputElement&&"select"in t}function Va(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&TW(t)&&e&&t.select()}}var xI=_W();function _W(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=EI(t,e),t.unshift(e)},remove(e){var n;t=EI(t,e),(n=t[0])==null||n.resume()}}}function EI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function CW(t){return t.filter(e=>e.tagName!=="A")}var IW=dx[" useId ".trim().toString()]||(()=>{}),PW=0;function Mb(t){const[e,n]=E.useState(IW());return io(()=>{n(r=>r??String(PW++))},[t]),e?`radix-${e}`:""}const DW=["top","right","bottom","left"],ao=Math.min,br=Math.max,qg=Math.round,Em=Math.floor,Xs=t=>({x:t,y:t}),NW={left:"right",right:"left",bottom:"top",top:"bottom"},AW={start:"end",end:"start"};function Rb(t,e,n){return br(t,ao(e,n))}function qi(t,e){return typeof t=="function"?t(e):t}function $i(t){return t.split("-")[0]}function $c(t){return t.split("-")[1]}function q1(t){return t==="x"?"y":"x"}function $1(t){return t==="y"?"height":"width"}const MW=new Set(["top","bottom"]);function qs(t){return MW.has($i(t))?"y":"x"}function K1(t){return q1(qs(t))}function RW(t,e,n){n===void 0&&(n=!1);const r=$c(t),s=K1(t),i=$1(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=$g(o)),[o,$g(o)]}function OW(t){const e=$g(t);return[Ob(t),e,Ob(e)]}function Ob(t){return t.replace(/start|end/g,e=>AW[e])}const SI=["left","right"],kI=["right","left"],jW=["top","bottom"],LW=["bottom","top"];function FW(t,e,n){switch(t){case"top":case"bottom":return n?e?kI:SI:e?SI:kI;case"left":case"right":return e?jW:LW;default:return[]}}function BW(t,e,n,r){const s=$c(t);let i=FW($i(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ob)))),i}function $g(t){return t.replace(/left|right|bottom|top/g,e=>NW[e])}function VW(t){return{top:0,right:0,bottom:0,left:0,...t}}function JM(t){return typeof t!="number"?VW(t):{top:t,right:t,bottom:t,left:t}}function Kg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function TI(t,e,n){let{reference:r,floating:s}=t;const i=qs(e),o=K1(e),u=$1(o),c=$i(e),d=i==="y",p=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let S;switch(c){case"top":S={x:p,y:r.y-s.height};break;case"bottom":S={x:p,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:g};break;case"left":S={x:r.x-s.width,y:g};break;default:S={x:r.x,y:r.y}}switch($c(e)){case"start":S[o]-=v*(n&&d?-1:1);break;case"end":S[o]+=v*(n&&d?-1:1);break}return S}const zW=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,u=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:g}=TI(d,r,c),v=r,S={},C=0;for(let T=0;T<u.length;T++){const{name:_,fn:D}=u[T],{x:A,y:O,data:V,reset:U}=await D({x:p,y:g,initialPlacement:r,placement:v,strategy:s,middlewareData:S,rects:d,platform:o,elements:{reference:t,floating:e}});p=A??p,g=O??g,S={...S,[_]:{...S[_],...V}},U&&C<=50&&(C++,typeof U=="object"&&(U.placement&&(v=U.placement),U.rects&&(d=U.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):U.rects),{x:p,y:g}=TI(d,v,c)),T=-1)}return{x:p,y:g,placement:v,strategy:s,middlewareData:S}};async function tf(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:u,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:S=0}=qi(e,t),C=JM(S),T=u[v?g==="floating"?"reference":"floating":g],_=Kg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:d,rootBoundary:p,strategy:c})),D=g==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),O=await(i.isElement==null?void 0:i.isElement(A))?await(i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},V=Kg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:D,offsetParent:A,strategy:c}):D);return{top:(_.top-V.top+C.top)/O.y,bottom:(V.bottom-_.bottom+C.bottom)/O.y,left:(_.left-V.left+C.left)/O.x,right:(V.right-_.right+C.right)/O.x}}const UW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:u,middlewareData:c}=e,{element:d,padding:p=0}=qi(t,e)||{};if(d==null)return{};const g=JM(p),v={x:n,y:r},S=K1(s),C=$1(S),T=await o.getDimensions(d),_=S==="y",D=_?"top":"left",A=_?"bottom":"right",O=_?"clientHeight":"clientWidth",V=i.reference[C]+i.reference[S]-v[S]-i.floating[C],U=v[S]-i.reference[S],W=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let M=W?W[O]:0;(!M||!await(o.isElement==null?void 0:o.isElement(W)))&&(M=u.floating[O]||i.floating[C]);const I=V/2-U/2,N=M/2-T[C]/2-1,j=ao(g[D],N),B=ao(g[A],N),q=j,L=M-T[C]-B,ke=M/2-T[C]/2+I,Ae=Rb(q,ke,L),ye=!c.arrow&&$c(s)!=null&&ke!==Ae&&i.reference[C]/2-(ke<q?j:B)-T[C]/2<0,ve=ye?ke<q?ke-q:ke-L:0;return{[S]:v[S]+ve,data:{[S]:Ae,centerOffset:ke-Ae-ve,...ye&&{alignmentOffset:ve}},reset:ye}}}),qW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:u,platform:c,elements:d}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:T=!0,..._}=qi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const D=$i(s),A=qs(u),O=$i(u)===u,V=await(c.isRTL==null?void 0:c.isRTL(d.floating)),U=v||(O||!T?[$g(u)]:OW(u)),W=C!=="none";!v&&W&&U.push(...BW(u,T,C,V));const M=[u,...U],I=await tf(e,_),N=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&N.push(I[D]),g){const ke=RW(s,o,V);N.push(I[ke[0]],I[ke[1]])}if(j=[...j,{placement:s,overflows:N}],!N.every(ke=>ke<=0)){var B,q;const ke=(((B=i.flip)==null?void 0:B.index)||0)+1,Ae=M[ke];if(Ae&&(!(g==="alignment"&&A!==qs(Ae))||j.every(ve=>qs(ve.placement)===A?ve.overflows[0]>0:!0)))return{data:{index:ke,overflows:j},reset:{placement:Ae}};let ye=(q=j.filter(ve=>ve.overflows[0]<=0).sort((ve,H)=>ve.overflows[1]-H.overflows[1])[0])==null?void 0:q.placement;if(!ye)switch(S){case"bestFit":{var L;const ve=(L=j.filter(H=>{if(W){const ne=qs(H.placement);return ne===A||ne==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(ne=>ne>0).reduce((ne,ae)=>ne+ae,0)]).sort((H,ne)=>H[1]-ne[1])[0])==null?void 0:L[0];ve&&(ye=ve);break}case"initialPlacement":ye=u;break}if(s!==ye)return{reset:{placement:ye}}}return{}}}};function _I(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function CI(t){return DW.some(e=>t[e]>=0)}const $W=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=qi(t,e);switch(r){case"referenceHidden":{const i=await tf(e,{...s,elementContext:"reference"}),o=_I(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:CI(o)}}}case"escaped":{const i=await tf(e,{...s,altBoundary:!0}),o=_I(i,n.floating);return{data:{escapedOffsets:o,escaped:CI(o)}}}default:return{}}}}},ZM=new Set(["left","top"]);async function KW(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=$i(n),u=$c(n),c=qs(n)==="y",d=ZM.has(o)?-1:1,p=i&&c?-1:1,g=qi(e,t);let{mainAxis:v,crossAxis:S,alignmentAxis:C}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof C=="number"&&(S=u==="end"?C*-1:C),c?{x:S*p,y:v*d}:{x:v*d,y:S*p}}const WW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:u}=e,c=await KW(e,t);return o===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},GW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:u={fn:_=>{let{x:D,y:A}=_;return{x:D,y:A}}},...c}=qi(t,e),d={x:n,y:r},p=await tf(e,c),g=qs($i(s)),v=q1(g);let S=d[v],C=d[g];if(i){const _=v==="y"?"top":"left",D=v==="y"?"bottom":"right",A=S+p[_],O=S-p[D];S=Rb(A,S,O)}if(o){const _=g==="y"?"top":"left",D=g==="y"?"bottom":"right",A=C+p[_],O=C-p[D];C=Rb(A,C,O)}const T=u.fn({...e,[v]:S,[g]:C});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[v]:i,[g]:o}}}}}},HW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:u=0,mainAxis:c=!0,crossAxis:d=!0}=qi(t,e),p={x:n,y:r},g=qs(s),v=q1(g);let S=p[v],C=p[g];const T=qi(u,e),_=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(c){const O=v==="y"?"height":"width",V=i.reference[v]-i.floating[O]+_.mainAxis,U=i.reference[v]+i.reference[O]-_.mainAxis;S<V?S=V:S>U&&(S=U)}if(d){var D,A;const O=v==="y"?"width":"height",V=ZM.has($i(s)),U=i.reference[g]-i.floating[O]+(V&&((D=o.offset)==null?void 0:D[g])||0)+(V?0:_.crossAxis),W=i.reference[g]+i.reference[O]+(V?0:((A=o.offset)==null?void 0:A[g])||0)-(V?_.crossAxis:0);C<U?C=U:C>W&&(C=W)}return{[v]:S,[g]:C}}}},QW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:u}=e,{apply:c=()=>{},...d}=qi(t,e),p=await tf(e,d),g=$i(s),v=$c(s),S=qs(s)==="y",{width:C,height:T}=i.floating;let _,D;g==="top"||g==="bottom"?(_=g,D=v===(await(o.isRTL==null?void 0:o.isRTL(u.floating))?"start":"end")?"left":"right"):(D=g,_=v==="end"?"top":"bottom");const A=T-p.top-p.bottom,O=C-p.left-p.right,V=ao(T-p[_],A),U=ao(C-p[D],O),W=!e.middlewareData.shift;let M=V,I=U;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=A),W&&!v){const j=br(p.left,0),B=br(p.right,0),q=br(p.top,0),L=br(p.bottom,0);S?I=C-2*(j!==0||B!==0?j+B:br(p.left,p.right)):M=T-2*(q!==0||L!==0?q+L:br(p.top,p.bottom))}await c({...e,availableWidth:I,availableHeight:M});const N=await o.getDimensions(u.floating);return C!==N.width||T!==N.height?{reset:{rects:!0}}:{}}}};function Ky(){return typeof window<"u"}function Kc(t){return eR(t)?(t.nodeName||"").toLowerCase():"#document"}function kr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function oi(t){var e;return(e=(eR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function eR(t){return Ky()?t instanceof Node||t instanceof kr(t).Node:!1}function gs(t){return Ky()?t instanceof Element||t instanceof kr(t).Element:!1}function ri(t){return Ky()?t instanceof HTMLElement||t instanceof kr(t).HTMLElement:!1}function II(t){return!Ky()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof kr(t).ShadowRoot}const XW=new Set(["inline","contents"]);function Mf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ys(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!XW.has(s)}const YW=new Set(["table","td","th"]);function JW(t){return YW.has(Kc(t))}const ZW=[":popover-open",":modal"];function Wy(t){return ZW.some(e=>{try{return t.matches(e)}catch{return!1}})}const eG=["transform","translate","scale","rotate","perspective"],tG=["transform","translate","scale","rotate","perspective","filter"],nG=["paint","layout","strict","content"];function W1(t){const e=G1(),n=gs(t)?ys(t):t;return eG.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||tG.some(r=>(n.willChange||"").includes(r))||nG.some(r=>(n.contain||"").includes(r))}function rG(t){let e=oo(t);for(;ri(e)&&!Nc(e);){if(W1(e))return e;if(Wy(e))return null;e=oo(e)}return null}function G1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sG=new Set(["html","body","#document"]);function Nc(t){return sG.has(Kc(t))}function ys(t){return kr(t).getComputedStyle(t)}function Gy(t){return gs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oo(t){if(Kc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||II(t)&&t.host||oi(t);return II(e)?e.host:e}function tR(t){const e=oo(t);return Nc(e)?t.ownerDocument?t.ownerDocument.body:t.body:ri(e)&&Mf(e)?e:tR(e)}function nf(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=tR(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=kr(s);if(i){const u=jb(o);return e.concat(o,o.visualViewport||[],Mf(s)?s:[],u&&n?nf(u):[])}return e.concat(s,nf(s,[],n))}function jb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function nR(t){const e=ys(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ri(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,u=qg(n)!==i||qg(r)!==o;return u&&(n=i,r=o),{width:n,height:r,$:u}}function H1(t){return gs(t)?t:t.contextElement}function pc(t){const e=H1(t);if(!ri(e))return Xs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=nR(e);let o=(i?qg(n.width):n.width)/r,u=(i?qg(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const iG=Xs(0);function rR(t){const e=kr(t);return!G1()||!e.visualViewport?iG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==kr(t)?!1:e}function Ol(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=H1(t);let o=Xs(1);e&&(r?gs(r)&&(o=pc(r)):o=pc(t));const u=aG(i,n,r)?rR(i):Xs(0);let c=(s.left+u.x)/o.x,d=(s.top+u.y)/o.y,p=s.width/o.x,g=s.height/o.y;if(i){const v=kr(i),S=r&&gs(r)?kr(r):r;let C=v,T=jb(C);for(;T&&r&&S!==C;){const _=pc(T),D=T.getBoundingClientRect(),A=ys(T),O=D.left+(T.clientLeft+parseFloat(A.paddingLeft))*_.x,V=D.top+(T.clientTop+parseFloat(A.paddingTop))*_.y;c*=_.x,d*=_.y,p*=_.x,g*=_.y,c+=O,d+=V,C=kr(T),T=jb(C)}}return Kg({width:p,height:g,x:c,y:d})}function Hy(t,e){const n=Gy(t).scrollLeft;return e?e.left+n:Ol(oi(t)).left+n}function sR(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Hy(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function oG(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=oi(r),u=e?Wy(e.floating):!1;if(r===o||u&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Xs(1);const p=Xs(0),g=ri(r);if((g||!g&&!i)&&((Kc(r)!=="body"||Mf(o))&&(c=Gy(r)),ri(r))){const S=Ol(r);d=pc(r),p.x=S.x+r.clientLeft,p.y=S.y+r.clientTop}const v=o&&!g&&!i?sR(o,c):Xs(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+p.x+v.x,y:n.y*d.y-c.scrollTop*d.y+p.y+v.y}}function lG(t){return Array.from(t.getClientRects())}function uG(t){const e=oi(t),n=Gy(t),r=t.ownerDocument.body,s=br(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=br(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Hy(t);const u=-n.scrollTop;return ys(r).direction==="rtl"&&(o+=br(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:u}}const PI=25;function cG(t,e){const n=kr(t),r=oi(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,u=0,c=0;if(s){i=s.width,o=s.height;const p=G1();(!p||p&&e==="fixed")&&(u=s.offsetLeft,c=s.offsetTop)}const d=Hy(r);if(d<=0){const p=r.ownerDocument,g=p.body,v=getComputedStyle(g),S=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,C=Math.abs(r.clientWidth-g.clientWidth-S);C<=PI&&(i-=C)}else d<=PI&&(i+=d);return{width:i,height:o,x:u,y:c}}const hG=new Set(["absolute","fixed"]);function dG(t,e){const n=Ol(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ri(t)?pc(t):Xs(1),o=t.clientWidth*i.x,u=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:u,x:c,y:d}}function DI(t,e,n){let r;if(e==="viewport")r=cG(t,n);else if(e==="document")r=uG(oi(t));else if(gs(e))r=dG(e,n);else{const s=rR(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Kg(r)}function iR(t,e){const n=oo(t);return n===e||!gs(n)||Nc(n)?!1:ys(n).position==="fixed"||iR(n,e)}function fG(t,e){const n=e.get(t);if(n)return n;let r=nf(t,[],!1).filter(u=>gs(u)&&Kc(u)!=="body"),s=null;const i=ys(t).position==="fixed";let o=i?oo(t):t;for(;gs(o)&&!Nc(o);){const u=ys(o),c=W1(o);!c&&u.position==="fixed"&&(s=null),(i?!c&&!s:!c&&u.position==="static"&&s&&hG.has(s.position)||Mf(o)&&!c&&iR(t,o))?r=r.filter(d=>d!==o):s=u,o=oo(o)}return e.set(t,r),r}function pG(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Wy(e)?[]:fG(e,this._c):[].concat(n),r],o=i[0],u=i.reduce((c,d)=>{const p=DI(e,d,s);return c.top=br(p.top,c.top),c.right=ao(p.right,c.right),c.bottom=ao(p.bottom,c.bottom),c.left=br(p.left,c.left),c},DI(e,o,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function mG(t){const{width:e,height:n}=nR(t);return{width:e,height:n}}function gG(t,e,n){const r=ri(e),s=oi(e),i=n==="fixed",o=Ol(t,!0,i,e);let u={scrollLeft:0,scrollTop:0};const c=Xs(0);function d(){c.x=Hy(s)}if(r||!r&&!i)if((Kc(e)!=="body"||Mf(s))&&(u=Gy(e)),r){const S=Ol(e,!0,i,e);c.x=S.x+e.clientLeft,c.y=S.y+e.clientTop}else s&&d();i&&!r&&s&&d();const p=s&&!r&&!i?sR(s,u):Xs(0),g=o.left+u.scrollLeft-c.x-p.x,v=o.top+u.scrollTop-c.y-p.y;return{x:g,y:v,width:o.width,height:o.height}}function uw(t){return ys(t).position==="static"}function NI(t,e){if(!ri(t)||ys(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return oi(t)===n&&(n=n.ownerDocument.body),n}function aR(t,e){const n=kr(t);if(Wy(t))return n;if(!ri(t)){let s=oo(t);for(;s&&!Nc(s);){if(gs(s)&&!uw(s))return s;s=oo(s)}return n}let r=NI(t,e);for(;r&&JW(r)&&uw(r);)r=NI(r,e);return r&&Nc(r)&&uw(r)&&!W1(r)?n:r||rG(t)||n}const yG=async function(t){const e=this.getOffsetParent||aR,n=this.getDimensions,r=await n(t.floating);return{reference:gG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vG(t){return ys(t).direction==="rtl"}const wG={convertOffsetParentRelativeRectToViewportRelativeRect:oG,getDocumentElement:oi,getClippingRect:pG,getOffsetParent:aR,getElementRects:yG,getClientRects:lG,getDimensions:mG,getScale:pc,isElement:gs,isRTL:vG};function oR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bG(t,e){let n=null,r;const s=oi(t);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function o(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:p,top:g,width:v,height:S}=d;if(u||e(),!v||!S)return;const C=Em(g),T=Em(s.clientWidth-(p+v)),_=Em(s.clientHeight-(g+S)),D=Em(p),A={rootMargin:-C+"px "+-T+"px "+-_+"px "+-D+"px",threshold:br(0,ao(1,c))||1};let O=!0;function V(U){const W=U[0].intersectionRatio;if(W!==c){if(!O)return o();W?o(!1,W):r=setTimeout(()=>{o(!1,1e-7)},1e3)}W===1&&!oR(d,t.getBoundingClientRect())&&o(),O=!1}try{n=new IntersectionObserver(V,{...A,root:s.ownerDocument})}catch{n=new IntersectionObserver(V,A)}n.observe(t)}return o(!0),i}function xG(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=H1(t),p=s||i?[...d?nf(d):[],...nf(e)]:[];p.forEach(D=>{s&&D.addEventListener("scroll",n,{passive:!0}),i&&D.addEventListener("resize",n)});const g=d&&u?bG(d,n):null;let v=-1,S=null;o&&(S=new ResizeObserver(D=>{let[A]=D;A&&A.target===d&&S&&(S.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var O;(O=S)==null||O.observe(e)})),n()}),d&&!c&&S.observe(d),S.observe(e));let C,T=c?Ol(t):null;c&&_();function _(){const D=Ol(t);T&&!oR(T,D)&&n(),T=D,C=requestAnimationFrame(_)}return n(),()=>{var D;p.forEach(A=>{s&&A.removeEventListener("scroll",n),i&&A.removeEventListener("resize",n)}),g==null||g(),(D=S)==null||D.disconnect(),S=null,c&&cancelAnimationFrame(C)}}const EG=WW,SG=GW,kG=qW,TG=QW,_G=$W,AI=UW,CG=HW,IG=(t,e,n)=>{const r=new Map,s={platform:wG,...n},i={...s.platform,_c:r};return zW(t,e,{...s,platform:i})};var PG=typeof document<"u",DG=function(){},Ym=PG?E.useLayoutEffect:DG;function Wg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Wg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Wg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function lR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function MI(t,e){const n=lR(t);return Math.round(e*n)/n}function cw(t){const e=E.useRef(t);return Ym(()=>{e.current=t}),e}function NG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:u=!0,whileElementsMounted:c,open:d}=t,[p,g]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,S]=E.useState(r);Wg(v,r)||S(r);const[C,T]=E.useState(null),[_,D]=E.useState(null),A=E.useCallback(H=>{H!==W.current&&(W.current=H,T(H))},[]),O=E.useCallback(H=>{H!==M.current&&(M.current=H,D(H))},[]),V=i||C,U=o||_,W=E.useRef(null),M=E.useRef(null),I=E.useRef(p),N=c!=null,j=cw(c),B=cw(s),q=cw(d),L=E.useCallback(()=>{if(!W.current||!M.current)return;const H={placement:e,strategy:n,middleware:v};B.current&&(H.platform=B.current),IG(W.current,M.current,H).then(ne=>{const ae={...ne,isPositioned:q.current!==!1};ke.current&&!Wg(I.current,ae)&&(I.current=ae,R1.flushSync(()=>{g(ae)}))})},[v,e,n,B,q]);Ym(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,g(H=>({...H,isPositioned:!1})))},[d]);const ke=E.useRef(!1);Ym(()=>(ke.current=!0,()=>{ke.current=!1}),[]),Ym(()=>{if(V&&(W.current=V),U&&(M.current=U),V&&U){if(j.current)return j.current(V,U,L);L()}},[V,U,L,j,N]);const Ae=E.useMemo(()=>({reference:W,floating:M,setReference:A,setFloating:O}),[A,O]),ye=E.useMemo(()=>({reference:V,floating:U}),[V,U]),ve=E.useMemo(()=>{const H={position:n,left:0,top:0};if(!ye.floating)return H;const ne=MI(ye.floating,p.x),ae=MI(ye.floating,p.y);return u?{...H,transform:"translate("+ne+"px, "+ae+"px)",...lR(ye.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ae}},[n,u,ye.floating,p.x,p.y]);return E.useMemo(()=>({...p,update:L,refs:Ae,elements:ye,floatingStyles:ve}),[p,L,Ae,ye,ve])}const AG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?AI({element:r.current,padding:s}).fn(n):{}:r?AI({element:r,padding:s}).fn(n):{}}}},MG=(t,e)=>({...EG(t),options:[t,e]}),RG=(t,e)=>({...SG(t),options:[t,e]}),OG=(t,e)=>({...CG(t),options:[t,e]}),jG=(t,e)=>({...kG(t),options:[t,e]}),LG=(t,e)=>({...TG(t),options:[t,e]}),FG=(t,e)=>({..._G(t),options:[t,e]}),BG=(t,e)=>({...AG(t),options:[t,e]});var VG="Arrow",uR=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return x.jsx(Gn.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});uR.displayName=VG;var zG=uR;function UG(t){const[e,n]=E.useState(void 0);return io(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,u;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,u=d.blockSize}else o=t.offsetWidth,u=t.offsetHeight;n({width:o,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Q1="Popper",[cR,hR]=Af(Q1),[qG,dR]=cR(Q1),fR=t=>{const{__scopePopper:e,children:n}=t,[r,s]=E.useState(null);return x.jsx(qG,{scope:e,anchor:r,onAnchorChange:s,children:n})};fR.displayName=Q1;var pR="PopperAnchor",mR=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=dR(pR,n),o=E.useRef(null),u=lr(e,o),c=E.useRef(null);return E.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),r?null:x.jsx(Gn.div,{...s,ref:u})});mR.displayName=pR;var X1="PopperContent",[$G,KG]=cR(X1),gR=E.forwardRef((t,e)=>{var n,r,s,i,o,u;const{__scopePopper:c,side:d="bottom",sideOffset:p=0,align:g="center",alignOffset:v=0,arrowPadding:S=0,avoidCollisions:C=!0,collisionBoundary:T=[],collisionPadding:_=0,sticky:D="partial",hideWhenDetached:A=!1,updatePositionStrategy:O="optimized",onPlaced:V,...U}=t,W=dR(X1,c),[M,I]=E.useState(null),N=lr(e,Qn=>I(Qn)),[j,B]=E.useState(null),q=UG(j),L=(q==null?void 0:q.width)??0,ke=(q==null?void 0:q.height)??0,Ae=d+(g!=="center"?"-"+g:""),ye=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},ve=Array.isArray(T)?T:[T],H=ve.length>0,ne={padding:ye,boundary:ve.filter(GG),altBoundary:H},{refs:ae,floatingStyles:G,placement:re,isPositioned:pe,middlewareData:me}=NG({strategy:"fixed",placement:Ae,whileElementsMounted:(...Qn)=>xG(...Qn,{animationFrame:O==="always"}),elements:{reference:W.anchor},middleware:[MG({mainAxis:p+ke,alignmentAxis:v}),C&&RG({mainAxis:!0,crossAxis:!1,limiter:D==="partial"?OG():void 0,...ne}),C&&jG({...ne}),LG({...ne,apply:({elements:Qn,rects:Zi,availableWidth:Wl,availableHeight:ea})=>{const{width:li,height:go}=Zi.reference,mt=Qn.floating.style;mt.setProperty("--radix-popper-available-width",`${Wl}px`),mt.setProperty("--radix-popper-available-height",`${ea}px`),mt.setProperty("--radix-popper-anchor-width",`${li}px`),mt.setProperty("--radix-popper-anchor-height",`${go}px`)}}),j&&BG({element:j,padding:S}),HG({arrowWidth:L,arrowHeight:ke}),A&&FG({strategy:"referenceHidden",...ne})]}),[Me,ze]=wR(re),Ie=Ui(V);io(()=>{pe&&(Ie==null||Ie())},[pe,Ie]);const qe=(n=me.arrow)==null?void 0:n.x,Ve=(r=me.arrow)==null?void 0:r.y,pt=((s=me.arrow)==null?void 0:s.centerOffset)!==0,[_r,Cr]=E.useState();return io(()=>{M&&Cr(window.getComputedStyle(M).zIndex)},[M]),x.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:pe?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_r,"--radix-popper-transform-origin":[(i=me.transformOrigin)==null?void 0:i.x,(o=me.transformOrigin)==null?void 0:o.y].join(" "),...((u=me.hide)==null?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx($G,{scope:c,placedSide:Me,onArrowChange:B,arrowX:qe,arrowY:Ve,shouldHideArrow:pt,children:x.jsx(Gn.div,{"data-side":Me,"data-align":ze,...U,ref:N,style:{...U.style,animation:pe?void 0:"none"}})})})});gR.displayName=X1;var yR="PopperArrow",WG={top:"bottom",right:"left",bottom:"top",left:"right"},vR=E.forwardRef(function(t,e){const{__scopePopper:n,...r}=t,s=KG(yR,n),i=WG[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(zG,{...r,ref:e,style:{...r.style,display:"block"}})})});vR.displayName=yR;function GG(t){return t!==null}var HG=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s;const{placement:i,rects:o,middlewareData:u}=e,c=((n=u.arrow)==null?void 0:n.centerOffset)!==0,d=c?0:t.arrowWidth,p=c?0:t.arrowHeight,[g,v]=wR(i),S={start:"0%",center:"50%",end:"100%"}[v],C=(((r=u.arrow)==null?void 0:r.x)??0)+d/2,T=(((s=u.arrow)==null?void 0:s.y)??0)+p/2;let _="",D="";return g==="bottom"?(_=c?S:`${C}px`,D=`${-p}px`):g==="top"?(_=c?S:`${C}px`,D=`${o.floating.height+p}px`):g==="right"?(_=`${-p}px`,D=c?S:`${T}px`):g==="left"&&(_=`${o.floating.width+p}px`,D=c?S:`${T}px`),{data:{x:_,y:D}}}});function wR(t){const[e,n="center"]=t.split("-");return[e,n]}var QG=fR,XG=mR,YG=gR,JG=vR,ZG="Portal",bR=E.forwardRef((t,e)=>{var n;const{container:r,...s}=t,[i,o]=E.useState(!1);io(()=>o(!0),[]);const u=r||i&&((n=globalThis==null?void 0:globalThis.document)==null?void 0:n.body);return u?sq.createPortal(x.jsx(Gn.div,{...s,ref:e}),u):null});bR.displayName=ZG;function eH(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var Rf=t=>{const{present:e,children:n}=t,r=tH(e),s=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),i=lr(r.ref,nH(s));return typeof n=="function"||r.isPresent?E.cloneElement(s,{ref:i}):null};Rf.displayName="Presence";function tH(t){const[e,n]=E.useState(),r=E.useRef(null),s=E.useRef(t),i=E.useRef("none"),o=t?"mounted":"unmounted",[u,c]=eH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const d=Sm(r.current);i.current=u==="mounted"?d:"none"},[u]),io(()=>{const d=r.current,p=s.current;if(p!==t){const g=i.current,v=Sm(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(p&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),io(()=>{if(e){let d;const p=e.ownerDocument.defaultView??window,g=S=>{const C=Sm(r.current).includes(CSS.escape(S.animationName));if(S.target===e&&C&&(c("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",d=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},v=S=>{S.target===e&&(i.current=Sm(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:E.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Sm(t){return(t==null?void 0:t.animationName)||"none"}function nH(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var hw="rovingFocusGroup.onEntryFocus",rH={bubbles:!1,cancelable:!0},Of="RovingFocusGroup",[Lb,xR,sH]=KM(Of),[iH,ER]=Af(Of,[sH]),[aH,oH]=iH(Of),SR=E.forwardRef((t,e)=>x.jsx(Lb.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(Lb.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(lH,{...t,ref:e})})}));SR.displayName=Of;var lH=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...g}=t,v=E.useRef(null),S=lr(e,v),C=WM(i),[T,_]=qM({prop:o,defaultProp:u??null,onChange:c,caller:Of}),[D,A]=E.useState(!1),O=Ui(d),V=xR(n),U=E.useRef(!1),[W,M]=E.useState(0);return E.useEffect(()=>{const I=v.current;if(I)return I.addEventListener(hw,O),()=>I.removeEventListener(hw,O)},[O]),x.jsx(aH,{scope:n,orientation:r,dir:C,loop:s,currentTabStopId:T,onItemFocus:E.useCallback(I=>_(I),[_]),onItemShiftTab:E.useCallback(()=>A(!0),[]),onFocusableItemAdd:E.useCallback(()=>M(I=>I+1),[]),onFocusableItemRemove:E.useCallback(()=>M(I=>I-1),[]),children:x.jsx(Gn.div,{tabIndex:D||W===0?-1:0,"data-orientation":r,...g,ref:S,style:{outline:"none",...t.style},onMouseDown:et(t.onMouseDown,()=>{U.current=!0}),onFocus:et(t.onFocus,I=>{const N=!U.current;if(I.target===I.currentTarget&&N&&!D){const j=new CustomEvent(hw,rH);if(I.currentTarget.dispatchEvent(j),!j.defaultPrevented){const B=V().filter(Ae=>Ae.focusable),q=B.find(Ae=>Ae.active),L=B.find(Ae=>Ae.id===T),ke=[q,L,...B].filter(Boolean).map(Ae=>Ae.ref.current);_R(ke,p)}}U.current=!1}),onBlur:et(t.onBlur,()=>A(!1))})})}),kR="RovingFocusGroupItem",TR=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...u}=t,c=Mb(),d=i||c,p=oH(kR,n),g=p.currentTabStopId===d,v=xR(n),{onFocusableItemAdd:S,onFocusableItemRemove:C,currentTabStopId:T}=p;return E.useEffect(()=>{if(r)return S(),()=>C()},[r,S,C]),x.jsx(Lb.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:x.jsx(Gn.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:et(t.onMouseDown,_=>{r?p.onItemFocus(d):_.preventDefault()}),onFocus:et(t.onFocus,()=>p.onItemFocus(d)),onKeyDown:et(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){p.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const D=hH(_,p.orientation,p.dir);if(D!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let A=v().filter(O=>O.focusable).map(O=>O.ref.current);if(D==="last")A.reverse();else if(D==="prev"||D==="next"){D==="prev"&&A.reverse();const O=A.indexOf(_.currentTarget);A=p.loop?dH(A,O+1):A.slice(O+1)}setTimeout(()=>_R(A))}}),children:typeof o=="function"?o({isCurrentTabStop:g,hasTabStop:T!=null}):o})})});TR.displayName=kR;var uH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function hH(t,e,n){const r=cH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return uH[r]}function _R(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function dH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var fH=SR,pH=TR;function mH(t){const e=gH(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,u=E.Children.toArray(i),c=u.find(vH);if(c){const d=c.props.children,p=u.map(g=>g===c?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,p):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function gH(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=bH(s),u=wH(i,s.props);return s.type!==E.Fragment&&(u.ref=r?ql(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yH=Symbol("radix.slottable");function vH(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yH}function wH(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function bH(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var xH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Hu=new WeakMap,km=new WeakMap,Tm={},dw=0,CR=function(t){return t&&(t.host||CR(t.parentNode))},EH=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=CR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},SH=function(t,e,n,r){var s=EH(e,Array.isArray(t)?t:[t]);Tm[n]||(Tm[n]=new WeakMap);var i=Tm[n],o=[],u=new Set,c=new Set(s),d=function(g){!g||u.has(g)||(u.add(g),d(g.parentNode))};s.forEach(d);var p=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))p(v);else try{var S=v.getAttribute(r),C=S!==null&&S!=="false",T=(Hu.get(v)||0)+1,_=(i.get(v)||0)+1;Hu.set(v,T),i.set(v,_),o.push(v),T===1&&C&&km.set(v,!0),_===1&&v.setAttribute(n,"true"),C||v.setAttribute(r,"true")}catch(D){console.error("aria-hidden: cannot operate on ",v,D)}})};return p(e),u.clear(),dw++,function(){o.forEach(function(g){var v=Hu.get(g)-1,S=i.get(g)-1;Hu.set(g,v),i.set(g,S),v||(km.has(g)||g.removeAttribute(r),km.delete(g)),S||g.removeAttribute(n)}),dw--,dw||(Hu=new WeakMap,Hu=new WeakMap,km=new WeakMap,Tm={})}},kH=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=xH(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),SH(r,s,n,"aria-hidden")):function(){return null}},Vs=function(){return Vs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Vs.apply(this,arguments)};function IR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function TH(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Jm="right-scroll-bar-position",Zm="width-before-scroll-bar",_H="with-scroll-bars-hidden",CH="--removed-body-scroll-bar-size";function fw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function IH(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var PH=typeof window<"u"?E.useLayoutEffect:E.useEffect,RI=new WeakMap;function DH(t,e){var n=IH(null,function(r){return t.forEach(function(s){return fw(s,r)})});return PH(function(){var r=RI.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(u){i.has(u)||fw(u,null)}),i.forEach(function(u){s.has(u)||fw(u,o)})}RI.set(n,t)},[t]),n}function NH(t){return t}function AH(t,e){e===void 0&&(e=NH);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(u){return u!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var u=n;n=[],u.forEach(i),o=n}var c=function(){var p=o;o=[],p.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(p){o.push(p),d()},filter:function(p){return o=o.filter(p),n}}}};return s}function MH(t){t===void 0&&(t={});var e=AH(null);return e.options=Vs({async:!0,ssr:!1},t),e}var PR=function(t){var e=t.sideCar,n=IR(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Vs({},n))};PR.isSideCarExport=!0;function RH(t,e){return t.useMedium(e),PR}var DR=MH(),pw=function(){},Qy=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:pw,onWheelCapture:pw,onTouchMoveCapture:pw}),s=r[0],i=r[1],o=t.forwardProps,u=t.children,c=t.className,d=t.removeScrollBar,p=t.enabled,g=t.shards,v=t.sideCar,S=t.noRelative,C=t.noIsolation,T=t.inert,_=t.allowPinchZoom,D=t.as,A=D===void 0?"div":D,O=t.gapMode,V=IR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=v,W=DH([n,e]),M=Vs(Vs({},V),s);return E.createElement(E.Fragment,null,p&&E.createElement(U,{sideCar:DR,removeScrollBar:d,shards:g,noRelative:S,noIsolation:C,inert:T,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:O}),o?E.cloneElement(E.Children.only(u),Vs(Vs({},M),{ref:W})):E.createElement(A,Vs({},M,{className:c,ref:W}),u))});Qy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qy.classNames={fullWidth:Zm,zeroRight:Jm};var OH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=OH();return e&&t.setAttribute("nonce",e),t}function LH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function FH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var BH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=jH())&&(LH(e,n),FH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},VH=function(){var t=BH();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},NR=function(){var t=VH(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},zH={left:0,top:0,right:0,gap:0},mw=function(t){return parseInt(t||"",10)||0},UH=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[mw(n),mw(r),mw(s)]},qH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zH;var e=UH(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},$H=NR(),mc="data-scroll-locked",KH=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(_H,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(mc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jm,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Zm,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Jm," .").concat(Jm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zm," .").concat(Zm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(mc,`] {
    `).concat(CH,": ").concat(u,`px;
  }
`)},OI=function(){var t=parseInt(document.body.getAttribute(mc)||"0",10);return isFinite(t)?t:0},WH=function(){E.useEffect(function(){return document.body.setAttribute(mc,(OI()+1).toString()),function(){var t=OI()-1;t<=0?document.body.removeAttribute(mc):document.body.setAttribute(mc,t.toString())}},[])},GH=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;WH();var i=E.useMemo(function(){return qH(s)},[s]);return E.createElement($H,{styles:KH(i,!e,s,n?"":"!important")})},Fb=!1;if(typeof window<"u")try{var _m=Object.defineProperty({},"passive",{get:function(){return Fb=!0,!0}});window.addEventListener("test",_m,_m),window.removeEventListener("test",_m,_m)}catch{Fb=!1}var Qu=Fb?{passive:!1}:!1,HH=function(t){return t.tagName==="TEXTAREA"},AR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!HH(t)&&n[e]==="visible")},QH=function(t){return AR(t,"overflowY")},XH=function(t){return AR(t,"overflowX")},jI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=MR(t,r);if(s){var i=RR(t,r),o=i[1],u=i[2];if(o>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},YH=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},JH=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},MR=function(t,e){return t==="v"?QH(e):XH(e)},RR=function(t,e){return t==="v"?YH(e):JH(e)},ZH=function(t,e){return t==="h"&&e==="rtl"?-1:1},eQ=function(t,e,n,r,s){var i=ZH(t,window.getComputedStyle(e).direction),o=i*r,u=n.target,c=e.contains(u),d=!1,p=o>0,g=0,v=0;do{if(!u)break;var S=RR(t,u),C=S[0],T=S[1],_=S[2],D=T-_-i*C;(C||D)&&MR(t,u)&&(g+=D,v+=C);var A=u.parentNode;u=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!c&&u!==document.body||c&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(v)<1)&&(d=!0),d},Cm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},LI=function(t){return[t.deltaX,t.deltaY]},FI=function(t){return t&&"current"in t?t.current:t},tQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},nQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},rQ=0,Xu=[];function sQ(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),s=E.useState(rQ++)[0],i=E.useState(NR)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var T=TH([t.lockRef.current],(t.shards||[]).map(FI)).filter(Boolean);return T.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=E.useCallback(function(T,_){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!o.current.allowPinchZoom;var D=Cm(T),A=n.current,O="deltaX"in T?T.deltaX:A[0]-D[0],V="deltaY"in T?T.deltaY:A[1]-D[1],U,W=T.target,M=Math.abs(O)>Math.abs(V)?"h":"v";if("touches"in T&&M==="h"&&W.type==="range")return!1;var I=jI(M,W);if(!I)return!0;if(I?U=M:(U=M==="v"?"h":"v",I=jI(M,W)),!I)return!1;if(!r.current&&"changedTouches"in T&&(O||V)&&(r.current=U),!U)return!0;var N=r.current||U;return eQ(N,_,T,N==="h"?O:V)},[]),c=E.useCallback(function(T){var _=T;if(!(!Xu.length||Xu[Xu.length-1]!==i)){var D="deltaY"in _?LI(_):Cm(_),A=e.current.filter(function(U){return U.name===_.type&&(U.target===_.target||_.target===U.shadowParent)&&tQ(U.delta,D)})[0];if(A&&A.should){_.cancelable&&_.preventDefault();return}if(!A){var O=(o.current.shards||[]).map(FI).filter(Boolean).filter(function(U){return U.contains(_.target)}),V=O.length>0?u(_,O[0]):!o.current.noIsolation;V&&_.cancelable&&_.preventDefault()}}},[]),d=E.useCallback(function(T,_,D,A){var O={name:T,delta:_,target:D,should:A,shadowParent:iQ(D)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(V){return V!==O})},1)},[]),p=E.useCallback(function(T){n.current=Cm(T),r.current=void 0},[]),g=E.useCallback(function(T){d(T.type,LI(T),T.target,u(T,t.lockRef.current))},[]),v=E.useCallback(function(T){d(T.type,Cm(T),T.target,u(T,t.lockRef.current))},[]);E.useEffect(function(){return Xu.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",c,Qu),document.addEventListener("touchmove",c,Qu),document.addEventListener("touchstart",p,Qu),function(){Xu=Xu.filter(function(T){return T!==i}),document.removeEventListener("wheel",c,Qu),document.removeEventListener("touchmove",c,Qu),document.removeEventListener("touchstart",p,Qu)}},[]);var S=t.removeScrollBar,C=t.inert;return E.createElement(E.Fragment,null,C?E.createElement(i,{styles:nQ(s)}):null,S?E.createElement(GH,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function iQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const aQ=RH(DR,sQ);var OR=E.forwardRef(function(t,e){return E.createElement(Qy,Vs({},t,{ref:e,sideCar:aQ}))});OR.classNames=Qy.classNames;var Bb=["Enter"," "],oQ=["ArrowDown","PageUp","Home"],jR=["ArrowUp","PageDown","End"],lQ=[...oQ,...jR],uQ={ltr:[...Bb,"ArrowRight"],rtl:[...Bb,"ArrowLeft"]},cQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jf="Menu",[rf,hQ,dQ]=KM(jf),[$l,LR]=Af(jf,[dQ,hR,ER]),Xy=hR(),FR=ER(),[fQ,Kl]=$l(jf),[pQ,Lf]=$l(jf),BR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,u=Xy(e),[c,d]=E.useState(null),p=E.useRef(!1),g=Ui(i),v=WM(s);return E.useEffect(()=>{const S=()=>{p.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>p.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),x.jsx(QG,{...u,children:x.jsx(fQ,{scope:e,open:n,onOpenChange:g,content:c,onContentChange:d,children:x.jsx(pQ,{scope:e,onClose:E.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:v,modal:o,children:r})})})};BR.displayName=jf;var mQ="MenuAnchor",Y1=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Xy(n);return x.jsx(XG,{...s,...r,ref:e})});Y1.displayName=mQ;var J1="MenuPortal",[gQ,VR]=$l(J1,{forceMount:void 0}),zR=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Kl(J1,e);return x.jsx(gQ,{scope:e,forceMount:n,children:x.jsx(Rf,{present:n||i.open,children:x.jsx(bR,{asChild:!0,container:s,children:r})})})};zR.displayName=J1;var Wr="MenuContent",[yQ,Z1]=$l(Wr),UR=E.forwardRef((t,e)=>{const n=VR(Wr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Kl(Wr,t.__scopeMenu),o=Lf(Wr,t.__scopeMenu);return x.jsx(rf.Provider,{scope:t.__scopeMenu,children:x.jsx(Rf,{present:r||i.open,children:x.jsx(rf.Slot,{scope:t.__scopeMenu,children:o.modal?x.jsx(vQ,{...s,ref:e}):x.jsx(wQ,{...s,ref:e})})})})}),vQ=E.forwardRef((t,e)=>{const n=Kl(Wr,t.__scopeMenu),r=E.useRef(null),s=lr(e,r);return E.useEffect(()=>{const i=r.current;if(i)return kH(i)},[]),x.jsx(eE,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),wQ=E.forwardRef((t,e)=>{const n=Kl(Wr,t.__scopeMenu);return x.jsx(eE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),bQ=mH("MenuContent.ScrollLock"),eE=E.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:u,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:S,disableOutsideScroll:C,...T}=t,_=Kl(Wr,n),D=Lf(Wr,n),A=Xy(n),O=FR(n),V=hQ(n),[U,W]=E.useState(null),M=E.useRef(null),I=lr(e,M,_.onContentChange),N=E.useRef(0),j=E.useRef(""),B=E.useRef(0),q=E.useRef(null),L=E.useRef("right"),ke=E.useRef(0),Ae=C?OR:E.Fragment,ye=C?{as:bQ,allowPinchZoom:!0}:void 0,ve=ne=>{var ae,G;const re=j.current+ne,pe=V().filter(Ve=>!Ve.disabled),me=document.activeElement,Me=(ae=pe.find(Ve=>Ve.ref.current===me))==null?void 0:ae.textValue,ze=pe.map(Ve=>Ve.textValue),Ie=AQ(ze,re,Me),qe=(G=pe.find(Ve=>Ve.textValue===Ie))==null?void 0:G.ref.current;(function Ve(pt){j.current=pt,window.clearTimeout(N.current),pt!==""&&(N.current=window.setTimeout(()=>Ve(""),1e3))})(re),qe&&setTimeout(()=>qe.focus())};E.useEffect(()=>()=>window.clearTimeout(N.current),[]),bW();const H=E.useCallback(ne=>{var ae,G;return L.current===((ae=q.current)==null?void 0:ae.side)&&RQ(ne,(G=q.current)==null?void 0:G.area)},[]);return x.jsx(yQ,{scope:n,searchRef:j,onItemEnter:E.useCallback(ne=>{H(ne)&&ne.preventDefault()},[H]),onItemLeave:E.useCallback(ne=>{var ae;H(ne)||((ae=M.current)==null||ae.focus(),W(null))},[H]),onTriggerLeave:E.useCallback(ne=>{H(ne)&&ne.preventDefault()},[H]),pointerGraceTimerRef:B,onPointerGraceIntentChange:E.useCallback(ne=>{q.current=ne},[]),children:x.jsx(Ae,{...ye,children:x.jsx(XM,{asChild:!0,trapped:s,onMountAutoFocus:et(i,ne=>{var ae;ne.preventDefault(),(ae=M.current)==null||ae.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:x.jsx(HM,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:S,children:x.jsx(fH,{asChild:!0,...O,dir:D.dir,orientation:"vertical",loop:r,currentTabStopId:U,onCurrentTabStopIdChange:W,onEntryFocus:et(c,ne=>{D.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(YG,{role:"menu","aria-orientation":"vertical","data-state":sO(_.open),"data-radix-menu-content":"",dir:D.dir,...A,...T,ref:I,style:{outline:"none",...T.style},onKeyDown:et(T.onKeyDown,ne=>{const ae=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,G=ne.ctrlKey||ne.altKey||ne.metaKey,re=ne.key.length===1;ae&&(ne.key==="Tab"&&ne.preventDefault(),!G&&re&&ve(ne.key));const pe=M.current;if(ne.target!==pe||!lQ.includes(ne.key))return;ne.preventDefault();const me=V().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);jR.includes(ne.key)&&me.reverse(),DQ(me)}),onBlur:et(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(N.current),j.current="")}),onPointerMove:et(t.onPointerMove,sf(ne=>{const ae=ne.target,G=ke.current!==ne.clientX;if(ne.currentTarget.contains(ae)&&G){const re=ne.clientX>ke.current?"right":"left";L.current=re,ke.current=ne.clientX}}))})})})})})})});UR.displayName=Wr;var xQ="MenuGroup",tE=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Gn.div,{role:"group",...r,ref:e})});tE.displayName=xQ;var EQ="MenuLabel",qR=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Gn.div,{...r,ref:e})});qR.displayName=EQ;var Gg="MenuItem",BI="menu.itemSelect",Yy=E.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=E.useRef(null),o=Lf(Gg,t.__scopeMenu),u=Z1(Gg,t.__scopeMenu),c=lr(e,i),d=E.useRef(!1),p=()=>{const g=i.current;if(!n&&g){const v=new CustomEvent(BI,{bubbles:!0,cancelable:!0});g.addEventListener(BI,S=>r==null?void 0:r(S),{once:!0}),$M(g,v),v.defaultPrevented?d.current=!1:o.onClose()}};return x.jsx($R,{...s,ref:c,disabled:n,onClick:et(t.onClick,p),onPointerDown:g=>{var v;(v=t.onPointerDown)==null||v.call(t,g),d.current=!0},onPointerUp:et(t.onPointerUp,g=>{var v;d.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:et(t.onKeyDown,g=>{const v=u.searchRef.current!=="";n||v&&g.key===" "||Bb.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Yy.displayName=Gg;var $R=E.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Z1(Gg,n),u=FR(n),c=E.useRef(null),d=lr(e,c),[p,g]=E.useState(!1),[v,S]=E.useState("");return E.useEffect(()=>{const C=c.current;C&&S((C.textContent??"").trim())},[i.children]),x.jsx(rf.ItemSlot,{scope:n,disabled:r,textValue:s??v,children:x.jsx(pH,{asChild:!0,...u,focusable:!r,children:x.jsx(Gn.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:et(t.onPointerMove,sf(C=>{r?o.onItemLeave(C):(o.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(t.onPointerLeave,sf(C=>o.onItemLeave(C))),onFocus:et(t.onFocus,()=>g(!0)),onBlur:et(t.onBlur,()=>g(!1))})})})}),SQ="MenuCheckboxItem",KR=E.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return x.jsx(XR,{scope:t.__scopeMenu,checked:n,children:x.jsx(Yy,{role:"menuitemcheckbox","aria-checked":Hg(n)?"mixed":n,...s,ref:e,"data-state":rE(n),onSelect:et(s.onSelect,()=>r==null?void 0:r(Hg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});KR.displayName=SQ;var WR="MenuRadioGroup",[kQ,TQ]=$l(WR,{value:void 0,onValueChange:()=>{}}),GR=E.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Ui(r);return x.jsx(kQ,{scope:t.__scopeMenu,value:n,onValueChange:i,children:x.jsx(tE,{...s,ref:e})})});GR.displayName=WR;var HR="MenuRadioItem",QR=E.forwardRef((t,e)=>{const{value:n,...r}=t,s=TQ(HR,t.__scopeMenu),i=n===s.value;return x.jsx(XR,{scope:t.__scopeMenu,checked:i,children:x.jsx(Yy,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":rE(i),onSelect:et(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});QR.displayName=HR;var nE="MenuItemIndicator",[XR,_Q]=$l(nE,{checked:!1}),YR=E.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=_Q(nE,n);return x.jsx(Rf,{present:r||Hg(i.checked)||i.checked===!0,children:x.jsx(Gn.span,{...s,ref:e,"data-state":rE(i.checked)})})});YR.displayName=nE;var CQ="MenuSeparator",JR=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Gn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});JR.displayName=CQ;var IQ="MenuArrow",ZR=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Xy(n);return x.jsx(JG,{...s,...r,ref:e})});ZR.displayName=IQ;var PQ="MenuSub",[Qne,eO]=$l(PQ),vd="MenuSubTrigger",tO=E.forwardRef((t,e)=>{const n=Kl(vd,t.__scopeMenu),r=Lf(vd,t.__scopeMenu),s=eO(vd,t.__scopeMenu),i=Z1(vd,t.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},p=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>p,[p]),E.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),c(null)}},[u,c]),x.jsx(Y1,{asChild:!0,...d,children:x.jsx($R,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":sO(n.open),...t,ref:ql(e,s.onTriggerChange),onClick:g=>{var v;(v=t.onClick)==null||v.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(t.onPointerMove,sf(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:et(t.onPointerLeave,sf(g=>{var v,S;p();const C=(v=n.content)==null?void 0:v.getBoundingClientRect();if(C){const T=(S=n.content)==null?void 0:S.dataset.side,_=T==="right",D=_?-5:5,A=C[_?"left":"right"],O=C[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+D,y:g.clientY},{x:A,y:C.top},{x:O,y:C.top},{x:O,y:C.bottom},{x:A,y:C.bottom}],side:T}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(t.onKeyDown,g=>{var v;const S=i.searchRef.current!=="";t.disabled||S&&g.key===" "||uQ[r.dir].includes(g.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),g.preventDefault())})})})});tO.displayName=vd;var nO="MenuSubContent",rO=E.forwardRef((t,e)=>{const n=VR(Wr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Kl(Wr,t.__scopeMenu),o=Lf(Wr,t.__scopeMenu),u=eO(nO,t.__scopeMenu),c=E.useRef(null),d=lr(e,c);return x.jsx(rf.Provider,{scope:t.__scopeMenu,children:x.jsx(Rf,{present:r||i.open,children:x.jsx(rf.Slot,{scope:t.__scopeMenu,children:x.jsx(eE,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;o.isUsingKeyboardRef.current&&((g=c.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:et(t.onFocusOutside,p=>{p.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(t.onEscapeKeyDown,p=>{o.onClose(),p.preventDefault()}),onKeyDown:et(t.onKeyDown,p=>{var g;const v=p.currentTarget.contains(p.target),S=cQ[o.dir].includes(p.key);v&&S&&(i.onOpenChange(!1),(g=u.trigger)==null||g.focus(),p.preventDefault())})})})})})});rO.displayName=nO;function sO(t){return t?"open":"closed"}function Hg(t){return t==="indeterminate"}function rE(t){return Hg(t)?"indeterminate":t?"checked":"unchecked"}function DQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function NQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function AQ(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=NQ(t,Math.max(s,0));r.length===1&&(i=i.filter(u=>u!==n));const o=i.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return o!==n?o:void 0}function MQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const u=e[i],c=e[o],d=u.x,p=u.y,g=c.x,v=c.y;p>r!=v>r&&n<(g-d)*(r-p)/(v-p)+d&&(s=!s)}return s}function RQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return MQ(n,e)}function sf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var OQ=BR,jQ=Y1,LQ=zR,FQ=UR,BQ=tE,VQ=qR,zQ=Yy,UQ=KR,qQ=GR,$Q=QR,KQ=YR,WQ=JR,GQ=ZR,HQ=tO,QQ=rO,Jy="DropdownMenu",[XQ]=Af(Jy,[LR]),Hn=LR(),[YQ,iO]=XQ(Jy),aO=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:u=!0}=t,c=Hn(e),d=E.useRef(null),[p,g]=qM({prop:s,defaultProp:i??!1,onChange:o,caller:Jy});return x.jsx(YQ,{scope:e,triggerId:Mb(),triggerRef:d,contentId:Mb(),open:p,onOpenChange:g,onOpenToggle:E.useCallback(()=>g(v=>!v),[g]),modal:u,children:x.jsx(OQ,{...c,open:p,onOpenChange:g,dir:r,modal:u,children:n})})};aO.displayName=Jy;var oO="DropdownMenuTrigger",lO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=iO(oO,n),o=Hn(n);return x.jsx(jQ,{asChild:!0,...o,children:x.jsx(Gn.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ql(e,i.triggerRef),onPointerDown:et(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:et(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});lO.displayName=oO;var JQ="DropdownMenuPortal",uO=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Hn(e);return x.jsx(LQ,{...r,...n})};uO.displayName=JQ;var cO="DropdownMenuContent",hO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=iO(cO,n),i=Hn(n),o=E.useRef(!1);return x.jsx(FQ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:et(t.onCloseAutoFocus,u=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,u.preventDefault()}),onInteractOutside:et(t.onInteractOutside,u=>{const c=u.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,p=c.button===2||d;(!s.modal||p)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hO.displayName=cO;var ZQ="DropdownMenuGroup",eX=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return x.jsx(BQ,{...s,...r,ref:e})});eX.displayName=ZQ;var tX="DropdownMenuLabel",dO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return x.jsx(VQ,{...s,...r,ref:e})});dO.displayName=tX;var nX="DropdownMenuItem",fO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return x.jsx(zQ,{...s,...r,ref:e})});fO.displayName=nX;var rX="DropdownMenuCheckboxItem",pO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return x.jsx(UQ,{...s,...r,ref:e})});pO.displayName=rX;var sX="DropdownMenuRadioGroup",iX=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return x.jsx(qQ,{...s,...r,ref:e})});iX.displayName=sX;var aX="DropdownMenuRadioItem",mO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return x.jsx($Q,{...s,...r,ref:e})});mO.displayName=aX;var oX="DropdownMenuItemIndicator",gO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return x.jsx(KQ,{...s,...r,ref:e})});gO.displayName=oX;var lX="DropdownMenuSeparator",yO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return x.jsx(WQ,{...s,...r,ref:e})});yO.displayName=lX;var uX="DropdownMenuArrow",cX=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return x.jsx(GQ,{...s,...r,ref:e})});cX.displayName=uX;var hX="DropdownMenuSubTrigger",vO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return x.jsx(HQ,{...s,...r,ref:e})});vO.displayName=hX;var dX="DropdownMenuSubContent",wO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Hn(n);return x.jsx(QQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wO.displayName=dX;var fX=aO,pX=lO,mX=uO,bO=hO,xO=dO,EO=fO,SO=pO,kO=mO,TO=gO,_O=yO,CO=vO,IO=wO;const gX=fX,yX=pX,vX=E.forwardRef(({className:t,inset:e,children:n,...r},s)=>x.jsxs(CO,{ref:s,className:wt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,x.jsx(i$,{className:"ml-auto"})]}));vX.displayName=CO.displayName;const wX=E.forwardRef(({className:t,...e},n)=>x.jsx(IO,{ref:n,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));wX.displayName=IO.displayName;const PO=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(mX,{children:x.jsx(bO,{ref:r,sideOffset:e,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));PO.displayName=bO.displayName;const Lr=E.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(EO,{ref:r,className:wt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Lr.displayName=EO.displayName;const bX=E.forwardRef(({className:t,children:e,checked:n,...r},s)=>x.jsxs(SO,{ref:s,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(TO,{children:x.jsx(t$,{className:"h-4 w-4"})})}),e]}));bX.displayName=SO.displayName;const xX=E.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(kO,{ref:r,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(TO,{children:x.jsx(h$,{className:"h-2 w-2 fill-current"})})}),e]}));xX.displayName=kO.displayName;const DO=E.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(xO,{ref:r,className:wt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));DO.displayName=xO.displayName;const eg=E.forwardRef(({className:t,...e},n)=>x.jsx(_O,{ref:n,className:wt("-mx-1 my-1 h-px bg-muted",t),...e}));eg.displayName=_O.displayName;function vs(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function jl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const NO=6048e5,EX=864e5;let SX={};function Zy(){return SX}function af(t,e){var n,r,s,i;const o=Zy(),u=(e==null?void 0:e.weekStartsOn)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.weekStartsOn)??o.weekStartsOn??((i=(s=o.locale)==null?void 0:s.options)==null?void 0:i.weekStartsOn)??0,c=vs(t),d=c.getDay(),p=(d<u?7:0)+d-u;return c.setDate(c.getDate()-p),c.setHours(0,0,0,0),c}function Qg(t){return af(t,{weekStartsOn:1})}function AO(t){const e=vs(t),n=e.getFullYear(),r=jl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Qg(r),i=jl(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Qg(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Vb(t){const e=vs(t);return e.setHours(0,0,0,0),e}function VI(t){const e=vs(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function kX(t,e){const n=Vb(t),r=Vb(e),s=+n-VI(n),i=+r-VI(r);return Math.round((s-i)/EX)}function TX(t){const e=AO(t),n=jl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Qg(n)}function _X(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function CX(t){if(!_X(t)&&typeof t!="number")return!1;const e=vs(t);return!isNaN(Number(e))}function IX(t){const e=vs(t),n=jl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const PX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DX=(t,e,n)=>{let r;const s=PX[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gw(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const NX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},AX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},MX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RX={date:gw({formats:NX,defaultWidth:"full"}),time:gw({formats:AX,defaultWidth:"full"}),dateTime:gw({formats:MX,defaultWidth:"full"})},OX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jX=(t,e,n,r)=>OX[t];function ld(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):o;s=t.formattingValues[u]||t.formattingValues[o]}else{const o=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[u]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const LX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},FX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},VX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qX=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$X={ordinalNumber:qX,era:ld({values:LX,defaultWidth:"wide"}),quarter:ld({values:FX,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ld({values:BX,defaultWidth:"wide"}),day:ld({values:VX,defaultWidth:"wide"}),dayPeriod:ld({values:zX,defaultWidth:"wide",formattingValues:UX,defaultFormattingWidth:"wide"})};function ud(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?WX(u,g=>g.test(o)):KX(u,g=>g.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const p=e.slice(o.length);return{value:d,rest:p}}}function KX(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function WX(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function GX(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const u=e.slice(s.length);return{value:o,rest:u}}}const HX=/^(\d+)(th|st|nd|rd)?/i,QX=/\d+/i,XX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},YX={any:[/^b/i,/^(a|c)/i]},JX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ZX={any:[/1/i,/2/i,/3/i,/4/i]},eY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aY={ordinalNumber:GX({matchPattern:HX,parsePattern:QX,valueCallback:t=>parseInt(t,10)}),era:ud({matchPatterns:XX,defaultMatchWidth:"wide",parsePatterns:YX,defaultParseWidth:"any"}),quarter:ud({matchPatterns:JX,defaultMatchWidth:"wide",parsePatterns:ZX,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ud({matchPatterns:eY,defaultMatchWidth:"wide",parsePatterns:tY,defaultParseWidth:"any"}),day:ud({matchPatterns:nY,defaultMatchWidth:"wide",parsePatterns:rY,defaultParseWidth:"any"}),dayPeriod:ud({matchPatterns:sY,defaultMatchWidth:"any",parsePatterns:iY,defaultParseWidth:"any"})},oY={code:"en-US",formatDistance:DX,formatLong:RX,formatRelative:jX,localize:$X,match:aY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lY(t){const e=vs(t);return kX(e,IX(e))+1}function uY(t){const e=vs(t),n=+Qg(e)-+TX(e);return Math.round(n/NO)+1}function MO(t,e){var n,r,s,i;const o=vs(t),u=o.getFullYear(),c=Zy(),d=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??c.firstWeekContainsDate??((i=(s=c.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,p=jl(t,0);p.setFullYear(u+1,0,d),p.setHours(0,0,0,0);const g=af(p,e),v=jl(t,0);v.setFullYear(u,0,d),v.setHours(0,0,0,0);const S=af(v,e);return o.getTime()>=g.getTime()?u+1:o.getTime()>=S.getTime()?u:u-1}function cY(t,e){var n,r,s,i;const o=Zy(),u=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??o.firstWeekContainsDate??((i=(s=o.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,c=MO(t,e),d=jl(t,0);return d.setFullYear(c,0,u),d.setHours(0,0,0,0),af(d,e)}function hY(t,e){const n=vs(t),r=+af(n,e)-+cY(n,e);return Math.round(r/NO)+1}function ot(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ba={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ot(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ot(n+1,2)},d(t,e){return ot(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ot(t.getHours()%12||12,e.length)},H(t,e){return ot(t.getHours(),e.length)},m(t,e){return ot(t.getMinutes(),e.length)},s(t,e){return ot(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ot(s,e.length)}},Yu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zI={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ba.y(t,e)},Y:function(t,e,n,r){const s=MO(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return ot(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):ot(i,e.length)},R:function(t,e){const n=AO(t);return ot(n,e.length)},u:function(t,e){const n=t.getFullYear();return ot(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ot(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ot(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ba.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ot(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=hY(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):ot(s,e.length)},I:function(t,e,n){const r=uY(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ot(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ba.d(t,e)},D:function(t,e,n){const r=lY(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ot(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ot(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ot(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return ot(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Yu.noon:r===0?s=Yu.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Yu.evening:r>=12?s=Yu.afternoon:r>=4?s=Yu.morning:s=Yu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ba.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ba.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ot(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ot(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ba.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ba.s(t,e)},S:function(t,e){return Ba.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return qI(r);case"XXXX":case"XX":return rl(r);case"XXXXX":case"XXX":default:return rl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return qI(r);case"xxxx":case"xx":return rl(r);case"xxxxx":case"xxx":default:return rl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+UI(r,":");case"OOOO":default:return"GMT"+rl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+UI(r,":");case"zzzz":default:return"GMT"+rl(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ot(r,e.length)},T:function(t,e,n){const r=t.getTime();return ot(r,e.length)}};function UI(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+ot(i,2)}function qI(t,e){return t%60===0?(t>0?"-":"+")+ot(Math.abs(t)/60,2):rl(t,e)}function rl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ot(Math.trunc(r/60),2),i=ot(r%60,2);return n+s+e+i}const $I=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},RO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},dY=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return $I(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",$I(r,e)).replace("{{time}}",RO(s,e))},fY={p:RO,P:dY},pY=/^D+$/,mY=/^Y+$/,gY=["D","DD","YY","YYYY"];function yY(t){return pY.test(t)}function vY(t){return mY.test(t)}function wY(t,e,n){const r=bY(t,e,n);if(console.warn(r),gY.includes(t))throw new RangeError(r)}function bY(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,EY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,SY=/^'([^]*?)'?$/,kY=/''/g,TY=/[a-zA-Z]/;function _Y(t,e,n){var r,s,i,o;const u=Zy(),c=u.locale??oY,d=u.firstWeekContainsDate??((s=(r=u.locale)==null?void 0:r.options)==null?void 0:s.firstWeekContainsDate)??1,p=u.weekStartsOn??((o=(i=u.locale)==null?void 0:i.options)==null?void 0:o.weekStartsOn)??0,g=vs(t);if(!CX(g))throw new RangeError("Invalid time value");let v=e.match(EY).map(C=>{const T=C[0];if(T==="p"||T==="P"){const _=fY[T];return _(C,c.formatLong)}return C}).join("").match(xY).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const T=C[0];if(T==="'")return{isToken:!1,value:CY(C)};if(zI[T])return{isToken:!0,value:C};if(T.match(TY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:C}});c.localize.preprocessor&&(v=c.localize.preprocessor(g,v));const S={firstWeekContainsDate:d,weekStartsOn:p,locale:c};return v.map(C=>{if(!C.isToken)return C.value;const T=C.value;(vY(T)||yY(T))&&wY(T,e,String(t));const _=zI[T[0]];return _(g,T,c.localize,S)}).join("")}function CY(t){const e=t.match(SY);return e?e[1].replace(kY,"'"):t}class tg extends cn.Component{constructor(e){super(e),Xk(this,"hardReload",()=>{window.location.reload(!0)}),Xk(this,"clearCachesAndReload",async()=>{try{if("caches"in window){const n=await caches.keys();await Promise.all(n.map(r=>caches.delete(r)))}if("serviceWorker"in navigator){const n=await navigator.serviceWorker.getRegistrations();await Promise.all(n.map(r=>r.unregister()))}}catch(n){console.warn("Failed to clear caches or unregister SW",n)}finally{window.location.reload()}}),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ChunkErrorBoundary caught an error:",e,n)}render(){var e,n,r,s;if(this.state.hasError){const i=((e=this.state.error)==null?void 0:e.message)||"";return((n=this.state.error)==null?void 0:n.name)==="ChunkLoadError"||((r=this.state.error)==null?void 0:r.name)==="CSSChunkLoadError"||/Loading chunk|Failed to fetch dynamically imported module|Importing a module script failed/i.test(i)?x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Update available"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"The app was updated. Please refresh to load the latest version."}),x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx("button",{onClick:this.hardReload,className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"}),x.jsx("button",{onClick:this.clearCachesAndReload,className:"px-4 py-2 rounded-lg bg-gray-200",children:"Reset cache & reload"})]}),x.jsxs("details",{className:"mt-4 text-left text-xs text-gray-500",children:[x.jsx("summary",{children:"Details"}),x.jsx("pre",{className:"whitespace-pre-wrap break-words",children:((s=this.state.error)==null?void 0:s.stack)||i})]})]})}):x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"Try refreshing the page."}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"})]})})}return this.props.children}}const yw=cn.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO-BHKSaNp_-DZaDo8HZ.js"),[]),[]),[]),[]),[]),[])),IY=cn.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE-C7wsuJWC-i35konQI.js"),__vite__mapDeps([0,1])),Lt([0,1])),Bt([0,1])),zt([0,1])),qt([0,1])),Kt([0,1]))),PY=cn.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i-C6Fwv8wc-CAXKM_tn.js"),__vite__mapDeps([2,3])),Lt([2,3])),Bt([2,3])),zt([2,3])),qt([2,3])),Kt([2,3])));function DY({children:t,currentPageName:e}){var n;const r=Ji(),[s,i]=E.useState(!1),{user:o,loading:u}=U1(),[c,d]=E.useState(()=>localStorage.getItem("app.theme")==="dark");E.useEffect(()=>{const W=()=>{d(localStorage.getItem("app.theme")==="dark")};W(),window.addEventListener("storage",W);const M=setInterval(W,500);return()=>{window.removeEventListener("storage",W),clearInterval(M)}},[]),E.useEffect(()=>{const W=document.createElement("link");W.rel="manifest",W.href="/manifest.json",document.head.appendChild(W);const M=document.createElement("meta");M.name="theme-color",M.content=c?"#1e293b":"#9333ea",document.head.appendChild(M);const I=document.createElement("meta");I.name="apple-mobile-web-app-capable",I.content="yes",document.head.appendChild(I);const N=document.createElement("meta");N.name="apple-mobile-web-app-status-bar-style",N.content="default",document.head.appendChild(N);const j=document.createElement("meta");j.name="apple-mobile-web-app-title",j.content="Math Adventure",document.head.appendChild(j);const B=document.createElement("link");return B.rel="apple-touch-icon",document.head.appendChild(B),()=>{B.parentNode&&B.remove()}},[c]);const[p,g]=E.useState(0);E.useEffect(()=>{o!=null&&o.email&&g(0)},[o==null?void 0:o.email]);const v=_Y(Vb(new Date),"yyyy-MM-dd"),{data:S=[]}=Uq({queryKey:["dailyChallenges",v],initialData:[],enabled:!!o});if(e==="Landing")return x.jsx(x.Fragment,{children:t});if(e==="Home"&&!o)return x.jsx(x.Fragment,{children:t});if(!o)return u?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center max-w-md w-full",children:[x.jsx(hT,{size:"xl",variant:"circle",className:"mx-auto mb-6"}),x.jsx("h1",{className:"text-4xl font-extrabold text-white mb-3 drop-shadow-2xl",children:"Math Adventure"}),x.jsx("p",{className:"text-lg text-white mb-6 drop-shadow-lg",children:"Sign in or create an account to start."}),x.jsx(FM,{})]})});const C=S.some(W=>W.created_by===(o==null?void 0:o.email)),T=o?{avatar_skin_tone:o.avatar_skin_tone||"medium",avatar_hair_style:o.avatar_hair_style||"short",avatar_hair_color:o.avatar_hair_color||"brown",avatar_eyes:o.avatar_eyes||"normal",avatar_outfit:o.avatar_outfit||"casual",avatar_accessory:o.avatar_accessory||"none"}:null,_=o==null?void 0:o.active_pet,D=_?{id:_,name:"Pet",emoji:_==="dragon"?"":_==="owl"?"":_==="fox"?"":"",gradient:_==="dragon"?"from-red-400 to-orange-500":_==="owl"?"from-indigo-400 to-purple-500":_==="fox"?"from-orange-400 to-red-500":"from-pink-400 to-purple-500",evolveLevel:5}:null,A=(o==null?void 0:o.subscription_tier)||"free",O=A!=="free",V=async()=>{const W=ly(ms);await X6(W),localStorage.clear(),window.location.href="/"},U=({to:W,icon:M,label:I,badge:N,badgeColor:j="red",isDarkMode:B})=>{const q=r.pathname===nt(W);return x.jsxs(ft,{to:nt(W),onClick:()=>i(!1),className:`relative flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${q?"bg-purple-500 text-white shadow-lg":B?"text-gray-300 hover:bg-slate-700":"text-gray-600 hover:bg-purple-50"}`,children:[x.jsx(M,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:I}),N&&x.jsx(Br,{className:`absolute -top-1 -right-1 bg-${j}-500 text-white text-xs px-1.5 py-0.5 ${j==="red"?"animate-pulse":""}`,children:N})]})};return x.jsxs("div",{className:`min-h-screen ${c?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50"}`,children:[x.jsx(HK,{}),x.jsx("style",{children:`
        :root {
          --primary: 168 85% 55%;
          --secondary: 280 65% 60%;
          --accent: 45 95% 55%;
          --success: 142 76% 45%;
        }

        @media all and (display-mode: standalone) {
          body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
          }
        }

        ${c?`
          * {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
          }

          *::-webkit-scrollbar {
            width: 8px;
          }

          *::-webkit-scrollbar-track {
            background: #1e293b;
          }

          *::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
          }

          *::-webkit-scrollbar-thumb:hover {
            background: #64748b;
          }
        `:""}
      `}),x.jsx("header",{className:`${c?"bg-slate-800/90":"bg-white/80"} backdrop-blur-md shadow-sm sticky top-0 z-50`,children:x.jsxs("div",{className:"max-w-7xl mx-auto px-2 md:px-4 py-2 md:py-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs(ft,{to:nt("Home"),className:"flex items-center gap-3",children:[x.jsx(hT,{size:"md",variant:"circle"}),x.jsx("div",{children:x.jsx("h1",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${c&&"from-purple-400 to-pink-400"}`,children:"Math Adventure"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[o&&x.jsx(ft,{to:nt("Home"),className:"hidden md:inline-block",children:x.jsxs(Qs,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold shadow-lg",children:[x.jsx(EM,{className:"w-4 h-4 mr-2"}),"Play Now"]})}),o&&x.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white px-3 py-2 rounded-xl shadow-md",children:[x.jsx(ZC,{className:"w-4 h-4"}),x.jsx("span",{className:"font-bold text-sm",children:o.coins||0})]}),A!=="free"?x.jsx(ft,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs(Br,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 px-3 py-1.5 cursor-pointer",children:[x.jsx(dl,{className:"w-3 h-3 mr-1"}),A==="family_teacher"?"Family":A==="premium_player"?"Premium":"Parent"]})}):x.jsx(ft,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs(Br,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 px-3 py-1.5 cursor-pointer animate-pulse",children:[x.jsx(dl,{className:"w-3 h-3 mr-1"}),"Upgrade"]})}),o&&x.jsx("div",{className:"hidden lg:block",children:x.jsxs(gX,{children:[x.jsx(yX,{asChild:!0,children:x.jsx(Qs,{variant:"ghost",className:`${c?"hover:bg-slate-700 text-gray-50":"hover:bg-purple-50 text-gray-900"} h-auto p-2`,children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"flex items-center gap-1",children:x.jsx(tg,{children:x.jsxs(cn.Suspense,{fallback:x.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 animate-pulse"}),children:[T&&x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(yw,{avatarData:T,size:"small"})}),D&&x.jsx("div",{className:"scale-50 origin-center -ml-2",children:x.jsx(IY,{pet:D,experience:((n=o==null?void 0:o.pet_experience)==null?void 0:n[_])||0,size:"small"})})]})})}),x.jsxs("div",{className:"text-left",children:[x.jsx("p",{className:`text-sm font-semibold ${c?"text-gray-50":"text-gray-900"}`,children:o.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:o.email})]}),x.jsx(r$,{className:`w-4 h-4 ${c?"text-gray-300":"text-gray-500"}`})]})})}),x.jsxs(PO,{align:"end",className:`${c?"bg-slate-800 border-slate-700 text-gray-50":"bg-white"} w-56`,children:[x.jsx(DO,{children:x.jsxs("div",{className:"flex flex-col space-y-1",children:[x.jsx("p",{className:`text-sm font-medium ${c?"text-gray-50":"text-gray-900"}`,children:o.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:o.email})]})}),x.jsx(eg,{className:c?"bg-slate-700":""}),x.jsx(Lr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Avatar"),className:"cursor-pointer",children:[x.jsx(rw,{className:"w-4 h-4 mr-2"}),"View Profile"]})}),x.jsx(Lr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Messages"),className:"cursor-pointer",children:[x.jsx(aI,{className:"w-4 h-4 mr-2"}),"Messages",p>0&&x.jsx(Br,{className:"ml-auto bg-blue-500 text-white text-xs",children:p})]})}),x.jsx(Lr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("DailyChallenge"),className:"cursor-pointer",children:[x.jsx(ew,{className:"w-4 h-4 mr-2"}),"Daily Challenge",!C&&x.jsx(Br,{className:"ml-auto bg-red-500 text-white text-xs animate-pulse",children:"!"})]})}),x.jsx(Lr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("AITutor"),className:"cursor-pointer",children:[x.jsx(Qm,{className:"w-4 h-4 mr-2"}),"AI Tutor"]})}),x.jsx(Lr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Progress"),className:"cursor-pointer",children:[x.jsx(Zq,{className:"w-4 h-4 mr-2"}),"Progress & Stats"]})}),x.jsx(Lr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Shop"),className:"cursor-pointer",children:[x.jsx(tw,{className:"w-4 h-4 mr-2"}),"Rewards Shop"]})}),x.jsx(Lr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("ParentPortal"),className:"cursor-pointer",children:[x.jsx(nI,{className:"w-4 h-4 mr-2"}),"Parent Portal",(o==null?void 0:o.is_parent_mode)&&x.jsx(Br,{className:"ml-2 bg-blue-500 text-white text-xs",children:"ON"})]})}),x.jsx(eg,{className:c?"bg-slate-700":""}),x.jsx(Lr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Settings"),className:"cursor-pointer",children:[x.jsx(oI,{className:"w-4 h-4 mr-2"}),"App Settings"]})}),x.jsx(Lr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Subscription"),className:"cursor-pointer",children:[x.jsx(g$,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})}),O&&(o==null?void 0:o.subscription_auto_renew)!==!1&&x.jsx(Lr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Subscription"),className:"cursor-pointer text-orange-600 focus:text-orange-600",children:[x.jsx(u$,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})}),x.jsx(eg,{className:c?"bg-slate-700":""}),x.jsxs(Lr,{onClick:V,className:`${c?"text-red-400 focus:bg-slate-700 focus:text-red-400":"text-red-600 focus:text-red-600"} cursor-pointer`,children:[x.jsx(iI,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),x.jsx(Qs,{variant:"ghost",size:"icon",onClick:()=>i(!s),className:`lg:hidden ${c?"text-gray-50 hover:bg-slate-700":""}`,children:s?x.jsx(B1,{className:"w-6 h-6"}):x.jsx(I$,{className:"w-6 h-6"})})]})]}),s&&x.jsxs("div",{className:`mt-4 pb-4 space-y-2 border-t pt-4 max-h-[calc(100vh-140px)] overflow-y-auto ${c?"border-slate-700":""}`,children:[o&&x.jsxs("div",{className:`${c?"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-50":"bg-gradient-to-r from-purple-50 to-pink-50"} p-4 rounded-xl mb-4`,children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx(cn.Suspense,{fallback:null,children:T&&x.jsx("div",{className:"scale-90 origin-center",children:x.jsx(yw,{avatarData:T,size:"small"})})}),x.jsxs("div",{children:[x.jsx("p",{className:`font-bold ${c?"text-gray-50":"text-gray-900"}`,children:o.full_name||"Player"}),x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:o.email})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(Br,{className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white",children:[x.jsx(ZC,{className:"w-3 h-3 mr-1"}),o.coins||0," Coins"]}),A!=="free"&&x.jsxs(Br,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white",children:[x.jsx(dl,{className:"w-3 h-3 mr-1"}),A==="family_teacher"?"Family":A==="premium_player"?"Premium":"Parent"]})]})]}),x.jsx(U,{to:"Home",icon:sI,label:"Home",isDarkMode:c}),x.jsx(U,{to:"DailyChallenge",icon:ew,label:"Daily Challenge",badge:C?null:"!",isDarkMode:c}),x.jsx(U,{to:"Progress",icon:Tb,label:"Progress",isDarkMode:c}),x.jsx(U,{to:"AITutor",icon:Qm,label:"AI Tutor",isDarkMode:c}),x.jsx(U,{to:"Messages",icon:aI,label:"Messages",badge:p>0?p:null,badgeColor:"blue",isDarkMode:c}),x.jsx(U,{to:"Leaderboards",icon:Qq,label:"Leaderboards",isDarkMode:c}),x.jsx(U,{to:"Shop",icon:tw,label:"Shop",isDarkMode:c}),x.jsx(U,{to:"TeamChallenges",icon:_b,label:"Team Challenges",isDarkMode:c}),x.jsx(U,{to:"ParentPortal",icon:nI,label:"Parent Portal",badge:o!=null&&o.is_parent_mode?"ON":null,badgeColor:"blue",isDarkMode:c}),x.jsx(U,{to:"Avatar",icon:rw,label:"Profile",isDarkMode:c}),x.jsx("div",{className:`pt-2 mt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(ft,{to:nt("Settings"),onClick:()=>i(!1),children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-gradient-to-r from-gray-700 to-gray-800 text-gray-50 hover:bg-gray-700":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[x.jsx(oI,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"App Settings"})]})})}),x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(ft,{to:nt("Subscription"),onClick:()=>i(!1),className:"w-full block",children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${A!=="free"?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-purple-500 to-pink-500 text-white animate-pulse"}`,children:[x.jsx(dl,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:A!=="free"?"Manage Subscription":"Upgrade to Premium"})]})})}),o&&x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsxs("button",{onClick:()=>{i(!1),V()},className:`w-full flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-red-900/20 text-red-400 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[x.jsx(iI,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]})}),x.jsx("div",{className:`lg:hidden fixed bottom-0 left-0 right-0 ${c?"bg-slate-800/90 border-slate-700":"bg-white/90 border-t"} backdrop-blur-md shadow-lg z-40`,children:x.jsxs("div",{className:"grid grid-cols-5 gap-1 px-2 py-2",children:[x.jsxs(ft,{to:nt("Home"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Home")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(sI,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),x.jsxs(ft,{to:nt("DailyChallenge"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("DailyChallenge")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(ew,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Daily"}),!C&&x.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),x.jsxs(ft,{to:nt("AITutor"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("AITutor")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(Qm,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Tutor"})]}),x.jsxs(ft,{to:nt("Shop"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Shop")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(tw,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Shop"})]}),x.jsx(ft,{to:nt("Avatar"),className:`flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Avatar")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:T?x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(yw,{avatarData:T,size:"small"})}):x.jsx(rw,{className:"w-6 h-6"})})]})}),x.jsx(tg,{children:x.jsx(cn.Suspense,{fallback:null,children:x.jsx(PY,{})})}),x.jsx("main",{className:"flex-1 pb-20 lg:pb-0",children:x.jsx(tg,{children:x.jsx(cn.Suspense,{fallback:x.jsx("div",{className:"min-h-[40vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-3"}),x.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),children:t})})}),x.jsx("footer",{className:`${c?"bg-slate-800/60 border-slate-700":"bg-white/60 border-gray-200"} backdrop-blur-sm mt-12 py-8 border-t`,children:x.jsx("div",{className:"max-w-7xl mx-auto px-4",children:x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"text-center md:text-left",children:[x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:"Keep practicing and have fun! "}),x.jsx("p",{className:`text-xs ${c?"text-gray-400":"text-gray-500"} mt-1`,children:" 2025 Math Adventure. All rights reserved."})]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[x.jsx(ft,{to:nt("PrivacyPolicy"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Privacy Policy"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx(ft,{to:nt("Subscription"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Pricing"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx("a",{href:"mailto:support@math-adventure.com",className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Contact"})]})]})})})]})}const NY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));NY.displayName="Card";const AY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex flex-col space-y-1.5 p-6",t),...e}));AY.displayName="CardHeader";const MY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("font-semibold leading-none tracking-tight",t),...e}));MY.displayName="CardTitle";const RY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm text-muted-foreground",t),...e}));RY.displayName="CardDescription";const OY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("p-6 pt-0",t),...e}));OY.displayName="CardContent";const jY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex items-center p-6 pt-0",t),...e}));jY.displayName="CardFooter";const OO=E.createContext({});function LY(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const sE=typeof window<"u",FY=sE?E.useLayoutEffect:E.useEffect,iE=E.createContext(null);function aE(t,e){t.indexOf(e)===-1&&t.push(e)}function oE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ki=(t,e,n)=>n>e?e:n<t?t:n;let lE=()=>{};const Wi={},jO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function LO(t){return typeof t=="object"&&t!==null}const FO=t=>/^0[^.\s]+$/u.test(t);function uE(t){let e;return()=>(e===void 0&&(e=t()),e)}const Gr=t=>t,BY=(t,e)=>n=>e(t(n)),Ff=(...t)=>t.reduce(BY),of=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class cE{constructor(){this.subscriptions=[]}add(e){return aE(this.subscriptions,e),()=>oE(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ys=t=>t*1e3,$r=t=>t/1e3;function BO(t,e){return e?t*(1e3/e):0}const VO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,VY=1e-7,zY=12;function UY(t,e,n,r,s){let i,o,u=0;do o=e+(n-e)/2,i=VO(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>VY&&++u<zY);return o}function Bf(t,e,n,r){if(t===e&&n===r)return Gr;const s=i=>UY(i,0,1,t,n);return i=>i===0||i===1?i:VO(s(i),e,r)}const zO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,UO=t=>e=>1-t(1-e),qO=Bf(.33,1.53,.69,.99),hE=UO(qO),$O=zO(hE),KO=t=>(t*=2)<1?.5*hE(t):.5*(2-Math.pow(2,-10*(t-1))),dE=t=>1-Math.sin(Math.acos(t)),WO=UO(dE),GO=zO(dE),qY=Bf(.42,0,1,1),$Y=Bf(0,0,.58,1),HO=Bf(.42,0,.58,1),KY=t=>Array.isArray(t)&&typeof t[0]!="number",QO=t=>Array.isArray(t)&&typeof t[0]=="number",WY={linear:Gr,easeIn:qY,easeInOut:HO,easeOut:$Y,circIn:dE,circInOut:GO,circOut:WO,backIn:hE,backInOut:$O,backOut:qO,anticipate:KO},GY=t=>typeof t=="string",KI=t=>{if(QO(t)){lE(t.length===4);const[e,n,r,s]=t;return Bf(e,n,r,s)}else if(GY(t))return WY[t];return t},Im=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function HY(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(p){o.has(p)&&(d.schedule(p),t()),p(u)}const d={schedule:(p,g=!1,v=!1)=>{const S=v&&s?n:r;return g&&o.add(p),S.has(p)||S.add(p),p},cancel:p=>{r.delete(p),o.delete(p)},process:p=>{if(u=p,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,d.process(p))}};return d}const QY=40;function XO(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Im.reduce((D,A)=>(D[A]=HY(i),D),{}),{setup:u,read:c,resolveKeyframes:d,preUpdate:p,update:g,preRender:v,render:S,postRender:C}=o,T=()=>{const D=Wi.useManualTiming?s.timestamp:performance.now();n=!1,Wi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(D-s.timestamp,QY),1)),s.timestamp=D,s.isProcessing=!0,u.process(s),c.process(s),d.process(s),p.process(s),g.process(s),v.process(s),S.process(s),C.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(T))},_=()=>{n=!0,r=!0,s.isProcessing||t(T)};return{schedule:Im.reduce((D,A)=>{const O=o[A];return D[A]=(V,U=!1,W=!1)=>(n||_(),O.schedule(V,U,W)),D},{}),cancel:D=>{for(let A=0;A<Im.length;A++)o[Im[A]].cancel(D)},state:s,steps:o}}const{schedule:Et,cancel:lo,state:Sn,steps:vw}=XO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gr,!0);let ng;function XY(){ng=void 0}const ar={now:()=>(ng===void 0&&ar.set(Sn.isProcessing||Wi.useManualTiming?Sn.timestamp:performance.now()),ng),set:t=>{ng=t,queueMicrotask(XY)}},YO=t=>e=>typeof e=="string"&&e.startsWith(t),fE=YO("--"),YY=YO("var(--"),pE=t=>YY(t)?JY.test(t.split("/*")[0].trim()):!1,JY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lf={...Wc,transform:t=>Ki(0,1,t)},Pm={...Wc,default:1},Dd=t=>Math.round(t*1e5)/1e5,mE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZY(t){return t==null}const eJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gE=(t,e)=>n=>!!(typeof n=="string"&&eJ.test(n)&&n.startsWith(t)||e&&!ZY(n)&&Object.prototype.hasOwnProperty.call(n,e)),JO=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,u]=r.match(mE);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},tJ=t=>Ki(0,255,t),ww={...Wc,transform:t=>Math.round(tJ(t))},fl={test:gE("rgb","red"),parse:JO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ww.transform(t)+", "+ww.transform(e)+", "+ww.transform(n)+", "+Dd(lf.transform(r))+")"};function nJ(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const zb={test:gE("#"),parse:nJ,transform:fl.transform},Vf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),za=Vf("deg"),Js=Vf("%"),je=Vf("px"),rJ=Vf("vh"),sJ=Vf("vw"),WI={...Js,parse:t=>Js.parse(t)/100,transform:t=>Js.transform(t*100)},sc={test:gE("hsl","hue"),parse:JO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Js.transform(Dd(e))+", "+Js.transform(Dd(n))+", "+Dd(lf.transform(r))+")"},rn={test:t=>fl.test(t)||zb.test(t)||sc.test(t),parse:t=>fl.test(t)?fl.parse(t):sc.test(t)?sc.parse(t):zb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?fl.transform(t):sc.transform(t),getAnimatableNone:t=>{const e=rn.parse(t);return e.alpha=0,rn.transform(e)}},iJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aJ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(mE))==null?void 0:e.length)||0)+(((n=t.match(iJ))==null?void 0:n.length)||0)>0}const ZO="number",ej="color",oJ="var",lJ="var(",GI="${}",uJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(uJ,u=>(rn.test(u)?(r.color.push(i),s.push(ej),n.push(rn.parse(u))):u.startsWith(lJ)?(r.var.push(i),s.push(oJ),n.push(u)):(r.number.push(i),s.push(ZO),n.push(parseFloat(u))),++i,GI)).split(GI);return{values:n,split:o,indexes:r,types:s}}function tj(t){return uf(t).values}function nj(t){const{split:e,types:n}=uf(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const u=n[o];u===ZO?i+=Dd(s[o]):u===ej?i+=rn.transform(s[o]):i+=s[o]}return i}}const cJ=t=>typeof t=="number"?0:rn.test(t)?rn.getAnimatableNone(t):t;function hJ(t){const e=tj(t);return nj(t)(e.map(cJ))}const uo={test:aJ,parse:tj,createTransformer:nj,getAnimatableNone:hJ};function bw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dJ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;s=bw(c,u,t+1/3),i=bw(c,u,t),o=bw(c,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Xg(t,e){return n=>n>0?e:t}const Ct=(t,e,n)=>t+(e-t)*n,xw=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},fJ=[zb,fl,sc],pJ=t=>fJ.find(e=>e.test(t));function HI(t){const e=pJ(t);if(!e)return!1;let n=e.parse(t);return e===sc&&(n=dJ(n)),n}const QI=(t,e)=>{const n=HI(t),r=HI(e);if(!n||!r)return Xg(t,e);const s={...n};return i=>(s.red=xw(n.red,r.red,i),s.green=xw(n.green,r.green,i),s.blue=xw(n.blue,r.blue,i),s.alpha=Ct(n.alpha,r.alpha,i),fl.transform(s))},Ub=new Set(["none","hidden"]);function mJ(t,e){return Ub.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function gJ(t,e){return n=>Ct(t,e,n)}function yE(t){return typeof t=="number"?gJ:typeof t=="string"?pE(t)?Xg:rn.test(t)?QI:wJ:Array.isArray(t)?rj:typeof t=="object"?rn.test(t)?QI:yJ:Xg}function rj(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>yE(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function yJ(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=yE(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function vJ(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],u=t.values[o]??0;n[s]=u,r[i]++}return n}const wJ=(t,e)=>{const n=uo.createTransformer(e),r=uf(t),s=uf(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Ub.has(t)&&!s.values.length||Ub.has(e)&&!r.values.length?mJ(t,e):Ff(rj(vJ(r,s),s.values),n):Xg(t,e)};function sj(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ct(t,e,n):yE(t)(t,e)}const bJ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Et.update(e,n),stop:()=>lo(e),now:()=>Sn.isProcessing?Sn.timestamp:ar.now()}},ij=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Yg=2e4;function vE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Yg;)e+=n,r=t.next(e);return e>=Yg?1/0:e}function xJ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(vE(r),Yg);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:$r(s)}}const EJ=5;function aj(t,e,n){const r=Math.max(e-EJ,0);return BO(n-t(r),e-r)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ew=.001;function SJ({duration:t=Mt.duration,bounce:e=Mt.bounce,velocity:n=Mt.velocity,mass:r=Mt.mass}){let s,i,o=1-e;o=Ki(Mt.minDamping,Mt.maxDamping,o),t=Ki(Mt.minDuration,Mt.maxDuration,$r(t)),o<1?(s=d=>{const p=d*o,g=p*t,v=p-n,S=qb(d,o),C=Math.exp(-g);return Ew-v/S*C},i=d=>{const p=d*o*t,g=p*n+n,v=Math.pow(o,2)*Math.pow(d,2)*t,S=Math.exp(-p),C=qb(Math.pow(d,2),o);return(-s(d)+Ew>0?-1:1)*((g-v)*S)/C}):(s=d=>{const p=Math.exp(-d*t),g=(d-n)*t+1;return-Ew+p*g},i=d=>{const p=Math.exp(-d*t),g=(n-d)*(t*t);return p*g});const u=5/t,c=TJ(s,i,u);if(t=Ys(t),isNaN(c))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const kJ=12;function TJ(t,e,n){let r=n;for(let s=1;s<kJ;s++)r=r-t(r)/e(r);return r}function qb(t,e){return t*Math.sqrt(1-e*e)}const _J=["duration","bounce"],CJ=["stiffness","damping","mass"];function XI(t,e){return e.some(n=>t[n]!==void 0)}function IJ(t){let e={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...t};if(!XI(t,CJ)&&XI(t,_J))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ki(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Mt.mass,stiffness:s,damping:i}}else{const n=SJ(t);e={...e,...n,mass:Mt.mass},e.isResolvedFromDuration=!0}return e}function Jg(t=Mt.visualDuration,e=Mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:c,damping:d,mass:p,duration:g,velocity:v,isResolvedFromDuration:S}=IJ({...n,velocity:-$r(n.velocity||0)}),C=v||0,T=d/(2*Math.sqrt(c*p)),_=o-i,D=$r(Math.sqrt(c/p)),A=Math.abs(_)<5;r||(r=A?Mt.restSpeed.granular:Mt.restSpeed.default),s||(s=A?Mt.restDelta.granular:Mt.restDelta.default);let O;if(T<1){const U=qb(D,T);O=W=>{const M=Math.exp(-T*D*W);return o-M*((C+T*D*_)/U*Math.sin(U*W)+_*Math.cos(U*W))}}else if(T===1)O=U=>o-Math.exp(-D*U)*(_+(C+D*_)*U);else{const U=D*Math.sqrt(T*T-1);O=W=>{const M=Math.exp(-T*D*W),I=Math.min(U*W,300);return o-M*((C+T*D*_)*Math.sinh(I)+U*_*Math.cosh(I))/U}}const V={calculatedDuration:S&&g||null,next:U=>{const W=O(U);if(S)u.done=U>=g;else{let M=U===0?C:0;T<1&&(M=U===0?Ys(C):aj(O,U,W));const I=Math.abs(M)<=r,N=Math.abs(o-W)<=s;u.done=I&&N}return u.value=u.done?o:W,u},toString:()=>{const U=Math.min(vE(V),Yg),W=ij(M=>V.next(U*M).value,U,30);return U+"ms "+W},toTransition:()=>{}};return V}Jg.applyToOptions=t=>{const e=xJ(t,100,Jg);return t.ease=e.ease,t.duration=Ys(e.duration),t.type="keyframes",t};function $b({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:u,max:c,restDelta:d=.5,restSpeed:p}){const g=t[0],v={done:!1,value:g},S=I=>u!==void 0&&I<u||c!==void 0&&I>c,C=I=>u===void 0?c:c===void 0||Math.abs(u-I)<Math.abs(c-I)?u:c;let T=n*e;const _=g+T,D=o===void 0?_:o(_);D!==_&&(T=D-g);const A=I=>-T*Math.exp(-I/r),O=I=>D+A(I),V=I=>{const N=A(I),j=O(I);v.done=Math.abs(N)<=d,v.value=v.done?D:j};let U,W;const M=I=>{S(v.value)&&(U=I,W=Jg({keyframes:[v.value,C(v.value)],velocity:aj(O,I,v.value),damping:s,stiffness:i,restDelta:d,restSpeed:p}))};return M(0),{calculatedDuration:null,next:I=>{let N=!1;return!W&&U===void 0&&(N=!0,V(I),M(I)),U!==void 0&&I>=U?W.next(I-U):(!N&&V(I),v)}}}function PJ(t,e,n){const r=[],s=n||Wi.mix||sj,i=t.length-1;for(let o=0;o<i;o++){let u=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Gr:e;u=Ff(c,u)}r.push(u)}return r}function DJ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(lE(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=PJ(e,r,s),c=u.length,d=p=>{if(o&&p<t[0])return e[0];let g=0;if(c>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const v=of(t[g],t[g+1],p);return u[g](v)};return n?p=>d(Ki(t[0],t[i-1],p)):d}function NJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=of(0,e,r);t.push(Ct(n,1,s))}}function AJ(t){const e=[0];return NJ(e,t.length-1),e}function MJ(t,e){return t.map(n=>n*e)}function RJ(t,e){return t.map(()=>e||HO).splice(0,t.length-1)}function Nd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=KY(r)?r.map(KI):KI(r),i={done:!1,value:e[0]},o=MJ(n&&n.length===e.length?n:AJ(e),t),u=DJ(o,e,{ease:Array.isArray(s)?s:RJ(e,s)});return{calculatedDuration:t,next:c=>(i.value=u(c),i.done=c>=t,i)}}const OJ=t=>t!==null;function wE(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(OJ),o=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const jJ={decay:$b,inertia:$b,tween:Nd,keyframes:Nd,spring:Jg};function oj(t){typeof t.type=="string"&&(t.type=jJ[t.type])}class bE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const LJ=t=>t/100;class xE extends bE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==ar.now()&&this.tick(ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;oj(e);const{type:n=Nd,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:u}=e;const c=n||Nd;c!==Nd&&typeof u[0]!="number"&&(this.mixKeyframes=Ff(LJ,sj(u[0],u[1])),u=[0,100]);const d=c({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=vE(d));const{calculatedDuration:p}=d;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:S,type:C,onUpdate:T,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-d*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?D<0:D>s;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let O=this.currentTime,V=r;if(g){const I=Math.min(this.currentTime,s)/u;let N=Math.floor(I),j=I%1;!j&&I>=1&&(j=1),j===1&&N--,N=Math.min(N,g+1),N%2&&(v==="reverse"?(j=1-j,S&&(j-=S/u)):v==="mirror"&&(V=o)),O=Ki(0,1,j)*u}const U=A?{done:!1,value:p[0]}:V.next(O);i&&(U.value=i(U.value));let{done:W}=U;!A&&c!==null&&(W=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return M&&C!==$b&&(U.value=wE(p,this.options,_,this.speed)),T&&T(U.value),M&&this.finish(),U}then(e,n){return this.finished.then(e,n)}get duration(){return $r(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$r(e)}get time(){return $r(this.currentTime)}set time(e){var n;e=Ys(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ar.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=$r(this.currentTime))}play(){var e,n;if(this.isStopped)return;const{driver:r=bJ,startTime:s}=this.options;this.driver||(this.driver=r(o=>this.tick(o))),(n=(e=this.options).onPlay)==null||n.call(e);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function FJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const pl=t=>t*180/Math.PI,Kb=t=>{const e=pl(Math.atan2(t[1],t[0]));return Wb(e)},BJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Kb,rotateZ:Kb,skewX:t=>pl(Math.atan(t[1])),skewY:t=>pl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Wb=t=>(t=t%360,t<0&&(t+=360),t),YI=Kb,JI=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ZI=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),VJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:JI,scaleY:ZI,scale:t=>(JI(t)+ZI(t))/2,rotateX:t=>Wb(pl(Math.atan2(t[6],t[5]))),rotateY:t=>Wb(pl(Math.atan2(-t[2],t[0]))),rotateZ:YI,rotate:YI,skewX:t=>pl(Math.atan(t[4])),skewY:t=>pl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Gb(t){return t.includes("scale")?1:0}function Hb(t,e){if(!t||t==="none")return Gb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=VJ,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=BJ,s=u}if(!s)return Gb(e);const i=r[e],o=s[1].split(",").map(UJ);return typeof i=="function"?i(o):o[i]}const zJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Hb(n,e)};function UJ(t){return parseFloat(t.trim())}const Gc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hc=new Set(Gc),e2=t=>t===Wc||t===je,qJ=new Set(["x","y","z"]),$J=Gc.filter(t=>!qJ.has(t));function KJ(t){const e=[];return $J.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const bl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Hb(e,"x"),y:(t,{transform:e})=>Hb(e,"y")};bl.translateX=bl.x;bl.translateY=bl.y;const xl=new Set;let Qb=!1,Xb=!1,Yb=!1;function lj(){if(Xb){const t=Array.from(xl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=KJ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var u;(u=r.getValue(i))==null||u.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Xb=!1,Qb=!1,xl.forEach(t=>t.complete(Yb)),xl.clear()}function uj(){xl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Xb=!0)})}function WJ(){Yb=!0,uj(),lj(),Yb=!1}class EE{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(xl.add(this),Qb||(Qb=!0,Et.read(uj),Et.resolveKeyframes(lj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const u=r.readValue(n,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}FJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),xl.delete(this)}cancel(){this.state==="scheduled"&&(xl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GJ=t=>t.startsWith("--");function HJ(t,e,n){GJ(e)?t.style.setProperty(e,n):t.style[e]=n}const QJ=uE(()=>window.ScrollTimeline!==void 0),XJ={};function YJ(t,e){const n=uE(t);return()=>XJ[e]??n()}const cj=YJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,t2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wd([0,.65,.55,1]),circOut:wd([.55,0,1,.45]),backIn:wd([.31,.01,.66,-.59]),backOut:wd([.33,1.53,.69,.99])};function hj(t,e){if(t)return typeof t=="function"?cj()?ij(t,e):"ease-out":QO(t)?wd(t):Array.isArray(t)?t.map(n=>hj(n,e)||t2.easeOut):t2[t]}function JJ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:u="easeOut",times:c}={},d=void 0){const p={[e]:n};c&&(p.offset=c);const g=hj(u,s);Array.isArray(g)&&(p.easing=g);const v={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),t.animate(p,v)}function dj(t){return typeof t=="function"&&"applyToOptions"in t}function ZJ({type:t,...e}){return dj(t)&&cj()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class eZ extends bE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,lE(typeof e.type!="string");const d=ZJ(e);this.animation=JJ(n,r,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=wE(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):HJ(n,r,p),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var e,n;const r=((n=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:n.call(e).duration)||0;return $r(Number(r))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$r(e)}get time(){return $r(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ys(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&QJ()?(this.animation.timeline=e,Gr):n(this)}}const fj={anticipate:KO,backInOut:$O,circInOut:GO};function tZ(t){return t in fj}function nZ(t){typeof t.ease=="string"&&tZ(t.ease)&&(t.ease=fj[t.ease])}const n2=10;class rZ extends eZ{constructor(e){nZ(e),oj(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new xE({...o,autoplay:!1}),c=Ys(this.finishedTime??this.time);n.setWithVelocity(u.sample(c-n2).value,u.sample(c).value,n2),u.stop()}}const r2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(uo.test(t)||t==="0")&&!t.startsWith("url("));function sZ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function iZ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=r2(s,e),u=r2(i,e);return!o||!u?!1:sZ(t)||(n==="spring"||dj(n))&&r}function Jb(t){t.duration=0,t.type="keyframes"}const aZ=new Set(["opacity","clipPath","filter","transform"]),oZ=uE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lZ(t){var e;const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:u}=t;if(!(((e=n==null?void 0:n.owner)==null?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=n.owner.getProps();return oZ()&&r&&aZ.has(r)&&(r!=="transform"||!d)&&!c&&!s&&i!=="mirror"&&o!==0&&u!=="inertia"}const uZ=40;class cZ extends bE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:u,name:c,motionValue:d,element:p,...g}){var v;super(),this.stop=()=>{var T,_;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=ar.now();const S={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:p,...g},C=(p==null?void 0:p.KeyframeResolver)||EE;this.keyframeResolver=new C(u,(T,_,D)=>this.onKeyframesResolved(T,_,S,!D),c,d,p),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:u,delay:c,isHandoff:d,onUpdate:p}=r;this.resolvedAt=ar.now(),iZ(e,i,o,u)||((Wi.instantAnimations||!c)&&(p==null||p(wE(e,r,n))),e[0]=e[e.length-1],Jb(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>uZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!d&&lZ(g)?new rZ({...g,element:g.motionValue.owner.current}):new xE(g);v.finished.then(()=>this.notifyFinished()).catch(Gr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),WJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const hZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dZ(t){const e=hZ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function pj(t,e,n=1){const[r,s]=dZ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return jO(o)?parseFloat(o):o}return pE(s)?pj(s,e,n+1):s}function SE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const mj=new Set(["width","height","top","left","right","bottom",...Gc]),fZ={test:t=>t==="auto",parse:t=>t},gj=t=>e=>e.test(t),yj=[Wc,je,Js,za,sJ,rJ,fZ],s2=t=>yj.find(gj(t));function pZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||FO(t):!0}const mZ=new Set(["brightness","contrast","saturate","opacity"]);function gZ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(mE)||[];if(!r)return t;const s=n.replace(r,"");let i=mZ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const yZ=/\b([a-z-]*)\(.*?\)/gu,Zb={...uo,getAnimatableNone:t=>{const e=t.match(yZ);return e?e.map(gZ).join(" "):t}},i2={...Wc,transform:Math.round},vZ={rotate:za,rotateX:za,rotateY:za,rotateZ:za,scale:Pm,scaleX:Pm,scaleY:Pm,scaleZ:Pm,skew:za,skewX:za,skewY:za,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:lf,originX:WI,originY:WI,originZ:je},kE={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...vZ,zIndex:i2,fillOpacity:lf,strokeOpacity:lf,numOctaves:i2},wZ={...kE,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:Zb,WebkitFilter:Zb},vj=t=>wZ[t];function wj(t,e){let n=vj(t);return n!==Zb&&(n=uo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const bZ=new Set(["auto","none","0"]);function xZ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!bZ.has(i)&&uf(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=wj(n,s)}class EZ extends EE{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),pE(d))){const p=pj(d,n.current);p!==void 0&&(e[c]=p),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!mj.has(r)||e.length!==2)return;const[s,i]=e,o=s2(s),u=s2(i);if(o!==u)if(e2(o)&&e2(u))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else bl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||pZ(e[s]))&&r.push(s);r.length&&xZ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,u=s[o];s[o]=bl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(e=this.removedTransforms)!=null&&e.length&&this.removedTransforms.forEach(([c,d])=>{n.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function SZ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const bj=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function kZ(t){return LO(t)&&"offsetHeight"in t}const a2=30,TZ=t=>!isNaN(parseFloat(t));class _Z{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=ar.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ar.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=TZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new cE);const r=this.events[e].add(n);return e==="change"?()=>{r(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>a2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,a2);return BO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ac(t,e){return new _Z(t,e)}const{schedule:TE}=XO(queueMicrotask,!1),os={x:!1,y:!1};function xj(){return os.x||os.y}function CZ(t){return t==="x"||t==="y"?os[t]?null:(os[t]=!0,()=>{os[t]=!1}):os.x||os.y?null:(os.x=os.y=!0,()=>{os.x=os.y=!1})}function Ej(t,e){const n=SZ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function o2(t){return!(t.pointerType==="touch"||xj())}function IZ(t,e,n={}){const[r,s,i]=Ej(t,n),o=u=>{if(!o2(u))return;const{target:c}=u,d=e(c,u);if(typeof d!="function"||!c)return;const p=g=>{o2(g)&&(d(g),c.removeEventListener("pointerleave",p))};c.addEventListener("pointerleave",p,s)};return r.forEach(u=>{u.addEventListener("pointerenter",o,s)}),i}const Sj=(t,e)=>e?t===e?!0:Sj(t,e.parentElement):!1,_E=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,PZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function DZ(t){return PZ.has(t.tagName)||t.tabIndex!==-1}const rg=new WeakSet;function l2(t){return e=>{e.key==="Enter"&&t(e)}}function Sw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const NZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=l2(()=>{if(rg.has(n))return;Sw(n,"down");const s=l2(()=>{Sw(n,"up")}),i=()=>Sw(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function u2(t){return _E(t)&&!xj()}function AZ(t,e,n={}){const[r,s,i]=Ej(t,n),o=u=>{const c=u.currentTarget;if(!u2(u))return;rg.add(c);const d=e(c,u),p=(S,C)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),rg.has(c)&&rg.delete(c),u2(S)&&typeof d=="function"&&d(S,{success:C})},g=S=>{p(S,c===window||c===document||n.useGlobalTarget||Sj(c,S.target))},v=S=>{p(S,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",o,s),kZ(u)&&(u.addEventListener("focus",c=>NZ(c,s)),!DZ(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function kj(t){return LO(t)&&"ownerSVGElement"in t}function MZ(t){return kj(t)&&t.tagName==="svg"}const jn=t=>!!(t&&t.getVelocity),RZ=[...yj,rn,uo],OZ=t=>RZ.find(gj(t)),Tj=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function jZ(t=!0){const e=E.useContext(iE);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=E.useId();E.useEffect(()=>{if(t)return s(i)},[t]);const o=E.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const _j=E.createContext({strict:!1}),c2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mc={};for(const t in c2)Mc[t]={isEnabled:e=>c2[t].some(n=>!!e[n])};function LZ(t){for(const e in t)Mc[e]={...Mc[e],...t[e]}}const FZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||FZ.has(t)}let Cj=t=>!Zg(t);function BZ(t){typeof t=="function"&&(Cj=e=>e.startsWith("on")?!Zg(e):t(e))}try{BZ(require("@emotion/is-prop-valid").default)}catch{}function VZ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Cj(s)||n===!0&&Zg(s)||!e&&!Zg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const ev=E.createContext({});function tv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function cf(t){return typeof t=="string"||Array.isArray(t)}const CE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],IE=["initial",...CE];function nv(t){return tv(t.animate)||IE.some(e=>cf(t[e]))}function Ij(t){return!!(nv(t)||t.variants)}function zZ(t,e){if(nv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||cf(n)?n:void 0,animate:cf(r)?r:void 0}}return t.inherit!==!1?e:{}}function UZ(t){const{initial:e,animate:n}=zZ(t,E.useContext(ev));return E.useMemo(()=>({initial:e,animate:n}),[h2(e),h2(n)])}function h2(t){return Array.isArray(t)?t.join(" "):t}const hf={};function qZ(t){for(const e in t)hf[e]=t[e],fE(e)&&(hf[e].isCSSVariable=!0)}function Pj(t,{layout:e,layoutId:n}){return Hc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hf[t]||t==="opacity")}const $Z={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KZ=Gc.length;function WZ(t,e,n){let r="",s=!0;for(let i=0;i<KZ;i++){const o=Gc[i],u=t[o];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(o.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||n){const d=bj(u,kE[o]);if(!c){s=!1;const p=$Z[o]||o;r+=`${p}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function PE(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,u=!1;for(const c in e){const d=e[c];if(Hc.has(c)){o=!0;continue}else if(fE(c)){s[c]=d;continue}else{const p=bj(d,kE[c]);c.startsWith("origin")?(u=!0,i[c]=p):r[c]=p}}if(e.transform||(o||n?r.transform=WZ(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:d="50%",originZ:p=0}=i;r.transformOrigin=`${c} ${d} ${p}`}}const DE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Dj(t,e,n){for(const r in e)!jn(e[r])&&!Pj(r,n)&&(t[r]=e[r])}function GZ({transformTemplate:t},e){return E.useMemo(()=>{const n=DE();return PE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function HZ(t,e){const n=t.style||{},r={};return Dj(r,n,t),Object.assign(r,GZ(t,e)),r}function QZ(t,e){const n={},r=HZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const XZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},YZ={offset:"strokeDashoffset",array:"strokeDasharray"};function JZ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?XZ:YZ;t[i.offset]=je.transform(-r);const o=je.transform(e),u=je.transform(n);t[i.array]=`${o} ${u}`}function Nj(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...u},c,d,p){if(PE(t,u,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&JZ(g,s,i,o,!1)}const Aj=()=>({...DE(),attrs:{}}),Mj=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ZZ(t,e,n,r){const s=E.useMemo(()=>{const i=Aj();return Nj(i,e,Mj(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Dj(i,t.style,t),s.style={...i,...s.style}}return s}const eee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function NE(t){return typeof t!="string"||t.includes("-")?!1:!!(eee.indexOf(t)>-1||/[A-Z]/u.test(t))}function tee(t,e,n,{latestValues:r},s,i=!1){const o=(NE(t)?ZZ:QZ)(e,r,s,t),u=VZ(e,typeof t=="string",i),c=t!==E.Fragment?{...u,...o,ref:n}:{},{children:d}=e,p=E.useMemo(()=>jn(d)?d.get():d,[d]);return E.createElement(t,{...c,children:p})}function d2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function AE(t,e,n,r){if(typeof e=="function"){const[s,i]=d2(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=d2(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function sg(t){return jn(t)?t.get():t}function nee({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:ree(n,r,s,t),renderState:e()}}function ree(t,e,n,r){const s={},i=r(t,{});for(const v in i)s[v]=sg(i[v]);let{initial:o,animate:u}=t;const c=nv(t),d=Ij(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||o===!1;const g=p?u:o;if(g&&typeof g!="boolean"&&!tv(g)){const v=Array.isArray(g)?g:[g];for(let S=0;S<v.length;S++){const C=AE(t,v[S]);if(C){const{transitionEnd:T,transition:_,...D}=C;for(const A in D){let O=D[A];if(Array.isArray(O)){const V=p?O.length-1:0;O=O[V]}O!==null&&(s[A]=O)}for(const A in T)s[A]=T[A]}}}return s}const Rj=t=>(e,n)=>{const r=E.useContext(ev),s=E.useContext(iE),i=()=>nee(t,e,r,s);return n?i():LY(i)};function ME(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(jn(s[o])||e.style&&jn(e.style[o])||Pj(o,t)||((r=n==null?void 0:n.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}const see=Rj({scrapeMotionValuesFromProps:ME,createRenderState:DE});function Oj(t,e,n){const r=ME(t,e,n);for(const s in t)if(jn(t[s])||jn(e[s])){const i=Gc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const iee=Rj({scrapeMotionValuesFromProps:Oj,createRenderState:Aj}),aee=Symbol.for("motionComponentSymbol");function ic(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function oee(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ic(n)&&(n.current=r))},[e])}const RE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lee="framerAppearId",jj="data-"+RE(lee),Lj=E.createContext({});function uee(t,e,n,r,s){var i,o;const{visualElement:u}=E.useContext(ev),c=E.useContext(_j),d=E.useContext(iE),p=E.useContext(Tj).reducedMotion,g=E.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,S=E.useContext(Lj);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&cee(g.current,n,s,S);const C=E.useRef(!1);E.useInsertionEffect(()=>{v&&C.current&&v.update(n,d)});const T=n[jj],_=E.useRef(!!T&&!((i=window.MotionHandoffIsComplete)!=null&&i.call(window,T))&&((o=window.MotionHasOptimisedAnimation)==null?void 0:o.call(window,T)));return FY(()=>{v&&(C.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),_.current&&v.animationState&&v.animationState.animateChanges())}),E.useEffect(()=>{v&&(!_.current&&v.animationState&&v.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,T)}),_.current=!1),v.enteringChildren=void 0)}),v}function cee(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:u,layoutScroll:c,layoutRoot:d,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Fj(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||u&&ic(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:c,layoutRoot:d})}function Fj(t){if(t)return t.options.allowProjection!==!1?t.projection:Fj(t.parent)}function kw(t,{forwardMotionProps:e=!1}={},n,r){n&&LZ(n);const s=NE(t)?iee:see;function i(u,c){let d;const p={...E.useContext(Tj),...u,layoutId:hee(u)},{isStatic:g}=p,v=UZ(u),S=s(u,g);if(!g&&sE){dee();const C=fee(p);d=C.MeasureLayout,v.visualElement=uee(t,S,p,r,C.ProjectionNode)}return x.jsxs(ev.Provider,{value:v,children:[d&&v.visualElement?x.jsx(d,{visualElement:v.visualElement,...p}):null,tee(t,u,oee(S,v.visualElement,c),S,g,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=E.forwardRef(i);return o[aee]=t,o}function hee({layoutId:t}){const e=E.useContext(OO).id;return e&&t!==void 0?e+"-"+t:t}function dee(t,e){E.useContext(_j).strict}function fee(t){const{drag:e,layout:n}=Mc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function pee(t,e){if(typeof Proxy>"u")return kw;const n=new Map,r=(i,o)=>kw(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,kw(o,void 0,t,e)),n.get(o))})}function Bj({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function mee({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gee(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Tw(t){return t===void 0||t===1}function ex({scale:t,scaleX:e,scaleY:n}){return!Tw(t)||!Tw(e)||!Tw(n)}function sl(t){return ex(t)||Vj(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Vj(t){return f2(t.x)||f2(t.y)}function f2(t){return t&&t!=="0%"}function ey(t,e,n){const r=t-n,s=e*r;return n+s}function p2(t,e,n,r,s){return s!==void 0&&(t=ey(t,s,r)),ey(t,n,r)+e}function tx(t,e=0,n=1,r,s){t.min=p2(t.min,e,n,r,s),t.max=p2(t.max,e,n,r,s)}function zj(t,{x:e,y:n}){tx(t.x,e.translate,e.scale,e.originPoint),tx(t.y,n.translate,n.scale,n.originPoint)}const m2=.999999999999,g2=1.0000000000001;function yee(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let u=0;u<s;u++){i=n[u],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&oc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,zj(t,o)),r&&sl(i.latestValues)&&oc(t,i.latestValues))}e.x<g2&&e.x>m2&&(e.x=1),e.y<g2&&e.y>m2&&(e.y=1)}function ac(t,e){t.min=t.min+e,t.max=t.max+e}function y2(t,e,n,r,s=.5){const i=Ct(t.min,t.max,s);tx(t,e,n,i,r)}function oc(t,e){y2(t.x,e.x,e.scaleX,e.scale,e.originX),y2(t.y,e.y,e.scaleY,e.scale,e.originY)}function Uj(t,e){return Bj(gee(t.getBoundingClientRect(),e))}function vee(t,e,n){const r=Uj(t,n),{scroll:s}=e;return s&&(ac(r.x,s.offset.x),ac(r.y,s.offset.y)),r}const v2=()=>({translate:0,scale:1,origin:0,originPoint:0}),lc=()=>({x:v2(),y:v2()}),w2=()=>({min:0,max:0}),Zt=()=>({x:w2(),y:w2()}),nx={current:null},qj={current:!1};function wee(){if(qj.current=!0,!!sE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>nx.current=t.matches;t.addEventListener("change",e),e()}else nx.current=!1}const bee=new WeakMap;function xee(t,e,n){for(const r in e){const s=e[r],i=n[r];if(jn(s))t.addValue(r,s);else if(jn(i))t.addValue(r,Ac(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Ac(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const b2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Eee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=EE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ar.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Et.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=nv(n),this.isVariantNode=Ij(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const S=g[v];c[v]!==void 0&&jn(S)&&S.set(c[v])}}mount(e){var n;this.current=e,bee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),qj.current||wee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nx.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),lo(this.notifyUpdate),lo(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Hc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Mc){const n=Mc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<b2.length;r++){const s=b2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=xee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ac(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(jO(r)||FO(r))?r=parseFloat(r):!OZ(r)&&uo.test(n)&&(r=wj(e,n)),this.setBaseTarget(e,jn(r)?r.get():r)),jn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=AE(this.props,r,(n=this.presenceContext)==null?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!jn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new cE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){TE.render(this.render)}}class $j extends Eee{constructor(){super(...arguments),this.KeyframeResolver=EZ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;jn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Kj(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function See(t){return window.getComputedStyle(t)}class kee extends $j{constructor(){super(...arguments),this.type="html",this.renderInstance=Kj}readValueFromInstance(e,n){var r;if(Hc.has(n))return(r=this.projection)!=null&&r.isProjecting?Gb(n):zJ(e,n);{const s=See(e),i=(fE(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Uj(e,n)}build(e,n,r){PE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ME(e,n,r)}}const Wj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tee(t,e,n,r){Kj(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Wj.has(s)?s:RE(s),e.attrs[s])}class _ee extends $j{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Hc.has(n)){const r=vj(n);return r&&r.default||0}return n=Wj.has(n)?n:RE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Oj(e,n,r)}build(e,n,r){Nj(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){Tee(e,n,r,s)}mount(e){this.isSVGTag=Mj(e.tagName),super.mount(e)}}const Cee=(t,e)=>NE(t)?new _ee(e):new kee(e,{allowProjection:t!==E.Fragment});function gc(t,e,n){const r=t.getProps();return AE(r,e,n!==void 0?n:r.custom,t)}const rx=t=>Array.isArray(t);function Iee(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ac(n))}function Pee(t){return rx(t)?t[t.length-1]||0:t}function Dee(t,e){const n=gc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const u=Pee(i[o]);Iee(t,o,u)}}function Nee(t){return!!(jn(t)&&t.add)}function sx(t,e){const n=t.getValue("willChange");if(Nee(n))return n.add(e);if(!n&&Wi.WillChange){const r=new Wi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Gj(t){return t.props[jj]}const Aee=t=>t!==null;function Mee(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Aee),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const Ree={type:"spring",stiffness:500,damping:25,restSpeed:10},Oee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jee={type:"keyframes",duration:.8},Lee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Fee=(t,{keyframes:e})=>e.length>2?jee:Hc.has(t)?t.startsWith("scale")?Oee(e[1]):Ree:Lee;function Bee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:u,from:c,elapsed:d,...p}){return!!Object.keys(p).length}const OE=(t,e,n,r={},s,i)=>o=>{const u=SE(r,t)||{},c=u.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ys(c);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-d,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:s};Bee(u)||Object.assign(p,Fee(t,p)),p.duration&&(p.duration=Ys(p.duration)),p.repeatDelay&&(p.repeatDelay=Ys(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Jb(p),p.delay===0&&(g=!0)),(Wi.instantAnimations||Wi.skipAnimations)&&(g=!0,Jb(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!i&&e.get()!==void 0){const v=Mee(p.keyframes,u);if(v!==void 0){Et.update(()=>{p.onUpdate(v),p.onComplete()});return}}return u.isSync?new xE(p):new cZ(p)};function Vee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Hj(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...u}=e;r&&(i=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),v=u[p];if(v===void 0||d&&Vee(d,p))continue;const S={delay:n,...SE(i||{},p)},C=g.get();if(C!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===C&&!S.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const D=Gj(t);if(D){const A=window.MotionHandoffAnimation(D,p,Et);A!==null&&(S.startTime=A,T=!0)}}sx(t,p),g.start(OE(p,g,v,t.shouldReduceMotion&&mj.has(p)?{type:!1}:S,t,T));const _=g.animation;_&&c.push(_)}return o&&Promise.all(c).then(()=>{Et.update(()=>{o&&Dee(t,o)})}),c}function Qj(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),o=t.size,u=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:u-i*r}function ix(t,e,n={}){var r;const s=gc(t,e,n.type==="exit"?(r=t.presenceContext)==null?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Hj(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=i;return zee(t,e,d,p,g,v,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,p]=c==="beforeChildren"?[o,u]:[u,o];return d().then(()=>p())}else return Promise.all([o(),u(n.delay)])}function zee(t,e,n=0,r=0,s=0,i=1,o){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(ix(c,e,{...o,delay:n+(typeof r=="function"?0:r)+Qj(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function Uee(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>ix(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=ix(t,e,n);else{const s=typeof e=="function"?gc(t,e,n.custom):e;r=Promise.all(Hj(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Xj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const qee=IE.length;function Yj(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Yj(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<qee;n++){const r=IE[n],s=t.props[r];(cf(s)||s===!1)&&(e[r]=s)}return e}const $ee=[...CE].reverse(),Kee=CE.length;function Wee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Uee(t,n,r)))}function Gee(t){let e=Wee(t),n=x2(),r=!0;const s=c=>(d,p)=>{var g;const v=gc(t,p,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(v){const{transition:S,transitionEnd:C,...T}=v;d={...d,...T,...C}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,p=Yj(t.parent)||{},g=[],v=new Set;let S={},C=1/0;for(let _=0;_<Kee;_++){const D=$ee[_],A=n[D],O=d[D]!==void 0?d[D]:p[D],V=cf(O),U=D===c?A.isActive:null;U===!1&&(C=_);let W=O===p[D]&&O!==d[D]&&V;if(W&&r&&t.manuallyAnimateOnMount&&(W=!1),A.protectedKeys={...S},!A.isActive&&U===null||!O&&!A.prevProp||tv(O)||typeof O=="boolean")continue;const M=Hee(A.prevProp,O);let I=M||D===c&&A.isActive&&!W&&V||_>C&&V,N=!1;const j=Array.isArray(O)?O:[O];let B=j.reduce(s(D),{});U===!1&&(B={});const{prevResolvedValues:q={}}=A,L={...q,...B},ke=ye=>{I=!0,v.has(ye)&&(N=!0,v.delete(ye)),A.needsAnimating[ye]=!0;const ve=t.getValue(ye);ve&&(ve.liveStyle=!1)};for(const ye in L){const ve=B[ye],H=q[ye];if(S.hasOwnProperty(ye))continue;let ne=!1;rx(ve)&&rx(H)?ne=!Xj(ve,H):ne=ve!==H,ne?ve!=null?ke(ye):v.add(ye):ve!==void 0&&v.has(ye)?ke(ye):A.protectedKeys[ye]=!0}A.prevProp=O,A.prevResolvedValues=B,A.isActive&&(S={...S,...B}),r&&t.blockInitialAnimation&&(I=!1);const Ae=W&&M;I&&(!Ae||N)&&g.push(...j.map(ye=>{const ve={type:D};if(typeof ye=="string"&&r&&!Ae&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,ne=gc(H,ye);if(H.enteringChildren&&ne){const{delayChildren:ae}=ne.transition||{};ve.delay=Qj(H.enteringChildren,t,ae)}}return{animation:ye,options:ve}}))}if(v.size){const _={};if(typeof d.initial!="boolean"){const D=gc(t,Array.isArray(d.initial)?d.initial[0]:d.initial);D&&D.transition&&(_.transition=D.transition)}v.forEach(D=>{const A=t.getBaseTarget(D),O=t.getValue(D);O&&(O.liveStyle=!0),_[D]=A??null}),g.push({animation:_})}let T=!!g.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(g):Promise.resolve()}function u(c,d){var p;if(n[c].isActive===d)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(v=>{var S;return(S=v.animationState)==null?void 0:S.setActive(c,d)}),n[c].isActive=d;const g=o(c);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:o,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=x2()}}}function Hee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Xj(e,t):!1}function Zo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function x2(){return{animate:Zo(!0),whileInView:Zo(),whileHover:Zo(),whileTap:Zo(),whileDrag:Zo(),whileFocus:Zo(),exit:Zo()}}class mo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Qee extends mo{constructor(e){super(e),e.animationState||(e.animationState=Gee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Xee=0;class Yee extends mo{constructor(){super(...arguments),this.id=Xee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Jee={animation:{Feature:Qee},exit:{Feature:Yee}};function df(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function zf(t){return{point:{x:t.pageX,y:t.pageY}}}const Zee=t=>e=>_E(e)&&t(e,zf(e));function Ad(t,e,n,r){return df(t,e,Zee(n),r)}const Jj=1e-4,ete=1-Jj,tte=1+Jj,Zj=.01,nte=0-Zj,rte=0+Zj;function qn(t){return t.max-t.min}function ste(t,e,n){return Math.abs(t-e)<=n}function E2(t,e,n,r=.5){t.origin=r,t.originPoint=Ct(e.min,e.max,t.origin),t.scale=qn(n)/qn(e),t.translate=Ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ete&&t.scale<=tte||isNaN(t.scale))&&(t.scale=1),(t.translate>=nte&&t.translate<=rte||isNaN(t.translate))&&(t.translate=0)}function Md(t,e,n,r){E2(t.x,e.x,n.x,r?r.originX:void 0),E2(t.y,e.y,n.y,r?r.originY:void 0)}function S2(t,e,n){t.min=n.min+e.min,t.max=t.min+qn(e)}function ite(t,e,n){S2(t.x,e.x,n.x),S2(t.y,e.y,n.y)}function k2(t,e,n){t.min=e.min-n.min,t.max=t.min+qn(e)}function Rd(t,e,n){k2(t.x,e.x,n.x),k2(t.y,e.y,n.y)}function Fr(t){return[t("x"),t("y")]}const e4=({current:t})=>t?t.ownerDocument.defaultView:null,T2=(t,e)=>Math.abs(t-e);function ate(t,e){const n=T2(t.x,e.x),r=T2(t.y,e.y);return Math.sqrt(n**2+r**2)}class t4{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Cw(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,C=ate(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!C)return;const{point:T}=v,{timestamp:_}=Sn;this.history.push({...T,timestamp:_});const{onStart:D,onMove:A}=this.handlers;S||(D&&D(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,v)},this.handlePointerMove=(v,S)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=_w(S,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(v,S)=>{this.end();const{onEnd:C,onSessionEnd:T,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Cw(v.type==="pointercancel"?this.lastMoveEventInfo:_w(S,this.transformPagePoint),this.history);this.startEvent&&C&&C(v,D),T&&T(v,D)},!_E(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const u=zf(e),c=_w(u,this.transformPagePoint),{point:d}=c,{timestamp:p}=Sn;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Cw(c,this.history)),this.removeListeners=Ff(Ad(this.contextWindow,"pointermove",this.handlePointerMove),Ad(this.contextWindow,"pointerup",this.handlePointerUp),Ad(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),lo(this.updatePoint)}}function _w(t,e){return e?{point:e(t.point)}:t}function _2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Cw({point:t},e){return{point:t,delta:_2(t,n4(e)),offset:_2(t,ote(e)),velocity:lte(e,.1)}}function ote(t){return t[0]}function n4(t){return t[t.length-1]}function lte(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=n4(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ys(e)));)n--;if(!r)return{x:0,y:0};const i=$r(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ute(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ct(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ct(n,t,r.max):Math.min(t,n)),t}function C2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function cte(t,{top:e,left:n,bottom:r,right:s}){return{x:C2(t.x,n,s),y:C2(t.y,e,r)}}function I2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function hte(t,e){return{x:I2(t.x,e.x),y:I2(t.y,e.y)}}function dte(t,e){let n=.5;const r=qn(t),s=qn(e);return s>r?n=of(e.min,e.max-r,t.min):r>s&&(n=of(t.min,t.max-s,e.min)),Ki(0,1,n)}function fte(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ax=.35;function pte(t=ax){return t===!1?t=0:t===!0&&(t=ax),{x:P2(t,"left","right"),y:P2(t,"top","bottom")}}function P2(t,e,n){return{min:D2(t,e),max:D2(t,n)}}function D2(t,e){return typeof t=="number"?t:t[e]||0}const mte=new WeakMap;class gte{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zf(g).point)},o=(g,v)=>{const{drag:S,dragPropagation:C,onDragStart:T}=this.getProps();if(S&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CZ(S),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fr(D=>{let A=this.getAxisMotionValue(D).get()||0;if(Js.test(A)){const{projection:O}=this.visualElement;if(O&&O.layout){const V=O.layout.layoutBox[D];V&&(A=qn(V)*(parseFloat(A)/100))}}this.originPoint[D]=A}),T&&Et.postRender(()=>T(g,v)),sx(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:S,dragDirectionLock:C,onDirectionLock:T,onDrag:_}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:D}=v;if(C&&this.currentDirection===null){this.currentDirection=yte(D),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,D),this.updateAxis("y",v.point,D),this.visualElement.render(),_&&_(g,v)},c=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Fr(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new t4(e,{onSessionStart:i,onStart:o,onMove:u,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:e4(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&Et.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Dm(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=ute(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,i=this.constraints;n&&ic(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=cte(s.layoutBox,n):this.constraints=!1,this.elastic=pte(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Fr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fte(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ic(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=vee(r,s.root,this.visualElement.getTransformPagePoint());let o=hte(s.layout.layoutBox,i);if(n){const u=n(mee(o));this.hasMutatedConstraints=!!u,u&&(o=Bj(u))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},d=Fr(p=>{if(!Dm(p,n,this.currentDirection))return;let g=c&&c[p]||{};o&&(g={min:0,max:0});const v=s?200:1e6,S=s?40:1e7,C={type:"inertia",velocity:r?e[p]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(p,C)});return Promise.all(d).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return sx(this.visualElement,e),r.start(OE(e,r,0,n,this.visualElement,!1))}stopAnimation(){Fr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Fr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Fr(n=>{const{drag:r}=this.getProps();if(!Dm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:u}=s.layout.layoutBox[n];i.set(e[n]-Ct(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ic(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Fr(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const c=u.get();s[o]=dte({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fr(o=>{if(!Dm(o,e,null))return;const u=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];u.set(Ct(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;mte.set(this.visualElement,this);const e=this.visualElement.current,n=Ad(e,"pointerdown",c=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ic(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Et.read(r);const o=df(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Fr(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=c[p].translate,g.set(g.get()+c[p].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=ax,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:u}}}function Dm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function yte(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vte extends mo{constructor(e){super(e),this.removeGroupControls=Gr,this.removeListeners=Gr,this.controls=new gte(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gr}unmount(){this.removeGroupControls(),this.removeListeners()}}const N2=t=>(e,n)=>{t&&Et.postRender(()=>t(e,n))};class wte extends mo{constructor(){super(...arguments),this.removePointerDownListener=Gr}onPointerDown(e){this.session=new t4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:e4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:N2(e),onStart:N2(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Et.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ad(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ig={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function A2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=A2(t,e.target.x),r=A2(t,e.target.y);return`${n}% ${r}%`}},bte={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=uo.parse(t);if(s.length>5)return r;const i=uo.createTransformer(t),o=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=u,s[1+o]/=c;const d=Ct(u,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};let Iw=!1;class xte extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;qZ(Ete),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Iw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ig.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Iw=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Et.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),TE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Iw=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function r4(t){const[e,n]=jZ(),r=E.useContext(OO);return x.jsx(xte,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(Lj),isPresent:e,safeToRemove:n})}const Ete={borderRadius:{...cd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cd,borderTopRightRadius:cd,borderBottomLeftRadius:cd,borderBottomRightRadius:cd,boxShadow:bte};function Ste(t,e,n){const r=jn(t)?t:Ac(t);return r.start(OE("",r,e,n)),r.animation}const kte=(t,e)=>t.depth-e.depth;class Tte{constructor(){this.children=[],this.isDirty=!1}add(e){aE(this.children,e),this.isDirty=!0}remove(e){oE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kte),this.isDirty=!1,this.children.forEach(e)}}function _te(t,e){const n=ar.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(lo(r),t(i-e))};return Et.setup(r,!0),()=>lo(r)}const s4=["TopLeft","TopRight","BottomLeft","BottomRight"],Cte=s4.length,M2=t=>typeof t=="string"?parseFloat(t):t,R2=t=>typeof t=="number"||je.test(t);function Ite(t,e,n,r,s,i){s?(t.opacity=Ct(0,n.opacity??1,Pte(r)),t.opacityExit=Ct(e.opacity??1,0,Dte(r))):i&&(t.opacity=Ct(e.opacity??1,n.opacity??1,r));for(let o=0;o<Cte;o++){const u=`border${s4[o]}Radius`;let c=O2(e,u),d=O2(n,u);c===void 0&&d===void 0||(c||(c=0),d||(d=0),c===0||d===0||R2(c)===R2(d)?(t[u]=Math.max(Ct(M2(c),M2(d),r),0),(Js.test(d)||Js.test(c))&&(t[u]+="%")):t[u]=d)}(e.rotate||n.rotate)&&(t.rotate=Ct(e.rotate||0,n.rotate||0,r))}function O2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Pte=i4(0,.5,WO),Dte=i4(.5,.95,Gr);function i4(t,e,n){return r=>r<t?0:r>e?1:n(of(t,e,r))}function j2(t,e){t.min=e.min,t.max=e.max}function jr(t,e){j2(t.x,e.x),j2(t.y,e.y)}function L2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function F2(t,e,n,r,s){return t-=e,t=ey(t,1/n,r),s!==void 0&&(t=ey(t,1/s,r)),t}function Nte(t,e=0,n=1,r=.5,s,i=t,o=t){if(Js.test(e)&&(e=parseFloat(e),e=Ct(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=Ct(i.min,i.max,r);t===i&&(u-=e),t.min=F2(t.min,e,n,u,s),t.max=F2(t.max,e,n,u,s)}function B2(t,e,[n,r,s],i,o){Nte(t,e[n],e[r],e[s],e.scale,i,o)}const Ate=["x","scaleX","originX"],Mte=["y","scaleY","originY"];function V2(t,e,n,r){B2(t.x,e,Ate,n?n.x:void 0,r?r.x:void 0),B2(t.y,e,Mte,n?n.y:void 0,r?r.y:void 0)}function z2(t){return t.translate===0&&t.scale===1}function a4(t){return z2(t.x)&&z2(t.y)}function U2(t,e){return t.min===e.min&&t.max===e.max}function Rte(t,e){return U2(t.x,e.x)&&U2(t.y,e.y)}function q2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function o4(t,e){return q2(t.x,e.x)&&q2(t.y,e.y)}function $2(t){return qn(t.x)/qn(t.y)}function K2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Ote{constructor(){this.members=[]}add(e){aE(this.members,e),e.scheduleRender()}remove(e){if(oE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jte(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:p,rotateX:g,rotateY:v,skewX:S,skewY:C}=n;d&&(r=`perspective(${d}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),S&&(r+=`skewX(${S}deg) `),C&&(r+=`skewY(${C}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const Pw=["","X","Y","Z"],Lte=1e3;let Fte=0;function Dw(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function l4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Gj(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Et,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&l4(r)}function u4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},o=e==null?void 0:e()){this.id=Fte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zte),this.nodes.forEach(Kte),this.nodes.forEach(Wte),this.nodes.forEach(Ute)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Tte)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new cE),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const u=this.eventHandlers.get(i);u&&u.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=kj(i)&&!MZ(i),this.instance=i;const{layoutId:o,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||o)&&(this.isLayoutDirty=!0),t){let d,p=0;const g=()=>this.root.updateBlockedByResize=!1;Et.read(()=>{p=window.innerWidth}),t(i,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,d&&d(),d=_te(g,250),ig.hasAnimatedSinceResize&&(ig.hasAnimatedSinceResize=!1,this.nodes.forEach(H2)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||c.getDefaultTransition()||Yte,{onLayoutAnimationStart:C,onLayoutAnimationComplete:T}=c.getProps(),_=!this.targetLayout||!o4(this.targetLayout,v),D=!p&&g;if(this.options.layoutRoot||this.resumeFrom||D||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...SE(S,"layout"),onPlay:C,onComplete:T};(c.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(d,D)}else p||H2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),lo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Gte),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&l4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(W2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(G2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach($te),this.nodes.forEach(Bte),this.nodes.forEach(Vte)):this.nodes.forEach(G2),this.clearAllSnapshots();const i=ar.now();Sn.delta=Ki(0,1e3/60,i-Sn.timestamp),Sn.timestamp=i,Sn.isProcessing=!0,vw.update.process(Sn),vw.preRender.process(Sn),vw.render.process(Sn),Sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,TE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qte),this.sharedNodes.forEach(Hte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qn(this.snapshot.measuredBox.x)&&!qn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!a4(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&this.instance&&(o||sl(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return i&&(u=this.removeTransform(u)),Jte(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:o}=this.options;if(!o)return Zt();const u=o.measureViewportBox();if(!((i=this.scroll)!=null&&i.wasRoot||this.path.some(Zte))){const{scroll:c}=this.root;c&&(ac(u.x,c.offset.x),ac(u.y,c.offset.y))}return u}removeElementScroll(i){var o;const u=Zt();if(jr(u,i),(o=this.scroll)!=null&&o.wasRoot)return u;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:p,options:g}=d;d!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&jr(u,i),ac(u.x,p.offset.x),ac(u.y,p.offset.y))}return u}applyTransform(i,o=!1){const u=Zt();jr(u,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&oc(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),sl(d.latestValues)&&oc(u,d.latestValues)}return sl(this.latestValues)&&oc(u,this.latestValues),u}removeTransform(i){const o=Zt();jr(o,i);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!sl(c.latestValues))continue;ex(c.latestValues)&&c.updateSnapshot();const d=Zt(),p=c.measurePageBox();jr(d,p),V2(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return sl(this.latestValues)&&V2(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(o=this.parent)!=null&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=Sn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Rd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zt(),this.targetWithTransforms=Zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ite(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jr(this.target,this.layout.layoutBox),zj(this.target,this.targetDelta)):jr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Rd(this.relativeTargetOrigin,this.target,g.target),jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ex(this.parent.latestValues)||Vj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(i=this.parent)!=null&&i.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Sn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;jr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;yee(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Zt());const{target:S}=o;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(L2(this.prevProjectionDelta.x,this.projectionDelta.x),L2(this.prevProjectionDelta.y,this.projectionDelta.y)),Md(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!K2(this.projectionDelta.x,this.prevProjectionDelta.x)||!K2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),i){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lc(),this.projectionDelta=lc(),this.projectionDeltaWithTransform=lc()}setAnimationOrigin(i,o=!1){const u=this.snapshot,c=u?u.latestValues:{},d={...this.latestValues},p=lc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=Zt(),v=u?u.source:void 0,S=this.layout?this.layout.source:void 0,C=v!==S,T=this.getStack(),_=!T||T.members.length<=1,D=!!(C&&!_&&this.options.crossfade===!0&&!this.path.some(Xte));this.animationProgress=0;let A;this.mixTargetDelta=O=>{const V=O/1e3;Q2(p.x,i.x,V),Q2(p.y,i.y,V),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rd(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Qte(this.relativeTarget,this.relativeTargetOrigin,g,V),A&&Rte(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Zt()),jr(A,this.relativeTarget)),C&&(this.animationValues=d,Ite(d,c,this.latestValues,V,D,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var o,u,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(lo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{ig.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ac(0)),this.currentAnimation=Ste(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Lte),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:u,layout:c,latestValues:d}=i;if(!(!o||!u||!c)){if(this!==i&&this.layout&&c&&c4(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||Zt();const p=qn(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+p;const g=qn(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+g}jr(o,u),oc(o,d),Md(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Ote),this.sharedNodes.get(i).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())==null?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())==null?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:u}=i;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const c={};u.z&&Dw("z",i,c,this.animationValues);for(let d=0;d<Pw.length;d++)Dw(`rotate${Pw[d]}`,i,c,this.animationValues),Dw(`skew${Pw[d]}`,i,c,this.animationValues);i.render();for(const d in c)i.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);i.scheduleRender()}applyProjectionStyles(i,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=sg(o==null?void 0:o.pointerEvents)||"",i.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=sg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!sl(this.latestValues)&&(i.transform=u?u({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let p=jte(this.projectionDeltaWithTransform,this.treeScale,d);u&&(p=u(d,p)),i.transform=p;const{x:g,y:v}=this.projectionDelta;i.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,c.animationValues?i.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const S in hf){if(d[S]===void 0)continue;const{correct:C,applyTo:T,isCSSVariable:_}=hf[S],D=p==="none"?d[S]:C(d[S],c);if(T){const A=T.length;for(let O=0;O<A;O++)i[T[O]]=D}else _?this.options.visualElement.renderState.vars[S]=D:i[S]=D}this.options.layoutId&&(i.pointerEvents=c===this?sg(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(W2),this.root.sharedNodes.clear()}}}function Bte(t){t.updateLayout()}function Vte(t){var e;const n=((e=t.resumeFrom)==null?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Fr(g=>{const v=o?n.measuredBox[g]:n.layoutBox[g],S=qn(v);v.min=r[g].min,v.max=v.min+S}):c4(i,n.layoutBox,r)&&Fr(g=>{const v=o?n.measuredBox[g]:n.layoutBox[g],S=qn(r[g]);v.max=v.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+S)});const u=lc();Md(u,r,n.layoutBox);const c=lc();o?Md(c,t.applyTransform(s,!0),n.measuredBox):Md(c,r,n.layoutBox);const d=!a4(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:S}=g;if(v&&S){const C=Zt();Rd(C,n.layoutBox,v.layoutBox);const T=Zt();Rd(T,r,S.layoutBox),o4(C,T)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=C,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function zte(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ute(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qte(t){t.clearSnapshot()}function W2(t){t.clearMeasurements()}function G2(t){t.isLayoutDirty=!1}function $te(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function H2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Kte(t){t.resolveTargetDelta()}function Wte(t){t.calcProjection()}function Gte(t){t.resetSkewAndRotation()}function Hte(t){t.removeLeadSnapshot()}function Q2(t,e,n){t.translate=Ct(e.translate,0,n),t.scale=Ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function X2(t,e,n,r){t.min=Ct(e.min,n.min,r),t.max=Ct(e.max,n.max,r)}function Qte(t,e,n,r){X2(t.x,e.x,n.x,r),X2(t.y,e.y,n.y,r)}function Xte(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Yte={duration:.45,ease:[.4,0,.1,1]},Y2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),J2=Y2("applewebkit/")&&!Y2("chrome/")?Math.round:Gr;function Z2(t){t.min=J2(t.min),t.max=J2(t.max)}function Jte(t){Z2(t.x),Z2(t.y)}function c4(t,e,n){return t==="position"||t==="preserve-aspect"&&!ste($2(e),$2(n),.2)}function Zte(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const ene=u4({attachResizeListener:(t,e)=>df(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nw={current:void 0},h4=u4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Nw.current){const t=new ene({});t.mount(window),t.setOptions({layoutScroll:!0}),Nw.current=t}return Nw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),tne={pan:{Feature:wte},drag:{Feature:vte,ProjectionNode:h4,MeasureLayout:r4}};function eP(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Et.postRender(()=>i(e,zf(e)))}class nne extends mo{mount(){const{current:e}=this.node;e&&(this.unmount=IZ(e,(n,r)=>(eP(this.node,r,"Start"),s=>eP(this.node,s,"End"))))}unmount(){}}class rne extends mo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ff(df(this.node.current,"focus",()=>this.onFocus()),df(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tP(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Et.postRender(()=>i(e,zf(e)))}class sne extends mo{mount(){const{current:e}=this.node;e&&(this.unmount=AZ(e,(n,r)=>(tP(this.node,r,"Start"),(s,{success:i})=>tP(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ox=new WeakMap,Aw=new WeakMap,ine=t=>{const e=ox.get(t.target);e&&e(t)},ane=t=>{t.forEach(ine)};function one({root:t,...e}){const n=t||document;Aw.has(n)||Aw.set(n,{});const r=Aw.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(ane,{root:t,...e})),r[s]}function lne(t,e,n){const r=one(e);return ox.set(t,n),r.observe(t),()=>{ox.delete(t),r.unobserve(t)}}const une={some:0,all:1};class cne extends mo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:une[s]},u=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=d?p:g;v&&v(c)};return lne(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hne(e,n))&&this.startObserver()}unmount(){}}function hne({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const dne={inView:{Feature:cne},tap:{Feature:sne},focus:{Feature:rne},hover:{Feature:nne}},fne={layout:{ProjectionNode:h4,MeasureLayout:r4}},pne={...Jee,...dne,...tne,...fne},Jt=pee(pne,Cee);function lx(){const t=P1(),{user:e,loading:n}=U1(),[r,s]=cn.useState(!1);E.useEffect(()=>{!n&&e&&t(nt("Home"))},[e,n,t]);const i=()=>{e?t(nt("Home")):s(!0)};if(n)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-white",children:"Loading..."})]})});const o=[{icon:x$,title:"12 Math Concepts",description:"Addition, subtraction, multiplication, division, fractions, decimals, percentages, geometry & more!",gradient:"from-blue-400 to-cyan-500",emoji:""},{icon:Qm,title:"AI Math Tutor",description:"Stuck on a problem? Get instant help with step-by-step explanations!",gradient:"from-purple-400 to-pink-500",emoji:""},{icon:Tb,title:"Daily Challenges",description:"New challenges every day! Compete for bonus stars and climb the leaderboard!",gradient:"from-yellow-400 to-orange-500",emoji:""},{icon:nw,title:"Earn Rewards",description:"Collect stars and coins to unlock cool avatar items, pets, badges, and power-ups!",gradient:"from-green-400 to-emerald-500",emoji:""},{icon:_b,title:"Team Challenges",description:"Team up with friends and family to complete challenges together!",gradient:"from-indigo-400 to-purple-500",emoji:""},{icon:O$,title:"Safe & Secure",description:"Advanced parental controls, time limits, and content filtering for peace of mind",gradient:"from-red-400 to-pink-500",emoji:""}],u=[{emoji:"",name:"Addition",grade:"K-4"},{emoji:"",name:"Subtraction",grade:"K-4"},{emoji:"",name:"Multiplication",grade:"2-5"},{emoji:"",name:"Division",grade:"3-6"},{emoji:"",name:"Fractions",grade:"3-6"},{emoji:"0.5",name:"Decimals",grade:"4-7"},{emoji:"%",name:"Percentages",grade:"5-8"},{emoji:"",name:"Word Problems",grade:"2-6"},{emoji:"",name:"Money Math",grade:"1-5"},{emoji:"",name:"Time",grade:"1-4"},{emoji:"",name:"Geometry",grade:"3-7"},{emoji:"",name:"Mixed",grade:"3-8"}],c=[{text:"My kids actually BEG to practice math now! They love earning stars and unlocking new pets. Best $1 we've ever spent!",author:"Sarah M.",role:"Parent of 2 (Ages 7 & 9)",rating:5,emoji:""},{text:"The AI tutor is incredible! It explains things in a way my students actually understand. My whole class is hooked!",author:"Mr. Johnson",role:"3rd Grade Teacher",rating:5,emoji:""},{text:"I used to hate math but now it's FUN! I got the dragon pet and I'm on a 12-day streak! ",author:"Emma, Age 9",role:"Student & Math Champion",rating:5,emoji:""}],d=[{icon:Tb,value:"10,000+",label:"Games Played Daily",color:"text-yellow-600"},{icon:nw,value:"50,000+",label:"Stars Earned",color:"text-purple-600"},{icon:_b,value:"1,000+",label:"Happy Learners",color:"text-blue-600"},{icon:rI,value:"100%",label:"Fun Guaranteed",color:"text-pink-600"}],p=[{emoji:"",name:"Dragon Pet",desc:"Levels up with you!"},{emoji:"",name:"Crown",desc:"Show you're a champion!"},{emoji:"",name:"Custom Avatar",desc:"100+ items to unlock!"},{emoji:"",name:"Power-Ups",desc:"Time freeze, hints & more!"}];return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx(Jt.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-20",children:""}),x.jsx(Jt.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-40 right-20 text-7xl opacity-20",children:""}),x.jsx(Jt.div,{animate:{y:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-40 text-5xl opacity-20",children:""}),x.jsx(Jt.div,{animate:{x:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 right-10 text-6xl opacity-20",children:""})]}),x.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 md:py-20",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Jt.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"inline-block mb-8",children:x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl transform rotate-12 animate-pulse overflow-hidden",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-24 h-24 object-contain transform -rotate-12"})}),x.jsx(Jt.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 text-4xl",children:""}),x.jsx(Jt.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -left-2 text-4xl",children:""})]})}),x.jsx(Jt.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 text-white drop-shadow-2xl",children:"Math is FUN Now! "}),x.jsx(Jt.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl text-white mb-4 max-w-3xl mx-auto font-bold drop-shadow-lg",children:"Learn  Play  Earn Rewards  Level Up!"}),x.jsxs(Jt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[x.jsxs(Br,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 text-lg font-bold shadow-xl border-0 animate-pulse",children:[x.jsx(o$,{className:"w-5 h-5 mr-2"}),"7-Day FREE Trial - All Features!"]}),x.jsxs(Br,{className:"bg-white text-pink-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(rI,{className:"w-5 h-5 mr-2"}),"Kids LOVE It!"]}),x.jsxs(Br,{className:"bg-white text-blue-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(EM,{className:"w-5 h-5 mr-2"}),"AI-Powered"]})]}),x.jsxs(Jt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[x.jsxs(Qs,{onClick:i,className:"h-20 px-12 text-2xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:[x.jsx(A$,{className:"w-8 h-8 mr-3"}),"START FREE NOW! "]}),x.jsxs(Qs,{onClick:()=>{var g;return(g=document.getElementById("features"))==null?void 0:g.scrollIntoView({behavior:"smooth"})},className:"h-20 px-10 text-xl font-bold border-4 border-white text-white bg-transparent hover:bg-white hover:text-purple-600 shadow-xl transition-all",children:["See What's Inside",x.jsx(Gq,{className:"w-6 h-6 ml-2"})]})]}),x.jsx(Jt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:d.map((g,v)=>{const S=g.icon;return x.jsxs(Jt.div,{whileHover:{scale:1.05},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border-4 border-yellow-300",children:[x.jsx(S,{className:`w-10 h-10 mx-auto mb-3 ${g.color}`}),x.jsx("div",{className:"text-3xl font-black text-gray-800",children:g.value}),x.jsx("div",{className:"text-sm font-bold text-gray-600 mt-1",children:g.label})]},v)})})]})}),x.jsxs("div",{style:{background:"linear-gradient(90deg, #6a11cb 0%, #2575fc 100%)",color:"#fff",padding:"14px 0 12px 0",textAlign:"center",fontWeight:"bold",fontSize:"1.1rem",letterSpacing:"0.01em",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.08)",borderBottom:"2px solid #fff",borderRadius:8,margin:"0 auto 24px auto",maxWidth:900},className:"mx-auto mb-8",children:[x.jsx("span",{role:"img","aria-label":"lightbulb",style:{marginRight:8},children:""}),"Best Experience: ",x.jsx("span",{style:{fontWeight:700},children:"Math Adventure"})," works best on ",x.jsx("span",{style:{textDecoration:"underline"},children:"tablets"})," and ",x.jsx("span",{style:{textDecoration:"underline"},children:"desktop computers"})," for optimal gameplay and features."]}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"What's Inside? Everything! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Your kids will love these amazing features!"})]}),x.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-16",children:p.map((g,v)=>x.jsxs(Jt.div,{whileHover:{y:-10,scale:1.05},className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-8 text-center border-4 border-purple-300 shadow-xl",children:[x.jsx("div",{className:"text-7xl mb-4",children:g.emoji}),x.jsx("h3",{className:"font-black text-xl mb-2 text-purple-800",children:g.name}),x.jsx("p",{className:"text-gray-700 font-semibold",children:g.desc})]},v))}),x.jsxs("div",{className:"mb-16",children:[x.jsx("h3",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-gray-800",children:"12 Math Skills to Master! "}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:u.map((g,v)=>x.jsxs(Jt.div,{whileHover:{scale:1.1,rotate:5},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 text-center border-3 border-blue-200 shadow-lg hover:shadow-2xl transition-all",children:[x.jsx("div",{className:"text-5xl mb-3",children:g.emoji}),x.jsx("div",{className:"font-bold text-sm text-gray-800",children:g.name}),x.jsx(Br,{className:"mt-2 bg-purple-500 text-white text-xs",children:g.grade})]},v))})]})]})}),x.jsx("div",{id:"features",className:"bg-gradient-to-br from-yellow-50 to-orange-50 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Why Kids Are OBSESSED! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Learning has never been this fun!"})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map((g,v)=>{const S=g.icon;return x.jsxs(Jt.div,{whileHover:{y:-10},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300",children:[x.jsxs("div",{className:`h-32 bg-gradient-to-br ${g.gradient} flex items-center justify-center relative`,children:[x.jsx("div",{className:"text-7xl",children:g.emoji}),x.jsx("div",{className:"absolute top-3 right-3",children:x.jsx(S,{className:"w-10 h-10 text-white opacity-50"})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("h3",{className:"text-2xl font-black mb-3 text-gray-800",children:g.title}),x.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:g.description})]})]},v)})})]})}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"So Easy, Even Parents Can Do It! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Three simple steps to math mastery"})]}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[x.jsxs(Jt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-green-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-green-500",children:"1"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Pick & Play! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Choose a math topic and difficulty. Start playing in seconds!"})]}),x.jsxs(Jt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-blue-400 to-cyan-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-blue-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-blue-500",children:"2"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Learn & Win! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Solve problems, get AI help when stuck, earn stars & coins!"})]}),x.jsxs(Jt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-purple-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-purple-500",children:"3"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Unlock Rewards! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Buy avatars, pets, badges, power-ups and MORE!"})]})]})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Parents & Kids LOVE Us! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Don't just take our word for it..."})]}),x.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:c.map((g,v)=>x.jsxs(Jt.div,{whileHover:{y:-10,scale:1.02},className:"bg-white rounded-3xl p-8 shadow-2xl border-4 border-purple-300",children:[x.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(g.rating)].map((S,C)=>x.jsx(nw,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"},C))}),x.jsx("div",{className:"text-6xl mb-4",children:g.emoji}),x.jsxs("p",{className:"text-gray-700 mb-6 italic font-semibold text-lg",children:['"',g.text,'"']}),x.jsxs("div",{children:[x.jsx("p",{className:"font-black text-lg text-gray-800",children:g.author}),x.jsx("p",{className:"text-sm text-gray-600 font-bold",children:g.role})]})]},v))})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 py-20",children:x.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[x.jsx(Jt.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-8xl mb-8",children:""}),x.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 text-white drop-shadow-2xl",children:"Ready for Math Adventure?"}),x.jsx("p",{className:"text-3xl text-white mb-12 font-bold drop-shadow-lg",children:"Join 1,000+ kids having FUN with math!"}),x.jsxs(Qs,{onClick:i,className:"h-24 px-16 text-3xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-110 transition-all animate-pulse",children:[x.jsx(D$,{className:"w-10 h-10 mr-4"}),"LET'S GO! IT'S FREE! "]}),x.jsx("p",{className:"text-white mt-6 text-lg font-bold drop-shadow",children:" No credit card   Start in 30 seconds   100% kid-safe"})]})}),x.jsx("div",{className:"bg-gray-900 text-white py-8",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[x.jsx("div",{className:"mb-4 flex items-center justify-center",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-16 h-16 object-contain"})}),x.jsx("h3",{className:"text-3xl font-black mb-2",children:"Math Adventure"}),x.jsx("p",{className:"text-gray-400 mb-4 text-lg",children:"Making math fun, one game at a time! "}),x.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Math Adventure. Built with  for learners everywhere."})]})}),r&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[x.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:""}),x.jsx(FM,{onSuccess:()=>t(nt("Home"))})]})})]})}const d4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg-Bm4HeusD-CfwVKCbF.js"),__vite__mapDeps([4,5,6,7,8,9,10,11,12,13,14,15,16])),Lt([4,5,6,7,8,9,10,11,12,13,14,15,16])),Bt([4,5,6,7,8,9,10,11,12,13,14,15,16])),zt([4,5,6,7,8,9,10,11,12,13,14,15,16])),qt([4,5,6,7,8,9,10,11,12,13,14,15,16])),Kt([4,5,6,7,8,9,10,11,12,13,14,15,16]))),f4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS-BChaWA9o-DlsB7OV4.js"),__vite__mapDeps([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Lt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Bt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),zt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),qt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Kt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7]))),p4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7-D1_uV6sk-DghFmtyw.js"),__vite__mapDeps([27,7,5,9,28,10,29])),Lt([27,7,5,9,28,10,29])),Bt([27,7,5,9,28,10,29])),zt([27,7,5,9,28,10,29])),qt([27,7,5,9,28,10,29])),Kt([27,7,5,9,28,10,29]))),m4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH-DF-71iZ9-CbEJ5snd.js"),__vite__mapDeps([30,18,31,32,33,34,14,0,1,35,23])),Lt([30,18,31,32,33,34,14,0,1,35,23])),Bt([30,18,31,32,33,34,14,0,1,35,23])),zt([30,18,31,32,33,34,14,0,1,35,23])),qt([30,18,31,32,33,34,14,0,1,35,23])),Kt([30,18,31,32,33,34,14,0,1,35,23]))),g4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV--BhqJgKOv-Bp24DiAJ.js"),__vite__mapDeps([36,18,1,19,20,10,37,24,26,5,7])),Lt([36,18,1,19,20,10,37,24,26,5,7])),Bt([36,18,1,19,20,10,37,24,26,5,7])),zt([36,18,1,19,20,10,37,24,26,5,7])),qt([36,18,1,19,20,10,37,24,26,5,7])),Kt([36,18,1,19,20,10,37,24,26,5,7]))),y4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n-BZmHUZjr-Ffel_h2u.js"),__vite__mapDeps([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Lt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Bt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),zt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),qt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Kt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25]))),v4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH-CQGtj46u-CCYcbo7R.js"),__vite__mapDeps([45,18,32,0,1,14,29,25,16,7])),Lt([45,18,32,0,1,14,29,25,16,7])),Bt([45,18,32,0,1,14,29,25,16,7])),zt([45,18,32,0,1,14,29,25,16,7])),qt([45,18,32,0,1,14,29,25,16,7])),Kt([45,18,32,0,1,14,29,25,16,7]))),w4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG-C6qJ1hIb-uuJZ4FGW.js"),__vite__mapDeps([46,18,32,47,9,7,12,10,37,44])),Lt([46,18,32,47,9,7,12,10,37,44])),Bt([46,18,32,47,9,7,12,10,37,44])),zt([46,18,32,47,9,7,12,10,37,44])),qt([46,18,32,47,9,7,12,10,37,44])),Kt([46,18,32,47,9,7,12,10,37,44]))),b4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat-CJ-Ur3Y4-BmOdg69B.js"),__vite__mapDeps([48,18,1,9,10])),Lt([48,18,1,9,10])),Bt([48,18,1,9,10])),zt([48,18,1,9,10])),qt([48,18,1,9,10])),Kt([48,18,1,9,10]))),x4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul-DCiCjD8f-MccA_3E3.js"),__vite__mapDeps([49,18,6,23])),Lt([49,18,6,23])),Bt([49,18,6,23])),zt([49,18,6,23])),qt([49,18,6,23])),Kt([49,18,6,23]))),E4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1-CLga-UGN-oTa863JD.js"),__vite__mapDeps([50,51,23,3,8])),Lt([50,51,23,3,8])),Bt([50,51,23,3,8])),zt([50,51,23,3,8])),qt([50,51,23,3,8])),Kt([50,51,23,3,8]))),S4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4-4pxzWKhv-Dzw5lkMP.js"),__vite__mapDeps([52,51])),Lt([52,51])),Bt([52,51])),zt([52,51])),qt([52,51])),Kt([52,51]))),k4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV-CN5MPYgC-CpqL9fon.js"),__vite__mapDeps([53,18,39,43,15,42])),Lt([53,18,39,43,15,42])),Bt([53,18,39,43,15,42])),zt([53,18,39,43,15,42])),qt([53,18,39,43,15,42])),Kt([53,18,39,43,15,42]))),T4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP-1V3wQYyb-t4dmRNZn.js"),__vite__mapDeps([54,18,40,41,34,26,16,12,13,43,21,3,55])),Lt([54,18,40,41,34,26,16,12,13,43,21,3,55])),Bt([54,18,40,41,34,26,16,12,13,43,21,3,55])),zt([54,18,40,41,34,26,16,12,13,43,21,3,55])),qt([54,18,40,41,34,26,16,12,13,43,21,3,55])),Kt([54,18,40,41,34,26,16,12,13,43,21,3,55]))),_4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2-BX8Q-MG7-Dcz3eR3L.js"),__vite__mapDeps([56,41,20,16,43,10,12,13,55,21,23,42])),Lt([56,41,20,16,43,10,12,13,55,21,23,42])),Bt([56,41,20,16,43,10,12,13,55,21,23,42])),zt([56,41,20,16,43,10,12,13,55,21,23,42])),qt([56,41,20,16,43,10,12,13,55,21,23,42])),Kt([56,41,20,16,43,10,12,13,55,21,23,42]))),C4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj-mLPuGK3Q-BfTbXhxt.js"),__vite__mapDeps([57,23,14])),Lt([57,23,14])),Bt([57,23,14])),zt([57,23,14])),qt([57,23,14])),Kt([57,23,14]))),I4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn-i2oBjFQw-Cla6mJUP.js"),__vite__mapDeps([58,32,10,22,15,7,24,1,9,28,25,14,11])),Lt([58,32,10,22,15,7,24,1,9,28,25,14,11])),Bt([58,32,10,22,15,7,24,1,9,28,25,14,11])),zt([58,32,10,22,15,7,24,1,9,28,25,14,11])),qt([58,32,10,22,15,7,24,1,9,28,25,14,11])),Kt([58,32,10,22,15,7,24,1,9,28,25,14,11]))),P4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H-IbM50djg-qnXeUsv8.js"),__vite__mapDeps([59,31,47,23])),Lt([59,31,47,23])),Bt([59,31,47,23])),zt([59,31,47,23])),qt([59,31,47,23])),Kt([59,31,47,23]))),D4=E.lazy(()=>Wt(()=>$t(()=>Ut(()=>Vt(()=>Ft(()=>jt(()=>import("./Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI-CuG18499-NSoB4kZx.js"),__vite__mapDeps([60,51])),Lt([60,51])),Bt([60,51])),zt([60,51])),qt([60,51])),Kt([60,51]))),nP={Home:d4,Game:f4,Progress:p4,Avatar:m4,DailyChallenge:g4,ParentPortal:y4,Shop:v4,Leaderboards:w4,TeamChallenges:b4,Subscription:x4,GenerateIcons:E4,TestIconGeneration:S4,Landing:lx,Messages:k4,ColorByNumbers:T4,Settings:_4,PrivacyPolicy:C4,AITutor:I4,AdminTestAccount:P4,Subscribe:D4};function mne(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(nP).find(n=>n.toLowerCase()===e.toLowerCase())||Object.keys(nP)[0]}const gne=()=>x.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-gray-600",children:"Loading..."})]})});function yne(){const t=Ji(),e=mne(t.pathname);return x.jsx(DY,{currentPageName:e,children:x.jsx(tg,{children:x.jsx(E.Suspense,{fallback:x.jsx(gne,{}),children:x.jsxs(T7,{children:[x.jsx(At,{path:"/",element:x.jsx(lx,{})}),x.jsx(At,{path:"/Home",element:x.jsx(d4,{})}),x.jsx(At,{path:"/Game",element:x.jsx(f4,{})}),x.jsx(At,{path:"/Progress",element:x.jsx(p4,{})}),x.jsx(At,{path:"/Avatar",element:x.jsx(m4,{})}),x.jsx(At,{path:"/DailyChallenge",element:x.jsx(g4,{})}),x.jsx(At,{path:"/ParentPortal",element:x.jsx(y4,{})}),x.jsx(At,{path:"/Shop",element:x.jsx(v4,{})}),x.jsx(At,{path:"/Leaderboards",element:x.jsx(w4,{})}),x.jsx(At,{path:"/TeamChallenges",element:x.jsx(b4,{})}),x.jsx(At,{path:"/Subscription",element:x.jsx(x4,{})}),x.jsx(At,{path:"/GenerateIcons",element:x.jsx(E4,{})}),x.jsx(At,{path:"/TestIconGeneration",element:x.jsx(S4,{})}),x.jsx(At,{path:"/Landing",element:x.jsx(lx,{})}),x.jsx(At,{path:"/Messages",element:x.jsx(k4,{})}),x.jsx(At,{path:"/ColorByNumbers",element:x.jsx(T4,{})}),x.jsx(At,{path:"/Settings",element:x.jsx(_4,{})}),x.jsx(At,{path:"/PrivacyPolicy",element:x.jsx(C4,{})}),x.jsx(At,{path:"/AITutor",element:x.jsx(I4,{})}),x.jsx(At,{path:"/AdminTestAccount",element:x.jsx(P4,{})}),x.jsx(At,{path:"/Subscribe",element:x.jsx(D4,{})})]})})})})}function vne(){return x.jsx(H7,{children:x.jsx(yne,{})})}const wne=20,bne=1e6,Ri={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Mw=0;function xne(){return Mw=(Mw+1)%Number.MAX_VALUE,Mw.toString()}const Rw=new Map,rP=t=>{if(Rw.has(t))return;const e=setTimeout(()=>{Rw.delete(t),Od({type:Ri.REMOVE_TOAST,toastId:t})},bne);Rw.set(t,e)},Ene=(t,e)=>{switch(e.type){case Ri.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,wne)};case Ri.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Ri.DISMISS_TOAST:{const{toastId:n}=e;return n?rP(n):t.toasts.forEach(r=>{rP(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Ri.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ag=[];let og={toasts:[]};function Od(t){og=Ene(og,t),ag.forEach(e=>{e(og)})}function Sne({...t}){const e=xne(),n=s=>Od({type:Ri.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>Od({type:Ri.DISMISS_TOAST,toastId:e});return Od({type:Ri.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function kne(){const[t,e]=E.useState(og);return E.useEffect(()=>(ag.push(e),()=>{const n=ag.indexOf(e);n>-1&&ag.splice(n,1)}),[t]),{...t,toast:Sne,dismiss:n=>Od({type:Ri.DISMISS_TOAST,toastId:n})}}const N4=E.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));N4.displayName="ToastProvider";const A4=E.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));A4.displayName="ToastViewport";const Tne=qy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),M4=E.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,className:wt(Tne({variant:e}),t),...n}));M4.displayName="Toast";const _ne=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));_ne.displayName="ToastAction";const R4=E.forwardRef(({className:t,...e},n)=>x.jsx("button",{ref:n,className:wt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(B1,{className:"h-4 w-4"})}));R4.displayName="ToastClose";const O4=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm font-semibold",t),...e}));O4.displayName="ToastTitle";const j4=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm opacity-90",t),...e}));j4.displayName="ToastDescription";function Cne(){const{toasts:t}=kne();return x.jsxs(N4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return x.jsxs(M4,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(O4,{children:n}),r&&x.jsx(j4,{children:r})]}),s,x.jsx(R4,{})]},e)}),x.jsx(A4,{})]})}function Ine(){return x.jsxs(x.Fragment,{children:[x.jsx(vne,{}),x.jsx(Cne,{})]})}const Pne=new Iq({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});c3.createRoot(document.getElementById("root")).render(x.jsx(Dq,{client:Pne,children:x.jsx(KK,{children:x.jsx(Ine,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{One as $,jZ as A,U1 as B,MY as C,OY as D,Tb as E,UM as F,Qs as G,wt as H,AY as I,ew as J,t$ as K,B1 as L,FM as M,Iy as N,ms as O,LY as P,fs as Q,FY as R,E as S,Fn as T,qr as U,zM as V,Zq as W,ps as X,Jt as Y,nI as Z,NY as _,Xe as a,ql as a$,zne as a0,P1 as a1,$K as a2,Ane as a3,ZC as a4,sI as a5,Gq as a6,u$ as a7,i$ as a8,Rne as a9,x1 as aA,Nne as aB,Ly as aC,rI as aD,aI as aE,vs as aF,jl as aG,kM as aH,UG as aI,cx as aJ,wA as aK,kne as aL,kX as aM,hY as aN,Gne as aO,$ne as aP,Mne as aQ,Lne as aR,Vne as aS,Kne as aT,Wne as aU,Une as aV,kH as aW,OR as aX,bW as aY,XM as aZ,Hne as a_,xm as aa,tw as ab,_n as ac,Bne as ad,qne as ae,rw as af,Xm as ag,jy as ah,si as ai,Af as aj,hR as ak,Mb as al,qM as am,QG as an,lr as ao,XG as ap,Gn as aq,et as ar,Rf as as,bR as at,HM as au,YG as av,JG as aw,Fne as ax,oI as ay,af as az,OO as b,WM as b0,KM as b1,r$ as b2,io as b3,R1 as b4,Ui as b5,sr as b6,fq as b7,Nf as b8,wb as b9,Zd as ba,Tq as bb,tI as bc,Dne as bd,ER as be,fH as bf,pH as bg,_K as bh,qy as bi,Tj as c,Uq as d,jne as e,_b as f,Qm as g,nw as h,dl as i,Br as j,Pq as k,f$ as l,_Y as m,ft as n,nt as o,g$ as p,Qq as q,iE as r,EM as s,hT as t,cn as u,O$ as v,kZ as w,x,Vb as y,o$ as z};
