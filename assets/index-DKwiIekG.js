var p5=t=>{throw TypeError(t)};var yN=(t,e,r)=>e.has(t)||p5("Cannot "+r);var Q=(t,e,r)=>(yN(t,e,"read from private field"),r?r.call(t):e.get(t)),rt=(t,e,r)=>e.has(t)?p5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Le=(t,e,r,n)=>(yN(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Et=(t,e,r)=>(yN(t,e,"access private method"),r);var ix=(t,e,r,n)=>({set _(i){Le(t,e,i,r)},get _(){return Q(t,e,n)}});function Are(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var sx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function er(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vN={exports:{}},Jp={},xN={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g5;function Cre(){if(g5)return kt;g5=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function p(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function g(W,ee,de){this.props=W,this.context=ee,this.refs=x,this.updater=de||v}g.prototype.isReactComponent={},g.prototype.setState=function(W,ee){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ee,"setState")},g.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function _(){}_.prototype=g.prototype;function T(W,ee,de){this.props=W,this.context=ee,this.refs=x,this.updater=de||v}var P=T.prototype=new _;P.constructor=T,w(P,g.prototype),P.isPureReactComponent=!0;var k=Array.isArray,A=Object.prototype.hasOwnProperty,C={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function j(W,ee,de){var ce,be={},ye=null,pe=null;if(ee!=null)for(ce in ee.ref!==void 0&&(pe=ee.ref),ee.key!==void 0&&(ye=""+ee.key),ee)A.call(ee,ce)&&!E.hasOwnProperty(ce)&&(be[ce]=ee[ce]);var Ie=arguments.length-2;if(Ie===1)be.children=de;else if(1<Ie){for(var me=Array(Ie),Pe=0;Pe<Ie;Pe++)me[Pe]=arguments[Pe+2];be.children=me}if(W&&W.defaultProps)for(ce in Ie=W.defaultProps,Ie)be[ce]===void 0&&(be[ce]=Ie[ce]);return{$$typeof:t,type:W,key:ye,ref:pe,props:be,_owner:C.current}}function O(W,ee){return{$$typeof:t,type:W.type,key:ee,ref:W.ref,props:W.props,_owner:W._owner}}function R(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function L(W){var ee={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(de){return ee[de]})}var $=/\/+/g;function F(W,ee){return typeof W=="object"&&W!==null&&W.key!=null?L(""+W.key):ee.toString(36)}function G(W,ee,de,ce,be){var ye=typeof W;(ye==="undefined"||ye==="boolean")&&(W=null);var pe=!1;if(W===null)pe=!0;else switch(ye){case"string":case"number":pe=!0;break;case"object":switch(W.$$typeof){case t:case e:pe=!0}}if(pe)return pe=W,be=be(pe),W=ce===""?"."+F(pe,0):ce,k(be)?(de="",W!=null&&(de=W.replace($,"$&/")+"/"),G(be,ee,de,"",function(Pe){return Pe})):be!=null&&(R(be)&&(be=O(be,de+(!be.key||pe&&pe.key===be.key?"":(""+be.key).replace($,"$&/")+"/")+W)),ee.push(be)),1;if(pe=0,ce=ce===""?".":ce+":",k(W))for(var Ie=0;Ie<W.length;Ie++){ye=W[Ie];var me=ce+F(ye,Ie);pe+=G(ye,ee,de,me,be)}else if(me=p(W),typeof me=="function")for(W=me.call(W),Ie=0;!(ye=W.next()).done;)ye=ye.value,me=ce+F(ye,Ie++),pe+=G(ye,ee,de,me,be);else if(ye==="object")throw ee=String(W),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return pe}function K(W,ee,de){if(W==null)return W;var ce=[],be=0;return G(W,ce,"","",function(ye){return ee.call(de,ye,be++)}),ce}function Y(W){if(W._status===-1){var ee=W._result;ee=ee(),ee.then(function(de){(W._status===0||W._status===-1)&&(W._status=1,W._result=de)},function(de){(W._status===0||W._status===-1)&&(W._status=2,W._result=de)}),W._status===-1&&(W._status=0,W._result=ee)}if(W._status===1)return W._result.default;throw W._result}var J={current:null},U={transition:null},X={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:U,ReactCurrentOwner:C};function ie(){throw Error("act(...) is not supported in production builds of React.")}return kt.Children={map:K,forEach:function(W,ee,de){K(W,function(){ee.apply(this,arguments)},de)},count:function(W){var ee=0;return K(W,function(){ee++}),ee},toArray:function(W){return K(W,function(ee){return ee})||[]},only:function(W){if(!R(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},kt.Component=g,kt.Fragment=r,kt.Profiler=i,kt.PureComponent=T,kt.StrictMode=n,kt.Suspense=c,kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,kt.act=ie,kt.cloneElement=function(W,ee,de){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ce=w({},W.props),be=W.key,ye=W.ref,pe=W._owner;if(ee!=null){if(ee.ref!==void 0&&(ye=ee.ref,pe=C.current),ee.key!==void 0&&(be=""+ee.key),W.type&&W.type.defaultProps)var Ie=W.type.defaultProps;for(me in ee)A.call(ee,me)&&!E.hasOwnProperty(me)&&(ce[me]=ee[me]===void 0&&Ie!==void 0?Ie[me]:ee[me])}var me=arguments.length-2;if(me===1)ce.children=de;else if(1<me){Ie=Array(me);for(var Pe=0;Pe<me;Pe++)Ie[Pe]=arguments[Pe+2];ce.children=Ie}return{$$typeof:t,type:W.type,key:be,ref:ye,props:ce,_owner:pe}},kt.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},kt.createElement=j,kt.createFactory=function(W){var ee=j.bind(null,W);return ee.type=W,ee},kt.createRef=function(){return{current:null}},kt.forwardRef=function(W){return{$$typeof:l,render:W}},kt.isValidElement=R,kt.lazy=function(W){return{$$typeof:f,_payload:{_status:-1,_result:W},_init:Y}},kt.memo=function(W,ee){return{$$typeof:d,type:W,compare:ee===void 0?null:ee}},kt.startTransition=function(W){var ee=U.transition;U.transition={};try{W()}finally{U.transition=ee}},kt.unstable_act=ie,kt.useCallback=function(W,ee){return J.current.useCallback(W,ee)},kt.useContext=function(W){return J.current.useContext(W)},kt.useDebugValue=function(){},kt.useDeferredValue=function(W){return J.current.useDeferredValue(W)},kt.useEffect=function(W,ee){return J.current.useEffect(W,ee)},kt.useId=function(){return J.current.useId()},kt.useImperativeHandle=function(W,ee,de){return J.current.useImperativeHandle(W,ee,de)},kt.useInsertionEffect=function(W,ee){return J.current.useInsertionEffect(W,ee)},kt.useLayoutEffect=function(W,ee){return J.current.useLayoutEffect(W,ee)},kt.useMemo=function(W,ee){return J.current.useMemo(W,ee)},kt.useReducer=function(W,ee,de){return J.current.useReducer(W,ee,de)},kt.useRef=function(W){return J.current.useRef(W)},kt.useState=function(W){return J.current.useState(W)},kt.useSyncExternalStore=function(W,ee,de){return J.current.useSyncExternalStore(W,ee,de)},kt.useTransition=function(){return J.current.useTransition()},kt.version="18.3.1",kt}var y5;function kk(){return y5||(y5=1,xN.exports=Cre()),xN.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v5;function kre(){if(v5)return Jp;v5=1;var t=kk(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var f,m={},p=null,v=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(v=c.ref);for(f in c)n.call(c,f)&&!s.hasOwnProperty(f)&&(m[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)m[f]===void 0&&(m[f]=c[f]);return{$$typeof:e,type:l,key:p,ref:v,props:m,_owner:i.current}}return Jp.Fragment=r,Jp.jsx=o,Jp.jsxs=o,Jp}var x5;function Ire(){return x5||(x5=1,vN.exports=kre()),vN.exports}var a=Ire(),S=kk();const z=er(S),Ik=Are({__proto__:null,default:z},[S]);var ax={},bN={exports:{}},Bi={},wN={exports:{}},_N={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b5;function Ore(){return b5||(b5=1,(function(t){function e(U,X){var ie=U.length;U.push(X);e:for(;0<ie;){var W=ie-1>>>1,ee=U[W];if(0<i(ee,X))U[W]=X,U[ie]=ee,ie=W;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var X=U[0],ie=U.pop();if(ie!==X){U[0]=ie;e:for(var W=0,ee=U.length,de=ee>>>1;W<de;){var ce=2*(W+1)-1,be=U[ce],ye=ce+1,pe=U[ye];if(0>i(be,ie))ye<ee&&0>i(pe,be)?(U[W]=pe,U[ye]=ie,W=ye):(U[W]=be,U[ce]=ie,W=ce);else if(ye<ee&&0>i(pe,ie))U[W]=pe,U[ye]=ie,W=ye;else break e}}return X}function i(U,X){var ie=U.sortIndex-X.sortIndex;return ie!==0?ie:U.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,m=null,p=3,v=!1,w=!1,x=!1,g=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(U){for(var X=r(d);X!==null;){if(X.callback===null)n(d);else if(X.startTime<=U)n(d),X.sortIndex=X.expirationTime,e(c,X);else break;X=r(d)}}function k(U){if(x=!1,P(U),!w)if(r(c)!==null)w=!0,Y(A);else{var X=r(d);X!==null&&J(k,X.startTime-U)}}function A(U,X){w=!1,x&&(x=!1,_(j),j=-1),v=!0;var ie=p;try{for(P(X),m=r(c);m!==null&&(!(m.expirationTime>X)||U&&!L());){var W=m.callback;if(typeof W=="function"){m.callback=null,p=m.priorityLevel;var ee=W(m.expirationTime<=X);X=t.unstable_now(),typeof ee=="function"?m.callback=ee:m===r(c)&&n(c),P(X)}else n(c);m=r(c)}if(m!==null)var de=!0;else{var ce=r(d);ce!==null&&J(k,ce.startTime-X),de=!1}return de}finally{m=null,p=ie,v=!1}}var C=!1,E=null,j=-1,O=5,R=-1;function L(){return!(t.unstable_now()-R<O)}function $(){if(E!==null){var U=t.unstable_now();R=U;var X=!0;try{X=E(!0,U)}finally{X?F():(C=!1,E=null)}}else C=!1}var F;if(typeof T=="function")F=function(){T($)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,K=G.port2;G.port1.onmessage=$,F=function(){K.postMessage(null)}}else F=function(){g($,0)};function Y(U){E=U,C||(C=!0,F())}function J(U,X){j=g(function(){U(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,Y(A))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var ie=p;p=X;try{return U()}finally{p=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ie=p;p=U;try{return X()}finally{p=ie}},t.unstable_scheduleCallback=function(U,X,ie){var W=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?W+ie:W):ie=W,U){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ie+ee,U={id:f++,callback:X,priorityLevel:U,startTime:ie,expirationTime:ee,sortIndex:-1},ie>W?(U.sortIndex=ie,e(d,U),r(c)===null&&U===r(d)&&(x?(_(j),j=-1):x=!0,J(k,ie-W))):(U.sortIndex=ee,e(c,U),w||v||(w=!0,Y(A))),U},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(U){var X=p;return function(){var ie=p;p=X;try{return U.apply(this,arguments)}finally{p=ie}}}})(_N)),_N}var w5;function Rre(){return w5||(w5=1,wN.exports=Ore()),wN.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _5;function Mre(){if(_5)return Bi;_5=1;var t=kk(),e=Rre();function r(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(u,h){o(u,h),o(u+"Capture",h)}function o(u,h){for(i[u]=h,u=0;u<h.length;u++)n.add(h[u])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(u){return c.call(m,u)?!0:c.call(f,u)?!1:d.test(u)?m[u]=!0:(f[u]=!0,!1)}function v(u,h,y,N){if(y!==null&&y.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return N?!1:y!==null?!y.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function w(u,h,y,N){if(h===null||typeof h>"u"||v(u,h,y,N))return!0;if(N)return!1;if(y!==null)switch(y.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function x(u,h,y,N,I,M,B){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=N,this.attributeNamespace=I,this.mustUseProperty=y,this.propertyName=u,this.type=h,this.sanitizeURL=M,this.removeEmptyString=B}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){g[u]=new x(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];g[h]=new x(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){g[u]=new x(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){g[u]=new x(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){g[u]=new x(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){g[u]=new x(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){g[u]=new x(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){g[u]=new x(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){g[u]=new x(u,5,!1,u.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function T(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(_,T);g[h]=new x(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(_,T);g[h]=new x(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(_,T);g[h]=new x(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){g[u]=new x(u,1,!1,u.toLowerCase(),null,!1,!1)}),g.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){g[u]=new x(u,1,!1,u.toLowerCase(),null,!0,!0)});function P(u,h,y,N){var I=g.hasOwnProperty(h)?g[h]:null;(I!==null?I.type!==0:N||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(w(h,y,I,N)&&(y=null),N||I===null?p(h)&&(y===null?u.removeAttribute(h):u.setAttribute(h,""+y)):I.mustUseProperty?u[I.propertyName]=y===null?I.type===3?!1:"":y:(h=I.attributeName,N=I.attributeNamespace,y===null?u.removeAttribute(h):(I=I.type,y=I===3||I===4&&y===!0?"":""+y,N?u.setAttributeNS(N,h,y):u.setAttribute(h,y))))}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),U=Symbol.iterator;function X(u){return u===null||typeof u!="object"?null:(u=U&&u[U]||u["@@iterator"],typeof u=="function"?u:null)}var ie=Object.assign,W;function ee(u){if(W===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);W=h&&h[1]||""}return`
`+W+u}var de=!1;function ce(u,h){if(!u||de)return"";de=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(ue){var N=ue}Reflect.construct(u,[],h)}else{try{h.call()}catch(ue){N=ue}u.call(h.prototype)}else{try{throw Error()}catch(ue){N=ue}u()}}catch(ue){if(ue&&N&&typeof ue.stack=="string"){for(var I=ue.stack.split(`
`),M=N.stack.split(`
`),B=I.length-1,H=M.length-1;1<=B&&0<=H&&I[B]!==M[H];)H--;for(;1<=B&&0<=H;B--,H--)if(I[B]!==M[H]){if(B!==1||H!==1)do if(B--,H--,0>H||I[B]!==M[H]){var Z=`
`+I[B].replace(" at new "," at ");return u.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",u.displayName)),Z}while(1<=B&&0<=H);break}}}finally{de=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?ee(u):""}function be(u){switch(u.tag){case 5:return ee(u.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return u=ce(u.type,!1),u;case 11:return u=ce(u.type.render,!1),u;case 1:return u=ce(u.type,!0),u;default:return""}}function ye(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case E:return"Fragment";case C:return"Portal";case O:return"Profiler";case j:return"StrictMode";case F:return"Suspense";case G:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case L:return(u.displayName||"Context")+".Consumer";case R:return(u._context.displayName||"Context")+".Provider";case $:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case K:return h=u.displayName||null,h!==null?h:ye(u.type)||"Memo";case Y:h=u._payload,u=u._init;try{return ye(u(h))}catch{}}return null}function pe(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(h);case 8:return h===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Ie(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function me(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Pe(u){var h=me(u)?"checked":"value",y=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),N=""+u[h];if(!u.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var I=y.get,M=y.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return I.call(this)},set:function(B){N=""+B,M.call(this,B)}}),Object.defineProperty(u,h,{enumerable:y.enumerable}),{getValue:function(){return N},setValue:function(B){N=""+B},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Re(u){u._valueTracker||(u._valueTracker=Pe(u))}function fe(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var y=h.getValue(),N="";return u&&(N=me(u)?u.checked?"true":"false":u.value),u=N,u!==y?(h.setValue(u),!0):!1}function ct(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function tt(u,h){var y=h.checked;return ie({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??u._wrapperState.initialChecked})}function Ot(u,h){var y=h.defaultValue==null?"":h.defaultValue,N=h.checked!=null?h.checked:h.defaultChecked;y=Ie(h.value!=null?h.value:y),u._wrapperState={initialChecked:N,initialValue:y,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function Rt(u,h){h=h.checked,h!=null&&P(u,"checked",h,!1)}function Yt(u,h){Rt(u,h);var y=Ie(h.value),N=h.type;if(y!=null)N==="number"?(y===0&&u.value===""||u.value!=y)&&(u.value=""+y):u.value!==""+y&&(u.value=""+y);else if(N==="submit"||N==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?Dt(u,h.type,y):h.hasOwnProperty("defaultValue")&&Dt(u,h.type,Ie(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function Kr(u,h,y){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var N=h.type;if(!(N!=="submit"&&N!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,y||h===u.value||(u.value=h),u.defaultValue=h}y=u.name,y!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,y!==""&&(u.name=y)}function Dt(u,h,y){(h!=="number"||ct(u.ownerDocument)!==u)&&(y==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+y&&(u.defaultValue=""+y))}var ir=Array.isArray;function Ar(u,h,y,N){if(u=u.options,h){h={};for(var I=0;I<y.length;I++)h["$"+y[I]]=!0;for(y=0;y<u.length;y++)I=h.hasOwnProperty("$"+u[y].value),u[y].selected!==I&&(u[y].selected=I),I&&N&&(u[y].defaultSelected=!0)}else{for(y=""+Ie(y),h=null,I=0;I<u.length;I++){if(u[I].value===y){u[I].selected=!0,N&&(u[I].defaultSelected=!0);return}h!==null||u[I].disabled||(h=u[I])}h!==null&&(h.selected=!0)}}function jn(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(r(91));return ie({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function gi(u,h){var y=h.value;if(y==null){if(y=h.children,h=h.defaultValue,y!=null){if(h!=null)throw Error(r(92));if(ir(y)){if(1<y.length)throw Error(r(93));y=y[0]}h=y}h==null&&(h=""),y=h}u._wrapperState={initialValue:Ie(y)}}function ws(u,h){var y=Ie(h.value),N=Ie(h.defaultValue);y!=null&&(y=""+y,y!==u.value&&(u.value=y),h.defaultValue==null&&u.defaultValue!==y&&(u.defaultValue=y)),N!=null&&(u.defaultValue=""+N)}function Rn(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function Zs(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ea(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?Zs(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Mi,Ae=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,y,N,I){MSApp.execUnsafeLocalFunction(function(){return u(h,y,N,I)})}:u})(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(Mi=Mi||document.createElement("div"),Mi.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Mi.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function ve(u,h){if(h){var y=u.firstChild;if(y&&y===u.lastChild&&y.nodeType===3){y.nodeValue=h;return}}u.textContent=h}var De={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lt=["Webkit","ms","Moz","O"];Object.keys(De).forEach(function(u){lt.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),De[h]=De[u]})});function qe(u,h,y){return h==null||typeof h=="boolean"||h===""?"":y||typeof h!="number"||h===0||De.hasOwnProperty(u)&&De[u]?(""+h).trim():h+"px"}function vt(u,h){u=u.style;for(var y in h)if(h.hasOwnProperty(y)){var N=y.indexOf("--")===0,I=qe(y,h[y],N);y==="float"&&(y="cssFloat"),N?u.setProperty(y,I):u[y]=I}}var St=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nt(u,h){if(h){if(St[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(r(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(r(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(r(61))}if(h.style!=null&&typeof h.style!="object")throw Error(r(62))}}function fr(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mn=null;function Co(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var _s=null,js=null,Br=null;function up(u){if(u=Lp(u)){if(typeof _s!="function")throw Error(r(280));var h=u.stateNode;h&&(h=xv(h),_s(u.stateNode,u.type,h))}}function zl(u){js?Br?Br.push(u):Br=[u]:js=u}function Wl(){if(js){var u=js,h=Br;if(Br=js=null,up(u),h)for(u=0;u<h.length;u++)up(h[u])}}function G0(u,h){return u(h)}function K0(){}var Ia=!1;function Y0(u,h,y){if(Ia)return u(h,y);Ia=!0;try{return G0(u,h,y)}finally{Ia=!1,(js!==null||Br!==null)&&(K0(),Wl())}}function Tu(u,h){var y=u.stateNode;if(y===null)return null;var N=xv(y);if(N===null)return null;y=N[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(u=u.type,N=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!N;break e;default:u=!1}if(u)return null;if(y&&typeof y!="function")throw Error(r(231,h,typeof y));return y}var Hl=!1;if(l)try{var Gl={};Object.defineProperty(Gl,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{Hl=!1}function Q0(u,h,y,N,I,M,B,H,Z){var ue=Array.prototype.slice.call(arguments,3);try{h.apply(y,ue)}catch(Te){this.onError(Te)}}var ko=!1,Oa=null,gh=!1,Ns=null,X0={onError:function(u){ko=!0,Oa=u}};function J0(u,h,y,N,I,M,B,H,Z){ko=!1,Oa=null,Q0.apply(X0,arguments)}function dp(u,h,y,N,I,M,B,H,Z){if(J0.apply(this,arguments),ko){if(ko){var ue=Oa;ko=!1,Oa=null}else throw Error(r(198));gh||(gh=!0,Ns=ue)}}function ta(u){var h=u,y=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(y=h.return),u=h.return;while(u)}return h.tag===3?y:null}function hp(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function Z0(u){if(ta(u)!==u)throw Error(r(188))}function ev(u){var h=u.alternate;if(!h){if(h=ta(u),h===null)throw Error(r(188));return h!==u?null:u}for(var y=u,N=h;;){var I=y.return;if(I===null)break;var M=I.alternate;if(M===null){if(N=I.return,N!==null){y=N;continue}break}if(I.child===M.child){for(M=I.child;M;){if(M===y)return Z0(I),u;if(M===N)return Z0(I),h;M=M.sibling}throw Error(r(188))}if(y.return!==N.return)y=I,N=M;else{for(var B=!1,H=I.child;H;){if(H===y){B=!0,y=I,N=M;break}if(H===N){B=!0,N=I,y=M;break}H=H.sibling}if(!B){for(H=M.child;H;){if(H===y){B=!0,y=M,N=I;break}if(H===N){B=!0,N=M,y=I;break}H=H.sibling}if(!B)throw Error(r(189))}}if(y.alternate!==N)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?u:h}function tv(u){return u=ev(u),u!==null?Eu(u):null}function Eu(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=Eu(u);if(h!==null)return h;u=u.sibling}return null}var fp=e.unstable_scheduleCallback,yh=e.unstable_cancelCallback,Pu=e.unstable_shouldYield,Io=e.unstable_requestPaint,jr=e.unstable_now,K_=e.unstable_getCurrentPriorityLevel,vh=e.unstable_ImmediatePriority,mp=e.unstable_UserBlockingPriority,Au=e.unstable_NormalPriority,pp=e.unstable_LowPriority,xh=e.unstable_IdlePriority,Cu=null,es=null;function rv(u){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(Cu,u,void 0,(u.current.flags&128)===128)}catch{}}var ts=Math.clz32?Math.clz32:ku,Ra=Math.log,Ss=Math.LN2;function ku(u){return u>>>=0,u===0?32:31-(Ra(u)/Ss|0)|0}var Ma=64,Kl=4194304;function tr(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Oo(u,h){var y=u.pendingLanes;if(y===0)return 0;var N=0,I=u.suspendedLanes,M=u.pingedLanes,B=y&268435455;if(B!==0){var H=B&~I;H!==0?N=tr(H):(M&=B,M!==0&&(N=tr(M)))}else B=y&~I,B!==0?N=tr(B):M!==0&&(N=tr(M));if(N===0)return 0;if(h!==0&&h!==N&&(h&I)===0&&(I=N&-N,M=h&-h,I>=M||I===16&&(M&4194240)!==0))return h;if((N&4)!==0&&(N|=y&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=N;0<h;)y=31-ts(h),I=1<<y,N|=u[y],h&=~I;return N}function Iu(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ou(u,h){for(var y=u.suspendedLanes,N=u.pingedLanes,I=u.expirationTimes,M=u.pendingLanes;0<M;){var B=31-ts(M),H=1<<B,Z=I[B];Z===-1?((H&y)===0||(H&N)!==0)&&(I[B]=Iu(H,h)):Z<=h&&(u.expiredLanes|=H),M&=~H}}function gp(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function yp(){var u=Ma;return Ma<<=1,(Ma&4194240)===0&&(Ma=64),u}function vp(u){for(var h=[],y=0;31>y;y++)h.push(u);return h}function Ru(u,h,y){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-ts(h),u[h]=y}function Y_(u,h){var y=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var N=u.eventTimes;for(u=u.expirationTimes;0<y;){var I=31-ts(y),M=1<<I;h[I]=0,N[I]=-1,u[I]=-1,y&=~M}}function xp(u,h){var y=u.entangledLanes|=h;for(u=u.entanglements;y;){var N=31-ts(y),I=1<<N;I&h|u[N]&h&&(u[N]|=h),y&=~I}}var qt=0;function Da(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var bp,bh,wp,_p,jp,La=!1,wh=[],$a=null,Fa=null,Dn=null,Mu=new Map,Ro=new Map,rs=[],nv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yl(u,h){switch(u){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Mu.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(h.pointerId)}}function ra(u,h,y,N,I,M){return u===null||u.nativeEvent!==M?(u={blockedOn:h,domEventName:y,eventSystemFlags:N,nativeEvent:M,targetContainers:[I]},h!==null&&(h=Lp(h),h!==null&&bh(h)),u):(u.eventSystemFlags|=N,h=u.targetContainers,I!==null&&h.indexOf(I)===-1&&h.push(I),u)}function iv(u,h,y,N,I){switch(h){case"focusin":return $a=ra($a,u,h,y,N,I),!0;case"dragenter":return Fa=ra(Fa,u,h,y,N,I),!0;case"mouseover":return Dn=ra(Dn,u,h,y,N,I),!0;case"pointerover":var M=I.pointerId;return Mu.set(M,ra(Mu.get(M)||null,u,h,y,N,I)),!0;case"gotpointercapture":return M=I.pointerId,Ro.set(M,ra(Ro.get(M)||null,u,h,y,N,I)),!0}return!1}function _h(u){var h=Fu(u.target);if(h!==null){var y=ta(h);if(y!==null){if(h=y.tag,h===13){if(h=hp(y),h!==null){u.blockedOn=h,jp(u.priority,function(){wp(y)});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){u.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}u.blockedOn=null}function pr(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var y=jh(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(y===null){y=u.nativeEvent;var N=new y.constructor(y.type,y);Mn=N,y.target.dispatchEvent(N),Mn=null}else return h=Lp(y),h!==null&&bh(h),u.blockedOn=y,!1;h.shift()}return!0}function sv(u,h,y){pr(u)&&y.delete(h)}function Q_(){La=!1,$a!==null&&pr($a)&&($a=null),Fa!==null&&pr(Fa)&&(Fa=null),Dn!==null&&pr(Dn)&&(Dn=null),Mu.forEach(sv),Ro.forEach(sv)}function Ql(u,h){u.blockedOn===h&&(u.blockedOn=null,La||(La=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Q_)))}function Xl(u){function h(I){return Ql(I,u)}if(0<wh.length){Ql(wh[0],u);for(var y=1;y<wh.length;y++){var N=wh[y];N.blockedOn===u&&(N.blockedOn=null)}}for($a!==null&&Ql($a,u),Fa!==null&&Ql(Fa,u),Dn!==null&&Ql(Dn,u),Mu.forEach(h),Ro.forEach(h),y=0;y<rs.length;y++)N=rs[y],N.blockedOn===u&&(N.blockedOn=null);for(;0<rs.length&&(y=rs[0],y.blockedOn===null);)_h(y),y.blockedOn===null&&rs.shift()}var Mo=k.ReactCurrentBatchConfig,Do=!0;function Va(u,h,y,N){var I=qt,M=Mo.transition;Mo.transition=null;try{qt=1,Np(u,h,y,N)}finally{qt=I,Mo.transition=M}}function av(u,h,y,N){var I=qt,M=Mo.transition;Mo.transition=null;try{qt=4,Np(u,h,y,N)}finally{qt=I,Mo.transition=M}}function Np(u,h,y,N){if(Do){var I=jh(u,h,y,N);if(I===null)oj(u,h,N,Ba,y),Yl(u,N);else if(iv(I,u,h,y,N))N.stopPropagation();else if(Yl(u,N),h&4&&-1<nv.indexOf(u)){for(;I!==null;){var M=Lp(I);if(M!==null&&bp(M),M=jh(u,h,y,N),M===null&&oj(u,h,N,Ba,y),M===I)break;I=M}I!==null&&N.stopPropagation()}else oj(u,h,N,null,y)}}var Ba=null;function jh(u,h,y,N){if(Ba=null,u=Co(N),u=Fu(u),u!==null)if(h=ta(u),h===null)u=null;else if(y=h.tag,y===13){if(u=hp(h),u!==null)return u;u=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return Ba=u,null}function Nh(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K_()){case vh:return 1;case mp:return 4;case Au:case pp:return 16;case xh:return 536870912;default:return 16}default:return 16}}var ns=null,Sh=null,Lo=null;function ov(){if(Lo)return Lo;var u,h=Sh,y=h.length,N,I="value"in ns?ns.value:ns.textContent,M=I.length;for(u=0;u<y&&h[u]===I[u];u++);var B=y-u;for(N=1;N<=B&&h[y-N]===I[M-N];N++);return Lo=I.slice(u,1<N?1-N:void 0)}function Du(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function qa(){return!0}function Sp(){return!1}function Jn(u){function h(y,N,I,M,B){this._reactName=y,this._targetInst=I,this.type=N,this.nativeEvent=M,this.target=B,this.currentTarget=null;for(var H in u)u.hasOwnProperty(H)&&(y=u[H],this[H]=y?y(M):M[H]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?qa:Sp,this.isPropagationStopped=Sp,this}return ie(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=qa)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=qa)},persist:function(){},isPersistent:qa}),h}var Ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lu=Jn(Ua),Jl=ie({},Ua,{view:0,detail:0}),Th=Jn(Jl),Eh,Ph,is,$u=ie({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wt,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==is&&(is&&u.type==="mousemove"?(Eh=u.screenX-is.screenX,Ph=u.screenY-is.screenY):Ph=Eh=0,is=u),Eh)},movementY:function(u){return"movementY"in u?u.movementY:Ph}}),Tp=Jn($u),lv=ie({},$u,{dataTransfer:0}),cv=Jn(lv),Ah=ie({},Jl,{relatedTarget:0}),Ln=Jn(Ah),uv=ie({},Ua,{animationName:0,elapsedTime:0,pseudoElement:0}),dv=Jn(uv),Zl=ie({},Ua,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),b=Jn(Zl),D=ie({},Ua,{data:0}),V=Jn(D),q={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},he={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Me(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=he[u])?!!h[u]:!1}function wt(){return Me}var Yr=ie({},Jl,{key:function(u){if(u.key){var h=q[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=Du(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?ae[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wt,charCode:function(u){return u.type==="keypress"?Du(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Du(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),ur=Jn(Yr),tn=ie({},$u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ss=Jn(tn),$o=ie({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wt}),za=Jn($o),Wa=ie({},Ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ch=Jn(Wa),Ep=ie({},$u,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),jte=Jn(Ep),Nte=[9,13,27,32],X_=l&&"CompositionEvent"in window,Pp=null;l&&"documentMode"in document&&(Pp=document.documentMode);var Ste=l&&"TextEvent"in window&&!Pp,oM=l&&(!X_||Pp&&8<Pp&&11>=Pp),lM=" ",cM=!1;function uM(u,h){switch(u){case"keyup":return Nte.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dM(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var kh=!1;function Tte(u,h){switch(u){case"compositionend":return dM(h);case"keypress":return h.which!==32?null:(cM=!0,lM);case"textInput":return u=h.data,u===lM&&cM?null:u;default:return null}}function Ete(u,h){if(kh)return u==="compositionend"||!X_&&uM(u,h)?(u=ov(),Lo=Sh=ns=null,kh=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return oM&&h.locale!=="ko"?null:h.data;default:return null}}var Pte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hM(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!Pte[u.type]:h==="textarea"}function fM(u,h,y,N){zl(N),h=gv(h,"onChange"),0<h.length&&(y=new Lu("onChange","change",null,y,N),u.push({event:y,listeners:h}))}var Ap=null,Cp=null;function Ate(u){kM(u,0)}function hv(u){var h=Dh(u);if(fe(h))return u}function Cte(u,h){if(u==="change")return h}var mM=!1;if(l){var J_;if(l){var Z_="oninput"in document;if(!Z_){var pM=document.createElement("div");pM.setAttribute("oninput","return;"),Z_=typeof pM.oninput=="function"}J_=Z_}else J_=!1;mM=J_&&(!document.documentMode||9<document.documentMode)}function gM(){Ap&&(Ap.detachEvent("onpropertychange",yM),Cp=Ap=null)}function yM(u){if(u.propertyName==="value"&&hv(Cp)){var h=[];fM(h,Cp,u,Co(u)),Y0(Ate,h)}}function kte(u,h,y){u==="focusin"?(gM(),Ap=h,Cp=y,Ap.attachEvent("onpropertychange",yM)):u==="focusout"&&gM()}function Ite(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return hv(Cp)}function Ote(u,h){if(u==="click")return hv(h)}function Rte(u,h){if(u==="input"||u==="change")return hv(h)}function Mte(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var na=typeof Object.is=="function"?Object.is:Mte;function kp(u,h){if(na(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var y=Object.keys(u),N=Object.keys(h);if(y.length!==N.length)return!1;for(N=0;N<y.length;N++){var I=y[N];if(!c.call(h,I)||!na(u[I],h[I]))return!1}return!0}function vM(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function xM(u,h){var y=vM(u);u=0;for(var N;y;){if(y.nodeType===3){if(N=u+y.textContent.length,u<=h&&N>=h)return{node:y,offset:h-u};u=N}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=vM(y)}}function bM(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?bM(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function wM(){for(var u=window,h=ct();h instanceof u.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)u=h.contentWindow;else break;h=ct(u.document)}return h}function ej(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function Dte(u){var h=wM(),y=u.focusedElem,N=u.selectionRange;if(h!==y&&y&&y.ownerDocument&&bM(y.ownerDocument.documentElement,y)){if(N!==null&&ej(y)){if(h=N.start,u=N.end,u===void 0&&(u=h),"selectionStart"in y)y.selectionStart=h,y.selectionEnd=Math.min(u,y.value.length);else if(u=(h=y.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var I=y.textContent.length,M=Math.min(N.start,I);N=N.end===void 0?M:Math.min(N.end,I),!u.extend&&M>N&&(I=N,N=M,M=I),I=xM(y,M);var B=xM(y,N);I&&B&&(u.rangeCount!==1||u.anchorNode!==I.node||u.anchorOffset!==I.offset||u.focusNode!==B.node||u.focusOffset!==B.offset)&&(h=h.createRange(),h.setStart(I.node,I.offset),u.removeAllRanges(),M>N?(u.addRange(h),u.extend(B.node,B.offset)):(h.setEnd(B.node,B.offset),u.addRange(h)))}}for(h=[],u=y;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<h.length;y++)u=h[y],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var Lte=l&&"documentMode"in document&&11>=document.documentMode,Ih=null,tj=null,Ip=null,rj=!1;function _M(u,h,y){var N=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;rj||Ih==null||Ih!==ct(N)||(N=Ih,"selectionStart"in N&&ej(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),Ip&&kp(Ip,N)||(Ip=N,N=gv(tj,"onSelect"),0<N.length&&(h=new Lu("onSelect","select",null,h,y),u.push({event:h,listeners:N}),h.target=Ih)))}function fv(u,h){var y={};return y[u.toLowerCase()]=h.toLowerCase(),y["Webkit"+u]="webkit"+h,y["Moz"+u]="moz"+h,y}var Oh={animationend:fv("Animation","AnimationEnd"),animationiteration:fv("Animation","AnimationIteration"),animationstart:fv("Animation","AnimationStart"),transitionend:fv("Transition","TransitionEnd")},nj={},jM={};l&&(jM=document.createElement("div").style,"AnimationEvent"in window||(delete Oh.animationend.animation,delete Oh.animationiteration.animation,delete Oh.animationstart.animation),"TransitionEvent"in window||delete Oh.transitionend.transition);function mv(u){if(nj[u])return nj[u];if(!Oh[u])return u;var h=Oh[u],y;for(y in h)if(h.hasOwnProperty(y)&&y in jM)return nj[u]=h[y];return u}var NM=mv("animationend"),SM=mv("animationiteration"),TM=mv("animationstart"),EM=mv("transitionend"),PM=new Map,AM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ec(u,h){PM.set(u,h),s(h,[u])}for(var ij=0;ij<AM.length;ij++){var sj=AM[ij],$te=sj.toLowerCase(),Fte=sj[0].toUpperCase()+sj.slice(1);ec($te,"on"+Fte)}ec(NM,"onAnimationEnd"),ec(SM,"onAnimationIteration"),ec(TM,"onAnimationStart"),ec("dblclick","onDoubleClick"),ec("focusin","onFocus"),ec("focusout","onBlur"),ec(EM,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Op="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vte=new Set("cancel close invalid load scroll toggle".split(" ").concat(Op));function CM(u,h,y){var N=u.type||"unknown-event";u.currentTarget=y,dp(N,h,void 0,u),u.currentTarget=null}function kM(u,h){h=(h&4)!==0;for(var y=0;y<u.length;y++){var N=u[y],I=N.event;N=N.listeners;e:{var M=void 0;if(h)for(var B=N.length-1;0<=B;B--){var H=N[B],Z=H.instance,ue=H.currentTarget;if(H=H.listener,Z!==M&&I.isPropagationStopped())break e;CM(I,H,ue),M=Z}else for(B=0;B<N.length;B++){if(H=N[B],Z=H.instance,ue=H.currentTarget,H=H.listener,Z!==M&&I.isPropagationStopped())break e;CM(I,H,ue),M=Z}}}if(gh)throw u=Ns,gh=!1,Ns=null,u}function Nr(u,h){var y=h[fj];y===void 0&&(y=h[fj]=new Set);var N=u+"__bubble";y.has(N)||(IM(h,u,2,!1),y.add(N))}function aj(u,h,y){var N=0;h&&(N|=4),IM(y,u,N,h)}var pv="_reactListening"+Math.random().toString(36).slice(2);function Rp(u){if(!u[pv]){u[pv]=!0,n.forEach(function(y){y!=="selectionchange"&&(Vte.has(y)||aj(y,!1,u),aj(y,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[pv]||(h[pv]=!0,aj("selectionchange",!1,h))}}function IM(u,h,y,N){switch(Nh(h)){case 1:var I=Va;break;case 4:I=av;break;default:I=Np}y=I.bind(null,h,y,u),I=void 0,!Hl||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(I=!0),N?I!==void 0?u.addEventListener(h,y,{capture:!0,passive:I}):u.addEventListener(h,y,!0):I!==void 0?u.addEventListener(h,y,{passive:I}):u.addEventListener(h,y,!1)}function oj(u,h,y,N,I){var M=N;if((h&1)===0&&(h&2)===0&&N!==null)e:for(;;){if(N===null)return;var B=N.tag;if(B===3||B===4){var H=N.stateNode.containerInfo;if(H===I||H.nodeType===8&&H.parentNode===I)break;if(B===4)for(B=N.return;B!==null;){var Z=B.tag;if((Z===3||Z===4)&&(Z=B.stateNode.containerInfo,Z===I||Z.nodeType===8&&Z.parentNode===I))return;B=B.return}for(;H!==null;){if(B=Fu(H),B===null)return;if(Z=B.tag,Z===5||Z===6){N=M=B;continue e}H=H.parentNode}}N=N.return}Y0(function(){var ue=M,Te=Co(y),Ce=[];e:{var Se=PM.get(u);if(Se!==void 0){var Fe=Lu,Ke=u;switch(u){case"keypress":if(Du(y)===0)break e;case"keydown":case"keyup":Fe=ur;break;case"focusin":Ke="focus",Fe=Ln;break;case"focusout":Ke="blur",Fe=Ln;break;case"beforeblur":case"afterblur":Fe=Ln;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=Tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=cv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=za;break;case NM:case SM:case TM:Fe=dv;break;case EM:Fe=Ch;break;case"scroll":Fe=Th;break;case"wheel":Fe=jte;break;case"copy":case"cut":case"paste":Fe=b;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=ss}var Je=(h&4)!==0,Qr=!Je&&u==="scroll",se=Je?Se!==null?Se+"Capture":null:Se;Je=[];for(var te=ue,oe;te!==null;){oe=te;var Oe=oe.stateNode;if(oe.tag===5&&Oe!==null&&(oe=Oe,se!==null&&(Oe=Tu(te,se),Oe!=null&&Je.push(Mp(te,Oe,oe)))),Qr)break;te=te.return}0<Je.length&&(Se=new Fe(Se,Ke,null,y,Te),Ce.push({event:Se,listeners:Je}))}}if((h&7)===0){e:{if(Se=u==="mouseover"||u==="pointerover",Fe=u==="mouseout"||u==="pointerout",Se&&y!==Mn&&(Ke=y.relatedTarget||y.fromElement)&&(Fu(Ke)||Ke[Fo]))break e;if((Fe||Se)&&(Se=Te.window===Te?Te:(Se=Te.ownerDocument)?Se.defaultView||Se.parentWindow:window,Fe?(Ke=y.relatedTarget||y.toElement,Fe=ue,Ke=Ke?Fu(Ke):null,Ke!==null&&(Qr=ta(Ke),Ke!==Qr||Ke.tag!==5&&Ke.tag!==6)&&(Ke=null)):(Fe=null,Ke=ue),Fe!==Ke)){if(Je=Tp,Oe="onMouseLeave",se="onMouseEnter",te="mouse",(u==="pointerout"||u==="pointerover")&&(Je=ss,Oe="onPointerLeave",se="onPointerEnter",te="pointer"),Qr=Fe==null?Se:Dh(Fe),oe=Ke==null?Se:Dh(Ke),Se=new Je(Oe,te+"leave",Fe,y,Te),Se.target=Qr,Se.relatedTarget=oe,Oe=null,Fu(Te)===ue&&(Je=new Je(se,te+"enter",Ke,y,Te),Je.target=oe,Je.relatedTarget=Qr,Oe=Je),Qr=Oe,Fe&&Ke)t:{for(Je=Fe,se=Ke,te=0,oe=Je;oe;oe=Rh(oe))te++;for(oe=0,Oe=se;Oe;Oe=Rh(Oe))oe++;for(;0<te-oe;)Je=Rh(Je),te--;for(;0<oe-te;)se=Rh(se),oe--;for(;te--;){if(Je===se||se!==null&&Je===se.alternate)break t;Je=Rh(Je),se=Rh(se)}Je=null}else Je=null;Fe!==null&&OM(Ce,Se,Fe,Je,!1),Ke!==null&&Qr!==null&&OM(Ce,Qr,Ke,Je,!0)}}e:{if(Se=ue?Dh(ue):window,Fe=Se.nodeName&&Se.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Se.type==="file")var Ze=Cte;else if(hM(Se))if(mM)Ze=Rte;else{Ze=Ite;var st=kte}else(Fe=Se.nodeName)&&Fe.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(Ze=Ote);if(Ze&&(Ze=Ze(u,ue))){fM(Ce,Ze,y,Te);break e}st&&st(u,Se,ue),u==="focusout"&&(st=Se._wrapperState)&&st.controlled&&Se.type==="number"&&Dt(Se,"number",Se.value)}switch(st=ue?Dh(ue):window,u){case"focusin":(hM(st)||st.contentEditable==="true")&&(Ih=st,tj=ue,Ip=null);break;case"focusout":Ip=tj=Ih=null;break;case"mousedown":rj=!0;break;case"contextmenu":case"mouseup":case"dragend":rj=!1,_M(Ce,y,Te);break;case"selectionchange":if(Lte)break;case"keydown":case"keyup":_M(Ce,y,Te)}var at;if(X_)e:{switch(u){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else kh?uM(u,y)&&(yt="onCompositionEnd"):u==="keydown"&&y.keyCode===229&&(yt="onCompositionStart");yt&&(oM&&y.locale!=="ko"&&(kh||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&kh&&(at=ov()):(ns=Te,Sh="value"in ns?ns.value:ns.textContent,kh=!0)),st=gv(ue,yt),0<st.length&&(yt=new V(yt,u,null,y,Te),Ce.push({event:yt,listeners:st}),at?yt.data=at:(at=dM(y),at!==null&&(yt.data=at)))),(at=Ste?Tte(u,y):Ete(u,y))&&(ue=gv(ue,"onBeforeInput"),0<ue.length&&(Te=new V("onBeforeInput","beforeinput",null,y,Te),Ce.push({event:Te,listeners:ue}),Te.data=at))}kM(Ce,h)})}function Mp(u,h,y){return{instance:u,listener:h,currentTarget:y}}function gv(u,h){for(var y=h+"Capture",N=[];u!==null;){var I=u,M=I.stateNode;I.tag===5&&M!==null&&(I=M,M=Tu(u,y),M!=null&&N.unshift(Mp(u,M,I)),M=Tu(u,h),M!=null&&N.push(Mp(u,M,I))),u=u.return}return N}function Rh(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function OM(u,h,y,N,I){for(var M=h._reactName,B=[];y!==null&&y!==N;){var H=y,Z=H.alternate,ue=H.stateNode;if(Z!==null&&Z===N)break;H.tag===5&&ue!==null&&(H=ue,I?(Z=Tu(y,M),Z!=null&&B.unshift(Mp(y,Z,H))):I||(Z=Tu(y,M),Z!=null&&B.push(Mp(y,Z,H)))),y=y.return}B.length!==0&&u.push({event:h,listeners:B})}var Bte=/\r\n?/g,qte=/\u0000|\uFFFD/g;function RM(u){return(typeof u=="string"?u:""+u).replace(Bte,`
`).replace(qte,"")}function yv(u,h,y){if(h=RM(h),RM(u)!==h&&y)throw Error(r(425))}function vv(){}var lj=null,cj=null;function uj(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var dj=typeof setTimeout=="function"?setTimeout:void 0,Ute=typeof clearTimeout=="function"?clearTimeout:void 0,MM=typeof Promise=="function"?Promise:void 0,zte=typeof queueMicrotask=="function"?queueMicrotask:typeof MM<"u"?function(u){return MM.resolve(null).then(u).catch(Wte)}:dj;function Wte(u){setTimeout(function(){throw u})}function hj(u,h){var y=h,N=0;do{var I=y.nextSibling;if(u.removeChild(y),I&&I.nodeType===8)if(y=I.data,y==="/$"){if(N===0){u.removeChild(I),Xl(h);return}N--}else y!=="$"&&y!=="$?"&&y!=="$!"||N++;y=I}while(y);Xl(h)}function tc(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function DM(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="$"||y==="$!"||y==="$?"){if(h===0)return u;h--}else y==="/$"&&h++}u=u.previousSibling}return null}var Mh=Math.random().toString(36).slice(2),Ha="__reactFiber$"+Mh,Dp="__reactProps$"+Mh,Fo="__reactContainer$"+Mh,fj="__reactEvents$"+Mh,Hte="__reactListeners$"+Mh,Gte="__reactHandles$"+Mh;function Fu(u){var h=u[Ha];if(h)return h;for(var y=u.parentNode;y;){if(h=y[Fo]||y[Ha]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(u=DM(u);u!==null;){if(y=u[Ha])return y;u=DM(u)}return h}u=y,y=u.parentNode}return null}function Lp(u){return u=u[Ha]||u[Fo],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Dh(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(r(33))}function xv(u){return u[Dp]||null}var mj=[],Lh=-1;function rc(u){return{current:u}}function Sr(u){0>Lh||(u.current=mj[Lh],mj[Lh]=null,Lh--)}function vr(u,h){Lh++,mj[Lh]=u.current,u.current=h}var nc={},Zn=rc(nc),Di=rc(!1),Vu=nc;function $h(u,h){var y=u.type.contextTypes;if(!y)return nc;var N=u.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===h)return N.__reactInternalMemoizedMaskedChildContext;var I={},M;for(M in y)I[M]=h[M];return N&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=I),I}function Li(u){return u=u.childContextTypes,u!=null}function bv(){Sr(Di),Sr(Zn)}function LM(u,h,y){if(Zn.current!==nc)throw Error(r(168));vr(Zn,h),vr(Di,y)}function $M(u,h,y){var N=u.stateNode;if(h=h.childContextTypes,typeof N.getChildContext!="function")return y;N=N.getChildContext();for(var I in N)if(!(I in h))throw Error(r(108,pe(u)||"Unknown",I));return ie({},y,N)}function wv(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||nc,Vu=Zn.current,vr(Zn,u),vr(Di,Di.current),!0}function FM(u,h,y){var N=u.stateNode;if(!N)throw Error(r(169));y?(u=$M(u,h,Vu),N.__reactInternalMemoizedMergedChildContext=u,Sr(Di),Sr(Zn),vr(Zn,u)):Sr(Di),vr(Di,y)}var Vo=null,_v=!1,pj=!1;function VM(u){Vo===null?Vo=[u]:Vo.push(u)}function Kte(u){_v=!0,VM(u)}function ic(){if(!pj&&Vo!==null){pj=!0;var u=0,h=qt;try{var y=Vo;for(qt=1;u<y.length;u++){var N=y[u];do N=N(!0);while(N!==null)}Vo=null,_v=!1}catch(I){throw Vo!==null&&(Vo=Vo.slice(u+1)),fp(vh,ic),I}finally{qt=h,pj=!1}}return null}var Fh=[],Vh=0,jv=null,Nv=0,Ts=[],Es=0,Bu=null,Bo=1,qo="";function qu(u,h){Fh[Vh++]=Nv,Fh[Vh++]=jv,jv=u,Nv=h}function BM(u,h,y){Ts[Es++]=Bo,Ts[Es++]=qo,Ts[Es++]=Bu,Bu=u;var N=Bo;u=qo;var I=32-ts(N)-1;N&=~(1<<I),y+=1;var M=32-ts(h)+I;if(30<M){var B=I-I%5;M=(N&(1<<B)-1).toString(32),N>>=B,I-=B,Bo=1<<32-ts(h)+I|y<<I|N,qo=M+u}else Bo=1<<M|y<<I|N,qo=u}function gj(u){u.return!==null&&(qu(u,1),BM(u,1,0))}function yj(u){for(;u===jv;)jv=Fh[--Vh],Fh[Vh]=null,Nv=Fh[--Vh],Fh[Vh]=null;for(;u===Bu;)Bu=Ts[--Es],Ts[Es]=null,qo=Ts[--Es],Ts[Es]=null,Bo=Ts[--Es],Ts[Es]=null}var as=null,os=null,Cr=!1,ia=null;function qM(u,h){var y=ks(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=u,h=u.deletions,h===null?(u.deletions=[y],u.flags|=16):h.push(y)}function UM(u,h){switch(u.tag){case 5:var y=u.type;return h=h.nodeType!==1||y.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,as=u,os=tc(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,as=u,os=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(y=Bu!==null?{id:Bo,overflow:qo}:null,u.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=ks(18,null,null,0),y.stateNode=h,y.return=u,u.child=y,as=u,os=null,!0):!1;default:return!1}}function vj(u){return(u.mode&1)!==0&&(u.flags&128)===0}function xj(u){if(Cr){var h=os;if(h){var y=h;if(!UM(u,h)){if(vj(u))throw Error(r(418));h=tc(y.nextSibling);var N=as;h&&UM(u,h)?qM(N,y):(u.flags=u.flags&-4097|2,Cr=!1,as=u)}}else{if(vj(u))throw Error(r(418));u.flags=u.flags&-4097|2,Cr=!1,as=u}}}function zM(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;as=u}function Sv(u){if(u!==as)return!1;if(!Cr)return zM(u),Cr=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!uj(u.type,u.memoizedProps)),h&&(h=os)){if(vj(u))throw WM(),Error(r(418));for(;h;)qM(u,h),h=tc(h.nextSibling)}if(zM(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="/$"){if(h===0){os=tc(u.nextSibling);break e}h--}else y!=="$"&&y!=="$!"&&y!=="$?"||h++}u=u.nextSibling}os=null}}else os=as?tc(u.stateNode.nextSibling):null;return!0}function WM(){for(var u=os;u;)u=tc(u.nextSibling)}function Bh(){os=as=null,Cr=!1}function bj(u){ia===null?ia=[u]:ia.push(u)}var Yte=k.ReactCurrentBatchConfig;function $p(u,h,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(r(309));var N=y.stateNode}if(!N)throw Error(r(147,u));var I=N,M=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===M?h.ref:(h=function(B){var H=I.refs;B===null?delete H[M]:H[M]=B},h._stringRef=M,h)}if(typeof u!="string")throw Error(r(284));if(!y._owner)throw Error(r(290,u))}return u}function Tv(u,h){throw u=Object.prototype.toString.call(h),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function HM(u){var h=u._init;return h(u._payload)}function GM(u){function h(se,te){if(u){var oe=se.deletions;oe===null?(se.deletions=[te],se.flags|=16):oe.push(te)}}function y(se,te){if(!u)return null;for(;te!==null;)h(se,te),te=te.sibling;return null}function N(se,te){for(se=new Map;te!==null;)te.key!==null?se.set(te.key,te):se.set(te.index,te),te=te.sibling;return se}function I(se,te){return se=hc(se,te),se.index=0,se.sibling=null,se}function M(se,te,oe){return se.index=oe,u?(oe=se.alternate,oe!==null?(oe=oe.index,oe<te?(se.flags|=2,te):oe):(se.flags|=2,te)):(se.flags|=1048576,te)}function B(se){return u&&se.alternate===null&&(se.flags|=2),se}function H(se,te,oe,Oe){return te===null||te.tag!==6?(te=dN(oe,se.mode,Oe),te.return=se,te):(te=I(te,oe),te.return=se,te)}function Z(se,te,oe,Oe){var Ze=oe.type;return Ze===E?Te(se,te,oe.props.children,Oe,oe.key):te!==null&&(te.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===Y&&HM(Ze)===te.type)?(Oe=I(te,oe.props),Oe.ref=$p(se,te,oe),Oe.return=se,Oe):(Oe=Qv(oe.type,oe.key,oe.props,null,se.mode,Oe),Oe.ref=$p(se,te,oe),Oe.return=se,Oe)}function ue(se,te,oe,Oe){return te===null||te.tag!==4||te.stateNode.containerInfo!==oe.containerInfo||te.stateNode.implementation!==oe.implementation?(te=hN(oe,se.mode,Oe),te.return=se,te):(te=I(te,oe.children||[]),te.return=se,te)}function Te(se,te,oe,Oe,Ze){return te===null||te.tag!==7?(te=Qu(oe,se.mode,Oe,Ze),te.return=se,te):(te=I(te,oe),te.return=se,te)}function Ce(se,te,oe){if(typeof te=="string"&&te!==""||typeof te=="number")return te=dN(""+te,se.mode,oe),te.return=se,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return oe=Qv(te.type,te.key,te.props,null,se.mode,oe),oe.ref=$p(se,null,te),oe.return=se,oe;case C:return te=hN(te,se.mode,oe),te.return=se,te;case Y:var Oe=te._init;return Ce(se,Oe(te._payload),oe)}if(ir(te)||X(te))return te=Qu(te,se.mode,oe,null),te.return=se,te;Tv(se,te)}return null}function Se(se,te,oe,Oe){var Ze=te!==null?te.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Ze!==null?null:H(se,te,""+oe,Oe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:return oe.key===Ze?Z(se,te,oe,Oe):null;case C:return oe.key===Ze?ue(se,te,oe,Oe):null;case Y:return Ze=oe._init,Se(se,te,Ze(oe._payload),Oe)}if(ir(oe)||X(oe))return Ze!==null?null:Te(se,te,oe,Oe,null);Tv(se,oe)}return null}function Fe(se,te,oe,Oe,Ze){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return se=se.get(oe)||null,H(te,se,""+Oe,Ze);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case A:return se=se.get(Oe.key===null?oe:Oe.key)||null,Z(te,se,Oe,Ze);case C:return se=se.get(Oe.key===null?oe:Oe.key)||null,ue(te,se,Oe,Ze);case Y:var st=Oe._init;return Fe(se,te,oe,st(Oe._payload),Ze)}if(ir(Oe)||X(Oe))return se=se.get(oe)||null,Te(te,se,Oe,Ze,null);Tv(te,Oe)}return null}function Ke(se,te,oe,Oe){for(var Ze=null,st=null,at=te,yt=te=0,Tn=null;at!==null&&yt<oe.length;yt++){at.index>yt?(Tn=at,at=null):Tn=at.sibling;var Qt=Se(se,at,oe[yt],Oe);if(Qt===null){at===null&&(at=Tn);break}u&&at&&Qt.alternate===null&&h(se,at),te=M(Qt,te,yt),st===null?Ze=Qt:st.sibling=Qt,st=Qt,at=Tn}if(yt===oe.length)return y(se,at),Cr&&qu(se,yt),Ze;if(at===null){for(;yt<oe.length;yt++)at=Ce(se,oe[yt],Oe),at!==null&&(te=M(at,te,yt),st===null?Ze=at:st.sibling=at,st=at);return Cr&&qu(se,yt),Ze}for(at=N(se,at);yt<oe.length;yt++)Tn=Fe(at,se,yt,oe[yt],Oe),Tn!==null&&(u&&Tn.alternate!==null&&at.delete(Tn.key===null?yt:Tn.key),te=M(Tn,te,yt),st===null?Ze=Tn:st.sibling=Tn,st=Tn);return u&&at.forEach(function(fc){return h(se,fc)}),Cr&&qu(se,yt),Ze}function Je(se,te,oe,Oe){var Ze=X(oe);if(typeof Ze!="function")throw Error(r(150));if(oe=Ze.call(oe),oe==null)throw Error(r(151));for(var st=Ze=null,at=te,yt=te=0,Tn=null,Qt=oe.next();at!==null&&!Qt.done;yt++,Qt=oe.next()){at.index>yt?(Tn=at,at=null):Tn=at.sibling;var fc=Se(se,at,Qt.value,Oe);if(fc===null){at===null&&(at=Tn);break}u&&at&&fc.alternate===null&&h(se,at),te=M(fc,te,yt),st===null?Ze=fc:st.sibling=fc,st=fc,at=Tn}if(Qt.done)return y(se,at),Cr&&qu(se,yt),Ze;if(at===null){for(;!Qt.done;yt++,Qt=oe.next())Qt=Ce(se,Qt.value,Oe),Qt!==null&&(te=M(Qt,te,yt),st===null?Ze=Qt:st.sibling=Qt,st=Qt);return Cr&&qu(se,yt),Ze}for(at=N(se,at);!Qt.done;yt++,Qt=oe.next())Qt=Fe(at,se,yt,Qt.value,Oe),Qt!==null&&(u&&Qt.alternate!==null&&at.delete(Qt.key===null?yt:Qt.key),te=M(Qt,te,yt),st===null?Ze=Qt:st.sibling=Qt,st=Qt);return u&&at.forEach(function(Pre){return h(se,Pre)}),Cr&&qu(se,yt),Ze}function Qr(se,te,oe,Oe){if(typeof oe=="object"&&oe!==null&&oe.type===E&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:e:{for(var Ze=oe.key,st=te;st!==null;){if(st.key===Ze){if(Ze=oe.type,Ze===E){if(st.tag===7){y(se,st.sibling),te=I(st,oe.props.children),te.return=se,se=te;break e}}else if(st.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===Y&&HM(Ze)===st.type){y(se,st.sibling),te=I(st,oe.props),te.ref=$p(se,st,oe),te.return=se,se=te;break e}y(se,st);break}else h(se,st);st=st.sibling}oe.type===E?(te=Qu(oe.props.children,se.mode,Oe,oe.key),te.return=se,se=te):(Oe=Qv(oe.type,oe.key,oe.props,null,se.mode,Oe),Oe.ref=$p(se,te,oe),Oe.return=se,se=Oe)}return B(se);case C:e:{for(st=oe.key;te!==null;){if(te.key===st)if(te.tag===4&&te.stateNode.containerInfo===oe.containerInfo&&te.stateNode.implementation===oe.implementation){y(se,te.sibling),te=I(te,oe.children||[]),te.return=se,se=te;break e}else{y(se,te);break}else h(se,te);te=te.sibling}te=hN(oe,se.mode,Oe),te.return=se,se=te}return B(se);case Y:return st=oe._init,Qr(se,te,st(oe._payload),Oe)}if(ir(oe))return Ke(se,te,oe,Oe);if(X(oe))return Je(se,te,oe,Oe);Tv(se,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,te!==null&&te.tag===6?(y(se,te.sibling),te=I(te,oe),te.return=se,se=te):(y(se,te),te=dN(oe,se.mode,Oe),te.return=se,se=te),B(se)):y(se,te)}return Qr}var qh=GM(!0),KM=GM(!1),Ev=rc(null),Pv=null,Uh=null,wj=null;function _j(){wj=Uh=Pv=null}function jj(u){var h=Ev.current;Sr(Ev),u._currentValue=h}function Nj(u,h,y){for(;u!==null;){var N=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,N!==null&&(N.childLanes|=h)):N!==null&&(N.childLanes&h)!==h&&(N.childLanes|=h),u===y)break;u=u.return}}function zh(u,h){Pv=u,wj=Uh=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&($i=!0),u.firstContext=null)}function Ps(u){var h=u._currentValue;if(wj!==u)if(u={context:u,memoizedValue:h,next:null},Uh===null){if(Pv===null)throw Error(r(308));Uh=u,Pv.dependencies={lanes:0,firstContext:u}}else Uh=Uh.next=u;return h}var Uu=null;function Sj(u){Uu===null?Uu=[u]:Uu.push(u)}function YM(u,h,y,N){var I=h.interleaved;return I===null?(y.next=y,Sj(h)):(y.next=I.next,I.next=y),h.interleaved=y,Uo(u,N)}function Uo(u,h){u.lanes|=h;var y=u.alternate;for(y!==null&&(y.lanes|=h),y=u,u=u.return;u!==null;)u.childLanes|=h,y=u.alternate,y!==null&&(y.childLanes|=h),y=u,u=u.return;return y.tag===3?y.stateNode:null}var sc=!1;function Tj(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QM(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function zo(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function ac(u,h,y){var N=u.updateQueue;if(N===null)return null;if(N=N.shared,(Ht&2)!==0){var I=N.pending;return I===null?h.next=h:(h.next=I.next,I.next=h),N.pending=h,Uo(u,y)}return I=N.interleaved,I===null?(h.next=h,Sj(N)):(h.next=I.next,I.next=h),N.interleaved=h,Uo(u,y)}function Av(u,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var N=h.lanes;N&=u.pendingLanes,y|=N,h.lanes=y,xp(u,y)}}function XM(u,h){var y=u.updateQueue,N=u.alternate;if(N!==null&&(N=N.updateQueue,y===N)){var I=null,M=null;if(y=y.firstBaseUpdate,y!==null){do{var B={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};M===null?I=M=B:M=M.next=B,y=y.next}while(y!==null);M===null?I=M=h:M=M.next=h}else I=M=h;y={baseState:N.baseState,firstBaseUpdate:I,lastBaseUpdate:M,shared:N.shared,effects:N.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=h:u.next=h,y.lastBaseUpdate=h}function Cv(u,h,y,N){var I=u.updateQueue;sc=!1;var M=I.firstBaseUpdate,B=I.lastBaseUpdate,H=I.shared.pending;if(H!==null){I.shared.pending=null;var Z=H,ue=Z.next;Z.next=null,B===null?M=ue:B.next=ue,B=Z;var Te=u.alternate;Te!==null&&(Te=Te.updateQueue,H=Te.lastBaseUpdate,H!==B&&(H===null?Te.firstBaseUpdate=ue:H.next=ue,Te.lastBaseUpdate=Z))}if(M!==null){var Ce=I.baseState;B=0,Te=ue=Z=null,H=M;do{var Se=H.lane,Fe=H.eventTime;if((N&Se)===Se){Te!==null&&(Te=Te.next={eventTime:Fe,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Ke=u,Je=H;switch(Se=h,Fe=y,Je.tag){case 1:if(Ke=Je.payload,typeof Ke=="function"){Ce=Ke.call(Fe,Ce,Se);break e}Ce=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=Je.payload,Se=typeof Ke=="function"?Ke.call(Fe,Ce,Se):Ke,Se==null)break e;Ce=ie({},Ce,Se);break e;case 2:sc=!0}}H.callback!==null&&H.lane!==0&&(u.flags|=64,Se=I.effects,Se===null?I.effects=[H]:Se.push(H))}else Fe={eventTime:Fe,lane:Se,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Te===null?(ue=Te=Fe,Z=Ce):Te=Te.next=Fe,B|=Se;if(H=H.next,H===null){if(H=I.shared.pending,H===null)break;Se=H,H=Se.next,Se.next=null,I.lastBaseUpdate=Se,I.shared.pending=null}}while(!0);if(Te===null&&(Z=Ce),I.baseState=Z,I.firstBaseUpdate=ue,I.lastBaseUpdate=Te,h=I.shared.interleaved,h!==null){I=h;do B|=I.lane,I=I.next;while(I!==h)}else M===null&&(I.shared.lanes=0);Hu|=B,u.lanes=B,u.memoizedState=Ce}}function JM(u,h,y){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var N=u[h],I=N.callback;if(I!==null){if(N.callback=null,N=y,typeof I!="function")throw Error(r(191,I));I.call(N)}}}var Fp={},Ga=rc(Fp),Vp=rc(Fp),Bp=rc(Fp);function zu(u){if(u===Fp)throw Error(r(174));return u}function Ej(u,h){switch(vr(Bp,h),vr(Vp,u),vr(Ga,Fp),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:ea(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=ea(h,u)}Sr(Ga),vr(Ga,h)}function Wh(){Sr(Ga),Sr(Vp),Sr(Bp)}function ZM(u){zu(Bp.current);var h=zu(Ga.current),y=ea(h,u.type);h!==y&&(vr(Vp,u),vr(Ga,y))}function Pj(u){Vp.current===u&&(Sr(Ga),Sr(Vp))}var Or=rc(0);function kv(u){for(var h=u;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Aj=[];function Cj(){for(var u=0;u<Aj.length;u++)Aj[u]._workInProgressVersionPrimary=null;Aj.length=0}var Iv=k.ReactCurrentDispatcher,kj=k.ReactCurrentBatchConfig,Wu=0,Rr=null,un=null,Nn=null,Ov=!1,qp=!1,Up=0,Qte=0;function ei(){throw Error(r(321))}function Ij(u,h){if(h===null)return!1;for(var y=0;y<h.length&&y<u.length;y++)if(!na(u[y],h[y]))return!1;return!0}function Oj(u,h,y,N,I,M){if(Wu=M,Rr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Iv.current=u===null||u.memoizedState===null?ere:tre,u=y(N,I),qp){M=0;do{if(qp=!1,Up=0,25<=M)throw Error(r(301));M+=1,Nn=un=null,h.updateQueue=null,Iv.current=rre,u=y(N,I)}while(qp)}if(Iv.current=Dv,h=un!==null&&un.next!==null,Wu=0,Nn=un=Rr=null,Ov=!1,h)throw Error(r(300));return u}function Rj(){var u=Up!==0;return Up=0,u}function Ka(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Rr.memoizedState=Nn=u:Nn=Nn.next=u,Nn}function As(){if(un===null){var u=Rr.alternate;u=u!==null?u.memoizedState:null}else u=un.next;var h=Nn===null?Rr.memoizedState:Nn.next;if(h!==null)Nn=h,un=u;else{if(u===null)throw Error(r(310));un=u,u={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},Nn===null?Rr.memoizedState=Nn=u:Nn=Nn.next=u}return Nn}function zp(u,h){return typeof h=="function"?h(u):h}function Mj(u){var h=As(),y=h.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=u;var N=un,I=N.baseQueue,M=y.pending;if(M!==null){if(I!==null){var B=I.next;I.next=M.next,M.next=B}N.baseQueue=I=M,y.pending=null}if(I!==null){M=I.next,N=N.baseState;var H=B=null,Z=null,ue=M;do{var Te=ue.lane;if((Wu&Te)===Te)Z!==null&&(Z=Z.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),N=ue.hasEagerState?ue.eagerState:u(N,ue.action);else{var Ce={lane:Te,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};Z===null?(H=Z=Ce,B=N):Z=Z.next=Ce,Rr.lanes|=Te,Hu|=Te}ue=ue.next}while(ue!==null&&ue!==M);Z===null?B=N:Z.next=H,na(N,h.memoizedState)||($i=!0),h.memoizedState=N,h.baseState=B,h.baseQueue=Z,y.lastRenderedState=N}if(u=y.interleaved,u!==null){I=u;do M=I.lane,Rr.lanes|=M,Hu|=M,I=I.next;while(I!==u)}else I===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function Dj(u){var h=As(),y=h.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=u;var N=y.dispatch,I=y.pending,M=h.memoizedState;if(I!==null){y.pending=null;var B=I=I.next;do M=u(M,B.action),B=B.next;while(B!==I);na(M,h.memoizedState)||($i=!0),h.memoizedState=M,h.baseQueue===null&&(h.baseState=M),y.lastRenderedState=M}return[M,N]}function e4(){}function t4(u,h){var y=Rr,N=As(),I=h(),M=!na(N.memoizedState,I);if(M&&(N.memoizedState=I,$i=!0),N=N.queue,Lj(i4.bind(null,y,N,u),[u]),N.getSnapshot!==h||M||Nn!==null&&Nn.memoizedState.tag&1){if(y.flags|=2048,Wp(9,n4.bind(null,y,N,I,h),void 0,null),Sn===null)throw Error(r(349));(Wu&30)!==0||r4(y,h,I)}return I}function r4(u,h,y){u.flags|=16384,u={getSnapshot:h,value:y},h=Rr.updateQueue,h===null?(h={lastEffect:null,stores:null},Rr.updateQueue=h,h.stores=[u]):(y=h.stores,y===null?h.stores=[u]:y.push(u))}function n4(u,h,y,N){h.value=y,h.getSnapshot=N,s4(h)&&a4(u)}function i4(u,h,y){return y(function(){s4(h)&&a4(u)})}function s4(u){var h=u.getSnapshot;u=u.value;try{var y=h();return!na(u,y)}catch{return!0}}function a4(u){var h=Uo(u,1);h!==null&&la(h,u,1,-1)}function o4(u){var h=Ka();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:u},h.queue=u,u=u.dispatch=Zte.bind(null,Rr,u),[h.memoizedState,u]}function Wp(u,h,y,N){return u={tag:u,create:h,destroy:y,deps:N,next:null},h=Rr.updateQueue,h===null?(h={lastEffect:null,stores:null},Rr.updateQueue=h,h.lastEffect=u.next=u):(y=h.lastEffect,y===null?h.lastEffect=u.next=u:(N=y.next,y.next=u,u.next=N,h.lastEffect=u)),u}function l4(){return As().memoizedState}function Rv(u,h,y,N){var I=Ka();Rr.flags|=u,I.memoizedState=Wp(1|h,y,void 0,N===void 0?null:N)}function Mv(u,h,y,N){var I=As();N=N===void 0?null:N;var M=void 0;if(un!==null){var B=un.memoizedState;if(M=B.destroy,N!==null&&Ij(N,B.deps)){I.memoizedState=Wp(h,y,M,N);return}}Rr.flags|=u,I.memoizedState=Wp(1|h,y,M,N)}function c4(u,h){return Rv(8390656,8,u,h)}function Lj(u,h){return Mv(2048,8,u,h)}function u4(u,h){return Mv(4,2,u,h)}function d4(u,h){return Mv(4,4,u,h)}function h4(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function f4(u,h,y){return y=y!=null?y.concat([u]):null,Mv(4,4,h4.bind(null,h,u),y)}function $j(){}function m4(u,h){var y=As();h=h===void 0?null:h;var N=y.memoizedState;return N!==null&&h!==null&&Ij(h,N[1])?N[0]:(y.memoizedState=[u,h],u)}function p4(u,h){var y=As();h=h===void 0?null:h;var N=y.memoizedState;return N!==null&&h!==null&&Ij(h,N[1])?N[0]:(u=u(),y.memoizedState=[u,h],u)}function g4(u,h,y){return(Wu&21)===0?(u.baseState&&(u.baseState=!1,$i=!0),u.memoizedState=y):(na(y,h)||(y=yp(),Rr.lanes|=y,Hu|=y,u.baseState=!0),h)}function Xte(u,h){var y=qt;qt=y!==0&&4>y?y:4,u(!0);var N=kj.transition;kj.transition={};try{u(!1),h()}finally{qt=y,kj.transition=N}}function y4(){return As().memoizedState}function Jte(u,h,y){var N=uc(u);if(y={lane:N,action:y,hasEagerState:!1,eagerState:null,next:null},v4(u))x4(h,y);else if(y=YM(u,h,y,N),y!==null){var I=vi();la(y,u,N,I),b4(y,h,N)}}function Zte(u,h,y){var N=uc(u),I={lane:N,action:y,hasEagerState:!1,eagerState:null,next:null};if(v4(u))x4(h,I);else{var M=u.alternate;if(u.lanes===0&&(M===null||M.lanes===0)&&(M=h.lastRenderedReducer,M!==null))try{var B=h.lastRenderedState,H=M(B,y);if(I.hasEagerState=!0,I.eagerState=H,na(H,B)){var Z=h.interleaved;Z===null?(I.next=I,Sj(h)):(I.next=Z.next,Z.next=I),h.interleaved=I;return}}catch{}finally{}y=YM(u,h,I,N),y!==null&&(I=vi(),la(y,u,N,I),b4(y,h,N))}}function v4(u){var h=u.alternate;return u===Rr||h!==null&&h===Rr}function x4(u,h){qp=Ov=!0;var y=u.pending;y===null?h.next=h:(h.next=y.next,y.next=h),u.pending=h}function b4(u,h,y){if((y&4194240)!==0){var N=h.lanes;N&=u.pendingLanes,y|=N,h.lanes=y,xp(u,y)}}var Dv={readContext:Ps,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},ere={readContext:Ps,useCallback:function(u,h){return Ka().memoizedState=[u,h===void 0?null:h],u},useContext:Ps,useEffect:c4,useImperativeHandle:function(u,h,y){return y=y!=null?y.concat([u]):null,Rv(4194308,4,h4.bind(null,h,u),y)},useLayoutEffect:function(u,h){return Rv(4194308,4,u,h)},useInsertionEffect:function(u,h){return Rv(4,2,u,h)},useMemo:function(u,h){var y=Ka();return h=h===void 0?null:h,u=u(),y.memoizedState=[u,h],u},useReducer:function(u,h,y){var N=Ka();return h=y!==void 0?y(h):h,N.memoizedState=N.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},N.queue=u,u=u.dispatch=Jte.bind(null,Rr,u),[N.memoizedState,u]},useRef:function(u){var h=Ka();return u={current:u},h.memoizedState=u},useState:o4,useDebugValue:$j,useDeferredValue:function(u){return Ka().memoizedState=u},useTransition:function(){var u=o4(!1),h=u[0];return u=Xte.bind(null,u[1]),Ka().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,y){var N=Rr,I=Ka();if(Cr){if(y===void 0)throw Error(r(407));y=y()}else{if(y=h(),Sn===null)throw Error(r(349));(Wu&30)!==0||r4(N,h,y)}I.memoizedState=y;var M={value:y,getSnapshot:h};return I.queue=M,c4(i4.bind(null,N,M,u),[u]),N.flags|=2048,Wp(9,n4.bind(null,N,M,y,h),void 0,null),y},useId:function(){var u=Ka(),h=Sn.identifierPrefix;if(Cr){var y=qo,N=Bo;y=(N&~(1<<32-ts(N)-1)).toString(32)+y,h=":"+h+"R"+y,y=Up++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=Qte++,h=":"+h+"r"+y.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},tre={readContext:Ps,useCallback:m4,useContext:Ps,useEffect:Lj,useImperativeHandle:f4,useInsertionEffect:u4,useLayoutEffect:d4,useMemo:p4,useReducer:Mj,useRef:l4,useState:function(){return Mj(zp)},useDebugValue:$j,useDeferredValue:function(u){var h=As();return g4(h,un.memoizedState,u)},useTransition:function(){var u=Mj(zp)[0],h=As().memoizedState;return[u,h]},useMutableSource:e4,useSyncExternalStore:t4,useId:y4,unstable_isNewReconciler:!1},rre={readContext:Ps,useCallback:m4,useContext:Ps,useEffect:Lj,useImperativeHandle:f4,useInsertionEffect:u4,useLayoutEffect:d4,useMemo:p4,useReducer:Dj,useRef:l4,useState:function(){return Dj(zp)},useDebugValue:$j,useDeferredValue:function(u){var h=As();return un===null?h.memoizedState=u:g4(h,un.memoizedState,u)},useTransition:function(){var u=Dj(zp)[0],h=As().memoizedState;return[u,h]},useMutableSource:e4,useSyncExternalStore:t4,useId:y4,unstable_isNewReconciler:!1};function sa(u,h){if(u&&u.defaultProps){h=ie({},h),u=u.defaultProps;for(var y in u)h[y]===void 0&&(h[y]=u[y]);return h}return h}function Fj(u,h,y,N){h=u.memoizedState,y=y(N,h),y=y==null?h:ie({},h,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var Lv={isMounted:function(u){return(u=u._reactInternals)?ta(u)===u:!1},enqueueSetState:function(u,h,y){u=u._reactInternals;var N=vi(),I=uc(u),M=zo(N,I);M.payload=h,y!=null&&(M.callback=y),h=ac(u,M,I),h!==null&&(la(h,u,I,N),Av(h,u,I))},enqueueReplaceState:function(u,h,y){u=u._reactInternals;var N=vi(),I=uc(u),M=zo(N,I);M.tag=1,M.payload=h,y!=null&&(M.callback=y),h=ac(u,M,I),h!==null&&(la(h,u,I,N),Av(h,u,I))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var y=vi(),N=uc(u),I=zo(y,N);I.tag=2,h!=null&&(I.callback=h),h=ac(u,I,N),h!==null&&(la(h,u,N,y),Av(h,u,N))}};function w4(u,h,y,N,I,M,B){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(N,M,B):h.prototype&&h.prototype.isPureReactComponent?!kp(y,N)||!kp(I,M):!0}function _4(u,h,y){var N=!1,I=nc,M=h.contextType;return typeof M=="object"&&M!==null?M=Ps(M):(I=Li(h)?Vu:Zn.current,N=h.contextTypes,M=(N=N!=null)?$h(u,I):nc),h=new h(y,M),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Lv,u.stateNode=h,h._reactInternals=u,N&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=I,u.__reactInternalMemoizedMaskedChildContext=M),h}function j4(u,h,y,N){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,N),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,N),h.state!==u&&Lv.enqueueReplaceState(h,h.state,null)}function Vj(u,h,y,N){var I=u.stateNode;I.props=y,I.state=u.memoizedState,I.refs={},Tj(u);var M=h.contextType;typeof M=="object"&&M!==null?I.context=Ps(M):(M=Li(h)?Vu:Zn.current,I.context=$h(u,M)),I.state=u.memoizedState,M=h.getDerivedStateFromProps,typeof M=="function"&&(Fj(u,h,M,y),I.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(h=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),h!==I.state&&Lv.enqueueReplaceState(I,I.state,null),Cv(u,y,I,N),I.state=u.memoizedState),typeof I.componentDidMount=="function"&&(u.flags|=4194308)}function Hh(u,h){try{var y="",N=h;do y+=be(N),N=N.return;while(N);var I=y}catch(M){I=`
Error generating stack: `+M.message+`
`+M.stack}return{value:u,source:h,stack:I,digest:null}}function Bj(u,h,y){return{value:u,source:null,stack:y??null,digest:h??null}}function qj(u,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var nre=typeof WeakMap=="function"?WeakMap:Map;function N4(u,h,y){y=zo(-1,y),y.tag=3,y.payload={element:null};var N=h.value;return y.callback=function(){zv||(zv=!0,nN=N),qj(u,h)},y}function S4(u,h,y){y=zo(-1,y),y.tag=3;var N=u.type.getDerivedStateFromError;if(typeof N=="function"){var I=h.value;y.payload=function(){return N(I)},y.callback=function(){qj(u,h)}}var M=u.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(y.callback=function(){qj(u,h),typeof N!="function"&&(lc===null?lc=new Set([this]):lc.add(this));var B=h.stack;this.componentDidCatch(h.value,{componentStack:B!==null?B:""})}),y}function T4(u,h,y){var N=u.pingCache;if(N===null){N=u.pingCache=new nre;var I=new Set;N.set(h,I)}else I=N.get(h),I===void 0&&(I=new Set,N.set(h,I));I.has(y)||(I.add(y),u=yre.bind(null,u,h,y),h.then(u,u))}function E4(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function P4(u,h,y,N,I){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=zo(-1,1),h.tag=2,ac(y,h,1))),y.lanes|=1),u):(u.flags|=65536,u.lanes=I,u)}var ire=k.ReactCurrentOwner,$i=!1;function yi(u,h,y,N){h.child=u===null?KM(h,null,y,N):qh(h,u.child,y,N)}function A4(u,h,y,N,I){y=y.render;var M=h.ref;return zh(h,I),N=Oj(u,h,y,N,M,I),y=Rj(),u!==null&&!$i?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~I,Wo(u,h,I)):(Cr&&y&&gj(h),h.flags|=1,yi(u,h,N,I),h.child)}function C4(u,h,y,N,I){if(u===null){var M=y.type;return typeof M=="function"&&!uN(M)&&M.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=M,k4(u,h,M,N,I)):(u=Qv(y.type,null,N,h,h.mode,I),u.ref=h.ref,u.return=h,h.child=u)}if(M=u.child,(u.lanes&I)===0){var B=M.memoizedProps;if(y=y.compare,y=y!==null?y:kp,y(B,N)&&u.ref===h.ref)return Wo(u,h,I)}return h.flags|=1,u=hc(M,N),u.ref=h.ref,u.return=h,h.child=u}function k4(u,h,y,N,I){if(u!==null){var M=u.memoizedProps;if(kp(M,N)&&u.ref===h.ref)if($i=!1,h.pendingProps=N=M,(u.lanes&I)!==0)(u.flags&131072)!==0&&($i=!0);else return h.lanes=u.lanes,Wo(u,h,I)}return Uj(u,h,y,N,I)}function I4(u,h,y){var N=h.pendingProps,I=N.children,M=u!==null?u.memoizedState:null;if(N.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},vr(Kh,ls),ls|=y;else{if((y&1073741824)===0)return u=M!==null?M.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,vr(Kh,ls),ls|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=M!==null?M.baseLanes:y,vr(Kh,ls),ls|=N}else M!==null?(N=M.baseLanes|y,h.memoizedState=null):N=y,vr(Kh,ls),ls|=N;return yi(u,h,I,y),h.child}function O4(u,h){var y=h.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function Uj(u,h,y,N,I){var M=Li(y)?Vu:Zn.current;return M=$h(h,M),zh(h,I),y=Oj(u,h,y,N,M,I),N=Rj(),u!==null&&!$i?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~I,Wo(u,h,I)):(Cr&&N&&gj(h),h.flags|=1,yi(u,h,y,I),h.child)}function R4(u,h,y,N,I){if(Li(y)){var M=!0;wv(h)}else M=!1;if(zh(h,I),h.stateNode===null)Fv(u,h),_4(h,y,N),Vj(h,y,N,I),N=!0;else if(u===null){var B=h.stateNode,H=h.memoizedProps;B.props=H;var Z=B.context,ue=y.contextType;typeof ue=="object"&&ue!==null?ue=Ps(ue):(ue=Li(y)?Vu:Zn.current,ue=$h(h,ue));var Te=y.getDerivedStateFromProps,Ce=typeof Te=="function"||typeof B.getSnapshotBeforeUpdate=="function";Ce||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(H!==N||Z!==ue)&&j4(h,B,N,ue),sc=!1;var Se=h.memoizedState;B.state=Se,Cv(h,N,B,I),Z=h.memoizedState,H!==N||Se!==Z||Di.current||sc?(typeof Te=="function"&&(Fj(h,y,Te,N),Z=h.memoizedState),(H=sc||w4(h,y,H,N,Se,Z,ue))?(Ce||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(h.flags|=4194308)):(typeof B.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=N,h.memoizedState=Z),B.props=N,B.state=Z,B.context=ue,N=H):(typeof B.componentDidMount=="function"&&(h.flags|=4194308),N=!1)}else{B=h.stateNode,QM(u,h),H=h.memoizedProps,ue=h.type===h.elementType?H:sa(h.type,H),B.props=ue,Ce=h.pendingProps,Se=B.context,Z=y.contextType,typeof Z=="object"&&Z!==null?Z=Ps(Z):(Z=Li(y)?Vu:Zn.current,Z=$h(h,Z));var Fe=y.getDerivedStateFromProps;(Te=typeof Fe=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(H!==Ce||Se!==Z)&&j4(h,B,N,Z),sc=!1,Se=h.memoizedState,B.state=Se,Cv(h,N,B,I);var Ke=h.memoizedState;H!==Ce||Se!==Ke||Di.current||sc?(typeof Fe=="function"&&(Fj(h,y,Fe,N),Ke=h.memoizedState),(ue=sc||w4(h,y,ue,N,Se,Ke,Z)||!1)?(Te||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(N,Ke,Z),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(N,Ke,Z)),typeof B.componentDidUpdate=="function"&&(h.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof B.componentDidUpdate!="function"||H===u.memoizedProps&&Se===u.memoizedState||(h.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||H===u.memoizedProps&&Se===u.memoizedState||(h.flags|=1024),h.memoizedProps=N,h.memoizedState=Ke),B.props=N,B.state=Ke,B.context=Z,N=ue):(typeof B.componentDidUpdate!="function"||H===u.memoizedProps&&Se===u.memoizedState||(h.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||H===u.memoizedProps&&Se===u.memoizedState||(h.flags|=1024),N=!1)}return zj(u,h,y,N,M,I)}function zj(u,h,y,N,I,M){O4(u,h);var B=(h.flags&128)!==0;if(!N&&!B)return I&&FM(h,y,!1),Wo(u,h,M);N=h.stateNode,ire.current=h;var H=B&&typeof y.getDerivedStateFromError!="function"?null:N.render();return h.flags|=1,u!==null&&B?(h.child=qh(h,u.child,null,M),h.child=qh(h,null,H,M)):yi(u,h,H,M),h.memoizedState=N.state,I&&FM(h,y,!0),h.child}function M4(u){var h=u.stateNode;h.pendingContext?LM(u,h.pendingContext,h.pendingContext!==h.context):h.context&&LM(u,h.context,!1),Ej(u,h.containerInfo)}function D4(u,h,y,N,I){return Bh(),bj(I),h.flags|=256,yi(u,h,y,N),h.child}var Wj={dehydrated:null,treeContext:null,retryLane:0};function Hj(u){return{baseLanes:u,cachePool:null,transitions:null}}function L4(u,h,y){var N=h.pendingProps,I=Or.current,M=!1,B=(h.flags&128)!==0,H;if((H=B)||(H=u!==null&&u.memoizedState===null?!1:(I&2)!==0),H?(M=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(I|=1),vr(Or,I&1),u===null)return xj(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(B=N.children,u=N.fallback,M?(N=h.mode,M=h.child,B={mode:"hidden",children:B},(N&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=B):M=Xv(B,N,0,null),u=Qu(u,N,y,null),M.return=h,u.return=h,M.sibling=u,h.child=M,h.child.memoizedState=Hj(y),h.memoizedState=Wj,u):Gj(h,B));if(I=u.memoizedState,I!==null&&(H=I.dehydrated,H!==null))return sre(u,h,B,N,H,I,y);if(M){M=N.fallback,B=h.mode,I=u.child,H=I.sibling;var Z={mode:"hidden",children:N.children};return(B&1)===0&&h.child!==I?(N=h.child,N.childLanes=0,N.pendingProps=Z,h.deletions=null):(N=hc(I,Z),N.subtreeFlags=I.subtreeFlags&14680064),H!==null?M=hc(H,M):(M=Qu(M,B,y,null),M.flags|=2),M.return=h,N.return=h,N.sibling=M,h.child=N,N=M,M=h.child,B=u.child.memoizedState,B=B===null?Hj(y):{baseLanes:B.baseLanes|y,cachePool:null,transitions:B.transitions},M.memoizedState=B,M.childLanes=u.childLanes&~y,h.memoizedState=Wj,N}return M=u.child,u=M.sibling,N=hc(M,{mode:"visible",children:N.children}),(h.mode&1)===0&&(N.lanes=y),N.return=h,N.sibling=null,u!==null&&(y=h.deletions,y===null?(h.deletions=[u],h.flags|=16):y.push(u)),h.child=N,h.memoizedState=null,N}function Gj(u,h){return h=Xv({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function $v(u,h,y,N){return N!==null&&bj(N),qh(h,u.child,null,y),u=Gj(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function sre(u,h,y,N,I,M,B){if(y)return h.flags&256?(h.flags&=-257,N=Bj(Error(r(422))),$v(u,h,B,N)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(M=N.fallback,I=h.mode,N=Xv({mode:"visible",children:N.children},I,0,null),M=Qu(M,I,B,null),M.flags|=2,N.return=h,M.return=h,N.sibling=M,h.child=N,(h.mode&1)!==0&&qh(h,u.child,null,B),h.child.memoizedState=Hj(B),h.memoizedState=Wj,M);if((h.mode&1)===0)return $v(u,h,B,null);if(I.data==="$!"){if(N=I.nextSibling&&I.nextSibling.dataset,N)var H=N.dgst;return N=H,M=Error(r(419)),N=Bj(M,N,void 0),$v(u,h,B,N)}if(H=(B&u.childLanes)!==0,$i||H){if(N=Sn,N!==null){switch(B&-B){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}I=(I&(N.suspendedLanes|B))!==0?0:I,I!==0&&I!==M.retryLane&&(M.retryLane=I,Uo(u,I),la(N,u,I,-1))}return cN(),N=Bj(Error(r(421))),$v(u,h,B,N)}return I.data==="$?"?(h.flags|=128,h.child=u.child,h=vre.bind(null,u),I._reactRetry=h,null):(u=M.treeContext,os=tc(I.nextSibling),as=h,Cr=!0,ia=null,u!==null&&(Ts[Es++]=Bo,Ts[Es++]=qo,Ts[Es++]=Bu,Bo=u.id,qo=u.overflow,Bu=h),h=Gj(h,N.children),h.flags|=4096,h)}function $4(u,h,y){u.lanes|=h;var N=u.alternate;N!==null&&(N.lanes|=h),Nj(u.return,h,y)}function Kj(u,h,y,N,I){var M=u.memoizedState;M===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:N,tail:y,tailMode:I}:(M.isBackwards=h,M.rendering=null,M.renderingStartTime=0,M.last=N,M.tail=y,M.tailMode=I)}function F4(u,h,y){var N=h.pendingProps,I=N.revealOrder,M=N.tail;if(yi(u,h,N.children,y),N=Or.current,(N&2)!==0)N=N&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&$4(u,y,h);else if(u.tag===19)$4(u,y,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}N&=1}if(vr(Or,N),(h.mode&1)===0)h.memoizedState=null;else switch(I){case"forwards":for(y=h.child,I=null;y!==null;)u=y.alternate,u!==null&&kv(u)===null&&(I=y),y=y.sibling;y=I,y===null?(I=h.child,h.child=null):(I=y.sibling,y.sibling=null),Kj(h,!1,I,y,M);break;case"backwards":for(y=null,I=h.child,h.child=null;I!==null;){if(u=I.alternate,u!==null&&kv(u)===null){h.child=I;break}u=I.sibling,I.sibling=y,y=I,I=u}Kj(h,!0,y,null,M);break;case"together":Kj(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Fv(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function Wo(u,h,y){if(u!==null&&(h.dependencies=u.dependencies),Hu|=h.lanes,(y&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(r(153));if(h.child!==null){for(u=h.child,y=hc(u,u.pendingProps),h.child=y,y.return=h;u.sibling!==null;)u=u.sibling,y=y.sibling=hc(u,u.pendingProps),y.return=h;y.sibling=null}return h.child}function are(u,h,y){switch(h.tag){case 3:M4(h),Bh();break;case 5:ZM(h);break;case 1:Li(h.type)&&wv(h);break;case 4:Ej(h,h.stateNode.containerInfo);break;case 10:var N=h.type._context,I=h.memoizedProps.value;vr(Ev,N._currentValue),N._currentValue=I;break;case 13:if(N=h.memoizedState,N!==null)return N.dehydrated!==null?(vr(Or,Or.current&1),h.flags|=128,null):(y&h.child.childLanes)!==0?L4(u,h,y):(vr(Or,Or.current&1),u=Wo(u,h,y),u!==null?u.sibling:null);vr(Or,Or.current&1);break;case 19:if(N=(y&h.childLanes)!==0,(u.flags&128)!==0){if(N)return F4(u,h,y);h.flags|=128}if(I=h.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),vr(Or,Or.current),N)break;return null;case 22:case 23:return h.lanes=0,I4(u,h,y)}return Wo(u,h,y)}var V4,Yj,B4,q4;V4=function(u,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)u.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Yj=function(){},B4=function(u,h,y,N){var I=u.memoizedProps;if(I!==N){u=h.stateNode,zu(Ga.current);var M=null;switch(y){case"input":I=tt(u,I),N=tt(u,N),M=[];break;case"select":I=ie({},I,{value:void 0}),N=ie({},N,{value:void 0}),M=[];break;case"textarea":I=jn(u,I),N=jn(u,N),M=[];break;default:typeof I.onClick!="function"&&typeof N.onClick=="function"&&(u.onclick=vv)}Nt(y,N);var B;y=null;for(ue in I)if(!N.hasOwnProperty(ue)&&I.hasOwnProperty(ue)&&I[ue]!=null)if(ue==="style"){var H=I[ue];for(B in H)H.hasOwnProperty(B)&&(y||(y={}),y[B]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(i.hasOwnProperty(ue)?M||(M=[]):(M=M||[]).push(ue,null));for(ue in N){var Z=N[ue];if(H=I!=null?I[ue]:void 0,N.hasOwnProperty(ue)&&Z!==H&&(Z!=null||H!=null))if(ue==="style")if(H){for(B in H)!H.hasOwnProperty(B)||Z&&Z.hasOwnProperty(B)||(y||(y={}),y[B]="");for(B in Z)Z.hasOwnProperty(B)&&H[B]!==Z[B]&&(y||(y={}),y[B]=Z[B])}else y||(M||(M=[]),M.push(ue,y)),y=Z;else ue==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,H=H?H.__html:void 0,Z!=null&&H!==Z&&(M=M||[]).push(ue,Z)):ue==="children"?typeof Z!="string"&&typeof Z!="number"||(M=M||[]).push(ue,""+Z):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(i.hasOwnProperty(ue)?(Z!=null&&ue==="onScroll"&&Nr("scroll",u),M||H===Z||(M=[])):(M=M||[]).push(ue,Z))}y&&(M=M||[]).push("style",y);var ue=M;(h.updateQueue=ue)&&(h.flags|=4)}},q4=function(u,h,y,N){y!==N&&(h.flags|=4)};function Hp(u,h){if(!Cr)switch(u.tailMode){case"hidden":h=u.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var N=null;y!==null;)y.alternate!==null&&(N=y),y=y.sibling;N===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:N.sibling=null}}function ti(u){var h=u.alternate!==null&&u.alternate.child===u.child,y=0,N=0;if(h)for(var I=u.child;I!==null;)y|=I.lanes|I.childLanes,N|=I.subtreeFlags&14680064,N|=I.flags&14680064,I.return=u,I=I.sibling;else for(I=u.child;I!==null;)y|=I.lanes|I.childLanes,N|=I.subtreeFlags,N|=I.flags,I.return=u,I=I.sibling;return u.subtreeFlags|=N,u.childLanes=y,h}function ore(u,h,y){var N=h.pendingProps;switch(yj(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(h),null;case 1:return Li(h.type)&&bv(),ti(h),null;case 3:return N=h.stateNode,Wh(),Sr(Di),Sr(Zn),Cj(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(u===null||u.child===null)&&(Sv(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,ia!==null&&(aN(ia),ia=null))),Yj(u,h),ti(h),null;case 5:Pj(h);var I=zu(Bp.current);if(y=h.type,u!==null&&h.stateNode!=null)B4(u,h,y,N,I),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!N){if(h.stateNode===null)throw Error(r(166));return ti(h),null}if(u=zu(Ga.current),Sv(h)){N=h.stateNode,y=h.type;var M=h.memoizedProps;switch(N[Ha]=h,N[Dp]=M,u=(h.mode&1)!==0,y){case"dialog":Nr("cancel",N),Nr("close",N);break;case"iframe":case"object":case"embed":Nr("load",N);break;case"video":case"audio":for(I=0;I<Op.length;I++)Nr(Op[I],N);break;case"source":Nr("error",N);break;case"img":case"image":case"link":Nr("error",N),Nr("load",N);break;case"details":Nr("toggle",N);break;case"input":Ot(N,M),Nr("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!M.multiple},Nr("invalid",N);break;case"textarea":gi(N,M),Nr("invalid",N)}Nt(y,M),I=null;for(var B in M)if(M.hasOwnProperty(B)){var H=M[B];B==="children"?typeof H=="string"?N.textContent!==H&&(M.suppressHydrationWarning!==!0&&yv(N.textContent,H,u),I=["children",H]):typeof H=="number"&&N.textContent!==""+H&&(M.suppressHydrationWarning!==!0&&yv(N.textContent,H,u),I=["children",""+H]):i.hasOwnProperty(B)&&H!=null&&B==="onScroll"&&Nr("scroll",N)}switch(y){case"input":Re(N),Kr(N,M,!0);break;case"textarea":Re(N),Rn(N);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(N.onclick=vv)}N=I,h.updateQueue=N,N!==null&&(h.flags|=4)}else{B=I.nodeType===9?I:I.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Zs(y)),u==="http://www.w3.org/1999/xhtml"?y==="script"?(u=B.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof N.is=="string"?u=B.createElement(y,{is:N.is}):(u=B.createElement(y),y==="select"&&(B=u,N.multiple?B.multiple=!0:N.size&&(B.size=N.size))):u=B.createElementNS(u,y),u[Ha]=h,u[Dp]=N,V4(u,h,!1,!1),h.stateNode=u;e:{switch(B=fr(y,N),y){case"dialog":Nr("cancel",u),Nr("close",u),I=N;break;case"iframe":case"object":case"embed":Nr("load",u),I=N;break;case"video":case"audio":for(I=0;I<Op.length;I++)Nr(Op[I],u);I=N;break;case"source":Nr("error",u),I=N;break;case"img":case"image":case"link":Nr("error",u),Nr("load",u),I=N;break;case"details":Nr("toggle",u),I=N;break;case"input":Ot(u,N),I=tt(u,N),Nr("invalid",u);break;case"option":I=N;break;case"select":u._wrapperState={wasMultiple:!!N.multiple},I=ie({},N,{value:void 0}),Nr("invalid",u);break;case"textarea":gi(u,N),I=jn(u,N),Nr("invalid",u);break;default:I=N}Nt(y,I),H=I;for(M in H)if(H.hasOwnProperty(M)){var Z=H[M];M==="style"?vt(u,Z):M==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&Ae(u,Z)):M==="children"?typeof Z=="string"?(y!=="textarea"||Z!=="")&&ve(u,Z):typeof Z=="number"&&ve(u,""+Z):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?Z!=null&&M==="onScroll"&&Nr("scroll",u):Z!=null&&P(u,M,Z,B))}switch(y){case"input":Re(u),Kr(u,N,!1);break;case"textarea":Re(u),Rn(u);break;case"option":N.value!=null&&u.setAttribute("value",""+Ie(N.value));break;case"select":u.multiple=!!N.multiple,M=N.value,M!=null?Ar(u,!!N.multiple,M,!1):N.defaultValue!=null&&Ar(u,!!N.multiple,N.defaultValue,!0);break;default:typeof I.onClick=="function"&&(u.onclick=vv)}switch(y){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return ti(h),null;case 6:if(u&&h.stateNode!=null)q4(u,h,u.memoizedProps,N);else{if(typeof N!="string"&&h.stateNode===null)throw Error(r(166));if(y=zu(Bp.current),zu(Ga.current),Sv(h)){if(N=h.stateNode,y=h.memoizedProps,N[Ha]=h,(M=N.nodeValue!==y)&&(u=as,u!==null))switch(u.tag){case 3:yv(N.nodeValue,y,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&yv(N.nodeValue,y,(u.mode&1)!==0)}M&&(h.flags|=4)}else N=(y.nodeType===9?y:y.ownerDocument).createTextNode(N),N[Ha]=h,h.stateNode=N}return ti(h),null;case 13:if(Sr(Or),N=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Cr&&os!==null&&(h.mode&1)!==0&&(h.flags&128)===0)WM(),Bh(),h.flags|=98560,M=!1;else if(M=Sv(h),N!==null&&N.dehydrated!==null){if(u===null){if(!M)throw Error(r(318));if(M=h.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[Ha]=h}else Bh(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;ti(h),M=!1}else ia!==null&&(aN(ia),ia=null),M=!0;if(!M)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=y,h):(N=N!==null,N!==(u!==null&&u.memoizedState!==null)&&N&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(Or.current&1)!==0?dn===0&&(dn=3):cN())),h.updateQueue!==null&&(h.flags|=4),ti(h),null);case 4:return Wh(),Yj(u,h),u===null&&Rp(h.stateNode.containerInfo),ti(h),null;case 10:return jj(h.type._context),ti(h),null;case 17:return Li(h.type)&&bv(),ti(h),null;case 19:if(Sr(Or),M=h.memoizedState,M===null)return ti(h),null;if(N=(h.flags&128)!==0,B=M.rendering,B===null)if(N)Hp(M,!1);else{if(dn!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(B=kv(u),B!==null){for(h.flags|=128,Hp(M,!1),N=B.updateQueue,N!==null&&(h.updateQueue=N,h.flags|=4),h.subtreeFlags=0,N=y,y=h.child;y!==null;)M=y,u=N,M.flags&=14680066,B=M.alternate,B===null?(M.childLanes=0,M.lanes=u,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=B.childLanes,M.lanes=B.lanes,M.child=B.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=B.memoizedProps,M.memoizedState=B.memoizedState,M.updateQueue=B.updateQueue,M.type=B.type,u=B.dependencies,M.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),y=y.sibling;return vr(Or,Or.current&1|2),h.child}u=u.sibling}M.tail!==null&&jr()>Yh&&(h.flags|=128,N=!0,Hp(M,!1),h.lanes=4194304)}else{if(!N)if(u=kv(B),u!==null){if(h.flags|=128,N=!0,y=u.updateQueue,y!==null&&(h.updateQueue=y,h.flags|=4),Hp(M,!0),M.tail===null&&M.tailMode==="hidden"&&!B.alternate&&!Cr)return ti(h),null}else 2*jr()-M.renderingStartTime>Yh&&y!==1073741824&&(h.flags|=128,N=!0,Hp(M,!1),h.lanes=4194304);M.isBackwards?(B.sibling=h.child,h.child=B):(y=M.last,y!==null?y.sibling=B:h.child=B,M.last=B)}return M.tail!==null?(h=M.tail,M.rendering=h,M.tail=h.sibling,M.renderingStartTime=jr(),h.sibling=null,y=Or.current,vr(Or,N?y&1|2:y&1),h):(ti(h),null);case 22:case 23:return lN(),N=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==N&&(h.flags|=8192),N&&(h.mode&1)!==0?(ls&1073741824)!==0&&(ti(h),h.subtreeFlags&6&&(h.flags|=8192)):ti(h),null;case 24:return null;case 25:return null}throw Error(r(156,h.tag))}function lre(u,h){switch(yj(h),h.tag){case 1:return Li(h.type)&&bv(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Wh(),Sr(Di),Sr(Zn),Cj(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return Pj(h),null;case 13:if(Sr(Or),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Bh()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return Sr(Or),null;case 4:return Wh(),null;case 10:return jj(h.type._context),null;case 22:case 23:return lN(),null;case 24:return null;default:return null}}var Vv=!1,ri=!1,cre=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Gh(u,h){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(N){qr(u,h,N)}else y.current=null}function Qj(u,h,y){try{y()}catch(N){qr(u,h,N)}}var U4=!1;function ure(u,h){if(lj=Do,u=wM(),ej(u)){if("selectionStart"in u)var y={start:u.selectionStart,end:u.selectionEnd};else e:{y=(y=u.ownerDocument)&&y.defaultView||window;var N=y.getSelection&&y.getSelection();if(N&&N.rangeCount!==0){y=N.anchorNode;var I=N.anchorOffset,M=N.focusNode;N=N.focusOffset;try{y.nodeType,M.nodeType}catch{y=null;break e}var B=0,H=-1,Z=-1,ue=0,Te=0,Ce=u,Se=null;t:for(;;){for(var Fe;Ce!==y||I!==0&&Ce.nodeType!==3||(H=B+I),Ce!==M||N!==0&&Ce.nodeType!==3||(Z=B+N),Ce.nodeType===3&&(B+=Ce.nodeValue.length),(Fe=Ce.firstChild)!==null;)Se=Ce,Ce=Fe;for(;;){if(Ce===u)break t;if(Se===y&&++ue===I&&(H=B),Se===M&&++Te===N&&(Z=B),(Fe=Ce.nextSibling)!==null)break;Ce=Se,Se=Ce.parentNode}Ce=Fe}y=H===-1||Z===-1?null:{start:H,end:Z}}else y=null}y=y||{start:0,end:0}}else y=null;for(cj={focusedElem:u,selectionRange:y},Do=!1,Ue=h;Ue!==null;)if(h=Ue,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Ue=u;else for(;Ue!==null;){h=Ue;try{var Ke=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Ke!==null){var Je=Ke.memoizedProps,Qr=Ke.memoizedState,se=h.stateNode,te=se.getSnapshotBeforeUpdate(h.elementType===h.type?Je:sa(h.type,Je),Qr);se.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var oe=h.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Oe){qr(h,h.return,Oe)}if(u=h.sibling,u!==null){u.return=h.return,Ue=u;break}Ue=h.return}return Ke=U4,U4=!1,Ke}function Gp(u,h,y){var N=h.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var I=N=N.next;do{if((I.tag&u)===u){var M=I.destroy;I.destroy=void 0,M!==void 0&&Qj(h,y,M)}I=I.next}while(I!==N)}}function Bv(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&u)===u){var N=y.create;y.destroy=N()}y=y.next}while(y!==h)}}function Xj(u){var h=u.ref;if(h!==null){var y=u.stateNode;switch(u.tag){case 5:u=y;break;default:u=y}typeof h=="function"?h(u):h.current=u}}function z4(u){var h=u.alternate;h!==null&&(u.alternate=null,z4(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[Ha],delete h[Dp],delete h[fj],delete h[Hte],delete h[Gte])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function W4(u){return u.tag===5||u.tag===3||u.tag===4}function H4(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||W4(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Jj(u,h,y){var N=u.tag;if(N===5||N===6)u=u.stateNode,h?y.nodeType===8?y.parentNode.insertBefore(u,h):y.insertBefore(u,h):(y.nodeType===8?(h=y.parentNode,h.insertBefore(u,y)):(h=y,h.appendChild(u)),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=vv));else if(N!==4&&(u=u.child,u!==null))for(Jj(u,h,y),u=u.sibling;u!==null;)Jj(u,h,y),u=u.sibling}function Zj(u,h,y){var N=u.tag;if(N===5||N===6)u=u.stateNode,h?y.insertBefore(u,h):y.appendChild(u);else if(N!==4&&(u=u.child,u!==null))for(Zj(u,h,y),u=u.sibling;u!==null;)Zj(u,h,y),u=u.sibling}var $n=null,aa=!1;function oc(u,h,y){for(y=y.child;y!==null;)G4(u,h,y),y=y.sibling}function G4(u,h,y){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(Cu,y)}catch{}switch(y.tag){case 5:ri||Gh(y,h);case 6:var N=$n,I=aa;$n=null,oc(u,h,y),$n=N,aa=I,$n!==null&&(aa?(u=$n,y=y.stateNode,u.nodeType===8?u.parentNode.removeChild(y):u.removeChild(y)):$n.removeChild(y.stateNode));break;case 18:$n!==null&&(aa?(u=$n,y=y.stateNode,u.nodeType===8?hj(u.parentNode,y):u.nodeType===1&&hj(u,y),Xl(u)):hj($n,y.stateNode));break;case 4:N=$n,I=aa,$n=y.stateNode.containerInfo,aa=!0,oc(u,h,y),$n=N,aa=I;break;case 0:case 11:case 14:case 15:if(!ri&&(N=y.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){I=N=N.next;do{var M=I,B=M.destroy;M=M.tag,B!==void 0&&((M&2)!==0||(M&4)!==0)&&Qj(y,h,B),I=I.next}while(I!==N)}oc(u,h,y);break;case 1:if(!ri&&(Gh(y,h),N=y.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=y.memoizedProps,N.state=y.memoizedState,N.componentWillUnmount()}catch(H){qr(y,h,H)}oc(u,h,y);break;case 21:oc(u,h,y);break;case 22:y.mode&1?(ri=(N=ri)||y.memoizedState!==null,oc(u,h,y),ri=N):oc(u,h,y);break;default:oc(u,h,y)}}function K4(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new cre),h.forEach(function(N){var I=xre.bind(null,u,N);y.has(N)||(y.add(N),N.then(I,I))})}}function oa(u,h){var y=h.deletions;if(y!==null)for(var N=0;N<y.length;N++){var I=y[N];try{var M=u,B=h,H=B;e:for(;H!==null;){switch(H.tag){case 5:$n=H.stateNode,aa=!1;break e;case 3:$n=H.stateNode.containerInfo,aa=!0;break e;case 4:$n=H.stateNode.containerInfo,aa=!0;break e}H=H.return}if($n===null)throw Error(r(160));G4(M,B,I),$n=null,aa=!1;var Z=I.alternate;Z!==null&&(Z.return=null),I.return=null}catch(ue){qr(I,h,ue)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)Y4(h,u),h=h.sibling}function Y4(u,h){var y=u.alternate,N=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(oa(h,u),Ya(u),N&4){try{Gp(3,u,u.return),Bv(3,u)}catch(Je){qr(u,u.return,Je)}try{Gp(5,u,u.return)}catch(Je){qr(u,u.return,Je)}}break;case 1:oa(h,u),Ya(u),N&512&&y!==null&&Gh(y,y.return);break;case 5:if(oa(h,u),Ya(u),N&512&&y!==null&&Gh(y,y.return),u.flags&32){var I=u.stateNode;try{ve(I,"")}catch(Je){qr(u,u.return,Je)}}if(N&4&&(I=u.stateNode,I!=null)){var M=u.memoizedProps,B=y!==null?y.memoizedProps:M,H=u.type,Z=u.updateQueue;if(u.updateQueue=null,Z!==null)try{H==="input"&&M.type==="radio"&&M.name!=null&&Rt(I,M),fr(H,B);var ue=fr(H,M);for(B=0;B<Z.length;B+=2){var Te=Z[B],Ce=Z[B+1];Te==="style"?vt(I,Ce):Te==="dangerouslySetInnerHTML"?Ae(I,Ce):Te==="children"?ve(I,Ce):P(I,Te,Ce,ue)}switch(H){case"input":Yt(I,M);break;case"textarea":ws(I,M);break;case"select":var Se=I._wrapperState.wasMultiple;I._wrapperState.wasMultiple=!!M.multiple;var Fe=M.value;Fe!=null?Ar(I,!!M.multiple,Fe,!1):Se!==!!M.multiple&&(M.defaultValue!=null?Ar(I,!!M.multiple,M.defaultValue,!0):Ar(I,!!M.multiple,M.multiple?[]:"",!1))}I[Dp]=M}catch(Je){qr(u,u.return,Je)}}break;case 6:if(oa(h,u),Ya(u),N&4){if(u.stateNode===null)throw Error(r(162));I=u.stateNode,M=u.memoizedProps;try{I.nodeValue=M}catch(Je){qr(u,u.return,Je)}}break;case 3:if(oa(h,u),Ya(u),N&4&&y!==null&&y.memoizedState.isDehydrated)try{Xl(h.containerInfo)}catch(Je){qr(u,u.return,Je)}break;case 4:oa(h,u),Ya(u);break;case 13:oa(h,u),Ya(u),I=u.child,I.flags&8192&&(M=I.memoizedState!==null,I.stateNode.isHidden=M,!M||I.alternate!==null&&I.alternate.memoizedState!==null||(rN=jr())),N&4&&K4(u);break;case 22:if(Te=y!==null&&y.memoizedState!==null,u.mode&1?(ri=(ue=ri)||Te,oa(h,u),ri=ue):oa(h,u),Ya(u),N&8192){if(ue=u.memoizedState!==null,(u.stateNode.isHidden=ue)&&!Te&&(u.mode&1)!==0)for(Ue=u,Te=u.child;Te!==null;){for(Ce=Ue=Te;Ue!==null;){switch(Se=Ue,Fe=Se.child,Se.tag){case 0:case 11:case 14:case 15:Gp(4,Se,Se.return);break;case 1:Gh(Se,Se.return);var Ke=Se.stateNode;if(typeof Ke.componentWillUnmount=="function"){N=Se,y=Se.return;try{h=N,Ke.props=h.memoizedProps,Ke.state=h.memoizedState,Ke.componentWillUnmount()}catch(Je){qr(N,y,Je)}}break;case 5:Gh(Se,Se.return);break;case 22:if(Se.memoizedState!==null){J4(Ce);continue}}Fe!==null?(Fe.return=Se,Ue=Fe):J4(Ce)}Te=Te.sibling}e:for(Te=null,Ce=u;;){if(Ce.tag===5){if(Te===null){Te=Ce;try{I=Ce.stateNode,ue?(M=I.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(H=Ce.stateNode,Z=Ce.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,H.style.display=qe("display",B))}catch(Je){qr(u,u.return,Je)}}}else if(Ce.tag===6){if(Te===null)try{Ce.stateNode.nodeValue=ue?"":Ce.memoizedProps}catch(Je){qr(u,u.return,Je)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===u)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===u)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===u)break e;Te===Ce&&(Te=null),Ce=Ce.return}Te===Ce&&(Te=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:oa(h,u),Ya(u),N&4&&K4(u);break;case 21:break;default:oa(h,u),Ya(u)}}function Ya(u){var h=u.flags;if(h&2){try{e:{for(var y=u.return;y!==null;){if(W4(y)){var N=y;break e}y=y.return}throw Error(r(160))}switch(N.tag){case 5:var I=N.stateNode;N.flags&32&&(ve(I,""),N.flags&=-33);var M=H4(u);Zj(u,M,I);break;case 3:case 4:var B=N.stateNode.containerInfo,H=H4(u);Jj(u,H,B);break;default:throw Error(r(161))}}catch(Z){qr(u,u.return,Z)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function dre(u,h,y){Ue=u,Q4(u)}function Q4(u,h,y){for(var N=(u.mode&1)!==0;Ue!==null;){var I=Ue,M=I.child;if(I.tag===22&&N){var B=I.memoizedState!==null||Vv;if(!B){var H=I.alternate,Z=H!==null&&H.memoizedState!==null||ri;H=Vv;var ue=ri;if(Vv=B,(ri=Z)&&!ue)for(Ue=I;Ue!==null;)B=Ue,Z=B.child,B.tag===22&&B.memoizedState!==null?Z4(I):Z!==null?(Z.return=B,Ue=Z):Z4(I);for(;M!==null;)Ue=M,Q4(M),M=M.sibling;Ue=I,Vv=H,ri=ue}X4(u)}else(I.subtreeFlags&8772)!==0&&M!==null?(M.return=I,Ue=M):X4(u)}}function X4(u){for(;Ue!==null;){var h=Ue;if((h.flags&8772)!==0){var y=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:ri||Bv(5,h);break;case 1:var N=h.stateNode;if(h.flags&4&&!ri)if(y===null)N.componentDidMount();else{var I=h.elementType===h.type?y.memoizedProps:sa(h.type,y.memoizedProps);N.componentDidUpdate(I,y.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var M=h.updateQueue;M!==null&&JM(h,M,N);break;case 3:var B=h.updateQueue;if(B!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=h.child.stateNode;break;case 1:y=h.child.stateNode}JM(h,B,y)}break;case 5:var H=h.stateNode;if(y===null&&h.flags&4){y=H;var Z=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&y.focus();break;case"img":Z.src&&(y.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var ue=h.alternate;if(ue!==null){var Te=ue.memoizedState;if(Te!==null){var Ce=Te.dehydrated;Ce!==null&&Xl(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ri||h.flags&512&&Xj(h)}catch(Se){qr(h,h.return,Se)}}if(h===u){Ue=null;break}if(y=h.sibling,y!==null){y.return=h.return,Ue=y;break}Ue=h.return}}function J4(u){for(;Ue!==null;){var h=Ue;if(h===u){Ue=null;break}var y=h.sibling;if(y!==null){y.return=h.return,Ue=y;break}Ue=h.return}}function Z4(u){for(;Ue!==null;){var h=Ue;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{Bv(4,h)}catch(Z){qr(h,y,Z)}break;case 1:var N=h.stateNode;if(typeof N.componentDidMount=="function"){var I=h.return;try{N.componentDidMount()}catch(Z){qr(h,I,Z)}}var M=h.return;try{Xj(h)}catch(Z){qr(h,M,Z)}break;case 5:var B=h.return;try{Xj(h)}catch(Z){qr(h,B,Z)}}}catch(Z){qr(h,h.return,Z)}if(h===u){Ue=null;break}var H=h.sibling;if(H!==null){H.return=h.return,Ue=H;break}Ue=h.return}}var hre=Math.ceil,qv=k.ReactCurrentDispatcher,eN=k.ReactCurrentOwner,Cs=k.ReactCurrentBatchConfig,Ht=0,Sn=null,rn=null,Fn=0,ls=0,Kh=rc(0),dn=0,Kp=null,Hu=0,Uv=0,tN=0,Yp=null,Fi=null,rN=0,Yh=1/0,Ho=null,zv=!1,nN=null,lc=null,Wv=!1,cc=null,Hv=0,Qp=0,iN=null,Gv=-1,Kv=0;function vi(){return(Ht&6)!==0?jr():Gv!==-1?Gv:Gv=jr()}function uc(u){return(u.mode&1)===0?1:(Ht&2)!==0&&Fn!==0?Fn&-Fn:Yte.transition!==null?(Kv===0&&(Kv=yp()),Kv):(u=qt,u!==0||(u=window.event,u=u===void 0?16:Nh(u.type)),u)}function la(u,h,y,N){if(50<Qp)throw Qp=0,iN=null,Error(r(185));Ru(u,y,N),((Ht&2)===0||u!==Sn)&&(u===Sn&&((Ht&2)===0&&(Uv|=y),dn===4&&dc(u,Fn)),Vi(u,N),y===1&&Ht===0&&(h.mode&1)===0&&(Yh=jr()+500,_v&&ic()))}function Vi(u,h){var y=u.callbackNode;Ou(u,h);var N=Oo(u,u===Sn?Fn:0);if(N===0)y!==null&&yh(y),u.callbackNode=null,u.callbackPriority=0;else if(h=N&-N,u.callbackPriority!==h){if(y!=null&&yh(y),h===1)u.tag===0?Kte(t5.bind(null,u)):VM(t5.bind(null,u)),zte(function(){(Ht&6)===0&&ic()}),y=null;else{switch(Da(N)){case 1:y=vh;break;case 4:y=mp;break;case 16:y=Au;break;case 536870912:y=xh;break;default:y=Au}y=c5(y,e5.bind(null,u))}u.callbackPriority=h,u.callbackNode=y}}function e5(u,h){if(Gv=-1,Kv=0,(Ht&6)!==0)throw Error(r(327));var y=u.callbackNode;if(Qh()&&u.callbackNode!==y)return null;var N=Oo(u,u===Sn?Fn:0);if(N===0)return null;if((N&30)!==0||(N&u.expiredLanes)!==0||h)h=Yv(u,N);else{h=N;var I=Ht;Ht|=2;var M=n5();(Sn!==u||Fn!==h)&&(Ho=null,Yh=jr()+500,Ku(u,h));do try{pre();break}catch(H){r5(u,H)}while(!0);_j(),qv.current=M,Ht=I,rn!==null?h=0:(Sn=null,Fn=0,h=dn)}if(h!==0){if(h===2&&(I=gp(u),I!==0&&(N=I,h=sN(u,I))),h===1)throw y=Kp,Ku(u,0),dc(u,N),Vi(u,jr()),y;if(h===6)dc(u,N);else{if(I=u.current.alternate,(N&30)===0&&!fre(I)&&(h=Yv(u,N),h===2&&(M=gp(u),M!==0&&(N=M,h=sN(u,M))),h===1))throw y=Kp,Ku(u,0),dc(u,N),Vi(u,jr()),y;switch(u.finishedWork=I,u.finishedLanes=N,h){case 0:case 1:throw Error(r(345));case 2:Yu(u,Fi,Ho);break;case 3:if(dc(u,N),(N&130023424)===N&&(h=rN+500-jr(),10<h)){if(Oo(u,0)!==0)break;if(I=u.suspendedLanes,(I&N)!==N){vi(),u.pingedLanes|=u.suspendedLanes&I;break}u.timeoutHandle=dj(Yu.bind(null,u,Fi,Ho),h);break}Yu(u,Fi,Ho);break;case 4:if(dc(u,N),(N&4194240)===N)break;for(h=u.eventTimes,I=-1;0<N;){var B=31-ts(N);M=1<<B,B=h[B],B>I&&(I=B),N&=~M}if(N=I,N=jr()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*hre(N/1960))-N,10<N){u.timeoutHandle=dj(Yu.bind(null,u,Fi,Ho),N);break}Yu(u,Fi,Ho);break;case 5:Yu(u,Fi,Ho);break;default:throw Error(r(329))}}}return Vi(u,jr()),u.callbackNode===y?e5.bind(null,u):null}function sN(u,h){var y=Yp;return u.current.memoizedState.isDehydrated&&(Ku(u,h).flags|=256),u=Yv(u,h),u!==2&&(h=Fi,Fi=y,h!==null&&aN(h)),u}function aN(u){Fi===null?Fi=u:Fi.push.apply(Fi,u)}function fre(u){for(var h=u;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var N=0;N<y.length;N++){var I=y[N],M=I.getSnapshot;I=I.value;try{if(!na(M(),I))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function dc(u,h){for(h&=~tN,h&=~Uv,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var y=31-ts(h),N=1<<y;u[y]=-1,h&=~N}}function t5(u){if((Ht&6)!==0)throw Error(r(327));Qh();var h=Oo(u,0);if((h&1)===0)return Vi(u,jr()),null;var y=Yv(u,h);if(u.tag!==0&&y===2){var N=gp(u);N!==0&&(h=N,y=sN(u,N))}if(y===1)throw y=Kp,Ku(u,0),dc(u,h),Vi(u,jr()),y;if(y===6)throw Error(r(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,Yu(u,Fi,Ho),Vi(u,jr()),null}function oN(u,h){var y=Ht;Ht|=1;try{return u(h)}finally{Ht=y,Ht===0&&(Yh=jr()+500,_v&&ic())}}function Gu(u){cc!==null&&cc.tag===0&&(Ht&6)===0&&Qh();var h=Ht;Ht|=1;var y=Cs.transition,N=qt;try{if(Cs.transition=null,qt=1,u)return u()}finally{qt=N,Cs.transition=y,Ht=h,(Ht&6)===0&&ic()}}function lN(){ls=Kh.current,Sr(Kh)}function Ku(u,h){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==-1&&(u.timeoutHandle=-1,Ute(y)),rn!==null)for(y=rn.return;y!==null;){var N=y;switch(yj(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&bv();break;case 3:Wh(),Sr(Di),Sr(Zn),Cj();break;case 5:Pj(N);break;case 4:Wh();break;case 13:Sr(Or);break;case 19:Sr(Or);break;case 10:jj(N.type._context);break;case 22:case 23:lN()}y=y.return}if(Sn=u,rn=u=hc(u.current,null),Fn=ls=h,dn=0,Kp=null,tN=Uv=Hu=0,Fi=Yp=null,Uu!==null){for(h=0;h<Uu.length;h++)if(y=Uu[h],N=y.interleaved,N!==null){y.interleaved=null;var I=N.next,M=y.pending;if(M!==null){var B=M.next;M.next=I,N.next=B}y.pending=N}Uu=null}return u}function r5(u,h){do{var y=rn;try{if(_j(),Iv.current=Dv,Ov){for(var N=Rr.memoizedState;N!==null;){var I=N.queue;I!==null&&(I.pending=null),N=N.next}Ov=!1}if(Wu=0,Nn=un=Rr=null,qp=!1,Up=0,eN.current=null,y===null||y.return===null){dn=1,Kp=h,rn=null;break}e:{var M=u,B=y.return,H=y,Z=h;if(h=Fn,H.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ue=Z,Te=H,Ce=Te.tag;if((Te.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var Se=Te.alternate;Se?(Te.updateQueue=Se.updateQueue,Te.memoizedState=Se.memoizedState,Te.lanes=Se.lanes):(Te.updateQueue=null,Te.memoizedState=null)}var Fe=E4(B);if(Fe!==null){Fe.flags&=-257,P4(Fe,B,H,M,h),Fe.mode&1&&T4(M,ue,h),h=Fe,Z=ue;var Ke=h.updateQueue;if(Ke===null){var Je=new Set;Je.add(Z),h.updateQueue=Je}else Ke.add(Z);break e}else{if((h&1)===0){T4(M,ue,h),cN();break e}Z=Error(r(426))}}else if(Cr&&H.mode&1){var Qr=E4(B);if(Qr!==null){(Qr.flags&65536)===0&&(Qr.flags|=256),P4(Qr,B,H,M,h),bj(Hh(Z,H));break e}}M=Z=Hh(Z,H),dn!==4&&(dn=2),Yp===null?Yp=[M]:Yp.push(M),M=B;do{switch(M.tag){case 3:M.flags|=65536,h&=-h,M.lanes|=h;var se=N4(M,Z,h);XM(M,se);break e;case 1:H=Z;var te=M.type,oe=M.stateNode;if((M.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(lc===null||!lc.has(oe)))){M.flags|=65536,h&=-h,M.lanes|=h;var Oe=S4(M,H,h);XM(M,Oe);break e}}M=M.return}while(M!==null)}s5(y)}catch(Ze){h=Ze,rn===y&&y!==null&&(rn=y=y.return);continue}break}while(!0)}function n5(){var u=qv.current;return qv.current=Dv,u===null?Dv:u}function cN(){(dn===0||dn===3||dn===2)&&(dn=4),Sn===null||(Hu&268435455)===0&&(Uv&268435455)===0||dc(Sn,Fn)}function Yv(u,h){var y=Ht;Ht|=2;var N=n5();(Sn!==u||Fn!==h)&&(Ho=null,Ku(u,h));do try{mre();break}catch(I){r5(u,I)}while(!0);if(_j(),Ht=y,qv.current=N,rn!==null)throw Error(r(261));return Sn=null,Fn=0,dn}function mre(){for(;rn!==null;)i5(rn)}function pre(){for(;rn!==null&&!Pu();)i5(rn)}function i5(u){var h=l5(u.alternate,u,ls);u.memoizedProps=u.pendingProps,h===null?s5(u):rn=h,eN.current=null}function s5(u){var h=u;do{var y=h.alternate;if(u=h.return,(h.flags&32768)===0){if(y=ore(y,h,ls),y!==null){rn=y;return}}else{if(y=lre(y,h),y!==null){y.flags&=32767,rn=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{dn=6,rn=null;return}}if(h=h.sibling,h!==null){rn=h;return}rn=h=u}while(h!==null);dn===0&&(dn=5)}function Yu(u,h,y){var N=qt,I=Cs.transition;try{Cs.transition=null,qt=1,gre(u,h,y,N)}finally{Cs.transition=I,qt=N}return null}function gre(u,h,y,N){do Qh();while(cc!==null);if((Ht&6)!==0)throw Error(r(327));y=u.finishedWork;var I=u.finishedLanes;if(y===null)return null;if(u.finishedWork=null,u.finishedLanes=0,y===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0;var M=y.lanes|y.childLanes;if(Y_(u,M),u===Sn&&(rn=Sn=null,Fn=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||Wv||(Wv=!0,c5(Au,function(){return Qh(),null})),M=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||M){M=Cs.transition,Cs.transition=null;var B=qt;qt=1;var H=Ht;Ht|=4,eN.current=null,ure(u,y),Y4(y,u),Dte(cj),Do=!!lj,cj=lj=null,u.current=y,dre(y),Io(),Ht=H,qt=B,Cs.transition=M}else u.current=y;if(Wv&&(Wv=!1,cc=u,Hv=I),M=u.pendingLanes,M===0&&(lc=null),rv(y.stateNode),Vi(u,jr()),h!==null)for(N=u.onRecoverableError,y=0;y<h.length;y++)I=h[y],N(I.value,{componentStack:I.stack,digest:I.digest});if(zv)throw zv=!1,u=nN,nN=null,u;return(Hv&1)!==0&&u.tag!==0&&Qh(),M=u.pendingLanes,(M&1)!==0?u===iN?Qp++:(Qp=0,iN=u):Qp=0,ic(),null}function Qh(){if(cc!==null){var u=Da(Hv),h=Cs.transition,y=qt;try{if(Cs.transition=null,qt=16>u?16:u,cc===null)var N=!1;else{if(u=cc,cc=null,Hv=0,(Ht&6)!==0)throw Error(r(331));var I=Ht;for(Ht|=4,Ue=u.current;Ue!==null;){var M=Ue,B=M.child;if((Ue.flags&16)!==0){var H=M.deletions;if(H!==null){for(var Z=0;Z<H.length;Z++){var ue=H[Z];for(Ue=ue;Ue!==null;){var Te=Ue;switch(Te.tag){case 0:case 11:case 15:Gp(8,Te,M)}var Ce=Te.child;if(Ce!==null)Ce.return=Te,Ue=Ce;else for(;Ue!==null;){Te=Ue;var Se=Te.sibling,Fe=Te.return;if(z4(Te),Te===ue){Ue=null;break}if(Se!==null){Se.return=Fe,Ue=Se;break}Ue=Fe}}}var Ke=M.alternate;if(Ke!==null){var Je=Ke.child;if(Je!==null){Ke.child=null;do{var Qr=Je.sibling;Je.sibling=null,Je=Qr}while(Je!==null)}}Ue=M}}if((M.subtreeFlags&2064)!==0&&B!==null)B.return=M,Ue=B;else e:for(;Ue!==null;){if(M=Ue,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Gp(9,M,M.return)}var se=M.sibling;if(se!==null){se.return=M.return,Ue=se;break e}Ue=M.return}}var te=u.current;for(Ue=te;Ue!==null;){B=Ue;var oe=B.child;if((B.subtreeFlags&2064)!==0&&oe!==null)oe.return=B,Ue=oe;else e:for(B=te;Ue!==null;){if(H=Ue,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Bv(9,H)}}catch(Ze){qr(H,H.return,Ze)}if(H===B){Ue=null;break e}var Oe=H.sibling;if(Oe!==null){Oe.return=H.return,Ue=Oe;break e}Ue=H.return}}if(Ht=I,ic(),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(Cu,u)}catch{}N=!0}return N}finally{qt=y,Cs.transition=h}}return!1}function a5(u,h,y){h=Hh(y,h),h=N4(u,h,1),u=ac(u,h,1),h=vi(),u!==null&&(Ru(u,1,h),Vi(u,h))}function qr(u,h,y){if(u.tag===3)a5(u,u,y);else for(;h!==null;){if(h.tag===3){a5(h,u,y);break}else if(h.tag===1){var N=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(lc===null||!lc.has(N))){u=Hh(y,u),u=S4(h,u,1),h=ac(h,u,1),u=vi(),h!==null&&(Ru(h,1,u),Vi(h,u));break}}h=h.return}}function yre(u,h,y){var N=u.pingCache;N!==null&&N.delete(h),h=vi(),u.pingedLanes|=u.suspendedLanes&y,Sn===u&&(Fn&y)===y&&(dn===4||dn===3&&(Fn&130023424)===Fn&&500>jr()-rN?Ku(u,0):tN|=y),Vi(u,h)}function o5(u,h){h===0&&((u.mode&1)===0?h=1:(h=Kl,Kl<<=1,(Kl&130023424)===0&&(Kl=4194304)));var y=vi();u=Uo(u,h),u!==null&&(Ru(u,h,y),Vi(u,y))}function vre(u){var h=u.memoizedState,y=0;h!==null&&(y=h.retryLane),o5(u,y)}function xre(u,h){var y=0;switch(u.tag){case 13:var N=u.stateNode,I=u.memoizedState;I!==null&&(y=I.retryLane);break;case 19:N=u.stateNode;break;default:throw Error(r(314))}N!==null&&N.delete(h),o5(u,y)}var l5;l5=function(u,h,y){if(u!==null)if(u.memoizedProps!==h.pendingProps||Di.current)$i=!0;else{if((u.lanes&y)===0&&(h.flags&128)===0)return $i=!1,are(u,h,y);$i=(u.flags&131072)!==0}else $i=!1,Cr&&(h.flags&1048576)!==0&&BM(h,Nv,h.index);switch(h.lanes=0,h.tag){case 2:var N=h.type;Fv(u,h),u=h.pendingProps;var I=$h(h,Zn.current);zh(h,y),I=Oj(null,h,N,u,I,y);var M=Rj();return h.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Li(N)?(M=!0,wv(h)):M=!1,h.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Tj(h),I.updater=Lv,h.stateNode=I,I._reactInternals=h,Vj(h,N,u,y),h=zj(null,h,N,!0,M,y)):(h.tag=0,Cr&&M&&gj(h),yi(null,h,I,y),h=h.child),h;case 16:N=h.elementType;e:{switch(Fv(u,h),u=h.pendingProps,I=N._init,N=I(N._payload),h.type=N,I=h.tag=wre(N),u=sa(N,u),I){case 0:h=Uj(null,h,N,u,y);break e;case 1:h=R4(null,h,N,u,y);break e;case 11:h=A4(null,h,N,u,y);break e;case 14:h=C4(null,h,N,sa(N.type,u),y);break e}throw Error(r(306,N,""))}return h;case 0:return N=h.type,I=h.pendingProps,I=h.elementType===N?I:sa(N,I),Uj(u,h,N,I,y);case 1:return N=h.type,I=h.pendingProps,I=h.elementType===N?I:sa(N,I),R4(u,h,N,I,y);case 3:e:{if(M4(h),u===null)throw Error(r(387));N=h.pendingProps,M=h.memoizedState,I=M.element,QM(u,h),Cv(h,N,null,y);var B=h.memoizedState;if(N=B.element,M.isDehydrated)if(M={element:N,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},h.updateQueue.baseState=M,h.memoizedState=M,h.flags&256){I=Hh(Error(r(423)),h),h=D4(u,h,N,y,I);break e}else if(N!==I){I=Hh(Error(r(424)),h),h=D4(u,h,N,y,I);break e}else for(os=tc(h.stateNode.containerInfo.firstChild),as=h,Cr=!0,ia=null,y=KM(h,null,N,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Bh(),N===I){h=Wo(u,h,y);break e}yi(u,h,N,y)}h=h.child}return h;case 5:return ZM(h),u===null&&xj(h),N=h.type,I=h.pendingProps,M=u!==null?u.memoizedProps:null,B=I.children,uj(N,I)?B=null:M!==null&&uj(N,M)&&(h.flags|=32),O4(u,h),yi(u,h,B,y),h.child;case 6:return u===null&&xj(h),null;case 13:return L4(u,h,y);case 4:return Ej(h,h.stateNode.containerInfo),N=h.pendingProps,u===null?h.child=qh(h,null,N,y):yi(u,h,N,y),h.child;case 11:return N=h.type,I=h.pendingProps,I=h.elementType===N?I:sa(N,I),A4(u,h,N,I,y);case 7:return yi(u,h,h.pendingProps,y),h.child;case 8:return yi(u,h,h.pendingProps.children,y),h.child;case 12:return yi(u,h,h.pendingProps.children,y),h.child;case 10:e:{if(N=h.type._context,I=h.pendingProps,M=h.memoizedProps,B=I.value,vr(Ev,N._currentValue),N._currentValue=B,M!==null)if(na(M.value,B)){if(M.children===I.children&&!Di.current){h=Wo(u,h,y);break e}}else for(M=h.child,M!==null&&(M.return=h);M!==null;){var H=M.dependencies;if(H!==null){B=M.child;for(var Z=H.firstContext;Z!==null;){if(Z.context===N){if(M.tag===1){Z=zo(-1,y&-y),Z.tag=2;var ue=M.updateQueue;if(ue!==null){ue=ue.shared;var Te=ue.pending;Te===null?Z.next=Z:(Z.next=Te.next,Te.next=Z),ue.pending=Z}}M.lanes|=y,Z=M.alternate,Z!==null&&(Z.lanes|=y),Nj(M.return,y,h),H.lanes|=y;break}Z=Z.next}}else if(M.tag===10)B=M.type===h.type?null:M.child;else if(M.tag===18){if(B=M.return,B===null)throw Error(r(341));B.lanes|=y,H=B.alternate,H!==null&&(H.lanes|=y),Nj(B,y,h),B=M.sibling}else B=M.child;if(B!==null)B.return=M;else for(B=M;B!==null;){if(B===h){B=null;break}if(M=B.sibling,M!==null){M.return=B.return,B=M;break}B=B.return}M=B}yi(u,h,I.children,y),h=h.child}return h;case 9:return I=h.type,N=h.pendingProps.children,zh(h,y),I=Ps(I),N=N(I),h.flags|=1,yi(u,h,N,y),h.child;case 14:return N=h.type,I=sa(N,h.pendingProps),I=sa(N.type,I),C4(u,h,N,I,y);case 15:return k4(u,h,h.type,h.pendingProps,y);case 17:return N=h.type,I=h.pendingProps,I=h.elementType===N?I:sa(N,I),Fv(u,h),h.tag=1,Li(N)?(u=!0,wv(h)):u=!1,zh(h,y),_4(h,N,I),Vj(h,N,I,y),zj(null,h,N,!0,u,y);case 19:return F4(u,h,y);case 22:return I4(u,h,y)}throw Error(r(156,h.tag))};function c5(u,h){return fp(u,h)}function bre(u,h,y,N){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ks(u,h,y,N){return new bre(u,h,y,N)}function uN(u){return u=u.prototype,!(!u||!u.isReactComponent)}function wre(u){if(typeof u=="function")return uN(u)?1:0;if(u!=null){if(u=u.$$typeof,u===$)return 11;if(u===K)return 14}return 2}function hc(u,h){var y=u.alternate;return y===null?(y=ks(u.tag,h,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=h,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,h=u.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function Qv(u,h,y,N,I,M){var B=2;if(N=u,typeof u=="function")uN(u)&&(B=1);else if(typeof u=="string")B=5;else e:switch(u){case E:return Qu(y.children,I,M,h);case j:B=8,I|=8;break;case O:return u=ks(12,y,h,I|2),u.elementType=O,u.lanes=M,u;case F:return u=ks(13,y,h,I),u.elementType=F,u.lanes=M,u;case G:return u=ks(19,y,h,I),u.elementType=G,u.lanes=M,u;case J:return Xv(y,I,M,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case R:B=10;break e;case L:B=9;break e;case $:B=11;break e;case K:B=14;break e;case Y:B=16,N=null;break e}throw Error(r(130,u==null?u:typeof u,""))}return h=ks(B,y,h,I),h.elementType=u,h.type=N,h.lanes=M,h}function Qu(u,h,y,N){return u=ks(7,u,N,h),u.lanes=y,u}function Xv(u,h,y,N){return u=ks(22,u,N,h),u.elementType=J,u.lanes=y,u.stateNode={isHidden:!1},u}function dN(u,h,y){return u=ks(6,u,null,h),u.lanes=y,u}function hN(u,h,y){return h=ks(4,u.children!==null?u.children:[],u.key,h),h.lanes=y,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function _re(u,h,y,N,I){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vp(0),this.expirationTimes=vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vp(0),this.identifierPrefix=N,this.onRecoverableError=I,this.mutableSourceEagerHydrationData=null}function fN(u,h,y,N,I,M,B,H,Z){return u=new _re(u,h,y,H,Z),h===1?(h=1,M===!0&&(h|=8)):h=0,M=ks(3,null,null,h),u.current=M,M.stateNode=u,M.memoizedState={element:N,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tj(M),u}function jre(u,h,y){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:N==null?null:""+N,children:u,containerInfo:h,implementation:y}}function u5(u){if(!u)return nc;u=u._reactInternals;e:{if(ta(u)!==u||u.tag!==1)throw Error(r(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Li(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(r(171))}if(u.tag===1){var y=u.type;if(Li(y))return $M(u,y,h)}return h}function d5(u,h,y,N,I,M,B,H,Z){return u=fN(y,N,!0,u,I,M,B,H,Z),u.context=u5(null),y=u.current,N=vi(),I=uc(y),M=zo(N,I),M.callback=h??null,ac(y,M,I),u.current.lanes=I,Ru(u,I,N),Vi(u,N),u}function Jv(u,h,y,N){var I=h.current,M=vi(),B=uc(I);return y=u5(y),h.context===null?h.context=y:h.pendingContext=y,h=zo(M,B),h.payload={element:u},N=N===void 0?null:N,N!==null&&(h.callback=N),u=ac(I,h,B),u!==null&&(la(u,I,B,M),Av(u,I,B)),B}function Zv(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function h5(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<h?y:h}}function mN(u,h){h5(u,h),(u=u.alternate)&&h5(u,h)}function Nre(){return null}var f5=typeof reportError=="function"?reportError:function(u){console.error(u)};function pN(u){this._internalRoot=u}ex.prototype.render=pN.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(r(409));Jv(u,h,null,null)},ex.prototype.unmount=pN.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;Gu(function(){Jv(null,u,null,null)}),h[Fo]=null}};function ex(u){this._internalRoot=u}ex.prototype.unstable_scheduleHydration=function(u){if(u){var h=_p();u={blockedOn:null,target:u,priority:h};for(var y=0;y<rs.length&&h!==0&&h<rs[y].priority;y++);rs.splice(y,0,u),y===0&&_h(u)}};function gN(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function tx(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function m5(){}function Sre(u,h,y,N,I){if(I){if(typeof N=="function"){var M=N;N=function(){var ue=Zv(B);M.call(ue)}}var B=d5(h,N,u,0,null,!1,!1,"",m5);return u._reactRootContainer=B,u[Fo]=B.current,Rp(u.nodeType===8?u.parentNode:u),Gu(),B}for(;I=u.lastChild;)u.removeChild(I);if(typeof N=="function"){var H=N;N=function(){var ue=Zv(Z);H.call(ue)}}var Z=fN(u,0,!1,null,null,!1,!1,"",m5);return u._reactRootContainer=Z,u[Fo]=Z.current,Rp(u.nodeType===8?u.parentNode:u),Gu(function(){Jv(h,Z,y,N)}),Z}function rx(u,h,y,N,I){var M=y._reactRootContainer;if(M){var B=M;if(typeof I=="function"){var H=I;I=function(){var Z=Zv(B);H.call(Z)}}Jv(h,B,u,I)}else B=Sre(y,h,u,I,N);return Zv(B)}bp=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var y=tr(h.pendingLanes);y!==0&&(xp(h,y|1),Vi(h,jr()),(Ht&6)===0&&(Yh=jr()+500,ic()))}break;case 13:Gu(function(){var N=Uo(u,1);if(N!==null){var I=vi();la(N,u,1,I)}}),mN(u,1)}},bh=function(u){if(u.tag===13){var h=Uo(u,134217728);if(h!==null){var y=vi();la(h,u,134217728,y)}mN(u,134217728)}},wp=function(u){if(u.tag===13){var h=uc(u),y=Uo(u,h);if(y!==null){var N=vi();la(y,u,h,N)}mN(u,h)}},_p=function(){return qt},jp=function(u,h){var y=qt;try{return qt=u,h()}finally{qt=y}},_s=function(u,h,y){switch(h){case"input":if(Yt(u,y),h=y.name,y.type==="radio"&&h!=null){for(y=u;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<y.length;h++){var N=y[h];if(N!==u&&N.form===u.form){var I=xv(N);if(!I)throw Error(r(90));fe(N),Yt(N,I)}}}break;case"textarea":ws(u,y);break;case"select":h=y.value,h!=null&&Ar(u,!!y.multiple,h,!1)}},G0=oN,K0=Gu;var Tre={usingClientEntryPoint:!1,Events:[Lp,Dh,xv,zl,Wl,oN]},Xp={findFiberByHostInstance:Fu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ere={bundleType:Xp.bundleType,version:Xp.version,rendererPackageName:Xp.rendererPackageName,rendererConfig:Xp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=tv(u),u===null?null:u.stateNode},findFiberByHostInstance:Xp.findFiberByHostInstance||Nre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nx.isDisabled&&nx.supportsFiber)try{Cu=nx.inject(Ere),es=nx}catch{}}return Bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tre,Bi.createPortal=function(u,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gN(h))throw Error(r(200));return jre(u,h,null,y)},Bi.createRoot=function(u,h){if(!gN(u))throw Error(r(299));var y=!1,N="",I=f5;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(N=h.identifierPrefix),h.onRecoverableError!==void 0&&(I=h.onRecoverableError)),h=fN(u,1,!1,null,null,y,!1,N,I),u[Fo]=h.current,Rp(u.nodeType===8?u.parentNode:u),new pN(h)},Bi.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=tv(h),u=u===null?null:u.stateNode,u},Bi.flushSync=function(u){return Gu(u)},Bi.hydrate=function(u,h,y){if(!tx(h))throw Error(r(200));return rx(null,u,h,!0,y)},Bi.hydrateRoot=function(u,h,y){if(!gN(u))throw Error(r(405));var N=y!=null&&y.hydratedSources||null,I=!1,M="",B=f5;if(y!=null&&(y.unstable_strictMode===!0&&(I=!0),y.identifierPrefix!==void 0&&(M=y.identifierPrefix),y.onRecoverableError!==void 0&&(B=y.onRecoverableError)),h=d5(h,null,u,1,y??null,I,!1,M,B),u[Fo]=h.current,Rp(u),N)for(u=0;u<N.length;u++)y=N[u],I=y._getVersion,I=I(y._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[y,I]:h.mutableSourceEagerHydrationData.push(y,I);return new ex(h)},Bi.render=function(u,h,y){if(!tx(h))throw Error(r(200));return rx(null,u,h,!1,y)},Bi.unmountComponentAtNode=function(u){if(!tx(u))throw Error(r(40));return u._reactRootContainer?(Gu(function(){rx(null,null,u,!1,function(){u._reactRootContainer=null,u[Fo]=null})}),!0):!1},Bi.unstable_batchedUpdates=oN,Bi.unstable_renderSubtreeIntoContainer=function(u,h,y,N){if(!tx(y))throw Error(r(200));if(u==null||u._reactInternals===void 0)throw Error(r(38));return rx(u,h,y,!1,N)},Bi.version="18.3.1-next-f1338f8080-20240426",Bi}var j5;function u9(){if(j5)return bN.exports;j5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bN.exports=Mre(),bN.exports}var N5;function Dre(){if(N5)return ax;N5=1;var t=u9();return ax.createRoot=t.createRoot,ax.hydrateRoot=t.hydrateRoot,ax}var Lre=Dre();const $re=er(Lre),Fre=()=>{};var S5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Vre=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],o=t[r++],l=t[r++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},h9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let p=(l&15)<<2|d>>6,v=d&63;c||(v=64,o||(p=64)),n.push(r[f],r[m],r[p],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(d9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vre(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||m==null)throw new Bre;const p=s<<2|l>>4;if(n.push(p),d!==64){const v=l<<4&240|d>>2;if(n.push(v),m!==64){const w=d<<6&192|m;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Bre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qre=function(t){const e=d9(t);return h9.encodeByteArray(e,!0)},yb=function(t){return qre(t).replace(/\./g,"")},f9=function(t){try{return h9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ure(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zre=()=>Ure().__FIREBASE_DEFAULTS__,Wre=()=>{if(typeof process>"u"||typeof S5>"u")return;const t=S5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Hre=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&f9(t[1]);return e&&JSON.parse(e)},c1=()=>{try{return Fre()||zre()||Wre()||Hre()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},m9=t=>{var e,r;return(r=(e=c1())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},p9=t=>{const e=m9(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},g9=()=>{var t;return(t=c1())==null?void 0:t.config},y9=t=>{var e;return(e=c1())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gre{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ok(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[yb(JSON.stringify(r)),yb(JSON.stringify(o)),""].join(".")}const Pg={};function Kre(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pg))Pg[e]?t.emulator.push(e):t.prod.push(e);return t}function Yre(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let T5=!1;function Rk(t,e){if(typeof window>"u"||typeof document>"u"||!nh(window.location.host)||Pg[t]===e||Pg[t]||T5)return;Pg[t]=e;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",s=Kre().prod.length>0;function o(){const p=document.getElementById(n);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{T5=!0,o()},p}function f(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=Yre(n),v=r("text"),w=document.getElementById(v)||document.createElement("span"),x=r("learnmore"),g=document.getElementById(x)||document.createElement("a"),_=r("preprendIcon"),T=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const P=p.element;l(P),f(g,x);const k=d();c(T,_),P.append(T,w,g,k),document.body.appendChild(P)}s?(w.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qre(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mi())}function Xre(){var e;const t=(e=c1())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jre(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function x9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zre(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ene(){const t=mi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tne(){return!Xre()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b9(){try{return typeof indexedDB=="object"}catch{return!1}}function w9(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}function rne(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nne="FirebaseError";class Xs extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=nne,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ih.prototype.create)}}class ih{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ine(s,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Xs(i,l,n)}}function ine(t,e){return t.replace(sne,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const sne=/\{\$([^}]+)}/g;function ane(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xc(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],o=e[i];if(E5(s)&&E5(o)){if(!Xc(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function E5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function mg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function pg(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function one(t,e){const r=new lne(t,e);return r.subscribe.bind(r)}class lne{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");cne(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=jN),i.error===void 0&&(i.error=jN),i.complete===void 0&&(i.complete=jN);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cne(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function jN(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const une=1e3,dne=2,hne=14400*1e3,fne=.5;function P5(t,e=une,r=dne){const n=e*Math.pow(r,t),i=Math.round(fne*n*(Math.random()-.5)*2);return Math.min(hne,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t){return t&&t._delegate?t._delegate:t}class Gs{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mne=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Gre;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gne(e))try{this.getOrInitializeService({instanceIdentifier:nd})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=nd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=nd){return this.instances.has(e)}getOptions(e=nd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);n===l&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:pne(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=nd){return this.component?this.component.multipleInstances?e:nd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pne(t){return t===nd?void 0:t}function gne(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new mne(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Lt||(Lt={}));const vne={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},xne=Lt.INFO,bne={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},wne=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=bne[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u1{constructor(e){this.name=e,this._logLevel=xne,this._logHandler=wne,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vne[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const _ne=(t,e)=>e.some(r=>t instanceof r);let A5,C5;function jne(){return A5||(A5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nne(){return C5||(C5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _9=new WeakMap,SP=new WeakMap,j9=new WeakMap,NN=new WeakMap,Mk=new WeakMap;function Sne(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(Uc(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&_9.set(r,t)}).catch(()=>{}),Mk.set(e,t),e}function Tne(t){if(SP.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});SP.set(t,e)}let TP={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return SP.get(t);if(e==="objectStoreNames")return t.objectStoreNames||j9.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Uc(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ene(t){TP=t(TP)}function Pne(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(SN(this),e,...r);return j9.set(n,e.sort?e.sort():[e]),Uc(n)}:Nne().includes(t)?function(...e){return t.apply(SN(this),e),Uc(_9.get(this))}:function(...e){return Uc(t.apply(SN(this),e))}}function Ane(t){return typeof t=="function"?Pne(t):(t instanceof IDBTransaction&&Tne(t),_ne(t,jne())?new Proxy(t,TP):t)}function Uc(t){if(t instanceof IDBRequest)return Sne(t);if(NN.has(t))return NN.get(t);const e=Ane(t);return e!==t&&(NN.set(t,e),Mk.set(e,t)),e}const SN=t=>Mk.get(t);function N9(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Uc(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Uc(o.result),c.oldVersion,c.newVersion,Uc(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const Cne=["get","getKey","getAll","getAllKeys","count"],kne=["put","add","delete","clear"],TN=new Map;function k5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(TN.get(e))return TN.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=kne.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Cne.includes(r)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),i&&c.done]))[0]};return TN.set(e,s),s}Ene(t=>({...t,get:(e,r,n)=>k5(e,r)||t.get(e,r,n),has:(e,r)=>!!k5(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(One(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function One(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const EP="@firebase/app",I5="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new u1("@firebase/app"),Rne="@firebase/app-compat",Mne="@firebase/analytics-compat",Dne="@firebase/analytics",Lne="@firebase/app-check-compat",$ne="@firebase/app-check",Fne="@firebase/auth",Vne="@firebase/auth-compat",Bne="@firebase/database",qne="@firebase/data-connect",Une="@firebase/database-compat",zne="@firebase/functions",Wne="@firebase/functions-compat",Hne="@firebase/installations",Gne="@firebase/installations-compat",Kne="@firebase/messaging",Yne="@firebase/messaging-compat",Qne="@firebase/performance",Xne="@firebase/performance-compat",Jne="@firebase/remote-config",Zne="@firebase/remote-config-compat",eie="@firebase/storage",tie="@firebase/storage-compat",rie="@firebase/firestore",nie="@firebase/ai",iie="@firebase/firestore-compat",sie="firebase",aie="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="[DEFAULT]",oie={[EP]:"fire-core",[Rne]:"fire-core-compat",[Dne]:"fire-analytics",[Mne]:"fire-analytics-compat",[$ne]:"fire-app-check",[Lne]:"fire-app-check-compat",[Fne]:"fire-auth",[Vne]:"fire-auth-compat",[Bne]:"fire-rtdb",[qne]:"fire-data-connect",[Une]:"fire-rtdb-compat",[zne]:"fire-fn",[Wne]:"fire-fn-compat",[Hne]:"fire-iid",[Gne]:"fire-iid-compat",[Kne]:"fire-fcm",[Yne]:"fire-fcm-compat",[Qne]:"fire-perf",[Xne]:"fire-perf-compat",[Jne]:"fire-rc",[Zne]:"fire-rc-compat",[eie]:"fire-gcs",[tie]:"fire-gcs-compat",[rie]:"fire-fst",[iie]:"fire-fst-compat",[nie]:"fire-vertex","fire-js":"fire-js",[sie]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=new Map,lie=new Map,AP=new Map;function O5(t,e){try{t.container.addComponent(e)}catch(r){gl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function _a(t){const e=t.name;if(AP.has(e))return gl.debug(`There were multiple attempts to register component ${e}.`),!1;AP.set(e,t);for(const r of vb.values())O5(r,t);for(const r of lie.values())O5(r,t);return!0}function fu(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function fs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cie={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zc=new ih("app","Firebase",cie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=aie;function S9(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:PP,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw zc.create("bad-app-name",{appName:String(i)});if(r||(r=g9()),!r)throw zc.create("no-options");const s=vb.get(i);if(s){if(Xc(r,s.options)&&Xc(n,s.config))return s;throw zc.create("duplicate-app",{appName:i})}const o=new yne(i);for(const c of AP.values())o.addComponent(c);const l=new uie(r,n,o);return vb.set(i,l),l}function d1(t=PP){const e=vb.get(t);if(!e&&t===PP&&g9())return S9();if(!e)throw zc.create("no-app",{appName:t});return e}function Xi(t,e,r){let n=oie[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gl.warn(o.join(" "));return}_a(new Gs(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const die="firebase-heartbeat-database",hie=1,Qg="firebase-heartbeat-store";let EN=null;function T9(){return EN||(EN=N9(die,hie,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qg)}catch(r){console.warn(r)}}}}).catch(t=>{throw zc.create("idb-open",{originalErrorMessage:t.message})})),EN}async function fie(t){try{const r=(await T9()).transaction(Qg),n=await r.objectStore(Qg).get(E9(t));return await r.done,n}catch(e){if(e instanceof Xs)gl.warn(e.message);else{const r=zc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gl.warn(r.message)}}}async function R5(t,e){try{const n=(await T9()).transaction(Qg,"readwrite");await n.objectStore(Qg).put(e,E9(t)),await n.done}catch(r){if(r instanceof Xs)gl.warn(r.message);else{const n=zc.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});gl.warn(n.message)}}}function E9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mie=1024,pie=30;class gie{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new vie(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=M5();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>pie){const o=xie(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){gl.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=M5(),{heartbeatsToSend:n,unsentEntries:i}=yie(this._heartbeatsCache.heartbeats),s=yb(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return gl.warn(r),""}}}function M5(){return new Date().toISOString().substring(0,10)}function yie(t,e=mie){const r=[];let n=t.slice();for(const i of t){const s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),D5(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),D5(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class vie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b9()?w9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await fie(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return R5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return R5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function D5(t){return yb(JSON.stringify({version:2,heartbeats:t})).length}function xie(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bie(t){_a(new Gs("platform-logger",e=>new Ine(e),"PRIVATE")),_a(new Gs("heartbeat",e=>new gie(e),"PRIVATE")),Xi(EP,I5,t),Xi(EP,I5,"esm2020"),Xi("fire-js","")}bie("");function P9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wie=P9,A9=new ih("auth","Firebase",P9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new u1("@firebase/auth");function _ie(t,...e){xb.logLevel<=Lt.WARN&&xb.warn(`Auth (${sh}): ${t}`,...e)}function zx(t,...e){xb.logLevel<=Lt.ERROR&&xb.error(`Auth (${sh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t,...e){throw Dk(t,...e)}function ao(t,...e){return Dk(t,...e)}function C9(t,e,r){const n={...wie(),[e]:r};return new ih("auth","Firebase",n).create(e,{appName:t.name})}function cl(t){return C9(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dk(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return A9.create(t,...e)}function dt(t,e,...r){if(!t)throw Dk(e,...r)}function rl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zx(e),new Error(e)}function yl(t,e){t||rl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function jie(){return L5()==="http:"||L5()==="https:"}function L5(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nie(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jie()||x9()||"connection"in navigator)?navigator.onLine:!0}function Sie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,r){this.shortDelay=e,this.longDelay=r,yl(r>e,"Short delay should be less than long delay!"),this.isMobile=Qre()||Zre()}get(){return Nie()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(t,e){yl(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eie=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Pie=new d0(3e4,6e4);function Rl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ml(t,e,r,n,i={}){return I9(t,i,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const l=u0({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...s};return Jre()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&nh(t.emulatorConfig.host)&&(d.credentials="include"),k9.fetch()(await O9(t,t.config.apiHost,r,l),d)})}async function I9(t,e,r){t._canInitEmulator=!1;const n={...Tie,...e};try{const i=new Cie(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ox(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ox(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ox(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ox(t,"user-disabled",o);const f=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw C9(t,f,d);ja(t,f)}}catch(i){if(i instanceof Xs)throw i;ja(t,"network-request-failed",{message:String(i)})}}async function h0(t,e,r,n,i={}){const s=await Ml(t,e,r,n,i);return"mfaPendingCredential"in s&&ja(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function O9(t,e,r,n){const i=`${e}${r}?${n}`,s=t,o=s.config.emulator?Lk(t.config,i):`${t.config.apiScheme}://${i}`;return Eie.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Aie(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Cie{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ao(this.auth,"network-request-failed")),Pie.get())})}}function ox(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ao(t,e,n);return i.customData._tokenResponse=r,i}function $5(t){return t!==void 0&&t.enterprise!==void 0}class kie{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Aie(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Iie(t,e){return Ml(t,"GET","/v2/recaptchaConfig",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oie(t,e){return Ml(t,"POST","/v1/accounts:delete",e)}async function bb(t,e){return Ml(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Rie(t,e=!1){const r=Gr(t),n=await r.getIdToken(e),i=$k(n);dt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Ag(PN(i.auth_time)),issuedAtTime:Ag(PN(i.iat)),expirationTime:Ag(PN(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function PN(t){return Number(t)*1e3}function $k(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return zx("JWT malformed, contained fewer than 3 sections"),null;try{const i=f9(r);return i?JSON.parse(i):(zx("Failed to decode base64 JWT payload"),null)}catch(i){return zx("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function F5(t){const e=$k(t);return dt(e,"internal-error"),dt(typeof e.exp<"u","internal-error"),dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xg(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Xs&&Mie(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Mie({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Die{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ag(this.lastLoginAt),this.creationTime=Ag(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(t){var m;const e=t.auth,r=await t.getIdToken(),n=await Xg(t,bb(e,{idToken:r}));dt(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?R9(i.providerUserInfo):[],o=$ie(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new kP(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Lie(t){const e=Gr(t);await wb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $ie(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function R9(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fie(t,e){const r=await I9(t,{},async()=>{const n=u0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await O9(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&nh(t.emulatorConfig.host)&&(c.credentials="include"),k9.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Vie(t,e){return Ml(t,"POST","/v2/accounts:revokeToken",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dt(e.idToken,"internal-error"),dt(typeof e.idToken<"u","internal-error"),dt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){dt(e.length!==0,"internal-error");const r=F5(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await Fie(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,o=new Nf;return n&&(dt(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(dt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(dt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nf,this.toJSON())}_performRefresh(){return rl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t,e){dt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ya{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new Die(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kP(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Xg(this,this.stsTokenManager.getToken(this.auth,e));return dt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Rie(this,e)}reload(){return Lie(this)}_assign(e){this!==e&&(dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ya({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await wb(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fs(this.auth.app))return Promise.reject(cl(this.auth));const e=await this.getIdToken();return await Xg(this,Oie(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,s=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,d=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:v,providerData:w,stsTokenManager:x}=r;dt(m&&x,e,"internal-error");const g=Nf.fromJSON(this.name,x);dt(typeof m=="string",e,"internal-error"),mc(n,e.name),mc(i,e.name),dt(typeof p=="boolean",e,"internal-error"),dt(typeof v=="boolean",e,"internal-error"),mc(s,e.name),mc(o,e.name),mc(l,e.name),mc(c,e.name),mc(d,e.name),mc(f,e.name);const _=new ya({uid:m,auth:e,email:i,emailVerified:p,displayName:n,isAnonymous:v,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:g,createdAt:d,lastLoginAt:f});return w&&Array.isArray(w)&&(_.providerData=w.map(T=>({...T}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,r,n=!1){const i=new Nf;i.updateFromServerResponse(r);const s=new ya({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await wb(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];dt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?R9(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Nf;l.updateFromIdToken(n);const c=new ya({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new kP(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=new Map;function nl(t){yl(t instanceof Function,"Expected a class definition");let e=V5.get(t);return e?(yl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,V5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}M9.type="NONE";const B5=M9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t,e,r){return`firebase:${t}:${e}:${r}`}class Sf{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Wx(this.userKey,i.apiKey,s),this.fullPersistenceKey=Wx("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await bb(this.auth,{idToken:e}).catch(()=>{});return r?ya._fromGetAccountInfoResponse(this.auth,r,e):null}return ya._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Sf(nl(B5),e,n);const i=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||nl(B5);const o=Wx(n,e.config.apiKey,e.name);let l=null;for(const d of r)try{const f=await d._get(o);if(f){let m;if(typeof f=="string"){const p=await bb(e,{idToken:f}).catch(()=>{});if(!p)break;m=await ya._fromGetAccountInfoResponse(e,p,f)}else m=ya._fromJSON(e,f);d!==s&&(l=m),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Sf(s,e,n):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(r.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new Sf(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B9(e))return"Blackberry";if(q9(e))return"Webos";if(L9(e))return"Safari";if((e.includes("chrome/")||$9(e))&&!e.includes("edge/"))return"Chrome";if(V9(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function D9(t=mi()){return/firefox\//i.test(t)}function L9(t=mi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $9(t=mi()){return/crios\//i.test(t)}function F9(t=mi()){return/iemobile/i.test(t)}function V9(t=mi()){return/android/i.test(t)}function B9(t=mi()){return/blackberry/i.test(t)}function q9(t=mi()){return/webos/i.test(t)}function Fk(t=mi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Bie(t=mi()){var e;return Fk(t)&&!!((e=window.navigator)!=null&&e.standalone)}function qie(){return ene()&&document.documentMode===10}function U9(t=mi()){return Fk(t)||V9(t)||q9(t)||B9(t)||/windows phone/i.test(t)||F9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t,e=[]){let r;switch(t){case"Browser":r=q5(mi());break;case"Worker":r=`${q5(mi())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${sh}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zie(t,e={}){return Ml(t,"GET","/v2/passwordPolicy",Rl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wie=6;class Hie{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??Wie,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gie{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U5(this),this.idTokenSubscription=new U5(this),this.beforeStateQueue=new Uie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=nl(r)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await Sf.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await bb(this,{idToken:e}),n=await ya._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(fs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await wb(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Sie()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fs(this.app))return Promise.reject(cl(this));const r=e?Gr(e):null;return r&&dt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&dt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fs(this.app)?Promise.reject(cl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fs(this.app)?Promise.reject(cl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zie(this),r=new Hie(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ih("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Vie(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&nl(e)||this._popupRedirectResolver;dt(r,this,"argument-error"),this.redirectPersistenceManager=await Sf.create(this,[nl(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=z9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(fs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&_ie(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function mu(t){return Gr(t)}let U5=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=one(r=>this.observer=r)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kie(t){h1=t}function W9(t){return h1.loadJS(t)}function Yie(){return h1.recaptchaEnterpriseScript}function Qie(){return h1.gapiScript}function Xie(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Jie{constructor(){this.enterprise=new Zie}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Zie{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const ese="recaptcha-enterprise",H9="NO_RECAPTCHA";class tse{constructor(e){this.type=ese,this.auth=mu(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{Iie(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new kie(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;$5(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(H9)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jie().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(l=>{if(!r&&$5(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Yie();c.length!==0&&(c+=l),W9(c).then(()=>{i(l,s,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function z5(t,e,r,n=!1,i=!1){const s=new tse(t);let o;if(i)o=H9;else try{o=await s.verify(r)}catch{o=await s.verify(r,!0)}const l={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function _b(t,e,r,n,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await z5(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await z5(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rse(t,e){const r=fu(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Xc(s,e??{}))return i;ja(i,"already-initialized")}return r.initialize({options:e})}function nse(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(nl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function ise(t,e,r){const n=mu(t);dt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=G9(e),{host:o,port:l}=sse(e),c=l===null?"":`:${l}`,d={url:`${s}//${o}${c}/`},f=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){dt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),dt(Xc(d,n.config.emulator)&&Xc(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,nh(o)?(Ok(`${s}//${o}${c}`),Rk("Auth",!0)):ase()}function G9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sse(t){const e=G9(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:W5(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:W5(o)}}}function W5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ase(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return rl("not implemented")}_getIdTokenResponse(e){return rl("not implemented")}_linkToIdToken(e,r){return rl("not implemented")}_getReauthenticationResolver(e){return rl("not implemented")}}async function ose(t,e){return Ml(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lse(t,e){return h0(t,"POST","/v1/accounts:signInWithPassword",Rl(t,e))}async function cse(t,e){return Ml(t,"POST","/v1/accounts:sendOobCode",Rl(t,e))}async function use(t,e){return cse(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dse(t,e){return h0(t,"POST","/v1/accounts:signInWithEmailLink",Rl(t,e))}async function hse(t,e){return h0(t,"POST","/v1/accounts:signInWithEmailLink",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends Vk{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Jg(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Jg(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _b(e,r,"signInWithPassword",lse);case"emailLink":return dse(e,{email:this._email,oobCode:this._password});default:ja(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _b(e,n,"signUpPassword",ose);case"emailLink":return hse(e,{idToken:r,email:this._email,oobCode:this._password});default:ja(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tf(t,e){return h0(t,"POST","/v1/accounts:signInWithIdp",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fse="http://localhost";class Dd extends Vk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Dd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ja("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=r;if(!n||!i)return null;const o=new Dd(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Tf(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Tf(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Tf(e,r)}buildRequest(){const e={requestUri:fse,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=u0(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mse(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pse(t){const e=mg(pg(t)).link,r=e?mg(pg(e)).deep_link_id:null,n=mg(pg(t)).deep_link_id;return(n?mg(pg(n)).link:null)||n||r||e||t}class Bk{constructor(e){const r=mg(pg(e)),n=r.apiKey??null,i=r.oobCode??null,s=mse(r.mode??null);dt(n&&i&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=pse(e);try{return new Bk(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.providerId=Rm.PROVIDER_ID}static credential(e,r){return Jg._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Bk.parseLink(r);return dt(n,"argument-error"),Jg._fromEmailAndCode(e,n.code,n.tenantId)}}Rm.PROVIDER_ID="password";Rm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends K9{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends f0{constructor(){super("facebook.com")}static credential(e){return Dd._fromParams({providerId:jc.PROVIDER_ID,signInMethod:jc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jc.credentialFromTaggedObject(e)}static credentialFromError(e){return jc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jc.credential(e.oauthAccessToken)}catch{return null}}}jc.FACEBOOK_SIGN_IN_METHOD="facebook.com";jc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends f0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Dd._fromParams({providerId:Nc.PROVIDER_ID,signInMethod:Nc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Nc.credentialFromTaggedObject(e)}static credentialFromError(e){return Nc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Nc.credential(r,n)}catch{return null}}}Nc.GOOGLE_SIGN_IN_METHOD="google.com";Nc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends f0{constructor(){super("github.com")}static credential(e){return Dd._fromParams({providerId:Sc.PROVIDER_ID,signInMethod:Sc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sc.credentialFromTaggedObject(e)}static credentialFromError(e){return Sc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sc.credential(e.oauthAccessToken)}catch{return null}}}Sc.GITHUB_SIGN_IN_METHOD="github.com";Sc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends f0{constructor(){super("twitter.com")}static credential(e,r){return Dd._fromParams({providerId:Tc.PROVIDER_ID,signInMethod:Tc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Tc.credentialFromTaggedObject(e)}static credentialFromError(e){return Tc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Tc.credential(r,n)}catch{return null}}}Tc.TWITTER_SIGN_IN_METHOD="twitter.com";Tc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gse(t,e){return h0(t,"POST","/v1/accounts:signUp",Rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await ya._fromIdTokenResponse(e,n,i),o=H5(n);return new Ld({user:s,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=H5(n);return new Ld({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function H5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb extends Xs{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,jb.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new jb(e,r,n,i)}}function Y9(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?jb._fromErrorAndOperation(t,s,e,n):s})}async function yse(t,e,r=!1){const n=await Xg(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ld._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vse(t,e,r=!1){const{auth:n}=t;if(fs(n.app))return Promise.reject(cl(n));const i="reauthenticate";try{const s=await Xg(t,Y9(n,i,e,t),r);dt(s.idToken,n,"internal-error");const o=$k(s.idToken);dt(o,n,"internal-error");const{sub:l}=o;return dt(t.uid===l,n,"user-mismatch"),Ld._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ja(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(t,e,r=!1){if(fs(t.app))return Promise.reject(cl(t));const n="signIn",i=await Y9(t,n,e),s=await Ld._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function xse(t,e){return Q9(mu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X9(t){const e=mu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bse(t,e,r){const n=mu(t);await _b(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",use)}async function wse(t,e,r){if(fs(t.app))return Promise.reject(cl(t));const n=mu(t),o=await _b(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gse).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&X9(t),c}),l=await Ld._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function _se(t,e,r){return fs(t.app)?Promise.reject(cl(t)):xse(Gr(t),Rm.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&X9(t),n})}function jse(t,e,r,n){return Gr(t).onIdTokenChanged(e,r,n)}function Nse(t,e,r){return Gr(t).beforeAuthStateChanged(e,r)}function J9(t,e,r,n){return Gr(t).onAuthStateChanged(e,r,n)}function Z9(t){return Gr(t).signOut()}const Nb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Nb,"1"),this.storage.removeItem(Nb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sse=1e3,Tse=10;class t7 extends e7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);qie()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Tse):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Sse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}t7.type="LOCAL";const Ese=t7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7 extends e7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}r7.type="SESSION";const n7=r7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pse(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new f1(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async d=>d(r.origin,s)),c=await Pse(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}f1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const d=qk("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(){return window}function Cse(t){oo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(){return typeof oo().WorkerGlobalScope<"u"&&typeof oo().importScripts=="function"}async function kse(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ise(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Ose(){return i7()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7="firebaseLocalStorageDb",Rse=1,Sb="firebaseLocalStorage",a7="fbase_key";class m0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function m1(t,e){return t.transaction([Sb],e?"readwrite":"readonly").objectStore(Sb)}function Mse(){const t=indexedDB.deleteDatabase(s7);return new m0(t).toPromise()}function IP(){const t=indexedDB.open(s7,Rse);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Sb,{keyPath:a7})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Sb)?e(n):(n.close(),await Mse(),e(await IP()))})})}async function G5(t,e,r){const n=m1(t,!0).put({[a7]:e,value:r});return new m0(n).toPromise()}async function Dse(t,e){const r=m1(t,!1).get(e),n=await new m0(r).toPromise();return n===void 0?null:n.value}function K5(t,e){const r=m1(t,!0).delete(e);return new m0(r).toPromise()}const Lse=800,$se=3;class o7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await IP(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>$se)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=f1._getInstance(Ose()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await kse(),!this.activeServiceWorker)return;this.sender=new Ase(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ise()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await IP();return await G5(e,Nb,"1"),await K5(e,Nb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>G5(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Dse(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>K5(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=m1(i,!1).getAll();return new m0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o7.type="LOCAL";const Fse=o7;new d0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vse(t,e){return e?nl(e):(dt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk extends Vk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tf(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Tf(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Tf(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Bse(t){return Q9(t.auth,new Uk(t),t.bypassAuthState)}function qse(t){const{auth:e,user:r}=t;return dt(r,e,"internal-error"),vse(r,new Uk(t),t.bypassAuthState)}async function Use(t){const{auth:e,user:r}=t;return dt(r,e,"internal-error"),yse(r,new Uk(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bse;case"linkViaPopup":case"linkViaRedirect":return Use;case"reauthViaPopup":case"reauthViaRedirect":return qse;default:ja(this.auth,"internal-error")}}resolve(e){yl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zse=new d0(2e3,1e4);class hf extends l7{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,hf.currentPopupAction&&hf.currentPopupAction.cancel(),hf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return dt(e,this.auth,"internal-error"),e}async onExecution(){yl(this.filter.length===1,"Popup operations only handle one event");const e=qk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ao(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ao(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ao(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zse.get())};e()}}hf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wse="pendingRedirect",Hx=new Map;class Hse extends l7{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Hx.get(this.auth._key());if(!e){try{const n=await Gse(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Hx.set(this.auth._key(),e)}return this.bypassAuthState||Hx.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gse(t,e){const r=Qse(e),n=Yse(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Kse(t,e){Hx.set(t._key(),e)}function Yse(t){return nl(t._redirectPersistence)}function Qse(t){return Wx(Wse,t.config.apiKey,t.name)}async function Xse(t,e,r=!1){if(fs(t.app))return Promise.reject(cl(t));const n=mu(t),i=Vse(n,e),o=await new Hse(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jse=600*1e3;class Zse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eae(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!c7(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(ao(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Jse&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y5(e))}saveEventToCache(e){this.cachedEventUids.add(Y5(e)),this.lastProcessedEventTime=Date.now()}}function Y5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function c7({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eae(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c7(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tae(t,e={}){return Ml(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nae=/^https?/;async function iae(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tae(t);for(const r of e)try{if(sae(r))return}catch{}ja(t,"unauthorized-domain")}function sae(t){const e=CP(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!nae.test(r))return!1;if(rae.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aae=new d0(3e4,6e4);function Q5(){const t=oo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function oae(t){return new Promise((e,r)=>{var i,s,o;function n(){Q5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q5(),r(ao(t,"network-request-failed"))},timeout:aae.get()})}if((s=(i=oo().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=oo().gapi)!=null&&o.load)n();else{const l=Xie("iframefcb");return oo()[l]=()=>{gapi.load?n():r(ao(t,"network-request-failed"))},W9(`${Qie()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Gx=null,e})}let Gx=null;function lae(t){return Gx=Gx||oae(t),Gx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cae=new d0(5e3,15e3),uae="__/auth/iframe",dae="emulator/auth/iframe",hae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mae(t){const e=t.config;dt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Lk(e,dae):`https://${t.config.authDomain}/${uae}`,n={apiKey:e.apiKey,appName:t.name,v:sh},i=fae.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${u0(n).slice(1)}`}async function pae(t){const e=await lae(t),r=oo().gapi;return dt(r,t,"internal-error"),e.open({where:document.body,url:mae(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hae,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const o=ao(t,"network-request-failed"),l=oo().setTimeout(()=>{s(o)},cae.get());function c(){oo().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yae=500,vae=600,xae="_blank",bae="http://localhost";class X5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wae(t,e,r,n=yae,i=vae){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...gae,width:n.toString(),height:i.toString(),top:s,left:o},d=mi().toLowerCase();r&&(l=$9(d)?xae:r),D9(d)&&(e=e||bae,c.scrollbars="yes");const f=Object.entries(c).reduce((p,[v,w])=>`${p}${v}=${w},`,"");if(Bie(d)&&l!=="_self")return _ae(e||"",l),new X5(null);const m=window.open(e||"",l,f);dt(m,t,"popup-blocked");try{m.focus()}catch{}return new X5(m)}function _ae(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jae="__/auth/handler",Nae="emulator/auth/handler",Sae=encodeURIComponent("fac");async function J5(t,e,r,n,i,s){dt(t.config.authDomain,t,"auth-domain-config-required"),dt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:sh,eventId:i};if(e instanceof K9){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ane(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof f0){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),d=c?`#${Sae}=${encodeURIComponent(c)}`:"";return`${Tae(t)}?${u0(l).slice(1)}${d}`}function Tae({config:t}){return t.emulator?Lk(t,Nae):`https://${t.authDomain}/${jae}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="webStorageSupport";class Eae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n7,this._completeRedirectFn=Xse,this._overrideRedirectResult=Kse}async _openPopup(e,r,n,i){var o;yl((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await J5(e,r,n,CP(),i);return wae(e,s,qk())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await J5(e,r,n,CP(),i);return Cse(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(yl(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await pae(e),n=new Zse(e);return r.register("authEvent",i=>(dt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(AN,{type:AN},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[AN];s!==void 0&&r(!!s),ja(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=iae(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return U9()||L9()||Fk()}}const Pae=Eae;var Z5="@firebase/auth",e3="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kae(t){_a(new Gs("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;dt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z9(t)},d=new Gie(n,i,s,c);return nse(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),_a(new Gs("auth-internal",e=>{const r=mu(e.getProvider("auth").getImmediate());return(n=>new Aae(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(Z5,e3,Cae(t)),Xi(Z5,e3,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iae=300,Oae=y9("authIdTokenMaxAge")||Iae;let t3=null;const Rae=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Oae)return;const i=r==null?void 0:r.token;t3!==i&&(t3=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Zg(t=d1()){const e=fu(t,"auth");if(e.isInitialized())return e.getImmediate();const r=rse(t,{popupRedirectResolver:Pae,persistence:[Fse,Ese,n7]}),n=y9("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=Rae(s.toString());Nse(r,o,()=>o(r.currentUser)),jse(r,l=>o(l))}}const i=m9("auth");return i&&ise(r,`http://${i}`),r}function Mae(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Kie({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=ao("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",Mae().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kae("Browser");var Dae="firebase",Lae="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(Dae,Lae,"app");var r3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wc,u7;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,j){function O(){}O.prototype=j.prototype,E.F=j.prototype,E.prototype=new O,E.prototype.constructor=E,E.D=function(R,L,$){for(var F=Array(arguments.length-2),G=2;G<arguments.length;G++)F[G-2]=arguments[G];return j.prototype[L].apply(R,F)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,j,O){O||(O=0);const R=Array(16);if(typeof j=="string")for(var L=0;L<16;++L)R[L]=j.charCodeAt(O++)|j.charCodeAt(O++)<<8|j.charCodeAt(O++)<<16|j.charCodeAt(O++)<<24;else for(L=0;L<16;++L)R[L]=j[O++]|j[O++]<<8|j[O++]<<16|j[O++]<<24;j=E.g[0],O=E.g[1],L=E.g[2];let $=E.g[3],F;F=j+($^O&(L^$))+R[0]+3614090360&4294967295,j=O+(F<<7&4294967295|F>>>25),F=$+(L^j&(O^L))+R[1]+3905402710&4294967295,$=j+(F<<12&4294967295|F>>>20),F=L+(O^$&(j^O))+R[2]+606105819&4294967295,L=$+(F<<17&4294967295|F>>>15),F=O+(j^L&($^j))+R[3]+3250441966&4294967295,O=L+(F<<22&4294967295|F>>>10),F=j+($^O&(L^$))+R[4]+4118548399&4294967295,j=O+(F<<7&4294967295|F>>>25),F=$+(L^j&(O^L))+R[5]+1200080426&4294967295,$=j+(F<<12&4294967295|F>>>20),F=L+(O^$&(j^O))+R[6]+2821735955&4294967295,L=$+(F<<17&4294967295|F>>>15),F=O+(j^L&($^j))+R[7]+4249261313&4294967295,O=L+(F<<22&4294967295|F>>>10),F=j+($^O&(L^$))+R[8]+1770035416&4294967295,j=O+(F<<7&4294967295|F>>>25),F=$+(L^j&(O^L))+R[9]+2336552879&4294967295,$=j+(F<<12&4294967295|F>>>20),F=L+(O^$&(j^O))+R[10]+4294925233&4294967295,L=$+(F<<17&4294967295|F>>>15),F=O+(j^L&($^j))+R[11]+2304563134&4294967295,O=L+(F<<22&4294967295|F>>>10),F=j+($^O&(L^$))+R[12]+1804603682&4294967295,j=O+(F<<7&4294967295|F>>>25),F=$+(L^j&(O^L))+R[13]+4254626195&4294967295,$=j+(F<<12&4294967295|F>>>20),F=L+(O^$&(j^O))+R[14]+2792965006&4294967295,L=$+(F<<17&4294967295|F>>>15),F=O+(j^L&($^j))+R[15]+1236535329&4294967295,O=L+(F<<22&4294967295|F>>>10),F=j+(L^$&(O^L))+R[1]+4129170786&4294967295,j=O+(F<<5&4294967295|F>>>27),F=$+(O^L&(j^O))+R[6]+3225465664&4294967295,$=j+(F<<9&4294967295|F>>>23),F=L+(j^O&($^j))+R[11]+643717713&4294967295,L=$+(F<<14&4294967295|F>>>18),F=O+($^j&(L^$))+R[0]+3921069994&4294967295,O=L+(F<<20&4294967295|F>>>12),F=j+(L^$&(O^L))+R[5]+3593408605&4294967295,j=O+(F<<5&4294967295|F>>>27),F=$+(O^L&(j^O))+R[10]+38016083&4294967295,$=j+(F<<9&4294967295|F>>>23),F=L+(j^O&($^j))+R[15]+3634488961&4294967295,L=$+(F<<14&4294967295|F>>>18),F=O+($^j&(L^$))+R[4]+3889429448&4294967295,O=L+(F<<20&4294967295|F>>>12),F=j+(L^$&(O^L))+R[9]+568446438&4294967295,j=O+(F<<5&4294967295|F>>>27),F=$+(O^L&(j^O))+R[14]+3275163606&4294967295,$=j+(F<<9&4294967295|F>>>23),F=L+(j^O&($^j))+R[3]+4107603335&4294967295,L=$+(F<<14&4294967295|F>>>18),F=O+($^j&(L^$))+R[8]+1163531501&4294967295,O=L+(F<<20&4294967295|F>>>12),F=j+(L^$&(O^L))+R[13]+2850285829&4294967295,j=O+(F<<5&4294967295|F>>>27),F=$+(O^L&(j^O))+R[2]+4243563512&4294967295,$=j+(F<<9&4294967295|F>>>23),F=L+(j^O&($^j))+R[7]+1735328473&4294967295,L=$+(F<<14&4294967295|F>>>18),F=O+($^j&(L^$))+R[12]+2368359562&4294967295,O=L+(F<<20&4294967295|F>>>12),F=j+(O^L^$)+R[5]+4294588738&4294967295,j=O+(F<<4&4294967295|F>>>28),F=$+(j^O^L)+R[8]+2272392833&4294967295,$=j+(F<<11&4294967295|F>>>21),F=L+($^j^O)+R[11]+1839030562&4294967295,L=$+(F<<16&4294967295|F>>>16),F=O+(L^$^j)+R[14]+4259657740&4294967295,O=L+(F<<23&4294967295|F>>>9),F=j+(O^L^$)+R[1]+2763975236&4294967295,j=O+(F<<4&4294967295|F>>>28),F=$+(j^O^L)+R[4]+1272893353&4294967295,$=j+(F<<11&4294967295|F>>>21),F=L+($^j^O)+R[7]+4139469664&4294967295,L=$+(F<<16&4294967295|F>>>16),F=O+(L^$^j)+R[10]+3200236656&4294967295,O=L+(F<<23&4294967295|F>>>9),F=j+(O^L^$)+R[13]+681279174&4294967295,j=O+(F<<4&4294967295|F>>>28),F=$+(j^O^L)+R[0]+3936430074&4294967295,$=j+(F<<11&4294967295|F>>>21),F=L+($^j^O)+R[3]+3572445317&4294967295,L=$+(F<<16&4294967295|F>>>16),F=O+(L^$^j)+R[6]+76029189&4294967295,O=L+(F<<23&4294967295|F>>>9),F=j+(O^L^$)+R[9]+3654602809&4294967295,j=O+(F<<4&4294967295|F>>>28),F=$+(j^O^L)+R[12]+3873151461&4294967295,$=j+(F<<11&4294967295|F>>>21),F=L+($^j^O)+R[15]+530742520&4294967295,L=$+(F<<16&4294967295|F>>>16),F=O+(L^$^j)+R[2]+3299628645&4294967295,O=L+(F<<23&4294967295|F>>>9),F=j+(L^(O|~$))+R[0]+4096336452&4294967295,j=O+(F<<6&4294967295|F>>>26),F=$+(O^(j|~L))+R[7]+1126891415&4294967295,$=j+(F<<10&4294967295|F>>>22),F=L+(j^($|~O))+R[14]+2878612391&4294967295,L=$+(F<<15&4294967295|F>>>17),F=O+($^(L|~j))+R[5]+4237533241&4294967295,O=L+(F<<21&4294967295|F>>>11),F=j+(L^(O|~$))+R[12]+1700485571&4294967295,j=O+(F<<6&4294967295|F>>>26),F=$+(O^(j|~L))+R[3]+2399980690&4294967295,$=j+(F<<10&4294967295|F>>>22),F=L+(j^($|~O))+R[10]+4293915773&4294967295,L=$+(F<<15&4294967295|F>>>17),F=O+($^(L|~j))+R[1]+2240044497&4294967295,O=L+(F<<21&4294967295|F>>>11),F=j+(L^(O|~$))+R[8]+1873313359&4294967295,j=O+(F<<6&4294967295|F>>>26),F=$+(O^(j|~L))+R[15]+4264355552&4294967295,$=j+(F<<10&4294967295|F>>>22),F=L+(j^($|~O))+R[6]+2734768916&4294967295,L=$+(F<<15&4294967295|F>>>17),F=O+($^(L|~j))+R[13]+1309151649&4294967295,O=L+(F<<21&4294967295|F>>>11),F=j+(L^(O|~$))+R[4]+4149444226&4294967295,j=O+(F<<6&4294967295|F>>>26),F=$+(O^(j|~L))+R[11]+3174756917&4294967295,$=j+(F<<10&4294967295|F>>>22),F=L+(j^($|~O))+R[2]+718787259&4294967295,L=$+(F<<15&4294967295|F>>>17),F=O+($^(L|~j))+R[9]+3951481745&4294967295,E.g[0]=E.g[0]+j&4294967295,E.g[1]=E.g[1]+(L+(F<<21&4294967295|F>>>11))&4294967295,E.g[2]=E.g[2]+L&4294967295,E.g[3]=E.g[3]+$&4294967295}n.prototype.v=function(E,j){j===void 0&&(j=E.length);const O=j-this.blockSize,R=this.C;let L=this.h,$=0;for(;$<j;){if(L==0)for(;$<=O;)i(this,E,$),$+=this.blockSize;if(typeof E=="string"){for(;$<j;)if(R[L++]=E.charCodeAt($++),L==this.blockSize){i(this,R),L=0;break}}else for(;$<j;)if(R[L++]=E[$++],L==this.blockSize){i(this,R),L=0;break}}this.h=L,this.o+=j},n.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var j=1;j<E.length-8;++j)E[j]=0;j=this.o*8;for(var O=E.length-8;O<E.length;++O)E[O]=j&255,j/=256;for(this.v(E),E=Array(16),j=0,O=0;O<4;++O)for(let R=0;R<32;R+=8)E[j++]=this.g[O]>>>R&255;return E};function s(E,j){var O=l;return Object.prototype.hasOwnProperty.call(O,E)?O[E]:O[E]=j(E)}function o(E,j){this.h=j;const O=[];let R=!0;for(let L=E.length-1;L>=0;L--){const $=E[L]|0;R&&$==j||(O[L]=$,R=!1)}this.g=O}var l={};function c(E){return-128<=E&&E<128?s(E,function(j){return new o([j|0],j<0?-1:0)}):new o([E|0],E<0?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return m;if(E<0)return g(d(-E));const j=[];let O=1;for(let R=0;E>=O;R++)j[R]=E/O|0,O*=4294967296;return new o(j,0)}function f(E,j){if(E.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(E.charAt(0)=="-")return g(f(E.substring(1),j));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=d(Math.pow(j,8));let R=m;for(let $=0;$<E.length;$+=8){var L=Math.min(8,E.length-$);const F=parseInt(E.substring($,$+L),j);L<8?(L=d(Math.pow(j,L)),R=R.j(L).add(d(F))):(R=R.j(O),R=R.add(d(F)))}return R}var m=c(0),p=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-g(this).m();let E=0,j=1;for(let O=0;O<this.g.length;O++){const R=this.i(O);E+=(R>=0?R:4294967296+R)*j,j*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(w(this))return"0";if(x(this))return"-"+g(this).toString(E);const j=d(Math.pow(E,6));var O=this;let R="";for(;;){const L=k(O,j).g;O=_(O,L.j(j));let $=((O.g.length>0?O.g[0]:O.h)>>>0).toString(E);if(O=L,w(O))return $+R;for(;$.length<6;)$="0"+$;R=$+R}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function w(E){if(E.h!=0)return!1;for(let j=0;j<E.g.length;j++)if(E.g[j]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=_(this,E),x(E)?-1:w(E)?0:1};function g(E){const j=E.g.length,O=[];for(let R=0;R<j;R++)O[R]=~E.g[R];return new o(O,~E.h).add(p)}t.abs=function(){return x(this)?g(this):this},t.add=function(E){const j=Math.max(this.g.length,E.g.length),O=[];let R=0;for(let L=0;L<=j;L++){let $=R+(this.i(L)&65535)+(E.i(L)&65535),F=($>>>16)+(this.i(L)>>>16)+(E.i(L)>>>16);R=F>>>16,$&=65535,F&=65535,O[L]=F<<16|$}return new o(O,O[O.length-1]&-2147483648?-1:0)};function _(E,j){return E.add(g(j))}t.j=function(E){if(w(this)||w(E))return m;if(x(this))return x(E)?g(this).j(g(E)):g(g(this).j(E));if(x(E))return g(this.j(g(E)));if(this.l(v)<0&&E.l(v)<0)return d(this.m()*E.m());const j=this.g.length+E.g.length,O=[];for(var R=0;R<2*j;R++)O[R]=0;for(R=0;R<this.g.length;R++)for(let L=0;L<E.g.length;L++){const $=this.i(R)>>>16,F=this.i(R)&65535,G=E.i(L)>>>16,K=E.i(L)&65535;O[2*R+2*L]+=F*K,T(O,2*R+2*L),O[2*R+2*L+1]+=$*K,T(O,2*R+2*L+1),O[2*R+2*L+1]+=F*G,T(O,2*R+2*L+1),O[2*R+2*L+2]+=$*G,T(O,2*R+2*L+2)}for(E=0;E<j;E++)O[E]=O[2*E+1]<<16|O[2*E];for(E=j;E<2*j;E++)O[E]=0;return new o(O,0)};function T(E,j){for(;(E[j]&65535)!=E[j];)E[j+1]+=E[j]>>>16,E[j]&=65535,j++}function P(E,j){this.g=E,this.h=j}function k(E,j){if(w(j))throw Error("division by zero");if(w(E))return new P(m,m);if(x(E))return j=k(g(E),j),new P(g(j.g),g(j.h));if(x(j))return j=k(E,g(j)),new P(g(j.g),j.h);if(E.g.length>30){if(x(E)||x(j))throw Error("slowDivide_ only works with positive integers.");for(var O=p,R=j;R.l(E)<=0;)O=A(O),R=A(R);var L=C(O,1),$=C(R,1);for(R=C(R,2),O=C(O,2);!w(R);){var F=$.add(R);F.l(E)<=0&&(L=L.add(O),$=F),R=C(R,1),O=C(O,1)}return j=_(E,L.j(j)),new P(L,j)}for(L=m;E.l(j)>=0;){for(O=Math.max(1,Math.floor(E.m()/j.m())),R=Math.ceil(Math.log(O)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),$=d(O),F=$.j(j);x(F)||F.l(E)>0;)O-=R,$=d(O),F=$.j(j);w($)&&($=p),L=L.add($),E=_(E,F)}return new P(L,E)}t.B=function(E){return k(this,E).h},t.and=function(E){const j=Math.max(this.g.length,E.g.length),O=[];for(let R=0;R<j;R++)O[R]=this.i(R)&E.i(R);return new o(O,this.h&E.h)},t.or=function(E){const j=Math.max(this.g.length,E.g.length),O=[];for(let R=0;R<j;R++)O[R]=this.i(R)|E.i(R);return new o(O,this.h|E.h)},t.xor=function(E){const j=Math.max(this.g.length,E.g.length),O=[];for(let R=0;R<j;R++)O[R]=this.i(R)^E.i(R);return new o(O,this.h^E.h)};function A(E){const j=E.g.length+1,O=[];for(let R=0;R<j;R++)O[R]=E.i(R)<<1|E.i(R-1)>>>31;return new o(O,E.h)}function C(E,j){const O=j>>5;j%=32;const R=E.g.length-O,L=[];for(let $=0;$<R;$++)L[$]=j>0?E.i($+O)>>>j|E.i($+O+1)<<32-j:E.i($+O);return new o(L,E.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,u7=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Wc=o}).apply(typeof r3<"u"?r3:typeof self<"u"?self:typeof window<"u"?window:{});var lx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d7,gg,h7,Kx,OP,f7,m7,p7;(function(){var t,e=Object.defineProperty;function r(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof lx=="object"&&lx];for(var D=0;D<b.length;++D){var V=b[D];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var n=r(this);function i(b,D){if(D)e:{var V=n;b=b.split(".");for(var q=0;q<b.length-1;q++){var ae=b[q];if(!(ae in V))break e;V=V[ae]}b=b[b.length-1],q=V[b],D=D(q),D!=q&&D!=null&&e(V,b,{configurable:!0,writable:!0,value:D})}}i("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(b){return b||function(D){var V=[],q;for(q in D)Object.prototype.hasOwnProperty.call(D,q)&&V.push([q,D[q]]);return V}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(b){var D=typeof b;return D=="object"&&b!=null||D=="function"}function c(b,D,V){return b.call.apply(b.bind,arguments)}function d(b,D,V){return d=c,d.apply(null,arguments)}function f(b,D){var V=Array.prototype.slice.call(arguments,1);return function(){var q=V.slice();return q.push.apply(q,arguments),b.apply(this,q)}}function m(b,D){function V(){}V.prototype=D.prototype,b.Z=D.prototype,b.prototype=new V,b.prototype.constructor=b,b.Ob=function(q,ae,he){for(var Me=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)Me[wt-2]=arguments[wt];return D.prototype[ae].apply(q,Me)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function v(b){const D=b.length;if(D>0){const V=Array(D);for(let q=0;q<D;q++)V[q]=b[q];return V}return[]}function w(b,D){for(let q=1;q<arguments.length;q++){const ae=arguments[q];var V=typeof ae;if(V=V!="object"?V:ae?Array.isArray(ae)?"array":V:"null",V=="array"||V=="object"&&typeof ae.length=="number"){V=b.length||0;const he=ae.length||0;b.length=V+he;for(let Me=0;Me<he;Me++)b[V+Me]=ae[Me]}else b.push(ae)}}class x{constructor(D,V){this.i=D,this.j=V,this.h=0,this.g=null}get(){let D;return this.h>0?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function g(b){o.setTimeout(()=>{throw b},0)}function _(){var b=E;let D=null;return b.g&&(D=b.g,b.g=b.g.next,b.g||(b.h=null),D.next=null),D}class T{constructor(){this.h=this.g=null}add(D,V){const q=P.get();q.set(D,V),this.h?this.h.next=q:this.g=q,this.h=q}}var P=new x(()=>new k,b=>b.reset());class k{constructor(){this.next=this.g=this.h=null}set(D,V){this.h=D,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let A,C=!1,E=new T,j=()=>{const b=Promise.resolve(void 0);A=()=>{b.then(O)}};function O(){for(var b;b=_();){try{b.h.call(b.g)}catch(V){g(V)}var D=P;D.j(b),D.h<100&&(D.h++,b.next=D.g,D.g=b)}C=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(b,D){this.type=b,this.g=this.target=D,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var b=!1,D=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const V=()=>{};o.addEventListener("test",V,D),o.removeEventListener("test",V,D)}catch{}return b})();function F(b){return/^[\s\xa0]*$/.test(b)}function G(b,D){L.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,D)}m(G,L),G.prototype.init=function(b,D){const V=this.type=b.type,q=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=D,D=b.relatedTarget,D||(V=="mouseover"?D=b.fromElement:V=="mouseout"&&(D=b.toElement)),this.relatedTarget=D,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var K="closure_listenable_"+(Math.random()*1e6|0),Y=0;function J(b,D,V,q,ae){this.listener=b,this.proxy=null,this.src=D,this.type=V,this.capture=!!q,this.ha=ae,this.key=++Y,this.da=this.fa=!1}function U(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function X(b,D,V){for(const q in b)D.call(V,b[q],q,b)}function ie(b,D){for(const V in b)D.call(void 0,b[V],V,b)}function W(b){const D={};for(const V in b)D[V]=b[V];return D}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(b,D){let V,q;for(let ae=1;ae<arguments.length;ae++){q=arguments[ae];for(V in q)b[V]=q[V];for(let he=0;he<ee.length;he++)V=ee[he],Object.prototype.hasOwnProperty.call(q,V)&&(b[V]=q[V])}}function ce(b){this.src=b,this.g={},this.h=0}ce.prototype.add=function(b,D,V,q,ae){const he=b.toString();b=this.g[he],b||(b=this.g[he]=[],this.h++);const Me=ye(b,D,q,ae);return Me>-1?(D=b[Me],V||(D.fa=!1)):(D=new J(D,this.src,he,!!q,ae),D.fa=V,b.push(D)),D};function be(b,D){const V=D.type;if(V in b.g){var q=b.g[V],ae=Array.prototype.indexOf.call(q,D,void 0),he;(he=ae>=0)&&Array.prototype.splice.call(q,ae,1),he&&(U(D),b.g[V].length==0&&(delete b.g[V],b.h--))}}function ye(b,D,V,q){for(let ae=0;ae<b.length;++ae){const he=b[ae];if(!he.da&&he.listener==D&&he.capture==!!V&&he.ha==q)return ae}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),Ie={};function me(b,D,V,q,ae){if(Array.isArray(D)){for(let he=0;he<D.length;he++)me(b,D[he],V,q,ae);return null}return V=Kr(V),b&&b[K]?b.J(D,V,l(q)?!!q.capture:!1,ae):Pe(b,D,V,!1,q,ae)}function Pe(b,D,V,q,ae,he){if(!D)throw Error("Invalid event type");const Me=l(ae)?!!ae.capture:!!ae;let wt=Rt(b);if(wt||(b[pe]=wt=new ce(b)),V=wt.add(D,V,q,Me,he),V.proxy)return V;if(q=Re(),V.proxy=q,q.src=b,q.listener=V,b.addEventListener)$||(ae=Me),ae===void 0&&(ae=!1),b.addEventListener(D.toString(),q,ae);else if(b.attachEvent)b.attachEvent(tt(D.toString()),q);else if(b.addListener&&b.removeListener)b.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Re(){function b(V){return D.call(b.src,b.listener,V)}const D=Ot;return b}function fe(b,D,V,q,ae){if(Array.isArray(D))for(var he=0;he<D.length;he++)fe(b,D[he],V,q,ae);else q=l(q)?!!q.capture:!!q,V=Kr(V),b&&b[K]?(b=b.i,he=String(D).toString(),he in b.g&&(D=b.g[he],V=ye(D,V,q,ae),V>-1&&(U(D[V]),Array.prototype.splice.call(D,V,1),D.length==0&&(delete b.g[he],b.h--)))):b&&(b=Rt(b))&&(D=b.g[D.toString()],b=-1,D&&(b=ye(D,V,q,ae)),(V=b>-1?D[b]:null)&&ct(V))}function ct(b){if(typeof b!="number"&&b&&!b.da){var D=b.src;if(D&&D[K])be(D.i,b);else{var V=b.type,q=b.proxy;D.removeEventListener?D.removeEventListener(V,q,b.capture):D.detachEvent?D.detachEvent(tt(V),q):D.addListener&&D.removeListener&&D.removeListener(q),(V=Rt(D))?(be(V,b),V.h==0&&(V.src=null,D[pe]=null)):U(b)}}}function tt(b){return b in Ie?Ie[b]:Ie[b]="on"+b}function Ot(b,D){if(b.da)b=!0;else{D=new G(D,this);const V=b.listener,q=b.ha||b.src;b.fa&&ct(b),b=V.call(q,D)}return b}function Rt(b){return b=b[pe],b instanceof ce?b:null}var Yt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kr(b){return typeof b=="function"?b:(b[Yt]||(b[Yt]=function(D){return b.handleEvent(D)}),b[Yt])}function Dt(){R.call(this),this.i=new ce(this),this.M=this,this.G=null}m(Dt,R),Dt.prototype[K]=!0,Dt.prototype.removeEventListener=function(b,D,V,q){fe(this,b,D,V,q)};function ir(b,D){var V,q=b.G;if(q)for(V=[];q;q=q.G)V.push(q);if(b=b.M,q=D.type||D,typeof D=="string")D=new L(D,b);else if(D instanceof L)D.target=D.target||b;else{var ae=D;D=new L(q,b),de(D,ae)}ae=!0;let he,Me;if(V)for(Me=V.length-1;Me>=0;Me--)he=D.g=V[Me],ae=Ar(he,q,!0,D)&&ae;if(he=D.g=b,ae=Ar(he,q,!0,D)&&ae,ae=Ar(he,q,!1,D)&&ae,V)for(Me=0;Me<V.length;Me++)he=D.g=V[Me],ae=Ar(he,q,!1,D)&&ae}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var b=this.i;for(const D in b.g){const V=b.g[D];for(let q=0;q<V.length;q++)U(V[q]);delete b.g[D],b.h--}}this.G=null},Dt.prototype.J=function(b,D,V,q){return this.i.add(String(b),D,!1,V,q)},Dt.prototype.K=function(b,D,V,q){return this.i.add(String(b),D,!0,V,q)};function Ar(b,D,V,q){if(D=b.i.g[String(D)],!D)return!0;D=D.concat();let ae=!0;for(let he=0;he<D.length;++he){const Me=D[he];if(Me&&!Me.da&&Me.capture==V){const wt=Me.listener,Yr=Me.ha||Me.src;Me.fa&&be(b.i,Me),ae=wt.call(Yr,q)!==!1&&ae}}return ae&&!q.defaultPrevented}function jn(b,D){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=d(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(D)>2147483647?-1:o.setTimeout(b,D||0)}function gi(b){b.g=jn(()=>{b.g=null,b.i&&(b.i=!1,gi(b))},b.l);const D=b.h;b.h=null,b.m.apply(null,D)}class ws extends R{constructor(D,V){super(),this.m=D,this.l=V,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:gi(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(b){R.call(this),this.h=b,this.g={}}m(Rn,R);var Zs=[];function ea(b){X(b.g,function(D,V){this.g.hasOwnProperty(V)&&ct(D)},b),b.g={}}Rn.prototype.N=function(){Rn.Z.N.call(this),ea(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mi=o.JSON.stringify,Ae=o.JSON.parse,ve=class{stringify(b){return o.JSON.stringify(b,void 0)}parse(b){return o.JSON.parse(b,void 0)}};function De(){}function lt(){}var qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vt(){L.call(this,"d")}m(vt,L);function St(){L.call(this,"c")}m(St,L);var Nt={},fr=null;function Mn(){return fr=fr||new Dt}Nt.Ia="serverreachability";function Co(b){L.call(this,Nt.Ia,b)}m(Co,L);function _s(b){const D=Mn();ir(D,new Co(D))}Nt.STAT_EVENT="statevent";function js(b,D){L.call(this,Nt.STAT_EVENT,b),this.stat=D}m(js,L);function Br(b){const D=Mn();ir(D,new js(D,b))}Nt.Ja="timingevent";function up(b,D){L.call(this,Nt.Ja,b),this.size=D}m(up,L);function zl(b,D){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){b()},D)}function Wl(){this.g=!0}Wl.prototype.ua=function(){this.g=!1};function G0(b,D,V,q,ae,he){b.info(function(){if(b.g)if(he){var Me="",wt=he.split("&");for(let ur=0;ur<wt.length;ur++){var Yr=wt[ur].split("=");if(Yr.length>1){const tn=Yr[0];Yr=Yr[1];const ss=tn.split("_");Me=ss.length>=2&&ss[1]=="type"?Me+(tn+"="+Yr+"&"):Me+(tn+"=redacted&")}}}else Me=null;else Me=he;return"XMLHTTP REQ ("+q+") [attempt "+ae+"]: "+D+`
`+V+`
`+Me})}function K0(b,D,V,q,ae,he,Me){b.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ae+"]: "+D+`
`+V+`
`+he+" "+Me})}function Ia(b,D,V,q){b.info(function(){return"XMLHTTP TEXT ("+D+"): "+Tu(b,V)+(q?" "+q:"")})}function Y0(b,D){b.info(function(){return"TIMEOUT: "+D})}Wl.prototype.info=function(){};function Tu(b,D){if(!b.g)return D;if(!D)return null;try{const he=JSON.parse(D);if(he){for(b=0;b<he.length;b++)if(Array.isArray(he[b])){var V=he[b];if(!(V.length<2)){var q=V[1];if(Array.isArray(q)&&!(q.length<1)){var ae=q[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(let Me=1;Me<q.length;Me++)q[Me]=""}}}}return Mi(he)}catch{return D}}var Hl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Q0;function ko(){}m(ko,De),ko.prototype.g=function(){return new XMLHttpRequest},Q0=new ko;function Oa(b){return encodeURIComponent(String(b))}function gh(b){var D=1;b=b.split(":");const V=[];for(;D>0&&b.length;)V.push(b.shift()),D--;return b.length&&V.push(b.join(":")),V}function Ns(b,D,V,q){this.j=b,this.i=D,this.l=V,this.S=q||1,this.V=new Rn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new X0}function X0(){this.i=null,this.g="",this.h=!1}var J0={},dp={};function ta(b,D,V){b.M=1,b.A=Oo(Ss(D)),b.u=V,b.R=!0,hp(b,null)}function hp(b,D){b.F=Date.now(),Eu(b),b.B=Ss(b.A);var V=b.B,q=b.S;Array.isArray(q)||(q=[String(q)]),_p(V.i,"t",q),b.C=0,V=b.j.L,b.h=new X0,b.g=lv(b.j,V?D:null,!b.u),b.P>0&&(b.O=new ws(d(b.Y,b,b.g),b.P)),D=b.V,V=b.g,q=b.ba;var ae="readystatechange";Array.isArray(ae)||(ae&&(Zs[0]=ae.toString()),ae=Zs);for(let he=0;he<ae.length;he++){const Me=me(V,ae[he],q||D.handleEvent,!1,D.h||D);if(!Me)break;D.g[Me.key]=Me}D=b.J?W(b.J):{},b.u?(b.v||(b.v="POST"),D["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,D)):(b.v="GET",b.g.ea(b.B,b.v,null,D)),_s(),G0(b.i,b.v,b.B,b.l,b.S,b.u)}Ns.prototype.ba=function(b){b=b.target;const D=this.O;D&&Va(b)==3?D.j():this.Y(b)},Ns.prototype.Y=function(b){try{if(b==this.g)e:{const wt=Va(this.g),Yr=this.g.ya(),ur=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||av(this.g)))){this.K||wt!=4||Yr==7||(Yr==8||ur<=0?_s(3):_s(2)),yh(this);var D=this.g.ca();this.X=D;var V=Z0(this);if(this.o=D==200,K0(this.i,this.v,this.B,this.l,this.S,wt,D),this.o){if(this.U&&!this.L){t:{if(this.g){var q,ae=this.g;if((q=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(q)){var he=q;break t}}he=null}if(b=he)Ia(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,jr(this,b);else{this.o=!1,this.m=3,Br(12),Io(this),Pu(this);break e}}if(this.R){b=!0;let tn;for(;!this.K&&this.C<V.length;)if(tn=tv(this,V),tn==dp){wt==4&&(this.m=4,Br(14),b=!1),Ia(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==J0){this.m=4,Br(15),Ia(this.i,this.l,V,"[Invalid Chunk]"),b=!1;break}else Ia(this.i,this.l,tn,null),jr(this,tn);if(ev(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||V.length!=0||this.h.h||(this.m=1,Br(16),b=!1),this.o=this.o&&b,!b)Ia(this.i,this.l,V,"[Invalid Chunked Response]"),Io(this),Pu(this);else if(V.length>0&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.aa&&!Me.P&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),Lu(Me),Me.P=!0,Br(11))}}else Ia(this.i,this.l,V,null),jr(this,V);wt==4&&Io(this),this.o&&!this.K&&(wt==4?Eh(this.j,this):(this.o=!1,Eu(this)))}else Np(this.g),D==400&&V.indexOf("Unknown SID")>0?(this.m=3,Br(12)):(this.m=0,Br(13)),Io(this),Pu(this)}}}catch{}finally{}};function Z0(b){if(!ev(b))return b.g.la();const D=av(b.g);if(D==="")return"";let V="";const q=D.length,ae=Va(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return Io(b),Pu(b),"";b.h.i=new o.TextDecoder}for(let he=0;he<q;he++)b.h.h=!0,V+=b.h.i.decode(D[he],{stream:!(ae&&he==q-1)});return D.length=0,b.h.g+=V,b.C=0,b.h.g}function ev(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function tv(b,D){var V=b.C,q=D.indexOf(`
`,V);return q==-1?dp:(V=Number(D.substring(V,q)),isNaN(V)?J0:(q+=1,q+V>D.length?dp:(D=D.slice(q,q+V),b.C=q+V,D)))}Ns.prototype.cancel=function(){this.K=!0,Io(this)};function Eu(b){b.T=Date.now()+b.H,fp(b,b.H)}function fp(b,D){if(b.D!=null)throw Error("WatchDog timer not null");b.D=zl(d(b.aa,b),D)}function yh(b){b.D&&(o.clearTimeout(b.D),b.D=null)}Ns.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?(Y0(this.i,this.B),this.M!=2&&(_s(),Br(17)),Io(this),this.m=2,Pu(this)):fp(this,this.T-b)};function Pu(b){b.j.I==0||b.K||Eh(b.j,b)}function Io(b){yh(b);var D=b.O;D&&typeof D.dispose=="function"&&D.dispose(),b.O=null,ea(b.V),b.g&&(D=b.g,b.g=null,D.abort(),D.dispose())}function jr(b,D){try{var V=b.j;if(V.I!=0&&(V.g==b||pp(V.h,b))){if(!b.L&&pp(V.h,b)&&V.I==3){try{var q=V.Ba.g.parse(D)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ae=q;if(ae[0]==0){e:if(!V.v){if(V.g)if(V.g.F+3e3<b.F)Th(V),ns(V);else break e;Ua(V),Br(18)}}else V.xa=ae[1],0<V.xa-V.K&&ae[2]<37500&&V.F&&V.A==0&&!V.C&&(V.C=zl(d(V.Va,V),6e3));Au(V.h)<=1&&V.ta&&(V.ta=void 0)}else is(V,11)}else if((b.L||V.g==b)&&Th(V),!F(D))for(ae=V.Ba.g.parse(D),D=0;D<ae.length;D++){let ur=ae[D];const tn=ur[0];if(!(tn<=V.K))if(V.K=tn,ur=ur[1],V.I==2)if(ur[0]=="c"){V.M=ur[1],V.ba=ur[2];const ss=ur[3];ss!=null&&(V.ka=ss,V.j.info("VER="+V.ka));const $o=ur[4];$o!=null&&(V.za=$o,V.j.info("SVER="+V.za));const za=ur[5];za!=null&&typeof za=="number"&&za>0&&(q=1.5*za,V.O=q,V.j.info("backChannelRequestTimeoutMs_="+q)),q=V;const Wa=b.g;if(Wa){const Ch=Wa.g?Wa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ch){var he=q.h;he.g||Ch.indexOf("spdy")==-1&&Ch.indexOf("quic")==-1&&Ch.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(xh(he,he.h),he.h=null))}if(q.G){const Ep=Wa.g?Wa.g.getResponseHeader("X-HTTP-Session-Id"):null;Ep&&(q.wa=Ep,tr(q.J,q.G,Ep))}}V.I=3,V.l&&V.l.ra(),V.aa&&(V.T=Date.now()-b.F,V.j.info("Handshake RTT: "+V.T+"ms")),q=V;var Me=b;if(q.na=Tp(q,q.L?q.ba:null,q.W),Me.L){Cu(q.h,Me);var wt=Me,Yr=q.O;Yr&&(wt.H=Yr),wt.D&&(yh(wt),Eu(wt)),q.g=Me}else Jn(q);V.i.length>0&&Lo(V)}else ur[0]!="stop"&&ur[0]!="close"||is(V,7);else V.I==3&&(ur[0]=="stop"||ur[0]=="close"?ur[0]=="stop"?is(V,7):Nh(V):ur[0]!="noop"&&V.l&&V.l.qa(ur),V.A=0)}}_s(4)}catch{}}var K_=class{constructor(b,D){this.g=b,this.map=D}};function vh(b){this.l=b||10,o.PerformanceNavigationTiming?(b=o.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mp(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function Au(b){return b.h?1:b.g?b.g.size:0}function pp(b,D){return b.h?b.h==D:b.g?b.g.has(D):!1}function xh(b,D){b.g?b.g.add(D):b.h=D}function Cu(b,D){b.h&&b.h==D?b.h=null:b.g&&b.g.has(D)&&b.g.delete(D)}vh.prototype.cancel=function(){if(this.i=es(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function es(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let D=b.i;for(const V of b.g.values())D=D.concat(V.G);return D}return v(b.i)}var rv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ts(b,D){if(b){b=b.split("&");for(let V=0;V<b.length;V++){const q=b[V].indexOf("=");let ae,he=null;q>=0?(ae=b[V].substring(0,q),he=b[V].substring(q+1)):ae=b[V],D(ae,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function Ra(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let D;b instanceof Ra?(this.l=b.l,ku(this,b.j),this.o=b.o,this.g=b.g,Ma(this,b.u),this.h=b.h,Kl(this,jp(b.i)),this.m=b.m):b&&(D=String(b).match(rv))?(this.l=!1,ku(this,D[1]||"",!0),this.o=Iu(D[2]||""),this.g=Iu(D[3]||"",!0),Ma(this,D[4]),this.h=Iu(D[5]||"",!0),Kl(this,D[6]||"",!0),this.m=Iu(D[7]||"")):(this.l=!1,this.i=new qt(null,this.l))}Ra.prototype.toString=function(){const b=[];var D=this.j;D&&b.push(Ou(D,yp,!0),":");var V=this.g;return(V||D=="file")&&(b.push("//"),(D=this.o)&&b.push(Ou(D,yp,!0),"@"),b.push(Oa(V).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.u,V!=null&&b.push(":",String(V))),(V=this.h)&&(this.g&&V.charAt(0)!="/"&&b.push("/"),b.push(Ou(V,V.charAt(0)=="/"?Ru:vp,!0))),(V=this.i.toString())&&b.push("?",V),(V=this.m)&&b.push("#",Ou(V,xp)),b.join("")},Ra.prototype.resolve=function(b){const D=Ss(this);let V=!!b.j;V?ku(D,b.j):V=!!b.o,V?D.o=b.o:V=!!b.g,V?D.g=b.g:V=b.u!=null;var q=b.h;if(V)Ma(D,b.u);else if(V=!!b.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var ae=D.h.lastIndexOf("/");ae!=-1&&(q=D.h.slice(0,ae+1)+q)}if(ae=q,ae==".."||ae==".")q="";else if(ae.indexOf("./")!=-1||ae.indexOf("/.")!=-1){q=ae.lastIndexOf("/",0)==0,ae=ae.split("/");const he=[];for(let Me=0;Me<ae.length;){const wt=ae[Me++];wt=="."?q&&Me==ae.length&&he.push(""):wt==".."?((he.length>1||he.length==1&&he[0]!="")&&he.pop(),q&&Me==ae.length&&he.push("")):(he.push(wt),q=!0)}q=he.join("/")}else q=ae}return V?D.h=q:V=b.i.toString()!=="",V?Kl(D,jp(b.i)):V=!!b.m,V&&(D.m=b.m),D};function Ss(b){return new Ra(b)}function ku(b,D,V){b.j=V?Iu(D,!0):D,b.j&&(b.j=b.j.replace(/:$/,""))}function Ma(b,D){if(D){if(D=Number(D),isNaN(D)||D<0)throw Error("Bad port number "+D);b.u=D}else b.u=null}function Kl(b,D,V){D instanceof qt?(b.i=D,wh(b.i,b.l)):(V||(D=Ou(D,Y_)),b.i=new qt(D,b.l))}function tr(b,D,V){b.i.set(D,V)}function Oo(b){return tr(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function Iu(b,D){return b?D?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Ou(b,D,V){return typeof b=="string"?(b=encodeURI(b).replace(D,gp),V&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function gp(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var yp=/[#\/\?@]/g,vp=/[#\?:]/g,Ru=/[#\?]/g,Y_=/[#\?@]/g,xp=/#/g;function qt(b,D){this.h=this.g=null,this.i=b||null,this.j=!!D}function Da(b){b.g||(b.g=new Map,b.h=0,b.i&&ts(b.i,function(D,V){b.add(decodeURIComponent(D.replace(/\+/g," ")),V)}))}t=qt.prototype,t.add=function(b,D){Da(this),this.i=null,b=La(this,b);let V=this.g.get(b);return V||this.g.set(b,V=[]),V.push(D),this.h+=1,this};function bp(b,D){Da(b),D=La(b,D),b.g.has(D)&&(b.i=null,b.h-=b.g.get(D).length,b.g.delete(D))}function bh(b,D){return Da(b),D=La(b,D),b.g.has(D)}t.forEach=function(b,D){Da(this),this.g.forEach(function(V,q){V.forEach(function(ae){b.call(D,ae,q,this)},this)},this)};function wp(b,D){Da(b);let V=[];if(typeof D=="string")bh(b,D)&&(V=V.concat(b.g.get(La(b,D))));else for(b=Array.from(b.g.values()),D=0;D<b.length;D++)V=V.concat(b[D]);return V}t.set=function(b,D){return Da(this),this.i=null,b=La(this,b),bh(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[D]),this.h+=1,this},t.get=function(b,D){return b?(b=wp(this,b),b.length>0?String(b[0]):D):D};function _p(b,D,V){bp(b,D),V.length>0&&(b.i=null,b.g.set(La(b,D),v(V)),b.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],D=Array.from(this.g.keys());for(let q=0;q<D.length;q++){var V=D[q];const ae=Oa(V);V=wp(this,V);for(let he=0;he<V.length;he++){let Me=ae;V[he]!==""&&(Me+="="+Oa(V[he])),b.push(Me)}}return this.i=b.join("&")};function jp(b){const D=new qt;return D.i=b.i,b.g&&(D.g=new Map(b.g),D.h=b.h),D}function La(b,D){return D=String(D),b.j&&(D=D.toLowerCase()),D}function wh(b,D){D&&!b.j&&(Da(b),b.i=null,b.g.forEach(function(V,q){const ae=q.toLowerCase();q!=ae&&(bp(this,q),_p(this,ae,V))},b)),b.j=D}function $a(b,D){const V=new Wl;if(o.Image){const q=new Image;q.onload=f(Dn,V,"TestLoadImage: loaded",!0,D,q),q.onerror=f(Dn,V,"TestLoadImage: error",!1,D,q),q.onabort=f(Dn,V,"TestLoadImage: abort",!1,D,q),q.ontimeout=f(Dn,V,"TestLoadImage: timeout",!1,D,q),o.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=b}else D(!1)}function Fa(b,D){const V=new Wl,q=new AbortController,ae=setTimeout(()=>{q.abort(),Dn(V,"TestPingServer: timeout",!1,D)},1e4);fetch(b,{signal:q.signal}).then(he=>{clearTimeout(ae),he.ok?Dn(V,"TestPingServer: ok",!0,D):Dn(V,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(ae),Dn(V,"TestPingServer: error",!1,D)})}function Dn(b,D,V,q,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),q(V)}catch{}}function Mu(){this.g=new ve}function Ro(b){this.i=b.Sb||null,this.h=b.ab||!1}m(Ro,De),Ro.prototype.g=function(){return new rs(this.i,this.h)};function rs(b,D){Dt.call(this),this.H=b,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(rs,Dt),t=rs.prototype,t.open=function(b,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=D,this.readyState=1,ra(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const D={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(D.body=b),(this.H||o).fetch(new Request(this.D,D)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Yl(this)),this.readyState=0},t.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,ra(this)),this.g&&(this.readyState=3,ra(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;nv(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function nv(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}t.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var D=b.value?b.value:new Uint8Array(0);(D=this.B.decode(D,{stream:!b.done}))&&(this.response=this.responseText+=D)}b.done?Yl(this):ra(this),this.readyState==3&&nv(this)}},t.Oa=function(b){this.g&&(this.response=this.responseText=b,Yl(this))},t.Na=function(b){this.g&&(this.response=b,Yl(this))},t.ga=function(){this.g&&Yl(this)};function Yl(b){b.readyState=4,b.l=null,b.j=null,b.B=null,ra(b)}t.setRequestHeader=function(b,D){this.A.append(b,D)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],D=this.h.entries();for(var V=D.next();!V.done;)V=V.value,b.push(V[0]+": "+V[1]),V=D.next();return b.join(`\r
`)};function ra(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function iv(b){let D="";return X(b,function(V,q){D+=q,D+=":",D+=V,D+=`\r
`}),D}function _h(b,D,V){e:{for(q in V){var q=!1;break e}q=!0}q||(V=iv(V),typeof b=="string"?V!=null&&Oa(V):tr(b,D,V))}function pr(b){Dt.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(pr,Dt);var sv=/^https?$/i,Q_=["POST","PUT"];t=pr.prototype,t.Fa=function(b){this.H=b},t.ea=function(b,D,V,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);D=D?D.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Q0.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(D,String(b),!0),this.B=!1}catch(he){Ql(this,he);return}if(b=V||"",V=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ae in q)V.set(ae,q[ae]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const he of q.keys())V.set(he,q.get(he));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(V.keys()).find(he=>he.toLowerCase()=="content-type"),ae=o.FormData&&b instanceof o.FormData,!(Array.prototype.indexOf.call(Q_,D,void 0)>=0)||q||ae||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Me]of V)this.g.setRequestHeader(he,Me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(he){Ql(this,he)}};function Ql(b,D){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=D,b.o=5,Xl(b),Do(b)}function Xl(b){b.A||(b.A=!0,ir(b,"complete"),ir(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,ir(this,"complete"),ir(this,"abort"),Do(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Do(this,!0)),pr.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Mo(this):this.Xa())},t.Xa=function(){Mo(this)};function Mo(b){if(b.h&&typeof s<"u"){if(b.v&&Va(b)==4)setTimeout(b.Ca.bind(b),0);else if(ir(b,"readystatechange"),Va(b)==4){b.h=!1;try{const he=b.ca();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var V;if(!(V=D)){var q;if(q=he===0){let Me=String(b.D).match(rv)[1]||null;!Me&&o.self&&o.self.location&&(Me=o.self.location.protocol.slice(0,-1)),q=!sv.test(Me?Me.toLowerCase():"")}V=q}if(V)ir(b,"complete"),ir(b,"success");else{b.o=6;try{var ae=Va(b)>2?b.g.statusText:""}catch{ae=""}b.l=ae+" ["+b.ca()+"]",Xl(b)}}finally{Do(b)}}}}function Do(b,D){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const V=b.g;b.g=null,D||ir(b,"ready");try{V.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Va(b){return b.g?b.g.readyState:0}t.ca=function(){try{return Va(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(b){if(this.g){var D=this.g.responseText;return b&&D.indexOf(b)==0&&(D=D.substring(b.length)),Ae(D)}};function av(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Np(b){const D={};b=(b.g&&Va(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<b.length;q++){if(F(b[q]))continue;var V=gh(b[q]);const ae=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const he=D[ae]||[];D[ae]=he,he.push(V)}ie(D,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ba(b,D,V){return V&&V.internalChannelParams&&V.internalChannelParams[b]||D}function jh(b){this.za=0,this.i=[],this.j=new Wl,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ba("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ba("baseRetryDelayMs",5e3,b),this.Za=Ba("retryDelaySeedMs",1e4,b),this.Ta=Ba("forwardChannelMaxRetries",2,b),this.va=Ba("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new vh(b&&b.concurrentRequestLimit),this.Ba=new Mu,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=jh.prototype,t.ka=8,t.I=1,t.connect=function(b,D,V,q){Br(0),this.W=b,this.H=D||{},V&&q!==void 0&&(this.H.OSID=V,this.H.OAID=q),this.F=this.X,this.J=Tp(this,null,this.W),Lo(this)};function Nh(b){if(Sh(b),b.I==3){var D=b.V++,V=Ss(b.J);if(tr(V,"SID",b.M),tr(V,"RID",D),tr(V,"TYPE","terminate"),qa(b,V),D=new Ns(b,b.j,D),D.M=2,D.A=Oo(Ss(V)),V=!1,o.navigator&&o.navigator.sendBeacon)try{V=o.navigator.sendBeacon(D.A.toString(),"")}catch{}!V&&o.Image&&(new Image().src=D.A,V=!0),V||(D.g=lv(D.j,null),D.g.ea(D.A)),D.F=Date.now(),Eu(D)}$u(b)}function ns(b){b.g&&(Lu(b),b.g.cancel(),b.g=null)}function Sh(b){ns(b),b.v&&(o.clearTimeout(b.v),b.v=null),Th(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&o.clearTimeout(b.m),b.m=null)}function Lo(b){if(!mp(b.h)&&!b.m){b.m=!0;var D=b.Ea;A||j(),C||(A(),C=!0),E.add(D,b),b.D=0}}function ov(b,D){return Au(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=D.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=zl(d(b.Ea,b,D),Ph(b,b.D)),b.D++,!0)}t.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const ae=new Ns(this,this.j,b);let he=this.o;if(this.U&&(he?(he=W(he),de(he,this.U)):he=this.U),this.u!==null||this.R||(ae.J=he,he=null),this.S)e:{for(var D=0,V=0;V<this.i.length;V++){t:{var q=this.i[V];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(D+=q,D>4096){D=V;break e}if(D===4096||V===this.i.length-1){D=V+1;break e}}D=1e3}else D=1e3;D=Sp(this,ae,D),V=Ss(this.J),tr(V,"RID",b),tr(V,"CVER",22),this.G&&tr(V,"X-HTTP-Session-Id",this.G),qa(this,V),he&&(this.R?D="headers="+Oa(iv(he))+"&"+D:this.u&&_h(V,this.u,he)),xh(this.h,ae),this.Ra&&tr(V,"TYPE","init"),this.S?(tr(V,"$req",D),tr(V,"SID","null"),ae.U=!0,ta(ae,V,null)):ta(ae,V,D),this.I=2}}else this.I==3&&(b?Du(this,b):this.i.length==0||mp(this.h)||Du(this))};function Du(b,D){var V;D?V=D.l:V=b.V++;const q=Ss(b.J);tr(q,"SID",b.M),tr(q,"RID",V),tr(q,"AID",b.K),qa(b,q),b.u&&b.o&&_h(q,b.u,b.o),V=new Ns(b,b.j,V,b.D+1),b.u===null&&(V.J=b.o),D&&(b.i=D.G.concat(b.i)),D=Sp(b,V,1e3),V.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),xh(b.h,V),ta(V,q,D)}function qa(b,D){b.H&&X(b.H,function(V,q){tr(D,q,V)}),b.l&&X({},function(V,q){tr(D,q,V)})}function Sp(b,D,V){V=Math.min(b.i.length,V);const q=b.l?d(b.l.Ka,b.l,b):null;e:{var ae=b.i;let wt=-1;for(;;){const Yr=["count="+V];wt==-1?V>0?(wt=ae[0].g,Yr.push("ofs="+wt)):wt=0:Yr.push("ofs="+wt);let ur=!0;for(let tn=0;tn<V;tn++){var he=ae[tn].g;const ss=ae[tn].map;if(he-=wt,he<0)wt=Math.max(0,ae[tn].g-100),ur=!1;else try{he="req"+he+"_"||"";try{var Me=ss instanceof Map?ss:Object.entries(ss);for(const[$o,za]of Me){let Wa=za;l(za)&&(Wa=Mi(za)),Yr.push(he+$o+"="+encodeURIComponent(Wa))}}catch($o){throw Yr.push(he+"type="+encodeURIComponent("_badmap")),$o}}catch{q&&q(ss)}}if(ur){Me=Yr.join("&");break e}}Me=void 0}return b=b.i.splice(0,V),D.G=b,Me}function Jn(b){if(!b.g&&!b.v){b.Y=1;var D=b.Da;A||j(),C||(A(),C=!0),E.add(D,b),b.A=0}}function Ua(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=zl(d(b.Da,b),Ph(b,b.A)),b.A++,!0)}t.Da=function(){if(this.v=null,Jl(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=zl(d(this.Wa,this),b)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Br(10),ns(this),Jl(this))};function Lu(b){b.B!=null&&(o.clearTimeout(b.B),b.B=null)}function Jl(b){b.g=new Ns(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var D=Ss(b.na);tr(D,"RID","rpc"),tr(D,"SID",b.M),tr(D,"AID",b.K),tr(D,"CI",b.F?"0":"1"),!b.F&&b.ia&&tr(D,"TO",b.ia),tr(D,"TYPE","xmlhttp"),qa(b,D),b.u&&b.o&&_h(D,b.u,b.o),b.O&&(b.g.H=b.O);var V=b.g;b=b.ba,V.M=1,V.A=Oo(Ss(D)),V.u=null,V.R=!0,hp(V,b)}t.Va=function(){this.C!=null&&(this.C=null,ns(this),Ua(this),Br(19))};function Th(b){b.C!=null&&(o.clearTimeout(b.C),b.C=null)}function Eh(b,D){var V=null;if(b.g==D){Th(b),Lu(b),b.g=null;var q=2}else if(pp(b.h,D))V=D.G,Cu(b.h,D),q=1;else return;if(b.I!=0){if(D.o)if(q==1){V=D.u?D.u.length:0,D=Date.now()-D.F;var ae=b.D;q=Mn(),ir(q,new up(q,V)),Lo(b)}else Jn(b);else if(ae=D.m,ae==3||ae==0&&D.X>0||!(q==1&&ov(b,D)||q==2&&Ua(b)))switch(V&&V.length>0&&(D=b.h,D.i=D.i.concat(V)),ae){case 1:is(b,5);break;case 4:is(b,10);break;case 3:is(b,6);break;default:is(b,2)}}}function Ph(b,D){let V=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(V*=2),V*D}function is(b,D){if(b.j.info("Error code "+D),D==2){var V=d(b.bb,b),q=b.Ua;const ae=!q;q=new Ra(q||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ku(q,"https"),Oo(q),ae?$a(q.toString(),V):Fa(q.toString(),V)}else Br(2);b.I=0,b.l&&b.l.pa(D),$u(b),Sh(b)}t.bb=function(b){b?(this.j.info("Successfully pinged google.com"),Br(2)):(this.j.info("Failed to ping google.com"),Br(1))};function $u(b){if(b.I=0,b.ja=[],b.l){const D=es(b.h);(D.length!=0||b.i.length!=0)&&(w(b.ja,D),w(b.ja,b.i),b.h.i.length=0,v(b.i),b.i.length=0),b.l.oa()}}function Tp(b,D,V){var q=V instanceof Ra?Ss(V):new Ra(V);if(q.g!="")D&&(q.g=D+"."+q.g),Ma(q,q.u);else{var ae=o.location;q=ae.protocol,D=D?D+"."+ae.hostname:ae.hostname,ae=+ae.port;const he=new Ra(null);q&&ku(he,q),D&&(he.g=D),ae&&Ma(he,ae),V&&(he.h=V),q=he}return V=b.G,D=b.wa,V&&D&&tr(q,V,D),tr(q,"VER",b.ka),qa(b,q),q}function lv(b,D,V){if(D&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return D=b.Aa&&!b.ma?new pr(new Ro({ab:V})):new pr(b.ma),D.Fa(b.L),D}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cv(){}t=cv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ah(){}Ah.prototype.g=function(b,D){return new Ln(b,D)};function Ln(b,D){Dt.call(this),this.g=new jh(D),this.l=b,this.h=D&&D.messageUrlParams||null,b=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(b?b["X-WebChannel-Content-Type"]=D.messageContentType:b={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.sa&&(b?b["X-WebChannel-Client-Profile"]=D.sa:b={"X-WebChannel-Client-Profile":D.sa}),this.g.U=b,(b=D&&D.Qb)&&!F(b)&&(this.g.u=b),this.A=D&&D.supportsCrossDomainXhr||!1,this.v=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!F(D)&&(this.g.G=D,b=this.h,b!==null&&D in b&&(b=this.h,D in b&&delete b[D])),this.j=new Zl(this)}m(Ln,Dt),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){Nh(this.g)},Ln.prototype.o=function(b){var D=this.g;if(typeof b=="string"){var V={};V.__data__=b,b=V}else this.v&&(V={},V.__data__=Mi(b),b=V);D.i.push(new K_(D.Ya++,b)),D.I==3&&Lo(D)},Ln.prototype.N=function(){this.g.l=null,delete this.j,Nh(this.g),delete this.g,Ln.Z.N.call(this)};function uv(b){vt.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var D=b.__sm__;if(D){e:{for(const V in D){b=V;break e}b=void 0}(this.i=b)&&(b=this.i,D=D!==null&&b in D?D[b]:void 0),this.data=D}else this.data=b}m(uv,vt);function dv(){St.call(this),this.status=1}m(dv,St);function Zl(b){this.g=b}m(Zl,cv),Zl.prototype.ra=function(){ir(this.g,"a")},Zl.prototype.qa=function(b){ir(this.g,new uv(b))},Zl.prototype.pa=function(b){ir(this.g,new dv)},Zl.prototype.oa=function(){ir(this.g,"b")},Ah.prototype.createWebChannel=Ah.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,p7=function(){return new Ah},m7=function(){return Mn()},f7=Nt,OP={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hl.NO_ERROR=0,Hl.TIMEOUT=8,Hl.HTTP_ERROR=6,Kx=Hl,Gl.COMPLETE="complete",h7=Gl,lt.EventType=qe,qe.OPEN="a",qe.CLOSE="b",qe.ERROR="c",qe.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,gg=lt,pr.prototype.listenOnce=pr.prototype.K,pr.prototype.getLastError=pr.prototype.Ha,pr.prototype.getLastErrorCode=pr.prototype.ya,pr.prototype.getStatus=pr.prototype.ca,pr.prototype.getResponseJson=pr.prototype.La,pr.prototype.getResponseText=pr.prototype.la,pr.prototype.send=pr.prototype.ea,pr.prototype.setWithCredentials=pr.prototype.Fa,d7=pr}).apply(typeof lx<"u"?lx:typeof self<"u"?self:typeof window<"u"?window:{});const n3="@firebase/firestore",i3="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let si=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};si.UNAUTHENTICATED=new si(null),si.GOOGLE_CREDENTIALS=new si("google-credentials-uid"),si.FIRST_PARTY=new si("first-party-uid"),si.MOCK_USER=new si("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=new u1("@firebase/firestore");function lf(){return $d.logLevel}function Be(t,...e){if($d.logLevel<=Lt.DEBUG){const r=e.map(zk);$d.debug(`Firestore (${Mm}): ${t}`,...r)}}function vl(t,...e){if($d.logLevel<=Lt.ERROR){const r=e.map(zk);$d.error(`Firestore (${Mm}): ${t}`,...r)}}function Qf(t,...e){if($d.logLevel<=Lt.WARN){const r=e.map(zk);$d.warn(`Firestore (${Mm}): ${t}`,...r)}}function zk(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,g7(t,n,r)}function g7(t,e,r){let n=`FIRESTORE (${Mm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw vl(n),new Error(n)}function cr(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||g7(e,i,n)}function _t(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Xs{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $ae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(si.UNAUTHENTICATED)))}shutdown(){}}class Fae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Vae{constructor(e){this.t=e,this.currentUser=si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){cr(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let s=new ul;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ul,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ul)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(cr(typeof n.accessToken=="string",31837,{l:n}),new y7(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return cr(e===null||typeof e=="string",2055,{h:e}),new si(e)}}class Bae{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=si.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qae{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Bae(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(si.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uae{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){cr(this.o===void 0,3512);const n=s=>{s.error!=null&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s3(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(cr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new s3(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=zae(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function $t(t,e){return t<e?-1:t>e?1:0}function RP(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),s=e.charAt(n);if(i!==s)return CN(i)===CN(s)?$t(i,s):CN(i)?1:-1}return $t(t.length,e.length)}const Wae=55296,Hae=57343;function CN(t){const e=t.charCodeAt(0);return e>=Wae&&e<=Hae}function Xf(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="__name__";class Xa{constructor(e,r,n){r===void 0?r=0:r>e.length&&ht(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&ht(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Xa.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Xa?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=Xa.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return $t(e.length,r.length)}static compareSegments(e,r){const n=Xa.isNumericId(e),i=Xa.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Xa.extractNumericId(e).compare(Xa.extractNumericId(r)):RP(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wc.fromString(e.substring(4,e.length-2))}}class wr extends Xa{construct(e,r,n){return new wr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new $e(xe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new wr(r)}static emptyPath(){return new wr([])}}const Gae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends Xa{construct(e,r,n){return new Hn(e,r,n)}static isValidIdentifier(e){return Gae.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a3}static keyField(){return new Hn([a3])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new $e(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new $e(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $e(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(s(),i++)}if(s(),o)throw new $e(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(r)}static emptyPath(){return new Hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.path=e}static fromPath(e){return new nt(wr.fromString(e))}static fromName(e){return new nt(wr.fromString(e).popFirst(5))}static empty(){return new nt(wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return wr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new wr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v7(t,e,r){if(!r)throw new $e(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Kae(t,e,r,n){if(e===!0&&n===!0)throw new $e(xe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function o3(t){if(!nt.isDocumentKey(t))throw new $e(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l3(t){if(nt.isDocumentKey(t))throw new $e(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function x7(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function p1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ht(12329,{type:typeof t})}function Na(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $e(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=p1(t);throw new $e(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,e){const r={typeString:t};return e&&(r.value=e),r}function p0(t,e){if(!x7(t))throw new $e(xe.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new $e(xe.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=-62135596800,u3=1e6;class Er{static now(){return Er.fromMillis(Date.now())}static fromDate(e){return Er.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*u3);return new Er(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new $e(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new $e(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<c3)throw new $e(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u3}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Er._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(p0(e,Er._jsonSchema))return new Er(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-c3;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Er._jsonSchemaVersion="firestore/timestamp/1.0",Er._jsonSchema={type:ln("string",Er._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static fromTimestamp(e){return new xt(e)}static min(){return new xt(new Er(0,0))}static max(){return new xt(new Er(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=-1;function Yae(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(n===1e9?new Er(r+1,0):new Er(r,n));return new Jc(i,nt.empty(),e)}function Qae(t){return new Jc(t.readTime,t.key,ey)}class Jc{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Jc(xt.min(),nt.empty(),ey)}static max(){return new Jc(xt.max(),nt.empty(),ey)}}function Xae(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=nt.comparator(t.documentKey,e.documentKey),r!==0?r:$t(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jae="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dm(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==Jae)throw t;Be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new we(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof we?r:we.resolve(r)}catch(r){return we.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):we.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):we.reject(r)}static resolve(e){return new we(((r,n)=>{r(e)}))}static reject(e){return new we(((r,n)=>{n(e)}))}static waitFor(e){return new we(((r,n)=>{let i=0,s=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++s,o&&s===i&&r()}),(c=>n(c)))})),o=!0,s===i&&r()}))}static or(e){let r=we.resolve(!1);for(const n of e)r=r.next((i=>i?we.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,s)=>{n.push(r.call(this,i,s))})),this.waitFor(n)}static mapArray(e,r){return new we(((n,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const d=c;r(e[d]).next((f=>{o[d]=f,++l,l===s&&n(o)}),(f=>i(f)))}}))}static doWhile(e,r){return new we(((n,i)=>{const s=()=>{e()===!0?r().next((()=>{s()}),i):n()};s()}))}}function eoe(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Lm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}g1.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=-1;function y1(t){return t==null}function Tb(t){return t===0&&1/t==-1/0}function toe(t){return typeof t=="number"&&Number.isInteger(t)&&!Tb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7="";function roe(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=d3(e)),e=noe(t.get(r),e);return d3(e)}function noe(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case b7:r+="";break;default:r+=s}}return r}function d3(t){return t+b7+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function pu(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function w7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,r){this.comparator=e,this.root=r||zn.EMPTY}insert(e,r){return new Vr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new Vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cx(this.root,e,this.comparator,!1)}getReverseIterator(){return new cx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cx(this.root,e,this.comparator,!0)}}class cx{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zn{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??zn.RED,this.left=i??zn.EMPTY,this.right=s??zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new zn(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return zn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ht(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ht(27949);return e+(this.isRed()?0:1)}}zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw ht(57766)}get value(){throw ht(16141)}get color(){throw ht(16727)}get left(){throw ht(29726)}get right(){throw ht(36894)}copy(e,r,n,i,s){return this}insert(e,r,n){return new zn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.comparator=e,this.data=new Vr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new f3(this.data.getIterator())}getIteratorFrom(e){return new f3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new xn(this.comparator);return r.data=e,r}}class f3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new ps([])}unionWith(e){let r=new xn(Hn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ps(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Xf(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _7("Invalid base64 string: "+s):s}})(e);return new Xn(r)}static fromUint8Array(e){const r=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new Xn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const ioe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zc(t){if(cr(!!t,39018),typeof t=="string"){let e=0;const r=ioe.exec(t);if(cr(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Zr(t.seconds),nanos:Zr(t.nanos)}}function Zr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eu(t){return typeof t=="string"?Xn.fromBase64String(t):Xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7="server_timestamp",N7="__type__",S7="__previous_value__",T7="__local_write_time__";function Gk(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[N7])==null?void 0:n.stringValue)===j7}function v1(t){const e=t.mapValue.fields[S7];return Gk(e)?v1(e):e}function ty(t){const e=Zc(t.mapValue.fields[T7].timestampValue);return new Er(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class soe{constructor(e,r,n,i,s,o,l,c,d,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f}}const Eb="(default)";class ry{constructor(e,r){this.projectId=e,this.database=r||Eb}static empty(){return new ry("","")}get isDefaultDatabase(){return this.database===Eb}isEqual(e){return e instanceof ry&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7="__type__",aoe="__max__",ux={mapValue:{}},P7="__vector__",Pb="value";function tu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gk(t)?4:loe(t)?9007199254740991:ooe(t)?10:11:ht(28295,{value:t})}function vo(t,e){if(t===e)return!0;const r=tu(t);if(r!==tu(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ty(t).isEqual(ty(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Zc(i.timestampValue),l=Zc(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return eu(i.bytesValue).isEqual(eu(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Zr(i.geoPointValue.latitude)===Zr(s.geoPointValue.latitude)&&Zr(i.geoPointValue.longitude)===Zr(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Zr(i.integerValue)===Zr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Zr(i.doubleValue),l=Zr(s.doubleValue);return o===l?Tb(o)===Tb(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return Xf(t.arrayValue.values||[],e.arrayValue.values||[],vo);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(h3(o)!==h3(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!vo(o[c],l[c])))return!1;return!0})(t,e);default:return ht(52216,{left:t})}}function ny(t,e){return(t.values||[]).find((r=>vo(r,e)))!==void 0}function Jf(t,e){if(t===e)return 0;const r=tu(t),n=tu(e);if(r!==n)return $t(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return $t(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const l=Zr(s.integerValue||s.doubleValue),c=Zr(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return m3(t.timestampValue,e.timestampValue);case 4:return m3(ty(t),ty(e));case 5:return RP(t.stringValue,e.stringValue);case 6:return(function(s,o){const l=eu(s),c=eu(o);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const l=s.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=$t(l[d],c[d]);if(f!==0)return f}return $t(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const l=$t(Zr(s.latitude),Zr(o.latitude));return l!==0?l:$t(Zr(s.longitude),Zr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return p3(t.arrayValue,e.arrayValue);case 10:return(function(s,o){var p,v,w,x;const l=s.fields||{},c=o.fields||{},d=(p=l[Pb])==null?void 0:p.arrayValue,f=(v=c[Pb])==null?void 0:v.arrayValue,m=$t(((w=d==null?void 0:d.values)==null?void 0:w.length)||0,((x=f==null?void 0:f.values)==null?void 0:x.length)||0);return m!==0?m:p3(d,f)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===ux.mapValue&&o===ux.mapValue)return 0;if(s===ux.mapValue)return 1;if(o===ux.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),d=o.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const p=RP(c[m],f[m]);if(p!==0)return p;const v=Jf(l[c[m]],d[f[m]]);if(v!==0)return v}return $t(c.length,f.length)})(t.mapValue,e.mapValue);default:throw ht(23264,{he:r})}}function m3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $t(t,e);const r=Zc(t),n=Zc(e),i=$t(r.seconds,n.seconds);return i!==0?i:$t(r.nanos,n.nanos)}function p3(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Jf(r[i],n[i]);if(s)return s}return $t(r.length,n.length)}function Zf(t){return MP(t)}function MP(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Zc(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return eu(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return nt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=MP(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${MP(r.fields[o])}`;return i+"}"})(t.mapValue):ht(61005,{value:t})}function Yx(t){switch(tu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=v1(t);return e?16+Yx(e):16;case 5:return 2*t.stringValue.length;case 6:return eu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,s)=>i+Yx(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return pu(n.fields,((s,o)=>{i+=s.length+Yx(o)})),i})(t.mapValue);default:throw ht(13486,{value:t})}}function g3(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function DP(t){return!!t&&"integerValue"in t}function Kk(t){return!!t&&"arrayValue"in t}function y3(t){return!!t&&"nullValue"in t}function v3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qx(t){return!!t&&"mapValue"in t}function ooe(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[E7])==null?void 0:n.stringValue)===P7}function Cg(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return pu(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Cg(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Cg(t.arrayValue.values[r]);return e}return{...t}}function loe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===aoe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Qx(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cg(r)}setAll(e){let r=Hn.emptyPath(),n={},i=[];e.forEach(((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}o?n[l.lastSegment()]=Cg(o):i.push(l.lastSegment())}));const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());Qx(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return vo(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Qx(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){pu(r,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new Hi(Cg(this.value))}}function A7(t){const e=[];return pu(t.fields,((r,n)=>{const i=new Hn([r]);if(Qx(n)){const s=A7(n.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new ps(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,r,n,i,s,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new ai(e,0,xt.min(),xt.min(),xt.min(),Hi.empty(),0)}static newFoundDocument(e,r,n,i){return new ai(e,1,r,xt.min(),n,i,0)}static newNoDocument(e,r){return new ai(e,2,r,xt.min(),xt.min(),Hi.empty(),0)}static newUnknownDocument(e,r){return new ai(e,3,r,xt.min(),xt.min(),Hi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ai&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,r){this.position=e,this.inclusive=r}}function x3(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?n=nt.comparator(nt.fromName(o.referenceValue),r.key):n=Jf(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function b3(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!vo(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,r="asc"){this.field=e,this.dir=r}}function coe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{}class on extends C7{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new doe(e,r,n):r==="array-contains"?new moe(e,n):r==="in"?new poe(e,n):r==="not-in"?new goe(e,n):r==="array-contains-any"?new yoe(e,n):new on(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new hoe(e,n):new foe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Jf(r,this.value)):r!==null&&tu(this.value)===tu(r)&&this.matchesComparison(Jf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sa extends C7{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Sa(e,r)}matches(e){return k7(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k7(t){return t.op==="and"}function I7(t){return uoe(t)&&k7(t)}function uoe(t){for(const e of t.filters)if(e instanceof Sa)return!1;return!0}function LP(t){if(t instanceof on)return t.field.canonicalString()+t.op.toString()+Zf(t.value);if(I7(t))return t.filters.map((e=>LP(e))).join(",");{const e=t.filters.map((r=>LP(r))).join(",");return`${t.op}(${e})`}}function O7(t,e){return t instanceof on?(function(n,i){return i instanceof on&&n.op===i.op&&n.field.isEqual(i.field)&&vo(n.value,i.value)})(t,e):t instanceof Sa?(function(n,i){return i instanceof Sa&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,o,l)=>s&&O7(o,i.filters[l])),!0):!1})(t,e):void ht(19439)}function R7(t){return t instanceof on?(function(r){return`${r.field.canonicalString()} ${r.op} ${Zf(r.value)}`})(t):t instanceof Sa?(function(r){return r.op.toString()+" {"+r.getFilters().map(R7).join(" ,")+"}"})(t):"Filter"}class doe extends on{constructor(e,r,n){super(e,r,n),this.key=nt.fromName(n.referenceValue)}matches(e){const r=nt.comparator(e.key,this.key);return this.matchesComparison(r)}}class hoe extends on{constructor(e,r){super(e,"in",r),this.keys=M7("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class foe extends on{constructor(e,r){super(e,"not-in",r),this.keys=M7("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function M7(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map((n=>nt.fromName(n.referenceValue)))}class moe extends on{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Kk(r)&&ny(r.arrayValue,this.value)}}class poe extends on{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&ny(this.value.arrayValue,r)}}class goe extends on{constructor(e,r){super(e,"not-in",r)}matches(e){if(ny(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!ny(this.value.arrayValue,r)}}class yoe extends on{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Kk(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>ny(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class voe{constructor(e,r=null,n=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function w3(t,e=null,r=[],n=[],i=null,s=null,o=null){return new voe(t,e,r,n,i,s,o)}function Yk(t){const e=_t(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>LP(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),y1(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Zf(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Zf(n))).join(",")),e.Te=r}return e.Te}function Qk(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!coe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!O7(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!b3(t.startAt,e.startAt)&&b3(t.endAt,e.endAt)}function $P(t){return nt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,r=null,n=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xoe(t,e,r,n,i,s,o,l){return new g0(t,e,r,n,i,s,o,l)}function Xk(t){return new g0(t)}function _3(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D7(t){return t.collectionGroup!==null}function kg(t){const e=_t(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new xn(Hn.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Cb(s,n))})),r.has(Hn.keyField().canonicalString())||e.Ie.push(new Cb(Hn.keyField(),n))}return e.Ie}function lo(t){const e=_t(t);return e.Ee||(e.Ee=boe(e,kg(t))),e.Ee}function boe(t,e){if(t.limitType==="F")return w3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Cb(i.field,s)}));const r=t.endAt?new Ab(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Ab(t.startAt.position,t.startAt.inclusive):null;return w3(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function FP(t,e){const r=t.filters.concat([e]);return new g0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function VP(t,e,r){return new g0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function x1(t,e){return Qk(lo(t),lo(e))&&t.limitType===e.limitType}function L7(t){return`${Yk(lo(t))}|lt:${t.limitType}`}function cf(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>R7(i))).join(", ")}]`),y1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>Zf(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>Zf(i))).join(",")),`Target(${n})`})(lo(t))}; limitType=${t.limitType})`}function b1(t,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):nt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,i){for(const s of kg(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(o,l,c){const d=x3(o,l,c);return o.inclusive?d<=0:d<0})(n.startAt,kg(n),i)||n.endAt&&!(function(o,l,c){const d=x3(o,l,c);return o.inclusive?d>=0:d>0})(n.endAt,kg(n),i))})(t,e)}function woe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $7(t){return(e,r)=>{let n=!1;for(const i of kg(t)){const s=_oe(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function _oe(t,e,r){const n=t.field.isKeyField()?nt.comparator(e.key,r.key):(function(s,o,l){const c=o.data.field(s),d=l.data.field(s);return c!==null&&d!==null?Jf(c,d):ht(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ht(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pu(this.inner,((r,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return w7(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const joe=new Vr(nt.comparator);function xl(){return joe}const F7=new Vr(nt.comparator);function yg(...t){let e=F7;for(const r of t)e=e.insert(r.key,r);return e}function V7(t){let e=F7;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function cd(){return Ig()}function B7(){return Ig()}function Ig(){return new ah((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Noe=new Vr(nt.comparator),Soe=new xn(nt.comparator);function Vt(...t){let e=Soe;for(const r of t)e=e.add(r);return e}const Toe=new xn($t);function Eoe(){return Toe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tb(e)?"-0":e}}function q7(t){return{integerValue:""+t}}function Poe(t,e){return toe(e)?q7(e):Jk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this._=void 0}}function Aoe(t,e,r){return t instanceof iy?(function(i,s){const o={fields:{[N7]:{stringValue:j7},[T7]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Gk(s)&&(s=v1(s)),s&&(o.fields[S7]=s),{mapValue:o}})(r,e):t instanceof sy?z7(t,e):t instanceof ay?W7(t,e):(function(i,s){const o=U7(i,s),l=j3(o)+j3(i.Ae);return DP(o)&&DP(i.Ae)?q7(l):Jk(i.serializer,l)})(t,e)}function Coe(t,e,r){return t instanceof sy?z7(t,e):t instanceof ay?W7(t,e):r}function U7(t,e){return t instanceof kb?(function(n){return DP(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class iy extends w1{}class sy extends w1{constructor(e){super(),this.elements=e}}function z7(t,e){const r=H7(e);for(const n of t.elements)r.some((i=>vo(i,n)))||r.push(n);return{arrayValue:{values:r}}}class ay extends w1{constructor(e){super(),this.elements=e}}function W7(t,e){let r=H7(e);for(const n of t.elements)r=r.filter((i=>!vo(i,n)));return{arrayValue:{values:r}}}class kb extends w1{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function j3(t){return Zr(t.integerValue||t.doubleValue)}function H7(t){return Kk(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(e,r){this.field=e,this.transform=r}}function Ioe(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof sy&&i instanceof sy||n instanceof ay&&i instanceof ay?Xf(n.elements,i.elements,vo):n instanceof kb&&i instanceof kb?vo(n.Ae,i.Ae):n instanceof iy&&i instanceof iy})(t.transform,e.transform)}class Ooe{constructor(e,r){this.version=e,this.transformResults=r}}class zs{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new zs}static exists(e){return new zs(void 0,e)}static updateTime(e){return new zs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xx(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let _1=class{};function G7(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zk(t.key,zs.none()):new y0(t.key,t.data,zs.none());{const r=t.data,n=Hi.empty();let i=new xn(Hn.comparator);for(let s of e.fields)if(!i.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new gu(t.key,n,new ps(i.toArray()),zs.none())}}function Roe(t,e,r){t instanceof y0?(function(i,s,o){const l=i.value.clone(),c=S3(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,r):t instanceof gu?(function(i,s,o){if(!Xx(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=S3(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(K7(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,r):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function Og(t,e,r,n){return t instanceof y0?(function(s,o,l,c){if(!Xx(s.precondition,o))return l;const d=s.value.clone(),f=T3(s.fieldTransforms,c,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,r,n):t instanceof gu?(function(s,o,l,c){if(!Xx(s.precondition,o))return l;const d=T3(s.fieldTransforms,c,o),f=o.data;return f.setAll(K7(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,r,n):(function(s,o,l){return Xx(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,r)}function Moe(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=U7(n.transform,i||null);s!=null&&(r===null&&(r=Hi.empty()),r.set(n.field,s))}return r||null}function N3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Xf(n,i,((s,o)=>Ioe(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class y0 extends _1{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gu extends _1{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function K7(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function S3(t,e,r){const n=new Map;cr(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);n.set(s.field,Coe(o,l,r[i]))}return n}function T3(t,e,r){const n=new Map;for(const i of t){const s=i.transform,o=r.data.field(i.field);n.set(i.field,Aoe(s,o,e))}return n}class Zk extends _1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Doe extends _1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Loe{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Roe(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Og(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Og(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=B7();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=r.has(i.key)?null:l;const c=G7(o,l);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(xt.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Vt())}isEqual(e){return this.batchId===e.batchId&&Xf(this.mutations,e.mutations,((r,n)=>N3(r,n)))&&Xf(this.baseMutations,e.baseMutations,((r,n)=>N3(r,n)))}}class eI{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){cr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return Noe})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,n[o].version);return new eI(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $oe{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,zt;function Voe(t){switch(t){case xe.OK:return ht(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return ht(15467,{code:t})}}function Y7(t){if(t===void 0)return vl("GRPC error has no .code"),xe.UNKNOWN;switch(t){case nn.OK:return xe.OK;case nn.CANCELLED:return xe.CANCELLED;case nn.UNKNOWN:return xe.UNKNOWN;case nn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case nn.INTERNAL:return xe.INTERNAL;case nn.UNAVAILABLE:return xe.UNAVAILABLE;case nn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case nn.NOT_FOUND:return xe.NOT_FOUND;case nn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case nn.ABORTED:return xe.ABORTED;case nn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case nn.DATA_LOSS:return xe.DATA_LOSS;default:return ht(39323,{code:t})}}(zt=nn||(nn={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Boe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qoe=new Wc([4294967295,4294967295],0);function E3(t){const e=Boe().encode(t),r=new u7;return r.update(e),new Uint8Array(r.digest())}function P3(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wc([r,n],0),new Wc([i,s],0)]}class tI{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new vg(`Invalid padding: ${r}`);if(n<0)throw new vg(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new vg(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new vg(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Wc.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Wc.fromNumber(n)));return i.compare(qoe)===1&&(i=new Wc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=E3(e),[n,i]=P3(r);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new tI(s,i,r);return n.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const r=E3(e),[n,i]=P3(r);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class vg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,v0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new j1(xt.min(),i,new Vr($t),xl(),Vt())}}class v0{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new v0(n,r,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class Q7{constructor(e,r){this.targetId=e,this.Ce=r}}class X7{constructor(e,r,n=Xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class A3{constructor(){this.ve=0,this.Fe=C3(),this.Me=Xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),r=Vt(),n=Vt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ht(38017,{changeType:s})}})),new v0(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=C3()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,cr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Uoe{constructor(e){this.Ge=e,this.ze=new Map,this.je=xl(),this.Je=dx(),this.He=dx(),this.Ye=new Vr($t)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:ht(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const s=i.target;if($P(s))if(n===0){const o=new nt(s.path);this.et(r,o,ai.newNoDocument(o,xt.min()))}else cr(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(r);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,d)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let o,l;try{o=eu(n).toUint8Array()}catch(c){if(c instanceof _7)return Qf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new tI(o,i,s)}catch(c){return Qf(c instanceof vg?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(r,s,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((s,o)=>{const l=this.ot(o);if(l){if(s.current&&$P(l.target)){const c=new nt(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,ai.newNoDocument(c,e))}s.Be&&(r.set(o,s.ke()),s.qe())}}));let n=Vt();this.He.forEach(((s,o)=>{let l=!0;o.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new j1(e,r,this.Ye,this.je,n);return this.je=xl(),this.Je=dx(),this.He=dx(),this.Ye=new Vr($t),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new A3,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new xn($t),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new xn($t),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Be("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new A3),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function dx(){return new Vr(nt.comparator)}function C3(){return new Vr(nt.comparator)}const zoe={asc:"ASCENDING",desc:"DESCENDING"},Woe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hoe={and:"AND",or:"OR"};class Goe{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function BP(t,e){return t.useProto3Json||y1(e)?e:{value:e}}function Ib(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Koe(t,e){return Ib(t,e.toTimestamp())}function co(t){return cr(!!t,49232),xt.fromTimestamp((function(r){const n=Zc(r);return new Er(n.seconds,n.nanos)})(t))}function rI(t,e){return qP(t,e).canonicalString()}function qP(t,e){const r=(function(i){return new wr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function Z7(t){const e=wr.fromString(t);return cr(iz(e),10190,{key:e.toString()}),e}function UP(t,e){return rI(t.databaseId,e.path)}function kN(t,e){const r=Z7(e);if(r.get(1)!==t.databaseId.projectId)throw new $e(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new $e(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new nt(tz(r))}function ez(t,e){return rI(t.databaseId,e)}function Yoe(t){const e=Z7(t);return e.length===4?wr.emptyPath():tz(e)}function zP(t){return new wr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tz(t){return cr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function k3(t,e,r){return{name:UP(t,e),fields:r.value.mapValue.fields}}function Qoe(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ht(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(cr(f===void 0||typeof f=="string",58123),Xn.fromBase64String(f||"")):(cr(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Xn.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const f=d.code===void 0?xe.UNKNOWN:Y7(d.code);return new $e(f,d.message||"")})(o);r=new X7(n,i,s,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=kN(t,n.document.name),s=co(n.document.updateTime),o=n.document.createTime?co(n.document.createTime):xt.min(),l=new Hi({mapValue:{fields:n.document.fields}}),c=ai.newFoundDocument(i,s,o,l),d=n.targetIds||[],f=n.removedTargetIds||[];r=new Jx(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=kN(t,n.document),s=n.readTime?co(n.readTime):xt.min(),o=ai.newNoDocument(i,s),l=n.removedTargetIds||[];r=new Jx([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=kN(t,n.document),s=n.removedTargetIds||[];r=new Jx([],s,i,null)}else{if(!("filter"in e))return ht(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new Foe(i,s),l=n.targetId;r=new Q7(l,o)}}return r}function Xoe(t,e){let r;if(e instanceof y0)r={update:k3(t,e.key,e.value)};else if(e instanceof Zk)r={delete:UP(t,e.key)};else if(e instanceof gu)r={update:k3(t,e.key,e.data),updateMask:ale(e.fieldMask)};else{if(!(e instanceof Doe))return ht(16599,{Vt:e.type});r={verify:UP(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(s,o){const l=o.transform;if(l instanceof iy)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof sy)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ay)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof kb)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ht(20930,{transform:o.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Koe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ht(27497)})(t,e.precondition)),r}function Joe(t,e){return t&&t.length>0?(cr(e!==void 0,14353),t.map((r=>(function(i,s){let o=i.updateTime?co(i.updateTime):co(s);return o.isEqual(xt.min())&&(o=co(s)),new Ooe(o,i.transformResults||[])})(r,e)))):[]}function Zoe(t,e){return{documents:[ez(t,e.path)]}}function ele(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=ez(t,i);const s=(function(d){if(d.length!==0)return nz(Sa.create(d,"and"))})(e.filters);s&&(r.structuredQuery.where=s);const o=(function(d){if(d.length!==0)return d.map((f=>(function(p){return{field:uf(p.field),direction:nle(p.dir)}})(f)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=BP(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:r,parent:i}}function tle(t){let e=Yoe(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){cr(n===1,65062);const f=r.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];r.where&&(s=(function(m){const p=rz(m);return p instanceof Sa&&I7(p)?p.getFilters():[p]})(r.where));let o=[];r.orderBy&&(o=(function(m){return m.map((p=>(function(w){return new Cb(df(w.field),(function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(p)))})(r.orderBy));let l=null;r.limit&&(l=(function(m){let p;return p=typeof m=="object"?m.value:m,y1(p)?null:p})(r.limit));let c=null;r.startAt&&(c=(function(m){const p=!!m.before,v=m.values||[];return new Ab(v,p)})(r.startAt));let d=null;return r.endAt&&(d=(function(m){const p=!m.before,v=m.values||[];return new Ab(v,p)})(r.endAt)),xoe(e,i,o,s,l,"F",c,d)}function rle(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function rz(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=df(r.unaryFilter.field);return on.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=df(r.unaryFilter.field);return on.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=df(r.unaryFilter.field);return on.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=df(r.unaryFilter.field);return on.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ht(61313);default:return ht(60726)}})(t):t.fieldFilter!==void 0?(function(r){return on.create(df(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ht(58110);default:return ht(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Sa.create(r.compositeFilter.filters.map((n=>rz(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ht(1026)}})(r.compositeFilter.op))})(t):ht(30097,{filter:t})}function nle(t){return zoe[t]}function ile(t){return Woe[t]}function sle(t){return Hoe[t]}function uf(t){return{fieldPath:t.canonicalString()}}function df(t){return Hn.fromServerFormat(t.fieldPath)}function nz(t){return t instanceof on?(function(r){if(r.op==="=="){if(v3(r.value))return{unaryFilter:{field:uf(r.field),op:"IS_NAN"}};if(y3(r.value))return{unaryFilter:{field:uf(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(v3(r.value))return{unaryFilter:{field:uf(r.field),op:"IS_NOT_NAN"}};if(y3(r.value))return{unaryFilter:{field:uf(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uf(r.field),op:ile(r.op),value:r.value}}})(t):t instanceof Sa?(function(r){const n=r.getFilters().map((i=>nz(i)));return n.length===1?n[0]:{compositeFilter:{op:sle(r.op),filters:n}}})(t):ht(54877,{filter:t})}function ale(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function iz(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,r,n,i,s=xt.min(),o=xt.min(),l=Xn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Vc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ole{constructor(e){this.yt=e}}function lle(t){const e=tle({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?VP(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cle{constructor(){this.Cn=new ule}addToCollectionParentIndex(e,r){return this.Cn.add(r),we.resolve()}getCollectionParents(e,r){return we.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return we.resolve()}deleteFieldIndex(e,r){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,r){return we.resolve()}getDocumentsMatchingTarget(e,r){return we.resolve(null)}getIndexType(e,r){return we.resolve(0)}getFieldIndexes(e,r){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,r){return we.resolve(Jc.min())}getMinOffsetFromCollectionGroup(e,r){return we.resolve(Jc.min())}updateCollectionGroup(e,r,n){return we.resolve()}updateIndexEntries(e,r){return we.resolve()}}class ule{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new xn(wr.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new xn(wr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sz=41943040;class Wi{static withCacheSize(e){return new Wi(e,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi.DEFAULT_COLLECTION_PERCENTILE=10,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wi.DEFAULT=new Wi(sz,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wi.DISABLED=new Wi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new em(0)}static cr(){return new em(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="LruGarbageCollector",dle=1048576;function R3([t,e],[r,n]){const i=$t(t,r);return i===0?$t(e,n):i}class hle{constructor(e){this.Ir=e,this.buffer=new xn(R3),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();R3(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class fle{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Be(O3,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Lm(r)?Be(O3,"Ignoring IndexedDB error during garbage collection: ",r):await Dm(r)}await this.Vr(3e5)}))}}class mle{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return we.resolve(g1.ce);const n=new hle(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(I3)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I3):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,s,o,l,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(n=m,l=Date.now(),this.removeTargets(e,n,r)))).next((m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((m=>(d=Date.now(),lf()<=Lt.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function ple(t,e){return new mle(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gle{constructor(){this.changes=new ah((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,ai.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?we.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yle{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vle{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&Og(n.mutation,i,ps.empty(),Er.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Vt()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Vt()){const i=cd();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((s=>{let o=yg();return s.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=cd();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Vt())))}populateOverlays(e,r,n){const i=[];return n.forEach((s=>{r.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,l)=>{r.set(o,l)}))}))}computeViews(e,r,n,i){let s=xl();const o=Ig(),l=(function(){return Ig()})();return r.forEach(((c,d)=>{const f=n.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof gu)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Og(f.mutation,d,f.mutation.getFieldMask(),Er.now())):o.set(d.key,ps.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((d,f)=>o.set(d,f))),r.forEach(((d,f)=>l.set(d,new yle(f,o.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,r){const n=Ig();let i=new Vr(((o,l)=>o-l)),s=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const l of o)l.keys().forEach((c=>{const d=r.get(c);if(d===null)return;let f=n.get(c)||ps.empty();f=l.applyToLocalView(d,f),n.set(c,f);const m=(i.get(l.batchId)||Vt()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,m=B7();f.forEach((p=>{if(!s.has(p)){const v=G7(r.get(p),n.get(p));v!==null&&m.set(p,v),s=s.add(p)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return we.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(o){return nt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):D7(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):we.resolve(cd());let l=ey,c=s;return o.next((d=>we.forEach(d,((f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?we.resolve():this.remoteDocumentCache.getEntry(e,f).next((p=>{c=c.insert(f,p)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,c,d,Vt()))).next((f=>({batchId:l,changes:V7(f)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new nt(r)).next((n=>{let i=yg();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let o=yg();return this.indexManager.getCollectionParents(e,s).next((l=>we.forEach(l,(c=>{const d=(function(m,p){return new g0(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(r,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next((f=>{f.forEach(((m,p)=>{o=o.insert(m,p)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i)))).next((o=>{s.forEach(((c,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,ai.newInvalidDocument(f)))}));let l=yg();return o.forEach(((c,d)=>{const f=s.get(c);f!==void 0&&Og(f.mutation,d,ps.empty(),Er.now()),b1(r,d)&&(l=l.insert(c,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xle{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return we.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:co(i.createTime)}})(r)),we.resolve()}getNamedQuery(e,r){return we.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:lle(i.bundledQuery),readTime:co(i.readTime)}})(r)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ble{constructor(){this.overlays=new Vr(nt.comparator),this.qr=new Map}getOverlay(e,r){return we.resolve(this.overlays.get(r))}getOverlays(e,r){const n=cd();return we.forEach(r,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,s)=>{this.St(e,r,s)})),we.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(n)),we.resolve()}getOverlaysForCollection(e,r,n){const i=cd(),s=r.length+1,o=new nt(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>n&&i.set(c.getKey(),c)}return we.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Vr(((d,f)=>d-f));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let f=s.get(d.largestBatchId);f===null&&(f=cd(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=cd(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=i)););return we.resolve(l)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new $oe(r,n));let s=this.qr.get(r);s===void 0&&(s=Vt(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wle{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.Qr=new xn(Pn.$r),this.Ur=new xn(Pn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Pn(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new Pn(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new nt(new wr([])),n=new Pn(r,e),i=new Pn(r,e+1),s=[];return this.Ur.forEachInRange([n,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new nt(new wr([])),n=new Pn(r,e),i=new Pn(r,e+1);let s=Vt();return this.Ur.forEachInRange([n,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const r=new Pn(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Pn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return nt.comparator(e.key,r.key)||$t(e.Yr,r.Yr)}static Kr(e,r){return $t(e.Yr,r.Yr)||nt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _le{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new xn(Pn.$r)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Loe(s,r,n,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new Pn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return we.resolve(o)}lookupMutationBatch(e,r){return we.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),s=i<0?0:i;return we.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?Hk:this.tr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Pn(r,0),i=new Pn(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],(o=>{const l=this.Xr(o.Yr);s.push(l)})),we.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new xn($t);return r.forEach((i=>{const s=new Pn(i,0),o=new Pn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(l=>{n=n.add(l.Yr)}))})),we.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;nt.isDocumentKey(s)||(s=s.child(""));const o=new Pn(new nt(s),0);let l=new xn($t);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Yr)),!0)}),o),we.resolve(this.ti(l))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){cr(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return we.forEach(r.mutations,(i=>{const s=new Pn(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new Pn(r,0),i=this.Zr.firstAfterOrEqual(n);return we.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jle{constructor(e){this.ri=e,this.docs=(function(){return new Vr(nt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return we.resolve(n?n.document.mutableCopy():ai.newInvalidDocument(r))}getEntries(e,r){let n=xl();return r.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():ai.newInvalidDocument(i))})),we.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=xl();const o=r.path,l=new nt(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Xae(Qae(f),n)<=0||(i.has(f.key)||b1(r,f))&&(s=s.insert(f.key,f.mutableCopy()))}return we.resolve(s)}getAllFromCollectionGroup(e,r,n,i){ht(9500)}ii(e,r){return we.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new Nle(this)}getSize(e){return we.resolve(this.size)}}class Nle extends gle{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),we.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sle{constructor(e){this.persistence=e,this.si=new ah((r=>Yk(r)),Qk),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.oi=0,this._i=new nI,this.targetCount=0,this.ai=em.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),we.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new em(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,we.resolve()}updateTargetData(e,r){return this.Pr(r),we.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),we.waitFor(s).next((()=>i))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return we.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),we.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),we.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),we.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return we.resolve(n)}containsKey(e,r){return we.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,r){this.ui={},this.overlays={},this.ci=new g1(0),this.li=!1,this.li=!0,this.hi=new wle,this.referenceDelegate=e(this),this.Pi=new Sle(this),this.indexManager=new cle,this.remoteDocumentCache=(function(i){return new jle(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new ole(r),this.Ii=new xle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new ble,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new _le(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){Be("MemoryPersistence","Starting transaction:",e);const i=new Tle(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,r){return we.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class Tle extends Zae{constructor(e){super(),this.currentSequenceNumber=e}}class iI{constructor(e){this.persistence=e,this.Ri=new nI,this.Vi=null}static mi(e){return new iI(e)}get fi(){if(this.Vi)return this.Vi;throw ht(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),we.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),we.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),we.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.fi,(n=>{const i=nt.fromPath(n);return this.gi(e,i).next((s=>{s||r.removeEntry(i,xt.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return we.or([()=>we.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Ob{constructor(e,r){this.persistence=e,this.pi=new ah((n=>roe(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=ple(this,r)}static mi(e,r){return new Ob(e,r)}Ei(){}di(e){return we.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return we.forEach(this.pi,((n,i)=>this.br(e,n,i).next((s=>s?we.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,r).next((l=>{l||(n++,s.removeEntry(o,xt.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),we.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),we.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),we.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Yx(e.data.value)),r}br(e,r,n){return we.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return we.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Vt(),i=Vt();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new sI(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ele{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ple{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tne()?8:eoe(mi())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.ys(e,r).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,r,i,n).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new Ele;return this.Ss(e,r,o).next((l=>{if(s.result=l,this.Vs)return this.bs(e,r,o,l.size)}))})).next((()=>s.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(lf()<=Lt.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",cf(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),we.resolve()):(lf()<=Lt.DEBUG&&Be("QueryEngine","Query:",cf(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(lf()<=Lt.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",cf(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lo(r))):we.resolve())}ys(e,r){if(_3(r))return we.resolve(null);let n=lo(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=VP(r,null,"F"),n=lo(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const o=Vt(...s);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,n).next((c=>{const d=this.Ds(r,l);return this.Cs(r,d,o,c.readTime)?this.ys(e,VP(r,null,"F")):this.vs(e,d,r,c)}))))})))))}ws(e,r,n,i){return _3(r)||i.isEqual(xt.min())?we.resolve(null):this.ps.getDocuments(e,n).next((s=>{const o=this.Ds(r,s);return this.Cs(r,o,n,i)?we.resolve(null):(lf()<=Lt.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cf(r)),this.vs(e,o,r,Yae(i,ey)).next((l=>l)))}))}Ds(e,r){let n=new xn($7(e));return r.forEach(((i,s)=>{b1(e,s)&&(n=n.add(s))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,r,n){return lf()<=Lt.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",cf(r)),this.ps.getDocumentsMatchingQuery(e,r,Jc.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((s=>(r.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="LocalStore",Ale=3e8;class Cle{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new Vr($t),this.xs=new ah((s=>Yk(s)),Qk),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vle(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function kle(t,e,r,n){return new Cle(t,e,r,n)}async function oz(t,e){const r=_t(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((s=>{const o=[],l=[];let c=Vt();for(const d of i){o.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return r.localDocuments.getDocuments(n,c).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:l})))}))}))}function Ile(t,e){const r=_t(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,f){const m=d.batch,p=m.keys();let v=we.resolve();return p.forEach((w=>{v=v.next((()=>f.getEntry(c,w))).next((x=>{const g=d.docVersions.get(w);cr(g!==null,48541),x.version.compareTo(g)<0&&(m.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),f.addEntry(x)))}))})),v.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(r,n,e,s).next((()=>s.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let c=Vt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function lz(t){const e=_t(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function Ole(t,e){const r=_t(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const l=[];e.targetChanges.forEach(((f,m)=>{const p=i.get(m);if(!p)return;l.push(r.Pi.removeMatchingKeys(s,f.removedDocuments,m).next((()=>r.Pi.addMatchingKeys(s,f.addedDocuments,m))));let v=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(Xn.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,n)),i=i.insert(m,v),(function(x,g,_){return x.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=Ale?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(p,v,f)&&l.push(r.Pi.updateTargetData(s,v))}));let c=xl(),d=Vt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(s,f))})),l.push(Rle(s,o,e.documentUpdates).next((f=>{c=f.ks,d=f.qs}))),!n.isEqual(xt.min())){const f=r.Pi.getLastRemoteSnapshotVersion(s).next((m=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n)));l.push(f)}return we.waitFor(l).next((()=>o.apply(s))).next((()=>r.localDocuments.getLocalViewOfDocuments(s,c,d))).next((()=>c))})).then((s=>(r.Ms=i,s)))}function Rle(t,e,r){let n=Vt(),i=Vt();return r.forEach((s=>n=n.add(s))),e.getEntries(t,n).next((s=>{let o=xl();return r.forEach(((l,c)=>{const d=s.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(xt.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Be(aI,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{ks:o,qs:i}}))}function Mle(t,e){const r=_t(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=Hk),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function Dle(t,e){const r=_t(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((s=>s?(i=s,we.resolve(i)):r.Pi.allocateTargetId(n).next((o=>(i=new Vc(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function WP(t,e,r){const n=_t(t),i=n.Ms.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(o=>n.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Lm(o))throw o;Be(aI,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function M3(t,e,r){const n=_t(t);let i=xt.min(),s=Vt();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,d,f){const m=_t(c),p=m.xs.get(f);return p!==void 0?we.resolve(m.Ms.get(p)):m.Pi.getTargetData(d,f)})(n,o,lo(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{s=c}))})).next((()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:xt.min(),r?s:Vt()))).next((l=>(Lle(n,woe(e),l),{documents:l,Qs:s})))))}function Lle(t,e,r){let n=t.Os.get(e)||xt.min();r.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),t.Os.set(e,n)}class D3{constructor(){this.activeTargetIds=Eoe()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $le{constructor(){this.Mo=new D3,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new D3,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fle{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3="ConnectivityMonitor";class $3{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Be(L3,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Be(L3,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hx=null;function HP(){return hx===null?hx=(function(){return 268435456+Math.round(2147483648*Math.random())})():hx++,"0x"+hx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="RestConnection",Vle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ble{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Eb?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,s){const o=HP(),l=this.zo(e,r.toUriEncodedString());Be(IN,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:d}=new URL(l),f=nh(d);return this.Jo(e,l,c,n,f).then((m=>(Be(IN,`Received RPC '${e}' ${o}: `,m),m)),(m=>{throw Qf(IN,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",n),m}))}Ho(e,r,n,i,s,o){return this.Go(e,r,n,i,s)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,s)=>e[s]=i)),n&&n.headers.forEach(((i,s)=>e[s]=i))}zo(e,r){const n=Vle[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qle{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni="WebChannelConnection";class Ule extends Ble{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,s){const o=HP();return new Promise(((l,c)=>{const d=new d7;d.setWithCredentials(!0),d.listenOnce(h7.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Kx.NO_ERROR:const m=d.getResponseJson();Be(ni,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Kx.TIMEOUT:Be(ni,`RPC '${e}' ${o} timed out`),c(new $e(xe.DEADLINE_EXCEEDED,"Request time out"));break;case Kx.HTTP_ERROR:const p=d.getStatus();if(Be(ni,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v==null?void 0:v.error;if(w&&w.status&&w.message){const x=(function(_){const T=_.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(T)>=0?T:xe.UNKNOWN})(w.status);c(new $e(x,w.message))}else c(new $e(xe.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new $e(xe.UNAVAILABLE,"Connection failed."));break;default:ht(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Be(ni,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);Be(ni,`RPC '${e}' ${o} sending request:`,i),d.send(r,"POST",f,n,15)}))}T_(e,r,n){const i=HP(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=p7(),l=m7(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const f=s.join("");Be(ni,`Creating RPC '${e}' stream ${i}: ${f}`,c);const m=o.createWebChannel(f,c);this.I_(m);let p=!1,v=!1;const w=new qle({Yo:g=>{v?Be(ni,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(p||(Be(ni,`Opening RPC '${e}' stream ${i} transport.`),m.open(),p=!0),Be(ni,`RPC '${e}' stream ${i} sending:`,g),m.send(g))},Zo:()=>m.close()}),x=(g,_,T)=>{g.listen(_,(P=>{try{T(P)}catch(k){setTimeout((()=>{throw k}),0)}}))};return x(m,gg.EventType.OPEN,(()=>{v||(Be(ni,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),x(m,gg.EventType.CLOSE,(()=>{v||(v=!0,Be(ni,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(m))})),x(m,gg.EventType.ERROR,(g=>{v||(v=!0,Qf(ni,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),w.a_(new $e(xe.UNAVAILABLE,"The operation could not be completed")))})),x(m,gg.EventType.MESSAGE,(g=>{var _;if(!v){const T=g.data[0];cr(!!T,16349);const P=T,k=(P==null?void 0:P.error)||((_=P[0])==null?void 0:_.error);if(k){Be(ni,`RPC '${e}' stream ${i} received error:`,k);const A=k.status;let C=(function(O){const R=nn[O];if(R!==void 0)return Y7(R)})(A),E=k.message;C===void 0&&(C=xe.INTERNAL,E="Unknown error status: "+A+" with message "+k.message),v=!0,w.a_(new $e(C,E)),m.close()}else Be(ni,`RPC '${e}' stream ${i} received:`,T),w.u_(T)}})),x(l,f7.STAT_EVENT,(g=>{g.stat===OP.PROXY?Be(ni,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===OP.NOPROXY&&Be(ni,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function ON(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t){return new Goe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="PersistentStream";class uz{constructor(e,r,n,i,s,o,l,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cz(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===xe.RESOURCE_EXHAUSTED?(vl(r.toString()),vl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new $e(xe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Be(F3,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(Be(F3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zle extends uz{constructor(e,r,n,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Qoe(this.serializer,e),n=(function(s){if(!("targetChange"in s))return xt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?xt.min():o.readTime?co(o.readTime):xt.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=zP(this.serializer),r.addTarget=(function(s,o){let l;const c=o.target;if(l=$P(c)?{documents:Zoe(s,c)}:{query:ele(s,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=J7(s,o.resumeToken);const d=BP(s,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(xt.min())>0){l.readTime=Ib(s,o.snapshotVersion.toTimestamp());const d=BP(s,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const n=rle(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=zP(this.serializer),r.removeTarget=e,this.q_(r)}}class Wle extends uz{constructor(e,r,n,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return cr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,cr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){cr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Joe(e.writeResults,e.commitTime),n=co(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=zP(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>Xoe(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hle{}class Gle extends Hle{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new $e(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,qP(r,n),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $e(xe.UNKNOWN,s.toString())}))}Ho(e,r,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,qP(r,n),i,o,l,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(xe.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Kle{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vl(r),this.aa=!1):Be("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="RemoteStore";class Yle{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{n.enqueueAndForget((async()=>{oh(this)&&(Be(Fd,"Restarting streams for network reachability change."),await(async function(c){const d=_t(c);d.Ea.add(4),await x0(d),d.Ra.set("Unknown"),d.Ea.delete(4),await S1(d)})(this))}))})),this.Ra=new Kle(n,i)}}async function S1(t){if(oh(t))for(const e of t.da)await e(!0)}async function x0(t){for(const e of t.da)await e(!1)}function dz(t,e){const r=_t(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),uI(r)?cI(r):$m(r).O_()&&lI(r,e))}function oI(t,e){const r=_t(t),n=$m(r);r.Ia.delete(e),n.O_()&&hz(r,e),r.Ia.size===0&&(n.O_()?n.L_():oh(r)&&r.Ra.set("Unknown"))}function lI(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}$m(t).Y_(e)}function hz(t,e){t.Va.Ue(e),$m(t).Z_(e)}function cI(t){t.Va=new Uoe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),$m(t).start(),t.Ra.ua()}function uI(t){return oh(t)&&!$m(t).x_()&&t.Ia.size>0}function oh(t){return _t(t).Ea.size===0}function fz(t){t.Va=void 0}async function Qle(t){t.Ra.set("Online")}async function Xle(t){t.Ia.forEach(((e,r)=>{lI(t,e)}))}async function Jle(t,e){fz(t),uI(t)?(t.Ra.ha(e),cI(t)):t.Ra.set("Unknown")}async function Zle(t,e,r){if(t.Ra.set("Online"),e instanceof X7&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(n){Be(Fd,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Rb(t,n)}else if(e instanceof Jx?t.Va.Ze(e):e instanceof Q7?t.Va.st(e):t.Va.tt(e),!r.isEqual(xt.min()))try{const n=await lz(t.localStore);r.compareTo(n)>=0&&await(function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,d)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(Xn.EMPTY_BYTE_STRING,f.snapshotVersion)),hz(s,c);const m=new Vc(f.target,c,d,f.sequenceNumber);lI(s,m)})),s.remoteSyncer.applyRemoteEvent(l)})(t,r)}catch(n){Be(Fd,"Failed to raise snapshot:",n),await Rb(t,n)}}async function Rb(t,e,r){if(!Lm(e))throw e;t.Ea.add(1),await x0(t),t.Ra.set("Offline"),r||(r=()=>lz(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Be(Fd,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await S1(t)}))}function mz(t,e){return e().catch((r=>Rb(t,r,e)))}async function T1(t){const e=_t(t),r=ru(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hk;for(;ece(e);)try{const i=await Mle(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,tce(e,i)}catch(i){await Rb(e,i)}pz(e)&&gz(e)}function ece(t){return oh(t)&&t.Ta.length<10}function tce(t,e){t.Ta.push(e);const r=ru(t);r.O_()&&r.X_&&r.ea(e.mutations)}function pz(t){return oh(t)&&!ru(t).x_()&&t.Ta.length>0}function gz(t){ru(t).start()}async function rce(t){ru(t).ra()}async function nce(t){const e=ru(t);for(const r of t.Ta)e.ea(r.mutations)}async function ice(t,e,r){const n=t.Ta.shift(),i=eI.from(n,e,r);await mz(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await T1(t)}async function sce(t,e){e&&ru(t).X_&&await(async function(n,i){if((function(o){return Voe(o)&&o!==xe.ABORTED})(i.code)){const s=n.Ta.shift();ru(n).B_(),await mz(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await T1(n)}})(t,e),pz(t)&&gz(t)}async function V3(t,e){const r=_t(t);r.asyncQueue.verifyOperationInProgress(),Be(Fd,"RemoteStore received new credentials");const n=oh(r);r.Ea.add(3),await x0(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await S1(r)}async function ace(t,e){const r=_t(t);e?(r.Ea.delete(2),await S1(r)):e||(r.Ea.add(2),await x0(r),r.Ra.set("Unknown"))}function $m(t){return t.ma||(t.ma=(function(r,n,i){const s=_t(r);return s.sa(),new zle(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Qle.bind(null,t),t_:Xle.bind(null,t),r_:Jle.bind(null,t),H_:Zle.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),uI(t)?cI(t):t.Ra.set("Unknown")):(await t.ma.stop(),fz(t))}))),t.ma}function ru(t){return t.fa||(t.fa=(function(r,n,i){const s=_t(r);return s.sa(),new Wle(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:rce.bind(null,t),r_:sce.bind(null,t),ta:nce.bind(null,t),na:ice.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await T1(t)):(await t.fa.stop(),t.Ta.length>0&&(Be(Fd,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new ul,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const o=Date.now()+n,l=new dI(e,r,o,i,s);return l.start(n),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hI(t,e){if(vl("AsyncQueue",`${e}: ${t}`),Lm(t))return new $e(xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{static emptySet(e){return new Ef(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||nt.comparator(r.key,n.key):(r,n)=>nt.comparator(r.key,n.key),this.keyedMap=yg(),this.sortedSet=new Vr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ef)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Ef;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.ga=new Vr(nt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):ht(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class tm{constructor(e,r,n,i,s,o,l,c,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,i,s){const o=[];return r.forEach((l=>{o.push({type:0,doc:l})})),new tm(e,r,Ef.emptySet(r),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&x1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oce{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lce{constructor(){this.queries=q3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=_t(r),s=i.queries;i.queries=q3(),s.forEach(((o,l)=>{for(const c of l.Sa)c.onError(n)}))})(this,new $e(xe.ABORTED,"Firestore shutting down"))}}function q3(){return new ah((t=>L7(t)),x1)}async function yz(t,e){const r=_t(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new oce,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(i,!0);break;case 1:s.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const l=hI(o,`Initialization of query '${cf(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,s),s.Sa.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&fI(r)}async function vz(t,e){const r=_t(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function cce(t,e){const r=_t(t);let n=!1;for(const i of e){const s=i.query,o=r.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(n=!0);o.wa=i}}n&&fI(r)}function uce(t,e,r){const n=_t(t),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(r);n.queries.delete(e)}function fI(t){t.Ca.forEach((e=>{e.next()}))}var GP,U3;(U3=GP||(GP={})).Ma="default",U3.Cache="cache";class xz{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new tm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=tm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==GP.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e){this.key=e}}class wz{constructor(e){this.key=e}}class dce{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=$7(e),this.tu=new Ef(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new B3,i=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,m)=>{const p=i.get(f),v=b1(this.query,m)?m:null,w=!!p&&this.mutatedKeys.has(p.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let g=!1;p&&v?p.data.isEqual(v.data)?w!==x&&(n.track({type:3,doc:v}),g=!0):this.su(p,v)||(n.track({type:2,doc:v}),g=!0,(c&&this.eu(v,c)>0||d&&this.eu(v,d)<0)&&(l=!0)):!p&&v?(n.track({type:0,doc:v}),g=!0):p&&!v&&(n.track({type:1,doc:p}),g=!0,(c||d)&&(l=!0)),g&&(v?(o=o.add(v),s=x?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),n.track({type:1,doc:f})}return{tu:o,iu:n,Cs:l,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,m)=>(function(v,w){const x=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht(20277,{Rt:g})}};return x(v)-x(w)})(f.type,m.type)||this.eu(f.doc,m.doc))),this.ou(n),i=i??!1;const l=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new tm(this.query,e.tu,s,o,e.mutatedKeys,c===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B3,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Vt(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new wz(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new bz(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=Vt();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return tm.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mI="SyncEngine";class hce{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class fce{constructor(e){this.key=e,this.hu=!1}}class mce{constructor(e,r,n,i,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ah((l=>L7(l)),x1),this.Iu=new Map,this.Eu=new Set,this.du=new Vr(nt.comparator),this.Au=new Map,this.Ru=new nI,this.Vu={},this.mu=new Map,this.fu=em.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pce(t,e,r=!0){const n=Ez(t);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await _z(n,e,r,!0),i}async function gce(t,e){const r=Ez(t);await _z(r,e,!0,!1)}async function _z(t,e,r,n){const i=await Dle(t.localStore,lo(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,r);let l;return n&&(l=await yce(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&dz(t.remoteStore,i),l}async function yce(t,e,r,n,i){t.pu=(m,p,v)=>(async function(x,g,_,T){let P=g.view.ru(_);P.Cs&&(P=await M3(x.localStore,g.query,!1).then((({documents:E})=>g.view.ru(E,P))));const k=T&&T.targetChanges.get(g.targetId),A=T&&T.targetMismatches.get(g.targetId)!=null,C=g.view.applyChanges(P,x.isPrimaryClient,k,A);return W3(x,g.targetId,C.au),C.snapshot})(t,m,p,v);const s=await M3(t.localStore,e,!0),o=new dce(e,s.Qs),l=o.ru(s.documents),c=v0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,c);W3(t,r,d.au);const f=new hce(e,r,o);return t.Tu.set(e,f),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),d.snapshot}async function vce(t,e,r){const n=_t(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter((o=>!x1(o,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await WP(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&oI(n.remoteStore,i.targetId),KP(n,i.targetId)})).catch(Dm)):(KP(n,i.targetId),await WP(n.localStore,i.targetId,!0))}async function xce(t,e){const r=_t(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),oI(r.remoteStore,n.targetId))}async function bce(t,e,r){const n=Ece(t);try{const i=await(function(o,l){const c=_t(o),d=Er.now(),f=l.reduce(((v,w)=>v.add(w.key)),Vt());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let w=xl(),x=Vt();return c.Ns.getEntries(v,f).next((g=>{w=g,w.forEach(((_,T)=>{T.isValidDocument()||(x=x.add(_))}))})).next((()=>c.localDocuments.getOverlayedDocuments(v,w))).next((g=>{m=g;const _=[];for(const T of l){const P=Moe(T,m.get(T.key).overlayedDocument);P!=null&&_.push(new gu(T.key,P,A7(P.value.mapValue),zs.exists(!0)))}return c.mutationQueue.addMutationBatch(v,d,_,l)})).next((g=>{p=g;const _=g.applyToLocalDocumentSet(m,x);return c.documentOverlayCache.saveOverlays(v,g.batchId,_)}))})).then((()=>({batchId:p.batchId,changes:V7(m)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(o,l,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new Vr($t)),d=d.insert(l,c),o.Vu[o.currentUser.toKey()]=d})(n,i.batchId,r),await b0(n,i.changes),await T1(n.remoteStore)}catch(i){const s=hI(i,"Failed to persist write");r.reject(s)}}async function jz(t,e){const r=_t(t);try{const n=await Ole(r.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=r.Au.get(s);o&&(cr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?cr(o.hu,14607):i.removedDocuments.size>0&&(cr(o.hu,42227),o.hu=!1))})),await b0(r,n,e)}catch(n){await Dm(n)}}function z3(t,e,r){const n=_t(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const c=_t(o);c.onlineState=l;let d=!1;c.queries.forEach(((f,m)=>{for(const p of m.Sa)p.va(l)&&(d=!0)})),d&&fI(c)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function wce(t,e,r){const n=_t(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),s=i&&i.key;if(s){let o=new Vr(nt.comparator);o=o.insert(s,ai.newNoDocument(s,xt.min()));const l=Vt().add(s),c=new j1(xt.min(),new Map,new Vr($t),o,l);await jz(n,c),n.du=n.du.remove(s),n.Au.delete(e),pI(n)}else await WP(n.localStore,e,!1).then((()=>KP(n,e,r))).catch(Dm)}async function _ce(t,e){const r=_t(t),n=e.batch.batchId;try{const i=await Ile(r.localStore,e);Sz(r,n,null),Nz(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await b0(r,i)}catch(i){await Dm(i)}}async function jce(t,e,r){const n=_t(t);try{const i=await(function(o,l){const c=_t(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next((m=>(cr(m!==null,37113),f=m.keys(),c.mutationQueue.removeMutationBatch(d,m)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>c.localDocuments.getDocuments(d,f)))}))})(n.localStore,e);Sz(n,e,r),Nz(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await b0(n,i)}catch(i){await Dm(i)}}function Nz(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function Sz(t,e,r){const n=_t(t);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function KP(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||Tz(t,n)}))}function Tz(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(oI(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),pI(t))}function W3(t,e,r){for(const n of r)n instanceof bz?(t.Ru.addReference(n.key,e),Nce(t,n)):n instanceof wz?(Be(mI,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||Tz(t,n.key)):ht(19791,{wu:n})}function Nce(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(Be(mI,"New document in limbo: "+r),t.Eu.add(n),pI(t))}function pI(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new nt(wr.fromString(e)),n=t.fu.next();t.Au.set(n,new fce(r)),t.du=t.du.insert(r,n),dz(t.remoteStore,new Vc(lo(Xk(r.path)),n,"TargetPurposeLimboResolution",g1.ce))}}async function b0(t,e,r){const n=_t(t),i=[],s=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach(((l,c)=>{o.push(n.pu(c,e,r).then((d=>{var f;if((d||r)&&n.isPrimaryClient){const m=d?!d.fromCache:(f=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:f.current;n.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=sI.As(c.targetId,d);s.push(m)}})))})),await Promise.all(o),n.Pu.H_(i),await(async function(c,d){const f=_t(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>we.forEach(d,(p=>we.forEach(p.Es,(v=>f.persistence.referenceDelegate.addReference(m,p.targetId,v))).next((()=>we.forEach(p.ds,(v=>f.persistence.referenceDelegate.removeReference(m,p.targetId,v)))))))))}catch(m){if(!Lm(m))throw m;Be(aI,"Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const v=f.Ms.get(p),w=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(w);f.Ms=f.Ms.insert(p,x)}}})(n.localStore,s))}async function Sce(t,e){const r=_t(t);if(!r.currentUser.isEqual(e)){Be(mI,"User change. New user:",e.toKey());const n=await oz(r.localStore,e);r.currentUser=e,(function(s,o){s.mu.forEach((l=>{l.forEach((c=>{c.reject(new $e(xe.CANCELLED,o))}))})),s.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await b0(r,n.Ls)}}function Tce(t,e){const r=_t(t),n=r.Au.get(e);if(n&&n.hu)return Vt().add(n.key);{let i=Vt();const s=r.Iu.get(e);if(!s)return i;for(const o of s){const l=r.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function Ez(t){const e=_t(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wce.bind(null,e),e.Pu.H_=cce.bind(null,e.eventManager),e.Pu.yu=uce.bind(null,e.eventManager),e}function Ece(t){const e=_t(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_ce.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jce.bind(null,e),e}class Mb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=N1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return kle(this.persistence,new Ple,e.initialUser,this.serializer)}Cu(e){return new az(iI.mi,this.serializer)}Du(e){return new $le}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mb.provider={build:()=>new Mb};class Pce extends Mb{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){cr(this.persistence.referenceDelegate instanceof Ob,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new fle(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Wi.withCacheSize(this.cacheSizeBytes):Wi.DEFAULT;return new az((n=>Ob.mi(n,r)),this.serializer)}}class YP{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>z3(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sce.bind(null,this.syncEngine),await ace(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lce})()}createDatastore(e){const r=N1(e.databaseInfo.databaseId),n=(function(s){return new Ule(s)})(e.databaseInfo);return(function(s,o,l,c){return new Gle(s,o,l,c)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,s,o,l){return new Yle(n,i,s,o,l)})(this.localStore,this.datastore,e.asyncQueue,(r=>z3(this.syncEngine,r,0)),(function(){return $3.v()?new $3:new Fle})())}createSyncEngine(e,r){return(function(i,s,o,l,c,d,f){const m=new mce(i,s,o,l,c,d);return f&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const s=_t(i);Be(Fd,"RemoteStore shutting down."),s.Ea.add(5),await x0(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}YP.provider={build:()=>new YP};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu="FirestoreClient";class Ace{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=si.UNAUTHENTICATED,this.clientId=Wk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async o=>{Be(nu,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(Be(nu,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ul;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=hI(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function RN(t,e){t.asyncQueue.verifyOperationInProgress(),Be(nu,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await oz(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function H3(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Cce(t);Be(nu,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>V3(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>V3(e.remoteStore,i))),t._onlineComponents=e}async function Cce(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Be(nu,"Using user provided OfflineComponentProvider");try{await RN(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;Qf("Error using user provided cache. Falling back to memory cache: "+r),await RN(t,new Mb)}}else Be(nu,"Using default OfflineComponentProvider"),await RN(t,new Pce(void 0));return t._offlineComponents}async function Az(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Be(nu,"Using user provided OnlineComponentProvider"),await H3(t,t._uninitializedComponentsProvider._online)):(Be(nu,"Using default OnlineComponentProvider"),await H3(t,new YP))),t._onlineComponents}function kce(t){return Az(t).then((e=>e.syncEngine))}async function Cz(t){const e=await Az(t),r=e.eventManager;return r.onListen=pce.bind(null,e.syncEngine),r.onUnlisten=vce.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=gce.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=xce.bind(null,e.syncEngine),r}function Ice(t,e,r={}){const n=new ul;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,l,c,d){const f=new Pz({next:p=>{f.Nu(),o.enqueueAndForget((()=>vz(s,m)));const v=p.docs.has(l);!v&&p.fromCache?d.reject(new $e(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&c&&c.source==="server"?d.reject(new $e(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new xz(Xk(l.path),f,{includeMetadataChanges:!0,qa:!0});return yz(s,m)})(await Cz(t),t.asyncQueue,e,r,n))),n.promise}function Oce(t,e,r={}){const n=new ul;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,l,c,d){const f=new Pz({next:p=>{f.Nu(),o.enqueueAndForget((()=>vz(s,m))),p.fromCache&&c.source==="server"?d.reject(new $e(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new xz(l,f,{includeMetadataChanges:!0,qa:!0});return yz(s,m)})(await Cz(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz="firestore.googleapis.com",K3=!0;class Y3{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $e(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Iz,this.ssl=K3}else this.host=e.host,this.ssl=e.ssl??K3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sz;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dle)throw new $e(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kae("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kz(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new $e(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new $e(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new $e(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class E1{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new $ae;switch(n.type){case"firstParty":return new qae(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $e(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=G3.get(r);n&&(Be("ComponentProvider","Removing Datastore"),G3.delete(r),n.terminate())})(this),Promise.resolve()}}function Rce(t,e,r,n={}){var d;t=Na(t,E1);const i=nh(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${r}`;i&&(Ok(`https://${l}`),Rk("Firestore",!0)),s.host!==Iz&&s.host!==l&&Qf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:n};if(!Xc(c,o)&&(t._setSettings(c),n.mockUserToken)){let f,m;if(typeof n.mockUserToken=="string")f=n.mockUserToken,m=si.MOCK_USER;else{f=v9(n.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new $e(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new si(p)}t._authCredentials=new Fae(new y7(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P1=class Oz{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Oz(this.firestore,e,this._query)}};class en{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(p0(r,en._jsonSchema))return new en(e,n||null,new nt(wr.fromString(r.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:ln("string",en._jsonSchemaVersion),referencePath:ln("string")};class Hc extends P1{constructor(e,r,n){super(e,r,Xk(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new nt(e))}withConverter(e){return new Hc(this.firestore,e,this._path)}}function In(t,e,...r){if(t=Gr(t),v7("collection","path",e),t instanceof E1){const n=wr.fromString(e,...r);return l3(n),new Hc(t,null,n)}{if(!(t instanceof en||t instanceof Hc))throw new $e(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wr.fromString(e,...r));return l3(n),new Hc(t.firestore,null,n)}}function Ci(t,e,...r){if(t=Gr(t),arguments.length===1&&(e=Wk.newId()),v7("doc","path",e),t instanceof E1){const n=wr.fromString(e,...r);return o3(n),new en(t,null,new nt(n))}{if(!(t instanceof en||t instanceof Hc))throw new $e(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wr.fromString(e,...r));return o3(n),new en(t.firestore,t instanceof Hc?t.converter:null,new nt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="AsyncQueue";class X3{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cz(this,"async_queue_retry"),this._c=()=>{const n=ON();n&&Be(Q3,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=ON();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=ON();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new ul;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lm(e))throw e;Be(Q3,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,vl("INTERNAL UNHANDLED ERROR: ",J3(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=dI.createAndSchedule(this,e,r,n,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&ht(47125,{Pc:J3(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function J3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class lh extends E1{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new X3,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X3(e),this._firestoreClient=void 0,await e}}}function or(t,e){const r=typeof t=="object"?t:d1(),n=typeof t=="string"?t:Eb,i=fu(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=p9("firestore");s&&Rce(i,...s)}return i}function gI(t){if(t._terminated)throw new $e(xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Mce(t),t._firestoreClient}function Mce(t){var n,i,s;const e=t._freezeSettings(),r=(function(l,c,d,f){return new soe(l,c,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,kz(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Ace(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fs(Xn.fromBase64String(e))}catch(r){throw new $e(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Fs(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(p0(e,Fs._jsonSchema))return Fs.fromBase64String(e.bytes)}}Fs._jsonSchemaVersion="firestore/bytes/1.0",Fs._jsonSchema={type:ln("string",Fs._jsonSchemaVersion),bytes:ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new $e(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new $e(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new $e(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:uo._jsonSchemaVersion}}static fromJSON(e){if(p0(e,uo._jsonSchema))return new uo(e.latitude,e.longitude)}}uo._jsonSchemaVersion="firestore/geoPoint/1.0",uo._jsonSchema={type:ln("string",uo._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ho._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(p0(e,ho._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new ho(e.vectorValues);throw new $e(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ho._jsonSchemaVersion="firestore/vectorValue/1.0",ho._jsonSchema={type:ln("string",ho._jsonSchemaVersion),vectorValues:ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dce=/^__.*__$/;class Lce{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new gu(e,this.data,this.fieldMask,r,this.fieldTransforms):new y0(e,this.data,r,this.fieldTransforms)}}class Rz{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new gu(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Mz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht(40011,{Ac:t})}}class yI{constructor(e,r,n,i,s,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yI({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Db(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Mz(this.Ac)&&Dce.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $ce{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||N1(e)}Cc(e,r,n,i=!1){return new yI({Ac:e,methodName:r,Dc:n,path:Hn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k1(t){const e=t._freezeSettings(),r=N1(t._databaseId);return new $ce(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Dz(t,e,r,n,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,r,i);xI("Data must be an object, but it was:",o,n);const l=Lz(n,o);let c,d;if(s.merge)c=new ps(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const p=QP(e,m,r);if(!o.contains(p))throw new $e(xe.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Fz(f,p)||f.push(p)}c=new ps(f),d=o.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,d=o.fieldTransforms;return new Lce(new Hi(l),c,d)}class I1 extends C1{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof I1}}class vI extends C1{_toFieldTransform(e){return new koe(e.path,new iy)}isEqual(e){return e instanceof vI}}function Fce(t,e,r,n){const i=t.Cc(1,e,r);xI("Data must be an object, but it was:",i,n);const s=[],o=Hi.empty();pu(n,((c,d)=>{const f=bI(e,c,r);d=Gr(d);const m=i.yc(f);if(d instanceof I1)s.push(f);else{const p=w0(d,m);p!=null&&(s.push(f),o.set(f,p))}}));const l=new ps(s);return new Rz(o,l,i.fieldTransforms)}function Vce(t,e,r,n,i,s){const o=t.Cc(1,e,r),l=[QP(e,n,r)],c=[i];if(s.length%2!=0)throw new $e(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(QP(e,s[p])),c.push(s[p+1]);const d=[],f=Hi.empty();for(let p=l.length-1;p>=0;--p)if(!Fz(d,l[p])){const v=l[p];let w=c[p];w=Gr(w);const x=o.yc(v);if(w instanceof I1)d.push(v);else{const g=w0(w,x);g!=null&&(d.push(v),f.set(v,g))}}const m=new ps(d);return new Rz(f,m,o.fieldTransforms)}function Bce(t,e,r,n=!1){return w0(r,t.Cc(n?4:3,e))}function w0(t,e){if($z(t=Gr(t)))return xI("Unsupported field value:",e,t),Lz(t,e);if(t instanceof C1)return(function(n,i){if(!Mz(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const s=[];let o=0;for(const l of n){let c=w0(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(t,e)}return(function(n,i){if((n=Gr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Poe(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Er.fromDate(n);return{timestampValue:Ib(i.serializer,s)}}if(n instanceof Er){const s=new Er(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ib(i.serializer,s)}}if(n instanceof uo)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Fs)return{bytesValue:J7(i.serializer,n._byteString)};if(n instanceof en){const s=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:rI(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof ho)return(function(o,l){return{mapValue:{fields:{[E7]:{stringValue:P7},[Pb]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Jk(l.serializer,d)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${p1(n)}`)})(t,e)}function Lz(t,e){const r={};return w7(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pu(t,((n,i)=>{const s=w0(i,e.mc(n));s!=null&&(r[n]=s)})),{mapValue:{fields:r}}}function $z(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Er||t instanceof uo||t instanceof Fs||t instanceof en||t instanceof C1||t instanceof ho)}function xI(t,e,r){if(!$z(r)||!x7(r)){const n=p1(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function QP(t,e,r){if((e=Gr(e))instanceof A1)return e._internalPath;if(typeof e=="string")return bI(t,e);throw Db("Field path arguments must be of type string or ",t,!1,void 0,r)}const qce=new RegExp("[~\\*/\\[\\]]");function bI(t,e,r){if(e.search(qce)>=0)throw Db(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new A1(...e.split("."))._internalPath}catch{throw Db(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Db(t,e,r,n,i){const s=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${n}`),o&&(c+=` in document ${i}`),c+=")"),new $e(xe.INVALID_ARGUMENT,l+t+c)}function Fz(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Uce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(wI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Uce extends Vz{data(){return super.data()}}function wI(t,e){return typeof e=="string"?bI(t,e):e instanceof A1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zce(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $e(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _I{}class Wce extends _I{}function Ta(t,e,...r){let n=[];e instanceof _I&&n.push(e),n=n.concat(r),(function(s){const o=s.filter((c=>c instanceof jI)).length,l=s.filter((c=>c instanceof O1)).length;if(o>1||o>0&&l>0)throw new $e(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class O1 extends Wce{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new O1(e,r,n)}_apply(e){const r=this._parse(e);return Bz(e._query,r),new P1(e.firestore,e.converter,FP(e._query,r))}_parse(e){const r=k1(e.firestore);return(function(s,o,l,c,d,f,m){let p;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new $e(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){eD(m,f);const w=[];for(const x of m)w.push(Z3(c,s,x));p={arrayValue:{values:w}}}else p=Z3(c,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||eD(m,f),p=Bce(l,o,m,f==="in"||f==="not-in");return on.create(d,f,p)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function li(t,e,r){const n=e,i=wI("where",t);return O1._create(i,n,r)}class jI extends _I{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new jI(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Sa.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)Bz(o,c),o=FP(o,c)})(e._query,r),new P1(e.firestore,e.converter,FP(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Z3(t,e,r){if(typeof(r=Gr(r))=="string"){if(r==="")throw new $e(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D7(e)&&r.indexOf("/")!==-1)throw new $e(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(wr.fromString(r));if(!nt.isDocumentKey(n))throw new $e(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return g3(t,new nt(n))}if(r instanceof en)return g3(t,r._key);throw new $e(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${p1(r)}.`)}function eD(t,e){if(!Array.isArray(t)||t.length===0)throw new $e(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bz(t,e){const r=(function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new $e(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Hce{convertValue(e,r="none"){switch(tu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(eu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ht(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return pu(e,((i,s)=>{n[i]=this.convertValue(s,r)})),n}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)==null?void 0:n[Pb].arrayValue)==null?void 0:i.values)==null?void 0:s.map((o=>Zr(o.doubleValue)));return new ho(r)}convertGeoPoint(e){return new uo(Zr(e.latitude),Zr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=v1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(ty(e));default:return null}}convertTimestamp(e){const r=Zc(e);return new Er(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=wr.fromString(e);cr(iz(n),9688,{name:e});const i=new ry(n.get(1),n.get(3)),s=new nt(n.popFirst(5));return i.isEqual(r)||vl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class xg{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pd extends Vz{constructor(e,r,n,i,s,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Zx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(wI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Pd._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Pd._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pd._jsonSchema={type:ln("string",Pd._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};class Zx extends Pd{data(e={}){return super.data(e)}}class Pf{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new xg(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new Zx(this._firestore,this._userDataWriter,n.key,n,new xg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new $e(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const c=new Zx(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const c=new Zx(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:Gce(l.type),doc:c,oldIndex:d,newIndex:f}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wk.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Gce(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t){t=Na(t,en);const e=Na(t.firestore,lh);return Ice(gI(e),t._key).then((r=>Yce(e,t,r)))}Pf._jsonSchemaVersion="firestore/querySnapshot/1.0",Pf._jsonSchema={type:ln("string",Pf._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};class zz extends Hce{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fs(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,r)}}function Ii(t){t=Na(t,P1);const e=Na(t.firestore,lh),r=gI(e),n=new zz(e);return zce(t._query),Oce(r,t._query).then((i=>new Pf(e,n,t,i)))}function bl(t,e,r){t=Na(t,en);const n=Na(t.firestore,lh),i=qz(t.converter,e,r);return R1(n,[Dz(k1(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,zs.none())])}function Kce(t,e,r,...n){t=Na(t,en);const i=Na(t.firestore,lh),s=k1(i);let o;return o=typeof(e=Gr(e))=="string"||e instanceof A1?Vce(s,"updateDoc",t._key,e,r,n):Fce(s,"updateDoc",t._key,e),R1(i,[o.toMutation(t._key,zs.exists(!0))])}function NI(t){return R1(Na(t.firestore,lh),[new Zk(t._key,zs.none())])}function SI(t,e){const r=Na(t.firestore,lh),n=Ci(t),i=qz(t.converter,e);return R1(r,[Dz(k1(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,zs.exists(!1))]).then((()=>n))}function R1(t,e){return(function(n,i){const s=new ul;return n.asyncQueue.enqueueAndForget((async()=>bce(await kce(n),i,s))),s.promise})(gI(t),e)}function Yce(t,e,r){const n=r.docs.get(e._key),i=new zz(t);return new Pd(t,i,e._key,n,new xg(r.hasPendingWrites,r.fromCache),e.converter)}function Qce(){return new vI("serverTimestamp")}(function(e,r=!0){(function(i){Mm=i})(sh),_a(new Gs("firestore",((n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),l=new lh(new Vae(n.getProvider("auth-internal")),new Uae(o,n.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new $e(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ry(d.options.projectId,f)})(o,i),o);return s={useFetchStreams:r,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),Xi(n3,i3,e),Xi(n3,i3,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz="firebasestorage.googleapis.com",Xce="storageBucket",Jce=120*1e3,Zce=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Xs{constructor(e,r,n=0){super(MN(e),`Firebase Storage: ${r} (${MN(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,No.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return MN(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xo;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xo||(xo={}));function MN(t){return"storage/"+t}function eue(){const t="An unknown error occurred, please check the error payload for server response.";return new No(xo.UNKNOWN,t)}function tue(){return new No(xo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rue(){return new No(xo.CANCELED,"User canceled the upload/download.")}function nue(t){return new No(xo.INVALID_URL,"Invalid URL '"+t+"'.")}function iue(t){return new No(xo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tD(t){return new No(xo.INVALID_ARGUMENT,t)}function Hz(){return new No(xo.APP_DELETED,"The Firebase app was deleted.")}function sue(t){return new No(xo.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=va.makeFromUrl(e,r)}catch{return new va(e,"")}if(n.path==="")return n;throw iue(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function d(k){k.path_=decodeURIComponent(k.path)}const f="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${f}/b/${i}/o${p}`,"i"),w={bucket:1,path:3},x=r===Wz?"(?:storage.googleapis.com|storage.cloud.google.com)":r,g="([^?#]*)",_=new RegExp(`^https?://${x}/${i}/${g}`,"i"),P=[{regex:l,indices:c,postModify:s},{regex:v,indices:w,postModify:d},{regex:_,indices:{bucket:1,path:2},postModify:d}];for(let k=0;k<P.length;k++){const A=P[k],C=A.regex.exec(e);if(C){const E=C[A.indices.bucket];let j=C[A.indices.path];j||(j=""),n=new va(E,j),A.postModify(n);break}}if(n==null)throw nue(e);return n}}class aue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oue(t,e,r){let n=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let d=!1;function f(...g){d||(d=!0,e.apply(null,g))}function m(g){i=setTimeout(()=>{i=null,t(v,c())},g)}function p(){s&&clearTimeout(s)}function v(g,..._){if(d){p();return}if(g){p(),f.call(null,g,..._);return}if(c()||o){p(),f.call(null,g,..._);return}n<64&&(n*=2);let P;l===1?(l=2,P=0):P=(n+Math.random())*1e3,m(P)}let w=!1;function x(g){w||(w=!0,p(),!d&&(i!==null?(g||(l=2),clearTimeout(i),m(0)):g||(l=1)))}return m(0),s=setTimeout(()=>{o=!0,x(!0)},r),x}function lue(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cue(t){return t!==void 0}function rD(t,e,r,n){if(n<e)throw tD(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw tD(`Invalid value for '${t}'. Expected ${r} or less.`)}function uue(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Lb;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Lb||(Lb={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function due(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hue{constructor(e,r,n,i,s,o,l,c,d,f,m,p=!0,v=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,x)=>{this.resolve_=w,this.reject_=x,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new fx(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===Lb.NO_ERROR,c=s.getStatus();if(!l||due(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Lb.ABORT;n(!1,new fx(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;n(!0,new fx(d,s))})},r=(n,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());cue(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=eue();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?Hz():rue();o(c)}else{const c=tue();o(c)}};this.canceled_?r(!1,new fx(!1,null,!0)):this.backoffId_=oue(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lue(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fx{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function fue(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function mue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pue(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gue(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yue(t,e,r,n,i,s,o=!0,l=!1){const c=uue(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return pue(f,e),fue(f,r),mue(f,s),gue(f,n),new hue(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vue(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xue(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,r){this._service=e,r instanceof va?this._location=r:this._location=va.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new $b(e,r)}get root(){const e=new va(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xue(this._location.path)}get storage(){return this._service}get parent(){const e=vue(this._location.path);if(e===null)return null;const r=new va(this._location.bucket,e);return new $b(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw sue(e)}}function nD(t,e){const r=e==null?void 0:e[Xce];return r==null?null:va.makeFromBucketSpec(r,t)}function bue(t,e,r,n={}){t.host=`${e}:${r}`;const i=nh(e);i&&(Ok(`https://${t.host}/b`),Rk("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:v9(s,t.app.options.projectId))}class wue{constructor(e,r,n,i,s,o=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=Wz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Jce,this._maxUploadRetryTime=Zce,this._requests=new Set,i!=null?this._bucket=va.makeFromBucketSpec(i,this._host):this._bucket=nD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=va.makeFromBucketSpec(this._url,e):this._bucket=nD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(fs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $b(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new aue(Hz());{const o=yue(e,this._appId,n,i,r,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const iD="@firebase/storage",sD="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz="storage";function _ue(t=d1(),e){t=Gr(t);const n=fu(t,Gz).getImmediate({identifier:e}),i=p9("storage");return i&&jue(n,...i),n}function jue(t,e,r,n={}){bue(t,e,r,n)}function Nue(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new wue(r,n,i,e,sh)}function Sue(){_a(new Gs(Gz,Nue,"PUBLIC").setMultipleInstances(!0)),Xi(iD,sD,""),Xi(iD,sD,"esm2020")}Sue();const Kz="@firebase/installations",TI="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=1e4,Qz=`w:${TI}`,Xz="FIS_v2",Tue="https://firebaseinstallations.googleapis.com/v1",Eue=3600*1e3,Pue="installations",Aue="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cue={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vd=new ih(Pue,Aue,Cue);function Jz(t){return t instanceof Xs&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz({projectId:t}){return`${Tue}/projects/${t}/installations`}function eW(t){return{token:t.token,requestStatus:2,expiresIn:Iue(t.expiresIn),creationTime:Date.now()}}async function tW(t,e){const n=(await e.json()).error;return Vd.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function rW({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function kue(t,{refreshToken:e}){const r=rW(t);return r.append("Authorization",Oue(e)),r}async function nW(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Iue(t){return Number(t.replace("s","000"))}function Oue(t){return`${Xz} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rue({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=Zz(t),i=rW(t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={fid:r,authVersion:Xz,appId:t.appId,sdkVersion:Qz},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await nW(()=>fetch(n,l));if(c.ok){const d=await c.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:eW(d.authToken)}}else throw await tW("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mue(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Due=/^[cdef][\w-]{21}$/,XP="";function Lue(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=$ue(t);return Due.test(r)?r:XP}catch{return XP}}function $ue(t){return Mue(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW=new Map;function aW(t,e){const r=M1(t);oW(r,e),Fue(r,e)}function oW(t,e){const r=sW.get(t);if(r)for(const n of r)n(e)}function Fue(t,e){const r=Vue();r&&r.postMessage({key:t,fid:e}),Bue()}let ud=null;function Vue(){return!ud&&"BroadcastChannel"in self&&(ud=new BroadcastChannel("[Firebase] FID Change"),ud.onmessage=t=>{oW(t.data.key,t.data.fid)}),ud}function Bue(){sW.size===0&&ud&&(ud.close(),ud=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const que="firebase-installations-database",Uue=1,Bd="firebase-installations-store";let DN=null;function EI(){return DN||(DN=N9(que,Uue,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bd)}}})),DN}async function Fb(t,e){const r=M1(t),i=(await EI()).transaction(Bd,"readwrite"),s=i.objectStore(Bd),o=await s.get(r);return await s.put(e,r),await i.done,(!o||o.fid!==e.fid)&&aW(t,e.fid),e}async function lW(t){const e=M1(t),n=(await EI()).transaction(Bd,"readwrite");await n.objectStore(Bd).delete(e),await n.done}async function D1(t,e){const r=M1(t),i=(await EI()).transaction(Bd,"readwrite"),s=i.objectStore(Bd),o=await s.get(r),l=e(o);return l===void 0?await s.delete(r):await s.put(l,r),await i.done,l&&(!o||o.fid!==l.fid)&&aW(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(t){let e;const r=await D1(t.appConfig,n=>{const i=zue(n),s=Wue(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===XP?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function zue(t){const e=t||{fid:Lue(),registrationStatus:0};return cW(e)}function Wue(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Vd.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=Hue(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Gue(t)}:{installationEntry:e}}async function Hue(t,e){try{const r=await Rue(t,e);return Fb(t.appConfig,r)}catch(r){throw Jz(r)&&r.customData.serverCode===409?await lW(t.appConfig):await Fb(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Gue(t){let e=await aD(t.appConfig);for(;e.registrationStatus===1;)await iW(100),e=await aD(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await PI(t);return n||r}return e}function aD(t){return D1(t,e=>{if(!e)throw Vd.create("installation-not-found");return cW(e)})}function cW(t){return Kue(t)?{fid:t.fid,registrationStatus:0}:t}function Kue(t){return t.registrationStatus===1&&t.registrationTime+Yz<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yue({appConfig:t,heartbeatServiceProvider:e},r){const n=Que(t,r),i=kue(t,r),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={installation:{sdkVersion:Qz,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await nW(()=>fetch(n,l));if(c.ok){const d=await c.json();return eW(d)}else throw await tW("Generate Auth Token",c)}function Que(t,{fid:e}){return`${Zz(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(t,e=!1){let r;const n=await D1(t.appConfig,s=>{if(!uW(s))throw Vd.create("not-registered");const o=s.authToken;if(!e&&Zue(o))return s;if(o.requestStatus===1)return r=Xue(t,e),s;{if(!navigator.onLine)throw Vd.create("app-offline");const l=tde(s);return r=Jue(t,l),l}});return r?await r:n.authToken}async function Xue(t,e){let r=await oD(t.appConfig);for(;r.authToken.requestStatus===1;)await iW(100),r=await oD(t.appConfig);const n=r.authToken;return n.requestStatus===0?AI(t,e):n}function oD(t){return D1(t,e=>{if(!uW(e))throw Vd.create("not-registered");const r=e.authToken;return rde(r)?{...e,authToken:{requestStatus:0}}:e})}async function Jue(t,e){try{const r=await Yue(t,e),n={...e,authToken:r};return await Fb(t.appConfig,n),r}catch(r){if(Jz(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await lW(t.appConfig);else{const n={...e,authToken:{requestStatus:0}};await Fb(t.appConfig,n)}throw r}}function uW(t){return t!==void 0&&t.registrationStatus===2}function Zue(t){return t.requestStatus===2&&!ede(t)}function ede(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Eue}function tde(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function rde(t){return t.requestStatus===1&&t.requestTime+Yz<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nde(t){const e=t,{installationEntry:r,registrationPromise:n}=await PI(e);return n?n.catch(console.error):AI(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ide(t,e=!1){const r=t;return await sde(r),(await AI(r,e)).token}async function sde(t){const{registrationPromise:e}=await PI(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ade(t){if(!t||!t.options)throw LN("App Configuration");if(!t.name)throw LN("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw LN(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function LN(t){return Vd.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW="installations",ode="installations-internal",lde=t=>{const e=t.getProvider("app").getImmediate(),r=ade(e),n=fu(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},cde=t=>{const e=t.getProvider("app").getImmediate(),r=fu(e,dW).getImmediate();return{getId:()=>nde(r),getToken:i=>ide(r,i)}};function ude(){_a(new Gs(dW,lde,"PUBLIC")),_a(new Gs(ode,cde,"PRIVATE"))}ude();Xi(Kz,TI);Xi(Kz,TI,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="analytics",dde="firebase_id",hde="origin",fde=60*1e3,mde="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",CI="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new u1("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pde={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gs=new ih("analytics","Analytics",pde);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gde(t){if(!t.startsWith(CI)){const e=gs.create("invalid-gtag-resource",{gtagURL:t});return ki.warn(e.message),""}return t}function hW(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function yde(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function vde(t,e){const r=yde("firebase-js-sdk-policy",{createScriptURL:gde}),n=document.createElement("script"),i=`${CI}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function xde(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function bde(t,e,r,n,i,s){const o=n[i];try{if(o)await e[o];else{const c=(await hW(r)).find(d=>d.measurementId===i);c&&await e[c.appId]}}catch(l){ki.error(l)}t("config",i,s)}async function wde(t,e,r,n,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await hW(r);for(const c of o){const d=l.find(m=>m.measurementId===c),f=d&&e[d.appId];if(f)s.push(f);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",n,i||{})}catch(s){ki.error(s)}}function _de(t,e,r,n){async function i(s,...o){try{if(s==="event"){const[l,c]=o;await wde(t,e,r,l,c)}else if(s==="config"){const[l,c]=o;await bde(t,e,r,n,l,c)}else if(s==="consent"){const[l,c]=o;t("consent",l,c)}else if(s==="get"){const[l,c,d]=o;t("get",l,c,d)}else if(s==="set"){const[l]=o;t("set",l)}else t(s,...o)}catch(l){ki.error(l)}}return i}function jde(t,e,r,n,i){let s=function(...o){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=_de(s,t,e,r),{gtagCore:s,wrappedGtag:window[i]}}function Nde(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(CI)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sde=30,Tde=1e3;class Ede{constructor(e={},r=Tde){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const fW=new Ede;function Pde(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Ade(t){var o;const{appId:e,apiKey:r}=t,n={method:"GET",headers:Pde(r)},i=mde.replace("{app-id}",e),s=await fetch(i,n);if(s.status!==200&&s.status!==304){let l="";try{const c=await s.json();(o=c.error)!=null&&o.message&&(l=c.error.message)}catch{}throw gs.create("config-fetch-failed",{httpStatus:s.status,responseMessage:l})}return s.json()}async function Cde(t,e=fW,r){const{appId:n,apiKey:i,measurementId:s}=t.options;if(!n)throw gs.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:n};throw gs.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Ode;return setTimeout(async()=>{l.abort()},fde),mW({appId:n,apiKey:i,measurementId:s},o,l,e)}async function mW(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=fW){var l;const{appId:s,measurementId:o}=t;try{await kde(n,e)}catch(c){if(o)return ki.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:o};throw c}try{const c=await Ade(t);return i.deleteThrottleMetadata(s),c}catch(c){const d=c;if(!Ide(d)){if(i.deleteThrottleMetadata(s),o)return ki.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:s,measurementId:o};throw c}const f=Number((l=d==null?void 0:d.customData)==null?void 0:l.httpStatus)===503?P5(r,i.intervalMillis,Sde):P5(r,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+f,backoffCount:r+1};return i.setThrottleMetadata(s,m),ki.debug(`Calling attemptFetch again in ${f} millis`),mW(t,m,n,i)}}function kde(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(s),n(gs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Ide(t){if(!(t instanceof Xs)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Ode{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Rde(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const s=await e,o={...n,send_to:s};t("event",r,o)}}async function Mde(t,e,r,n){if(n&&n.global){const i={};for(const s of Object.keys(r))i[`user_properties.${s}`]=r[s];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dde(){if(b9())try{await w9()}catch(t){return ki.warn(gs.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return ki.warn(gs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Lde(t,e,r,n,i,s,o){const l=Cde(t);l.then(p=>{r[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&ki.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>ki.error(p)),e.push(l);const c=Dde().then(p=>{if(p)return n.getId()}),[d,f]=await Promise.all([l,c]);Nde(s)||vde(s,d.measurementId),i("js",new Date);const m=(o==null?void 0:o.config)??{};return m[hde]="firebase",m.update=!0,f!=null&&(m[dde]=f),i("config",d.measurementId,m),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $de{constructor(e){this.app=e}_delete(){return delete Af[this.app.options.appId],Promise.resolve()}}let Af={},lD=[];const cD={};let $N="dataLayer",Fde="gtag",uD,kI,dD=!1;function Vde(){const t=[];if(x9()&&t.push("This is a browser extension environment."),rne()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=gs.create("invalid-analytics-context",{errorInfo:e});ki.warn(r.message)}}function Bde(t,e,r){Vde();const n=t.options.appId;if(!n)throw gs.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ki.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gs.create("no-api-key");if(Af[n]!=null)throw gs.create("already-exists",{id:n});if(!dD){xde($N);const{wrappedGtag:s,gtagCore:o}=jde(Af,lD,cD,$N,Fde);kI=s,uD=o,dD=!0}return Af[n]=Lde(t,lD,cD,e,uD,$N,r),new $de(t)}function qde(t=d1()){t=Gr(t);const e=fu(t,Vb);return e.isInitialized()?e.getImmediate():Ude(t)}function Ude(t,e={}){const r=fu(t,Vb);if(r.isInitialized()){const i=r.getImmediate();if(Xc(e,r.getOptions()))return i;throw gs.create("already-initialized")}return r.initialize({options:e})}function zde(t,e,r){t=Gr(t),Mde(kI,Af[t.app.options.appId],e,r).catch(n=>ki.error(n))}function Wde(t,e,r,n){t=Gr(t),Rde(kI,Af[t.app.options.appId],e,r,n).catch(i=>ki.error(i))}const hD="@firebase/analytics",fD="0.10.19";function Hde(){_a(new Gs(Vb,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Bde(n,i,r)},"PUBLIC")),_a(new Gs("analytics-internal",t,"PRIVATE")),Xi(hD,fD),Xi(hD,fD,"esm2020");function t(e){try{const r=e.getProvider(Vb).getImmediate();return{logEvent:(n,i,s)=>Wde(r,n,i,s),setUserProperties:(n,i)=>zde(r,n,i)}}catch(r){throw gs.create("interop-component-reg-failed",{reason:r})}}}Hde();const Gde={apiKey:"AIzaSyA-ji4PrndkvUwbcN6axWGjLJd-pNJrTBY",authDomain:"math-adventure-app.firebaseapp.com",projectId:"math-adventure-app",storageBucket:"math-adventure-app.firebasestorage.app",messagingSenderId:"685781375492",appId:"1:685781375492:web:cb2f52696292927cb07351",measurementId:"G-FGQWD7WPCY"},Mt=S9(Gde),mx=Zg(Mt),Kde=or(Mt);_ue(Mt);qde(Mt);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mD="popstate";function Yde(t={}){function e(n,i){let{pathname:s,search:o,hash:l}=n.location;return JP("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:oy(i)}return Xde(e,r,null,t)}function Fr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qde(){return Math.random().toString(36).substring(2,10)}function pD(t,e){return{usr:t.state,key:t.key,idx:e}}function JP(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Fm(e):e,state:r,key:e&&e.key||n||Qde()}}function oy({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Fm(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Xde(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l="POP",c=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function m(){l="POP";let g=f(),_=g==null?null:g-d;d=g,c&&c({action:l,location:x.location,delta:_})}function p(g,_){l="PUSH";let T=JP(x.location,g,_);d=f()+1;let P=pD(T,d),k=x.createHref(T);try{o.pushState(P,"",k)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(k)}s&&c&&c({action:l,location:x.location,delta:1})}function v(g,_){l="REPLACE";let T=JP(x.location,g,_);d=f();let P=pD(T,d),k=x.createHref(T);o.replaceState(P,"",k),s&&c&&c({action:l,location:x.location,delta:0})}function w(g){return Jde(g)}let x={get action(){return l},get location(){return t(i,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(mD,m),c=g,()=>{i.removeEventListener(mD,m),c=null}},createHref(g){return e(i,g)},createURL:w,encodeLocation(g){let _=w(g);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:v,go(g){return o.go(g)}};return x}function Jde(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Fr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:oy(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function pW(t,e,r="/"){return Zde(t,e,r,!1)}function Zde(t,e,r,n){let i=typeof e=="string"?Fm(e):e,s=wl(i.pathname||"/",r);if(s==null)return null;let o=gW(t);ehe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=dhe(s);l=che(o[c],d,n)}return l}function gW(t,e=[],r=[],n="",i=!1){let s=(o,l,c=i,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&c)return;Fr(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let m=dl([n,f.relativePath]),p=r.concat(f);o.children&&o.children.length>0&&(Fr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),gW(o.children,e,p,m,c)),!(o.path==null&&!o.index)&&e.push({path:m,score:ohe(m,o.index),routesMeta:p})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let d of yW(o.path))s(o,l,!0,d)}),e}function yW(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=yW(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function ehe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:lhe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var the=/^:[\w-]+$/,rhe=3,nhe=2,ihe=1,she=10,ahe=-2,gD=t=>t==="*";function ohe(t,e){let r=t.split("/"),n=r.length;return r.some(gD)&&(n+=ahe),e&&(n+=nhe),r.filter(i=>!gD(i)).reduce((i,s)=>i+(the.test(s)?rhe:s===""?ihe:she),n)}function lhe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function che(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=Bb({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),p=c.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=Bb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:dl([s,m.pathname]),pathnameBase:phe(dl([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=dl([s,m.pathnameBase]))}return o}function Bb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=uhe(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,{paramName:f,isOptional:m},p)=>{if(f==="*"){let w=l[p]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[p];return m&&!v?d[f]=void 0:d[f]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function uhe(t,e=!1,r=!0){bo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function dhe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function wl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function hhe(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Fm(t):t;return{pathname:r?r.startsWith("/")?r:fhe(r,e):e,search:ghe(n),hash:yhe(i)}}function fhe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function FN(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mhe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function vW(t){let e=mhe(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function xW(t,e,r,n=!1){let i;typeof t=="string"?i=Fm(t):(i={...t},Fr(!i.pathname||!i.pathname.includes("?"),FN("?","pathname","search",i)),Fr(!i.pathname||!i.pathname.includes("#"),FN("#","pathname","hash",i)),Fr(!i.search||!i.search.includes("#"),FN("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}l=m>=0?e[m]:"/"}let c=hhe(i,l),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var dl=t=>t.join("/").replace(/\/\/+/g,"/"),phe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ghe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yhe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vhe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bW=["POST","PUT","PATCH","DELETE"];new Set(bW);var xhe=["GET",...bW];new Set(xhe);var Vm=S.createContext(null);Vm.displayName="DataRouter";var L1=S.createContext(null);L1.displayName="DataRouterState";S.createContext(!1);var wW=S.createContext({isTransitioning:!1});wW.displayName="ViewTransition";var bhe=S.createContext(new Map);bhe.displayName="Fetchers";var whe=S.createContext(null);whe.displayName="Await";var So=S.createContext(null);So.displayName="Navigation";var _0=S.createContext(null);_0.displayName="Location";var Dl=S.createContext({outlet:null,matches:[],isDataRoute:!1});Dl.displayName="Route";var II=S.createContext(null);II.displayName="RouteError";function _he(t,{relative:e}={}){Fr(j0(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=S.useContext(So),{hash:i,pathname:s,search:o}=N0(t,{relative:e}),l=s;return r!=="/"&&(l=s==="/"?r:dl([r,s])),n.createHref({pathname:l,search:o,hash:i})}function j0(){return S.useContext(_0)!=null}function Ll(){return Fr(j0(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(_0).location}var _W="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jW(t){S.useContext(So).static||S.useLayoutEffect(t)}function yu(){let{isDataRoute:t}=S.useContext(Dl);return t?Mhe():jhe()}function jhe(){Fr(j0(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Vm),{basename:e,navigator:r}=S.useContext(So),{matches:n}=S.useContext(Dl),{pathname:i}=Ll(),s=JSON.stringify(vW(n)),o=S.useRef(!1);return jW(()=>{o.current=!0}),S.useCallback((c,d={})=>{if(bo(o.current,_W),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=xW(c,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:dl([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,s,i,t])}S.createContext(null);function N0(t,{relative:e}={}){let{matches:r}=S.useContext(Dl),{pathname:n}=Ll(),i=JSON.stringify(vW(r));return S.useMemo(()=>xW(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function Nhe(t,e){return NW(t,e)}function NW(t,e,r,n,i){var T;Fr(j0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=S.useContext(So),{matches:o}=S.useContext(Dl),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let P=m&&m.path||"";SW(d,!m||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let p=Ll(),v;if(e){let P=typeof e=="string"?Fm(e):e;Fr(f==="/"||((T=P.pathname)==null?void 0:T.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${P.pathname}" was given in the \`location\` prop.`),v=P}else v=p;let w=v.pathname||"/",x=w;if(f!=="/"){let P=f.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(P.length).join("/")}let g=pW(t,{pathname:x});bo(m||g!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),bo(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Ahe(g&&g.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:dl([f,s.encodeLocation?s.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?f:dl([f,s.encodeLocation?s.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),o,r,n,i);return e&&_?S.createElement(_0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function She(){let t=Rhe(),e=vhe(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"ErrorBoundary")," or"," ",S.createElement("code",{style:s},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:i},r):null,o)}var The=S.createElement(She,null),Ehe=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(Dl.Provider,{value:this.props.routeContext},S.createElement(II.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Phe({routeContext:t,match:e,children:r}){let n=S.useContext(Vm);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Dl.Provider,{value:t},r)}function Ahe(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=r==null?void 0:r.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Fr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:p}=r,v=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,m)=>{let p,v=!1,w=null,x=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||The,l&&(c<0&&m===0?(SW("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):c===m&&(v=!0,x=f.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,m+1)),_=()=>{let T;return p?T=w:v?T=x:f.route.Component?T=S.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,S.createElement(Phe,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:T})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?S.createElement(Ehe,{location:r.location,revalidation:r.revalidation,component:w,error:p,children:_(),routeContext:{outlet:null,matches:g,isDataRoute:!0},unstable_onError:n}):_()},null)}function OI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Che(t){let e=S.useContext(Vm);return Fr(e,OI(t)),e}function khe(t){let e=S.useContext(L1);return Fr(e,OI(t)),e}function Ihe(t){let e=S.useContext(Dl);return Fr(e,OI(t)),e}function RI(t){let e=Ihe(t),r=e.matches[e.matches.length-1];return Fr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Ohe(){return RI("useRouteId")}function Rhe(){var n;let t=S.useContext(II),e=khe("useRouteError"),r=RI("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Mhe(){let{router:t}=Che("useNavigate"),e=RI("useNavigate"),r=S.useRef(!1);return jW(()=>{r.current=!0}),S.useCallback(async(i,s={})=>{bo(r.current,_W),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var yD={};function SW(t,e,r){!e&&!yD[t]&&(yD[t]=!0,bo(!1,r))}S.memo(Dhe);function Dhe({routes:t,future:e,state:r,unstable_onError:n}){return NW(t,void 0,r,n,e)}function Xr(t){Fr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Lhe({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){Fr(!j0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof r=="string"&&(r=Fm(r));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:p="default"}=r,v=S.useMemo(()=>{let w=wl(c,o);return w==null?null:{location:{pathname:w,search:d,hash:f,state:m,key:p},navigationType:n}},[o,c,d,f,m,p,n]);return bo(v!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:S.createElement(So.Provider,{value:l},S.createElement(_0.Provider,{children:e,value:v}))}function $he({children:t,location:e}){return Nhe(ZP(t),e)}function ZP(t,e=[]){let r=[];return S.Children.forEach(t,(n,i)=>{if(!S.isValidElement(n))return;let s=[...e,i];if(n.type===S.Fragment){r.push.apply(r,ZP(n.props.children,s));return}Fr(n.type===Xr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ZP(n.props.children,s)),r.push(o)}),r}var eb="get",tb="application/x-www-form-urlencoded";function $1(t){return t!=null&&typeof t.tagName=="string"}function Fhe(t){return $1(t)&&t.tagName.toLowerCase()==="button"}function Vhe(t){return $1(t)&&t.tagName.toLowerCase()==="form"}function Bhe(t){return $1(t)&&t.tagName.toLowerCase()==="input"}function qhe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Uhe(t,e){return t.button===0&&(!e||e==="_self")&&!qhe(t)}var px=null;function zhe(){if(px===null)try{new FormData(document.createElement("form"),0),px=!1}catch{px=!0}return px}var Whe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function VN(t){return t!=null&&!Whe.has(t)?(bo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tb}"`),null):t}function Hhe(t,e){let r,n,i,s,o;if(Vhe(t)){let l=t.getAttribute("action");n=l?wl(l,e):null,r=t.getAttribute("method")||eb,i=VN(t.getAttribute("enctype"))||tb,s=new FormData(t)}else if(Fhe(t)||Bhe(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?wl(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||eb,i=VN(t.getAttribute("formenctype"))||VN(l.getAttribute("enctype"))||tb,s=new FormData(l,t),!zhe()){let{name:d,type:f,value:m}=t;if(f==="image"){let p=d?`${d}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else d&&s.append(d,m)}}else{if($1(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=eb,n=null,i=tb,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function MI(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ghe(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&wl(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Khe(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yhe(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Qhe(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await Khe(s,r);return o.links?o.links():[]}return[]}));return efe(n.flat(1).filter(Yhe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function vD(t,e,r,n,i,s){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var f;return r[d].pathname!==c.pathname||((f=r[d].route.path)==null?void 0:f.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):s==="data"?e.filter((c,d)=>{var m;let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Xhe(t,e,{includeHydrateFallback:r}={}){return Jhe(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Jhe(t){return[...new Set(t)]}function Zhe(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function efe(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(Zhe(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function TW(){let t=S.useContext(Vm);return MI(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function tfe(){let t=S.useContext(L1);return MI(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var DI=S.createContext(void 0);DI.displayName="FrameworkContext";function EW(){let t=S.useContext(DI);return MI(t,"You must render this element inside a <HydratedRouter> element"),t}function rfe(t,e){let r=S.useContext(DI),[n,i]=S.useState(!1),[s,o]=S.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:m}=e,p=S.useRef(null);S.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=_=>{_.forEach(T=>{o(T.isIntersecting)})},g=new IntersectionObserver(x,{threshold:.5});return p.current&&g.observe(p.current),()=>{g.disconnect()}}},[t]),S.useEffect(()=>{if(n){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[n]);let v=()=>{i(!0)},w=()=>{i(!1),o(!1)};return r?t!=="intent"?[s,p,{}]:[s,p,{onFocus:Zp(l,v),onBlur:Zp(c,w),onMouseEnter:Zp(d,v),onMouseLeave:Zp(f,w),onTouchStart:Zp(m,v)}]:[!1,p,{}]}function Zp(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function nfe({page:t,...e}){let{router:r}=TW(),n=S.useMemo(()=>pW(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?S.createElement(sfe,{page:t,matches:n,...e}):null}function ife(t){let{manifest:e,routeModules:r}=EW(),[n,i]=S.useState([]);return S.useEffect(()=>{let s=!1;return Qhe(t,e,r).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,r]),n}function sfe({page:t,matches:e,...r}){let n=Ll(),{manifest:i,routeModules:s}=EW(),{basename:o}=TW(),{loaderData:l,matches:c}=tfe(),d=S.useMemo(()=>vD(t,e,c,i,n,"data"),[t,e,c,i,n]),f=S.useMemo(()=>vD(t,e,c,i,n,"assets"),[t,e,c,i,n]),m=S.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,x=!1;if(e.forEach(_=>{var P;let T=i.routes[_.route.id];!T||!T.hasLoader||(!d.some(k=>k.route.id===_.route.id)&&_.route.id in l&&((P=s[_.route.id])!=null&&P.shouldRevalidate)||T.hasClientLoader?x=!0:w.add(_.route.id))}),w.size===0)return[];let g=Ghe(t,o,"data");return x&&w.size>0&&g.searchParams.set("_routes",e.filter(_=>w.has(_.route.id)).map(_=>_.route.id).join(",")),[g.pathname+g.search]},[o,l,n,i,d,e,t,s]),p=S.useMemo(()=>Xhe(f,i),[f,i]),v=ife(f);return S.createElement(S.Fragment,null,m.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),p.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),v.map(({key:w,link:x})=>S.createElement("link",{key:w,nonce:r.nonce,...x})))}function afe(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var PW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PW&&(window.__reactRouterVersion="7.9.5")}catch{}function ofe({basename:t,children:e,window:r}){let n=S.useRef();n.current==null&&(n.current=Yde({window:r,v5Compat:!0}));let i=n.current,[s,o]=S.useState({action:i.action,location:i.location}),l=S.useCallback(c=>{S.startTransition(()=>o(c))},[o]);return S.useLayoutEffect(()=>i.listen(l),[i,l]),S.createElement(Lhe,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var AW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kt=S.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:f,viewTransition:m,...p},v){let{basename:w}=S.useContext(So),x=typeof d=="string"&&AW.test(d),g,_=!1;if(typeof d=="string"&&x&&(g=d,PW))try{let O=new URL(window.location.href),R=d.startsWith("//")?new URL(O.protocol+d):new URL(d),L=wl(R.pathname,w);R.origin===O.origin&&L!=null?d=L+R.search+R.hash:_=!0}catch{bo(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=_he(d,{relative:i}),[P,k,A]=rfe(n,p),C=dfe(d,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:m});function E(O){e&&e(O),O.defaultPrevented||C(O)}let j=S.createElement("a",{...p,...A,href:g||T,onClick:_||s?e:E,ref:afe(v,k),target:c,"data-discover":!x&&r==="render"?"true":void 0});return P&&!x?S.createElement(S.Fragment,null,j,S.createElement(nfe,{page:T})):j});Kt.displayName="Link";var lfe=S.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:l,children:c,...d},f){let m=N0(o,{relative:d.relative}),p=Ll(),v=S.useContext(L1),{navigator:w,basename:x}=S.useContext(So),g=v!=null&&gfe(m)&&l===!0,_=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,T=p.pathname,P=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(T=T.toLowerCase(),P=P?P.toLowerCase():null,_=_.toLowerCase()),P&&x&&(P=wl(P,x)||P);const k=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let A=T===_||!i&&T.startsWith(_)&&T.charAt(k)==="/",C=P!=null&&(P===_||!i&&P.startsWith(_)&&P.charAt(_.length)==="/"),E={isActive:A,isPending:C,isTransitioning:g},j=A?e:void 0,O;typeof n=="function"?O=n(E):O=[n,A?"active":null,C?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(E):s;return S.createElement(Kt,{...d,"aria-current":j,className:O,ref:f,style:R,to:o,viewTransition:l},typeof c=="function"?c(E):c)});lfe.displayName="NavLink";var cfe=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:o=eb,action:l,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:m,...p},v)=>{let w=mfe(),x=pfe(l,{relative:d}),g=o.toLowerCase()==="get"?"get":"post",_=typeof l=="string"&&AW.test(l),T=P=>{if(c&&c(P),P.defaultPrevented)return;P.preventDefault();let k=P.nativeEvent.submitter,A=(k==null?void 0:k.getAttribute("formmethod"))||o;w(k||P.currentTarget,{fetcherKey:e,method:A,navigate:r,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:m})};return S.createElement("form",{ref:v,method:g,action:x,onSubmit:n?c:T,...p,"data-discover":!_&&t==="render"?"true":void 0})});cfe.displayName="Form";function ufe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CW(t){let e=S.useContext(Vm);return Fr(e,ufe(t)),e}function dfe(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=yu(),c=Ll(),d=N0(t,{relative:s});return S.useCallback(f=>{if(Uhe(f,e)){f.preventDefault();let m=r!==void 0?r:oy(c)===oy(d);l(t,{replace:m,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,d,r,n,e,t,i,s,o])}var hfe=0,ffe=()=>`__${String(++hfe)}__`;function mfe(){let{router:t}=CW("useSubmit"),{basename:e}=S.useContext(So),r=Ohe();return S.useCallback(async(n,i={})=>{let{action:s,method:o,encType:l,formData:c,body:d}=Hhe(n,e);if(i.navigate===!1){let f=i.fetcherKey||ffe();await t.fetch(f,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function pfe(t,{relative:e}={}){let{basename:r}=S.useContext(So),n=S.useContext(Dl);Fr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...N0(t||".",{relative:e})},o=Ll();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:dl([r,s.pathname])),oy(s)}function gfe(t,{relative:e}={}){let r=S.useContext(wW);Fr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=CW("useViewTransitionState"),i=N0(t,{relative:e});if(!r.isTransitioning)return!1;let s=wl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=wl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Bb(i.pathname,o)!=null||Bb(i.pathname,s)!=null}var S0=u9();const yfe=er(S0);function Ge(t){return"/"+t.toLowerCase().replace(/ /g,"-")}var Bm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vfe={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},kc,Ck,ZU,xfe=(ZU=class{constructor(){rt(this,kc,vfe);rt(this,Ck,!1)}setTimeoutProvider(t){Le(this,kc,t)}setTimeout(t,e){return Q(this,kc).setTimeout(t,e)}clearTimeout(t){Q(this,kc).clearTimeout(t)}setInterval(t,e){return Q(this,kc).setInterval(t,e)}clearInterval(t){Q(this,kc).clearInterval(t)}},kc=new WeakMap,Ck=new WeakMap,ZU),dd=new xfe;function bfe(t){setTimeout(t,0)}var qd=typeof window>"u"||"Deno"in globalThis;function ji(){}function wfe(t,e){return typeof t=="function"?t(e):t}function eA(t){return typeof t=="number"&&t>=0&&t!==1/0}function kW(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Gc(t,e){return typeof t=="function"?t(e):t}function $s(t,e){return typeof t=="function"?t(e):t}function xD(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==LI(o,e.options))return!1}else if(!ly(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function bD(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Ud(e.options.mutationKey)!==Ud(s))return!1}else if(!ly(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function LI(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ud)(t)}function Ud(t){return JSON.stringify(t,(e,r)=>tA(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function ly(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>ly(t[r],e[r])):!1}var _fe=Object.prototype.hasOwnProperty;function IW(t,e){if(t===e)return t;const r=wD(t)&&wD(e);if(!r&&!(tA(t)&&tA(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),o=s.length,l=r?new Array(o):{};let c=0;for(let d=0;d<o;d++){const f=r?d:s[d],m=t[f],p=e[f];if(m===p){l[f]=m,(r?d<i:_fe.call(t,f))&&c++;continue}if(m===null||p===null||typeof m!="object"||typeof p!="object"){l[f]=p;continue}const v=IW(m,p);l[f]=v,v===m&&c++}return i===o&&c===i?t:l}function qb(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function wD(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function tA(t){if(!_D(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!_D(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _D(t){return Object.prototype.toString.call(t)==="[object Object]"}function jfe(t){return new Promise(e=>{dd.setTimeout(e,t)})}function rA(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?IW(t,e):e}function Nfe(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Sfe(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var $I=Symbol();function OW(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===$I?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function RW(t,e){return typeof t=="function"?t(...e):!!t}var xd,Ic,$f,e9,Tfe=(e9=class extends Bm{constructor(){super();rt(this,xd);rt(this,Ic);rt(this,$f);Le(this,$f,e=>{if(!qd&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Q(this,Ic)||this.setEventListener(Q(this,$f))}onUnsubscribe(){var e;this.hasListeners()||((e=Q(this,Ic))==null||e.call(this),Le(this,Ic,void 0))}setEventListener(e){var r;Le(this,$f,e),(r=Q(this,Ic))==null||r.call(this),Le(this,Ic,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){Q(this,xd)!==e&&(Le(this,xd,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof Q(this,xd)=="boolean"?Q(this,xd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},xd=new WeakMap,Ic=new WeakMap,$f=new WeakMap,e9),FI=new Tfe;function nA(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var Efe=bfe;function Pfe(){let t=[],e=0,r=l=>{l()},n=l=>{l()},i=Efe;const s=l=>{e?t.push(l):i(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var gn=Pfe(),Ff,Oc,Vf,t9,Afe=(t9=class extends Bm{constructor(){super();rt(this,Ff,!0);rt(this,Oc);rt(this,Vf);Le(this,Vf,e=>{if(!qd&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Q(this,Oc)||this.setEventListener(Q(this,Vf))}onUnsubscribe(){var e;this.hasListeners()||((e=Q(this,Oc))==null||e.call(this),Le(this,Oc,void 0))}setEventListener(e){var r;Le(this,Vf,e),(r=Q(this,Oc))==null||r.call(this),Le(this,Oc,e(this.setOnline.bind(this)))}setOnline(e){Q(this,Ff)!==e&&(Le(this,Ff,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return Q(this,Ff)}},Ff=new WeakMap,Oc=new WeakMap,Vf=new WeakMap,t9),Ub=new Afe;function Cfe(t){return Math.min(1e3*2**t,3e4)}function MW(t){return(t??"online")==="online"?Ub.isOnline():!0}var iA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function DW(t){let e=!1,r=0,n;const i=nA(),s=()=>i.status!=="pending",o=x=>{var g;if(!s()){const _=new iA(x);p(_),(g=t.onCancel)==null||g.call(t,_)}},l=()=>{e=!0},c=()=>{e=!1},d=()=>FI.isFocused()&&(t.networkMode==="always"||Ub.isOnline())&&t.canRun(),f=()=>MW(t.networkMode)&&t.canRun(),m=x=>{s()||(n==null||n(),i.resolve(x))},p=x=>{s()||(n==null||n(),i.reject(x))},v=()=>new Promise(x=>{var g;n=_=>{(s()||d())&&x(_)},(g=t.onPause)==null||g.call(t)}).then(()=>{var x;n=void 0,s()||(x=t.onContinue)==null||x.call(t)}),w=()=>{if(s())return;let x;const g=r===0?t.initialPromise:void 0;try{x=g??t.fn()}catch(_){x=Promise.reject(_)}Promise.resolve(x).then(m).catch(_=>{var C;if(s())return;const T=t.retry??(qd?0:3),P=t.retryDelay??Cfe,k=typeof P=="function"?P(r,_):P,A=T===!0||typeof T=="number"&&r<T||typeof T=="function"&&T(r,_);if(e||!A){p(_);return}r++,(C=t.onFail)==null||C.call(t,r,_),jfe(k).then(()=>d()?void 0:v()).then(()=>{e?p(_):w()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?w():v().then(w),i)}}var bd,r9,LW=(r9=class{constructor(){rt(this,bd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),eA(this.gcTime)&&Le(this,bd,dd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qd?1/0:300*1e3))}clearGcTimeout(){Q(this,bd)&&(dd.clearTimeout(Q(this,bd)),Le(this,bd,void 0))}},bd=new WeakMap,r9),wd,Bf,Ls,_d,En,s0,jd,ha,Yo,n9,kfe=(n9=class extends LW{constructor(e){super();rt(this,ha);rt(this,wd);rt(this,Bf);rt(this,Ls);rt(this,_d);rt(this,En);rt(this,s0);rt(this,jd);Le(this,jd,!1),Le(this,s0,e.defaultOptions),this.setOptions(e.options),this.observers=[],Le(this,_d,e.client),Le(this,Ls,Q(this,_d).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Le(this,wd,ND(this.options)),this.state=e.state??Q(this,wd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Q(this,En))==null?void 0:e.promise}setOptions(e){if(this.options={...Q(this,s0),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=ND(this.options);r.data!==void 0&&(this.setState(jD(r.data,r.dataUpdatedAt)),Le(this,wd,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,Ls).remove(this)}setData(e,r){const n=rA(this.state.data,e,this.options);return Et(this,ha,Yo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Et(this,ha,Yo).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=Q(this,En))==null?void 0:n.promise;return(i=Q(this,En))==null||i.cancel(e),r?r.then(ji).catch(ji):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,wd))}isActive(){return this.observers.some(e=>$s(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$I||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Gc(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!kW(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=Q(this,En))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=Q(this,En))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Q(this,Ls).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(Q(this,En)&&(Q(this,jd)?Q(this,En).cancel({revert:!0}):Q(this,En).cancelRetry()),this.scheduleGc()),Q(this,Ls).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Et(this,ha,Yo).call(this,{type:"invalidate"})}async fetch(e,r){var c,d,f,m,p,v,w,x,g,_,T,P;if(this.state.fetchStatus!=="idle"&&((c=Q(this,En))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Q(this,En))return Q(this,En).continueRetry(),Q(this,En).promise}if(e&&this.setOptions(e),!this.options.queryFn){const k=this.observers.find(A=>A.options.queryFn);k&&this.setOptions(k.options)}const n=new AbortController,i=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(Le(this,jd,!0),n.signal)})},s=()=>{const k=OW(this.options,r),C=(()=>{const E={client:Q(this,_d),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return Le(this,jd,!1),this.options.persister?this.options.persister(k,C,this):k(C)},l=(()=>{const k={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Q(this,_d),state:this.state,fetchFn:s};return i(k),k})();(d=this.options.behavior)==null||d.onFetch(l,this),Le(this,Bf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Et(this,ha,Yo).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta}),Le(this,En,DW({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:k=>{k instanceof iA&&k.revert&&this.setState({...Q(this,Bf),fetchStatus:"idle"}),n.abort()},onFail:(k,A)=>{Et(this,ha,Yo).call(this,{type:"failed",failureCount:k,error:A})},onPause:()=>{Et(this,ha,Yo).call(this,{type:"pause"})},onContinue:()=>{Et(this,ha,Yo).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const k=await Q(this,En).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(v=(p=Q(this,Ls).config).onSuccess)==null||v.call(p,k,this),(x=(w=Q(this,Ls).config).onSettled)==null||x.call(w,k,this.state.error,this),k}catch(k){if(k instanceof iA){if(k.silent)return Q(this,En).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw Et(this,ha,Yo).call(this,{type:"error",error:k}),(_=(g=Q(this,Ls).config).onError)==null||_.call(g,k,this),(P=(T=Q(this,Ls).config).onSettled)==null||P.call(T,this.state.data,k,this),k}finally{this.scheduleGc()}}},wd=new WeakMap,Bf=new WeakMap,Ls=new WeakMap,_d=new WeakMap,En=new WeakMap,s0=new WeakMap,jd=new WeakMap,ha=new WeakSet,Yo=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...$W(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...jD(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Le(this,Bf,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),gn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Q(this,Ls).notify({query:this,type:"updated",action:e})})},n9);function $W(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:MW(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function jD(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ND(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ui,Ut,a0,bi,Nd,qf,Xo,Rc,o0,Uf,zf,Sd,Td,Mc,Wf,lr,bg,sA,aA,oA,lA,cA,uA,dA,FW,i9,Ife=(i9=class extends Bm{constructor(e,r){super();rt(this,lr);rt(this,Ui);rt(this,Ut);rt(this,a0);rt(this,bi);rt(this,Nd);rt(this,qf);rt(this,Xo);rt(this,Rc);rt(this,o0);rt(this,Uf);rt(this,zf);rt(this,Sd);rt(this,Td);rt(this,Mc);rt(this,Wf,new Set);this.options=r,Le(this,Ui,e),Le(this,Rc,null),Le(this,Xo,nA()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,Ut).addObserver(this),SD(Q(this,Ut),this.options)?Et(this,lr,bg).call(this):this.updateResult(),Et(this,lr,lA).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hA(Q(this,Ut),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hA(Q(this,Ut),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Et(this,lr,cA).call(this),Et(this,lr,uA).call(this),Q(this,Ut).removeObserver(this)}setOptions(e){const r=this.options,n=Q(this,Ut);if(this.options=Q(this,Ui).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $s(this.options.enabled,Q(this,Ut))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Et(this,lr,dA).call(this),Q(this,Ut).setOptions(this.options),r._defaulted&&!qb(this.options,r)&&Q(this,Ui).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,Ut),observer:this});const i=this.hasListeners();i&&TD(Q(this,Ut),n,this.options,r)&&Et(this,lr,bg).call(this),this.updateResult(),i&&(Q(this,Ut)!==n||$s(this.options.enabled,Q(this,Ut))!==$s(r.enabled,Q(this,Ut))||Gc(this.options.staleTime,Q(this,Ut))!==Gc(r.staleTime,Q(this,Ut)))&&Et(this,lr,sA).call(this);const s=Et(this,lr,aA).call(this);i&&(Q(this,Ut)!==n||$s(this.options.enabled,Q(this,Ut))!==$s(r.enabled,Q(this,Ut))||s!==Q(this,Mc))&&Et(this,lr,oA).call(this,s)}getOptimisticResult(e){const r=Q(this,Ui).getQueryCache().build(Q(this,Ui),e),n=this.createResult(r,e);return Rfe(this,n)&&(Le(this,bi,n),Le(this,qf,this.options),Le(this,Nd,Q(this,Ut).state)),n}getCurrentResult(){return Q(this,bi)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Q(this,Xo).status==="pending"&&Q(this,Xo).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){Q(this,Wf).add(e)}getCurrentQuery(){return Q(this,Ut)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=Q(this,Ui).defaultQueryOptions(e),n=Q(this,Ui).getQueryCache().build(Q(this,Ui),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Et(this,lr,bg).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,bi)))}createResult(e,r){var O;const n=Q(this,Ut),i=this.options,s=Q(this,bi),o=Q(this,Nd),l=Q(this,qf),d=e!==n?e.state:Q(this,a0),{state:f}=e;let m={...f},p=!1,v;if(r._optimisticResults){const R=this.hasListeners(),L=!R&&SD(e,r),$=R&&TD(e,n,r,i);(L||$)&&(m={...m,...$W(f.data,e.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:w,errorUpdatedAt:x,status:g}=m;v=m.data;let _=!1;if(r.placeholderData!==void 0&&v===void 0&&g==="pending"){let R;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(R=s.data,_=!0):R=typeof r.placeholderData=="function"?r.placeholderData((O=Q(this,zf))==null?void 0:O.state.data,Q(this,zf)):r.placeholderData,R!==void 0&&(g="success",v=rA(s==null?void 0:s.data,R,r),p=!0)}if(r.select&&v!==void 0&&!_)if(s&&v===(o==null?void 0:o.data)&&r.select===Q(this,o0))v=Q(this,Uf);else try{Le(this,o0,r.select),v=r.select(v),v=rA(s==null?void 0:s.data,v,r),Le(this,Uf,v),Le(this,Rc,null)}catch(R){Le(this,Rc,R)}Q(this,Rc)&&(w=Q(this,Rc),v=Q(this,Uf),x=Date.now(),g="error");const T=m.fetchStatus==="fetching",P=g==="pending",k=g==="error",A=P&&T,C=v!==void 0,j={status:g,fetchStatus:m.fetchStatus,isPending:P,isSuccess:g==="success",isError:k,isInitialLoading:A,isLoading:A,data:v,dataUpdatedAt:m.dataUpdatedAt,error:w,errorUpdatedAt:x,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:T,isRefetching:T&&!P,isLoadingError:k&&!C,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:k&&C,isStale:VI(e,r),refetch:this.refetch,promise:Q(this,Xo),isEnabled:$s(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=F=>{j.status==="error"?F.reject(j.error):j.data!==void 0&&F.resolve(j.data)},L=()=>{const F=Le(this,Xo,j.promise=nA());R(F)},$=Q(this,Xo);switch($.status){case"pending":e.queryHash===n.queryHash&&R($);break;case"fulfilled":(j.status==="error"||j.data!==$.value)&&L();break;case"rejected":(j.status!=="error"||j.error!==$.reason)&&L();break}}return j}updateResult(){const e=Q(this,bi),r=this.createResult(Q(this,Ut),this.options);if(Le(this,Nd,Q(this,Ut).state),Le(this,qf,this.options),Q(this,Nd).data!==void 0&&Le(this,zf,Q(this,Ut)),qb(r,e))return;Le(this,bi,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!Q(this,Wf).size)return!0;const o=new Set(s??Q(this,Wf));return this.options.throwOnError&&o.add("error"),Object.keys(Q(this,bi)).some(l=>{const c=l;return Q(this,bi)[c]!==e[c]&&o.has(c)})};Et(this,lr,FW).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Et(this,lr,lA).call(this)}},Ui=new WeakMap,Ut=new WeakMap,a0=new WeakMap,bi=new WeakMap,Nd=new WeakMap,qf=new WeakMap,Xo=new WeakMap,Rc=new WeakMap,o0=new WeakMap,Uf=new WeakMap,zf=new WeakMap,Sd=new WeakMap,Td=new WeakMap,Mc=new WeakMap,Wf=new WeakMap,lr=new WeakSet,bg=function(e){Et(this,lr,dA).call(this);let r=Q(this,Ut).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(ji)),r},sA=function(){Et(this,lr,cA).call(this);const e=Gc(this.options.staleTime,Q(this,Ut));if(qd||Q(this,bi).isStale||!eA(e))return;const n=kW(Q(this,bi).dataUpdatedAt,e)+1;Le(this,Sd,dd.setTimeout(()=>{Q(this,bi).isStale||this.updateResult()},n))},aA=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,Ut)):this.options.refetchInterval)??!1},oA=function(e){Et(this,lr,uA).call(this),Le(this,Mc,e),!(qd||$s(this.options.enabled,Q(this,Ut))===!1||!eA(Q(this,Mc))||Q(this,Mc)===0)&&Le(this,Td,dd.setInterval(()=>{(this.options.refetchIntervalInBackground||FI.isFocused())&&Et(this,lr,bg).call(this)},Q(this,Mc)))},lA=function(){Et(this,lr,sA).call(this),Et(this,lr,oA).call(this,Et(this,lr,aA).call(this))},cA=function(){Q(this,Sd)&&(dd.clearTimeout(Q(this,Sd)),Le(this,Sd,void 0))},uA=function(){Q(this,Td)&&(dd.clearInterval(Q(this,Td)),Le(this,Td,void 0))},dA=function(){const e=Q(this,Ui).getQueryCache().build(Q(this,Ui),this.options);if(e===Q(this,Ut))return;const r=Q(this,Ut);Le(this,Ut,e),Le(this,a0,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},FW=function(e){gn.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(Q(this,bi))}),Q(this,Ui).getQueryCache().notify({query:Q(this,Ut),type:"observerResultsUpdated"})})},i9);function Ofe(t,e){return $s(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function SD(t,e){return Ofe(t,e)||t.state.data!==void 0&&hA(t,e,e.refetchOnMount)}function hA(t,e,r){if($s(e.enabled,t)!==!1&&Gc(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&VI(t,e)}return!1}function TD(t,e,r,n){return(t!==e||$s(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&VI(t,r)}function VI(t,e){return $s(e.enabled,t)!==!1&&t.isStaleByTime(Gc(e.staleTime,t))}function Rfe(t,e){return!qb(t.getCurrentResult(),e)}function ED(t){return{onFetch:(e,r)=>{var f,m,p,v,w;const n=e.options,i=(p=(m=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:p.direction,s=((v=e.state.data)==null?void 0:v.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const g=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},_=OW(e.options,e.fetchOptions),T=async(P,k,A)=>{if(x)return Promise.reject();if(k==null&&P.pages.length)return Promise.resolve(P);const E=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:k,direction:A?"backward":"forward",meta:e.options.meta};return g(L),L})(),j=await _(E),{maxPages:O}=e.options,R=A?Sfe:Nfe;return{pages:R(P.pages,j,O),pageParams:R(P.pageParams,k,O)}};if(i&&s.length){const P=i==="backward",k=P?Mfe:PD,A={pages:s,pageParams:o},C=k(n,A);l=await T(A,C,P)}else{const P=t??s.length;do{const k=c===0?o[0]??n.initialPageParam:PD(n,l);if(c>0&&k==null)break;l=await T(l,k),c++}while(c<P)}return l};e.options.persister?e.fetchFn=()=>{var x,g;return(g=(x=e.options).persister)==null?void 0:g.call(x,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=d}}}function PD(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Mfe(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var l0,Ja,wi,Ed,Za,vc,s9,Dfe=(s9=class extends LW{constructor(e){super();rt(this,Za);rt(this,l0);rt(this,Ja);rt(this,wi);rt(this,Ed);Le(this,l0,e.client),this.mutationId=e.mutationId,Le(this,wi,e.mutationCache),Le(this,Ja,[]),this.state=e.state||VW(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Q(this,Ja).includes(e)||(Q(this,Ja).push(e),this.clearGcTimeout(),Q(this,wi).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Le(this,Ja,Q(this,Ja).filter(r=>r!==e)),this.scheduleGc(),Q(this,wi).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Q(this,Ja).length||(this.state.status==="pending"?this.scheduleGc():Q(this,wi).remove(this))}continue(){var e;return((e=Q(this,Ed))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,d,f,m,p,v,w,x,g,_,T,P,k,A,C,E,j,O;const r=()=>{Et(this,Za,vc).call(this,{type:"continue"})},n={client:Q(this,l0),meta:this.options.meta,mutationKey:this.options.mutationKey};Le(this,Ed,DW({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,L)=>{Et(this,Za,vc).call(this,{type:"failed",failureCount:R,error:L})},onPause:()=>{Et(this,Za,vc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,wi).canRun(this)}));const i=this.state.status==="pending",s=!Q(this,Ed).canStart();try{if(i)r();else{Et(this,Za,vc).call(this,{type:"pending",variables:e,isPaused:s}),await((l=(o=Q(this,wi).config).onMutate)==null?void 0:l.call(o,e,this,n));const L=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,e,n));L!==this.state.context&&Et(this,Za,vc).call(this,{type:"pending",context:L,variables:e,isPaused:s})}const R=await Q(this,Ed).start();return await((m=(f=Q(this,wi).config).onSuccess)==null?void 0:m.call(f,R,e,this.state.context,this,n)),await((v=(p=this.options).onSuccess)==null?void 0:v.call(p,R,e,this.state.context,n)),await((x=(w=Q(this,wi).config).onSettled)==null?void 0:x.call(w,R,null,this.state.variables,this.state.context,this,n)),await((_=(g=this.options).onSettled)==null?void 0:_.call(g,R,null,e,this.state.context,n)),Et(this,Za,vc).call(this,{type:"success",data:R}),R}catch(R){try{throw await((P=(T=Q(this,wi).config).onError)==null?void 0:P.call(T,R,e,this.state.context,this,n)),await((A=(k=this.options).onError)==null?void 0:A.call(k,R,e,this.state.context,n)),await((E=(C=Q(this,wi).config).onSettled)==null?void 0:E.call(C,void 0,R,this.state.variables,this.state.context,this,n)),await((O=(j=this.options).onSettled)==null?void 0:O.call(j,void 0,R,e,this.state.context,n)),R}finally{Et(this,Za,vc).call(this,{type:"error",error:R})}}finally{Q(this,wi).runNext(this)}}},l0=new WeakMap,Ja=new WeakMap,wi=new WeakMap,Ed=new WeakMap,Za=new WeakSet,vc=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),gn.batch(()=>{Q(this,Ja).forEach(n=>{n.onMutationUpdate(e)}),Q(this,wi).notify({mutation:this,type:"updated",action:e})})},s9);function VW(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jo,fa,c0,a9,Lfe=(a9=class extends Bm{constructor(e={}){super();rt(this,Jo);rt(this,fa);rt(this,c0);this.config=e,Le(this,Jo,new Set),Le(this,fa,new Map),Le(this,c0,0)}build(e,r,n){const i=new Dfe({client:e,mutationCache:this,mutationId:++ix(this,c0)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){Q(this,Jo).add(e);const r=gx(e);if(typeof r=="string"){const n=Q(this,fa).get(r);n?n.push(e):Q(this,fa).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Q(this,Jo).delete(e)){const r=gx(e);if(typeof r=="string"){const n=Q(this,fa).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&Q(this,fa).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=gx(e);if(typeof r=="string"){const n=Q(this,fa).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=gx(e);if(typeof r=="string"){const i=(n=Q(this,fa).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){gn.batch(()=>{Q(this,Jo).forEach(e=>{this.notify({type:"removed",mutation:e})}),Q(this,Jo).clear(),Q(this,fa).clear()})}getAll(){return Array.from(Q(this,Jo))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>bD(r,n))}findAll(e={}){return this.getAll().filter(r=>bD(e,r))}notify(e){gn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return gn.batch(()=>Promise.all(e.map(r=>r.continue().catch(ji))))}},Jo=new WeakMap,fa=new WeakMap,c0=new WeakMap,a9);function gx(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Zo,Dc,zi,el,pl,rb,fA,o9,$fe=(o9=class extends Bm{constructor(r,n){super();rt(this,pl);rt(this,Zo);rt(this,Dc);rt(this,zi);rt(this,el);Le(this,Zo,r),this.setOptions(n),this.bindMethods(),Et(this,pl,rb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=Q(this,Zo).defaultMutationOptions(r),qb(this.options,n)||Q(this,Zo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Q(this,zi),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ud(n.mutationKey)!==Ud(this.options.mutationKey)?this.reset():((i=Q(this,zi))==null?void 0:i.state.status)==="pending"&&Q(this,zi).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Q(this,zi))==null||r.removeObserver(this)}onMutationUpdate(r){Et(this,pl,rb).call(this),Et(this,pl,fA).call(this,r)}getCurrentResult(){return Q(this,Dc)}reset(){var r;(r=Q(this,zi))==null||r.removeObserver(this),Le(this,zi,void 0),Et(this,pl,rb).call(this),Et(this,pl,fA).call(this)}mutate(r,n){var i;return Le(this,el,n),(i=Q(this,zi))==null||i.removeObserver(this),Le(this,zi,Q(this,Zo).getMutationCache().build(Q(this,Zo),this.options)),Q(this,zi).addObserver(this),Q(this,zi).execute(r)}},Zo=new WeakMap,Dc=new WeakMap,zi=new WeakMap,el=new WeakMap,pl=new WeakSet,rb=function(){var n;const r=((n=Q(this,zi))==null?void 0:n.state)??VW();Le(this,Dc,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},fA=function(r){gn.batch(()=>{var n,i,s,o,l,c,d,f;if(Q(this,el)&&this.hasListeners()){const m=Q(this,Dc).variables,p=Q(this,Dc).context,v={client:Q(this,Zo),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(n=Q(this,el)).onSuccess)==null||i.call(n,r.data,m,p,v),(o=(s=Q(this,el)).onSettled)==null||o.call(s,r.data,null,m,p,v)):(r==null?void 0:r.type)==="error"&&((c=(l=Q(this,el)).onError)==null||c.call(l,r.error,m,p,v),(f=(d=Q(this,el)).onSettled)==null||f.call(d,void 0,r.error,m,p,v))}this.listeners.forEach(m=>{m(Q(this,Dc))})})},o9),eo,l9,Ffe=(l9=class extends Bm{constructor(e={}){super();rt(this,eo);this.config=e,Le(this,eo,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??LI(i,r);let o=this.get(s);return o||(o=new kfe({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Q(this,eo).has(e.queryHash)||(Q(this,eo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=Q(this,eo).get(e.queryHash);r&&(e.destroy(),r===e&&Q(this,eo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Q(this,eo).get(e)}getAll(){return[...Q(this,eo).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>xD(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>xD(e,n)):r}notify(e){gn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){gn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},eo=new WeakMap,l9),Ur,Lc,$c,Hf,Gf,Fc,Kf,Yf,c9,Vfe=(c9=class{constructor(t={}){rt(this,Ur);rt(this,Lc);rt(this,$c);rt(this,Hf);rt(this,Gf);rt(this,Fc);rt(this,Kf);rt(this,Yf);Le(this,Ur,t.queryCache||new Ffe),Le(this,Lc,t.mutationCache||new Lfe),Le(this,$c,t.defaultOptions||{}),Le(this,Hf,new Map),Le(this,Gf,new Map),Le(this,Fc,0)}mount(){ix(this,Fc)._++,Q(this,Fc)===1&&(Le(this,Kf,FI.subscribe(async t=>{t&&(await this.resumePausedMutations(),Q(this,Ur).onFocus())})),Le(this,Yf,Ub.subscribe(async t=>{t&&(await this.resumePausedMutations(),Q(this,Ur).onOnline())})))}unmount(){var t,e;ix(this,Fc)._--,Q(this,Fc)===0&&((t=Q(this,Kf))==null||t.call(this),Le(this,Kf,void 0),(e=Q(this,Yf))==null||e.call(this),Le(this,Yf,void 0))}isFetching(t){return Q(this,Ur).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Q(this,Lc).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Q(this,Ur).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=Q(this,Ur).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Gc(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return Q(this,Ur).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=Q(this,Ur).get(n.queryHash),s=i==null?void 0:i.state.data,o=wfe(e,s);if(o!==void 0)return Q(this,Ur).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return gn.batch(()=>Q(this,Ur).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Q(this,Ur).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=Q(this,Ur);gn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=Q(this,Ur);return gn.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=gn.batch(()=>Q(this,Ur).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(ji).catch(ji)}invalidateQueries(t,e={}){return gn.batch(()=>(Q(this,Ur).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=gn.batch(()=>Q(this,Ur).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(ji)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(ji)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=Q(this,Ur).build(this,e);return r.isStaleByTime(Gc(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ji).catch(ji)}fetchInfiniteQuery(t){return t.behavior=ED(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ji).catch(ji)}ensureInfiniteQueryData(t){return t.behavior=ED(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ub.isOnline()?Q(this,Lc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,Ur)}getMutationCache(){return Q(this,Lc)}getDefaultOptions(){return Q(this,$c)}setDefaultOptions(t){Le(this,$c,t)}setQueryDefaults(t,e){Q(this,Hf).set(Ud(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Q(this,Hf).values()],r={};return e.forEach(n=>{ly(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){Q(this,Gf).set(Ud(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Q(this,Gf).values()],r={};return e.forEach(n=>{ly(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Q(this,$c).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=LI(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===$I&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Q(this,$c).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Q(this,Ur).clear(),Q(this,Lc).clear()}},Ur=new WeakMap,Lc=new WeakMap,$c=new WeakMap,Hf=new WeakMap,Gf=new WeakMap,Fc=new WeakMap,Kf=new WeakMap,Yf=new WeakMap,c9),BW=S.createContext(void 0),wn=t=>{const e=S.useContext(BW);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Bfe=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(BW.Provider,{value:t,children:e})),qW=S.createContext(!1),qfe=()=>S.useContext(qW);qW.Provider;function Ufe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var zfe=S.createContext(Ufe()),Wfe=()=>S.useContext(zfe),Hfe=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Gfe=t=>{S.useEffect(()=>{t.clearReset()},[t])},Kfe=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||RW(r,[t.error,n])),Yfe=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Qfe=(t,e)=>t.isLoading&&t.isFetching&&!e,Xfe=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,AD=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Jfe(t,e,r){var m,p,v,w,x;const n=qfe(),i=Wfe(),s=wn(),o=s.defaultQueryOptions(t);(p=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||p.call(m,o),o._optimisticResults=n?"isRestoring":"optimistic",Yfe(o),Hfe(o,i),Gfe(i);const l=!s.getQueryCache().get(o.queryHash),[c]=S.useState(()=>new e(s,o)),d=c.getOptimisticResult(o),f=!n&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(g=>{const _=f?c.subscribe(gn.batchCalls(g)):ji;return c.updateResult(),_},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),S.useEffect(()=>{c.setOptions(o)},[o,c]),Xfe(o,d))throw AD(o,c,i);if(Kfe({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((w=(v=s.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||w.call(v,o,d),o.experimental_prefetchInRender&&!qd&&Qfe(d,n)){const g=l?AD(o,c,i):(x=s.getQueryCache().get(o.queryHash))==null?void 0:x.promise;g==null||g.catch(ji).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function ft(t,e){return Jfe(t,Ife)}function Pr(t,e){const r=wn(),[n]=S.useState(()=>new $fe(r,t));S.useEffect(()=>{n.setOptions(t)},[n,t]);const i=S.useSyncExternalStore(S.useCallback(o=>n.subscribe(gn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=S.useCallback((o,l)=>{n.mutate(o,l).catch(ji)},[n]);if(i.error&&RW(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UW=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eme={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tme=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...l},c)=>S.createElement("svg",{ref:c,...eme,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:UW("lucide",i),...l},[...o.map(([d,f])=>S.createElement(d,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const r=S.forwardRef(({className:n,...i},s)=>S.createElement(tme,{ref:s,iconNode:e,className:UW(`lucide-${Zfe(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rme=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ad=Ee("ArrowLeft",rme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nme=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zW=Ee("ArrowRight",nme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ime=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Qn=Ee("Award",ime);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sme=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ame=Ee("Bell",sme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ome=[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]],BN=Ee("Binary",ome);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lme=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Bs=Ee("BookOpen",lme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cme=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],ume=Ee("Book",cme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dme=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],yn=Ee("Brain",dme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hme=[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]],zb=Ee("Brush",hme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fme=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Xu=Ee("Calculator",fme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mme=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hr=Ee("Calendar",mme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pme=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],rm=Ee("ChartColumn",pme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gme=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Mr=Ee("Check",gme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yme=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],BI=Ee("ChevronDown",yme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vme=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qI=Ee("ChevronRight",vme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xme=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bme=Ee("ChevronUp",xme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qm=Ee("CircleAlert",wme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _me=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wt=Ee("CircleCheckBig",_me);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],zd=Ee("CircleX",jme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sme=Ee("Circle",Nme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tme=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Eme=Ee("ClipboardList",Tme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],_r=Ee("Clock",Pme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ame=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Kc=Ee("Coins",Ame);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cme=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],F1=Ee("CreditCard",Cme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kme=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Si=Ee("Crown",kme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ime=[["circle",{cx:"12",cy:"6",r:"1",key:"1bh7o1"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["circle",{cx:"12",cy:"18",r:"1",key:"lqb9t5"}]],Ec=Ee("Divide",Ime);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ome=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],eg=Ee("DollarSign",Ome);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rme=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],cy=Ee("Download",Rme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mme=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],WW=Ee("Eraser",Mme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dme=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],nb=Ee("ExternalLink",Dme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lme=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CD=Ee("Eye",Lme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $me=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Fme=Ee("Facebook",$me);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vme=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kD=Ee("FileText",Vme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bme=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],ff=Ee("Flame",Bme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qme=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Ume=Ee("Footprints",qme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zme=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Wme=Ee("Gamepad2",zme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hme=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],mA=Ee("Gift",Hme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gme=[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]],Kme=Ee("Glasses",Gme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Qme=Ee("Globe",Yme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xme=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],qN=Ee("GraduationCap",Xme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jme=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],xi=Ee("Grid3x3",Jme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zme=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Rg=Ee("Heart",Zme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ib=Ee("House",epe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],rpe=Ee("Image",tpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ci=Ee("Info",npe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],spe=Ee("Instagram",ipe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ape=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ID=Ee("Lightbulb",ape);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ope=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],lpe=Ee("Link2",ope);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],HW=Ee("LoaderCircle",cpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ui=Ee("Lock",upe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dpe=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],OD=Ee("LogOut",dpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hpe=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Cf=Ee("Mail",hpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fpe=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],mpe=Ee("Maximize2",fpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Mg=Ee("Medal",ppe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],ype=Ee("Menu",gpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vpe=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Pc=Ee("MessageSquare",vpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ac=Ee("Minus",xpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bpe=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],wpe=Ee("Moon",bpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _pe=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],GW=Ee("PaintBucket",_pe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jpe=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Wd=Ee("Palette",jpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Npe=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],Spe=Ee("PartyPopper",Npe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tpe=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Xh=Ee("Percent",Tpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Epe=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Dg=Ee("Play",Epe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ppe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qn=Ee("Plus",Ppe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ape=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Cpe=Ee("RefreshCw",Ape);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kpe=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],yx=Ee("Reply",kpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ipe=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Ope=Ee("Rocket",Ipe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rpe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],UI=Ee("RotateCcw",Rpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mpe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Wb=Ee("Save",Mpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dpe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],KW=Ee("Send",Dpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lpe=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uy=Ee("Settings",Lpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $pe=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],pc=Ee("Shapes",$pe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fpe=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],RD=Ee("Share2",Fpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vpe=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],MD=Ee("Share",Vpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bpe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Gi=Ee("Shield",Bpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qpe=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],Upe=Ee("Shirt",qpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zpe=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],il=Ee("ShoppingBag",zpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wpe=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Hpe=Ee("Shuffle",Wpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gpe=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Kpe=Ee("Smartphone",Gpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ype=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Qpe=Ee("Smile",Ype);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xpe=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Xt=Ee("Sparkles",Xpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jpe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Tt=Ee("Star",Jpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zpe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ege=Ee("Sun",Zpe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Jt=Ee("Target",tge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rge=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],nge=Ee("ThumbsUp",rge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ige=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],T0=Ee("Trash2",ige);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sge=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],iu=Ee("TrendingDown",sge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const age=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],gr=Ee("TrendingUp",age);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oge=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gn=Ee("TriangleAlert",oge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lge=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],It=Ee("Trophy",lge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cge=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],uge=Ee("Twitter",cge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dge=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],hge=Ee("Upload",dge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fge=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],pA=Ee("UserCog",fge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mge=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],wg=Ee("UserPlus",mge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pge=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kf=Ee("User",pge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gge=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],bn=Ee("Users",gge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yge=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],DD=Ee("Volume2",yge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vge=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],An=Ee("X",vge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xge=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Wn=Ee("Zap",xge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bge=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],wge=Ee("ZoomIn",bge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ge=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],jge=Ee("ZoomOut",_ge);function YW(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=YW(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function mt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=YW(t))&&(n&&(n+=" "),n+=e);return n}const LD=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,$D=mt,E0=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return $D(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const f=r==null?void 0:r[d],m=s==null?void 0:s[d];if(f===null)return null;const p=LD(f)||LD(m);return i[d][p]}),l=r&&Object.entries(r).reduce((d,f)=>{let[m,p]=f;return p===void 0||(d[m]=p),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:m,className:p,...v}=f;return Object.entries(v).every(w=>{let[x,g]=w;return Array.isArray(g)?g.includes({...s,...l}[x]):{...s,...l}[x]===g})?[...d,m,p]:d},[]);return $D(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},zI="-",Nge=t=>{const e=Tge(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(zI);return l[0]===""&&l.length!==1&&l.shift(),QW(l,e)||Sge(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},QW=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?QW(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(zI);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},FD=/^\[(.+)\]$/,Sge=t=>{if(FD.test(t)){const e=FD.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Tge=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const i in r)gA(r[i],n,i,e);return n},gA=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:VD(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(Ege(i)){gA(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{gA(o,VD(e,s),r,n)})})},VD=(t,e)=>{let r=t;return e.split(zI).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Ege=t=>t.isThemeGetter,Pge=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},yA="!",vA=":",Age=vA.length,Cge=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const s=[];let o=0,l=0,c=0,d;for(let w=0;w<i.length;w++){let x=i[w];if(o===0&&l===0){if(x===vA){s.push(i.slice(c,w)),c=w+Age;continue}if(x==="/"){d=w;continue}}x==="["?o++:x==="]"?o--:x==="("?l++:x===")"&&l--}const f=s.length===0?i:i.substring(c),m=kge(f),p=m!==f,v=d&&d>c?d-c:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:v}};if(e){const i=e+vA,s=n;n=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=s=>r({className:s,parseClassName:i})}return n},kge=t=>t.endsWith(yA)?t.substring(0,t.length-1):t.startsWith(yA)?t.substring(1):t,Ige=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let s=[];return n.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},Oge=t=>({cache:Pge(t.cacheSize),parseClassName:Cge(t),sortModifiers:Ige(t),...Nge(t)}),Rge=/\s+/,Mge=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],l=t.trim().split(Rge);let c="";for(let d=l.length-1;d>=0;d-=1){const f=l[d],{isExternal:m,modifiers:p,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:x}=r(f);if(m){c=f+(c.length>0?" "+c:c);continue}let g=!!x,_=n(g?w.substring(0,x):w);if(!_){if(!g){c=f+(c.length>0?" "+c:c);continue}if(_=n(w),!_){c=f+(c.length>0?" "+c:c);continue}g=!1}const T=s(p).join(":"),P=v?T+yA:T,k=P+_;if(o.includes(k))continue;o.push(k);const A=i(_,g);for(let C=0;C<A.length;++C){const E=A[C];o.push(P+E)}c=f+(c.length>0?" "+c:c)}return c};function Dge(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=XW(e))&&(n&&(n+=" "),n+=r);return n}const XW=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=XW(t[n]))&&(r&&(r+=" "),r+=e);return r};function Lge(t,...e){let r,n,i,s=o;function o(c){const d=e.reduce((f,m)=>m(f),t());return r=Oge(d),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const d=n(c);if(d)return d;const f=Mge(c,r);return i(c,f),f}return function(){return s(Dge.apply(null,arguments))}}const hn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},JW=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ZW=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$ge=/^\d+\/\d+$/,Fge=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Vge=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bge=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,qge=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Uge=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jh=t=>$ge.test(t),Ct=t=>!!t&&!Number.isNaN(Number(t)),gc=t=>!!t&&Number.isInteger(Number(t)),UN=t=>t.endsWith("%")&&Ct(t.slice(0,-1)),Go=t=>Fge.test(t),zge=()=>!0,Wge=t=>Vge.test(t)&&!Bge.test(t),eH=()=>!1,Hge=t=>qge.test(t),Gge=t=>Uge.test(t),Kge=t=>!Ye(t)&&!Qe(t),Yge=t=>Um(t,nH,eH),Ye=t=>JW.test(t),Ju=t=>Um(t,iH,Wge),zN=t=>Um(t,eye,Ct),BD=t=>Um(t,tH,eH),Qge=t=>Um(t,rH,Gge),vx=t=>Um(t,sH,Hge),Qe=t=>ZW.test(t),tg=t=>zm(t,iH),Xge=t=>zm(t,tye),qD=t=>zm(t,tH),Jge=t=>zm(t,nH),Zge=t=>zm(t,rH),xx=t=>zm(t,sH,!0),Um=(t,e,r)=>{const n=JW.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},zm=(t,e,r=!1)=>{const n=ZW.exec(t);return n?n[1]?e(n[1]):r:!1},tH=t=>t==="position"||t==="percentage",rH=t=>t==="image"||t==="url",nH=t=>t==="length"||t==="size"||t==="bg-size",iH=t=>t==="length",eye=t=>t==="number",tye=t=>t==="family-name",sH=t=>t==="shadow",rye=()=>{const t=hn("color"),e=hn("font"),r=hn("text"),n=hn("font-weight"),i=hn("tracking"),s=hn("leading"),o=hn("breakpoint"),l=hn("container"),c=hn("spacing"),d=hn("radius"),f=hn("shadow"),m=hn("inset-shadow"),p=hn("text-shadow"),v=hn("drop-shadow"),w=hn("blur"),x=hn("perspective"),g=hn("aspect"),_=hn("ease"),T=hn("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...k(),Qe,Ye],C=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],j=()=>[Qe,Ye,c],O=()=>[Jh,"full","auto",...j()],R=()=>[gc,"none","subgrid",Qe,Ye],L=()=>["auto",{span:["full",gc,Qe,Ye]},gc,Qe,Ye],$=()=>[gc,"auto",Qe,Ye],F=()=>["auto","min","max","fr",Qe,Ye],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...j()],J=()=>[Jh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],U=()=>[t,Qe,Ye],X=()=>[...k(),qD,BD,{position:[Qe,Ye]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",Jge,Yge,{size:[Qe,Ye]}],ee=()=>[UN,tg,Ju],de=()=>["","none","full",d,Qe,Ye],ce=()=>["",Ct,tg,Ju],be=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[Ct,UN,qD,BD],Ie=()=>["","none",w,Qe,Ye],me=()=>["none",Ct,Qe,Ye],Pe=()=>["none",Ct,Qe,Ye],Re=()=>[Ct,Qe,Ye],fe=()=>[Jh,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Go],breakpoint:[Go],color:[zge],container:[Go],"drop-shadow":[Go],ease:["in","out","in-out"],font:[Kge],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Go],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Go],shadow:[Go],spacing:["px",Ct],text:[Go],"text-shadow":[Go],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Jh,Ye,Qe,g]}],container:["container"],columns:[{columns:[Ct,Ye,Qe,l]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[gc,"auto",Qe,Ye]}],basis:[{basis:[Jh,"full","auto",l,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ct,Jh,"auto","initial","none",Ye]}],grow:[{grow:["",Ct,Qe,Ye]}],shrink:[{shrink:["",Ct,Qe,Ye]}],order:[{order:[gc,"first","last","none",Qe,Ye]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[l,"screen",...J()]}],"min-w":[{"min-w":[l,"screen","none",...J()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",r,tg,Ju]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Qe,zN]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",UN,Ye]}],"font-family":[{font:[Xge,Ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Qe,Ye]}],"line-clamp":[{"line-clamp":[Ct,"none",Qe,zN]}],leading:[{leading:[s,...j()]}],"list-image":[{"list-image":["none",Qe,Ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Qe,Ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ct,"from-font","auto",Qe,Ju]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[Ct,"auto",Qe,Ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe,Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe,Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},gc,Qe,Ye],radial:["",Qe,Ye],conic:[gc,Qe,Ye]},Zge,Qge]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:de()}],"rounded-s":[{"rounded-s":de()}],"rounded-e":[{"rounded-e":de()}],"rounded-t":[{"rounded-t":de()}],"rounded-r":[{"rounded-r":de()}],"rounded-b":[{"rounded-b":de()}],"rounded-l":[{"rounded-l":de()}],"rounded-ss":[{"rounded-ss":de()}],"rounded-se":[{"rounded-se":de()}],"rounded-ee":[{"rounded-ee":de()}],"rounded-es":[{"rounded-es":de()}],"rounded-tl":[{"rounded-tl":de()}],"rounded-tr":[{"rounded-tr":de()}],"rounded-br":[{"rounded-br":de()}],"rounded-bl":[{"rounded-bl":de()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ct,Qe,Ye]}],"outline-w":[{outline:["",Ct,tg,Ju]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",f,xx,vx]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",m,xx,vx]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[Ct,Ju]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",p,xx,vx]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[Ct,Qe,Ye]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ct]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[Qe,Ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Ct]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Qe,Ye]}],filter:[{filter:["","none",Qe,Ye]}],blur:[{blur:Ie()}],brightness:[{brightness:[Ct,Qe,Ye]}],contrast:[{contrast:[Ct,Qe,Ye]}],"drop-shadow":[{"drop-shadow":["","none",v,xx,vx]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",Ct,Qe,Ye]}],"hue-rotate":[{"hue-rotate":[Ct,Qe,Ye]}],invert:[{invert:["",Ct,Qe,Ye]}],saturate:[{saturate:[Ct,Qe,Ye]}],sepia:[{sepia:["",Ct,Qe,Ye]}],"backdrop-filter":[{"backdrop-filter":["","none",Qe,Ye]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[Ct,Qe,Ye]}],"backdrop-contrast":[{"backdrop-contrast":[Ct,Qe,Ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ct,Qe,Ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ct,Qe,Ye]}],"backdrop-invert":[{"backdrop-invert":["",Ct,Qe,Ye]}],"backdrop-opacity":[{"backdrop-opacity":[Ct,Qe,Ye]}],"backdrop-saturate":[{"backdrop-saturate":[Ct,Qe,Ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Ct,Qe,Ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Qe,Ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ct,"initial",Qe,Ye]}],ease:[{ease:["linear","initial",_,Qe,Ye]}],delay:[{delay:[Ct,Qe,Ye]}],animate:[{animate:["none",T,Qe,Ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Qe,Ye]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:Pe()}],"scale-x":[{"scale-x":Pe()}],"scale-y":[{"scale-y":Pe()}],"scale-z":[{"scale-z":Pe()}],"scale-3d":["scale-3d"],skew:[{skew:Re()}],"skew-x":[{"skew-x":Re()}],"skew-y":[{"skew-y":Re()}],transform:[{transform:[Qe,Ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fe()}],"translate-x":[{"translate-x":fe()}],"translate-y":[{"translate-y":fe()}],"translate-z":[{"translate-z":fe()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe,Ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe,Ye]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[Ct,tg,Ju,zN]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nye=Lge(rye);function bt(...t){return nye(mt(t))}const iye=E0("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function je({className:t,variant:e,...r}){return a.jsx("div",{className:bt(iye({variant:e}),t),...r})}function UD(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function vu(...t){return e=>{let r=!1;const n=t.map(i=>{const s=UD(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():UD(t[i],null)}}}}function Bt(...t){return S.useCallback(vu(...t),t)}var sye=Symbol.for("react.lazy"),Hb=Ik[" use ".trim().toString()];function aye(t){return typeof t=="object"&&t!==null&&"then"in t}function aH(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===sye&&"_payload"in t&&aye(t._payload)}function WI(t){const e=lye(t),r=S.forwardRef((n,i)=>{let{children:s,...o}=n;aH(s)&&typeof Hb=="function"&&(s=Hb(s._payload));const l=S.Children.toArray(s),c=l.find(uye);if(c){const d=c.props.children,f=l.map(m=>m===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return a.jsx(e,{...o,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var oye=WI("Slot");function lye(t){const e=S.forwardRef((r,n)=>{let{children:i,...s}=r;if(aH(i)&&typeof Hb=="function"&&(i=Hb(i._payload)),S.isValidElement(i)){const o=hye(i),l=dye(s,i.props);return i.type!==S.Fragment&&(l.ref=n?vu(n,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cye=Symbol("radix.slottable");function uye(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cye}function dye(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function hye(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const fye=E0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),le=S.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?oye:"button";return a.jsx(o,{className:bt(fye({variant:e,size:r,className:t})),ref:s,...i})});le.displayName="Button";const rr=S.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:bt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));rr.displayName="Input";const mye=E0("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ze=S.forwardRef(({className:t,variant:e,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:bt(mye({variant:e}),t),...r}));ze.displayName="Alert";const pye=S.forwardRef(({className:t,...e},r)=>a.jsx("h5",{ref:r,className:bt("mb-1 font-medium leading-none tracking-tight",t),...e}));pye.displayName="AlertTitle";const We=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:bt("text-sm [&_p]:leading-relaxed",t),...e}));We.displayName="AlertDescription";function Cd({avatarData:t,size:e="medium",showPet:r=!1,petData:n=null}){const i={small:"w-16 h-16",medium:"w-32 h-32",large:"w-48 h-48"},s=i[e]||i.medium,o={plain:"from-gray-100 to-gray-200",stars:"from-indigo-500 via-purple-500 to-pink-500",rainbow:"from-red-400 via-yellow-400 via-green-400 via-blue-400 to-purple-400",clouds:"from-sky-300 to-blue-400",space:"from-slate-900 via-purple-900 to-indigo-900",underwater:"from-cyan-500 to-blue-600",forest:"from-green-600 to-emerald-700",city:"from-gray-700 to-slate-800",beach:"from-yellow-300 to-orange-400"},l={light:"#FFE0BD",medium:"#F4C89A",tan:"#D4A574",dark:"#8D5524"},c={black:"#000000",brown:"#8B4513",blonde:"#FFD700",red:"#DC143C",blue:"#4169E1",pink:"#FF69B4",purple:"#9370DB",green:"#32CD32",orange:"#FF8C00",white:"#F5F5F5",rainbow:"linear-gradient(90deg, red, orange, yellow, green, blue, purple)"},d={t_shirt_basic:"#6366f1",t_shirt_stripe:"#ef4444",polo:"#10b981",hoodie:"#8b5cf6",tank_top:"#f59e0b",sweater:"#ec4899",jersey:"#3b82f6",button_up:"#ffffff",graphic_tee:"#f97316"},f={jeans:"#1e40af",shorts:"#78716c",skirt:"#ec4899",dress_pants:"#374151",joggers:"#6b7280",overalls:"#3b82f6",leggings:"#0f172a",cargo_pants:"#854d0e"},m={sneakers:"#ffffff",boots:"#78350f",sandals:"#f59e0b",dress_shoes:"#000000",high_tops:"#ef4444",cleats:"#10b981",slippers:"#ec4899",bare_feet:l[t.avatar_skin_tone]||l.medium},p=j=>{const O={normal:"",happy:"",cool:"",star:"",heart:"",sleepy:"",angry:"",surprised:"",wink:""};return O[j]||O.normal},v=j=>{const O={smile:"",big_smile:"",laughing:"",determined:"",neutral:"",tongue_out:""};return O[j]||O.smile},w=j=>{const O={short:"",long:"",curly:"",spiky:"",bald:"",ponytail:"",braids:"",afro:"",mohawk:"",bun:""};return O[j]||O.short},x=j=>({none:"",baseball_cap:"",beanie:"",sun_hat:"",wizard_hat:"",party_hat:"",graduation_cap:"",crown:"",top_hat:"",cowboy_hat:""})[j]||"",g=j=>({none:"",regular:"",sunglasses:"",reading:"",safety_goggles:"","3d_glasses":"",heart_shaped:"",star_shaped:""})[j]||"",_=j=>({none:"",backpack:"",cape:"",scarf:"",bow_tie:"",necklace:"",watch:"",headphones:"",earrings:"",bracelet:""})[j]||"",T=o[t.avatar_background]||o.plain,P=l[t.avatar_skin_tone]||l.medium,k=c[t.avatar_hair_color]||c.brown,A=d[t.avatar_shirt]||d.t_shirt_basic,C=f[t.avatar_pants]||f.jeans,E=m[t.avatar_shoes]||m.sneakers;return a.jsxs("div",{className:"relative inline-block",children:[a.jsxs("div",{className:`${s} rounded-full bg-gradient-to-br ${T} flex flex-col items-center justify-center overflow-hidden shadow-xl border-4 border-white relative`,children:[t.avatar_hat&&t.avatar_hat!=="none"&&a.jsx("div",{className:"absolute top-0 text-2xl",children:x(t.avatar_hat)}),a.jsx("div",{className:"text-3xl mb-1",style:t.avatar_hair_color==="rainbow"?{background:k,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}:{color:k},children:w(t.avatar_hair_style)}),a.jsxs("div",{className:"w-16 h-16 rounded-full flex flex-col items-center justify-center",style:{backgroundColor:P},children:[t.avatar_glasses&&t.avatar_glasses!=="none"&&a.jsx("div",{className:"absolute text-xl",children:g(t.avatar_glasses)}),a.jsx("div",{className:"text-xl",children:p(t.avatar_eyes)}),a.jsx("div",{className:"text-xs",children:v(t.avatar_face||"smile")})]}),a.jsx("div",{className:"w-20 h-8 rounded-t-lg mt-1",style:{backgroundColor:A}}),a.jsx("div",{className:"w-16 h-6",style:{backgroundColor:C}}),a.jsx("div",{className:"w-12 h-3 rounded-b-lg",style:{backgroundColor:E}}),t.avatar_accessory&&t.avatar_accessory!=="none"&&a.jsx("div",{className:"absolute bottom-2 right-2 text-xl",children:_(t.avatar_accessory)})]}),r&&n&&a.jsx("div",{className:"absolute -bottom-2 -right-2 scale-75",children:a.jsxs("div",{className:`w-12 h-12 rounded-full bg-gradient-to-br ${n.gradient} flex items-center justify-center border-2 border-white shadow-lg`,children:[a.jsx("span",{className:"text-xl",children:n.emoji}),t.pet_hat&&t.pet_hat!=="none"&&a.jsxs("span",{className:"absolute -top-1 text-xs",children:[t.pet_hat==="tiny_cap"&&"",t.pet_hat==="bow"&&"",t.pet_hat==="crown"&&"",t.pet_hat==="santa_hat"&&"",t.pet_hat==="party_hat"&&""]}),t.pet_accessory&&t.pet_accessory!=="none"&&a.jsxs("span",{className:"absolute -bottom-1 text-xs",children:[t.pet_accessory==="collar"&&"",t.pet_accessory==="bow_tie"&&"",t.pet_accessory==="bandana"&&"",t.pet_accessory==="scarf"&&"",t.pet_accessory==="wings"&&"",t.pet_accessory==="cape"&&""]})]})})]})}function gye({showTitle:t=!1,redirectTo:e="Home"}){const r=yu(),[n,i]=S.useState("sign-in"),[s,o]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(""),[m,p]=S.useState(!1),[v,w]=S.useState(""),[x,g]=S.useState(""),[_,T]=S.useState(!1),P={avatar_skin_tone:"medium",avatar_hair_style:"short",avatar_hair_color:"brown",avatar_eyes:"happy",avatar_face:"smile",avatar_shirt:"t_shirt_basic",avatar_pants:"jeans",avatar_shoes:"sneakers",avatar_hat:"none",avatar_glasses:"none",avatar_accessory:"none",avatar_background:"stars",pet_hat:"none",pet_accessory:"none",unlocked_items:["t_shirt_basic","jeans","sneakers","short","long","black","brown","blonde","normal","happy","light","medium","tan","dark","smile","big_smile","plain"]},k=(()=>{let E=0;return l.length>=8&&E++,/[A-Z]/.test(l)&&E++,/[0-9]/.test(l)&&E++,/[^A-Za-z0-9]/.test(l)&&E++,E})(),A=async()=>{if(g(""),w(""),!s||!l){g("Please enter email and password.");return}if(n==="sign-up"){if(l.length<6){g("Password must be at least 6 characters.");return}if(l!==d){g("Passwords do not match.");return}}p(!0);try{if(n==="sign-up"){const E=await wse(mx,s,l),j=Ci(Kde,"users",E.user.uid);await bl(j,{email:s,full_name:E.user.displayName||s.split("@")[0],createdAt:Qce(),onboarding:{completed:!1,lastStep:0},coins:0,...P},{merge:!0}),w("Account created! Meet your starter avatar."),T(!0)}else{await _se(mx,s,l),w("Signed in successfully.");try{r(Ge(e))}catch{}}}catch(E){g((E==null?void 0:E.message)||"Authentication failed.")}finally{p(!1)}},C=async()=>{if(g(""),w(""),!s){g("Enter your email to receive a reset link.");return}try{await bse(mx,s),w("Password reset email sent.")}catch(E){g((E==null?void 0:E.message)||"Failed to send reset email.")}};return a.jsxs("div",{className:"w-full max-w-md mx-auto bg-white rounded-2xl shadow-xl p-6 text-left",children:[t&&a.jsx("h2",{className:"text-2xl font-bold mb-4 text-purple-700",children:n==="sign-in"?"Sign in":"Create your account"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(rr,{placeholder:"Email",type:"email",value:s,onChange:E=>o(E.target.value)}),a.jsx(rr,{placeholder:"Password",type:"password",value:l,onChange:E=>c(E.target.value)}),n==="sign-up"&&a.jsxs(a.Fragment,{children:[a.jsx(rr,{placeholder:"Confirm password",type:"password",value:d,onChange:E=>f(E.target.value)}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Strength: ",["very weak","weak","fair","good","strong"][k]]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(le,{onClick:A,disabled:m,className:"bg-purple-600 hover:bg-purple-700",children:m?"Please wait":n==="sign-in"?"Sign In":"Sign Up"}),a.jsx("button",{type:"button",className:"text-sm text-purple-700 hover:underline",onClick:()=>i(n==="sign-in"?"sign-up":"sign-in"),children:n==="sign-in"?"Need an account? Sign up":"Have an account? Sign in"})]}),a.jsx("button",{type:"button",onClick:C,className:"text-sm text-gray-600 hover:underline",children:"Forgot password?"}),(x||v)&&a.jsx(ze,{className:x?"bg-red-50 border-red-200":"bg-green-50 border-green-200",children:a.jsx(We,{className:x?"text-red-700":"text-green-700",children:x||v})})]}),_&&!x&&a.jsxs("div",{className:"mt-6 p-4 rounded-xl border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",children:[a.jsx("h3",{className:"text-lg font-bold text-purple-700 mb-3",children:"Welcome! Here's your starter look "}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Cd,{avatarData:P,size:"medium"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"You can customize your avatar now or do it later."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(le,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>r(Ge("Avatar")),children:"Customize Avatar"}),a.jsx(le,{variant:"outline",onClick:()=>r(Ge(e)),children:"Continue"})]})]})]})]}),a.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["By continuing you agree to our",a.jsx("button",{type:"button",onClick:()=>r(Ge("PrivacyPolicy")),className:"text-purple-600 hover:underline ml-1",children:"Privacy Policy"}),"and",a.jsx("button",{type:"button",onClick:()=>r(Ge("PrivacyPolicy")),className:"text-purple-600 hover:underline ml-1",children:"Terms"}),"."]}),a.jsx("div",{className:"mt-4",children:a.jsx(le,{variant:"outline",onClick:()=>Z9(mx),className:"w-full",children:"Sign Out"})})]})}function Ve(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Ca(t,e=[]){let r=[];function n(s,o){const l=S.createContext(o),c=r.length;r=[...r,o];const d=m=>{var _;const{scope:p,children:v,...w}=m,x=((_=p==null?void 0:p[t])==null?void 0:_[c])||l,g=S.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:g,children:v})};d.displayName=s+"Provider";function f(m,p){var x;const v=((x=p==null?void 0:p[t])==null?void 0:x[c])||l,w=S.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,f]}const i=()=>{const s=r.map(o=>S.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,yye(i,...e)]}function yye(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(s)[`__scope${d}`];return{...l,...m}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var pi=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},vye=Ik[" useInsertionEffect ".trim().toString()]||pi;function _l({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,o]=xye({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:i;{const f=S.useRef(t!==void 0);S.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const d=S.useCallback(f=>{var m;if(l){const p=bye(f)?f(t):f;p!==t&&((m=o.current)==null||m.call(o,p))}else s(f)},[l,t,s,o]);return[c,d]}function xye({defaultProp:t,onChange:e}){const[r,n]=S.useState(t),i=S.useRef(r),s=S.useRef(e);return vye(()=>{s.current=e},[e]),S.useEffect(()=>{var o;i.current!==r&&((o=s.current)==null||o.call(s,r),i.current=r)},[r,i]),[r,n,s]}function bye(t){return typeof t=="function"}function wye(t){const e=_ye(t),r=S.forwardRef((n,i)=>{const{children:s,...o}=n,l=S.Children.toArray(s),c=l.find(Nye);if(c){const d=c.props.children,f=l.map(m=>m===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return a.jsx(e,{...o,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function _ye(t){const e=S.forwardRef((r,n)=>{const{children:i,...s}=r;if(S.isValidElement(i)){const o=Tye(i),l=Sye(s,i.props);return i.type!==S.Fragment&&(l.ref=n?vu(n,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var jye=Symbol("radix.slottable");function Nye(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jye}function Sye(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Tye(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Eye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jt=Eye.reduce((t,e)=>{const r=wye(`Primitive.${e}`),n=S.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function oH(t,e){t&&S0.flushSync(()=>t.dispatchEvent(e))}function zD(t){const e=Pye(t),r=S.forwardRef((n,i)=>{const{children:s,...o}=n,l=S.Children.toArray(s),c=l.find(Cye);if(c){const d=c.props.children,f=l.map(m=>m===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return a.jsx(e,{...o,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function Pye(t){const e=S.forwardRef((r,n)=>{const{children:i,...s}=r;if(S.isValidElement(i)){const o=Iye(i),l=kye(s,i.props);return i.type!==S.Fragment&&(l.ref=n?vu(n,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Aye=Symbol("radix.slottable");function Cye(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Aye}function kye(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Iye(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function V1(t){const e=t+"CollectionProvider",[r,n]=Ca(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:g,children:_}=x,T=z.useRef(null),P=z.useRef(new Map).current;return a.jsx(i,{scope:g,itemMap:P,collectionRef:T,children:_})};o.displayName=e;const l=t+"CollectionSlot",c=zD(l),d=z.forwardRef((x,g)=>{const{scope:_,children:T}=x,P=s(l,_),k=Bt(g,P.collectionRef);return a.jsx(c,{ref:k,children:T})});d.displayName=l;const f=t+"CollectionItemSlot",m="data-radix-collection-item",p=zD(f),v=z.forwardRef((x,g)=>{const{scope:_,children:T,...P}=x,k=z.useRef(null),A=Bt(g,k),C=s(f,_);return z.useEffect(()=>(C.itemMap.set(k,{ref:k,...P}),()=>void C.itemMap.delete(k))),a.jsx(p,{[m]:"",ref:A,children:T})});v.displayName=f;function w(x){const g=s(t+"CollectionConsumer",x);return z.useCallback(()=>{const T=g.collectionRef.current;if(!T)return[];const P=Array.from(T.querySelectorAll(`[${m}]`));return Array.from(g.itemMap.values()).sort((C,E)=>P.indexOf(C.ref.current)-P.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},w,n]}var Oye=S.createContext(void 0);function P0(t){const e=S.useContext(Oye);return t||e||"ltr"}function wo(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Rye(t,e=globalThis==null?void 0:globalThis.document){const r=wo(t);S.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Mye="DismissableLayer",xA="dismissableLayer.update",Dye="dismissableLayer.pointerDownOutside",Lye="dismissableLayer.focusOutside",WD,lH=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),B1=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,d=S.useContext(lH),[f,m]=S.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=S.useState({}),w=Bt(e,E=>m(E)),x=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(g),T=f?x.indexOf(f):-1,P=d.layersWithOutsidePointerEventsDisabled.size>0,k=T>=_,A=Vye(E=>{const j=E.target,O=[...d.branches].some(R=>R.contains(j));!k||O||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},p),C=Bye(E=>{const j=E.target;[...d.branches].some(R=>R.contains(j))||(s==null||s(E),o==null||o(E),E.defaultPrevented||l==null||l())},p);return Rye(E=>{T===d.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},p),S.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(WD=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),HD(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=WD)}},[f,p,r,d]),S.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),HD())},[f,d]),S.useEffect(()=>{const E=()=>v({});return document.addEventListener(xA,E),()=>document.removeEventListener(xA,E)},[]),a.jsx(jt.div,{...c,ref:w,style:{pointerEvents:P?k?"auto":"none":void 0,...t.style},onFocusCapture:Ve(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Ve(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Ve(t.onPointerDownCapture,A.onPointerDownCapture)})});B1.displayName=Mye;var $ye="DismissableLayerBranch",Fye=S.forwardRef((t,e)=>{const r=S.useContext(lH),n=S.useRef(null),i=Bt(e,n);return S.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(jt.div,{...t,ref:i})});Fye.displayName=$ye;function Vye(t,e=globalThis==null?void 0:globalThis.document){const r=wo(t),n=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){cH(Dye,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Bye(t,e=globalThis==null?void 0:globalThis.document){const r=wo(t),n=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!n.current&&cH(Lye,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function HD(){const t=new CustomEvent(xA);document.dispatchEvent(t)}function cH(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?oH(i,s):i.dispatchEvent(s)}var WN=0;function uH(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??GD()),document.body.insertAdjacentElement("beforeend",t[1]??GD()),WN++,()=>{WN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),WN--}},[])}function GD(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var HN="focusScope.autoFocusOnMount",GN="focusScope.autoFocusOnUnmount",KD={bubbles:!1,cancelable:!0},qye="FocusScope",HI=S.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=S.useState(null),d=wo(i),f=wo(s),m=S.useRef(null),p=Bt(e,x=>c(x)),v=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let x=function(P){if(v.paused||!l)return;const k=P.target;l.contains(k)?m.current=k:xc(m.current,{select:!0})},g=function(P){if(v.paused||!l)return;const k=P.relatedTarget;k!==null&&(l.contains(k)||xc(m.current,{select:!0}))},_=function(P){if(document.activeElement===document.body)for(const A of P)A.removedNodes.length>0&&xc(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",g);const T=new MutationObserver(_);return l&&T.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",g),T.disconnect()}}},[n,l,v.paused]),S.useEffect(()=>{if(l){QD.add(v);const x=document.activeElement;if(!l.contains(x)){const _=new CustomEvent(HN,KD);l.addEventListener(HN,d),l.dispatchEvent(_),_.defaultPrevented||(Uye(Kye(dH(l)),{select:!0}),document.activeElement===x&&xc(l))}return()=>{l.removeEventListener(HN,d),setTimeout(()=>{const _=new CustomEvent(GN,KD);l.addEventListener(GN,f),l.dispatchEvent(_),_.defaultPrevented||xc(x??document.body,{select:!0}),l.removeEventListener(GN,f),QD.remove(v)},0)}}},[l,d,f,v]);const w=S.useCallback(x=>{if(!r&&!n||v.paused)return;const g=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(g&&_){const T=x.currentTarget,[P,k]=zye(T);P&&k?!x.shiftKey&&_===k?(x.preventDefault(),r&&xc(P,{select:!0})):x.shiftKey&&_===P&&(x.preventDefault(),r&&xc(k,{select:!0})):_===T&&x.preventDefault()}},[r,n,v.paused]);return a.jsx(jt.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});HI.displayName=qye;function Uye(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(xc(n,{select:e}),document.activeElement!==r)return}function zye(t){const e=dH(t),r=YD(e,t),n=YD(e.reverse(),t);return[r,n]}function dH(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function YD(t,e){for(const r of t)if(!Wye(r,{upTo:e}))return r}function Wye(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Hye(t){return t instanceof HTMLInputElement&&"select"in t}function xc(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Hye(t)&&e&&t.select()}}var QD=Gye();function Gye(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=XD(t,e),t.unshift(e)},remove(e){var r;t=XD(t,e),(r=t[0])==null||r.resume()}}}function XD(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Kye(t){return t.filter(e=>e.tagName!=="A")}var Yye=Ik[" useId ".trim().toString()]||(()=>{}),Qye=0;function su(t){const[e,r]=S.useState(Yye());return pi(()=>{r(n=>n??String(Qye++))},[t]),e?`radix-${e}`:""}const Xye=["top","right","bottom","left"],au=Math.min,hs=Math.max,Gb=Math.round,bx=Math.floor,fo=t=>({x:t,y:t}),Jye={left:"right",right:"left",bottom:"top",top:"bottom"},Zye={start:"end",end:"start"};function bA(t,e,r){return hs(t,au(e,r))}function jl(t,e){return typeof t=="function"?t(e):t}function Nl(t){return t.split("-")[0]}function Wm(t){return t.split("-")[1]}function GI(t){return t==="x"?"y":"x"}function KI(t){return t==="y"?"height":"width"}const e0e=new Set(["top","bottom"]);function no(t){return e0e.has(Nl(t))?"y":"x"}function YI(t){return GI(no(t))}function t0e(t,e,r){r===void 0&&(r=!1);const n=Wm(t),i=YI(t),s=KI(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Kb(o)),[o,Kb(o)]}function r0e(t){const e=Kb(t);return[wA(t),e,wA(e)]}function wA(t){return t.replace(/start|end/g,e=>Zye[e])}const JD=["left","right"],ZD=["right","left"],n0e=["top","bottom"],i0e=["bottom","top"];function s0e(t,e,r){switch(t){case"top":case"bottom":return r?e?ZD:JD:e?JD:ZD;case"left":case"right":return e?n0e:i0e;default:return[]}}function a0e(t,e,r,n){const i=Wm(t);let s=s0e(Nl(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(wA)))),s}function Kb(t){return t.replace(/left|right|bottom|top/g,e=>Jye[e])}function o0e(t){return{top:0,right:0,bottom:0,left:0,...t}}function hH(t){return typeof t!="number"?o0e(t):{top:t,right:t,bottom:t,left:t}}function Yb(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function e6(t,e,r){let{reference:n,floating:i}=t;const s=no(e),o=YI(e),l=KI(o),c=Nl(e),d=s==="y",f=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,p=n[l]/2-i[l]/2;let v;switch(c){case"top":v={x:f,y:n.y-i.height};break;case"bottom":v={x:f,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:m};break;case"left":v={x:n.x-i.width,y:m};break;default:v={x:n.x,y:n.y}}switch(Wm(e)){case"start":v[o]-=p*(r&&d?-1:1);break;case"end":v[o]+=p*(r&&d?-1:1);break}return v}const l0e=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:m}=e6(d,n,c),p=n,v={},w=0;for(let x=0;x<l.length;x++){const{name:g,fn:_}=l[x],{x:T,y:P,data:k,reset:A}=await _({x:f,y:m,initialPlacement:n,placement:p,strategy:i,middlewareData:v,rects:d,platform:o,elements:{reference:t,floating:e}});f=T??f,m=P??m,v={...v,[g]:{...v[g],...k}},A&&w<=50&&(w++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(d=A.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:f,y:m}=e6(d,p,c)),x=-1)}return{x:f,y:m,placement:p,strategy:i,middlewareData:v}};async function dy(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:p=!1,padding:v=0}=jl(e,t),w=hH(v),g=l[p?m==="floating"?"reference":"floating":m],_=Yb(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(g)))==null||r?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),T=m==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),k=await(s.isElement==null?void 0:s.isElement(P))?await(s.getScale==null?void 0:s.getScale(P))||{x:1,y:1}:{x:1,y:1},A=Yb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:P,strategy:c}):T);return{top:(_.top-A.top+w.top)/k.y,bottom:(A.bottom-_.bottom+w.bottom)/k.y,left:(_.left-A.left+w.left)/k.x,right:(A.right-_.right+w.right)/k.x}}const c0e=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:f=0}=jl(t,e)||{};if(d==null)return{};const m=hH(f),p={x:r,y:n},v=YI(i),w=KI(v),x=await o.getDimensions(d),g=v==="y",_=g?"top":"left",T=g?"bottom":"right",P=g?"clientHeight":"clientWidth",k=s.reference[w]+s.reference[v]-p[v]-s.floating[w],A=p[v]-s.reference[v],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=C?C[P]:0;(!E||!await(o.isElement==null?void 0:o.isElement(C)))&&(E=l.floating[P]||s.floating[w]);const j=k/2-A/2,O=E/2-x[w]/2-1,R=au(m[_],O),L=au(m[T],O),$=R,F=E-x[w]-L,G=E/2-x[w]/2+j,K=bA($,G,F),Y=!c.arrow&&Wm(i)!=null&&G!==K&&s.reference[w]/2-(G<$?R:L)-x[w]/2<0,J=Y?G<$?G-$:G-F:0;return{[v]:p[v]+J,data:{[v]:K,centerOffset:G-K-J,...Y&&{alignmentOffset:J}},reset:Y}}}),u0e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...g}=jl(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const _=Nl(i),T=no(l),P=Nl(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(d.floating)),A=p||(P||!x?[Kb(l)]:r0e(l)),C=w!=="none";!p&&C&&A.push(...a0e(l,x,w,k));const E=[l,...A],j=await dy(e,g),O=[];let R=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&O.push(j[_]),m){const G=t0e(i,o,k);O.push(j[G[0]],j[G[1]])}if(R=[...R,{placement:i,overflows:O}],!O.every(G=>G<=0)){var L,$;const G=(((L=s.flip)==null?void 0:L.index)||0)+1,K=E[G];if(K&&(!(m==="alignment"?T!==no(K):!1)||R.every(U=>no(U.placement)===T?U.overflows[0]>0:!0)))return{data:{index:G,overflows:R},reset:{placement:K}};let Y=($=R.filter(J=>J.overflows[0]<=0).sort((J,U)=>J.overflows[1]-U.overflows[1])[0])==null?void 0:$.placement;if(!Y)switch(v){case"bestFit":{var F;const J=(F=R.filter(U=>{if(C){const X=no(U.placement);return X===T||X==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(X=>X>0).reduce((X,ie)=>X+ie,0)]).sort((U,X)=>U[1]-X[1])[0])==null?void 0:F[0];J&&(Y=J);break}case"initialPlacement":Y=l;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function t6(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function r6(t){return Xye.some(e=>t[e]>=0)}const d0e=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=jl(t,e);switch(n){case"referenceHidden":{const s=await dy(e,{...i,elementContext:"reference"}),o=t6(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:r6(o)}}}case"escaped":{const s=await dy(e,{...i,altBoundary:!0}),o=t6(s,r.floating);return{data:{escapedOffsets:o,escaped:r6(o)}}}default:return{}}}}},fH=new Set(["left","top"]);async function h0e(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Nl(r),l=Wm(r),c=no(r)==="y",d=fH.has(o)?-1:1,f=s&&c?-1:1,m=jl(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof w=="number"&&(v=l==="end"?w*-1:w),c?{x:v*f,y:p*d}:{x:p*d,y:v*f}}const f0e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await h0e(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},m0e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:_,y:T}=g;return{x:_,y:T}}},...c}=jl(t,e),d={x:r,y:n},f=await dy(e,c),m=no(Nl(i)),p=GI(m);let v=d[p],w=d[m];if(s){const g=p==="y"?"top":"left",_=p==="y"?"bottom":"right",T=v+f[g],P=v-f[_];v=bA(T,v,P)}if(o){const g=m==="y"?"top":"left",_=m==="y"?"bottom":"right",T=w+f[g],P=w-f[_];w=bA(T,w,P)}const x=l.fn({...e,[p]:v,[m]:w});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[p]:s,[m]:o}}}}}},p0e=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=jl(t,e),f={x:r,y:n},m=no(i),p=GI(m);let v=f[p],w=f[m];const x=jl(l,e),g=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const P=p==="y"?"height":"width",k=s.reference[p]-s.floating[P]+g.mainAxis,A=s.reference[p]+s.reference[P]-g.mainAxis;v<k?v=k:v>A&&(v=A)}if(d){var _,T;const P=p==="y"?"width":"height",k=fH.has(Nl(i)),A=s.reference[m]-s.floating[P]+(k&&((_=o.offset)==null?void 0:_[m])||0)+(k?0:g.crossAxis),C=s.reference[m]+s.reference[P]+(k?0:((T=o.offset)==null?void 0:T[m])||0)-(k?g.crossAxis:0);w<A?w=A:w>C&&(w=C)}return{[p]:v,[m]:w}}}},g0e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...d}=jl(t,e),f=await dy(e,d),m=Nl(i),p=Wm(i),v=no(i)==="y",{width:w,height:x}=s.floating;let g,_;m==="top"||m==="bottom"?(g=m,_=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=m,g=p==="end"?"top":"bottom");const T=x-f.top-f.bottom,P=w-f.left-f.right,k=au(x-f[g],T),A=au(w-f[_],P),C=!e.middlewareData.shift;let E=k,j=A;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(j=P),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=T),C&&!p){const R=hs(f.left,0),L=hs(f.right,0),$=hs(f.top,0),F=hs(f.bottom,0);v?j=w-2*(R!==0||L!==0?R+L:hs(f.left,f.right)):E=x-2*($!==0||F!==0?$+F:hs(f.top,f.bottom))}await c({...e,availableWidth:j,availableHeight:E});const O=await o.getDimensions(l.floating);return w!==O.width||x!==O.height?{reset:{rects:!0}}:{}}}};function q1(){return typeof window<"u"}function Hm(t){return mH(t)?(t.nodeName||"").toLowerCase():"#document"}function ys(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function To(t){var e;return(e=(mH(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function mH(t){return q1()?t instanceof Node||t instanceof ys(t).Node:!1}function Ea(t){return q1()?t instanceof Element||t instanceof ys(t).Element:!1}function _o(t){return q1()?t instanceof HTMLElement||t instanceof ys(t).HTMLElement:!1}function n6(t){return!q1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ys(t).ShadowRoot}const y0e=new Set(["inline","contents"]);function A0(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Pa(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!y0e.has(i)}const v0e=new Set(["table","td","th"]);function x0e(t){return v0e.has(Hm(t))}const b0e=[":popover-open",":modal"];function U1(t){return b0e.some(e=>{try{return t.matches(e)}catch{return!1}})}const w0e=["transform","translate","scale","rotate","perspective"],_0e=["transform","translate","scale","rotate","perspective","filter"],j0e=["paint","layout","strict","content"];function QI(t){const e=XI(),r=Ea(t)?Pa(t):t;return w0e.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||_0e.some(n=>(r.willChange||"").includes(n))||j0e.some(n=>(r.contain||"").includes(n))}function N0e(t){let e=ou(t);for(;_o(e)&&!nm(e);){if(QI(e))return e;if(U1(e))return null;e=ou(e)}return null}function XI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const S0e=new Set(["html","body","#document"]);function nm(t){return S0e.has(Hm(t))}function Pa(t){return ys(t).getComputedStyle(t)}function z1(t){return Ea(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ou(t){if(Hm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||n6(t)&&t.host||To(t);return n6(e)?e.host:e}function pH(t){const e=ou(t);return nm(e)?t.ownerDocument?t.ownerDocument.body:t.body:_o(e)&&A0(e)?e:pH(e)}function hy(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=pH(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=ys(i);if(s){const l=_A(o);return e.concat(o,o.visualViewport||[],A0(i)?i:[],l&&r?hy(l):[])}return e.concat(i,hy(i,[],r))}function _A(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gH(t){const e=Pa(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=_o(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,l=Gb(r)!==s||Gb(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function JI(t){return Ea(t)?t:t.contextElement}function If(t){const e=JI(t);if(!_o(e))return fo(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=gH(e);let o=(s?Gb(r.width):r.width)/n,l=(s?Gb(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const T0e=fo(0);function yH(t){const e=ys(t);return!XI()||!e.visualViewport?T0e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function E0e(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ys(t)?!1:e}function Hd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=JI(t);let o=fo(1);e&&(n?Ea(n)&&(o=If(n)):o=If(t));const l=E0e(s,r,n)?yH(s):fo(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,f=i.width/o.x,m=i.height/o.y;if(s){const p=ys(s),v=n&&Ea(n)?ys(n):n;let w=p,x=_A(w);for(;x&&n&&v!==w;){const g=If(x),_=x.getBoundingClientRect(),T=Pa(x),P=_.left+(x.clientLeft+parseFloat(T.paddingLeft))*g.x,k=_.top+(x.clientTop+parseFloat(T.paddingTop))*g.y;c*=g.x,d*=g.y,f*=g.x,m*=g.y,c+=P,d+=k,w=ys(x),x=_A(w)}}return Yb({width:f,height:m,x:c,y:d})}function W1(t,e){const r=z1(t).scrollLeft;return e?e.left+r:Hd(To(t)).left+r}function vH(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-W1(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function P0e(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=To(n),l=e?U1(e.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},d=fo(1);const f=fo(0),m=_o(n);if((m||!m&&!s)&&((Hm(n)!=="body"||A0(o))&&(c=z1(n)),_o(n))){const v=Hd(n);d=If(n),f.x=v.x+n.clientLeft,f.y=v.y+n.clientTop}const p=o&&!m&&!s?vH(o,c):fo(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x+p.x,y:r.y*d.y-c.scrollTop*d.y+f.y+p.y}}function A0e(t){return Array.from(t.getClientRects())}function C0e(t){const e=To(t),r=z1(t),n=t.ownerDocument.body,i=hs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=hs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+W1(t);const l=-r.scrollTop;return Pa(n).direction==="rtl"&&(o+=hs(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:l}}const i6=25;function k0e(t,e){const r=ys(t),n=To(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const f=XI();(!f||f&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=W1(n);if(d<=0){const f=n.ownerDocument,m=f.body,p=getComputedStyle(m),v=f.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,w=Math.abs(n.clientWidth-m.clientWidth-v);w<=i6&&(s-=w)}else d<=i6&&(s+=d);return{width:s,height:o,x:l,y:c}}const I0e=new Set(["absolute","fixed"]);function O0e(t,e){const r=Hd(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=_o(t)?If(t):fo(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,d=n*s.y;return{width:o,height:l,x:c,y:d}}function s6(t,e,r){let n;if(e==="viewport")n=k0e(t,r);else if(e==="document")n=C0e(To(t));else if(Ea(e))n=O0e(e,r);else{const i=yH(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Yb(n)}function xH(t,e){const r=ou(t);return r===e||!Ea(r)||nm(r)?!1:Pa(r).position==="fixed"||xH(r,e)}function R0e(t,e){const r=e.get(t);if(r)return r;let n=hy(t,[],!1).filter(l=>Ea(l)&&Hm(l)!=="body"),i=null;const s=Pa(t).position==="fixed";let o=s?ou(t):t;for(;Ea(o)&&!nm(o);){const l=Pa(o),c=QI(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&I0e.has(i.position)||A0(o)&&!c&&xH(t,o))?n=n.filter(f=>f!==o):i=l,o=ou(o)}return e.set(t,n),n}function M0e(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?U1(e)?[]:R0e(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,f)=>{const m=s6(e,f,i);return d.top=hs(m.top,d.top),d.right=au(m.right,d.right),d.bottom=au(m.bottom,d.bottom),d.left=hs(m.left,d.left),d},s6(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function D0e(t){const{width:e,height:r}=gH(t);return{width:e,height:r}}function L0e(t,e,r){const n=_o(e),i=To(e),s=r==="fixed",o=Hd(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=fo(0);function d(){c.x=W1(i)}if(n||!n&&!s)if((Hm(e)!=="body"||A0(i))&&(l=z1(e)),n){const v=Hd(e,!0,s,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else i&&d();s&&!n&&i&&d();const f=i&&!n&&!s?vH(i,l):fo(0),m=o.left+l.scrollLeft-c.x-f.x,p=o.top+l.scrollTop-c.y-f.y;return{x:m,y:p,width:o.width,height:o.height}}function KN(t){return Pa(t).position==="static"}function a6(t,e){if(!_o(t)||Pa(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return To(t)===r&&(r=r.ownerDocument.body),r}function bH(t,e){const r=ys(t);if(U1(t))return r;if(!_o(t)){let i=ou(t);for(;i&&!nm(i);){if(Ea(i)&&!KN(i))return i;i=ou(i)}return r}let n=a6(t,e);for(;n&&x0e(n)&&KN(n);)n=a6(n,e);return n&&nm(n)&&KN(n)&&!QI(n)?r:n||N0e(t)||r}const $0e=async function(t){const e=this.getOffsetParent||bH,r=this.getDimensions,n=await r(t.floating);return{reference:L0e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function F0e(t){return Pa(t).direction==="rtl"}const V0e={convertOffsetParentRelativeRectToViewportRelativeRect:P0e,getDocumentElement:To,getClippingRect:M0e,getOffsetParent:bH,getElementRects:$0e,getClientRects:A0e,getDimensions:D0e,getScale:If,isElement:Ea,isRTL:F0e};function wH(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function B0e(t,e){let r=null,n;const i=To(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:f,top:m,width:p,height:v}=d;if(l||e(),!p||!v)return;const w=bx(m),x=bx(i.clientWidth-(f+p)),g=bx(i.clientHeight-(m+v)),_=bx(f),P={rootMargin:-w+"px "+-x+"px "+-g+"px "+-_+"px",threshold:hs(0,au(1,c))||1};let k=!0;function A(C){const E=C[0].intersectionRatio;if(E!==c){if(!k)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!wH(d,t.getBoundingClientRect())&&o(),k=!1}try{r=new IntersectionObserver(A,{...P,root:i.ownerDocument})}catch{r=new IntersectionObserver(A,P)}r.observe(t)}return o(!0),s}function q0e(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=JI(t),f=i||s?[...d?hy(d):[],...hy(e)]:[];f.forEach(_=>{i&&_.addEventListener("scroll",r,{passive:!0}),s&&_.addEventListener("resize",r)});const m=d&&l?B0e(d,r):null;let p=-1,v=null;o&&(v=new ResizeObserver(_=>{let[T]=_;T&&T.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var P;(P=v)==null||P.observe(e)})),r()}),d&&!c&&v.observe(d),v.observe(e));let w,x=c?Hd(t):null;c&&g();function g(){const _=Hd(t);x&&!wH(x,_)&&r(),x=_,w=requestAnimationFrame(g)}return r(),()=>{var _;f.forEach(T=>{i&&T.removeEventListener("scroll",r),s&&T.removeEventListener("resize",r)}),m==null||m(),(_=v)==null||_.disconnect(),v=null,c&&cancelAnimationFrame(w)}}const U0e=f0e,z0e=m0e,W0e=u0e,H0e=g0e,G0e=d0e,o6=c0e,K0e=p0e,Y0e=(t,e,r)=>{const n=new Map,i={platform:V0e,...r},s={...i.platform,_c:n};return l0e(t,e,{...i,platform:s})};var Q0e=typeof document<"u",X0e=function(){},sb=Q0e?S.useLayoutEffect:X0e;function Qb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Qb(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!Qb(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function _H(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function l6(t,e){const r=_H(t);return Math.round(e*r)/r}function YN(t){const e=S.useRef(t);return sb(()=>{e.current=t}),e}function J0e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,m]=S.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=S.useState(n);Qb(p,n)||v(n);const[w,x]=S.useState(null),[g,_]=S.useState(null),T=S.useCallback(U=>{U!==C.current&&(C.current=U,x(U))},[]),P=S.useCallback(U=>{U!==E.current&&(E.current=U,_(U))},[]),k=s||w,A=o||g,C=S.useRef(null),E=S.useRef(null),j=S.useRef(f),O=c!=null,R=YN(c),L=YN(i),$=YN(d),F=S.useCallback(()=>{if(!C.current||!E.current)return;const U={placement:e,strategy:r,middleware:p};L.current&&(U.platform=L.current),Y0e(C.current,E.current,U).then(X=>{const ie={...X,isPositioned:$.current!==!1};G.current&&!Qb(j.current,ie)&&(j.current=ie,S0.flushSync(()=>{m(ie)}))})},[p,e,r,L,$]);sb(()=>{d===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,m(U=>({...U,isPositioned:!1})))},[d]);const G=S.useRef(!1);sb(()=>(G.current=!0,()=>{G.current=!1}),[]),sb(()=>{if(k&&(C.current=k),A&&(E.current=A),k&&A){if(R.current)return R.current(k,A,F);F()}},[k,A,F,R,O]);const K=S.useMemo(()=>({reference:C,floating:E,setReference:T,setFloating:P}),[T,P]),Y=S.useMemo(()=>({reference:k,floating:A}),[k,A]),J=S.useMemo(()=>{const U={position:r,left:0,top:0};if(!Y.floating)return U;const X=l6(Y.floating,f.x),ie=l6(Y.floating,f.y);return l?{...U,transform:"translate("+X+"px, "+ie+"px)",..._H(Y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:ie}},[r,l,Y.floating,f.x,f.y]);return S.useMemo(()=>({...f,update:F,refs:K,elements:Y,floatingStyles:J}),[f,F,K,Y,J])}const Z0e=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?o6({element:n.current,padding:i}).fn(r):{}:n?o6({element:n,padding:i}).fn(r):{}}}},eve=(t,e)=>({...U0e(t),options:[t,e]}),tve=(t,e)=>({...z0e(t),options:[t,e]}),rve=(t,e)=>({...K0e(t),options:[t,e]}),nve=(t,e)=>({...W0e(t),options:[t,e]}),ive=(t,e)=>({...H0e(t),options:[t,e]}),sve=(t,e)=>({...G0e(t),options:[t,e]}),ave=(t,e)=>({...Z0e(t),options:[t,e]});var ove="Arrow",jH=S.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return a.jsx(jt.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});jH.displayName=ove;var lve=jH;function H1(t){const[e,r]=S.useState(void 0);return pi(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var ZI="Popper",[NH,Gm]=Ca(ZI),[cve,SH]=NH(ZI),TH=t=>{const{__scopePopper:e,children:r}=t,[n,i]=S.useState(null);return a.jsx(cve,{scope:e,anchor:n,onAnchorChange:i,children:r})};TH.displayName=ZI;var EH="PopperAnchor",PH=S.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=SH(EH,r),o=S.useRef(null),l=Bt(e,o),c=S.useRef(null);return S.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&s.onAnchorChange(c.current)}),n?null:a.jsx(jt.div,{...i,ref:l})});PH.displayName=EH;var eO="PopperContent",[uve,dve]=NH(eO),AH=S.forwardRef((t,e)=>{var pe,Ie,me,Pe,Re,fe;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:w,...x}=t,g=SH(eO,r),[_,T]=S.useState(null),P=Bt(e,ct=>T(ct)),[k,A]=S.useState(null),C=H1(k),E=(C==null?void 0:C.width)??0,j=(C==null?void 0:C.height)??0,O=n+(s!=="center"?"-"+s:""),R=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},L=Array.isArray(d)?d:[d],$=L.length>0,F={padding:R,boundary:L.filter(fve),altBoundary:$},{refs:G,floatingStyles:K,placement:Y,isPositioned:J,middlewareData:U}=J0e({strategy:"fixed",placement:O,whileElementsMounted:(...ct)=>q0e(...ct,{animationFrame:v==="always"}),elements:{reference:g.anchor},middleware:[eve({mainAxis:i+j,alignmentAxis:o}),c&&tve({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?rve():void 0,...F}),c&&nve({...F}),ive({...F,apply:({elements:ct,rects:tt,availableWidth:Ot,availableHeight:Rt})=>{const{width:Yt,height:Kr}=tt.reference,Dt=ct.floating.style;Dt.setProperty("--radix-popper-available-width",`${Ot}px`),Dt.setProperty("--radix-popper-available-height",`${Rt}px`),Dt.setProperty("--radix-popper-anchor-width",`${Yt}px`),Dt.setProperty("--radix-popper-anchor-height",`${Kr}px`)}}),k&&ave({element:k,padding:l}),mve({arrowWidth:E,arrowHeight:j}),p&&sve({strategy:"referenceHidden",...F})]}),[X,ie]=IH(Y),W=wo(w);pi(()=>{J&&(W==null||W())},[J,W]);const ee=(pe=U.arrow)==null?void 0:pe.x,de=(Ie=U.arrow)==null?void 0:Ie.y,ce=((me=U.arrow)==null?void 0:me.centerOffset)!==0,[be,ye]=S.useState();return pi(()=>{_&&ye(window.getComputedStyle(_).zIndex)},[_]),a.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:J?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(Pe=U.transformOrigin)==null?void 0:Pe.x,(Re=U.transformOrigin)==null?void 0:Re.y].join(" "),...((fe=U.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(uve,{scope:r,placedSide:X,onArrowChange:A,arrowX:ee,arrowY:de,shouldHideArrow:ce,children:a.jsx(jt.div,{"data-side":X,"data-align":ie,...x,ref:P,style:{...x.style,animation:J?void 0:"none"}})})})});AH.displayName=eO;var CH="PopperArrow",hve={top:"bottom",right:"left",bottom:"top",left:"right"},kH=S.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=dve(CH,n),o=hve[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(lve,{...i,ref:r,style:{...i.style,display:"block"}})})});kH.displayName=CH;function fve(t){return t!==null}var mve=t=>({name:"transformOrigin",options:t,fn(e){var g,_,T;const{placement:r,rects:n,middlewareData:i}=e,o=((g=i.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=IH(r),m={start:"0%",center:"50%",end:"100%"}[f],p=(((_=i.arrow)==null?void 0:_.x)??0)+l/2,v=(((T=i.arrow)==null?void 0:T.y)??0)+c/2;let w="",x="";return d==="bottom"?(w=o?m:`${p}px`,x=`${-c}px`):d==="top"?(w=o?m:`${p}px`,x=`${n.floating.height+c}px`):d==="right"?(w=`${-c}px`,x=o?m:`${v}px`):d==="left"&&(w=`${n.floating.width+c}px`,x=o?m:`${v}px`),{data:{x:w,y:x}}}});function IH(t){const[e,r="center"]=t.split("-");return[e,r]}var tO=TH,rO=PH,nO=AH,iO=kH,pve="Portal",G1=S.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[i,s]=S.useState(!1);pi(()=>s(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?yfe.createPortal(a.jsx(jt.div,{...n,ref:e}),o):null});G1.displayName=pve;function gve(t,e){return S.useReducer((r,n)=>e[r][n]??r,t)}var $l=t=>{const{present:e,children:r}=t,n=yve(e),i=typeof r=="function"?r({present:n.isPresent}):S.Children.only(r),s=Bt(n.ref,vve(i));return typeof r=="function"||n.isPresent?S.cloneElement(i,{ref:s}):null};$l.displayName="Presence";function yve(t){const[e,r]=S.useState(),n=S.useRef(null),i=S.useRef(t),s=S.useRef("none"),o=t?"mounted":"unmounted",[l,c]=gve(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const d=wx(n.current);s.current=l==="mounted"?d:"none"},[l]),pi(()=>{const d=n.current,f=i.current;if(f!==t){const p=s.current,v=wx(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&p!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),pi(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,m=v=>{const x=wx(n.current).includes(CSS.escape(v.animationName));if(v.target===e&&x&&(c("ANIMATION_END"),!i.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},p=v=>{v.target===e&&(s.current=wx(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:S.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function wx(t){return(t==null?void 0:t.animationName)||"none"}function vve(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var QN="rovingFocusGroup.onEntryFocus",xve={bubbles:!1,cancelable:!0},C0="RovingFocusGroup",[jA,OH,bve]=V1(C0),[wve,K1]=Ca(C0,[bve]),[_ve,jve]=wve(C0),RH=S.forwardRef((t,e)=>a.jsx(jA.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(jA.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Nve,{...t,ref:e})})}));RH.displayName=C0;var Nve=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=t,p=S.useRef(null),v=Bt(e,p),w=P0(s),[x,g]=_l({prop:o,defaultProp:l??null,onChange:c,caller:C0}),[_,T]=S.useState(!1),P=wo(d),k=OH(r),A=S.useRef(!1),[C,E]=S.useState(0);return S.useEffect(()=>{const j=p.current;if(j)return j.addEventListener(QN,P),()=>j.removeEventListener(QN,P)},[P]),a.jsx(_ve,{scope:r,orientation:n,dir:w,loop:i,currentTabStopId:x,onItemFocus:S.useCallback(j=>g(j),[g]),onItemShiftTab:S.useCallback(()=>T(!0),[]),onFocusableItemAdd:S.useCallback(()=>E(j=>j+1),[]),onFocusableItemRemove:S.useCallback(()=>E(j=>j-1),[]),children:a.jsx(jt.div,{tabIndex:_||C===0?-1:0,"data-orientation":n,...m,ref:v,style:{outline:"none",...t.style},onMouseDown:Ve(t.onMouseDown,()=>{A.current=!0}),onFocus:Ve(t.onFocus,j=>{const O=!A.current;if(j.target===j.currentTarget&&O&&!_){const R=new CustomEvent(QN,xve);if(j.currentTarget.dispatchEvent(R),!R.defaultPrevented){const L=k().filter(Y=>Y.focusable),$=L.find(Y=>Y.active),F=L.find(Y=>Y.id===x),K=[$,F,...L].filter(Boolean).map(Y=>Y.ref.current);LH(K,f)}}A.current=!1}),onBlur:Ve(t.onBlur,()=>T(!1))})})}),MH="RovingFocusGroupItem",DH=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=su(),d=s||c,f=jve(MH,r),m=f.currentTabStopId===d,p=OH(r),{onFocusableItemAdd:v,onFocusableItemRemove:w,currentTabStopId:x}=f;return S.useEffect(()=>{if(n)return v(),()=>w()},[n,v,w]),a.jsx(jA.ItemSlot,{scope:r,id:d,focusable:n,active:i,children:a.jsx(jt.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:Ve(t.onMouseDown,g=>{n?f.onItemFocus(d):g.preventDefault()}),onFocus:Ve(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:Ve(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){f.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const _=Eve(g,f.orientation,f.dir);if(_!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let P=p().filter(k=>k.focusable).map(k=>k.ref.current);if(_==="last")P.reverse();else if(_==="prev"||_==="next"){_==="prev"&&P.reverse();const k=P.indexOf(g.currentTarget);P=f.loop?Pve(P,k+1):P.slice(k+1)}setTimeout(()=>LH(P))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:x!=null}):o})})});DH.displayName=MH;var Sve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Tve(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Eve(t,e,r){const n=Tve(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Sve[n]}function LH(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Pve(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var $H=RH,FH=DH;function Ave(t){const e=Cve(t),r=S.forwardRef((n,i)=>{const{children:s,...o}=n,l=S.Children.toArray(s),c=l.find(Ive);if(c){const d=c.props.children,f=l.map(m=>m===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return a.jsx(e,{...o,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function Cve(t){const e=S.forwardRef((r,n)=>{const{children:i,...s}=r;if(S.isValidElement(i)){const o=Rve(i),l=Ove(s,i.props);return i.type!==S.Fragment&&(l.ref=n?vu(n,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var kve=Symbol("radix.slottable");function Ive(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kve}function Ove(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Rve(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Mve=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Zh=new WeakMap,_x=new WeakMap,jx={},XN=0,VH=function(t){return t&&(t.host||VH(t.parentNode))},Dve=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=VH(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Lve=function(t,e,r,n){var i=Dve(e,Array.isArray(t)?t:[t]);jx[r]||(jx[r]=new WeakMap);var s=jx[r],o=[],l=new Set,c=new Set(i),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};i.forEach(d);var f=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))f(p);else try{var v=p.getAttribute(n),w=v!==null&&v!=="false",x=(Zh.get(p)||0)+1,g=(s.get(p)||0)+1;Zh.set(p,x),s.set(p,g),o.push(p),x===1&&w&&_x.set(p,!0),g===1&&p.setAttribute(r,"true"),w||p.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return f(e),l.clear(),XN++,function(){o.forEach(function(m){var p=Zh.get(m)-1,v=s.get(m)-1;Zh.set(m,p),s.set(m,v),p||(_x.has(m)||m.removeAttribute(n),_x.delete(m)),v||m.removeAttribute(r)}),XN--,XN||(Zh=new WeakMap,Zh=new WeakMap,_x=new WeakMap,jx={})}},BH=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=Mve(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),Lve(n,i,r,"aria-hidden")):function(){return null}},to=function(){return to=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},to.apply(this,arguments)};function qH(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function $ve(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var ab="right-scroll-bar-position",ob="width-before-scroll-bar",Fve="with-scroll-bars-hidden",Vve="--removed-body-scroll-bar-size";function JN(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Bve(t,e){var r=S.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var qve=typeof window<"u"?S.useLayoutEffect:S.useEffect,c6=new WeakMap;function Uve(t,e){var r=Bve(null,function(n){return t.forEach(function(i){return JN(i,n)})});return qve(function(){var n=c6.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(l){s.has(l)||JN(l,null)}),s.forEach(function(l){i.has(l)||JN(l,o)})}c6.set(r,t)},[t]),r}function zve(t){return t}function Wve(t,e){e===void 0&&(e=zve);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var f=o;o=[],f.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),r}}}};return i}function Hve(t){t===void 0&&(t={});var e=Wve(null);return e.options=to({async:!0,ssr:!1},t),e}var UH=function(t){var e=t.sideCar,r=qH(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,to({},r))};UH.isSideCarExport=!0;function Gve(t,e){return t.useMedium(e),UH}var zH=Hve(),ZN=function(){},Y1=S.forwardRef(function(t,e){var r=S.useRef(null),n=S.useState({onScrollCapture:ZN,onWheelCapture:ZN,onTouchMoveCapture:ZN}),i=n[0],s=n[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,m=t.shards,p=t.sideCar,v=t.noRelative,w=t.noIsolation,x=t.inert,g=t.allowPinchZoom,_=t.as,T=_===void 0?"div":_,P=t.gapMode,k=qH(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,C=Uve([r,e]),E=to(to({},k),i);return S.createElement(S.Fragment,null,f&&S.createElement(A,{sideCar:zH,removeScrollBar:d,shards:m,noRelative:v,noIsolation:w,inert:x,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:P}),o?S.cloneElement(S.Children.only(l),to(to({},E),{ref:C})):S.createElement(T,to({},E,{className:c,ref:C}),l))});Y1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Y1.classNames={fullWidth:ob,zeroRight:ab};var Kve=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Yve(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Kve();return e&&t.setAttribute("nonce",e),t}function Qve(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Xve(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Jve=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Yve())&&(Qve(e,r),Xve(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Zve=function(){var t=Jve();return function(e,r){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},WH=function(){var t=Zve(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},exe={left:0,top:0,right:0,gap:0},eS=function(t){return parseInt(t||"",10)||0},txe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[eS(r),eS(n),eS(i)]},rxe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return exe;var e=txe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},nxe=WH(),Of="data-scroll-locked",ixe=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Fve,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Of,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ab,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ob,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ab," .").concat(ab,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ob," .").concat(ob,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Of,`] {
    `).concat(Vve,": ").concat(l,`px;
  }
`)},u6=function(){var t=parseInt(document.body.getAttribute(Of)||"0",10);return isFinite(t)?t:0},sxe=function(){S.useEffect(function(){return document.body.setAttribute(Of,(u6()+1).toString()),function(){var t=u6()-1;t<=0?document.body.removeAttribute(Of):document.body.setAttribute(Of,t.toString())}},[])},axe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;sxe();var s=S.useMemo(function(){return rxe(i)},[i]);return S.createElement(nxe,{styles:ixe(s,!e,i,r?"":"!important")})},NA=!1;if(typeof window<"u")try{var Nx=Object.defineProperty({},"passive",{get:function(){return NA=!0,!0}});window.addEventListener("test",Nx,Nx),window.removeEventListener("test",Nx,Nx)}catch{NA=!1}var ef=NA?{passive:!1}:!1,oxe=function(t){return t.tagName==="TEXTAREA"},HH=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!oxe(t)&&r[e]==="visible")},lxe=function(t){return HH(t,"overflowY")},cxe=function(t){return HH(t,"overflowX")},d6=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=GH(t,n);if(i){var s=KH(t,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},uxe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},dxe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},GH=function(t,e){return t==="v"?lxe(e):cxe(e)},KH=function(t,e){return t==="v"?uxe(e):dxe(e)},hxe=function(t,e){return t==="h"&&e==="rtl"?-1:1},fxe=function(t,e,r,n,i){var s=hxe(t,window.getComputedStyle(e).direction),o=s*n,l=r.target,c=e.contains(l),d=!1,f=o>0,m=0,p=0;do{if(!l)break;var v=KH(t,l),w=v[0],x=v[1],g=v[2],_=x-g-s*w;(w||_)&&GH(t,l)&&(m+=_,p+=w);var T=l.parentNode;l=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(f&&Math.abs(m)<1||!f&&Math.abs(p)<1)&&(d=!0),d},Sx=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},h6=function(t){return[t.deltaX,t.deltaY]},f6=function(t){return t&&"current"in t?t.current:t},mxe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},pxe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},gxe=0,tf=[];function yxe(t){var e=S.useRef([]),r=S.useRef([0,0]),n=S.useRef(),i=S.useState(gxe++)[0],s=S.useState(WH)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=$ve([t.lockRef.current],(t.shards||[]).map(f6),!0).filter(Boolean);return x.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=S.useCallback(function(x,g){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var _=Sx(x),T=r.current,P="deltaX"in x?x.deltaX:T[0]-_[0],k="deltaY"in x?x.deltaY:T[1]-_[1],A,C=x.target,E=Math.abs(P)>Math.abs(k)?"h":"v";if("touches"in x&&E==="h"&&C.type==="range")return!1;var j=d6(E,C);if(!j)return!0;if(j?A=E:(A=E==="v"?"h":"v",j=d6(E,C)),!j)return!1;if(!n.current&&"changedTouches"in x&&(P||k)&&(n.current=A),!A)return!0;var O=n.current||A;return fxe(O,g,x,O==="h"?P:k)},[]),c=S.useCallback(function(x){var g=x;if(!(!tf.length||tf[tf.length-1]!==s)){var _="deltaY"in g?h6(g):Sx(g),T=e.current.filter(function(A){return A.name===g.type&&(A.target===g.target||g.target===A.shadowParent)&&mxe(A.delta,_)})[0];if(T&&T.should){g.cancelable&&g.preventDefault();return}if(!T){var P=(o.current.shards||[]).map(f6).filter(Boolean).filter(function(A){return A.contains(g.target)}),k=P.length>0?l(g,P[0]):!o.current.noIsolation;k&&g.cancelable&&g.preventDefault()}}},[]),d=S.useCallback(function(x,g,_,T){var P={name:x,delta:g,target:_,should:T,shadowParent:vxe(_)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(k){return k!==P})},1)},[]),f=S.useCallback(function(x){r.current=Sx(x),n.current=void 0},[]),m=S.useCallback(function(x){d(x.type,h6(x),x.target,l(x,t.lockRef.current))},[]),p=S.useCallback(function(x){d(x.type,Sx(x),x.target,l(x,t.lockRef.current))},[]);S.useEffect(function(){return tf.push(s),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ef),document.addEventListener("touchmove",c,ef),document.addEventListener("touchstart",f,ef),function(){tf=tf.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,ef),document.removeEventListener("touchmove",c,ef),document.removeEventListener("touchstart",f,ef)}},[]);var v=t.removeScrollBar,w=t.inert;return S.createElement(S.Fragment,null,w?S.createElement(s,{styles:pxe(i)}):null,v?S.createElement(axe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function vxe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const xxe=Gve(zH,yxe);var sO=S.forwardRef(function(t,e){return S.createElement(Y1,to({},t,{ref:e,sideCar:xxe}))});sO.classNames=Y1.classNames;var SA=["Enter"," "],bxe=["ArrowDown","PageUp","Home"],YH=["ArrowUp","PageDown","End"],wxe=[...bxe,...YH],_xe={ltr:[...SA,"ArrowRight"],rtl:[...SA,"ArrowLeft"]},jxe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},k0="Menu",[fy,Nxe,Sxe]=V1(k0),[ch,QH]=Ca(k0,[Sxe,Gm,K1]),Q1=Gm(),XH=K1(),[Txe,uh]=ch(k0),[Exe,I0]=ch(k0),JH=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=t,l=Q1(e),[c,d]=S.useState(null),f=S.useRef(!1),m=wo(s),p=P0(i);return S.useEffect(()=>{const v=()=>{f.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>f.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx(tO,{...l,children:a.jsx(Txe,{scope:e,open:r,onOpenChange:m,content:c,onContentChange:d,children:a.jsx(Exe,{scope:e,onClose:S.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:p,modal:o,children:n})})})};JH.displayName=k0;var Pxe="MenuAnchor",aO=S.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Q1(r);return a.jsx(rO,{...i,...n,ref:e})});aO.displayName=Pxe;var oO="MenuPortal",[Axe,ZH]=ch(oO,{forceMount:void 0}),eG=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=uh(oO,e);return a.jsx(Axe,{scope:e,forceMount:r,children:a.jsx($l,{present:r||s.open,children:a.jsx(G1,{asChild:!0,container:i,children:n})})})};eG.displayName=oO;var Ws="MenuContent",[Cxe,lO]=ch(Ws),tG=S.forwardRef((t,e)=>{const r=ZH(Ws,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=uh(Ws,t.__scopeMenu),o=I0(Ws,t.__scopeMenu);return a.jsx(fy.Provider,{scope:t.__scopeMenu,children:a.jsx($l,{present:n||s.open,children:a.jsx(fy.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(kxe,{...i,ref:e}):a.jsx(Ixe,{...i,ref:e})})})})}),kxe=S.forwardRef((t,e)=>{const r=uh(Ws,t.__scopeMenu),n=S.useRef(null),i=Bt(e,n);return S.useEffect(()=>{const s=n.current;if(s)return BH(s)},[]),a.jsx(cO,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ve(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Ixe=S.forwardRef((t,e)=>{const r=uh(Ws,t.__scopeMenu);return a.jsx(cO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Oxe=Ave("MenuContent.ScrollLock"),cO=S.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,onDismiss:v,disableOutsideScroll:w,...x}=t,g=uh(Ws,r),_=I0(Ws,r),T=Q1(r),P=XH(r),k=Nxe(r),[A,C]=S.useState(null),E=S.useRef(null),j=Bt(e,E,g.onContentChange),O=S.useRef(0),R=S.useRef(""),L=S.useRef(0),$=S.useRef(null),F=S.useRef("right"),G=S.useRef(0),K=w?sO:S.Fragment,Y=w?{as:Oxe,allowPinchZoom:!0}:void 0,J=X=>{var pe,Ie;const ie=R.current+X,W=k().filter(me=>!me.disabled),ee=document.activeElement,de=(pe=W.find(me=>me.ref.current===ee))==null?void 0:pe.textValue,ce=W.map(me=>me.textValue),be=Wxe(ce,ie,de),ye=(Ie=W.find(me=>me.textValue===be))==null?void 0:Ie.ref.current;(function me(Pe){R.current=Pe,window.clearTimeout(O.current),Pe!==""&&(O.current=window.setTimeout(()=>me(""),1e3))})(ie),ye&&setTimeout(()=>ye.focus())};S.useEffect(()=>()=>window.clearTimeout(O.current),[]),uH();const U=S.useCallback(X=>{var W,ee;return F.current===((W=$.current)==null?void 0:W.side)&&Gxe(X,(ee=$.current)==null?void 0:ee.area)},[]);return a.jsx(Cxe,{scope:r,searchRef:R,onItemEnter:S.useCallback(X=>{U(X)&&X.preventDefault()},[U]),onItemLeave:S.useCallback(X=>{var ie;U(X)||((ie=E.current)==null||ie.focus(),C(null))},[U]),onTriggerLeave:S.useCallback(X=>{U(X)&&X.preventDefault()},[U]),pointerGraceTimerRef:L,onPointerGraceIntentChange:S.useCallback(X=>{$.current=X},[]),children:a.jsx(K,{...Y,children:a.jsx(HI,{asChild:!0,trapped:i,onMountAutoFocus:Ve(s,X=>{var ie;X.preventDefault(),(ie=E.current)==null||ie.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(B1,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:p,onDismiss:v,children:a.jsx($H,{asChild:!0,...P,dir:_.dir,orientation:"vertical",loop:n,currentTabStopId:A,onCurrentTabStopIdChange:C,onEntryFocus:Ve(c,X=>{_.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(nO,{role:"menu","aria-orientation":"vertical","data-state":yG(g.open),"data-radix-menu-content":"",dir:_.dir,...T,...x,ref:j,style:{outline:"none",...x.style},onKeyDown:Ve(x.onKeyDown,X=>{const W=X.target.closest("[data-radix-menu-content]")===X.currentTarget,ee=X.ctrlKey||X.altKey||X.metaKey,de=X.key.length===1;W&&(X.key==="Tab"&&X.preventDefault(),!ee&&de&&J(X.key));const ce=E.current;if(X.target!==ce||!wxe.includes(X.key))return;X.preventDefault();const ye=k().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);YH.includes(X.key)&&ye.reverse(),Uxe(ye)}),onBlur:Ve(t.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(O.current),R.current="")}),onPointerMove:Ve(t.onPointerMove,my(X=>{const ie=X.target,W=G.current!==X.clientX;if(X.currentTarget.contains(ie)&&W){const ee=X.clientX>G.current?"right":"left";F.current=ee,G.current=X.clientX}}))})})})})})})});tG.displayName=Ws;var Rxe="MenuGroup",uO=S.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(jt.div,{role:"group",...n,ref:e})});uO.displayName=Rxe;var Mxe="MenuLabel",rG=S.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(jt.div,{...n,ref:e})});rG.displayName=Mxe;var Xb="MenuItem",m6="menu.itemSelect",X1=S.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=S.useRef(null),o=I0(Xb,t.__scopeMenu),l=lO(Xb,t.__scopeMenu),c=Bt(e,s),d=S.useRef(!1),f=()=>{const m=s.current;if(!r&&m){const p=new CustomEvent(m6,{bubbles:!0,cancelable:!0});m.addEventListener(m6,v=>n==null?void 0:n(v),{once:!0}),oH(m,p),p.defaultPrevented?d.current=!1:o.onClose()}};return a.jsx(nG,{...i,ref:c,disabled:r,onClick:Ve(t.onClick,f),onPointerDown:m=>{var p;(p=t.onPointerDown)==null||p.call(t,m),d.current=!0},onPointerUp:Ve(t.onPointerUp,m=>{var p;d.current||(p=m.currentTarget)==null||p.click()}),onKeyDown:Ve(t.onKeyDown,m=>{const p=l.searchRef.current!=="";r||p&&m.key===" "||SA.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});X1.displayName=Xb;var nG=S.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,o=lO(Xb,r),l=XH(r),c=S.useRef(null),d=Bt(e,c),[f,m]=S.useState(!1),[p,v]=S.useState("");return S.useEffect(()=>{const w=c.current;w&&v((w.textContent??"").trim())},[s.children]),a.jsx(fy.ItemSlot,{scope:r,disabled:n,textValue:i??p,children:a.jsx(FH,{asChild:!0,...l,focusable:!n,children:a.jsx(jt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:d,onPointerMove:Ve(t.onPointerMove,my(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ve(t.onPointerLeave,my(w=>o.onItemLeave(w))),onFocus:Ve(t.onFocus,()=>m(!0)),onBlur:Ve(t.onBlur,()=>m(!1))})})})}),Dxe="MenuCheckboxItem",iG=S.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return a.jsx(cG,{scope:t.__scopeMenu,checked:r,children:a.jsx(X1,{role:"menuitemcheckbox","aria-checked":Jb(r)?"mixed":r,...i,ref:e,"data-state":hO(r),onSelect:Ve(i.onSelect,()=>n==null?void 0:n(Jb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});iG.displayName=Dxe;var sG="MenuRadioGroup",[Lxe,$xe]=ch(sG,{value:void 0,onValueChange:()=>{}}),aG=S.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=wo(n);return a.jsx(Lxe,{scope:t.__scopeMenu,value:r,onValueChange:s,children:a.jsx(uO,{...i,ref:e})})});aG.displayName=sG;var oG="MenuRadioItem",lG=S.forwardRef((t,e)=>{const{value:r,...n}=t,i=$xe(oG,t.__scopeMenu),s=r===i.value;return a.jsx(cG,{scope:t.__scopeMenu,checked:s,children:a.jsx(X1,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":hO(s),onSelect:Ve(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});lG.displayName=oG;var dO="MenuItemIndicator",[cG,Fxe]=ch(dO,{checked:!1}),uG=S.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=Fxe(dO,r);return a.jsx($l,{present:n||Jb(s.checked)||s.checked===!0,children:a.jsx(jt.span,{...i,ref:e,"data-state":hO(s.checked)})})});uG.displayName=dO;var Vxe="MenuSeparator",dG=S.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(jt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});dG.displayName=Vxe;var Bxe="MenuArrow",hG=S.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Q1(r);return a.jsx(iO,{...i,...n,ref:e})});hG.displayName=Bxe;var qxe="MenuSub",[u8e,fG]=ch(qxe),_g="MenuSubTrigger",mG=S.forwardRef((t,e)=>{const r=uh(_g,t.__scopeMenu),n=I0(_g,t.__scopeMenu),i=fG(_g,t.__scopeMenu),s=lO(_g,t.__scopeMenu),o=S.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,d={__scopeMenu:t.__scopeMenu},f=S.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return S.useEffect(()=>f,[f]),S.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),a.jsx(aO,{asChild:!0,...d,children:a.jsx(nG,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":yG(r.open),...t,ref:vu(e,i.onTriggerChange),onClick:m=>{var p;(p=t.onClick)==null||p.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ve(t.onPointerMove,my(m=>{s.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Ve(t.onPointerLeave,my(m=>{var v,w;f();const p=(v=r.content)==null?void 0:v.getBoundingClientRect();if(p){const x=(w=r.content)==null?void 0:w.dataset.side,g=x==="right",_=g?-5:5,T=p[g?"left":"right"],P=p[g?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+_,y:m.clientY},{x:T,y:p.top},{x:P,y:p.top},{x:P,y:p.bottom},{x:T,y:p.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ve(t.onKeyDown,m=>{var v;const p=s.searchRef.current!=="";t.disabled||p&&m.key===" "||_xe[n.dir].includes(m.key)&&(r.onOpenChange(!0),(v=r.content)==null||v.focus(),m.preventDefault())})})})});mG.displayName=_g;var pG="MenuSubContent",gG=S.forwardRef((t,e)=>{const r=ZH(Ws,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=uh(Ws,t.__scopeMenu),o=I0(Ws,t.__scopeMenu),l=fG(pG,t.__scopeMenu),c=S.useRef(null),d=Bt(e,c);return a.jsx(fy.Provider,{scope:t.__scopeMenu,children:a.jsx($l,{present:n||s.open,children:a.jsx(fy.Slot,{scope:t.__scopeMenu,children:a.jsx(cO,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ve(t.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ve(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Ve(t.onKeyDown,f=>{var v;const m=f.currentTarget.contains(f.target),p=jxe[o.dir].includes(f.key);m&&p&&(s.onOpenChange(!1),(v=l.trigger)==null||v.focus(),f.preventDefault())})})})})})});gG.displayName=pG;function yG(t){return t?"open":"closed"}function Jb(t){return t==="indeterminate"}function hO(t){return Jb(t)?"indeterminate":t?"checked":"unchecked"}function Uxe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function zxe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Wxe(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=zxe(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function Hxe(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],d=l.x,f=l.y,m=c.x,p=c.y;f>n!=p>n&&r<(m-d)*(n-f)/(p-f)+d&&(i=!i)}return i}function Gxe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Hxe(r,e)}function my(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Kxe=JH,Yxe=aO,Qxe=eG,Xxe=tG,Jxe=uO,Zxe=rG,ebe=X1,tbe=iG,rbe=aG,nbe=lG,ibe=uG,sbe=dG,abe=hG,obe=mG,lbe=gG,J1="DropdownMenu",[cbe]=Ca(J1,[QH]),Ri=QH(),[ube,vG]=cbe(J1),xG=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=Ri(e),d=S.useRef(null),[f,m]=_l({prop:i,defaultProp:s??!1,onChange:o,caller:J1});return a.jsx(ube,{scope:e,triggerId:su(),triggerRef:d,contentId:su(),open:f,onOpenChange:m,onOpenToggle:S.useCallback(()=>m(p=>!p),[m]),modal:l,children:a.jsx(Kxe,{...c,open:f,onOpenChange:m,dir:n,modal:l,children:r})})};xG.displayName=J1;var bG="DropdownMenuTrigger",wG=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=vG(bG,r),o=Ri(r);return a.jsx(Yxe,{asChild:!0,...o,children:a.jsx(jt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:vu(e,s.triggerRef),onPointerDown:Ve(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Ve(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});wG.displayName=bG;var dbe="DropdownMenuPortal",_G=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Ri(e);return a.jsx(Qxe,{...n,...r})};_G.displayName=dbe;var jG="DropdownMenuContent",NG=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=vG(jG,r),s=Ri(r),o=S.useRef(!1);return a.jsx(Xxe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:Ve(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ve(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!i.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NG.displayName=jG;var hbe="DropdownMenuGroup",fbe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ri(r);return a.jsx(Jxe,{...i,...n,ref:e})});fbe.displayName=hbe;var mbe="DropdownMenuLabel",SG=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ri(r);return a.jsx(Zxe,{...i,...n,ref:e})});SG.displayName=mbe;var pbe="DropdownMenuItem",TG=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ri(r);return a.jsx(ebe,{...i,...n,ref:e})});TG.displayName=pbe;var gbe="DropdownMenuCheckboxItem",EG=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ri(r);return a.jsx(tbe,{...i,...n,ref:e})});EG.displayName=gbe;var ybe="DropdownMenuRadioGroup",vbe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ri(r);return a.jsx(rbe,{...i,...n,ref:e})});vbe.displayName=ybe;var xbe="DropdownMenuRadioItem",PG=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ri(r);return a.jsx(nbe,{...i,...n,ref:e})});PG.displayName=xbe;var bbe="DropdownMenuItemIndicator",AG=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ri(r);return a.jsx(ibe,{...i,...n,ref:e})});AG.displayName=bbe;var wbe="DropdownMenuSeparator",CG=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ri(r);return a.jsx(sbe,{...i,...n,ref:e})});CG.displayName=wbe;var _be="DropdownMenuArrow",jbe=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ri(r);return a.jsx(abe,{...i,...n,ref:e})});jbe.displayName=_be;var Nbe="DropdownMenuSubTrigger",kG=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ri(r);return a.jsx(obe,{...i,...n,ref:e})});kG.displayName=Nbe;var Sbe="DropdownMenuSubContent",IG=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ri(r);return a.jsx(lbe,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});IG.displayName=Sbe;var Tbe=xG,Ebe=wG,Pbe=_G,OG=NG,RG=SG,MG=TG,DG=EG,LG=PG,$G=AG,FG=CG,VG=kG,BG=IG;const Abe=Tbe,Cbe=Ebe,kbe=S.forwardRef(({className:t,inset:e,children:r,...n},i)=>a.jsxs(VG,{ref:i,className:bt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,a.jsx(qI,{className:"ml-auto"})]}));kbe.displayName=VG.displayName;const Ibe=S.forwardRef(({className:t,...e},r)=>a.jsx(BG,{ref:r,className:bt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Ibe.displayName=BG.displayName;const qG=S.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(Pbe,{children:a.jsx(OG,{ref:n,sideOffset:e,className:bt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));qG.displayName=OG.displayName;const Qa=S.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(MG,{ref:n,className:bt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...r}));Qa.displayName=MG.displayName;const Obe=S.forwardRef(({className:t,children:e,checked:r,...n},i)=>a.jsxs(DG,{ref:i,className:bt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx($G,{children:a.jsx(Mr,{className:"h-4 w-4"})})}),e]}));Obe.displayName=DG.displayName;const Rbe=S.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(LG,{ref:n,className:bt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx($G,{children:a.jsx(Sme,{className:"h-2 w-2 fill-current"})})}),e]}));Rbe.displayName=LG.displayName;const UG=S.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(RG,{ref:n,className:bt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));UG.displayName=RG.displayName;const lb=S.forwardRef(({className:t,...e},r)=>a.jsx(FG,{ref:r,className:bt("-mx-1 my-1 h-px bg-muted",t),...e}));lb.displayName=FG.displayName;const re=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:bt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));re.displayName="Card";const _e=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:bt("flex flex-col space-y-1.5 p-6",t),...e}));_e.displayName="CardHeader";const Ne=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:bt("font-semibold leading-none tracking-tight",t),...e}));Ne.displayName="CardTitle";const Mbe=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:bt("text-sm text-muted-foreground",t),...e}));Mbe.displayName="CardDescription";const ne=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:bt("p-6 pt-0",t),...e}));ne.displayName="CardContent";const Dbe=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:bt("flex items-center p-6 pt-0",t),...e}));Dbe.displayName="CardFooter";function Lbe(t,e=[]){let r=[];function n(s,o){const l=S.createContext(o);l.displayName=s+"Context";const c=r.length;r=[...r,o];const d=m=>{var _;const{scope:p,children:v,...w}=m,x=((_=p==null?void 0:p[t])==null?void 0:_[c])||l,g=S.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:g,children:v})};d.displayName=s+"Provider";function f(m,p){var x;const v=((x=p==null?void 0:p[t])==null?void 0:x[c])||l,w=S.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,f]}const i=()=>{const s=r.map(o=>S.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,$be(i,...e)]}function $be(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(s)[`__scope${d}`];return{...l,...m}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Fbe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zG=Fbe.reduce((t,e)=>{const r=WI(`Primitive.${e}`),n=S.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),fO="Progress",mO=100,[Vbe]=Lbe(fO),[Bbe,qbe]=Vbe(fO),WG=S.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=Ube,...o}=t;(i||i===0)&&!p6(i)&&console.error(zbe(`${i}`,"Progress"));const l=p6(i)?i:mO;n!==null&&!g6(n,l)&&console.error(Wbe(`${n}`,"Progress"));const c=g6(n,l)?n:null,d=Zb(c)?s(c,l):void 0;return a.jsx(Bbe,{scope:r,value:c,max:l,children:a.jsx(zG.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Zb(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":KG(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});WG.displayName=fO;var HG="ProgressIndicator",GG=S.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=qbe(HG,r);return a.jsx(zG.div,{"data-state":KG(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});GG.displayName=HG;function Ube(t,e){return`${Math.round(t/e*100)}%`}function KG(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Zb(t){return typeof t=="number"}function p6(t){return Zb(t)&&!isNaN(t)&&t>0}function g6(t,e){return Zb(t)&&!isNaN(t)&&t<=e&&t>=0}function zbe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${mO}\`.`}function Wbe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${mO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var YG=WG,Hbe=GG;const Sl=S.forwardRef(({className:t,value:e,...r},n)=>a.jsx(YG,{ref:n,className:bt("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...r,children:a.jsx(Hbe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Sl.displayName=YG.displayName;function pO({pet:t,experience:e,size:r="medium"}){if(!t)return null;const n={small:"w-16 h-16 text-3xl",medium:"w-24 h-24 text-5xl",large:"w-32 h-32 text-7xl"},i=n[r]||n.medium,s=e||0,o=Math.floor(s/100)+1,l=100,c=s%100,d=c/l*100;return a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:`${i} rounded-2xl bg-gradient-to-br ${t.gradient} flex items-center justify-center shadow-lg border-4 border-white relative overflow-hidden`,children:[a.jsx("div",{className:"text-center",children:a.jsx("div",{children:t.emoji})}),a.jsxs(je,{className:"absolute -top-2 -right-2 bg-purple-500 text-white text-xs px-2 py-1",children:["Lv.",o]}),o>=t.evolveLevel&&!t.isEvolved&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-yellow-400/20",children:a.jsx(Xt,{className:"w-8 h-8 text-yellow-500 animate-pulse"})})]}),r!=="small"&&a.jsxs("div",{className:"mt-2",children:[a.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[a.jsx("span",{children:t.name}),a.jsxs("span",{children:[c,"/",l," XP"]})]}),a.jsx(Sl,{value:d,className:"h-2"})]})]})}const gO=S.createContext({});function yO(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const vO=typeof window<"u",QG=vO?S.useLayoutEffect:S.useEffect,Z1=S.createContext(null);function xO(t,e){t.indexOf(e)===-1&&t.push(e)}function bO(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Tl=(t,e,r)=>r>e?e:r<t?t:r;let wO=()=>{};const El={},XG=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function JG(t){return typeof t=="object"&&t!==null}const ZG=t=>/^0[^.\s]+$/u.test(t);function _O(t){let e;return()=>(e===void 0&&(e=t()),e)}const Hs=t=>t,Gbe=(t,e)=>r=>e(t(r)),O0=(...t)=>t.reduce(Gbe),py=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class jO{constructor(){this.subscriptions=[]}add(e){return xO(this.subscriptions,e),()=>bO(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mo=t=>t*1e3,qs=t=>t/1e3;function eK(t,e){return e?t*(1e3/e):0}const tK=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Kbe=1e-7,Ybe=12;function Qbe(t,e,r,n,i){let s,o,l=0;do o=e+(r-e)/2,s=tK(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>Kbe&&++l<Ybe);return o}function R0(t,e,r,n){if(t===e&&r===n)return Hs;const i=s=>Qbe(s,0,1,t,r);return s=>s===0||s===1?s:tK(i(s),e,n)}const rK=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,nK=t=>e=>1-t(1-e),iK=R0(.33,1.53,.69,.99),NO=nK(iK),sK=rK(NO),aK=t=>(t*=2)<1?.5*NO(t):.5*(2-Math.pow(2,-10*(t-1))),SO=t=>1-Math.sin(Math.acos(t)),oK=nK(SO),lK=rK(SO),Xbe=R0(.42,0,1,1),Jbe=R0(0,0,.58,1),cK=R0(.42,0,.58,1),Zbe=t=>Array.isArray(t)&&typeof t[0]!="number",uK=t=>Array.isArray(t)&&typeof t[0]=="number",ewe={linear:Hs,easeIn:Xbe,easeInOut:cK,easeOut:Jbe,circIn:SO,circInOut:lK,circOut:oK,backIn:NO,backInOut:sK,backOut:iK,anticipate:aK},twe=t=>typeof t=="string",y6=t=>{if(uK(t)){wO(t.length===4);const[e,r,n,i]=t;return R0(e,r,n,i)}else if(twe(t))return ewe[t];return t},Tx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function rwe(t,e){let r=new Set,n=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,m=!1,p=!1)=>{const w=p&&i?r:n;return m&&o.add(f),w.has(f)||w.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(c),r.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const nwe=40;function dK(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=Tx.reduce((P,k)=>(P[k]=rwe(s),P),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:f,update:m,preRender:p,render:v,postRender:w}=o,x=()=>{const P=El.useManualTiming?i.timestamp:performance.now();r=!1,El.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(P-i.timestamp,nwe),1)),i.timestamp=P,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),f.process(i),m.process(i),p.process(i),v.process(i),w.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(x))},g=()=>{r=!0,n=!0,i.isProcessing||t(x)};return{schedule:Tx.reduce((P,k)=>{const A=o[k];return P[k]=(C,E=!1,j=!1)=>(r||g(),A.schedule(C,E,j)),P},{}),cancel:P=>{for(let k=0;k<Tx.length;k++)o[Tx[k]].cancel(P)},state:i,steps:o}}const{schedule:kr,cancel:lu,state:Bn,steps:tS}=dK(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hs,!0);let cb;function iwe(){cb=void 0}const Yi={now:()=>(cb===void 0&&Yi.set(Bn.isProcessing||El.useManualTiming?Bn.timestamp:performance.now()),cb),set:t=>{cb=t,queueMicrotask(iwe)}},hK=t=>e=>typeof e=="string"&&e.startsWith(t),TO=hK("--"),swe=hK("var(--"),EO=t=>swe(t)?awe.test(t.split("/*")[0].trim()):!1,awe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Km={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gy={...Km,transform:t=>Tl(0,1,t)},Ex={...Km,default:1},Lg=t=>Math.round(t*1e5)/1e5,PO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function owe(t){return t==null}const lwe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,AO=(t,e)=>r=>!!(typeof r=="string"&&lwe.test(r)&&r.startsWith(t)||e&&!owe(r)&&Object.prototype.hasOwnProperty.call(r,e)),fK=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,l]=n.match(PO);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},cwe=t=>Tl(0,255,t),rS={...Km,transform:t=>Math.round(cwe(t))},hd={test:AO("rgb","red"),parse:fK("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+rS.transform(t)+", "+rS.transform(e)+", "+rS.transform(r)+", "+Lg(gy.transform(n))+")"};function uwe(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const TA={test:AO("#"),parse:uwe,transform:hd.transform},M0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),bc=M0("deg"),po=M0("%"),pt=M0("px"),dwe=M0("vh"),hwe=M0("vw"),v6={...po,parse:t=>po.parse(t)/100,transform:t=>po.transform(t*100)},mf={test:AO("hsl","hue"),parse:fK("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+po.transform(Lg(e))+", "+po.transform(Lg(r))+", "+Lg(gy.transform(n))+")"},an={test:t=>hd.test(t)||TA.test(t)||mf.test(t),parse:t=>hd.test(t)?hd.parse(t):mf.test(t)?mf.parse(t):TA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?hd.transform(t):mf.transform(t),getAnimatableNone:t=>{const e=an.parse(t);return e.alpha=0,an.transform(e)}},fwe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mwe(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(PO))==null?void 0:e.length)||0)+(((r=t.match(fwe))==null?void 0:r.length)||0)>0}const mK="number",pK="color",pwe="var",gwe="var(",x6="${}",ywe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yy(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(ywe,c=>(an.test(c)?(n.color.push(s),i.push(pK),r.push(an.parse(c))):c.startsWith(gwe)?(n.var.push(s),i.push(pwe),r.push(c)):(n.number.push(s),i.push(mK),r.push(parseFloat(c))),++s,x6)).split(x6);return{values:r,split:l,indexes:n,types:i}}function gK(t){return yy(t).values}function yK(t){const{split:e,types:r}=yy(t),n=e.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],i[o]!==void 0){const l=r[o];l===mK?s+=Lg(i[o]):l===pK?s+=an.transform(i[o]):s+=i[o]}return s}}const vwe=t=>typeof t=="number"?0:an.test(t)?an.getAnimatableNone(t):t;function xwe(t){const e=gK(t);return yK(t)(e.map(vwe))}const cu={test:mwe,parse:gK,createTransformer:yK,getAnimatableNone:xwe};function nS(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function bwe({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=nS(c,l,t+1/3),s=nS(c,l,t),o=nS(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function ew(t,e){return r=>r>0?e:t}const Lr=(t,e,r)=>t+(e-t)*r,iS=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},wwe=[TA,hd,mf],_we=t=>wwe.find(e=>e.test(t));function b6(t){const e=_we(t);if(!e)return!1;let r=e.parse(t);return e===mf&&(r=bwe(r)),r}const w6=(t,e)=>{const r=b6(t),n=b6(e);if(!r||!n)return ew(t,e);const i={...r};return s=>(i.red=iS(r.red,n.red,s),i.green=iS(r.green,n.green,s),i.blue=iS(r.blue,n.blue,s),i.alpha=Lr(r.alpha,n.alpha,s),hd.transform(i))},EA=new Set(["none","hidden"]);function jwe(t,e){return EA.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Nwe(t,e){return r=>Lr(t,e,r)}function CO(t){return typeof t=="number"?Nwe:typeof t=="string"?EO(t)?ew:an.test(t)?w6:Ewe:Array.isArray(t)?vK:typeof t=="object"?an.test(t)?w6:Swe:ew}function vK(t,e){const r=[...t],n=r.length,i=t.map((s,o)=>CO(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function Swe(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=CO(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function Twe(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][n[s]],l=t.values[o]??0;r[i]=l,n[s]++}return r}const Ewe=(t,e)=>{const r=cu.createTransformer(e),n=yy(t),i=yy(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?EA.has(t)&&!i.values.length||EA.has(e)&&!n.values.length?jwe(t,e):O0(vK(Twe(n,i),i.values),r):ew(t,e)};function xK(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Lr(t,e,r):CO(t)(t,e)}const Pwe=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>kr.update(e,r),stop:()=>lu(e),now:()=>Bn.isProcessing?Bn.timestamp:Yi.now()}},bK=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},tw=2e4;function kO(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<tw;)e+=r,n=t.next(e);return e>=tw?1/0:e}function Awe(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(kO(n),tw);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:qs(i)}}const Cwe=5;function wK(t,e,r){const n=Math.max(e-Cwe,0);return eK(r-t(n),e-n)}const zr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sS=.001;function kwe({duration:t=zr.duration,bounce:e=zr.bounce,velocity:r=zr.velocity,mass:n=zr.mass}){let i,s,o=1-e;o=Tl(zr.minDamping,zr.maxDamping,o),t=Tl(zr.minDuration,zr.maxDuration,qs(t)),o<1?(i=d=>{const f=d*o,m=f*t,p=f-r,v=PA(d,o),w=Math.exp(-m);return sS-p/v*w},s=d=>{const m=d*o*t,p=m*r+r,v=Math.pow(o,2)*Math.pow(d,2)*t,w=Math.exp(-m),x=PA(Math.pow(d,2),o);return(-i(d)+sS>0?-1:1)*((p-v)*w)/x}):(i=d=>{const f=Math.exp(-d*t),m=(d-r)*t+1;return-sS+f*m},s=d=>{const f=Math.exp(-d*t),m=(r-d)*(t*t);return f*m});const l=5/t,c=Owe(i,s,l);if(t=mo(t),isNaN(c))return{stiffness:zr.stiffness,damping:zr.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:t}}}const Iwe=12;function Owe(t,e,r){let n=r;for(let i=1;i<Iwe;i++)n=n-t(n)/e(n);return n}function PA(t,e){return t*Math.sqrt(1-e*e)}const Rwe=["duration","bounce"],Mwe=["stiffness","damping","mass"];function _6(t,e){return e.some(r=>t[r]!==void 0)}function Dwe(t){let e={velocity:zr.velocity,stiffness:zr.stiffness,damping:zr.damping,mass:zr.mass,isResolvedFromDuration:!1,...t};if(!_6(t,Mwe)&&_6(t,Rwe))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Tl(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:zr.mass,stiffness:i,damping:s}}else{const r=kwe(t);e={...e,...r,mass:zr.mass},e.isResolvedFromDuration=!0}return e}function rw(t=zr.visualDuration,e=zr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:d,mass:f,duration:m,velocity:p,isResolvedFromDuration:v}=Dwe({...r,velocity:-qs(r.velocity||0)}),w=p||0,x=d/(2*Math.sqrt(c*f)),g=o-s,_=qs(Math.sqrt(c/f)),T=Math.abs(g)<5;n||(n=T?zr.restSpeed.granular:zr.restSpeed.default),i||(i=T?zr.restDelta.granular:zr.restDelta.default);let P;if(x<1){const A=PA(_,x);P=C=>{const E=Math.exp(-x*_*C);return o-E*((w+x*_*g)/A*Math.sin(A*C)+g*Math.cos(A*C))}}else if(x===1)P=A=>o-Math.exp(-_*A)*(g+(w+_*g)*A);else{const A=_*Math.sqrt(x*x-1);P=C=>{const E=Math.exp(-x*_*C),j=Math.min(A*C,300);return o-E*((w+x*_*g)*Math.sinh(j)+A*g*Math.cosh(j))/A}}const k={calculatedDuration:v&&m||null,next:A=>{const C=P(A);if(v)l.done=A>=m;else{let E=A===0?w:0;x<1&&(E=A===0?mo(w):wK(P,A,C));const j=Math.abs(E)<=n,O=Math.abs(o-C)<=i;l.done=j&&O}return l.value=l.done?o:C,l},toString:()=>{const A=Math.min(kO(k),tw),C=bK(E=>k.next(A*E).value,A,30);return A+"ms "+C},toTransition:()=>{}};return k}rw.applyToOptions=t=>{const e=Awe(t,100,rw);return t.ease=e.ease,t.duration=mo(e.duration),t.type="keyframes",t};function AA({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:f}){const m=t[0],p={done:!1,value:m},v=j=>l!==void 0&&j<l||c!==void 0&&j>c,w=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let x=r*e;const g=m+x,_=o===void 0?g:o(g);_!==g&&(x=_-m);const T=j=>-x*Math.exp(-j/n),P=j=>_+T(j),k=j=>{const O=T(j),R=P(j);p.done=Math.abs(O)<=d,p.value=p.done?_:R};let A,C;const E=j=>{v(p.value)&&(A=j,C=rw({keyframes:[p.value,w(p.value)],velocity:wK(P,j,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return E(0),{calculatedDuration:null,next:j=>{let O=!1;return!C&&A===void 0&&(O=!0,k(j),E(j)),A!==void 0&&j>=A?C.next(j-A):(!O&&k(j),p)}}}function Lwe(t,e,r){const n=[],i=r||El.mix||xK,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Hs:e;l=O0(c,l)}n.push(l)}return n}function $we(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(wO(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Lwe(e,n,i),c=l.length,d=f=>{if(o&&f<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const p=py(t[m],t[m+1],f);return l[m](p)};return r?f=>d(Tl(t[0],t[s-1],f)):d}function Fwe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=py(0,e,n);t.push(Lr(r,1,i))}}function Vwe(t){const e=[0];return Fwe(e,t.length-1),e}function Bwe(t,e){return t.map(r=>r*e)}function qwe(t,e){return t.map(()=>e||cK).splice(0,t.length-1)}function $g({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Zbe(n)?n.map(y6):y6(n),s={done:!1,value:e[0]},o=Bwe(r&&r.length===e.length?r:Vwe(e),t),l=$we(o,e,{ease:Array.isArray(i)?i:qwe(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const Uwe=t=>t!==null;function IO(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(Uwe),l=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const zwe={decay:AA,inertia:AA,tween:$g,keyframes:$g,spring:rw};function _K(t){typeof t.type=="string"&&(t.type=zwe[t.type])}class OO{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Wwe=t=>t/100;class RO extends OO{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==Yi.now()&&this.tick(Yi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;_K(e);const{type:r=$g,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const c=r||$g;c!==$g&&typeof l[0]!="number"&&(this.mixKeyframes=O0(Wwe,xK(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=kO(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:f,repeat:m,repeatType:p,repeatDelay:v,type:w,onUpdate:x,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const _=this.currentTime-d*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let P=this.currentTime,k=n;if(m){const j=Math.min(this.currentTime,i)/l;let O=Math.floor(j),R=j%1;!R&&j>=1&&(R=1),R===1&&O--,O=Math.min(O,m+1),!!(O%2)&&(p==="reverse"?(R=1-R,v&&(R-=v/l)):p==="mirror"&&(k=o)),P=Tl(0,1,R)*l}const A=T?{done:!1,value:f[0]}:k.next(P);s&&(A.value=s(A.value));let{done:C}=A;!T&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return E&&w!==AA&&(A.value=IO(f,this.options,g,this.speed)),x&&x(A.value),E&&this.finish(),A}then(e,r){return this.finished.then(e,r)}get duration(){return qs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+qs(e)}get time(){return qs(this.currentTime)}set time(e){var r;e=mo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Yi.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=qs(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=Pwe,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Hwe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const fd=t=>t*180/Math.PI,CA=t=>{const e=fd(Math.atan2(t[1],t[0]));return kA(e)},Gwe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:CA,rotateZ:CA,skewX:t=>fd(Math.atan(t[1])),skewY:t=>fd(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},kA=t=>(t=t%360,t<0&&(t+=360),t),j6=CA,N6=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),S6=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Kwe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:N6,scaleY:S6,scale:t=>(N6(t)+S6(t))/2,rotateX:t=>kA(fd(Math.atan2(t[6],t[5]))),rotateY:t=>kA(fd(Math.atan2(-t[2],t[0]))),rotateZ:j6,rotate:j6,skewX:t=>fd(Math.atan(t[4])),skewY:t=>fd(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function IA(t){return t.includes("scale")?1:0}function OA(t,e){if(!t||t==="none")return IA(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=Kwe,i=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Gwe,i=l}if(!i)return IA(e);const s=n[e],o=i[1].split(",").map(Qwe);return typeof s=="function"?s(o):o[s]}const Ywe=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return OA(r,e)};function Qwe(t){return parseFloat(t.trim())}const Ym=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qm=new Set(Ym),T6=t=>t===Km||t===pt,Xwe=new Set(["x","y","z"]),Jwe=Ym.filter(t=>!Xwe.has(t));function Zwe(t){const e=[];return Jwe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const kd={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>OA(e,"x"),y:(t,{transform:e})=>OA(e,"y")};kd.translateX=kd.x;kd.translateY=kd.y;const Id=new Set;let RA=!1,MA=!1,DA=!1;function jK(){if(MA){const t=Array.from(Id).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=Zwe(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var l;(l=n.getValue(s))==null||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}MA=!1,RA=!1,Id.forEach(t=>t.complete(DA)),Id.clear()}function NK(){Id.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(MA=!0)})}function e1e(){DA=!0,NK(),jK(),DA=!1}class MO{constructor(e,r,n,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Id.add(this),RA||(RA=!0,kr.read(NK),kr.resolveKeyframes(jK))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}Hwe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Id.delete(this)}cancel(){this.state==="scheduled"&&(Id.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const t1e=t=>t.startsWith("--");function r1e(t,e,r){t1e(e)?t.style.setProperty(e,r):t.style[e]=r}const n1e=_O(()=>window.ScrollTimeline!==void 0),i1e={};function s1e(t,e){const r=_O(t);return()=>i1e[e]??r()}const SK=s1e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jg=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,E6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jg([0,.65,.55,1]),circOut:jg([.55,0,1,.45]),backIn:jg([.31,.01,.66,-.59]),backOut:jg([.33,1.53,.69,.99])};function TK(t,e){if(t)return typeof t=="function"?SK()?bK(t,e):"ease-out":uK(t)?jg(t):Array.isArray(t)?t.map(r=>TK(r,e)||E6.easeOut):E6[t]}function a1e(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const f={[e]:r};c&&(f.offset=c);const m=TK(l,i);Array.isArray(m)&&(f.easing=m);const p={delay:n,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(f,p)}function EK(t){return typeof t=="function"&&"applyToOptions"in t}function o1e({type:t,...e}){return EK(t)&&SK()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class l1e extends OO{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,wO(typeof e.type!="string");const d=o1e(e);this.animation=a1e(r,n,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=IO(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):r1e(r,n,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return qs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+qs(e)}get time(){return qs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&n1e()?(this.animation.timeline=e,Hs):r(this)}}const PK={anticipate:aK,backInOut:sK,circInOut:lK};function c1e(t){return t in PK}function u1e(t){typeof t.ease=="string"&&c1e(t.ease)&&(t.ease=PK[t.ease])}const P6=10;class d1e extends l1e{constructor(e){u1e(e),_K(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new RO({...o,autoplay:!1}),c=mo(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-P6).value,l.sample(c).value,P6),l.stop()}}const A6=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cu.test(t)||t==="0")&&!t.startsWith("url("));function h1e(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function f1e(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=A6(i,e),l=A6(s,e);return!o||!l?!1:h1e(t)||(r==="spring"||EK(r))&&n}function LA(t){t.duration=0,t.type="keyframes"}const m1e=new Set(["opacity","clipPath","filter","transform"]),p1e=_O(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function g1e(t){var f;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return p1e()&&r&&m1e.has(r)&&(r!=="transform"||!d)&&!c&&!n&&i!=="mirror"&&s!==0&&o!=="inertia"}const y1e=40;class v1e extends OO{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:f,...m}){var w;super(),this.stop=()=>{var x,g;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=Yi.now();const p={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:d,element:f,...m},v=(f==null?void 0:f.KeyframeResolver)||MO;this.keyframeResolver=new v(l,(x,g,_)=>this.onKeyframesResolved(x,g,p,!_),c,d,f),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:f}=n;this.resolvedAt=Yi.now(),f1e(e,s,o,l)||((El.instantAnimations||!c)&&(f==null||f(IO(e,n,r))),e[0]=e[e.length-1],LA(n),n.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>y1e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},v=!d&&g1e(p)?new d1e({...p,element:p.motionValue.owner.current}):new RO(p);v.finished.then(()=>this.notifyFinished()).catch(Hs),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),e1e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const x1e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function b1e(t){const e=x1e.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function AK(t,e,r=1){const[n,i]=b1e(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return XG(o)?parseFloat(o):o}return EO(i)?AK(i,e,r+1):i}function DO(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const CK=new Set(["width","height","top","left","right","bottom",...Ym]),w1e={test:t=>t==="auto",parse:t=>t},kK=t=>e=>e.test(t),IK=[Km,pt,po,bc,hwe,dwe,w1e],C6=t=>IK.find(kK(t));function _1e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ZG(t):!0}const j1e=new Set(["brightness","contrast","saturate","opacity"]);function N1e(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(PO)||[];if(!n)return t;const i=r.replace(n,"");let s=j1e.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const S1e=/\b([a-z-]*)\(.*?\)/gu,$A={...cu,getAnimatableNone:t=>{const e=t.match(S1e);return e?e.map(N1e).join(" "):t}},k6={...Km,transform:Math.round},T1e={rotate:bc,rotateX:bc,rotateY:bc,rotateZ:bc,scale:Ex,scaleX:Ex,scaleY:Ex,scaleZ:Ex,skew:bc,skewX:bc,skewY:bc,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:gy,originX:v6,originY:v6,originZ:pt},LO={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,backgroundPositionX:pt,backgroundPositionY:pt,...T1e,zIndex:k6,fillOpacity:gy,strokeOpacity:gy,numOctaves:k6},E1e={...LO,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:$A,WebkitFilter:$A},OK=t=>E1e[t];function RK(t,e){let r=OK(t);return r!==$A&&(r=cu),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const P1e=new Set(["auto","none","0"]);function A1e(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!P1e.has(s)&&yy(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=RK(r,i)}class C1e extends MO{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),EO(d))){const f=AK(d,r.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!CK.has(n)||e.length!==2)return;const[i,s]=e,o=C6(i),l=C6(s);if(o!==l)if(T6(o)&&T6(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else kd[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||_1e(e[i]))&&n.push(i);n.length&&A1e(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kd[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=kd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function k1e(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const MK=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function DK(t){return JG(t)&&"offsetHeight"in t}const I6=30,I1e=t=>!isNaN(parseFloat(t));class O1e{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=Yi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Yi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=I1e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new jO);const n=this.events[e].add(r);return e==="change"?()=>{n(),kr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>I6)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,I6);return eK(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function im(t,e){return new O1e(t,e)}const{schedule:$O}=dK(queueMicrotask,!1),ua={x:!1,y:!1};function LK(){return ua.x||ua.y}function R1e(t){return t==="x"||t==="y"?ua[t]?null:(ua[t]=!0,()=>{ua[t]=!1}):ua.x||ua.y?null:(ua.x=ua.y=!0,()=>{ua.x=ua.y=!1})}function $K(t,e){const r=k1e(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function O6(t){return!(t.pointerType==="touch"||LK())}function M1e(t,e,r={}){const[n,i,s]=$K(t,r),o=l=>{if(!O6(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const f=m=>{O6(m)&&(d(m),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,i)};return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const FK=(t,e)=>e?t===e?!0:FK(t,e.parentElement):!1,FO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,D1e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function L1e(t){return D1e.has(t.tagName)||t.tabIndex!==-1}const ub=new WeakSet;function R6(t){return e=>{e.key==="Enter"&&t(e)}}function aS(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $1e=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=R6(()=>{if(ub.has(r))return;aS(r,"down");const i=R6(()=>{aS(r,"up")}),s=()=>aS(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function M6(t){return FO(t)&&!LK()}function F1e(t,e,r={}){const[n,i,s]=$K(t,r),o=l=>{const c=l.currentTarget;if(!M6(l))return;ub.add(c);const d=e(c,l),f=(v,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),ub.has(c)&&ub.delete(c),M6(v)&&typeof d=="function"&&d(v,{success:w})},m=v=>{f(v,c===window||c===document||r.useGlobalTarget||FK(c,v.target))},p=v=>{f(v,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",p,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),DK(l)&&(l.addEventListener("focus",d=>$1e(d,i)),!L1e(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function VK(t){return JG(t)&&"ownerSVGElement"in t}function V1e(t){return VK(t)&&t.tagName==="svg"}const di=t=>!!(t&&t.getVelocity),B1e=[...IK,an,cu],q1e=t=>B1e.find(kK(t)),VO=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function D6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function U1e(...t){return e=>{let r=!1;const n=t.map(i=>{const s=D6(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():D6(t[i],null)}}}}function z1e(...t){return S.useCallback(U1e(...t),t)}class W1e extends S.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=DK(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function H1e({children:t,isPresent:e,anchorX:r,root:n}){const i=S.useId(),s=S.useRef(null),o=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=S.useContext(VO),c=z1e(s,t==null?void 0:t.ref);return S.useInsertionEffect(()=>{const{width:d,height:f,top:m,left:p,right:v}=o.current;if(e||!s.current||!d||!f)return;const w=r==="left"?`left: ${p}`:`right: ${v}`;s.current.dataset.motionPopId=i;const x=document.createElement("style");l&&(x.nonce=l);const g=n??document.head;return g.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${m}px !important;
          }
        `),()=>{g.contains(x)&&g.removeChild(x)}},[e]),a.jsx(W1e,{isPresent:e,childRef:s,sizeRef:o,children:S.cloneElement(t,{ref:c})})}const G1e=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o,anchorX:l,root:c})=>{const d=yO(K1e),f=S.useId();let m=!0,p=S.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:r,custom:i,onExitComplete:v=>{d.set(v,!0);for(const w of d.values())if(!w)return;n&&n()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[r,d,n]);return s&&m&&(p={...p}),S.useMemo(()=>{d.forEach((v,w)=>d.set(w,!1))},[r]),S.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=a.jsx(H1e,{isPresent:r,anchorX:l,root:c,children:t})),a.jsx(Z1.Provider,{value:p,children:t})};function K1e(){return new Map}function BK(t=!0){const e=S.useContext(Z1);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=S.useId();S.useEffect(()=>{if(t)return i(s)},[t]);const o=S.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,o]:[!0]}const Px=t=>t.key||"";function L6(t){const e=[];return S.Children.forEach(t,r=>{S.isValidElement(r)&&e.push(r)}),e}const Y1e=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,f]=BK(o),m=S.useMemo(()=>L6(t),[t]),p=o&&!d?[]:m.map(Px),v=S.useRef(!0),w=S.useRef(m),x=yO(()=>new Map),[g,_]=S.useState(m),[T,P]=S.useState(m);QG(()=>{v.current=!1,w.current=m;for(let C=0;C<T.length;C++){const E=Px(T[C]);p.includes(E)?x.delete(E):x.get(E)!==!0&&x.set(E,!1)}},[T,p.length,p.join("-")]);const k=[];if(m!==g){let C=[...m];for(let E=0;E<T.length;E++){const j=T[E],O=Px(j);p.includes(O)||(C.splice(E,0,j),k.push(j))}return s==="wait"&&k.length&&(C=k),P(L6(C)),_(m),null}const{forceRender:A}=S.useContext(gO);return a.jsx(a.Fragment,{children:T.map(C=>{const E=Px(C),j=o&&!d?!1:m===T||p.includes(E),O=()=>{if(x.has(E))x.set(E,!0);else return;let R=!0;x.forEach(L=>{L||(R=!1)}),R&&(A==null||A(),P(w.current),o&&(f==null||f()),n&&n())};return a.jsx(G1e,{isPresent:j,initial:!v.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:j?void 0:O,anchorX:l,children:C},E)})})},qK=S.createContext({strict:!1}),$6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sm={};for(const t in $6)sm[t]={isEnabled:e=>$6[t].some(r=>!!e[r])};function Q1e(t){for(const e in t)sm[e]={...sm[e],...t[e]}}const X1e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||X1e.has(t)}let UK=t=>!nw(t);function J1e(t){typeof t=="function"&&(UK=e=>e.startsWith("on")?!nw(e):t(e))}try{J1e(require("@emotion/is-prop-valid").default)}catch{}function Z1e(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(UK(i)||r===!0&&nw(i)||!e&&!nw(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const e_=S.createContext({});function t_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vy(t){return typeof t=="string"||Array.isArray(t)}const BO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qO=["initial",...BO];function r_(t){return t_(t.animate)||qO.some(e=>vy(t[e]))}function zK(t){return!!(r_(t)||t.variants)}function e_e(t,e){if(r_(t)){const{initial:r,animate:n}=t;return{initial:r===!1||vy(r)?r:void 0,animate:vy(n)?n:void 0}}return t.inherit!==!1?e:{}}function t_e(t){const{initial:e,animate:r}=e_e(t,S.useContext(e_));return S.useMemo(()=>({initial:e,animate:r}),[F6(e),F6(r)])}function F6(t){return Array.isArray(t)?t.join(" "):t}const xy={};function r_e(t){for(const e in t)xy[e]=t[e],TO(e)&&(xy[e].isCSSVariable=!0)}function WK(t,{layout:e,layoutId:r}){return Qm.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!xy[t]||t==="opacity")}const n_e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},i_e=Ym.length;function s_e(t,e,r){let n="",i=!0;for(let s=0;s<i_e;s++){const o=Ym[s],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=MK(l,LO[o]);if(!c){i=!1;const f=n_e[o]||o;n+=`${f}(${d}) `}r&&(e[o]=d)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function UO(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Qm.has(c)){o=!0;continue}else if(TO(c)){i[c]=d;continue}else{const f=MK(d,LO[c]);c.startsWith("origin")?(l=!0,s[c]=f):n[c]=f}}if(e.transform||(o||r?n.transform=s_e(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=s;n.transformOrigin=`${c} ${d} ${f}`}}const zO=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HK(t,e,r){for(const n in e)!di(e[n])&&!WK(n,r)&&(t[n]=e[n])}function a_e({transformTemplate:t},e){return S.useMemo(()=>{const r=zO();return UO(r,e,t),Object.assign({},r.vars,r.style)},[e])}function o_e(t,e){const r=t.style||{},n={};return HK(n,r,t),Object.assign(n,a_e(t,e)),n}function l_e(t,e){const r={},n=o_e(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const c_e={offset:"stroke-dashoffset",array:"stroke-dasharray"},u_e={offset:"strokeDashoffset",array:"strokeDasharray"};function d_e(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?c_e:u_e;t[s.offset]=pt.transform(-n);const o=pt.transform(e),l=pt.transform(r);t[s.array]=`${o} ${l}`}function GK(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...l},c,d,f){if(UO(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p}=t;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),i!==void 0&&d_e(m,i,s,o,!1)}const KK=()=>({...zO(),attrs:{}}),YK=t=>typeof t=="string"&&t.toLowerCase()==="svg";function h_e(t,e,r,n){const i=S.useMemo(()=>{const s=KK();return GK(s,e,YK(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};HK(s,t.style,t),i.style={...s,...i.style}}return i}const f_e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function WO(t){return typeof t!="string"||t.includes("-")?!1:!!(f_e.indexOf(t)>-1||/[A-Z]/u.test(t))}function m_e(t,e,r,{latestValues:n},i,s=!1){const l=(WO(t)?h_e:l_e)(e,n,i,t),c=Z1e(e,typeof t=="string",s),d=t!==S.Fragment?{...c,...l,ref:r}:{},{children:f}=e,m=S.useMemo(()=>di(f)?f.get():f,[f]);return S.createElement(t,{...d,children:m})}function V6(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function HO(t,e,r,n){if(typeof e=="function"){const[i,s]=V6(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=V6(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function hb(t){return di(t)?t.get():t}function p_e({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:g_e(r,n,i,t),renderState:e()}}function g_e(t,e,r,n){const i={},s=n(t,{});for(const p in s)i[p]=hb(s[p]);let{initial:o,animate:l}=t;const c=r_(t),d=zK(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const m=f?l:o;if(m&&typeof m!="boolean"&&!t_(m)){const p=Array.isArray(m)?m:[m];for(let v=0;v<p.length;v++){const w=HO(t,p[v]);if(w){const{transitionEnd:x,transition:g,..._}=w;for(const T in _){let P=_[T];if(Array.isArray(P)){const k=f?P.length-1:0;P=P[k]}P!==null&&(i[T]=P)}for(const T in x)i[T]=x[T]}}}return i}const QK=t=>(e,r)=>{const n=S.useContext(e_),i=S.useContext(Z1),s=()=>p_e(t,e,n,i);return r?s():yO(s)};function GO(t,e,r){var s;const{style:n}=t,i={};for(const o in n)(di(n[o])||e.style&&di(e.style[o])||WK(o,t)||((s=r==null?void 0:r.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=n[o]);return i}const y_e=QK({scrapeMotionValuesFromProps:GO,createRenderState:zO});function XK(t,e,r){const n=GO(t,e,r);for(const i in t)if(di(t[i])||di(e[i])){const s=Ym.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const v_e=QK({scrapeMotionValuesFromProps:XK,createRenderState:KK}),x_e=Symbol.for("motionComponentSymbol");function pf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function b_e(t,e,r){return S.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):pf(r)&&(r.current=n))},[e])}const KO=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),w_e="framerAppearId",JK="data-"+KO(w_e),ZK=S.createContext({});function __e(t,e,r,n,i){var x,g;const{visualElement:s}=S.useContext(e_),o=S.useContext(qK),l=S.useContext(Z1),c=S.useContext(VO).reducedMotion,d=S.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,m=S.useContext(ZK);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&j_e(d.current,r,i,m);const p=S.useRef(!1);S.useInsertionEffect(()=>{f&&p.current&&f.update(r,l)});const v=r[JK],w=S.useRef(!!v&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,v))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,v)));return QG(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),w.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,v)}),w.current=!1),f.enteringChildren=void 0)}),f}function j_e(t,e,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:eY(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&pf(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:c,layoutRoot:d})}function eY(t){if(t)return t.options.allowProjection!==!1?t.projection:eY(t.parent)}function oS(t,{forwardMotionProps:e=!1}={},r,n){r&&Q1e(r);const i=WO(t)?v_e:y_e;function s(l,c){let d;const f={...S.useContext(VO),...l,layoutId:N_e(l)},{isStatic:m}=f,p=t_e(l),v=i(l,m);if(!m&&vO){S_e();const w=T_e(f);d=w.MeasureLayout,p.visualElement=__e(t,v,f,n,w.ProjectionNode)}return a.jsxs(e_.Provider,{value:p,children:[d&&p.visualElement?a.jsx(d,{visualElement:p.visualElement,...f}):null,m_e(t,l,b_e(v,p.visualElement,c),v,m,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=S.forwardRef(s);return o[x_e]=t,o}function N_e({layoutId:t}){const e=S.useContext(gO).id;return e&&t!==void 0?e+"-"+t:t}function S_e(t,e){S.useContext(qK).strict}function T_e(t){const{drag:e,layout:r}=sm;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function E_e(t,e){if(typeof Proxy>"u")return oS;const r=new Map,n=(s,o)=>oS(s,o,t,e),i=(s,o)=>n(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?n:(r.has(o)||r.set(o,oS(o,void 0,t,e)),r.get(o))})}function tY({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function P_e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function A_e(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function lS(t){return t===void 0||t===1}function FA({scale:t,scaleX:e,scaleY:r}){return!lS(t)||!lS(e)||!lS(r)}function id(t){return FA(t)||rY(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function rY(t){return B6(t.x)||B6(t.y)}function B6(t){return t&&t!=="0%"}function iw(t,e,r){const n=t-r,i=e*n;return r+i}function q6(t,e,r,n,i){return i!==void 0&&(t=iw(t,i,n)),iw(t,r,n)+e}function VA(t,e=0,r=1,n,i){t.min=q6(t.min,e,r,n,i),t.max=q6(t.max,e,r,n,i)}function nY(t,{x:e,y:r}){VA(t.x,e.translate,e.scale,e.originPoint),VA(t.y,r.translate,r.scale,r.originPoint)}const U6=.999999999999,z6=1.0000000000001;function C_e(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=r[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&yf(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,nY(t,o)),n&&id(s.latestValues)&&yf(t,s.latestValues))}e.x<z6&&e.x>U6&&(e.x=1),e.y<z6&&e.y>U6&&(e.y=1)}function gf(t,e){t.min=t.min+e,t.max=t.max+e}function W6(t,e,r,n,i=.5){const s=Lr(t.min,t.max,i);VA(t,e,r,s,n)}function yf(t,e){W6(t.x,e.x,e.scaleX,e.scale,e.originX),W6(t.y,e.y,e.scaleY,e.scale,e.originY)}function iY(t,e){return tY(A_e(t.getBoundingClientRect(),e))}function k_e(t,e,r){const n=iY(t,r),{scroll:i}=e;return i&&(gf(n.x,i.offset.x),gf(n.y,i.offset.y)),n}const H6=()=>({translate:0,scale:1,origin:0,originPoint:0}),vf=()=>({x:H6(),y:H6()}),G6=()=>({min:0,max:0}),Jr=()=>({x:G6(),y:G6()}),BA={current:null},sY={current:!1};function I_e(){if(sY.current=!0,!!vO)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>BA.current=t.matches;t.addEventListener("change",e),e()}else BA.current=!1}const O_e=new WeakMap;function R_e(t,e,r){for(const n in e){const i=e[n],s=r[n];if(di(i))t.addValue(n,i);else if(di(s))t.addValue(n,im(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,im(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const K6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class M_e{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=MO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Yi.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,kr.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=r_(r),this.isVariantNode=zK(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in m){const v=m[p];c[p]!==void 0&&di(v)&&v.set(c[p])}}mount(e){var r;this.current=e,O_e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),sY.current||I_e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:BA.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),lu(this.notifyUpdate),lu(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Qm.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&kr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sm){const r=sm[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<K6.length;n++){const i=K6[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=R_e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=im(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(XG(n)||ZG(n))?n=parseFloat(n):!q1e(n)&&cu.test(r)&&(n=RK(e,r)),this.setBaseTarget(e,di(n)?n.get():n)),di(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=HO(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!di(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new jO),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){$O.render(this.render)}}class aY extends M_e{constructor(){super(...arguments),this.KeyframeResolver=C1e}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;di(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function oY(t,{style:e,vars:r},n,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,n);for(o in r)s.setProperty(o,r[o])}function D_e(t){return window.getComputedStyle(t)}class L_e extends aY{constructor(){super(...arguments),this.type="html",this.renderInstance=oY}readValueFromInstance(e,r){var n;if(Qm.has(r))return(n=this.projection)!=null&&n.isProjecting?IA(r):Ywe(e,r);{const i=D_e(e),s=(TO(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return iY(e,r)}build(e,r,n){UO(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return GO(e,r,n)}}const lY=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $_e(t,e,r,n){oY(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(lY.has(i)?i:KO(i),e.attrs[i])}class F_e extends aY{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Qm.has(r)){const n=OK(r);return n&&n.default||0}return r=lY.has(r)?r:KO(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return XK(e,r,n)}build(e,r,n){GK(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){$_e(e,r,n,i)}mount(e){this.isSVGTag=YK(e.tagName),super.mount(e)}}const V_e=(t,e)=>WO(t)?new F_e(e):new L_e(e,{allowProjection:t!==S.Fragment});function Rf(t,e,r){const n=t.getProps();return HO(n,e,r!==void 0?r:n.custom,t)}const qA=t=>Array.isArray(t);function B_e(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,im(r))}function q_e(t){return qA(t)?t[t.length-1]||0:t}function U_e(t,e){const r=Rf(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const l=q_e(s[o]);B_e(t,o,l)}}function z_e(t){return!!(di(t)&&t.add)}function UA(t,e){const r=t.getValue("willChange");if(z_e(r))return r.add(e);if(!r&&El.WillChange){const n=new El.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function cY(t){return t.props[JK]}const W_e=t=>t!==null;function H_e(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(W_e),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const G_e={type:"spring",stiffness:500,damping:25,restSpeed:10},K_e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Y_e={type:"keyframes",duration:.8},Q_e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},X_e=(t,{keyframes:e})=>e.length>2?Y_e:Qm.has(t)?t.startsWith("scale")?K_e(e[1]):G_e:Q_e;function J_e({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const YO=(t,e,r,n={},i,s)=>o=>{const l=DO(n,t)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-mo(c);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};J_e(l)||Object.assign(f,X_e(t,f)),f.duration&&(f.duration=mo(f.duration)),f.repeatDelay&&(f.repeatDelay=mo(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(LA(f),f.delay===0&&(m=!0)),(El.instantAnimations||El.skipAnimations)&&(m=!0,LA(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!s&&e.get()!==void 0){const p=H_e(f.keyframes,l);if(p!==void 0){kr.update(()=>{f.onUpdate(p),f.onComplete()});return}}return l.isSync?new RO(f):new v1e(f)};function Z_e({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function uY(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(s=n);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const m=t.getValue(f,t.latestValues[f]??null),p=l[f];if(p===void 0||d&&Z_e(d,f))continue;const v={delay:r,...DO(s||{},f)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===w&&!v.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const _=cY(t);if(_){const T=window.MotionHandoffAnimation(_,f,kr);T!==null&&(v.startTime=T,x=!0)}}UA(t,f),m.start(YO(f,m,p,t.shouldReduceMotion&&CK.has(f)?{type:!1}:v,t,x));const g=m.animation;g&&c.push(g)}return o&&Promise.all(c).then(()=>{kr.update(()=>{o&&U_e(t,o)})}),c}function dY(t,e,r,n=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(s,o):i===1?s*n:l-s*n}function zA(t,e,r={}){var c;const n=Rf(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(uY(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:p}=i;return eje(t,e,d,f,m,p,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,f]=l==="beforeChildren"?[s,o]:[o,s];return d().then(()=>f())}else return Promise.all([s(),o(r.delay)])}function eje(t,e,r=0,n=0,i=0,s=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(zA(c,e,{...o,delay:r+(typeof n=="function"?0:n)+dY(t.variantChildren,c,n,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function tje(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>zA(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=zA(t,e,r);else{const i=typeof e=="function"?Rf(t,e,r.custom):e;n=Promise.all(uY(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function hY(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const rje=qO.length;function fY(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?fY(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<rje;r++){const n=qO[r],i=t.props[n];(vy(i)||i===!1)&&(e[n]=i)}return e}const nje=[...BO].reverse(),ije=BO.length;function sje(t){return e=>Promise.all(e.map(({animation:r,options:n})=>tje(t,r,n)))}function aje(t){let e=sje(t),r=Y6(),n=!0;const i=c=>(d,f)=>{var p;const m=Rf(t,f,c==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(m){const{transition:v,transitionEnd:w,...x}=m;d={...d,...x,...w}}return d};function s(c){e=c(t)}function o(c){const{props:d}=t,f=fY(t.parent)||{},m=[],p=new Set;let v={},w=1/0;for(let g=0;g<ije;g++){const _=nje[g],T=r[_],P=d[_]!==void 0?d[_]:f[_],k=vy(P),A=_===c?T.isActive:null;A===!1&&(w=g);let C=P===f[_]&&P!==d[_]&&k;if(C&&n&&t.manuallyAnimateOnMount&&(C=!1),T.protectedKeys={...v},!T.isActive&&A===null||!P&&!T.prevProp||t_(P)||typeof P=="boolean")continue;const E=oje(T.prevProp,P);let j=E||_===c&&T.isActive&&!C&&k||g>w&&k,O=!1;const R=Array.isArray(P)?P:[P];let L=R.reduce(i(_),{});A===!1&&(L={});const{prevResolvedValues:$={}}=T,F={...$,...L},G=J=>{j=!0,p.has(J)&&(O=!0,p.delete(J)),T.needsAnimating[J]=!0;const U=t.getValue(J);U&&(U.liveStyle=!1)};for(const J in F){const U=L[J],X=$[J];if(v.hasOwnProperty(J))continue;let ie=!1;qA(U)&&qA(X)?ie=!hY(U,X):ie=U!==X,ie?U!=null?G(J):p.add(J):U!==void 0&&p.has(J)?G(J):T.protectedKeys[J]=!0}T.prevProp=P,T.prevResolvedValues=L,T.isActive&&(v={...v,...L}),n&&t.blockInitialAnimation&&(j=!1);const K=C&&E;j&&(!K||O)&&m.push(...R.map(J=>{const U={type:_};if(typeof J=="string"&&n&&!K&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,ie=Rf(X,J);if(X.enteringChildren&&ie){const{delayChildren:W}=ie.transition||{};U.delay=dY(X.enteringChildren,t,W)}}return{animation:J,options:U}}))}if(p.size){const g={};if(typeof d.initial!="boolean"){const _=Rf(t,Array.isArray(d.initial)?d.initial[0]:d.initial);_&&_.transition&&(g.transition=_.transition)}p.forEach(_=>{const T=t.getBaseTarget(_),P=t.getValue(_);P&&(P.liveStyle=!0),g[_]=T??null}),m.push({animation:g})}let x=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(m):Promise.resolve()}function l(c,d){var m;if(r[c].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(p=>{var v;return(v=p.animationState)==null?void 0:v.setActive(c,d)}),r[c].isActive=d;const f=o(c);for(const p in r)r[p].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=Y6()}}}function oje(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hY(e,t):!1}function Zu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Y6(){return{animate:Zu(!0),whileInView:Zu(),whileHover:Zu(),whileTap:Zu(),whileDrag:Zu(),whileFocus:Zu(),exit:Zu()}}class xu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class lje extends xu{constructor(e){super(e),e.animationState||(e.animationState=aje(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();t_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let cje=0;class uje extends xu{constructor(){super(...arguments),this.id=cje++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const dje={animation:{Feature:lje},exit:{Feature:uje}};function by(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function D0(t){return{point:{x:t.pageX,y:t.pageY}}}const hje=t=>e=>FO(e)&&t(e,D0(e));function Fg(t,e,r,n){return by(t,e,hje(r),n)}const mY=1e-4,fje=1-mY,mje=1+mY,pY=.01,pje=0-pY,gje=0+pY;function Ti(t){return t.max-t.min}function yje(t,e,r){return Math.abs(t-e)<=r}function Q6(t,e,r,n=.5){t.origin=n,t.originPoint=Lr(e.min,e.max,t.origin),t.scale=Ti(r)/Ti(e),t.translate=Lr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=fje&&t.scale<=mje||isNaN(t.scale))&&(t.scale=1),(t.translate>=pje&&t.translate<=gje||isNaN(t.translate))&&(t.translate=0)}function Vg(t,e,r,n){Q6(t.x,e.x,r.x,n?n.originX:void 0),Q6(t.y,e.y,r.y,n?n.originY:void 0)}function X6(t,e,r){t.min=r.min+e.min,t.max=t.min+Ti(e)}function vje(t,e,r){X6(t.x,e.x,r.x),X6(t.y,e.y,r.y)}function J6(t,e,r){t.min=e.min-r.min,t.max=t.min+Ti(e)}function Bg(t,e,r){J6(t.x,e.x,r.x),J6(t.y,e.y,r.y)}function Ds(t){return[t("x"),t("y")]}const gY=({current:t})=>t?t.ownerDocument.defaultView:null,Z6=(t,e)=>Math.abs(t-e);function xje(t,e){const r=Z6(t.x,e.x),n=Z6(t.y,e.y);return Math.sqrt(r**2+n**2)}class yY{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=uS(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=xje(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!w)return;const{point:x}=p,{timestamp:g}=Bn;this.history.push({...x,timestamp:g});const{onStart:_,onMove:T}=this.handlers;v||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=cS(v,this.transformPagePoint),kr.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:w,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=uS(p.type==="pointercancel"?this.lastMoveEventInfo:cS(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(p,_),x&&x(p,_)},!FO(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const l=D0(e),c=cS(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=Bn;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=r;m&&m(e,uS(c,this.history)),this.removeListeners=O0(Fg(this.contextWindow,"pointermove",this.handlePointerMove),Fg(this.contextWindow,"pointerup",this.handlePointerUp),Fg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),lu(this.updatePoint)}}function cS(t,e){return e?{point:e(t.point)}:t}function eL(t,e){return{x:t.x-e.x,y:t.y-e.y}}function uS({point:t},e){return{point:t,delta:eL(t,vY(e)),offset:eL(t,bje(e)),velocity:wje(e,.1)}}function bje(t){return t[0]}function vY(t){return t[t.length-1]}function wje(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=vY(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>mo(e)));)r--;if(!n)return{x:0,y:0};const s=qs(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function _je(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Lr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Lr(r,t,n.max):Math.min(t,r)),t}function tL(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function jje(t,{top:e,left:r,bottom:n,right:i}){return{x:tL(t.x,r,i),y:tL(t.y,e,n)}}function rL(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Nje(t,e){return{x:rL(t.x,e.x),y:rL(t.y,e.y)}}function Sje(t,e){let r=.5;const n=Ti(t),i=Ti(e);return i>n?r=py(e.min,e.max-n,t.min):n>i&&(r=py(t.min,t.max-i,e.min)),Tl(0,1,r)}function Tje(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const WA=.35;function Eje(t=WA){return t===!1?t=0:t===!0&&(t=WA),{x:nL(t,"left","right"),y:nL(t,"top","bottom")}}function nL(t,e,r){return{min:iL(t,e),max:iL(t,r)}}function iL(t,e){return typeof t=="number"?t:t[e]||0}const Pje=new WeakMap;class Aje{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(D0(m).point)},o=(m,p)=>{const{drag:v,dragPropagation:w,onDragStart:x}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=R1e(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ds(_=>{let T=this.getAxisMotionValue(_).get()||0;if(po.test(T)){const{projection:P}=this.visualElement;if(P&&P.layout){const k=P.layout.layoutBox[_];k&&(T=Ti(k)*(parseFloat(T)/100))}}this.originPoint[_]=T}),x&&kr.postRender(()=>x(m,p)),UA(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},l=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:x,onDrag:g}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:_}=p;if(w&&this.currentDirection===null){this.currentDirection=Cje(_),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),g&&g(m,p)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Ds(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)==null?void 0:p.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new yY(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:gY(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&kr.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Ax(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=_je(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&pf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=jje(n.layoutBox,e):this.constraints=!1,this.elastic=Eje(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ds(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Tje(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!pf(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=k_e(n,i.root,this.visualElement.getTransformPagePoint());let o=Nje(i.layout.layoutBox,s);if(r){const l=r(P_e(o));this.hasMutatedConstraints=!!l,l&&(o=tY(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Ds(f=>{if(!Ax(f,r,this.currentDirection))return;let m=c&&c[f]||{};o&&(m={min:0,max:0});const p=i?200:1e6,v=i?40:1e7,w={type:"inertia",velocity:n?e[f]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(f,w)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return UA(this.visualElement,e),n.start(YO(e,n,0,r,this.visualElement,!1))}stopAnimation(){Ds(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ds(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ds(r=>{const{drag:n}=this.getProps();if(!Ax(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];s.set(e[r]-Lr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!pf(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ds(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=Sje({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ds(o=>{if(!Ax(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Lr(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;Pje.set(this.visualElement,this);const e=this.visualElement.current,r=Fg(e,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();pf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),kr.read(n);const o=by(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ds(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=c[f].translate,m.set(m.get()+c[f].translate))}),this.visualElement.render())}));return()=>{o(),r(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=WA,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Ax(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Cje(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class kje extends xu{constructor(e){super(e),this.removeGroupControls=Hs,this.removeListeners=Hs,this.controls=new Aje(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hs}unmount(){this.removeGroupControls(),this.removeListeners()}}const sL=t=>(e,r)=>{t&&kr.postRender(()=>t(e,r))};class Ije extends xu{constructor(){super(...arguments),this.removePointerDownListener=Hs}onPointerDown(e){this.session=new yY(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gY(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:sL(e),onStart:sL(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&kr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Fg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aL(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const rg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pt.test(t))t=parseFloat(t);else return t;const r=aL(t,e.target.x),n=aL(t,e.target.y);return`${r}% ${n}%`}},Oje={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=cu.parse(t);if(i.length>5)return n;const s=cu.createTransformer(t),o=typeof i[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const d=Lr(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};let dS=!1;class Rje extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;r_e(Mje),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),dS&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),fb.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,dS=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||kr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$O.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;dS=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xY(t){const[e,r]=BK(),n=S.useContext(gO);return a.jsx(Rje,{...t,layoutGroup:n,switchLayoutGroup:S.useContext(ZK),isPresent:e,safeToRemove:r})}const Mje={borderRadius:{...rg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rg,borderTopRightRadius:rg,borderBottomLeftRadius:rg,borderBottomRightRadius:rg,boxShadow:Oje};function Dje(t,e,r){const n=di(t)?t:im(t);return n.start(YO("",n,e,r)),n.animation}const Lje=(t,e)=>t.depth-e.depth;class $je{constructor(){this.children=[],this.isDirty=!1}add(e){xO(this.children,e),this.isDirty=!0}remove(e){bO(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Lje),this.isDirty=!1,this.children.forEach(e)}}function Fje(t,e){const r=Yi.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(lu(n),t(s-e))};return kr.setup(n,!0),()=>lu(n)}const bY=["TopLeft","TopRight","BottomLeft","BottomRight"],Vje=bY.length,oL=t=>typeof t=="string"?parseFloat(t):t,lL=t=>typeof t=="number"||pt.test(t);function Bje(t,e,r,n,i,s){i?(t.opacity=Lr(0,r.opacity??1,qje(n)),t.opacityExit=Lr(e.opacity??1,0,Uje(n))):s&&(t.opacity=Lr(e.opacity??1,r.opacity??1,n));for(let o=0;o<Vje;o++){const l=`border${bY[o]}Radius`;let c=cL(e,l),d=cL(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||lL(c)===lL(d)?(t[l]=Math.max(Lr(oL(c),oL(d),n),0),(po.test(d)||po.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=Lr(e.rotate||0,r.rotate||0,n))}function cL(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qje=wY(0,.5,oK),Uje=wY(.5,.95,Hs);function wY(t,e,r){return n=>n<t?0:n>e?1:r(py(t,e,n))}function uL(t,e){t.min=e.min,t.max=e.max}function Is(t,e){uL(t.x,e.x),uL(t.y,e.y)}function dL(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function hL(t,e,r,n,i){return t-=e,t=iw(t,1/r,n),i!==void 0&&(t=iw(t,1/i,n)),t}function zje(t,e=0,r=1,n=.5,i,s=t,o=t){if(po.test(e)&&(e=parseFloat(e),e=Lr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Lr(s.min,s.max,n);t===s&&(l-=e),t.min=hL(t.min,e,r,l,i),t.max=hL(t.max,e,r,l,i)}function fL(t,e,[r,n,i],s,o){zje(t,e[r],e[n],e[i],e.scale,s,o)}const Wje=["x","scaleX","originX"],Hje=["y","scaleY","originY"];function mL(t,e,r,n){fL(t.x,e,Wje,r?r.x:void 0,n?n.x:void 0),fL(t.y,e,Hje,r?r.y:void 0,n?n.y:void 0)}function pL(t){return t.translate===0&&t.scale===1}function _Y(t){return pL(t.x)&&pL(t.y)}function gL(t,e){return t.min===e.min&&t.max===e.max}function Gje(t,e){return gL(t.x,e.x)&&gL(t.y,e.y)}function yL(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jY(t,e){return yL(t.x,e.x)&&yL(t.y,e.y)}function vL(t){return Ti(t.x)/Ti(t.y)}function xL(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Kje{constructor(){this.members=[]}add(e){xO(this.members,e),e.scheduleRender()}remove(e){if(bO(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yje(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:f,rotateX:m,rotateY:p,skewX:v,skewY:w}=r;d&&(n=`perspective(${d}px) ${n}`),f&&(n+=`rotate(${f}deg) `),m&&(n+=`rotateX(${m}deg) `),p&&(n+=`rotateY(${p}deg) `),v&&(n+=`skewX(${v}deg) `),w&&(n+=`skewY(${w}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const hS=["","X","Y","Z"],Qje=1e3;let Xje=0;function fS(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function NY(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=cY(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",kr,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&NY(n)}function SY({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Xje++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eNe),this.nodes.forEach(iNe),this.nodes.forEach(sNe),this.nodes.forEach(tNe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new $je)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new jO),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=VK(o)&&!V1e(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let f,m=0;const p=()=>this.root.updateBlockedByResize=!1;kr.read(()=>{m=window.innerWidth}),t(o,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,f&&f(),f=Fje(p,250),fb.hasAnimatedSinceResize&&(fb.hasAnimatedSinceResize=!1,this.nodes.forEach(_L)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||uNe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=d.getProps(),_=!this.targetLayout||!jY(this.targetLayout,v),T=!m&&p;if(this.options.layoutRoot||this.resumeFrom||T||m&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...DO(w,"layout"),onPlay:x,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(f,T)}else m||_L(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),lu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aNe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NY(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bL);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(wL);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nNe),this.nodes.forEach(Jje),this.nodes.forEach(Zje)):this.nodes.forEach(wL),this.clearAllSnapshots();const l=Yi.now();Bn.delta=Tl(0,1e3/60,l-Bn.timestamp),Bn.timestamp=l,Bn.isProcessing=!0,tS.update.process(Bn),tS.preRender.process(Bn),tS.render.process(Bn),Bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$O.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rNe),this.sharedNodes.forEach(oNe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ti(this.snapshot.measuredBox.x)&&!Ti(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!_Y(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||id(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),dNe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Jr();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(hNe))){const{scroll:f}=this.root;f&&(gf(l.x,f.offset.x),gf(l.y,f.offset.y))}return l}removeElementScroll(o){var c;const l=Jr();if(Is(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:p}=f;f!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&Is(l,o),gf(l.x,m.offset.x),gf(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=Jr();Is(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&yf(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),id(f.latestValues)&&yf(c,f.latestValues)}return id(this.latestValues)&&yf(c,this.latestValues),c}removeTransform(o){const l=Jr();Is(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!id(d.latestValues))continue;FA(d.latestValues)&&d.updateSnapshot();const f=Jr(),m=d.measurePageBox();Is(f,m),mL(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return id(this.latestValues)&&mL(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Bn.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jr(),this.relativeTargetOrigin=Jr(),Bg(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Jr(),this.targetWithTransforms=Jr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vje(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Is(this.target,this.layout.layoutBox),nY(this.target,this.targetDelta)):Is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jr(),this.relativeTargetOrigin=Jr(),Bg(this.relativeTargetOrigin,this.target,v.target),Is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||FA(this.parent.latestValues)||rY(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Bn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Is(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;C_e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Jr());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dL(this.prevProjectionDelta.x,this.projectionDelta.x),dL(this.prevProjectionDelta.y,this.projectionDelta.y)),Vg(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!xL(this.projectionDelta.x,this.prevProjectionDelta.x)||!xL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vf(),this.projectionDelta=vf(),this.projectionDeltaWithTransform=vf()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},m=vf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Jr(),v=c?c.source:void 0,w=this.layout?this.layout.source:void 0,x=v!==w,g=this.getStack(),_=!g||g.members.length<=1,T=!!(x&&!_&&this.options.crossfade===!0&&!this.path.some(cNe));this.animationProgress=0;let P;this.mixTargetDelta=k=>{const A=k/1e3;jL(m.x,o.x,A),jL(m.y,o.y,A),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bg(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lNe(this.relativeTarget,this.relativeTargetOrigin,p,A),P&&Gje(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Jr()),Is(P,this.relativeTarget)),x&&(this.animationValues=f,Bje(f,d,this.latestValues,A,T,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(lu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kr.update(()=>{fb.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=im(0)),this.currentAnimation=Dje(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Qje),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&TY(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Jr();const m=Ti(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const p=Ti(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}Is(l,c),yf(l,f),Vg(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Kje),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&fS("z",o,d,this.animationValues);for(let f=0;f<hS.length;f++)fS(`rotate${hS[f]}`,o,d,this.animationValues),fS(`skew${hS[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=hb(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=hb(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!id(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=Yje(this.projectionDeltaWithTransform,this.treeScale,f);c&&(m=c(f,m)),o.transform=m;const{x:p,y:v}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in xy){if(f[w]===void 0)continue;const{correct:x,applyTo:g,isCSSVariable:_}=xy[w],T=m==="none"?f[w]:x(f[w],d);if(g){const P=g.length;for(let k=0;k<P;k++)o[g[k]]=T}else _?this.options.visualElement.renderState.vars[w]=T:o[w]=T}this.options.layoutId&&(o.pointerEvents=d===this?hb(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(bL),this.root.sharedNodes.clear()}}}function Jje(t){t.updateLayout()}function Zje(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Ds(m=>{const p=o?e.measuredBox[m]:e.layoutBox[m],v=Ti(p);p.min=n[m].min,p.max=p.min+v}):TY(s,e.layoutBox,n)&&Ds(m=>{const p=o?e.measuredBox[m]:e.layoutBox[m],v=Ti(n[m]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+v)});const l=vf();Vg(l,n,e.layoutBox);const c=vf();o?Vg(c,t.applyTransform(i,!0),e.measuredBox):Vg(c,n,e.layoutBox);const d=!_Y(l);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:v}=m;if(p&&v){const w=Jr();Bg(w,e.layoutBox,p.layoutBox);const x=Jr();Bg(x,n,v.layoutBox),jY(w,x)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=w,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function eNe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function tNe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rNe(t){t.clearSnapshot()}function bL(t){t.clearMeasurements()}function wL(t){t.isLayoutDirty=!1}function nNe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _L(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function iNe(t){t.resolveTargetDelta()}function sNe(t){t.calcProjection()}function aNe(t){t.resetSkewAndRotation()}function oNe(t){t.removeLeadSnapshot()}function jL(t,e,r){t.translate=Lr(e.translate,0,r),t.scale=Lr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function NL(t,e,r,n){t.min=Lr(e.min,r.min,n),t.max=Lr(e.max,r.max,n)}function lNe(t,e,r,n){NL(t.x,e.x,r.x,n),NL(t.y,e.y,r.y,n)}function cNe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const uNe={duration:.45,ease:[.4,0,.1,1]},SL=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),TL=SL("applewebkit/")&&!SL("chrome/")?Math.round:Hs;function EL(t){t.min=TL(t.min),t.max=TL(t.max)}function dNe(t){EL(t.x),EL(t.y)}function TY(t,e,r){return t==="position"||t==="preserve-aspect"&&!yje(vL(e),vL(r),.2)}function hNe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const fNe=SY({attachResizeListener:(t,e)=>by(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mS={current:void 0},EY=SY({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mS.current){const t=new fNe({});t.mount(window),t.setOptions({layoutScroll:!0}),mS.current=t}return mS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mNe={pan:{Feature:Ije},drag:{Feature:kje,ProjectionNode:EY,MeasureLayout:xY}};function PL(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&kr.postRender(()=>s(e,D0(e)))}class pNe extends xu{mount(){const{current:e}=this.node;e&&(this.unmount=M1e(e,(r,n)=>(PL(this.node,n,"Start"),i=>PL(this.node,i,"End"))))}unmount(){}}class gNe extends xu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=O0(by(this.node.current,"focus",()=>this.onFocus()),by(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function AL(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&kr.postRender(()=>s(e,D0(e)))}class yNe extends xu{mount(){const{current:e}=this.node;e&&(this.unmount=F1e(e,(r,n)=>(AL(this.node,n,"Start"),(i,{success:s})=>AL(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const HA=new WeakMap,pS=new WeakMap,vNe=t=>{const e=HA.get(t.target);e&&e(t)},xNe=t=>{t.forEach(vNe)};function bNe({root:t,...e}){const r=t||document;pS.has(r)||pS.set(r,{});const n=pS.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(xNe,{root:t,...e})),n[i]}function wNe(t,e,r){const n=bNe(e);return HA.set(t,r),n.observe(t),()=>{HA.delete(t),n.unobserve(t)}}const _Ne={some:0,all:1};class jNe extends xu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:_Ne[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),p=d?f:m;p&&p(c)};return wNe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(NNe(e,r))&&this.startObserver()}unmount(){}}function NNe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const SNe={inView:{Feature:jNe},tap:{Feature:yNe},focus:{Feature:gNe},hover:{Feature:pNe}},TNe={layout:{ProjectionNode:EY,MeasureLayout:xY}},ENe={...dje,...SNe,...mNe,...TNe},Gt=E_e(ENe,V_e);function PNe(){const[t,e]=S.useState(null),[r,n]=S.useState(!1),[i,s]=S.useState(!1),[o,l]=S.useState(!1);S.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){l(!0);return}const f=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;s(f);const m=p=>{p.preventDefault(),e(p),setTimeout(()=>{n(!0)},3e3)};return window.addEventListener("beforeinstallprompt",m),f&&setTimeout(()=>{n(!0)},3e3),()=>{window.removeEventListener("beforeinstallprompt",m)}},[]);const c=async()=>{if(!t)return;t.prompt();const{outcome:f}=await t.userChoice;f==="accepted"&&(console.log("User accepted the install prompt"),l(!0)),e(null),n(!1)},d=()=>{n(!1),sessionStorage.setItem("installPromptDismissed","true")};return o||sessionStorage.getItem("installPromptDismissed")?null:a.jsx(Y1e,{children:r&&a.jsx(Gt.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-20 left-4 right-4 z-50 md:left-auto md:right-8 md:max-w-md lg:bottom-8",children:a.jsx(re,{className:"border-4 border-purple-400 shadow-2xl bg-gradient-to-br from-purple-50 to-pink-50",children:a.jsxs(ne,{className:"p-4",children:[a.jsx("button",{onClick:d,className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Dismiss",children:a.jsx(An,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:a.jsx(Kpe,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1 pr-4",children:[a.jsx("h3",{className:"font-bold text-lg mb-1",children:"Install Math Adventure"}),i?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Add to your home screen for the best experience!"}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-purple-200 text-sm space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(MD,{className:"w-4 h-4 text-blue-600"})}),a.jsx("p",{className:"font-semibold text-purple-700",children:"How to install on iPhone/iPad:"})]}),a.jsxs("ol",{className:"space-y-2 text-gray-700 ml-2",children:[a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"font-bold text-purple-600 flex-shrink-0",children:"1."}),a.jsxs("span",{children:["Tap the ",a.jsx("strong",{children:"Share button"})," ",a.jsx(MD,{className:"inline w-4 h-4"})," at the bottom of your screen (or top in Safari)"]})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"font-bold text-purple-600 flex-shrink-0",children:"2."}),a.jsxs("span",{children:["Scroll down and tap ",a.jsx("strong",{children:'"Add to Home Screen"'})," ",a.jsx("span",{className:"inline-block bg-gray-100 px-2 py-1 rounded text-xs",children:"+"})]})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"font-bold text-purple-600 flex-shrink-0",children:"3."}),a.jsxs("span",{children:["Tap ",a.jsx("strong",{children:'"Add"'})," in the top right corner"]})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"font-bold text-purple-600 flex-shrink-0",children:"4."}),a.jsx("span",{children:"The app icon will appear on your home screen!"})]})]}),a.jsx("div",{className:"bg-blue-50 p-2 rounded mt-3",children:a.jsxs("p",{className:"text-xs text-blue-700",children:[" ",a.jsx("strong",{children:"Tip:"})," Once installed, open the app from your home screen for the full-screen experience!"]})})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Install the app for quick access and offline play!"}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border-2 border-purple-200 mb-3",children:[a.jsx("p",{className:"text-xs text-gray-600 mb-2",children:" Benefits:"}),a.jsxs("ul",{className:"text-xs text-gray-700 space-y-1",children:[a.jsx("li",{children:" Works offline"}),a.jsx("li",{children:" Faster loading"}),a.jsx("li",{children:" Full-screen experience"}),a.jsx("li",{children:" Home screen access"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(le,{onClick:c,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(cy,{className:"w-4 h-4 mr-2"}),"Install App"]}),a.jsx(le,{onClick:d,variant:"outline",children:"Later"})]})]})]})]})]})})})})}function Oi(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function uu(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function ANe(t,e){const r=Oi(t);return isNaN(e)?uu(t,NaN):(e&&r.setDate(r.getDate()+e),r)}const PY=6048e5,CNe=864e5;let kNe={};function n_(){return kNe}function Gd(t,e){var l,c,d,f;const r=n_(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=Oi(t),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function sw(t){return Gd(t,{weekStartsOn:1})}function AY(t){const e=Oi(t),r=e.getFullYear(),n=uu(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=sw(n),s=uu(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=sw(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Ki(t){const e=Oi(t);return e.setHours(0,0,0,0),e}function CL(t){const e=Oi(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function CY(t,e){const r=Ki(t),n=Ki(e),i=+r-CL(r),s=+n-CL(n);return Math.round((i-s)/CNe)}function INe(t){const e=AY(t),r=uu(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),sw(r)}function ONe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function RNe(t){if(!ONe(t)&&typeof t!="number")return!1;const e=Oi(t);return!isNaN(Number(e))}function kL(t,e){const r=Oi(t),n=Oi(e),i=IL(r,n),s=Math.abs(CY(r,n));r.setDate(r.getDate()-i*s);const o=+(IL(r,n)===-i),l=i*(s-o);return l===0?0:l}function IL(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function kY(t){const e=Oi(t);return e.setDate(1),e.setHours(0,0,0,0),e}function MNe(t){const e=Oi(t),r=uu(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const DNe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},LNe=(t,e,r)=>{let n;const i=DNe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function gS(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const $Ne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FNe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VNe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BNe={date:gS({formats:$Ne,defaultWidth:"full"}),time:gS({formats:FNe,defaultWidth:"full"}),dateTime:gS({formats:VNe,defaultWidth:"full"})},qNe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},UNe=(t,e,r,n)=>qNe[t];function ng(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const zNe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},WNe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},HNe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GNe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},KNe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},YNe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},QNe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},XNe={ordinalNumber:QNe,era:ng({values:zNe,defaultWidth:"wide"}),quarter:ng({values:WNe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ng({values:HNe,defaultWidth:"wide"}),day:ng({values:GNe,defaultWidth:"wide"}),dayPeriod:ng({values:KNe,defaultWidth:"wide",formattingValues:YNe,defaultFormattingWidth:"wide"})};function ig(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?ZNe(l,m=>m.test(o)):JNe(l,m=>m.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const f=e.slice(o.length);return{value:d,rest:f}}}function JNe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function ZNe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function eSe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const tSe=/^(\d+)(th|st|nd|rd)?/i,rSe=/\d+/i,nSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iSe={any:[/^b/i,/^(a|c)/i]},sSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aSe={any:[/1/i,/2/i,/3/i,/4/i]},oSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cSe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uSe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fSe={ordinalNumber:eSe({matchPattern:tSe,parsePattern:rSe,valueCallback:t=>parseInt(t,10)}),era:ig({matchPatterns:nSe,defaultMatchWidth:"wide",parsePatterns:iSe,defaultParseWidth:"any"}),quarter:ig({matchPatterns:sSe,defaultMatchWidth:"wide",parsePatterns:aSe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ig({matchPatterns:oSe,defaultMatchWidth:"wide",parsePatterns:lSe,defaultParseWidth:"any"}),day:ig({matchPatterns:cSe,defaultMatchWidth:"wide",parsePatterns:uSe,defaultParseWidth:"any"}),dayPeriod:ig({matchPatterns:dSe,defaultMatchWidth:"any",parsePatterns:hSe,defaultParseWidth:"any"})},mSe={code:"en-US",formatDistance:LNe,formatLong:BNe,formatRelative:UNe,localize:XNe,match:fSe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pSe(t){const e=Oi(t);return CY(e,MNe(e))+1}function gSe(t){const e=Oi(t),r=+sw(e)-+INe(e);return Math.round(r/PY)+1}function IY(t,e){var f,m,p,v;const r=Oi(t),n=r.getFullYear(),i=n_(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(p=i.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,o=uu(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=Gd(o,e),c=uu(t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const d=Gd(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function ySe(t,e){var l,c,d,f;const r=n_(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=IY(t,e),s=uu(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Gd(s,e)}function OY(t,e){const r=Oi(t),n=+Gd(r,e)-+ySe(r,e);return Math.round(n/PY)+1}function dr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const yc={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return dr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):dr(r+1,2)},d(t,e){return dr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return dr(t.getHours()%12||12,e.length)},H(t,e){return dr(t.getHours(),e.length)},m(t,e){return dr(t.getMinutes(),e.length)},s(t,e){return dr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return dr(i,e.length)}},rf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},OL={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return yc.y(t,e)},Y:function(t,e,r,n){const i=IY(t,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return dr(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):dr(s,e.length)},R:function(t,e){const r=AY(t);return dr(r,e.length)},u:function(t,e){const r=t.getFullYear();return dr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return dr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return dr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return yc.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return dr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=OY(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):dr(i,e.length)},I:function(t,e,r){const n=gSe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):dr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):yc.d(t,e)},D:function(t,e,r){const n=pSe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):dr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return dr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return dr(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return dr(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=rf.noon:n===0?i=rf.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=rf.evening:n>=12?i=rf.afternoon:n>=4?i=rf.morning:i=rf.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return yc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):yc.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):dr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):dr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):yc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):yc.s(t,e)},S:function(t,e){return yc.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return ML(n);case"XXXX":case"XX":return sd(n);case"XXXXX":case"XXX":default:return sd(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return ML(n);case"xxxx":case"xx":return sd(n);case"xxxxx":case"xxx":default:return sd(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+RL(n,":");case"OOOO":default:return"GMT"+sd(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+RL(n,":");case"zzzz":default:return"GMT"+sd(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return dr(n,e.length)},T:function(t,e,r){const n=t.getTime();return dr(n,e.length)}};function RL(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+dr(s,2)}function ML(t,e){return t%60===0?(t>0?"-":"+")+dr(Math.abs(t)/60,2):sd(t,e)}function sd(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=dr(Math.trunc(n/60),2),s=dr(n%60,2);return r+i+e+s}const DL=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},RY=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},vSe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return DL(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",DL(n,e)).replace("{{time}}",RY(i,e))},xSe={p:RY,P:vSe},bSe=/^D+$/,wSe=/^Y+$/,_Se=["D","DD","YY","YYYY"];function jSe(t){return bSe.test(t)}function NSe(t){return wSe.test(t)}function SSe(t,e,r){const n=TSe(t,e,r);if(console.warn(n),_Se.includes(t))throw new RangeError(n)}function TSe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ESe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ASe=/^'([^]*?)'?$/,CSe=/''/g,kSe=/[a-zA-Z]/;function hr(t,e,r){var f,m,p,v;const n=n_(),i=n.locale??mSe,s=n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=n.weekStartsOn??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,l=Oi(t);if(!RNe(l))throw new RangeError("Invalid time value");let c=e.match(PSe).map(w=>{const x=w[0];if(x==="p"||x==="P"){const g=xSe[x];return g(w,i.formatLong)}return w}).join("").match(ESe).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const x=w[0];if(x==="'")return{isToken:!1,value:ISe(w)};if(OL[x])return{isToken:!0,value:w};if(x.match(kSe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const x=w.value;(NSe(x)||jSe(x))&&SSe(x,e,String(t));const g=OL[x[0]];return g(l,x,i.localize,d)}).join("")}function ISe(t){const e=t.match(ASe);return e?e[1].replace(CSe,"'"):t}function yS(t,e){return ANe(t,-e)}function OSe({children:t,currentPageName:e}){var k,A;const r=Ll(),[n,i]=S.useState(!1),[s,o]=S.useState(null);S.useEffect(()=>{const C=Zg(Mt),E=J9(C,j=>{o(j?{email:j.email,full_name:j.displayName,avatar_skin_tone:"medium",coins:0}:null)});return()=>E()},[]);const l=((k=s==null?void 0:s.app_settings)==null?void 0:k.theme)==="dark";S.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then($=>{console.log("Service Worker registered:",$)}).catch($=>{console.log("Service Worker registration failed:",$)});const C=document.createElement("link");C.rel="manifest",C.href="/manifest.json",document.head.appendChild(C);const E=document.createElement("meta");E.name="theme-color",E.content=l?"#1e293b":"#9333ea",document.head.appendChild(E);const j=document.createElement("meta");j.name="apple-mobile-web-app-capable",j.content="yes",document.head.appendChild(j);const O=document.createElement("meta");O.name="apple-mobile-web-app-status-bar-style",O.content="default",document.head.appendChild(O);const R=document.createElement("meta");R.name="apple-mobile-web-app-title",R.content="Math Adventure",document.head.appendChild(R);const L=document.createElement("link");return L.rel="apple-touch-icon",document.head.appendChild(L),()=>{C.parentNode&&C.remove(),L.parentNode&&L.remove(),E.parentNode&&E.remove(),j.parentNode&&j.remove(),O.parentNode&&O.remove(),R.parentNode&&R.remove()}},[l]);const[c,d]=S.useState(0);if(S.useEffect(()=>{s!=null&&s.email&&d(0)},[s==null?void 0:s.email]),e==="Landing")return a.jsx(a.Fragment,{children:t});if(s===null&&e!=="Landing")return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:a.jsxs("div",{className:"text-center max-w-md",children:[a.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl mx-auto mb-8 animate-bounce",children:a.jsx("span",{className:"text-7xl",children:""})}),a.jsx("h1",{className:"text-5xl font-black text-white mb-4 drop-shadow-2xl",children:"Math Adventure! "}),a.jsx("p",{className:"text-xl text-white mb-8 drop-shadow-lg",children:"Please sign in to continue your learning journey!"}),a.jsx(gye,{showTitle:!1})]})});const f=hr(Ki(new Date),"yyyy-MM-dd"),{data:m=[]}=ft({queryKey:["dailyChallenges",f],initialData:[],enabled:!!s}),p=m.some(C=>C.created_by===(s==null?void 0:s.email)),v=s?{avatar_skin_tone:s.avatar_skin_tone||"medium",avatar_hair_style:s.avatar_hair_style||"short",avatar_hair_color:s.avatar_hair_color||"brown",avatar_eyes:s.avatar_eyes||"normal",avatar_outfit:s.avatar_outfit||"casual",avatar_accessory:s.avatar_accessory||"none"}:null,w=s==null?void 0:s.active_pet,x=w?{id:w,name:"Pet",emoji:w==="dragon"?"":w==="owl"?"":w==="fox"?"":"",gradient:w==="dragon"?"from-red-400 to-orange-500":w==="owl"?"from-indigo-400 to-purple-500":w==="fox"?"from-orange-400 to-red-500":"from-pink-400 to-purple-500",evolveLevel:5}:null,g=(s==null?void 0:s.subscription_tier)||"free",_=g!=="free",T=()=>{const C=Zg(Mt);Z9(C)},P=({to:C,icon:E,label:j,badge:O,badgeColor:R="red",isDarkMode:L})=>{const $=r.pathname===Ge(C);return a.jsxs(Kt,{to:Ge(C),onClick:()=>i(!1),className:`relative flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${$?"bg-purple-500 text-white shadow-lg":L?"text-gray-300 hover:bg-slate-700":"text-gray-600 hover:bg-purple-50"}`,children:[a.jsx(E,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:j}),O&&a.jsx(je,{className:`absolute -top-1 -right-1 bg-${R}-500 text-white text-xs px-1.5 py-0.5 ${R==="red"?"animate-pulse":""}`,children:O})]})};return a.jsxs("div",{className:`min-h-screen ${l?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50"}`,children:[a.jsx("style",{children:`
        :root {
          --primary: 168 85% 55%;
          --secondary: 280 65% 60%;
          --accent: 45 95% 55%;
          --success: 142 76% 45%;
        }

        @media all and (display-mode: standalone) {
          body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
          }
        }

        ${l?`
          * {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
          }

          *::-webkit-scrollbar {
            width: 8px;
          }

          *::-webkit-scrollbar-track {
            background: #1e293b;
          }

          *::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
          }

          *::-webkit-scrollbar-thumb:hover {
            background: #64748b;
          }
        `:""}
      `}),a.jsx("header",{className:`${l?"bg-slate-800/90":"bg-white/80"} backdrop-blur-md shadow-sm sticky top-0 z-50`,children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Kt,{to:Ge("Home"),className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center transform rotate-12 shadow-lg",children:a.jsx("span",{className:"text-2xl transform -rotate-12",children:""})}),a.jsx("div",{children:a.jsx("h1",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${l&&"from-purple-400 to-pink-400"}`,children:"Math Adventure"})})]}),a.jsxs("nav",{className:"hidden lg:flex items-center gap-2",children:[a.jsx(P,{to:"Home",icon:ib,label:"Home",isDarkMode:l}),a.jsx(P,{to:"DailyChallenge",icon:Hr,label:"Daily",badge:p?null:"!",isDarkMode:l}),a.jsx(P,{to:"Progress",icon:It,label:"Progress",isDarkMode:l}),a.jsx(P,{to:"AITutor",icon:yn,label:"AI Tutor",isDarkMode:l}),a.jsx(P,{to:"Messages",icon:Cf,label:"Messages",badge:c>0?c:null,badgeColor:"blue",isDarkMode:l}),a.jsx(P,{to:"Shop",icon:il,label:"Shop",isDarkMode:l}),a.jsx(P,{to:"ParentPortal",icon:qN,label:"Parents",badge:s!=null&&s.is_parent_mode?"ON":null,badgeColor:"blue",isDarkMode:l})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[s&&a.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white px-3 py-2 rounded-xl shadow-md",children:[a.jsx(Kc,{className:"w-4 h-4"}),a.jsx("span",{className:"font-bold text-sm",children:s.coins||0})]}),s&&a.jsx(le,{variant:"outline",onClick:T,className:"hidden md:inline-flex",children:"Sign out"}),g!=="free"?a.jsx("button",{onClick:()=>window.open(Ge("Subscription"),"_blank","noopener,noreferrer"),className:"hidden md:block",children:a.jsxs(je,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 px-3 py-1.5 cursor-pointer",children:[a.jsx(Si,{className:"w-3 h-3 mr-1"}),g==="family_teacher"?"Family":g==="premium_player"?"Premium":"Parent"]})}):a.jsx("button",{onClick:()=>window.open(Ge("Subscription"),"_blank","noopener,noreferrer"),className:"hidden md:block",children:a.jsxs(je,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 px-3 py-1.5 cursor-pointer animate-pulse",children:[a.jsx(Si,{className:"w-3 h-3 mr-1"}),"Upgrade"]})}),s&&a.jsx("div",{className:"hidden lg:block",children:a.jsxs(Abe,{children:[a.jsx(Cbe,{asChild:!0,children:a.jsx(le,{variant:"ghost",className:`${l?"hover:bg-slate-700 text-gray-50":"hover:bg-purple-50 text-gray-900"} h-auto p-2`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[v&&a.jsx("div",{className:"scale-75 origin-center",children:a.jsx(Cd,{avatarData:v,size:"small"})}),x&&a.jsx("div",{className:"scale-50 origin-center -ml-2",children:a.jsx(pO,{pet:x,experience:((A=s==null?void 0:s.pet_experience)==null?void 0:A[w])||0,size:"small"})})]}),a.jsxs("div",{className:"text-left hidden xl:block",children:[a.jsx("p",{className:`text-sm font-semibold ${l?"text-gray-50":"text-gray-900"}`,children:s.full_name||"Player"}),a.jsx("p",{className:`text-xs ${l?"text-gray-300":"text-gray-500"}`,children:s.email})]}),a.jsx(BI,{className:`w-4 h-4 ${l?"text-gray-300":"text-gray-500"}`})]})})}),a.jsxs(qG,{align:"end",className:`${l?"bg-slate-800 border-slate-700 text-gray-50":"bg-white"} w-56`,children:[a.jsx(UG,{children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:`text-sm font-medium ${l?"text-gray-50":"text-gray-900"}`,children:s.full_name||"Player"}),a.jsx("p",{className:`text-xs ${l?"text-gray-300":"text-gray-500"}`,children:s.email})]})}),a.jsx(lb,{className:l?"bg-slate-700":""}),a.jsx(Qa,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Kt,{to:Ge("Avatar"),className:"cursor-pointer",children:[a.jsx(kf,{className:"w-4 h-4 mr-2"}),"View Profile"]})}),a.jsx(Qa,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Kt,{to:Ge("Messages"),className:"cursor-pointer",children:[a.jsx(Cf,{className:"w-4 h-4 mr-2"}),"Messages",c>0&&a.jsx(je,{className:"ml-auto bg-blue-500 text-white text-xs",children:c})]})}),a.jsx(Qa,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Kt,{to:Ge("Progress"),className:"cursor-pointer",children:[a.jsx(rm,{className:"w-4 h-4 mr-2"}),"Progress & Stats"]})}),a.jsx(Qa,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Kt,{to:Ge("Shop"),className:"cursor-pointer",children:[a.jsx(il,{className:"w-4 h-4 mr-2"}),"Rewards Shop"]})}),a.jsx(Qa,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Kt,{to:Ge("ParentPortal"),className:"cursor-pointer",children:[a.jsx(qN,{className:"w-4 h-4 mr-2"}),"Parent Portal",(s==null?void 0:s.is_parent_mode)&&a.jsx(je,{className:"ml-2 bg-blue-500 text-white text-xs",children:"ON"})]})}),a.jsx(lb,{className:l?"bg-slate-700":""}),a.jsx(Qa,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Kt,{to:Ge("Settings"),className:"cursor-pointer",children:[a.jsx(uy,{className:"w-4 h-4 mr-2"}),"App Settings"]})}),a.jsx(Qa,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Kt,{to:Ge("Subscription"),className:"cursor-pointer",children:[a.jsx(F1,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})}),_&&(s==null?void 0:s.subscription_auto_renew)!==!1&&a.jsx(Qa,{asChild:!0,className:l?"focus:bg-slate-700":"",children:a.jsxs(Kt,{to:Ge("Subscription"),className:"cursor-pointer text-orange-600 focus:text-orange-600",children:[a.jsx(zd,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})}),a.jsx(lb,{className:l?"bg-slate-700":""}),a.jsxs(Qa,{onClick:T,className:`${l?"text-red-400 focus:bg-slate-700 focus:text-red-400":"text-red-600 focus:text-red-600"} cursor-pointer`,children:[a.jsx(OD,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),a.jsx(le,{variant:"ghost",size:"icon",onClick:()=>i(!n),className:`lg:hidden ${l?"text-gray-50 hover:bg-slate-700":""}`,children:n?a.jsx(An,{className:"w-6 h-6"}):a.jsx(ype,{className:"w-6 h-6"})})]})]}),n&&a.jsxs("div",{className:`lg:hidden mt-4 pb-4 space-y-2 border-t pt-4 ${l?"border-slate-700":""}`,children:[s&&a.jsxs("div",{className:`${l?"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-50":"bg-gradient-to-r from-purple-50 to-pink-50"} p-4 rounded-xl mb-4`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[v&&a.jsx("div",{className:"scale-90 origin-center",children:a.jsx(Cd,{avatarData:v,size:"small"})}),a.jsxs("div",{children:[a.jsx("p",{className:`font-bold ${l?"text-gray-50":"text-gray-900"}`,children:s.full_name||"Player"}),a.jsx("p",{className:`text-sm ${l?"text-gray-300":"text-gray-600"}`,children:s.email})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(je,{className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white",children:[a.jsx(Kc,{className:"w-3 h-3 mr-1"}),s.coins||0," Coins"]}),g!=="free"&&a.jsxs(je,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white",children:[a.jsx(Si,{className:"w-3 h-3 mr-1"}),g==="family_teacher"?"Family":g==="premium_player"?"Premium":"Parent"]})]})]}),a.jsx(P,{to:"Home",icon:ib,label:"Home",isDarkMode:l}),a.jsx(P,{to:"DailyChallenge",icon:Hr,label:"Daily Challenge",badge:p?null:"!",isDarkMode:l}),a.jsx(P,{to:"Progress",icon:It,label:"Progress",isDarkMode:l}),a.jsx(P,{to:"AITutor",icon:yn,label:"AI Tutor",isDarkMode:l}),a.jsx(P,{to:"Messages",icon:Cf,label:"Messages",badge:c>0?c:null,badgeColor:"blue",isDarkMode:l}),a.jsx(P,{to:"Leaderboards",icon:Qn,label:"Leaderboards",isDarkMode:l}),a.jsx(P,{to:"Shop",icon:il,label:"Shop",isDarkMode:l}),a.jsx(P,{to:"TeamChallenges",icon:bn,label:"Team Challenges",isDarkMode:l}),a.jsx(P,{to:"ParentPortal",icon:qN,label:"Parent Portal",badge:s!=null&&s.is_parent_mode?"ON":null,badgeColor:"blue",isDarkMode:l}),a.jsx(P,{to:"Avatar",icon:kf,label:"Profile",isDarkMode:l}),a.jsx("div",{className:`pt-2 mt-2 border-t ${l?"border-slate-700":""}`,children:a.jsx(Kt,{to:Ge("Settings"),onClick:()=>i(!1),children:a.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${l?"bg-gradient-to-r from-gray-700 to-gray-800 text-gray-50 hover:bg-gray-700":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[a.jsx(uy,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"App Settings"})]})})}),a.jsx("div",{className:`pt-2 border-t ${l?"border-slate-700":""}`,children:a.jsx(Kt,{to:Ge("GenerateIcons"),onClick:()=>i(!1),children:a.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 text-white ${l?"hover:from-blue-600 hover:to-cyan-600":""}`,children:[a.jsx(Xt,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Generate PWA Icons"}),a.jsx(je,{className:"bg-green-400 text-white text-xs",children:"New!"})]})})}),a.jsx("div",{className:`pt-2 border-t ${l?"border-slate-700":""}`,children:a.jsx("button",{onClick:()=>{i(!1),window.open(Ge("Subscription"),"_blank","noopener,noreferrer")},className:"w-full",children:a.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${g!=="free"?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-purple-500 to-pink-500 text-white animate-pulse"}`,children:[a.jsx(Si,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:g!=="free"?"Manage Subscription":"Upgrade to Premium"})]})})}),s&&a.jsx("div",{className:`pt-2 border-t ${l?"border-slate-700":""}`,children:a.jsxs("button",{onClick:()=>{i(!1),T()},className:`w-full flex items-center gap-2 px-4 py-3 rounded-xl ${l?"bg-red-900/20 text-red-400 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[a.jsx(OD,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]})}),a.jsx("div",{className:`lg:hidden fixed bottom-0 left-0 right-0 ${l?"bg-slate-800/90 border-slate-700":"bg-white/90 border-t"} backdrop-blur-md shadow-lg z-40`,children:a.jsxs("div",{className:"grid grid-cols-5 gap-1 px-2 py-2",children:[a.jsxs(Kt,{to:Ge("Home"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===Ge("Home")?"bg-purple-500 text-white":l?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[a.jsx(ib,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),a.jsxs(Kt,{to:Ge("DailyChallenge"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===Ge("DailyChallenge")?"bg-purple-500 text-white":l?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[a.jsx(Hr,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Daily"}),!p&&a.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),a.jsxs(Kt,{to:Ge("AITutor"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===Ge("AITutor")?"bg-purple-500 text-white":l?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[a.jsx(yn,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Tutor"})]}),a.jsxs(Kt,{to:Ge("Shop"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===Ge("Shop")?"bg-purple-500 text-white":l?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[a.jsx(il,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Shop"})]}),a.jsxs(Kt,{to:Ge("Avatar"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===Ge("Avatar")?"bg-purple-500 text-white":l?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[v?a.jsx("div",{className:"scale-50 origin-center -my-2",children:a.jsx(Cd,{avatarData:v,size:"small"})}):a.jsx(kf,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs font-medium",children:"Profile"})]})]})}),a.jsx(PNe,{}),a.jsx("main",{className:"flex-1 pb-20 lg:pb-0",children:t}),a.jsx("footer",{className:`${l?"bg-slate-800/60 border-slate-700":"bg-white/60 border-gray-200"} backdrop-blur-sm mt-12 py-8 border-t`,children:a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"text-center md:text-left",children:[a.jsx("p",{className:`text-sm ${l?"text-gray-300":"text-gray-600"}`,children:"Keep practicing and have fun! "}),a.jsx("p",{className:`text-xs ${l?"text-gray-400":"text-gray-500"} mt-1`,children:" 2025 Math Adventure. All rights reserved."})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[a.jsx(Kt,{to:Ge("PrivacyPolicy"),className:`text-sm ${l?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Privacy Policy"}),a.jsx("span",{className:l?"text-gray-600":"text-gray-300",children:""}),a.jsx(Kt,{to:Ge("Subscription"),className:`text-sm ${l?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Pricing"}),a.jsx("span",{className:l?"text-gray-600":"text-gray-300",children:""}),a.jsx("a",{href:"mailto:support@math-adventure.com",className:`text-sm ${l?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Contact"})]})]})})})]})}function RSe(){var l,c,d;const t=hr(Ki(new Date),"yyyy-MM-dd"),{data:e}=ft({queryKey:["currentUser"],queryFn:async()=>(or(Mt),null)}),{data:r=[]}=ft({queryKey:["dailyChallenges",t],queryFn:async()=>{const f=or(Mt),m=Ta(In(f,"dailyChallenges"),li("challenge_date","==",t));return(await Ii(m)).docs.map(v=>v.data())},initialData:[]}),{data:n=[]}=ft({queryKey:["userDailyChallenges"],queryFn:async()=>{const f=or(Mt);if(!(e!=null&&e.email))return[];const m=Ta(In(f,"dailyChallenges"),li("created_by","==",e.email));return(await Ii(m)).docs.map(v=>v.data())},initialData:[],enabled:!!e}),i=r.some(f=>f.created_by===(e==null?void 0:e.email)),o=(()=>{if(n.length===0)return 0;const f=[...n].sort((v,w)=>new Date(w.challenge_date)-new Date(v.challenge_date));let m=0,p=Ki(new Date);for(const v of f){const w=Ki(new Date(v.challenge_date));if(Math.floor((p-w)/(1e3*60*60*24))===m)m++;else break}return m})();return a.jsxs(re,{className:"border-4 border-purple-300 shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 p-6 text-white",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(Hr,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold",children:"Daily Challenge"}),a.jsx("p",{className:"text-sm opacity-90",children:hr(new Date,"MMMM d, yyyy")})]})]}),i?a.jsxs(je,{className:"bg-green-500 text-white",children:[a.jsx(Wt,{className:"w-4 h-4 mr-1"}),"Done"]}):a.jsx(je,{className:"bg-white text-purple-600 font-bold",children:"New!"})]}),o>0&&a.jsxs("div",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 w-fit",children:[a.jsx(ff,{className:"w-5 h-5 text-orange-300"}),a.jsxs("span",{className:"font-bold",children:[o," Day Streak!"]})]})]}),a.jsx(ne,{className:"p-6 space-y-4",children:i?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"text-5xl mb-3",children:""}),a.jsx("p",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Challenge Completed!"}),a.jsxs("p",{className:"text-gray-600",children:["You've earned ",((l=r.find(f=>f.created_by===(e==null?void 0:e.email)))==null?void 0:l.bonus_stars)||0," bonus stars today"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-purple-50 p-3 rounded-xl text-center",children:[a.jsx(It,{className:"w-6 h-6 mx-auto mb-1 text-purple-500"}),a.jsx("div",{className:"font-bold text-lg",children:(c=r.find(f=>f.created_by===(e==null?void 0:e.email)))==null?void 0:c.score}),a.jsx("div",{className:"text-xs text-gray-600",children:"Your Score"})]}),a.jsxs("div",{className:"bg-blue-50 p-3 rounded-xl text-center",children:[a.jsx(_r,{className:"w-6 h-6 mx-auto mb-1 text-blue-500"}),a.jsxs("div",{className:"font-bold text-lg",children:[(d=r.find(f=>f.created_by===(e==null?void 0:e.email)))==null?void 0:d.time_taken,"s"]}),a.jsx("div",{className:"text-xs text-gray-600",children:"Your Time"})]})]}),a.jsx(Kt,{to:Ge("DailyChallenge"),children:a.jsx(le,{variant:"outline",className:"w-full",children:"View Leaderboard"})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Questions"}),a.jsx("span",{className:"font-bold",children:"15 Mixed Problems"})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Bonus Rewards"}),a.jsx("span",{className:"font-bold",children:"Up to 3 Stars "})]}),o>=3&&a.jsxs("div",{className:"flex items-center justify-between text-sm bg-orange-50 p-2 rounded-lg",children:[a.jsx("span",{className:"text-gray-600",children:"Streak Bonus"}),a.jsx("span",{className:"font-bold text-orange-600",children:"+1 Extra Star "})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Players Today"}),a.jsx("span",{className:"font-bold",children:r.length})]})]}),a.jsx(Kt,{to:Ge("DailyChallenge"),children:a.jsx(le,{className:"w-full h-12 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 shadow-lg",children:"Start Challenge"})})]})})]})}const vS=[{id:"counting",name:"Counting",icon:xi,color:"from-green-400 to-emerald-500",emoji:"",grades:["K","1"],description:"Count and recognize numbers",category:"basics"},{id:"skip_counting_2s",name:"Skip Count by 2s",icon:Wn,color:"from-blue-400 to-cyan-500",emoji:"",grades:["K","1","2"],description:"Count by twos",category:"basics"},{id:"skip_counting_5s",name:"Skip Count by 5s",icon:Wn,color:"from-green-400 to-teal-500",emoji:"",grades:["K","1","2"],description:"Count by fives",category:"basics"},{id:"skip_counting_10s",name:"Skip Count by 10s",icon:Wn,color:"from-purple-400 to-pink-500",emoji:"",grades:["K","1","2"],description:"Count by tens",category:"basics"},{id:"even_odd",name:"Even & Odd Numbers",icon:BN,color:"from-indigo-400 to-blue-500",emoji:"",grades:["1","2","3"],description:"Identify even and odd",category:"basics"},{id:"number_comparison",name:"Comparing Numbers",icon:gr,color:"from-blue-400 to-cyan-500",emoji:"",grades:["K","1","2"],description:"Greater than, less than, equal to",category:"basics"},{id:"ordering_numbers",name:"Ordering Numbers",icon:gr,color:"from-cyan-400 to-blue-500",emoji:"",grades:["1","2","3"],description:"Put numbers in order",category:"basics"},{id:"place_value",name:"Place Value",icon:xi,color:"from-purple-400 to-indigo-500",emoji:"",grades:["1","2","3","4"],description:"Ones, tens, hundreds",category:"basics"},{id:"place_value_thousands",name:"Place Value (Thousands)",icon:xi,color:"from-indigo-400 to-purple-500",emoji:"",grades:["3","4","5"],description:"Up to thousands place",category:"basics"},{id:"number_bonds",name:"Number Bonds",icon:Wn,color:"from-pink-400 to-rose-500",emoji:"",grades:["K","1","2"],description:"Part-part-whole relationships",category:"basics"},{id:"fact_families",name:"Fact Families",icon:bn,color:"from-orange-400 to-red-500",emoji:"",grades:["1","2","3"],description:"Related addition & subtraction",category:"basics"},{id:"patterns",name:"Patterns & Sequences",icon:Wn,color:"from-yellow-400 to-orange-500",emoji:"",grades:["1","2","3","4"],description:"Identify and complete patterns",category:"basics"},{id:"rounding",name:"Rounding",icon:Jt,color:"from-red-400 to-pink-500",emoji:"",grades:["2","3","4","5"],description:"Round to nearest 10, 100, 1000",category:"basics"},{id:"estimation",name:"Estimation",icon:Jt,color:"from-amber-400 to-orange-500",emoji:"",grades:["2","3","4","5"],description:"Estimate sums and products",category:"basics"},{id:"roman_numerals",name:"Roman Numerals",icon:Bs,color:"from-purple-400 to-indigo-500",emoji:"",grades:["3","4","5"],description:"Read and write Roman numerals",category:"basics"},{id:"expanded_form",name:"Expanded Form",icon:xi,color:"from-teal-400 to-cyan-500",emoji:"",grades:["2","3","4"],description:"Write numbers in expanded form",category:"basics"},{id:"standard_form",name:"Standard Form",icon:xi,color:"from-blue-400 to-indigo-500",emoji:"",grades:["2","3","4"],description:"Write numbers in standard form",category:"basics"},{id:"word_form",name:"Word Form Numbers",icon:Bs,color:"from-green-400 to-emerald-500",emoji:"",grades:["2","3","4"],description:"Write numbers as words",category:"basics"},{id:"greater_less_symbols",name:"Greater/Less Symbols",icon:gr,color:"from-cyan-400 to-blue-500",emoji:"",grades:["K","1","2"],description:"Use >, <, = symbols",category:"basics"},{id:"number_lines",name:"Number Lines",icon:gr,color:"from-purple-400 to-pink-500",emoji:"",grades:["1","2","3"],description:"Use and interpret number lines",category:"basics"},{id:"addition",name:"Addition",icon:qn,color:"from-green-400 to-emerald-500",emoji:"",grades:["K","1","2","3","4"],description:"Learn to add numbers",category:"core"},{id:"addition_single_digit",name:"Single-Digit Addition",icon:qn,color:"from-green-300 to-emerald-400",emoji:"",grades:["K","1"],description:"Add numbers 0-10",category:"core"},{id:"addition_double_digit",name:"Two-Digit Addition",icon:qn,color:"from-green-400 to-teal-500",emoji:"",grades:["1","2","3"],description:"Add two-digit numbers",category:"core"},{id:"addition_triple_digit",name:"Three-Digit Addition",icon:qn,color:"from-green-500 to-emerald-600",emoji:"",grades:["2","3","4"],description:"Add three-digit numbers",category:"core"},{id:"addition_regrouping",name:"Addition with Regrouping",icon:qn,color:"from-teal-400 to-cyan-500",emoji:"",grades:["2","3","4"],description:"Add with carrying",category:"core"},{id:"missing_addends",name:"Missing Addends",icon:qn,color:"from-cyan-400 to-blue-500",emoji:"",grades:["1","2","3"],description:"Find the missing number",category:"core"},{id:"subtraction",name:"Subtraction",icon:Ac,color:"from-blue-400 to-cyan-500",emoji:"",grades:["K","1","2","3","4"],description:"Practice subtraction",category:"core"},{id:"subtraction_single_digit",name:"Single-Digit Subtraction",icon:Ac,color:"from-blue-300 to-cyan-400",emoji:"",grades:["K","1"],description:"Subtract numbers 0-10",category:"core"},{id:"subtraction_double_digit",name:"Two-Digit Subtraction",icon:Ac,color:"from-blue-400 to-indigo-500",emoji:"",grades:["1","2","3"],description:"Subtract two-digit numbers",category:"core"},{id:"subtraction_regrouping",name:"Subtraction with Regrouping",icon:Ac,color:"from-indigo-400 to-purple-500",emoji:"",grades:["2","3","4"],description:"Subtract with borrowing",category:"core"},{id:"multiplication",name:"Multiplication",icon:An,color:"from-purple-400 to-pink-500",emoji:"",grades:["2","3","4","5"],description:"Master times tables",category:"core"},{id:"multiplication_tables_2_5",name:"Times Tables (2, 5, 10)",icon:An,color:"from-purple-300 to-pink-400",emoji:"",grades:["2","3"],description:"Learn easy times tables",category:"core"},{id:"multiplication_tables_3_4",name:"Times Tables (3, 4, 6)",icon:An,color:"from-pink-400 to-rose-500",emoji:"",grades:["3","4"],description:"Medium difficulty tables",category:"core"},{id:"multiplication_tables_7_9",name:"Times Tables (7, 8, 9)",icon:An,color:"from-rose-400 to-red-500",emoji:"",grades:["3","4","5"],description:"Challenging times tables",category:"core"},{id:"multiplication_double_digit",name:"Two-Digit Multiplication",icon:An,color:"from-purple-500 to-indigo-600",emoji:"",grades:["4","5","6"],description:"Multiply larger numbers",category:"core"},{id:"missing_factors",name:"Missing Factors",icon:An,color:"from-indigo-400 to-purple-500",emoji:"",grades:["3","4","5"],description:"Find the missing factor",category:"core"},{id:"division",name:"Division",icon:Ec,color:"from-orange-400 to-red-500",emoji:"",grades:["3","4","5","6"],description:"Divide and conquer",category:"core"},{id:"division_basic",name:"Basic Division",icon:Ec,color:"from-orange-300 to-red-400",emoji:"",grades:["3","4"],description:"Simple division facts",category:"core"},{id:"division_remainders",name:"Division with Remainders",icon:Ec,color:"from-red-400 to-pink-500",emoji:"",grades:["4","5","6"],description:"Division with leftovers",category:"core"},{id:"division_long",name:"Long Division",icon:Ec,color:"from-red-500 to-orange-600",emoji:"",grades:["4","5","6"],description:"Multi-digit division",category:"core"},{id:"order_operations",name:"Order of Operations",icon:Xu,color:"from-blue-400 to-indigo-500",emoji:"",grades:["5","6","7","8"],description:"PEMDAS / BODMAS",category:"core"},{id:"properties_addition",name:"Properties of Addition",icon:qn,color:"from-teal-400 to-cyan-500",emoji:"",grades:["2","3","4"],description:"Commutative, associative",category:"core"},{id:"properties_multiplication",name:"Properties of Multiplication",icon:An,color:"from-purple-400 to-pink-500",emoji:"",grades:["3","4","5"],description:"Commutative, associative, distributive",category:"core"},{id:"distributive_property",name:"Distributive Property",icon:xi,color:"from-indigo-400 to-purple-500",emoji:"",grades:["4","5","6"],description:"Break apart multiplication",category:"core"},{id:"mental_math_strategies",name:"Mental Math Strategies",icon:yn,color:"from-yellow-400 to-orange-500",emoji:"",grades:["2","3","4","5"],description:"Quick calculation tricks",category:"core"},{id:"powers_of_10",name:"Powers of 10",icon:Wn,color:"from-blue-400 to-purple-500",emoji:"",grades:["4","5","6"],description:"Multiply and divide by 10, 100, 1000",category:"core"},{id:"multiples",name:"Multiples",icon:xi,color:"from-green-400 to-teal-500",emoji:"",grades:["3","4","5"],description:"Identify multiples of numbers",category:"core"},{id:"divisibility_rules",name:"Divisibility Rules",icon:Ec,color:"from-orange-400 to-red-500",emoji:"",grades:["4","5","6"],description:"Quick divisibility checks",category:"core"},{id:"factors_multiples",name:"Factors & Multiples",icon:xi,color:"from-indigo-400 to-purple-500",emoji:"",grades:["4","5","6"],description:"Find factors and multiples",category:"advanced"},{id:"gcf",name:"Greatest Common Factor",icon:xi,color:"from-purple-400 to-indigo-500",emoji:"",grades:["5","6","7"],description:"Find GCF of numbers",category:"advanced"},{id:"lcm",name:"Least Common Multiple",icon:xi,color:"from-indigo-400 to-blue-500",emoji:"",grades:["5","6","7"],description:"Find LCM of numbers",category:"advanced"},{id:"prime_composite",name:"Prime & Composite",icon:Tt,color:"from-green-400 to-teal-500",emoji:"",grades:["4","5","6"],description:"Identify prime numbers",category:"advanced"},{id:"prime_factorization",name:"Prime Factorization",icon:Tt,color:"from-teal-400 to-cyan-500",emoji:"",grades:["5","6","7"],description:"Break numbers into prime factors",category:"advanced"},{id:"fractions",name:"Fractions",icon:Xh,color:"from-pink-400 to-rose-500",emoji:"",grades:["3","4","5","6"],description:"Work with fractions",category:"advanced"},{id:"fractions_equivalent",name:"Equivalent Fractions",icon:Xh,color:"from-rose-400 to-pink-500",emoji:"",grades:["3","4","5"],description:"Find equivalent fractions",category:"advanced"},{id:"fractions_simplify",name:"Simplifying Fractions",icon:Xh,color:"from-pink-400 to-purple-500",emoji:"",grades:["4","5","6"],description:"Reduce fractions to lowest terms",category:"advanced"},{id:"fractions_compare",name:"Comparing Fractions",icon:gr,color:"from-purple-400 to-pink-500",emoji:"",grades:["3","4","5"],description:"Compare and order fractions",category:"advanced"},{id:"fractions_add_subtract",name:"Adding/Subtracting Fractions",icon:qn,color:"from-pink-400 to-rose-500",emoji:"",grades:["4","5","6"],description:"Add and subtract fractions",category:"advanced"},{id:"fractions_multiply_divide",name:"Multiplying/Dividing Fractions",icon:An,color:"from-rose-400 to-red-500",emoji:"",grades:["5","6","7"],description:"Multiply and divide fractions",category:"advanced"},{id:"mixed_numbers",name:"Mixed Numbers",icon:Xh,color:"from-purple-400 to-indigo-500",emoji:"",grades:["4","5","6"],description:"Work with mixed numbers",category:"advanced"},{id:"decimals",name:"Decimals",icon:eg,color:"from-teal-400 to-cyan-500",emoji:"0.5",grades:["4","5","6","7"],description:"Understand decimals",category:"advanced"},{id:"decimals_place_value",name:"Decimal Place Value",icon:xi,color:"from-cyan-400 to-blue-500",emoji:"",grades:["4","5"],description:"Tenths, hundredths, thousandths",category:"advanced"},{id:"decimals_compare",name:"Comparing Decimals",icon:gr,color:"from-blue-400 to-indigo-500",emoji:"",grades:["4","5","6"],description:"Compare and order decimals",category:"advanced"},{id:"decimals_operations",name:"Decimal Operations",icon:Xu,color:"from-teal-500 to-cyan-600",emoji:"",grades:["5","6","7"],description:"Add, subtract, multiply, divide",category:"advanced"},{id:"percentages",name:"Percentages",icon:Xh,color:"from-indigo-400 to-purple-500",emoji:"%",grades:["5","6","7","8"],description:"Calculate percentages",category:"advanced"},{id:"percent_of_number",name:"Percent of a Number",icon:Xh,color:"from-purple-400 to-pink-500",emoji:"%",grades:["6","7","8"],description:"Find percentage of numbers",category:"advanced"},{id:"percent_increase_decrease",name:"Percent Change",icon:gr,color:"from-pink-400 to-rose-500",emoji:"",grades:["6","7","8"],description:"Calculate percent increase/decrease",category:"advanced"},{id:"ratios",name:"Ratios & Proportions",icon:gr,color:"from-orange-400 to-red-500",emoji:"",grades:["6","7","8"],description:"Compare quantities",category:"advanced"},{id:"integers",name:"Integers",icon:BN,color:"from-gray-400 to-slate-500",emoji:"",grades:["6","7","8"],description:"Positive & negative numbers",category:"advanced"},{id:"absolute_value",name:"Absolute Value",icon:BN,color:"from-slate-400 to-gray-500",emoji:"||",grades:["6","7","8"],description:"Distance from zero",category:"advanced"},{id:"exponents",name:"Exponents",icon:gr,color:"from-purple-400 to-pink-500",emoji:"",grades:["6","7","8"],description:"Powers and square roots",category:"advanced"},{id:"scientific_notation",name:"Scientific Notation",icon:Wn,color:"from-blue-400 to-indigo-500",emoji:"",grades:["7","8"],description:"Express very large/small numbers",category:"advanced"},{id:"word_problems",name:"Word Problems",icon:Bs,color:"from-amber-400 to-yellow-500",emoji:"",grades:["2","3","4","5","6"],description:"Solve real-world problems",category:"applied"},{id:"word_problems_addition",name:"Addition Word Problems",icon:qn,color:"from-green-400 to-teal-500",emoji:"",grades:["1","2","3"],description:"Story problems with addition",category:"applied"},{id:"word_problems_subtraction",name:"Subtraction Word Problems",icon:Ac,color:"from-blue-400 to-cyan-500",emoji:"",grades:["1","2","3"],description:"Story problems with subtraction",category:"applied"},{id:"word_problems_multiplication",name:"Multiplication Word Problems",icon:An,color:"from-purple-400 to-pink-500",emoji:"",grades:["3","4","5"],description:"Story problems with multiplication",category:"applied"},{id:"word_problems_multi_step",name:"Multi-Step Word Problems",icon:Bs,color:"from-orange-400 to-red-500",emoji:"",grades:["4","5","6","7"],description:"Complex story problems",category:"applied"},{id:"money",name:"Money Math",icon:eg,color:"from-green-500 to-emerald-600",emoji:"",grades:["1","2","3","4","5"],description:"Count coins and bills",category:"applied"},{id:"money_counting",name:"Counting Money",icon:eg,color:"from-emerald-400 to-green-500",emoji:"",grades:["1","2","3"],description:"Count and compare money",category:"applied"},{id:"money_change",name:"Making Change",icon:eg,color:"from-green-500 to-teal-600",emoji:"",grades:["2","3","4"],description:"Calculate change from purchases",category:"applied"},{id:"money_decimals",name:"Money with Decimals",icon:eg,color:"from-teal-400 to-cyan-500",emoji:"",grades:["3","4","5"],description:"Work with dollars and cents",category:"applied"},{id:"time",name:"Time",icon:_r,color:"from-sky-400 to-blue-500",emoji:"",grades:["1","2","3","4"],description:"Read clocks and calendars",category:"applied"},{id:"time_telling",name:"Telling Time",icon:_r,color:"from-blue-400 to-indigo-500",emoji:"",grades:["1","2","3"],description:"Read analog and digital clocks",category:"applied"},{id:"time_elapsed",name:"Elapsed Time",icon:_r,color:"from-indigo-400 to-purple-500",emoji:"",grades:["3","4","5"],description:"Calculate time intervals",category:"applied"},{id:"time_calendar",name:"Calendar Math",icon:Hr,color:"from-purple-400 to-pink-500",emoji:"",grades:["2","3","4"],description:"Days, weeks, months, years",category:"applied"},{id:"measurement",name:"Measurement",icon:gr,color:"from-lime-400 to-green-500",emoji:"",grades:["2","3","4","5","6"],description:"Length, weight, volume",category:"applied"},{id:"measurement_length",name:"Measuring Length",icon:gr,color:"from-green-400 to-teal-500",emoji:"",grades:["2","3","4"],description:"Inches, feet, yards, miles",category:"applied"},{id:"measurement_metric",name:"Metric Measurement",icon:gr,color:"from-teal-400 to-cyan-500",emoji:"",grades:["3","4","5"],description:"Meters, liters, grams",category:"applied"},{id:"measurement_conversions",name:"Unit Conversions",icon:gr,color:"from-cyan-400 to-blue-500",emoji:"",grades:["4","5","6"],description:"Convert between units",category:"applied"},{id:"temperature",name:"Temperature",icon:gr,color:"from-red-400 to-orange-500",emoji:"",grades:["3","4","5"],description:"Fahrenheit and Celsius",category:"applied"},{id:"geometry",name:"Geometry",icon:pc,color:"from-violet-400 to-purple-500",emoji:"",grades:["3","4","5","6","7"],description:"Shapes and measurements",category:"applied"},{id:"geometry_shapes",name:"2D Shapes",icon:pc,color:"from-purple-400 to-indigo-500",emoji:"",grades:["K","1","2","3"],description:"Identify and classify shapes",category:"applied"},{id:"geometry_3d",name:"3D Shapes",icon:pc,color:"from-indigo-400 to-blue-500",emoji:"",grades:["2","3","4","5"],description:"Cubes, spheres, pyramids",category:"applied"},{id:"area_perimeter",name:"Area & Perimeter",icon:xi,color:"from-cyan-400 to-blue-500",emoji:"",grades:["3","4","5","6"],description:"Calculate area & perimeter",category:"applied"},{id:"volume",name:"Volume",icon:pc,color:"from-blue-400 to-indigo-500",emoji:"",grades:["5","6","7"],description:"Calculate volume of 3D shapes",category:"applied"},{id:"surface_area",name:"Surface Area",icon:pc,color:"from-indigo-400 to-purple-500",emoji:"",grades:["6","7","8"],description:"Calculate surface area",category:"applied"},{id:"angles",name:"Angles",icon:pc,color:"from-pink-400 to-rose-500",emoji:"",grades:["4","5","6","7"],description:"Measure and identify angles",category:"applied"},{id:"circles",name:"Circles",icon:pc,color:"from-rose-400 to-pink-500",emoji:"",grades:["5","6","7"],description:"Radius, diameter, circumference",category:"applied"},{id:"pythagorean",name:"Pythagorean Theorem",icon:pc,color:"from-purple-400 to-indigo-500",emoji:"",grades:["7","8"],description:"Right triangle calculations",category:"applied"},{id:"coordinates",name:"Coordinate Plane",icon:xi,color:"from-blue-400 to-purple-500",emoji:"",grades:["5","6","7","8"],description:"Plot points on graphs",category:"applied"},{id:"data_graphs",name:"Data & Graphs",icon:rm,color:"from-green-400 to-teal-500",emoji:"",grades:["3","4","5","6","7"],description:"Read and create charts",category:"applied"},{id:"probability",name:"Probability",icon:Jt,color:"from-red-400 to-orange-500",emoji:"",grades:["5","6","7","8"],description:"Predict outcomes and chances",category:"applied"},{id:"basic_algebra",name:"Basic Algebra",icon:Xu,color:"from-indigo-400 to-blue-500",emoji:"",grades:["6","7","8"],description:"Solve for x, variables",category:"algebra"},{id:"equations",name:"Linear Equations",icon:Xu,color:"from-purple-400 to-indigo-500",emoji:"",grades:["6","7","8"],description:"Solve linear equations",category:"algebra"},{id:"inequalities",name:"Inequalities",icon:gr,color:"from-blue-400 to-cyan-500",emoji:"",grades:["6","7","8"],description:"Solve and graph inequalities",category:"algebra"},{id:"expressions",name:"Algebraic Expressions",icon:Xu,color:"from-cyan-400 to-blue-500",emoji:"",grades:["6","7","8"],description:"Simplify and evaluate expressions",category:"algebra"},{id:"systems_equations",name:"Systems of Equations",icon:xi,color:"from-purple-400 to-pink-500",emoji:"",grades:["7","8"],description:"Solve systems with two variables",category:"algebra"},{id:"polynomials",name:"Polynomials",icon:Xu,color:"from-indigo-400 to-purple-500",emoji:"",grades:["7","8"],description:"Add, subtract, multiply polynomials",category:"algebra"},{id:"factoring",name:"Factoring",icon:xi,color:"from-purple-400 to-indigo-500",emoji:"",grades:["7","8"],description:"Factor polynomials",category:"algebra"},{id:"quadratic",name:"Quadratic Equations",icon:Xu,color:"from-pink-400 to-purple-500",emoji:"",grades:["8"],description:"Solve quadratic equations",category:"algebra"},{id:"mixed",name:"Mixed Practice",icon:yn,color:"from-fuchsia-400 to-pink-500",emoji:"",grades:["3","4","5","6","7","8"],description:"Combine multiple skills",category:"challenge"},{id:"mental_math",name:"Mental Math",icon:yn,color:"from-yellow-400 to-orange-500",emoji:"",grades:["2","3","4","5","6"],description:"Fast calculations",category:"challenge"},{id:"speed_challenge",name:"Speed Challenge",icon:Wn,color:"from-red-400 to-orange-500",emoji:"",grades:["3","4","5","6","7"],description:"Race against the clock",category:"challenge"},{id:"logic_puzzles",name:"Logic Puzzles",icon:yn,color:"from-purple-400 to-indigo-500",emoji:"",grades:["4","5","6","7","8"],description:"Mathematical reasoning",category:"challenge"},{id:"competition_math",name:"Competition Math",icon:It,color:"from-yellow-400 to-orange-500",emoji:"",grades:["5","6","7","8"],description:"Advanced problem solving",category:"challenge"}],MSe=[{id:"easy",name:"Easy",color:"bg-green-500",description:"Perfect for beginners!",grades:["K","1","2"]},{id:"medium",name:"Medium",color:"bg-yellow-500",description:"Getting challenging!",grades:["3","4","5"]},{id:"hard",name:"Hard",color:"bg-red-500",description:"For math champions!",grades:["5","6","7"]},{id:"expert",name:"Expert",color:"bg-purple-500",description:"Master level!",grades:["7","8"]}],LL=({children:t,className:e=""})=>a.jsx("label",{className:`text-sm font-medium ${e}`,children:t});function GA(){const[t,e]=S.useState("all"),[r,n]=S.useState("all"),{data:i=[]}=ft({queryKey:["gameProgress"],queryFn:()=>base44.entities.GameProgress.list(),initialData:[]}),{data:s}=ft({queryKey:["currentUser"]}),{data:o=[]}=ft({queryKey:["myTeamChallenges"],queryFn:async()=>(await base44.entities.TeamChallenge.list()).filter(E=>{var j;return(((j=E.team_members)==null?void 0:j.includes(s.email))||E.creator_email===s.email)&&!E.is_completed}),initialData:[],enabled:!!s}),l=()=>i.reduce((C,E)=>C+(E.stars_earned||0),0),c=(C,E)=>{const j=i.find(O=>O.operation===C&&O.level===E);return(j==null?void 0:j.stars_earned)||0},d=C=>C==="easy"?!0:C==="medium"?i.some(E=>E.level==="easy"&&E.stars_earned>=2):C==="hard"?i.some(E=>E.level==="medium"&&E.stars_earned>=2):C==="expert"?i.some(E=>E.level==="hard"&&E.stars_earned>=3):!1,f=(s==null?void 0:s.parental_controls)||{},m=f.allowed_operations||vS.map(C=>C.id),p=f.allowed_levels||["easy","medium","hard","expert"],v=f.focus_operations||[],w=C=>m.includes(C),x=C=>p.includes(C),g=(s==null?void 0:s.subscription_tier)||"free",_=g!=="free",T=s!=null&&s.subscription_expires_at?new Date(s.subscription_expires_at):null,P=T?Math.ceil((T-new Date)/(1e3*60*60*24)):0,k=vS.filter(C=>!(t!=="all"&&!C.grades.includes(t)||r!=="all"&&C.category!==r)),A=["K","1","2","3","4","5","6","7","8"];return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-block mb-6 animate-bounce",children:a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-2xl",children:a.jsx("span",{className:"text-5xl",children:""})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Welcome to Math Adventure!"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Choose your challenge and start learning!"}),a.jsxs("div",{className:"inline-flex items-center gap-2 bg-white rounded-full px-6 py-3 shadow-lg",children:[a.jsx(Tt,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"}),a.jsx("span",{className:"text-2xl font-bold text-gray-800",children:l()}),a.jsx("span",{className:"text-gray-600",children:"Total Stars"})]})]}),_?a.jsx(re,{className:"mb-8 border-4 border-green-400 shadow-xl bg-gradient-to-r from-green-50 to-emerald-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(Si,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[g==="premium_parent"?"Premium Parent":g==="premium_player"?"Premium Player":"Family/Teacher"," Active"]}),a.jsx(je,{className:"bg-green-500 text-white",children:"Premium"})]}),a.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[a.jsx(Hr,{className:"w-4 h-4"}),T&&`Renews ${hr(T,"MMM d, yyyy")}  ${P} days left`]})]})]}),a.jsxs(le,{onClick:()=>window.open(Ge("Subscription"),"_blank","noopener,noreferrer"),className:"h-12 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600",children:[a.jsx(F1,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})]})})}):a.jsx(re,{className:"mb-8 border-4 border-purple-300 shadow-xl bg-gradient-to-r from-purple-50 to-pink-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(Xt,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Unlock Premium Features!"}),a.jsx("p",{className:"text-gray-600",children:"Get unlimited access, exclusive content, and advanced controls"})]})]}),a.jsxs(le,{onClick:()=>window.open(Ge("Subscription"),"_blank","noopener,noreferrer"),className:"h-12 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 animate-pulse",children:[a.jsx(Si,{className:"w-5 h-5 mr-2"}),"Upgrade Now"]})]})})}),v.length>0&&a.jsxs(ze,{className:"mb-8 bg-purple-50 border-purple-300",children:[a.jsx(qm,{className:"w-4 h-4 text-purple-600"}),a.jsxs(We,{className:"text-purple-800",children:[a.jsx("strong",{children:"Practice Recommendation:"})," Your parent suggests focusing on"," ",v.map((C,E)=>{var j;return a.jsxs("span",{children:[a.jsx("strong",{children:((j=vS.find(O=>O.id===C))==null?void 0:j.name)||C}),E<v.length-1&&(E===v.length-2?" and ":", ")]},C)}),". Try playing those games more!"]})]}),a.jsx("div",{className:"mb-12",children:a.jsx(RSe,{})}),o.length>0&&a.jsx(re,{className:"mb-12 border-4 border-green-300 shadow-xl bg-gradient-to-r from-green-50 to-emerald-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(bn,{className:"w-12 h-12 text-green-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Active Team Challenges!"}),a.jsx("p",{className:"text-gray-600",children:"Work together with friends and family"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(je,{className:"bg-green-500 text-white text-lg px-4 py-2",children:[o.length," Active"]}),a.jsx(Kt,{to:Ge("TeamChallenges"),children:a.jsxs(le,{className:"h-12 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:[a.jsx(bn,{className:"w-5 h-5 mr-2"}),"View Team Challenges"]})})]})]})})}),a.jsx(re,{className:"mb-12 border-4 border-orange-300 shadow-xl bg-gradient-to-r from-orange-50 to-red-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(It,{className:"w-12 h-12 text-orange-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Weekly Tournament Active!"}),a.jsx("p",{className:"text-gray-600",children:"Compete for 50 bonus stars and exclusive badges"})]})]}),a.jsx(Kt,{to:Ge("Leaderboards"),children:a.jsxs(le,{className:"h-12 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600",children:[a.jsx(Qn,{className:"w-5 h-5 mr-2"}),"View Leaderboards"]})})]})})}),a.jsx(re,{className:"mb-8 border-4 border-blue-300 shadow-xl bg-gradient-to-r from-blue-50 to-purple-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(yn,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"AI Math Tutor"}),a.jsxs(je,{className:"bg-blue-500 text-white",children:[a.jsx(Xt,{className:"w-3 h-3 mr-1"}),"New!"]})]}),a.jsx("p",{className:"text-gray-600",children:"Get instant help with step-by-step explanations when you need it!"})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl border-2 border-blue-200 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:""}),a.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Adaptive Learning"})]})]})})}),a.jsx(re,{className:"mb-8 border-4 border-purple-300 shadow-xl bg-gradient-to-r from-purple-50 to-pink-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(Wd,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Color by Numbers"}),a.jsxs(je,{className:"bg-purple-500 text-white",children:[a.jsx(Xt,{className:"w-3 h-3 mr-1"}),"New Game!"]})]}),a.jsx("p",{className:"text-gray-600",children:"Solve math problems while creating colorful artwork!"})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(Kt,{to:Ge("ColorByNumbers?operation=addition&level=easy"),children:a.jsxs(le,{className:"h-12 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(Wd,{className:"w-5 h-5 mr-2"}),"Try It Now!"]})})})]})})}),a.jsxs(re,{className:"mb-8 border-2 border-gray-200",children:[a.jsx(_e,{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Bs,{className:"w-6 h-6 text-gray-700"}),"Browse by Grade Level & Category (",k.length," Games)"]})}),a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(LL,{className:"mb-3 block font-bold text-gray-700",children:"Grade Level"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(le,{variant:t==="all"?"default":"outline",size:"sm",onClick:()=>e("all"),className:t==="all"?"bg-purple-500 text-white hover:bg-purple-600":"",children:"All Grades"}),A.map(C=>a.jsxs(le,{variant:t===C?"default":"outline",size:"sm",onClick:()=>e(C),className:t===C?"bg-purple-500 text-white hover:bg-purple-600":"",children:["Grade ",C]},C))]})]}),a.jsxs("div",{children:[a.jsx(LL,{className:"mb-3 block font-bold text-gray-700",children:"Category"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(le,{variant:r==="all"?"default":"outline",size:"sm",onClick:()=>n("all"),className:r==="all"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"All"}),a.jsx(le,{variant:r==="basics"?"default":"outline",size:"sm",onClick:()=>n("basics"),className:r==="basics"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Basics"}),a.jsx(le,{variant:r==="core"?"default":"outline",size:"sm",onClick:()=>n("core"),className:r==="core"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Core Operations"}),a.jsx(le,{variant:r==="advanced"?"default":"outline",size:"sm",onClick:()=>n("advanced"),className:r==="advanced"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Advanced"}),a.jsx(le,{variant:r==="applied"?"default":"outline",size:"sm",onClick:()=>n("applied"),className:r==="applied"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Applied"}),a.jsx(le,{variant:r==="algebra"?"default":"outline",size:"sm",onClick:()=>n("algebra"),className:r==="algebra"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Algebra"}),a.jsx(le,{variant:r==="challenge"?"default":"outline",size:"sm",onClick:()=>n("challenge"),className:r==="challenge"?"bg-blue-500 text-white hover:bg-blue-600":"",children:"Challenge"})]})]})]})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(Xt,{className:"w-6 h-6 text-purple-500"}),"Math Games (",k.length,")"]}),k.length===0?a.jsxs(re,{className:"p-12 text-center",children:[a.jsx("p",{className:"text-xl text-gray-600",children:"No games match your filters"}),a.jsx(le,{onClick:()=>{e("all"),n("all")},className:"mt-4",children:"Clear Filters"})]}):a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:k.map(C=>{const E=w(C.id),j=v.includes(C.id);return a.jsxs(re,{className:`overflow-hidden transition-all duration-300 border-2 ${E?j?"border-purple-400 ring-2 ring-purple-200 hover:shadow-xl":"hover:shadow-xl hover:border-purple-300":"opacity-50 cursor-not-allowed"}`,children:[a.jsxs("div",{className:`h-32 bg-gradient-to-br ${C.color} flex items-center justify-center relative`,children:[a.jsx("span",{className:"text-6xl",children:C.emoji}),j&&a.jsxs(je,{className:"absolute top-2 right-2 bg-purple-500 text-white",children:[a.jsx(Tt,{className:"w-3 h-3 mr-1 fill-white"}),"Focus"]}),!E&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:a.jsx(ui,{className:"w-12 h-12 text-white"})})]}),a.jsx(_e,{children:a.jsxs(Ne,{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-lg",children:C.name}),!E&&a.jsx(je,{variant:"outline",className:"bg-red-50 border-red-300 text-red-700 text-xs",children:"Locked"})]}),a.jsx("p",{className:"text-xs text-gray-600 font-normal",children:C.description}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:C.grades.map(O=>a.jsxs(je,{variant:"outline",className:"text-xs",children:["Grade ",O]},O))})]})}),a.jsx(ne,{children:a.jsx("div",{className:"space-y-2",children:MSe.slice(0,3).map(O=>{const R=d(O.id),L=x(O.id),$=E&&L&&R,F=c(C.id,O.id);return a.jsx(Kt,{to:$?Ge(`Game?operation=${C.id}&level=${O.id}`):"#",className:`block ${!$&&"pointer-events-none"}`,children:a.jsxs(le,{variant:"outline",className:`w-full justify-between text-sm ${!$&&"opacity-50"}`,disabled:!$,size:"sm",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(je,{className:`${O.color} text-xs`,children:O.name}),!R&&a.jsx(ui,{className:"w-3 h-3"}),!L&&E&&a.jsx(je,{variant:"outline",className:"text-xs",children:"Restricted"})]}),a.jsx("div",{className:"flex gap-1",children:[1,2,3].map(G=>a.jsx(Tt,{className:`w-3 h-3 ${F>=G?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},G))})]})},O.id)})})})]},C.id)})})]}),a.jsxs(re,{className:"bg-gradient-to-r from-purple-100 to-pink-100 border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""}),"How to Play"]})}),a.jsxs(ne,{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:"1"}),a.jsx("h3",{className:"font-bold mb-1",children:"Choose Your Challenge"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pick from 30+ math games and difficulty level"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:"2"}),a.jsx("h3",{className:"font-bold mb-1",children:"Solve Problems"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Answer 10 questions as fast as you can"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:"3"}),a.jsx("h3",{className:"font-bold mb-1",children:"Earn Stars"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get stars based on your performance!"})]})]})]})]})}const xS={};function DSe(t="en-US",e=!0){if(xS[t])return xS[t];const r=window.speechSynthesis.getVoices();let n=r.find(i=>i.lang===t&&(!e||i.name.toLowerCase().includes("child")));return n||(n=r.find(i=>i.lang===t)),xS[t]=n,n}function Un({text:t,lang:e="en-US",style:r="button",label:n=" Listen",pitch:i=1.1,rate:s=.9}){const o=S.useRef(null),l=()=>{if(!("speechSynthesis"in window)){alert("Text-to-speech is not supported in this browser.");return}window.speechSynthesis.cancel();const f=new window.SpeechSynthesisUtterance(t);f.lang=e,f.pitch=i,f.rate=s,f.voice=DSe(e),o.current=f,window.speechSynthesis.speak(f)},c=()=>{window.speechSynthesis.cancel()};let d;return r==="badge"?d=a.jsx("span",{onClick:l,onDoubleClick:c,className:"inline-block px-2 py-1 bg-purple-100 text-purple-700 rounded cursor-pointer select-none",title:"Click to read aloud, double-click to stop",children:n}):r==="icon"?d=a.jsx("span",{onClick:l,onDoubleClick:c,className:"cursor-pointer",title:"Click to read aloud, double-click to stop",role:"img","aria-label":"Read aloud",children:""}):d=a.jsx("button",{type:"button",onClick:l,onDoubleClick:c,"aria-label":"Read aloud",className:"px-3 py-2 rounded bg-purple-100 hover:bg-purple-200 text-purple-700 font-semibold",children:n}),d}function MY({question:t,onAnswer:e,questionNumber:r}){const[n,i]=S.useState(null),[s,o]=S.useState(!1),l=c=>{s||(i(c),o(!0),setTimeout(()=>{e(c),i(null),o(!1)},500))};return a.jsxs(Gt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[a.jsxs(re,{className:"border-4 border-purple-200 shadow-2xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-sm mb-2 opacity-90",children:["Question ",r]}),a.jsxs("h2",{className:"text-5xl md:text-6xl font-bold flex items-center gap-2",children:[t.question,a.jsx(Un,{text:t.question,style:"icon",label:"Read question"})]})]})}),a.jsx(ne,{className:"p-8",children:a.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.options.map((c,d)=>{const f=c===t.answer,m=n===c;let p="text-2xl font-bold h-24 transition-all transform hover:scale-105";return s&&m&&(p+=f?" bg-green-500 text-white hover:bg-green-500 scale-110":" bg-red-500 text-white hover:bg-red-500 shake"),a.jsx(Gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},children:a.jsx(le,{variant:"outline",className:p,onClick:()=>l(c),disabled:s,children:a.jsxs("span",{className:"flex items-center gap-2",children:[c,a.jsx(Un,{text:c,style:"icon",label:`Read answer option ${d+1}`})]})})},d)})})})]}),a.jsx("div",{className:"mt-4 flex items-center gap-2",children:a.jsx(Un,{text:`Question ${r}: ${t.question}. Possible answers are: ${t.options.join(", ")}.`,style:"button",label:"Read question summary"})})]})}function LSe({score:t,correctAnswers:e,totalQuestions:r,timeTaken:n,operation:i,level:s,coinsEarned:o=0,activePowerUps:l={}}){const c=yu(),d=e/r*100;let f=0,m="",p="";return d>=90?(f=3,m="Outstanding! You're a math superstar!",p=""):d>=70?(f=2,m="Great job! Keep practicing!",p=""):d>=50?(f=1,m="Good effort! Try again to improve!",p=""):(f=0,m="Keep practicing! You'll get better!",p=""),a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsx(Gt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:a.jsxs(re,{className:"border-4 border-yellow-300 shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 py-12 text-white text-center",children:[a.jsx(Gt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"text-8xl mb-4",children:p}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-2 flex items-center gap-2",children:["Challenge Complete!",a.jsx(Un,{text:"Challenge Complete!",style:"icon",label:"Read title"})]}),a.jsxs("p",{className:"text-xl flex items-center gap-2",children:[m,a.jsx(Un,{text:m,style:"icon",label:"Read message"})]})]}),a.jsxs(ne,{className:"p-8 space-y-6",children:[" ",a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[a.jsx(It,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),a.jsxs("div",{className:"text-3xl font-bold text-purple-600 flex items-center gap-2",children:[t,a.jsx(Un,{text:`Your score is ${t}`,style:"icon",label:"Read score"})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[a.jsx(Jt,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),a.jsxs("div",{className:"text-3xl font-bold text-green-600 flex items-center gap-2",children:[e,"/",r,a.jsx(Un,{text:`You got ${e} out of ${r} correct`,style:"icon",label:"Read correct answers"})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Correct"})]}),a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[a.jsx(_r,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),a.jsxs("div",{className:"text-3xl font-bold text-blue-600 flex items-center gap-2",children:[n,"s",a.jsx(Un,{text:`Time taken: ${n} seconds`,style:"icon",label:"Read time"})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Time"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-xl",children:[a.jsx(Tt,{className:"w-8 h-8 mx-auto mb-2 text-yellow-500 fill-yellow-500"}),a.jsxs("div",{className:"text-3xl font-bold text-yellow-600 flex items-center gap-2",children:[f,a.jsx(Un,{text:`You earned ${f} stars`,style:"icon",label:"Read stars"})]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Stars"})]})]}),o>0&&a.jsx(re,{className:"border-2 border-cyan-300 bg-gradient-to-r from-cyan-50 to-blue-50",children:a.jsx(ne,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-full flex items-center justify-center",children:a.jsx(Kc,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:["Coins Earned!",a.jsx(Un,{text:`You earned ${o} coins!`,style:"icon",label:"Read coins"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Use them in the shop for power-ups"})]})]}),a.jsxs("div",{className:"text-3xl font-bold text-cyan-600 flex items-center gap-2",children:["+",o,a.jsx(Un,{text:`Plus ${o} coins`,style:"icon",label:"Read coins"})]})]})})}),Object.keys(l).length>0&&a.jsxs(ze,{className:"bg-yellow-50 border-yellow-200",children:[a.jsx(Xt,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(We,{className:"text-yellow-800 flex items-center gap-2",children:[a.jsx("strong",{children:"Power-ups were active!"})," Your rewards have been boosted!",a.jsx(Un,{text:"Power-ups were active! Your rewards have been boosted!",style:"icon",label:"Read power-ups"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs(le,{variant:"outline",className:"flex-1 h-14 text-lg gap-2",onClick:()=>c(Ge("Home")),children:[a.jsx(ib,{className:"w-5 h-5"}),"Back Home"]}),a.jsxs(le,{variant:"outline",className:"flex-1 h-14 text-lg gap-2",onClick:()=>window.location.reload(),children:[a.jsx(UI,{className:"w-5 h-5"}),"Try Again"]}),a.jsxs(le,{className:"flex-1 h-14 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 gap-2",onClick:()=>c(Ge("Progress")),children:["View Progress",a.jsx(zW,{className:"w-5 h-5"})]})]})]})]})})})}function DY(){const t=["","","","","",""];return a.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(20)].map((e,r)=>a.jsx(Gt.div,{initial:{x:Math.random()*window.innerWidth,y:-50,rotate:0,opacity:1},animate:{y:window.innerHeight+50,rotate:360,opacity:0},transition:{duration:2+Math.random()*2,ease:"linear"},className:"absolute text-4xl",children:t[Math.floor(Math.random()*t.length)]},r))})}function $Se({question:t,correctAnswer:e,userAnswer:r,operation:n,level:i,onContinue:s}){const[o,l]=S.useState(!1),[c,d]=S.useState(!1),[f,m]=S.useState(""),[p,v]=S.useState(""),[w,x]=S.useState(!1),[g,_]=S.useState(null),T=async()=>{x(!0),_(null);try{console.log(" Generating hint for:",t);const A=await base44.integrations.Core.InvokeLLM({prompt:`You are an expert elementary school math tutor who loves making math fun and easy to understand!

A student is working on: ${t}
- Their answer: ${r}
- Correct answer: ${e}
- Math operation: ${n}
- Difficulty level: ${i}

Create a friendly, encouraging hint (2-3 sentences) that:
- Guides them toward the RIGHT way to think about the problem
- Does NOT give away the answer directly
- Uses simple, clear language for kids
- Includes one emoji to make it friendly
- Focuses on the strategy or method, not the solution

Be encouraging and make them feel confident they can solve it!`});console.log(" Hint result received:",A),console.log(" Result type:",typeof A);let C="";if(typeof A=="string"?C=A:A&&typeof A=="object"&&(C=A.output||A.response||A.text||A.content||JSON.stringify(A)),console.log(" Extracted hint text:",C),!C||C.trim()==="")throw new Error("No hint text received from AI");m(C),l(!0);try{await base44.entities.TutorSession.create({question:t,correct_answer:e,user_answer:r,operation:n,level:i,hint_requested:!0,hint_text:C})}catch(E){console.error("Error saving tutor session:",E)}}catch(A){console.error(" Error generating hint:",A),_(A.message);const C=`Let's think about ${t} together! Try breaking it down into smaller steps. ${n==="addition"?"Add the ones first, then the tens.":n==="subtraction"?"Remember to borrow if you need to!":n==="multiplication"?"Think about groups of the same number.":"Think about dividing into equal groups!"} You can do this! `;m(C),l(!0)}x(!1)},P=async()=>{x(!0),_(null);try{console.log(" Generating explanation for:",t);const A=await base44.integrations.Core.InvokeLLM({prompt:`You are an expert elementary school math tutor creating a detailed, step-by-step explanation!

PROBLEM: ${t}
STUDENT'S ANSWER: ${r}
CORRECT ANSWER: ${e}
OPERATION: ${n}
LEVEL: ${i}

Create a comprehensive, engaging explanation with these sections:

** WHERE DID I GO WRONG?**
Explain in 1-2 sentences what mistake they likely made and why they got ${r} instead of ${e}. Be kind and understanding - everyone makes mistakes!

** LET'S SOLVE IT STEP-BY-STEP!**
Break down the solution into clear, numbered steps:
${n==="addition"?`
1. Write the numbers one above the other, lining up the place values
2. Add the ones place first
3. If the sum is 10 or more, carry the 1 to the tens place
4. Add the tens place (including any carried number)
5. Write your final answer`:n==="subtraction"?`
1. Write the larger number on top, smaller on bottom
2. Start with the ones place
3. If the top number is smaller, borrow from the tens place
4. Subtract the ones place
5. Move to the tens place and subtract
6. Write your final answer`:n==="multiplication"?`
1. Understand what ${t} means (groups of numbers)
2. Break down the problem if needed (like 12 = 10 + 2)
3. Multiply each part
4. Add the results together
5. Double-check your answer`:`1. Set up the division: ${t}
2. How many times does the divisor go into the dividend?
3. Multiply to check
4. Subtract to find remainder
5. Write your answer`}

** THE RIGHT ANSWER**
Show clearly that ${t} = ${e}

** QUICK TIP TO REMEMBER**
One practical tip or trick to help solve similar problems in the future.

** PRACTICE HELPS!**
One encouraging sentence about practicing this type of problem.

Use emojis throughout to make it fun and engaging! Keep language simple and encouraging for kids ages 7-12.`});console.log(" Explanation result received:",A),console.log(" Result type:",typeof A);let C="";if(typeof A=="string"?C=A:A&&typeof A=="object"&&(C=A.output||A.response||A.text||A.content||JSON.stringify(A)),console.log(" Extracted explanation text:",C),!C||C.trim()==="")throw new Error("No explanation text received from AI");v(C),d(!0);try{await base44.entities.TutorSession.create({question:t,correct_answer:e,user_answer:r,operation:n,level:i,explanation_viewed:!0,explanation_text:C})}catch(E){console.error("Error saving tutor session:",E)}}catch(A){console.error(" Error generating explanation:",A),_(A.message);const C=k(t,e,r,n);v(C),d(!0)}x(!1)},k=(A,C,E,j)=>{var F,G;const O=A.split(/[\+\-\]/),R=parseInt(((F=O[0])==null?void 0:F.trim())||0),L=parseInt(((G=O[1])==null?void 0:G.trim())||0);let $=`** WHERE DID I GO WRONG?**
`;return $+=`You got ${E}, but the correct answer is ${C}. Let's figure out why and learn from it!

`,$+=`** LET'S SOLVE IT STEP-BY-STEP!**

`,j==="addition"?($+=`1 Set up the problem: ${R} + ${L}
`,$+=`2 Add the ones place: ${R%10} + ${L%10} = ${R%10+L%10}
`,R%10+L%10>=10&&($+=`3 That's ${R%10+L%10}, so we carry the 1!
`),$+=`4 Add the tens place: ${Math.floor(R/10)} + ${Math.floor(L/10)} ${R%10+L%10>=10?"+ 1 (carried)":""}
`,$+=`5 Final answer: **${C}** 

`):j==="subtraction"?($+=`1 Set up the problem: ${R} - ${L}
`,$+=`2 Start with the ones place
`,R%10<L%10&&($+=`3 We need to borrow from the tens place!
`),$+=`4 Subtract: ${R} - ${L}
`,$+=`5 Final answer: **${C}** 

`):j==="multiplication"?($+=`1 Think: ${R} groups of ${L}
`,$+=`2 Or: ${R}  ${L}
`,(R>10||L>10)&&($+=`3 Break it down: (${Math.floor(R/10)*10} + ${R%10})  ${L}
`),$+=`4 Calculate: ${R}  ${L} = ${C}
`,$+=`5 Final answer: **${C}** 

`):j==="division"&&($+=`1 How many ${L}s fit into ${R}?
`,$+=`2 Count by ${L}s until you reach ${R}
`,$+=`3 Check: ${C}  ${L} = ${R}
`,$+=`4 Final answer: **${C}** 

`),$+=`** THE RIGHT ANSWER**
`,$+=`${A} = **${C}** 

`,$+=`** QUICK TIP TO REMEMBER**
`,j==="addition"?$+=`Always start with the ones place and work your way left. Don't forget to carry!

`:j==="subtraction"?$+=`If the top number is smaller, remember to borrow from the next column!

`:j==="multiplication"?$+=`Break big numbers into smaller parts to make multiplication easier!

`:$+=`Division is the opposite of multiplication - think about groups!

`,$+=`** PRACTICE HELPS!**
`,$+=`The more you practice ${j}, the easier it gets. You're doing great! Keep going! `,$};return a.jsx(Gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs(re,{className:"max-w-2xl w-full border-4 border-blue-300 shadow-2xl max-h-[90vh] overflow-auto",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:a.jsxs(Ne,{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:a.jsx(yn,{className:"w-7 h-7"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:"AI Math Tutor"}),a.jsxs(je,{variant:"secondary",className:"bg-white/20 text-white",children:[a.jsx(Xt,{className:"w-3 h-3 mr-1"}),"Powered by AI"]})]}),a.jsx("p",{className:"text-sm opacity-90 font-normal mt-1",children:"Let's learn from this mistake together! "})]})]})}),a.jsxs(ne,{className:"p-6 space-y-6",children:[a.jsx(ze,{className:"bg-gradient-to-r from-orange-50 to-red-50 border-2 border-orange-200",children:a.jsx(We,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Question:"}),a.jsxs("span",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[t,a.jsx(Un,{text:t,style:"icon",label:"Read question"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(zd,{className:"w-4 h-4 text-red-500"}),"Your answer:"]}),a.jsxs(je,{variant:"outline",className:"bg-red-100 border-red-300 text-red-700 text-lg flex items-center gap-2",children:[r,a.jsx(Un,{text:r==null?void 0:r.toString(),style:"icon",label:"Read your answer"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"font-medium text-gray-700 flex items-center gap-2",children:[a.jsx(Wt,{className:"w-4 h-4 text-green-500"}),"Correct answer:"]}),a.jsxs(je,{className:"bg-green-500 text-white text-lg flex items-center gap-2",children:[e,a.jsx(Un,{text:e==null?void 0:e.toString(),style:"icon",label:"Read correct answer"})]})]})]})})}),g&&a.jsxs(ze,{className:"bg-yellow-50 border-yellow-200",children:[a.jsx(qm,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(We,{className:"text-yellow-800",children:[a.jsx("strong",{children:"Note:"})," Using fallback explanation. ",g]})]}),a.jsx("div",{children:o?a.jsx(Gt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:a.jsxs(re,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-300",children:[a.jsx(_e,{className:"pb-3",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(ID,{className:"w-5 h-5 text-yellow-600"}),"Hint"]})}),a.jsx(ne,{children:a.jsxs("p",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed",children:[f,a.jsx(Un,{text:f,style:"icon",label:"Read hint"})]})})]})}):a.jsx(le,{onClick:T,disabled:w,className:"w-full h-16 text-lg bg-gradient-to-r from-yellow-400 to-orange-400 hover:from-yellow-500 hover:to-orange-500 text-gray-900",children:w?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-gray-900 border-t-transparent rounded-full mr-2"}),"Thinking..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ID,{className:"w-6 h-6 mr-2"}),"Get a Hint"]})})}),o&&a.jsx("div",{children:c?a.jsx(Gt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:a.jsxs(re,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-300",children:[a.jsx(_e,{className:"pb-3",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Bs,{className:"w-5 h-5 text-blue-600"}),"Complete Solution"]})}),a.jsx(ne,{children:a.jsx("div",{className:"prose prose-sm max-w-none",children:a.jsx("div",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed space-y-3",children:p.split(`

`).map((A,C)=>a.jsxs("div",{className:"mb-4",children:[a.jsx(Un,{text:A.replace(/\*\*/g,""),style:"button",label:"Read solution section"}),A.split(`
`).map((E,j)=>E.startsWith("**")&&E.endsWith("**")?a.jsx("h4",{className:"font-bold text-lg mb-2 text-purple-700",children:E.replace(/\*\*/g,"")},j):/^\d+/.test(E)?a.jsx("div",{className:"flex gap-3 mb-2 bg-white p-2 rounded-lg",children:a.jsx("span",{className:"text-blue-600 font-bold",children:E})},j):E?a.jsx("p",{className:"mb-2",children:E},j):null)]},C))})})})]})}):a.jsx(le,{onClick:P,disabled:w,className:"w-full h-16 text-lg bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:w?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Generating Explanation..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Bs,{className:"w-6 h-6 mr-2"}),"Show Step-by-Step Solution"]})})}),a.jsx(ze,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200",children:a.jsxs(We,{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("p",{className:"font-medium text-gray-800",children:"Mistakes help us learn! Keep practicing and you'll get better every day!"})]})}),a.jsxs(le,{onClick:s,className:"w-full h-14 text-lg bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:["I Understand! Continue",a.jsx(qI,{className:"w-5 h-5 ml-2"})]})]})]})})}function FSe({adjustment:t,onClose:e}){const r={easier:{icon:iu,color:"from-blue-400 to-cyan-400",title:"Let's Try Something Easier!",message:"Don't worry! I'm adjusting the difficulty to help you build confidence. You've got this! ",emoji:""},harder:{icon:gr,color:"from-purple-400 to-pink-400",title:"Level Up Challenge!",message:"Wow! You're doing amazing! Let's try some harder problems to keep you challenged! ",emoji:""},perfect:{icon:Qn,color:"from-yellow-400 to-orange-400",title:"Perfect Match!",message:"The difficulty is just right for you! Keep up the excellent work! ",emoji:""}},n=r[t]||r.perfect,i=n.icon;return a.jsx(Gt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:a.jsx(Gt.div,{initial:{y:-50},animate:{y:0},onClick:s=>s.stopPropagation(),children:a.jsx(re,{className:`max-w-md border-4 shadow-2xl bg-gradient-to-br ${n.color}`,children:a.jsxs(ne,{className:"p-8 text-center text-white",children:[a.jsx(Gt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"text-7xl mb-4",children:n.emoji}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(i,{className:"w-6 h-6"}),a.jsx("h3",{className:"text-2xl font-bold",children:n.title})]}),a.jsx("p",{className:"text-lg opacity-95 mb-6",children:n.message}),a.jsxs(je,{className:"bg-white/20 text-white text-sm px-4 py-2",children:[a.jsx(i,{className:"w-4 h-4 mr-2"}),"AI Adaptive Learning"]}),a.jsx("p",{className:"text-xs mt-4 opacity-75",children:"Click anywhere to continue"})]})})})})}function VSe({operation:t=null}){var P;const[e,r]=S.useState(0),[n,i]=S.useState(!1),[s,o]=S.useState(!1),{data:l,refetch:c}=ft({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),d=hr(new Date,"yyyy-MM-dd"),f=(l==null?void 0:l.parental_controls)||{},m=(l==null?void 0:l.daily_usage_tracking)||{},p=m[d]||{total_minutes:0,by_operation:{}},v=f.daily_time_limit_minutes||0,w=f.enforce_time_limits!==!1,x=f.time_limit_warning_minutes||5,g=f.time_limits_by_operation||{};if(S.useEffect(()=>{var A;if(!w||v===0)return;const k=p.total_minutes||0;r(k),k>=v?o(!0):v-k<=x&&v-k>0&&i(!0),t&&g[t]&&(((A=p.by_operation)==null?void 0:A[t])||0)>=g[t]&&o(!0)},[l,t,w,v,x,g]),S.useEffect(()=>{if(!w||s)return;const k=setInterval(async()=>{var j;const A=Math.floor((p.total_minutes||0)+.016666666666666666),C=t?Math.floor((((j=p.by_operation)==null?void 0:j[t])||0)+1/60):0,E={...m,[d]:{total_minutes:A,by_operation:{...p.by_operation||{},...t?{[t]:C}:{}}}};try{await base44.auth.updateMe({daily_usage_tracking:E}),await c()}catch(O){console.error("Error updating time tracking:",O)}},6e4);return()=>clearInterval(k)},[w,s,t,p,m,c]),!w||v===0)return null;const _=Math.max(0,v-e),T=t&&g[t]?Math.max(0,g[t]-(((P=p.by_operation)==null?void 0:P[t])||0)):null;return s?a.jsxs(ze,{className:"mb-6 bg-red-50 border-red-300",children:[a.jsx(ui,{className:"w-5 h-5 text-red-600"}),a.jsxs(We,{className:"text-red-800",children:[a.jsx("strong",{className:"block mb-2",children:"Time Limit Reached"}),"You've used your allotted time for today. Come back tomorrow to continue learning!",t&&T===0&&g[t]&&a.jsxs("p",{className:"mt-2 text-sm",children:[t," time limit: ",g[t]," minutes reached"]}),a.jsx("div",{className:"mt-3 text-sm text-gray-600",children:"Time resets at midnight. See you tomorrow! "})]})]}):n&&_<=x?a.jsxs(ze,{className:"mb-6 bg-yellow-50 border-yellow-300",children:[a.jsx(Gn,{className:"w-5 h-5 text-yellow-600"}),a.jsxs(We,{className:"text-yellow-800",children:[a.jsx("strong",{className:"block mb-2",children:"Time Running Out!"}),"You have ",a.jsxs("strong",{children:[_," minutes"]})," left to play today.",t&&T!==null&&T<_&&a.jsxs("p",{className:"mt-2",children:[t,": ",a.jsxs("strong",{children:[T," minutes"]})," left"]})]})]}):a.jsxs("div",{className:"mb-4 flex items-center justify-end gap-2 text-sm text-gray-600",children:[a.jsx(_r,{className:"w-4 h-4"}),a.jsxs("span",{children:[_," minutes remaining today"]})]})}const Ks=(t,e)=>({counting:BSe,number_comparison:qSe,place_value:USe,patterns:zSe,rounding:WSe,addition:$L,subtraction:HSe,multiplication:GSe,division:KSe,factors_multiples:YSe,prime_composite:QSe,fractions:t2e,decimals:r2e,percentages:n2e,ratios:XSe,order_operations:JSe,integers:ZSe,exponents:e2e,word_problems:i2e,money:s2e,time:a2e,measurement:o2e,geometry:l2e,area_perimeter:c2e,angles:u2e,coordinates:d2e,data_graphs:h2e,probability:f2e,basic_algebra:LY,equations:m2e,mixed:p2e,mental_math:g2e}[t]||$L)(e);function BSe(t){const e={easy:{min:1,max:10},medium:{min:10,max:50},hard:{min:50,max:100}},r=e[t]||e.easy,n=Math.floor(Math.random()*(r.max-5))+r.min,i=n+Math.floor(Math.random()*5)+1;return{question:`Count: ${n}, ${n+1}, ?, ${n+3}`,answer:i,options:Eo(i),explanation:`The pattern increases by 1 each time. After ${n+1} comes ${i}.`}}function qSe(t){const e={easy:{min:1,max:20},medium:{min:10,max:100},hard:{min:100,max:1e3}},r=e[t]||e.easy,n=Math.floor(Math.random()*(r.max-r.min))+r.min,i=Math.floor(Math.random()*(r.max-r.min))+r.min,s=[">","<","="],o=n>i?">":n<i?"<":"=",l=s.indexOf(o);return{question:`${n} ___ ${i}. Which symbol?`,answer:l,options:[0,1,2],optionsDisplay:[">","<","="],explanation:`${n} ${o} ${i}. ${n} is ${n>i?"greater than":n<i?"less than":"equal to"} ${i}.`}}function USe(t){const e={easy:[{q:"What is the tens digit in 47?",a:4,opts:[4,7,47,0],exp:"In 47, the 4 is in the tens place and the 7 is in the ones place."},{q:"What is the ones digit in 53?",a:3,opts:[5,3,53,0],exp:"In 53, the 3 is in the ones place."},{q:"What number has 3 tens and 5 ones?",a:35,opts:[53,35,305,8],exp:"3 tens = 30, plus 5 ones = 35."}],medium:[{q:"What is the hundreds digit in 527?",a:5,opts:[5,2,7,527],exp:"In 527: 5 is hundreds, 2 is tens, 7 is ones."},{q:"What is 400 + 50 + 3?",a:453,opts:[345,453,534,4053],exp:"Add the place values: 400 + 50 + 3 = 453."},{q:"Which digit is in the tens place in 684?",a:8,opts:[6,8,4,68],exp:"In 684: 6 is hundreds, 8 is tens, 4 is ones."}],hard:[{q:"What is 3000 + 200 + 40 + 5?",a:3245,opts:[3245,32405,3254,2345],exp:"Adding place values: 3000 + 200 + 40 + 5 = 3245."},{q:"What is the thousands digit in 7,842?",a:7,opts:[7,8,4,2],exp:"In 7,842: 7 is thousands place."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function zSe(t){const e={easy:[{q:"2, 4, 6, 8, ?",a:10,opts:[9,10,11,12],exp:"Pattern: +2 each time. 8 + 2 = 10."},{q:"5, 10, 15, 20, ?",a:25,opts:[22,24,25,30],exp:"Pattern: +5 each time. 20 + 5 = 25."},{q:"10, 9, 8, 7, ?",a:6,opts:[6,5,9,8],exp:"Pattern: -1 each time. 7 - 1 = 6."}],medium:[{q:"3, 6, 9, 12, ?",a:15,opts:[13,14,15,16],exp:"Pattern: +3 each time (multiples of 3). 12 + 3 = 15."},{q:"1, 4, 7, 10, ?",a:13,opts:[11,12,13,14],exp:"Pattern: +3 each time. 10 + 3 = 13."},{q:"50, 45, 40, 35, ?",a:30,opts:[30,32,25,28],exp:"Pattern: -5 each time. 35 - 5 = 30."}],hard:[{q:"2, 4, 8, 16, ?",a:32,opts:[20,24,32,28],exp:"Pattern: 2 each time (doubling). 16  2 = 32."},{q:"100, 50, 25, ?",a:12.5,opts:[12.5,12,15,10],exp:"Pattern: 2 each time (halving). 25  2 = 12.5."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function WSe(t){const e={easy:[{q:"Round 14 to the nearest 10",a:10,opts:[10,15,20,14],exp:"14 is closer to 10 than 20, so round down to 10."},{q:"Round 27 to the nearest 10",a:30,opts:[20,25,27,30],exp:"27 is closer to 30 than 20, so round up to 30."},{q:"Round 45 to the nearest 10",a:50,opts:[40,45,50,55],exp:"45 is exactly halfway, so round up to 50."}],medium:[{q:"Round 247 to the nearest 100",a:200,opts:[200,250,300,240],exp:"247 is closer to 200 than 300."},{q:"Round 682 to the nearest 100",a:700,opts:[600,680,700,800],exp:"682 is closer to 700 than 600."}],hard:[{q:"Round 4,567 to the nearest 1,000",a:5e3,opts:[4e3,4500,5e3,6e3],exp:"4,567 is closer to 5,000 than 4,000."},{q:"Round 12,345 to the nearest 10,000",a:1e4,opts:[1e4,12e3,13e3,2e4],exp:"12,345 is closer to 10,000 than 20,000."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function $L(t){const e={easy:{min:1,max:10},medium:{min:10,max:50},hard:{min:50,max:200},expert:{min:100,max:1e3}},r=e[t]||e.easy,n=Math.floor(Math.random()*(r.max-r.min+1))+r.min,i=Math.floor(Math.random()*(r.max-r.min+1))+r.min,s=n+i;return{question:`${n} + ${i}`,answer:s,options:Eo(s),explanation:`To add ${n} + ${i}, combine the two numbers. The answer is ${s}.`}}function HSe(t){const e={easy:{min:5,max:20},medium:{min:20,max:100},hard:{min:100,max:500},expert:{min:500,max:2e3}},r=e[t]||e.easy,n=Math.floor(Math.random()*(r.max-r.min+1))+r.min,i=Math.floor(Math.random()*n)+1,s=n-i;return{question:`${n} - ${i}`,answer:s,options:Eo(s),explanation:`To subtract ${i} from ${n}, the answer is ${s}.`}}function GSe(t){const e={easy:{min:1,max:10},medium:{min:2,max:12},hard:{min:6,max:20},expert:{min:11,max:50}},r=e[t]||e.easy,n=Math.floor(Math.random()*(r.max-r.min+1))+r.min,i=Math.floor(Math.random()*(r.max-r.min+1))+r.min,s=n*i;return{question:`${n}  ${i}`,answer:s,options:Eo(s),explanation:`${n} times ${i} equals ${s}.`}}function KSe(t){const e={easy:{divisor:[2,3,4,5],quotient:[1,10]},medium:{divisor:[2,12],quotient:[1,20]},hard:{divisor:[5,25],quotient:[2,50]},expert:{divisor:[10,50],quotient:[5,100]}},r=e[t]||e.easy,n=Math.floor(Math.random()*(r.divisor[1]-r.divisor[0]+1))+r.divisor[0],i=Math.floor(Math.random()*(r.quotient[1]-r.quotient[0]+1))+r.quotient[0],s=n*i;return{question:`${s}  ${n}`,answer:i,options:Eo(i),explanation:`${s} divided by ${n} equals ${i}.`}}function YSe(t){const e={easy:[{q:"What are the factors of 12?",a:6,opts:[4,5,6,7],exp:"12 has 6 factors: 1, 2, 3, 4, 6, 12."},{q:"What is a multiple of 5?",a:25,opts:[22,24,25,27],exp:"25 = 5  5, so 25 is a multiple of 5."},{q:"Is 15 a multiple of 3?",a:1,opts:[0,1],optionsDisplay:["No","Yes"],exp:"Yes! 15 = 3  5."}],medium:[{q:"What is the GCF of 12 and 18?",a:6,opts:[3,4,6,9],exp:"Factors of 12: 1,2,3,4,6,12. Factors of 18: 1,2,3,6,9,18. Greatest common is 6."},{q:"What is the LCM of 4 and 6?",a:12,opts:[10,12,18,24],exp:"Multiples of 4: 4,8,12... Multiples of 6: 6,12... Least common is 12."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,optionsDisplay:n.optionsDisplay,explanation:n.exp}}function QSe(t){const e=[2,3,5,7,11,13,17,19,23,29,31],r=[4,6,8,9,10,12,14,15,16,18,20,21];if(Math.random()>.5){const i=e[Math.floor(Math.random()*e.length)];return{question:`Is ${i} a prime number?`,answer:1,options:[0,1],optionsDisplay:["No","Yes"],explanation:`Yes! ${i} is prime. It can only be divided by 1 and ${i}.`}}else{const i=r[Math.floor(Math.random()*r.length)];return{question:`Is ${i} a prime number?`,answer:0,options:[0,1],optionsDisplay:["No","Yes"],explanation:`No! ${i} is composite. It has factors other than 1 and itself.`}}}function XSe(t){const e={easy:[{q:"Simplify the ratio 4:8",a:.5,opts:[.5,1,2,4],display:"1:2",exp:"Divide both by 4: 44 = 1, 84 = 2. Answer: 1:2"},{q:"If 2 apples cost $4, what do 4 apples cost?",a:8,opts:[6,7,8,10],exp:"2 apples = $4, so 4 apples = $4  2 = $8."}],medium:[{q:"In a class of 30, the ratio of boys to girls is 2:3. How many girls?",a:18,opts:[12,15,18,20],exp:"2+3=5 parts. 305=6 per part. Girls = 36 = 18."},{q:"Simplify 12:18",a:2,opts:[1,2,3,4],display:"2:3",exp:"Divide both by 6: 126 = 2, 186 = 3."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function JSe(t){const e={easy:[{q:"3 + 2  4 = ?",a:11,opts:[9,10,11,20],exp:"Order: Multiply first (24=8), then add (3+8=11)."},{q:"10 - 2  3 = ?",a:4,opts:[4,6,24,8],exp:"Order: Multiply first (23=6), then subtract (10-6=4)."}],medium:[{q:"(3 + 2)  4 = ?",a:20,opts:[11,14,20,24],exp:"Parentheses first: (3+2=5), then multiply (54=20)."},{q:"12  3 + 2 = ?",a:6,opts:[2,4,6,8],exp:"Division first: 123=4, then add: 4+2=6."}],hard:[{q:"2 + 3  (4 + 5) = ?",a:29,opts:[20,27,29,45],exp:"Parentheses: (4+5=9). Multiply: 39=27. Add: 2+27=29."},{q:"20 - 12  3 + 2 = ?",a:18,opts:[10,14,18,22],exp:"Divide: 123=4. Then left to right: 20-4+2 = 18."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function ZSe(t){const e={easy:{min:-10,max:10},medium:{min:-50,max:50},hard:{min:-100,max:100}},r=e[t]||e.easy,n=Math.floor(Math.random()*(r.max-r.min+1))+r.min,i=Math.floor(Math.random()*(r.max-r.min+1))+r.min,s=n+i;return{question:`${n} + (${i})`,answer:s,options:Eo(s),explanation:`Adding integers: ${n} + ${i} = ${s}.`}}function e2e(t){const e={easy:[{q:"What is 2?",a:4,opts:[2,3,4,8],exp:"2 means 2  2 = 4."},{q:"What is 3?",a:9,opts:[6,8,9,12],exp:"3 means 3  3 = 9."},{q:"What is 5?",a:25,opts:[10,20,25,30],exp:"5 means 5  5 = 25."}],medium:[{q:"What is 2?",a:8,opts:[6,7,8,9],exp:"2 means 2  2  2 = 8."},{q:"What is 4?",a:16,opts:[8,12,14,16],exp:"4 means 4  4 = 16."},{q:"What is 25?",a:5,opts:[4,5,6,7],exp:"25 = 5 because 5  5 = 25."}],hard:[{q:"What is 3?",a:27,opts:[9,18,27,36],exp:"3 means 3  3  3 = 27."},{q:"What is 64?",a:8,opts:[6,7,8,9],exp:"64 = 8 because 8  8 = 64."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function t2e(t){const e={easy:[{q:"What is 1/2 + 1/2?",a:1,opts:[0,1,2,3],exp:"1/2 + 1/2 = 2/2 = 1 whole."},{q:"What is 1/4 + 1/4?",a:.5,opts:[.25,.5,.75,1],exp:"1/4 + 1/4 = 2/4 = 1/2."}],medium:[{q:"What is 1/2 + 1/4?",a:.75,opts:[.5,.67,.75,1],exp:"1/2 = 2/4. Then 2/4 + 1/4 = 3/4."},{q:"What is 2/3 + 1/6?",a:.83,opts:[.67,.75,.83,1],exp:"2/3 = 4/6. Then 4/6 + 1/6 = 5/6."}],hard:[{q:"What is 2/3 + 3/4?",a:1.42,opts:[1.25,1.33,1.42,1.5],exp:"Common denominator 12: 8/12 + 9/12 = 17/12 = 1 5/12."},{q:"What is 3/4  2?",a:1.5,opts:[1,1.5,2,2.5],exp:"(3  2)/4 = 6/4 = 1 1/2."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function r2e(t){const e={easy:{min:.1,max:9.9,decimals:1},medium:{min:.01,max:99.9,decimals:2},hard:{min:.01,max:999.9,decimals:2}},r=e[t]||e.easy,n=parseFloat((Math.random()*(r.max-r.min)+r.min).toFixed(r.decimals)),i=parseFloat((Math.random()*(r.max-r.min)+r.min).toFixed(r.decimals)),s=Math.random()>.5?"+":"-",o=parseFloat(s==="+"?(n+i).toFixed(r.decimals):(Math.max(n,i)-Math.min(n,i)).toFixed(r.decimals));return{question:s==="+"?`${n} + ${i}`:`${Math.max(n,i)} - ${Math.min(n,i)}`,answer:o,options:Eo(o,r.decimals),explanation:"Line up decimal points and calculate."}}function n2e(t){const e={easy:[{q:"What is 50% of 100?",a:50,opts:[25,50,75,100],exp:"50% = half. 100  2 = 50."},{q:"What is 25% of 100?",a:25,opts:[20,25,30,50],exp:"25% = 1/4. 100  4 = 25."}],medium:[{q:"What is 20% of 80?",a:16,opts:[12,16,20,24],exp:"20% = 0.20. 80  0.20 = 16."},{q:"What is 30% of 200?",a:60,opts:[50,60,70,80],exp:"30% = 0.30. 200  0.30 = 60."}],hard:[{q:"What is 15% of 250?",a:37.5,opts:[35,37.5,40,42.5],exp:"15% = 0.15. 250  0.15 = 37.5."},{q:"What is 65% of 180?",a:117,opts:[110,117,125,130],exp:"65% = 0.65. 180  0.65 = 117."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function i2e(t){const e={easy:[{template:"Sarah has {n1} apples. She buys {n2} more. How many now?",operation:"add",range:[1,10]},{template:"Tom has {n1} cookies. He eats {n2}. How many left?",operation:"subtract",range:[5,15]}],medium:[{template:"A box has {n1} items. Each costs ${n2}. Total cost?",operation:"multiply",range:[5,12]},{template:"{n1} students, groups of {n2}. How many groups?",operation:"divide",range:[4,12]}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)],i=Math.floor(Math.random()*n.range[1])+n.range[0],s=Math.floor(Math.random()*n.range[1])+n.range[0];let o,l=n.template.replace("{n1}",i).replace("{n2}",s);return n.operation==="add"?o=i+s:n.operation==="subtract"?o=i-s:n.operation==="multiply"?o=i*s:o=Math.floor(i/s),{question:l,answer:o,options:Eo(o),explanation:"Solve step by step to find the answer."}}function s2e(t){const e={easy:[{q:"How many cents in $1?",a:100,opts:[50,75,100,125],exp:"$1 = 100 cents."},{q:"2 quarters = ? cents",a:50,opts:[25,50,75,100],exp:"Each quarter = 25. 2  25 = 50."}],medium:[{q:"Buy toy for $12.50, pay $20. Change?",a:7.5,opts:[6.5,7.5,8.5,9.5],exp:"$20.00 - $12.50 = $7.50."},{q:"Save $15/week. 4 weeks = ?",a:60,opts:[50,60,70,80],exp:"$15  4 = $60."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function a2e(t){const e={easy:[{q:"How many minutes in 1 hour?",a:60,opts:[30,60,90,120],exp:"1 hour = 60 minutes."},{q:"30 minutes after 2:00 = ?",a:2.5,opts:[2,2.5,3,3.5],display:"2:30",exp:"2:00 + 30 min = 2:30."}],medium:[{q:"If it's 3:45, what time in 25 min?",a:4.17,opts:[4,4.17,4.5,5],display:"4:10",exp:"3:45 + 25 min = 4:10."},{q:"How many seconds in 5 minutes?",a:300,opts:[250,300,350,400],exp:"60  5 = 300 seconds."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function o2e(t){const e={easy:[{q:"How many inches in 1 foot?",a:12,opts:[10,12,16,20],exp:"1 foot = 12 inches."},{q:"1000 grams = ? kilograms",a:1,opts:[.1,1,10,100],exp:"1000g = 1kg."}],medium:[{q:"How many cm in 2 meters?",a:200,opts:[20,100,200,2e3],exp:"1m = 100cm. 2m = 200cm."},{q:"1 liter = ? milliliters",a:1e3,opts:[10,100,1e3,1e4],exp:"1L = 1000mL."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function l2e(t){const e={easy:[{q:"How many sides in a triangle?",a:3,opts:[2,3,4,5],exp:"Triangle has 3 sides."},{q:"How many corners in a square?",a:4,opts:[3,4,5,6],exp:"Square has 4 corners."}],medium:[{q:"Area of rectangle 64?",a:24,opts:[20,24,28,32],exp:"Area = length  width = 6  4 = 24."},{q:"Circle radius 5, diameter?",a:10,opts:[8,10,12,15],exp:"Diameter = 2  radius = 2  5 = 10."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function c2e(t){const e={easy:[{q:"Perimeter of square, side 5?",a:20,opts:[15,20,25,30],exp:"Perimeter = 4  5 = 20."},{q:"Area of square, side 4?",a:16,opts:[8,12,16,20],exp:"Area = 4  4 = 16."}],medium:[{q:"Perimeter of rectangle 85?",a:26,opts:[24,26,28,30],exp:"Perimeter = 2(8+5) = 26."},{q:"Area of triangle, base 10, height 6?",a:30,opts:[25,30,35,40],exp:"Area = (106)2 = 30."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function u2e(t){const e={easy:[{q:"How many degrees in a right angle?",a:90,opts:[45,90,180,360],exp:"Right angle = 90."},{q:"How many degrees in a straight line?",a:180,opts:[90,180,270,360],exp:"Straight line = 180."}],medium:[{q:"If one angle is 60, complementary angle?",a:30,opts:[30,60,90,120],exp:"Complementary angles sum to 90. 90 - 60 = 30."},{q:"If one angle is 120, supplementary angle?",a:60,opts:[30,60,90,120],exp:"Supplementary angles sum to 180. 180 - 120 = 60."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function d2e(t){const e=Math.floor(Math.random()*10)-5,r=Math.floor(Math.random()*10)-5,n=[{q:`Point (${e}, ${r}): What is the x-coordinate?`,a:e,exp:`In (${e}, ${r}), x = ${e}.`},{q:`Point (${e}, ${r}): What is the y-coordinate?`,a:r,exp:`In (${e}, ${r}), y = ${r}.`}],i=n[Math.floor(Math.random()*n.length)];return{question:i.q,answer:i.a,options:Eo(i.a),explanation:i.exp}}function h2e(t){const e={easy:[{q:"Bar chart: A=5, B=3, C=7. Which is tallest?",a:2,opts:[0,1,2],optionsDisplay:["A","B","C"],exp:"C has value 7, which is highest."},{q:"Line plot: Mon=10, Tue=15, Wed=12. Which day had most?",a:1,opts:[0,1,2],optionsDisplay:["Mon","Tue","Wed"],exp:"Tuesday had 15, the highest value."}],medium:[{q:"Pie chart: 50% red, 30% blue, 20% green. Largest?",a:0,opts:[0,1,2],optionsDisplay:["Red","Blue","Green"],exp:"Red at 50% is largest."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,optionsDisplay:n.optionsDisplay,explanation:n.exp}}function f2e(t){const e={easy:[{q:"Flip a coin. Probability of heads?",a:.5,opts:[.25,.5,.75,1],display:"1/2",exp:"2 outcomes, 1 is heads. P = 1/2."},{q:"Roll a die. Probability of rolling 6?",a:.17,opts:[.17,.33,.5,.67],display:"1/6",exp:"6 outcomes, 1 is six. P = 1/6."}],medium:[{q:"Bag: 3 red, 2 blue. Probability of red?",a:.6,opts:[.2,.4,.6,.8],display:"3/5",exp:"5 total, 3 red. P = 3/5 = 0.6."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function LY(t){const e={easy:[{q:"Solve: x + 5 = 12",a:7,opts:[5,6,7,8],exp:"Subtract 5 from both sides: x = 12 - 5 = 7."},{q:"Solve: x - 3 = 10",a:13,opts:[7,10,13,16],exp:"Add 3 to both sides: x = 10 + 3 = 13."}],medium:[{q:"Solve: 2x = 16",a:8,opts:[6,7,8,9],exp:"Divide both sides by 2: x = 16  2 = 8."},{q:"Solve: x/3 = 5",a:15,opts:[2,8,15,18],exp:"Multiply both sides by 3: x = 5  3 = 15."}],hard:[{q:"Solve: 3x + 5 = 20",a:5,opts:[3,4,5,6],exp:"Subtract 5: 3x = 15. Divide by 3: x = 5."},{q:"Solve: 2x - 7 = 11",a:9,opts:[4,7,9,11],exp:"Add 7: 2x = 18. Divide by 2: x = 9."}]},r=e[t]||e.easy,n=r[Math.floor(Math.random()*r.length)];return{question:n.q,answer:n.a,options:n.opts,explanation:n.exp}}function m2e(t){return LY(t)}function p2e(t){const e=["addition","subtraction","multiplication","division"],r=e[Math.floor(Math.random()*e.length)];return Ks(r,t)}function g2e(t){const e={easy:{min:1,max:20},medium:{min:10,max:50},hard:{min:20,max:100}},r=e[t]||e.easy,n=Math.floor(Math.random()*(r.max-r.min))+r.min,i=Math.floor(Math.random()*(r.max-r.min))+r.min,s=["+","-",""],o=s[Math.floor(Math.random()*s.length)];let l;return o==="+"?l=n+i:o==="-"?l=Math.abs(n-i):l=n*i,{question:`${n} ${o} ${i}`,answer:l,options:Eo(l),explanation:`Quick calculation: ${l}`}}function Eo(t,e=0){const r=[t],n=Math.max(Math.abs(t)*.3,5);for(;r.length<4;){const i=Math.random()*n*2-n;let s=t+i;e>0?s=parseFloat(s.toFixed(e)):s=Math.round(s),s>0&&!r.includes(s)&&s!==t&&r.push(s)}return r.sort(()=>Math.random()-.5)}function $Y(){var Ae;const t=yu(),e=wn(),r=new URLSearchParams(window.location.search),n=r.get("operation"),i=r.get("level"),[s,o]=S.useState(n),[l,c]=S.useState(i),[d,f]=S.useState(0),[m,p]=S.useState([]),[v,w]=S.useState([]),[x,g]=S.useState(0),[_,T]=S.useState(!1),[P,k]=S.useState(Date.now()),[A,C]=S.useState(!1),[E,j]=S.useState(0),[O,R]=S.useState(!1),[L,$]=S.useState(null),[F,G]=S.useState(!1),[K,Y]=S.useState(null),[J,U]=S.useState({}),[X,ie]=S.useState(!1),W=10,{data:ee=[]}=ft({queryKey:["recentProgress"],queryFn:async()=>{const ve=or(Mt),De=Ta(In(ve,"gameProgress"),li("created_by","==","USER_EMAIL"));return(await Ii(De)).docs.map(qe=>qe.data()).slice(0,5)},initialData:[]}),{data:de}=ft({queryKey:["currentUser"],queryFn:async()=>(or(Mt),null)}),ce=(de==null?void 0:de.parental_controls)||{},be=ce.focus_operations||[];ce.focus_priority;const ye=ce.focus_reminder_frequency||"never",pe=ce.allowed_operations||["addition","subtraction","multiplication","division"],Ie=ce.allowed_levels||["easy","medium","hard","expert"],me=hr(new Date,"yyyy-MM-dd"),Re=((de==null?void 0:de.daily_usage_tracking)||{})[me]||{total_minutes:0,by_operation:{}},fe=ce.daily_time_limit_minutes||0,ct=ce.time_limits_by_operation||{},tt=ce.enforce_time_limits!==!1,Ot=pe.includes(s),Rt=Ie.includes(l),Yt=tt&&fe>0&&(Re.total_minutes||0)>=fe,Kr=tt&&s&&ct[s]&&(((Ae=Re.by_operation)==null?void 0:Ae[s])||0)>=ct[s];S.useEffect(()=>{be.length>0&&ye==="every_session"&&!be.includes(s)&&ie(!0)},[s,be,ye]),S.useEffect(()=>{Ar(),k(Date.now())},[s,l]),S.useEffect(()=>{if(!_){const ve=setInterval(()=>{j(Math.floor((Date.now()-P)/1e3))},1e3);return()=>clearInterval(ve)}},[P,_]);const Dt=()=>{if(ee.length<3)return null;const ve=ee.map(lt=>lt.correct_answers/lt.total_questions*100),De=ve.reduce((lt,qe)=>lt+qe,0)/ve.length;return De>=90&&l!=="expert"?"harder":De<60&&l!=="easy"?"easier":null},ir=ve=>{ve==="harder"?l==="easy"?c("medium"):l==="medium"?c("hard"):l==="hard"&&c("expert"):ve==="easier"&&(l==="expert"?c("hard"):l==="hard"?c("medium"):l==="medium"&&c("easy"))},Ar=()=>{const ve=[];for(let De=0;De<W;De++)ve.push(Ks(s,l));p(ve)},jn=(ve,De)=>{let lt=ve*5;return De<60?lt+=20:De<120&&(lt+=10),ve===W&&(lt+=30),J.double_coins&&(lt*=2),lt},gi=Pr({mutationFn:ve=>base44.entities.GameProgress.create(ve),onSuccess:(ve,De)=>{var St;e.invalidateQueries({queryKey:["gameProgress"]}),e.invalidateQueries({queryKey:["recentProgress"]}),e.invalidateQueries({queryKey:["currentUser"]});const lt=De.coins_earned||0,qe=((de==null?void 0:de.coins)||0)+lt,vt=de==null?void 0:de.active_pet;if(vt){const Nt=((St=de==null?void 0:de.pet_experience)==null?void 0:St[vt])||0,fr=De.correct_answers*10,Mn={...(de==null?void 0:de.pet_experience)||{},[vt]:Nt+fr};base44.auth.updateMe({coins:qe,pet_experience:Mn})}else base44.auth.updateMe({coins:qe})}}),ws=ve=>{const De=ve===m[d].answer;w([...v,{question:d,correct:De}]),De?(g(x+10),C(!0),setTimeout(()=>C(!1),1e3),setTimeout(()=>{Rn()},500)):($({question:m[d].question,correctAnswer:m[d].answer,userAnswer:ve,explanation:m[d].explanation}),R(!0))},Rn=()=>{if(d<W-1){if(f(d+1),(d+1)%3===0){const ve=Dt();ve&&(Y(ve),G(!0),ir(ve),setTimeout(()=>{Ar()},2e3))}}else Zs()},Zs=()=>{const ve=Math.floor((Date.now()-P)/1e3),De=v.filter(fr=>fr.correct).length;let lt=x;J.double_stars&&(lt*=2);let qe=0;const vt=De/W*100;vt>=90?qe=3:vt>=70?qe=2:vt>=50&&(qe=1),J.double_stars&&qe>0&&(qe=Math.min(qe*2,3));const St=jn(De,ve),Nt={addition:"Practice adding numbers accurately",subtraction:"Practice subtracting numbers accurately",multiplication:"Master multiplication facts and techniques",division:"Understand division and practice calculations",fractions:"Work with fractions - add, subtract, multiply, divide",decimals:"Practice decimal operations",percentages:"Calculate percentages",word_problems:"Apply math to real-world scenarios",money:"Work with dollars and cents",time:"Practice telling time and calculating elapsed time",geometry:"Understand shapes, area, perimeter, and volume",mixed:"Practice multiple operations"};gi.mutate({level:l,operation:s,score:lt,correct_answers:De,total_questions:W,time_taken:ve,stars_earned:qe,coins_earned:St,learning_objective:Nt[s]||"Mathematical problem solving"}),setTimeout(()=>{T(!0)},500)},ea=()=>{R(!1),$(null),Rn()};if(!s||!l)return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 text-center",children:[a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Invalid game configuration"}),a.jsx(le,{onClick:()=>t(Ge("Home")),children:"Go Back Home"})]});if(!Ot||!Rt)return a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsx(re,{className:"border-4 border-red-300 shadow-xl",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(ui,{className:"w-16 h-16 mx-auto mb-4 text-red-500"}),a.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-700",children:"Content Restricted"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:[!Ot&&"This math concept is currently restricted by your parent.",!Rt&&Ot&&"This difficulty level is currently restricted by your parent."]}),a.jsxs(le,{onClick:()=>t(Ge("Home")),children:[a.jsx(Ad,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})})});if(Yt||Kr)return a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsx(re,{className:"border-4 border-orange-300 shadow-xl",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(_r,{className:"w-16 h-16 mx-auto mb-4 text-orange-500"}),a.jsx("h2",{className:"text-2xl font-bold mb-4 text-orange-700",children:"Time Limit Reached"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"You've used your allotted time for today. Great job practicing! Come back tomorrow to continue learning."}),a.jsx("div",{className:"text-sm text-gray-500 mb-6",children:"Time resets at midnight "}),a.jsxs(le,{onClick:()=>t(Ge("Home")),children:[a.jsx(Ad,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})})});if(m.length===0)return a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Loading your challenge..."})]})});if(_){const ve=v.filter(De=>De.correct).length;return a.jsx(LSe,{score:x,correctAnswers:ve,totalQuestions:W,timeTaken:E,operation:s,level:l,coinsEarned:jn(ve,E),activePowerUps:J})}const Mi=(d+1)/W*100;return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[A&&a.jsx(DY,{}),O&&L&&a.jsx($Se,{question:L.question,correctAnswer:L.correctAnswer,userAnswer:L.userAnswer,explanation:L.explanation,operation:s,level:l,onContinue:ea}),F&&a.jsx(FSe,{adjustment:K,onClose:()=>G(!1)}),X&&a.jsxs(ze,{className:"mb-6 bg-purple-50 border-purple-300",children:[a.jsx(Jt,{className:"w-5 h-5 text-purple-600"}),a.jsxs(We,{className:"text-purple-800 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Parent Suggestion:"})," Your parent recommends focusing on"," ",be.join(", "),". Try playing those games!"]}),a.jsx(le,{variant:"ghost",size:"sm",onClick:()=>ie(!1),className:"ml-4 text-purple-700 hover:bg-purple-100",children:"Got it"})]})]}),a.jsx(VSe,{operation:s}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs(le,{variant:"outline",onClick:()=>t(Ge("Home")),className:"gap-2",children:[a.jsx(Ad,{className:"w-4 h-4"}),"Back"]}),a.jsxs("div",{className:"flex items-center gap-4",children:[Object.keys(J).length>0&&a.jsxs(je,{variant:"outline",className:"text-lg px-4 py-2 bg-yellow-50 border-yellow-300",children:[a.jsx(Wn,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Power-Ups Active"]}),a.jsxs(je,{variant:"outline",className:"text-lg px-4 py-2 bg-white",children:[a.jsx(yn,{className:"w-5 h-5 mr-2 text-purple-500"}),"AI Tutor Active"]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-md",children:[a.jsx(_r,{className:"w-5 h-5 text-blue-500"}),a.jsxs("span",{className:"font-bold text-gray-800",children:[E,"s"]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-md",children:[a.jsx(It,{className:"w-5 h-5 text-yellow-500"}),a.jsx("span",{className:"font-bold text-gray-800",children:x})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Question ",d+1," of ",W]}),a.jsxs("span",{children:[Math.round(Mi),"%"]})]}),a.jsx(Sl,{value:Mi,className:"h-3"})]})]}),m.length>0&&a.jsx(MY,{question:m[d],onAnswer:ws,questionNumber:d+1})]})}function y2e({progress:t}){const e=[{id:"first_game",name:"First Steps",description:"Complete your first game",icon:Tt,color:"from-blue-400 to-blue-600",unlocked:t.length>=1},{id:"ten_games",name:"Practice Makes Perfect",description:"Play 10 games",icon:Wn,color:"from-yellow-400 to-orange-600",unlocked:t.length>=10},{id:"perfect_score",name:"Perfect Score",description:"Get 100% on any level",icon:It,color:"from-purple-400 to-pink-600",unlocked:t.some(r=>r.correct_answers/r.total_questions===1)},{id:"three_stars",name:"Star Collector",description:"Earn 3 stars in a game",icon:Tt,color:"from-yellow-400 to-yellow-600",unlocked:t.some(r=>r.stars_earned===3)},{id:"speed_demon",name:"Speed Demon",description:"Complete a game in under 60 seconds",icon:ff,color:"from-red-400 to-orange-600",unlocked:t.some(r=>r.time_taken<60)},{id:"master",name:"Math Master",description:"Complete all operations on hard",icon:Qn,color:"from-indigo-400 to-purple-600",unlocked:["addition","subtraction","multiplication","division"].every(r=>t.some(n=>n.operation===r&&n.level==="hard"&&n.stars_earned>=2))}];return a.jsxs(re,{className:"mb-8",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Qn,{className:"w-6 h-6 text-purple-500"}),"Achievements"]})}),a.jsx(ne,{children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:e.map(r=>{const n=r.icon;return a.jsxs("div",{className:`text-center p-4 rounded-xl border-2 transition-all ${r.unlocked?"bg-gradient-to-br "+r.color+" text-white border-transparent shadow-lg":"bg-gray-100 border-gray-200 opacity-50"}`,children:[a.jsx(n,{className:`w-12 h-12 mx-auto mb-2 ${r.unlocked?"":"text-gray-400"}`}),a.jsx("h4",{className:"font-bold text-sm mb-1",children:r.name}),a.jsx("p",{className:`text-xs ${r.unlocked?"text-white/90":"text-gray-500"}`,children:r.description})]},r.id)})})})]})}var bS,FL;function Zi(){if(FL)return bS;FL=1;var t=Array.isArray;return bS=t,bS}var wS,VL;function FY(){if(VL)return wS;VL=1;var t=typeof sx=="object"&&sx&&sx.Object===Object&&sx;return wS=t,wS}var _S,BL;function Po(){if(BL)return _S;BL=1;var t=FY(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return _S=r,_S}var jS,qL;function L0(){if(qL)return jS;qL=1;var t=Po(),e=t.Symbol;return jS=e,jS}var NS,UL;function v2e(){if(UL)return NS;UL=1;var t=L0(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(o){var l=r.call(o,i),c=o[i];try{o[i]=void 0;var d=!0}catch{}var f=n.call(o);return d&&(l?o[i]=c:delete o[i]),f}return NS=s,NS}var SS,zL;function x2e(){if(zL)return SS;zL=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return SS=r,SS}var TS,WL;function Fl(){if(WL)return TS;WL=1;var t=L0(),e=v2e(),r=x2e(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:s&&s in Object(l)?e(l):r(l)}return TS=o,TS}var ES,HL;function Vl(){if(HL)return ES;HL=1;function t(e){return e!=null&&typeof e=="object"}return ES=t,ES}var PS,GL;function Xm(){if(GL)return PS;GL=1;var t=Fl(),e=Vl(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return PS=n,PS}var AS,KL;function QO(){if(KL)return AS;KL=1;var t=Zi(),e=Xm(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return AS=i,AS}var CS,YL;function bu(){if(YL)return CS;YL=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return CS=t,CS}var kS,QL;function XO(){if(QL)return kS;QL=1;var t=Fl(),e=bu(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==i||c==r||c==s}return kS=o,kS}var IS,XL;function b2e(){if(XL)return IS;XL=1;var t=Po(),e=t["__core-js_shared__"];return IS=e,IS}var OS,JL;function w2e(){if(JL)return OS;JL=1;var t=b2e(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return OS=r,OS}var RS,ZL;function VY(){if(ZL)return RS;ZL=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return RS=r,RS}var MS,e$;function _2e(){if(e$)return MS;e$=1;var t=XO(),e=w2e(),r=bu(),n=VY(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,f=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(p){if(!r(p)||e(p))return!1;var v=t(p)?f:s;return v.test(n(p))}return MS=m,MS}var DS,t$;function j2e(){if(t$)return DS;t$=1;function t(e,r){return e==null?void 0:e[r]}return DS=t,DS}var LS,r$;function dh(){if(r$)return LS;r$=1;var t=_2e(),e=j2e();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return LS=r,LS}var $S,n$;function i_(){if(n$)return $S;n$=1;var t=dh(),e=t(Object,"create");return $S=e,$S}var FS,i$;function N2e(){if(i$)return FS;i$=1;var t=i_();function e(){this.__data__=t?t(null):{},this.size=0}return FS=e,FS}var VS,s$;function S2e(){if(s$)return VS;s$=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return VS=t,VS}var BS,a$;function T2e(){if(a$)return BS;a$=1;var t=i_(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(t){var l=o[s];return l===e?void 0:l}return n.call(o,s)?o[s]:void 0}return BS=i,BS}var qS,o$;function E2e(){if(o$)return qS;o$=1;var t=i_(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return qS=n,qS}var US,l$;function P2e(){if(l$)return US;l$=1;var t=i_(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return US=r,US}var zS,c$;function A2e(){if(c$)return zS;c$=1;var t=N2e(),e=S2e(),r=T2e(),n=E2e(),i=P2e();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,zS=s,zS}var WS,u$;function C2e(){if(u$)return WS;u$=1;function t(){this.__data__=[],this.size=0}return WS=t,WS}var HS,d$;function JO(){if(d$)return HS;d$=1;function t(e,r){return e===r||e!==e&&r!==r}return HS=t,HS}var GS,h$;function s_(){if(h$)return GS;h$=1;var t=JO();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return GS=e,GS}var KS,f$;function k2e(){if(f$)return KS;f$=1;var t=s_(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return KS=n,KS}var YS,m$;function I2e(){if(m$)return YS;m$=1;var t=s_();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return YS=e,YS}var QS,p$;function O2e(){if(p$)return QS;p$=1;var t=s_();function e(r){return t(this.__data__,r)>-1}return QS=e,QS}var XS,g$;function R2e(){if(g$)return XS;g$=1;var t=s_();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return XS=e,XS}var JS,y$;function a_(){if(y$)return JS;y$=1;var t=C2e(),e=k2e(),r=I2e(),n=O2e(),i=R2e();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,JS=s,JS}var ZS,v$;function ZO(){if(v$)return ZS;v$=1;var t=dh(),e=Po(),r=t(e,"Map");return ZS=r,ZS}var e2,x$;function M2e(){if(x$)return e2;x$=1;var t=A2e(),e=a_(),r=ZO();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return e2=n,e2}var t2,b$;function D2e(){if(b$)return t2;b$=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return t2=t,t2}var r2,w$;function o_(){if(w$)return r2;w$=1;var t=D2e();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return r2=e,r2}var n2,_$;function L2e(){if(_$)return n2;_$=1;var t=o_();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return n2=e,n2}var i2,j$;function $2e(){if(j$)return i2;j$=1;var t=o_();function e(r){return t(this,r).get(r)}return i2=e,i2}var s2,N$;function F2e(){if(N$)return s2;N$=1;var t=o_();function e(r){return t(this,r).has(r)}return s2=e,s2}var a2,S$;function V2e(){if(S$)return a2;S$=1;var t=o_();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return a2=e,a2}var o2,T$;function eR(){if(T$)return o2;T$=1;var t=M2e(),e=L2e(),r=$2e(),n=F2e(),i=V2e();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,o2=s,o2}var l2,E$;function BY(){if(E$)return l2;E$=1;var t=eR(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var d=n.apply(this,o);return s.cache=c.set(l,d)||c,d};return s.cache=new(r.Cache||t),s}return r.Cache=t,l2=r,l2}var c2,P$;function B2e(){if(P$)return c2;P$=1;var t=BY(),e=500;function r(n){var i=t(n,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return c2=r,c2}var u2,A$;function q2e(){if(A$)return u2;A$=1;var t=B2e(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,l,c,d){s.push(c?d.replace(r,"$1"):l||o)}),s});return u2=n,u2}var d2,C$;function tR(){if(C$)return d2;C$=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return d2=t,d2}var h2,k$;function U2e(){if(k$)return h2;k$=1;var t=L0(),e=tR(),r=Zi(),n=Xm(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return h2=o,h2}var f2,I$;function qY(){if(I$)return f2;I$=1;var t=U2e();function e(r){return r==null?"":t(r)}return f2=e,f2}var m2,O$;function UY(){if(O$)return m2;O$=1;var t=Zi(),e=QO(),r=q2e(),n=qY();function i(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return m2=i,m2}var p2,R$;function l_(){if(R$)return p2;R$=1;var t=Xm();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return p2=e,p2}var g2,M$;function rR(){if(M$)return g2;M$=1;var t=UY(),e=l_();function r(n,i){i=t(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[e(i[s++])];return s&&s==o?n:void 0}return g2=r,g2}var y2,D$;function zY(){if(D$)return y2;D$=1;var t=rR();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return y2=e,y2}var z2e=zY();const vs=er(z2e);var v2,L$;function W2e(){if(L$)return v2;L$=1;function t(e){return e==null}return v2=t,v2}var H2e=W2e();const gt=er(H2e);var x2,$$;function G2e(){if($$)return x2;$$=1;var t=Fl(),e=Zi(),r=Vl(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return x2=i,x2}var K2e=G2e();const Kd=er(K2e);var Y2e=XO();const it=er(Y2e);var Q2e=bu();const Jm=er(Q2e);var b2={exports:{}},sr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F$;function X2e(){if(F$)return sr;F$=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function x(g){if(typeof g=="object"&&g!==null){var _=g.$$typeof;switch(_){case t:switch(g=g.type,g){case r:case i:case n:case d:case f:return g;default:switch(g=g&&g.$$typeof,g){case l:case o:case c:case p:case m:case s:return g;default:return _}}case e:return _}}}return sr.ContextConsumer=o,sr.ContextProvider=s,sr.Element=t,sr.ForwardRef=c,sr.Fragment=r,sr.Lazy=p,sr.Memo=m,sr.Portal=e,sr.Profiler=i,sr.StrictMode=n,sr.Suspense=d,sr.SuspenseList=f,sr.isAsyncMode=function(){return!1},sr.isConcurrentMode=function(){return!1},sr.isContextConsumer=function(g){return x(g)===o},sr.isContextProvider=function(g){return x(g)===s},sr.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===t},sr.isForwardRef=function(g){return x(g)===c},sr.isFragment=function(g){return x(g)===r},sr.isLazy=function(g){return x(g)===p},sr.isMemo=function(g){return x(g)===m},sr.isPortal=function(g){return x(g)===e},sr.isProfiler=function(g){return x(g)===i},sr.isStrictMode=function(g){return x(g)===n},sr.isSuspense=function(g){return x(g)===d},sr.isSuspenseList=function(g){return x(g)===f},sr.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===i||g===n||g===d||g===f||g===v||typeof g=="object"&&g!==null&&(g.$$typeof===p||g.$$typeof===m||g.$$typeof===s||g.$$typeof===o||g.$$typeof===c||g.$$typeof===w||g.getModuleId!==void 0)},sr.typeOf=x,sr}var V$;function J2e(){return V$||(V$=1,b2.exports=X2e()),b2.exports}var Z2e=J2e(),w2,B$;function WY(){if(B$)return w2;B$=1;var t=Fl(),e=Vl(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return w2=n,w2}var _2,q$;function eTe(){if(q$)return _2;q$=1;var t=WY();function e(r){return t(r)&&r!=+r}return _2=e,_2}var tTe=eTe();const Zm=er(tTe);var rTe=WY();const nTe=er(rTe);var Ei=function(e){return e===0?0:e>0?1:-1},md=function(e){return Kd(e)&&e.indexOf("%")===e.length-1},ke=function(e){return nTe(e)&&!Zm(e)},iTe=function(e){return gt(e)},vn=function(e){return ke(e)||Kd(e)},sTe=0,hh=function(e){var r=++sTe;return"".concat(e||"").concat(r)},Pi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&!Kd(e))return n;var s;if(md(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return Zm(s)&&(s=n),i&&s>r&&(s=r),s},Cc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},aTe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Dr=function(e,r){return ke(e)&&ke(r)?function(n){return e+n*(r-e)}:function(){return r}};function aw(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):vs(n,e))===r})}var oTe=function(e,r){return ke(e)&&ke(r)?e-r:Kd(e)&&Kd(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Mf(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function KA(t){"@babel/helpers - typeof";return KA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KA(t)}var lTe=["viewBox","children"],cTe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],U$=["points","pathLength"],j2={svg:lTe,polygon:U$,polyline:U$},nR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ow=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),!Jm(n))return null;var i={};return Object.keys(n).forEach(function(s){nR.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},uTe=function(e,r,n){return function(i){return e(r,n,i),null}},Yd=function(e,r,n){if(!Jm(e)||KA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];nR.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=uTe(o,r,n))}),i},dTe=["children"],hTe=["children"];function z$(t,e){if(t==null)return{};var r=fTe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YA(t){"@babel/helpers - typeof";return YA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YA(t)}var W$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},hl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},H$=null,N2=null,iR=function t(e){if(e===H$&&Array.isArray(N2))return N2;var r=[];return S.Children.forEach(e,function(n){gt(n)||(Z2e.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),N2=r,H$=e,r};function xs(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return hl(i)}):n=[hl(e)],iR(t).forEach(function(i){var s=vs(i,"type.displayName")||vs(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function ds(t,e){var r=xs(t,e);return r&&r[0]}var G$=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ke(n)||n<=0||!ke(i)||i<=0)},mTe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pTe=function(e){return e&&e.type&&Kd(e.type)&&mTe.indexOf(e.type)>=0},HY=function(e){return e&&YA(e)==="object"&&"clipDot"in e},gTe=function(e,r,n,i){var s,o=(s=j2==null?void 0:j2[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!it(e)&&(i&&o.includes(r)||cTe.includes(r))||n&&nR.includes(r)},Xe=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(S.isValidElement(e)&&(i=e.props),!Jm(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;gTe((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},QA=function t(e,r){if(e===r)return!0;var n=S.Children.count(e);if(n!==S.Children.count(r))return!1;if(n===0)return!0;if(n===1)return K$(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!K$(s,o))return!1}return!0},K$=function(e,r){if(gt(e)&&gt(r))return!0;if(!gt(e)&&!gt(r)){var n=e.props||{},i=n.children,s=z$(n,dTe),o=r.props||{},l=o.children,c=z$(o,hTe);return i&&l?Mf(s,c)&&QA(i,l):!i&&!l?Mf(s,c):!1}return!1},Y$=function(e,r){var n=[],i={};return iR(e).forEach(function(s,o){if(pTe(s))n.push(s);else if(s){var l=hl(s.type),c=r[l]||{},d=c.handler,f=c.once;if(d&&(!f||!i[l])){var m=d(s,l,o);n.push(m),i[l]=!0}}}),n},yTe=function(e){var r=e&&e.type;return r&&W$[r]?W$[r]:null},vTe=function(e,r){return iR(r).indexOf(e)},xTe=["children","width","height","viewBox","className","style","title","desc"];function XA(){return XA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XA.apply(this,arguments)}function bTe(t,e){if(t==null)return{};var r=wTe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JA(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,d=bTe(t,xTe),f=i||{width:r,height:n,x:0,y:0},m=mt("recharts-surface",s);return z.createElement("svg",XA({},Xe(d,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),z.createElement("title",null,l),z.createElement("desc",null,c),e)}var _Te=["children","className"];function ZA(){return ZA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZA.apply(this,arguments)}function jTe(t,e){if(t==null)return{};var r=NTe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var At=z.forwardRef(function(t,e){var r=t.children,n=t.className,i=jTe(t,_Te),s=mt("recharts-layer",n);return z.createElement("g",ZA({className:s},Xe(i,!0),{ref:e}),r)}),ba=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},S2,Q$;function STe(){if(Q$)return S2;Q$=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+r];return o}return S2=t,S2}var T2,X$;function TTe(){if(X$)return T2;X$=1;var t=STe();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return T2=e,T2}var E2,J$;function GY(){if(J$)return E2;J$=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+s+"]");function c(d){return l.test(d)}return E2=c,E2}var P2,Z$;function ETe(){if(Z$)return P2;Z$=1;function t(e){return e.split("")}return P2=t,P2}var A2,eF;function PTe(){if(eF)return A2;eF=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",f="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",w=d+"?",x="["+s+"]?",g="(?:"+v+"(?:"+[f,m,p].join("|")+")"+x+w+")*",_=x+w+g,T="(?:"+[f+l+"?",l,m,p,o].join("|")+")",P=RegExp(c+"(?="+c+")|"+T+_,"g");function k(A){return A.match(P)||[]}return A2=k,A2}var C2,tF;function ATe(){if(tF)return C2;tF=1;var t=ETe(),e=GY(),r=PTe();function n(i){return e(i)?r(i):t(i)}return C2=n,C2}var k2,rF;function CTe(){if(rF)return k2;rF=1;var t=TTe(),e=GY(),r=ATe(),n=qY();function i(s){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[s]()+d}}return k2=i,k2}var I2,nF;function kTe(){if(nF)return I2;nF=1;var t=CTe(),e=t("toUpperCase");return I2=e,I2}var ITe=kTe();const c_=er(ITe);function br(t){return function(){return t}}const KY=Math.cos,lw=Math.sin,ka=Math.sqrt,cw=Math.PI,u_=2*cw,eC=Math.PI,tC=2*eC,ad=1e-6,OTe=tC-ad;function YY(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function RTe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return YY;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class MTe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?YY:RTe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-e,d=i-r,f=o-e,m=l-r,p=f*f+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>ad)if(!(Math.abs(m*c-d*f)>ad)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-o,w=i-l,x=c*c+d*d,g=v*v+w*w,_=Math.sqrt(x),T=Math.sqrt(p),P=s*Math.tan((eC-Math.acos((x+p-g)/(2*_*T)))/2),k=P/T,A=P/_;Math.abs(k-1)>ad&&this._append`L${e+k*f},${r+k*m}`,this._append`A${s},${s},0,0,${+(m*v>f*w)},${this._x1=e+A*c},${this._y1=r+A*d}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),d=e+l,f=r+c,m=1^o,p=o?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>ad||Math.abs(this._y1-f)>ad)&&this._append`L${d},${f}`,n&&(p<0&&(p=p%tC+tC),p>OTe?this._append`A${n},${n},0,1,${m},${e-l},${r-c}A${n},${n},0,1,${m},${this._x1=d},${this._y1=f}`:p>ad&&this._append`A${n},${n},0,${+(p>=eC)},${m},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function sR(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new MTe(e)}function aR(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function QY(t){this._context=t}QY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function d_(t){return new QY(t)}function XY(t){return t[0]}function JY(t){return t[1]}function ZY(t,e){var r=br(!0),n=null,i=d_,s=null,o=sR(l);t=typeof t=="function"?t:t===void 0?XY:br(t),e=typeof e=="function"?e:e===void 0?JY:br(e);function l(c){var d,f=(c=aR(c)).length,m,p=!1,v;for(n==null&&(s=i(v=o())),d=0;d<=f;++d)!(d<f&&r(m=c[d],d,c))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(m,d,c),+e(m,d,c));if(v)return s=null,v+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:br(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:br(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:br(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function Cx(t,e,r){var n=null,i=br(!0),s=null,o=d_,l=null,c=sR(d);t=typeof t=="function"?t:t===void 0?XY:br(+t),e=typeof e=="function"?e:br(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?JY:br(+r);function d(m){var p,v,w,x=(m=aR(m)).length,g,_=!1,T,P=new Array(x),k=new Array(x);for(s==null&&(l=o(T=c())),p=0;p<=x;++p){if(!(p<x&&i(g=m[p],p,m))===_)if(_=!_)v=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=p-1;w>=v;--w)l.point(P[w],k[w]);l.lineEnd(),l.areaEnd()}_&&(P[p]=+t(g,p,m),k[p]=+e(g,p,m),l.point(n?+n(g,p,m):P[p],r?+r(g,p,m):k[p]))}if(T)return l=null,T+""||null}function f(){return ZY().defined(i).curve(o).context(s)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:br(+m),n=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:br(+m),d):t},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:br(+m),d):n},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:br(+m),r=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:br(+m),d):e},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:br(+m),d):r},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(r)},d.lineX1=function(){return f().x(n).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:br(!!m),d):i},d.curve=function(m){return arguments.length?(o=m,s!=null&&(l=o(s)),d):o},d.context=function(m){return arguments.length?(m==null?s=l=null:l=o(s=m),d):s},d}class eQ{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function DTe(t){return new eQ(t,!0)}function LTe(t){return new eQ(t,!1)}const oR={draw(t,e){const r=ka(e/cw);t.moveTo(r,0),t.arc(0,0,r,0,u_)}},$Te={draw(t,e){const r=ka(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},tQ=ka(1/3),FTe=tQ*2,VTe={draw(t,e){const r=ka(e/FTe),n=r*tQ;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},BTe={draw(t,e){const r=ka(e),n=-r/2;t.rect(n,n,r,r)}},qTe=.8908130915292852,rQ=lw(cw/10)/lw(7*cw/10),UTe=lw(u_/10)*rQ,zTe=-KY(u_/10)*rQ,WTe={draw(t,e){const r=ka(e*qTe),n=UTe*r,i=zTe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=u_*s/5,l=KY(o),c=lw(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},O2=ka(3),HTe={draw(t,e){const r=-ka(e/(O2*3));t.moveTo(0,r*2),t.lineTo(-O2*r,-r),t.lineTo(O2*r,-r),t.closePath()}},Os=-.5,Rs=ka(3)/2,rC=1/ka(12),GTe=(rC/2+1)*3,KTe={draw(t,e){const r=ka(e/GTe),n=r/2,i=r*rC,s=n,o=r*rC+r,l=-s,c=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(Os*n-Rs*i,Rs*n+Os*i),t.lineTo(Os*s-Rs*o,Rs*s+Os*o),t.lineTo(Os*l-Rs*c,Rs*l+Os*c),t.lineTo(Os*n+Rs*i,Os*i-Rs*n),t.lineTo(Os*s+Rs*o,Os*o-Rs*s),t.lineTo(Os*l+Rs*c,Os*c-Rs*l),t.closePath()}};function YTe(t,e){let r=null,n=sR(i);t=typeof t=="function"?t:br(t||oR),e=typeof e=="function"?e:br(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:br(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:br(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function uw(){}function dw(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function nQ(t){this._context=t}nQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function QTe(t){return new nQ(t)}function iQ(t){this._context=t}iQ.prototype={areaStart:uw,areaEnd:uw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:dw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function XTe(t){return new iQ(t)}function sQ(t){this._context=t}sQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:dw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JTe(t){return new sQ(t)}function aQ(t){this._context=t}aQ.prototype={areaStart:uw,areaEnd:uw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ZTe(t){return new aQ(t)}function iF(t){return t<0?-1:1}function sF(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(iF(s)+iF(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function aF(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function R2(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,i+l*e,s-l,o-l*r,s,o)}function hw(t){this._context=t}hw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:R2(this,this._t0,aF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,R2(this,aF(this,r=sF(this,t,e)),r);break;default:R2(this,this._t0,r=sF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function oQ(t){this._context=new lQ(t)}(oQ.prototype=Object.create(hw.prototype)).point=function(t,e){hw.prototype.point.call(this,e,t)};function lQ(t){this._context=t}lQ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function eEe(t){return new hw(t)}function tEe(t){return new oQ(t)}function cQ(t){this._context=t}cQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=oF(t),i=oF(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function oF(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function rEe(t){return new cQ(t)}function h_(t,e){this._context=t,this._t=e}h_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function nEe(t){return new h_(t,.5)}function iEe(t){return new h_(t,0)}function sEe(t){return new h_(t,1)}function am(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,l=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function nC(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function aEe(t,e){return t[e]}function oEe(t){const e=[];return e.key=t,e}function lEe(){var t=br([]),e=nC,r=am,n=aEe;function i(s){var o=Array.from(t.apply(this,arguments),oEe),l,c=o.length,d=-1,f;for(const m of s)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(m,o[l].key,d,s)]).data=m;for(l=0,f=aR(e(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:br(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:br(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?nC:typeof s=="function"?s:br(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??am,i):r},i}function cEe(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}am(t,e)}}function uEe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}am(t,e)}}function dEe(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,d=0;l<o;++l){for(var f=t[e[l]],m=f[n][1]||0,p=f[n-1][1]||0,v=(m-p)/2,w=0;w<l;++w){var x=t[e[w]],g=x[n][1]||0,_=x[n-1][1]||0;v+=g-_}c+=m,d+=v*m}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,am(t,e)}}function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}var hEe=["type","size","sizeType"];function iC(){return iC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iC.apply(this,arguments)}function lF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lF(Object(r),!0).forEach(function(n){fEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fEe(t,e,r){return e=mEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mEe(t){var e=pEe(t,"string");return wy(e)=="symbol"?e:e+""}function pEe(t,e){if(wy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gEe(t,e){if(t==null)return{};var r=yEe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uQ={symbolCircle:oR,symbolCross:$Te,symbolDiamond:VTe,symbolSquare:BTe,symbolStar:WTe,symbolTriangle:HTe,symbolWye:KTe},vEe=Math.PI/180,xEe=function(e){var r="symbol".concat(c_(e));return uQ[r]||oR},bEe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*vEe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},wEe=function(e,r){uQ["symbol".concat(c_(e))]=r},lR=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=gEe(e,hEe),d=cF(cF({},c),{},{type:n,size:s,sizeType:l}),f=function(){var g=xEe(n),_=YTe().type(g).size(bEe(s,l,n));return _()},m=d.className,p=d.cx,v=d.cy,w=Xe(d,!0);return p===+p&&v===+v&&s===+s?z.createElement("path",iC({},w,{className:mt("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(v,")"),d:f()})):null};lR.registerSymbol=wEe;function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function sC(){return sC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sC.apply(this,arguments)}function uF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _Ee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(r),!0).forEach(function(n){_y(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hQ(n.key),n)}}function SEe(t,e,r){return e&&NEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TEe(t,e,r){return e=fw(e),EEe(t,dQ()?Reflect.construct(e,r||[],fw(t).constructor):e.apply(t,r))}function EEe(t,e){if(e&&(om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PEe(t)}function PEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dQ=function(){return!!t})()}function fw(t){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fw(t)}function AEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aC(t,e)}function aC(t,e){return aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aC(t,e)}function _y(t,e,r){return e=hQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hQ(t){var e=CEe(t,"string");return om(e)=="symbol"?e:e+""}function CEe(t,e){if(om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ms=32,cR=(function(t){function e(){return jEe(this,e),TEe(this,e,arguments)}return AEe(e,t),SEe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Ms/2,o=Ms/6,l=Ms/3,c=n.inactive?i:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Ms,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Ms,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ms/8,"h").concat(Ms,"v").concat(Ms*3/4,"h").concat(-Ms,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var d=_Ee({},n);return delete d.legendIcon,z.cloneElement(n.legendIcon,d)}return z.createElement(lR,{fill:c,cx:s,cy:s,size:Ms,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,f={x:0,y:0,width:Ms,height:Ms},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,w){var x=v.formatter||c,g=mt(_y(_y({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",v.inactive));if(v.type==="none")return null;var _=it(v.value)?null:v.value;ba(!it(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=v.inactive?d:v.color;return z.createElement("li",sC({className:g,style:m,key:"legend-item-".concat(w)},Yd(n.props,v,w)),z.createElement(JA,{width:o,height:o,viewBox:f,style:p},n.renderIcon(v)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},x?x(_,v,w):_))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(S.PureComponent);_y(cR,"displayName","Legend");_y(cR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var M2,dF;function kEe(){if(dF)return M2;dF=1;var t=a_();function e(){this.__data__=new t,this.size=0}return M2=e,M2}var D2,hF;function IEe(){if(hF)return D2;hF=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return D2=t,D2}var L2,fF;function OEe(){if(fF)return L2;fF=1;function t(e){return this.__data__.get(e)}return L2=t,L2}var $2,mF;function REe(){if(mF)return $2;mF=1;function t(e){return this.__data__.has(e)}return $2=t,$2}var F2,pF;function MEe(){if(pF)return F2;pF=1;var t=a_(),e=ZO(),r=eR(),n=200;function i(s,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(s,o),this.size=l.size,this}return F2=i,F2}var V2,gF;function fQ(){if(gF)return V2;gF=1;var t=a_(),e=kEe(),r=IEe(),n=OEe(),i=REe(),s=MEe();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,V2=o,V2}var B2,yF;function DEe(){if(yF)return B2;yF=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return B2=e,B2}var q2,vF;function LEe(){if(vF)return q2;vF=1;function t(e){return this.__data__.has(e)}return q2=t,q2}var U2,xF;function mQ(){if(xF)return U2;xF=1;var t=eR(),e=DEe(),r=LEe();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,U2=n,U2}var z2,bF;function pQ(){if(bF)return z2;bF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return z2=t,z2}var W2,wF;function gQ(){if(wF)return W2;wF=1;function t(e,r){return e.has(r)}return W2=t,W2}var H2,_F;function yQ(){if(_F)return H2;_F=1;var t=mQ(),e=pQ(),r=gQ(),n=1,i=2;function s(o,l,c,d,f,m){var p=c&n,v=o.length,w=l.length;if(v!=w&&!(p&&w>v))return!1;var x=m.get(o),g=m.get(l);if(x&&g)return x==l&&g==o;var _=-1,T=!0,P=c&i?new t:void 0;for(m.set(o,l),m.set(l,o);++_<v;){var k=o[_],A=l[_];if(d)var C=p?d(A,k,_,l,o,m):d(k,A,_,o,l,m);if(C!==void 0){if(C)continue;T=!1;break}if(P){if(!e(l,function(E,j){if(!r(P,j)&&(k===E||f(k,E,c,d,m)))return P.push(j)})){T=!1;break}}else if(!(k===A||f(k,A,c,d,m))){T=!1;break}}return m.delete(o),m.delete(l),T}return H2=s,H2}var G2,jF;function $Ee(){if(jF)return G2;jF=1;var t=Po(),e=t.Uint8Array;return G2=e,G2}var K2,NF;function FEe(){if(NF)return K2;NF=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return K2=t,K2}var Y2,SF;function uR(){if(SF)return Y2;SF=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return Y2=t,Y2}var Q2,TF;function VEe(){if(TF)return Q2;TF=1;var t=L0(),e=$Ee(),r=JO(),n=yQ(),i=FEe(),s=uR(),o=1,l=2,c="[object Boolean]",d="[object Date]",f="[object Error]",m="[object Map]",p="[object Number]",v="[object RegExp]",w="[object Set]",x="[object String]",g="[object Symbol]",_="[object ArrayBuffer]",T="[object DataView]",P=t?t.prototype:void 0,k=P?P.valueOf:void 0;function A(C,E,j,O,R,L,$){switch(j){case T:if(C.byteLength!=E.byteLength||C.byteOffset!=E.byteOffset)return!1;C=C.buffer,E=E.buffer;case _:return!(C.byteLength!=E.byteLength||!L(new e(C),new e(E)));case c:case d:case p:return r(+C,+E);case f:return C.name==E.name&&C.message==E.message;case v:case x:return C==E+"";case m:var F=i;case w:var G=O&o;if(F||(F=s),C.size!=E.size&&!G)return!1;var K=$.get(C);if(K)return K==E;O|=l,$.set(C,E);var Y=n(F(C),F(E),O,R,L,$);return $.delete(C),Y;case g:if(k)return k.call(C)==k.call(E)}return!1}return Q2=A,Q2}var X2,EF;function vQ(){if(EF)return X2;EF=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return X2=t,X2}var J2,PF;function BEe(){if(PF)return J2;PF=1;var t=vQ(),e=Zi();function r(n,i,s){var o=i(n);return e(n)?o:t(o,s(n))}return J2=r,J2}var Z2,AF;function qEe(){if(AF)return Z2;AF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,o=[];++n<i;){var l=e[n];r(l,n,e)&&(o[s++]=l)}return o}return Z2=t,Z2}var eT,CF;function UEe(){if(CF)return eT;CF=1;function t(){return[]}return eT=t,eT}var tT,kF;function zEe(){if(kF)return tT;kF=1;var t=qEe(),e=UEe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return n.call(o,l)}))}:e;return tT=s,tT}var rT,IF;function WEe(){if(IF)return rT;IF=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return rT=t,rT}var nT,OF;function HEe(){if(OF)return nT;OF=1;var t=Fl(),e=Vl(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return nT=n,nT}var iT,RF;function dR(){if(RF)return iT;RF=1;var t=HEe(),e=Vl(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return iT=s,iT}var Ng={exports:{}},sT,MF;function GEe(){if(MF)return sT;MF=1;function t(){return!1}return sT=t,sT}Ng.exports;var DF;function xQ(){return DF||(DF=1,(function(t,e){var r=Po(),n=GEe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(Ng,Ng.exports)),Ng.exports}var aT,LF;function hR(){if(LF)return aT;LF=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return aT=r,aT}var oT,$F;function fR(){if($F)return oT;$F=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return oT=e,oT}var lT,FF;function KEe(){if(FF)return lT;FF=1;var t=Fl(),e=fR(),r=Vl(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",m="[object Object]",p="[object RegExp]",v="[object Set]",w="[object String]",x="[object WeakMap]",g="[object ArrayBuffer]",_="[object DataView]",T="[object Float32Array]",P="[object Float64Array]",k="[object Int8Array]",A="[object Int16Array]",C="[object Int32Array]",E="[object Uint8Array]",j="[object Uint8ClampedArray]",O="[object Uint16Array]",R="[object Uint32Array]",L={};L[T]=L[P]=L[k]=L[A]=L[C]=L[E]=L[j]=L[O]=L[R]=!0,L[n]=L[i]=L[g]=L[s]=L[_]=L[o]=L[l]=L[c]=L[d]=L[f]=L[m]=L[p]=L[v]=L[w]=L[x]=!1;function $(F){return r(F)&&e(F.length)&&!!L[t(F)]}return lT=$,lT}var cT,VF;function bQ(){if(VF)return cT;VF=1;function t(e){return function(r){return e(r)}}return cT=t,cT}var Sg={exports:{}};Sg.exports;var BF;function YEe(){return BF||(BF=1,(function(t,e){var r=FY(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(Sg,Sg.exports)),Sg.exports}var uT,qF;function wQ(){if(qF)return uT;qF=1;var t=KEe(),e=bQ(),r=YEe(),n=r&&r.isTypedArray,i=n?e(n):t;return uT=i,uT}var dT,UF;function QEe(){if(UF)return dT;UF=1;var t=WEe(),e=dR(),r=Zi(),n=xQ(),i=hR(),s=wQ(),o=Object.prototype,l=o.hasOwnProperty;function c(d,f){var m=r(d),p=!m&&e(d),v=!m&&!p&&n(d),w=!m&&!p&&!v&&s(d),x=m||p||v||w,g=x?t(d.length,String):[],_=g.length;for(var T in d)(f||l.call(d,T))&&!(x&&(T=="length"||v&&(T=="offset"||T=="parent")||w&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||i(T,_)))&&g.push(T);return g}return dT=c,dT}var hT,zF;function XEe(){if(zF)return hT;zF=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return hT=e,hT}var fT,WF;function _Q(){if(WF)return fT;WF=1;function t(e,r){return function(n){return e(r(n))}}return fT=t,fT}var mT,HF;function JEe(){if(HF)return mT;HF=1;var t=_Q(),e=t(Object.keys,Object);return mT=e,mT}var pT,GF;function ZEe(){if(GF)return pT;GF=1;var t=XEe(),e=JEe(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return pT=i,pT}var gT,KF;function $0(){if(KF)return gT;KF=1;var t=XO(),e=fR();function r(n){return n!=null&&e(n.length)&&!t(n)}return gT=r,gT}var yT,YF;function f_(){if(YF)return yT;YF=1;var t=QEe(),e=ZEe(),r=$0();function n(i){return r(i)?t(i):e(i)}return yT=n,yT}var vT,QF;function ePe(){if(QF)return vT;QF=1;var t=BEe(),e=zEe(),r=f_();function n(i){return t(i,r,e)}return vT=n,vT}var xT,XF;function tPe(){if(XF)return xT;XF=1;var t=ePe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,l,c,d,f){var m=l&e,p=t(s),v=p.length,w=t(o),x=w.length;if(v!=x&&!m)return!1;for(var g=v;g--;){var _=p[g];if(!(m?_ in o:n.call(o,_)))return!1}var T=f.get(s),P=f.get(o);if(T&&P)return T==o&&P==s;var k=!0;f.set(s,o),f.set(o,s);for(var A=m;++g<v;){_=p[g];var C=s[_],E=o[_];if(c)var j=m?c(E,C,_,o,s,f):c(C,E,_,s,o,f);if(!(j===void 0?C===E||d(C,E,l,c,f):j)){k=!1;break}A||(A=_=="constructor")}if(k&&!A){var O=s.constructor,R=o.constructor;O!=R&&"constructor"in s&&"constructor"in o&&!(typeof O=="function"&&O instanceof O&&typeof R=="function"&&R instanceof R)&&(k=!1)}return f.delete(s),f.delete(o),k}return xT=i,xT}var bT,JF;function rPe(){if(JF)return bT;JF=1;var t=dh(),e=Po(),r=t(e,"DataView");return bT=r,bT}var wT,ZF;function nPe(){if(ZF)return wT;ZF=1;var t=dh(),e=Po(),r=t(e,"Promise");return wT=r,wT}var _T,eV;function jQ(){if(eV)return _T;eV=1;var t=dh(),e=Po(),r=t(e,"Set");return _T=r,_T}var jT,tV;function iPe(){if(tV)return jT;tV=1;var t=dh(),e=Po(),r=t(e,"WeakMap");return jT=r,jT}var NT,rV;function sPe(){if(rV)return NT;rV=1;var t=rPe(),e=ZO(),r=nPe(),n=jQ(),i=iPe(),s=Fl(),o=VY(),l="[object Map]",c="[object Object]",d="[object Promise]",f="[object Set]",m="[object WeakMap]",p="[object DataView]",v=o(t),w=o(e),x=o(r),g=o(n),_=o(i),T=s;return(t&&T(new t(new ArrayBuffer(1)))!=p||e&&T(new e)!=l||r&&T(r.resolve())!=d||n&&T(new n)!=f||i&&T(new i)!=m)&&(T=function(P){var k=s(P),A=k==c?P.constructor:void 0,C=A?o(A):"";if(C)switch(C){case v:return p;case w:return l;case x:return d;case g:return f;case _:return m}return k}),NT=T,NT}var ST,nV;function aPe(){if(nV)return ST;nV=1;var t=fQ(),e=yQ(),r=VEe(),n=tPe(),i=sPe(),s=Zi(),o=xQ(),l=wQ(),c=1,d="[object Arguments]",f="[object Array]",m="[object Object]",p=Object.prototype,v=p.hasOwnProperty;function w(x,g,_,T,P,k){var A=s(x),C=s(g),E=A?f:i(x),j=C?f:i(g);E=E==d?m:E,j=j==d?m:j;var O=E==m,R=j==m,L=E==j;if(L&&o(x)){if(!o(g))return!1;A=!0,O=!1}if(L&&!O)return k||(k=new t),A||l(x)?e(x,g,_,T,P,k):r(x,g,E,_,T,P,k);if(!(_&c)){var $=O&&v.call(x,"__wrapped__"),F=R&&v.call(g,"__wrapped__");if($||F){var G=$?x.value():x,K=F?g.value():g;return k||(k=new t),P(G,K,_,T,k)}}return L?(k||(k=new t),n(x,g,_,T,P,k)):!1}return ST=w,ST}var TT,iV;function mR(){if(iV)return TT;iV=1;var t=aPe(),e=Vl();function r(n,i,s,o,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,o,r,l)}return TT=r,TT}var ET,sV;function oPe(){if(sV)return ET;sV=1;var t=fQ(),e=mR(),r=1,n=2;function i(s,o,l,c){var d=l.length,f=d,m=!c;if(s==null)return!f;for(s=Object(s);d--;){var p=l[d];if(m&&p[2]?p[1]!==s[p[0]]:!(p[0]in s))return!1}for(;++d<f;){p=l[d];var v=p[0],w=s[v],x=p[1];if(m&&p[2]){if(w===void 0&&!(v in s))return!1}else{var g=new t;if(c)var _=c(w,x,v,s,o,g);if(!(_===void 0?e(x,w,r|n,c,g):_))return!1}}return!0}return ET=i,ET}var PT,aV;function NQ(){if(aV)return PT;aV=1;var t=bu();function e(r){return r===r&&!t(r)}return PT=e,PT}var AT,oV;function lPe(){if(oV)return AT;oV=1;var t=NQ(),e=f_();function r(n){for(var i=e(n),s=i.length;s--;){var o=i[s],l=n[o];i[s]=[o,l,t(l)]}return i}return AT=r,AT}var CT,lV;function SQ(){if(lV)return CT;lV=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return CT=t,CT}var kT,cV;function cPe(){if(cV)return kT;cV=1;var t=oPe(),e=lPe(),r=SQ();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return kT=n,kT}var IT,uV;function uPe(){if(uV)return IT;uV=1;function t(e,r){return e!=null&&r in Object(e)}return IT=t,IT}var OT,dV;function dPe(){if(dV)return OT;dV=1;var t=UY(),e=dR(),r=Zi(),n=hR(),i=fR(),s=l_();function o(l,c,d){c=t(c,l);for(var f=-1,m=c.length,p=!1;++f<m;){var v=s(c[f]);if(!(p=l!=null&&d(l,v)))break;l=l[v]}return p||++f!=m?p:(m=l==null?0:l.length,!!m&&i(m)&&n(v,m)&&(r(l)||e(l)))}return OT=o,OT}var RT,hV;function hPe(){if(hV)return RT;hV=1;var t=uPe(),e=dPe();function r(n,i){return n!=null&&e(n,i,t)}return RT=r,RT}var MT,fV;function fPe(){if(fV)return MT;fV=1;var t=mR(),e=zY(),r=hPe(),n=QO(),i=NQ(),s=SQ(),o=l_(),l=1,c=2;function d(f,m){return n(f)&&i(m)?s(o(f),m):function(p){var v=e(p,f);return v===void 0&&v===m?r(p,f):t(m,v,l|c)}}return MT=d,MT}var DT,mV;function ep(){if(mV)return DT;mV=1;function t(e){return e}return DT=t,DT}var LT,pV;function mPe(){if(pV)return LT;pV=1;function t(e){return function(r){return r==null?void 0:r[e]}}return LT=t,LT}var $T,gV;function pPe(){if(gV)return $T;gV=1;var t=rR();function e(r){return function(n){return t(n,r)}}return $T=e,$T}var FT,yV;function gPe(){if(yV)return FT;yV=1;var t=mPe(),e=pPe(),r=QO(),n=l_();function i(s){return r(s)?t(n(s)):e(s)}return FT=i,FT}var VT,vV;function Ao(){if(vV)return VT;vV=1;var t=cPe(),e=fPe(),r=ep(),n=Zi(),i=gPe();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return VT=s,VT}var BT,xV;function TQ(){if(xV)return BT;xV=1;function t(e,r,n,i){for(var s=e.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return BT=t,BT}var qT,bV;function yPe(){if(bV)return qT;bV=1;function t(e){return e!==e}return qT=t,qT}var UT,wV;function vPe(){if(wV)return UT;wV=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return UT=t,UT}var zT,_V;function xPe(){if(_V)return zT;_V=1;var t=TQ(),e=yPe(),r=vPe();function n(i,s,o){return s===s?r(i,s,o):t(i,e,o)}return zT=n,zT}var WT,jV;function bPe(){if(jV)return WT;jV=1;var t=xPe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return WT=e,WT}var HT,NV;function wPe(){if(NV)return HT;NV=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return HT=t,HT}var GT,SV;function _Pe(){if(SV)return GT;SV=1;function t(){}return GT=t,GT}var KT,TV;function jPe(){if(TV)return KT;TV=1;var t=jQ(),e=_Pe(),r=uR(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return KT=i,KT}var YT,EV;function NPe(){if(EV)return YT;EV=1;var t=mQ(),e=bPe(),r=wPe(),n=gQ(),i=jPe(),s=uR(),o=200;function l(c,d,f){var m=-1,p=e,v=c.length,w=!0,x=[],g=x;if(f)w=!1,p=r;else if(v>=o){var _=d?null:i(c);if(_)return s(_);w=!1,p=n,g=new t}else g=d?[]:x;e:for(;++m<v;){var T=c[m],P=d?d(T):T;if(T=f||T!==0?T:0,w&&P===P){for(var k=g.length;k--;)if(g[k]===P)continue e;d&&g.push(P),x.push(T)}else p(g,P,f)||(g!==x&&g.push(P),x.push(T))}return x}return YT=l,YT}var QT,PV;function SPe(){if(PV)return QT;PV=1;var t=Ao(),e=NPe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return QT=r,QT}var TPe=SPe();const AV=er(TPe);function EQ(t,e,r){return e===!0?AV(t,r):it(e)?AV(t,e):t}function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}var EPe=["ref"];function CV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ko(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CV(Object(r),!0).forEach(function(n){m_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AQ(n.key),n)}}function APe(t,e,r){return e&&kV(t.prototype,e),r&&kV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CPe(t,e,r){return e=mw(e),kPe(t,PQ()?Reflect.construct(e,r||[],mw(t).constructor):e.apply(t,r))}function kPe(t,e){if(e&&(lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IPe(t)}function IPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PQ=function(){return!!t})()}function mw(t){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(t)}function OPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oC(t,e)}function oC(t,e){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oC(t,e)}function m_(t,e,r){return e=AQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AQ(t){var e=RPe(t,"string");return lm(e)=="symbol"?e:e+""}function RPe(t,e){if(lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function MPe(t,e){if(t==null)return{};var r=DPe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function LPe(t){return t.value}function $Pe(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var r=MPe(e,EPe);return z.createElement(cR,r)}var IV=1,Ji=(function(t){function e(){var r;PPe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=CPe(this,e,[].concat(i)),m_(r,"lastBoundingBox",{width:-1,height:-1}),r}return OPe(e,t),APe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>IV||Math.abs(i.height-this.lastBoundingBox.height)>IV)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ko({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,f=i.chartHeight,m,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();m={left:((d||0)-v.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();p={top:((f||0)-w.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ko(Ko({},m),p)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,f=i.payload,m=Ko(Ko({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){n.wrapperNode=v}},$Pe(s,Ko(Ko({},this.props),{},{payload:EQ(f,d,LPe)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Ko(Ko({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&ke(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(S.PureComponent);m_(Ji,"displayName","Legend");m_(Ji,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var XT,OV;function FPe(){if(OV)return XT;OV=1;var t=L0(),e=dR(),r=Zi(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return XT=i,XT}var JT,RV;function CQ(){if(RV)return JT;RV=1;var t=vQ(),e=FPe();function r(n,i,s,o,l){var c=-1,d=n.length;for(s||(s=e),l||(l=[]);++c<d;){var f=n[c];i>0&&s(f)?i>1?r(f,i-1,s,o,l):t(l,f):o||(l[l.length]=f)}return l}return JT=r,JT}var ZT,MV;function VPe(){if(MV)return ZT;MV=1;function t(e){return function(r,n,i){for(var s=-1,o=Object(r),l=i(r),c=l.length;c--;){var d=l[e?c:++s];if(n(o[d],d,o)===!1)break}return r}}return ZT=t,ZT}var eE,DV;function BPe(){if(DV)return eE;DV=1;var t=VPe(),e=t();return eE=e,eE}var tE,LV;function kQ(){if(LV)return tE;LV=1;var t=BPe(),e=f_();function r(n,i){return n&&t(n,i,e)}return tE=r,tE}var rE,$V;function qPe(){if($V)return rE;$V=1;var t=$0();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var o=i.length,l=n?o:-1,c=Object(i);(n?l--:++l<o)&&s(c[l],l,c)!==!1;);return i}}return rE=e,rE}var nE,FV;function pR(){if(FV)return nE;FV=1;var t=kQ(),e=qPe(),r=e(t);return nE=r,nE}var iE,VV;function IQ(){if(VV)return iE;VV=1;var t=pR(),e=$0();function r(n,i){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,d){o[++s]=i(l,c,d)}),o}return iE=r,iE}var sE,BV;function UPe(){if(BV)return sE;BV=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return sE=t,sE}var aE,qV;function zPe(){if(qV)return aE;qV=1;var t=Xm();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,l=t(r),c=n!==void 0,d=n===null,f=n===n,m=t(n);if(!d&&!m&&!l&&r>n||l&&c&&f&&!d&&!m||s&&c&&f||!i&&f||!o)return 1;if(!s&&!l&&!m&&r<n||m&&i&&o&&!s&&!l||d&&i&&o||!c&&o||!f)return-1}return 0}return aE=e,aE}var oE,UV;function WPe(){if(UV)return oE;UV=1;var t=zPe();function e(r,n,i){for(var s=-1,o=r.criteria,l=n.criteria,c=o.length,d=i.length;++s<c;){var f=t(o[s],l[s]);if(f){if(s>=d)return f;var m=i[s];return f*(m=="desc"?-1:1)}}return r.index-n.index}return oE=e,oE}var lE,zV;function HPe(){if(zV)return lE;zV=1;var t=tR(),e=rR(),r=Ao(),n=IQ(),i=UPe(),s=bQ(),o=WPe(),l=ep(),c=Zi();function d(f,m,p){m.length?m=t(m,function(x){return c(x)?function(g){return e(g,x.length===1?x[0]:x)}:x}):m=[l];var v=-1;m=t(m,s(r));var w=n(f,function(x,g,_){var T=t(m,function(P){return P(x)});return{criteria:T,index:++v,value:x}});return i(w,function(x,g){return o(x,g,p)})}return lE=d,lE}var cE,WV;function GPe(){if(WV)return cE;WV=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return cE=t,cE}var uE,HV;function KPe(){if(HV)return uE;HV=1;var t=GPe(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),d=Array(c);++l<c;)d[l]=o[i+l];l=-1;for(var f=Array(i+1);++l<i;)f[l]=o[l];return f[i]=s(d),t(n,this,f)}}return uE=r,uE}var dE,GV;function YPe(){if(GV)return dE;GV=1;function t(e){return function(){return e}}return dE=t,dE}var hE,KV;function OQ(){if(KV)return hE;KV=1;var t=dh(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return hE=e,hE}var fE,YV;function QPe(){if(YV)return fE;YV=1;var t=YPe(),e=OQ(),r=ep(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return fE=n,fE}var mE,QV;function XPe(){if(QV)return mE;QV=1;var t=800,e=16,r=Date.now;function n(i){var s=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return mE=n,mE}var pE,XV;function JPe(){if(XV)return pE;XV=1;var t=QPe(),e=XPe(),r=e(t);return pE=r,pE}var gE,JV;function ZPe(){if(JV)return gE;JV=1;var t=ep(),e=KPe(),r=JPe();function n(i,s){return r(e(i,s,t),i+"")}return gE=n,gE}var yE,ZV;function p_(){if(ZV)return yE;ZV=1;var t=JO(),e=$0(),r=hR(),n=bu();function i(s,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],s):!1}return yE=i,yE}var vE,eB;function eAe(){if(eB)return vE;eB=1;var t=CQ(),e=HPe(),r=ZPe(),n=p_(),i=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return vE=i,vE}var tAe=eAe();const gR=er(tAe);function jy(t){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function lC(){return lC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lC.apply(this,arguments)}function rAe(t,e){return aAe(t)||sAe(t,e)||iAe(t,e)||nAe()}function nAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iAe(t,e){if(t){if(typeof t=="string")return tB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tB(t,e)}}function tB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function aAe(t){if(Array.isArray(t))return t}function rB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rB(Object(r),!0).forEach(function(n){oAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oAe(t,e,r){return e=lAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lAe(t){var e=cAe(t,"string");return jy(e)=="symbol"?e:e+""}function cAe(t,e){if(jy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uAe(t){return Array.isArray(t)&&vn(t[0])&&vn(t[1])?t.join(" ~ "):t}var dAe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,f=e.payload,m=e.formatter,p=e.itemSorter,v=e.wrapperClassName,w=e.labelClassName,x=e.label,g=e.labelFormatter,_=e.accessibilityLayer,T=_===void 0?!1:_,P=function(){if(f&&f.length){var $={padding:0,margin:0},F=(p?gR(f,p):f).map(function(G,K){if(G.type==="none")return null;var Y=xE({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},l),J=G.formatter||m||uAe,U=G.value,X=G.name,ie=U,W=X;if(J&&ie!=null&&W!=null){var ee=J(U,X,G,K,f);if(Array.isArray(ee)){var de=rAe(ee,2);ie=de[0],W=de[1]}else ie=ee}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:Y},vn(W)?z.createElement("span",{className:"recharts-tooltip-item-name"},W):null,vn(W)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},ie),z.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:$},F)}return null},k=xE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),A=xE({margin:0},d),C=!gt(x),E=C?x:"",j=mt("recharts-default-tooltip",v),O=mt("recharts-tooltip-label",w);C&&g&&f!==void 0&&f!==null&&(E=g(x,f));var R=T?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",lC({className:j,style:k},R),z.createElement("p",{className:O,style:A},z.isValidElement(E)?E:"".concat(E)),P())};function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function kx(t,e,r){return e=hAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hAe(t){var e=fAe(t,"string");return Ny(e)=="symbol"?e:e+""}function fAe(t,e){if(Ny(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sg="recharts-tooltip-wrapper",mAe={visibility:"hidden"};function pAe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return mt(sg,kx(kx(kx(kx({},"".concat(sg,"-right"),ke(r)&&e&&ke(e.x)&&r>=e.x),"".concat(sg,"-left"),ke(r)&&e&&ke(e.x)&&r<e.x),"".concat(sg,"-bottom"),ke(n)&&e&&ke(e.y)&&n>=e.y),"".concat(sg,"-top"),ke(n)&&e&&ke(e.y)&&n<e.y))}function nB(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(s&&ke(s[n]))return s[n];var f=r[n]-l-i,m=r[n]+i;if(e[n])return o[n]?f:m;if(o[n]){var p=f,v=c[n];return p<v?Math.max(m,c[n]):Math.max(f,c[n])}var w=m+l,x=c[n]+d;return w>x?Math.max(f,c[n]):Math.max(m,c[n])}function gAe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function yAe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,f,m;return o.height>0&&o.width>0&&r?(f=nB({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=nB({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=gAe({translateX:f,translateY:m,useTranslate3d:l})):d=mAe,{cssProperties:d,cssClasses:pAe({translateX:f,translateY:m,coordinate:r})}}function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function iB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iB(Object(r),!0).forEach(function(n){uC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MQ(n.key),n)}}function bAe(t,e,r){return e&&xAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wAe(t,e,r){return e=pw(e),_Ae(t,RQ()?Reflect.construct(e,r||[],pw(t).constructor):e.apply(t,r))}function _Ae(t,e){if(e&&(cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jAe(t)}function jAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RQ=function(){return!!t})()}function pw(t){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pw(t)}function NAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cC(t,e)}function cC(t,e){return cC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cC(t,e)}function uC(t,e,r){return e=MQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MQ(t){var e=SAe(t,"string");return cm(e)=="symbol"?e:e+""}function SAe(t,e){if(cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aB=1,TAe=(function(t){function e(){var r;vAe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=wAe(this,e,[].concat(i)),uC(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uC(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),r}return NAe(e,t),bAe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>aB||Math.abs(n.height-this.state.lastBoundingBox.height)>aB)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,f=i.coordinate,m=i.hasPayload,p=i.isAnimationActive,v=i.offset,w=i.position,x=i.reverseDirection,g=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,P=yAe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:v,position:w,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:_}),k=P.cssClasses,A=P.cssProperties,C=sB(sB({transition:p&&s?"transform ".concat(l,"ms ").concat(c):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},T);return z.createElement("div",{tabIndex:-1,className:k,style:C,ref:function(j){n.wrapperNode=j}},d)}}])})(S.PureComponent),EAe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Bl={isSsr:EAe()};function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function oB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(r),!0).forEach(function(n){yR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LQ(n.key),n)}}function CAe(t,e,r){return e&&AAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kAe(t,e,r){return e=gw(e),IAe(t,DQ()?Reflect.construct(e,r||[],gw(t).constructor):e.apply(t,r))}function IAe(t,e){if(e&&(um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OAe(t)}function OAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DQ=function(){return!!t})()}function gw(t){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(t)}function RAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dC(t,e)}function dC(t,e){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dC(t,e)}function yR(t,e,r){return e=LQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LQ(t){var e=MAe(t,"string");return um(e)=="symbol"?e:e+""}function MAe(t,e){if(um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function DAe(t){return t.dataKey}function LAe(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(dAe,e)}var pn=(function(t){function e(){return PAe(this,e),kAe(this,e,arguments)}return RAe(e,t),CAe(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,f=i.coordinate,m=i.filterNull,p=i.isAnimationActive,v=i.offset,w=i.payload,x=i.payloadUniqBy,g=i.position,_=i.reverseDirection,T=i.useTranslate3d,P=i.viewBox,k=i.wrapperStyle,A=w??[];m&&A.length&&(A=EQ(w.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),x,DAe));var C=A.length>0;return z.createElement(TAe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:s,coordinate:f,hasPayload:C,offset:v,position:g,reverseDirection:_,useTranslate3d:T,viewBox:P,wrapperStyle:k},LAe(d,lB(lB({},this.props),{},{payload:A})))}}])})(S.PureComponent);yR(pn,"displayName","Tooltip");yR(pn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Bl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bE,cB;function $Ae(){if(cB)return bE;cB=1;var t=Po(),e=function(){return t.Date.now()};return bE=e,bE}var wE,uB;function FAe(){if(uB)return wE;uB=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return wE=e,wE}var _E,dB;function VAe(){if(dB)return _E;dB=1;var t=FAe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return _E=r,_E}var jE,hB;function $Q(){if(hB)return jE;hB=1;var t=VAe(),e=bu(),r=Xm(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=e(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=s.test(d);return m||o.test(d)?l(d.slice(2),m?2:8):i.test(d)?n:+d}return jE=c,jE}var NE,fB;function BAe(){if(fB)return NE;fB=1;var t=bu(),e=$Ae(),r=$Q(),n="Expected a function",i=Math.max,s=Math.min;function o(l,c,d){var f,m,p,v,w,x,g=0,_=!1,T=!1,P=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(d)&&(_=!!d.leading,T="maxWait"in d,p=T?i(r(d.maxWait)||0,c):p,P="trailing"in d?!!d.trailing:P);function k(F){var G=f,K=m;return f=m=void 0,g=F,v=l.apply(K,G),v}function A(F){return g=F,w=setTimeout(j,c),_?k(F):v}function C(F){var G=F-x,K=F-g,Y=c-G;return T?s(Y,p-K):Y}function E(F){var G=F-x,K=F-g;return x===void 0||G>=c||G<0||T&&K>=p}function j(){var F=e();if(E(F))return O(F);w=setTimeout(j,C(F))}function O(F){return w=void 0,P&&f?k(F):(f=m=void 0,v)}function R(){w!==void 0&&clearTimeout(w),g=0,f=x=m=w=void 0}function L(){return w===void 0?v:O(e())}function $(){var F=e(),G=E(F);if(f=arguments,m=this,x=F,G){if(w===void 0)return A(x);if(T)return clearTimeout(w),w=setTimeout(j,c),k(x)}return w===void 0&&(w=setTimeout(j,c)),v}return $.cancel=R,$.flush=L,$}return NE=o,NE}var SE,mB;function qAe(){if(mB)return SE;mB=1;var t=BAe(),e=bu(),r="Expected a function";function n(i,s,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,s,{leading:l,maxWait:s,trailing:c})}return SE=n,SE}var UAe=qAe();const FQ=er(UAe);function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function pB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ix(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pB(Object(r),!0).forEach(function(n){zAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zAe(t,e,r){return e=WAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WAe(t){var e=HAe(t,"string");return Sy(e)=="symbol"?e:e+""}function HAe(t,e){if(Sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GAe(t,e){return XAe(t)||QAe(t,e)||YAe(t,e)||KAe()}function KAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YAe(t,e){if(t){if(typeof t=="string")return gB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gB(t,e)}}function gB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function XAe(t){if(Array.isArray(t))return t}var ro=S.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,f=d===void 0?0:d,m=t.minHeight,p=t.maxHeight,v=t.children,w=t.debounce,x=w===void 0?0:w,g=t.id,_=t.className,T=t.onResize,P=t.style,k=P===void 0?{}:P,A=S.useRef(null),C=S.useRef();C.current=T,S.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var E=S.useState({containerWidth:i.width,containerHeight:i.height}),j=GAe(E,2),O=j[0],R=j[1],L=S.useCallback(function(F,G){R(function(K){var Y=Math.round(F),J=Math.round(G);return K.containerWidth===Y&&K.containerHeight===J?K:{containerWidth:Y,containerHeight:J}})},[]);S.useEffect(function(){var F=function(X){var ie,W=X[0].contentRect,ee=W.width,de=W.height;L(ee,de),(ie=C.current)===null||ie===void 0||ie.call(C,ee,de)};x>0&&(F=FQ(F,x,{trailing:!0,leading:!1}));var G=new ResizeObserver(F),K=A.current.getBoundingClientRect(),Y=K.width,J=K.height;return L(Y,J),G.observe(A.current),function(){G.disconnect()}},[L,x]);var $=S.useMemo(function(){var F=O.containerWidth,G=O.containerHeight;if(F<0||G<0)return null;ba(md(o)||md(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ba(!r||r>0,"The aspect(%s) must be greater than zero.",r);var K=md(o)?F:o,Y=md(c)?G:c;r&&r>0&&(K?Y=K/r:Y&&(K=Y*r),p&&Y>p&&(Y=p)),ba(K>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,Y,o,c,f,m,r);var J=!Array.isArray(v)&&hl(v.type).endsWith("Chart");return z.Children.map(v,function(U){return z.isValidElement(U)?S.cloneElement(U,Ix({width:K,height:Y},J?{style:Ix({height:"100%",width:"100%",maxHeight:Y,maxWidth:K},U.props.style)}:{})):U})},[r,v,c,p,m,f,O,o]);return z.createElement("div",{id:g?"".concat(g):void 0,className:mt("recharts-responsive-container",_),style:Ix(Ix({},k),{},{width:o,height:c,minWidth:f,minHeight:m,maxHeight:p}),ref:A},$)}),g_=function(e){return null};g_.displayName="Cell";function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function yB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yB(Object(r),!0).forEach(function(n){JAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JAe(t,e,r){return e=ZAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZAe(t){var e=eCe(t,"string");return Ty(e)=="symbol"?e:e+""}function eCe(t,e){if(Ty(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nf={widthCache:{},cacheCount:0},tCe=2e3,rCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vB="recharts_measurement_span";function nCe(t){var e=hC({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var qg=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Bl.isSsr)return{width:0,height:0};var n=nCe(r),i=JSON.stringify({text:e,copyStyle:n});if(nf.widthCache[i])return nf.widthCache[i];try{var s=document.getElementById(vB);s||(s=document.createElement("span"),s.setAttribute("id",vB),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=hC(hC({},rCe),n);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return nf.widthCache[i]=c,++nf.cacheCount>tCe&&(nf.cacheCount=0,nf.widthCache={}),c}catch{return{width:0,height:0}}},iCe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function yw(t,e){return lCe(t)||oCe(t,e)||aCe(t,e)||sCe()}function sCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aCe(t,e){if(t){if(typeof t=="string")return xB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xB(t,e)}}function xB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function lCe(t){if(Array.isArray(t))return t}function cCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dCe(n.key),n)}}function uCe(t,e,r){return e&&bB(t.prototype,e),r&&bB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dCe(t){var e=hCe(t,"string");return Ey(e)=="symbol"?e:e+""}function hCe(t,e){if(Ey(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_B=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pCe=Object.keys(VQ),xf="NaN";function gCe(t,e){return t*VQ[e]}var Ox=(function(){function t(e,r){cCe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!fCe.test(r)&&(this.num=NaN,this.unit=""),pCe.includes(r)&&(this.num=gCe(e,r),this.unit="px")}return uCe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=mCe.exec(r))!==null&&n!==void 0?n:[],s=yw(i,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])})();function BQ(t){if(t.includes(xf))return xf;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=wB.exec(e))!==null&&r!==void 0?r:[],i=yw(n,4),s=i[1],o=i[2],l=i[3],c=Ox.parse(s??""),d=Ox.parse(l??""),f=o==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return xf;e=e.replace(wB,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,p=(m=_B.exec(e))!==null&&m!==void 0?m:[],v=yw(p,4),w=v[1],x=v[2],g=v[3],_=Ox.parse(w??""),T=Ox.parse(g??""),P=x==="+"?_.add(T):_.subtract(T);if(P.isNaN())return xf;e=e.replace(_B,P.toString())}return e}var jB=/\(([^()]*)\)/;function yCe(t){for(var e=t;e.includes("(");){var r=jB.exec(e),n=yw(r,2),i=n[1];e=e.replace(jB,BQ(i))}return e}function vCe(t){var e=t.replace(/\s+/g,"");return e=yCe(e),e=BQ(e),e}function xCe(t){try{return vCe(t)}catch{return xf}}function TE(t){var e=xCe(t.slice(5,-1));return e===xf?"":e}var bCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],wCe=["dx","dy","angle","className","breakAll"];function fC(){return fC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fC.apply(this,arguments)}function NB(t,e){if(t==null)return{};var r=_Ce(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Ce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function SB(t,e){return TCe(t)||SCe(t,e)||NCe(t,e)||jCe()}function jCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NCe(t,e){if(t){if(typeof t=="string")return TB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TB(t,e)}}function TB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function TCe(t){if(Array.isArray(t))return t}var qQ=/[ \f\n\r\t\v\u2028\u2029]+/,UQ=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];gt(r)||(n?s=r.toString().split(""):s=r.toString().split(qQ));var o=s.map(function(c){return{word:c,width:qg(c,i).width}}),l=n?0:qg("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},ECe=function(e,r,n,i,s){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,f=ke(o),m=l,p=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(Y,J){var U=J.word,X=J.width,ie=Y[Y.length-1];if(ie&&(i==null||s||ie.width+X+n<Number(i)))ie.words.push(U),ie.width+=X+n;else{var W={words:[U],width:X};Y.push(W)}return Y},[])},v=p(r),w=function(K){return K.reduce(function(Y,J){return Y.width>J.width?Y:J})};if(!f)return v;for(var x="",g=function(K){var Y=m.slice(0,K),J=UQ({breakAll:d,style:c,children:Y+x}).wordsWithComputedWidth,U=p(J),X=U.length>o||w(U).width>Number(i);return[X,U]},_=0,T=m.length-1,P=0,k;_<=T&&P<=m.length-1;){var A=Math.floor((_+T)/2),C=A-1,E=g(C),j=SB(E,2),O=j[0],R=j[1],L=g(A),$=SB(L,1),F=$[0];if(!O&&!F&&(_=A+1),O&&F&&(T=A-1),!O&&F){k=R;break}P++}return k||v},EB=function(e){var r=gt(e)?[]:e.toString().split(qQ);return[{words:r}]},PCe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!Bl.isSsr){var c,d,f=UQ({breakAll:o,children:i,style:s});if(f){var m=f.wordsWithComputedWidth,p=f.spaceWidth;c=m,d=p}else return EB(i);return ECe({breakAll:o,children:i,maxLines:l,style:s},c,d,r,n)}return EB(i)},PB="#808080",Qd=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,f=e.scaleToFit,m=f===void 0?!1:f,p=e.textAnchor,v=p===void 0?"start":p,w=e.verticalAnchor,x=w===void 0?"end":w,g=e.fill,_=g===void 0?PB:g,T=NB(e,bCe),P=S.useMemo(function(){return PCe({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:m,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,m,T.style,T.width]),k=T.dx,A=T.dy,C=T.angle,E=T.className,j=T.breakAll,O=NB(T,wCe);if(!vn(n)||!vn(s))return null;var R=n+(ke(k)?k:0),L=s+(ke(A)?A:0),$;switch(x){case"start":$=TE("calc(".concat(d,")"));break;case"middle":$=TE("calc(".concat((P.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:$=TE("calc(".concat(P.length-1," * -").concat(l,")"));break}var F=[];if(m){var G=P[0].width,K=T.width;F.push("scale(".concat((ke(K)?K/G:1)/G,")"))}return C&&F.push("rotate(".concat(C,", ").concat(R,", ").concat(L,")")),F.length&&(O.transform=F.join(" ")),z.createElement("text",fC({},Xe(O,!0),{x:R,y:L,className:mt("recharts-text",E),textAnchor:v,fill:_.includes("url")?PB:_}),P.map(function(Y,J){var U=Y.words.join(j?"":" ");return z.createElement("tspan",{x:R,dy:J===0?$:l,key:"".concat(U,"-").concat(J)},U)}))};function Yc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ACe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vR(t){let e,r,n;t.length!==2?(e=Yc,r=(l,c)=>Yc(t(l),c),n=(l,c)=>t(l)-c):(e=t===Yc||t===ACe?t:CCe,r=t,n=t);function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;r(l[m],c)<0?d=m+1:f=m}while(d<f)}return d}function s(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;r(l[m],c)<=0?d=m+1:f=m}while(d<f)}return d}function o(l,c,d=0,f=l.length){const m=i(l,c,d,f-1);return m>d&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:i,center:o,right:s}}function CCe(){return 0}function zQ(t){return t===null?NaN:+t}function*kCe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const ICe=vR(Yc),F0=ICe.right;vR(zQ).center;class AB extends Map{constructor(e,r=MCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(CB(this,e))}has(e){return super.has(CB(this,e))}set(e,r){return super.set(OCe(this,e),r)}delete(e){return super.delete(RCe(this,e))}}function CB({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function OCe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function RCe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function MCe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function DCe(t=Yc){if(t===Yc)return WQ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function WQ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const LCe=Math.sqrt(50),$Ce=Math.sqrt(10),FCe=Math.sqrt(2);function vw(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=LCe?10:s>=$Ce?5:s>=FCe?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?vw(t,e,r*2):[l,c,d]}function mC(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?vw(e,t,r):vw(t,e,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(s-d)/-o;else for(let d=0;d<l;++d)c[d]=(s-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function pC(t,e,r){return e=+e,t=+t,r=+r,vw(t,e,r)[2]}function gC(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?pC(e,t,r):pC(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function kB(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function IB(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function HQ(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?WQ:DCe(i);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,f=Math.log(c),m=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*m*(c-m)/c)*(d-c/2<0?-1:1),v=Math.max(r,Math.floor(e-d*m/c+p)),w=Math.min(n,Math.floor(e+(c-d)*m/c+p));HQ(t,e,v,w,i)}const s=t[e];let o=r,l=n;for(ag(t,r,e),i(t[n],s)>0&&ag(t,r,n);o<l;){for(ag(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[r],s)===0?ag(t,r,l):(++l,ag(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function ag(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function VCe(t,e,r){if(t=Float64Array.from(kCe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return IB(t);if(e>=1)return kB(t);var n,i=(n-1)*e,s=Math.floor(i),o=kB(HQ(t,s).subarray(0,s+1)),l=IB(t.subarray(s+1));return o+(l-o)*(i-s)}}function BCe(t,e,r=zQ){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function qCe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Js(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ql(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const yC=Symbol("implicit");function xR(){var t=new AB,e=[],r=[],n=yC;function i(s){let o=t.get(s);if(o===void 0){if(n!==yC)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new AB;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return xR(e,r).unknown(n)},Js.apply(i,arguments),i}function Py(){var t=xR().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,l=!1,c=0,d=0,f=.5;delete t.unknown;function m(){var p=e().length,v=i<n,w=v?i:n,x=v?n:i;s=(x-w)/Math.max(1,p-c+d*2),l&&(s=Math.floor(s)),w+=(x-w-s*(p-c))*f,o=s*(1-c),l&&(w=Math.round(w),o=Math.round(o));var g=qCe(p).map(function(_){return w+s*_});return r(v?g.reverse():g)}return t.domain=function(p){return arguments.length?(e(p),m()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(p){return arguments.length?(l=!!p,m()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),m()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),m()):c},t.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),m()):f},t.copy=function(){return Py(e(),[n,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},Js.apply(m(),arguments)}function GQ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return GQ(e())},t}function Ug(){return GQ(Py.apply(null,arguments).paddingInner(1))}function bR(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function KQ(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function V0(){}var Ay=.7,xw=1/Ay,Df="\\s*([+-]?\\d+)\\s*",Cy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UCe=/^#([0-9a-f]{3,8})$/,zCe=new RegExp(`^rgb\\(${Df},${Df},${Df}\\)$`),WCe=new RegExp(`^rgb\\(${go},${go},${go}\\)$`),HCe=new RegExp(`^rgba\\(${Df},${Df},${Df},${Cy}\\)$`),GCe=new RegExp(`^rgba\\(${go},${go},${go},${Cy}\\)$`),KCe=new RegExp(`^hsl\\(${Cy},${go},${go}\\)$`),YCe=new RegExp(`^hsla\\(${Cy},${go},${go},${Cy}\\)$`),OB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bR(V0,ky,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:RB,formatHex:RB,formatHex8:QCe,formatHsl:XCe,formatRgb:MB,toString:MB});function RB(){return this.rgb().formatHex()}function QCe(){return this.rgb().formatHex8()}function XCe(){return YQ(this).formatHsl()}function MB(){return this.rgb().formatRgb()}function ky(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=UCe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?DB(e):r===3?new Qi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Rx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Rx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=zCe.exec(t))?new Qi(e[1],e[2],e[3],1):(e=WCe.exec(t))?new Qi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=HCe.exec(t))?Rx(e[1],e[2],e[3],e[4]):(e=GCe.exec(t))?Rx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=KCe.exec(t))?FB(e[1],e[2]/100,e[3]/100,1):(e=YCe.exec(t))?FB(e[1],e[2]/100,e[3]/100,e[4]):OB.hasOwnProperty(t)?DB(OB[t]):t==="transparent"?new Qi(NaN,NaN,NaN,0):null}function DB(t){return new Qi(t>>16&255,t>>8&255,t&255,1)}function Rx(t,e,r,n){return n<=0&&(t=e=r=NaN),new Qi(t,e,r,n)}function JCe(t){return t instanceof V0||(t=ky(t)),t?(t=t.rgb(),new Qi(t.r,t.g,t.b,t.opacity)):new Qi}function vC(t,e,r,n){return arguments.length===1?JCe(t):new Qi(t,e,r,n??1)}function Qi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}bR(Qi,vC,KQ(V0,{brighter(t){return t=t==null?xw:Math.pow(xw,t),new Qi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ay:Math.pow(Ay,t),new Qi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qi(Od(this.r),Od(this.g),Od(this.b),bw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LB,formatHex:LB,formatHex8:ZCe,formatRgb:$B,toString:$B}));function LB(){return`#${pd(this.r)}${pd(this.g)}${pd(this.b)}`}function ZCe(){return`#${pd(this.r)}${pd(this.g)}${pd(this.b)}${pd((isNaN(this.opacity)?1:this.opacity)*255)}`}function $B(){const t=bw(this.opacity);return`${t===1?"rgb(":"rgba("}${Od(this.r)}, ${Od(this.g)}, ${Od(this.b)}${t===1?")":`, ${t})`}`}function bw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Od(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function pd(t){return t=Od(t),(t<16?"0":"")+t.toString(16)}function FB(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ga(t,e,r,n)}function YQ(t){if(t instanceof ga)return new ga(t.h,t.s,t.l,t.opacity);if(t instanceof V0||(t=ky(t)),!t)return new ga;if(t instanceof ga)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new ga(o,l,c,t.opacity)}function eke(t,e,r,n){return arguments.length===1?YQ(t):new ga(t,e,r,n??1)}function ga(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}bR(ga,eke,KQ(V0,{brighter(t){return t=t==null?xw:Math.pow(xw,t),new ga(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ay:Math.pow(Ay,t),new ga(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Qi(EE(t>=240?t-240:t+120,i,n),EE(t,i,n),EE(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ga(VB(this.h),Mx(this.s),Mx(this.l),bw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bw(this.opacity);return`${t===1?"hsl(":"hsla("}${VB(this.h)}, ${Mx(this.s)*100}%, ${Mx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function VB(t){return t=(t||0)%360,t<0?t+360:t}function Mx(t){return Math.max(0,Math.min(1,t||0))}function EE(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const wR=t=>()=>t;function tke(t,e){return function(r){return t+r*e}}function rke(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function nke(t){return(t=+t)==1?QQ:function(e,r){return r-e?rke(e,r,t):wR(isNaN(e)?r:e)}}function QQ(t,e){var r=e-t;return r?tke(t,r):wR(isNaN(t)?e:t)}const BB=(function t(e){var r=nke(e);function n(i,s){var o=r((i=vC(i)).r,(s=vC(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),d=QQ(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return n.gamma=t,n})(1);function ike(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function ske(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ake(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=tp(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function oke(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function ww(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function lke(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=tp(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var xC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,PE=new RegExp(xC.source,"g");function cke(t){return function(){return t}}function uke(t){return function(e){return t(e)+""}}function dke(t,e){var r=xC.lastIndex=PE.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=xC.exec(t))&&(i=PE.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:ww(n,i)})),r=PE.lastIndex;return r<e.length&&(s=e.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?uke(c[0].x):cke(e):(e=c.length,function(d){for(var f=0,m;f<e;++f)l[(m=c[f]).i]=m.x(d);return l.join("")})}function tp(t,e){var r=typeof e,n;return e==null||r==="boolean"?wR(e):(r==="number"?ww:r==="string"?(n=ky(e))?(e=n,BB):dke:e instanceof ky?BB:e instanceof Date?oke:ske(e)?ike:Array.isArray(e)?ake:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?lke:ww)(t,e)}function _R(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function hke(t,e){e===void 0&&(e=t,t=tp);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function fke(t){return function(){return t}}function _w(t){return+t}var qB=[0,1];function Ai(t){return t}function bC(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:fke(isNaN(e)?NaN:.5)}function mke(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function pke(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=bC(i,n),s=r(o,s)):(n=bC(n,i),s=r(s,o)),function(l){return s(n(l))}}function gke(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=bC(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(l){var c=F0(t,l,1,n)-1;return s[c](i[c](l))}}function B0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function y_(){var t=qB,e=qB,r=tp,n,i,s,o=Ai,l,c,d;function f(){var p=Math.min(t.length,e.length);return o!==Ai&&(o=mke(t[0],t[p-1])),l=p>2?gke:pke,c=d=null,m}function m(p){return p==null||isNaN(p=+p)?s:(c||(c=l(t.map(n),e,r)))(n(o(p)))}return m.invert=function(p){return o(i((d||(d=l(e,t.map(n),ww)))(p)))},m.domain=function(p){return arguments.length?(t=Array.from(p,_w),f()):t.slice()},m.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},m.rangeRound=function(p){return e=Array.from(p),r=_R,f()},m.clamp=function(p){return arguments.length?(o=p?!0:Ai,f()):o!==Ai},m.interpolate=function(p){return arguments.length?(r=p,f()):r},m.unknown=function(p){return arguments.length?(s=p,m):s},function(p,v){return n=p,i=v,f()}}function jR(){return y_()(Ai,Ai)}function yke(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jw(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function dm(t){return t=jw(Math.abs(t)),t?t[1]:NaN}function vke(t,e){return function(r,n){for(var i=r.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function xke(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var bke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Iy(t){if(!(e=bke.exec(t)))throw new Error("invalid format: "+t);var e;return new NR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Iy.prototype=NR.prototype;function NR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}NR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wke(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var XQ;function _ke(t,e){var r=jw(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(XQ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+jw(t,Math.max(0,e+s-1))[0]}function UB(t,e){var r=jw(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const zB={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:yke,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>UB(t*100,e),r:UB,s:_ke,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function WB(t){return t}var HB=Array.prototype.map,GB=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jke(t){var e=t.grouping===void 0||t.thousands===void 0?WB:vke(HB.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?WB:xke(HB.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m){m=Iy(m);var p=m.fill,v=m.align,w=m.sign,x=m.symbol,g=m.zero,_=m.width,T=m.comma,P=m.precision,k=m.trim,A=m.type;A==="n"?(T=!0,A="g"):zB[A]||(P===void 0&&(P=12),k=!0,A="g"),(g||p==="0"&&v==="=")&&(g=!0,p="0",v="=");var C=x==="$"?r:x==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",E=x==="$"?n:/[%p]/.test(A)?o:"",j=zB[A],O=/[defgprs%]/.test(A);P=P===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function R(L){var $=C,F=E,G,K,Y;if(A==="c")F=j(L)+F,L="";else{L=+L;var J=L<0||1/L<0;if(L=isNaN(L)?c:j(Math.abs(L),P),k&&(L=wke(L)),J&&+L==0&&w!=="+"&&(J=!1),$=(J?w==="("?w:l:w==="-"||w==="("?"":w)+$,F=(A==="s"?GB[8+XQ/3]:"")+F+(J&&w==="("?")":""),O){for(G=-1,K=L.length;++G<K;)if(Y=L.charCodeAt(G),48>Y||Y>57){F=(Y===46?i+L.slice(G+1):L.slice(G))+F,L=L.slice(0,G);break}}}T&&!g&&(L=e(L,1/0));var U=$.length+L.length+F.length,X=U<_?new Array(_-U+1).join(p):"";switch(T&&g&&(L=e(X+L,X.length?_-F.length:1/0),X=""),v){case"<":L=$+L+F+X;break;case"=":L=$+X+L+F;break;case"^":L=X.slice(0,U=X.length>>1)+$+L+F+X.slice(U);break;default:L=X+$+L+F;break}return s(L)}return R.toString=function(){return m+""},R}function f(m,p){var v=d((m=Iy(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(dm(p)/3)))*3,x=Math.pow(10,-w),g=GB[8+w/3];return function(_){return v(x*_)+g}}return{format:d,formatPrefix:f}}var Dx,SR,JQ;Nke({thousands:",",grouping:[3],currency:["$",""]});function Nke(t){return Dx=jke(t),SR=Dx.format,JQ=Dx.formatPrefix,Dx}function Ske(t){return Math.max(0,-dm(Math.abs(t)))}function Tke(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dm(e)/3)))*3-dm(Math.abs(t)))}function Eke(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,dm(e)-dm(t))+1}function ZQ(t,e,r,n){var i=gC(t,e,r),s;switch(n=Iy(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Tke(i,o))&&(n.precision=s),JQ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Eke(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Ske(i))&&(n.precision=s-(n.type==="%")*2);break}}return SR(n)}function wu(t){var e=t.domain;return t.ticks=function(r){var n=e();return mC(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return ZQ(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],l=n[s],c,d,f=10;for(l<o&&(d=o,o=l,l=d,d=i,i=s,s=d);f-- >0;){if(d=pC(o,l,r),d===c)return n[i]=o,n[s]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function Nw(){var t=jR();return t.copy=function(){return B0(t,Nw())},Js.apply(t,arguments),wu(t)}function eX(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,_w),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return eX(t).unknown(e)},t=arguments.length?Array.from(t,_w):[0,1],wu(r)}function tX(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function KB(t){return Math.log(t)}function YB(t){return Math.exp(t)}function Pke(t){return-Math.log(-t)}function Ake(t){return-Math.exp(-t)}function Cke(t){return isFinite(t)?+("1e"+t):t<0?0:t}function kke(t){return t===10?Cke:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ike(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function QB(t){return(e,r)=>-t(-e,r)}function TR(t){const e=t(KB,YB),r=e.domain;let n=10,i,s;function o(){return i=Ike(n),s=kke(n),r()[0]<0?(i=QB(i),s=QB(s),t(Pke,Ake)):t(KB,YB),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],f=c[c.length-1];const m=f<d;m&&([d,f]=[f,d]);let p=i(d),v=i(f),w,x;const g=l==null?10:+l;let _=[];if(!(n%1)&&v-p<g){if(p=Math.floor(p),v=Math.ceil(v),d>0){for(;p<=v;++p)for(w=1;w<n;++w)if(x=p<0?w/s(-p):w*s(p),!(x<d)){if(x>f)break;_.push(x)}}else for(;p<=v;++p)for(w=n-1;w>=1;--w)if(x=p>0?w/s(-p):w*s(p),!(x<d)){if(x>f)break;_.push(x)}_.length*2<g&&(_=mC(d,f,g))}else _=mC(p,v,Math.min(v-p,g)).map(s);return m?_.reverse():_},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Iy(c)).precision==null&&(c.trim=!0),c=SR(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return f=>{let m=f/s(Math.round(i(f)));return m*n<n-.5&&(m*=n),m<=d?c(f):""}},e.nice=()=>r(tX(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function rX(){const t=TR(y_()).domain([1,10]);return t.copy=()=>B0(t,rX()).base(t.base()),Js.apply(t,arguments),t}function XB(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function JB(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ER(t){var e=1,r=t(XB(e),JB(e));return r.constant=function(n){return arguments.length?t(XB(e=+n),JB(e)):e},wu(r)}function nX(){var t=ER(y_());return t.copy=function(){return B0(t,nX()).constant(t.constant())},Js.apply(t,arguments)}function ZB(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Oke(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Rke(t){return t<0?-t*t:t*t}function PR(t){var e=t(Ai,Ai),r=1;function n(){return r===1?t(Ai,Ai):r===.5?t(Oke,Rke):t(ZB(r),ZB(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},wu(e)}function AR(){var t=PR(y_());return t.copy=function(){return B0(t,AR()).exponent(t.exponent())},Js.apply(t,arguments),t}function Mke(){return AR.apply(null,arguments).exponent(.5)}function e8(t){return Math.sign(t)*t*t}function Dke(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function iX(){var t=jR(),e=[0,1],r=!1,n;function i(s){var o=Dke(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(e8(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,_w)).map(e8)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return iX(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Js.apply(i,arguments),wu(i)}function sX(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=BCe(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:e[F0(r,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Yc),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return sX().domain(t).range(e).unknown(n)},Js.apply(s,arguments)}function aX(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[F0(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return aX().domain([t,e]).range(i).unknown(s)},Js.apply(wu(o),arguments)}function oX(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[F0(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return oX().domain(t).range(e).unknown(r)},Js.apply(i,arguments)}const AE=new Date,CE=new Date;function _n(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let d;do c.push(d=new Date(+s)),e(s,l),t(s);while(d<s&&s<o);return c},i.filter=s=>_n(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(AE.setTime(+s),CE.setTime(+o),t(AE),t(CE),Math.floor(r(AE,CE))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Sw=_n(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Sw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_n(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Sw);Sw.range;const sl=1e3,Us=sl*60,al=Us*60,Pl=al*24,CR=Pl*7,t8=Pl*30,kE=Pl*365,gd=_n(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*sl)},(t,e)=>(e-t)/sl,t=>t.getUTCSeconds());gd.range;const kR=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sl)},(t,e)=>{t.setTime(+t+e*Us)},(t,e)=>(e-t)/Us,t=>t.getMinutes());kR.range;const IR=_n(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Us)},(t,e)=>(e-t)/Us,t=>t.getUTCMinutes());IR.range;const OR=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sl-t.getMinutes()*Us)},(t,e)=>{t.setTime(+t+e*al)},(t,e)=>(e-t)/al,t=>t.getHours());OR.range;const RR=_n(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*al)},(t,e)=>(e-t)/al,t=>t.getUTCHours());RR.range;const q0=_n(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Us)/Pl,t=>t.getDate()-1);q0.range;const v_=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pl,t=>t.getUTCDate()-1);v_.range;const lX=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pl,t=>Math.floor(t/Pl));lX.range;function fh(t){return _n(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Us)/CR)}const x_=fh(0),Tw=fh(1),Lke=fh(2),$ke=fh(3),hm=fh(4),Fke=fh(5),Vke=fh(6);x_.range;Tw.range;Lke.range;$ke.range;hm.range;Fke.range;Vke.range;function mh(t){return _n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/CR)}const b_=mh(0),Ew=mh(1),Bke=mh(2),qke=mh(3),fm=mh(4),Uke=mh(5),zke=mh(6);b_.range;Ew.range;Bke.range;qke.range;fm.range;Uke.range;zke.range;const MR=_n(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());MR.range;const DR=_n(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());DR.range;const Al=_n(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Al.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Al.range;const Cl=_n(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Cl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Cl.range;function cX(t,e,r,n,i,s){const o=[[gd,1,sl],[gd,5,5*sl],[gd,15,15*sl],[gd,30,30*sl],[s,1,Us],[s,5,5*Us],[s,15,15*Us],[s,30,30*Us],[i,1,al],[i,3,3*al],[i,6,6*al],[i,12,12*al],[n,1,Pl],[n,2,2*Pl],[r,1,CR],[e,1,t8],[e,3,3*t8],[t,1,kE]];function l(d,f,m){const p=f<d;p&&([d,f]=[f,d]);const v=m&&typeof m.range=="function"?m:c(d,f,m),w=v?v.range(d,+f+1):[];return p?w.reverse():w}function c(d,f,m){const p=Math.abs(f-d)/m,v=vR(([,,g])=>g).right(o,p);if(v===o.length)return t.every(gC(d/kE,f/kE,m));if(v===0)return Sw.every(Math.max(gC(d,f,m),1));const[w,x]=o[p/o[v-1][2]<o[v][2]/p?v-1:v];return w.every(x)}return[l,c]}const[Wke,Hke]=cX(Cl,DR,b_,lX,RR,IR),[Gke,Kke]=cX(Al,MR,x_,q0,OR,kR);function IE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function OE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function og(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Yke(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=lg(i),f=cg(i),m=lg(s),p=cg(s),v=lg(o),w=cg(o),x=lg(l),g=cg(l),_=lg(c),T=cg(c),P={a:J,A:U,b:X,B:ie,c:null,d:o8,e:o8,f:vIe,g:PIe,G:CIe,H:pIe,I:gIe,j:yIe,L:uX,m:xIe,M:bIe,p:W,q:ee,Q:u8,s:d8,S:wIe,u:_Ie,U:jIe,V:NIe,w:SIe,W:TIe,x:null,X:null,y:EIe,Y:AIe,Z:kIe,"%":c8},k={a:de,A:ce,b:be,B:ye,c:null,d:l8,e:l8,f:MIe,g:WIe,G:GIe,H:IIe,I:OIe,j:RIe,L:hX,m:DIe,M:LIe,p:pe,q:Ie,Q:u8,s:d8,S:$Ie,u:FIe,U:VIe,V:BIe,w:qIe,W:UIe,x:null,X:null,y:zIe,Y:HIe,Z:KIe,"%":c8},A={a:R,A:L,b:$,B:F,c:G,d:s8,e:s8,f:dIe,g:i8,G:n8,H:a8,I:a8,j:oIe,L:uIe,m:aIe,M:lIe,p:O,q:sIe,Q:fIe,s:mIe,S:cIe,u:eIe,U:tIe,V:rIe,w:Zke,W:nIe,x:K,X:Y,y:i8,Y:n8,Z:iIe,"%":hIe};P.x=C(r,P),P.X=C(n,P),P.c=C(e,P),k.x=C(r,k),k.X=C(n,k),k.c=C(e,k);function C(me,Pe){return function(Re){var fe=[],ct=-1,tt=0,Ot=me.length,Rt,Yt,Kr;for(Re instanceof Date||(Re=new Date(+Re));++ct<Ot;)me.charCodeAt(ct)===37&&(fe.push(me.slice(tt,ct)),(Yt=r8[Rt=me.charAt(++ct)])!=null?Rt=me.charAt(++ct):Yt=Rt==="e"?" ":"0",(Kr=Pe[Rt])&&(Rt=Kr(Re,Yt)),fe.push(Rt),tt=ct+1);return fe.push(me.slice(tt,ct)),fe.join("")}}function E(me,Pe){return function(Re){var fe=og(1900,void 0,1),ct=j(fe,me,Re+="",0),tt,Ot;if(ct!=Re.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Pe&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(tt=OE(og(fe.y,0,1)),Ot=tt.getUTCDay(),tt=Ot>4||Ot===0?Ew.ceil(tt):Ew(tt),tt=v_.offset(tt,(fe.V-1)*7),fe.y=tt.getUTCFullYear(),fe.m=tt.getUTCMonth(),fe.d=tt.getUTCDate()+(fe.w+6)%7):(tt=IE(og(fe.y,0,1)),Ot=tt.getDay(),tt=Ot>4||Ot===0?Tw.ceil(tt):Tw(tt),tt=q0.offset(tt,(fe.V-1)*7),fe.y=tt.getFullYear(),fe.m=tt.getMonth(),fe.d=tt.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Ot="Z"in fe?OE(og(fe.y,0,1)).getUTCDay():IE(og(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Ot+5)%7:fe.w+fe.U*7-(Ot+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,OE(fe)):IE(fe)}}function j(me,Pe,Re,fe){for(var ct=0,tt=Pe.length,Ot=Re.length,Rt,Yt;ct<tt;){if(fe>=Ot)return-1;if(Rt=Pe.charCodeAt(ct++),Rt===37){if(Rt=Pe.charAt(ct++),Yt=A[Rt in r8?Pe.charAt(ct++):Rt],!Yt||(fe=Yt(me,Re,fe))<0)return-1}else if(Rt!=Re.charCodeAt(fe++))return-1}return fe}function O(me,Pe,Re){var fe=d.exec(Pe.slice(Re));return fe?(me.p=f.get(fe[0].toLowerCase()),Re+fe[0].length):-1}function R(me,Pe,Re){var fe=v.exec(Pe.slice(Re));return fe?(me.w=w.get(fe[0].toLowerCase()),Re+fe[0].length):-1}function L(me,Pe,Re){var fe=m.exec(Pe.slice(Re));return fe?(me.w=p.get(fe[0].toLowerCase()),Re+fe[0].length):-1}function $(me,Pe,Re){var fe=_.exec(Pe.slice(Re));return fe?(me.m=T.get(fe[0].toLowerCase()),Re+fe[0].length):-1}function F(me,Pe,Re){var fe=x.exec(Pe.slice(Re));return fe?(me.m=g.get(fe[0].toLowerCase()),Re+fe[0].length):-1}function G(me,Pe,Re){return j(me,e,Pe,Re)}function K(me,Pe,Re){return j(me,r,Pe,Re)}function Y(me,Pe,Re){return j(me,n,Pe,Re)}function J(me){return o[me.getDay()]}function U(me){return s[me.getDay()]}function X(me){return c[me.getMonth()]}function ie(me){return l[me.getMonth()]}function W(me){return i[+(me.getHours()>=12)]}function ee(me){return 1+~~(me.getMonth()/3)}function de(me){return o[me.getUTCDay()]}function ce(me){return s[me.getUTCDay()]}function be(me){return c[me.getUTCMonth()]}function ye(me){return l[me.getUTCMonth()]}function pe(me){return i[+(me.getUTCHours()>=12)]}function Ie(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var Pe=C(me+="",P);return Pe.toString=function(){return me},Pe},parse:function(me){var Pe=E(me+="",!1);return Pe.toString=function(){return me},Pe},utcFormat:function(me){var Pe=C(me+="",k);return Pe.toString=function(){return me},Pe},utcParse:function(me){var Pe=E(me+="",!0);return Pe.toString=function(){return me},Pe}}}var r8={"-":"",_:" ",0:"0"},On=/^\s*\d+/,Qke=/^%/,Xke=/[\\^$*+?|[\]().{}]/g;function Zt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function Jke(t){return t.replace(Xke,"\\$&")}function lg(t){return new RegExp("^(?:"+t.map(Jke).join("|")+")","i")}function cg(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Zke(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function eIe(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function tIe(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function rIe(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function nIe(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function n8(t,e,r){var n=On.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function i8(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function iIe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function sIe(t,e,r){var n=On.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function aIe(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function s8(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function oIe(t,e,r){var n=On.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function a8(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function lIe(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function cIe(t,e,r){var n=On.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function uIe(t,e,r){var n=On.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function dIe(t,e,r){var n=On.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function hIe(t,e,r){var n=Qke.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function fIe(t,e,r){var n=On.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function mIe(t,e,r){var n=On.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function o8(t,e){return Zt(t.getDate(),e,2)}function pIe(t,e){return Zt(t.getHours(),e,2)}function gIe(t,e){return Zt(t.getHours()%12||12,e,2)}function yIe(t,e){return Zt(1+q0.count(Al(t),t),e,3)}function uX(t,e){return Zt(t.getMilliseconds(),e,3)}function vIe(t,e){return uX(t,e)+"000"}function xIe(t,e){return Zt(t.getMonth()+1,e,2)}function bIe(t,e){return Zt(t.getMinutes(),e,2)}function wIe(t,e){return Zt(t.getSeconds(),e,2)}function _Ie(t){var e=t.getDay();return e===0?7:e}function jIe(t,e){return Zt(x_.count(Al(t)-1,t),e,2)}function dX(t){var e=t.getDay();return e>=4||e===0?hm(t):hm.ceil(t)}function NIe(t,e){return t=dX(t),Zt(hm.count(Al(t),t)+(Al(t).getDay()===4),e,2)}function SIe(t){return t.getDay()}function TIe(t,e){return Zt(Tw.count(Al(t)-1,t),e,2)}function EIe(t,e){return Zt(t.getFullYear()%100,e,2)}function PIe(t,e){return t=dX(t),Zt(t.getFullYear()%100,e,2)}function AIe(t,e){return Zt(t.getFullYear()%1e4,e,4)}function CIe(t,e){var r=t.getDay();return t=r>=4||r===0?hm(t):hm.ceil(t),Zt(t.getFullYear()%1e4,e,4)}function kIe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Zt(e/60|0,"0",2)+Zt(e%60,"0",2)}function l8(t,e){return Zt(t.getUTCDate(),e,2)}function IIe(t,e){return Zt(t.getUTCHours(),e,2)}function OIe(t,e){return Zt(t.getUTCHours()%12||12,e,2)}function RIe(t,e){return Zt(1+v_.count(Cl(t),t),e,3)}function hX(t,e){return Zt(t.getUTCMilliseconds(),e,3)}function MIe(t,e){return hX(t,e)+"000"}function DIe(t,e){return Zt(t.getUTCMonth()+1,e,2)}function LIe(t,e){return Zt(t.getUTCMinutes(),e,2)}function $Ie(t,e){return Zt(t.getUTCSeconds(),e,2)}function FIe(t){var e=t.getUTCDay();return e===0?7:e}function VIe(t,e){return Zt(b_.count(Cl(t)-1,t),e,2)}function fX(t){var e=t.getUTCDay();return e>=4||e===0?fm(t):fm.ceil(t)}function BIe(t,e){return t=fX(t),Zt(fm.count(Cl(t),t)+(Cl(t).getUTCDay()===4),e,2)}function qIe(t){return t.getUTCDay()}function UIe(t,e){return Zt(Ew.count(Cl(t)-1,t),e,2)}function zIe(t,e){return Zt(t.getUTCFullYear()%100,e,2)}function WIe(t,e){return t=fX(t),Zt(t.getUTCFullYear()%100,e,2)}function HIe(t,e){return Zt(t.getUTCFullYear()%1e4,e,4)}function GIe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?fm(t):fm.ceil(t),Zt(t.getUTCFullYear()%1e4,e,4)}function KIe(){return"+0000"}function c8(){return"%"}function u8(t){return+t}function d8(t){return Math.floor(+t/1e3)}var sf,mX,pX;YIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YIe(t){return sf=Yke(t),mX=sf.format,sf.parse,pX=sf.utcFormat,sf.utcParse,sf}function QIe(t){return new Date(t)}function XIe(t){return t instanceof Date?+t:+new Date(+t)}function LR(t,e,r,n,i,s,o,l,c,d){var f=jR(),m=f.invert,p=f.domain,v=d(".%L"),w=d(":%S"),x=d("%I:%M"),g=d("%I %p"),_=d("%a %d"),T=d("%b %d"),P=d("%B"),k=d("%Y");function A(C){return(c(C)<C?v:l(C)<C?w:o(C)<C?x:s(C)<C?g:n(C)<C?i(C)<C?_:T:r(C)<C?P:k)(C)}return f.invert=function(C){return new Date(m(C))},f.domain=function(C){return arguments.length?p(Array.from(C,XIe)):p().map(QIe)},f.ticks=function(C){var E=p();return t(E[0],E[E.length-1],C??10)},f.tickFormat=function(C,E){return E==null?A:d(E)},f.nice=function(C){var E=p();return(!C||typeof C.range!="function")&&(C=e(E[0],E[E.length-1],C??10)),C?p(tX(E,C)):f},f.copy=function(){return B0(f,LR(t,e,r,n,i,s,o,l,c,d))},f}function JIe(){return Js.apply(LR(Gke,Kke,Al,MR,x_,q0,OR,kR,gd,mX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZIe(){return Js.apply(LR(Wke,Hke,Cl,DR,b_,v_,RR,IR,gd,pX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function w_(){var t=0,e=1,r,n,i,s,o=Ai,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(i===0?.5:(m=(s(m)-r)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function f(m){return function(p){var v,w;return arguments.length?([v,w]=p,o=m(v,w),d):[o(0),o(1)]}}return d.range=f(tp),d.rangeRound=f(_R),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return s=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),d}}function _u(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gX(){var t=wu(w_()(Ai));return t.copy=function(){return _u(t,gX())},ql.apply(t,arguments)}function yX(){var t=TR(w_()).domain([1,10]);return t.copy=function(){return _u(t,yX()).base(t.base())},ql.apply(t,arguments)}function vX(){var t=ER(w_());return t.copy=function(){return _u(t,vX()).constant(t.constant())},ql.apply(t,arguments)}function $R(){var t=PR(w_());return t.copy=function(){return _u(t,$R()).exponent(t.exponent())},ql.apply(t,arguments)}function eOe(){return $R.apply(null,arguments).exponent(.5)}function xX(){var t=[],e=Ai;function r(n){if(n!=null&&!isNaN(n=+n))return e((F0(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Yc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>VCe(t,s/n))},r.copy=function(){return xX(e).domain(t)},ql.apply(r,arguments)}function __(){var t=0,e=.5,r=1,n=1,i,s,o,l,c,d=Ai,f,m=!1,p;function v(x){return isNaN(x=+x)?p:(x=.5+((x=+f(x))-s)*(n*x<n*s?l:c),d(m?Math.max(0,Math.min(1,x)):x))}v.domain=function(x){return arguments.length?([t,e,r]=x,i=f(t=+t),s=f(e=+e),o=f(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,v):[t,e,r]},v.clamp=function(x){return arguments.length?(m=!!x,v):m},v.interpolator=function(x){return arguments.length?(d=x,v):d};function w(x){return function(g){var _,T,P;return arguments.length?([_,T,P]=g,d=hke(x,[_,T,P]),v):[d(0),d(.5),d(1)]}}return v.range=w(tp),v.rangeRound=w(_R),v.unknown=function(x){return arguments.length?(p=x,v):p},function(x){return f=x,i=x(t),s=x(e),o=x(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,v}}function bX(){var t=wu(__()(Ai));return t.copy=function(){return _u(t,bX())},ql.apply(t,arguments)}function wX(){var t=TR(__()).domain([.1,1,10]);return t.copy=function(){return _u(t,wX()).base(t.base())},ql.apply(t,arguments)}function _X(){var t=ER(__());return t.copy=function(){return _u(t,_X()).constant(t.constant())},ql.apply(t,arguments)}function FR(){var t=PR(__());return t.copy=function(){return _u(t,FR()).exponent(t.exponent())},ql.apply(t,arguments)}function tOe(){return FR.apply(null,arguments).exponent(.5)}const h8=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Py,scaleDiverging:bX,scaleDivergingLog:wX,scaleDivergingPow:FR,scaleDivergingSqrt:tOe,scaleDivergingSymlog:_X,scaleIdentity:eX,scaleImplicit:yC,scaleLinear:Nw,scaleLog:rX,scaleOrdinal:xR,scalePoint:Ug,scalePow:AR,scaleQuantile:sX,scaleQuantize:aX,scaleRadial:iX,scaleSequential:gX,scaleSequentialLog:yX,scaleSequentialPow:$R,scaleSequentialQuantile:xX,scaleSequentialSqrt:eOe,scaleSequentialSymlog:vX,scaleSqrt:Mke,scaleSymlog:nX,scaleThreshold:oX,scaleTime:JIe,scaleUtc:ZIe,tickFormat:ZQ},Symbol.toStringTag,{value:"Module"}));var RE,f8;function j_(){if(f8)return RE;f8=1;var t=Xm();function e(r,n,i){for(var s=-1,o=r.length;++s<o;){var l=r[s],c=n(l);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,f=l}return f}return RE=e,RE}var ME,m8;function jX(){if(m8)return ME;m8=1;function t(e,r){return e>r}return ME=t,ME}var DE,p8;function rOe(){if(p8)return DE;p8=1;var t=j_(),e=jX(),r=ep();function n(i){return i&&i.length?t(i,r,e):void 0}return DE=n,DE}var nOe=rOe();const Bc=er(nOe);var LE,g8;function NX(){if(g8)return LE;g8=1;function t(e,r){return e<r}return LE=t,LE}var $E,y8;function iOe(){if(y8)return $E;y8=1;var t=j_(),e=NX(),r=ep();function n(i){return i&&i.length?t(i,r,e):void 0}return $E=n,$E}var sOe=iOe();const N_=er(sOe);var FE,v8;function aOe(){if(v8)return FE;v8=1;var t=tR(),e=Ao(),r=IQ(),n=Zi();function i(s,o){var l=n(s)?t:r;return l(s,e(o,3))}return FE=i,FE}var VE,x8;function oOe(){if(x8)return VE;x8=1;var t=CQ(),e=aOe();function r(n,i){return t(e(n,i),1)}return VE=r,VE}var lOe=oOe();const cOe=er(lOe);var BE,b8;function uOe(){if(b8)return BE;b8=1;var t=mR();function e(r,n){return t(r,n)}return BE=e,BE}var dOe=uOe();const du=er(dOe);var rp=1e9,hOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BR,Ir=!0,Ys="[DecimalError] ",Rd=Ys+"Invalid argument: ",VR=Ys+"Exponent out of range: ",np=Math.floor,od=Math.pow,fOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ms,Cn=1e7,Tr=7,SX=9007199254740991,Pw=np(SX/Tr),He={};He.absoluteValue=He.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};He.comparedTo=He.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};He.decimalPlaces=He.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Tr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};He.dividedBy=He.div=function(t){return fl(this,new this.constructor(t))};He.dividedToIntegerBy=He.idiv=function(t){var e=this,r=e.constructor;return yr(fl(e,new r(t),0,1),r.precision)};He.equals=He.eq=function(t){return!this.cmp(t)};He.exponent=function(){return cn(this)};He.greaterThan=He.gt=function(t){return this.cmp(t)>0};He.greaterThanOrEqualTo=He.gte=function(t){return this.cmp(t)>=0};He.isInteger=He.isint=function(){return this.e>this.d.length-2};He.isNegative=He.isneg=function(){return this.s<0};He.isPositive=He.ispos=function(){return this.s>0};He.isZero=function(){return this.s===0};He.lessThan=He.lt=function(t){return this.cmp(t)<0};He.lessThanOrEqualTo=He.lte=function(t){return this.cmp(t)<1};He.logarithm=He.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ms))throw Error(Ys+"NaN");if(r.s<1)throw Error(Ys+(r.s?"NaN":"-Infinity"));return r.eq(ms)?new n(0):(Ir=!1,e=fl(Oy(r,s),Oy(t,s),s),Ir=!0,yr(e,i))};He.minus=He.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PX(e,t):TX(e,(t.s=-t.s,t))};He.modulo=He.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ys+"NaN");return r.s?(Ir=!1,e=fl(r,t,0,1).times(t),Ir=!0,r.minus(e)):yr(new n(r),i)};He.naturalExponential=He.exp=function(){return EX(this)};He.naturalLogarithm=He.ln=function(){return Oy(this)};He.negated=He.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};He.plus=He.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?TX(e,t):PX(e,(t.s=-t.s,t))};He.precision=He.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Rd+t);if(e=cn(i)+1,n=i.d.length-1,r=n*Tr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};He.squareRoot=He.sqrt=function(){var t,e,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ys+"NaN")}for(t=cn(l),Ir=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=io(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=np((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(fl(l,s,o+2)).times(.5),io(s.d).slice(0,o)===(e=io(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(yr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;o+=4}return Ir=!0,yr(n,r)};He.times=He.mul=function(t){var e,r,n,i,s,o,l,c,d,f=this,m=f.constructor,p=f.d,v=(t=new m(t)).d;if(!f.s||!t.s)return new m(0);for(t.s*=f.s,r=f.e+t.e,c=p.length,d=v.length,c<d&&(s=p,p=v,v=s,o=c,c=d,d=o),s=[],o=c+d,n=o;n--;)s.push(0);for(n=d;--n>=0;){for(e=0,i=c+n;i>n;)l=s[i]+v[n]*p[i-n-1]+e,s[i--]=l%Cn|0,e=l/Cn|0;s[i]=(s[i]+e)%Cn|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Ir?yr(t,m.precision):t};He.toDecimalPlaces=He.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(jo(t,0,rp),e===void 0?e=n.rounding:jo(e,0,8),yr(r,t+cn(r)+1,e))};He.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Xd(n,!0):(jo(t,0,rp),e===void 0?e=i.rounding:jo(e,0,8),n=yr(new i(n),t+1,e),r=Xd(n,!0,t+1)),r};He.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?Xd(i):(jo(t,0,rp),e===void 0?e=s.rounding:jo(e,0,8),n=yr(new s(i),t+cn(i)+1,e),r=Xd(n.abs(),!1,t+cn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};He.toInteger=He.toint=function(){var t=this,e=t.constructor;return yr(new e(t),cn(t)+1,e.rounding)};He.toNumber=function(){return+this};He.toPower=He.pow=function(t){var e,r,n,i,s,o,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(ms);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ys+"Infinity");return l}if(l.eq(ms))return l;if(n=c.precision,t.eq(ms))return yr(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=l.s,o){if((r=f<0?-f:f)<=SX){for(i=new c(ms),e=Math.ceil(n/Tr+4),Ir=!1;r%2&&(i=i.times(l),_8(i.d,e)),r=np(r/2),r!==0;)l=l.times(l),_8(l.d,e);return Ir=!0,t.s<0?new c(ms).div(i):yr(i,n)}}else if(s<0)throw Error(Ys+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Ir=!1,i=t.times(Oy(l,n+d)),Ir=!0,i=EX(i),i.s=s,i};He.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=cn(i),n=Xd(i,r<=s.toExpNeg||r>=s.toExpPos)):(jo(t,1,rp),e===void 0?e=s.rounding:jo(e,0,8),i=yr(new s(i),t,e),r=cn(i),n=Xd(i,t<=r||r<=s.toExpNeg,t)),n};He.toSignificantDigits=He.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(jo(t,1,rp),e===void 0?e=n.rounding:jo(e,0,8)),yr(new n(r),t,e)};He.toString=He.valueOf=He.val=He.toJSON=He[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=cn(t),r=t.constructor;return Xd(t,e<=r.toExpNeg||e>=r.toExpPos)};function TX(t,e){var r,n,i,s,o,l,c,d,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Ir?yr(e,m):e;if(c=t.d,d=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=d.length):(n=d,i=o,l=c.length),o=Math.ceil(m/Tr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=d.length,l-s<0&&(s=l,n=d,d=c,c=n),r=0;s;)r=(c[--s]=c[s]+d[s]+r)/Cn|0,c[s]%=Cn;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Ir?yr(e,m):e}function jo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Rd+t)}function io(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=Tr-n.length,r&&(s+=_c(r)),s+=n;o=t[e],n=o+"",r=Tr-n.length,r&&(s+=_c(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var fl=(function(){function t(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%Cn|0,o=s/Cn|0;return o&&n.unshift(o),n}function e(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Cn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,d,f,m,p,v,w,x,g,_,T,P,k,A,C,E,j,O=n.constructor,R=n.s==i.s?1:-1,L=n.d,$=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(Ys+"Division by zero");for(c=n.e-i.e,E=$.length,A=L.length,v=new O(R),w=v.d=[],d=0;$[d]==(L[d]||0);)++d;if($[d]>(L[d]||0)&&--c,s==null?T=s=O.precision:o?T=s+(cn(n)-cn(i))+1:T=s,T<0)return new O(0);if(T=T/Tr+2|0,d=0,E==1)for(f=0,$=$[0],T++;(d<A||f)&&T--;d++)P=f*Cn+(L[d]||0),w[d]=P/$|0,f=P%$|0;else{for(f=Cn/($[0]+1)|0,f>1&&($=t($,f),L=t(L,f),E=$.length,A=L.length),k=E,x=L.slice(0,E),g=x.length;g<E;)x[g++]=0;j=$.slice(),j.unshift(0),C=$[0],$[1]>=Cn/2&&++C;do f=0,l=e($,x,E,g),l<0?(_=x[0],E!=g&&(_=_*Cn+(x[1]||0)),f=_/C|0,f>1?(f>=Cn&&(f=Cn-1),m=t($,f),p=m.length,g=x.length,l=e(m,x,p,g),l==1&&(f--,r(m,E<p?j:$,p))):(f==0&&(l=f=1),m=$.slice()),p=m.length,p<g&&m.unshift(0),r(x,m,g),l==-1&&(g=x.length,l=e($,x,E,g),l<1&&(f++,r(x,E<g?j:$,g))),g=x.length):l===0&&(f++,x=[0]),w[d++]=f,l&&x[0]?x[g++]=L[k]||0:(x=[L[k]],g=1);while((k++<A||x[0]!==void 0)&&T--)}return w[0]||w.shift(),v.e=c,yr(v,o?s+cn(v)+1:s)}})();function EX(t,e){var r,n,i,s,o,l,c=0,d=0,f=t.constructor,m=f.precision;if(cn(t)>16)throw Error(VR+cn(t));if(!t.s)return new f(ms);for(Ir=!1,l=m,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(od(2,d))/Math.LN10*2+5|0,l+=n,r=i=s=new f(ms),f.precision=l;;){if(i=yr(i.times(t),l),r=r.times(++c),o=s.plus(fl(i,r,l)),io(o.d).slice(0,l)===io(s.d).slice(0,l)){for(;d--;)s=yr(s.times(s),l);return f.precision=m,e==null?(Ir=!0,yr(s,m)):s}s=o}}function cn(t){for(var e=t.e*Tr,r=t.d[0];r>=10;r/=10)e++;return e}function qE(t,e,r){if(e>t.LN10.sd())throw Ir=!0,r&&(t.precision=r),Error(Ys+"LN10 precision limit exceeded");return yr(new t(t.LN10),e)}function _c(t){for(var e="";t--;)e+="0";return e}function Oy(t,e){var r,n,i,s,o,l,c,d,f,m=1,p=10,v=t,w=v.d,x=v.constructor,g=x.precision;if(v.s<1)throw Error(Ys+(v.s?"NaN":"-Infinity"));if(v.eq(ms))return new x(0);if(e==null?(Ir=!1,d=g):d=e,v.eq(10))return e==null&&(Ir=!0),qE(x,d);if(d+=p,x.precision=d,r=io(w),n=r.charAt(0),s=cn(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=io(v.d),n=r.charAt(0),m++;s=cn(v),n>1?(v=new x("0."+r),s++):v=new x(n+"."+r.slice(1))}else return c=qE(x,d+2,g).times(s+""),v=Oy(new x(n+"."+r.slice(1)),d-p).plus(c),x.precision=g,e==null?(Ir=!0,yr(v,g)):v;for(l=o=v=fl(v.minus(ms),v.plus(ms),d),f=yr(v.times(v),d),i=3;;){if(o=yr(o.times(f),d),c=l.plus(fl(o,new x(i),d)),io(c.d).slice(0,d)===io(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(qE(x,d+2,g).times(s+""))),l=fl(l,new x(m),d),x.precision=g,e==null?(Ir=!0,yr(l,g)):l;l=c,i+=2}}function w8(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=np(r/Tr),t.d=[],n=(r+1)%Tr,r<0&&(n+=Tr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Tr;n<i;)t.d.push(+e.slice(n,n+=Tr));e=e.slice(n),n=Tr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ir&&(t.e>Pw||t.e<-Pw))throw Error(VR+r)}else t.s=0,t.e=0,t.d=[0];return t}function yr(t,e,r){var n,i,s,o,l,c,d,f,m=t.d;for(o=1,s=m[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=Tr,i=e,d=m[f=0];else{if(f=Math.ceil((n+1)/Tr),s=m.length,f>=s)return t;for(d=s=m[f],o=1;s>=10;s/=10)o++;n%=Tr,i=n-Tr+o}if(r!==void 0&&(s=od(10,o-i-1),l=d/s%10|0,c=e<0||m[f+1]!==void 0||d%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?d/od(10,o-i):0:m[f-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(s=cn(t),m.length=1,e=e-s-1,m[0]=od(10,(Tr-e%Tr)%Tr),t.e=np(-e/Tr)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=f,s=1,f--):(m.length=f+1,s=od(10,Tr-n),m[f]=i>0?(d/od(10,o-i)%od(10,i)|0)*s:0),c)for(;;)if(f==0){(m[0]+=s)==Cn&&(m[0]=1,++t.e);break}else{if(m[f]+=s,m[f]!=Cn)break;m[f--]=0,s=1}for(n=m.length;m[--n]===0;)m.pop();if(Ir&&(t.e>Pw||t.e<-Pw))throw Error(VR+cn(t));return t}function PX(t,e){var r,n,i,s,o,l,c,d,f,m,p=t.constructor,v=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Ir?yr(e,v):e;if(c=t.d,m=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(f=o<0,f?(r=c,o=-o,l=m.length):(r=m,n=d,l=c.length),i=Math.max(Math.ceil(v/Tr),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=m.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){f=c[i]<m[i];break}o=0}for(f&&(r=c,c=m,m=r,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>o;){if(c[--i]<m[i]){for(s=i;s&&c[--s]===0;)c[s]=Cn-1;--c[s],c[i]+=Cn}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ir?yr(e,v):e):new p(0)}function Xd(t,e,r){var n,i=cn(t),s=io(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+_c(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+_c(-i-1)+s,r&&(n=r-o)>0&&(s+=_c(n))):i>=o?(s+=_c(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+_c(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=_c(n))),t.s<0?"-"+s:s}function _8(t,e){if(t.length>e)return t.length=e,!0}function AX(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Rd+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return w8(o,s.toString())}else if(typeof s!="string")throw Error(Rd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,fOe.test(s))w8(o,s);else throw Error(Rd+s)}if(i.prototype=He,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=AX,i.config=i.set=mOe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function mOe(t){if(!t||typeof t!="object")throw Error(Ys+"Object expected");var e,r,n,i=["precision",1,rp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(np(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Rd+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Rd+r+": "+n);return this}var BR=AX(hOe);ms=new BR(1);const mr=BR;function pOe(t){return xOe(t)||vOe(t)||yOe(t)||gOe()}function gOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yOe(t,e){if(t){if(typeof t=="string")return wC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wC(t,e)}}function vOe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function xOe(t){if(Array.isArray(t))return wC(t)}function wC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var bOe=function(e){return e},CX={},kX=function(e){return e===CX},j8=function(e){return function r(){return arguments.length===0||arguments.length===1&&kX(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},wOe=function t(e,r){return e===1?r:j8(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==CX}).length;return o>=e?r.apply(void 0,i):t(e-o,j8(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=i.map(function(m){return kX(m)?c.shift():m});return r.apply(void 0,pOe(f).concat(c))}))})},S_=function(e){return wOe(e.length,e)},_C=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},_Oe=S_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),jOe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return bOe;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},jC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},IX=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function NOe(t){var e;return t===0?e=1:e=Math.floor(new mr(t).abs().log(10).toNumber())+1,e}function SOe(t,e,r){for(var n=new mr(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var TOe=S_(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),EOe=S_(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),POe=S_(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const T_={rangeStep:SOe,getDigitCount:NOe,interpolateNumber:TOe,uninterpolateNumber:EOe,uninterpolateTruncation:POe};function NC(t){return kOe(t)||COe(t)||OX(t)||AOe()}function AOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function COe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function kOe(t){if(Array.isArray(t))return SC(t)}function Ry(t,e){return ROe(t)||OOe(t,e)||OX(t,e)||IOe()}function IOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OX(t,e){if(t){if(typeof t=="string")return SC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SC(t,e)}}function SC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OOe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function ROe(t){if(Array.isArray(t))return t}function RX(t){var e=Ry(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function MX(t,e,r){if(t.lte(0))return new mr(0);var n=T_.getDigitCount(t.toNumber()),i=new mr(10).pow(n),s=t.div(i),o=n!==1?.05:.1,l=new mr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new mr(Math.ceil(c))}function MOe(t,e,r){var n=1,i=new mr(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new mr(10).pow(T_.getDigitCount(t)-1),i=new mr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new mr(Math.floor(t)))}else t===0?i=new mr(Math.floor((e-1)/2)):r||(i=new mr(Math.floor(t)));var o=Math.floor((e-1)/2),l=jOe(_Oe(function(c){return i.add(new mr(c-o).mul(n)).toNumber()}),_C);return l(0,e)}function DX(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new mr(0),tickMin:new mr(0),tickMax:new mr(0)};var s=MX(new mr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new mr(0):(o=new mr(t).add(e).div(2),o=o.sub(new mr(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new mr(e).sub(o).div(s).toNumber()),d=l+c+1;return d>r?DX(t,e,r,n,i+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:s,tickMin:o.sub(new mr(l).mul(s)),tickMax:o.add(new mr(c).mul(s))})}function DOe(t){var e=Ry(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=RX([r,n]),c=Ry(l,2),d=c[0],f=c[1];if(d===-1/0||f===1/0){var m=f===1/0?[d].concat(NC(_C(0,i-1).map(function(){return 1/0}))):[].concat(NC(_C(0,i-1).map(function(){return-1/0})),[f]);return r>n?jC(m):m}if(d===f)return MOe(d,i,s);var p=DX(d,f,o,s),v=p.step,w=p.tickMin,x=p.tickMax,g=T_.rangeStep(w,x.add(new mr(.1).mul(v)),v);return r>n?jC(g):g}function LOe(t,e){var r=Ry(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=RX([n,i]),l=Ry(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var f=Math.max(e,2),m=MX(new mr(d).sub(c).div(f-1),s,0),p=[].concat(NC(T_.rangeStep(new mr(c),new mr(d).sub(new mr(.99).mul(m)),m)),[d]);return n>i?jC(p):p}var $Oe=IX(DOe),FOe=IX(LOe),VOe="Invariant failed";function Jd(t,e){throw new Error(VOe)}var BOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Aw.apply(this,arguments)}function qOe(t,e){return HOe(t)||WOe(t,e)||zOe(t,e)||UOe()}function UOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zOe(t,e){if(t){if(typeof t=="string")return N8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N8(t,e)}}function N8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function HOe(t){if(Array.isArray(t))return t}function GOe(t,e){if(t==null)return{};var r=KOe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FX(n.key),n)}}function XOe(t,e,r){return e&&QOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JOe(t,e,r){return e=Cw(e),ZOe(t,LX()?Reflect.construct(e,r||[],Cw(t).constructor):e.apply(t,r))}function ZOe(t,e){if(e&&(mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eRe(t)}function eRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LX=function(){return!!t})()}function Cw(t){return Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cw(t)}function tRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TC(t,e)}function TC(t,e){return TC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TC(t,e)}function $X(t,e,r){return e=FX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FX(t){var e=rRe(t,"string");return mm(e)=="symbol"?e:e+""}function rRe(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var U0=(function(t){function e(){return YOe(this,e),JOe(this,e,arguments)}return tRe(e,t),XOe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,f=n.xAxis,m=n.yAxis,p=GOe(n,BOe),v=Xe(p,!1);this.props.direction==="x"&&f.type!=="number"&&Jd();var w=c.map(function(x){var g=d(x,l),_=g.x,T=g.y,P=g.value,k=g.errorVal;if(!k)return null;var A=[],C,E;if(Array.isArray(k)){var j=qOe(k,2);C=j[0],E=j[1]}else C=E=k;if(s==="vertical"){var O=f.scale,R=T+i,L=R+o,$=R-o,F=O(P-C),G=O(P+E);A.push({x1:G,y1:L,x2:G,y2:$}),A.push({x1:F,y1:R,x2:G,y2:R}),A.push({x1:F,y1:L,x2:F,y2:$})}else if(s==="horizontal"){var K=m.scale,Y=_+i,J=Y-o,U=Y+o,X=K(P-C),ie=K(P+E);A.push({x1:J,y1:ie,x2:U,y2:ie}),A.push({x1:Y,y1:X,x2:Y,y2:ie}),A.push({x1:J,y1:X,x2:U,y2:X})}return z.createElement(At,Aw({className:"recharts-errorBar",key:"bar-".concat(A.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},v),A.map(function(W){return z.createElement("line",Aw({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return z.createElement(At,{className:"recharts-errorBars"},w)}}])})(z.Component);$X(U0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});$X(U0,"displayName","ErrorBar");function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function S8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ed(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S8(Object(r),!0).forEach(function(n){nRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nRe(t,e,r){return e=iRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iRe(t){var e=sRe(t,"string");return My(e)=="symbol"?e:e+""}function sRe(t,e){if(My(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(My(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VX=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=ds(r,Ji);if(!o)return null;var l=Ji.defaultProps,c=l!==void 0?ed(ed({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:s==="children"?d=(n||[]).reduce(function(f,m){var p=m.item,v=m.props,w=v.sectors||v.data||[];return f.concat(w.map(function(x){return{type:o.props.iconType||p.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):d=(n||[]).map(function(f){var m=f.item,p=m.type.defaultProps,v=p!==void 0?ed(ed({},p),m.props):{},w=v.dataKey,x=v.name,g=v.legendType,_=v.hide;return{inactive:_,dataKey:w,type:c.iconType||g||"square",color:qR(m),value:x||w,payload:v}}),ed(ed(ed({},c),Ji.getWithHeight(o,i)),{},{payload:d,item:o})};function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function T8(t){return cRe(t)||lRe(t)||oRe(t)||aRe()}function aRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oRe(t,e){if(t){if(typeof t=="string")return EC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EC(t,e)}}function lRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cRe(t){if(Array.isArray(t))return EC(t)}function EC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function E8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(r),!0).forEach(function(n){Lf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lf(t,e,r){return e=uRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uRe(t){var e=dRe(t,"string");return Dy(e)=="symbol"?e:e+""}function dRe(t,e){if(Dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $r(t,e,r){return gt(t)||gt(e)?r:vn(e)?vs(t,e,r):it(e)?e(t):r}function zg(t,e,r,n){var i=cOe(t,function(l){return $r(l,e)});if(r==="number"){var s=i.filter(function(l){return ke(l)||parseFloat(l)});return s.length?[N_(s),Bc(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!gt(l)}):i;return o.map(function(l){return vn(l)||l instanceof Date?l:""})}var hRe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,d=0;d<l;d++){var f=d>0?i[d-1].coordinate:i[l-1].coordinate,m=i[d].coordinate,p=d>=l-1?i[0].coordinate:i[d+1].coordinate,v=void 0;if(Ei(m-f)!==Ei(p-m)){var w=[];if(Ei(p-m)===Ei(c[1]-c[0])){v=p;var x=m+c[1]-c[0];w[0]=Math.min(x,(x+f)/2),w[1]=Math.max(x,(x+f)/2)}else{v=f;var g=p+c[1]-c[0];w[0]=Math.min(m,(g+m)/2),w[1]=Math.max(m,(g+m)/2)}var _=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(e>_[0]&&e<=_[1]||e>=w[0]&&e<=w[1]){o=i[d].index;break}}else{var T=Math.min(f,p),P=Math.max(f,p);if(e>(T+m)/2&&e<=(P+m)/2){o=i[d].index;break}}}else for(var k=0;k<l;k++)if(k===0&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<l-1&&e>(n[k].coordinate+n[k-1].coordinate)/2&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k===l-1&&e>(n[k].coordinate+n[k-1].coordinate)/2){o=n[k].index;break}return o},qR=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Wr(Wr({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},fRe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,d=l.length;c<d;c++)for(var f=s[l[c]].stackGroups,m=Object.keys(f),p=0,v=m.length;p<v;p++){var w=f[m[p]],x=w.items,g=w.cateAxisId,_=x.filter(function(E){return hl(E.type).indexOf("Bar")>=0});if(_&&_.length){var T=_[0].type.defaultProps,P=T!==void 0?Wr(Wr({},T),_[0].props):_[0].props,k=P.barSize,A=P[g];o[A]||(o[A]=[]);var C=gt(k)?r:k;o[A].push({item:_[0],stackList:_.slice(1),barSize:gt(C)?void 0:Pi(C,n,0)})}}return o},mRe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=Pi(r,i,0,!0),f,m=[];if(o[0].barSize===+o[0].barSize){var p=!1,v=i/c,w=o.reduce(function(k,A){return k+A.barSize||0},0);w+=(c-1)*d,w>=i&&(w-=(c-1)*d,d=0),w>=i&&v>0&&(p=!0,v*=.9,w=c*v);var x=(i-w)/2>>0,g={offset:x-d,size:0};f=o.reduce(function(k,A){var C={item:A.item,position:{offset:g.offset+g.size+d,size:p?v:A.barSize}},E=[].concat(T8(k),[C]);return g=E[E.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(j){E.push({item:j,position:g})}),E},m)}else{var _=Pi(n,i,0,!0);i-2*_-(c-1)*d<=0&&(d=0);var T=(i-2*_-(c-1)*d)/c;T>1&&(T>>=0);var P=l===+l?Math.min(T,l):T;f=o.reduce(function(k,A,C){var E=[].concat(T8(k),[{item:A.item,position:{offset:_+(T+d)*C+(T-P)/2,size:P}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(j){E.push({item:j,position:E[E.length-1].position})}),E},m)}return f},pRe=function(e,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=VX({children:s,legendWidth:c});if(d){var f=i||{},m=f.width,p=f.height,v=d.align,w=d.verticalAlign,x=d.layout;if((x==="vertical"||x==="horizontal"&&w==="middle")&&v!=="center"&&ke(e[v]))return Wr(Wr({},e),{},Lf({},v,e[v]+(m||0)));if((x==="horizontal"||x==="vertical"&&v==="center")&&w!=="middle"&&ke(e[w]))return Wr(Wr({},e),{},Lf({},w,e[w]+(p||0)))}return e},gRe=function(e,r,n){return gt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},BX=function(e,r,n,i,s){var o=r.props.children,l=xs(o,U0).filter(function(d){return gRe(i,s,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,f){var m=$r(f,n);if(gt(m))return d;var p=Array.isArray(m)?[N_(m),Bc(m)]:[m,m],v=c.reduce(function(w,x){var g=$r(f,x,0),_=p[0]-Math.abs(Array.isArray(g)?g[0]:g),T=p[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(_,w[0]),Math.max(T,w[1])]},[1/0,-1/0]);return[Math.min(v[0],d[0]),Math.max(v[1],d[1])]},[1/0,-1/0])}return null},yRe=function(e,r,n,i,s){var o=r.map(function(l){return BX(e,l,n,s,i)}).filter(function(l){return!gt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},qX=function(e,r,n,i,s){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&BX(e,c,d,i)||zg(e,d,n,s)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var f=0,m=d.length;f<m;f++)l[d[f]]||(l[d[f]]=!0,c.push(d[f]));return c},[])},UX=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},zX=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},ol=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ei(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(m){var p=s?s.indexOf(m):m;return{coordinate:i(p)+d,value:m,offset:d}});return f.filter(function(m){return!Zm(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,p){return{coordinate:i(m)+d,value:m,index:p,offset:d}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+d,value:m,offset:d}}):i.domain().map(function(m,p){return{coordinate:i(m)+d,value:s?s[m]:m,index:p,offset:d}})},UE=new WeakMap,Lx=function(e,r){if(typeof r!="function")return e;UE.has(e)||UE.set(e,new WeakMap);var n=UE.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},WX=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Py(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Nw(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ug(),realScaleType:"point"}:s==="category"?{scale:Py(),realScaleType:"band"}:{scale:Nw(),realScaleType:"linear"};if(Kd(i)){var c="scale".concat(c_(i));return{scale:(h8[c]||Ug)(),realScaleType:h8[c]?c:"point"}}return it(i)?{scale:i}:{scale:Ug(),realScaleType:"point"}},P8=1e-4,HX=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-P8,o=Math.max(i[0],i[1])+P8,l=e(r[0]),c=e(r[n-1]);(l<s||l>o||c<s||c>o)&&e.domain([r[0],r[n-1]])}},vRe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},xRe=function(e,r){if(!r||r.length!==2||!ke(r[0])||!ke(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!ke(e[0])||e[0]<n)&&(s[0]=n),(!ke(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},bRe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Zm(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},wRe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=Zm(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},_Re={sign:bRe,expand:cEe,none:am,silhouette:uEe,wiggle:dEe,positive:wRe},jRe=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),s=_Re[n],o=lEe().keys(i).value(function(l,c){return+$r(l,c,0)}).order(nC).offset(s);return o(e)},NRe=function(e,r,n,i,s,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(m,p){var v,w=(v=p.type)!==null&&v!==void 0&&v.defaultProps?Wr(Wr({},p.type.defaultProps),p.props):p.props,x=w.stackId,g=w.hide;if(g)return m;var _=w[n],T=m[_]||{hasStack:!1,stackGroups:{}};if(vn(x)){var P=T.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};P.items.push(p),T.hasStack=!0,T.stackGroups[x]=P}else T.stackGroups[hh("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return Wr(Wr({},m),{},Lf({},_,T))},c),f={};return Object.keys(d).reduce(function(m,p){var v=d[p];if(v.hasStack){var w={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(x,g){var _=v.stackGroups[g];return Wr(Wr({},x),{},Lf({},g,{numericAxisId:n,cateAxisId:i,items:_.items,stackedData:jRe(e,_.items,s)}))},w)}return Wr(Wr({},m),{},Lf({},p,v))},f)},GX=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var f=$Oe(d,s,l);return e.domain([N_(f),Bc(f)]),{niceTicks:f}}if(s&&i==="number"){var m=e.domain(),p=FOe(m,s,l);return{niceTicks:p}}return null};function kw(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!gt(i[e.dataKey])){var l=aw(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=$r(i,gt(o)?e.dataKey:o);return gt(c)?null:e.scale(c)}var A8=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=$r(o,r.dataKey,r.domain[l]);return gt(c)?null:r.scale(c)-s/2+i},SRe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},TRe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Wr(Wr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(vn(s)){var o=r[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},ERe=function(e){return e.reduce(function(r,n){return[N_(n.concat([r[0]]).filter(ke)),Bc(n.concat([r[1]]).filter(ke))]},[1/0,-1/0])},KX=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],l=o.stackedData,c=l.reduce(function(d,f){var m=ERe(f.slice(r,n+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},C8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,k8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PC=function(e,r,n){if(it(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ke(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(C8.test(e[0])){var s=+C8.exec(e[0])[1];i[0]=r[0]-s}else it(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ke(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(k8.test(e[1])){var o=+k8.exec(e[1])[1];i[1]=r[1]+o}else it(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Iw=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=gR(r,function(m){return m.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var d=s[l],f=s[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},I8=function(e,r,n){return!e||!e.length||du(e,vs(n,"type.defaultProps.domain"))?r:e},YX=function(e,r){var n=e.type.defaultProps?Wr(Wr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,f=n.hide;return Wr(Wr({},Xe(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:qR(e),value:$r(r,i),type:c,payload:r,chartType:d,hide:f})};function Ly(t){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function O8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O8(Object(r),!0).forEach(function(n){QX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QX(t,e,r){return e=PRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PRe(t){var e=ARe(t,"string");return Ly(e)=="symbol"?e:e+""}function ARe(t,e){if(Ly(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CRe(t,e){return RRe(t)||ORe(t,e)||IRe(t,e)||kRe()}function kRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IRe(t,e){if(t){if(typeof t=="string")return R8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R8(t,e)}}function R8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ORe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function RRe(t){if(Array.isArray(t))return t}var Ow=Math.PI/180,MRe=function(e){return e*180/Math.PI},nr=function(e,r,n,i){return{x:e+Math.cos(-Ow*i)*n,y:r+Math.sin(-Ow*i)*n}},XX=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},JX=function(e,r,n,i,s){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,f=Pi(e.cx,o,o/2),m=Pi(e.cy,l,l/2),p=XX(o,l,n),v=Pi(e.innerRadius,p,0),w=Pi(e.outerRadius,p,p*.8),x=Object.keys(r);return x.reduce(function(g,_){var T=r[_],P=T.domain,k=T.reversed,A;if(gt(T.range))i==="angleAxis"?A=[c,d]:i==="radiusAxis"&&(A=[v,w]),k&&(A=[A[1],A[0]]);else{A=T.range;var C=A,E=CRe(C,2);c=E[0],d=E[1]}var j=WX(T,s),O=j.realScaleType,R=j.scale;R.domain(P).range(A),HX(R);var L=GX(R,Qo(Qo({},T),{},{realScaleType:O})),$=Qo(Qo(Qo({},T),L),{},{range:A,radius:w,realScaleType:O,scale:R,cx:f,cy:m,innerRadius:v,outerRadius:w,startAngle:c,endAngle:d});return Qo(Qo({},g),{},QX({},_,$))},{})},DRe=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},LRe=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,l=DRe({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:MRe(d),angleInRadian:d}},$Re=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},FRe=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return e+l*360},M8=function(e,r){var n=e.x,i=e.y,s=LRe({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var f=$Re(r),m=f.startAngle,p=f.endAngle,v=l,w;if(m<=p){for(;v>p;)v-=360;for(;v<m;)v+=360;w=v>=m&&v<=p}else{for(;v>m;)v-=360;for(;v<p;)v+=360;w=v>=p&&v<=m}return w?Qo(Qo({},r),{},{radius:o,angle:FRe(v,r)}):null},ZX=function(e){return!S.isValidElement(e)&&!it(e)&&typeof e!="boolean"?e.className:""};function $y(t){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}var VRe=["offset"];function BRe(t){return WRe(t)||zRe(t)||URe(t)||qRe()}function qRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function URe(t,e){if(t){if(typeof t=="string")return AC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AC(t,e)}}function zRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WRe(t){if(Array.isArray(t))return AC(t)}function AC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HRe(t,e){if(t==null)return{};var r=GRe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function D8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D8(Object(r),!0).forEach(function(n){KRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KRe(t,e,r){return e=YRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YRe(t){var e=QRe(t,"string");return $y(e)=="symbol"?e:e+""}function QRe(t,e){if($y(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fy(){return Fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fy.apply(this,arguments)}var XRe=function(e){var r=e.value,n=e.formatter,i=gt(e.children)?r:e.children;return it(n)?n(i):i},JRe=function(e,r){var n=Ei(r-e),i=Math.min(Math.abs(r-e),360);return n*i},ZRe=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,d=c.cx,f=c.cy,m=c.innerRadius,p=c.outerRadius,v=c.startAngle,w=c.endAngle,x=c.clockWise,g=(m+p)/2,_=JRe(v,w),T=_>=0?1:-1,P,k;i==="insideStart"?(P=v+T*o,k=x):i==="insideEnd"?(P=w-T*o,k=!x):i==="end"&&(P=w+T*o,k=x),k=_<=0?k:!k;var A=nr(d,f,g,P),C=nr(d,f,g,P+(k?1:-1)*359),E="M".concat(A.x,",").concat(A.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(k?0:1,`,
    `).concat(C.x,",").concat(C.y),j=gt(e.id)?hh("recharts-radial-line-"):e.id;return z.createElement("text",Fy({},n,{dominantBaseline:"central",className:mt("recharts-radial-bar-label",l)}),z.createElement("defs",null,z.createElement("path",{id:j,d:E})),z.createElement("textPath",{xlinkHref:"#".concat(j)},r))},eMe=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,d=s.outerRadius,f=s.startAngle,m=s.endAngle,p=(f+m)/2;if(i==="outside"){var v=nr(o,l,d+n,p),w=v.x,x=v.y;return{x:w,y:x,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+d)/2,_=nr(o,l,g,p),T=_.x,P=_.y;return{x:T,y:P,textAnchor:"middle",verticalAnchor:"middle"}},tMe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,l=o.x,c=o.y,d=o.width,f=o.height,m=f>=0?1:-1,p=m*i,v=m>0?"end":"start",w=m>0?"start":"end",x=d>=0?1:-1,g=x*i,_=x>0?"end":"start",T=x>0?"start":"end";if(s==="top"){var P={x:l+d/2,y:c-m*i,textAnchor:"middle",verticalAnchor:v};return mn(mn({},P),n?{height:Math.max(c-n.y,0),width:d}:{})}if(s==="bottom"){var k={x:l+d/2,y:c+f+p,textAnchor:"middle",verticalAnchor:w};return mn(mn({},k),n?{height:Math.max(n.y+n.height-(c+f),0),width:d}:{})}if(s==="left"){var A={x:l-g,y:c+f/2,textAnchor:_,verticalAnchor:"middle"};return mn(mn({},A),n?{width:Math.max(A.x-n.x,0),height:f}:{})}if(s==="right"){var C={x:l+d+g,y:c+f/2,textAnchor:T,verticalAnchor:"middle"};return mn(mn({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:f}:{})}var E=n?{width:d,height:f}:{};return s==="insideLeft"?mn({x:l+g,y:c+f/2,textAnchor:T,verticalAnchor:"middle"},E):s==="insideRight"?mn({x:l+d-g,y:c+f/2,textAnchor:_,verticalAnchor:"middle"},E):s==="insideTop"?mn({x:l+d/2,y:c+p,textAnchor:"middle",verticalAnchor:w},E):s==="insideBottom"?mn({x:l+d/2,y:c+f-p,textAnchor:"middle",verticalAnchor:v},E):s==="insideTopLeft"?mn({x:l+g,y:c+p,textAnchor:T,verticalAnchor:w},E):s==="insideTopRight"?mn({x:l+d-g,y:c+p,textAnchor:_,verticalAnchor:w},E):s==="insideBottomLeft"?mn({x:l+g,y:c+f-p,textAnchor:T,verticalAnchor:v},E):s==="insideBottomRight"?mn({x:l+d-g,y:c+f-p,textAnchor:_,verticalAnchor:v},E):Jm(s)&&(ke(s.x)||md(s.x))&&(ke(s.y)||md(s.y))?mn({x:l+Pi(s.x,d),y:c+Pi(s.y,f),textAnchor:"end",verticalAnchor:"end"},E):mn({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},E)},rMe=function(e){return"cx"in e&&ke(e.cx)};function kn(t){var e=t.offset,r=e===void 0?5:e,n=HRe(t,VRe),i=mn({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,f=i.className,m=f===void 0?"":f,p=i.textBreakAll;if(!s||gt(l)&&gt(c)&&!S.isValidElement(d)&&!it(d))return null;if(S.isValidElement(d))return S.cloneElement(d,i);var v;if(it(d)){if(v=S.createElement(d,i),S.isValidElement(v))return v}else v=XRe(i);var w=rMe(s),x=Xe(i,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ZRe(i,v,x);var g=w?eMe(i):tMe(i);return z.createElement(Qd,Fy({className:mt("recharts-label",m)},x,g,{breakAll:p}),v)}kn.displayName="Label";var eJ=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,f=e.outerRadius,m=e.x,p=e.y,v=e.top,w=e.left,x=e.width,g=e.height,_=e.clockWise,T=e.labelViewBox;if(T)return T;if(ke(x)&&ke(g)){if(ke(m)&&ke(p))return{x:m,y:p,width:x,height:g};if(ke(v)&&ke(w))return{x:v,y:w,width:x,height:g}}return ke(m)&&ke(p)?{x:m,y:p,width:0,height:0}:ke(r)&&ke(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:f||c||l||0,clockWise:_}:e.viewBox?e.viewBox:{}},nMe=function(e,r){return e?e===!0?z.createElement(kn,{key:"label-implicit",viewBox:r}):vn(e)?z.createElement(kn,{key:"label-implicit",viewBox:r,value:e}):S.isValidElement(e)?e.type===kn?S.cloneElement(e,{key:"label-implicit",viewBox:r}):z.createElement(kn,{key:"label-implicit",content:e,viewBox:r}):it(e)?z.createElement(kn,{key:"label-implicit",content:e,viewBox:r}):Jm(e)?z.createElement(kn,Fy({viewBox:r},e,{key:"label-implicit"})):null:null},iMe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=eJ(e),o=xs(i,kn).map(function(c,d){return S.cloneElement(c,{viewBox:r||s,key:"label-".concat(d)})});if(!n)return o;var l=nMe(e.label,r||s);return[l].concat(BRe(o))};kn.parseViewBox=eJ;kn.renderCallByParent=iMe;var zE,L8;function sMe(){if(L8)return zE;L8=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return zE=t,zE}var aMe=sMe();const tJ=er(aMe);function Vy(t){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}var oMe=["valueAccessor"],lMe=["data","dataKey","clockWise","id","textBreakAll"];function cMe(t){return fMe(t)||hMe(t)||dMe(t)||uMe()}function uMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dMe(t,e){if(t){if(typeof t=="string")return CC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CC(t,e)}}function hMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fMe(t){if(Array.isArray(t))return CC(t)}function CC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rw.apply(this,arguments)}function $8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$8(Object(r),!0).forEach(function(n){mMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mMe(t,e,r){return e=pMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pMe(t){var e=gMe(t,"string");return Vy(e)=="symbol"?e:e+""}function gMe(t,e){if(Vy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V8(t,e){if(t==null)return{};var r=yMe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vMe=function(e){return Array.isArray(e.value)?tJ(e.value):e.value};function wa(t){var e=t.valueAccessor,r=e===void 0?vMe:e,n=V8(t,oMe),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=V8(n,lMe);return!i||!i.length?null:z.createElement(At,{className:"recharts-label-list"},i.map(function(f,m){var p=gt(s)?r(f,m):$r(f&&f.payload,s),v=gt(l)?{}:{id:"".concat(l,"-").concat(m)};return z.createElement(kn,Rw({},Xe(f,!0),d,v,{parentViewBox:f.parentViewBox,value:p,textBreakAll:c,viewBox:kn.parseViewBox(gt(o)?f:F8(F8({},f),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}wa.displayName="LabelList";function xMe(t,e){return t?t===!0?z.createElement(wa,{key:"labelList-implicit",data:e}):z.isValidElement(t)||it(t)?z.createElement(wa,{key:"labelList-implicit",data:e,content:t}):Jm(t)?z.createElement(wa,Rw({data:e},t,{key:"labelList-implicit"})):null:null}function bMe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=xs(n,wa).map(function(o,l){return S.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var s=xMe(t.label,e);return[s].concat(cMe(i))}wa.renderCallByParent=bMe;function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}function kC(){return kC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kC.apply(this,arguments)}function B8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(r),!0).forEach(function(n){wMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wMe(t,e,r){return e=_Me(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Me(t){var e=jMe(t,"string");return By(e)=="symbol"?e:e+""}function jMe(t,e){if(By(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(By(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NMe=function(e,r){var n=Ei(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},$x=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,f=c*(l?1:-1)+i,m=Math.asin(c/f)/Ow,p=d?s:s+o*m,v=nr(r,n,f,p),w=nr(r,n,i,p),x=d?s-o*m:s,g=nr(r,n,f*Math.cos(m*Ow),x);return{center:v,circleTangency:w,lineTangency:g,theta:m}},rJ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=NMe(o,l),d=o+c,f=nr(r,n,s,o),m=nr(r,n,s,d),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var v=nr(r,n,i,o),w=nr(r,n,i,d);p+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},SMe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,f=e.endAngle,m=Ei(f-d),p=$x({cx:r,cy:n,radius:s,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),v=p.circleTangency,w=p.lineTangency,x=p.theta,g=$x({cx:r,cy:n,radius:s,angle:f,sign:-m,cornerRadius:o,cornerIsExternal:c}),_=g.circleTangency,T=g.lineTangency,P=g.theta,k=c?Math.abs(d-f):Math.abs(d-f)-x-P;if(k<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):rJ({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f});var A="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(k>180),",").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(i>0){var C=$x({cx:r,cy:n,radius:i,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=C.circleTangency,j=C.lineTangency,O=C.theta,R=$x({cx:r,cy:n,radius:i,angle:f,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=R.circleTangency,$=R.lineTangency,F=R.theta,G=c?Math.abs(d-f):Math.abs(d-f)-O-F;if(G<0&&o===0)return"".concat(A,"L").concat(r,",").concat(n,"Z");A+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(G>180),",").concat(+(m>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,"Z")}else A+="L".concat(r,",").concat(n,"Z");return A},TMe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nJ=function(e){var r=q8(q8({},TMe),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,f=r.startAngle,m=r.endAngle,p=r.className;if(o<s||f===m)return null;var v=mt("recharts-sector",p),w=o-s,x=Pi(l,w,0,!0),g;return x>0&&Math.abs(f-m)<360?g=SMe({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,w/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):g=rJ({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:m}),z.createElement("path",kC({},Xe(r,!0),{className:v,d:g,role:"img"}))};function qy(t){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}function IC(){return IC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IC.apply(this,arguments)}function U8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(r),!0).forEach(function(n){EMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EMe(t,e,r){return e=PMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PMe(t){var e=AMe(t,"string");return qy(e)=="symbol"?e:e+""}function AMe(t,e){if(qy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W8={curveBasisClosed:XTe,curveBasisOpen:JTe,curveBasis:QTe,curveBumpX:DTe,curveBumpY:LTe,curveLinearClosed:ZTe,curveLinear:d_,curveMonotoneX:eEe,curveMonotoneY:tEe,curveNatural:rEe,curveStep:nEe,curveStepAfter:sEe,curveStepBefore:iEe},Fx=function(e){return e.x===+e.x&&e.y===+e.y},ug=function(e){return e.x},dg=function(e){return e.y},CMe=function(e,r){if(it(e))return e;var n="curve".concat(c_(e));return(n==="curveMonotone"||n==="curveBump")&&r?W8["".concat(n).concat(r==="vertical"?"Y":"X")]:W8[n]||d_},kMe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,f=CMe(n,l),m=d?s.filter(function(x){return Fx(x)}):s,p;if(Array.isArray(o)){var v=d?o.filter(function(x){return Fx(x)}):o,w=m.map(function(x,g){return z8(z8({},x),{},{base:v[g]})});return l==="vertical"?p=Cx().y(dg).x1(ug).x0(function(x){return x.base.x}):p=Cx().x(ug).y1(dg).y0(function(x){return x.base.y}),p.defined(Fx).curve(f),p(w)}return l==="vertical"&&ke(o)?p=Cx().y(dg).x1(ug).x0(o):ke(o)?p=Cx().x(ug).y1(dg).y0(o):p=ZY().x(ug).y(dg),p.defined(Fx).curve(f),p(m)},Md=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?kMe(e):i;return S.createElement("path",IC({},Xe(e,!1),ow(e),{className:mt("recharts-curve",r),d:o,ref:s}))},WE={exports:{}},HE,H8;function IMe(){if(H8)return HE;H8=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return HE=t,HE}var GE,G8;function OMe(){if(G8)return GE;G8=1;var t=IMe();function e(){}function r(){}return r.resetWarningCache=e,GE=function(){function n(o,l,c,d,f,m){if(m!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},GE}var K8;function RMe(){return K8||(K8=1,WE.exports=OMe()()),WE.exports}var MMe=RMe();const ar=er(MMe);var DMe=Object.getOwnPropertyNames,LMe=Object.getOwnPropertySymbols,$Me=Object.prototype.hasOwnProperty;function Y8(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function Vx(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,i);return s.delete(r),s.delete(n),c}}function FMe(t){return t!=null?t[Symbol.toStringTag]:void 0}function Q8(t){return DMe(t).concat(LMe(t))}var VMe=Object.hasOwn||(function(t,e){return $Me.call(t,e)});function ph(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var BMe="__v",qMe="__o",UMe="_owner",X8=Object.getOwnPropertyDescriptor,J8=Object.keys;function zMe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function WMe(t,e){return ph(t.getTime(),e.getTime())}function HMe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function GMe(t,e){return t===e}function Z8(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var d=e.entries(),f=!1,m=0;(l=d.next())&&!l.done;){if(i[m]){m++;continue}var p=o.value,v=l.value;if(r.equals(p[0],v[0],c,m,t,e,r)&&r.equals(p[1],v[1],p[0],v[0],t,e,r)){f=i[m]=!0;break}m++}if(!f)return!1;c++}return!0}var KMe=ph;function YMe(t,e,r){var n=J8(t),i=n.length;if(J8(e).length!==i)return!1;for(;i-- >0;)if(!iJ(t,e,r,n[i]))return!1;return!0}function hg(t,e,r){var n=Q8(t),i=n.length;if(Q8(e).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=n[i],!iJ(t,e,r,s)||(o=X8(t,s),l=X8(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function QMe(t,e){return ph(t.valueOf(),e.valueOf())}function XMe(t,e){return t.source===e.source&&t.flags===e.flags}function eq(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),o,l;(o=s.next())&&!o.done;){for(var c=e.values(),d=!1,f=0;(l=c.next())&&!l.done;){if(!i[f]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1}return!0}function JMe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function ZMe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function iJ(t,e,r,n){return(n===UMe||n===qMe||n===BMe)&&(t.$$typeof||e.$$typeof)?!0:VMe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var e4e="[object Arguments]",t4e="[object Boolean]",r4e="[object Date]",n4e="[object Error]",i4e="[object Map]",s4e="[object Number]",a4e="[object Object]",o4e="[object RegExp]",l4e="[object Set]",c4e="[object String]",u4e="[object URL]",d4e=Array.isArray,tq=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,rq=Object.assign,h4e=Object.prototype.toString.call.bind(Object.prototype.toString);function f4e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,f=t.areSetsEqual,m=t.areTypedArraysEqual,p=t.areUrlsEqual,v=t.unknownTagComparators;return function(x,g,_){if(x===g)return!0;if(x==null||g==null)return!1;var T=typeof x;if(T!==typeof g)return!1;if(T!=="object")return T==="number"?o(x,g,_):T==="function"?i(x,g,_):!1;var P=x.constructor;if(P!==g.constructor)return!1;if(P===Object)return l(x,g,_);if(d4e(x))return e(x,g,_);if(tq!=null&&tq(x))return m(x,g,_);if(P===Date)return r(x,g,_);if(P===RegExp)return d(x,g,_);if(P===Map)return s(x,g,_);if(P===Set)return f(x,g,_);var k=h4e(x);if(k===r4e)return r(x,g,_);if(k===o4e)return d(x,g,_);if(k===i4e)return s(x,g,_);if(k===l4e)return f(x,g,_);if(k===a4e)return typeof x.then!="function"&&typeof g.then!="function"&&l(x,g,_);if(k===u4e)return p(x,g,_);if(k===n4e)return n(x,g,_);if(k===e4e)return l(x,g,_);if(k===t4e||k===s4e||k===c4e)return c(x,g,_);if(v){var A=v[k];if(!A){var C=FMe(x);C&&(A=v[C])}if(A)return A(x,g,_)}return!1}}function m4e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?hg:zMe,areDatesEqual:WMe,areErrorsEqual:HMe,areFunctionsEqual:GMe,areMapsEqual:n?Y8(Z8,hg):Z8,areNumbersEqual:KMe,areObjectsEqual:n?hg:YMe,arePrimitiveWrappersEqual:QMe,areRegExpsEqual:XMe,areSetsEqual:n?Y8(eq,hg):eq,areTypedArraysEqual:n?hg:JMe,areUrlsEqual:ZMe,unknownTagComparators:void 0};if(r&&(i=rq({},i,r(i))),e){var s=Vx(i.areArraysEqual),o=Vx(i.areMapsEqual),l=Vx(i.areObjectsEqual),c=Vx(i.areSetsEqual);i=rq({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function p4e(t){return function(e,r,n,i,s,o,l){return t(e,r,l)}}function g4e(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(c,d){var f=n(),m=f.cache,p=m===void 0?e?new WeakMap:void 0:m,v=f.meta;return r(c,d,{cache:p,equals:i,meta:v,strict:s})};if(e)return function(c,d){return r(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,d){return r(c,d,o)}}var y4e=ju();ju({strict:!0});ju({circular:!0});ju({circular:!0,strict:!0});ju({createInternalComparator:function(){return ph}});ju({strict:!0,createInternalComparator:function(){return ph}});ju({circular:!0,createInternalComparator:function(){return ph}});ju({circular:!0,createInternalComparator:function(){return ph},strict:!0});function ju(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,l=m4e(t),c=f4e(l),d=n?n(c):p4e(c);return g4e({circular:r,comparator:c,createState:i,equals:d,strict:o})}function v4e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function nq(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):v4e(i)};requestAnimationFrame(n)}function OC(t){"@babel/helpers - typeof";return OC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OC(t)}function x4e(t){return j4e(t)||_4e(t)||w4e(t)||b4e()}function b4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w4e(t,e){if(t){if(typeof t=="string")return iq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iq(t,e)}}function iq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function j4e(t){if(Array.isArray(t))return t}function N4e(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=x4e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){nq(i.bind(null,d),c);return}i(c),nq(i.bind(null,d));return}OC(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Uy(t){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}function sq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sq(Object(r),!0).forEach(function(n){sJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sJ(t,e,r){return e=S4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S4e(t){var e=T4e(t,"string");return Uy(e)==="symbol"?e:String(e)}function T4e(t,e){if(Uy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E4e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},P4e=function(e){return e},A4e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Wg=function(e,r){return Object.keys(r).reduce(function(n,i){return aq(aq({},n),{},sJ({},i,e(i,r[i])))},{})},oq=function(e,r,n){return e.map(function(i){return"".concat(A4e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function C4e(t,e){return O4e(t)||I4e(t,e)||aJ(t,e)||k4e()}function k4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function O4e(t){if(Array.isArray(t))return t}function R4e(t){return L4e(t)||D4e(t)||aJ(t)||M4e()}function M4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aJ(t,e){if(t){if(typeof t=="string")return RC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RC(t,e)}}function D4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function L4e(t){if(Array.isArray(t))return RC(t)}function RC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Mw=1e-4,oJ=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},lJ=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},lq=function(e,r){return function(n){var i=oJ(e,r);return lJ(i,n)}},$4e=function(e,r){return function(n){var i=oJ(e,r),s=[].concat(R4e(i.map(function(o,l){return o*l}).slice(1)),[0]);return lJ(s,n)}},cq=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),f=C4e(d,4);i=f[0],s=f[1],o=f[2],l=f[3]}}}var m=lq(i,o),p=lq(s,l),v=$4e(i,o),w=function(_){return _>1?1:_<0?0:_},x=function(_){for(var T=_>1?1:_,P=T,k=0;k<8;++k){var A=m(P)-T,C=v(P);if(Math.abs(A-T)<Mw||C<Mw)return p(P);P=w(P-A/C)}return p(P)};return x.isStepper=!1,x},F4e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(f,m,p){var v=-(f-m)*n,w=p*s,x=p+(v-w)*l/1e3,g=p*l/1e3+f;return Math.abs(g-m)<Mw&&Math.abs(x)<Mw?[m,0]:[g,x]};return c.isStepper=!0,c.dt=l,c},V4e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cq(i);case"spring":return F4e();default:if(i.split("(")[0]==="cubic-bezier")return cq(i)}return typeof i=="function"?i:null};function zy(t){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zy(t)}function uq(t){return U4e(t)||q4e(t)||cJ(t)||B4e()}function B4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U4e(t){if(Array.isArray(t))return DC(t)}function dq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dq(Object(r),!0).forEach(function(n){MC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MC(t,e,r){return e=z4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z4e(t){var e=W4e(t,"string");return zy(e)==="symbol"?e:String(e)}function W4e(t,e){if(zy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H4e(t,e){return Y4e(t)||K4e(t,e)||cJ(t,e)||G4e()}function G4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cJ(t,e){if(t){if(typeof t=="string")return DC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DC(t,e)}}function DC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function K4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Y4e(t){if(Array.isArray(t))return t}var Dw=function(e,r,n){return e+(r-e)*n},LC=function(e){var r=e.from,n=e.to;return r!==n},Q4e=function t(e,r,n){var i=Wg(function(s,o){if(LC(o)){var l=e(o.from,o.to,o.velocity),c=H4e(l,2),d=c[0],f=c[1];return Vn(Vn({},o),{},{from:d,velocity:f})}return o},r);return n<1?Wg(function(s,o){return LC(o)?Vn(Vn({},o),{},{velocity:Dw(o.velocity,i[s].velocity,n),from:Dw(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const X4e=(function(t,e,r,n,i){var s=E4e(t,e),o=s.reduce(function(g,_){return Vn(Vn({},g),{},MC({},_,[t[_],e[_]]))},{}),l=s.reduce(function(g,_){return Vn(Vn({},g),{},MC({},_,{from:t[_],velocity:0,to:e[_]}))},{}),c=-1,d,f,m=function(){return null},p=function(){return Wg(function(_,T){return T.from},l)},v=function(){return!Object.values(l).filter(LC).length},w=function(_){d||(d=_);var T=_-d,P=T/r.dt;l=Q4e(r,l,P),i(Vn(Vn(Vn({},t),e),p())),d=_,v()||(c=requestAnimationFrame(m))},x=function(_){f||(f=_);var T=(_-f)/n,P=Wg(function(A,C){return Dw.apply(void 0,uq(C).concat([r(T)]))},o);if(i(Vn(Vn(Vn({},t),e),P)),T<1)c=requestAnimationFrame(m);else{var k=Wg(function(A,C){return Dw.apply(void 0,uq(C).concat([r(1)]))},o);i(Vn(Vn(Vn({},t),e),k))}};return m=r.isStepper?w:x,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}var J4e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Z4e(t,e){if(t==null)return{};var r=e5e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function e5e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function KE(t){return i5e(t)||n5e(t)||r5e(t)||t5e()}function t5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r5e(t,e){if(t){if(typeof t=="string")return $C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $C(t,e)}}function n5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function i5e(t){if(Array.isArray(t))return $C(t)}function $C(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hq(Object(r),!0).forEach(function(n){Tg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tg(t,e,r){return e=uJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uJ(n.key),n)}}function o5e(t,e,r){return e&&a5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uJ(t){var e=l5e(t,"string");return pm(e)==="symbol"?e:String(e)}function l5e(t,e){if(pm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FC(t,e)}function FC(t,e){return FC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FC(t,e)}function u5e(t){var e=d5e();return function(){var n=Lw(t),i;if(e){var s=Lw(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return VC(this,i)}}function VC(t,e){if(e&&(pm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BC(t)}function BC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lw(t){return Lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lw(t)}var Qs=(function(t){c5e(r,t);var e=u5e(r);function r(n,i){var s;s5e(this,r),s=e.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,d=o.from,f=o.to,m=o.steps,p=o.children,v=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(BC(s)),s.changeStyle=s.changeStyle.bind(BC(s)),!l||v<=0)return s.state={style:{}},typeof p=="function"&&(s.state={style:f}),VC(s);if(m&&m.length)s.state={style:m[0].style};else if(d){if(typeof p=="function")return s.state={style:d},VC(s);s.state={style:c?Tg({},c,d):d}}else s.state={style:{}};return s}return o5e(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,d=s.shouldReAnimate,f=s.to,m=s.from,p=this.state.style;if(l){if(!o){var v={style:c?Tg({},c,f):f};this.state&&p&&(c&&p[c]!==f||!c&&p!==f)&&this.setState(v);return}if(!(y4e(i.to,f)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=w||d?m:i.to;if(this.state&&p){var g={style:c?Tg({},c,x):x};(c&&p[c]!==x||!c&&p!==x)&&this.setState(g)}this.runAnimation(ca(ca({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,d=i.easing,f=i.begin,m=i.onAnimationEnd,p=i.onAnimationStart,v=X4e(o,l,V4e(d),c,this.changeStyle),w=function(){s.stopJSAnimation=v()};this.manager.start([p,f,w,c,m])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],f=d.style,m=d.duration,p=m===void 0?0:m,v=function(x,g,_){if(_===0)return x;var T=g.duration,P=g.easing,k=P===void 0?"ease":P,A=g.style,C=g.properties,E=g.onAnimationEnd,j=_>0?o[_-1]:g,O=C||Object.keys(A);if(typeof k=="function"||k==="spring")return[].concat(KE(x),[s.runJSAnimation.bind(s,{from:j.style,to:A,duration:T,easing:k}),T]);var R=oq(O,T,k),L=ca(ca(ca({},j.style),A),{},{transition:R});return[].concat(KE(x),[L,T,E]).filter(P4e)};return this.manager.start([c].concat(KE(o.reduce(v,[f,Math.max(p,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=N4e());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,f=i.onAnimationStart,m=i.onAnimationEnd,p=i.steps,v=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof d=="function"||typeof v=="function"||d==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var x=l?Tg({},l,c):c,g=oq(Object.keys(x),o,d);w.start([f,s,ca(ca({},x),{},{transition:g}),o,m])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Z4e(i,J4e),d=S.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||d===0||o<=0)return s;var m=function(v){var w=v.props,x=w.style,g=x===void 0?{}:x,_=w.className,T=S.cloneElement(v,ca(ca({},c),{},{style:ca(ca({},g),f),className:_}));return T};return d===1?m(S.Children.only(s)):z.createElement("div",null,S.Children.map(s,function(p){return m(p)}))}}]),r})(S.PureComponent);Qs.displayName="Animate";Qs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qs.propTypes={from:ar.oneOfType([ar.object,ar.string]),to:ar.oneOfType([ar.object,ar.string]),attributeName:ar.string,duration:ar.number,begin:ar.number,easing:ar.oneOfType([ar.string,ar.func]),steps:ar.arrayOf(ar.shape({duration:ar.number.isRequired,style:ar.object.isRequired,easing:ar.oneOfType([ar.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ar.func]),properties:ar.arrayOf("string"),onAnimationEnd:ar.func})),children:ar.oneOfType([ar.node,ar.func]),isActive:ar.bool,canBegin:ar.bool,onAnimationEnd:ar.func,shouldReAnimate:ar.bool,onAnimationStart:ar.func,onAnimationReStart:ar.func};function Wy(t){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$w.apply(this,arguments)}function h5e(t,e){return g5e(t)||p5e(t,e)||m5e(t,e)||f5e()}function f5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m5e(t,e){if(t){if(typeof t=="string")return fq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fq(t,e)}}function fq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function g5e(t){if(Array.isArray(t))return t}function mq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mq(Object(r),!0).forEach(function(n){y5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y5e(t,e,r){return e=v5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v5e(t){var e=x5e(t,"string");return Wy(e)=="symbol"?e:e+""}function x5e(t,e){if(Wy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gq=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,d=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&s instanceof Array){for(var m=[0,0,0,0],p=0,v=4;p<v;p++)m[p]=s[p]>o?o:s[p];f="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(r)),f+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*m[1])),f+="L ".concat(e+n,",").concat(r+i-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+n-c*m[2],",").concat(r+i)),f+="L ".concat(e+c*m[3],",").concat(r+i),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+i-l*m[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var w=Math.min(o,s);f="M ".concat(e,",").concat(r+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+c*w,",").concat(r,`
            L `).concat(e+n-c*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*w,`
            L `).concat(e+n,",").concat(r+i-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+n-c*w,",").concat(r+i,`
            L `).concat(e+c*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e,",").concat(r+i-l*w," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},b5e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(s,s+l),f=Math.max(s,s+l),m=Math.min(o,o+c),p=Math.max(o,o+c);return n>=d&&n<=f&&i>=m&&i<=p}return!1},w5e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UR=function(e){var r=pq(pq({},w5e),e),n=S.useRef(),i=S.useState(-1),s=h5e(i,2),o=s[0],l=s[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&l(k)}catch{}},[]);var c=r.x,d=r.y,f=r.width,m=r.height,p=r.radius,v=r.className,w=r.animationEasing,x=r.animationDuration,g=r.animationBegin,_=r.isAnimationActive,T=r.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||m!==+m||f===0||m===0)return null;var P=mt("recharts-rectangle",v);return T?z.createElement(Qs,{canBegin:o>0,from:{width:f,height:m,x:c,y:d},to:{width:f,height:m,x:c,y:d},duration:x,animationEasing:w,isActive:T},function(k){var A=k.width,C=k.height,E=k.x,j=k.y;return z.createElement(Qs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,isActive:_,easing:w},z.createElement("path",$w({},Xe(r,!0),{className:P,d:gq(E,j,A,C,p),ref:n})))}):z.createElement("path",$w({},Xe(r,!0),{className:P,d:gq(c,d,f,m,p)}))},_5e=["points","className","baseLinePoints","connectNulls"];function bf(){return bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bf.apply(this,arguments)}function j5e(t,e){if(t==null)return{};var r=N5e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function N5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yq(t){return P5e(t)||E5e(t)||T5e(t)||S5e()}function S5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T5e(t,e){if(t){if(typeof t=="string")return qC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qC(t,e)}}function E5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P5e(t){if(Array.isArray(t))return qC(t)}function qC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vq=function(e){return e&&e.x===+e.x&&e.y===+e.y},A5e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){vq(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),vq(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Hg=function(e,r){var n=A5e(e);r&&(n=[n.reduce(function(s,o){return[].concat(yq(s),yq(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},C5e=function(e,r,n){var i=Hg(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Hg(r.reverse(),n).slice(1))},dJ=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,o=j5e(e,_5e);if(!r||!r.length)return null;var l=mt("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=C5e(r,i,s);return z.createElement("g",{className:l},z.createElement("path",bf({},Xe(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?z.createElement("path",bf({},Xe(o,!0),{fill:"none",d:Hg(r,s)})):null,c?z.createElement("path",bf({},Xe(o,!0),{fill:"none",d:Hg(i,s)})):null)}var f=Hg(r,s);return z.createElement("path",bf({},Xe(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function UC(){return UC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UC.apply(this,arguments)}var ip=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=mt("recharts-dot",s);return r===+r&&n===+n&&i===+i?S.createElement("circle",UC({},Xe(e,!1),ow(e),{className:o,cx:r,cy:n,r:i})):null};function Hy(t){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(t)}var k5e=["x","y","top","left","width","height","className"];function zC(){return zC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zC.apply(this,arguments)}function xq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function I5e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xq(Object(r),!0).forEach(function(n){O5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O5e(t,e,r){return e=R5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R5e(t){var e=M5e(t,"string");return Hy(e)=="symbol"?e:e+""}function M5e(t,e){if(Hy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D5e(t,e){if(t==null)return{};var r=L5e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function L5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var $5e=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},F5e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,f=e.width,m=f===void 0?0:f,p=e.height,v=p===void 0?0:p,w=e.className,x=D5e(e,k5e),g=I5e({x:n,y:s,top:l,left:d,width:m,height:v},x);return!ke(n)||!ke(s)||!ke(m)||!ke(v)||!ke(l)||!ke(d)?null:z.createElement("path",zC({},Xe(g,!0),{className:mt("recharts-cross",w),d:$5e(n,s,m,v,l,d)}))},V5e=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function Gy(t){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(t)}function B5e(t,e){if(t==null)return{};var r=q5e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function q5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kl(){return kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kl.apply(this,arguments)}function bq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ky(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bq(Object(r),!0).forEach(function(n){U5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U5e(t,e,r){return e=z5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z5e(t){var e=W5e(t,"string");return Gy(e)=="symbol"?e:e+""}function W5e(t,e){if(Gy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H5e=function(e,r,n,i){var s="";return i.forEach(function(o,l){var c=nr(r,n,e,o);l?s+="L ".concat(c.x,",").concat(c.y):s+="M ".concat(c.x,",").concat(c.y)}),s+="Z",s},G5e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.polarAngles,l=e.radialLines;if(!o||!o.length||!l)return null;var c=Ky({stroke:"#ccc"},Xe(e,!1));return z.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(d){var f=nr(r,n,i,d),m=nr(r,n,s,d);return z.createElement("line",kl({},c,{key:"line-".concat(d),x1:f.x,y1:f.y,x2:m.x,y2:m.y}))}))},K5e=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.index,o=Ky(Ky({stroke:"#ccc"},Xe(e,!1)),{},{fill:"none"});return z.createElement("circle",kl({},o,{className:mt("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(s),cx:r,cy:n,r:i}))},Y5e=function(e){var r=e.radius,n=e.index,i=Ky(Ky({stroke:"#ccc"},Xe(e,!1)),{},{fill:"none"});return z.createElement("path",kl({},i,{className:mt("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(n),d:H5e(r,e.cx,e.cy,e.polarAngles)}))},Q5e=function(e){var r=e.polarRadius,n=e.gridType;return!r||!r.length?null:z.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(i,s){var o=s;return n==="circle"?z.createElement(K5e,kl({key:o},e,{radius:i,index:s})):z.createElement(Y5e,kl({key:o},e,{radius:i,index:s}))}))},hJ=function(e){var r=e.cx,n=r===void 0?0:r,i=e.cy,s=i===void 0?0:i,o=e.innerRadius,l=o===void 0?0:o,c=e.outerRadius,d=c===void 0?0:c,f=e.gridType,m=f===void 0?"polygon":f,p=e.radialLines,v=p===void 0?!0:p,w=B5e(e,V5e);return d<=0?null:z.createElement("g",{className:"recharts-polar-grid"},z.createElement(G5e,kl({cx:n,cy:s,innerRadius:l,outerRadius:d,gridType:m,radialLines:v},w)),z.createElement(Q5e,kl({cx:n,cy:s,innerRadius:l,outerRadius:d,gridType:m,radialLines:v},w)))};hJ.displayName="PolarGrid";var YE,wq;function X5e(){if(wq)return YE;wq=1;var t=j_(),e=jX(),r=Ao();function n(i,s){return i&&i.length?t(i,r(s,2),e):void 0}return YE=n,YE}var J5e=X5e();const Z5e=er(J5e);var QE,_q;function e3e(){if(_q)return QE;_q=1;var t=j_(),e=Ao(),r=NX();function n(i,s){return i&&i.length?t(i,e(s,2),r):void 0}return QE=n,QE}var t3e=e3e();const r3e=er(t3e);var n3e=["cx","cy","angle","ticks","axisLine"],i3e=["ticks","tick","angle","tickFormatter","stroke"];function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gg.apply(this,arguments)}function jq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function td(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jq(Object(r),!0).forEach(function(n){E_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nq(t,e){if(t==null)return{};var r=s3e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function s3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function a3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mJ(n.key),n)}}function o3e(t,e,r){return e&&Sq(t.prototype,e),r&&Sq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function l3e(t,e,r){return e=Fw(e),c3e(t,fJ()?Reflect.construct(e,r||[],Fw(t).constructor):e.apply(t,r))}function c3e(t,e){if(e&&(gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u3e(t)}function u3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fJ=function(){return!!t})()}function Fw(t){return Fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fw(t)}function d3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WC(t,e)}function WC(t,e){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WC(t,e)}function E_(t,e,r){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mJ(t){var e=h3e(t,"string");return gm(e)=="symbol"?e:e+""}function h3e(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sp=(function(t){function e(){return a3e(this,e),l3e(this,e,arguments)}return d3e(e,t),o3e(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return nr(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=Z5e(l,function(f){return f.coordinate||0}),d=r3e(l,function(f){return f.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=Nq(n,n3e),f=l.reduce(function(w,x){return[Math.min(w[0],x.coordinate),Math.max(w[1],x.coordinate)]},[1/0,-1/0]),m=nr(i,s,f[0],o),p=nr(i,s,f[1],o),v=td(td(td({},Xe(d,!1)),{},{fill:"none"},Xe(c,!1)),{},{x1:m.x,y1:m.y,x2:p.x,y2:p.y});return z.createElement("line",Gg({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,f=Nq(i,i3e),m=this.getTickTextAnchor(),p=Xe(f,!1),v=Xe(o,!1),w=s.map(function(x,g){var _=n.getTickValueCoord(x),T=td(td(td(td({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(_.x,", ").concat(_.y,")")},p),{},{stroke:"none",fill:d},v),{},{index:g},_),{},{payload:x});return z.createElement(At,Gg({className:mt("recharts-polar-radius-axis-tick",ZX(o)),key:"tick-".concat(x.coordinate)},Yd(n.props,x,g)),e.renderTickItem(o,T,c?c(x.value,g):x.value))});return z.createElement(At,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:z.createElement(At,{className:mt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),kn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return z.isValidElement(n)?o=z.cloneElement(n,i):it(n)?o=n(i):o=z.createElement(Qd,Gg({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])})(S.PureComponent);E_(sp,"displayName","PolarRadiusAxis");E_(sp,"axisType","radiusAxis");E_(sp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ld.apply(this,arguments)}function Tq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tq(Object(r),!0).forEach(function(n){P_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gJ(n.key),n)}}function m3e(t,e,r){return e&&Eq(t.prototype,e),r&&Eq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function p3e(t,e,r){return e=Vw(e),g3e(t,pJ()?Reflect.construct(e,r||[],Vw(t).constructor):e.apply(t,r))}function g3e(t,e){if(e&&(ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y3e(t)}function y3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pJ=function(){return!!t})()}function Vw(t){return Vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vw(t)}function v3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HC(t,e)}function HC(t,e){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HC(t,e)}function P_(t,e,r){return e=gJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gJ(t){var e=x3e(t,"string");return ym(e)=="symbol"?e:e+""}function x3e(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var b3e=Math.PI/180,Pq=1e-5,ap=(function(t){function e(){return f3e(this,e),p3e(this,e,arguments)}return v3e(e,t),m3e(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,f=d||8,m=nr(s,o,l,n.coordinate),p=nr(s,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:m.x,y1:m.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*b3e),o;return s>Pq?o=i==="outer"?"start":"end":s<-Pq?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=rd(rd({},Xe(this.props,!1)),{},{fill:"none"},Xe(l,!1));if(c==="circle")return z.createElement(ip,ld({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:s,r:o}));var f=this.props.ticks,m=f.map(function(p){return nr(i,s,o,p.coordinate)});return z.createElement(dJ,ld({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,f=Xe(this.props,!1),m=Xe(o,!1),p=rd(rd({},f),{},{fill:"none"},Xe(l,!1)),v=s.map(function(w,x){var g=n.getTickLineCoord(w),_=n.getTickTextAnchor(w),T=rd(rd(rd({textAnchor:_},f),{},{stroke:"none",fill:d},m),{},{index:x,payload:w,x:g.x2,y:g.y2});return z.createElement(At,ld({className:mt("recharts-polar-angle-axis-tick",ZX(o)),key:"tick-".concat(w.coordinate)},Yd(n.props,w,x)),l&&z.createElement("line",ld({className:"recharts-polar-angle-axis-tick-line"},p,g)),o&&e.renderTickItem(o,T,c?c(w.value,x):w.value))});return z.createElement(At,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:z.createElement(At,{className:mt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return z.isValidElement(n)?o=z.cloneElement(n,i):it(n)?o=n(i):o=z.createElement(Qd,ld({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])})(S.PureComponent);P_(ap,"displayName","PolarAngleAxis");P_(ap,"axisType","angleAxis");P_(ap,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var XE,Aq;function w3e(){if(Aq)return XE;Aq=1;var t=_Q(),e=t(Object.getPrototypeOf,Object);return XE=e,XE}var JE,Cq;function _3e(){if(Cq)return JE;Cq=1;var t=Fl(),e=w3e(),r=Vl(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,c=o.call(Object);function d(f){if(!r(f)||t(f)!=n)return!1;var m=e(f);if(m===null)return!0;var p=l.call(m,"constructor")&&m.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==c}return JE=d,JE}var j3e=_3e();const N3e=er(j3e);var ZE,kq;function S3e(){if(kq)return ZE;kq=1;var t=Fl(),e=Vl(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return ZE=n,ZE}var T3e=S3e();const E3e=er(T3e);function Yy(t){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(t)}function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bw.apply(this,arguments)}function P3e(t,e){return I3e(t)||k3e(t,e)||C3e(t,e)||A3e()}function A3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C3e(t,e){if(t){if(typeof t=="string")return Iq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iq(t,e)}}function Iq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function I3e(t){if(Array.isArray(t))return t}function Oq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Oq(Object(r),!0).forEach(function(n){O3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O3e(t,e,r){return e=R3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R3e(t){var e=M3e(t,"string");return Yy(e)=="symbol"?e:e+""}function M3e(t,e){if(Yy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mq=function(e,r,n,i,s){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+s),l+="L ".concat(e+n-o/2-i,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},D3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},L3e=function(e){var r=Rq(Rq({},D3e),e),n=S.useRef(),i=S.useState(-1),s=P3e(i,2),o=s[0],l=s[1];S.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&l(P)}catch{}},[]);var c=r.x,d=r.y,f=r.upperWidth,m=r.lowerWidth,p=r.height,v=r.className,w=r.animationEasing,x=r.animationDuration,g=r.animationBegin,_=r.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||m!==+m||p!==+p||f===0&&m===0||p===0)return null;var T=mt("recharts-trapezoid",v);return _?z.createElement(Qs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:d},to:{upperWidth:f,lowerWidth:m,height:p,x:c,y:d},duration:x,animationEasing:w,isActive:_},function(P){var k=P.upperWidth,A=P.lowerWidth,C=P.height,E=P.x,j=P.y;return z.createElement(Qs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,easing:w},z.createElement("path",Bw({},Xe(r,!0),{className:T,d:Mq(E,j,k,A,C),ref:n})))}):z.createElement("g",null,z.createElement("path",Bw({},Xe(r,!0),{className:T,d:Mq(c,d,f,m,p)})))},$3e=["option","shapeType","propTransformer","activeClassName","isActive"];function Qy(t){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(t)}function F3e(t,e){if(t==null)return{};var r=V3e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function V3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Dq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dq(Object(r),!0).forEach(function(n){B3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B3e(t,e,r){return e=q3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q3e(t){var e=U3e(t,"string");return Qy(e)=="symbol"?e:e+""}function U3e(t,e){if(Qy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z3e(t,e){return qw(qw({},e),t)}function W3e(t,e){return t==="symbols"}function Lq(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return z.createElement(UR,r);case"trapezoid":return z.createElement(L3e,r);case"sector":return z.createElement(nJ,r);case"symbols":if(W3e(e))return z.createElement(lR,r);break;default:return null}}function H3e(t){return S.isValidElement(t)?t.props:t}function yJ(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?z3e:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=F3e(t,$3e),d;if(S.isValidElement(e))d=S.cloneElement(e,qw(qw({},c),H3e(e)));else if(it(e))d=e(c);else if(N3e(e)&&!E3e(e)){var f=i(e,c);d=z.createElement(Lq,{shapeType:r,elementProps:f})}else{var m=c;d=z.createElement(Lq,{shapeType:r,elementProps:m})}return l?z.createElement(At,{className:o},d):d}function A_(t,e){return e!=null&&"trapezoids"in t.props}function C_(t,e){return e!=null&&"sectors"in t.props}function Xy(t,e){return e!=null&&"points"in t.props}function G3e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function K3e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Y3e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Q3e(t,e){var r;return A_(t,e)?r=G3e:C_(t,e)?r=K3e:Xy(t,e)&&(r=Y3e),r}function X3e(t,e){var r;return A_(t,e)?r="trapezoids":C_(t,e)?r="sectors":Xy(t,e)&&(r="points"),r}function J3e(t,e){if(A_(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(C_(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Xy(t,e)?e.payload:{}}function Z3e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=X3e(r,e),s=J3e(r,e),o=n.filter(function(c,d){var f=du(s,c),m=r.props[i].filter(function(w){var x=Q3e(r,e);return x(w,e)}),p=r.props[i].indexOf(m[m.length-1]),v=d===p;return f&&v}),l=n.indexOf(o[o.length-1]);return l}var mb;function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wf.apply(this,arguments)}function $q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$q(Object(r),!0).forEach(function(n){Vs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$q(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xJ(n.key),n)}}function tDe(t,e,r){return e&&Fq(t.prototype,e),r&&Fq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rDe(t,e,r){return e=Uw(e),nDe(t,vJ()?Reflect.construct(e,r||[],Uw(t).constructor):e.apply(t,r))}function nDe(t,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iDe(t)}function iDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vJ=function(){return!!t})()}function Uw(t){return Uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uw(t)}function sDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GC(t,e)}function GC(t,e){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GC(t,e)}function Vs(t,e,r){return e=xJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xJ(t){var e=aDe(t,"string");return vm(e)=="symbol"?e:e+""}function aDe(t,e){if(vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ul=(function(t){function e(r){var n;return eDe(this,e),n=rDe(this,e,[r]),Vs(n,"pieRef",null),Vs(n,"sectorRefs",[]),Vs(n,"id",hh("recharts-pie-")),Vs(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),it(i)&&i()}),Vs(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),it(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return sDe(e,t),tDe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,d=s.valueKey,f=Xe(this.props,!1),m=Xe(o,!1),p=Xe(l,!1),v=o&&o.offsetRadius||20,w=n.map(function(x,g){var _=(x.startAngle+x.endAngle)/2,T=nr(x.cx,x.cy,x.outerRadius+v,_),P=xr(xr(xr(xr({},f),x),{},{stroke:"none"},m),{},{index:g,textAnchor:e.getTextAnchor(T.x,x.cx)},T),k=xr(xr(xr(xr({},f),x),{},{fill:"none",stroke:x.fill},p),{},{index:g,points:[nr(x.cx,x.cy,x.outerRadius,_),T]}),A=c;return gt(c)&&gt(d)?A="value":gt(c)&&(A=d),z.createElement(At,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,k,"line"),e.renderLabelItem(o,P,$r(x,A)))});return z.createElement(At,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(d,f){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var m=i.isActiveIndex(f),p=c&&i.hasActiveIndex()?c:null,v=m?o:p,w=xr(xr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return z.createElement(At,wf({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Yd(i.props,d,f),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(f)}),z.createElement(yJ,wf({option:v,isActive:m,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state,p=m.prevSectors,v=m.prevIsAnimationActive;return z.createElement(Qs,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var x=w.t,g=[],_=s&&s[0],T=_.startAngle;return s.forEach(function(P,k){var A=p&&p[k],C=k>0?vs(P,"paddingAngle",0):0;if(A){var E=Dr(A.endAngle-A.startAngle,P.endAngle-P.startAngle),j=xr(xr({},P),{},{startAngle:T+C,endAngle:T+E(x)+C});g.push(j),T=j.endAngle}else{var O=P.endAngle,R=P.startAngle,L=Dr(0,O-R),$=L(x),F=xr(xr({},P),{},{startAngle:T+C,endAngle:T+$+C});g.push(F),T=F.endAngle}}),z.createElement(At,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!du(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,d=i.cx,f=i.cy,m=i.innerRadius,p=i.outerRadius,v=i.isAnimationActive,w=this.state.isAnimationFinished;if(s||!o||!o.length||!ke(d)||!ke(f)||!ke(m)||!ke(p))return null;var x=mt("recharts-pie",l);return z.createElement(At,{tabIndex:this.props.rootTabIndex,className:x,ref:function(_){n.pieRef=_}},this.renderSectors(),c&&this.renderLabels(o),kn.renderCallByParent(this.props,null,!1),(!v||w)&&wa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(z.isValidElement(n))return z.cloneElement(n,i);if(it(n))return n(i);var o=mt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(Md,wf({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(z.isValidElement(n))return z.cloneElement(n,i);var o=s;if(it(n)&&(o=n(i),z.isValidElement(o)))return o;var l=mt("recharts-pie-label-text",typeof n!="boolean"&&!it(n)?n.className:"");return z.createElement(Qd,wf({},i,{alignmentBaseline:"middle",className:l}),o)}}])})(S.PureComponent);mb=Ul;Vs(Ul,"displayName","Pie");Vs(Ul,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Bl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Vs(Ul,"parseDeltaAngle",function(t,e){var r=Ei(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Vs(Ul,"getRealPieData",function(t){var e=t.data,r=t.children,n=Xe(t,!1),i=xs(r,g_);return e&&e.length?e.map(function(s,o){return xr(xr(xr({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return xr(xr({},n),s.props)}):[]});Vs(Ul,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,o=XX(i,s),l=n+Pi(t.cx,i,i/2),c=r+Pi(t.cy,s,s/2),d=Pi(t.innerRadius,o,0),f=Pi(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:m}});Vs(Ul,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?xr(xr({},e.type.defaultProps),e.props):e.props,i=mb.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,f=n.nameKey,m=n.valueKey,p=n.tooltipType,v=Math.abs(n.minAngle),w=mb.parseCoordinateOfPie(n,r),x=mb.parseDeltaAngle(o,l),g=Math.abs(x),_=d;gt(d)&&gt(m)?(ba(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):gt(d)&&(ba(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=m);var T=i.filter(function(j){return $r(j,_,0)!==0}).length,P=(g>=360?T:T-1)*c,k=g-T*v-P,A=i.reduce(function(j,O){var R=$r(O,_,0);return j+(ke(R)?R:0)},0),C;if(A>0){var E;C=i.map(function(j,O){var R=$r(j,_,0),L=$r(j,f,O),$=(ke(R)?R:0)/A,F;O?F=E.endAngle+Ei(x)*c*(R!==0?1:0):F=o;var G=F+Ei(x)*((R!==0?v:0)+$*k),K=(F+G)/2,Y=(w.innerRadius+w.outerRadius)/2,J=[{name:L,value:R,payload:j,dataKey:_,type:p}],U=nr(w.cx,w.cy,Y,K);return E=xr(xr(xr({percent:$,cornerRadius:s,name:L,tooltipPayload:J,midAngle:K,middleRadius:Y,tooltipPosition:U},j),w),{},{value:$r(j,_),startAngle:F,endAngle:G,payload:j,paddingAngle:Ei(x)*c}),E})}return xr(xr({},w),{},{sectors:C,data:i})});var eP,Vq;function oDe(){if(Vq)return eP;Vq=1;function t(e){return e&&e.length?e[0]:void 0}return eP=t,eP}var tP,Bq;function lDe(){return Bq||(Bq=1,tP=oDe()),tP}var cDe=lDe();const uDe=er(cDe);var dDe=["key"];function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function hDe(t,e){if(t==null)return{};var r=fDe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zw.apply(this,arguments)}function qq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qq(Object(r),!0).forEach(function(n){tl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wJ(n.key),n)}}function pDe(t,e,r){return e&&Uq(t.prototype,e),r&&Uq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gDe(t,e,r){return e=Ww(e),yDe(t,bJ()?Reflect.construct(e,r||[],Ww(t).constructor):e.apply(t,r))}function yDe(t,e){if(e&&(xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vDe(t)}function vDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bJ=function(){return!!t})()}function Ww(t){return Ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ww(t)}function xDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KC(t,e)}function KC(t,e){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KC(t,e)}function tl(t,e,r){return e=wJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wJ(t){var e=bDe(t,"string");return xm(e)=="symbol"?e:e+""}function bDe(t,e){if(xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z0=(function(t){function e(){var r;mDe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=gDe(this,e,[].concat(i)),tl(r,"state",{isAnimationFinished:!1}),tl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),it(o)&&o()}),tl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),it(o)&&o()}),tl(r,"handleMouseEnter",function(o){var l=r.props.onMouseEnter;l&&l(r.props,o)}),tl(r,"handleMouseLeave",function(o){var l=r.props.onMouseLeave;l&&l(r.props,o)}),r}return xDe(e,t),pDe(e,[{key:"renderDots",value:function(n){var i=this.props,s=i.dot,o=i.dataKey,l=Xe(this.props,!1),c=Xe(s,!0),d=n.map(function(f,m){var p=_i(_i(_i({key:"dot-".concat(m),r:3},l),c),{},{dataKey:o,cx:f.x,cy:f.y,index:m,payload:f});return e.renderDotItem(s,p)});return z.createElement(At,{className:"recharts-radar-dots"},d)}},{key:"renderPolygonStatically",value:function(n){var i=this.props,s=i.shape,o=i.dot,l=i.isRange,c=i.baseLinePoints,d=i.connectNulls,f;return z.isValidElement(s)?f=z.cloneElement(s,_i(_i({},this.props),{},{points:n})):it(s)?f=s(_i(_i({},this.props),{},{points:n})):f=z.createElement(dJ,zw({},Xe(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:n,baseLinePoints:l?c:null,connectNulls:d})),z.createElement(At,{className:"recharts-radar-polygon"},f,o?this.renderDots(n):null)}},{key:"renderPolygonWithAnimation",value:function(){var n=this,i=this.props,s=i.points,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state.prevPoints;return z.createElement(Qs,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"radar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,w=m&&m.length/s.length,x=s.map(function(g,_){var T=m&&m[Math.floor(_*w)];if(T){var P=Dr(T.x,g.x),k=Dr(T.y,g.y);return _i(_i({},g),{},{x:P(v),y:k(v)})}var A=Dr(g.cx,g.x),C=Dr(g.cy,g.y);return _i(_i({},g),{},{x:A(v),y:C(v)})});return n.renderPolygonStatically(x)})}},{key:"renderPolygon",value:function(){var n=this.props,i=n.points,s=n.isAnimationActive,o=n.isRange,l=this.state.prevPoints;return s&&i&&i.length&&!o&&(!l||!du(l,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.className,o=n.points,l=n.isAnimationActive;if(i||!o||!o.length)return null;var c=this.state.isAnimationFinished,d=mt("recharts-radar",s);return z.createElement(At,{className:d},this.renderPolygon(),(!l||c)&&wa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"renderDotItem",value:function(n,i){var s;if(z.isValidElement(n))s=z.cloneElement(n,i);else if(it(n))s=n(i);else{var o=i.key,l=hDe(i,dDe);s=z.createElement(ip,zw({},l,{key:o,className:mt("recharts-radar-dot",typeof n!="boolean"?n.className:"")}))}return s}}])})(S.PureComponent);tl(z0,"displayName","Radar");tl(z0,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Bl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});tl(z0,"getComposedData",function(t){var e=t.radiusAxis,r=t.angleAxis,n=t.displayedData,i=t.dataKey,s=t.bandSize,o=r.cx,l=r.cy,c=!1,d=[],f=r.type!=="number"?s??0:0;n.forEach(function(p,v){var w=$r(p,r.dataKey,v),x=$r(p,i),g=r.scale(w)+f,_=Array.isArray(x)?tJ(x):x,T=gt(_)?void 0:e.scale(_);Array.isArray(x)&&x.length>=2&&(c=!0),d.push(_i(_i({},nr(o,l,T,g)),{},{name:w,value:x,cx:o,cy:l,radius:T,angle:g,payload:p}))});var m=[];return c&&d.forEach(function(p){if(Array.isArray(p.value)){var v=uDe(p.value),w=gt(v)?void 0:e.scale(v);m.push(_i(_i({},p),{},{radius:w},nr(o,l,w,p.angle)))}else m.push(p)}),{points:d,isRange:c,baseLinePoints:m}});var rP,zq;function wDe(){if(zq)return rP;zq=1;var t=Math.ceil,e=Math.max;function r(n,i,s,o){for(var l=-1,c=e(t((i-n)/(s||1)),0),d=Array(c);c--;)d[o?c:++l]=n,n+=s;return d}return rP=r,rP}var nP,Wq;function _J(){if(Wq)return nP;Wq=1;var t=$Q(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*r}return i===i?i:0}return nP=n,nP}var iP,Hq;function _De(){if(Hq)return iP;Hq=1;var t=wDe(),e=p_(),r=_J();function n(i){return function(s,o,l){return l&&typeof l!="number"&&e(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),t(s,o,l,i)}}return iP=n,iP}var sP,Gq;function jDe(){if(Gq)return sP;Gq=1;var t=_De(),e=t();return sP=e,sP}var NDe=jDe();const Hw=er(NDe);function Jy(t){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(t)}function Kq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kq(Object(r),!0).forEach(function(n){jJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jJ(t,e,r){return e=SDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SDe(t){var e=TDe(t,"string");return Jy(e)=="symbol"?e:e+""}function TDe(t,e){if(Jy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EDe=["Webkit","Moz","O","ms"],PDe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=EDe.reduce(function(s,o){return Yq(Yq({},s),{},jJ({},o+n,r))},{});return i[e]=r,i};function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gw.apply(this,arguments)}function Qq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qq(Object(r),!0).forEach(function(n){us(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ADe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SJ(n.key),n)}}function CDe(t,e,r){return e&&Xq(t.prototype,e),r&&Xq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kDe(t,e,r){return e=Kw(e),IDe(t,NJ()?Reflect.construct(e,r||[],Kw(t).constructor):e.apply(t,r))}function IDe(t,e){if(e&&(bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ODe(t)}function ODe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NJ=function(){return!!t})()}function Kw(t){return Kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kw(t)}function RDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YC(t,e)}function YC(t,e){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YC(t,e)}function us(t,e,r){return e=SJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SJ(t){var e=MDe(t,"string");return bm(e)=="symbol"?e:e+""}function MDe(t,e){if(bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DDe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Ug().domain(Hw(0,c)).range([s,s+o-l]),f=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(i),scale:d,scaleValues:f}},Jq=function(e){return e.changedTouches&&!!e.changedTouches.length},wm=(function(t){function e(r){var n;return ADe(this,e),n=kDe(this,e,[r]),us(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),us(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),us(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),us(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),us(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),us(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),us(n,"handleSlideDragStart",function(i){var s=Jq(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return RDe(e,t),CDe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,f=d.length-1,m=Math.min(i,s),p=Math.max(i,s),v=e.getIndexInRange(o,m),w=e.getIndexInRange(o,p);return{startIndex:v-v%c,endIndex:w===f?f:w-w%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=$r(s[n],l,n);return it(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,f=c.width,m=c.travellerWidth,p=c.startIndex,v=c.endIndex,w=c.onChange,x=n.pageX-s;x>0?x=Math.min(x,d+f-m-l,d+f-m-o):x<0&&(x=Math.max(x,d-o,d-l));var g=this.getIndex({startX:o+x,endX:l+x});(g.startIndex!==p||g.endIndex!==v)&&w&&w(g),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=Jq(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],f=this.props,m=f.x,p=f.width,v=f.travellerWidth,w=f.onChange,x=f.gap,g=f.data,_={startX:this.state.startX,endX:this.state.endX},T=n.pageX-s;T>0?T=Math.min(T,m+p-v-d):T<0&&(T=Math.max(T,m-d)),_[o]=d+T;var P=this.getIndex(_),k=P.startIndex,A=P.endIndex,C=function(){var j=g.length-1;return o==="startX"&&(l>c?k%x===0:A%x===0)||l<c&&A===j||o==="endX"&&(l>c?A%x===0:k%x===0)||l>c&&A===j};this.setState(us(us({},o,d+T),"brushMoveStartX",n.pageX),function(){w&&C()&&w(P)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,f=this.state[i],m=l.indexOf(f);if(m!==-1){var p=m+n;if(!(p===-1||p>=l.length)){var v=l[p];i==="startX"&&v>=d||i==="endX"&&v<=c||this.setState(us({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return z.createElement("rect",{stroke:d,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,d=n.children,f=n.padding,m=S.Children.only(d);return m?z.cloneElement(m,{x:i,y:s,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,d=c.y,f=c.travellerWidth,m=c.height,p=c.traveller,v=c.ariaLabel,w=c.data,x=c.startIndex,g=c.endIndex,_=Math.max(n,this.props.x),T=aP(aP({},Xe(this.props,!1)),{},{x:_,y:d,width:f,height:m}),P=v||"Min value: ".concat((s=w[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=w[g])===null||o===void 0?void 0:o.name);return z.createElement(At,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),l.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,T))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,d=s.travellerWidth,f=Math.min(n,i)+d,m=Math.max(Math.abs(i-n)-d,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,f=this.state,m=f.startX,p=f.endX,v=5,w={pointerEvents:"none",fill:d};return z.createElement(At,{className:"recharts-brush-texts"},z.createElement(Qd,Gw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,p)-v,y:o+l/2},w),this.getTextOfTick(i)),z.createElement(Qd,Gw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,p)+c+v,y:o+l/2},w),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,d=n.width,f=n.height,m=n.alwaysShowText,p=this.state,v=p.startX,w=p.endX,x=p.isTextActive,g=p.isSlideMoving,_=p.isTravellerMoving,T=p.isTravellerFocused;if(!i||!i.length||!ke(l)||!ke(c)||!ke(d)||!ke(f)||d<=0||f<=0)return null;var P=mt("recharts-brush",s),k=z.Children.count(o)===1,A=PDe("userSelect","none");return z.createElement(At,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(v,w),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(w,"endX"),(x||g||_||T||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(s+l/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),z.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):it(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,f=n.startIndex,m=n.endIndex;if(s!==i.prevData||d!==i.prevUpdateId)return aP({prevData:s,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},s&&s.length?DDe({data:s,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var p=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])})(S.PureComponent);us(wm,"displayName","Brush");us(wm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var oP,Zq;function LDe(){if(Zq)return oP;Zq=1;var t=pR();function e(r,n){var i;return t(r,function(s,o,l){return i=n(s,o,l),!i}),!!i}return oP=e,oP}var lP,eU;function $De(){if(eU)return lP;eU=1;var t=pQ(),e=Ao(),r=LDe(),n=Zi(),i=p_();function s(o,l,c){var d=n(o)?t:r;return c&&i(o,l,c)&&(l=void 0),d(o,e(l,3))}return lP=s,lP}var FDe=$De();const VDe=er(FDe);var yo=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},cP,tU;function BDe(){if(tU)return cP;tU=1;var t=OQ();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return cP=e,cP}var uP,rU;function qDe(){if(rU)return uP;rU=1;var t=BDe(),e=kQ(),r=Ao();function n(i,s){var o={};return s=r(s,3),e(i,function(l,c,d){t(o,c,s(l,c,d))}),o}return uP=n,uP}var UDe=qDe();const zDe=er(UDe);var dP,nU;function WDe(){if(nU)return dP;nU=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return dP=t,dP}var hP,iU;function HDe(){if(iU)return hP;iU=1;var t=pR();function e(r,n){var i=!0;return t(r,function(s,o,l){return i=!!n(s,o,l),i}),i}return hP=e,hP}var fP,sU;function GDe(){if(sU)return fP;sU=1;var t=WDe(),e=HDe(),r=Ao(),n=Zi(),i=p_();function s(o,l,c){var d=n(o)?t:e;return c&&i(o,l,c)&&(l=void 0),d(o,r(l,3))}return fP=s,fP}var KDe=GDe();const TJ=er(KDe);var YDe=["x","y"];function Zy(t){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(t)}function QC(){return QC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QC.apply(this,arguments)}function aU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aU(Object(r),!0).forEach(function(n){QDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QDe(t,e,r){return e=XDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XDe(t){var e=JDe(t,"string");return Zy(e)=="symbol"?e:e+""}function JDe(t,e){if(Zy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZDe(t,e){if(t==null)return{};var r=e6e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function e6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function t6e(t,e){var r=t.x,n=t.y,i=ZDe(t,YDe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||i.height),f=parseInt(d,10),m="".concat(e.width||i.width),p=parseInt(m,10);return fg(fg(fg(fg(fg({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:p,name:e.name,radius:e.radius})}function oU(t){return z.createElement(yJ,QC({shapeType:"rectangle",propTransformer:t6e,activeClassName:"recharts-active-bar"},t))}var r6e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=ke(n)||iTe(n);return s?e(n,i):(s||Jd(),r)}},n6e=["value","background"],EJ;function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function i6e(t,e){if(t==null)return{};var r=s6e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function s6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yw.apply(this,arguments)}function lU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lU(Object(r),!0).forEach(function(n){qc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AJ(n.key),n)}}function o6e(t,e,r){return e&&cU(t.prototype,e),r&&cU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function l6e(t,e,r){return e=Qw(e),c6e(t,PJ()?Reflect.construct(e,r||[],Qw(t).constructor):e.apply(t,r))}function c6e(t,e){if(e&&(_m(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u6e(t)}function u6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PJ=function(){return!!t})()}function Qw(t){return Qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qw(t)}function d6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XC(t,e)}function XC(t,e){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XC(t,e)}function qc(t,e,r){return e=AJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AJ(t){var e=h6e(t,"string");return _m(e)=="symbol"?e:e+""}function h6e(t,e){if(_m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xa=(function(t){function e(){var r;a6e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=l6e(this,e,[].concat(i)),qc(r,"state",{isAnimationFinished:!1}),qc(r,"id",hh("recharts-bar-")),qc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),qc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return d6e(e,t),o6e(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,d=s.activeBar,f=Xe(this.props,!1);return n&&n.map(function(m,p){var v=p===c,w=v?d:o,x=sn(sn(sn({},f),m),{},{isActive:v,option:w,index:p,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(At,Yw({className:"recharts-bar-rectangle"},Yd(i.props,m,p),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(p)}),z.createElement(oU,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,f=i.animationEasing,m=i.animationId,p=this.state.prevData;return z.createElement(Qs,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t,x=s.map(function(g,_){var T=p&&p[_];if(T){var P=Dr(T.x,g.x),k=Dr(T.y,g.y),A=Dr(T.width,g.width),C=Dr(T.height,g.height);return sn(sn({},g),{},{x:P(w),y:k(w),width:A(w),height:C(w)})}if(o==="horizontal"){var E=Dr(0,g.height),j=E(w);return sn(sn({},g),{},{y:g.y+g.height-j,height:j})}var O=Dr(0,g.width),R=O(w);return sn(sn({},g),{},{width:R})});return z.createElement(At,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!du(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=Xe(this.props.background,!1);return s.map(function(d,f){d.value;var m=d.background,p=i6e(d,n6e);if(!m)return null;var v=sn(sn(sn(sn(sn({},p),{},{fill:"#eee"},m),c),Yd(n.props,d,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return z.createElement(oU,Yw({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,d=s.layout,f=s.children,m=xs(f,U0);if(!m)return null;var p=d==="vertical"?o[0].height/2:o[0].width/2,v=function(g,_){var T=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:T,errorVal:$r(g,_)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(At,w,m.map(function(x){return z.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:p,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,f=n.top,m=n.width,p=n.height,v=n.isAnimationActive,w=n.background,x=n.id;if(i||!s||!s.length)return null;var g=this.state.isAnimationFinished,_=mt("recharts-bar",o),T=l&&l.allowDataOverflow,P=c&&c.allowDataOverflow,k=T||P,A=gt(x)?this.id:x;return z.createElement(At,{className:_},T||P?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(A)},z.createElement("rect",{x:T?d:d-m/2,y:P?f:f-p/2,width:T?m:m*2,height:P?p:p*2}))):null,z.createElement(At,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(A,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,A),(!v||g)&&wa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(S.PureComponent);EJ=xa;qc(xa,"displayName","Bar");qc(xa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Bl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});qc(xa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,f=t.dataStartIndex,m=t.displayedData,p=t.offset,v=vRe(n,r);if(!v)return null;var w=e.layout,x=r.type.defaultProps,g=x!==void 0?sn(sn({},x),r.props):r.props,_=g.dataKey,T=g.children,P=g.minPointSize,k=w==="horizontal"?o:s,A=d?k.scale.domain():null,C=SRe({numericAxis:k}),E=xs(T,g_),j=m.map(function(O,R){var L,$,F,G,K,Y;d?L=xRe(d[f+R],A):(L=$r(O,_),Array.isArray(L)||(L=[C,L]));var J=r6e(P,EJ.defaultProps.minPointSize)(L[1],R);if(w==="horizontal"){var U,X=[o.scale(L[0]),o.scale(L[1])],ie=X[0],W=X[1];$=A8({axis:s,ticks:l,bandSize:i,offset:v.offset,entry:O,index:R}),F=(U=W??ie)!==null&&U!==void 0?U:void 0,G=v.size;var ee=ie-W;if(K=Number.isNaN(ee)?0:ee,Y={x:$,y:o.y,width:G,height:o.height},Math.abs(J)>0&&Math.abs(K)<Math.abs(J)){var de=Ei(K||J)*(Math.abs(J)-Math.abs(K));F-=de,K+=de}}else{var ce=[s.scale(L[0]),s.scale(L[1])],be=ce[0],ye=ce[1];if($=be,F=A8({axis:o,ticks:c,bandSize:i,offset:v.offset,entry:O,index:R}),G=ye-be,K=v.size,Y={x:s.x,y:F,width:s.width,height:K},Math.abs(J)>0&&Math.abs(G)<Math.abs(J)){var pe=Ei(G||J)*(Math.abs(J)-Math.abs(G));G+=pe}}return sn(sn(sn({},O),{},{x:$,y:F,width:G,height:K,value:d?L:L[1],payload:O,background:Y},E&&E[R]&&E[R].props),{},{tooltipPayload:[YX(r,O)],tooltipPosition:{x:$+G/2,y:F+K/2}})});return sn({data:j,layout:w},p)});function e0(t){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e0(t)}function f6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CJ(n.key),n)}}function m6e(t,e,r){return e&&uU(t.prototype,e),r&&uU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dU(Object(r),!0).forEach(function(n){k_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k_(t,e,r){return e=CJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CJ(t){var e=p6e(t,"string");return e0(e)=="symbol"?e:e+""}function p6e(t,e){if(e0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(e0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zR=function(e,r,n,i,s){var o=e.width,l=e.height,c=e.layout,d=e.children,f=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},p=!!ds(d,xa);return f.reduce(function(v,w){var x=r[w],g=x.orientation,_=x.domain,T=x.padding,P=T===void 0?{}:T,k=x.mirror,A=x.reversed,C="".concat(g).concat(k?"Mirror":""),E,j,O,R,L;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var $=_[1]-_[0],F=1/0,G=x.categoricalDomain.sort(oTe);if(G.forEach(function(ce,be){be>0&&(F=Math.min((ce||0)-(G[be-1]||0),F))}),Number.isFinite(F)){var K=F/$,Y=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(E=K*Y/2),x.padding==="no-gap"){var J=Pi(e.barCategoryGap,K*Y),U=K*Y/2;E=U-J-(U-J)/Y*J}}}i==="xAxis"?j=[n.left+(P.left||0)+(E||0),n.left+n.width-(P.right||0)-(E||0)]:i==="yAxis"?j=c==="horizontal"?[n.top+n.height-(P.bottom||0),n.top+(P.top||0)]:[n.top+(P.top||0)+(E||0),n.top+n.height-(P.bottom||0)-(E||0)]:j=x.range,A&&(j=[j[1],j[0]]);var X=WX(x,s,p),ie=X.scale,W=X.realScaleType;ie.domain(_).range(j),HX(ie);var ee=GX(ie,ma(ma({},x),{},{realScaleType:W}));i==="xAxis"?(L=g==="top"&&!k||g==="bottom"&&k,O=n.left,R=m[C]-L*x.height):i==="yAxis"&&(L=g==="left"&&!k||g==="right"&&k,O=m[C]-L*x.width,R=n.top);var de=ma(ma(ma({},x),ee),{},{realScaleType:W,x:O,y:R,scale:ie,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return de.bandSize=Iw(de,ee),!x.hide&&i==="xAxis"?m[C]+=(L?-1:1)*de.height:x.hide||(m[C]+=(L?-1:1)*de.width),ma(ma({},v),{},k_({},w,de))},{})},kJ=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},g6e=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return kJ({x:r,y:n},{x:i,y:s})},IJ=(function(){function t(e){f6e(this,t),this.scale=e}return m6e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();k_(IJ,"EPS",1e-4);var WR=function(e){var r=Object.keys(e).reduce(function(n,i){return ma(ma({},n),{},k_({},i,IJ.create(e[i])))},{});return ma(ma({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return zDe(i,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return TJ(i,function(s,o){return r[o].isInRange(s)})}})};function y6e(t){return(t%180+180)%180}var v6e=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=y6e(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},mP,hU;function x6e(){if(hU)return mP;hU=1;var t=Ao(),e=$0(),r=f_();function n(i){return function(s,o,l){var c=Object(s);if(!e(s)){var d=t(o,3);s=r(s),o=function(m){return d(c[m],m,c)}}var f=i(s,o,l);return f>-1?c[d?s[f]:f]:void 0}}return mP=n,mP}var pP,fU;function b6e(){if(fU)return pP;fU=1;var t=_J();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return pP=e,pP}var gP,mU;function w6e(){if(mU)return gP;mU=1;var t=TQ(),e=Ao(),r=b6e(),n=Math.max;function i(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=n(c+d,0)),t(s,e(o,3),d)}return gP=i,gP}var yP,pU;function _6e(){if(pU)return yP;pU=1;var t=x6e(),e=w6e(),r=t(e);return yP=r,yP}var j6e=_6e();const N6e=er(j6e);var S6e=BY();const T6e=er(S6e);var E6e=T6e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),HR=S.createContext(void 0),GR=S.createContext(void 0),OJ=S.createContext(void 0),RJ=S.createContext({}),MJ=S.createContext(void 0),DJ=S.createContext(0),LJ=S.createContext(0),gU=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,f=E6e(s);return z.createElement(HR.Provider,{value:n},z.createElement(GR.Provider,{value:i},z.createElement(RJ.Provider,{value:s},z.createElement(OJ.Provider,{value:f},z.createElement(MJ.Provider,{value:o},z.createElement(DJ.Provider,{value:d},z.createElement(LJ.Provider,{value:c},l)))))))},P6e=function(){return S.useContext(MJ)},$J=function(e){var r=S.useContext(HR);r==null&&Jd();var n=r[e];return n==null&&Jd(),n},A6e=function(){var e=S.useContext(HR);return Cc(e)},C6e=function(){var e=S.useContext(GR),r=N6e(e,function(n){return TJ(n.domain,Number.isFinite)});return r||Cc(e)},FJ=function(e){var r=S.useContext(GR);r==null&&Jd();var n=r[e];return n==null&&Jd(),n},k6e=function(){var e=S.useContext(OJ);return e},I6e=function(){return S.useContext(RJ)},KR=function(){return S.useContext(LJ)},YR=function(){return S.useContext(DJ)};function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function O6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BJ(n.key),n)}}function M6e(t,e,r){return e&&R6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D6e(t,e,r){return e=Xw(e),L6e(t,VJ()?Reflect.construct(e,r||[],Xw(t).constructor):e.apply(t,r))}function L6e(t,e){if(e&&(jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $6e(t)}function $6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VJ=function(){return!!t})()}function Xw(t){return Xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xw(t)}function F6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JC(t,e)}function JC(t,e){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JC(t,e)}function yU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yU(Object(r),!0).forEach(function(n){QR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QR(t,e,r){return e=BJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BJ(t){var e=V6e(t,"string");return jm(e)=="symbol"?e:e+""}function V6e(t,e){if(jm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function B6e(t,e){return W6e(t)||z6e(t,e)||U6e(t,e)||q6e()}function q6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U6e(t,e){if(t){if(typeof t=="string")return xU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xU(t,e)}}function xU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function W6e(t){if(Array.isArray(t))return t}function ZC(){return ZC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZC.apply(this,arguments)}var H6e=function(e,r){var n;return z.isValidElement(e)?n=z.cloneElement(e,r):it(e)?n=e(r):n=z.createElement("line",ZC({},r,{className:"recharts-reference-line-line"})),n},G6e=function(e,r,n,i,s,o,l,c,d){var f=s.x,m=s.y,p=s.width,v=s.height;if(n){var w=d.y,x=e.y.apply(w,{position:o});if(yo(d,"discard")&&!e.y.isInRange(x))return null;var g=[{x:f+p,y:x},{x:f,y:x}];return c==="left"?g.reverse():g}if(r){var _=d.x,T=e.x.apply(_,{position:o});if(yo(d,"discard")&&!e.x.isInRange(T))return null;var P=[{x:T,y:m+v},{x:T,y:m}];return l==="top"?P.reverse():P}if(i){var k=d.segment,A=k.map(function(C){return e.apply(C,{position:o})});return yo(d,"discard")&&VDe(A,function(C){return!e.isInRange(C)})?null:A}return null};function K6e(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=P6e(),f=$J(i),m=FJ(s),p=k6e();if(!d||!p)return null;ba(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=WR({x:f.scale,y:m.scale}),w=vn(e),x=vn(r),g=n&&n.length===2,_=G6e(v,w,x,g,p,t.position,f.orientation,m.orientation,t);if(!_)return null;var T=B6e(_,2),P=T[0],k=P.x,A=P.y,C=T[1],E=C.x,j=C.y,O=yo(t,"hidden")?"url(#".concat(d,")"):void 0,R=vU(vU({clipPath:O},Xe(t,!0)),{},{x1:k,y1:A,x2:E,y2:j});return z.createElement(At,{className:mt("recharts-reference-line",l)},H6e(o,R),kn.renderCallByParent(t,g6e({x1:k,y1:A,x2:E,y2:j})))}var XR=(function(t){function e(){return O6e(this,e),D6e(this,e,arguments)}return F6e(e,t),M6e(e,[{key:"render",value:function(){return z.createElement(K6e,this.props)}}])})(z.Component);QR(XR,"displayName","ReferenceLine");QR(XR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ek(){return ek=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ek.apply(this,arguments)}function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function bU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bU(Object(r),!0).forEach(function(n){I_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UJ(n.key),n)}}function X6e(t,e,r){return e&&Q6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function J6e(t,e,r){return e=Jw(e),Z6e(t,qJ()?Reflect.construct(e,r||[],Jw(t).constructor):e.apply(t,r))}function Z6e(t,e){if(e&&(Nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eLe(t)}function eLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qJ=function(){return!!t})()}function Jw(t){return Jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jw(t)}function tLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tk(t,e)}function tk(t,e){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tk(t,e)}function I_(t,e,r){return e=UJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UJ(t){var e=rLe(t,"string");return Nm(e)=="symbol"?e:e+""}function rLe(t,e){if(Nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nLe=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=WR({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return yo(e,"discard")&&!o.isInRange(l)?null:l},O_=(function(t){function e(){return Y6e(this,e),J6e(this,e,arguments)}return tLe(e,t),X6e(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=vn(i),f=vn(s);if(ba(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var m=nLe(this.props);if(!m)return null;var p=m.x,v=m.y,w=this.props,x=w.shape,g=w.className,_=yo(this.props,"hidden")?"url(#".concat(c,")"):void 0,T=wU(wU({clipPath:_},Xe(this.props,!0)),{},{cx:p,cy:v});return z.createElement(At,{className:mt("recharts-reference-dot",g)},e.renderDot(x,T),kn.renderCallByParent(this.props,{x:p-o,y:v-o,width:2*o,height:2*o}))}}])})(z.Component);I_(O_,"displayName","ReferenceDot");I_(O_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});I_(O_,"renderDot",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):it(t)?r=t(e):r=z.createElement(ip,ek({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function rk(){return rk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rk.apply(this,arguments)}function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function _U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_U(Object(r),!0).forEach(function(n){R_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_U(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sLe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WJ(n.key),n)}}function aLe(t,e,r){return e&&sLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oLe(t,e,r){return e=Zw(e),lLe(t,zJ()?Reflect.construct(e,r||[],Zw(t).constructor):e.apply(t,r))}function lLe(t,e){if(e&&(Sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cLe(t)}function cLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zJ=function(){return!!t})()}function Zw(t){return Zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zw(t)}function uLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nk(t,e)}function nk(t,e){return nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nk(t,e)}function R_(t,e,r){return e=WJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WJ(t){var e=dLe(t,"string");return Sm(e)=="symbol"?e:e+""}function dLe(t,e){if(Sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hLe=function(e,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,d=s.y2,f=s.xAxis,m=s.yAxis;if(!f||!m)return null;var p=WR({x:f.scale,y:m.scale}),v={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},w={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(d,{position:"end"}):p.y.rangeMax};return yo(s,"discard")&&(!p.isInRange(v)||!p.isInRange(w))?null:kJ(v,w)},M_=(function(t){function e(){return iLe(this,e),oLe(this,e,arguments)}return uLe(e,t),aLe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,f=n.clipPathId;ba(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=vn(i),p=vn(s),v=vn(o),w=vn(l),x=this.props.shape;if(!m&&!p&&!v&&!w&&!x)return null;var g=hLe(m,p,v,w,this.props);if(!g&&!x)return null;var _=yo(this.props,"hidden")?"url(#".concat(f,")"):void 0;return z.createElement(At,{className:mt("recharts-reference-area",c)},e.renderRect(x,jU(jU({clipPath:_},Xe(this.props,!0)),g)),kn.renderCallByParent(this.props,g))}}])})(z.Component);R_(M_,"displayName","ReferenceArea");R_(M_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});R_(M_,"renderRect",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):it(t)?r=t(e):r=z.createElement(UR,rk({},e,{className:"recharts-reference-area-rect"})),r});function HJ(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function fLe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return v6e(n,r)}function mLe(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function e1(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function pLe(t,e){return HJ(t,e+1)}function gLe(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,f=o,m=function(){var w=n==null?void 0:n[c];if(w===void 0)return{v:HJ(n,d)};var x=c,g,_=function(){return g===void 0&&(g=r(w,x)),g},T=w.coordinate,P=c===0||e1(t,T,_,f,l);P||(c=0,f=o,d+=1),P&&(f=T+t*(_()/2+i),c+=d)},p;d<=s.length;)if(p=m(),p)return p.v;return[]}function t0(t){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t0(t)}function NU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NU(Object(r),!0).forEach(function(n){yLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yLe(t,e,r){return e=vLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vLe(t){var e=xLe(t,"string");return t0(e)=="symbol"?e:e+""}function xLe(t,e){if(t0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(t0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bLe(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end,d=function(p){var v=s[p],w,x=function(){return w===void 0&&(w=r(v,p)),w};if(p===o-1){var g=t*(v.coordinate+t*x()/2-c);s[p]=v=ii(ii({},v),{},{tickCoord:g>0?v.coordinate-g*t:v.coordinate})}else s[p]=v=ii(ii({},v),{},{tickCoord:v.coordinate});var _=e1(t,v.tickCoord,x,l,c);_&&(c=v.tickCoord-t*(x()/2+i),s[p]=ii(ii({},v),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return s}function wLe(t,e,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(s){var f=n[l-1],m=r(f,l-1),p=t*(f.coordinate+t*m/2-d);o[l-1]=f=ii(ii({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate});var v=e1(t,f.tickCoord,function(){return m},c,d);v&&(d=f.tickCoord-t*(m/2+i),o[l-1]=ii(ii({},f),{},{isShow:!0}))}for(var w=s?l-1:l,x=function(T){var P=o[T],k,A=function(){return k===void 0&&(k=r(P,T)),k};if(T===0){var C=t*(P.coordinate-t*A()/2-c);o[T]=P=ii(ii({},P),{},{tickCoord:C<0?P.coordinate-C*t:P.coordinate})}else o[T]=P=ii(ii({},P),{},{tickCoord:P.coordinate});var E=e1(t,P.tickCoord,A,c,d);E&&(c=P.tickCoord+t*(A()/2+i),o[T]=ii(ii({},P),{},{isShow:!0}))},g=0;g<w;g++)x(g);return o}function JR(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,f=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(ke(c)||Bl.isSsr)return pLe(i,typeof c=="number"&&ke(c)?c:0);var p=[],v=l==="top"||l==="bottom"?"width":"height",w=f&&v==="width"?qg(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(P,k){var A=it(d)?d(P.value,k):P.value;return v==="width"?fLe(qg(A,{fontSize:e,letterSpacing:r}),w,m):qg(A,{fontSize:e,letterSpacing:r})[v]},g=i.length>=2?Ei(i[1].coordinate-i[0].coordinate):1,_=mLe(s,g,v);return c==="equidistantPreserveStart"?gLe(g,_,x,i,o):(c==="preserveStart"||c==="preserveStartEnd"?p=wLe(g,_,x,i,o,c==="preserveStartEnd"):p=bLe(g,_,x,i,o),p.filter(function(T){return T.isShow}))}var _Le=["viewBox"],jLe=["viewBox"],NLe=["ticks"];function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_f.apply(this,arguments)}function SU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SU(Object(r),!0).forEach(function(n){ZR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vP(t,e){if(t==null)return{};var r=SLe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SLe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function TLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KJ(n.key),n)}}function ELe(t,e,r){return e&&TU(t.prototype,e),r&&TU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PLe(t,e,r){return e=t1(e),ALe(t,GJ()?Reflect.construct(e,r||[],t1(t).constructor):e.apply(t,r))}function ALe(t,e){if(e&&(Tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CLe(t)}function CLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GJ=function(){return!!t})()}function t1(t){return t1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t1(t)}function kLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ik(t,e)}function ik(t,e){return ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ik(t,e)}function ZR(t,e,r){return e=KJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KJ(t){var e=ILe(t,"string");return Tm(e)=="symbol"?e:e+""}function ILe(t,e){if(Tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var op=(function(t){function e(r){var n;return TLe(this,e),n=PLe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return kLe(e,t),ELe(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=vP(n,_Le),l=this.props,c=l.viewBox,d=vP(l,jLe);return!Mf(s,c)||!Mf(o,d)||!Mf(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,f=i.tickSize,m=i.mirror,p=i.tickMargin,v,w,x,g,_,T,P=m?-1:1,k=n.tickSize||f,A=ke(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":v=w=n.coordinate,g=o+ +!m*c,x=g-P*k,T=x-P*p,_=A;break;case"left":x=g=n.coordinate,w=s+ +!m*l,v=w-P*k,_=v-P*p,T=A;break;case"right":x=g=n.coordinate,w=s+ +m*l,v=w+P*k,_=v+P*p,T=A;break;default:v=w=n.coordinate,g=o+ +m*c,x=g+P*k,T=x+P*p,_=A;break}return{line:{x1:v,y1:x,x2:w,y2:g},tick:{x:_,y:T}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,f=n.axisLine,m=fn(fn(fn({},Xe(this.props,!1)),Xe(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!d||c==="bottom"&&d);m=fn(fn({},m),{},{x1:i,y1:s+p*l,x2:i+o,y2:s+p*l})}else{var v=+(c==="left"&&!d||c==="right"&&d);m=fn(fn({},m),{},{x1:i+v*o,y1:s,x2:i+v*o,y2:s+l})}return z.createElement("line",_f({},m,{className:mt("recharts-cartesian-axis-line",vs(f,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,d=l.stroke,f=l.tick,m=l.tickFormatter,p=l.unit,v=JR(fn(fn({},this.props),{},{ticks:n}),i,s),w=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),g=Xe(this.props,!1),_=Xe(f,!1),T=fn(fn({},g),{},{fill:"none"},Xe(c,!1)),P=v.map(function(k,A){var C=o.getTickLineCoord(k),E=C.line,j=C.tick,O=fn(fn(fn(fn({textAnchor:w,verticalAnchor:x},g),{},{stroke:"none",fill:d},_),j),{},{index:A,payload:k,visibleTicksCount:v.length,tickFormatter:m});return z.createElement(At,_f({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Yd(o.props,k,A)),c&&z.createElement("line",_f({},T,E,{className:mt("recharts-cartesian-axis-tick-line",vs(c,"className"))})),f&&e.renderTickItem(f,O,"".concat(it(m)?m(k.value,A):k.value).concat(p||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,f=i.hide;if(f)return null;var m=this.props,p=m.ticks,v=vP(m,NLe),w=p;return it(c)&&(w=p&&p.length>0?c(this.props):c(v)),o<=0||l<=0||!w||!w.length?null:z.createElement(At,{className:mt("recharts-cartesian-axis",d),ref:function(g){n.layerReference=g}},s&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),kn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,l=mt(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(n)?o=z.cloneElement(n,fn(fn({},i),{},{className:l})):it(n)?o=n(fn(fn({},i),{},{className:l})):o=z.createElement(Qd,_f({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(S.Component);ZR(op,"displayName","CartesianAxis");ZR(op,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var OLe=["x1","y1","x2","y2","key"],RLe=["offset"];function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function EU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EU(Object(r),!0).forEach(function(n){MLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MLe(t,e,r){return e=DLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DLe(t){var e=LLe(t,"string");return Zd(e)=="symbol"?e:e+""}function LLe(t,e){if(Zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yd(){return yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yd.apply(this,arguments)}function PU(t,e){if(t==null)return{};var r=$Le(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Le(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var FLe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return z.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function YJ(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(it(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,o=e.y2,l=e.key,c=PU(e,OLe),d=Xe(c,!1);d.offset;var f=PU(d,RLe);r=z.createElement("line",yd({},f,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function VLe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var d=oi(oi({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return YJ(i,d)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function BLe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var d=oi(oi({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return YJ(i,d)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function qLe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var f=l.map(function(p){return Math.round(p+i-i)}).sort(function(p,v){return p-v});i!==f[0]&&f.unshift(0);var m=f.map(function(p,v){var w=!f[v+1],x=w?i+o-p:f[v+1]-p;if(x<=0)return null;var g=v%e.length;return z.createElement("rect",{key:"react-".concat(v),y:p,x:n,height:x,width:s,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function ULe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var f=d.map(function(p){return Math.round(p+s-s)}).sort(function(p,v){return p-v});s!==f[0]&&f.unshift(0);var m=f.map(function(p,v){var w=!f[v+1],x=w?s+l-p:f[v+1]-p;if(x<=0)return null;var g=v%n.length;return z.createElement("rect",{key:"react-".concat(v),x:p,y:o,width:x,height:c,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var zLe=function(e,r){var n=e.xAxis,i=e.width,s=e.height,o=e.offset;return zX(JR(oi(oi(oi({},op.defaultProps),n),{},{ticks:ol(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},WLe=function(e,r){var n=e.yAxis,i=e.width,s=e.height,o=e.offset;return zX(JR(oi(oi(oi({},op.defaultProps),n),{},{ticks:ol(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},af={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ml(t){var e,r,n,i,s,o,l=KR(),c=YR(),d=I6e(),f=oi(oi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:af.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:af.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:af.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:af.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:af.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:af.verticalFill,x:ke(t.x)?t.x:d.left,y:ke(t.y)?t.y:d.top,width:ke(t.width)?t.width:d.width,height:ke(t.height)?t.height:d.height}),m=f.x,p=f.y,v=f.width,w=f.height,x=f.syncWithTicks,g=f.horizontalValues,_=f.verticalValues,T=A6e(),P=C6e();if(!ke(v)||v<=0||!ke(w)||w<=0||!ke(m)||m!==+m||!ke(p)||p!==+p)return null;var k=f.verticalCoordinatesGenerator||zLe,A=f.horizontalCoordinatesGenerator||WLe,C=f.horizontalPoints,E=f.verticalPoints;if((!C||!C.length)&&it(A)){var j=g&&g.length,O=A({yAxis:P?oi(oi({},P),{},{ticks:j?g:P.ticks}):void 0,width:l,height:c,offset:d},j?!0:x);ba(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Zd(O),"]")),Array.isArray(O)&&(C=O)}if((!E||!E.length)&&it(k)){var R=_&&_.length,L=k({xAxis:T?oi(oi({},T),{},{ticks:R?_:T.ticks}):void 0,width:l,height:c,offset:d},R?!0:x);ba(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Zd(L),"]")),Array.isArray(L)&&(E=L)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(FLe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),z.createElement(VLe,yd({},f,{offset:d,horizontalPoints:C,xAxis:T,yAxis:P})),z.createElement(BLe,yd({},f,{offset:d,verticalPoints:E,xAxis:T,yAxis:P})),z.createElement(qLe,yd({},f,{horizontalPoints:C})),z.createElement(ULe,yd({},f,{verticalPoints:E})))}ml.displayName="CartesianGrid";var HLe=["type","layout","connectNulls","ref"],GLe=["key"];function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function AU(t,e){if(t==null)return{};var r=KLe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KLe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kg(){return Kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kg.apply(this,arguments)}function CU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CU(Object(r),!0).forEach(function(n){pa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function of(t){return JLe(t)||XLe(t)||QLe(t)||YLe()}function YLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QLe(t,e){if(t){if(typeof t=="string")return sk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sk(t,e)}}function XLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JLe(t){if(Array.isArray(t))return sk(t)}function sk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XJ(n.key),n)}}function e$e(t,e,r){return e&&kU(t.prototype,e),r&&kU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function t$e(t,e,r){return e=r1(e),r$e(t,QJ()?Reflect.construct(e,r||[],r1(t).constructor):e.apply(t,r))}function r$e(t,e){if(e&&(Em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n$e(t)}function n$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QJ=function(){return!!t})()}function r1(t){return r1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r1(t)}function i$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ak(t,e)}function ak(t,e){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ak(t,e)}function pa(t,e,r){return e=XJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XJ(t){var e=s$e(t,"string");return Em(e)=="symbol"?e:e+""}function s$e(t,e){if(Em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Aa=(function(t){function e(){var r;ZLe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=t$e(this,e,[].concat(i)),pa(r,"state",{isAnimationFinished:!0,totalLength:0}),pa(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),pa(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(_,T){return _+T});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/d),m=o%d,p=l-o,v=[],w=0,x=0;w<c.length;x+=c[w],++w)if(x+c[w]>m){v=[].concat(of(c.slice(0,w)),[m-x]);break}var g=v.length%2===0?[0,p]:[p];return[].concat(of(e.repeat(c,f)),of(v),g).map(function(_){return"".concat(_,"px")}).join(", ")}),pa(r,"id",hh("recharts-line-")),pa(r,"pathRef",function(o){r.mainCurve=o}),pa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),pa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return i$e(e,t),e$e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,d=s.layout,f=s.children,m=xs(f,U0);if(!m)return null;var p=function(x,g){return{x:x.x,y:x.y,value:x.value,errorVal:$r(x.payload,g)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(At,v,m.map(function(w){return z.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,m=Xe(this.props,!1),p=Xe(c,!0),v=d.map(function(x,g){var _=cs(cs(cs({key:"dot-".concat(g),r:3},m),p),{},{index:g,cx:x.x,cy:x.y,value:x.value,dataKey:f,payload:x.payload,points:d});return e.renderDotItem(c,_)}),w={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return z.createElement(At,Kg({className:"recharts-line-dots",key:"dots"},w),v)}},{key:"renderCurveStatically",value:function(n,i,s,o){var l=this.props,c=l.type,d=l.layout,f=l.connectNulls;l.ref;var m=AU(l,HLe),p=cs(cs(cs({},Xe(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:f});return z.createElement(Md,Kg({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,p=o.animationEasing,v=o.animationId,w=o.animateNewValues,x=o.width,g=o.height,_=this.state,T=_.prevPoints,P=_.totalLength;return z.createElement(Qs,{begin:f,duration:m,isActive:d,easing:p,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var A=k.t;if(T){var C=T.length/l.length,E=l.map(function($,F){var G=Math.floor(F*C);if(T[G]){var K=T[G],Y=Dr(K.x,$.x),J=Dr(K.y,$.y);return cs(cs({},$),{},{x:Y(A),y:J(A)})}if(w){var U=Dr(x*2,$.x),X=Dr(g/2,$.y);return cs(cs({},$),{},{x:U(A),y:X(A)})}return cs(cs({},$),{},{x:$.x,y:$.y})});return s.renderCurveStatically(E,n,i)}var j=Dr(0,P),O=j(A),R;if(c){var L="".concat(c).split(/[,\s]+/gim).map(function($){return parseFloat($)});R=s.getStrokeDasharray(O,P,L)}else R=s.generateSimpleStrokeDasharray(P,O);return s.renderCurveStatically(l,n,i,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,d=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!d&&f>0||!du(d,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,d=i.xAxis,f=i.yAxis,m=i.top,p=i.left,v=i.width,w=i.height,x=i.isAnimationActive,g=i.id;if(s||!l||!l.length)return null;var _=this.state.isAnimationFinished,T=l.length===1,P=mt("recharts-line",c),k=d&&d.allowDataOverflow,A=f&&f.allowDataOverflow,C=k||A,E=gt(g)?this.id:g,j=(n=Xe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=j.r,R=O===void 0?3:O,L=j.strokeWidth,$=L===void 0?2:L,F=HY(o)?o:{},G=F.clipDot,K=G===void 0?!0:G,Y=R*2+$;return z.createElement(At,{className:P},k||A?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:k?p:p-v/2,y:A?m:m-w/2,width:k?v:v*2,height:A?w:w*2})),!K&&z.createElement("clipPath",{id:"clipPath-dots-".concat(E)},z.createElement("rect",{x:p-Y/2,y:m-Y/2,width:v+Y,height:w+Y}))):null,!T&&this.renderCurve(C,E),this.renderErrorBar(C,E),(T||o)&&this.renderDots(C,K,E),(!x||_)&&wa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(of(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(of(o),of(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(z.isValidElement(n))s=z.cloneElement(n,i);else if(it(n))s=n(i);else{var o=i.key,l=AU(i,GLe),c=mt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=z.createElement(ip,Kg({key:o},l,{className:c}))}return s}}])})(S.PureComponent);pa(Aa,"displayName","Line");pa(Aa,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Bl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});pa(Aa,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,f=e.layout,m=c.map(function(p,v){var w=$r(p,o);return f==="horizontal"?{x:kw({axis:r,ticks:i,bandSize:l,entry:p,index:v}),y:gt(w)?null:n.scale(w),value:w,payload:p}:{x:gt(w)?null:r.scale(w),y:kw({axis:n,ticks:s,bandSize:l,entry:p,index:v}),value:w,payload:p}});return cs({points:m,layout:f},d)});var a$e=["layout","type","stroke","connectNulls","isRange","ref"],o$e=["key"],JJ;function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function ZJ(t,e){if(t==null)return{};var r=l$e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vd.apply(this,arguments)}function IU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IU(Object(r),!0).forEach(function(n){so(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tZ(n.key),n)}}function u$e(t,e,r){return e&&OU(t.prototype,e),r&&OU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function d$e(t,e,r){return e=n1(e),h$e(t,eZ()?Reflect.construct(e,r||[],n1(t).constructor):e.apply(t,r))}function h$e(t,e){if(e&&(Pm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f$e(t)}function f$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eZ=function(){return!!t})()}function n1(t){return n1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n1(t)}function m$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ok(t,e)}function ok(t,e){return ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ok(t,e)}function so(t,e,r){return e=tZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tZ(t){var e=p$e(t,"string");return Pm(e)=="symbol"?e:e+""}function p$e(t,e){if(Pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Il=(function(t){function e(){var r;c$e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=d$e(this,e,[].concat(i)),so(r,"state",{isAnimationFinished:!0}),so(r,"id",hh("recharts-area-")),so(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),it(o)&&o()}),so(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),it(o)&&o()}),r}return m$e(e,t),u$e(e,[{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,f=c.points,m=c.dataKey,p=Xe(this.props,!1),v=Xe(d,!0),w=f.map(function(g,_){var T=wc(wc(wc({key:"dot-".concat(_),r:3},p),v),{},{index:_,cx:g.x,cy:g.y,dataKey:m,value:g.value,payload:g.payload,points:f});return e.renderDotItem(d,T)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return z.createElement(At,vd({className:"recharts-area-dots"},x),w)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,d=o[o.length-1].x,f=n*Math.abs(c-d),m=Bc(o.map(function(p){return p.y||0}));return ke(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(Bc(s.map(function(p){return p.y||0})),m)),ke(m)?z.createElement("rect",{x:c<d?c:c-f,y:0,width:f,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,d=o[o.length-1].y,f=n*Math.abs(c-d),m=Bc(o.map(function(p){return p.x||0}));return ke(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(Bc(s.map(function(p){return p.x||0})),m)),ke(m)?z.createElement("rect",{x:0,y:c<d?c:c-f,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,s,o){var l=this.props,c=l.layout,d=l.type,f=l.stroke,m=l.connectNulls,p=l.isRange;l.ref;var v=ZJ(l,a$e);return z.createElement(At,{clipPath:s?"url(#clipPath-".concat(o,")"):null},z.createElement(Md,vd({},Xe(v,!0),{points:n,connectNulls:m,type:d,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&z.createElement(Md,vd({},Xe(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:n})),f!=="none"&&p&&z.createElement(Md,vd({},Xe(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,p=o.animationEasing,v=o.animationId,w=this.state,x=w.prevPoints,g=w.prevBaseLine;return z.createElement(Qs,{begin:f,duration:m,isActive:d,easing:p,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var T=_.t;if(x){var P=x.length/l.length,k=l.map(function(j,O){var R=Math.floor(O*P);if(x[R]){var L=x[R],$=Dr(L.x,j.x),F=Dr(L.y,j.y);return wc(wc({},j),{},{x:$(T),y:F(T)})}return j}),A;if(ke(c)&&typeof c=="number"){var C=Dr(g,c);A=C(T)}else if(gt(c)||Zm(c)){var E=Dr(g,0);A=E(T)}else A=c.map(function(j,O){var R=Math.floor(O*P);if(g[R]){var L=g[R],$=Dr(L.x,j.x),F=Dr(L.y,j.y);return wc(wc({},j),{},{x:$(T),y:F(T)})}return j});return s.renderAreaStatically(k,A,n,i)}return z.createElement(At,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(T))),z.createElement(At,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,d=this.state,f=d.prevPoints,m=d.prevBaseLine,p=d.totalLength;return c&&o&&o.length&&(!f&&p>0||!du(f,o)||!du(m,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,l,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,d=i.top,f=i.left,m=i.xAxis,p=i.yAxis,v=i.width,w=i.height,x=i.isAnimationActive,g=i.id;if(s||!l||!l.length)return null;var _=this.state.isAnimationFinished,T=l.length===1,P=mt("recharts-area",c),k=m&&m.allowDataOverflow,A=p&&p.allowDataOverflow,C=k||A,E=gt(g)?this.id:g,j=(n=Xe(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=j.r,R=O===void 0?3:O,L=j.strokeWidth,$=L===void 0?2:L,F=HY(o)?o:{},G=F.clipDot,K=G===void 0?!0:G,Y=R*2+$;return z.createElement(At,{className:P},k||A?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:k?f:f-v/2,y:A?d:d-w/2,width:k?v:v*2,height:A?w:w*2})),!K&&z.createElement("clipPath",{id:"clipPath-dots-".concat(E)},z.createElement("rect",{x:f-Y/2,y:d-Y/2,width:v+Y,height:w+Y}))):null,T?null:this.renderArea(C,E),(o||T)&&this.renderDots(C,K,E),(!x||_)&&wa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(S.PureComponent);JJ=Il;so(Il,"displayName","Area");so(Il,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Bl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});so(Il,"getBaseValue",function(t,e,r,n){var i=t.layout,s=t.baseValue,o=e.props.baseValue,l=o??s;if(ke(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:r,d=c.scale.domain();if(c.type==="number"){var f=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});so(Il,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,d=t.stackedData,f=t.dataStartIndex,m=t.displayedData,p=t.offset,v=e.layout,w=d&&d.length,x=JJ.getBaseValue(e,r,n,i),g=v==="horizontal",_=!1,T=m.map(function(k,A){var C;w?C=d[f+A]:(C=$r(k,c),Array.isArray(C)?_=!0:C=[x,C]);var E=C[1]==null||w&&$r(k,c)==null;return g?{x:kw({axis:n,ticks:s,bandSize:l,entry:k,index:A}),y:E?null:i.scale(C[1]),value:C,payload:k}:{x:E?null:n.scale(C[1]),y:kw({axis:i,ticks:o,bandSize:l,entry:k,index:A}),value:C,payload:k}}),P;return w||_?P=T.map(function(k){var A=Array.isArray(k.value)?k.value[0]:null;return g?{x:k.x,y:A!=null&&k.y!=null?i.scale(A):null}:{x:A!=null?n.scale(A):null,y:k.y}}):P=g?i.scale(x):n.scale(x),wc({points:T,baseLine:P,layout:v,isRange:_},p)});so(Il,"renderDotItem",function(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(it(t))r=t(e);else{var n=mt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=ZJ(e,o$e);r=z.createElement(ip,vd({},s,{key:i,className:n}))}return r});function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function g$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iZ(n.key),n)}}function v$e(t,e,r){return e&&y$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x$e(t,e,r){return e=i1(e),b$e(t,rZ()?Reflect.construct(e,r||[],i1(t).constructor):e.apply(t,r))}function b$e(t,e){if(e&&(Am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w$e(t)}function w$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rZ=function(){return!!t})()}function i1(t){return i1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i1(t)}function _$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lk(t,e)}function lk(t,e){return lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lk(t,e)}function nZ(t,e,r){return e=iZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iZ(t){var e=j$e(t,"string");return Am(e)=="symbol"?e:e+""}function j$e(t,e){if(Am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ck(){return ck=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ck.apply(this,arguments)}function N$e(t){var e=t.xAxisId,r=KR(),n=YR(),i=$J(e);return i==null?null:S.createElement(op,ck({},i,{className:mt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ol(o,!0)}}))}var bs=(function(t){function e(){return g$e(this,e),x$e(this,e,arguments)}return _$e(e,t),v$e(e,[{key:"render",value:function(){return S.createElement(N$e,this.props)}}])})(S.Component);nZ(bs,"displayName","XAxis");nZ(bs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function S$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oZ(n.key),n)}}function E$e(t,e,r){return e&&T$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function P$e(t,e,r){return e=s1(e),A$e(t,sZ()?Reflect.construct(e,r||[],s1(t).constructor):e.apply(t,r))}function A$e(t,e){if(e&&(Cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C$e(t)}function C$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sZ=function(){return!!t})()}function s1(t){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s1(t)}function k$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uk(t,e)}function uk(t,e){return uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uk(t,e)}function aZ(t,e,r){return e=oZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oZ(t){var e=I$e(t,"string");return Cm(e)=="symbol"?e:e+""}function I$e(t,e){if(Cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dk(){return dk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dk.apply(this,arguments)}var O$e=function(e){var r=e.yAxisId,n=KR(),i=YR(),s=FJ(r);return s==null?null:S.createElement(op,dk({},s,{className:mt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return ol(l,!0)}}))},Ni=(function(t){function e(){return S$e(this,e),P$e(this,e,arguments)}return k$e(e,t),E$e(e,[{key:"render",value:function(){return S.createElement(O$e,this.props)}}])})(S.Component);aZ(Ni,"displayName","YAxis");aZ(Ni,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function RU(t){return L$e(t)||D$e(t)||M$e(t)||R$e()}function R$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M$e(t,e){if(t){if(typeof t=="string")return hk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hk(t,e)}}function D$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function L$e(t){if(Array.isArray(t))return hk(t)}function hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var fk=function(e,r,n,i,s){var o=xs(e,XR),l=xs(e,O_),c=[].concat(RU(o),RU(l)),d=xs(e,M_),f="".concat(i,"Id"),m=i[0],p=r;if(c.length&&(p=c.reduce(function(x,g){if(g.props[f]===n&&yo(g.props,"extendDomain")&&ke(g.props[m])){var _=g.props[m];return[Math.min(x[0],_),Math.max(x[1],_)]}return x},p)),d.length){var v="".concat(m,"1"),w="".concat(m,"2");p=d.reduce(function(x,g){if(g.props[f]===n&&yo(g.props,"extendDomain")&&ke(g.props[v])&&ke(g.props[w])){var _=g.props[v],T=g.props[w];return[Math.min(x[0],_,T),Math.max(x[1],_,T)]}return x},p)}return s&&s.length&&(p=s.reduce(function(x,g){return ke(g)?[Math.min(x[0],g),Math.max(x[1],g)]:x},p)),p},xP={exports:{}},MU;function $$e(){return MU||(MU=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,m||c,p),w=r?r+d:d;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],v]:c._events[w].push(v):(c._events[w]=v,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)e.call(f,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=r?r+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,v=m.length,w=new Array(v);p<v;p++)w[p]=m[p].fn;return w},l.prototype.listenerCount=function(d){var f=r?r+d:d,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,f,m,p,v,w){var x=r?r+d:d;if(!this._events[x])return!1;var g=this._events[x],_=arguments.length,T,P;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),_){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,m),!0;case 4:return g.fn.call(g.context,f,m,p),!0;case 5:return g.fn.call(g.context,f,m,p,v),!0;case 6:return g.fn.call(g.context,f,m,p,v,w),!0}for(P=1,T=new Array(_-1);P<_;P++)T[P-1]=arguments[P];g.fn.apply(g.context,T)}else{var k=g.length,A;for(P=0;P<k;P++)switch(g[P].once&&this.removeListener(d,g[P].fn,void 0,!0),_){case 1:g[P].fn.call(g[P].context);break;case 2:g[P].fn.call(g[P].context,f);break;case 3:g[P].fn.call(g[P].context,f,m);break;case 4:g[P].fn.call(g[P].context,f,m,p);break;default:if(!T)for(A=1,T=new Array(_-1);A<_;A++)T[A-1]=arguments[A];g[P].fn.apply(g[P].context,T)}}return!0},l.prototype.on=function(d,f,m){return s(this,d,f,m,!1)},l.prototype.once=function(d,f,m){return s(this,d,f,m,!0)},l.prototype.removeListener=function(d,f,m,p){var v=r?r+d:d;if(!this._events[v])return this;if(!f)return o(this,v),this;var w=this._events[v];if(w.fn)w.fn===f&&(!p||w.once)&&(!m||w.context===m)&&o(this,v);else{for(var x=0,g=[],_=w.length;x<_;x++)(w[x].fn!==f||p&&!w[x].once||m&&w[x].context!==m)&&g.push(w[x]);g.length?this._events[v]=g.length===1?g[0]:g:o(this,v)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(xP)),xP.exports}var F$e=$$e();const V$e=er(F$e);var bP=new V$e,wP="recharts.syncMouseEvents";function r0(t){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r0(t)}function B$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lZ(n.key),n)}}function U$e(t,e,r){return e&&q$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _P(t,e,r){return e=lZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lZ(t){var e=z$e(t,"string");return r0(e)=="symbol"?e:e+""}function z$e(t,e){if(r0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(r0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var W$e=(function(){function t(){B$e(this,t),_P(this,"activeIndex",0),_P(this,"coordinateList",[]),_P(this,"layout","horizontal")}return U$e(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,f=r.offset,m=f===void 0?null:f,p=r.mouseHandlerCallback,v=p===void 0?null:p;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=s+c+d,p=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:m,pageY:p})}}}])})();function H$e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ke(n)&&ke(i))return!0}return!1}function G$e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function cZ(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=nr(e,r,n,i),l=nr(e,r,n,s);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function K$e(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,f=e.outerRadius,m=e.angle,p=nr(l,c,d,m),v=nr(l,c,f,m);n=p.x,i=p.y,s=v.x,o=v.y}else return cZ(e);return[{x:n,y:i},{x:s,y:o}]}function n0(t){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n0(t)}function DU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DU(Object(r),!0).forEach(function(n){Y$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y$e(t,e,r){return e=Q$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q$e(t){var e=X$e(t,"string");return n0(e)=="symbol"?e:e+""}function X$e(t,e){if(n0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(n0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J$e(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,f=t.tooltipAxisBandSize,m=t.layout,p=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!s||!o||p!=="ScatterChart"&&i!=="axis")return null;var w,x=Md;if(p==="ScatterChart")w=o,x=F5e;else if(p==="BarChart")w=G$e(m,o,c,f),x=UR;else if(m==="radial"){var g=cZ(o),_=g.cx,T=g.cy,P=g.radius,k=g.startAngle,A=g.endAngle;w={cx:_,cy:T,startAngle:k,endAngle:A,innerRadius:P,outerRadius:P},x=nJ}else w={points:K$e(m,o,c)},x=Md;var C=Bx(Bx(Bx(Bx({stroke:"#ccc",pointerEvents:"none"},c),w),Xe(v,!1)),{},{payload:l,payloadIndex:d,className:mt("recharts-tooltip-cursor",v.className)});return S.isValidElement(v)?S.cloneElement(v,C):S.createElement(x,C)}var Z$e=["item"],eFe=["children","className","width","height","style","compact","title","desc"];function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function jf(){return jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jf.apply(this,arguments)}function LU(t,e){return nFe(t)||rFe(t,e)||dZ(t,e)||tFe()}function tFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function nFe(t){if(Array.isArray(t))return t}function $U(t,e){if(t==null)return{};var r=iFe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hZ(n.key),n)}}function oFe(t,e,r){return e&&aFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lFe(t,e,r){return e=a1(e),cFe(t,uZ()?Reflect.construct(e,r||[],a1(t).constructor):e.apply(t,r))}function cFe(t,e){if(e&&(km(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uFe(t)}function uFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uZ=function(){return!!t})()}function a1(t){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a1(t)}function dFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mk(t,e)}function mk(t,e){return mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mk(t,e)}function Im(t){return mFe(t)||fFe(t)||dZ(t)||hFe()}function hFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dZ(t,e){if(t){if(typeof t=="string")return pk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pk(t,e)}}function fFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mFe(t){if(Array.isArray(t))return pk(t)}function pk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ge(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(r),!0).forEach(function(n){ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ut(t,e,r){return e=hZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hZ(t){var e=pFe(t,"string");return km(e)=="symbol"?e:e+""}function pFe(t,e){if(km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gFe={xAxis:["bottom","top"],yAxis:["left","right"]},yFe={width:"100%",height:"100%"},fZ={x:0,y:0};function qx(t){return t}var vFe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},xFe=function(e,r,n,i){var s=r.find(function(f){return f&&f.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=i.radius;return ge(ge(ge({},i),nr(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,d=i.angle;return ge(ge(ge({},i),nr(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return fZ},D_=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Im(l),Im(d)):l},[]);return o.length>0?o:e&&e.length&&ke(i)&&ke(s)?e.slice(i,s+1):[]};function mZ(t){return t==="number"?[0,"auto"]:void 0}var gk=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,l=D_(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,d){var f,m=(f=d.props.data)!==null&&f!==void 0?f:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var v=m===void 0?l:m;p=aw(v,o.dataKey,i)}else p=m&&m[n]||l[n];return p?[].concat(Im(c),[YX(d,p)]):c},[])},VU=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=vFe(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,f=hRe(o,l,d,c);if(f>=0&&d){var m=d[f]&&d[f].value,p=gk(e,r,f,m),v=xFe(n,l,f,s);return{activeTooltipIndex:f,activeLabel:m,activePayload:p,activeCoordinate:v}}return null},bFe=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=e.layout,m=e.children,p=e.stackOffset,v=UX(f,s);return n.reduce(function(w,x){var g,_=x.type.defaultProps!==void 0?ge(ge({},x.type.defaultProps),x.props):x.props,T=_.type,P=_.dataKey,k=_.allowDataOverflow,A=_.allowDuplicatedCategory,C=_.scale,E=_.ticks,j=_.includeHidden,O=_[o];if(w[O])return w;var R=D_(e.data,{graphicalItems:i.filter(function(ee){var de,ce=o in ee.props?ee.props[o]:(de=ee.type.defaultProps)===null||de===void 0?void 0:de[o];return ce===O}),dataStartIndex:c,dataEndIndex:d}),L=R.length,$,F,G;H$e(_.domain,k,T)&&($=PC(_.domain,null,k),v&&(T==="number"||C!=="auto")&&(G=zg(R,P,"category")));var K=mZ(T);if(!$||$.length===0){var Y,J=(Y=_.domain)!==null&&Y!==void 0?Y:K;if(P){if($=zg(R,P,T),T==="category"&&v){var U=aTe($);A&&U?(F=$,$=Hw(0,L)):A||($=I8(J,$,x).reduce(function(ee,de){return ee.indexOf(de)>=0?ee:[].concat(Im(ee),[de])},[]))}else if(T==="category")A?$=$.filter(function(ee){return ee!==""&&!gt(ee)}):$=I8(J,$,x).reduce(function(ee,de){return ee.indexOf(de)>=0||de===""||gt(de)?ee:[].concat(Im(ee),[de])},[]);else if(T==="number"){var X=yRe(R,i.filter(function(ee){var de,ce,be=o in ee.props?ee.props[o]:(de=ee.type.defaultProps)===null||de===void 0?void 0:de[o],ye="hide"in ee.props?ee.props.hide:(ce=ee.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return be===O&&(j||!ye)}),P,s,f);X&&($=X)}v&&(T==="number"||C!=="auto")&&(G=zg(R,P,"category"))}else v?$=Hw(0,L):l&&l[O]&&l[O].hasStack&&T==="number"?$=p==="expand"?[0,1]:KX(l[O].stackGroups,c,d):$=qX(R,i.filter(function(ee){var de=o in ee.props?ee.props[o]:ee.type.defaultProps[o],ce="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return de===O&&(j||!ce)}),T,f,!0);if(T==="number")$=fk(m,$,O,s,E),J&&($=PC(J,$,k));else if(T==="category"&&J){var ie=J,W=$.every(function(ee){return ie.indexOf(ee)>=0});W&&($=ie)}}return ge(ge({},w),{},ut({},O,ge(ge({},_),{},{axisType:s,domain:$,categoricalDomain:G,duplicateDomain:F,originalDomain:(g=_.domain)!==null&&g!==void 0?g:K,isCategorical:v,layout:f})))},{})},wFe=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=e.layout,m=e.children,p=D_(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),v=p.length,w=UX(f,s),x=-1;return n.reduce(function(g,_){var T=_.type.defaultProps!==void 0?ge(ge({},_.type.defaultProps),_.props):_.props,P=T[o],k=mZ("number");if(!g[P]){x++;var A;return w?A=Hw(0,v):l&&l[P]&&l[P].hasStack?(A=KX(l[P].stackGroups,c,d),A=fk(m,A,P,s)):(A=PC(k,qX(p,n.filter(function(C){var E,j,O=o in C.props?C.props[o]:(E=C.type.defaultProps)===null||E===void 0?void 0:E[o],R="hide"in C.props?C.props.hide:(j=C.type.defaultProps)===null||j===void 0?void 0:j.hide;return O===P&&!R}),"number",f),i.defaultProps.allowDataOverflow),A=fk(m,A,P,s)),ge(ge({},g),{},ut({},P,ge(ge({axisType:s},i.defaultProps),{},{hide:!0,orientation:vs(gFe,"".concat(s,".").concat(x%2),null),domain:A,originalDomain:k,isCategorical:w,layout:f})))}return g},{})},_Fe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=e.children,m="".concat(i,"Id"),p=xs(f,s),v={};return p&&p.length?v=bFe(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(v=wFe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),v},jFe=function(e){var r=Cc(e),n=ol(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:gR(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Iw(r,n)}},BU=function(e){var r=e.children,n=e.defaultShowTooltip,i=ds(r,wm),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},NFe=function(e){return!e||!e.length?!1:e.some(function(r){var n=hl(r&&r.type);return n&&n.indexOf("Bar")>=0})},qU=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},SFe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,f=n.height,m=n.children,p=n.margin||{},v=ds(m,wm),w=ds(m,Ji),x=Object.keys(c).reduce(function(A,C){var E=c[C],j=E.orientation;return!E.mirror&&!E.hide?ge(ge({},A),{},ut({},j,A[j]+E.width)):A},{left:p.left||0,right:p.right||0}),g=Object.keys(o).reduce(function(A,C){var E=o[C],j=E.orientation;return!E.mirror&&!E.hide?ge(ge({},A),{},ut({},j,vs(A,"".concat(j))+E.height)):A},{top:p.top||0,bottom:p.bottom||0}),_=ge(ge({},g),x),T=_.bottom;v&&(_.bottom+=v.props.height||wm.defaultProps.height),w&&r&&(_=pRe(_,i,n,r));var P=d-_.left-_.right,k=f-_.top-_.bottom;return ge(ge({brushBottom:T},_),{},{width:Math.max(P,0),height:Math.max(k,0)})},TFe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},W0=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,f=e.formatAxisMap,m=e.defaultProps,p=function(_,T){var P=T.graphicalItems,k=T.stackGroups,A=T.offset,C=T.updateId,E=T.dataStartIndex,j=T.dataEndIndex,O=_.barSize,R=_.layout,L=_.barGap,$=_.barCategoryGap,F=_.maxBarSize,G=qU(R),K=G.numericAxisName,Y=G.cateAxisName,J=NFe(P),U=[];return P.forEach(function(X,ie){var W=D_(_.data,{graphicalItems:[X],dataStartIndex:E,dataEndIndex:j}),ee=X.type.defaultProps!==void 0?ge(ge({},X.type.defaultProps),X.props):X.props,de=ee.dataKey,ce=ee.maxBarSize,be=ee["".concat(K,"Id")],ye=ee["".concat(Y,"Id")],pe={},Ie=c.reduce(function(Ar,jn){var gi=T["".concat(jn.axisType,"Map")],ws=ee["".concat(jn.axisType,"Id")];gi&&gi[ws]||jn.axisType==="zAxis"||Jd();var Rn=gi[ws];return ge(ge({},Ar),{},ut(ut({},jn.axisType,Rn),"".concat(jn.axisType,"Ticks"),ol(Rn)))},pe),me=Ie[Y],Pe=Ie["".concat(Y,"Ticks")],Re=k&&k[be]&&k[be].hasStack&&TRe(X,k[be].stackGroups),fe=hl(X.type).indexOf("Bar")>=0,ct=Iw(me,Pe),tt=[],Ot=J&&fRe({barSize:O,stackGroups:k,totalSize:TFe(Ie,Y)});if(fe){var Rt,Yt,Kr=gt(ce)?F:ce,Dt=(Rt=(Yt=Iw(me,Pe,!0))!==null&&Yt!==void 0?Yt:Kr)!==null&&Rt!==void 0?Rt:0;tt=mRe({barGap:L,barCategoryGap:$,bandSize:Dt!==ct?Dt:ct,sizeList:Ot[ye],maxBarSize:Kr}),Dt!==ct&&(tt=tt.map(function(Ar){return ge(ge({},Ar),{},{position:ge(ge({},Ar.position),{},{offset:Ar.position.offset-Dt/2})})}))}var ir=X&&X.type&&X.type.getComposedData;ir&&U.push({props:ge(ge({},ir(ge(ge({},Ie),{},{displayedData:W,props:_,dataKey:de,item:X,bandSize:ct,barPosition:tt,offset:A,stackedData:Re,layout:R,dataStartIndex:E,dataEndIndex:j}))),{},ut(ut(ut({key:X.key||"item-".concat(ie)},K,Ie[K]),Y,Ie[Y]),"animationId",C)),childIndex:vTe(X,_.children),item:X})}),U},v=function(_,T){var P=_.props,k=_.dataStartIndex,A=_.dataEndIndex,C=_.updateId;if(!G$({props:P}))return null;var E=P.children,j=P.layout,O=P.stackOffset,R=P.data,L=P.reverseStackOrder,$=qU(j),F=$.numericAxisName,G=$.cateAxisName,K=xs(E,n),Y=NRe(R,K,"".concat(F,"Id"),"".concat(G,"Id"),O,L),J=c.reduce(function(ee,de){var ce="".concat(de.axisType,"Map");return ge(ge({},ee),{},ut({},ce,_Fe(P,ge(ge({},de),{},{graphicalItems:K,stackGroups:de.axisType===F&&Y,dataStartIndex:k,dataEndIndex:A}))))},{}),U=SFe(ge(ge({},J),{},{props:P,graphicalItems:K}),T==null?void 0:T.legendBBox);Object.keys(J).forEach(function(ee){J[ee]=f(P,J[ee],U,ee.replace("Map",""),r)});var X=J["".concat(G,"Map")],ie=jFe(X),W=p(P,ge(ge({},J),{},{dataStartIndex:k,dataEndIndex:A,updateId:C,graphicalItems:K,stackGroups:Y,offset:U}));return ge(ge({formattedGraphicalItems:W,graphicalItems:K,offset:U,stackGroups:Y},ie),J)},w=(function(g){function _(T){var P,k,A;return sFe(this,_),A=lFe(this,_,[T]),ut(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ut(A,"accessibilityManager",new W$e),ut(A,"handleLegendBBoxUpdate",function(C){if(C){var E=A.state,j=E.dataStartIndex,O=E.dataEndIndex,R=E.updateId;A.setState(ge({legendBBox:C},v({props:A.props,dataStartIndex:j,dataEndIndex:O,updateId:R},ge(ge({},A.state),{},{legendBBox:C}))))}}),ut(A,"handleReceiveSyncEvent",function(C,E,j){if(A.props.syncId===C){if(j===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(E)}}),ut(A,"handleBrushChange",function(C){var E=C.startIndex,j=C.endIndex;if(E!==A.state.dataStartIndex||j!==A.state.dataEndIndex){var O=A.state.updateId;A.setState(function(){return ge({dataStartIndex:E,dataEndIndex:j},v({props:A.props,dataStartIndex:E,dataEndIndex:j,updateId:O},A.state))}),A.triggerSyncEvent({dataStartIndex:E,dataEndIndex:j})}}),ut(A,"handleMouseEnter",function(C){var E=A.getMouseInfo(C);if(E){var j=ge(ge({},E),{},{isTooltipActive:!0});A.setState(j),A.triggerSyncEvent(j);var O=A.props.onMouseEnter;it(O)&&O(j,C)}}),ut(A,"triggeredAfterMouseMove",function(C){var E=A.getMouseInfo(C),j=E?ge(ge({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(j),A.triggerSyncEvent(j);var O=A.props.onMouseMove;it(O)&&O(j,C)}),ut(A,"handleItemMouseEnter",function(C){A.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),ut(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),ut(A,"handleMouseMove",function(C){C.persist(),A.throttleTriggeredAfterMouseMove(C)}),ut(A,"handleMouseLeave",function(C){A.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};A.setState(E),A.triggerSyncEvent(E);var j=A.props.onMouseLeave;it(j)&&j(E,C)}),ut(A,"handleOuterEvent",function(C){var E=yTe(C),j=vs(A.props,"".concat(E));if(E&&it(j)){var O,R;/.*touch.*/i.test(E)?R=A.getMouseInfo(C.changedTouches[0]):R=A.getMouseInfo(C),j((O=R)!==null&&O!==void 0?O:{},C)}}),ut(A,"handleClick",function(C){var E=A.getMouseInfo(C);if(E){var j=ge(ge({},E),{},{isTooltipActive:!0});A.setState(j),A.triggerSyncEvent(j);var O=A.props.onClick;it(O)&&O(j,C)}}),ut(A,"handleMouseDown",function(C){var E=A.props.onMouseDown;if(it(E)){var j=A.getMouseInfo(C);E(j,C)}}),ut(A,"handleMouseUp",function(C){var E=A.props.onMouseUp;if(it(E)){var j=A.getMouseInfo(C);E(j,C)}}),ut(A,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),ut(A,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.handleMouseDown(C.changedTouches[0])}),ut(A,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&A.handleMouseUp(C.changedTouches[0])}),ut(A,"handleDoubleClick",function(C){var E=A.props.onDoubleClick;if(it(E)){var j=A.getMouseInfo(C);E(j,C)}}),ut(A,"handleContextMenu",function(C){var E=A.props.onContextMenu;if(it(E)){var j=A.getMouseInfo(C);E(j,C)}}),ut(A,"triggerSyncEvent",function(C){A.props.syncId!==void 0&&bP.emit(wP,A.props.syncId,C,A.eventEmitterSymbol)}),ut(A,"applySyncEvent",function(C){var E=A.props,j=E.layout,O=E.syncMethod,R=A.state.updateId,L=C.dataStartIndex,$=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)A.setState(ge({dataStartIndex:L,dataEndIndex:$},v({props:A.props,dataStartIndex:L,dataEndIndex:$,updateId:R},A.state)));else if(C.activeTooltipIndex!==void 0){var F=C.chartX,G=C.chartY,K=C.activeTooltipIndex,Y=A.state,J=Y.offset,U=Y.tooltipTicks;if(!J)return;if(typeof O=="function")K=O(U,C);else if(O==="value"){K=-1;for(var X=0;X<U.length;X++)if(U[X].value===C.activeLabel){K=X;break}}var ie=ge(ge({},J),{},{x:J.left,y:J.top}),W=Math.min(F,ie.x+ie.width),ee=Math.min(G,ie.y+ie.height),de=U[K]&&U[K].value,ce=gk(A.state,A.props.data,K),be=U[K]?{x:j==="horizontal"?U[K].coordinate:W,y:j==="horizontal"?ee:U[K].coordinate}:fZ;A.setState(ge(ge({},C),{},{activeLabel:de,activeCoordinate:be,activePayload:ce,activeTooltipIndex:K}))}else A.setState(C)}),ut(A,"renderCursor",function(C){var E,j=A.state,O=j.isTooltipActive,R=j.activeCoordinate,L=j.activePayload,$=j.offset,F=j.activeTooltipIndex,G=j.tooltipAxisBandSize,K=A.getTooltipEventType(),Y=(E=C.props.active)!==null&&E!==void 0?E:O,J=A.props.layout,U=C.key||"_recharts-cursor";return z.createElement(J$e,{key:U,activeCoordinate:R,activePayload:L,activeTooltipIndex:F,chartName:r,element:C,isActive:Y,layout:J,offset:$,tooltipAxisBandSize:G,tooltipEventType:K})}),ut(A,"renderPolarAxis",function(C,E,j){var O=vs(C,"type.axisType"),R=vs(A.state,"".concat(O,"Map")),L=C.type.defaultProps,$=L!==void 0?ge(ge({},L),C.props):C.props,F=R&&R[$["".concat(O,"Id")]];return S.cloneElement(C,ge(ge({},F),{},{className:mt(O,F.className),key:C.key||"".concat(E,"-").concat(j),ticks:ol(F,!0)}))}),ut(A,"renderPolarGrid",function(C){var E=C.props,j=E.radialLines,O=E.polarAngles,R=E.polarRadius,L=A.state,$=L.radiusAxisMap,F=L.angleAxisMap,G=Cc($),K=Cc(F),Y=K.cx,J=K.cy,U=K.innerRadius,X=K.outerRadius;return S.cloneElement(C,{polarAngles:Array.isArray(O)?O:ol(K,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(R)?R:ol(G,!0).map(function(ie){return ie.coordinate}),cx:Y,cy:J,innerRadius:U,outerRadius:X,key:C.key||"polar-grid",radialLines:j})}),ut(A,"renderLegend",function(){var C=A.state.formattedGraphicalItems,E=A.props,j=E.children,O=E.width,R=E.height,L=A.props.margin||{},$=O-(L.left||0)-(L.right||0),F=VX({children:j,formattedGraphicalItems:C,legendWidth:$,legendContent:d});if(!F)return null;var G=F.item,K=$U(F,Z$e);return S.cloneElement(G,ge(ge({},K),{},{chartWidth:O,chartHeight:R,margin:L,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),ut(A,"renderTooltip",function(){var C,E=A.props,j=E.children,O=E.accessibilityLayer,R=ds(j,pn);if(!R)return null;var L=A.state,$=L.isTooltipActive,F=L.activeCoordinate,G=L.activePayload,K=L.activeLabel,Y=L.offset,J=(C=R.props.active)!==null&&C!==void 0?C:$;return S.cloneElement(R,{viewBox:ge(ge({},Y),{},{x:Y.left,y:Y.top}),active:J,label:K,payload:J?G:[],coordinate:F,accessibilityLayer:O})}),ut(A,"renderBrush",function(C){var E=A.props,j=E.margin,O=E.data,R=A.state,L=R.offset,$=R.dataStartIndex,F=R.dataEndIndex,G=R.updateId;return S.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Lx(A.handleBrushChange,C.props.onChange),data:O,x:ke(C.props.x)?C.props.x:L.left,y:ke(C.props.y)?C.props.y:L.top+L.height+L.brushBottom-(j.bottom||0),width:ke(C.props.width)?C.props.width:L.width,startIndex:$,endIndex:F,updateId:"brush-".concat(G)})}),ut(A,"renderReferenceElement",function(C,E,j){if(!C)return null;var O=A,R=O.clipPathId,L=A.state,$=L.xAxisMap,F=L.yAxisMap,G=L.offset,K=C.type.defaultProps||{},Y=C.props,J=Y.xAxisId,U=J===void 0?K.xAxisId:J,X=Y.yAxisId,ie=X===void 0?K.yAxisId:X;return S.cloneElement(C,{key:C.key||"".concat(E,"-").concat(j),xAxis:$[U],yAxis:F[ie],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:R})}),ut(A,"renderActivePoints",function(C){var E=C.item,j=C.activePoint,O=C.basePoint,R=C.childIndex,L=C.isRange,$=[],F=E.props.key,G=E.item.type.defaultProps!==void 0?ge(ge({},E.item.type.defaultProps),E.item.props):E.item.props,K=G.activeDot,Y=G.dataKey,J=ge(ge({index:R,dataKey:Y,cx:j.x,cy:j.y,r:4,fill:qR(E.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},Xe(K,!1)),ow(K));return $.push(_.renderActiveDot(K,J,"".concat(F,"-activePoint-").concat(R))),O?$.push(_.renderActiveDot(K,ge(ge({},J),{},{cx:O.x,cy:O.y}),"".concat(F,"-basePoint-").concat(R))):L&&$.push(null),$}),ut(A,"renderGraphicChild",function(C,E,j){var O=A.filterFormatItem(C,E,j);if(!O)return null;var R=A.getTooltipEventType(),L=A.state,$=L.isTooltipActive,F=L.tooltipAxis,G=L.activeTooltipIndex,K=L.activeLabel,Y=A.props.children,J=ds(Y,pn),U=O.props,X=U.points,ie=U.isRange,W=U.baseLine,ee=O.item.type.defaultProps!==void 0?ge(ge({},O.item.type.defaultProps),O.item.props):O.item.props,de=ee.activeDot,ce=ee.hide,be=ee.activeBar,ye=ee.activeShape,pe=!!(!ce&&$&&J&&(de||be||ye)),Ie={};R!=="axis"&&J&&J.props.trigger==="click"?Ie={onClick:Lx(A.handleItemMouseEnter,C.props.onClick)}:R!=="axis"&&(Ie={onMouseLeave:Lx(A.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Lx(A.handleItemMouseEnter,C.props.onMouseEnter)});var me=S.cloneElement(C,ge(ge({},O.props),Ie));function Pe(jn){return typeof F.dataKey=="function"?F.dataKey(jn.payload):null}if(pe)if(G>=0){var Re,fe;if(F.dataKey&&!F.allowDuplicatedCategory){var ct=typeof F.dataKey=="function"?Pe:"payload.".concat(F.dataKey.toString());Re=aw(X,ct,K),fe=ie&&W&&aw(W,ct,K)}else Re=X==null?void 0:X[G],fe=ie&&W&&W[G];if(ye||be){var tt=C.props.activeIndex!==void 0?C.props.activeIndex:G;return[S.cloneElement(C,ge(ge(ge({},O.props),Ie),{},{activeIndex:tt})),null,null]}if(!gt(Re))return[me].concat(Im(A.renderActivePoints({item:O,activePoint:Re,basePoint:fe,childIndex:G,isRange:ie})))}else{var Ot,Rt=(Ot=A.getItemByXY(A.state.activeCoordinate))!==null&&Ot!==void 0?Ot:{graphicalItem:me},Yt=Rt.graphicalItem,Kr=Yt.item,Dt=Kr===void 0?C:Kr,ir=Yt.childIndex,Ar=ge(ge(ge({},O.props),Ie),{},{activeIndex:ir});return[S.cloneElement(Dt,Ar),null,null]}return ie?[me,null,null]:[me,null]}),ut(A,"renderCustomized",function(C,E,j){return S.cloneElement(C,ge(ge({key:"recharts-customized-".concat(j)},A.props),A.state))}),ut(A,"renderMap",{CartesianGrid:{handler:qx,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:qx},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:qx},YAxis:{handler:qx},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((P=T.id)!==null&&P!==void 0?P:hh("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=FQ(A.triggeredAfterMouseMove,(k=T.throttleDelay)!==null&&k!==void 0?k:1e3/60),A.state={},A}return dFe(_,g),oFe(_,[{key:"componentDidMount",value:function(){var P,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,k=P.children,A=P.data,C=P.height,E=P.layout,j=ds(k,pn);if(j){var O=j.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,L=gk(this.state,A,O,R),$=this.state.tooltipTicks[O].coordinate,F=(this.state.offset.top+C)/2,G=E==="horizontal",K=G?{x:$,y:F}:{y:$,x:F},Y=this.state.formattedGraphicalItems.find(function(U){var X=U.item;return X.type.name==="Scatter"});Y&&(K=ge(ge({},K),Y.props.points[O].tooltipPosition),L=Y.props.points[O].tooltipPayload);var J={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:R,activePayload:L,activeCoordinate:K};this.setState(J),this.renderCursor(j),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var A,C;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(P){QA([ds(P.children,pn)],[ds(this.props.children,pn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=ds(this.props.children,pn);if(P&&typeof P.props.shared=="boolean"){var k=P.props.shared?"axis":"item";return l.indexOf(k)>=0?k:s}return s}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var k=this.container,A=k.getBoundingClientRect(),C=iCe(A),E={chartX:Math.round(P.pageX-C.left),chartY:Math.round(P.pageY-C.top)},j=A.width/k.offsetWidth||1,O=this.inRange(E.chartX,E.chartY,j);if(!O)return null;var R=this.state,L=R.xAxisMap,$=R.yAxisMap,F=this.getTooltipEventType(),G=VU(this.state,this.props.data,this.props.layout,O);if(F!=="axis"&&L&&$){var K=Cc(L).scale,Y=Cc($).scale,J=K&&K.invert?K.invert(E.chartX):null,U=Y&&Y.invert?Y.invert(E.chartY):null;return ge(ge({},E),{},{xValue:J,yValue:U},G)}return G?ge(ge({},E),G):null}},{key:"inRange",value:function(P,k){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=P/A,j=k/A;if(C==="horizontal"||C==="vertical"){var O=this.state.offset,R=E>=O.left&&E<=O.left+O.width&&j>=O.top&&j<=O.top+O.height;return R?{x:E,y:j}:null}var L=this.state,$=L.angleAxisMap,F=L.radiusAxisMap;if($&&F){var G=Cc($);return M8({x:E,y:j},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,k=this.getTooltipEventType(),A=ds(P,pn),C={};A&&k==="axis"&&(A.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=ow(this.props,this.handleOuterEvent);return ge(ge({},E),C)}},{key:"addListener",value:function(){bP.on(wP,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){bP.removeListener(wP,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,k,A){for(var C=this.state.formattedGraphicalItems,E=0,j=C.length;E<j;E++){var O=C[E];if(O.item===P||O.props.key===P.key||k===hl(O.item.type)&&A===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,k=this.state.offset,A=k.left,C=k.top,E=k.height,j=k.width;return z.createElement("defs",null,z.createElement("clipPath",{id:P},z.createElement("rect",{x:A,y:C,height:E,width:j})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(k,A){var C=LU(A,2),E=C[0],j=C[1];return ge(ge({},k),{},ut({},E,j.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(k,A){var C=LU(A,2),E=C[0],j=C[1];return ge(ge({},k),{},ut({},E,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[P])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(P){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[P])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(P){var k=this.state,A=k.formattedGraphicalItems,C=k.activeItem;if(A&&A.length)for(var E=0,j=A.length;E<j;E++){var O=A[E],R=O.props,L=O.item,$=L.type.defaultProps!==void 0?ge(ge({},L.type.defaultProps),L.props):L.props,F=hl(L.type);if(F==="Bar"){var G=(R.data||[]).find(function(U){return b5e(P,U)});if(G)return{graphicalItem:O,payload:G}}else if(F==="RadialBar"){var K=(R.data||[]).find(function(U){return M8(P,U)});if(K)return{graphicalItem:O,payload:K}}else if(A_(O,C)||C_(O,C)||Xy(O,C)){var Y=Z3e({graphicalItem:O,activeTooltipItem:C,itemData:$.data}),J=$.activeIndex===void 0?Y:$.activeIndex;return{graphicalItem:ge(ge({},O),{},{childIndex:J}),payload:Xy(O,C)?$.data[Y]:O.props.data[Y]}}}return null}},{key:"render",value:function(){var P=this;if(!G$(this))return null;var k=this.props,A=k.children,C=k.className,E=k.width,j=k.height,O=k.style,R=k.compact,L=k.title,$=k.desc,F=$U(k,eFe),G=Xe(F,!1);if(R)return z.createElement(gU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(JA,jf({},G,{width:E,height:j,title:L,desc:$}),this.renderClipPath(),Y$(A,this.renderMap)));if(this.props.accessibilityLayer){var K,Y;G.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,G.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",G.onKeyDown=function(U){P.accessibilityManager.keyboardEvent(U)},G.onFocus=function(){P.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return z.createElement(gU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",jf({className:mt("recharts-wrapper",C),style:ge({position:"relative",cursor:"default",width:E,height:j},O)},J,{ref:function(X){P.container=X}}),z.createElement(JA,jf({},G,{width:E,height:j,title:L,desc:$,style:yFe}),this.renderClipPath(),Y$(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(S.Component);ut(w,"displayName",r),ut(w,"defaultProps",ge({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),ut(w,"getDerivedStateFromProps",function(g,_){var T=g.dataKey,P=g.data,k=g.children,A=g.width,C=g.height,E=g.layout,j=g.stackOffset,O=g.margin,R=_.dataStartIndex,L=_.dataEndIndex;if(_.updateId===void 0){var $=BU(g);return ge(ge(ge({},$),{},{updateId:0},v(ge(ge({props:g},$),{},{updateId:0}),_)),{},{prevDataKey:T,prevData:P,prevWidth:A,prevHeight:C,prevLayout:E,prevStackOffset:j,prevMargin:O,prevChildren:k})}if(T!==_.prevDataKey||P!==_.prevData||A!==_.prevWidth||C!==_.prevHeight||E!==_.prevLayout||j!==_.prevStackOffset||!Mf(O,_.prevMargin)){var F=BU(g),G={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},K=ge(ge({},VU(_,P,E)),{},{updateId:_.updateId+1}),Y=ge(ge(ge({},F),G),K);return ge(ge(ge({},Y),v(ge({props:g},Y),_)),{},{prevDataKey:T,prevData:P,prevWidth:A,prevHeight:C,prevLayout:E,prevStackOffset:j,prevMargin:O,prevChildren:k})}if(!QA(k,_.prevChildren)){var J,U,X,ie,W=ds(k,wm),ee=W&&(J=(U=W.props)===null||U===void 0?void 0:U.startIndex)!==null&&J!==void 0?J:R,de=W&&(X=(ie=W.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&X!==void 0?X:L,ce=ee!==R||de!==L,be=!gt(P),ye=be&&!ce?_.updateId:_.updateId+1;return ge(ge({updateId:ye},v(ge(ge({props:g},_),{},{updateId:ye,dataStartIndex:ee,dataEndIndex:de}),_)),{},{prevChildren:k,dataStartIndex:ee,dataEndIndex:de})}return null}),ut(w,"renderActiveDot",function(g,_,T){var P;return S.isValidElement(g)?P=S.cloneElement(g,_):it(g)?P=g(_):P=z.createElement(ip,_),z.createElement(At,{className:"recharts-active-dot",key:T},P)});var x=S.forwardRef(function(_,T){return z.createElement(w,jf({},_,{ref:T}))});return x.displayName=w.displayName,x},L_=W0({chartName:"LineChart",GraphicalChild:Aa,axisComponents:[{axisType:"xAxis",AxisComp:bs},{axisType:"yAxis",AxisComp:Ni}],formatAxisMap:zR}),yk=W0({chartName:"BarChart",GraphicalChild:xa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:bs},{axisType:"yAxis",AxisComp:Ni}],formatAxisMap:zR}),EFe=W0({chartName:"PieChart",GraphicalChild:Ul,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ap},{axisType:"radiusAxis",AxisComp:sp}],formatAxisMap:JX,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),PFe=W0({chartName:"RadarChart",GraphicalChild:z0,axisComponents:[{axisType:"angleAxis",AxisComp:ap},{axisType:"radiusAxis",AxisComp:sp}],formatAxisMap:JX,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),AFe=W0({chartName:"AreaChart",GraphicalChild:Il,axisComponents:[{axisType:"xAxis",AxisComp:bs},{axisType:"yAxis",AxisComp:Ni}],formatAxisMap:zR});function CFe({progress:t}){const r=t.slice(0,10).reverse().map((n,i)=>({name:`Game ${i+1}`,score:n.score,accuracy:Math.round(n.correct_answers/n.total_questions*100)}));return a.jsxs(re,{className:"mb-8",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(gr,{className:"w-6 h-6 text-green-500"}),"Performance Over Time"]})}),a.jsx(ne,{children:r.length>0?a.jsx(ro,{width:"100%",height:300,children:a.jsxs(L_,{data:r,children:[a.jsx(ml,{strokeDasharray:"3 3"}),a.jsx(bs,{dataKey:"name"}),a.jsx(Ni,{}),a.jsx(pn,{}),a.jsx(Ji,{}),a.jsx(Aa,{type:"monotone",dataKey:"score",stroke:"#8b5cf6",strokeWidth:3}),a.jsx(Aa,{type:"monotone",dataKey:"accuracy",stroke:"#10b981",strokeWidth:3})]})}):a.jsx("div",{className:"text-center py-12 text-gray-500",children:"Play some games to see your performance chart!"})})]})}function kFe({progress:t}){const e=t.slice(0,10),r={addition:"",subtraction:"",multiplication:"",division:""},n={easy:"bg-green-500",medium:"bg-yellow-500",hard:"bg-red-500"};return a.jsxs(re,{children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"w-6 h-6 text-blue-500"}),"Recent Games"]})}),a.jsx(ne,{children:a.jsx("div",{className:"space-y-3",children:e.map((i,s)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-100 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"text-3xl",children:r[i.operation]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-bold capitalize",children:i.operation}),a.jsx(je,{className:n[i.level]+" text-white",children:i.level})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Jt,{className:"w-4 h-4"}),i.correct_answers,"/",i.total_questions]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(_r,{className:"w-4 h-4"}),i.time_taken,"s"]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"flex gap-1 mb-1",children:[1,2,3].map(o=>a.jsx(Tt,{className:`w-5 h-5 ${o<=i.stars_earned?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},o))}),a.jsx("div",{className:"text-sm text-gray-500",children:hr(new Date(i.created_date),"MMM d, h:mm a")})]})]},s))})})]})}function pZ(){const{data:t=[],isLoading:e}=ft({queryKey:["gameProgress"],queryFn:()=>base44.entities.GameProgress.list("-created_date"),initialData:[]}),{data:r=[]}=ft({queryKey:["userDailyChallenges"],queryFn:async()=>{const _=await base44.auth.me();return base44.entities.DailyChallenge.filter({created_by:_.email})},initialData:[]}),{data:n}=ft({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:i=[]}=ft({queryKey:["tutorSessions"],queryFn:async()=>{const _=await base44.auth.me();return base44.entities.TutorSession.filter({created_by:_.email})},initialData:[]}),s=()=>t.reduce((_,T)=>_+(T.stars_earned||0),0),o=()=>r.reduce((_,T)=>_+(T.bonus_stars||0),0),l=()=>t.reduce((_,T)=>_+(T.score||0),0),c=()=>{if(t.length===0)return 0;const _=t.reduce((T,P)=>T+P.correct_answers/P.total_questions*100,0);return Math.round(_/t.length)},d=()=>t.reduce((_,T)=>_+(T.time_taken||0),0),f=()=>t.length,m=s()+o(),p=m-((n==null?void 0:n.stars_spent)||0),w=(()=>{const _=f(),T=t.some(E=>E.stars_earned===3),P=t.some(E=>E.correct_answers/E.total_questions===1),k=t.some(E=>E.level==="hard"&&E.stars_earned>=2),A=r.length,C=[];return _>=5&&C.push({name:"Curly Hair",emoji:""}),_>=7&&C.push({name:"Hat",emoji:""}),_>=10&&C.push({name:"Sporty Outfit",emoji:""}),m>=10&&C.push({name:"Spiky Hair",emoji:""}),T&&C.push({name:"Cool Eyes",emoji:""}),P&&C.push({name:"Heart Eyes & Pirate Outfit",emoji:""}),k&&C.push({name:"Purple Hair, Superhero Outfit & Cape",emoji:""}),A>=7&&C.push({name:"Artist Outfit",emoji:""}),C.slice(0,3)})(),g=(()=>{const _={};return i.forEach(T=>{const P=`${T.operation}-${T.level}`;_[P]||(_[P]={operation:T.operation,level:T.level,count:0}),_[P].count++}),Object.values(_).sort((T,P)=>P.count-T.count).slice(0,3)})();return e?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Loading your progress..."})]})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-block mb-6",children:a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-2xl",children:a.jsx(It,{className:"w-12 h-12 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Your Progress"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Keep up the great work! "})]}),t.length===0?a.jsx(re,{className:"text-center py-12",children:a.jsxs(ne,{children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No games played yet!"}),a.jsx("p",{className:"text-gray-600",children:"Start playing to see your progress here."})]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[a.jsx(re,{className:"md:col-span-2 border-4 border-yellow-300 shadow-xl bg-gradient-to-r from-yellow-50 to-orange-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(Tt,{className:"w-8 h-8 text-white fill-white"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-3xl font-bold text-gray-800",children:[p," Stars Available"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[m," total earned  ",(n==null?void 0:n.stars_spent)||0," spent"]})]})]}),a.jsx(Kt,{to:Ge("Shop"),children:a.jsxs(le,{className:"h-12 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(il,{className:"w-5 h-5 mr-2"}),"Visit Shop"]})})]})})}),w.length>0&&a.jsx(re,{className:"border-4 border-green-300 shadow-xl bg-gradient-to-r from-green-50 to-emerald-50",children:a.jsxs(ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx(mA,{className:"w-6 h-6 text-green-600"}),a.jsx("h3",{className:"font-bold text-lg text-green-800",children:"New Rewards!"})]}),a.jsx("div",{className:"space-y-2 mb-3",children:w.map((_,T)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"text-xl",children:_.emoji}),a.jsx("span",{className:"font-medium",children:_.name})]},T))}),a.jsx(Kt,{to:Ge("Shop"),children:a.jsx(le,{variant:"outline",className:"w-full border-green-400 text-green-700 hover:bg-green-100",children:"Claim Rewards"})})]})})]}),i.length>0&&a.jsxs(re,{className:"mb-8 border-4 border-blue-300 shadow-xl bg-gradient-to-r from-blue-50 to-purple-50",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-100 to-purple-100 p-6 rounded-t-xl",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-xl font-bold text-blue-800",children:[a.jsx(yn,{className:"w-7 h-7 text-blue-600"}),"AI Tutor Learning Insights"]})}),a.jsxs(ne,{className:"p-6",children:[a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center border-2 border-blue-200 shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:i.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Tutoring Sessions"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center border-2 border-purple-200 shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-purple-600",children:i.filter(_=>_.hint_requested).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Hints Received"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center border-2 border-green-200 shadow-sm",children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:i.filter(_=>_.explanation_viewed).length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Explanations Viewed"})]})]}),g.length>0&&a.jsxs("div",{className:"bg-white p-4 rounded-xl border-2 border-orange-200 shadow-sm",children:[a.jsxs("h4",{className:"font-bold mb-3 flex items-center gap-2 text-lg text-orange-700",children:[a.jsx(Jt,{className:"w-5 h-5 text-orange-600"}),"Practice These Topics"]}),a.jsx("div",{className:"space-y-2",children:g.map((_,T)=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"capitalize font-medium text-gray-700",children:[_.operation," (",_.level,")"]}),a.jsxs(je,{variant:"outline",className:"bg-orange-50 text-orange-600 border-orange-200",children:[_.count," times needed help"]})]},T))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[a.jsxs(re,{className:"bg-gradient-to-br from-yellow-400 to-orange-500 text-white border-0",children:[a.jsx(_e,{className:"pb-2",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsx(Tt,{className:"w-8 h-8 fill-white"})})}),a.jsxs(ne,{children:[a.jsx("div",{className:"text-3xl font-bold mb-1",children:s()}),a.jsx("p",{className:"text-sm text-white/90",children:"Game Stars"})]})]}),a.jsxs(re,{className:"bg-gradient-to-br from-purple-500 to-pink-500 text-white border-0",children:[a.jsx(_e,{className:"pb-2",children:a.jsx(It,{className:"w-8 h-8"})}),a.jsxs(ne,{children:[a.jsx("div",{className:"text-3xl font-bold mb-1",children:l()}),a.jsx("p",{className:"text-sm text-white/90",children:"Total Score"})]})]}),a.jsxs(re,{className:"bg-gradient-to-br from-green-500 to-emerald-500 text-white border-0",children:[a.jsx(_e,{className:"pb-2",children:a.jsx(Jt,{className:"w-8 h-8"})}),a.jsxs(ne,{children:[a.jsxs("div",{className:"text-3xl font-bold mb-1",children:[c(),"%"]}),a.jsx("p",{className:"text-sm text-white/90",children:"Accuracy"})]})]}),a.jsxs(re,{className:"bg-gradient-to-br from-blue-500 to-cyan-500 text-white border-0",children:[a.jsx(_e,{className:"pb-2",children:a.jsx(_r,{className:"w-8 h-8"})}),a.jsxs(ne,{children:[a.jsxs("div",{className:"text-3xl font-bold mb-1",children:[Math.floor(d()/60),"m"]}),a.jsx("p",{className:"text-sm text-white/90",children:"Time Played"})]})]}),a.jsxs(re,{className:"bg-gradient-to-br from-indigo-500 to-purple-500 text-white border-0",children:[a.jsx(_e,{className:"pb-2",children:a.jsx(gr,{className:"w-8 h-8"})}),a.jsxs(ne,{children:[a.jsx("div",{className:"text-3xl font-bold mb-1",children:f()}),a.jsx("p",{className:"text-sm text-white/90",children:"Games Played"})]})]})]}),a.jsx(y2e,{progress:t}),a.jsx(CFe,{progress:t}),a.jsx(kFe,{progress:t})]})]})}var IFe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],OFe=IFe.reduce((t,e)=>{const r=WI(`Primitive.${e}`),n=S.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),RFe="Label",gZ=S.forwardRef((t,e)=>a.jsx(OFe.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));gZ.displayName=RFe;var yZ=gZ;const MFe=E0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ot=S.forwardRef(({className:t,...e},r)=>a.jsx(yZ,{ref:r,className:bt(MFe(),t),...e}));ot.displayName=yZ.displayName;var $_="Tabs",[DFe]=Ca($_,[K1]),vZ=K1(),[LFe,eM]=DFe($_),xZ=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,f=P0(l),[m,p]=_l({prop:n,onChange:i,defaultProp:s??"",caller:$_});return a.jsx(LFe,{scope:r,baseId:su(),value:m,onValueChange:p,orientation:o,dir:f,activationMode:c,children:a.jsx(jt.div,{dir:f,"data-orientation":o,...d,ref:e})})});xZ.displayName=$_;var bZ="TabsList",wZ=S.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=eM(bZ,r),o=vZ(r);return a.jsx($H,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx(jt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});wZ.displayName=bZ;var _Z="TabsTrigger",jZ=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=eM(_Z,r),l=vZ(r),c=TZ(o.baseId,n),d=EZ(o.baseId,n),f=n===o.value;return a.jsx(FH,{asChild:!0,...l,focusable:!i,active:f,children:a.jsx(jt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Ve(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:Ve(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:Ve(t.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!i&&m&&o.onValueChange(n)})})})});jZ.displayName=_Z;var NZ="TabsContent",SZ=S.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,l=eM(NZ,r),c=TZ(l.baseId,n),d=EZ(l.baseId,n),f=n===l.value,m=S.useRef(f);return S.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx($l,{present:i||f,children:({present:p})=>a.jsx(jt.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:p&&s})})});SZ.displayName=NZ;function TZ(t,e){return`${t}-trigger-${e}`}function EZ(t,e){return`${t}-content-${e}`}var $Fe=xZ,PZ=wZ,AZ=jZ,CZ=SZ;const hu=$Fe,Ol=S.forwardRef(({className:t,...e},r)=>a.jsx(PZ,{ref:r,className:bt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));Ol.displayName=PZ.displayName;const Pt=S.forwardRef(({className:t,...e},r)=>a.jsx(AZ,{ref:r,className:bt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));Pt.displayName=AZ.displayName;const Ft=S.forwardRef(({className:t,...e},r)=>a.jsx(CZ,{ref:r,className:bt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ft.displayName=CZ.displayName;var FFe=Symbol("radix.slottable");function VFe(t){const e=({children:r})=>a.jsx(a.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=FFe,e}var kZ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),BFe="VisuallyHidden",IZ=S.forwardRef((t,e)=>a.jsx(jt.span,{...t,ref:e,style:{...kZ,...t.style}}));IZ.displayName=BFe;var qFe=IZ,[F_]=Ca("Tooltip",[Gm]),V_=Gm(),OZ="TooltipProvider",UFe=700,vk="tooltip.open",[zFe,tM]=F_(OZ),RZ=t=>{const{__scopeTooltip:e,delayDuration:r=UFe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,o=S.useRef(!0),l=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),a.jsx(zFe,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};RZ.displayName=OZ;var i0="Tooltip",[WFe,H0]=F_(i0),MZ=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,c=tM(i0,t.__scopeTooltip),d=V_(e),[f,m]=S.useState(null),p=su(),v=S.useRef(0),w=o??c.disableHoverableContent,x=l??c.delayDuration,g=S.useRef(!1),[_,T]=_l({prop:n,defaultProp:i??!1,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(vk))):c.onClose(),s==null||s(E)},caller:i0}),P=S.useMemo(()=>_?g.current?"delayed-open":"instant-open":"closed",[_]),k=S.useCallback(()=>{window.clearTimeout(v.current),v.current=0,g.current=!1,T(!0)},[T]),A=S.useCallback(()=>{window.clearTimeout(v.current),v.current=0,T(!1)},[T]),C=S.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{g.current=!0,T(!0),v.current=0},x)},[x,T]);return S.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),a.jsx(tO,{...d,children:a.jsx(WFe,{scope:e,contentId:p,open:_,stateAttribute:P,trigger:f,onTriggerChange:m,onTriggerEnter:S.useCallback(()=>{c.isOpenDelayedRef.current?C():k()},[c.isOpenDelayedRef,C,k]),onTriggerLeave:S.useCallback(()=>{w?A():(window.clearTimeout(v.current),v.current=0)},[A,w]),onOpen:k,onClose:A,disableHoverableContent:w,children:r})})};MZ.displayName=i0;var xk="TooltipTrigger",DZ=S.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=H0(xk,r),s=tM(xk,r),o=V_(r),l=S.useRef(null),c=Bt(e,l,i.onTriggerChange),d=S.useRef(!1),f=S.useRef(!1),m=S.useCallback(()=>d.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(rO,{asChild:!0,...o,children:a.jsx(jt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Ve(t.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ve(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Ve(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ve(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:Ve(t.onBlur,i.onClose),onClick:Ve(t.onClick,i.onClose)})})});DZ.displayName=xk;var rM="TooltipPortal",[HFe,GFe]=F_(rM,{forceMount:void 0}),LZ=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:i}=t,s=H0(rM,e);return a.jsx(HFe,{scope:e,forceMount:r,children:a.jsx($l,{present:r||s.open,children:a.jsx(G1,{asChild:!0,container:i,children:n})})})};LZ.displayName=rM;var Om="TooltipContent",$Z=S.forwardRef((t,e)=>{const r=GFe(Om,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=H0(Om,t.__scopeTooltip);return a.jsx($l,{present:n||o.open,children:o.disableHoverableContent?a.jsx(FZ,{side:i,...s,ref:e}):a.jsx(KFe,{side:i,...s,ref:e})})}),KFe=S.forwardRef((t,e)=>{const r=H0(Om,t.__scopeTooltip),n=tM(Om,t.__scopeTooltip),i=S.useRef(null),s=Bt(e,i),[o,l]=S.useState(null),{trigger:c,onClose:d}=r,f=i.current,{onPointerInTransitChange:m}=n,p=S.useCallback(()=>{l(null),m(!1)},[m]),v=S.useCallback((w,x)=>{const g=w.currentTarget,_={x:w.clientX,y:w.clientY},T=ZFe(_,g.getBoundingClientRect()),P=eVe(_,T),k=tVe(x.getBoundingClientRect()),A=nVe([...P,...k]);l(A),m(!0)},[m]);return S.useEffect(()=>()=>p(),[p]),S.useEffect(()=>{if(c&&f){const w=g=>v(g,f),x=g=>v(g,c);return c.addEventListener("pointerleave",w),f.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",w),f.removeEventListener("pointerleave",x)}}},[c,f,v,p]),S.useEffect(()=>{if(o){const w=x=>{const g=x.target,_={x:x.clientX,y:x.clientY},T=(c==null?void 0:c.contains(g))||(f==null?void 0:f.contains(g)),P=!rVe(_,o);T?p():P&&(p(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,f,o,d,p]),a.jsx(FZ,{...t,ref:s})}),[YFe,QFe]=F_(i0,{isInside:!1}),XFe=VFe("TooltipContent"),FZ=S.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=H0(Om,r),d=V_(r),{onClose:f}=c;return S.useEffect(()=>(document.addEventListener(vk,f),()=>document.removeEventListener(vk,f)),[f]),S.useEffect(()=>{if(c.trigger){const m=p=>{const v=p.target;v!=null&&v.contains(c.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,f]),a.jsx(B1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:a.jsxs(nO,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(XFe,{children:n}),a.jsx(YFe,{scope:r,isInside:!0,children:a.jsx(qFe,{id:c.contentId,role:"tooltip",children:i||n})})]})})});$Z.displayName=Om;var VZ="TooltipArrow",JFe=S.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=V_(r);return QFe(VZ,r).isInside?null:a.jsx(iO,{...i,...n,ref:e})});JFe.displayName=VZ;function ZFe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function eVe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function tVe(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function rVe(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],d=l.x,f=l.y,m=c.x,p=c.y;f>n!=p>n&&r<(m-d)*(n-f)/(p-f)+d&&(i=!i)}return i}function nVe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),iVe(e)}function iVe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var sVe=RZ,aVe=MZ,oVe=DZ,lVe=LZ,BZ=$Z;const UU=sVe,zU=aVe,WU=oVe,bk=S.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(lVe,{children:a.jsx(BZ,{ref:n,sideOffset:e,className:bt("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));bk.displayName=BZ.displayName;function qi({title:t,options:e,selected:r,onChange:n,isUnlocked:i,unlockableItems:s=[],type:o="default"}){const l=c=>{const d=s.find(f=>f.id===c);return(d==null?void 0:d.requirement)||"Complete challenges to unlock"};return a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-800",children:t}),a.jsx("div",{className:"grid grid-cols-4 gap-3",children:e.map(c=>{const d=i(c.id),f=r===c.id;return o==="color"?a.jsx(UU,{children:a.jsxs(zU,{children:[a.jsx(WU,{asChild:!0,children:a.jsxs("button",{onClick:()=>d&&n(c.id),disabled:!d,className:`relative h-16 rounded-xl border-4 transition-all ${f?"border-purple-500 shadow-lg scale-110":"border-gray-200 hover:border-purple-300"} ${!d&&"opacity-50 cursor-not-allowed"}`,style:{backgroundColor:c.color},children:[!d&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-lg",children:a.jsx(ui,{className:"w-6 h-6 text-white"})}),f&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-purple-500 text-white rounded-full w-6 h-6 flex items-center justify-center",children:""})]})}),a.jsxs(bk,{children:[a.jsx("p",{className:"font-medium",children:c.label}),!d&&a.jsx("p",{className:"text-xs text-gray-400",children:l(c.id)})]})]})},c.id):a.jsx(UU,{children:a.jsxs(zU,{children:[a.jsx(WU,{asChild:!0,children:a.jsxs("button",{onClick:()=>d&&n(c.id),disabled:!d,className:`relative p-4 rounded-xl border-4 transition-all ${f?"border-purple-500 bg-purple-50 shadow-lg scale-105":"border-gray-200 bg-white hover:border-purple-300 hover:bg-purple-50"} ${!d&&"opacity-50 cursor-not-allowed"}`,children:[a.jsx("div",{className:"text-3xl mb-1",children:c.emoji}),a.jsx("div",{className:"text-xs font-medium text-gray-600 truncate",children:c.label}),!d&&a.jsx("div",{className:"absolute top-2 right-2 bg-gray-700 text-white rounded-full w-6 h-6 flex items-center justify-center",children:a.jsx(ui,{className:"w-3 h-3"})}),f&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-purple-500 text-white rounded-full w-7 h-7 flex items-center justify-center shadow-lg",children:""})]})}),a.jsxs(bk,{children:[a.jsx("p",{className:"font-medium",children:c.label}),!d&&a.jsx("p",{className:"text-xs text-gray-400",children:l(c.id)})]})]})},c.id)})})]})}function qZ(){var E,j,O;wn();const[t,e]=S.useState(!1),[r,n]=S.useState(!1),[i,s]=S.useState(null),[o,l]=S.useState(!0);S.useEffect(()=>{const R=Zg(Mt),L=J9(R,async $=>{if($){const F=or(Mt),G=await Uz(Ci(F,"users",$.uid));s({email:$.email,full_name:$.displayName,...G.exists()?G.data():{}})}else s(null);l(!1)});return()=>L()},[]);const[c,d]=S.useState([]);S.useEffect(()=>{if(!i)return;const R=or(Mt),L=Ta(In(R,"gameProgress"),li("user_email","==",i.email));Ii(L).then($=>{d($.docs.map(F=>F.data()))})},[i]);const[f,m]=S.useState({avatar_skin_tone:"medium",avatar_hair_style:"short",avatar_hair_color:"brown",avatar_eyes:"normal",avatar_face:"smile",avatar_shirt:"t_shirt_basic",avatar_pants:"jeans",avatar_shoes:"sneakers",avatar_hat:"none",avatar_glasses:"none",avatar_accessory:"none",avatar_background:"plain",pet_hat:"none",pet_accessory:"none",unlocked_items:["t_shirt_basic","jeans","sneakers","short","long","black","brown","blonde","normal","happy","light","medium","tan","dark","smile","big_smile","plain"],parent_email:""});S.useEffect(()=>{i&&m({avatar_skin_tone:i.avatar_skin_tone||"medium",avatar_hair_style:i.avatar_hair_style||"short",avatar_hair_color:i.avatar_hair_color||"brown",avatar_eyes:i.avatar_eyes||"normal",avatar_face:i.avatar_face||"smile",avatar_shirt:i.avatar_shirt||"t_shirt_basic",avatar_pants:i.avatar_pants||"jeans",avatar_shoes:i.avatar_shoes||"sneakers",avatar_hat:i.avatar_hat||"none",avatar_glasses:i.avatar_glasses||"none",avatar_accessory:i.avatar_accessory||"none",avatar_background:i.avatar_background||"plain",pet_hat:i.pet_hat||"none",pet_accessory:i.pet_accessory||"none",unlocked_items:i.unlocked_items||["t_shirt_basic","jeans","sneakers","short","long","black","brown","blonde","normal","happy","light","medium","tan","dark","smile","big_smile","plain"],parent_email:i.parent_email||""})},[i]);const p=async()=>{if(!i)return;const R=or(Mt);await bl(Ci(R,"users",i.email),{...i,...f},{merge:!0}),e(!0),setTimeout(()=>e(!1),3e3)},v=(R,L)=>{m($=>({...$,[R]:L}))},w=R=>(f.unlocked_items||[]).includes(R)||((i==null?void 0:i.purchased_items)||[]).includes(R),g=(()=>{const R=c.length,L=c.reduce((Y,J)=>Y+(J.stars_earned||0),0),$=c.some(Y=>Y.stars_earned===3),F=c.some(Y=>Y.correct_answers/Y.total_questions===1),G=c.some(Y=>Y.level==="hard"&&Y.stars_earned>=2),K=[];return R>=3&&!w("hoodie")&&K.push({item:"hoodie",reason:"Play 3 games",emoji:""}),R>=5&&!w("curly")&&K.push({item:"curly",reason:"Play 5 games",emoji:""}),R>=7&&!w("baseball_cap")&&K.push({item:"baseball_cap",reason:"Play 7 games",emoji:""}),R>=10&&!w("shorts")&&K.push({item:"shorts",reason:"Play 10 games",emoji:""}),R>=15&&!w("boots")&&K.push({item:"boots",reason:"Play 15 games",emoji:""}),L>=10&&!w("spiky")&&K.push({item:"spiky",reason:"Earn 10 stars",emoji:""}),L>=20&&!w("sunglasses")&&K.push({item:"sunglasses",reason:"Earn 20 stars",emoji:""}),L>=30&&!w("stars")&&K.push({item:"stars",reason:"Earn 30 stars",emoji:""}),$&&!w("star")&&K.push({item:"star",reason:"Get 3 stars in one game",emoji:""}),F&&!w("heart")&&K.push({item:"heart",reason:"Perfect score",emoji:""}),G&&!w("crown")&&K.push({item:"crown",reason:"Complete hard level",emoji:""}),K.slice(0,3)})(),_=i==null?void 0:i.active_pet,T=_?{id:_,name:_.charAt(0).toUpperCase()+_.slice(1),emoji:_==="dragon"?"":_==="owl"?"":_==="fox"?"":_==="unicorn"?"":"",gradient:_==="dragon"?"from-red-400 to-orange-500":_==="owl"?"from-indigo-400 to-purple-500":_==="fox"?"from-orange-400 to-red-500":"from-pink-400 to-purple-500"}:null,P=(i==null?void 0:i.subscription_tier)||"free",k=P!=="free",A=i!=null&&i.subscription_expires_at?new Date(i.subscription_expires_at):null,C=A?Math.ceil((A-new Date)/(1e3*60*60*24)):0;return o?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Loading your avatar..."})]})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-xl",children:a.jsx(kf,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Customize Your Avatar"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Express yourself with tons of options!"}),a.jsxs("div",{className:"mt-4 mx-auto max-w-sm",children:[a.jsx(ot,{className:"text-sm text-gray-600",children:"Display name"}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsx(rr,{value:(i==null?void 0:i.full_name)||"",onChange:async R=>{var K;const L=R.target.value,F=((K=Zg(Mt).currentUser)==null?void 0:K.uid)||i.email,G=or(Mt);await bl(Ci(G,"users",F),{full_name:L},{merge:!0}),s(Y=>({...Y,full_name:L}))},placeholder:"Your name"}),a.jsx(le,{variant:"outline",onClick:async()=>{alert("Name saved")},children:"Save"})]})]})]}),t&&a.jsxs(ze,{className:"mb-6 bg-green-50 border-green-200",children:[a.jsx(Xt,{className:"w-4 h-4 text-green-600"}),a.jsx(We,{className:"text-green-800",children:"Avatar saved successfully! "})]}),g.length>0&&a.jsxs(ze,{className:"mb-6 bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-300",children:[a.jsx(Xt,{className:"w-5 h-5 text-yellow-600"}),a.jsx(We,{className:"text-yellow-800",children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[a.jsxs("div",{children:[a.jsx("strong",{className:"text-lg",children:" New Items Unlocked!"}),a.jsx("div",{className:"flex gap-3 mt-2",children:g.map((R,L)=>a.jsxs(je,{className:"bg-yellow-500 text-white text-sm",children:[R.emoji," ",R.item.replace(/_/g," ")]},L))})]}),a.jsx(Kt,{to:Ge("Shop"),children:a.jsxs(le,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600",children:[a.jsx(il,{className:"w-4 h-4 mr-2"}),"Browse Shop"]})})]})})]}),k&&a.jsx(re,{className:"mb-8 border-4 border-yellow-400 shadow-xl bg-gradient-to-r from-yellow-50 to-orange-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(Si,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:P==="premium_parent"?"Premium Parent":P==="premium_player"?"Premium Player":"Family/Teacher Plan"}),a.jsxs(je,{className:"bg-green-500 text-white",children:[a.jsx(Wt,{className:"w-3 h-3 mr-1"}),"Active"]})]}),a.jsx("p",{className:"text-gray-600",children:A&&`Renews ${hr(A,"MMM d, yyyy")}  ${C} days left`})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(le,{variant:"outline",className:"h-12",onClick:()=>window.open(Ge("Subscription"),"_blank","noopener,noreferrer"),children:[a.jsx(F1,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]}),(i==null?void 0:i.subscription_auto_renew)!==!1&&a.jsxs(le,{variant:"destructive",onClick:()=>n(!0),className:"h-12",children:[a.jsx(zd,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})})}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(re,{className:"sticky top-24 border-4 border-purple-200 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Your Avatar"}),a.jsxs(je,{variant:"secondary",className:"bg-white text-purple-600",children:[(((E=f.unlocked_items)==null?void 0:E.length)||0)+(((j=i==null?void 0:i.purchased_items)==null?void 0:j.length)||0)," Items"]})]})}),a.jsxs(ne,{className:"p-8",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx(Cd,{avatarData:f,size:"large",showPet:!!_,petData:T})}),_&&a.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl",children:[a.jsxs("h4",{className:"font-bold mb-3 flex items-center gap-2",children:[a.jsx(Xt,{className:"w-4 h-4 text-purple-500"}),T.name,"'s Accessories"]}),a.jsx("div",{className:"flex justify-center gap-4",children:a.jsx(pO,{pet:T,experience:((O=i==null?void 0:i.pet_experience)==null?void 0:O[_])||0,size:"medium",showAccessories:!0,hatType:f.pet_hat,accessoryType:f.pet_accessory})})]}),a.jsxs(le,{onClick:p,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 h-12 text-lg",disabled:updateAvatarMutation.isPending,children:[a.jsx(Wb,{className:"w-5 h-5 mr-2"}),updateAvatarMutation.isPending?"Saving...":"Save Avatar"]}),a.jsx(Kt,{to:Ge("Shop"),children:a.jsxs(le,{variant:"outline",className:"w-full mt-3 h-12 border-2 border-purple-300 hover:bg-purple-50",children:[a.jsx(il,{className:"w-5 h-5 mr-2"}),"Get More Items"]})})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(re,{className:"border-2 border-purple-200 shadow-lg",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Xt,{className:"w-6 h-6 text-purple-500"}),"Customization Options"]})}),a.jsx(ne,{children:a.jsxs(hu,{defaultValue:"appearance",className:"w-full",children:[a.jsxs(Ol,{className:"grid w-full grid-cols-3 lg:grid-cols-6 mb-6",children:[a.jsxs(Pt,{value:"appearance",children:[a.jsx(Qpe,{className:"w-4 h-4 mr-1"}),"Face"]}),a.jsxs(Pt,{value:"hair",children:[a.jsx(Wd,{className:"w-4 h-4 mr-1"}),"Hair"]}),a.jsxs(Pt,{value:"clothing",children:[a.jsx(Upe,{className:"w-4 h-4 mr-1"}),"Clothing"]}),a.jsxs(Pt,{value:"footwear",children:[a.jsx(Ume,{className:"w-4 h-4 mr-1"}),"Shoes"]}),a.jsxs(Pt,{value:"accessories",children:[a.jsx(Kme,{className:"w-4 h-4 mr-1"}),"Access."]}),a.jsxs(Pt,{value:"pet",children:[a.jsx(Xt,{className:"w-4 h-4 mr-1"}),"Pet"]})]}),a.jsxs(Ft,{value:"appearance",className:"space-y-6",children:[a.jsx(qi,{title:"Skin Tone",options:[{id:"light",label:"Light",color:"#FFE0BD"},{id:"medium",label:"Medium",color:"#F4C89A"},{id:"tan",label:"Tan",color:"#D4A574"},{id:"dark",label:"Dark",color:"#8D5524"}],selected:f.avatar_skin_tone,onChange:R=>v("avatar_skin_tone",R),isUnlocked:()=>!0,type:"color"}),a.jsx(qi,{title:"Eyes",options:[{id:"normal",label:"Normal",emoji:""},{id:"happy",label:"Happy",emoji:""},{id:"cool",label:"Cool",emoji:""},{id:"star",label:"Star",emoji:""},{id:"heart",label:"Heart",emoji:""},{id:"sleepy",label:"Sleepy",emoji:""},{id:"angry",label:"Determined",emoji:""},{id:"surprised",label:"Surprised",emoji:""},{id:"wink",label:"Wink",emoji:""}],selected:f.avatar_eyes,onChange:R=>v("avatar_eyes",R),isUnlocked:w}),a.jsx(qi,{title:"Face Expression",options:[{id:"smile",label:"Smile",emoji:""},{id:"big_smile",label:"Big Smile",emoji:""},{id:"laughing",label:"Laughing",emoji:""},{id:"determined",label:"Determined",emoji:""},{id:"neutral",label:"Neutral",emoji:""},{id:"tongue_out",label:"Playful",emoji:""}],selected:f.avatar_face,onChange:R=>v("avatar_face",R),isUnlocked:w}),a.jsx(qi,{title:"Background",options:[{id:"plain",label:"Plain",emoji:""},{id:"stars",label:"Stars",emoji:""},{id:"rainbow",label:"Rainbow",emoji:""},{id:"clouds",label:"Clouds",emoji:""},{id:"space",label:"Space",emoji:""},{id:"underwater",label:"Underwater",emoji:""},{id:"forest",label:"Forest",emoji:""},{id:"city",label:"City",emoji:""},{id:"beach",label:"Beach",emoji:""}],selected:f.avatar_background,onChange:R=>v("avatar_background",R),isUnlocked:w})]}),a.jsxs(Ft,{value:"hair",className:"space-y-6",children:[a.jsx(qi,{title:"Hair Style",options:[{id:"short",label:"Short",emoji:""},{id:"long",label:"Long",emoji:""},{id:"curly",label:"Curly",emoji:""},{id:"spiky",label:"Spiky",emoji:""},{id:"bald",label:"Bald",emoji:""},{id:"ponytail",label:"Ponytail",emoji:""},{id:"braids",label:"Braids",emoji:""},{id:"afro",label:"Afro",emoji:""},{id:"mohawk",label:"Mohawk",emoji:""},{id:"bun",label:"Bun",emoji:""}],selected:f.avatar_hair_style,onChange:R=>v("avatar_hair_style",R),isUnlocked:w}),a.jsx(qi,{title:"Hair Color",options:[{id:"black",label:"Black",color:"#000000"},{id:"brown",label:"Brown",color:"#8B4513"},{id:"blonde",label:"Blonde",color:"#FFD700"},{id:"red",label:"Red",color:"#DC143C"},{id:"blue",label:"Blue",color:"#4169E1"},{id:"pink",label:"Pink",color:"#FF69B4"},{id:"purple",label:"Purple",color:"#9370DB"},{id:"green",label:"Green",color:"#32CD32"},{id:"orange",label:"Orange",color:"#FF8C00"},{id:"white",label:"White",color:"#F5F5F5"},{id:"rainbow",label:"Rainbow",emoji:""}],selected:f.avatar_hair_color,onChange:R=>v("avatar_hair_color",R),isUnlocked:w,type:"color"})]}),a.jsxs(Ft,{value:"clothing",className:"space-y-6",children:[a.jsx(qi,{title:"Shirts & Tops",options:[{id:"t_shirt_basic",label:"Basic Tee",emoji:""},{id:"t_shirt_stripe",label:"Striped Tee",emoji:""},{id:"polo",label:"Polo Shirt",emoji:""},{id:"hoodie",label:"Hoodie",emoji:""},{id:"tank_top",label:"Tank Top",emoji:""},{id:"sweater",label:"Sweater",emoji:""},{id:"jersey",label:"Jersey",emoji:""},{id:"button_up",label:"Button Up",emoji:""},{id:"graphic_tee",label:"Graphic Tee",emoji:""}],selected:f.avatar_shirt,onChange:R=>v("avatar_shirt",R),isUnlocked:w}),a.jsx(qi,{title:"Pants & Bottoms",options:[{id:"jeans",label:"Jeans",emoji:""},{id:"shorts",label:"Shorts",emoji:""},{id:"skirt",label:"Skirt",emoji:""},{id:"dress_pants",label:"Dress Pants",emoji:""},{id:"joggers",label:"Joggers",emoji:""},{id:"overalls",label:"Overalls",emoji:""},{id:"leggings",label:"Leggings",emoji:""},{id:"cargo_pants",label:"Cargo Pants",emoji:""}],selected:f.avatar_pants,onChange:R=>v("avatar_pants",R),isUnlocked:w})]}),a.jsx(Ft,{value:"footwear",className:"space-y-6",children:a.jsx(qi,{title:"Shoes",options:[{id:"sneakers",label:"Sneakers",emoji:""},{id:"boots",label:"Boots",emoji:""},{id:"sandals",label:"Sandals",emoji:""},{id:"dress_shoes",label:"Dress Shoes",emoji:""},{id:"high_tops",label:"High Tops",emoji:""},{id:"cleats",label:"Cleats",emoji:""},{id:"slippers",label:"Slippers",emoji:""},{id:"bare_feet",label:"Bare Feet",emoji:""}],selected:f.avatar_shoes,onChange:R=>v("avatar_shoes",R),isUnlocked:w})}),a.jsxs(Ft,{value:"accessories",className:"space-y-6",children:[a.jsx(qi,{title:"Hats & Headwear",options:[{id:"none",label:"None",emoji:""},{id:"baseball_cap",label:"Baseball Cap",emoji:""},{id:"beanie",label:"Beanie",emoji:""},{id:"sun_hat",label:"Sun Hat",emoji:""},{id:"wizard_hat",label:"Wizard Hat",emoji:""},{id:"party_hat",label:"Party Hat",emoji:""},{id:"graduation_cap",label:"Graduation Cap",emoji:""},{id:"crown",label:"Crown",emoji:""},{id:"top_hat",label:"Top Hat",emoji:""},{id:"cowboy_hat",label:"Cowboy Hat",emoji:""}],selected:f.avatar_hat,onChange:R=>v("avatar_hat",R),isUnlocked:w}),a.jsx(qi,{title:"Glasses & Eyewear",options:[{id:"none",label:"None",emoji:""},{id:"regular",label:"Regular",emoji:""},{id:"sunglasses",label:"Sunglasses",emoji:""},{id:"reading",label:"Reading",emoji:""},{id:"safety_goggles",label:"Safety Goggles",emoji:""},{id:"3d_glasses",label:"3D Glasses",emoji:""},{id:"heart_shaped",label:"Heart Glasses",emoji:""},{id:"star_shaped",label:"Star Glasses",emoji:""}],selected:f.avatar_glasses,onChange:R=>v("avatar_glasses",R),isUnlocked:w}),a.jsx(qi,{title:"Other Accessories",options:[{id:"none",label:"None",emoji:""},{id:"backpack",label:"Backpack",emoji:""},{id:"cape",label:"Cape",emoji:""},{id:"scarf",label:"Scarf",emoji:""},{id:"bow_tie",label:"Bow Tie",emoji:""},{id:"necklace",label:"Necklace",emoji:""},{id:"watch",label:"Watch",emoji:""},{id:"headphones",label:"Headphones",emoji:""},{id:"earrings",label:"Earrings",emoji:""},{id:"bracelet",label:"Bracelet",emoji:""}],selected:f.avatar_accessory,onChange:R=>v("avatar_accessory",R),isUnlocked:w})]}),a.jsx(Ft,{value:"pet",className:"space-y-6",children:_?a.jsxs(a.Fragment,{children:[a.jsxs(ze,{className:"bg-purple-50 border-purple-300",children:[a.jsx(Xt,{className:"w-4 h-4 text-purple-600"}),a.jsxs(We,{className:"text-purple-800",children:[a.jsxs("strong",{children:["Dress up your ",T.name,"!"]})," Customize your pet's look with hats and accessories."]})]}),a.jsx(qi,{title:"Pet Hats",options:[{id:"none",label:"None",emoji:""},{id:"tiny_cap",label:"Tiny Cap",emoji:""},{id:"bow",label:"Bow",emoji:""},{id:"crown",label:"Crown",emoji:""},{id:"santa_hat",label:"Santa Hat",emoji:""},{id:"party_hat",label:"Party Hat",emoji:""}],selected:f.pet_hat,onChange:R=>v("pet_hat",R),isUnlocked:w}),a.jsx(qi,{title:"Pet Accessories",options:[{id:"none",label:"None",emoji:""},{id:"collar",label:"Collar",emoji:""},{id:"bow_tie",label:"Bow Tie",emoji:""},{id:"bandana",label:"Bandana",emoji:""},{id:"scarf",label:"Scarf",emoji:""},{id:"wings",label:"Wings",emoji:""},{id:"cape",label:"Cape",emoji:""}],selected:f.pet_accessory,onChange:R=>v("pet_accessory",R),isUnlocked:w})]}):a.jsx(re,{className:"text-center py-12",children:a.jsxs(ne,{children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No Pet Yet!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Get a pet from the shop to customize it!"}),a.jsx(Kt,{to:Ge("Shop"),children:a.jsxs(le,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(il,{className:"w-5 h-5 mr-2"}),"Visit Shop"]})})]})})})]})})]})})]}),a.jsxs(re,{className:"mt-8 border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(bn,{className:"w-6 h-6 text-blue-600"}),"Parent/Teacher Access"]})}),a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-600",children:"Allow a parent or teacher to monitor your progress and help you set learning goals."}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"parent_email",children:"Parent/Teacher Email"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(rr,{id:"parent_email",type:"email",value:f.parent_email||"",onChange:R=>v("parent_email",R.target.value),placeholder:"parent@example.com"}),a.jsx(le,{onClick:()=>updateAvatarMutation.mutate({parent_email:f.parent_email}),disabled:updateAvatarMutation.isPending,children:"Save"})]}),(i==null?void 0:i.parent_email)&&a.jsxs("p",{className:"text-sm text-green-600",children:[" Linked to: ",i.parent_email]})]})]})})]}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(re,{className:"max-w-md w-full border-4 border-red-300",children:[a.jsx(_e,{className:"bg-red-50",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-red-700",children:[a.jsx(Gn,{className:"w-6 h-6"}),"Cancel Subscription?"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"Are you sure you want to cancel your subscription?"}),a.jsxs(ze,{className:"bg-yellow-50 border-yellow-300",children:[a.jsx(Gn,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(We,{className:"text-yellow-800 text-sm",children:["You'll lose access to premium features when your current billing period ends on ",A?hr(A,"MMMM d, yyyy"):"the end date","."]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(le,{variant:"outline",className:"flex-1",onClick:()=>n(!1),children:"Keep Subscription"}),a.jsx(le,{variant:"destructive",className:"flex-1",onClick:()=>cancelSubscriptionMutation.mutate(),disabled:cancelSubscriptionMutation.isPending,children:cancelSubscriptionMutation.isPending?"Cancelling...":"Yes, Cancel"})]})]})]})})]})}function HU({todaysChallenges:t,currentUser:e}){const r=[...t].sort((l,c)=>c.score!==l.score?c.score-l.score:l.time_taken-c.time_taken),n=r.slice(0,10),i=r.findIndex(l=>l.created_by===(e==null?void 0:e.email))+1,s=l=>l===1?a.jsx(It,{className:"w-6 h-6 text-yellow-500 fill-yellow-500"}):l===2?a.jsx(Mg,{className:"w-6 h-6 text-gray-400 fill-gray-400"}):l===3?a.jsx(Mg,{className:"w-6 h-6 text-amber-600 fill-amber-600"}):a.jsxs("span",{className:"w-6 h-6 flex items-center justify-center font-bold text-gray-500",children:["#",l]}),o=l=>l===1?"from-yellow-100 to-yellow-200 border-yellow-300":l===2?"from-gray-100 to-gray-200 border-gray-300":l===3?"from-amber-100 to-amber-200 border-amber-300":"from-white to-gray-50 border-gray-200";return a.jsxs(re,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Qn,{className:"w-6 h-6 text-purple-600"}),"Today's Leaderboard",i>0&&a.jsxs(je,{variant:"outline",className:"ml-auto bg-white",children:["You're #",i]})]})}),a.jsx(ne,{className:"p-6",children:n.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(It,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"Be the first to complete today's challenge!"})]}):a.jsx("div",{className:"space-y-2",children:n.map((l,c)=>{var p;const d=c+1,f=l.created_by===(e==null?void 0:e.email),m=Math.round(l.correct_answers/l.total_questions*100);return a.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all ${f?"bg-gradient-to-r from-purple-100 to-pink-100 border-purple-300 shadow-md":`bg-gradient-to-r ${o(d)} border`}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[s(d),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-bold",children:f?"You":((p=l.created_by)==null?void 0:p.split("@")[0])||"Player"}),f&&a.jsx(je,{className:"bg-purple-500 text-white",children:"You"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(It,{className:"w-4 h-4"}),l.score," pts"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Jt,{className:"w-4 h-4"}),m,"%"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(_r,{className:"w-4 h-4"}),l.time_taken,"s"]})]})]})]}),l.bonus_stars>0&&a.jsxs(je,{className:"bg-yellow-500 text-white",children:["+",l.bonus_stars," "]})]},c)})})})]})}const GU=(t,e="standard_mixed")=>{const r=new Date(t).getTime(),n=(o,l,c=0)=>{const d=Math.sin(r+o+l+c)*1e4;return Math.floor((d-Math.floor(d))*(l-o+1))+o};return({standard_mixed:KU,speed_round:cVe,accuracy_focus:uVe,concept_mastery:dVe,word_problem_day:hVe,brain_teaser:fVe,grade_level_challenge:mVe,streak_builder:pVe}[e]||KU)(n,r)};function KU(t,e){const r=["addition","subtraction","multiplication","division"],n=[];for(let i=0;i<15;i++){const s=r[t(0,r.length-1,i)],o=i<5?"easy":i<10?"medium":"hard";n.push(Ks(s,o))}return{questions:n,objective:"Complete 15 mixed math problems across different difficulties",bonusTarget:{accuracy:90,time:180},totalQuestions:15,challengeType:"standard_mixed",concepts:r,description:"Test your skills across all four operations with increasing difficulty!"}}function cVe(t,e){const r=["addition","multiplication"],n=[];for(let i=0;i<20;i++){const s=r[t(0,1,i)];n.push(Ks(s,"easy"))}return{questions:n,objective:"Answer 20 quick-fire questions as fast as possible!",bonusTarget:{accuracy:85,time:120},totalQuestions:20,challengeType:"speed_round",concepts:r,description:"Race against the clock! Can you finish in under 2 minutes?",timeLimit:120}}function uVe(t,e){const r=["multiplication","division","fractions"],n=[];for(let i=0;i<12;i++){const s=r[t(0,r.length-1,i)],o=i<4?"medium":i<8?"hard":"expert";n.push(Ks(s,o))}return{questions:n,objective:"Achieve perfect or near-perfect accuracy on challenging problems",bonusTarget:{accuracy:95,time:300},totalQuestions:12,challengeType:"accuracy_focus",concepts:r,description:"Take your time and aim for perfection! Accuracy is key today."}}function dVe(t,e){const r=["fractions","decimals","percentages","word_problems","geometry"],n=r[t(0,r.length-1,0)],i=[];for(let s=0;s<15;s++){const o=s<5?"easy":s<10?"medium":"hard";i.push(Ks(n,o))}return{questions:i,objective:`Master ${n} today!`,bonusTarget:{accuracy:88,time:240},totalQuestions:15,challengeType:"concept_mastery",concepts:[n],description:`Deep dive into ${n}! Build your expertise with focused practice.`,focusConcept:n}}function hVe(t,e){const r=[];for(let n=0;n<10;n++){const i=n<3?"easy":n<7?"medium":"hard";r.push(Ks("word_problems",i))}return{questions:r,objective:"Solve real-world math problems",bonusTarget:{accuracy:85,time:300},totalQuestions:10,challengeType:"word_problem_day",concepts:["word_problems"],description:"Apply math to real life! Read carefully and solve each scenario."}}function fVe(t,e){const r=[],n=["fractions","decimals","percentages","geometry","mixed"];for(let i=0;i<12;i++){const s=n[t(0,n.length-1,i)];r.push(Ks(s,"hard"))}return{questions:r,objective:"Crack today's brain teasers!",bonusTarget:{accuracy:80,time:360},totalQuestions:12,challengeType:"brain_teaser",concepts:n,description:"Think outside the box! These tricky problems will challenge your mind."}}function mVe(t,e){const r=["1","2","3","4","5","6","7","8"],n=r[t(0,r.length-1,0)],s={1:["addition","subtraction"],2:["addition","subtraction","time","money"],3:["multiplication","division","fractions"],4:["multiplication","division","fractions","decimals"],5:["decimals","fractions","percentages"],6:["percentages","fractions","decimals","geometry"],7:["percentages","geometry","mixed"],8:["mixed","geometry","percentages"]}[n]||["addition","subtraction"],o=[];for(let l=0;l<15;l++){const c=s[t(0,s.length-1,l)],d=l<5?"easy":l<10?"medium":"hard";o.push(Ks(c,d))}return{questions:o,objective:`Complete Grade ${n} Challenge`,bonusTarget:{accuracy:87,time:240},totalQuestions:15,challengeType:"grade_level_challenge",concepts:s,description:`Master Grade ${n} math skills! Perfect for students at this level.`,gradeLevel:n}}function pVe(t,e){const r=["addition","subtraction","multiplication"],n=[];for(let i=0;i<18;i++){const s=r[t(0,r.length-1,i)],o=i<6||i<12?"easy":"medium";n.push(Ks(s,o))}return{questions:n,objective:"Build your daily streak! Complete for bonus rewards.",bonusTarget:{accuracy:85,time:200},totalQuestions:18,challengeType:"streak_builder",concepts:r,description:"Keep your streak alive! Designed to be completable for all skill levels.",streakFocus:!0}}const gVe=(t,e,r,n)=>{const{bonusTarget:i,challengeType:s}=t;let o=0,l=0,c=!1,d=!1;return e>=95?(o=3,c=!0):e>=85?o=2:e>=70&&(o=1),i&&r<=i.time&&(o+=1,l+=20,d=!0),n&&n>=3&&(o+=1,l+=10*Math.min(n,10)),s==="speed_round"&&d&&(l+=30),s==="accuracy_focus"&&c&&(l+=40),s==="brain_teaser"&&e>=80&&(o+=1,l+=25),{bonusStars:Math.min(o,5),bonusCoins:l,perfectScoreBonus:c,speedBonus:d}};function UZ(){var W,ee,de;const t=yu(),e=wn(),[r,n]=S.useState(0),[i,s]=S.useState(null),[o,l]=S.useState([]),[c,d]=S.useState(0),[f,m]=S.useState(!1),[p,v]=S.useState(Date.now()),[w,x]=S.useState(!1),[g,_]=S.useState(0),[T,P]=S.useState(!1),k=hr(Ki(new Date),"yyyy-MM-dd"),C=(()=>{const ce=new Date().getDay();return["streak_builder","standard_mixed","speed_round","concept_mastery","accuracy_focus","word_problem_day","brain_teaser"][ce]})(),{data:E}=ft({queryKey:["currentUser"],queryFn:async()=>(or(Mt),null)}),{data:j=[]}=ft({queryKey:["dailyChallenges",k],queryFn:async()=>{const ce=or(Mt),be=Ta(In(ce,"dailyChallenges"),li("challenge_date","==",k));return(await Ii(be)).docs.map(pe=>pe.data())},initialData:[]}),{data:O=[]}=ft({queryKey:["userDailyChallenges"],queryFn:async()=>{const ce=or(Mt);if(!(E!=null&&E.email))return[];const be=Ta(In(ce,"dailyChallenges"),li("created_by","==",E.email));return(await Ii(be)).docs.map(pe=>pe.data())},initialData:[],enabled:!!E}),R=j.some(ce=>ce.created_by===(E==null?void 0:E.email)),$=(()=>{if(O.length===0)return 0;const ce=[...O].sort((pe,Ie)=>new Date(Ie.challenge_date)-new Date(pe.challenge_date));let be=0,ye=Ki(new Date);for(const pe of ce){const Ie=Ki(new Date(pe.challenge_date));if(Math.floor((ye-Ie)/(1e3*60*60*24))===be)be++;else break}return be})();S.useEffect(()=>{if(!f&&T){const ce=setInterval(()=>{_(Math.floor((Date.now()-p)/1e3))},1e3);return()=>clearInterval(ce)}},[p,f,T]);const F=Pr({mutationFn:ce=>base44.entities.DailyChallenge.create(ce),onSuccess:(ce,be)=>{e.invalidateQueries({queryKey:["dailyChallenges"]}),e.invalidateQueries({queryKey:["userDailyChallenges"]}),e.invalidateQueries({queryKey:["currentUser"]});const ye=be.bonus_coins||0,pe=((E==null?void 0:E.coins)||0)+ye;base44.auth.updateMe({coins:pe})}}),G=()=>{const ce=GU(k,C);s(ce),v(Date.now()),P(!0)},K=ce=>{const be=ce===i.questions[r].answer;if(l([...o,{question:r,correct:be}]),be&&(d(c+10),x(!0),setTimeout(()=>x(!1),1e3)),r<i.totalQuestions-1)setTimeout(()=>{n(r+1)},500);else{const ye=Math.floor((Date.now()-p)/1e3),pe=o.filter(Re=>Re.correct).length+(be?1:0),Ie=c+(be?10:0),me=pe/i.totalQuestions*100,Pe=gVe(i,me,ye,$);F.mutate({challenge_date:k,challenge_type:C,score:Ie,correct_answers:pe,total_questions:i.totalQuestions,time_taken:ye,bonus_stars:Pe.bonusStars,bonus_coins:Pe.bonusCoins,streak_bonus:$>=3,perfect_score_bonus:Pe.perfectScoreBonus,speed_bonus:Pe.speedBonus,challenge_objective:i.objective,concepts_covered:i.concepts}),setTimeout(()=>{m(!0)},500)}},Y=ce=>({standard_mixed:Hr,speed_round:Wn,accuracy_focus:Jt,concept_mastery:yn,word_problem_day:Qn,brain_teaser:It,grade_level_challenge:Qn,streak_builder:ff})[ce]||Hr,J=ce=>({standard_mixed:"from-purple-500 to-pink-500",speed_round:"from-yellow-500 to-orange-500",accuracy_focus:"from-green-500 to-emerald-500",concept_mastery:"from-blue-500 to-cyan-500",word_problem_day:"from-indigo-500 to-purple-500",brain_teaser:"from-red-500 to-pink-500",grade_level_challenge:"from-teal-500 to-cyan-500",streak_builder:"from-orange-500 to-red-500"})[ce]||"from-purple-500 to-pink-500",U=Y(C),X=J(C);if(!T)return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs(le,{variant:"outline",onClick:()=>t(Ge("Home")),className:"mb-6 gap-2",children:[a.jsx(Ad,{className:"w-4 h-4"}),"Back"]}),R?a.jsxs(re,{className:"border-4 border-green-300 shadow-2xl",children:[a.jsxs(_e,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white text-center py-8",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx(Ne,{className:"text-3xl",children:"Challenge Complete!"}),a.jsx("p",{className:"text-lg mt-2 opacity-90",children:"You've already completed today's challenge"})]}),a.jsxs(ne,{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Your Results Today"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl",children:[a.jsx(It,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),a.jsx("div",{className:"text-2xl font-bold",children:(W=j.find(ce=>ce.created_by===(E==null?void 0:E.email)))==null?void 0:W.score}),a.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-xl",children:[a.jsx(Tt,{className:"w-8 h-8 mx-auto mb-2 text-yellow-500"}),a.jsx("div",{className:"text-2xl font-bold",children:(ee=j.find(ce=>ce.created_by===(E==null?void 0:E.email)))==null?void 0:ee.bonus_stars}),a.jsx("div",{className:"text-sm text-gray-600",children:"Bonus Stars"})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl",children:[a.jsx(_r,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),a.jsxs("div",{className:"text-2xl font-bold",children:[(de=j.find(ce=>ce.created_by===(E==null?void 0:E.email)))==null?void 0:de.time_taken,"s"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Time"})]})]})]}),a.jsx(HU,{todaysChallenges:j,currentUser:E}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"Come back tomorrow for a new challenge!"}),a.jsx(le,{onClick:()=>t(Ge("Home")),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:"Back to Home"})]})]})]}):a.jsxs(re,{className:"border-4 border-purple-300 shadow-2xl",children:[a.jsxs(_e,{className:`bg-gradient-to-r ${X} text-white text-center py-12`,children:[a.jsx("div",{className:"text-7xl mb-4",children:a.jsx(U,{className:"w-20 h-20 mx-auto"})}),a.jsx(Ne,{className:"text-4xl mb-2",children:C.split("_").map(ce=>ce.charAt(0).toUpperCase()+ce.slice(1)).join(" ")}),a.jsx("p",{className:"text-xl opacity-90",children:hr(new Date,"MMMM d, yyyy")})]}),a.jsx(ne,{className:"p-8 space-y-6",children:(()=>{const ce=GU(k,C);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl border-2 border-blue-200",children:[a.jsxs("h3",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[a.jsx(Jt,{className:"w-6 h-6 text-blue-600"}),"Today's Objective"]}),a.jsx("p",{className:"text-lg text-gray-700",children:ce.objective}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:ce.description})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-xl border-2 border-yellow-200",children:[a.jsx(Tt,{className:"w-12 h-12 text-yellow-500 mb-3"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Bonus Rewards"}),a.jsx("p",{className:"text-gray-600",children:"Up to 5 bonus stars & extra coins!"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-xl border-2 border-orange-200",children:[a.jsx(ff,{className:"w-12 h-12 text-orange-500 mb-3"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Current Streak"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[$," ",$===1?"Day":"Days"]}),$>=3&&a.jsx(je,{className:"mt-2 bg-orange-500",children:"+1 Bonus Star!"})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-xl border-2 border-purple-200",children:[a.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2",children:[a.jsx(Qn,{className:"w-5 h-5 text-purple-600"}),"Challenge Details"]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Questions:"})," ",ce.totalQuestions]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Concepts:"})," ",ce.concepts.join(", ")]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Players Today:"})," ",j.length]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border-2 border-green-200",children:[a.jsxs("h3",{className:"font-bold text-lg mb-3 flex items-center gap-2",children:[a.jsx(Wt,{className:"w-5 h-5 text-green-600"}),"How to Earn Bonus Rewards"]}),a.jsxs("ul",{className:"space-y-2 text-gray-700",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Tt,{className:"w-4 h-4 text-yellow-500"}),"70%+ accuracy: 1 bonus star"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Tt,{className:"w-4 h-4 text-yellow-500"}),"85%+ accuracy: 2 bonus stars"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Tt,{className:"w-4 h-4 text-yellow-500"}),"95%+ accuracy: 3 bonus stars"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Wn,{className:"w-4 h-4 text-orange-500"}),"Complete quickly: +1 star & coins"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(ff,{className:"w-4 h-4 text-orange-500"}),"3+ day streak: +1 extra star & coins"]})]})]}),a.jsx(le,{onClick:G,className:`w-full h-16 text-xl bg-gradient-to-r ${X} hover:opacity-90 shadow-lg`,children:"Start Today's Challenge"})]})})()})]})]});if(f){const ce=o.filter(ye=>ye.correct).length;ce/i.totalQuestions*100;const be=j.find(ye=>ye.created_by===(E==null?void 0:E.email));return a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsxs(re,{className:"border-4 border-yellow-300 shadow-2xl",children:[a.jsxs("div",{className:`bg-gradient-to-r ${X} py-12 text-white text-center`,children:[a.jsx("div",{className:"text-8xl mb-4",children:""}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:"Challenge Complete!"}),a.jsx("p",{className:"text-xl",children:"Great job on today's challenge!"})]}),a.jsxs(ne,{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[a.jsx(It,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),a.jsx("div",{className:"text-3xl font-bold text-purple-600",children:c}),a.jsx("div",{className:"text-sm text-gray-600",children:"Score"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[a.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[ce,"/",i.totalQuestions]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Correct"})]}),a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[a.jsx(_r,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),a.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[g,"s"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Time"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-xl",children:[a.jsx(Tt,{className:"w-8 h-8 mx-auto mb-2 text-yellow-500 fill-yellow-500"}),a.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:(be==null?void 0:be.bonus_stars)||0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Bonus Stars"})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[(be==null?void 0:be.perfect_score_bonus)&&a.jsxs(je,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 text-base",children:[a.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Perfect Score Bonus!"]}),(be==null?void 0:be.speed_bonus)&&a.jsxs(je,{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-4 py-2 text-base",children:[a.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Speed Bonus!"]}),(be==null?void 0:be.streak_bonus)&&a.jsxs(je,{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 text-base",children:[a.jsx(ff,{className:"w-4 h-4 mr-2"}),"Streak Bonus! (",$," days)"]})]}),(be==null?void 0:be.bonus_coins)>0&&a.jsx("div",{className:"bg-gradient-to-r from-cyan-100 to-blue-100 p-4 rounded-xl border-2 border-cyan-300 text-center",children:a.jsxs("p",{className:"font-bold text-lg",children:["Earned ",be.bonus_coins," Bonus Coins! "]})}),a.jsx(HU,{todaysChallenges:j,currentUser:E}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs(le,{variant:"outline",className:"flex-1 h-14 text-lg gap-2",onClick:()=>t(Ge("Home")),children:[a.jsx(Ad,{className:"w-5 h-5"}),"Back Home"]}),a.jsxs(le,{className:`flex-1 h-14 text-lg bg-gradient-to-r ${X} hover:opacity-90 gap-2`,onClick:()=>t(Ge("Progress")),children:[a.jsx(It,{className:"w-5 h-5"}),"View Progress"]})]})]})]})})}const ie=(r+1)/i.totalQuestions*100;return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[w&&a.jsx(DY,{}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs(je,{variant:"outline",className:"text-lg px-4 py-2",children:[a.jsx(U,{className:"w-5 h-5 mr-2"}),C.split("_").map(ce=>ce.charAt(0).toUpperCase()+ce.slice(1)).join(" ")]}),a.jsxs("div",{className:"flex items-center gap-4",children:[(i==null?void 0:i.timeLimit)&&a.jsxs(je,{variant:g>i.timeLimit?"destructive":"outline",className:"text-lg px-4 py-2",children:[a.jsx(_r,{className:"w-5 h-5 mr-2"}),g,"s / ",i.timeLimit,"s"]}),!(i!=null&&i.timeLimit)&&a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-md",children:[a.jsx(_r,{className:"w-5 h-5 text-blue-500"}),a.jsxs("span",{className:"font-bold text-gray-800",children:[g,"s"]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-md",children:[a.jsx(It,{className:"w-5 h-5 text-yellow-500"}),a.jsx("span",{className:"font-bold text-gray-800",children:c})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Question ",r+1," of ",i.totalQuestions]}),a.jsxs("span",{children:[Math.round(ie),"%"]})]}),a.jsx(Sl,{value:ie,className:"h-3"})]})]}),i&&i.questions.length>0&&a.jsx(MY,{question:i.questions[r],onAnswer:K,questionNumber:r+1})]})}function yVe({myChildren:t,selectedChildEmail:e,onSelectChild:r,currentUserEmail:n}){return a.jsx(re,{className:"border-2 border-purple-200 shadow-lg",children:a.jsxs(ne,{className:"p-6",children:[a.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(kf,{className:"w-6 h-6 text-purple-500"}),"Select Child"]}),t.length===0?a.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[a.jsx("p",{className:"text-gray-600",children:"No children linked to your account yet."}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Children can link their account to yours in their settings."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(i=>{const s=i.email===e,o={avatar_skin_tone:i.avatar_skin_tone||"medium",avatar_hair_style:i.avatar_hair_style||"short",avatar_hair_color:i.avatar_hair_color||"brown",avatar_eyes:i.avatar_eyes||"normal",avatar_outfit:i.avatar_outfit||"casual",avatar_accessory:i.avatar_accessory||"none"};return a.jsxs("button",{onClick:()=>r(i.email),className:`p-4 rounded-xl border-2 transition-all text-center ${s?"border-purple-500 bg-purple-50 shadow-lg scale-105":"border-gray-200 bg-white hover:border-purple-300 hover:bg-purple-50"}`,children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx(Cd,{avatarData:o,size:"medium"})}),a.jsx("h3",{className:"font-bold text-lg truncate",children:i.child_name||i.full_name||i.email.split("@")[0]}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:i.email}),s&&a.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 text-purple-600 text-sm font-medium",children:["Selected ",a.jsx(qI,{className:"w-4 h-4"})]})]},i.email)})})]})})}function vVe({childProgress:t,childDailyChallenges:e,selectedChild:r}){const{data:n}=ft({queryKey:["currentUser"],queryFn:async()=>{const p=or(Mt),v=await Uz(Ci(p,"users","USER_ID"));return v.exists()?v.data():null}}),{data:i=0}=ft({queryKey:["unreadChildReplies",r==null?void 0:r.email],queryFn:async()=>{const p=or(Mt),v=Ta(In(p,"messages"),li("parent_email","==",n==null?void 0:n.email),li("child_email","==",r==null?void 0:r.email),li("message_type","==","response"),li("parent_read","==",!1));return(await Ii(v)).size},initialData:0,enabled:!!(n!=null&&n.email)&&!!(r!=null&&r.email)}),s=t.length,o=t.reduce((p,v)=>p+(v.stars_earned||0),0),l=t.reduce((p,v)=>p+(v.correct_answers||0),0),c=t.reduce((p,v)=>p+(v.total_questions||0),0),d=c>0?(l/c*100).toFixed(1):0,f=e.length,m=t.length>0?t[0].created_date:null;return a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(re,{className:"border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(It,{className:"w-5 h-5 text-blue-600"}),"Total Games"]})}),a.jsxs(ne,{className:"p-4",children:[a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:s}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m&&`Last: ${hr(new Date(m),"MMM d")}`})]})]}),a.jsxs(re,{className:"border-2 border-yellow-200",children:[a.jsx(_e,{className:"bg-yellow-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(Tt,{className:"w-5 h-5 text-yellow-600"}),"Total Stars"]})}),a.jsxs(ne,{className:"p-4",children:[a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:o}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Avg: ",s>0?(o/s).toFixed(1):0," per game"]})]})]}),a.jsxs(re,{className:"border-2 border-green-200",children:[a.jsx(_e,{className:"bg-green-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(Wt,{className:"w-5 h-5 text-green-600"}),"Accuracy"]})}),a.jsxs(ne,{className:"p-4",children:[a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[d,"%"]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[l," / ",c," correct"]})]})]}),a.jsxs(re,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(Hr,{className:"w-5 h-5 text-purple-600"}),"Daily Challenges"]})}),a.jsxs(ne,{className:"p-4",children:[a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:f}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"completed"})]})]}),a.jsxs(re,{className:"border-2 border-pink-200 md:col-span-2 lg:col-span-1",children:[a.jsx(_e,{className:"bg-pink-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(Pc,{className:"w-5 h-5 text-pink-600"}),"Messages",i>0&&a.jsxs(je,{className:"bg-pink-500 text-white animate-pulse ml-auto",children:[i," New"]})]})}),a.jsxs(ne,{className:"p-4",children:[a.jsx("p",{className:"text-3xl font-bold text-pink-600",children:i}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"unread replies"})]})]})]})}function xVe({childProgress:t,childDailyChallenges:e}){const r=()=>{const m={addition:{total:0,correct:0,games:0},subtraction:{total:0,correct:0,games:0},multiplication:{total:0,correct:0,games:0},division:{total:0,correct:0,games:0}};return t.forEach(p=>{m[p.operation]&&(m[p.operation].games++,m[p.operation].total+=p.total_questions,m[p.operation].correct+=p.correct_answers)}),Object.entries(m).map(([p,v])=>({operation:p.charAt(0).toUpperCase()+p.slice(1),accuracy:v.total>0?Math.round(v.correct/v.total*100):0,games:v.games}))},n=()=>{const m={easy:{total:0,correct:0,games:0},medium:{total:0,correct:0,games:0},hard:{total:0,correct:0,games:0}};return t.forEach(p=>{m[p.level]&&(m[p.level].games++,m[p.level].total+=p.total_questions,m[p.level].correct+=p.correct_answers)}),Object.entries(m).map(([p,v])=>({level:p.charAt(0).toUpperCase()+p.slice(1),accuracy:v.total>0?Math.round(v.correct/v.total*100):0,games:v.games}))},i=()=>t.slice(0,10).reverse().map((p,v)=>({game:`Game ${v+1}`,accuracy:Math.round(p.correct_answers/p.total_questions*100),score:p.score})),s=()=>{const p=[...r()].sort((x,g)=>g.accuracy-x.accuracy),v=p.slice(0,2).filter(x=>x.accuracy>=70),w=p.slice(-2).filter(x=>x.accuracy<70&&x.games>0);return{strengths:v,weaknesses:w}},o=r(),l=n(),c=i(),{strengths:d,weaknesses:f}=s();return t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(rm,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600",children:"No performance data available yet"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Data will appear once the child starts playing games"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs(re,{className:"border-2 border-green-200 bg-green-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2 text-green-700",children:[a.jsx(Wt,{className:"w-6 h-6"}),"Strengths"]})}),a.jsx(ne,{children:d.length>0?a.jsx("div",{className:"space-y-3",children:d.map((m,p)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[a.jsx("span",{className:"font-medium",children:m.operation}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(je,{className:"bg-green-500",children:[m.accuracy,"%"]}),a.jsx(gr,{className:"w-5 h-5 text-green-600"})]})]},p))}):a.jsx("p",{className:"text-gray-600 text-center py-4",children:"Keep practicing to identify strengths!"})})]}),a.jsxs(re,{className:"border-2 border-orange-200 bg-orange-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2 text-orange-700",children:[a.jsx(qm,{className:"w-6 h-6"}),"Areas for Improvement"]})}),a.jsx(ne,{children:f.length>0?a.jsx("div",{className:"space-y-3",children:f.map((m,p)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[a.jsx("span",{className:"font-medium",children:m.operation}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(je,{variant:"outline",className:"border-orange-400",children:[m.accuracy,"%"]}),a.jsx(iu,{className:"w-5 h-5 text-orange-600"})]})]},p))}):a.jsx("p",{className:"text-gray-600 text-center py-4",children:"Great job! No weak areas identified."})})]})]}),a.jsxs(re,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Performance by Operation"})}),a.jsx(ne,{children:a.jsx(ro,{width:"100%",height:300,children:a.jsxs(yk,{data:o,children:[a.jsx(ml,{strokeDasharray:"3 3"}),a.jsx(bs,{dataKey:"operation"}),a.jsx(Ni,{}),a.jsx(pn,{}),a.jsx(Ji,{}),a.jsx(xa,{dataKey:"accuracy",fill:"#8b5cf6",name:"Accuracy %"}),a.jsx(xa,{dataKey:"games",fill:"#ec4899",name:"Games Played"})]})})})]}),a.jsxs(re,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Performance by Difficulty Level"})}),a.jsx(ne,{children:a.jsx(ro,{width:"100%",height:300,children:a.jsxs(yk,{data:l,children:[a.jsx(ml,{strokeDasharray:"3 3"}),a.jsx(bs,{dataKey:"level"}),a.jsx(Ni,{}),a.jsx(pn,{}),a.jsx(Ji,{}),a.jsx(xa,{dataKey:"accuracy",fill:"#10b981",name:"Accuracy %"}),a.jsx(xa,{dataKey:"games",fill:"#f59e0b",name:"Games Played"})]})})})]}),c.length>0&&a.jsxs(re,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Recent Performance Trend"})}),a.jsx(ne,{children:a.jsx(ro,{width:"100%",height:300,children:a.jsxs(L_,{data:c,children:[a.jsx(ml,{strokeDasharray:"3 3"}),a.jsx(bs,{dataKey:"game"}),a.jsx(Ni,{}),a.jsx(pn,{}),a.jsx(Ji,{}),a.jsx(Aa,{type:"monotone",dataKey:"accuracy",stroke:"#8b5cf6",strokeWidth:3,name:"Accuracy %"}),a.jsx(Aa,{type:"monotone",dataKey:"score",stroke:"#10b981",strokeWidth:3,name:"Score"})]})})})]})]})}const eh=S.forwardRef(({className:t,...e},r)=>a.jsx("textarea",{className:bt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));eh.displayName="Textarea";function o1(t,[e,r]){return Math.min(r,Math.max(e,t))}function bVe(t){const e=wVe(t),r=S.forwardRef((n,i)=>{const{children:s,...o}=n,l=S.Children.toArray(s),c=l.find(jVe);if(c){const d=c.props.children,f=l.map(m=>m===c?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:m);return a.jsx(e,{...o,ref:i,children:S.isValidElement(d)?S.cloneElement(d,void 0,f):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function wVe(t){const e=S.forwardRef((r,n)=>{const{children:i,...s}=r;if(S.isValidElement(i)){const o=SVe(i),l=NVe(s,i.props);return i.type!==S.Fragment&&(l.ref=n?vu(n,o):o),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _Ve=Symbol("radix.slottable");function jVe(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_Ve}function NVe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function SVe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function B_(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var TVe=[" ","Enter","ArrowUp","ArrowDown"],EVe=[" ","Enter"],th="Select",[q_,U_,PVe]=V1(th),[lp]=Ca(th,[PVe,Gm]),z_=Gm(),[AVe,Nu]=lp(th),[CVe,kVe]=lp(th),zZ=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:m,disabled:p,required:v,form:w}=t,x=z_(e),[g,_]=S.useState(null),[T,P]=S.useState(null),[k,A]=S.useState(!1),C=P0(d),[E,j]=_l({prop:n,defaultProp:i??!1,onChange:s,caller:th}),[O,R]=_l({prop:o,defaultProp:l,onChange:c,caller:th}),L=S.useRef(null),$=g?w||!!g.closest("form"):!0,[F,G]=S.useState(new Set),K=Array.from(F).map(Y=>Y.props.value).join(";");return a.jsx(tO,{...x,children:a.jsxs(AVe,{required:v,scope:e,trigger:g,onTriggerChange:_,valueNode:T,onValueNodeChange:P,valueNodeHasChildren:k,onValueNodeHasChildrenChange:A,contentId:su(),value:O,onValueChange:R,open:E,onOpenChange:j,dir:C,triggerPointerDownPosRef:L,disabled:p,children:[a.jsx(q_.Provider,{scope:e,children:a.jsx(CVe,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(Y=>{G(J=>new Set(J).add(Y))},[]),onNativeOptionRemove:S.useCallback(Y=>{G(J=>{const U=new Set(J);return U.delete(Y),U})},[]),children:r})}),$?a.jsxs(mee,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:m,value:O,onChange:Y=>R(Y.target.value),disabled:p,form:w,children:[O===void 0?a.jsx("option",{value:""}):null,Array.from(F)]},K):null]})})};zZ.displayName=th;var WZ="SelectTrigger",HZ=S.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=z_(r),o=Nu(WZ,r),l=o.disabled||n,c=Bt(e,o.onTriggerChange),d=U_(r),f=S.useRef("touch"),[m,p,v]=gee(x=>{const g=d().filter(P=>!P.disabled),_=g.find(P=>P.value===o.value),T=yee(g,x,_);T!==void 0&&o.onValueChange(T.value)}),w=x=>{l||(o.onOpenChange(!0),v()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(rO,{asChild:!0,...s,children:a.jsx(jt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":pee(o.value)?"":void 0,...i,ref:c,onClick:Ve(i.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&w(x)}),onPointerDown:Ve(i.onPointerDown,x=>{f.current=x.pointerType;const g=x.target;g.hasPointerCapture(x.pointerId)&&g.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:Ve(i.onKeyDown,x=>{const g=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(g&&x.key===" ")&&TVe.includes(x.key)&&(w(),x.preventDefault())})})})});HZ.displayName=WZ;var GZ="SelectValue",KZ=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...l}=t,c=Nu(GZ,r),{onValueNodeHasChildrenChange:d}=c,f=s!==void 0,m=Bt(e,c.onValueNodeChange);return pi(()=>{d(f)},[d,f]),a.jsx(jt.span,{...l,ref:m,style:{pointerEvents:"none"},children:pee(c.value)?a.jsx(a.Fragment,{children:o}):s})});KZ.displayName=GZ;var IVe="SelectIcon",YZ=S.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return a.jsx(jt.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});YZ.displayName=IVe;var OVe="SelectPortal",QZ=t=>a.jsx(G1,{asChild:!0,...t});QZ.displayName=OVe;var rh="SelectContent",XZ=S.forwardRef((t,e)=>{const r=Nu(rh,t.__scopeSelect),[n,i]=S.useState();if(pi(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?S0.createPortal(a.jsx(JZ,{scope:t.__scopeSelect,children:a.jsx(q_.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),s):null}return a.jsx(ZZ,{...t,ref:e})});XZ.displayName=rh;var da=10,[JZ,Su]=lp(rh),RVe="SelectContentImpl",MVe=bVe("SelectContent.RemoveScroll"),ZZ=S.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:v,sticky:w,hideWhenDetached:x,avoidCollisions:g,..._}=t,T=Nu(rh,r),[P,k]=S.useState(null),[A,C]=S.useState(null),E=Bt(e,pe=>k(pe)),[j,O]=S.useState(null),[R,L]=S.useState(null),$=U_(r),[F,G]=S.useState(!1),K=S.useRef(!1);S.useEffect(()=>{if(P)return BH(P)},[P]),uH();const Y=S.useCallback(pe=>{const[Ie,...me]=$().map(fe=>fe.ref.current),[Pe]=me.slice(-1),Re=document.activeElement;for(const fe of pe)if(fe===Re||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===Ie&&A&&(A.scrollTop=0),fe===Pe&&A&&(A.scrollTop=A.scrollHeight),fe==null||fe.focus(),document.activeElement!==Re))return},[$,A]),J=S.useCallback(()=>Y([j,P]),[Y,j,P]);S.useEffect(()=>{F&&J()},[F,J]);const{onOpenChange:U,triggerPointerDownPosRef:X}=T;S.useEffect(()=>{if(P){let pe={x:0,y:0};const Ie=Pe=>{var Re,fe;pe={x:Math.abs(Math.round(Pe.pageX)-(((Re=X.current)==null?void 0:Re.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((fe=X.current)==null?void 0:fe.y)??0))}},me=Pe=>{pe.x<=10&&pe.y<=10?Pe.preventDefault():P.contains(Pe.target)||U(!1),document.removeEventListener("pointermove",Ie),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",me,{capture:!0})}}},[P,U,X]),S.useEffect(()=>{const pe=()=>U(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[U]);const[ie,W]=gee(pe=>{const Ie=$().filter(Re=>!Re.disabled),me=Ie.find(Re=>Re.ref.current===document.activeElement),Pe=yee(Ie,pe,me);Pe&&setTimeout(()=>Pe.ref.current.focus())}),ee=S.useCallback((pe,Ie,me)=>{const Pe=!K.current&&!me;(T.value!==void 0&&T.value===Ie||Pe)&&(O(pe),Pe&&(K.current=!0))},[T.value]),de=S.useCallback(()=>P==null?void 0:P.focus(),[P]),ce=S.useCallback((pe,Ie,me)=>{const Pe=!K.current&&!me;(T.value!==void 0&&T.value===Ie||Pe)&&L(pe)},[T.value]),be=n==="popper"?wk:eee,ye=be===wk?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:p,collisionPadding:v,sticky:w,hideWhenDetached:x,avoidCollisions:g}:{};return a.jsx(JZ,{scope:r,content:P,viewport:A,onViewportChange:C,itemRefCallback:ee,selectedItem:j,onItemLeave:de,itemTextRefCallback:ce,focusSelectedItem:J,selectedItemText:R,position:n,isPositioned:F,searchRef:ie,children:a.jsx(sO,{as:MVe,allowPinchZoom:!0,children:a.jsx(HI,{asChild:!0,trapped:T.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:Ve(i,pe=>{var Ie;(Ie=T.trigger)==null||Ie.focus({preventScroll:!0}),pe.preventDefault()}),children:a.jsx(B1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:a.jsx(be,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:pe=>pe.preventDefault(),..._,...ye,onPlaced:()=>G(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Ve(_.onKeyDown,pe=>{const Ie=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Ie&&pe.key.length===1&&W(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Pe=$().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const Re=pe.target,fe=Pe.indexOf(Re);Pe=Pe.slice(fe+1)}setTimeout(()=>Y(Pe)),pe.preventDefault()}})})})})})})});ZZ.displayName=RVe;var DVe="SelectItemAlignedPosition",eee=S.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=Nu(rh,r),o=Su(rh,r),[l,c]=S.useState(null),[d,f]=S.useState(null),m=Bt(e,E=>f(E)),p=U_(r),v=S.useRef(!1),w=S.useRef(!0),{viewport:x,selectedItem:g,selectedItemText:_,focusSelectedItem:T}=o,P=S.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&x&&g&&_){const E=s.trigger.getBoundingClientRect(),j=d.getBoundingClientRect(),O=s.valueNode.getBoundingClientRect(),R=_.getBoundingClientRect();if(s.dir!=="rtl"){const Re=R.left-j.left,fe=O.left-Re,ct=E.left-fe,tt=E.width+ct,Ot=Math.max(tt,j.width),Rt=window.innerWidth-da,Yt=o1(fe,[da,Math.max(da,Rt-Ot)]);l.style.minWidth=tt+"px",l.style.left=Yt+"px"}else{const Re=j.right-R.right,fe=window.innerWidth-O.right-Re,ct=window.innerWidth-E.right-fe,tt=E.width+ct,Ot=Math.max(tt,j.width),Rt=window.innerWidth-da,Yt=o1(fe,[da,Math.max(da,Rt-Ot)]);l.style.minWidth=tt+"px",l.style.right=Yt+"px"}const L=p(),$=window.innerHeight-da*2,F=x.scrollHeight,G=window.getComputedStyle(d),K=parseInt(G.borderTopWidth,10),Y=parseInt(G.paddingTop,10),J=parseInt(G.borderBottomWidth,10),U=parseInt(G.paddingBottom,10),X=K+Y+F+U+J,ie=Math.min(g.offsetHeight*5,X),W=window.getComputedStyle(x),ee=parseInt(W.paddingTop,10),de=parseInt(W.paddingBottom,10),ce=E.top+E.height/2-da,be=$-ce,ye=g.offsetHeight/2,pe=g.offsetTop+ye,Ie=K+Y+pe,me=X-Ie;if(Ie<=ce){const Re=L.length>0&&g===L[L.length-1].ref.current;l.style.bottom="0px";const fe=d.clientHeight-x.offsetTop-x.offsetHeight,ct=Math.max(be,ye+(Re?de:0)+fe+J),tt=Ie+ct;l.style.height=tt+"px"}else{const Re=L.length>0&&g===L[0].ref.current;l.style.top="0px";const ct=Math.max(ce,K+x.offsetTop+(Re?ee:0)+ye)+me;l.style.height=ct+"px",x.scrollTop=Ie-ce+x.offsetTop}l.style.margin=`${da}px 0`,l.style.minHeight=ie+"px",l.style.maxHeight=$+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[p,s.trigger,s.valueNode,l,d,x,g,_,s.dir,n]);pi(()=>P(),[P]);const[k,A]=S.useState();pi(()=>{d&&A(window.getComputedStyle(d).zIndex)},[d]);const C=S.useCallback(E=>{E&&w.current===!0&&(P(),T==null||T(),w.current=!1)},[P,T]);return a.jsx($Ve,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:C,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:a.jsx(jt.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});eee.displayName=DVe;var LVe="SelectPopperPosition",wk=S.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=da,...s}=t,o=z_(r);return a.jsx(nO,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wk.displayName=LVe;var[$Ve,nM]=lp(rh,{}),_k="SelectViewport",tee=S.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=Su(_k,r),o=nM(_k,r),l=Bt(e,s.onViewportChange),c=S.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(q_.Slot,{scope:r,children:a.jsx(jt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ve(i.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&m){const v=Math.abs(c.current-f.scrollTop);if(v>0){const w=window.innerHeight-da*2,x=parseFloat(m.style.minHeight),g=parseFloat(m.style.height),_=Math.max(x,g);if(_<w){const T=_+v,P=Math.min(w,T),k=T-P;m.style.height=P+"px",m.style.bottom==="0px"&&(f.scrollTop=k>0?k:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});tee.displayName=_k;var ree="SelectGroup",[FVe,VVe]=lp(ree),BVe=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=su();return a.jsx(FVe,{scope:r,id:i,children:a.jsx(jt.div,{role:"group","aria-labelledby":i,...n,ref:e})})});BVe.displayName=ree;var nee="SelectLabel",iee=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=VVe(nee,r);return a.jsx(jt.div,{id:i.id,...n,ref:e})});iee.displayName=nee;var l1="SelectItem",[qVe,see]=lp(l1),aee=S.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,l=Nu(l1,r),c=Su(l1,r),d=l.value===n,[f,m]=S.useState(s??""),[p,v]=S.useState(!1),w=Bt(e,T=>{var P;return(P=c.itemRefCallback)==null?void 0:P.call(c,T,n,i)}),x=su(),g=S.useRef("touch"),_=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(qVe,{scope:r,value:n,disabled:i,textId:x,isSelected:d,onItemTextChange:S.useCallback(T=>{m(P=>P||((T==null?void 0:T.textContent)??"").trim())},[]),children:a.jsx(q_.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:a.jsx(jt.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:w,onFocus:Ve(o.onFocus,()=>v(!0)),onBlur:Ve(o.onBlur,()=>v(!1)),onClick:Ve(o.onClick,()=>{g.current!=="mouse"&&_()}),onPointerUp:Ve(o.onPointerUp,()=>{g.current==="mouse"&&_()}),onPointerDown:Ve(o.onPointerDown,T=>{g.current=T.pointerType}),onPointerMove:Ve(o.onPointerMove,T=>{var P;g.current=T.pointerType,i?(P=c.onItemLeave)==null||P.call(c):g.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ve(o.onPointerLeave,T=>{var P;T.currentTarget===document.activeElement&&((P=c.onItemLeave)==null||P.call(c))}),onKeyDown:Ve(o.onKeyDown,T=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&T.key===" "||(EVe.includes(T.key)&&_(),T.key===" "&&T.preventDefault())})})})})});aee.displayName=l1;var Eg="SelectItemText",oee=S.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=Nu(Eg,r),l=Su(Eg,r),c=see(Eg,r),d=kVe(Eg,r),[f,m]=S.useState(null),p=Bt(e,_=>m(_),c.onItemTextChange,_=>{var T;return(T=l.itemTextRefCallback)==null?void 0:T.call(l,_,c.value,c.disabled)}),v=f==null?void 0:f.textContent,w=S.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:g}=d;return pi(()=>(x(w),()=>g(w)),[x,g,w]),a.jsxs(a.Fragment,{children:[a.jsx(jt.span,{id:c.textId,...s,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?S0.createPortal(s.children,o.valueNode):null]})});oee.displayName=Eg;var lee="SelectItemIndicator",cee=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return see(lee,r).isSelected?a.jsx(jt.span,{"aria-hidden":!0,...n,ref:e}):null});cee.displayName=lee;var jk="SelectScrollUpButton",uee=S.forwardRef((t,e)=>{const r=Su(jk,t.__scopeSelect),n=nM(jk,t.__scopeSelect),[i,s]=S.useState(!1),o=Bt(e,n.onScrollButtonChange);return pi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(hee,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});uee.displayName=jk;var Nk="SelectScrollDownButton",dee=S.forwardRef((t,e)=>{const r=Su(Nk,t.__scopeSelect),n=nM(Nk,t.__scopeSelect),[i,s]=S.useState(!1),o=Bt(e,n.onScrollButtonChange);return pi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;s(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(hee,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});dee.displayName=Nk;var hee=S.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=Su("SelectScrollButton",r),o=S.useRef(null),l=U_(r),c=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),pi(()=>{var f;const d=l().find(m=>m.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),a.jsx(jt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ve(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ve(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ve(i.onPointerLeave,()=>{c()})})}),UVe="SelectSeparator",fee=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(jt.div,{"aria-hidden":!0,...n,ref:e})});fee.displayName=UVe;var Sk="SelectArrow",zVe=S.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=z_(r),s=Nu(Sk,r),o=Su(Sk,r);return s.open&&o.position==="popper"?a.jsx(iO,{...i,...n,ref:e}):null});zVe.displayName=Sk;var WVe="SelectBubbleInput",mee=S.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=S.useRef(null),s=Bt(n,i),o=B_(e);return S.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const m=new Event("change",{bubbles:!0});f.call(l,e),l.dispatchEvent(m)}},[o,e]),a.jsx(jt.select,{...r,style:{...kZ,...r.style},ref:s,defaultValue:e})});mee.displayName=WVe;function pee(t){return t===""||t===void 0}function gee(t){const e=wo(t),r=S.useRef(""),n=S.useRef(0),i=S.useCallback(o=>{const l=r.current+o;e(l),(function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),s=S.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function yee(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=HVe(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function HVe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var GVe=zZ,vee=HZ,KVe=KZ,YVe=YZ,QVe=QZ,xee=XZ,XVe=tee,bee=iee,wee=aee,JVe=oee,ZVe=cee,_ee=uee,jee=dee,Nee=fee;const hi=GVe,fi=KVe,Kn=S.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(vee,{ref:n,className:bt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,a.jsx(YVe,{asChild:!0,children:a.jsx(BI,{className:"h-4 w-4 opacity-50"})})]}));Kn.displayName=vee.displayName;const See=S.forwardRef(({className:t,...e},r)=>a.jsx(_ee,{ref:r,className:bt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(bme,{className:"h-4 w-4"})}));See.displayName=_ee.displayName;const Tee=S.forwardRef(({className:t,...e},r)=>a.jsx(jee,{ref:r,className:bt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(BI,{className:"h-4 w-4"})}));Tee.displayName=jee.displayName;const Yn=S.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>a.jsx(QVe,{children:a.jsxs(xee,{ref:i,className:bt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(See,{}),a.jsx(XVe,{className:bt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(Tee,{})]})}));Yn.displayName=xee.displayName;const eBe=S.forwardRef(({className:t,...e},r)=>a.jsx(bee,{ref:r,className:bt("px-2 py-1.5 text-sm font-semibold",t),...e}));eBe.displayName=bee.displayName;const et=S.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(wee,{ref:n,className:bt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ZVe,{children:a.jsx(Mr,{className:"h-4 w-4"})})}),a.jsx(JVe,{children:e})]}));et.displayName=wee.displayName;const tBe=S.forwardRef(({className:t,...e},r)=>a.jsx(Nee,{ref:r,className:bt("-mx-1 my-1 h-px bg-muted",t),...e}));tBe.displayName=Nee.displayName;function rBe({childEmail:t,childGoals:e,childProgress:r,childDailyChallenges:n}){const i=wn(),[s,o]=S.useState(!1),[l,c]=S.useState({goal_type:"total_stars",target_value:10,title:"",description:"",reward_message:"",operation:"",level:"",due_date:""}),d=Pr({mutationFn:async g=>{const _=or(Mt);await SI(In(_,"customGoals"),{...g,child_email:t})},onSuccess:()=>{i.invalidateQueries({queryKey:["childGoals"]}),o(!1),c({goal_type:"total_stars",target_value:10,title:"",description:"",reward_message:"",operation:"",level:"",due_date:""})}}),f=Pr({mutationFn:async g=>{const _=or(Mt);await NI(Ci(_,"customGoals",g))},onSuccess:()=>{i.invalidateQueries({queryKey:["childGoals"]})}}),m=Pr({mutationFn:async({goalId:g,data:_})=>{const T=or(Mt);await bl(Ci(T,"customGoals",g),_,{merge:!0})},onSuccess:()=>{i.invalidateQueries({queryKey:["childGoals"]})}}),p=g=>{let _=0;switch(g.goal_type){case"total_stars":_=r.reduce((P,k)=>P+(k.stars_earned||0),0);break;case"games_played":_=r.length;break;case"accuracy":if(r.length>0){const P=r.reduce((k,A)=>k+A.correct_answers/A.total_questions*100,0);_=Math.round(P/r.length)}break;case"daily_streak":_=v();break;case"specific_operation":_=r.filter(P=>P.operation===g.operation&&(!g.level||P.level===g.level)).length;break}return _!==g.current_value&&m.mutate({goalId:g.id,data:{current_value:_}}),_>=g.target_value&&!g.is_completed&&m.mutate({goalId:g.id,data:{is_completed:!0}}),_},v=()=>{if(n.length===0)return 0;const g=[...n].sort((P,k)=>new Date(k.challenge_date)-new Date(P.challenge_date));let _=0,T=new Date;for(const P of g){const k=new Date(P.challenge_date);if(Math.floor((T-k)/(1e3*60*60*24))===_)_++;else break}return _},w=()=>{l.title&&d.mutate(l)},x={total_stars:"Total Stars",games_played:"Games Played",accuracy:"Average Accuracy",daily_streak:"Daily Streak",specific_operation:"Practice Specific Operation"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Jt,{className:"w-6 h-6 text-purple-500"}),"Custom Goals & Challenges"]}),a.jsxs(le,{onClick:()=>o(!s),className:"bg-purple-500 hover:bg-purple-600",children:[a.jsx(qn,{className:"w-4 h-4 mr-2"}),"Add Goal"]})]}),s&&a.jsxs(re,{className:"border-2 border-purple-300",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsx(Ne,{children:"Create New Goal"})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"title",children:"Goal Title"}),a.jsx(rr,{id:"title",value:l.title,onChange:g=>c({...l,title:g.target.value}),placeholder:"e.g., Master Multiplication"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"goal_type",children:"Goal Type"}),a.jsxs(hi,{value:l.goal_type,onValueChange:g=>c({...l,goal_type:g}),children:[a.jsx(Kn,{children:a.jsx(fi,{})}),a.jsx(Yn,{children:Object.entries(x).map(([g,_])=>a.jsx(et,{value:g,children:_},g))})]})]}),l.goal_type==="specific_operation"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"operation",children:"Operation"}),a.jsxs(hi,{value:l.operation,onValueChange:g=>c({...l,operation:g}),children:[a.jsx(Kn,{children:a.jsx(fi,{placeholder:"Select operation"})}),a.jsxs(Yn,{children:[a.jsx(et,{value:"addition",children:"Addition"}),a.jsx(et,{value:"subtraction",children:"Subtraction"}),a.jsx(et,{value:"multiplication",children:"Multiplication"}),a.jsx(et,{value:"division",children:"Division"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"level",children:"Level (Optional)"}),a.jsxs(hi,{value:l.level,onValueChange:g=>c({...l,level:g}),children:[a.jsx(Kn,{children:a.jsx(fi,{placeholder:"Any level"})}),a.jsxs(Yn,{children:[a.jsx(et,{value:null,children:"Any Level"}),a.jsx(et,{value:"easy",children:"Easy"}),a.jsx(et,{value:"medium",children:"Medium"}),a.jsx(et,{value:"hard",children:"Hard"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"target",children:"Target Value"}),a.jsx(rr,{id:"target",type:"number",min:"1",value:l.target_value,onChange:g=>c({...l,target_value:parseInt(g.target.value)})}),a.jsx("p",{className:"text-sm text-gray-500",children:l.goal_type==="accuracy"?"Target percentage (e.g., 80 for 80%)":"Target number"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"description",children:"Description (Optional)"}),a.jsx(eh,{id:"description",value:l.description,onChange:g=>c({...l,description:g.target.value}),placeholder:"Additional details about this goal..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"reward",children:"Reward Message (Optional)"}),a.jsx(rr,{id:"reward",value:l.reward_message,onChange:g=>c({...l,reward_message:g.target.value}),placeholder:"e.g., Great job! You're a multiplication master!"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"due_date",children:"Due Date (Optional)"}),a.jsx(rr,{id:"due_date",type:"date",value:l.due_date,onChange:g=>c({...l,due_date:g.target.value})})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(le,{onClick:w,className:"flex-1 bg-purple-500 hover:bg-purple-600",disabled:!l.title||d.isPending,children:d.isPending?"Creating...":"Create Goal"}),a.jsx(le,{variant:"outline",onClick:()=>o(!1),children:"Cancel"})]})]})]}),a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsx(re,{className:"border-2 border-gray-200",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(Jt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"No goals set yet"}),a.jsx("p",{className:"text-gray-500",children:"Create custom goals to motivate and track progress"})]})}):e.map(g=>{const _=p(g),T=Math.min(_/g.target_value*100,100),P=g.is_completed||_>=g.target_value;return a.jsxs(re,{className:`border-2 ${P?"border-green-300 bg-green-50":"border-purple-200"}`,children:[a.jsx(_e,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs(Ne,{className:"flex items-center gap-2",children:[P?a.jsx(Wt,{className:"w-6 h-6 text-green-600"}):a.jsx(Jt,{className:"w-6 h-6 text-purple-500"}),g.title]}),a.jsx(je,{variant:"outline",children:x[g.goal_type]}),P&&a.jsx(je,{className:"bg-green-500",children:"Completed!"})]}),g.description&&a.jsx("p",{className:"text-sm text-gray-600",children:g.description}),g.due_date&&a.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1",children:[a.jsx(Hr,{className:"w-4 h-4"}),"Due: ",hr(new Date(g.due_date),"MMM d, yyyy")]})]}),a.jsx(le,{variant:"ghost",size:"icon",onClick:()=>f.mutate(g.id),className:"text-gray-400 hover:text-red-600",children:a.jsx(T0,{className:"w-5 h-5"})})]})}),a.jsx(ne,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-medium",children:"Progress"}),a.jsxs("span",{className:"font-bold",children:[_," / ",g.target_value,g.goal_type==="accuracy"&&"%"]})]}),a.jsx(Sl,{value:T,className:"h-3"}),P&&g.reward_message&&a.jsx("div",{className:"bg-green-100 border-2 border-green-300 rounded-lg p-3 text-center",children:a.jsxs("p",{className:"text-sm font-medium text-green-800",children:[" ",g.reward_message]})})]})})]},g.id)})})]})}function nBe({childProgress:t,childDailyChallenges:e}){const n=[...t.map(o=>({...o,type:"game"})),...e.map(o=>({...o,type:"daily"}))].sort((o,l)=>new Date(l.created_date)-new Date(o.created_date)).slice(0,20),i={addition:"",subtraction:"",multiplication:"",division:""},s={easy:"bg-green-500",medium:"bg-yellow-500",hard:"bg-red-500"};return n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Hr,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600",children:"No activity recorded yet"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Activities will appear here as the child plays"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Hr,{className:"w-6 h-6 text-purple-500"}),"Recent Activity Timeline"]}),a.jsx("div",{className:"space-y-3",children:n.map((o,l)=>{const c=Math.round(o.correct_answers/o.total_questions*100);return a.jsx(re,{className:"border-2 border-gray-200 hover:shadow-md transition-shadow",children:a.jsx(ne,{className:"p-4",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 rounded-xl flex items-center justify-center flex-shrink-0",children:o.type==="daily"?a.jsx(Hr,{className:"w-6 h-6 text-purple-600"}):a.jsx("span",{className:"text-2xl",children:i[o.operation]})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[o.type==="daily"?a.jsx("h4",{className:"font-bold text-lg",children:"Daily Challenge"}):a.jsxs(a.Fragment,{children:[a.jsx("h4",{className:"font-bold text-lg capitalize",children:o.operation}),a.jsx(je,{className:s[o.level]+" text-white",children:o.level})]}),a.jsx("span",{className:"text-sm text-gray-500",children:hr(new Date(o.created_date),"MMM d, h:mm a")})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"w-4 h-4 text-purple-500"}),a.jsxs("span",{className:"font-medium",children:[o.score," pts"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{className:"w-4 h-4 text-green-500"}),a.jsxs("span",{className:"font-medium",children:[o.correct_answers,"/",o.total_questions," (",c,"%)"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"w-4 h-4 text-blue-500"}),a.jsxs("span",{className:"font-medium",children:[o.time_taken,"s"]})]}),o.stars_earned!==void 0&&a.jsx("div",{className:"flex items-center gap-1",children:[...Array(3)].map((d,f)=>a.jsx(Tt,{className:`w-4 h-4 ${f<o.stars_earned?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},f))}),o.bonus_stars!==void 0&&o.bonus_stars>0&&a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs(je,{className:"bg-yellow-500 text-white",children:["+",o.bonus_stars," Bonus "]})})]})]})]})})})},l)})})]})}var W_="Checkbox",[iBe]=Ca(W_),[sBe,iM]=iBe(W_);function aBe(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:s,form:o,name:l,onCheckedChange:c,required:d,value:f="on",internal_do_not_use_render:m}=t,[p,v]=_l({prop:r,defaultProp:i??!1,onChange:c,caller:W_}),[w,x]=S.useState(null),[g,_]=S.useState(null),T=S.useRef(!1),P=w?!!o||!!w.closest("form"):!0,k={checked:p,disabled:s,setChecked:v,control:w,setControl:x,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:T,required:d,defaultChecked:Qc(i)?!1:i,isFormControl:P,bubbleInput:g,setBubbleInput:_};return a.jsx(sBe,{scope:e,...k,children:oBe(m)?m(k):n})}var Eee="CheckboxTrigger",Pee=S.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:s,value:o,disabled:l,checked:c,required:d,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:w}=iM(Eee,t),x=Bt(i,f),g=S.useRef(c);return S.useEffect(()=>{const _=s==null?void 0:s.form;if(_){const T=()=>m(g.current);return _.addEventListener("reset",T),()=>_.removeEventListener("reset",T)}},[s,m]),a.jsx(jt.button,{type:"button",role:"checkbox","aria-checked":Qc(c)?"mixed":c,"aria-required":d,"data-state":Oee(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:x,onKeyDown:Ve(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Ve(r,_=>{m(T=>Qc(T)?!0:!T),w&&v&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})})});Pee.displayName=Eee;var sM=S.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:d,form:f,...m}=t;return a.jsx(aBe,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:d,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:p})=>a.jsxs(a.Fragment,{children:[a.jsx(Pee,{...m,ref:e,__scopeCheckbox:r}),p&&a.jsx(Iee,{__scopeCheckbox:r})]})})});sM.displayName=W_;var Aee="CheckboxIndicator",Cee=S.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=iM(Aee,r);return a.jsx($l,{present:n||Qc(s.checked)||s.checked===!0,children:a.jsx(jt.span,{"data-state":Oee(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Cee.displayName=Aee;var kee="CheckboxBubbleInput",Iee=S.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:l,disabled:c,name:d,value:f,form:m,bubbleInput:p,setBubbleInput:v}=iM(kee,t),w=Bt(r,v),x=B_(s),g=H1(n);S.useEffect(()=>{const T=p;if(!T)return;const P=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(P,"checked").set,C=!i.current;if(x!==s&&A){const E=new Event("click",{bubbles:C});T.indeterminate=Qc(s),A.call(T,Qc(s)?!1:s),T.dispatchEvent(E)}},[p,x,s,i]);const _=S.useRef(Qc(s)?!1:s);return a.jsx(jt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:l,disabled:c,name:d,value:f,form:m,...e,tabIndex:-1,ref:w,style:{...e.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Iee.displayName=kee;function oBe(t){return typeof t=="function"}function Qc(t){return t==="indeterminate"}function Oee(t){return Qc(t)?"indeterminate":t?"checked":"unchecked"}const Ree=S.forwardRef(({className:t,...e},r)=>a.jsx(sM,{ref:r,className:bt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(Cee,{className:bt("flex items-center justify-center text-current"),children:a.jsx(Mr,{className:"h-4 w-4"})})}));Ree.displayName=sM.displayName;function lBe(){var w;const t=wn(),[e,r]=S.useState(!1),[n,i]=S.useState([]),[s,o]=S.useState({challenge_name:"",challenge_type:"team_score",target_value:1e3,description:"",start_date:new Date().toISOString().split("T")[0],end_date:"",reward_stars:10,reward_coins:50,reward_message:"",specific_operation:"any",specific_level:"any"}),{data:l}=ft({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:c=[]}=ft({queryKey:["allUsers"],queryFn:()=>base44.entities.User.list(),initialData:[]}),d=c.filter(x=>x.parent_email===(l==null?void 0:l.email)),f=Pr({mutationFn:x=>base44.entities.TeamChallenge.create(x),onSuccess:()=>{t.invalidateQueries({queryKey:["teamChallenges"]}),t.invalidateQueries({queryKey:["myTeamChallenges"]}),r(!1),i([]),o({challenge_name:"",challenge_type:"team_score",target_value:1e3,description:"",start_date:new Date().toISOString().split("T")[0],end_date:"",reward_stars:10,reward_coins:50,reward_message:"",specific_operation:"any",specific_level:"any"})}}),m=()=>{!s.challenge_name||n.length===0||f.mutate({...s,creator_email:l.email,team_members:n})},p=x=>{n.includes(x)?i(n.filter(g=>g!==x)):i([...n,x])},v=[{value:"team_score",label:"Team Score Challenge",description:"Combine all team members' scores"},{value:"combined_accuracy",label:"Combined Accuracy Goal",description:"Average accuracy across all members"},{value:"total_games",label:"Total Games Challenge",description:"Total number of games played by the team"},{value:"total_stars",label:"Star Collection Challenge",description:"Collect stars together as a team"},{value:"daily_streak_sum",label:"Daily Challenge Streak",description:"Combined daily challenge completions"},{value:"speed_challenge",label:"Speed Challenge",description:"Best (fastest) time from any team member"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(bn,{className:"w-6 h-6 text-purple-500"}),"Team Challenges"]}),a.jsxs(le,{onClick:()=>r(!e),className:"bg-purple-500 hover:bg-purple-600",children:[a.jsx(qn,{className:"w-4 h-4 mr-2"}),"Create Team Challenge"]})]}),e&&a.jsxs(re,{className:"border-2 border-purple-300",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsx(Ne,{children:"Create New Team Challenge"})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"challenge_name",children:"Challenge Name"}),a.jsx(rr,{id:"challenge_name",value:s.challenge_name,onChange:x=>o({...s,challenge_name:x.target.value}),placeholder:"e.g., Family Math Marathon"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"challenge_type",children:"Challenge Type"}),a.jsxs(hi,{value:s.challenge_type,onValueChange:x=>o({...s,challenge_type:x}),children:[a.jsx(Kn,{children:a.jsx(fi,{})}),a.jsx(Yn,{children:v.map(x=>a.jsx(et,{value:x.value,children:x.label},x.value))})]}),a.jsx("p",{className:"text-sm text-gray-600",children:(w=v.find(x=>x.value===s.challenge_type))==null?void 0:w.description})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"specific_operation",children:"Specific Operation (Optional)"}),a.jsxs(hi,{value:s.specific_operation,onValueChange:x=>o({...s,specific_operation:x}),children:[a.jsx(Kn,{children:a.jsx(fi,{})}),a.jsxs(Yn,{children:[a.jsx(et,{value:"any",children:"Any Operation"}),a.jsx(et,{value:"addition",children:"Addition Only"}),a.jsx(et,{value:"subtraction",children:"Subtraction Only"}),a.jsx(et,{value:"multiplication",children:"Multiplication Only"}),a.jsx(et,{value:"division",children:"Division Only"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"specific_level",children:"Specific Level (Optional)"}),a.jsxs(hi,{value:s.specific_level,onValueChange:x=>o({...s,specific_level:x}),children:[a.jsx(Kn,{children:a.jsx(fi,{})}),a.jsxs(Yn,{children:[a.jsx(et,{value:"any",children:"Any Level"}),a.jsx(et,{value:"easy",children:"Easy Only"}),a.jsx(et,{value:"medium",children:"Medium Only"}),a.jsx(et,{value:"hard",children:"Hard Only"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"target_value",children:"Target Value"}),a.jsx(rr,{id:"target_value",type:"number",min:"1",value:s.target_value,onChange:x=>o({...s,target_value:parseInt(x.target.value)})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"start_date",children:"Start Date"}),a.jsx(rr,{id:"start_date",type:"date",value:s.start_date,onChange:x=>o({...s,start_date:x.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"end_date",children:"End Date (Optional)"}),a.jsx(rr,{id:"end_date",type:"date",value:s.end_date,onChange:x=>o({...s,end_date:x.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"description",children:"Description (Optional)"}),a.jsx(eh,{id:"description",value:s.description,onChange:x=>o({...s,description:x.target.value}),placeholder:"Describe the challenge..."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"reward_stars",children:"Reward Stars (per member)"}),a.jsx(rr,{id:"reward_stars",type:"number",min:"0",value:s.reward_stars,onChange:x=>o({...s,reward_stars:parseInt(x.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"reward_coins",children:"Reward Coins (per member)"}),a.jsx(rr,{id:"reward_coins",type:"number",min:"0",value:s.reward_coins,onChange:x=>o({...s,reward_coins:parseInt(x.target.value)})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"reward_message",children:"Reward Message (Optional)"}),a.jsx(rr,{id:"reward_message",value:s.reward_message,onChange:x=>o({...s,reward_message:x.target.value}),placeholder:"e.g., Amazing teamwork! You did it together!"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{children:"Select Team Members"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2 max-h-60 overflow-y-auto",children:d.length===0?a.jsx("p",{className:"text-gray-600 text-sm",children:"No children linked to your account"}):d.map(x=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ree,{id:x.email,checked:n.includes(x.email),onCheckedChange:()=>p(x.email)}),a.jsx(ot,{htmlFor:x.email,className:"cursor-pointer flex-1",children:x.child_name||x.full_name||x.email})]},x.email))}),n.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.map(x=>{const g=d.find(_=>_.email===x);return a.jsxs(je,{className:"bg-purple-500 text-white",children:[(g==null?void 0:g.child_name)||(g==null?void 0:g.full_name)||x,a.jsx("button",{onClick:()=>p(x),className:"ml-2 hover:bg-purple-600 rounded-full",children:a.jsx(An,{className:"w-3 h-3"})})]},x)})})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(le,{onClick:m,className:"flex-1 bg-purple-500 hover:bg-purple-600",disabled:!s.challenge_name||n.length===0||f.isPending,children:f.isPending?"Creating...":"Create Challenge"}),a.jsx(le,{variant:"outline",onClick:()=>r(!1),children:"Cancel"})]})]})]})]})}var H_="Switch",[cBe]=Ca(H_),[uBe,dBe]=cBe(H_),Mee=S.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...m}=t,[p,v]=S.useState(null),w=Bt(e,P=>v(P)),x=S.useRef(!1),g=p?f||!!p.closest("form"):!0,[_,T]=_l({prop:i,defaultProp:s??!1,onChange:d,caller:H_});return a.jsxs(uBe,{scope:r,checked:_,disabled:l,children:[a.jsx(jt.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":Fee(_),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:w,onClick:Ve(t.onClick,P=>{T(k=>!k),g&&(x.current=P.isPropagationStopped(),x.current||P.stopPropagation())})}),g&&a.jsx($ee,{control:p,bubbles:!x.current,name:n,value:c,checked:_,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});Mee.displayName=H_;var Dee="SwitchThumb",Lee=S.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=dBe(Dee,r);return a.jsx(jt.span,{"data-state":Fee(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Lee.displayName=Dee;var hBe="SwitchBubbleInput",$ee=S.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const o=S.useRef(null),l=Bt(o,s),c=B_(r),d=H1(e);return S.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&v){const w=new Event("click",{bubbles:n});v.call(f,r),f.dispatchEvent(w)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$ee.displayName=hBe;function Fee(t){return t?"checked":"unchecked"}var Vee=Mee,fBe=Lee;const Tk=S.forwardRef(({className:t,...e},r)=>a.jsx(Vee,{className:bt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:a.jsx(fBe,{className:bt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Tk.displayName=Vee.displayName;function mBe({childEmail:t,currentControls:e}){const r=wn(),[n,i]=S.useState(!1),[s,o]=S.useState({daily_time_limit_minutes:0,time_limits_by_operation:{},enforce_time_limits:!0,time_limit_warning_minutes:5,allowed_operations:["addition","subtraction","multiplication","division"],allowed_levels:["easy","medium","hard"],blocked_features:[],focus_operations:[],focus_priority:"suggest",focus_reminder_frequency:"daily",weekly_goal_games:0,weekly_goal_stars:0,monthly_goal_games:0,monthly_goal_accuracy:0}),[l,c]=S.useState([]),[d,f]=S.useState(!1),[m,p]=S.useState({title:"",description:"",target_type:"games_completed",target_value:10,operation:"any",level:"any",deadline:""});S.useEffect(()=>{e&&(o({...s,...e}),e.custom_learning_goals&&c(e.custom_learning_goals))},[e]);const v=Pr({mutationFn:async()=>{const j=or(Mt),R=(await Ii(In(j,"users"))).docs.find(L=>L.data().email===t);if(!R)throw new Error("Child not found");await bl(Ci(j,"users",R.id),{parental_controls:{...s,custom_learning_goals:l}},{merge:!0})},onSuccess:()=>{r.invalidateQueries({queryKey:["allUsers"]}),i(!0),setTimeout(()=>i(!1),3e3)}}),w=()=>{v.mutate()},x=[{id:"addition",name:"Addition",emoji:""},{id:"subtraction",name:"Subtraction",emoji:""},{id:"multiplication",name:"Multiplication",emoji:""},{id:"division",name:"Division",emoji:""},{id:"fractions",name:"Fractions",emoji:""},{id:"decimals",name:"Decimals",emoji:"0.5"},{id:"percentages",name:"Percentages",emoji:"%"},{id:"word_problems",name:"Word Problems",emoji:""},{id:"money",name:"Money Math",emoji:""},{id:"time",name:"Time",emoji:""},{id:"geometry",name:"Geometry",emoji:""},{id:"mixed",name:"Mixed",emoji:""}],g=[{id:"easy",name:"Easy"},{id:"medium",name:"Medium"},{id:"hard",name:"Hard"},{id:"expert",name:"Expert"}],_=[{id:"shop",name:"Shop",description:"Disable access to the rewards shop"},{id:"leaderboards",name:"Leaderboards",description:"Hide competitive leaderboards"},{id:"team_challenges",name:"Team Challenges",description:"Disable team-based challenges"},{id:"daily_challenge",name:"Daily Challenge",description:"Disable daily challenges"},{id:"power_ups",name:"Power-Ups",description:"Prevent using power-ups in games"}],T=(j,O)=>{const R=O==="allowed"?"allowed_operations":"focus_operations",L=s[R];L.includes(j)?o({...s,[R]:L.filter($=>$!==j)}):o({...s,[R]:[...L,j]})},P=j=>{const O=s.allowed_levels;O.includes(j)?o({...s,allowed_levels:O.filter(R=>R!==j)}):o({...s,allowed_levels:[...O,j]})},k=j=>{const O=s.blocked_features||[];O.includes(j)?o({...s,blocked_features:O.filter(R=>R!==j)}):o({...s,blocked_features:[...O,j]})},A=(j,O)=>{o({...s,time_limits_by_operation:{...s.time_limits_by_operation||{},[j]:parseInt(O)||0}})},C=()=>{m.title&&(c([...l,{...m,id:Date.now().toString()}]),p({title:"",description:"",target_type:"games_completed",target_value:10,operation:"any",level:"any",deadline:""}),f(!1))},E=j=>{c(l.filter(O=>O.id!==j))};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Gi,{className:"w-6 h-6 text-blue-600"}),"Advanced Parental Controls"]})}),n&&a.jsxs(ze,{className:"bg-green-50 border-green-200",children:[a.jsx(Wb,{className:"w-4 h-4 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx(Wt,{className:"w-4 h-4 inline mr-2"}),"Settings saved successfully! Changes are now active."]})]}),a.jsxs(hu,{defaultValue:"time-limits",className:"w-full",children:[a.jsxs(Ol,{className:"grid w-full grid-cols-4",children:[a.jsxs(Pt,{value:"time-limits",children:[a.jsx(_r,{className:"w-4 h-4 mr-2"}),"Time Limits"]}),a.jsxs(Pt,{value:"content",children:[a.jsx(ui,{className:"w-4 h-4 mr-2"}),"Content Filter"]}),a.jsxs(Pt,{value:"focus",children:[a.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Focus Topics"]}),a.jsxs(Pt,{value:"goals",children:[a.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Custom Goals"]})]}),a.jsx(Ft,{value:"time-limits",className:"space-y-6",children:a.jsxs(re,{className:"border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"w-5 h-5 text-blue-600"}),"Daily Time Limits"]})}),a.jsxs(ne,{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ot,{htmlFor:"daily_limit",className:"text-base font-bold",children:"Overall Daily Time Limit"}),a.jsx(Tk,{checked:s.enforce_time_limits,onCheckedChange:j=>o({...s,enforce_time_limits:j})})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(rr,{id:"daily_limit",type:"number",min:"0",max:"480",value:s.daily_time_limit_minutes,onChange:j=>o({...s,daily_time_limit_minutes:parseInt(j.target.value)||0}),className:"max-w-xs",disabled:!s.enforce_time_limits}),a.jsx("span",{className:"text-gray-600",children:"minutes per day"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:s.daily_time_limit_minutes===0?"Set to 0 for unlimited time":`Child can use the app for ${s.daily_time_limit_minutes} minutes per day`})]}),a.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[a.jsx(ot,{htmlFor:"warning_time",className:"text-base font-bold",children:"Time Limit Warning"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(rr,{id:"warning_time",type:"number",min:"1",max:"30",value:s.time_limit_warning_minutes,onChange:j=>o({...s,time_limit_warning_minutes:parseInt(j.target.value)||5}),className:"max-w-xs",disabled:!s.enforce_time_limits||s.daily_time_limit_minutes===0}),a.jsx("span",{className:"text-gray-600",children:"minutes before limit"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Show a warning when this many minutes remain"})]}),a.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[a.jsx(ot,{className:"text-base font-bold",children:"Time Limits by Math Concept (Optional)"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Set specific time limits for individual math concepts. Leave at 0 for no limit."}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:x.map(j=>{var O;return a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("span",{className:"text-2xl",children:j.emoji}),a.jsx("div",{className:"flex-1",children:a.jsx(ot,{className:"text-sm font-medium",children:j.name})}),a.jsx(rr,{type:"number",min:"0",max:"120",value:((O=s.time_limits_by_operation)==null?void 0:O[j.id])||0,onChange:R=>A(j.id,R.target.value),className:"w-20",disabled:!s.enforce_time_limits}),a.jsx("span",{className:"text-xs text-gray-500",children:"min"})]},j.id)})})]}),a.jsxs(ze,{className:"bg-yellow-50 border-yellow-200",children:[a.jsx(Gn,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(We,{className:"text-yellow-800 text-sm",children:[a.jsx("strong",{children:"How it works:"})," Time limits are enforced per calendar day. When time runs out, your child will be notified and games will be locked until the next day."]})]})]})]})}),a.jsxs(Ft,{value:"content",className:"space-y-6",children:[a.jsxs(re,{className:"border-2 border-green-200",children:[a.jsx(_e,{className:"bg-green-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(ui,{className:"w-5 h-5 text-green-600"}),"Allowed Math Concepts"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select which math concepts your child can access. At least one must be selected."}),a.jsx("div",{className:"grid md:grid-cols-3 gap-3",children:x.map(j=>a.jsx("div",{className:`p-4 rounded-lg border-2 transition-all cursor-pointer ${s.allowed_operations.includes(j.id)?"border-green-500 bg-green-50":"border-gray-200 bg-gray-50"}`,onClick:()=>T(j.id,"allowed"),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:j.emoji}),a.jsx("div",{className:"text-sm font-medium",children:j.name})]})},j.id))}),a.jsxs(ze,{className:"bg-yellow-50 border-yellow-200 mt-4",children:[a.jsx(Gn,{className:"w-4 h-4 text-yellow-600"}),a.jsx(We,{className:"text-yellow-800 text-sm",children:"At least one operation must be allowed for your child to play games."})]})]})]}),a.jsxs(re,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(ui,{className:"w-5 h-5 text-purple-600"}),"Allowed Difficulty Levels"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Control which difficulty levels your child can play."}),a.jsx("div",{className:"grid grid-cols-4 gap-3",children:g.map(j=>a.jsx("div",{className:`p-4 rounded-lg border-2 transition-all cursor-pointer ${s.allowed_levels.includes(j.id)?"border-purple-500 bg-purple-50":"border-gray-200 bg-gray-50"}`,onClick:()=>P(j.id),children:a.jsx("div",{className:"text-center font-medium",children:j.name})},j.id))})]})]}),a.jsxs(re,{className:"border-2 border-orange-200",children:[a.jsx(_e,{className:"bg-orange-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(ui,{className:"w-5 h-5 text-orange-600"}),"Feature Access Control"]})}),a.jsxs(ne,{className:"p-6 space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Control which app features your child can access."}),_.map(j=>{var O;return a.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg border-2 border-gray-200",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-bold mb-1",children:j.name}),a.jsx("p",{className:"text-sm text-gray-600",children:j.description})]}),a.jsx(Tk,{checked:!((O=s.blocked_features)!=null&&O.includes(j.id)),onCheckedChange:()=>k(j.id)})]},j.id)})]})]})]}),a.jsx(Ft,{value:"focus",className:"space-y-6",children:a.jsxs(re,{className:"border-2 border-indigo-200",children:[a.jsx(_e,{className:"bg-indigo-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Jt,{className:"w-5 h-5 text-indigo-600"}),"Focus Topics & Recommendations"]})}),a.jsx(ne,{className:"p-6 space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ot,{className:"text-base font-bold mb-3 block",children:"Select Focus Operations"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Highlight specific math concepts for your child to practice more."}),a.jsx("div",{className:"grid md:grid-cols-3 gap-3",children:x.map(j=>a.jsx("div",{className:`p-4 rounded-lg border-2 transition-all cursor-pointer ${s.focus_operations.includes(j.id)?"border-indigo-500 bg-indigo-50 ring-2 ring-indigo-200":"border-gray-200 bg-gray-50"}`,onClick:()=>T(j.id,"focus"),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:j.emoji}),a.jsx("div",{className:"text-sm font-medium",children:j.name}),s.focus_operations.includes(j.id)&&a.jsx(Badge,{className:"mt-2 bg-indigo-500 text-white text-xs",children:"Focus"})]})},j.id))})]}),s.focus_operations.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"pt-4 border-t space-y-3",children:[a.jsx(ot,{className:"text-base font-bold",children:"Focus Priority Mode"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${s.focus_priority==="suggest"?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white"}`,onClick:()=>o({...s,focus_priority:"suggest"}),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${s.focus_priority==="suggest"?"border-indigo-500":"border-gray-300"}`,children:s.focus_priority==="suggest"&&a.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-500"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold",children:"Suggest (Recommended)"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Show reminders and highlight focus topics, but allow access to all enabled content"})]})]})}),a.jsx("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${s.focus_priority==="enforce"?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white"}`,onClick:()=>o({...s,focus_priority:"enforce"}),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${s.focus_priority==="enforce"?"border-indigo-500":"border-gray-300"}`,children:s.focus_priority==="enforce"&&a.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-500"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold",children:"Enforce (Strict)"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Only allow focus topics - other content will be locked"})]})]})})]})]}),a.jsxs("div",{className:"pt-4 border-t space-y-3",children:[a.jsx(ot,{className:"text-base font-bold",children:"Reminder Frequency"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:["never","daily","every_session"].map(j=>a.jsx("div",{className:`p-3 rounded-lg border-2 cursor-pointer text-center transition-all ${s.focus_reminder_frequency===j?"border-indigo-500 bg-indigo-50":"border-gray-200 bg-white"}`,onClick:()=>o({...s,focus_reminder_frequency:j}),children:a.jsx("div",{className:"font-medium capitalize",children:j==="every_session"?"Every Game":j})},j))})]})]}),s.focus_operations.length===0&&a.jsxs(ze,{className:"bg-blue-50 border-blue-200",children:[a.jsx(Jt,{className:"w-4 h-4 text-blue-600"}),a.jsx(We,{className:"text-blue-800 text-sm",children:"Select at least one operation above to set it as a focus topic for your child."})]})]})})]})}),a.jsxs(Ft,{value:"goals",className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold",children:"Custom Learning Goals"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Create personalized goals tailored to your child's needs"})]}),a.jsxs(le,{onClick:()=>f(!d),className:"bg-indigo-500 hover:bg-indigo-600",children:[a.jsx(qn,{className:"w-4 h-4 mr-2"}),"Add Goal"]})]}),d&&a.jsxs(re,{className:"border-2 border-indigo-300",children:[a.jsx(_e,{className:"bg-indigo-50",children:a.jsx(Ne,{children:"Create New Learning Goal"})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"goal_title",children:"Goal Title"}),a.jsx(rr,{id:"goal_title",value:m.title,onChange:j=>p({...m,title:j.target.value}),placeholder:"e.g., Master Multiplication Tables"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"goal_description",children:"Description (Optional)"}),a.jsx(eh,{id:"goal_description",value:m.description,onChange:j=>p({...m,description:j.target.value}),placeholder:"Add more details about this goal...",rows:2})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"target_type",children:"Goal Type"}),a.jsxs("select",{id:"target_type",value:m.target_type,onChange:j=>p({...m,target_type:j.target.value}),className:"w-full p-2 border rounded-md",children:[a.jsx("option",{value:"games_completed",children:"Games Completed"}),a.jsx("option",{value:"stars_earned",children:"Stars Earned"}),a.jsx("option",{value:"accuracy",children:"Accuracy (%)"}),a.jsx("option",{value:"time_spent",children:"Time Spent (minutes)"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"target_value",children:"Target Value"}),a.jsx(rr,{id:"target_value",type:"number",min:"1",value:m.target_value,onChange:j=>p({...m,target_value:parseInt(j.target.value)||1})})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"goal_operation",children:"Operation"}),a.jsxs("select",{id:"goal_operation",value:m.operation,onChange:j=>p({...m,operation:j.target.value}),className:"w-full p-2 border rounded-md",children:[a.jsx("option",{value:"any",children:"Any Operation"}),x.map(j=>a.jsxs("option",{value:j.id,children:[j.emoji," ",j.name]},j.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"goal_level",children:"Difficulty Level"}),a.jsxs("select",{id:"goal_level",value:m.level,onChange:j=>p({...m,level:j.target.value}),className:"w-full p-2 border rounded-md",children:[a.jsx("option",{value:"any",children:"Any Level"}),g.map(j=>a.jsx("option",{value:j.id,children:j.name},j.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"goal_deadline",children:"Deadline (Optional)"}),a.jsx(rr,{id:"goal_deadline",type:"date",value:m.deadline,onChange:j=>p({...m,deadline:j.target.value})})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(le,{onClick:C,className:"flex-1 bg-indigo-500 hover:bg-indigo-600",disabled:!m.title,children:"Add Goal"}),a.jsx(le,{variant:"outline",onClick:()=>f(!1),children:"Cancel"})]})]})]}),a.jsx("div",{className:"space-y-4",children:l.length===0?a.jsx(re,{className:"border-2 border-gray-200",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(Tt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"No custom goals yet"}),a.jsx("p",{className:"text-gray-500",children:"Create goals to motivate and guide your child's learning"})]})}):l.map(j=>a.jsxs(re,{className:"border-2 border-indigo-200",children:[a.jsx(_e,{className:"bg-indigo-50",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Jt,{className:"w-5 h-5 text-indigo-600"}),j.title]}),j.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:j.description})]}),a.jsx(le,{variant:"ghost",size:"icon",onClick:()=>E(j.id),className:"text-gray-400 hover:text-red-600",children:a.jsx(T0,{className:"w-5 h-5"})})]})}),a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Type:"})," ",j.target_type.replace("_"," ")]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Target:"})," ",j.target_value]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Operation:"})," ",j.operation]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-bold",children:"Level:"})," ",j.level]})]}),j.deadline&&a.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(Hr,{className:"w-4 h-4"}),a.jsxs("span",{children:["Deadline: ",j.deadline]})]})]})]},j.id))})]})]}),a.jsx("div",{className:"flex justify-end pt-6 border-t",children:a.jsxs(le,{onClick:w,disabled:v.isPending,className:"h-12 px-8 bg-gradient-to-r from-blue-500 to-purple-500",children:[a.jsx(Wb,{className:"w-5 h-5 mr-2"}),v.isPending?"Saving...":"Save All Settings"]})})]})}function pBe({childEmail:t,childProgress:e}){const r=wn(),[n,i]=S.useState(!1),[s,o]=S.useState({title:"",description:"",operation:"addition",level:"easy",target_games:5,target_accuracy:80,due_date:"",instructions:""}),{data:l=[]}=ft({queryKey:["lessonAssignments",t],queryFn:async()=>{const g=or(Mt),_=Ta(In(g,"customGoals"),li("child_email","==",t),li("goal_type","==","specific_operation"));return(await Ii(_)).docs.map(P=>({id:P.id,...P.data()}))},initialData:[],enabled:!!t}),c=Pr({mutationFn:async g=>{const _=or(Mt);await SI(In(_,"customGoals"),{...g,child_email:t,goal_type:"specific_operation",target_value:g.target_games})},onSuccess:()=>{r.invalidateQueries({queryKey:["lessonAssignments"]}),r.invalidateQueries({queryKey:["childGoals"]}),i(!1),o({title:"",description:"",operation:"addition",level:"easy",target_games:5,target_accuracy:80,due_date:"",instructions:""})}}),d=Pr({mutationFn:async g=>{const _=or(Mt);await NI(doc(_,"customGoals",g))},onSuccess:()=>{r.invalidateQueries({queryKey:["lessonAssignments"]}),r.invalidateQueries({queryKey:["childGoals"]})}}),f=()=>{s.title&&c.mutate(s)},m=g=>{const _=e.filter(k=>k.operation===g.operation&&k.level===g.level&&new Date(k.created_date)>=new Date(g.created_date)),T=_.length,P=_.length>0?_.reduce((k,A)=>k+A.correct_answers/A.total_questions*100,0)/_.length:0;return{gamesCompleted:T,avgAccuracy:Math.round(P),isComplete:T>=g.target_value&&P>=(g.target_accuracy||70)}},v=(()=>{const g={addition:{total:0,correct:0},subtraction:{total:0,correct:0},multiplication:{total:0,correct:0},division:{total:0,correct:0}};e.forEach(T=>{g[T.operation]&&(g[T.operation].total+=T.total_questions,g[T.operation].correct+=T.correct_answers)});const _=[];return Object.entries(g).forEach(([T,P])=>{if(P.total>0){const k=P.correct/P.total*100;k<70&&_.push({operation:T,level:k<50?"easy":"medium",reason:`Low accuracy: ${Math.round(k)}%`})}}),_})(),w={addition:"",subtraction:"",multiplication:"",division:""},x={easy:"bg-green-500",medium:"bg-yellow-500",hard:"bg-red-500"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Bs,{className:"w-6 h-6 text-blue-600"}),"Lesson Assignments"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Create custom practice lessons tailored to your child's needs"})]}),a.jsxs(le,{onClick:()=>i(!n),className:"bg-blue-500 hover:bg-blue-600",children:[a.jsx(qn,{className:"w-4 h-4 mr-2"}),"New Lesson"]})]}),v.length>0&&a.jsxs(ze,{className:"bg-yellow-50 border-yellow-300",children:[a.jsx(qm,{className:"w-5 h-5 text-yellow-600"}),a.jsxs(We,{className:"text-yellow-800",children:[a.jsx("strong",{children:"Suggested Focus Areas:"}),a.jsx("div",{className:"mt-2 space-y-2",children:v.map((g,_)=>a.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:w[g.operation]}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium capitalize",children:[g.operation," - ",g.level]}),a.jsx("p",{className:"text-sm text-gray-600",children:g.reason})]})]}),a.jsx(le,{size:"sm",onClick:()=>{o({...s,operation:g.operation,level:g.level,title:`Practice ${g.operation.charAt(0).toUpperCase()+g.operation.slice(1)}`}),i(!0)},children:"Create Lesson"})]},_))})]})]}),n&&a.jsxs(re,{className:"border-2 border-blue-300",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsx(Ne,{children:"Create New Lesson Assignment"})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"title",children:"Lesson Title"}),a.jsx(rr,{id:"title",value:s.title,onChange:g=>o({...s,title:g.target.value}),placeholder:"e.g., Master Two-Digit Addition"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"description",children:"Description"}),a.jsx(eh,{id:"description",value:s.description,onChange:g=>o({...s,description:g.target.value}),placeholder:"What should the student learn from this lesson?",rows:3})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"operation",children:"Operation"}),a.jsxs(hi,{value:s.operation,onValueChange:g=>o({...s,operation:g}),children:[a.jsx(Kn,{children:a.jsx(fi,{})}),a.jsxs(Yn,{children:[a.jsx(et,{value:"addition",children:" Addition"}),a.jsx(et,{value:"subtraction",children:" Subtraction"}),a.jsx(et,{value:"multiplication",children:" Multiplication"}),a.jsx(et,{value:"division",children:" Division"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"level",children:"Difficulty Level"}),a.jsxs(hi,{value:s.level,onValueChange:g=>o({...s,level:g}),children:[a.jsx(Kn,{children:a.jsx(fi,{})}),a.jsxs(Yn,{children:[a.jsx(et,{value:"easy",children:"Easy"}),a.jsx(et,{value:"medium",children:"Medium"}),a.jsx(et,{value:"hard",children:"Hard"})]})]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"target_games",children:"Target Games"}),a.jsx(rr,{id:"target_games",type:"number",min:"1",max:"50",value:s.target_games,onChange:g=>o({...s,target_games:parseInt(g.target.value)})}),a.jsx("p",{className:"text-xs text-gray-500",children:"Number of games to complete"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"target_accuracy",children:"Target Accuracy (%)"}),a.jsx(rr,{id:"target_accuracy",type:"number",min:"50",max:"100",value:s.target_accuracy,onChange:g=>o({...s,target_accuracy:parseInt(g.target.value)})}),a.jsx("p",{className:"text-xs text-gray-500",children:"Minimum accuracy to complete"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"due_date",children:"Due Date (Optional)"}),a.jsx(rr,{id:"due_date",type:"date",value:s.due_date,onChange:g=>o({...s,due_date:g.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"instructions",children:"Instructions for Student"}),a.jsx(eh,{id:"instructions",value:s.instructions,onChange:g=>o({...s,instructions:g.target.value}),placeholder:"Any specific tips or guidance?",rows:3})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(le,{onClick:f,className:"flex-1 bg-blue-500 hover:bg-blue-600",disabled:!s.title||c.isPending,children:[a.jsx(KW,{className:"w-4 h-4 mr-2"}),c.isPending?"Assigning...":"Assign Lesson"]}),a.jsx(le,{variant:"outline",onClick:()=>i(!1),children:"Cancel"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-bold text-lg",children:"Active Assignments"}),l.length===0?a.jsx(re,{className:"border-2 border-gray-200",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(Bs,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"No lessons assigned yet"}),a.jsx("p",{className:"text-gray-500",children:"Create custom lessons to guide your child's learning"})]})}):l.map(g=>{const _=m(g),T=Math.min(_.gamesCompleted/g.target_value*100,100);return a.jsxs(re,{className:`border-2 ${_.isComplete?"border-green-300 bg-green-50":"border-blue-200"}`,children:[a.jsx(_e,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("span",{className:"text-3xl",children:w[g.operation]}),a.jsxs("div",{children:[a.jsxs(Ne,{className:"flex items-center gap-2",children:[g.title,_.isComplete&&a.jsxs(je,{className:"bg-green-500",children:[a.jsx(Wt,{className:"w-3 h-3 mr-1"}),"Completed"]})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(je,{className:x[g.level]+" text-white",children:g.level}),g.due_date&&a.jsxs(je,{variant:"outline",className:"flex items-center gap-1",children:[a.jsx(Hr,{className:"w-3 h-3"}),"Due: ",hr(new Date(g.due_date),"MMM d")]})]})]})]}),g.description&&a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.description}),g.instructions&&a.jsx(ze,{className:"mt-2",children:a.jsxs(We,{className:"text-sm",children:[a.jsx("strong",{children:"Instructions:"})," ",g.instructions]})})]}),a.jsx(le,{variant:"ghost",size:"icon",onClick:()=>d.mutate(g.id),className:"text-gray-400 hover:text-red-600",children:a.jsx(T0,{className:"w-5 h-5"})})]})}),a.jsx(ne,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Jt,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Games"})]}),a.jsxs("p",{className:"text-2xl font-bold",children:[_.gamesCompleted," / ",g.target_value]})]}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Wt,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Accuracy"})]}),a.jsxs("p",{className:"text-2xl font-bold",children:[_.avgAccuracy,"%",a.jsxs("span",{className:"text-sm text-gray-500",children:[" / ",g.target_accuracy||70,"%"]})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{children:"Overall Progress"}),a.jsxs("span",{className:"font-bold",children:[Math.round(T),"%"]})]}),a.jsx(Sl,{value:T,className:"h-3"})]}),_.isComplete&&a.jsxs(ze,{className:"bg-green-100 border-green-300",children:[a.jsx(Wt,{className:"w-4 h-4 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx("strong",{children:"Great job!"})," This lesson has been completed successfully."]})]})]})})]},g.id)})]})]})}function gBe({childEmail:t,parentEmail:e}){var L;const r=wn(),[n,i]=S.useState("encouragement"),[s,o]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(""),[m,p]=S.useState(null),[v,w]=S.useState("normal"),{data:x=[]}=ft({queryKey:["messages",t,e],queryFn:async()=>{const $=or(Mt),F=Ta(In($,"messages"),li("parent_email","==",e),li("child_email","==",t));return(await Ii(F)).docs.map(K=>K.data()).sort((K,Y)=>new Date(Y.created_date)-new Date(K.created_date))},initialData:[],enabled:!!t&&!!e}),g=x.filter($=>$.child_email===e&&!$.parent_read).length,_=Pr({mutationFn:async $=>{const F=or(Mt);await SI(In(F,"messages"),{parent_email:e,child_email:t,message_type:$.type,subject:$.subject,message_text:$.text,priority:$.priority,reply_to_message_id:$.replyTo||null,is_read:!1,parent_read:!0,created_date:new Date().toISOString()})},onSuccess:()=>{r.invalidateQueries({queryKey:["messages"]}),r.invalidateQueries({queryKey:["unreadMessages"]}),o(""),c(""),f(""),p(null),w("normal")}}),T=Pr({mutationFn:async $=>{const F=or(Mt);await Kce(Ci(F,"messages",$),{parent_read:!0})},onSuccess:()=>{r.invalidateQueries({queryKey:["messages"]}),r.invalidateQueries({queryKey:["unreadMessages"]})}}),P=Pr({mutationFn:async $=>{const F=or(Mt);await NI(Ci(F,"messages",$))},onSuccess:()=>{r.invalidateQueries({queryKey:["messages"]})}}),k={encouragement:[{subject:"You're Doing Great!",text:"I'm so proud of how hard you're working! Keep it up! "},{subject:"Amazing Progress!",text:"You're doing an amazing job! Your effort really shows! "},{subject:"Math Superstar",text:"Great progress today! You're a math superstar! "},{subject:"Keep Going!",text:"I love seeing you tackle these challenges! Keep going! "},{subject:"So Proud of You",text:"Your determination is inspiring! Way to go! "}],feedback:[{subject:"Nice Improvement!",text:"I noticed you're improving in addition. Excellent work!"},{subject:"Great Accuracy",text:"Your accuracy is getting better every day!"},{subject:"Love Your Effort",text:"I can see you're putting in great effort. Keep it up!"},{subject:"Wonderful Progress",text:"You're making wonderful progress. I'm proud of you!"}],reminder:[{subject:"Daily Challenge",text:"Don't forget to complete your daily challenge today! "},{subject:"Practice Time",text:"Remember to practice your multiplication today!"},{subject:"Almost There",text:"You're close to reaching your goal! Keep practicing! "},{subject:"Lesson Time",text:"Time to work on your assigned lesson! You've got this! "}],celebration:[{subject:"Congratulations!",text:"Congratulations on completing your goal! "},{subject:"Three Stars!",text:"You earned all 3 stars! Amazing! "},{subject:"Incredible Achievement",text:"What an incredible achievement! So proud! "},{subject:"Math Champion",text:"You're a math champion! Great job! "}],question:[{subject:"How's Math Going?",text:"How are you finding the math challenges? Any topics you'd like more help with?"},{subject:"Need Help?",text:"Is there anything you're struggling with? I'm here to help!"},{subject:"What's Your Favorite?",text:"What's your favorite math topic so far?"}]},A={encouragement:Rg,feedback:Tt,reminder:ci,celebration:It,question:Pc,response:yx},C={encouragement:"from-pink-400 to-rose-500",feedback:"from-blue-400 to-purple-500",reminder:"from-yellow-400 to-orange-500",celebration:"from-green-400 to-emerald-500",question:"from-indigo-400 to-blue-500",response:"from-gray-400 to-slate-500"},E={low:"text-gray-500",normal:"text-blue-500",high:"text-red-500"},j=()=>{var $,F;s.trim()&&_.mutate({type:m?"response":n,text:s,subject:l||((F=($=k[n])==null?void 0:$[0])==null?void 0:F.subject)||"Message from Parent",priority:v,replyTo:m==null?void 0:m.id})},O=$=>{f($),o($.text),c($.subject)},R=$=>{p($),i("response"),c(`Re: ${$.subject}`),o(""),window.scrollTo({top:0,behavior:"smooth"})};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(Pc,{className:"w-6 h-6 text-green-600"}),"Communication Center",g>0&&a.jsxs(je,{className:"bg-red-500 text-white animate-pulse",children:[g," New"]})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Send messages and receive responses from your child"})]})}),a.jsxs(ze,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ci,{className:"w-5 h-5 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"Real-time messaging with your child!"})," Messages appear instantly in their inbox, and they can respond directly. Both of you will see notifications for new messages."]})]}),m&&a.jsxs(ze,{className:"bg-purple-50 border-purple-300",children:[a.jsx(yx,{className:"w-5 h-5 text-purple-600"}),a.jsx(We,{className:"text-purple-800",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Replying to:"})," ",m.subject,a.jsxs("p",{className:"text-sm mt-1 italic",children:['"',m.message_text,'"']})]}),a.jsx(le,{variant:"ghost",size:"sm",onClick:()=>p(null),className:"text-purple-600",children:"Cancel"})]})})]}),a.jsxs(re,{className:"border-2 border-green-300",children:[a.jsx(_e,{className:"bg-green-50",children:a.jsx(Ne,{children:m?"Send Reply":"Send a Message"})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[!m&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"message_type",children:"Message Type"}),a.jsxs(hi,{value:n,onValueChange:i,children:[a.jsx(Kn,{children:a.jsx(fi,{})}),a.jsxs(Yn,{children:[a.jsx(et,{value:"encouragement",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rg,{className:"w-4 h-4"}),"Encouragement"]})}),a.jsx(et,{value:"feedback",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tt,{className:"w-4 h-4"}),"Feedback"]})}),a.jsx(et,{value:"reminder",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ci,{className:"w-4 h-4"}),"Reminder"]})}),a.jsx(et,{value:"celebration",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"w-4 h-4"}),"Celebration"]})}),a.jsx(et,{value:"question",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pc,{className:"w-4 h-4"}),"Question"]})})]})]})]}),!m&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{children:"Quick Templates"}),a.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-40 overflow-y-auto",children:(L=k[n])==null?void 0:L.map(($,F)=>a.jsx(le,{variant:"outline",className:"justify-start text-left h-auto py-3 px-4",onClick:()=>O($),children:a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-sm",children:$.subject}),a.jsx("div",{className:"text-xs text-gray-600 mt-1",children:$.text})]})},F))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"subject",children:"Subject"}),a.jsx(rr,{id:"subject",value:l,onChange:$=>c($.target.value),placeholder:"Message subject..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"message_text",children:"Message"}),a.jsx(eh,{id:"message_text",value:s,onChange:$=>o($.target.value),placeholder:"Write your message...",rows:4,className:"resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ot,{htmlFor:"priority",children:"Priority"}),a.jsxs(hi,{value:v,onValueChange:w,children:[a.jsx(Kn,{children:a.jsx(fi,{})}),a.jsxs(Yn,{children:[a.jsx(et,{value:"low",children:"Low Priority"}),a.jsx(et,{value:"normal",children:"Normal"}),a.jsx(et,{value:"high",children:"High Priority"})]})]})]}),a.jsxs(le,{onClick:j,disabled:!s.trim()||_.isPending,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",children:[a.jsx(KW,{className:"w-4 h-4 mr-2"}),_.isPending?"Sending...":"Send Message"]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-bold text-lg",children:"Message History"}),a.jsxs(je,{variant:"outline",children:[x.length," Messages"]})]}),x.length===0?a.jsx(re,{className:"border-2 border-gray-200",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(Pc,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"No messages yet"}),a.jsx("p",{className:"text-gray-500",children:"Start a conversation with your child!"})]})}):x.map($=>{const F=A[$.message_type]||Pc,G=C[$.message_type]||"from-gray-400 to-gray-500",K=$.child_email===e,Y=K&&!$.parent_read;return a.jsx(re,{className:`border-2 transition-all ${Y?"border-blue-400 bg-blue-50 shadow-lg":"border-gray-200 hover:shadow-md"}`,children:a.jsx(ne,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full bg-gradient-to-br ${G} flex items-center justify-center flex-shrink-0`,children:a.jsx(F,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[a.jsx(je,{className:`bg-gradient-to-r ${G} text-white`,children:$.message_type}),K&&a.jsxs(je,{className:"bg-purple-500 text-white",children:[a.jsx(yx,{className:"w-3 h-3 mr-1"}),"Reply from child"]}),$.priority!=="normal"&&a.jsxs(je,{variant:"outline",className:E[$.priority],children:[a.jsx(qm,{className:"w-3 h-3 mr-1"}),$.priority]}),Y&&a.jsx(je,{className:"bg-blue-500 text-white animate-pulse",children:"NEW"}),a.jsx("span",{className:"text-sm text-gray-500 ml-auto",children:hr(new Date($.created_date),"MMM d, h:mm a")})]}),a.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:$.subject}),a.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:$.message_text}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[K&&a.jsxs(le,{size:"sm",variant:"outline",onClick:()=>R($),className:"text-purple-600 border-purple-300",children:[a.jsx(yx,{className:"w-4 h-4 mr-1"}),"Reply"]}),Y&&a.jsxs(le,{size:"sm",variant:"outline",onClick:()=>T.mutate($.id),className:"text-blue-600 border-blue-300",children:[a.jsx(Wt,{className:"w-4 h-4 mr-1"}),"Mark as Read"]}),a.jsxs(le,{size:"sm",variant:"ghost",onClick:()=>{confirm("Delete this message?")&&P.mutate($.id)},className:"text-red-600",children:[a.jsx(T0,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]})})},$.id)})]}),a.jsxs(re,{className:"border-2 border-purple-200 bg-purple-50",children:[a.jsx(_e,{children:a.jsx(Ne,{className:"text-lg",children:"Quick Praise Buttons"})}),a.jsxs(ne,{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs(le,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>{i("encouragement"),c("Great job today!"),o("Great job today! "),j()},children:[a.jsx(Tt,{className:"w-6 h-6 text-yellow-500"}),a.jsx("span",{className:"text-xs",children:"Great Job!"})]}),a.jsxs(le,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>{i("encouragement"),c("I'm proud of you!"),o("I'm proud of you! "),j()},children:[a.jsx(Rg,{className:"w-6 h-6 text-pink-500"}),a.jsx("span",{className:"text-xs",children:"Proud!"})]}),a.jsxs(le,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>{i("encouragement"),c("Keep it up!"),o("Keep it up! "),j()},children:[a.jsx(nge,{className:"w-6 h-6 text-blue-500"}),a.jsx("span",{className:"text-xs",children:"Keep Going!"})]}),a.jsxs(le,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>{i("celebration"),c("Amazing work!"),o("Amazing work! "),j()},children:[a.jsx(It,{className:"w-6 h-6 text-green-500"}),a.jsx("span",{className:"text-xs",children:"Amazing!"})]})]})]})]})}function yBe({myChildren:t,parentEmail:e}){const r=wn(),[n,i]=S.useState(null),[s,o]=S.useState(""),l=Pr({mutationFn:async({childEmail:m,newName:p})=>{const v=or(Mt),x=(await Ii(In(v,"users"))).docs.find(g=>g.data().email===m);if(!x)throw new Error("Child not found");await bl(Ci(v,"users",x.id),{child_name:p},{merge:!0})},onSuccess:()=>{r.invalidateQueries({queryKey:["allUsers"]}),i(null),o("")}}),c=Pr({mutationFn:async m=>{const p=or(Mt),w=(await Ii(In(p,"users"))).docs.find(x=>x.data().email===m);if(!w)throw new Error("Child not found");await bl(Ci(p,"users",w.id),{parental_controls:{daily_time_limit:0,allowed_operations:["addition","subtraction","multiplication","division"],allowed_levels:["easy","medium","hard"],focus_operations:[],disabled_features:[]}},{merge:!0})},onSuccess:()=>{r.invalidateQueries({queryKey:["allUsers"]})}}),d=m=>{s.trim()&&l.mutate({childEmail:m,newName:s})},f=m=>{var w,x;const p=m.parental_controls&&Object.keys(m.parental_controls).length>0,v=p&&(m.parental_controls.daily_time_limit>0||((w=m.parental_controls.disabled_features)==null?void 0:w.length)>0||((x=m.parental_controls.allowed_operations)==null?void 0:x.length)<4);return{hasControls:p,hasRestrictions:v,status:v?"restricted":p?"monitored":"open"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(pA,{className:"w-6 h-6 text-purple-600"}),"Student Account Management"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage linked student accounts and their settings"})]}),a.jsxs(ze,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ci,{className:"w-5 h-5 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"Managing Multiple Students:"})," You can monitor and control settings for all students linked to your account. Each student maintains their own progress and achievements while you guide their learning journey."]})]}),a.jsxs(re,{className:"border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Account Overview"}),a.jsxs(je,{className:"bg-purple-500 text-white text-lg px-4 py-2",children:[t.length," ",t.length===1?"Student":"Students"]})]})}),a.jsxs(ne,{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(kf,{className:"w-5 h-5 text-purple-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Active Students"})]}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t.length})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Gi,{className:"w-5 h-5 text-blue-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"With Controls"})]}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.filter(m=>f(m).hasControls).length})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(It,{className:"w-5 h-5 text-green-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Combined Stars"})]}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.reduce((m,p)=>m+(p.total_stars_earned||0),0)})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-bold text-lg",children:"Student Accounts"}),t.length===0?a.jsx(re,{className:"border-2 border-gray-200",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(pA,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Students Linked"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["Have your students add your email (",e,") as their parent/teacher email in their profile settings."]}),a.jsxs(ze,{className:"bg-blue-50 border-blue-200 text-left",children:[a.jsx(ci,{className:"w-5 h-5 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"How students can link their account:"}),a.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Go to their Avatar/Profile page"}),a.jsx("li",{children:'Scroll to "Parent/Teacher Access" section'}),a.jsxs("li",{children:["Enter your email: ",a.jsx("strong",{children:e})]}),a.jsx("li",{children:"Click Save"})]})]})]})]})}):t.map(m=>{var _,T,P,k,A,C,E,j,O,R;const p=f(m),v={avatar_skin_tone:m.avatar_skin_tone||"medium",avatar_hair_style:m.avatar_hair_style||"short",avatar_hair_color:m.avatar_hair_color||"brown",avatar_eyes:m.avatar_eyes||"normal",avatar_outfit:m.avatar_outfit||"casual",avatar_accessory:m.avatar_accessory||"none"},w={open:"bg-green-100 text-green-700 border-green-300",monitored:"bg-blue-100 text-blue-700 border-blue-300",restricted:"bg-orange-100 text-orange-700 border-orange-300"},g={open:Wt,monitored:Gi,restricted:Gn}[p.status];return a.jsx(re,{className:"border-2 border-gray-200 hover:shadow-lg transition-shadow",children:a.jsxs(ne,{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Cd,{avatarData:v,size:"medium"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"text-xl font-bold",children:m.child_name||m.full_name||"Student"}),a.jsxs(je,{className:w[p.status],children:[a.jsx(g,{className:"w-3 h-3 mr-1"}),p.status]})]}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cf,{className:"w-4 h-4"}),a.jsx("span",{className:"truncate",children:m.email})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hr,{className:"w-4 h-4"}),a.jsxs("span",{children:["Joined ",hr(new Date(m.created_date),"MMM d, yyyy")]})]})]}),n===m.email?a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx(rr,{placeholder:"Display name",value:s,onChange:L=>o(L.target.value),className:"w-full"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(le,{size:"sm",onClick:()=>d(m.email),disabled:l.isPending,children:"Save"}),a.jsx(le,{size:"sm",variant:"outline",onClick:()=>{i(null),o("")},children:"Cancel"})]})]}):a.jsxs(le,{size:"sm",variant:"outline",className:"mt-3",onClick:()=>{i(m.email),o(m.child_name||"")},children:[a.jsx(uy,{className:"w-3 h-3 mr-1"}),"Edit Name"]})]})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Tt,{className:"w-4 h-4 text-yellow-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Stars"})]}),a.jsx("p",{className:"text-xl font-bold text-yellow-700",children:m.total_stars_earned||0})]}),a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(It,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Coins"})]}),a.jsx("p",{className:"text-xl font-bold text-blue-700",children:m.coins||0})]}),a.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(Gi,{className:"w-4 h-4 text-purple-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Badges"})]}),a.jsx("p",{className:"text-xl font-bold text-purple-700",children:((_=m.earned_badges)==null?void 0:_.length)||0})]}),a.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(_r,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Time Limit"})]}),a.jsxs("p",{className:"text-lg font-bold text-green-700",children:[((T=m.parental_controls)==null?void 0:T.daily_time_limit)||"",((P=m.parental_controls)==null?void 0:P.daily_time_limit)>0&&"m"]})]})]})]}),p.hasControls&&a.jsxs("div",{className:"mt-4 pt-4 border-t",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-bold text-sm",children:"Active Controls:"}),a.jsx(le,{size:"sm",variant:"outline",onClick:()=>{confirm("Reset all parental controls for this student?")&&c.mutate(m.email)},children:"Reset Controls"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[((k=m.parental_controls)==null?void 0:k.daily_time_limit)>0&&a.jsxs(je,{variant:"outline",className:"justify-start",children:[a.jsx(_r,{className:"w-3 h-3 mr-1"}),m.parental_controls.daily_time_limit,"m/day"]}),((C=(A=m.parental_controls)==null?void 0:A.allowed_operations)==null?void 0:C.length)<4&&a.jsxs(je,{variant:"outline",className:"justify-start",children:[a.jsx(zd,{className:"w-3 h-3 mr-1"}),4-m.parental_controls.allowed_operations.length," ops blocked"]}),((j=(E=m.parental_controls)==null?void 0:E.focus_operations)==null?void 0:j.length)>0&&a.jsxs(je,{variant:"outline",className:"justify-start bg-purple-50",children:[a.jsx(Tt,{className:"w-3 h-3 mr-1"}),m.parental_controls.focus_operations.length," focus areas"]}),((R=(O=m.parental_controls)==null?void 0:O.disabled_features)==null?void 0:R.length)>0&&a.jsxs(je,{variant:"outline",className:"justify-start",children:[a.jsx(zd,{className:"w-3 h-3 mr-1"}),m.parental_controls.disabled_features.length," features disabled"]})]})]})]})},m.email)})]}),a.jsxs(re,{className:"border-2 border-blue-200 bg-blue-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(ci,{className:"w-5 h-5 text-blue-600"}),"Account Management Tips"]})}),a.jsxs(ne,{className:"space-y-3 text-sm text-blue-900",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Adding Students:"})," Have each student add your email in their profile settings to link their account to yours."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Display Names:"})," Set custom display names to easily identify students (especially useful for teachers with multiple students)."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Controls:"}),' Each student can have individual parental controls. Configure them in the "Controls" tab.']}),a.jsxs("p",{children:[a.jsx("strong",{children:"Privacy:"})," Students cannot see messages between their account and yours. All communication is one-way (parent to child)."]})]})]})]})}function vBe({childEmail:t,childProgress:e,childDailyChallenges:r}){var A,C;const[n,i]=S.useState("week"),[s,o]=S.useState("all"),c=(()=>{let E;const j=new Date;switch(n){case"week":E=Gd(j);break;case"month":E=kY(j);break;case"all":E=new Date(0);break;default:E=yS(j,7)}const O=e.filter(R=>new Date(R.created_date)>=E);return s==="all"?O:O.filter(R=>R.operation===s)})(),d=()=>{const E={};return Array.from({length:7},(j,O)=>{const R=hr(yS(new Date,6-O),"yyyy-MM-dd");return E[R]={date:hr(yS(new Date,6-O),"EEE"),games:0,accuracy:0,totalQuestions:0,correctAnswers:0},R}),c.forEach(j=>{const O=hr(new Date(j.created_date),"yyyy-MM-dd");E[O]&&(E[O].games++,E[O].totalQuestions+=j.total_questions,E[O].correctAnswers+=j.correct_answers)}),Object.values(E).map(j=>({...j,accuracy:j.totalQuestions>0?Math.round(j.correctAnswers/j.totalQuestions*100):0}))},f=()=>{const E={addition:0,subtraction:0,multiplication:0,division:0};return c.forEach(j=>{E[j.operation]!==void 0&&E[j.operation]++}),Object.entries(E).map(([j,O])=>({name:j.charAt(0).toUpperCase()+j.slice(1),value:O,color:j==="addition"?"#10b981":j==="subtraction"?"#3b82f6":j==="multiplication"?"#8b5cf6":"#f59e0b"}))},m=()=>{const E={addition:{total:0,correct:0},subtraction:{total:0,correct:0},multiplication:{total:0,correct:0},division:{total:0,correct:0}};return c.forEach(j=>{E[j.operation]&&(E[j.operation].total+=j.total_questions,E[j.operation].correct+=j.correct_answers)}),Object.entries(E).map(([j,O])=>({skill:j.charAt(0).toUpperCase()+j.slice(1),score:O.total>0?Math.round(O.correct/O.total*100):0}))},p=()=>{const E={Morning:0,Afternoon:0,Evening:0,Night:0};return c.forEach(j=>{const O=new Date(j.created_date).getHours();O>=6&&O<12?E.Morning++:O>=12&&O<17?E.Afternoon++:O>=17&&O<21?E.Evening++:E.Night++}),Object.entries(E).map(([j,O])=>({name:j,games:O}))},v=()=>c.slice(-10).reverse().map((j,O)=>({game:`Game ${O+1}`,accuracy:Math.round(j.correct_answers/j.total_questions*100),speed:j.time_taken})),w=()=>{if(c.length===0)return{totalGames:0,avgAccuracy:0,avgSpeed:0,totalStars:0,improvementRate:0};const E=c.length,j=Math.round(c.reduce((Y,J)=>Y+J.correct_answers/J.total_questions*100,0)/E),O=Math.round(c.reduce((Y,J)=>Y+J.time_taken,0)/E),R=c.reduce((Y,J)=>Y+(J.stars_earned||0),0),L=c.slice(0,5),$=c.slice(5,10),F=L.length>0?L.reduce((Y,J)=>Y+J.correct_answers/J.total_questions*100,0)/L.length:0,G=$.length>0?$.reduce((Y,J)=>Y+J.correct_answers/J.total_questions*100,0)/$.length:0,K=G>0?Math.round((F-G)/G*100):0;return{totalGames:E,avgAccuracy:j,avgSpeed:O,totalStars:R,improvementRate:K}},x=d(),g=f(),_=m(),T=p(),P=v(),k=w();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(rm,{className:"w-6 h-6 text-purple-600"}),"Advanced Analytics Dashboard"]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Comprehensive performance insights and trends"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(hi,{value:n,onValueChange:i,children:[a.jsx(Kn,{className:"w-32",children:a.jsx(fi,{})}),a.jsxs(Yn,{children:[a.jsx(et,{value:"week",children:"This Week"}),a.jsx(et,{value:"month",children:"This Month"}),a.jsx(et,{value:"all",children:"All Time"})]})]}),a.jsxs(hi,{value:s,onValueChange:o,children:[a.jsx(Kn,{className:"w-32",children:a.jsx(fi,{})}),a.jsxs(Yn,{children:[a.jsx(et,{value:"all",children:"All Ops"}),a.jsx(et,{value:"addition",children:"Addition"}),a.jsx(et,{value:"subtraction",children:"Subtraction"}),a.jsx(et,{value:"multiplication",children:"Multiplication"}),a.jsx(et,{value:"division",children:"Division"})]})]}),a.jsx(le,{variant:"outline",size:"icon",children:a.jsx(Cpe,{className:"w-4 h-4"})}),a.jsxs(le,{variant:"outline",children:[a.jsx(cy,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsx(re,{className:"border-2 border-blue-200",children:a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Jt,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Games"})]}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:k.totalGames})]})}),a.jsx(re,{className:"border-2 border-green-200",children:a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Qn,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Accuracy"})]}),a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[k.avgAccuracy,"%"]})]})}),a.jsx(re,{className:"border-2 border-purple-200",children:a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(_r,{className:"w-5 h-5 text-purple-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Speed"})]}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[k.avgSpeed,"s"]})]})}),a.jsx(re,{className:"border-2 border-yellow-200",children:a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Qn,{className:"w-5 h-5 text-yellow-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Stars"})]}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:k.totalStars})]})}),a.jsx(re,{className:`border-2 ${k.improvementRate>=0?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[k.improvementRate>=0?a.jsx(gr,{className:"w-5 h-5 text-green-600"}):a.jsx(iu,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Trend"})]}),a.jsxs("p",{className:`text-3xl font-bold ${k.improvementRate>=0?"text-green-600":"text-red-600"}`,children:[k.improvementRate>0?"+":"",k.improvementRate,"%"]})]})})]}),a.jsx(re,{className:"border-2 border-purple-200",children:a.jsx(ne,{className:"p-6",children:a.jsxs(hu,{defaultValue:"activity",className:"w-full",children:[a.jsxs(Ol,{className:"grid w-full grid-cols-5 mb-6",children:[a.jsx(Pt,{value:"activity",children:"Activity"}),a.jsx(Pt,{value:"skills",children:"Skills"}),a.jsx(Pt,{value:"distribution",children:"Distribution"}),a.jsx(Pt,{value:"trends",children:"Trends"}),a.jsx(Pt,{value:"time",children:"Time"})]}),a.jsx(Ft,{value:"activity",children:a.jsxs(re,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Daily Activity (Last 7 Days)"})}),a.jsx(ne,{children:a.jsx(ro,{width:"100%",height:350,children:a.jsxs(AFe,{data:x,children:[a.jsx(ml,{strokeDasharray:"3 3"}),a.jsx(bs,{dataKey:"date"}),a.jsx(Ni,{yAxisId:"left"}),a.jsx(Ni,{yAxisId:"right",orientation:"right"}),a.jsx(pn,{}),a.jsx(Ji,{}),a.jsx(Il,{yAxisId:"left",type:"monotone",dataKey:"games",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6,name:"Games Played"}),a.jsx(Il,{yAxisId:"right",type:"monotone",dataKey:"accuracy",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Accuracy %"})]})})})]})}),a.jsx(Ft,{value:"skills",children:a.jsxs(re,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Skills Assessment"})}),a.jsx(ne,{children:a.jsx(ro,{width:"100%",height:400,children:a.jsxs(PFe,{data:_,children:[a.jsx(hJ,{}),a.jsx(ap,{dataKey:"skill"}),a.jsx(sp,{domain:[0,100]}),a.jsx(z0,{name:"Accuracy %",dataKey:"score",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6}),a.jsx(pn,{})]})})})]})}),a.jsx(Ft,{value:"distribution",children:a.jsxs(re,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Operation Distribution"})}),a.jsx(ne,{children:a.jsx(ro,{width:"100%",height:400,children:a.jsxs(EFe,{children:[a.jsx(Ul,{data:g,cx:"50%",cy:"50%",labelLine:!1,label:E=>`${E.name}: ${E.value}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:g.map((E,j)=>a.jsx(g_,{fill:E.color},`cell-${j}`))}),a.jsx(pn,{})]})})})]})}),a.jsx(Ft,{value:"trends",children:a.jsxs(re,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Recent Performance Trend"})}),a.jsx(ne,{children:a.jsx(ro,{width:"100%",height:350,children:a.jsxs(L_,{data:P,children:[a.jsx(ml,{strokeDasharray:"3 3"}),a.jsx(bs,{dataKey:"game"}),a.jsx(Ni,{yAxisId:"left"}),a.jsx(Ni,{yAxisId:"right",orientation:"right"}),a.jsx(pn,{}),a.jsx(Ji,{}),a.jsx(Aa,{yAxisId:"left",type:"monotone",dataKey:"accuracy",stroke:"#10b981",strokeWidth:3,name:"Accuracy %"}),a.jsx(Aa,{yAxisId:"right",type:"monotone",dataKey:"speed",stroke:"#f59e0b",strokeWidth:3,name:"Speed (seconds)"})]})})})]})}),a.jsx(Ft,{value:"time",children:a.jsxs(re,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Time of Day Analysis"})}),a.jsxs(ne,{children:[a.jsx(ro,{width:"100%",height:350,children:a.jsxs(yk,{data:T,children:[a.jsx(ml,{strokeDasharray:"3 3"}),a.jsx(bs,{dataKey:"name"}),a.jsx(Ni,{}),a.jsx(pn,{}),a.jsx(Ji,{}),a.jsx(xa,{dataKey:"games",fill:"#8b5cf6",name:"Games Played"})]})}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-gray-600 mb-1",children:"Most Active Time"}),a.jsx("p",{className:"font-bold text-blue-700",children:((A=T.reduce((E,j)=>j.games>E.games?j:E,T[0]))==null?void 0:A.name)||"N/A"})]}),a.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[a.jsx("p",{className:"text-gray-600 mb-1",children:"Recommended Practice Time"}),a.jsx("p",{className:"font-bold text-purple-700",children:((C=T.reduce((E,j)=>j.games>E.games?j:E,T[0]))==null?void 0:C.name)||"N/A"})]})]})]})]})})]})})})]})}function Bee(){const t=wn(),[e,r]=S.useState(null),[n,i]=S.useState("overview"),{data:s}=ft({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:o=[]}=ft({queryKey:["allUsers"],queryFn:()=>base44.entities.User.list(),initialData:[]}),l=o.filter(x=>x.parent_email===(s==null?void 0:s.email)),{data:c=[]}=ft({queryKey:["childProgress",e],queryFn:()=>base44.entities.GameProgress.filter({created_by:e}),initialData:[],enabled:!!e}),{data:d=[]}=ft({queryKey:["childDailyChallenges",e],queryFn:()=>base44.entities.DailyChallenge.filter({created_by:e}),initialData:[],enabled:!!e}),{data:f=[]}=ft({queryKey:["childGoals",e],queryFn:()=>base44.entities.CustomGoal.filter({child_email:e}),initialData:[],enabled:!!e}),m=Pr({mutationFn:x=>base44.auth.updateMe({is_parent_mode:x}),onSuccess:()=>{t.invalidateQueries({queryKey:["currentUser"]})}}),p=l.find(x=>x.email===e),v=o.find(x=>x.email===e),w=(s==null?void 0:s.is_premium_parent)||(s==null?void 0:s.is_family_teacher);return s!=null&&s.is_parent_mode?w?a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Parent & Teacher Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive learning management & monitoring"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(le,{variant:"outline",onClick:()=>window.open(Ge("Subscription"),"_blank","noopener,noreferrer"),children:[a.jsx(F1,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]}),a.jsxs(le,{variant:"outline",onClick:()=>m.mutate(!1),children:[a.jsx(uy,{className:"w-4 h-4 mr-2"}),"Exit Parent Mode"]}),a.jsxs(le,{className:"bg-gradient-to-r from-yellow-400 to-orange-500",onClick:()=>window.open(Ge("Subscription"),"_blank","noopener,noreferrer"),children:[a.jsx(Si,{className:"w-4 h-4 mr-2"}),(s==null?void 0:s.subscription_tier)==="family_teacher"?"Family Plan":"Premium"]})]})]}),a.jsx("div",{className:"mb-8",children:a.jsx(yVe,{myChildren:l,selectedChildEmail:e,onSelectChild:r,currentUserEmail:s==null?void 0:s.email})}),p?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[a.jsx(re,{className:"border-2 border-blue-200 hover:shadow-lg transition-all cursor-pointer hover:scale-105",onClick:()=>i("communication"),children:a.jsxs(ne,{className:"p-4 text-center",children:[a.jsx(ame,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),a.jsx("h3",{className:"font-bold text-sm",children:"Quick Message"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Send encouragement"})]})}),a.jsx(re,{className:"border-2 border-green-200 hover:shadow-lg transition-all cursor-pointer hover:scale-105",onClick:()=>i("lessons"),children:a.jsxs(ne,{className:"p-4 text-center",children:[a.jsx(Eme,{className:"w-8 h-8 mx-auto mb-2 text-green-600"}),a.jsx("h3",{className:"font-bold text-sm",children:"New Assignment"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Create lesson"})]})}),a.jsx(re,{className:"border-2 border-purple-200 hover:shadow-lg transition-all cursor-pointer hover:scale-105",onClick:()=>i("analytics"),children:a.jsxs(ne,{className:"p-4 text-center",children:[a.jsx(rm,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),a.jsx("h3",{className:"font-bold text-sm",children:"View Report"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Generate PDF"})]})}),a.jsx(re,{className:"border-2 border-orange-200 hover:shadow-lg transition-all cursor-pointer hover:scale-105",onClick:()=>i("goals"),children:a.jsxs(ne,{className:"p-4 text-center",children:[a.jsx(Jt,{className:"w-8 h-8 mx-auto mb-2 text-orange-600"}),a.jsx("h3",{className:"font-bold text-sm",children:"Set Goal"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"New challenge"})]})})]}),a.jsx(vVe,{childProgress:c,childDailyChallenges:d,selectedChild:p}),a.jsx(re,{className:"border-2 border-purple-200 shadow-lg",children:a.jsx(ne,{className:"p-6",children:a.jsxs(hu,{value:n,onValueChange:i,className:"w-full",children:[a.jsxs(Ol,{className:"grid w-full grid-cols-4 lg:grid-cols-8 mb-6",children:[a.jsxs(Pt,{value:"overview",children:[a.jsx(rm,{className:"w-4 h-4 mr-2"}),"Overview"]}),a.jsxs(Pt,{value:"analytics",children:[a.jsx(gr,{className:"w-4 h-4 mr-2"}),"Analytics"]}),a.jsxs(Pt,{value:"lessons",children:[a.jsx(Bs,{className:"w-4 h-4 mr-2"}),"Lessons"]}),a.jsxs(Pt,{value:"goals",children:[a.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Goals"]}),a.jsxs(Pt,{value:"communication",children:[a.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Messages"]}),a.jsxs(Pt,{value:"team",children:[a.jsx(bn,{className:"w-4 h-4 mr-2"}),"Team"]}),a.jsxs(Pt,{value:"controls",children:[a.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Controls"]}),a.jsxs(Pt,{value:"accounts",children:[a.jsx(pA,{className:"w-4 h-4 mr-2"}),"Accounts"]})]}),a.jsxs(Ft,{value:"overview",className:"space-y-6",children:[a.jsx(xVe,{childProgress:c,childDailyChallenges:d}),a.jsx(nBe,{childProgress:c,childDailyChallenges:d})]}),a.jsx(Ft,{value:"analytics",className:"space-y-6",children:a.jsx(vBe,{childEmail:e,childProgress:c,childDailyChallenges:d})}),a.jsx(Ft,{value:"lessons",className:"space-y-6",children:a.jsx(pBe,{childEmail:e,childProgress:c})}),a.jsx(Ft,{value:"goals",className:"space-y-6",children:a.jsx(rBe,{childEmail:e,childGoals:f,childProgress:c,childDailyChallenges:d})}),a.jsx(Ft,{value:"communication",className:"space-y-6",children:a.jsx(gBe,{childEmail:e,parentEmail:s==null?void 0:s.email})}),a.jsx(Ft,{value:"team",className:"space-y-6",children:a.jsx(lBe,{})}),a.jsx(Ft,{value:"controls",className:"space-y-6",children:a.jsx(mBe,{childEmail:e,currentControls:(v==null?void 0:v.parental_controls)||{}})}),a.jsx(Ft,{value:"accounts",className:"space-y-6",children:a.jsx(yBe,{myChildren:l,parentEmail:s==null?void 0:s.email})})]})})})]}):a.jsx(re,{className:"border-2 border-gray-200",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(bn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Child Selected"}),a.jsx("p",{className:"text-gray-600 mb-6",children:l.length>0?"Select a child from above to view their progress":"Add a child account to start monitoring their progress"}),l.length===0&&a.jsxs(ze,{className:"bg-blue-50 border-blue-200 text-left",children:[a.jsx(ci,{className:"w-5 h-5 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"How to add a child:"}),a.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Have your child create an account"}),a.jsx("li",{children:"In their account settings, they can add your email as their parent"}),a.jsx("li",{children:"Their progress will then appear in your portal"})]})]})]})]})})]}):a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsxs(re,{className:"border-4 border-yellow-300 shadow-2xl",children:[a.jsxs(_e,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-center py-12",children:[a.jsx(Si,{className:"w-20 h-20 mx-auto mb-4"}),a.jsx(Ne,{className:"text-4xl mb-2",children:"Unlock Premium Parent Features"}),a.jsx("p",{className:"text-xl opacity-90",children:"Get full access to advanced parental controls and analytics"})]}),a.jsxs(ne,{className:"p-8 space-y-6",children:[a.jsxs(ze,{className:"bg-blue-50 border-blue-200",children:[a.jsx(Gi,{className:"w-5 h-5 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"Premium Parent Subscription Includes:"}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Advanced parental controls (time limits, content filtering)"}),a.jsx("li",{children:"Detailed progress analytics and performance insights"}),a.jsx("li",{children:"Custom goal setting and weekly/monthly reports"}),a.jsx("li",{children:"Focus topic recommendations"}),a.jsx("li",{children:"Feature access management"}),a.jsx("li",{children:"Lesson assignment capabilities"}),a.jsx("li",{children:"Communication center with your child"}),a.jsx("li",{children:"Student account management tools"})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs(le,{className:"h-14 px-8 text-lg bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600",onClick:()=>window.open(Ge("Subscription"),"_blank","noopener,noreferrer"),children:[a.jsx(Si,{className:"w-5 h-5 mr-2"}),"View Subscription Plans"]}),a.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Starting at $7.99/month  Cancel anytime"})]})]})]})}):a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsxs(re,{className:"border-4 border-purple-300 shadow-2xl",children:[a.jsxs(_e,{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx(Ne,{className:"text-4xl mb-2",children:"Parent & Teacher Portal"}),a.jsx("p",{className:"text-xl opacity-90",children:"Monitor and guide your child's learning journey"})]}),a.jsxs(ne,{className:"p-8 space-y-6",children:[a.jsxs(ze,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ci,{className:"w-5 h-5 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"Welcome to the Parent Portal!"})," This feature allows you to:",a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"View detailed progress across all game modes"}),a.jsx("li",{children:"Track performance trends and identify strengths/weaknesses"}),a.jsx("li",{children:"Set custom goals and challenges"}),a.jsx("li",{children:"Monitor daily challenge participation"}),a.jsx("li",{children:"Control app usage and customize learning focus"}),a.jsx("li",{children:"Set time limits and manage feature access"}),a.jsx("li",{children:"Assign specific lessons and practice areas"}),a.jsx("li",{children:"Communicate directly with your child"}),a.jsx("li",{children:"Manage multiple student accounts"})]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl border-2 border-purple-200",children:[a.jsx(gr,{className:"w-12 h-12 mx-auto mb-3 text-purple-600"}),a.jsx("h3",{className:"font-bold mb-2",children:"Track Progress"}),a.jsx("p",{className:"text-sm text-gray-600",children:"See detailed statistics and performance trends"})]}),a.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border-2 border-blue-200",children:[a.jsx(Jt,{className:"w-12 h-12 mx-auto mb-3 text-blue-600"}),a.jsx("h3",{className:"font-bold mb-2",children:"Assign Lessons"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Create custom lessons and practice goals"})]}),a.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-xl border-2 border-green-200",children:[a.jsx(Pc,{className:"w-12 h-12 mx-auto mb-3 text-green-600"}),a.jsx("h3",{className:"font-bold mb-2",children:"Communicate"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Send feedback and encouragement"})]})]}),a.jsxs("div",{className:"text-center pt-4",children:[a.jsxs(le,{onClick:()=>m.mutate(!0),className:"h-14 px-8 text-lg bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600",disabled:m.isPending,children:[a.jsx(bn,{className:"w-5 h-5 mr-2"}),m.isPending?"Enabling...":"Enable Parent Mode"]}),a.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"You can switch back to regular mode anytime"})]})]})]})})}function xBe({badge:t,size:e="medium"}){if(!t)return null;const r={small:"w-8 h-8 text-lg",medium:"w-12 h-12 text-2xl",large:"w-20 h-20 text-4xl"},n=r[e]||r.medium;return a.jsxs("div",{className:"relative inline-block",children:[a.jsx("div",{className:`${n} rounded-full bg-gradient-to-br ${t.gradient} flex items-center justify-center shadow-lg border-2 border-white`,children:a.jsx("span",{children:t.emoji})}),e!=="small"&&a.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 whitespace-nowrap",children:a.jsx(je,{variant:"outline",className:"text-xs bg-white",children:t.name})})]})}const YU=[{day:1,stars:5,coins:20,emoji:""},{day:2,stars:5,coins:25,emoji:""},{day:3,stars:10,coins:30,emoji:""},{day:4,stars:10,coins:35,emoji:""},{day:5,stars:15,coins:50,emoji:""},{day:6,stars:15,coins:60,emoji:""},{day:7,stars:25,coins:100,emoji:"",special:"Bonus Pet Food!"}];function bBe(){const t=wn(),[e,r]=S.useState(!1),{data:n}=ft({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),i=Pr({mutationFn:async()=>{var k;const v=hr(Ki(new Date),"yyyy-MM-dd"),x=((n==null?void 0:n.daily_login_streak)||0)+1,g=(x-1)%7+1,_=YU[g-1],T={last_login_date:v,daily_login_streak:x,total_login_days:((n==null?void 0:n.total_login_days)||0)+1,coins:((n==null?void 0:n.coins)||0)+_.coins};if(g===7&&(n!=null&&n.active_pet)){const A=((k=n==null?void 0:n.pet_experience)==null?void 0:k[n.active_pet])||0;T.pet_experience={...(n==null?void 0:n.pet_experience)||{},[n.active_pet]:A+200}}const P=or(Mt);await bl(Ci(P,"users",n.email),T,{merge:!0})},onSuccess:()=>{t.invalidateQueries({queryKey:["currentUser"]}),r(!0),setTimeout(()=>r(!1),3e3)}}),s=()=>{if(!n)return!1;const v=hr(Ki(new Date),"yyyy-MM-dd"),w=n.last_login_date;if(!w)return!0;if(w===v)return!1;const x=new Date(w),g=Ki(new Date);return kL(g,x)===1},o=()=>{if(!(n!=null&&n.last_login_date))return!1;const v=new Date(n.last_login_date),w=Ki(new Date);return kL(w,v)>1},l=()=>n!=null&&n.daily_login_streak?(n.daily_login_streak-1)%7+1:1,c=()=>{if(!(n!=null&&n.last_login_date))return!1;const v=hr(Ki(new Date),"yyyy-MM-dd");return n.last_login_date===v},d=(n==null?void 0:n.daily_login_streak)||0,f=l(),m=c(),p=o();return a.jsxs(re,{className:"border-4 border-purple-300 shadow-xl bg-gradient-to-br from-purple-50 to-pink-50",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hr,{className:"w-6 h-6"}),a.jsx("span",{children:"Daily Login Rewards"})]}),a.jsxs(je,{className:"bg-white text-purple-600 font-bold",children:[a.jsx(Xt,{className:"w-4 h-4 mr-1"}),d," Day Streak"]})]})}),a.jsxs(ne,{className:"p-6",children:[e&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border-2 border-green-300 rounded-xl animate-pulse",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-4xl",children:""}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-green-800",children:"Reward Claimed!"}),a.jsx("p",{className:"text-sm text-green-700",children:"Come back tomorrow for more rewards!"})]})]})}),p&&a.jsx("div",{className:"mb-4 p-4 bg-orange-50 border-2 border-orange-300 rounded-xl",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-3xl",children:""}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-orange-800",children:"Streak Reset!"}),a.jsx("p",{className:"text-sm text-orange-700",children:"You missed a day. Start a new streak today!"})]})]})}),a.jsx("div",{className:"grid grid-cols-7 gap-2 mb-6",children:YU.map((v,w)=>{const x=w+1,g=x===f,_=!p&&d>=x,T=m&&x===f;return a.jsxs("div",{className:`relative p-3 rounded-xl text-center transition-all ${T?"bg-green-100 border-2 border-green-400 scale-105":g&&!m?"bg-purple-100 border-2 border-purple-400 scale-105 animate-pulse":_?"bg-gray-100 border-2 border-gray-300":"bg-white border-2 border-gray-200 opacity-60"}`,children:[a.jsx("div",{className:"text-2xl mb-1",children:v.emoji}),a.jsxs("div",{className:"text-xs font-bold mb-1",children:["Day ",x]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs",children:[a.jsx(Tt,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),a.jsx("span",{children:v.stars})]}),a.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs",children:[a.jsx(Kc,{className:"w-3 h-3 text-blue-500"}),a.jsx("span",{children:v.coins})]})]}),T&&a.jsx("div",{className:"absolute -top-1 -right-1",children:a.jsx(Wt,{className:"w-5 h-5 text-green-500 fill-green-100"})}),!g&&!_&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10 rounded-xl",children:a.jsx(ui,{className:"w-4 h-4 text-gray-500"})}),v.special&&g&&a.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 whitespace-nowrap",children:a.jsx(je,{className:"bg-orange-500 text-white text-xs",children:v.special})})]},x)})}),a.jsxs("div",{className:"space-y-3",children:[m?a.jsxs("div",{className:"text-center p-4 bg-green-50 border-2 border-green-200 rounded-xl",children:[a.jsx(Wt,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),a.jsx("p",{className:"font-bold text-green-800",children:"Already claimed today!"}),a.jsx("p",{className:"text-sm text-green-700",children:"Come back tomorrow for more rewards"})]}):p?a.jsxs(le,{onClick:()=>i.mutate(),disabled:i.isPending,className:"w-full h-14 text-lg bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600",children:[a.jsx(mA,{className:"w-5 h-5 mr-2"}),"Start New Streak & Claim Day 1"]}):a.jsxs(le,{onClick:()=>i.mutate(),disabled:!s()||i.isPending,className:"w-full h-14 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(mA,{className:"w-5 h-5 mr-2"}),"Claim Day ",f," Reward"]}),a.jsxs("div",{className:"text-center text-sm text-gray-600",children:[a.jsxs("p",{children:[" Total Login Days: ",a.jsx("strong",{children:(n==null?void 0:n.total_login_days)||0})]}),a.jsx("p",{className:"mt-1",children:" Log in every day to keep your streak and earn bigger rewards!"})]})]})]})]})}const Ux={pets:[{id:"dragon",name:"Dragon",emoji:"",price:50,gradient:"from-red-400 to-orange-500",evolveLevel:5,description:"Breathe fire and soar!"},{id:"unicorn",name:"Unicorn",emoji:"",price:50,gradient:"from-pink-400 to-purple-500",evolveLevel:5,description:"Magical and sparkly!"},{id:"owl",name:"Owl",emoji:"",price:50,gradient:"from-indigo-400 to-purple-500",evolveLevel:5,description:"Wise and clever!"},{id:"fox",name:"Fox",emoji:"",price:50,gradient:"from-orange-400 to-red-500",evolveLevel:5,description:"Cunning and quick!"},{id:"cat",name:"Cat",emoji:"",price:50,gradient:"from-gray-400 to-slate-500",evolveLevel:5,description:"Playful and curious!"},{id:"dog",name:"Dog",emoji:"",price:50,gradient:"from-yellow-400 to-orange-500",evolveLevel:5,description:"Loyal and friendly!"}],avatarItems:[{id:"curly",name:"Curly Hair",emoji:"",price:20,category:"hair",type:"avatar_hair_style"},{id:"spiky",name:"Spiky Hair",emoji:"",price:20,category:"hair",type:"avatar_hair_style"},{id:"ponytail",name:"Ponytail",emoji:"",price:25,category:"hair",type:"avatar_hair_style"},{id:"braids",name:"Braids",emoji:"",price:25,category:"hair",type:"avatar_hair_style"},{id:"afro",name:"Afro",emoji:"",price:30,category:"hair",type:"avatar_hair_style"},{id:"mohawk",name:"Mohawk",emoji:"",price:30,category:"hair",type:"avatar_hair_style"},{id:"bun",name:"Bun",emoji:"",price:25,category:"hair",type:"avatar_hair_style"},{id:"red",name:"Red Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"blue",name:"Blue Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"pink",name:"Pink Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"purple",name:"Purple Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"green",name:"Green Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"orange",name:"Orange Hair",emoji:"",price:15,category:"hair",type:"avatar_hair_color"},{id:"white",name:"White Hair",emoji:"",price:20,category:"hair",type:"avatar_hair_color"},{id:"rainbow",name:"Rainbow Hair",emoji:"",price:40,category:"hair",type:"avatar_hair_color"},{id:"hoodie",name:"Hoodie",emoji:"",price:30,category:"clothing",type:"avatar_shirt"},{id:"tank_top",name:"Tank Top",emoji:"",price:25,category:"clothing",type:"avatar_shirt"},{id:"sweater",name:"Sweater",emoji:"",price:30,category:"clothing",type:"avatar_shirt"},{id:"jersey",name:"Jersey",emoji:"",price:35,category:"clothing",type:"avatar_shirt"},{id:"button_up",name:"Button Up",emoji:"",price:35,category:"clothing",type:"avatar_shirt"},{id:"graphic_tee",name:"Graphic Tee",emoji:"",price:30,category:"clothing",type:"avatar_shirt"},{id:"t_shirt_stripe",name:"Striped Tee",emoji:"",price:25,category:"clothing",type:"avatar_shirt"},{id:"polo",name:"Polo Shirt",emoji:"",price:30,category:"clothing",type:"avatar_shirt"},{id:"shorts",name:"Shorts",emoji:"",price:25,category:"clothing",type:"avatar_pants"},{id:"skirt",name:"Skirt",emoji:"",price:25,category:"clothing",type:"avatar_pants"},{id:"dress_pants",name:"Dress Pants",emoji:"",price:30,category:"clothing",type:"avatar_pants"},{id:"joggers",name:"Joggers",emoji:"",price:30,category:"clothing",type:"avatar_pants"},{id:"overalls",name:"Overalls",emoji:"",price:35,category:"clothing",type:"avatar_pants"},{id:"leggings",name:"Leggings",emoji:"",price:25,category:"clothing",type:"avatar_pants"},{id:"cargo_pants",name:"Cargo Pants",emoji:"",price:30,category:"clothing",type:"avatar_pants"},{id:"boots",name:"Boots",emoji:"",price:30,category:"clothing",type:"avatar_shoes"},{id:"sandals",name:"Sandals",emoji:"",price:20,category:"clothing",type:"avatar_shoes"},{id:"dress_shoes",name:"Dress Shoes",emoji:"",price:35,category:"clothing",type:"avatar_shoes"},{id:"high_tops",name:"High Tops",emoji:"",price:35,category:"clothing",type:"avatar_shoes"},{id:"cleats",name:"Cleats",emoji:"",price:35,category:"clothing",type:"avatar_shoes"},{id:"slippers",name:"Slippers",emoji:"",price:20,category:"clothing",type:"avatar_shoes"},{id:"baseball_cap",name:"Baseball Cap",emoji:"",price:25,category:"accessories",type:"avatar_hat"},{id:"beanie",name:"Beanie",emoji:"",price:25,category:"accessories",type:"avatar_hat"},{id:"sun_hat",name:"Sun Hat",emoji:"",price:25,category:"accessories",type:"avatar_hat"},{id:"wizard_hat",name:"Wizard Hat",emoji:"",price:40,category:"accessories",type:"avatar_hat"},{id:"party_hat",name:"Party Hat",emoji:"",price:30,category:"accessories",type:"avatar_hat"},{id:"graduation_cap",name:"Graduation Cap",emoji:"",price:35,category:"accessories",type:"avatar_hat"},{id:"crown",name:"Crown",emoji:"",price:50,category:"accessories",type:"avatar_hat"},{id:"top_hat",name:"Top Hat",emoji:"",price:35,category:"accessories",type:"avatar_hat"},{id:"cowboy_hat",name:"Cowboy Hat",emoji:"",price:30,category:"accessories",type:"avatar_hat"},{id:"regular",name:"Glasses",emoji:"",price:25,category:"accessories",type:"avatar_glasses"},{id:"sunglasses",name:"Sunglasses",emoji:"",price:30,category:"accessories",type:"avatar_glasses"},{id:"reading",name:"Reading Glasses",emoji:"",price:25,category:"accessories",type:"avatar_glasses"},{id:"safety_goggles",name:"Safety Goggles",emoji:"",price:30,category:"accessories",type:"avatar_glasses"},{id:"3d_glasses",name:"3D Glasses",emoji:"",price:30,category:"accessories",type:"avatar_glasses"},{id:"heart_shaped",name:"Heart Glasses",emoji:"",price:35,category:"accessories",type:"avatar_glasses"},{id:"star_shaped",name:"Star Glasses",emoji:"",price:35,category:"accessories",type:"avatar_glasses"},{id:"backpack",name:"Backpack",emoji:"",price:30,category:"accessories",type:"avatar_accessory"},{id:"cape",name:"Cape",emoji:"",price:40,category:"accessories",type:"avatar_accessory"},{id:"scarf",name:"Scarf",emoji:"",price:25,category:"accessories",type:"avatar_accessory"},{id:"bow_tie",name:"Bow Tie",emoji:"",price:25,category:"accessories",type:"avatar_accessory"},{id:"necklace",name:"Necklace",emoji:"",price:30,category:"accessories",type:"avatar_accessory"},{id:"watch",name:"Watch",emoji:"",price:35,category:"accessories",type:"avatar_accessory"},{id:"headphones",name:"Headphones",emoji:"",price:35,category:"accessories",type:"avatar_accessory"},{id:"earrings",name:"Earrings",emoji:"",price:30,category:"accessories",type:"avatar_accessory"},{id:"bracelet",name:"Bracelet",emoji:"",price:25,category:"accessories",type:"avatar_accessory"},{id:"stars",name:"Starry Background",emoji:"",price:40,category:"backgrounds",type:"avatar_background"},{id:"rainbow",name:"Rainbow Background",emoji:"",price:40,category:"backgrounds",type:"avatar_background"},{id:"clouds",name:"Cloudy Background",emoji:"",price:35,category:"backgrounds",type:"avatar_background"},{id:"space",name:"Space Background",emoji:"",price:45,category:"backgrounds",type:"avatar_background"},{id:"underwater",name:"Underwater Background",emoji:"",price:45,category:"backgrounds",type:"avatar_background"},{id:"forest",name:"Forest Background",emoji:"",price:40,category:"backgrounds",type:"avatar_background"},{id:"city",name:"City Background",emoji:"",price:40,category:"backgrounds",type:"avatar_background"},{id:"beach",name:"Beach Background",emoji:"",price:40,category:"backgrounds",type:"avatar_background"},{id:"cool",name:"Cool Eyes",emoji:"",price:20,category:"facial",type:"avatar_eyes"},{id:"star",name:"Star Eyes",emoji:"",price:25,category:"facial",type:"avatar_eyes"},{id:"heart",name:"Heart Eyes",emoji:"",price:25,category:"facial",type:"avatar_eyes"},{id:"sleepy",name:"Sleepy Eyes",emoji:"",price:20,category:"facial",type:"avatar_eyes"},{id:"angry",name:"Determined Eyes",emoji:"",price:20,category:"facial",type:"avatar_eyes"},{id:"surprised",name:"Surprised Eyes",emoji:"",price:20,category:"facial",type:"avatar_eyes"},{id:"wink",name:"Winking Eyes",emoji:"",price:25,category:"facial",type:"avatar_eyes"},{id:"laughing",name:"Laughing Face",emoji:"",price:20,category:"facial",type:"avatar_face"},{id:"determined",name:"Determined Face",emoji:"",price:20,category:"facial",type:"avatar_face"},{id:"neutral",name:"Neutral Face",emoji:"",price:15,category:"facial",type:"avatar_face"},{id:"tongue_out",name:"Playful Face",emoji:"",price:20,category:"facial",type:"avatar_face"}],badges:[{id:"first_game",name:"First Game",emoji:"",gradient:"from-green-400 to-emerald-500",description:"Completed your first game!",requirement:"Play 1 game"},{id:"star_collector",name:"Star Collector",emoji:"",gradient:"from-yellow-400 to-orange-500",description:"Earned 50 stars!",requirement:"Earn 50 stars"},{id:"speed_demon",name:"Speed Demon",emoji:"",gradient:"from-blue-400 to-cyan-500",description:"Complete a game in under 60 seconds",requirement:"Complete game < 60s"},{id:"perfectionist",name:"Perfectionist",emoji:"",gradient:"from-pink-400 to-purple-500",description:"Get 100% accuracy",requirement:"100% accuracy"},{id:"daily_warrior",name:"Daily Warrior",emoji:"",gradient:"from-red-400 to-orange-500",description:"Complete 7 daily challenges",requirement:"7 daily challenges"}],powerUps:[{id:"time_freeze",name:"Time Freeze",emoji:"",price:10,coins:!0,description:"Stop the timer for 10 seconds"},{id:"hint_helper",name:"Hint Helper",emoji:"",price:5,coins:!0,description:"Get a hint on a problem"},{id:"skip_question",name:"Skip Question",emoji:"",price:8,coins:!0,description:"Skip one difficult question"},{id:"double_stars",name:"Double Stars",emoji:"",price:15,coins:!0,description:"Earn 2x stars for next game"}]};function qee(){const t=wn(),[e,r]=S.useState(null),[n,i]=S.useState("pets"),{data:s,isLoading:o}=ft({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:l=[]}=ft({queryKey:["gameProgress"],queryFn:()=>base44.entities.GameProgress.list(),initialData:[]}),c=Pr({mutationFn:async({itemId:g,price:_,type:T,coins:P=!1})=>{const k={};if(P)k.coins=((s==null?void 0:s.coins)||0)-_,k.power_ups={...(s==null?void 0:s.power_ups)||{},[g]:(((s==null?void 0:s.power_ups)||{})[g]||0)+1};else{const A=l.reduce((j,O)=>j+(O.stars_earned||0),0),C=(s==null?void 0:s.stars_spent)||0;if(A-C<_)throw new Error("Not enough stars!");k.stars_spent=C+_,T==="pet"?(k.owned_pets=[...(s==null?void 0:s.owned_pets)||[],g],s!=null&&s.active_pet||(k.active_pet=g)):k.purchased_items=[...(s==null?void 0:s.purchased_items)||[],g]}return base44.auth.updateMe(k)},onSuccess:(g,_)=>{t.invalidateQueries({queryKey:["currentUser"]}),r(_.itemId),setTimeout(()=>r(null),3e3)}}),d=Pr({mutationFn:g=>base44.auth.updateMe({active_pet:g}),onSuccess:()=>{t.invalidateQueries({queryKey:["currentUser"]})}}),f=(g,_="avatar",T=!1)=>{c.mutate({itemId:g.id,price:g.price,type:_,coins:T})},m=g=>{d.mutate(g)},p=(g,_="avatar")=>_==="pet"?((s==null?void 0:s.owned_pets)||[]).includes(g):((s==null?void 0:s.unlocked_items)||[]).includes(g)||((s==null?void 0:s.purchased_items)||[]).includes(g),v=()=>l.reduce((g,_)=>g+(_.stars_earned||0),0),w=()=>{const g=v(),_=(s==null?void 0:s.stars_spent)||0;return g-_},x=()=>(s==null?void 0:s.coins)||0;return o?a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Loading shop..."})]})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-xl",children:a.jsx(il,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Rewards Shop"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Spend your stars and coins on awesome items!"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:[a.jsx(re,{className:"border-4 border-yellow-300 bg-gradient-to-r from-yellow-50 to-orange-50",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx(Tt,{className:"w-12 h-12 mx-auto mb-2 text-yellow-500 fill-yellow-500"}),a.jsx("div",{className:"text-4xl font-bold text-yellow-600 mb-1",children:w()}),a.jsx("p",{className:"text-gray-600",children:"Available Stars"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Total: ",v()," | Spent: ",(s==null?void 0:s.stars_spent)||0]})]})}),a.jsx(re,{className:"border-4 border-blue-300 bg-gradient-to-r from-blue-50 to-cyan-50",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx(Kc,{className:"w-12 h-12 mx-auto mb-2 text-blue-500"}),a.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:x()}),a.jsx("p",{className:"text-gray-600",children:"Coins"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For power-ups and boosts"})]})})]}),e&&a.jsxs(ze,{className:"mb-6 bg-green-50 border-green-200",children:[a.jsx(Xt,{className:"w-4 h-4 text-green-600"}),a.jsx(We,{className:"text-green-800",children:"Purchase successful! Item added to your collection "})]}),a.jsx("div",{className:"mb-8",children:a.jsx(bBe,{})}),a.jsx(re,{className:"border-2 border-purple-200",children:a.jsx(ne,{className:"p-6",children:a.jsxs(hu,{value:n,onValueChange:i,children:[a.jsxs(Ol,{className:"grid w-full grid-cols-4 mb-6",children:[a.jsxs(Pt,{value:"pets",children:[a.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Pets"]}),a.jsxs(Pt,{value:"avatar",children:[a.jsx(Wd,{className:"w-4 h-4 mr-2"}),"Avatar"]}),a.jsxs(Pt,{value:"badges",children:[a.jsx(Si,{className:"w-4 h-4 mr-2"}),"Badges"]}),a.jsxs(Pt,{value:"powerups",children:[a.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Power-Ups"]})]}),a.jsx(Ft,{value:"pets",className:"space-y-6",children:a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ux.pets.map(g=>{var k;const _=p(g.id,"pet"),T=(s==null?void 0:s.active_pet)===g.id,P=w()>=g.price;return a.jsxs(re,{className:`border-2 ${T?"border-purple-500 ring-2 ring-purple-200":"border-gray-200"}`,children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsx("span",{children:g.name}),T&&a.jsx(je,{className:"bg-purple-500",children:"Active"})]})}),a.jsxs(ne,{children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(pO,{pet:g,experience:((k=s==null?void 0:s.pet_experience)==null?void 0:k[g.id])||0,size:"large"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:g.description}),_?T?a.jsx(le,{disabled:!0,className:"w-full",variant:"outline",children:"Currently Active"}):a.jsx(le,{onClick:()=>m(g.id),className:"w-full bg-purple-500 hover:bg-purple-600",children:"Set as Active"}):a.jsx(le,{onClick:()=>f(g,"pet"),disabled:!P||c.isPending,className:`w-full ${P?"bg-gradient-to-r from-purple-500 to-pink-500":""}`,children:P?a.jsxs(a.Fragment,{children:[a.jsx(Tt,{className:"w-4 h-4 mr-2 fill-white"}),"Buy for ",g.price," Stars"]}):a.jsxs(a.Fragment,{children:[a.jsx(ui,{className:"w-4 h-4 mr-2"}),"Need ",g.price-w()," more stars"]})})]})]},g.id)})})}),a.jsx(Ft,{value:"avatar",className:"space-y-6",children:a.jsxs(hu,{defaultValue:"hair",children:[a.jsxs(Ol,{className:"grid w-full grid-cols-5",children:[a.jsx(Pt,{value:"hair",children:"Hair"}),a.jsx(Pt,{value:"clothing",children:"Clothing"}),a.jsx(Pt,{value:"accessories",children:"Accessories"}),a.jsx(Pt,{value:"backgrounds",children:"Backgrounds"}),a.jsx(Pt,{value:"facial",children:"Facial"})]}),["hair","clothing","accessories","backgrounds","facial"].map(g=>a.jsx(Ft,{value:g,children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Ux.avatarItems.filter(_=>_.category===g).map(_=>{const T=p(_.id),P=w()>=_.price;return a.jsx(re,{className:`border-2 ${T?"border-green-300 bg-green-50":"border-gray-200"}`,children:a.jsxs(ne,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:_.emoji}),a.jsx("h3",{className:"font-bold text-sm mb-2",children:_.name}),T?a.jsx(je,{className:"bg-green-500 text-white",children:"Owned"}):a.jsx(le,{onClick:()=>f(_),disabled:!P||c.isPending,size:"sm",className:`w-full ${P?"bg-gradient-to-r from-purple-500 to-pink-500":""}`,children:P?a.jsxs(a.Fragment,{children:[a.jsx(Tt,{className:"w-3 h-3 mr-1 fill-white"}),_.price]}):a.jsxs(a.Fragment,{children:[a.jsx(ui,{className:"w-3 h-3 mr-1"}),_.price]})})]})},_.id)})})},g))]})}),a.jsxs(Ft,{value:"badges",className:"space-y-6",children:[a.jsxs(ze,{className:"bg-blue-50 border-blue-300",children:[a.jsx(Xt,{className:"w-4 h-4 text-blue-600"}),a.jsx(We,{className:"text-blue-800",children:"Badges are earned by completing specific achievements. Keep playing to unlock them all!"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ux.badges.map(g=>a.jsx(re,{className:"border-2 border-gray-200",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx(xBe,{badge:g,size:"large"})}),a.jsx("h3",{className:"font-bold text-lg mb-2",children:g.name}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.description}),a.jsx(je,{variant:"outline",className:"text-xs",children:g.requirement})]})},g.id))})]}),a.jsxs(Ft,{value:"powerups",className:"space-y-6",children:[a.jsxs(ze,{className:"bg-cyan-50 border-cyan-300",children:[a.jsx(Kc,{className:"w-4 h-4 text-cyan-600"}),a.jsx(We,{className:"text-cyan-800",children:"Power-ups are purchased with coins and can be used during games to help you succeed!"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:Ux.powerUps.map(g=>{const _=x()>=g.price,T=((s==null?void 0:s.power_ups)||{})[g.id]||0;return a.jsx(re,{className:"border-2 border-cyan-200",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx("div",{className:"text-5xl mb-3",children:g.emoji}),a.jsx("h3",{className:"font-bold mb-2",children:g.name}),a.jsx("p",{className:"text-xs text-gray-600 mb-3",children:g.description}),T>0&&a.jsxs(je,{className:"bg-green-500 text-white mb-2",children:["Owned: ",T]}),a.jsx(le,{onClick:()=>f(g,"powerup",!0),disabled:!_||c.isPending,size:"sm",className:`w-full ${_?"bg-gradient-to-r from-cyan-500 to-blue-500":""}`,children:_?a.jsxs(a.Fragment,{children:[a.jsx(Kc,{className:"w-4 h-4 mr-2"}),"Buy for ",g.price]}):a.jsxs(a.Fragment,{children:[a.jsx(ui,{className:"w-4 h-4 mr-2"}),"Need ",g.price-x()," coins"]})})]})},g.id)})})]})]})})}),a.jsxs(re,{className:"mt-8 bg-gradient-to-r from-purple-100 to-pink-100 border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Xt,{className:"w-6 h-6 text-purple-600"}),"How to Earn More"]})}),a.jsxs(ne,{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Play Games"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Earn up to 3 stars per game"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Daily Challenges"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get bonus rewards every day"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Achievements"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Unlock items by achieving goals"})]})]})]})]})}function Uee(){const t=wn(),[e,r]=S.useState(""),[n,i]=S.useState(!1),{data:s}=ft({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:o=[]}=ft({queryKey:["allUsers"],queryFn:()=>base44.entities.User.list(),initialData:[]}),{data:l=[]}=ft({queryKey:["allProgress"],queryFn:()=>base44.entities.GameProgress.list("-score"),initialData:[]}),{data:c=[]}=ft({queryKey:["allDailyChallenges"],queryFn:()=>base44.entities.DailyChallenge.list("-score"),initialData:[]}),{data:d=[]}=ft({queryKey:["myFriends"],queryFn:async()=>{const j=await base44.auth.me(),O=await base44.entities.FriendConnection.filter({user_email:j.email,status:"accepted"}),R=await base44.entities.FriendConnection.filter({friend_email:j.email,status:"accepted"});return[...O,...R]},initialData:[],enabled:!!s}),{data:f=[]}=ft({queryKey:["pendingRequests"],queryFn:async()=>{const j=await base44.auth.me();return base44.entities.FriendConnection.filter({friend_email:j.email,status:"pending"})},initialData:[],enabled:!!s}),m=Pr({mutationFn:j=>base44.entities.FriendConnection.create(j),onSuccess:()=>{t.invalidateQueries({queryKey:["myFriends"]}),i(!0),r(""),setTimeout(()=>i(!1),3e3)}}),p=Pr({mutationFn:({id:j,status:O})=>base44.entities.FriendConnection.update(j,{status:O}),onSuccess:()=>{t.invalidateQueries({queryKey:["myFriends"]}),t.invalidateQueries({queryKey:["pendingRequests"]})}}),v=`${hr(new Date,"yyyy")}-W${OY(new Date)}`,w=`${hr(new Date,"yyyy")}-M${hr(new Date,"MM")}`,x=(j,O=null)=>{const R=l.filter($=>O?$.operation===j&&$.level===O:$.operation===j),L={};return R.forEach($=>{L[$.created_by]||(L[$.created_by]={email:$.created_by,totalScore:0,bestScore:0,gamesPlayed:0,totalAccuracy:0}),L[$.created_by].totalScore+=$.score,L[$.created_by].bestScore=Math.max(L[$.created_by].bestScore,$.score),L[$.created_by].gamesPlayed++,L[$.created_by].totalAccuracy+=$.correct_answers/$.total_questions*100}),Object.values(L).map($=>({...$,avgAccuracy:Math.round($.totalAccuracy/$.gamesPlayed)})).sort(($,F)=>F.bestScore-$.bestScore).slice(0,10)},g=()=>{const j={};return l.forEach(O=>{(!j[O.created_by]||O.time_taken<j[O.created_by].time)&&(j[O.created_by]={email:O.created_by,time:O.time_taken,score:O.score,accuracy:Math.round(O.correct_answers/O.total_questions*100)})}),Object.values(j).sort((O,R)=>O.time-R.time).slice(0,10)},_=()=>{const j=d.map(R=>R.user_email===(s==null?void 0:s.email)?R.friend_email:R.user_email);j.push(s==null?void 0:s.email);const O={};return l.forEach(R=>{j.includes(R.created_by)&&(O[R.created_by]||(O[R.created_by]={email:R.created_by,totalScore:0,gamesPlayed:0,totalStars:0}),O[R.created_by].totalScore+=R.score,O[R.created_by].gamesPlayed++,O[R.created_by].totalStars+=R.stars_earned||0)}),Object.values(O).sort((R,L)=>L.totalScore-R.totalScore).slice(0,10)},T=j=>{const O=j==="weekly"?Gd(new Date):kY(new Date),R={};return l.forEach(L=>{new Date(L.created_date)>=O&&(R[L.created_by]||(R[L.created_by]={email:L.created_by,totalScore:0,gamesPlayed:0,totalStars:0}),R[L.created_by].totalScore+=L.score,R[L.created_by].gamesPlayed++,R[L.created_by].totalStars+=L.stars_earned||0)}),Object.values(R).sort((L,$)=>$.totalScore-L.totalScore).slice(0,10)},P=j=>j===1?a.jsx(It,{className:"w-6 h-6 text-yellow-500 fill-yellow-500"}):j===2?a.jsx(Mg,{className:"w-6 h-6 text-gray-400 fill-gray-400"}):j===3?a.jsx(Mg,{className:"w-6 h-6 text-amber-600 fill-amber-600"}):a.jsxs("span",{className:"w-6 h-6 flex items-center justify-center font-bold text-gray-500",children:["#",j]}),k=j=>j===1?"from-yellow-100 to-yellow-200 border-yellow-300":j===2?"from-gray-100 to-gray-200 border-gray-300":j===3?"from-amber-100 to-amber-200 border-amber-300":"from-white to-gray-50 border-gray-200",A=j=>{const O=o.find(R=>R.email===j);return(O==null?void 0:O.child_name)||(O==null?void 0:O.full_name)||j.split("@")[0]},C=()=>{!e||e===(s==null?void 0:s.email)||m.mutate({user_email:s.email,friend_email:e,connection_type:"friend"})},E=({title:j,icon:O,data:R,renderStats:L})=>a.jsxs(re,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(O,{className:"w-6 h-6 text-purple-600"}),j]})}),a.jsx(ne,{className:"p-6",children:R.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(It,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"No data available yet"})]}):a.jsx("div",{className:"space-y-2",children:R.map(($,F)=>{const G=F+1,K=$.email===(s==null?void 0:s.email);return a.jsx("div",{className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all ${K?"bg-gradient-to-r from-purple-100 to-pink-100 border-purple-300 shadow-md":`bg-gradient-to-r ${k(G)} border`}`,children:a.jsxs("div",{className:"flex items-center gap-4",children:[P(G),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-bold",children:A($.email)}),K&&a.jsx(je,{className:"bg-purple-500 text-white",children:"You"})]}),L($)]})]})},F)})})})]});return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-xl",children:a.jsx(It,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-yellow-600 via-orange-600 to-red-600 bg-clip-text text-transparent",children:"Leaderboards"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Compete with friends and players worldwide!"})]}),n&&a.jsxs(ze,{className:"mb-6 bg-green-50 border-green-200",children:[a.jsx(wg,{className:"w-4 h-4 text-green-600"}),a.jsx(We,{className:"text-green-800",children:"Friend request sent successfully! "})]}),f.length>0&&a.jsxs(re,{className:"mb-6 border-2 border-blue-300 bg-blue-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(wg,{className:"w-6 h-6 text-blue-600"}),"Pending Friend Requests (",f.length,")"]})}),a.jsx(ne,{children:a.jsx("div",{className:"space-y-2",children:f.map(j=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[a.jsx("span",{className:"font-medium",children:A(j.user_email)}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(le,{size:"sm",onClick:()=>p.mutate({id:j.id,status:"accepted"}),className:"bg-green-500 hover:bg-green-600",children:"Accept"}),a.jsx(le,{size:"sm",variant:"outline",onClick:()=>p.mutate({id:j.id,status:"declined"}),children:"Decline"})]})]},j.id))})})]}),a.jsxs(hu,{defaultValue:"tournaments",className:"space-y-6",children:[a.jsxs(Ol,{className:"grid w-full grid-cols-2 md:grid-cols-4",children:[a.jsx(Pt,{value:"tournaments",children:"Tournaments"}),a.jsx(Pt,{value:"categories",children:"Categories"}),a.jsx(Pt,{value:"friends",children:"Friends"}),a.jsx(Pt,{value:"special",children:"Special"})]}),a.jsxs(Ft,{value:"tournaments",className:"space-y-6",children:[a.jsxs(re,{className:"border-4 border-yellow-300 bg-gradient-to-r from-yellow-50 to-orange-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Si,{className:"w-6 h-6 text-yellow-600"}),"Active Tournaments"]})}),a.jsx(ne,{children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Hr,{className:"w-8 h-8 text-purple-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg",children:"Weekly Tournament"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Resets every Monday"})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Tournament ID:"}),a.jsx("span",{className:"font-bold",children:v})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Prize:"}),a.jsx("span",{className:"font-bold text-yellow-600",children:"50 Bonus Stars "})]})]}),a.jsx(je,{className:"w-full justify-center bg-purple-500 text-white",children:"Active Now"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Hr,{className:"w-8 h-8 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg",children:"Monthly Tournament"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Resets on 1st of month"})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Tournament ID:"}),a.jsx("span",{className:"font-bold",children:w})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Prize:"}),a.jsx("span",{className:"font-bold text-yellow-600",children:"100 Bonus Stars "})]})]}),a.jsx(je,{className:"w-full justify-center bg-blue-500 text-white",children:"Active Now"})]})]})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(E,{title:"Weekly Leaders",icon:gr,data:T("weekly"),renderStats:j=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(It,{className:"w-4 h-4"}),j.totalScore," pts"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Tt,{className:"w-4 h-4 text-yellow-500"}),j.totalStars]}),a.jsxs("span",{children:[j.gamesPlayed," games"]})]})}),a.jsx(E,{title:"Monthly Leaders",icon:Qn,data:T("monthly"),renderStats:j=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(It,{className:"w-4 h-4"}),j.totalScore," pts"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Tt,{className:"w-4 h-4 text-yellow-500"}),j.totalStars]}),a.jsxs("span",{children:[j.gamesPlayed," games"]})]})})]})]}),a.jsx(Ft,{value:"categories",className:"space-y-6",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(E,{title:"Multiplication Masters (Hard)",icon:Wn,data:x("multiplication","hard"),renderStats:j=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{children:["Best: ",j.bestScore]}),a.jsxs("span",{children:["Avg: ",j.avgAccuracy,"%"]}),a.jsxs("span",{children:[j.gamesPlayed," games"]})]})}),a.jsx(E,{title:"Addition Champions",icon:qn,data:x("addition"),renderStats:j=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{children:["Best: ",j.bestScore]}),a.jsxs("span",{children:["Avg: ",j.avgAccuracy,"%"]}),a.jsxs("span",{children:[j.gamesPlayed," games"]})]})}),a.jsx(E,{title:"Division Experts (Hard)",icon:Jt,data:x("division","hard"),renderStats:j=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{children:["Best: ",j.bestScore]}),a.jsxs("span",{children:["Avg: ",j.avgAccuracy,"%"]}),a.jsxs("span",{children:[j.gamesPlayed," games"]})]})}),a.jsx(E,{title:"Subtraction Stars",icon:Mg,data:x("subtraction"),renderStats:j=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{children:["Best: ",j.bestScore]}),a.jsxs("span",{children:["Avg: ",j.avgAccuracy,"%"]}),a.jsxs("span",{children:[j.gamesPlayed," games"]})]})})]})}),a.jsxs(Ft,{value:"friends",className:"space-y-6",children:[a.jsxs(re,{className:"border-2 border-blue-200 bg-blue-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(wg,{className:"w-6 h-6 text-blue-600"}),"Invite Friends"]})}),a.jsxs(ne,{children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(rr,{placeholder:"Enter friend's email",value:e,onChange:j=>r(j.target.value),type:"email"}),a.jsxs(le,{onClick:C,className:"bg-blue-500 hover:bg-blue-600",disabled:m.isPending||!e,children:[a.jsx(wg,{className:"w-4 h-4 mr-2"}),"Invite"]})]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Connected friends: ",d.length]})]})]}),a.jsx(E,{title:"Friends & Family Leaderboard",icon:bn,data:_(),renderStats:j=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(It,{className:"w-4 h-4"}),j.totalScore," pts"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Tt,{className:"w-4 h-4 text-yellow-500"}),j.totalStars]}),a.jsxs("span",{children:[j.gamesPlayed," games"]})]})})]}),a.jsxs(Ft,{value:"special",className:"space-y-6",children:[a.jsx(E,{title:"Speed Demons (Fastest Completion)",icon:_r,data:g(),renderStats:j=>a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1 font-bold text-blue-600",children:[a.jsx(_r,{className:"w-4 h-4"}),j.time,"s"]}),a.jsxs("span",{children:[j.score," pts"]}),a.jsxs("span",{children:[j.accuracy,"% accuracy"]})]})}),a.jsxs(re,{className:"border-2 border-green-200 bg-green-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Qn,{className:"w-6 h-6 text-green-600"}),"Special Achievements"]})}),a.jsx(ne,{children:a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h4",{className:"font-bold mb-1",children:"Perfect Score Club"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[l.filter(j=>j.correct_answers/j.total_questions===1).length," perfect games"]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h4",{className:"font-bold mb-1",children:"Speed Masters"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[l.filter(j=>j.time_taken<60).length," games under 60s"]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h4",{className:"font-bold mb-1",children:"Daily Warriors"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[c.length," daily challenges completed"]})]})]})})]})]})]})]})}function zee(){const t=wn(),[e,r]=S.useState(null),{data:n}=ft({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),{data:i=[]}=ft({queryKey:["allUsers"],queryFn:()=>base44.entities.User.list(),initialData:[]}),{data:s=[]}=ft({queryKey:["myTeamChallenges"],queryFn:async()=>{const g=await base44.auth.me();return(await base44.entities.TeamChallenge.list()).filter(T=>{var P;return((P=T.team_members)==null?void 0:P.includes(g.email))||T.creator_email===g.email})},initialData:[],enabled:!!n}),{data:o=[]}=ft({queryKey:["myProgress"],queryFn:async()=>{const g=await base44.auth.me();return base44.entities.GameProgress.filter({created_by:g.email})},initialData:[],enabled:!!n}),{data:l=[]}=ft({queryKey:["myDailyChallenges"],queryFn:async()=>{const g=await base44.auth.me();return base44.entities.DailyChallenge.filter({created_by:g.email})},initialData:[],enabled:!!n}),c=Pr({mutationFn:({challengeId:g,data:_})=>base44.entities.TeamChallenge.update(g,_),onSuccess:()=>{t.invalidateQueries({queryKey:["myTeamChallenges"]})}}),d=Pr({mutationFn:({stars:g,coins:_})=>{const T=n.total_stars_earned||0,P=n.coins||0;return base44.auth.updateMe({total_stars_earned:T+g,coins:P+_})},onSuccess:(g,_)=>{t.invalidateQueries({queryKey:["currentUser"]}),r(`Claimed ${_.stars} stars and ${_.coins} coins!`),setTimeout(()=>r(null),3e3)}}),f=g=>{const _=i.find(T=>T.email===g);return(_==null?void 0:_.child_name)||(_==null?void 0:_.full_name)||g.split("@")[0]},m=g=>{const _=new Date(g.start_date),T=g.end_date?new Date(g.end_date):new Date,P=o.filter(C=>{const E=new Date(C.created_date),j=E>=_&&E<=T,O=g.specific_operation==="any"||C.operation===g.specific_operation,R=g.specific_level==="any"||C.level===g.specific_level;return j&&O&&R}),k=l.filter(C=>{const E=new Date(C.created_date);return E>=_&&E<=T});let A=0;switch(g.challenge_type){case"team_score":A=P.reduce((C,E)=>C+(E.score||0),0);break;case"combined_accuracy":if(P.length>0){const C=P.reduce((E,j)=>E+j.correct_answers/j.total_questions*100,0);A=Math.round(C/P.length)}break;case"total_games":A=P.length;break;case"total_stars":A=P.reduce((C,E)=>C+(E.stars_earned||0),0),A+=k.reduce((C,E)=>C+(E.bonus_stars||0),0);break;case"daily_streak_sum":A=k.length;break;case"speed_challenge":P.length>0&&(A=Math.min(...P.map(C=>C.time_taken)));break}return A};S.useEffect(()=>{!n||s.length===0||s.forEach(g=>{if(g.is_completed)return;const _=m(g),T=g.member_contributions||{};if(T[n.email]!==_){const P={...T,[n.email]:_};let k=0;if(g.challenge_type==="combined_accuracy"){const C=Object.values(P);C.length>0&&(k=Math.round(C.reduce((E,j)=>E+j,0)/C.length))}else if(g.challenge_type==="speed_challenge"){const C=Object.values(P).filter(E=>E>0);C.length>0&&(k=Math.min(...C))}else k=Object.values(P).reduce((C,E)=>C+E,0);const A=k>=g.target_value;c.mutate({challengeId:g.id,data:{member_contributions:P,current_value:k,is_completed:A}})}})},[o,l,s,n]);const p=g=>{d.mutate({stars:g.reward_stars||0,coins:g.reward_coins||0})},v=g=>({team_score:"Team Score Challenge",combined_accuracy:"Combined Accuracy Goal",total_games:"Total Games Challenge",total_stars:"Star Collection Challenge",daily_streak_sum:"Daily Challenge Streak",speed_challenge:"Speed Challenge"})[g]||g,w=g=>({team_score:It,combined_accuracy:Jt,total_games:gr,total_stars:Tt,daily_streak_sum:Hr,speed_challenge:_r})[g]||It;s.filter(g=>!g.is_completed);const x=s.filter(g=>g.is_completed);return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-xl",children:a.jsx(bn,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Team Challenges"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Work together with friends and family!"})]}),e&&a.jsxs(ze,{className:"mb-6 bg-green-50 border-green-200",children:[a.jsx(Wt,{className:"w-4 h-4 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx("strong",{children:"Reward Claimed!"})," ",e," "]})]}),s.length===0?a.jsx(re,{className:"border-2 border-gray-200",children:a.jsxs(ne,{className:"p-12 text-center",children:[a.jsx(bn,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Team Challenges Yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Ask your parent or teacher to create a team challenge for you and your friends!"}),a.jsx(ze,{className:"bg-blue-50 border-blue-200 text-left",children:a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"What are Team Challenges?"}),a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Work together with friends and family"}),a.jsx("li",{children:"Combine your progress to reach team goals"}),a.jsx("li",{children:"Earn bonus rewards when you succeed together"}),a.jsx("li",{children:"See everyone's contributions in real-time"})]})]})})]})}):a.jsxs("div",{className:"space-y-8",children:[activeChallenges.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(It,{className:"w-6 h-6 text-purple-500"}),"Active Challenges (",activeChallenges.length,")"]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:activeChallenges.map(g=>{var k,A,C;const _=w(g.challenge_type),T=Math.min(g.current_value/g.target_value*100,100);(k=g.member_contributions)!=null&&k[n==null?void 0:n.email];const P=g.end_date?Math.max(0,Math.ceil((new Date(g.end_date)-new Date)/(1e3*60*60*24))):null;return a.jsxs(re,{className:"border-2 border-purple-200 hover:shadow-lg transition-shadow",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(_,{className:"w-6 h-6 text-purple-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-lg",children:g.challenge_name}),P!==null&&a.jsxs(je,{variant:"outline",className:"bg-white",children:[a.jsx(_r,{className:"w-3 h-3 mr-1"}),P,"d left"]})]}),a.jsx("p",{className:"text-sm font-normal text-gray-600 mt-1",children:v(g.challenge_type)})]})]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[g.description&&a.jsx("p",{className:"text-gray-600",children:g.description}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"font-medium",children:"Team Progress"}),a.jsxs("span",{className:"font-bold",children:[Math.round(g.current_value)," / ",g.target_value,g.challenge_type==="combined_accuracy"&&"%",g.challenge_type==="speed_challenge"&&"s"]})]}),a.jsx(Sl,{value:T,className:"h-3"})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold text-sm mb-3 flex items-center gap-2",children:[a.jsx(bn,{className:"w-4 h-4 text-purple-500"}),"Team Members (",((A=g.team_members)==null?void 0:A.length)||0,")"]}),a.jsx("div",{className:"space-y-2",children:(C=g.team_members)==null?void 0:C.map(E=>{var R;const j=((R=g.member_contributions)==null?void 0:R[E])||0,O=E===(n==null?void 0:n.email);return a.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${O?"bg-purple-50 border-2 border-purple-200":"bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:f(E)}),O&&a.jsx(je,{className:"bg-purple-500 text-white text-xs",children:"You"})]}),a.jsxs("span",{className:"text-sm font-bold text-gray-700",children:[Math.round(j),g.challenge_type==="combined_accuracy"&&"%",g.challenge_type==="speed_challenge"&&"s"]})]},E)})})]}),a.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 p-3 rounded-lg border-2 border-yellow-200",children:[a.jsxs("h4",{className:"font-bold text-sm mb-2 flex items-center gap-2",children:[a.jsx(Qn,{className:"w-4 h-4 text-yellow-600"}),"Rewards on Completion"]}),a.jsxs("div",{className:"flex gap-3 text-sm",children:[g.reward_stars>0&&a.jsxs("div",{className:"flex items-center gap-1 font-bold text-yellow-600",children:[a.jsx(Tt,{className:"w-4 h-4 fill-yellow-400"}),g.reward_stars," stars"]}),g.reward_coins>0&&a.jsxs("div",{className:"flex items-center gap-1 font-bold text-blue-600",children:[a.jsx(Kc,{className:"w-4 h-4"}),g.reward_coins," coins"]})]})]})]})]},g.id)})})]}),x.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(Wt,{className:"w-6 h-6 text-green-500"}),"Completed Challenges (",x.length,")"]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:x.map(g=>(w(g.challenge_type),a.jsxs(re,{className:"border-2 border-green-300 bg-green-50",children:[a.jsx(_e,{className:"bg-gradient-to-r from-green-100 to-emerald-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Wt,{className:"w-6 h-6 text-green-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"text-lg",children:g.challenge_name}),a.jsx("p",{className:"text-sm font-normal text-gray-600 mt-1",children:v(g.challenge_type)})]})]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsxs(ze,{className:"bg-white border-green-200",children:[a.jsx(It,{className:"w-4 h-4 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx("strong",{children:"Challenge Complete!"})," Your team achieved the goal together! ",g.reward_message&&a.jsx("p",{className:"mt-1",children:g.reward_message})]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Final Score:"}),a.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[Math.round(g.current_value)," / ",g.target_value]})]}),a.jsxs(le,{onClick:()=>p(g),disabled:d.isPending,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500",children:[a.jsx(Qn,{className:"w-4 h-4 mr-2"}),"Claim Rewards"]})]})]},g.id)))})]})]})]})}function Wee(){const t=wn(),[e,r]=S.useState(!1),[n,i]=S.useState(null),[s,o]=S.useState(!1),[l,c]=S.useState(!1);S.useEffect(()=>{const T=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");c(!T)},[]);const{data:d}=ft({queryKey:["currentUser"],queryFn:()=>base44.auth.me()});S.useEffect(()=>{const T=new URLSearchParams(window.location.search),P=T.get("success"),k=T.get("tier");P==="true"&&k&&setTimeout(()=>{t.invalidateQueries({queryKey:["currentUser"]})},1e3)},[t]);const f=(d==null?void 0:d.subscription_tier)||"free",m=f!=="free",p=d!=null&&d.subscription_expires_at?new Date(d.subscription_expires_at):null,v=p?Math.ceil((p-new Date)/(1e3*60*60*24)):0,w={premium_player:{monthly:"https://square.link/u/nFpI2tMT",yearly:"https://checkout.square.site/merchant/MLZ8SFCEGD55V/checkout/XKMFTRBKLNNDRTMQWSBJ4TOL"},premium_parent:{monthly:"https://square.link/u/mffPglOm",yearly:"https://checkout.square.site/merchant/MLZ8SFCEGD55V/checkout/LJ7EFZTE5IPACDT2HAO2H2IB"},family_teacher:{monthly:"https://square.link/u/bCQAOVfA",yearly:"https://checkout.square.site/merchant/MLZ8SFCEGD55V/checkout/VYNFU5WKRO4AU5KBQAG2S3NM"}},x=(T,P="monthly")=>{var A;if(!l){alert("Please open this page in your web browser to subscribe. Use the 'Open in Browser' button above.");return}const k=(A=w[T])==null?void 0:A[P];k?window.open(k,"_blank","noopener,noreferrer"):alert("No payment link available for this plan and period.")},g=Pr({mutationFn:async()=>base44.auth.updateMe({subscription_cancels_at:d.subscription_expires_at,subscription_auto_renew:!1}),onSuccess:()=>{t.invalidateQueries({queryKey:["currentUser"]}),o(!1)}}),_=[{id:"premium_player",name:"Premium Player",price:"$4.99",annualPrice:"$47.88",annualSavings:"Save $12",icon:Tt,color:"from-blue-500 to-cyan-500",features:["Unlimited games & challenges","Advanced avatar customization","Exclusive pets & badges","Ad-free experience","Priority support","Offline mode","Custom themes"],recommended:!1},{id:"premium_parent",name:"Premium Parent",price:"$7.99",annualPrice:"$76.88",annualSavings:"Save $19",icon:Gi,color:"from-purple-500 to-pink-500",features:["All Premium Player features","Advanced parental controls","Detailed progress analytics","Custom goal setting","Time limit management","Content filtering","Weekly/monthly reports","Direct messaging with child"],recommended:!0},{id:"family_teacher",name:"Family/Teacher Plan",price:"$12.99",annualPrice:"$124.88",annualSavings:"$31",icon:bn,color:"from-orange-500 to-red-500",features:["All Premium Parent features","Up to 5 student accounts","Classroom management tools","Lesson assignment system","Team challenges","Bulk progress reports","Multi-child dashboard","Priority teacher support"],recommended:!1}];return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[!l&&a.jsxs(ze,{className:"mb-8 bg-blue-50 border-blue-300",children:[a.jsx(Qme,{className:"w-5 h-5 text-blue-600"}),a.jsx(We,{className:"text-blue-800",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("strong",{className:"block mb-1",children:"Subscriptions Available on Web"}),a.jsx("p",{className:"text-sm",children:"To subscribe or manage your subscription, please open this page in your web browser (Chrome, Safari, etc.)"})]}),a.jsxs(le,{onClick:()=>{const T=window.location.href;window.open(T,"_blank","noopener,noreferrer")},className:"bg-blue-600 hover:bg-blue-700 whitespace-nowrap",children:[a.jsx(nb,{className:"w-4 h-4 mr-2"}),"Open in Browser"]})]})})]}),a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-xl animate-pulse",children:a.jsx(Si,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-orange-600 bg-clip-text text-transparent",children:"Unlock Premium Features"}),a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Choose the perfect plan for your learning journey"}),a.jsx("p",{className:"text-md text-green-600 mb-2 font-semibold",children:"Save 20% when you purchase any yearly plan!"}),l&&a.jsx("p",{className:"text-sm text-gray-500",children:"Secure payment powered by Square"})]}),m&&a.jsx(re,{className:"mb-12 border-4 border-green-400 shadow-xl bg-gradient-to-r from-green-50 to-emerald-50",children:a.jsx(ne,{className:"p-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center shadow-lg",children:a.jsx(Wt,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:f==="premium_parent"?"Premium Parent":f==="premium_player"?"Premium Player":"Family/Teacher Plan"}),a.jsx(je,{className:"bg-green-500 text-white",children:"Active"})]}),a.jsxs("div",{className:"space-y-1",children:[p&&a.jsx("p",{className:"text-gray-600",children:(d==null?void 0:d.subscription_auto_renew)===!1?`Expires ${hr(p,"MMMM d, yyyy")}`:`Renews ${hr(p,"MMMM d, yyyy")}  ${v} days left`}),(d==null?void 0:d.subscription_auto_renew)===!1&&a.jsxs(je,{variant:"outline",className:"bg-orange-50 border-orange-300 text-orange-700",children:[a.jsx(Gn,{className:"w-3 h-3 mr-1"}),"Subscription will not renew"]})]})]})]}),(d==null?void 0:d.subscription_auto_renew)!==!1&&l&&a.jsxs(le,{variant:"destructive",onClick:()=>o(!0),className:"h-12",children:[a.jsx(zd,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})]})})}),n&&a.jsxs(ze,{className:"mb-8 bg-red-50 border-red-200",children:[a.jsx(Gn,{className:"w-5 h-5 text-red-600"}),a.jsxs(We,{className:"text-red-800",children:[a.jsx("strong",{children:"Error:"})," ",n]})]}),new URLSearchParams(window.location.search).get("success")==="true"&&a.jsxs(ze,{className:"mb-8 bg-green-50 border-green-200",children:[a.jsx(Wt,{className:"w-5 h-5 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx("strong",{children:"Success!"})," Your subscription is being activated. This may take a few moments."]})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:_.map(T=>{const P=T.icon,k=f===T.id;return a.jsxs(re,{className:`relative overflow-hidden transition-all duration-300 ${T.recommended?"border-4 border-purple-400 shadow-2xl scale-105":"border-2 border-gray-200 hover:shadow-xl hover:scale-102"}`,children:[T.recommended&&a.jsx("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-1 text-sm font-bold rounded-bl-lg",children:"MOST POPULAR"}),a.jsx("div",{className:`h-32 bg-gradient-to-br ${T.color} flex items-center justify-center`,children:a.jsx(P,{className:"w-16 h-16 text-white"})}),a.jsxs(_e,{children:[a.jsx(Ne,{className:"text-2xl mb-2",children:T.name}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{children:a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-4xl font-bold",children:T.price}),a.jsx("span",{className:"text-gray-600",children:"/month"})]})}),a.jsx("div",{className:"bg-green-50 p-2 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-semibold text-green-700",children:[T.annualPrice,"/year"]}),a.jsx(je,{className:"bg-green-500 text-white text-xs",children:T.annualSavings})]})})]})]}),a.jsxs(ne,{className:"space-y-6",children:[a.jsx("ul",{className:"space-y-3",children:T.features.map((A,C)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Mr,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm text-gray-700",children:A})]},C))}),k?a.jsxs(le,{disabled:!0,className:"w-full h-12 bg-gray-400 cursor-not-allowed",children:[a.jsx(Wt,{className:"w-5 h-5 mr-2"}),"Current Plan"]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{onClick:()=>x(T.id,"monthly"),disabled:e||!l,className:`w-full h-12 text-lg bg-gradient-to-r ${T.color} hover:opacity-90 ${l?"":"opacity-50 cursor-not-allowed"}`,children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing..."]}):l?a.jsxs(a.Fragment,{children:[a.jsx(Si,{className:"w-5 h-5 mr-2"}),"Subscribe Monthly"]}):a.jsxs(a.Fragment,{children:[a.jsx(ui,{className:"w-5 h-5 mr-2"}),"Open in Browser"]})}),l&&a.jsx(le,{onClick:()=>x(T.id,"yearly"),disabled:e,variant:"outline",className:"w-full h-12",children:e?"Processing...":a.jsxs(a.Fragment,{children:[a.jsx(Xt,{className:"w-5 h-5 mr-2"}),"Subscribe Annually (Save 20%)"]})})]})]})]},T.id)})}),a.jsxs(re,{className:"mb-12",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-50 to-pink-50",children:a.jsx(Ne,{className:"text-2xl",children:"Compare Features"})}),a.jsx(ne,{className:"p-6",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b-2",children:[a.jsx("th",{className:"text-left p-4 font-bold",children:"Feature"}),a.jsx("th",{className:"text-center p-4 font-bold",children:"Free"}),a.jsx("th",{className:"text-center p-4 font-bold",children:"Premium Player"}),a.jsx("th",{className:"text-center p-4 font-bold bg-purple-50",children:"Premium Parent"}),a.jsx("th",{className:"text-center p-4 font-bold",children:"Family/Teacher"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"Math Games Access"}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{variant:"outline",children:"Limited"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"Daily Challenges"}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"AI Tutor Help"}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{variant:"outline",children:"Limited"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"Parental Controls"}),a.jsx("td",{className:"text-center p-4",children:""}),a.jsx("td",{className:"text-center p-4",children:""}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(Mr,{className:"w-5 h-5 text-green-500 mx-auto"})})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"Progress Analytics"}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{variant:"outline",children:"Basic"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{variant:"outline",children:"Basic"})}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:a.jsx(je,{className:"bg-purple-500 text-white",children:"Advanced"})}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{className:"bg-orange-500 text-white",children:"Advanced"})})]}),a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"p-4",children:"Number of Students"}),a.jsx("td",{className:"text-center p-4",children:"1"}),a.jsx("td",{className:"text-center p-4",children:"1"}),a.jsx("td",{className:"text-center p-4 bg-purple-50",children:"1"}),a.jsx("td",{className:"text-center p-4",children:a.jsx(je,{className:"bg-orange-500 text-white",children:"Up to 5"})})]})]})]})})})]}),a.jsxs(re,{children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Frequently Asked Questions"})}),a.jsxs(ne,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Can I cancel anytime?"}),a.jsx("p",{className:"text-gray-600",children:"Yes! You can cancel your subscription at any time from this page. You'll continue to have access until the end of your billing period."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"What payment methods do you accept?"}),a.jsx("p",{className:"text-gray-600",children:"We accept all major credit cards (Visa, Mastercard, American Express) and debit cards through our secure payment provider, Square."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Is there a free trial?"}),a.jsx("p",{className:"text-gray-600",children:"The free version gives you access to basic features to try out the app. Premium features are available immediately upon subscription."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"What's the difference between monthly and annual plans?"}),a.jsx("p",{className:"text-gray-600",children:"Annual plans save you 20% compared to monthly subscriptions. You pay upfront for the year and get uninterrupted access to all premium features."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Can I upgrade or downgrade my plan?"}),a.jsx("p",{className:"text-gray-600",children:"Yes! Contact our support team and we'll help you switch plans. Changes typically take effect at the start of your next billing cycle."})]})]})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(re,{className:"max-w-md w-full border-4 border-red-300",children:[a.jsx(_e,{className:"bg-red-50",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-red-700",children:[a.jsx(Gn,{className:"w-6 h-6"}),"Cancel Subscription?"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"Are you sure you want to cancel your subscription?"}),a.jsxs(ze,{className:"bg-yellow-50 border-yellow-300",children:[a.jsx(Gn,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(We,{className:"text-yellow-800 text-sm",children:["You'll lose access to premium features when your current billing period ends on ",p?hr(p,"MMMM d, yyyy"):"the end date","."]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(le,{variant:"outline",className:"flex-1",onClick:()=>o(!1),children:"Keep Subscription"}),a.jsx(le,{variant:"destructive",className:"flex-1",onClick:()=>g.mutate(),disabled:g.isPending,children:g.isPending?"Cancelling...":"Yes, Cancel"})]})]})]})})]})}function Hee(){const[t,e]=S.useState(!1),[r,n]=S.useState(null),[i,s]=S.useState(null),o=async()=>{var c,d;e(!0),s(null),n(null);try{console.log("Calling Firebase Function generateAppIcons...");const m=await(await fetch("/generateAppIcons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json();console.log("Response:",m),m.success&&m.icons?n(m.icons):m.error?s(m.message||m.error):s("Unexpected response format")}catch(f){console.error("Error generating icons:",f),s(((d=(c=f.response)==null?void 0:c.data)==null?void 0:d.message)||f.message||"Failed to generate icons. AI image generation may be temporarily unavailable.")}finally{e(!1)}},l=async(c,d)=>{try{const m=await(await fetch(c)).blob(),p=window.URL.createObjectURL(m),v=document.createElement("a");v.href=p,v.download=d,document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(p)}catch{alert("Failed to download icon. Please right-click the image and save manually.")}};return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-xl",children:a.jsx(rpe,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Generate App Icons"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Create beautiful icons for your PWA"})]}),a.jsxs(re,{className:"border-2 border-purple-200 shadow-lg mb-8",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Xt,{className:"w-6 h-6 text-purple-600"}),"AI Icon Generator"]})}),a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ze,{className:"bg-blue-50 border-blue-200",children:[a.jsx(Xt,{className:"w-4 h-4 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"AI-Powered Design:"})," This will generate professional app icons using AI based on your Math Adventure theme. It creates both 192x192 and 512x512 pixel versions automatically."]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-xl border-2 border-purple-200",children:[a.jsx("h3",{className:"font-bold text-lg mb-3",children:"What You'll Get:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Wt,{className:"w-5 h-5 text-green-600"}),a.jsxs("span",{children:[a.jsx("strong",{children:"icon-192.png"})," - For mobile devices (192x192px)"]})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Wt,{className:"w-5 h-5 text-green-600"}),a.jsxs("span",{children:[a.jsx("strong",{children:"icon-512.png"})," - For high-res displays (512x512px)"]})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Wt,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{children:"Purple-pink gradient matching your app theme"})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Wt,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{children:"Math symbols and playful design elements"})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Wt,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{children:"Professional quality, optimized for visibility"})]})]})]}),a.jsx(le,{onClick:o,disabled:t,className:"w-full h-14 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:t?a.jsxs(a.Fragment,{children:[a.jsx(HW,{className:"w-5 h-5 mr-2 animate-spin"}),"Generating Icons... (takes ~30 seconds)"]}):a.jsxs(a.Fragment,{children:[a.jsx(Xt,{className:"w-5 h-5 mr-2"}),"Generate Icons with AI"]})})]})})]}),i&&a.jsxs(ze,{className:"mb-8 bg-orange-50 border-orange-300",children:[a.jsx(Gn,{className:"w-5 h-5 text-orange-600"}),a.jsxs(We,{className:"text-orange-800",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Generation Failed:"})," ",i]}),a.jsx("p",{className:"text-sm mt-2",children:"Don't worry! You can create icons manually using the instructions below."})]})]}),r&&a.jsxs(re,{className:"border-4 border-green-300 shadow-xl bg-gradient-to-r from-green-50 to-emerald-50 mb-8",children:[a.jsx(_e,{className:"bg-gradient-to-r from-green-100 to-emerald-100",children:a.jsxs(Ne,{className:"flex items-center gap-2 text-green-800",children:[a.jsx(Wt,{className:"w-6 h-6"}),"Icons Generated Successfully!"]})}),a.jsxs(ne,{className:"p-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-green-200 text-center",children:[a.jsx("div",{className:"mb-4",children:a.jsx("img",{src:r.icon_512,alt:"512x512 icon",className:"w-64 h-64 mx-auto rounded-2xl shadow-lg"})}),a.jsx("h3",{className:"font-bold text-lg mb-2",children:"icon-512.png"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"High Resolution (512x512px)"}),a.jsxs(le,{onClick:()=>l(r.icon_512,"icon-512.png"),className:"w-full bg-green-500 hover:bg-green-600",children:[a.jsx(cy,{className:"w-4 h-4 mr-2"}),"Download 512x512"]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-green-200 text-center",children:[a.jsx("div",{className:"mb-4 flex items-center justify-center",style:{height:"256px"},children:a.jsx("img",{src:r.icon_192,alt:"192x192 icon",className:"w-48 h-48 rounded-2xl shadow-lg"})}),a.jsx("h3",{className:"font-bold text-lg mb-2",children:"icon-192.png"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Standard Resolution (192x192px)"}),a.jsxs(le,{onClick:()=>l(r.icon_192,"icon-192.png"),className:"w-full bg-green-500 hover:bg-green-600",children:[a.jsx(cy,{className:"w-4 h-4 mr-2"}),"Download 192x192"]})]})]}),a.jsx(ze,{className:"bg-blue-50 border-blue-200 mb-4",children:a.jsx(We,{className:"text-blue-800",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(hge,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold mb-2",children:" Next Steps:"}),a.jsxs("ol",{className:"space-y-2 ml-1 text-sm",children:[a.jsx("li",{children:"1. Download both icons using the buttons above"}),a.jsxs("li",{children:["2. Upload them to your app's ",a.jsx("strong",{children:"public"})," folder in your hosting environment"]}),a.jsxs("li",{children:["3. Make sure they're named exactly ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"icon-192.png"})," and ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"icon-512.png"})]}),a.jsx("li",{children:"4. Your PWA will automatically use them!"})]})]})]})})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Don't like the design? Generate again for a new variation!"}),a.jsxs(le,{onClick:o,variant:"outline",disabled:t,children:[a.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Generate New Icons"]})]})]})]}),a.jsxs(re,{className:"border-2 border-gray-200",children:[a.jsx(_e,{className:"bg-gray-50",children:a.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(nb,{className:"w-5 h-5"}),"Manual Option: Create Icons Yourself"]})}),a.jsxs(ne,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"If AI generation doesn't work, you can create beautiful icons manually:"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[a.jsxs("h3",{className:"font-bold mb-2 flex items-center gap-2",children:[a.jsx(nb,{className:"w-4 h-4 text-purple-600"}),"Option 1: Use Canva (Easiest)"]}),a.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-700 ml-2",children:[a.jsxs("li",{children:["Go to ",a.jsx("a",{href:"https://www.canva.com",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 underline font-semibold",children:"canva.com"})," (free account)"]}),a.jsxs("li",{children:["Create two custom sizes: ",a.jsx("strong",{children:"512x512px"})," and ",a.jsx("strong",{children:"192x192px"})]}),a.jsx("li",{children:"Add purple-pink gradient background (#9333ea  #ec4899)"}),a.jsxs("li",{children:["Add white math symbols: ",a.jsx("span",{className:"text-2xl",children:""})]}),a.jsx("li",{children:"Make the design playful and kid-friendly"}),a.jsx("li",{children:"Download as PNG files"}),a.jsxs("li",{children:["Rename to ",a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"icon-512.png"})," and ",a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"icon-192.png"})]}),a.jsx("li",{children:"Upload to your app's public folder"})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsxs("h3",{className:"font-bold mb-2 flex items-center gap-2",children:[a.jsx(nb,{className:"w-4 h-4 text-blue-600"}),"Option 2: Use Figma"]}),a.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-700 ml-2",children:[a.jsxs("li",{children:["Go to ",a.jsx("a",{href:"https://www.figma.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline font-semibold",children:"figma.com"})]}),a.jsx("li",{children:"Create frames: 512512px and 192192px"}),a.jsx("li",{children:"Apply gradient background (purple to pink)"}),a.jsx("li",{children:"Add math symbols in white"}),a.jsx("li",{children:"Export as PNG @ 1x scale"}),a.jsx("li",{children:"Rename and upload to public folder"})]})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[a.jsx("h3",{className:"font-bold mb-2",children:" Design Tips:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-2",children:[a.jsx("li",{children:"Keep it simple - icons need to be recognizable at small sizes"}),a.jsx("li",{children:"Use high contrast (white on purple/pink works great)"}),a.jsx("li",{children:"Round the corners slightly for a modern look"}),a.jsx("li",{children:"Make sure symbols are centered and balanced"}),a.jsx("li",{children:"Test how it looks at different sizes before finalizing"})]})]})]})]})]})]})}function Gee(){const[t,e]=S.useState(!1),[r,n]=S.useState(null),[i,s]=S.useState(null),o=async()=>{e(!0),s(null),n(null);try{console.log(" Starting icon generation test...");const l=await base44.functions.invoke("generateAppIcons",{});console.log(" Function response:",l),l.data&&l.data.success?n({success:!0,icons:l.data.icons,message:"Icons generated successfully!"}):s("Function returned but no icons generated")}catch(l){console.error(" Icon generation failed:",l),s(l.message||"Unknown error occurred")}finally{e(!1)}};return a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsxs(re,{className:"border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-100 to-cyan-100",children:a.jsx(Ne,{children:" Icon Generation Test"})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx(ze,{className:"bg-blue-50 border-blue-200",children:a.jsx(We,{children:"This page tests the icon generation function. Click the button below to generate test icons."})}),a.jsx(le,{onClick:o,disabled:t,className:"w-full h-14 text-lg bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600",children:t?a.jsxs(a.Fragment,{children:[a.jsx(HW,{className:"w-5 h-5 mr-2 animate-spin"}),"Testing Icon Generation... (30 seconds)"]}):a.jsx(a.Fragment,{children:" Run Icon Generation Test"})}),i&&a.jsxs(ze,{className:"bg-red-50 border-red-200",children:[a.jsx(zd,{className:"w-4 h-4 text-red-600"}),a.jsxs(We,{className:"text-red-800",children:[a.jsx("strong",{children:"Test Failed:"})," ",i]})]}),r&&r.success&&a.jsxs(ze,{className:"bg-green-50 border-green-200",children:[a.jsx(Wt,{className:"w-4 h-4 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx("strong",{children:" Test Passed!"})," Icons generated successfully!"]})]}),r&&r.icons&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-bold text-lg",children:"Generated Icons:"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-xl border-2 border-green-200",children:[a.jsx("img",{src:r.icons.icon_512,alt:"512x512 icon",className:"w-full rounded-lg shadow-lg mb-2"}),a.jsx("p",{className:"text-sm font-bold text-center",children:"512x512 Icon"}),a.jsx("p",{className:"text-xs text-gray-600 text-center break-all mt-1",children:r.icons.icon_512})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl border-2 border-green-200",children:[a.jsx("img",{src:r.icons.icon_192,alt:"192x192 icon",className:"w-full rounded-lg shadow-lg mb-2"}),a.jsx("p",{className:"text-sm font-bold text-center",children:"192x192 Icon"}),a.jsx("p",{className:"text-xs text-gray-600 text-center break-all mt-1",children:r.icons.icon_192})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-bold mb-2",children:"Test Details:"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Function: generateAppIcons"}),a.jsx("li",{children:"Expected: 2 icon URLs (192x192 and 512x512)"}),a.jsx("li",{children:"AI Model: Image Generation via Base44 Core"}),a.jsx("li",{children:"Timeout: ~30 seconds"})]})]})]})]})})}function Kee(){const t=yu(),{data:e,isLoading:r}=ft({queryKey:["isAuthenticated"],queryFn:async()=>{try{return!0}catch{return!1}}});S.useEffect(()=>{!r&&e&&t(Ge("Home"))},[e,r,t]);const n=()=>{};if(r)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-white",children:"Loading..."})]})});const i=[{icon:Wme,title:"12 Math Concepts",description:"Addition, subtraction, multiplication, division, fractions, decimals, percentages, geometry & more!",gradient:"from-blue-400 to-cyan-500",emoji:""},{icon:yn,title:"AI Math Tutor",description:"Stuck on a problem? Get instant help with step-by-step explanations!",gradient:"from-purple-400 to-pink-500",emoji:""},{icon:It,title:"Daily Challenges",description:"New challenges every day! Compete for bonus stars and climb the leaderboard!",gradient:"from-yellow-400 to-orange-500",emoji:""},{icon:Tt,title:"Earn Rewards",description:"Collect stars and coins to unlock cool avatar items, pets, badges, and power-ups!",gradient:"from-green-400 to-emerald-500",emoji:""},{icon:bn,title:"Team Challenges",description:"Team up with friends and family to complete challenges together!",gradient:"from-indigo-400 to-purple-500",emoji:""},{icon:Gi,title:"Safe & Secure",description:"Advanced parental controls, time limits, and content filtering for peace of mind",gradient:"from-red-400 to-pink-500",emoji:""}],s=[{emoji:"",name:"Addition",grade:"K-4"},{emoji:"",name:"Subtraction",grade:"K-4"},{emoji:"",name:"Multiplication",grade:"2-5"},{emoji:"",name:"Division",grade:"3-6"},{emoji:"",name:"Fractions",grade:"3-6"},{emoji:"0.5",name:"Decimals",grade:"4-7"},{emoji:"%",name:"Percentages",grade:"5-8"},{emoji:"",name:"Word Problems",grade:"2-6"},{emoji:"",name:"Money Math",grade:"1-5"},{emoji:"",name:"Time",grade:"1-4"},{emoji:"",name:"Geometry",grade:"3-7"},{emoji:"",name:"Mixed",grade:"3-8"}],o=[{text:"My kids actually BEG to practice math now! They love earning stars and unlocking new pets. Best $1 we've ever spent!",author:"Sarah M.",role:"Parent of 2 (Ages 7 & 9)",rating:5,emoji:""},{text:"The AI tutor is incredible! It explains things in a way my students actually understand. My whole class is hooked!",author:"Mr. Johnson",role:"3rd Grade Teacher",rating:5,emoji:""},{text:"I used to hate math but now it's FUN! I got the dragon pet and I'm on a 12-day streak! ",author:"Emma, Age 9",role:"Student & Math Champion",rating:5,emoji:""}],l=[{icon:It,value:"10,000+",label:"Games Played Daily",color:"text-yellow-600"},{icon:Tt,value:"50,000+",label:"Stars Earned",color:"text-purple-600"},{icon:bn,value:"1,000+",label:"Happy Learners",color:"text-blue-600"},{icon:Rg,value:"100%",label:"Fun Guaranteed",color:"text-pink-600"}],c=[{emoji:"",name:"Dragon Pet",desc:"Levels up with you!"},{emoji:"",name:"Crown",desc:"Show you're a champion!"},{emoji:"",name:"Custom Avatar",desc:"100+ items to unlock!"},{emoji:"",name:"Power-Ups",desc:"Time freeze, hints & more!"}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx(Gt.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-20",children:""}),a.jsx(Gt.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-40 right-20 text-7xl opacity-20",children:""}),a.jsx(Gt.div,{animate:{y:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-40 text-5xl opacity-20",children:""}),a.jsx(Gt.div,{animate:{x:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 right-10 text-6xl opacity-20",children:""})]}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 md:py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Gt.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"inline-block mb-8",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl transform rotate-12 animate-pulse",children:a.jsx("span",{className:"text-7xl md:text-8xl transform -rotate-12",children:""})}),a.jsx(Gt.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 text-4xl",children:""}),a.jsx(Gt.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -left-2 text-4xl",children:""})]})}),a.jsx(Gt.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 text-white drop-shadow-2xl",children:"Math is FUN Now! "}),a.jsx(Gt.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl text-white mb-4 max-w-3xl mx-auto font-bold drop-shadow-lg",children:"Learn  Play  Earn Rewards  Level Up!"}),a.jsxs(Gt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[a.jsxs(je,{className:"bg-white text-purple-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[a.jsx(Wt,{className:"w-5 h-5 mr-2"}),"100% FREE to Start"]}),a.jsxs(je,{className:"bg-white text-pink-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[a.jsx(Rg,{className:"w-5 h-5 mr-2"}),"Kids LOVE It!"]}),a.jsxs(je,{className:"bg-white text-blue-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[a.jsx(Xt,{className:"w-5 h-5 mr-2"}),"AI-Powered"]})]}),a.jsxs(Gt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[a.jsxs(le,{onClick:n,className:"h-20 px-12 text-2xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:[a.jsx(Ope,{className:"w-8 h-8 mr-3"}),"START FREE NOW! "]}),a.jsxs(le,{variant:"outline",onClick:()=>{var d;return(d=document.getElementById("features"))==null?void 0:d.scrollIntoView({behavior:"smooth"})},className:"h-20 px-10 text-xl font-bold border-4 border-white text-white hover:bg-white hover:text-purple-600 shadow-xl",children:["See What's Inside",a.jsx(zW,{className:"w-6 h-6 ml-2"})]})]}),a.jsx(Gt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:l.map((d,f)=>{const m=d.icon;return a.jsxs(Gt.div,{whileHover:{scale:1.05},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border-4 border-yellow-300",children:[a.jsx(m,{className:`w-10 h-10 mx-auto mb-3 ${d.color}`}),a.jsx("div",{className:"text-3xl font-black text-gray-800",children:d.value}),a.jsx("div",{className:"text-sm font-bold text-gray-600 mt-1",children:d.label})]},f)})})]})}),a.jsx("div",{className:"bg-white py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"What's Inside? Everything! "}),a.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Your kids will love these amazing features!"})]}),a.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-16",children:c.map((d,f)=>a.jsxs(Gt.div,{whileHover:{y:-10,scale:1.05},className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-8 text-center border-4 border-purple-300 shadow-xl",children:[a.jsx("div",{className:"text-7xl mb-4",children:d.emoji}),a.jsx("h3",{className:"font-black text-xl mb-2 text-purple-800",children:d.name}),a.jsx("p",{className:"text-gray-700 font-semibold",children:d.desc})]},f))}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h3",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-gray-800",children:"12 Math Skills to Master! "}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:s.map((d,f)=>a.jsxs(Gt.div,{whileHover:{scale:1.1,rotate:5},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 text-center border-3 border-blue-200 shadow-lg hover:shadow-2xl transition-all",children:[a.jsx("div",{className:"text-5xl mb-3",children:d.emoji}),a.jsx("div",{className:"font-bold text-sm text-gray-800",children:d.name}),a.jsx(je,{className:"mt-2 bg-purple-500 text-white text-xs",children:d.grade})]},f))})]})]})}),a.jsx("div",{id:"features",className:"bg-gradient-to-br from-yellow-50 to-orange-50 py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Why Kids Are OBSESSED! "}),a.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Learning has never been this fun!"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map((d,f)=>{const m=d.icon;return a.jsxs(Gt.div,{whileHover:{y:-10},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300",children:[a.jsxs("div",{className:`h-32 bg-gradient-to-br ${d.gradient} flex items-center justify-center relative`,children:[a.jsx("div",{className:"text-7xl",children:d.emoji}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx(m,{className:"w-10 h-10 text-white opacity-50"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-2xl font-black mb-3 text-gray-800",children:d.title}),a.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:d.description})]})]},f)})})]})}),a.jsx("div",{className:"bg-white py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"So Easy, Even Parents Can Do It! "}),a.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Three simple steps to math mastery"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsxs(Gt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-green-600",children:[a.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:a.jsx("span",{className:"text-5xl font-black text-green-500",children:"1"})}),a.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Pick & Play! "}),a.jsx("p",{className:"text-xl font-bold text-center",children:"Choose a math topic and difficulty. Start playing in seconds!"})]}),a.jsxs(Gt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-blue-400 to-cyan-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-blue-600",children:[a.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:a.jsx("span",{className:"text-5xl font-black text-blue-500",children:"2"})}),a.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Learn & Win! "}),a.jsx("p",{className:"text-xl font-bold text-center",children:"Solve problems, get AI help when stuck, earn stars & coins!"})]}),a.jsxs(Gt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-purple-600",children:[a.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:a.jsx("span",{className:"text-5xl font-black text-purple-500",children:"3"})}),a.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Unlock Rewards! "}),a.jsx("p",{className:"text-xl font-bold text-center",children:"Buy avatars, pets, badges, power-ups and MORE!"})]})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Parents & Kids LOVE Us! "}),a.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Don't just take our word for it..."})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:o.map((d,f)=>a.jsxs(Gt.div,{whileHover:{y:-10,scale:1.02},className:"bg-white rounded-3xl p-8 shadow-2xl border-4 border-purple-300",children:[a.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(d.rating)].map((m,p)=>a.jsx(Tt,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"},p))}),a.jsx("div",{className:"text-6xl mb-4",children:d.emoji}),a.jsxs("p",{className:"text-gray-700 mb-6 italic font-semibold text-lg",children:['"',d.text,'"']}),a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-lg text-gray-800",children:d.author}),a.jsx("p",{className:"text-sm text-gray-600 font-bold",children:d.role})]})]},f))})]})}),a.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 py-20",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[a.jsx(Gt.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-8xl mb-8",children:""}),a.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 text-white drop-shadow-2xl",children:"Ready for Math Adventure?"}),a.jsx("p",{className:"text-3xl text-white mb-12 font-bold drop-shadow-lg",children:"Join 1,000+ kids having FUN with math!"}),a.jsxs(le,{onClick:n,className:"h-24 px-16 text-3xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-110 transition-all animate-pulse",children:[a.jsx(Spe,{className:"w-10 h-10 mr-4"}),"LET'S GO! IT'S FREE! "]}),a.jsx("p",{className:"text-white mt-6 text-lg font-bold drop-shadow",children:" No credit card   Start in 30 seconds   100% kid-safe"})]})}),a.jsx("div",{className:"bg-gray-900 text-white py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("h3",{className:"text-3xl font-black mb-2",children:"Math Adventure"}),a.jsx("p",{className:"text-gray-400 mb-4 text-lg",children:"Making math fun, one game at a time! "}),a.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Math Adventure. Built with  for learners everywhere."})]})})]})}function Yee(){return a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Loading..."})]})})}const QU={heart:{name:"Heart",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,1,1,0,0,0,1,1,0,0,0],[0,1,2,2,1,0,1,2,2,1,0,0],[1,2,2,2,2,1,2,2,2,2,1,0],[1,2,2,2,2,2,2,2,2,2,1,0],[1,2,2,2,2,2,2,2,2,2,1,0],[0,1,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,1,0,0,0,0],[0,0,0,0,1,2,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},star:{name:"Star",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,0,0,0,1,1,0,0,0,0,0],[0,0,0,0,1,3,3,1,0,0,0,0],[0,0,0,1,3,3,3,3,1,0,0,0],[0,0,0,0,1,3,3,1,0,0,0,0],[0,0,1,3,3,3,3,3,3,1,0,0],[0,1,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,1,3,3,1,3,3,3,1],[0,1,1,1,0,1,1,0,1,1,1,0],[0,1,3,3,1,0,0,1,3,3,1,0],[1,3,3,3,3,1,1,3,3,3,3,1],[0,1,1,1,1,0,0,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},fish:{name:"Fish",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:14,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,1,4,4,4,4,4,1,1,0,0,0],[0,0,1,4,4,4,4,4,4,4,4,1,0,0],[0,1,4,4,5,5,4,4,4,4,4,4,1,1],[0,1,4,4,5,5,4,4,4,4,4,4,1,2],[0,1,4,4,4,4,4,4,4,4,4,4,1,2],[0,1,4,4,4,4,4,4,4,4,4,4,1,1],[0,0,1,4,4,4,4,4,4,1,1,0,0,0],[0,0,0,1,4,4,4,4,4,1,1,0,0,0],[0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,2,2,2,2,2,2,2,2,2,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},smiley:{name:"Smiley Face",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,0,1,1,1,1,1,1,0,0,0],[0,0,1,3,3,3,3,3,3,1,0,0],[0,1,3,3,3,3,3,3,3,3,1,0],[1,3,3,1,1,3,3,1,1,3,3,1],[1,3,3,1,5,3,3,1,5,3,3,1],[1,3,3,1,1,3,3,1,1,3,3,1],[1,3,3,3,3,3,3,3,3,3,3,1],[1,3,1,3,3,3,3,3,3,1,3,1],[0,1,3,1,2,2,2,2,1,3,1,0],[0,1,3,3,1,1,1,1,3,3,1,0],[0,0,1,3,3,3,3,3,3,1,0,0],[0,0,0,1,1,1,1,1,1,0,0,0]]},sun:{name:"Sun",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,0,0,0,4,4,0,0,0,0,0],[0,0,0,0,0,4,4,0,0,0,0,0],[0,0,1,1,1,1,1,1,1,1,0,0],[4,0,1,3,3,3,3,3,3,1,0,4],[4,0,1,3,3,3,3,3,3,1,0,4],[0,1,3,3,3,3,3,3,3,3,1,0],[0,1,3,3,3,3,3,3,3,3,1,0],[4,0,1,3,3,3,3,3,3,1,0,4],[4,0,1,3,3,3,3,3,3,1,0,4],[0,0,1,1,1,1,1,1,1,1,0,0],[0,0,0,0,0,4,4,0,0,0,0,0],[0,0,0,0,0,4,4,0,0,0,0,0]]},apple:{name:"Apple",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,0,0,0,5,5,0,0,0,0,0],[0,0,0,0,0,5,6,6,0,0,0,0],[0,0,1,1,1,1,6,1,1,1,0,0],[0,1,2,2,2,2,1,2,2,2,1,0],[1,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,1],[0,1,2,2,2,2,2,2,2,2,1,0],[0,0,1,2,2,2,2,2,2,1,0,0],[0,0,0,1,1,1,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},balloon:{name:"Balloon",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:12,pattern:[[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,1,2,2,2,2,2,2,1,0,0],[0,1,2,2,2,2,2,2,2,2,1,0],[1,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,1],[0,1,2,2,2,2,2,2,2,2,1,0],[0,0,1,2,2,2,2,2,2,1,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,0,1,3,3,1,0,0,0,0],[0,0,0,0,0,1,1,0,0,0,0,0]]},car:{name:"Car",emoji:"",difficulty:"easy",grades:["K","1","2"],gridSize:14,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,1,5,5,1,5,5,1,0,0,0,0],[0,0,1,5,5,5,5,5,5,5,1,0,0,0],[0,1,2,2,2,2,2,2,2,2,2,1,0,0],[1,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,2,2,1,1,2,2,2,1,1,2,2,1,0],[1,2,2,1,1,2,2,2,1,1,2,2,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,6,6,6,1,0,0,1,6,6,6,1,0],[0,1,6,6,6,1,0,0,1,6,6,6,1,0],[0,0,1,1,1,0,0,0,0,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},flower:{name:"Flower",emoji:"",difficulty:"medium",grades:["2","3","4"],gridSize:14,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,0,0,1,1,1,0,0,0],[0,0,1,6,6,6,1,1,6,6,6,1,0,0],[0,0,1,6,6,6,6,6,6,6,6,1,0,0],[0,0,0,1,6,6,6,6,6,6,1,0,0,0],[0,0,0,0,1,3,3,3,3,1,0,0,0,0],[1,1,1,0,1,3,3,3,3,1,0,1,1,1],[1,6,6,1,1,3,3,3,3,1,1,6,6,1],[1,6,6,6,1,3,3,3,3,1,6,6,6,1],[0,1,6,6,6,1,1,1,1,6,6,6,1,0],[0,0,1,1,1,5,5,5,5,1,1,1,0,0],[0,0,0,0,0,1,5,5,1,0,0,0,0,0],[0,0,0,0,0,1,5,5,1,0,0,0,0,0],[0,0,0,2,2,2,2,2,2,2,2,0,0,0]]},butterfly:{name:"Butterfly",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:16,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0],[0,1,5,5,5,1,0,0,0,0,1,5,5,5,1,0],[0,1,5,5,5,5,1,0,0,1,5,5,5,5,1,0],[1,5,5,4,5,5,5,1,1,5,5,5,4,5,5,1],[1,5,5,5,5,5,5,1,1,5,5,5,5,5,5,1],[0,1,5,5,5,5,1,1,1,1,5,5,5,5,1,0],[0,0,1,1,1,1,1,2,2,1,1,1,1,1,0,0],[0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0],[0,0,1,1,1,1,2,2,2,2,1,1,1,1,0,0],[0,1,6,6,6,6,1,2,2,1,6,6,6,6,1,0],[1,6,6,6,6,6,6,1,1,6,6,6,6,6,6,1],[1,6,6,4,6,6,1,0,0,1,6,6,4,6,6,1],[0,1,1,1,1,1,0,0,0,0,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},rocket:{name:"Rocket",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:14,pattern:[[0,0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,1,2,2,1,0,0,0,0,0],[0,0,0,0,1,2,2,2,2,1,0,0,0,0],[0,0,0,0,1,2,2,2,2,1,0,0,0,0],[0,0,0,0,1,2,4,4,2,1,0,0,0,0],[0,0,0,0,1,2,4,4,2,1,0,0,0,0],[0,0,0,1,1,2,2,2,2,1,1,0,0,0],[0,0,1,3,1,2,2,2,2,1,3,1,0,0],[0,1,3,3,1,2,2,2,2,1,3,3,1,0],[1,3,3,3,1,2,2,2,2,1,3,3,3,1],[1,3,3,1,1,1,1,1,1,1,1,3,3,1],[0,1,1,0,1,5,5,5,5,1,0,1,1,0],[0,0,0,0,1,5,5,5,5,1,0,0,0,0],[0,0,0,0,0,1,1,1,1,0,0,0,0,0]]},dinosaur:{name:"Dinosaur",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:16,pattern:[[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,1,3,3,3,1,0,0,0,0,0,0],[0,0,0,0,1,3,3,3,3,3,1,0,0,0,0,0],[0,0,0,0,1,3,5,3,3,3,1,0,0,0,0,0],[0,0,0,0,1,3,3,3,3,3,1,0,0,0,0,0],[0,0,0,1,1,3,3,3,3,3,1,1,0,0,0,0],[0,0,1,3,3,3,3,3,3,3,3,3,1,0,0,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,1,0,0],[1,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,3,1,1,3,3,1,1,3,3,3,1,0],[0,1,3,3,3,1,1,3,3,1,1,3,3,1,0,0],[0,0,1,1,1,0,0,1,1,0,0,1,1,0,0,0],[0,0,2,2,2,2,2,2,2,2,2,2,2,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},owl:{name:"Owl",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:14,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,0,0,0,0],[0,0,0,1,4,4,4,4,4,4,1,0,0,0],[0,0,1,4,4,4,4,4,4,4,4,1,0,0],[0,1,4,4,1,1,4,4,1,1,4,4,1,0],[0,1,4,1,5,5,1,1,5,5,1,4,1,0],[0,1,4,1,5,5,1,1,5,5,1,4,1,0],[0,1,4,4,1,1,4,4,1,1,4,4,1,0],[0,1,4,4,4,4,4,4,4,4,4,4,1,0],[0,1,4,4,4,1,3,3,1,4,4,4,1,0],[0,0,1,4,4,1,3,3,1,4,4,1,0,0],[0,0,1,4,4,4,1,1,4,4,4,1,0,0],[0,0,0,1,1,1,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},robot:{name:"Robot",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:14,pattern:[[0,0,0,0,0,1,1,1,1,0,0,0,0,0],[0,0,0,0,1,6,6,6,6,1,0,0,0,0],[0,0,0,1,2,2,2,2,2,2,1,0,0,0],[0,0,1,2,2,1,2,2,1,2,2,1,0,0],[0,0,1,2,2,4,2,2,4,2,2,1,0,0],[0,0,1,2,2,2,2,2,2,2,2,1,0,0],[0,0,1,2,1,1,1,1,1,1,2,1,0,0],[0,1,1,2,2,2,2,2,2,2,2,1,1,0],[1,3,1,2,2,2,2,2,2,2,2,1,3,1],[0,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,1,5,5,1,1,5,5,1,0,0,0],[0,0,0,1,5,5,1,1,5,5,1,0,0,0],[0,0,0,1,1,1,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},icecream:{name:"Ice Cream",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:14,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,0,0,0,0],[0,0,0,1,6,6,6,6,6,6,1,0,0,0],[0,0,1,6,6,6,6,6,6,6,6,1,0,0],[0,1,6,6,2,2,6,6,2,2,6,6,1,0],[0,1,6,6,2,2,6,6,2,2,6,6,1,0],[0,1,6,6,6,6,6,6,6,6,6,6,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,1,4,4,4,4,4,4,1,0,0,0],[0,0,0,0,1,4,4,4,4,1,0,0,0,0],[0,0,0,0,0,1,4,4,1,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},sailboat:{name:"Sailboat",emoji:"",difficulty:"medium",grades:["3","4","5"],gridSize:14,pattern:[[0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,5,1,0,0,0,0,0],[0,0,0,0,0,0,1,5,5,1,0,0,0,0],[0,0,0,0,0,0,1,5,5,5,1,0,0,0],[0,0,0,0,0,0,1,5,5,5,5,1,0,0],[0,0,0,1,1,1,1,1,1,1,1,1,1,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,1],[0,1,2,2,2,2,2,2,2,2,2,2,2,1],[0,1,2,2,2,2,2,2,2,2,2,2,1,0],[0,0,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,3,3,3,3,3,3,3,3,3,3,3,0],[0,0,3,3,3,3,3,3,3,3,3,3,3,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},rainbow:{name:"Rainbow",emoji:"",difficulty:"hard",grades:["4","5","6"],gridSize:16,pattern:[[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,1,2,2,2,2,2,2,2,2,2,2,1,1,0],[0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,1,2,3,3,3,3,3,3,3,3,3,3,2,1,1],[1,2,3,3,3,3,3,3,3,3,3,3,3,3,2,1],[1,2,3,4,4,4,4,4,4,4,4,4,4,3,2,1],[1,2,3,4,5,5,5,5,5,5,5,5,4,3,2,1],[1,2,3,4,5,6,6,6,6,6,6,5,4,3,2,1],[1,2,3,4,5,6,0,0,0,0,6,5,4,3,2,1],[1,2,3,4,5,0,0,0,0,0,0,5,4,3,2,1],[1,2,3,4,0,0,0,0,0,0,0,0,4,3,2,1],[0,1,2,0,0,0,0,0,0,0,0,0,0,2,1,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},house:{name:"House",emoji:"",difficulty:"hard",grades:["4","5","6"],gridSize:16,pattern:[[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0],[0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0],[0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0],[0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,3,3,3,3,3,1,4,4,1,3,3,3,3,3,1],[1,3,3,3,3,3,1,4,4,1,3,3,3,3,3,1],[1,3,3,5,5,3,1,4,4,1,3,3,5,5,3,1],[1,3,3,5,5,3,1,4,4,1,3,3,5,5,3,1],[1,3,3,3,3,3,1,4,4,1,3,3,3,3,3,1],[1,3,3,3,3,3,1,4,4,1,3,3,3,3,3,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0]]},dragon:{name:"Dragon",emoji:"",difficulty:"hard",grades:["5","6","7"],gridSize:18,pattern:[[0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,3,3,3,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,3,3,3,3,3,1,0,0,0,0,0],[0,0,0,0,0,1,3,3,5,3,3,3,3,1,0,0,0,0],[0,0,0,0,1,3,3,3,3,3,3,3,3,3,1,0,0,0],[0,0,0,1,3,3,3,3,3,3,3,3,3,3,3,1,0,0],[0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,3,1,1,3,3,3,1,1,3,3,3,1,0,0],[1,3,3,3,3,1,1,3,3,3,1,1,3,3,1,0,0,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,1,0,0,0,0],[0,0,1,1,3,3,3,3,3,3,3,3,1,0,0,0,0,0],[0,0,0,0,1,1,3,3,3,3,1,1,0,0,0,0,0,0],[0,0,0,0,0,2,2,2,2,2,2,0,0,0,0,0,0,0],[0,0,0,0,0,2,2,2,2,2,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},castle:{name:"Castle",emoji:"",difficulty:"hard",grades:["5","6","7"],gridSize:18,pattern:[[0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0],[0,1,2,1,0,0,0,0,0,0,0,0,0,0,1,2,1,0],[0,1,2,1,0,0,0,1,1,1,1,0,0,0,1,2,1,0],[0,1,2,1,0,0,1,4,4,4,4,1,0,0,1,2,1,0],[0,1,2,1,1,1,4,4,4,4,4,4,1,1,1,2,1,0],[0,1,2,2,2,2,4,4,4,4,4,4,2,2,2,2,1,0],[0,1,2,2,2,2,4,4,4,4,4,4,2,2,2,2,1,0],[0,1,2,5,5,2,4,4,4,4,4,4,2,5,5,2,1,0],[0,1,2,5,5,2,4,4,4,4,4,4,2,5,5,2,1,0],[0,1,2,2,2,2,4,4,4,4,4,4,2,2,2,2,1,0],[0,1,2,2,2,2,4,4,1,1,4,4,2,2,2,2,1,0],[0,1,2,2,2,2,4,4,1,1,4,4,2,2,2,2,1,0],[0,1,2,2,2,2,4,4,1,1,4,4,2,2,2,2,1,0],[0,1,2,2,2,2,4,4,4,4,4,4,2,2,2,2,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0],[0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},unicorn:{name:"Unicorn",emoji:"",difficulty:"hard",grades:["5","6","7"],gridSize:16,pattern:[[0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,6,6,1,0,0,0,0,0,0],[0,0,0,0,0,1,5,1,1,5,1,0,0,0,0,0],[0,0,0,0,1,5,5,5,5,5,5,1,0,0,0,0],[0,0,0,1,5,5,5,5,5,5,5,5,1,0,0,0],[0,0,1,3,3,5,5,5,5,5,5,3,3,1,0,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[0,1,3,1,1,3,3,3,3,3,3,1,1,3,1,0],[0,1,3,1,4,3,3,3,3,3,3,1,4,3,1,0],[0,1,3,1,1,3,3,3,3,3,3,1,1,3,1,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[0,0,1,3,3,3,3,3,3,3,3,3,3,1,0,0],[0,0,0,1,3,3,3,1,1,3,3,3,1,0,0,0],[0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0],[0,0,0,2,2,2,2,2,2,2,2,2,2,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},spaceship:{name:"Spaceship",emoji:"",difficulty:"hard",grades:["5","6","7"],gridSize:16,pattern:[[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0],[0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0],[0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0],[0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0],[0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0],[0,1,2,2,2,2,2,2,2,2,2,2,2,2,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,5,5,5,1,5,5,5,5,5,5,1,5,5,5,1],[1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,1],[0,1,5,5,5,5,5,5,5,5,5,5,5,5,1,0],[0,0,1,1,5,5,5,5,5,5,5,5,1,1,0,0],[0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0],[0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},elephant:{name:"Elephant",emoji:"",difficulty:"hard",grades:["5","6","7"],gridSize:18,pattern:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,1,3,3,3,3,3,3,3,3,1,0,0,0,0],[0,0,0,1,3,3,3,3,3,3,3,3,3,3,1,0,0,0],[0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,1,0,0],[0,1,3,3,1,1,3,3,3,3,3,3,1,1,3,3,1,0],[0,1,3,3,1,5,3,3,3,3,3,3,1,5,3,3,1,0],[0,1,3,3,1,1,3,3,3,3,3,3,1,1,3,3,1,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0],[1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1],[1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1],[1,3,3,3,3,1,1,3,3,3,3,1,1,3,3,3,3,1],[0,1,1,3,3,1,1,3,3,3,3,1,1,3,3,1,1,0],[0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}};function Qee(){const t=yu(),e=wn(),r=new URLSearchParams(window.location.search),n=r.get("operation")||"addition",i=r.get("level")||"easy",s=r.get("template"),[o,l]=S.useState(n),[c,d]=S.useState(i),[f,m]=S.useState({}),[p,v]=S.useState(null),[w,x]=S.useState(!1),[g,_]=S.useState(!1),[T,P]=S.useState(!s),[k,A]=S.useState(s||null),[C,E]=S.useState(!1),[j,O]=S.useState("brush"),[R,L]=S.useState(1),[$,F]=S.useState(!1),[G,K]=S.useState(null),[Y,J]=S.useState(!1),{data:U}=ft({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),ie=(()=>{const Ae=[],ve=[],De=[];return Object.entries(QU).forEach(([lt,qe])=>{qe.difficulty==="easy"?Ae.push([lt,qe]):qe.difficulty==="medium"?ve.push([lt,qe]):qe.difficulty==="hard"&&De.push([lt,qe])}),{easy:Ae,medium:ve,hard:De}})(),W=()=>{const Ae={easy:{min:0,max:5,answers:[1,2,3,4,5,6]},medium:{min:0,max:10,answers:[2,4,6,8,10,12]},hard:{min:5,max:15,answers:[5,10,15,20,25,30]}},ve=Ae[c]||Ae.easy,De=[],lt=ve.answers;return lt.forEach(qe=>{let vt="";if(o==="addition"){const St=Math.floor(Math.random()*Math.min(qe,ve.max)),Nt=qe-St;vt=`${St}+${Nt}`}else if(o==="subtraction"){const St=qe+Math.floor(Math.random()*ve.max)+ve.min,Nt=St-qe;vt=`${St}-${Nt}`}else if(o==="multiplication"){const St=Math.max(1,Math.floor(Math.random()*5)),Nt=Math.floor(qe/St);St*Nt===qe?vt=`${St}${Nt}`:vt=`${qe}1`}else if(o==="division"){const St=Math.max(1,Math.floor(Math.random()*5));vt=`${qe*St}${St}`}De.push({question:vt,answer:qe,color:ee(qe,lt)})}),De},ee=(Ae,ve)=>{const De=[{name:"Red",hex:"#EF4444",answer:ve[0]},{name:"Blue",hex:"#3B82F6",answer:ve[1]},{name:"Green",hex:"#10B981",answer:ve[2]},{name:"Yellow",hex:"#F59E0B",answer:ve[3]},{name:"Purple",hex:"#A855F7",answer:ve[4]},{name:"Pink",hex:"#EC4899",answer:ve[5]}],lt=ve.indexOf(Ae);return De[lt]||De[0]},[de,ce]=S.useState(()=>W());S.useEffect(()=>{ce(W()),m({}),x(!1),v(null)},[o,c]);const be=[...new Set(de.map(Ae=>Ae.color))],ye=k?QU[k]:null,pe=Pr({mutationFn:Ae=>base44.entities.GameProgress.create(Ae),onSuccess:()=>{e.invalidateQueries({queryKey:["gameProgress"]});const ve=((U==null?void 0:U.coins)||0)+25;base44.auth.updateMe({coins:ve})}}),Ie=()=>{let Ae=0;ye.pattern.forEach(ve=>{ve.forEach(De=>{De!==0&&Ae++})}),pe.mutate({level:c,operation:o,score:100,correct_answers:Ae,total_questions:Ae,time_taken:0,stars_earned:3,coins_earned:25,learning_objective:`Pixel art color by numbers - ${ye==null?void 0:ye.name} - practicing ${o}`})},me=async()=>{if(!ye)return null;J(!0);try{const Ae=document.createElement("canvas"),ve=Ae.getContext("2d"),De=40,lt=ye.gridSize;Ae.width=lt*De,Ae.height=lt*De,ye.pattern.forEach((St,Nt)=>{St.forEach((fr,Mn)=>{const Co=`${Nt}-${Mn}`,_s=Mn*De,js=Nt*De;fr===0?ve.fillStyle="#F3F4F6":ve.fillStyle=f[Co]||"#FFFFFF",ve.fillRect(_s,js,De,De),ve.strokeStyle="#9CA3AF",ve.lineWidth=1,ve.strokeRect(_s,js,De,De)})});const qe=await new Promise(St=>Ae.toBlob(St,"image/png")),vt=URL.createObjectURL(qe);return K(vt),J(!1),vt}catch(Ae){return console.error("Error capturing artwork:",Ae),J(!1),null}};S.useEffect(()=>{if(!ye)return;let Ae=0,ve=0,De=0;ye.pattern.forEach((lt,qe)=>{lt.forEach((vt,St)=>{if(vt!==0){Ae++;const Nt=`${qe}-${St}`,fr=de[vt-1];f[Nt]&&(ve++,f[Nt]===(fr==null?void 0:fr.color.hex)&&De++)}})}),Ae>0&&ve===Ae&&De===Ae&&!w&&(x(!0),Ie(),me())},[f,ye,w,de]);const Pe=()=>{if(!G)return;const Ae=document.createElement("a");Ae.href=G,Ae.download=`math-adventure-${ye==null?void 0:ye.name.toLowerCase().replace(/\s+/g,"-")}-${Date.now()}.png`,document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae)},Re=()=>{const Ae=` I just completed a ${ye==null?void 0:ye.name} pixel art in Math Adventure! Check out my awesome creation! `,ve=window.location.href,De=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(ve)}&quote=${encodeURIComponent(Ae)}`;window.open(De,"_blank","width=600,height=400")},fe=()=>{const Ae=` I just completed a ${ye==null?void 0:ye.name} pixel art in Math Adventure while practicing ${o}!  #MathAdventure #PixelArt #Learning`,ve=window.location.href,De=`https://twitter.com/intent/tweet?text=${encodeURIComponent(Ae)}&url=${encodeURIComponent(ve)}`;window.open(De,"_blank","width=600,height=400")},ct=async()=>{try{await navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")}catch(Ae){console.error("Failed to copy link:",Ae)}},tt=(Ae,ve,De,lt)=>{if(!ye)return;const qe=new Set,vt=[[Ae,ve]],St=[];for(;vt.length>0;){const[Nt,fr]=vt.pop(),Mn=`${Nt}-${fr}`;Nt<0||Nt>=ye.gridSize||fr<0||fr>=ye.gridSize||qe.has(Mn)||(qe.add(Mn),ye.pattern[Nt][fr]!==De)||(St.push(Mn),vt.push([Nt+1,fr]),vt.push([Nt-1,fr]),vt.push([Nt,fr+1]),vt.push([Nt,fr-1]))}return St},Ot=(Ae,ve,De)=>{if(w||De===0)return;const lt=`${Ae}-${ve}`;if(j==="brush"){if(!p)return;m(qe=>({...qe,[lt]:p}))}else if(j==="fill"){if(!p)return;const qe=tt(Ae,ve,De);qe&&qe.length>0&&m(vt=>{const St={...vt};return qe.forEach(Nt=>{St[Nt]=p}),St})}else j==="eraser"&&m(qe=>{const vt={...qe};return delete vt[lt],vt})},Rt=(Ae,ve,De)=>{if(!p||w||De===0||j!=="brush")return;E(!0);const lt=`${Ae}-${ve}`;m(qe=>({...qe,[lt]:p}))},Yt=(Ae,ve,De)=>{if(!C||!p||w||De===0||j!=="brush")return;const lt=`${Ae}-${ve}`;m(qe=>({...qe,[lt]:p}))},Kr=()=>{E(!1)};S.useEffect(()=>{const Ae=()=>{E(!1)};return window.addEventListener("mouseup",Ae),window.addEventListener("touchend",Ae),()=>{window.removeEventListener("mouseup",Ae),window.removeEventListener("touchend",Ae)}},[]);const Dt=()=>{m({}),x(!1),v(null),L(1),K(null)},ir=()=>{L(Ae=>Math.min(Ae+.25,2))},Ar=()=>{L(Ae=>Math.max(Ae-.25,.5))},jn=()=>{L(1)},gi=Ae=>{A(Ae),P(!1),m({}),x(!1),v(null),L(1),K(null);const ve=`${window.location.pathname}?operation=${o}&level=${c}&template=${Ae}`;window.history.replaceState({},"",ve)},ws=Ae=>{l(Ae);const ve=ye?`${window.location.pathname}?operation=${Ae}&level=${c}&template=${k}`:`${window.location.pathname}?operation=${Ae}&level=${c}`;window.history.replaceState({},"",ve)},Rn=Ae=>{d(Ae);const ve=ye?`${window.location.pathname}?operation=${o}&level=${Ae}&template=${k}`:`${window.location.pathname}?operation=${o}&level=${Ae}`;window.history.replaceState({},"",ve)};if(T)return a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs(le,{variant:"outline",onClick:()=>t(Ge("Home")),className:"gap-2 mb-4",children:[a.jsx(Ad,{className:"w-4 h-4"}),"Back"]}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center justify-center gap-2 mb-2",children:[a.jsx(Wd,{className:"w-8 h-8 text-purple-500"}),"Choose Your Pixel Art"]}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Pick a fun design to color!"}),a.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-center gap-4 relative z-50",children:[a.jsxs("div",{className:"w-full sm:w-auto",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Math Operation"}),a.jsxs(hi,{value:o,onValueChange:ws,children:[a.jsx(Kn,{className:"w-full sm:w-52 h-12 text-base",children:a.jsx(fi,{placeholder:"Select operation"})}),a.jsxs(Yn,{className:"z-[100]",children:[a.jsx(et,{value:"addition",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qn,{className:"w-4 h-4"}),"Addition"]})}),a.jsx(et,{value:"subtraction",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ac,{className:"w-4 h-4"}),"Subtraction"]})}),a.jsx(et,{value:"multiplication",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(An,{className:"w-4 h-4"}),"Multiplication"]})}),a.jsx(et,{value:"division",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ec,{className:"w-4 h-4"}),"Division"]})})]})]})]}),a.jsxs("div",{className:"w-full sm:w-auto",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),a.jsxs(hi,{value:c,onValueChange:Rn,children:[a.jsx(Kn,{className:"w-full sm:w-52 h-12 text-base",children:a.jsx(fi,{placeholder:"Select level"})}),a.jsxs(Yn,{className:"z-[100]",children:[a.jsx(et,{value:"easy",children:"Easy (K-2nd Grade)"}),a.jsx(et,{value:"medium",children:"Medium (3-5th Grade)"}),a.jsx(et,{value:"hard",children:"Hard (6-8th Grade)"})]})]})]})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(je,{className:"bg-green-500 text-white text-lg px-4 py-2",children:"Easy"}),a.jsx("span",{className:"text-gray-600 text-lg",children:"Perfect for K-2nd Grade"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:ie.easy.map(([Ae,ve])=>a.jsxs(re,{className:"border-4 border-green-200 hover:border-green-500 cursor-pointer transition-all hover:shadow-xl",onClick:()=>gi(Ae),children:[a.jsx(_e,{className:"bg-gradient-to-r from-green-100 to-emerald-100",children:a.jsxs(Ne,{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-2",children:ve.emoji}),a.jsx("div",{className:"text-xl",children:ve.name})]})}),a.jsx(ne,{className:"p-4",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[ve.gridSize,"",ve.gridSize," grid"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Grades: ",ve.grades.join(", ")]}),a.jsxs(je,{className:"bg-blue-500 text-white",children:[a.jsx(Xt,{className:"w-3 h-3 mr-1"}),"Pixel Art Style"]})]})})]},Ae))})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(je,{className:"bg-yellow-500 text-white text-lg px-4 py-2",children:"Medium"}),a.jsx("span",{className:"text-gray-600 text-lg",children:"Great for 3-5th Grade"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:ie.medium.map(([Ae,ve])=>a.jsxs(re,{className:"border-4 border-yellow-200 hover:border-yellow-500 cursor-pointer transition-all hover:shadow-xl",onClick:()=>gi(Ae),children:[a.jsx(_e,{className:"bg-gradient-to-r from-yellow-100 to-orange-100",children:a.jsxs(Ne,{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-2",children:ve.emoji}),a.jsx("div",{className:"text-xl",children:ve.name})]})}),a.jsx(ne,{className:"p-4",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[ve.gridSize,"",ve.gridSize," grid"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Grades: ",ve.grades.join(", ")]}),a.jsxs(je,{className:"bg-blue-500 text-white",children:[a.jsx(Xt,{className:"w-3 h-3 mr-1"}),"Pixel Art Style"]})]})})]},Ae))})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(je,{className:"bg-red-500 text-white text-lg px-4 py-2",children:"Hard"}),a.jsx("span",{className:"text-gray-600 text-lg",children:"Challenge for 5-8th Grade"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:ie.hard.map(([Ae,ve])=>a.jsxs(re,{className:"border-4 border-red-200 hover:border-red-500 cursor-pointer transition-all hover:shadow-xl",onClick:()=>gi(Ae),children:[a.jsx(_e,{className:"bg-gradient-to-r from-red-100 to-pink-100",children:a.jsxs(Ne,{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-2",children:ve.emoji}),a.jsx("div",{className:"text-xl",children:ve.name})]})}),a.jsx(ne,{className:"p-4",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[ve.gridSize,"",ve.gridSize," grid"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Grades: ",ve.grades.join(", ")]}),a.jsxs(je,{className:"bg-blue-500 text-white",children:[a.jsx(Xt,{className:"w-3 h-3 mr-1"}),"Pixel Art Style"]})]})})]},Ae))})]})]});if(!ye)return a.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8 text-center",children:a.jsx("p",{children:"Loading template..."})});const Zs=40;let ea=0,Mi=0;return ye.pattern.forEach((Ae,ve)=>{Ae.forEach((De,lt)=>{if(De!==0){ea++;const qe=`${ve}-${lt}`;f[qe]&&Mi++}})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4",children:[a.jsxs(le,{variant:"outline",onClick:()=>P(!0),className:"gap-2",children:[a.jsx(Ad,{className:"w-4 h-4"}),"Change Picture"]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(hi,{value:o,onValueChange:ws,children:[a.jsx(Kn,{className:"w-44",children:a.jsx(fi,{})}),a.jsxs(Yn,{children:[a.jsx(et,{value:"addition",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qn,{className:"w-4 h-4"}),"Addition"]})}),a.jsx(et,{value:"subtraction",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ac,{className:"w-4 h-4"}),"Subtraction"]})}),a.jsx(et,{value:"multiplication",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(An,{className:"w-4 h-4"}),"Multiplication"]})}),a.jsx(et,{value:"division",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ec,{className:"w-4 h-4"}),"Division"]})})]})]}),a.jsxs(hi,{value:c,onValueChange:Rn,children:[a.jsx(Kn,{className:"w-44",children:a.jsx(fi,{})}),a.jsxs(Yn,{children:[a.jsx(et,{value:"easy",children:"Easy (K-2)"}),a.jsx(et,{value:"medium",children:"Medium (3-5)"}),a.jsx(et,{value:"hard",children:"Hard (6-8)"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(le,{variant:"outline",onClick:()=>_(!g),className:"gap-2",children:[a.jsx(ci,{className:"w-4 h-4"}),g?"Hide":"Show"," Hints"]}),a.jsxs(le,{variant:"outline",onClick:Dt,className:"gap-2",children:[a.jsx(UI,{className:"w-4 h-4"}),"Reset"]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center justify-center gap-2 mb-2",children:[a.jsx("span",{className:"text-4xl",children:ye.emoji}),ye.name," Pixel Art"]}),a.jsx("p",{className:"text-gray-600",children:"Solve the math problems and color the picture!"}),a.jsxs(je,{className:"mt-2 text-lg px-4 py-1",children:[o.charAt(0).toUpperCase()+o.slice(1)," - ",c.charAt(0).toUpperCase()+c.slice(1)]})]})]}),w&&a.jsxs(ze,{className:"mb-6 bg-green-50 border-green-300",children:[a.jsx(Wt,{className:"w-5 h-5 text-green-600"}),a.jsx(We,{className:"text-green-800",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("strong",{children:" Pixel Art Complete!"}),a.jsx("p",{className:"text-sm mt-1",children:"You've colored all cells correctly! +25 coins & 3 stars!"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(le,{onClick:()=>F(!0),className:"bg-blue-500 hover:bg-blue-600",children:[a.jsx(RD,{className:"w-4 h-4 mr-2"}),"Share"]}),a.jsxs(le,{onClick:()=>P(!0),className:"bg-purple-500 hover:bg-purple-600",children:[a.jsx(Hpe,{className:"w-4 h-4 mr-2"}),"New Picture"]}),a.jsxs(le,{onClick:()=>t(Ge("Home")),className:"bg-green-500 hover:bg-green-600",children:[a.jsx(It,{className:"w-4 h-4 mr-2"}),"Done"]})]})]})})]}),$&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[200] p-4",onClick:()=>F(!1),children:a.jsxs(re,{className:"max-w-2xl w-full border-4 border-purple-300 shadow-2xl",onClick:Ae=>Ae.stopPropagation(),children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(RD,{className:"w-6 h-6"}),"Share Your Masterpiece!"]}),a.jsx(le,{variant:"ghost",size:"icon",onClick:()=>F(!1),className:"text-white hover:bg-white/20",children:a.jsx(An,{className:"w-5 h-5"})})]})}),a.jsxs(ne,{className:"p-6",children:[G&&a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"bg-gray-100 rounded-xl p-4 border-2 border-gray-300",children:a.jsx("img",{src:G,alt:"Completed artwork",className:"max-w-full mx-auto",style:{maxHeight:"300px",imageRendering:"pixelated"}})}),a.jsxs("p",{className:"text-center mt-3 text-gray-600",children:[a.jsx("span",{className:"text-2xl",children:ye==null?void 0:ye.emoji})," ",ye==null?void 0:ye.name," - ",o.charAt(0).toUpperCase()+o.slice(1)]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-bold text-lg mb-3",children:"Share on Social Media"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs(le,{onClick:Re,className:"h-14 bg-[#1877F2] hover:bg-[#166FE5] text-white gap-2 text-base",children:[a.jsx(Fme,{className:"w-5 h-5"}),"Share on Facebook"]}),a.jsxs(le,{onClick:fe,className:"h-14 bg-[#1DA1F2] hover:bg-[#1A94DA] text-white gap-2 text-base",children:[a.jsx(uge,{className:"w-5 h-5"}),"Share on Twitter"]})]}),a.jsxs(ze,{className:"bg-purple-50 border-purple-200",children:[a.jsx(spe,{className:"w-4 h-4 text-purple-600"}),a.jsxs(We,{className:"text-purple-800 text-sm",children:[a.jsx("strong",{children:"Instagram Tip:"})," Download your artwork below and share it as a post or story!"]})]}),a.jsxs("div",{className:"pt-4 border-t space-y-3",children:[a.jsx("h3",{className:"font-bold text-lg",children:"Download & More"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs(le,{onClick:Pe,variant:"outline",className:"h-12 gap-2 border-2 border-purple-300 hover:bg-purple-50",children:[a.jsx(cy,{className:"w-5 h-5"}),"Download Image"]}),a.jsxs(le,{onClick:ct,variant:"outline",className:"h-12 gap-2 border-2 border-blue-300 hover:bg-blue-50",children:[a.jsx(lpe,{className:"w-5 h-5"}),"Copy Link"]})]})]}),a.jsxs(ze,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ci,{className:"w-4 h-4 text-blue-600"}),a.jsxs(We,{className:"text-blue-800 text-sm",children:[a.jsx("strong",{children:"Pro Tip:"})," Download your artwork and share it anywhere! Perfect for showing off your math skills to friends and family."]})]})]})]})]})}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[a.jsxs(re,{className:"border-4 border-blue-300 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(zb,{className:"w-6 h-6"}),"Drawing Tools"]})}),a.jsxs(ne,{className:"p-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[a.jsxs(le,{variant:j==="brush"?"default":"outline",onClick:()=>O("brush"),className:`flex flex-col items-center gap-1 h-auto py-3 ${j==="brush"?"bg-blue-500 text-white":""}`,children:[a.jsx(zb,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Brush"})]}),a.jsxs(le,{variant:j==="fill"?"default":"outline",onClick:()=>O("fill"),className:`flex flex-col items-center gap-1 h-auto py-3 ${j==="fill"?"bg-blue-500 text-white":""}`,children:[a.jsx(GW,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Fill"})]}),a.jsxs(le,{variant:j==="eraser"?"default":"outline",onClick:()=>O("eraser"),className:`flex flex-col items-center gap-1 h-auto py-3 ${j==="eraser"?"bg-blue-500 text-white":""}`,children:[a.jsx(WW,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Eraser"})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Zoom Controls"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(le,{variant:"outline",size:"sm",onClick:Ar,disabled:R<=.5,children:a.jsx(jge,{className:"w-4 h-4"})}),a.jsx("div",{className:"flex-1 text-center",children:a.jsxs(je,{variant:"outline",className:"text-sm",children:[Math.round(R*100),"%"]})}),a.jsx(le,{variant:"outline",size:"sm",onClick:ir,disabled:R>=2,children:a.jsx(wge,{className:"w-4 h-4"})}),a.jsx(le,{variant:"outline",size:"sm",onClick:jn,children:a.jsx(mpe,{className:"w-4 h-4"})})]})]}),a.jsxs(ze,{className:"bg-blue-50 border-blue-200 mt-4",children:[a.jsx(ci,{className:"w-4 h-4 text-blue-600"}),a.jsxs(We,{className:"text-blue-800 text-xs",children:[j==="brush"&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:"Brush:"})," Click & drag to paint cells"]}),j==="fill"&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:"Fill:"})," Click to fill all connected cells with the same number"]}),j==="eraser"&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:"Eraser:"})," Click to remove color from cells"]})]})]})]})]}),a.jsxs(re,{className:"border-4 border-purple-300 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Wd,{className:"w-6 h-6"}),"Color Key"]})}),a.jsxs(ne,{className:"p-4 space-y-3",children:[be.map((Ae,ve)=>{var De;return a.jsx("div",{onClick:()=>v(Ae.hex),className:`p-4 rounded-xl cursor-pointer transition-all border-4 ${p===Ae.hex?"border-purple-500 scale-105 shadow-lg":"border-gray-200 hover:border-purple-300"}`,style:{backgroundColor:Ae.hex},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-white drop-shadow-lg",children:[a.jsx("div",{className:"font-bold text-2xl",children:Ae.answer}),a.jsx("div",{className:"text-sm",children:(De=de[ve])==null?void 0:De.question})]}),p===Ae.hex&&a.jsx(Wt,{className:"w-6 h-6 text-white"})]})},ve)}),!p&&j!=="eraser"&&a.jsxs(ze,{className:"bg-yellow-50 border-yellow-300",children:[a.jsx(ci,{className:"w-4 h-4 text-yellow-600"}),a.jsx(We,{className:"text-yellow-800 text-sm",children:"Select a color to start coloring!"})]})]})]})]}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(re,{className:"border-4 border-blue-300 shadow-xl",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsx(Ne,{children:" Your Pixel Art"})}),a.jsxs(ne,{className:"p-6",children:[a.jsx("div",{className:"bg-white rounded-xl border-4 border-gray-300 p-4 overflow-auto max-h-[600px]",children:a.jsx("div",{className:"inline-block border-4 border-black select-none",style:{display:"grid",gridTemplateColumns:`repeat(${ye.gridSize}, ${Zs}px)`,gap:"0",transform:`scale(${R})`,transformOrigin:"top left"},onMouseUp:Kr,onMouseLeave:Kr,children:ye.pattern.map((Ae,ve)=>Ae.map((De,lt)=>{const qe=`${ve}-${lt}`,vt=de[De-1],St=!!f[qe],Nt=f[qe]||(De===0?"#F3F4F6":"#FFFFFF"),fr=St&&f[qe]===(vt==null?void 0:vt.color.hex);return a.jsxs("div",{onMouseDown:()=>j==="brush"&&Rt(ve,lt,De),onMouseEnter:()=>j==="brush"&&Yt(ve,lt,De),onClick:()=>Ot(ve,lt,De),onTouchStart:()=>Ot(ve,lt,De),className:`border border-gray-400 flex items-center justify-center font-bold transition-all ${De!==0&&!St?"hover:bg-gray-100":""} ${j==="brush"&&C?"cursor-crosshair":"cursor-pointer"}`,style:{width:`${Zs}px`,height:`${Zs}px`,backgroundColor:Nt},children:[De!==0&&!St&&a.jsx("span",{className:"text-black text-xl select-none pointer-events-none",children:vt==null?void 0:vt.answer}),St&&fr&&a.jsx("span",{className:"text-white text-2xl drop-shadow-lg pointer-events-none",children:""}),St&&!fr&&a.jsx("span",{className:"text-white text-xl drop-shadow-lg pointer-events-none",children:""})]},qe)}))})}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",Mi," / ",ea," cells colored",C&&a.jsx("span",{className:"ml-2 text-purple-600 font-bold",children:" Painting..."})]}),a.jsx("div",{className:"flex gap-1",children:[1,2,3].map(Ae=>a.jsx(Tt,{className:`w-6 h-6 ${w?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},Ae))})]})]})]})})]}),a.jsx(re,{className:"mt-6 border-2 border-purple-200",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"grid md:grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Brush Tool"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click & drag to paint multiple cells"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Fill Tool"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Fill all connected same numbers at once"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Eraser"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Remove colors to fix mistakes"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("h3",{className:"font-bold mb-1",children:"Zoom"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Zoom in for detailed work on large grids"})]})]})})})]})}var Xee=["PageUp","PageDown"],Jee=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Zee={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},cp="Slider",[Ek,wBe,_Be]=V1(cp),[ete]=Ca(cp,[_Be]),[jBe,G_]=ete(cp),tte=S.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:f,onValueChange:m=()=>{},onValueCommit:p=()=>{},inverted:v=!1,form:w,...x}=t,g=S.useRef(new Set),_=S.useRef(0),P=o==="horizontal"?NBe:SBe,[k=[],A]=_l({prop:f,defaultProp:d,onChange:L=>{var F;(F=[...g.current][_.current])==null||F.focus(),m(L)}}),C=S.useRef(k);function E(L){const $=CBe(k,L);R(L,$)}function j(L){R(L,_.current)}function O(){const L=C.current[_.current];k[_.current]!==L&&p(k)}function R(L,$,{commit:F}={commit:!1}){const G=RBe(s),K=MBe(Math.round((L-n)/s)*s+n,G),Y=o1(K,[n,i]);A((J=[])=>{const U=PBe(J,Y,$);if(OBe(U,c*s)){_.current=U.indexOf(Y);const X=String(U)!==String(J);return X&&F&&p(U),X?U:J}else return J})}return a.jsx(jBe,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:i,valueIndexToChangeRef:_,thumbs:g.current,values:k,orientation:o,form:w,children:a.jsx(Ek.Provider,{scope:t.__scopeSlider,children:a.jsx(Ek.Slot,{scope:t.__scopeSlider,children:a.jsx(P,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:e,onPointerDown:Ve(x.onPointerDown,()=>{l||(C.current=k)}),min:n,max:i,inverted:v,onSlideStart:l?void 0:E,onSlideMove:l?void 0:j,onSlideEnd:l?void 0:O,onHomeKeyDown:()=>!l&&R(n,0,{commit:!0}),onEndKeyDown:()=>!l&&R(i,k.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:$})=>{if(!l){const K=Xee.includes(L.key)||L.shiftKey&&Jee.includes(L.key)?10:1,Y=_.current,J=k[Y],U=s*K*$;R(J+U,Y,{commit:!0})}}})})})})});tte.displayName=cp;var[rte,nte]=ete(cp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),NBe=S.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...f}=t,[m,p]=S.useState(null),v=Bt(e,P=>p(P)),w=S.useRef(void 0),x=P0(i),g=x==="ltr",_=g&&!s||!g&&s;function T(P){const k=w.current||m.getBoundingClientRect(),A=[0,k.width],E=aM(A,_?[r,n]:[n,r]);return w.current=k,E(P-k.left)}return a.jsx(rte,{scope:t.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:a.jsx(ite,{dir:x,"data-orientation":"horizontal",...f,ref:v,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const k=T(P.clientX);o==null||o(k)},onSlideMove:P=>{const k=T(P.clientX);l==null||l(k)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:P=>{const A=Zee[_?"from-left":"from-right"].includes(P.key);d==null||d({event:P,direction:A?-1:1})}})})}),SBe=S.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,f=S.useRef(null),m=Bt(e,f),p=S.useRef(void 0),v=!i;function w(x){const g=p.current||f.current.getBoundingClientRect(),_=[0,g.height],P=aM(_,v?[n,r]:[r,n]);return p.current=g,P(x-g.top)}return a.jsx(rte,{scope:t.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:a.jsx(ite,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const g=w(x.clientY);s==null||s(g)},onSlideMove:x=>{const g=w(x.clientY);o==null||o(g)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:x=>{const _=Zee[v?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:_?-1:1})}})})}),ite=S.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=t,f=G_(cp,r);return a.jsx(jt.span,{...d,ref:e,onKeyDown:Ve(t.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):Xee.concat(Jee).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:Ve(t.onPointerDown,m=>{const p=m.target;p.setPointerCapture(m.pointerId),m.preventDefault(),f.thumbs.has(p)?p.focus():n(m)}),onPointerMove:Ve(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&i(m)}),onPointerUp:Ve(t.onPointerUp,m=>{const p=m.target;p.hasPointerCapture(m.pointerId)&&(p.releasePointerCapture(m.pointerId),s(m))})})}),ste="SliderTrack",ate=S.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=G_(ste,r);return a.jsx(jt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});ate.displayName=ste;var Pk="SliderRange",ote=S.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=G_(Pk,r),s=nte(Pk,r),o=S.useRef(null),l=Bt(e,o),c=i.values.length,d=i.values.map(p=>ute(p,i.min,i.max)),f=c>1?Math.min(...d):0,m=100-Math.max(...d);return a.jsx(jt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:l,style:{...t.style,[s.startEdge]:f+"%",[s.endEdge]:m+"%"}})});ote.displayName=Pk;var Ak="SliderThumb",lte=S.forwardRef((t,e)=>{const r=wBe(t.__scopeSlider),[n,i]=S.useState(null),s=Bt(e,l=>i(l)),o=S.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return a.jsx(TBe,{...t,ref:s,index:o})}),TBe=S.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...s}=t,o=G_(Ak,r),l=nte(Ak,r),[c,d]=S.useState(null),f=Bt(e,T=>d(T)),m=c?o.form||!!c.closest("form"):!0,p=H1(c),v=o.values[n],w=v===void 0?0:ute(v,o.min,o.max),x=ABe(n,o.values.length),g=p==null?void 0:p[l.size],_=g?kBe(g,w,l.direction):0;return S.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${_}px)`},children:[a.jsx(Ek.ItemSlot,{scope:t.__scopeSlider,children:a.jsx(jt.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":v,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:f,style:v===void 0?{display:"none"}:t.style,onFocus:Ve(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),m&&a.jsx(cte,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:v},n)]})});lte.displayName=Ak;var EBe="RadioBubbleInput",cte=S.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const i=S.useRef(null),s=Bt(i,n),o=B_(e);return S.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&f){const m=new Event("input",{bubbles:!0});f.call(l,e),l.dispatchEvent(m)}},[o,e]),a.jsx(jt.input,{style:{display:"none"},...r,ref:s,defaultValue:e})});cte.displayName=EBe;function PBe(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,s)=>i-s)}function ute(t,e,r){const s=100/(r-e)*(t-e);return o1(s,[0,100])}function ABe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function CBe(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function kBe(t,e,r){const n=t/2,s=aM([0,50],[0,n]);return(n-s(e)*r)*r}function IBe(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function OBe(t,e){if(e>0){const r=IBe(t);return Math.min(...r)>=e}return!0}function aM(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function RBe(t){return(String(t).split(".")[1]||"").length}function MBe(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var dte=tte,DBe=ate,LBe=ote,$Be=lte;const hte=S.forwardRef(({className:t,...e},r)=>a.jsxs(dte,{ref:r,className:bt("relative flex w-full touch-none select-none items-center",t),...e,children:[a.jsx(DBe,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:a.jsx(LBe,{className:"absolute h-full bg-primary"})}),a.jsx($Be,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));hte.displayName=dte.displayName;function fte(){var j,O,R,L,$;const t=yu(),e=wn(),{data:r}=ft({queryKey:["currentUser"],queryFn:()=>base44.auth.me()}),[n,i]=S.useState(((j=r==null?void 0:r.app_settings)==null?void 0:j.theme)||"light"),[s,o]=S.useState(((O=r==null?void 0:r.app_settings)==null?void 0:O.sound_volume)??70),[l,c]=S.useState(((R=r==null?void 0:r.app_settings)==null?void 0:R.default_operation)||"addition"),[d,f]=S.useState(((L=r==null?void 0:r.app_settings)==null?void 0:L.default_level)||"easy"),[m,p]=S.useState((($=r==null?void 0:r.app_settings)==null?void 0:$.default_drawing_tool)||"brush"),[v,w]=S.useState(!1),[x,g]=S.useState(!1);S.useEffect(()=>{r!=null&&r.app_settings&&(i(r.app_settings.theme||"light"),o(r.app_settings.sound_volume??70),c(r.app_settings.default_operation||"addition"),f(r.app_settings.default_level||"easy"),p(r.app_settings.default_drawing_tool||"brush"))},[r]);const _=()=>{const F=(r==null?void 0:r.app_settings)||{},G=n!==(F.theme||"light")||s!==(F.sound_volume??70)||l!==(F.default_operation||"addition")||d!==(F.default_level||"easy")||m!==(F.default_drawing_tool||"brush");w(G)};S.useEffect(()=>{_()},[n,s,l,d,m,r]);const T=Pr({mutationFn:async F=>await base44.auth.updateMe({app_settings:F}),onSuccess:()=>{e.invalidateQueries({queryKey:["currentUser"]}),g(!0),w(!1),setTimeout(()=>g(!1),3e3)}}),P=()=>{const F={theme:n,sound_volume:s,default_operation:l,default_level:d,default_drawing_tool:m};T.mutate(F)},k=()=>{i("light"),o(70),c("addition"),f("easy"),p("brush")},A=[{id:"addition",name:"Addition",icon:qn},{id:"subtraction",name:"Subtraction",icon:Ac},{id:"multiplication",name:"Multiplication",icon:An},{id:"division",name:"Division",icon:Ec}],C=[{id:"easy",name:"Easy (K-2nd)",color:"bg-green-500"},{id:"medium",name:"Medium (3-5th)",color:"bg-yellow-500"},{id:"hard",name:"Hard (6-8th)",color:"bg-red-500"}],E=[{id:"brush",name:"Brush",icon:zb,description:"Click & drag to paint"},{id:"fill",name:"Fill",icon:GW,description:"Fill connected areas"},{id:"eraser",name:"Eraser",icon:WW,description:"Remove colors"}];return a.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(uy,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"App Settings"}),a.jsx("p",{className:"text-gray-600",children:"Customize your Math Adventure experience"})]})]}),x&&a.jsxs(ze,{className:"bg-green-50 border-green-300 mb-4",children:[a.jsx(Mr,{className:"w-4 h-4 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx("strong",{children:"Settings saved successfully!"})," Your preferences have been updated."]})]}),v&&a.jsxs(ze,{className:"bg-blue-50 border-blue-300 mb-4",children:[a.jsx(ci,{className:"w-4 h-4 text-blue-600"}),a.jsx(We,{className:"text-blue-800",children:'You have unsaved changes. Click "Save Settings" to apply them.'})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(re,{className:"border-4 border-purple-200 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-100 to-pink-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Wd,{className:"w-6 h-6 text-purple-600"}),"Appearance Theme"]})}),a.jsxs(ne,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how the app looks"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{onClick:()=>i("light"),className:`cursor-pointer border-4 rounded-xl p-6 transition-all ${n==="light"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(ege,{className:"w-8 h-8 text-yellow-500"}),n==="light"&&a.jsx(Mr,{className:"w-6 h-6 text-purple-600"})]}),a.jsx("h3",{className:"font-bold text-lg mb-1",children:"Light Mode"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Bright and colorful interface"}),a.jsx("div",{className:"mt-4 h-16 bg-gradient-to-r from-white to-gray-100 rounded-lg border-2 border-gray-300"})]}),a.jsxs("div",{onClick:()=>i("dark"),className:`cursor-pointer border-4 rounded-xl p-6 transition-all ${n==="dark"?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(wpe,{className:"w-8 h-8 text-indigo-500"}),n==="dark"&&a.jsx(Mr,{className:"w-6 h-6 text-purple-600"})]}),a.jsx("h3",{className:"font-bold text-lg mb-1",children:"Dark Mode"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Easy on the eyes at night"}),a.jsx("div",{className:"mt-4 h-16 bg-gradient-to-r from-gray-800 to-gray-900 rounded-lg border-2 border-gray-700"})]})]}),a.jsxs(ze,{className:"mt-4 bg-blue-50 border-blue-300",children:[a.jsx(ci,{className:"w-4 h-4 text-blue-600"}),a.jsxs(We,{className:"text-blue-800 text-sm",children:[a.jsx("strong",{children:"Dark Mode Active:"})," The theme will apply throughout the app. Refresh the page if colors don't update immediately."]})]})]})]}),a.jsxs(re,{className:"border-4 border-blue-200 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-100 to-cyan-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(DD,{className:"w-6 h-6 text-blue-600"}),"Sound Effects"]})}),a.jsxs(ne,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Adjust sound effects volume"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(DD,{className:`w-6 h-6 ${s===0?"text-gray-400":"text-blue-600"}`}),a.jsx(hte,{value:[s],onValueChange:F=>o(F[0]),max:100,step:1,className:"flex-1"}),a.jsxs(je,{className:"bg-blue-500 text-white text-lg px-4 py-1 min-w-[60px] text-center",children:[s,"%"]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[a.jsx(le,{variant:"outline",size:"sm",onClick:()=>o(0),className:s===0?"bg-blue-100 border-blue-500":"",children:"Mute"}),a.jsx(le,{variant:"outline",size:"sm",onClick:()=>o(30),className:s===30?"bg-blue-100 border-blue-500":"",children:"Low"}),a.jsx(le,{variant:"outline",size:"sm",onClick:()=>o(70),className:s===70?"bg-blue-100 border-blue-500":"",children:"Medium"}),a.jsx(le,{variant:"outline",size:"sm",onClick:()=>o(100),className:s===100?"bg-blue-100 border-blue-500":"",children:"High"})]}),a.jsxs(ze,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ci,{className:"w-4 h-4 text-blue-600"}),a.jsx(We,{className:"text-blue-800 text-sm",children:"Sound effects play when you answer questions correctly or earn rewards!"})]})]})]})]}),a.jsxs(re,{className:"border-4 border-green-200 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-green-100 to-emerald-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Jt,{className:"w-6 h-6 text-green-600"}),"Default Game Settings"]})}),a.jsxs(ne,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Set your preferred operation and difficulty level"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-3",children:"Default Operation"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:A.map(F=>{const G=F.icon;return a.jsxs("div",{onClick:()=>c(F.id),className:`cursor-pointer border-4 rounded-xl p-4 transition-all text-center ${l===F.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:[a.jsx(G,{className:`w-8 h-8 mx-auto mb-2 ${l===F.id?"text-green-600":"text-gray-600"}`}),a.jsx("p",{className:"font-semibold text-sm",children:F.name}),l===F.id&&a.jsx(Mr,{className:"w-5 h-5 mx-auto mt-2 text-green-600"})]},F.id)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg mb-3",children:"Default Difficulty Level"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:C.map(F=>a.jsxs("div",{onClick:()=>f(F.id),className:`cursor-pointer border-4 rounded-xl p-4 transition-all text-center ${d===F.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:[a.jsx("div",{className:`w-12 h-12 ${F.color} rounded-full mx-auto mb-2 flex items-center justify-center text-white font-bold text-xl`,children:F.id==="easy"?"E":F.id==="medium"?"M":"H"}),a.jsx("p",{className:"font-semibold text-sm",children:F.name}),d===F.id&&a.jsx(Mr,{className:"w-5 h-5 mx-auto mt-2 text-green-600"})]},F.id))})]})]})]})]}),a.jsxs(re,{className:"border-4 border-orange-200 shadow-xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-orange-100 to-red-100",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(zb,{className:"w-6 h-6 text-orange-600"}),"Color by Numbers Preferences"]})}),a.jsxs(ne,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose your default drawing tool"}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:E.map(F=>{const G=F.icon;return a.jsxs("div",{onClick:()=>p(F.id),className:`cursor-pointer border-4 rounded-xl p-6 transition-all ${m===F.id?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-orange-300"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(G,{className:`w-8 h-8 ${m===F.id?"text-orange-600":"text-gray-600"}`}),m===F.id&&a.jsx(Mr,{className:"w-6 h-6 text-orange-600"})]}),a.jsx("h3",{className:"font-bold text-lg mb-1",children:F.name}),a.jsx("p",{className:"text-xs text-gray-600",children:F.description})]},F.id)})}),a.jsxs(ze,{className:"mt-4 bg-orange-50 border-orange-200",children:[a.jsx(ci,{className:"w-4 h-4 text-orange-600"}),a.jsx(We,{className:"text-orange-800 text-sm",children:"This tool will be selected by default when you start a Color by Numbers game."})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[a.jsxs(le,{variant:"outline",onClick:k,className:"w-full sm:w-auto gap-2 text-gray-700",children:[a.jsx(UI,{className:"w-4 h-4"}),"Reset to Defaults"]}),a.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[a.jsx(le,{variant:"outline",onClick:()=>t(Ge("Home")),className:"flex-1 sm:flex-initial",children:"Cancel"}),a.jsxs(le,{onClick:P,disabled:!v||T.isPending,className:"flex-1 sm:flex-initial gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 disabled:opacity-50",children:[a.jsx(Wb,{className:"w-4 h-4"}),T.isPending?"Saving...":"Save Settings"]})]})]})]}),a.jsxs(re,{className:"mt-8 border-2 border-red-200",children:[a.jsx(_e,{className:"bg-red-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Gi,{className:"w-5 h-5 text-red-600"}),"Data & Privacy"]})}),a.jsx(ne,{className:"p-6",children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Gn,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Request Account Deletion"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"If you'd like to delete your account and all associated data, you can submit a deletion request. This action will permanently remove:"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 mb-4 ml-4",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500 font-bold",children:""}),a.jsx("span",{children:"Your profile and avatar customizations"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500 font-bold",children:""}),a.jsx("span",{children:"All game progress, scores, and achievements"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500 font-bold",children:""}),a.jsx("span",{children:"Messages, goals, and team challenges"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500 font-bold",children:""}),a.jsx("span",{children:"Subscription and payment information"})]})]}),a.jsxs(ze,{className:"bg-yellow-50 border-yellow-300 mb-4",children:[a.jsx(Gn,{className:"w-4 h-4 text-yellow-600"}),a.jsxs(We,{className:"text-yellow-800 text-sm",children:[a.jsx("strong",{children:"Warning:"})," Account deletion is permanent and cannot be undone. We will process your request within 30 days."]})]}),a.jsx("a",{href:`mailto:support@math-adventure.com?subject=Account Deletion Request&body=Hello,%0D%0A%0D%0AI would like to request the deletion of my Math Adventure account.%0D%0A%0D%0AAccount Email: ${(r==null?void 0:r.email)||""}%0D%0AAccount Name: ${(r==null?void 0:r.full_name)||""}%0D%0A%0D%0APlease confirm that all my personal data and game progress will be permanently deleted.%0D%0A%0D%0AThank you.`,className:"inline-block",children:a.jsxs(le,{variant:"destructive",className:"gap-2",children:[a.jsx(T0,{className:"w-4 h-4"}),"Request Account Deletion"]})})]})]})})})]}),a.jsxs(re,{className:"mt-8 border-2 border-gray-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Xt,{className:"w-5 h-5 text-purple-500"}),"Tips & Tricks"]})}),a.jsx(ne,{children:a.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-500 font-bold",children:""}),a.jsx("span",{children:"Your settings are saved automatically and sync across all your devices"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-500 font-bold",children:""}),a.jsx("span",{children:"Default game settings make it faster to start playing your favorite challenges"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-500 font-bold",children:""}),a.jsx("span",{children:"You can change your drawing tool anytime while playing Color by Numbers"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-500 font-bold",children:""}),a.jsx("span",{children:"Turn down sound effects if you're playing in a quiet environment"})]})]})})]})]})}function mte(){const t="January 15, 2025",e="support@math-adventure.com";return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-xl",children:a.jsx(Gi,{className:"w-10 h-10 text-white"})})}),a.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Privacy Policy"}),a.jsx("p",{className:"text-gray-600",children:"Your privacy is important to us"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2 flex items-center justify-center gap-2",children:[a.jsx(Hr,{className:"w-4 h-4"}),"Last Updated: ",t]})]}),a.jsxs(ze,{className:"mb-8 bg-blue-50 border-blue-300",children:[a.jsx(Gi,{className:"w-5 h-5 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"Children's Privacy Protection:"})," Math Adventure is designed for children aged 5-14. We comply with the Children's Online Privacy Protection Act (COPPA) and require verifiable parental consent before collecting any personal information from children under 13."]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(re,{className:"border-2 border-gray-200",children:[a.jsx(_e,{className:"bg-gray-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(kD,{className:"w-6 h-6 text-gray-700"}),"Introduction"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:'Welcome to Math Adventure ("we," "our," or "us"). This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our educational math learning platform (the "Service").'}),a.jsx("p",{className:"text-gray-700",children:"We are committed to protecting the privacy of all users, especially children. This policy applies to all users of Math Adventure, including students, parents, and teachers."}),a.jsx("p",{className:"text-gray-700",children:"By using our Service, you agree to the collection and use of information in accordance with this policy."})]})]}),a.jsxs(re,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(CD,{className:"w-6 h-6 text-purple-600"}),"Information We Collect"]})}),a.jsxs(ne,{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"1. Account Information"}),a.jsx("p",{className:"text-gray-700 mb-2",children:"When you create an account, we collect:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Full name"}),a.jsx("li",{children:"Email address"}),a.jsx("li",{children:"Age/grade level (for educational content alignment)"}),a.jsx("li",{children:"Parent/guardian email (for children under 13)"}),a.jsx("li",{children:"Account preferences and settings"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"2. Educational Data"}),a.jsx("p",{className:"text-gray-700 mb-2",children:"To provide personalized learning, we collect:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Game scores and performance metrics"}),a.jsx("li",{children:"Time spent on activities"}),a.jsx("li",{children:"Correct and incorrect answers"}),a.jsx("li",{children:"Learning progress and achievement data"}),a.jsx("li",{children:"Daily challenge participation"}),a.jsx("li",{children:"Skill mastery levels"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"3. Avatar & Customization Data"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Avatar customization choices"}),a.jsx("li",{children:"Items purchased with in-game currency"}),a.jsx("li",{children:"Unlocked achievements and badges"}),a.jsx("li",{children:"Pet selections and experience points"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"4. Payment Information"}),a.jsx("p",{className:"text-gray-700 mb-2",children:"When you purchase a subscription, payment processing is handled by Square, Inc. We do not store credit card information. We only receive:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Subscription tier selected"}),a.jsx("li",{children:"Subscription start and end dates"}),a.jsx("li",{children:"Payment confirmation status"}),a.jsx("li",{children:"Transaction IDs for record-keeping"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"5. Communication Data"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Messages between parents and children (within app)"}),a.jsx("li",{children:"Support requests and correspondence"}),a.jsx("li",{children:"Feedback and survey responses"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"6. Usage Information"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Device type and operating system"}),a.jsx("li",{children:"Browser type and version"}),a.jsx("li",{children:"IP address (for security and fraud prevention)"}),a.jsx("li",{children:"Login times and session duration"}),a.jsx("li",{children:"Pages visited and features used"})]})]})]})]}),a.jsxs(re,{className:"border-2 border-green-200",children:[a.jsx(_e,{className:"bg-green-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(bn,{className:"w-6 h-6 text-green-600"}),"How We Use Your Information"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700 mb-2",children:"We use the collected information to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Provide and maintain the Service:"})," Deliver educational content, track progress, and personalize learning experiences"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Process payments:"})," Manage subscriptions and billing through our payment processor"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Communicate with you:"})," Send important updates, respond to support requests, and deliver educational feedback"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Improve our Service:"})," Analyze usage patterns to enhance features and educational effectiveness"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Enable parent controls:"})," Allow parents/teachers to monitor children's progress and set appropriate boundaries"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Personalize learning:"})," Adapt difficulty levels and recommend appropriate content based on performance"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Generate reports:"})," Provide progress reports and analytics to parents and teachers"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Ensure security:"})," Detect and prevent fraudulent activity, abuse, and security threats"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Comply with legal obligations:"})," Meet legal requirements and enforce our terms of service"]})]})]})]}),a.jsxs(re,{className:"border-4 border-orange-300 shadow-lg",children:[a.jsx(_e,{className:"bg-orange-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"w-6 h-6 text-orange-600"}),"Children's Privacy (COPPA Compliance)"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsxs("p",{className:"text-gray-700",children:[a.jsx("strong",{children:"Math Adventure is committed to protecting children's privacy."})," We comply with the Children's Online Privacy Protection Act (COPPA)."]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Parental Consent"}),a.jsx("p",{className:"text-gray-700 mb-2",children:"For children under 13, we:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Require verifiable parental consent before collecting personal information"}),a.jsx("li",{children:"Only collect information reasonably necessary to participate in the Service"}),a.jsx("li",{children:"Do not condition participation on providing more information than necessary"}),a.jsx("li",{children:"Allow parents to review, delete, or refuse further collection of their child's information"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Information We Collect from Children"}),a.jsx("p",{className:"text-gray-700",children:"From children under 13, we only collect information necessary for educational purposes:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Username and email (for account creation)"}),a.jsx("li",{children:"Grade level (for age-appropriate content)"}),a.jsx("li",{children:"Game progress and educational performance"}),a.jsx("li",{children:"Avatar customization preferences"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Parental Rights"}),a.jsx("p",{className:"text-gray-700 mb-2",children:"Parents have the right to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Review personal information collected from their child"}),a.jsx("li",{children:"Request deletion of their child's personal information"}),a.jsx("li",{children:"Refuse to allow further collection or use of their child's information"}),a.jsx("li",{children:"Access the parent portal to monitor their child's activity"})]}),a.jsxs("p",{className:"text-gray-700 mt-3",children:["To exercise these rights, contact us at ",a.jsx("a",{href:`mailto:${e}`,className:"text-blue-600 hover:underline",children:e})]})]})]})]}),a.jsxs(re,{className:"border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(bn,{className:"w-6 h-6 text-blue-600"}),"Data Sharing and Disclosure"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:a.jsx("strong",{children:"We do not sell or rent your personal information to third parties."})}),a.jsx("p",{className:"text-gray-700 mb-2",children:"We may share information with:"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Service Providers"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"We work with trusted third-party service providers to help us operate our Service:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 text-sm ml-4 mt-1",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Square, Inc.:"})," Payment processing (PCI-DSS compliant)"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Base44 Platform:"})," Application hosting and infrastructure"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"OpenAI:"})," AI-powered tutoring features (anonymized data only)"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Parents and Teachers"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"When a child is linked to a parent or teacher account, we share the child's educational progress, game statistics, and performance data with that parent/teacher."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Legal Requirements"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"We may disclose information if required by law, court order, or to protect our rights, safety, or the rights and safety of others."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Business Transfers"}),a.jsx("p",{className:"text-700 text-sm",children:"In the event of a merger, acquisition, or sale of assets, user information may be transferred. We will notify you before your information is transferred and becomes subject to a different privacy policy."})]})]})]})]}),a.jsxs(re,{className:"border-2 border-red-200",children:[a.jsx(_e,{className:"bg-red-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(ui,{className:"w-6 h-6 text-red-600"}),"Data Security"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"We take the security of your information seriously and implement industry-standard security measures:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Encryption:"})," All data transmitted between your device and our servers is encrypted using HTTPS/TLS"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Secure Storage:"})," Data is stored on secure servers with restricted access"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Authentication:"})," User accounts are protected with secure authentication systems"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Access Controls:"})," Only authorized personnel have access to personal information"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Regular Security Audits:"})," We regularly review our security practices"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"PCI Compliance:"})," Payment processing through Square meets PCI-DSS standards"]})]}),a.jsxs(ze,{className:"mt-4 bg-yellow-50 border-yellow-300",children:[a.jsx(Gn,{className:"w-4 h-4 text-yellow-600"}),a.jsx(We,{className:"text-yellow-800 text-sm",children:"While we strive to protect your information, no method of transmission over the internet or electronic storage is 100% secure. We cannot guarantee absolute security."})]})]})]}),a.jsxs(re,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Hr,{className:"w-6 h-6 text-purple-600"}),"Data Retention"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"We retain your information for as long as necessary to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Provide our Service and maintain your account"}),a.jsx("li",{children:"Comply with legal obligations"}),a.jsx("li",{children:"Resolve disputes and enforce our agreements"}),a.jsx("li",{children:"Enable parents/teachers to track long-term educational progress"})]}),a.jsx("p",{className:"text-gray-700 mt-4",children:"When you delete your account, we will delete or anonymize your personal information within 30 days, except where we are required by law to retain certain information longer."}),a.jsx("p",{className:"text-gray-700",children:"Educational progress data may be retained in anonymized form for research and product improvement purposes."})]})]}),a.jsxs(re,{className:"border-2 border-green-200",children:[a.jsx(_e,{className:"bg-green-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Gi,{className:"w-6 h-6 text-green-600"}),"Your Rights and Choices"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"You have the following rights regarding your personal information:"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Access and Portability"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Request a copy of your personal information in a machine-readable format"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Correction"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Update or correct inaccurate information through your account settings"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Deletion"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Request deletion of your account and associated data"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Opt-Out"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Unsubscribe from promotional emails (you'll still receive essential account notifications)"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Parental Controls"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Parents can access the Parent Portal to manage their child's account, set restrictions, and monitor activity"})]})]}),a.jsxs("p",{className:"text-gray-700 mt-4",children:["To exercise these rights, contact us at ",a.jsx("a",{href:`mailto:${e}`,className:"text-blue-600 hover:underline",children:e})]})]})]}),a.jsxs(re,{className:"border-2 border-blue-200",children:[a.jsx(_e,{className:"bg-blue-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(CD,{className:"w-6 h-6 text-blue-600"}),"Cookies and Tracking Technologies"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"We use cookies and similar technologies to enhance your experience and improve our Service:"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Essential Cookies"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Required for basic functionality (authentication, security, preferences)"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Analytics"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Help us understand how users interact with our Service to improve it"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-800",children:"Preferences"}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Remember your settings and customization choices"})]})]}),a.jsx("p",{className:"text-gray-700 mt-4",children:"You can control cookies through your browser settings. However, disabling cookies may affect some functionality of the Service."})]})]}),a.jsxs(re,{className:"border-2 border-yellow-200",children:[a.jsx(_e,{className:"bg-yellow-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"w-6 h-6 text-yellow-600"}),"Third-Party Links"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"Our Service may contain links to third-party websites or services that are not operated by us. We have no control over and assume no responsibility for the content, privacy policies, or practices of any third-party sites or services."}),a.jsx("p",{className:"text-gray-700",children:"We strongly advise you to review the privacy policy of every site you visit, especially before allowing children to use those sites."})]})]}),a.jsxs(re,{className:"border-2 border-purple-200",children:[a.jsx(_e,{className:"bg-purple-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(bn,{className:"w-6 h-6 text-purple-600"}),"International Users"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"Math Adventure is based in the United States and our Service is intended primarily for users in the United States. If you access our Service from outside the United States, please be aware that your information may be transferred to, stored, and processed in the United States."}),a.jsx("p",{className:"text-gray-700",children:"By using our Service, you consent to the transfer of your information to the United States and agree that such transfer will be governed by U.S. law and this Privacy Policy."})]})]}),a.jsxs(re,{className:"border-2 border-gray-200",children:[a.jsx(_e,{className:"bg-gray-50",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(kD,{className:"w-6 h-6 text-gray-700"}),"Changes to This Privacy Policy"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"We may update this Privacy Policy from time to time. We will notify you of any changes by:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[a.jsx("li",{children:"Posting the new Privacy Policy on this page"}),a.jsx("li",{children:'Updating the "Last Updated" date at the top of this policy'}),a.jsx("li",{children:"Sending an email notification for significant changes (if you've provided an email)"}),a.jsx("li",{children:"Displaying a prominent notice within the Service"})]}),a.jsx("p",{className:"text-gray-700 mt-4",children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when posted on this page."})]})]}),a.jsxs(re,{className:"border-4 border-blue-300 shadow-lg",children:[a.jsx(_e,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Cf,{className:"w-6 h-6"}),"Contact Us"]})}),a.jsxs(ne,{className:"p-6 space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"If you have any questions, concerns, or requests regarding this Privacy Policy or our privacy practices, please contact us:"}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Cf,{className:"w-5 h-5 text-blue-600 mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-800",children:"Email"}),a.jsx("a",{href:`mailto:${e}`,className:"text-blue-600 hover:underline",children:e})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Gi,{className:"w-5 h-5 text-blue-600 mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-800",children:"For COPPA-related inquiries or parental rights"}),a.jsx("a",{href:`mailto:${e}`,className:"text-blue-600 hover:underline",children:e})]})]})]}),a.jsx("p",{className:"text-gray-700 text-sm",children:"We will respond to your inquiry within 30 days of receipt. For COPPA-related requests from parents, we will respond within 10 business days."})]})]}),a.jsxs(ze,{className:"bg-green-50 border-green-300",children:[a.jsx(Gi,{className:"w-5 h-5 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx("strong",{children:"By using Math Adventure, you acknowledge that you have read and understood this Privacy Policy and agree to its terms."})," If you do not agree with this Privacy Policy, please do not use our Service."]})]})]})]})}function FBe({progress:t,tutorSessions:e,onPracticeClick:r}){const n=()=>{const d=[],f={};return t.forEach(m=>{f[m.operation]||(f[m.operation]={operation:m.operation,level:m.level,totalGames:0,totalCorrect:0,totalQuestions:0,totalTime:0}),f[m.operation].totalGames++,f[m.operation].totalCorrect+=m.correct_answers,f[m.operation].totalQuestions+=m.total_questions,f[m.operation].totalTime+=m.time_taken}),Object.values(f).forEach(m=>{const p=m.totalCorrect/m.totalQuestions*100;if(p<75||m.totalGames<3){let v="medium",w="";p<50?(v="high",w="Very low accuracy"):p<65?(v="high",w="Low accuracy"):p<75?(v="medium",w="Room for improvement"):m.totalGames<3&&(v="low",w="Need more practice"),d.push({operation:m.operation,level:m.level,accuracy:Math.round(p),totalGames:m.totalGames,severity:v,reason:w})}}),d.sort((m,p)=>{const v={high:0,medium:1,low:2};return v[m.severity]-v[p.severity]})},i=()=>{const d={};return e.forEach(f=>{const m=`${f.operation}-${f.level}`;d[m]||(d[m]={operation:f.operation,level:f.level,count:0,examples:[]}),d[m].count++,d[m].examples.length<3&&d[m].examples.push(f.question)}),Object.values(d).sort((f,m)=>m.count-f.count).slice(0,5)},s=n(),o=i(),c=(()=>{const d=[];if(s.length===0)d.push({type:"success",title:"Great Job!",message:"You're performing well across all topics! Keep practicing to maintain your skills.",icon:""});else{const f=s.filter(p=>p.severity==="high");f.length>0&&d.push({type:"urgent",title:"Priority Practice Areas",message:`Focus on ${f.map(p=>p.operation).join(", ")} to improve quickly.`,icon:""});const m=s.filter(p=>p.totalGames<3);m.length>0&&d.push({type:"info",title:"Try New Topics",message:`Play more games in ${m.map(p=>p.operation).join(", ")} to build confidence.`,icon:""})}return d})();return t.length===0?a.jsx(re,{className:"text-center py-12",children:a.jsxs(ne,{children:[a.jsx(Jt,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No Data Yet"}),a.jsx("p",{className:"text-gray-600",children:"Play some games first, then I'll identify areas to improve!"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"space-y-4",children:c.map((d,f)=>a.jsxs(ze,{className:`${d.type==="urgent"?"bg-red-50 border-red-300":d.type==="success"?"bg-green-50 border-green-300":"bg-blue-50 border-blue-300"}`,children:[a.jsx("span",{className:"text-2xl mr-2",children:d.icon}),a.jsxs(We,{children:[a.jsxs("strong",{children:[d.title,":"]})," ",d.message]})]},f))}),s.length>0&&a.jsxs(re,{className:"border-2 border-orange-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(iu,{className:"w-6 h-6 text-orange-600"}),"Areas Needing Improvement"]})}),a.jsx(ne,{className:"space-y-4",children:s.map((d,f)=>a.jsxs("div",{className:`p-4 rounded-xl border-2 ${d.severity==="high"?"bg-red-50 border-red-300":d.severity==="medium"?"bg-orange-50 border-orange-300":"bg-yellow-50 border-yellow-300"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"font-bold text-lg capitalize",children:d.operation.replace(/_/g," ")}),a.jsx(je,{className:`${d.severity==="high"?"bg-red-500":d.severity==="medium"?"bg-orange-500":"bg-yellow-500"} text-white`,children:d.severity==="high"?"High Priority":d.severity==="medium"?"Medium":"Low"}),a.jsx(je,{variant:"outline",children:d.level})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Accuracy"}),a.jsxs("div",{className:"text-2xl font-bold",children:[d.accuracy,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Games Played"}),a.jsx("div",{className:"text-2xl font-bold",children:d.totalGames})]})]}),a.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:[a.jsx(qm,{className:"w-4 h-4 inline mr-1"}),d.reason]})]}),a.jsxs(le,{onClick:()=>r({operation:d.operation,level:d.level}),className:"bg-blue-500 hover:bg-blue-600 ml-4",children:[a.jsx(Dg,{className:"w-4 h-4 mr-2"}),"Practice Now"]})]}),a.jsxs("div",{className:"bg-white/50 p-3 rounded-lg",children:[a.jsxs("p",{className:"text-sm text-gray-700 font-medium mb-1",children:[a.jsx(Wn,{className:"w-4 h-4 inline mr-1 text-yellow-500"}),"AI Tip:"]}),a.jsx("p",{className:"text-sm text-gray-600",children:VBe(d)})]})]},f))})]}),o.length>0&&a.jsxs(re,{className:"border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(ume,{className:"w-6 h-6 text-purple-600"}),"Common Mistakes to Review"]})}),a.jsx(ne,{className:"space-y-3",children:o.map((d,f)=>a.jsxs("div",{className:"p-4 bg-purple-50 rounded-xl border-2 border-purple-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h3",{className:"font-bold capitalize",children:[d.operation," (",d.level,")"]}),a.jsxs(je,{className:"bg-purple-500 text-white",children:[d.count," mistakes"]})]}),d.examples.length>0&&a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Examples:"})," ",d.examples.join(", ")]})]},f))})]})]})}function VBe(t){return{addition:"Try breaking down larger numbers into smaller, easier pieces. Practice counting up from the first number.",subtraction:"Use a number line to visualize taking away. Count backwards or think 'what do I add to get to the bigger number?'",multiplication:"Memorize the times tables! Look for patterns like doubling or skip counting.",division:"Think of division as 'sharing equally' or 'how many groups'. Draw circles to visualize!",fractions:"Draw pictures to see the parts. Remember: the bottom number shows how many pieces total.",decimals:"Line up the decimal points! Think of money - $1.50 is 1 dollar and 50 cents.",word_problems:"Read carefully! Underline key numbers and words like 'total', 'difference', or 'each'."}[t.operation]||"Practice regularly and take your time. You can do this!"}function BBe({selectedWeakness:t,progress:e}){const[r,n]=S.useState(null),[i,s]=S.useState(""),[o,l]=S.useState(null),[c,d]=S.useState(0),[f,m]=S.useState(0),[p,v]=S.useState(!1),[w,x]=S.useState(null),g=()=>{const C=[],E={};return e.forEach(j=>{E[j.operation]||(E[j.operation]={operation:j.operation,level:j.level,totalCorrect:0,totalQuestions:0}),E[j.operation].totalCorrect+=j.correct_answers,E[j.operation].totalQuestions+=j.total_questions}),Object.values(E).forEach(j=>{const O=j.totalCorrect/j.totalQuestions*100;O<75&&C.push({operation:j.operation,level:j.level,accuracy:Math.round(O),priority:O<60?"high":"medium"})}),C.sort((j,O)=>j.accuracy-O.accuracy).slice(0,5)},_=()=>{if(w){const C=Ks(w.operation,w.level);n(C),s(""),l(null),v(!1)}},T=(C,E)=>{x({operation:C,level:E}),d(0),m(0);const j=Ks(C,E);n(j),s(""),l(null),v(!1)},P=()=>{if(!r||i==="")return;const C=parseInt(i)===r.answer;l(C),d(c+1),C?m(f+1):v(!0)},k=()=>{_()},A=g();return S.useEffect(()=>{t&&!w&&T(t.operation,t.level)},[t]),a.jsxs("div",{className:"space-y-6",children:[w&&c>0&&a.jsx(re,{className:"border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600",children:c}),a.jsx("div",{className:"text-sm text-gray-600",children:"Questions"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:f}),a.jsx("div",{className:"text-sm text-gray-600",children:"Correct"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[c>0?Math.round(f/c*100):0,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Accuracy"})]})]})})}),w&&r?a.jsxs(re,{className:"border-4 border-purple-300 shadow-2xl",children:[a.jsx(_e,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:a.jsxs(Ne,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yn,{className:"w-6 h-6"}),a.jsxs("span",{className:"capitalize",children:[w.operation," Practice"]})]}),a.jsx(je,{className:"bg-white text-purple-600",children:w.level})]})}),a.jsx(ne,{className:"p-8",children:a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h3",{className:"text-5xl md:text-6xl font-bold mb-6 text-gray-800",children:r.question}),o===null&&a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("input",{type:"number",value:i,onChange:C=>s(C.target.value),onKeyPress:C=>{C.key==="Enter"&&P()},placeholder:"Type your answer...",className:"w-full text-3xl font-bold text-center p-4 border-4 border-purple-300 rounded-xl mb-4",autoFocus:!0}),a.jsx(le,{onClick:P,disabled:i==="",className:"w-full h-14 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:"Check Answer"})]}),o!==null&&a.jsxs("div",{className:"space-y-6",children:[o?a.jsxs(ze,{className:"bg-green-50 border-green-300",children:[a.jsx(Mr,{className:"w-6 h-6 text-green-600"}),a.jsxs(We,{className:"text-green-800 text-lg",children:[a.jsx("strong",{children:"Correct! "})," Great job!"]})]}):a.jsxs(ze,{className:"bg-red-50 border-red-300",children:[a.jsx(An,{className:"w-6 h-6 text-red-600"}),a.jsxs(We,{className:"text-red-800 text-lg",children:[a.jsx("strong",{children:"Not quite."})," The correct answer is ",a.jsx("strong",{children:r.answer})]})]}),!o&&p&&r.explanation&&a.jsx(re,{className:"bg-blue-50 border-2 border-blue-300",children:a.jsxs(ne,{className:"p-6",children:[a.jsxs("h4",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[a.jsx(Xt,{className:"w-5 h-5 text-blue-600"}),"Let me explain:"]}),a.jsx("p",{className:"text-gray-700",children:r.explanation})]})}),a.jsxs(le,{onClick:k,className:"w-full h-14 text-lg bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:["Next Question",a.jsx(Dg,{className:"w-5 h-5 ml-2"})]})]})]})})]}):a.jsxs("div",{className:"space-y-6",children:[A.length>0&&a.jsxs(re,{className:"border-2 border-orange-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Jt,{className:"w-6 h-6 text-orange-600"}),"Recommended Practice Topics"]})}),a.jsx(ne,{className:"space-y-3",children:A.map((C,E)=>a.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl border-2 border-orange-200 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold capitalize mb-1",children:C.operation.replace(/_/g," ")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(je,{className:`${C.priority==="high"?"bg-red-500":"bg-orange-500"} text-white`,children:C.priority==="high"?"High Priority":"Medium"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Current: ",C.accuracy,"% accuracy"]})]})]}),a.jsxs(le,{onClick:()=>T(C.operation,C.level),className:"bg-blue-500 hover:bg-blue-600",children:[a.jsx(Dg,{className:"w-4 h-4 mr-2"}),"Start Practice"]})]},E))})]}),a.jsxs(re,{className:"border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Tt,{className:"w-6 h-6 text-purple-600"}),"Quick Practice by Topic"]})}),a.jsx(ne,{children:a.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:["addition","subtraction","multiplication","division"].map(C=>a.jsx(le,{onClick:()=>T(C,"medium"),variant:"outline",className:"h-16 text-lg capitalize",children:C},C))})})]}),a.jsx(re,{className:"bg-gradient-to-r from-purple-100 to-pink-100 border-2 border-purple-300",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Ready for a Full Challenge?"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Try a complete game with stars and rewards!"}),a.jsx(Kt,{to:Ge("Home"),children:a.jsxs(le,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(Dg,{className:"w-5 h-5 mr-2"}),"Go to Games"]})})]})})]})]})}function qBe({progress:t,tutorSessions:e,onWeaknessClick:r}){const[n,i]=S.useState(!1),s=()=>{if(t.length===0)return 0;const g=t.reduce((_,T)=>_+T.correct_answers/T.total_questions*100,0);return Math.round(g/t.length)},o=()=>{if(t.length===0)return 0;const g=t.reduce((_,T)=>_+T.time_taken,0);return Math.round(g/t.length)},l=()=>{if(t.length<5)return"neutral";const g=t.slice(0,5),_=t.slice(5,10),T=g.reduce((k,A)=>k+A.correct_answers/A.total_questions*100,0)/g.length,P=_.length>0?_.reduce((k,A)=>k+A.correct_answers/A.total_questions*100,0)/_.length:T;return T>P+5?"improving":T<P-5?"declining":"stable"},c=()=>{const g={};return t.forEach(_=>{g[_.operation]||(g[_.operation]={operation:_.operation,totalGames:0,totalCorrect:0,totalQuestions:0,averageTime:0,totalTime:0}),g[_.operation].totalGames++,g[_.operation].totalCorrect+=_.correct_answers,g[_.operation].totalQuestions+=_.total_questions,g[_.operation].totalTime+=_.time_taken}),Object.values(g).map(_=>({..._,accuracy:Math.round(_.totalCorrect/_.totalQuestions*100),averageTime:Math.round(_.totalTime/_.totalGames)})).sort((_,T)=>_.accuracy-T.accuracy)},d=()=>{const g={};return t.forEach(_=>{g[_.level]||(g[_.level]={level:_.level,totalGames:0,totalCorrect:0,totalQuestions:0}),g[_.level].totalGames++,g[_.level].totalCorrect+=_.correct_answers,g[_.level].totalQuestions+=_.total_questions}),Object.values(g).map(_=>({..._,accuracy:Math.round(_.totalCorrect/_.totalQuestions*100)}))},f=()=>{const g=[],_=c(),T=l(),P=s();T==="improving"?g.push({type:"positive",icon:gr,title:"You're Improving!",message:"Your recent performance shows great progress. Keep it up!"}):T==="declining"&&g.push({type:"warning",icon:iu,title:"Need More Practice",message:"Your recent scores are lower. Let's focus on practice!"}),P>=90?g.push({type:"positive",icon:Qn,title:"Excellent Accuracy!",message:`You're at ${P}% accuracy. You're a math champion!`}):P<70&&g.push({type:"warning",icon:Jt,title:"Let's Boost Your Score",message:`Your accuracy is ${P}%. Practice will help you improve!`}),_.length>0&&_[0].accuracy<75&&g.push({type:"action",icon:yn,title:"Focus Area Identified",message:`${_[0].operation} needs attention (${_[0].accuracy}% accuracy)`,action:()=>r({operation:_[0].operation,level:"mixed"})});const k=o();return k<90&&P>=80&&g.push({type:"positive",icon:gr,title:"Fast and Accurate!",message:`You're solving problems in ${k}s with great accuracy!`}),g},m=c();d();const p=f(),v=l(),w=s(),x=t.slice(0,10).reverse().map((g,_)=>({game:`Game ${_+1}`,accuracy:Math.round(g.correct_answers/g.total_questions*100),speed:Math.max(0,120-g.time_taken)}));return t.length===0?a.jsx(re,{className:"text-center py-12",children:a.jsxs(ne,{children:[a.jsx(yn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Start Playing to Get Analysis"}),a.jsx("p",{className:"text-gray-600",children:"Play some math games and I'll analyze your performance!"})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(re,{className:"border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(yn,{className:"w-6 h-6 text-blue-600"}),"Overall Performance Analysis"]})}),a.jsxs(ne,{children:[a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"text-center p-4 bg-white rounded-xl",children:[a.jsxs("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:[w,"%"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Overall Accuracy"}),a.jsx(Sl,{value:w,className:"mt-2"})]}),a.jsxs("div",{className:"text-center p-4 bg-white rounded-xl",children:[a.jsxs("div",{className:"text-4xl font-bold text-purple-600 mb-1",children:[o(),"s"]}),a.jsx("div",{className:"text-sm text-gray-600",children:"Avg Time per Game"})]}),a.jsxs("div",{className:"text-center p-4 bg-white rounded-xl",children:[a.jsx("div",{className:"text-4xl font-bold text-green-600 mb-1",children:t.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Games Analyzed"})]})]}),a.jsxs("div",{className:"flex justify-center",children:[v==="improving"&&a.jsxs(je,{className:"bg-green-500 text-white text-lg px-6 py-2",children:[a.jsx(gr,{className:"w-5 h-5 mr-2"}),"Improving Trend"]}),v==="declining"&&a.jsxs(je,{className:"bg-orange-500 text-white text-lg px-6 py-2",children:[a.jsx(iu,{className:"w-5 h-5 mr-2"}),"Needs Practice"]}),v==="stable"&&a.jsxs(je,{className:"bg-blue-500 text-white text-lg px-6 py-2",children:[a.jsx(Wt,{className:"w-5 h-5 mr-2"}),"Steady Progress"]})]})]})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:p.map((g,_)=>a.jsx(re,{className:`border-2 ${g.type==="positive"?"border-green-300 bg-green-50":g.type==="warning"?"border-orange-300 bg-orange-50":"border-blue-300 bg-blue-50"}`,children:a.jsx(ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${g.type==="positive"?"bg-green-500":g.type==="warning"?"bg-orange-500":"bg-blue-500"}`,children:a.jsx(g.icon,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-lg mb-1",children:g.title}),a.jsx("p",{className:"text-sm text-gray-700 mb-3",children:g.message}),g.action&&a.jsx(le,{size:"sm",onClick:g.action,className:"bg-blue-500 hover:bg-blue-600",children:"Start Practice"})]})]})})},_))}),a.jsxs(re,{className:"border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Performance by Math Topic"})}),a.jsx(ne,{children:a.jsx("div",{className:"space-y-4",children:m.map((g,_)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium capitalize",children:g.operation.replace(/_/g," ")}),a.jsxs(je,{variant:"outline",children:[g.totalGames," games"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-2xl font-bold",children:[g.accuracy,"%"]}),g.accuracy<70&&a.jsx(le,{size:"sm",onClick:()=>r({operation:g.operation,level:"mixed"}),className:"bg-orange-500 hover:bg-orange-600",children:"Practice"})]})]}),a.jsx(Sl,{value:g.accuracy,className:`h-3 ${g.accuracy>=80?"bg-green-200":g.accuracy>=60?"bg-yellow-200":"bg-red-200"}`})]},g.operation))})})]}),x.length>0&&a.jsxs(re,{className:"border-2 border-blue-200",children:[a.jsx(_e,{children:a.jsx(Ne,{children:"Recent Performance Trend"})}),a.jsx(ne,{children:a.jsx(ro,{width:"100%",height:300,children:a.jsxs(L_,{data:x,children:[a.jsx(ml,{strokeDasharray:"3 3"}),a.jsx(bs,{dataKey:"game"}),a.jsx(Ni,{}),a.jsx(pn,{}),a.jsx(Ji,{}),a.jsx(Aa,{type:"monotone",dataKey:"accuracy",stroke:"#8b5cf6",strokeWidth:3,name:"Accuracy %"})]})})})]})]})}function pte(){const[t,e]=S.useState("analysis"),[r,n]=S.useState(null),{data:i}=ft({queryKey:["currentUser"],queryFn:async()=>{const f=await firebaseAuth.currentUser;return f?{email:f.email}:null}}),{data:s=[]}=ft({queryKey:["gameProgress"],queryFn:async()=>{const f=firebaseAuth.currentUser;if(!f)return[];const m=Ta(In(db,"gameProgress"),li("user_email","==",f.email));return(await Ii(m)).docs.map(v=>v.data())},initialData:[]}),{data:o=[]}=ft({queryKey:["tutorSessions"],queryFn:async()=>{const f=firebaseAuth.currentUser;if(!f)return[];const m=Ta(In(db,"tutorSessions"),li("created_by","==",f.email));return(await Ii(m)).docs.map(v=>v.data())},initialData:[]}),l=()=>o.length,c=()=>o.filter(f=>f.hint_requested).length,d=()=>o.filter(f=>f.explanation_viewed).length;return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-block mb-6",children:a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-2xl animate-pulse",children:a.jsx(yn,{className:"w-12 h-12 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"AI Math Tutor"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Your personal learning assistant powered by AI"})]}),a.jsxs(ze,{className:"mb-8 bg-gradient-to-r from-blue-50 to-purple-50 border-blue-300",children:[a.jsx(Xt,{className:"w-5 h-5 text-blue-600"}),a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"Welcome to your AI Tutor!"})," I analyze your performance, identify areas for improvement, and create personalized practice exercises just for you. Let's make math fun and easy! "]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[a.jsx(re,{className:"bg-gradient-to-br from-blue-500 to-cyan-500 text-white border-0",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx(yn,{className:"w-8 h-8 mx-auto mb-2"}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:l()}),a.jsx("p",{className:"text-sm text-white/90",children:"Tutoring Sessions"})]})}),a.jsx(re,{className:"bg-gradient-to-br from-purple-500 to-pink-500 text-white border-0",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx(Wn,{className:"w-8 h-8 mx-auto mb-2"}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:c()}),a.jsx("p",{className:"text-sm text-white/90",children:"Hints Received"})]})}),a.jsx(re,{className:"bg-gradient-to-br from-green-500 to-emerald-500 text-white border-0",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx(Bs,{className:"w-8 h-8 mx-auto mb-2"}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:d()}),a.jsx("p",{className:"text-sm text-white/90",children:"Explanations Read"})]})}),a.jsx(re,{className:"bg-gradient-to-br from-orange-500 to-red-500 text-white border-0",children:a.jsxs(ne,{className:"p-6 text-center",children:[a.jsx(Qn,{className:"w-8 h-8 mx-auto mb-2"}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:s.length}),a.jsx("p",{className:"text-sm text-white/90",children:"Games Analyzed"})]})})]}),a.jsx(re,{className:"border-4 border-purple-200 shadow-xl",children:a.jsx(ne,{className:"p-6",children:a.jsxs(hu,{value:t,onValueChange:e,className:"w-full",children:[a.jsxs(Ol,{className:"grid w-full grid-cols-3 mb-6",children:[a.jsxs(Pt,{value:"analysis",children:[a.jsx(iu,{className:"w-4 h-4 mr-2"}),"Performance Analysis"]}),a.jsxs(Pt,{value:"weaknesses",children:[a.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Areas to Improve"]}),a.jsxs(Pt,{value:"practice",children:[a.jsx(Dg,{className:"w-4 h-4 mr-2"}),"Practice Exercises"]})]}),a.jsx(Ft,{value:"analysis",className:"space-y-6",children:a.jsx(qBe,{progress:s,tutorSessions:o,onWeaknessClick:f=>{n(f),e("practice")}})}),a.jsx(Ft,{value:"weaknesses",className:"space-y-6",children:a.jsx(FBe,{progress:s,tutorSessions:o,onPracticeClick:f=>{n(f),e("practice")}})}),a.jsx(Ft,{value:"practice",className:"space-y-6",children:a.jsx(BBe,{selectedWeakness:r,progress:s})})]})})}),a.jsxs(re,{className:"mt-8 bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200",children:[a.jsx(_e,{children:a.jsxs(Ne,{className:"flex items-center gap-2",children:[a.jsx(Xt,{className:"w-6 h-6 text-purple-600"}),"How Your AI Tutor Works"]})}),a.jsxs(ne,{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(iu,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"font-bold mb-2",children:"1. Analyze Performance"}),a.jsx("p",{className:"text-sm text-gray-600",children:"AI reviews your games and identifies patterns in mistakes"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(Jt,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"font-bold mb-2",children:"2. Find Weaknesses"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Discover specific topics where you need more practice"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(Bs,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"font-bold mb-2",children:"3. Personalized Practice"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get custom exercises designed just for you"})]})]})]})]})}function gte(){const[t,e]=S.useState("googlereview@mathadventure.com"),[r,n]=S.useState(!1),[i,s]=S.useState(null),[o,l]=S.useState(null),c=async()=>{try{n(!0),l(null),s(null);const d=or(Mt),m=(await Ii(In(d,"users"))).docs.find(v=>v.data().email===t);if(!m)throw new Error(`User with email ${t} not found. Please create the account first.`);const p=new Date;p.setFullYear(p.getFullYear()+1),await bl(Ci(d,"users",m.id),{subscription_tier:"family_teacher",subscription_started_at:new Date().toISOString(),subscription_expires_at:p.toISOString(),subscription_auto_renew:!1,is_family_teacher:!0,is_premium_parent:!0,is_premium_player:!0,coins:500,total_stars_earned:100},{merge:!0}),s({email:t,expiresAt:p.toISOString(),tier:"family_teacher"})}catch(d){console.error("Error granting access:",d),l(d.message)}finally{n(!1)}};return a.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:a.jsxs(re,{className:"border-4 border-purple-300 shadow-xl",children:[a.jsxs(_e,{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white",children:[a.jsxs(Ne,{className:"flex items-center gap-2 text-2xl",children:[a.jsx(Si,{className:"w-6 h-6"}),"Test Account Manager"]}),a.jsx("p",{className:"text-sm opacity-90 mt-2",children:"Quickly grant premium access to test accounts for Google Play Review"})]}),a.jsxs(ne,{className:"p-6 space-y-6",children:[a.jsx(ze,{className:"bg-blue-50 border-blue-200",children:a.jsxs(We,{className:"text-blue-800",children:[a.jsx("strong",{children:"Steps:"}),a.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1 text-sm",children:[a.jsx("li",{children:"First, manually create the account in your app (sign up)"}),a.jsx("li",{children:"Enter the account email below"}),a.jsx("li",{children:'Click "Grant Premium Access"'}),a.jsx("li",{children:"Use this account for Google Play Console review"})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ot,{htmlFor:"email",className:"text-base font-semibold mb-2 block",children:"Test Account Email"}),a.jsx(rr,{id:"email",type:"email",value:t,onChange:d=>e(d.target.value),placeholder:"googlereview@mathadventure.com",className:"h-12 text-base"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the email of an existing account"})]}),a.jsx(le,{onClick:c,disabled:r||!t,className:"w-full h-12 bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-lg",children:r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wg,{className:"w-5 h-5 mr-2"}),"Grant Premium Access"]})})]}),i&&a.jsxs(ze,{className:"bg-green-50 border-green-300",children:[a.jsx(Wt,{className:"w-5 h-5 text-green-600"}),a.jsxs(We,{className:"text-green-800",children:[a.jsx("strong",{className:"block mb-2",children:" Success! Premium Access Granted"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",i.email]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Tier:"})," Family/Teacher (Full Access)"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Expires:"})," ",new Date(i.expiresAt).toLocaleDateString()]}),a.jsxs("p",{className:"mt-3 pt-3 border-t border-green-200",children:[a.jsx("strong",{children:"Test Credentials:"}),a.jsx("br",{}),"Email: ",i.email,a.jsx("br",{}),"Password: (The password you set during signup)"]})]})]})]}),o&&a.jsxs(ze,{className:"bg-red-50 border-red-300",children:[a.jsx(Gn,{className:"w-5 h-5 text-red-600"}),a.jsxs(We,{className:"text-red-800",children:[a.jsx("strong",{className:"block mb-1",children:"Error"}),o]})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border-2 border-purple-200",children:[a.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"What This Does:"}),a.jsxs("ul",{className:"space-y-1 text-sm text-purple-800",children:[a.jsx("li",{children:" Sets subscription tier to Family/Teacher"}),a.jsx("li",{children:" Grants all premium features"}),a.jsx("li",{children:" Sets expiration to 1 year from now"}),a.jsx("li",{children:" Adds 500 coins and 100 stars"}),a.jsx("li",{children:" Disables auto-renewal"})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-2 border-gray-200",children:[a.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:" For Google Play Console:"}),a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Provide these instructions to reviewers:"}),a.jsx("pre",{className:"bg-white p-3 rounded text-xs border overflow-x-auto",children:`TEST ACCOUNT CREDENTIALS:
Email: ${t}
Password: (Your password)

INSTRUCTIONS:
1. Open Math Adventure app
2. Click "Sign In / Sign Up"  
3. Use credentials above
4. All premium features are unlocked

ACCOUNT FEATURES:
- Family/Teacher subscription active
- All premium content accessible
- Parental controls available
- No payment required

CONTACT:
support@math-adventure.com`})]})]})]})})}const XU={Home:GA,Game:$Y,Progress:pZ,Avatar:qZ,DailyChallenge:UZ,ParentPortal:Bee,Shop:qee,Leaderboards:Uee,TeamChallenges:zee,Subscription:Wee,GenerateIcons:Hee,TestIconGeneration:Gee,Landing:Kee,Messages:Yee,ColorByNumbers:Qee,Settings:fte,PrivacyPolicy:mte,AITutor:pte,AdminTestAccount:gte};function UBe(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(XU).find(n=>n.toLowerCase()===e.toLowerCase())||Object.keys(XU)[0]}function zBe(){const t=Ll(),e=UBe(t.pathname);return a.jsx(OSe,{currentPageName:e,children:a.jsxs($he,{children:[a.jsx(Xr,{path:"/",element:a.jsx(GA,{})}),a.jsx(Xr,{path:"/Home",element:a.jsx(GA,{})}),a.jsx(Xr,{path:"/Game",element:a.jsx($Y,{})}),a.jsx(Xr,{path:"/Progress",element:a.jsx(pZ,{})}),a.jsx(Xr,{path:"/Avatar",element:a.jsx(qZ,{})}),a.jsx(Xr,{path:"/DailyChallenge",element:a.jsx(UZ,{})}),a.jsx(Xr,{path:"/ParentPortal",element:a.jsx(Bee,{})}),a.jsx(Xr,{path:"/Shop",element:a.jsx(qee,{})}),a.jsx(Xr,{path:"/Leaderboards",element:a.jsx(Uee,{})}),a.jsx(Xr,{path:"/TeamChallenges",element:a.jsx(zee,{})}),a.jsx(Xr,{path:"/Subscription",element:a.jsx(Wee,{})}),a.jsx(Xr,{path:"/GenerateIcons",element:a.jsx(Hee,{})}),a.jsx(Xr,{path:"/TestIconGeneration",element:a.jsx(Gee,{})}),a.jsx(Xr,{path:"/Landing",element:a.jsx(Kee,{})}),a.jsx(Xr,{path:"/Messages",element:a.jsx(Yee,{})}),a.jsx(Xr,{path:"/ColorByNumbers",element:a.jsx(Qee,{})}),a.jsx(Xr,{path:"/Settings",element:a.jsx(fte,{})}),a.jsx(Xr,{path:"/PrivacyPolicy",element:a.jsx(mte,{})}),a.jsx(Xr,{path:"/AITutor",element:a.jsx(pte,{})}),a.jsx(Xr,{path:"/AdminTestAccount",element:a.jsx(gte,{})})]})})}function WBe(){return a.jsx(ofe,{children:a.jsx(zBe,{})})}const HBe=20,GBe=1e6,ll={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let jP=0;function KBe(){return jP=(jP+1)%Number.MAX_VALUE,jP.toString()}const NP=new Map,JU=t=>{if(NP.has(t))return;const e=setTimeout(()=>{NP.delete(t),Yg({type:ll.REMOVE_TOAST,toastId:t})},GBe);NP.set(t,e)},YBe=(t,e)=>{switch(e.type){case ll.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,HBe)};case ll.UPDATE_TOAST:return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case ll.DISMISS_TOAST:{const{toastId:r}=e;return r?JU(r):t.toasts.forEach(n=>{JU(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case ll.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},pb=[];let gb={toasts:[]};function Yg(t){gb=YBe(gb,t),pb.forEach(e=>{e(gb)})}function QBe({...t}){const e=KBe(),r=i=>Yg({type:ll.UPDATE_TOAST,toast:{...i,id:e}}),n=()=>Yg({type:ll.DISMISS_TOAST,toastId:e});return Yg({type:ll.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function XBe(){const[t,e]=S.useState(gb);return S.useEffect(()=>(pb.push(e),()=>{const r=pb.indexOf(e);r>-1&&pb.splice(r,1)}),[t]),{...t,toast:QBe,dismiss:r=>Yg({type:ll.DISMISS_TOAST,toastId:r})}}const yte=S.forwardRef(({...t},e)=>a.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));yte.displayName="ToastProvider";const vte=S.forwardRef(({...t},e)=>a.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));vte.displayName="ToastViewport";const JBe=E0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xte=S.forwardRef(({className:t,variant:e,...r},n)=>a.jsx("div",{ref:n,className:bt(JBe({variant:e}),t),...r}));xte.displayName="Toast";const ZBe=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:bt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ZBe.displayName="ToastAction";const bte=S.forwardRef(({className:t,...e},r)=>a.jsx("button",{ref:r,className:bt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(An,{className:"h-4 w-4"})}));bte.displayName="ToastClose";const wte=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:bt("text-sm font-semibold",t),...e}));wte.displayName="ToastTitle";const _te=S.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:bt("text-sm opacity-90",t),...e}));_te.displayName="ToastDescription";function e8e(){const{toasts:t}=XBe();return a.jsxs(yte,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return a.jsxs(xte,{...s,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(wte,{children:r}),n&&a.jsx(_te,{children:n})]}),i,a.jsx(bte,{})]},e)}),a.jsx(vte,{})]})}function t8e(){return a.jsxs(a.Fragment,{children:[a.jsx(WBe,{}),a.jsx(e8e,{})]})}const r8e=new Vfe({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});$re.createRoot(document.getElementById("root")).render(a.jsx(Bfe,{client:r8e,children:a.jsx(t8e,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});
