const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PetDisplay-CWJwigaH-Dn1kB1rT-DC_LFbLk-CkM1jHCJ.js","assets/progress-D8Mly-oi-3Ij_j_WH-Cj7a_al8-XJPky_9h.js","assets/InstallPrompt-DgpoMmSN-7-1KwCIk-DbIVIKDj-Cj-Oz40P.js","assets/download-D48Ya7JV-BCGP1QsL-Cyxdz05A-DTExgYzk.js","assets/Home-CyglPuDJ-D9CUbwlO-Dn0JEjKr-DdFXiRGG.js","assets/flame-ByI7R4Rc-BbLUZ-TU-EBlXwzii-CR1NsYYI.js","assets/AppTrialPromo-3kaWkndE-BUzGMVIJ-CI0rBIlc-CZBF6i_S.js","assets/zap-w4f_OL2g-BKWEZluV-BRBCNtj7-CAvlrAfT.js","assets/external-link-BZwlM77U-BVaGwVZ--DhInU3m1-DR_2uBqa.js","assets/trending-up-Bw7UHNpS-DrWngiVT-DdV0ZwgI-Db5MxTA1.js","assets/target-CKjL3a7Z-CNfUoT2L-BFcD-nDp-BZzxImDO.js","assets/book-open-ChO3lU0J-BkdXvgrc-D-2K2eBZ-BHEak8UT.js","assets/plus-BTrUTde5-BsVl2K3z-CvCU6UVn-CxCQWdNu.js","assets/minus-Dt83-KDs-D9F3lV9Z-BDHZu3mA-d9YCrDJk.js","assets/credit-card-6uWoetCu-Drjw4SxZ-C4TAGbnZ-DgP0pZAr.js","assets/lock-C1-5gGAl-B47CgZWV-D6DQBFTb-DR4RYhi6.js","assets/circle-alert-BiIT3tKc-CrsIGr-p-Dg4J1ZQm-yRIPZ1pU.js","assets/award-DsC9STJ2-D9jCxi3D-CzTl10qc-BMHn5bMC.js","assets/palette-DxTrdA_5-Gsry3mCk-nyyptmWA-CUMBMkS0.js","assets/Game-Car3f5Hl-Cd-6q65H-DycnM-eA-C5GXfM6H.js","assets/useMutation-BBbn5Ibo-BJFBDAw4-Dv4aGJVX-BVnXju1M.js","assets/CelebrationAnimation-5xmelkAl-MsLmzNGW-DQLTHAl3-CZLYZj1G.js","assets/TextToSpeech-jPFv8Mzs-9YNY52v7-7DUXlPgf-H7L-9G35.js","assets/coins-C3lSgozT-BPAlcUrl-iLAVQAYw-DCt0oMhl.js","assets/rotate-ccw-BY_oOohm-Dv5j0UO6-ChJLhnxT-Ckthe42F.js","assets/trending-down-DyY_-Dls-DCTF-sbq-Bkw8f1qh-CpnxeDN9.js","assets/triangle-alert-Dd6OicLx-I3IE0NwH-CK_H4sCV-gKxDgY7H.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DOt-wJcj-CYCxA8pw-VcdfFfA8-VUPVXmCD.js","assets/arrow-left-B1UHrOU7-W_GQWmbU-B_okVX8Y-BMeIpEeU.js","assets/Avatar-D3Vaufpw-BPf8_-ke-_cfin1pE-C2BOynHV.js","assets/label-BaWOfaZ4-D2bnlHOe-C3ZiZWl7-sxYNK4Ja.js","assets/tabs-CHDP_n8y-n--N7dEs-DHG4L-Nj-J4eAXANJ.js","assets/AvatarDisplay-Bq8KvINC-Bkjcf5GX-CYSbrbbG-DzgGw1BI.js","assets/index-BwFEnwcg-BH8kZdV1-7yxjqrzn-DYqa2aVC.js","assets/save-_1Dbls43-gPqzGvW6-BzKl92VA-DYUux2P3.js","assets/DailyChallenge-B_TmHe71-9_GzLfER-CsxzqZM3-_VwMey0I.js","assets/medal-Co574HnZ-BrwNViFy-sMcS5xR1-yOyX0GYK.js","assets/ParentPortal-uD_6EQCB-BlSm9-Pl-CqRX-Mqx-B-S9FwlK.js","assets/textarea-CfSFlC7Y-B1_HOiLG-pWb3N6sq--rB7NEim.js","assets/LineChart-0kDBnRpG-iX5USs7J-BJ6MuG4s-Bqgd9crH.js","assets/select-D2ka9gIq-C0DnmY5i-BWzDVN5C-CCDlhD6o.js","assets/index-DZTJ2JNZ-WUehWf7O-DIREPI33-DSdOVwez.js","assets/trash-2-BVBrMuhg-D5aZdlx9-Dv72TkUa-BpnATIy6.js","assets/info-DJ4PsQna-CO-tw7TM-YieTzC9S-CTR4rEzC.js","assets/mail-DSHElOAU-Dxc-4tqR-C0HLJ1Zz-DrHgvtG5.js","assets/startOfMonth-Wd0pZm1a-DWY8TbZA-B0MXGfsi-Dk3lc-2e.js","assets/Shop-Dpi3jNOM-DBLOEYJG-BF_sU9CL-DvNBc-Nn.js","assets/Leaderboards-CYLEtOqi-D_0nKBrZ-8wsJcEna-DQi0it0O.js","assets/user-plus-BnLNyW7y-BT90OHfh-Bbe3Z968-DerqS9m8.js","assets/TeamChallenges-2GLMQU7M-DGgliDx1-BiEgICqP-BlvKOnDJ.js","assets/Subscription-BwkMZCw3-CEKs35DZ-Ca0AxS_j-B0xkpV8U.js","assets/GenerateIcons-B2dbw11g-DbI9Llo8-DSH_4hZW-DRd2ybO8.js","assets/loader-circle-D_xhh0c4-CLUvB6LZ-DPJOnd_j-DjiR6LeL.js","assets/TestIconGeneration-CQ_anw_c-DHgdrWEA-CQ8b8X2E-DZ1R5QRu.js","assets/Messages-Ro3POV2v-CReMRa01-C3gv55fU-CYzTU-PC.js","assets/ColorByNumbers-C-wguKtm-Bn3BlVF7-BLo1ZjK5-yuUNXOXz.js","assets/paint-bucket-Dhf5qwFX-BnQ0KpQY-R5JPzhI_-BqH_-kNd.js","assets/Settings-8809jpiZ-B7_Y2-Lf-Ob_cgABU-BIOjc7jO.js","assets/PrivacyPolicy-BVigO746-wx1walw0-DZa-2oPw-DPachvog.js","assets/AITutor-pphYUSPx-B8CYTmba-CJp6NfrQ-DshyLyqJ.js","assets/AdminTestAccount-vgF3JIMZ-DLwBWfuV-B6y8j50m-CKCQmjoX.js","assets/Subscribe-CBrYcDKc-BQQoBtfw-x_C8Mm2o-BRGqvseJ.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Tj="modulepreload",Ij=function(t){return"/"+t},MS={},Bt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=o(n.map(d=>{if(d=Ij(d),d in MS)return;MS[d]=!0;const m=d.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":Tj,m||(v.as="script"),v.crossOrigin="",v.href=d,h&&v.setAttribute("nonce",h),document.head.appendChild(v),m)return new Promise((k,T)=>{v.addEventListener("load",k),v.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return s.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},$t=(t,e=$t,n=e.f||(e.f=["assets/PetDisplay-CWJwigaH-Dn1kB1rT-DC_LFbLk.js","assets/progress-D8Mly-oi-3Ij_j_WH-Cj7a_al8.js","assets/InstallPrompt-DgpoMmSN-7-1KwCIk-DbIVIKDj.js","assets/download-D48Ya7JV-BCGP1QsL-Cyxdz05A.js","assets/Home-CyglPuDJ-D9CUbwlO-Dn0JEjKr.js","assets/flame-ByI7R4Rc-BbLUZ-TU-EBlXwzii.js","assets/AppTrialPromo-3kaWkndE-BUzGMVIJ-CI0rBIlc.js","assets/zap-w4f_OL2g-BKWEZluV-BRBCNtj7.js","assets/external-link-BZwlM77U-BVaGwVZ--DhInU3m1.js","assets/trending-up-Bw7UHNpS-DrWngiVT-DdV0ZwgI.js","assets/target-CKjL3a7Z-CNfUoT2L-BFcD-nDp.js","assets/book-open-ChO3lU0J-BkdXvgrc-D-2K2eBZ.js","assets/plus-BTrUTde5-BsVl2K3z-CvCU6UVn.js","assets/minus-Dt83-KDs-D9F3lV9Z-BDHZu3mA.js","assets/credit-card-6uWoetCu-Drjw4SxZ-C4TAGbnZ.js","assets/lock-C1-5gGAl-B47CgZWV-D6DQBFTb.js","assets/circle-alert-BiIT3tKc-CrsIGr-p-Dg4J1ZQm.js","assets/award-DsC9STJ2-D9jCxi3D-CzTl10qc.js","assets/palette-DxTrdA_5-Gsry3mCk-nyyptmWA.js","assets/Game-Car3f5Hl-Cd-6q65H-DycnM-eA.js","assets/useMutation-BBbn5Ibo-BJFBDAw4-Dv4aGJVX.js","assets/CelebrationAnimation-5xmelkAl-MsLmzNGW-DQLTHAl3.js","assets/TextToSpeech-jPFv8Mzs-9YNY52v7-7DUXlPgf.js","assets/coins-C3lSgozT-BPAlcUrl-iLAVQAYw.js","assets/rotate-ccw-BY_oOohm-Dv5j0UO6-ChJLhnxT.js","assets/trending-down-DyY_-Dls-DCTF-sbq-Bkw8f1qh.js","assets/triangle-alert-Dd6OicLx-I3IE0NwH-CK_H4sCV.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz.js","assets/PremiumFeatureLock-DOt-wJcj-CYCxA8pw-VcdfFfA8.js","assets/arrow-left-B1UHrOU7-W_GQWmbU-B_okVX8Y.js","assets/Avatar-D3Vaufpw-BPf8_-ke-_cfin1pE.js","assets/label-BaWOfaZ4-D2bnlHOe-C3ZiZWl7.js","assets/tabs-CHDP_n8y-n--N7dEs-DHG4L-Nj.js","assets/AvatarDisplay-Bq8KvINC-Bkjcf5GX-CYSbrbbG.js","assets/index-BwFEnwcg-BH8kZdV1-7yxjqrzn.js","assets/save-_1Dbls43-gPqzGvW6-BzKl92VA.js","assets/DailyChallenge-B_TmHe71-9_GzLfER-CsxzqZM3.js","assets/medal-Co574HnZ-BrwNViFy-sMcS5xR1.js","assets/ParentPortal-uD_6EQCB-BlSm9-Pl-CqRX-Mqx.js","assets/textarea-CfSFlC7Y-B1_HOiLG-pWb3N6sq.js","assets/LineChart-0kDBnRpG-iX5USs7J-BJ6MuG4s.js","assets/select-D2ka9gIq-C0DnmY5i-BWzDVN5C.js","assets/index-DZTJ2JNZ-WUehWf7O-DIREPI33.js","assets/trash-2-BVBrMuhg-D5aZdlx9-Dv72TkUa.js","assets/info-DJ4PsQna-CO-tw7TM-YieTzC9S.js","assets/mail-DSHElOAU-Dxc-4tqR-C0HLJ1Zz.js","assets/startOfMonth-Wd0pZm1a-DWY8TbZA-B0MXGfsi.js","assets/Shop-Dpi3jNOM-DBLOEYJG-BF_sU9CL.js","assets/Leaderboards-CYLEtOqi-D_0nKBrZ-8wsJcEna.js","assets/user-plus-BnLNyW7y-BT90OHfh-Bbe3Z968.js","assets/TeamChallenges-2GLMQU7M-DGgliDx1-BiEgICqP.js","assets/Subscription-BwkMZCw3-CEKs35DZ-Ca0AxS_j.js","assets/GenerateIcons-B2dbw11g-DbI9Llo8-DSH_4hZW.js","assets/loader-circle-D_xhh0c4-CLUvB6LZ-DPJOnd_j.js","assets/TestIconGeneration-CQ_anw_c-DHgdrWEA-CQ8b8X2E.js","assets/Messages-Ro3POV2v-CReMRa01-C3gv55fU.js","assets/ColorByNumbers-C-wguKtm-Bn3BlVF7-BLo1ZjK5.js","assets/paint-bucket-Dhf5qwFX-BnQ0KpQY-R5JPzhI_.js","assets/Settings-8809jpiZ-B7_Y2-Lf-Ob_cgABU.js","assets/PrivacyPolicy-BVigO746-wx1walw0-DZa-2oPw.js","assets/AITutor-pphYUSPx-B8CYTmba-CJp6NfrQ.js","assets/AdminTestAccount-vgF3JIMZ-DLwBWfuV-B6y8j50m.js","assets/Subscribe-CBrYcDKc-BQQoBtfw-x_C8Mm2o.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const Cj="modulepreload",Pj=function(t){return"/"+t},AS={},qt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(h=>{if(h=Pj(h),h in AS)return;AS[h]=!0;const d=h.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":Cj,d||(g.as="script"),g.crossOrigin="",g.href=h,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},Kt=(t,e=Kt,n=e.f||(e.f=["assets/PetDisplay-CWJwigaH-Dn1kB1rT.js","assets/progress-D8Mly-oi-3Ij_j_WH.js","assets/InstallPrompt-DgpoMmSN-7-1KwCIk.js","assets/download-D48Ya7JV-BCGP1QsL.js","assets/Home-CyglPuDJ-D9CUbwlO.js","assets/flame-ByI7R4Rc-BbLUZ-TU.js","assets/AppTrialPromo-3kaWkndE-BUzGMVIJ.js","assets/zap-w4f_OL2g-BKWEZluV.js","assets/external-link-BZwlM77U-BVaGwVZ-.js","assets/trending-up-Bw7UHNpS-DrWngiVT.js","assets/target-CKjL3a7Z-CNfUoT2L.js","assets/book-open-ChO3lU0J-BkdXvgrc.js","assets/plus-BTrUTde5-BsVl2K3z.js","assets/minus-Dt83-KDs-D9F3lV9Z.js","assets/credit-card-6uWoetCu-Drjw4SxZ.js","assets/lock-C1-5gGAl-B47CgZWV.js","assets/circle-alert-BiIT3tKc-CrsIGr-p.js","assets/award-DsC9STJ2-D9jCxi3D.js","assets/palette-DxTrdA_5-Gsry3mCk.js","assets/Game-Car3f5Hl-Cd-6q65H.js","assets/useMutation-BBbn5Ibo-BJFBDAw4.js","assets/CelebrationAnimation-5xmelkAl-MsLmzNGW.js","assets/TextToSpeech-jPFv8Mzs-9YNY52v7.js","assets/coins-C3lSgozT-BPAlcUrl.js","assets/rotate-ccw-BY_oOohm-Dv5j0UO6.js","assets/trending-down-DyY_-Dls-DCTF-sbq.js","assets/triangle-alert-Dd6OicLx-I3IE0NwH.js","assets/QuestionGenerator-z-c728t7-CSzYVewV.js","assets/PremiumFeatureLock-DOt-wJcj-CYCxA8pw.js","assets/arrow-left-B1UHrOU7-W_GQWmbU.js","assets/Avatar-D3Vaufpw-BPf8_-ke.js","assets/label-BaWOfaZ4-D2bnlHOe.js","assets/tabs-CHDP_n8y-n--N7dEs.js","assets/AvatarDisplay-Bq8KvINC-Bkjcf5GX.js","assets/index-BwFEnwcg-BH8kZdV1.js","assets/save-_1Dbls43-gPqzGvW6.js","assets/DailyChallenge-B_TmHe71-9_GzLfER.js","assets/medal-Co574HnZ-BrwNViFy.js","assets/ParentPortal-uD_6EQCB-BlSm9-Pl.js","assets/textarea-CfSFlC7Y-B1_HOiLG.js","assets/LineChart-0kDBnRpG-iX5USs7J.js","assets/select-D2ka9gIq-C0DnmY5i.js","assets/index-DZTJ2JNZ-WUehWf7O.js","assets/trash-2-BVBrMuhg-D5aZdlx9.js","assets/info-DJ4PsQna-CO-tw7TM.js","assets/mail-DSHElOAU-Dxc-4tqR.js","assets/startOfMonth-Wd0pZm1a-DWY8TbZA.js","assets/Shop-Dpi3jNOM-DBLOEYJG.js","assets/Leaderboards-CYLEtOqi-D_0nKBrZ.js","assets/user-plus-BnLNyW7y-BT90OHfh.js","assets/TeamChallenges-2GLMQU7M-DGgliDx1.js","assets/Subscription-BwkMZCw3-CEKs35DZ.js","assets/GenerateIcons-B2dbw11g-DbI9Llo8.js","assets/loader-circle-D_xhh0c4-CLUvB6LZ.js","assets/TestIconGeneration-CQ_anw_c-DHgdrWEA.js","assets/Messages-Ro3POV2v-CReMRa01.js","assets/ColorByNumbers-C-wguKtm-Bn3BlVF7.js","assets/paint-bucket-Dhf5qwFX-BnQ0KpQY.js","assets/Settings-8809jpiZ-B7_Y2-Lf.js","assets/PrivacyPolicy-BVigO746-wx1walw0.js","assets/AITutor-pphYUSPx-B8CYTmba.js","assets/AdminTestAccount-vgF3JIMZ-DLwBWfuV.js","assets/Subscribe-CBrYcDKc-BQQoBtfw.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const Nj="modulepreload",Dj=function(t){return"/"+t},OS={},Wt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(h=>{if(h=Dj(h),h in OS)return;OS[h]=!0;const d=h.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":Nj,d||(g.as="script"),g.crossOrigin="",g.href=h,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},Ht=(t,e=Ht,n=e.f||(e.f=["assets/PetDisplay-CWJwigaH.js","assets/progress-D8Mly-oi.js","assets/InstallPrompt-DgpoMmSN.js","assets/download-D48Ya7JV.js","assets/Home-CyglPuDJ.js","assets/flame-ByI7R4Rc.js","assets/AppTrialPromo-3kaWkndE.js","assets/zap-w4f_OL2g.js","assets/external-link-BZwlM77U.js","assets/trending-up-Bw7UHNpS.js","assets/target-CKjL3a7Z.js","assets/book-open-ChO3lU0J.js","assets/plus-BTrUTde5.js","assets/minus-Dt83-KDs.js","assets/credit-card-6uWoetCu.js","assets/lock-C1-5gGAl.js","assets/circle-alert-BiIT3tKc.js","assets/award-DsC9STJ2.js","assets/palette-DxTrdA_5.js","assets/Game-Car3f5Hl.js","assets/useMutation-BBbn5Ibo.js","assets/CelebrationAnimation-5xmelkAl.js","assets/TextToSpeech-jPFv8Mzs.js","assets/coins-C3lSgozT.js","assets/rotate-ccw-BY_oOohm.js","assets/trending-down-DyY_-Dls.js","assets/triangle-alert-Dd6OicLx.js","assets/QuestionGenerator-z-c728t7.js","assets/PremiumFeatureLock-DOt-wJcj.js","assets/arrow-left-B1UHrOU7.js","assets/Avatar-D3Vaufpw.js","assets/label-BaWOfaZ4.js","assets/tabs-CHDP_n8y.js","assets/AvatarDisplay-Bq8KvINC.js","assets/index-BwFEnwcg.js","assets/save-_1Dbls43.js","assets/DailyChallenge-B_TmHe71.js","assets/medal-Co574HnZ.js","assets/ParentPortal-uD_6EQCB.js","assets/textarea-CfSFlC7Y.js","assets/LineChart-0kDBnRpG.js","assets/select-D2ka9gIq.js","assets/index-DZTJ2JNZ.js","assets/trash-2-BVBrMuhg.js","assets/info-DJ4PsQna.js","assets/mail-DSHElOAU.js","assets/startOfMonth-Wd0pZm1a.js","assets/Shop-Dpi3jNOM.js","assets/Leaderboards-CYLEtOqi.js","assets/user-plus-BnLNyW7y.js","assets/TeamChallenges-2GLMQU7M.js","assets/Subscription-BwkMZCw3.js","assets/GenerateIcons-B2dbw11g.js","assets/loader-circle-D_xhh0c4.js","assets/TestIconGeneration-CQ_anw_c.js","assets/Messages-Ro3POV2v.js","assets/ColorByNumbers-C-wguKtm.js","assets/paint-bucket-Dhf5qwFX.js","assets/Settings-8809jpiZ.js","assets/PrivacyPolicy-BVigO746.js","assets/AITutor-pphYUSPx.js","assets/AdminTestAccount-vgF3JIMZ.js","assets/Subscribe-CBrYcDKc.js"]))=>t.map(r=>n[r]);var Rj=Object.defineProperty,U2=t=>{throw TypeError(t)},Mj=(t,e,n)=>e in t?Rj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LS=(t,e,n)=>Mj(t,typeof e!="symbol"?e+"":e,n),Jb=(t,e,n)=>e.has(t)||U2("Cannot "+n),q=(t,e,n)=>(Jb(t,e,"read from private field"),n?n.call(t):e.get(t)),Ae=(t,e,n)=>e.has(t)?U2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(Jb(t,e,"write to private field"),e.set(t,n),n),Ze=(t,e,n)=>(Jb(t,e,"access private method"),n),_w=(t,e,n,r)=>({set _(s){ge(t,e,s)},get _(){return q(t,e,r)}});function Aj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var ine=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jS={exports:{}},Ah={},VS={exports:{}},We={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var FS;function Oj(){if(FS)return We;FS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,_={};function I(W,re,pe){this.props=W,this.context=re,this.refs=_,this.updater=pe||k}I.prototype.isReactComponent={},I.prototype.setState=function(W,re){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,re,"setState")},I.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function N(){}N.prototype=I.prototype;function D(W,re,pe){this.props=W,this.context=re,this.refs=_,this.updater=pe||k}var O=D.prototype=new N;O.constructor=D,T(O,I.prototype),O.isPureReactComponent=!0;var U=Array.isArray,B=Object.prototype.hasOwnProperty,H={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function C(W,re,pe){var me,Me={},ze=null,Ce=null;if(re!=null)for(me in re.ref!==void 0&&(Ce=re.ref),re.key!==void 0&&(ze=""+re.key),re)B.call(re,me)&&!M.hasOwnProperty(me)&&(Me[me]=re[me]);var $e=arguments.length-2;if($e===1)Me.children=pe;else if(1<$e){for(var Ue=Array($e),dt=0;dt<$e;dt++)Ue[dt]=arguments[dt+2];Me.children=Ue}if(W&&W.defaultProps)for(me in $e=W.defaultProps,$e)Me[me]===void 0&&(Me[me]=$e[me]);return{$$typeof:t,type:W,key:ze,ref:Ce,props:Me,_owner:H.current}}function R(W,re){return{$$typeof:t,type:W.type,key:re,ref:W.ref,props:W.props,_owner:W._owner}}function j(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function F(W){var re={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(pe){return re[pe]})}var $=/\/+/g;function L(W,re){return typeof W=="object"&&W!==null&&W.key!=null?F(""+W.key):re.toString(36)}function be(W,re,pe,me,Me){var ze=typeof W;(ze==="undefined"||ze==="boolean")&&(W=null);var Ce=!1;if(W===null)Ce=!0;else switch(ze){case"string":case"number":Ce=!0;break;case"object":switch(W.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=W,Me=Me(Ce),W=me===""?"."+L(Ce,0):me,U(Me)?(pe="",W!=null&&(pe=W.replace($,"$&/")+"/"),be(Me,re,pe,"",function(dt){return dt})):Me!=null&&(j(Me)&&(Me=R(Me,pe+(!Me.key||Ce&&Ce.key===Me.key?"":(""+Me.key).replace($,"$&/")+"/")+W)),re.push(Me)),1;if(Ce=0,me=me===""?".":me+":",U(W))for(var $e=0;$e<W.length;$e++){ze=W[$e];var Ue=me+L(ze,$e);Ce+=be(ze,re,pe,Ue,Me)}else if(Ue=v(W),typeof Ue=="function")for(W=Ue.call(W),$e=0;!(ze=W.next()).done;)ze=ze.value,Ue=me+L(ze,$e++),Ce+=be(ze,re,pe,Ue,Me);else if(ze==="object")throw re=String(W),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Ce}function Re(W,re,pe){if(W==null)return W;var me=[],Me=0;return be(W,me,"","",function(ze){return re.call(pe,ze,Me++)}),me}function ye(W){if(W._status===-1){var re=W._result;re=re(),re.then(function(pe){(W._status===0||W._status===-1)&&(W._status=1,W._result=pe)},function(pe){(W._status===0||W._status===-1)&&(W._status=2,W._result=pe)}),W._status===-1&&(W._status=0,W._result=re)}if(W._status===1)return W._result.default;throw W._result}var ve={current:null},G={transition:null},ne={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:G,ReactCurrentOwner:H};function ae(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:Re,forEach:function(W,re,pe){Re(W,function(){re.apply(this,arguments)},pe)},count:function(W){var re=0;return Re(W,function(){re++}),re},toArray:function(W){return Re(W,function(re){return re})||[]},only:function(W){if(!j(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},We.Component=I,We.Fragment=n,We.Profiler=s,We.PureComponent=D,We.StrictMode=r,We.Suspense=h,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,We.act=ae,We.cloneElement=function(W,re,pe){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var me=T({},W.props),Me=W.key,ze=W.ref,Ce=W._owner;if(re!=null){if(re.ref!==void 0&&(ze=re.ref,Ce=H.current),re.key!==void 0&&(Me=""+re.key),W.type&&W.type.defaultProps)var $e=W.type.defaultProps;for(Ue in re)B.call(re,Ue)&&!M.hasOwnProperty(Ue)&&(me[Ue]=re[Ue]===void 0&&$e!==void 0?$e[Ue]:re[Ue])}var Ue=arguments.length-2;if(Ue===1)me.children=pe;else if(1<Ue){$e=Array(Ue);for(var dt=0;dt<Ue;dt++)$e[dt]=arguments[dt+2];me.children=$e}return{$$typeof:t,type:W.type,key:Me,ref:ze,props:me,_owner:Ce}},We.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:i,_context:W},W.Consumer=W},We.createElement=C,We.createFactory=function(W){var re=C.bind(null,W);return re.type=W,re},We.createRef=function(){return{current:null}},We.forwardRef=function(W){return{$$typeof:u,render:W}},We.isValidElement=j,We.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:ye}},We.memo=function(W,re){return{$$typeof:d,type:W,compare:re===void 0?null:re}},We.startTransition=function(W){var re=G.transition;G.transition={};try{W()}finally{G.transition=re}},We.unstable_act=ae,We.useCallback=function(W,re){return ve.current.useCallback(W,re)},We.useContext=function(W){return ve.current.useContext(W)},We.useDebugValue=function(){},We.useDeferredValue=function(W){return ve.current.useDeferredValue(W)},We.useEffect=function(W,re){return ve.current.useEffect(W,re)},We.useId=function(){return ve.current.useId()},We.useImperativeHandle=function(W,re,pe){return ve.current.useImperativeHandle(W,re,pe)},We.useInsertionEffect=function(W,re){return ve.current.useInsertionEffect(W,re)},We.useLayoutEffect=function(W,re){return ve.current.useLayoutEffect(W,re)},We.useMemo=function(W,re){return ve.current.useMemo(W,re)},We.useReducer=function(W,re,pe){return ve.current.useReducer(W,re,pe)},We.useRef=function(W){return ve.current.useRef(W)},We.useState=function(W){return ve.current.useState(W)},We.useSyncExternalStore=function(W,re,pe){return ve.current.useSyncExternalStore(W,re,pe)},We.useTransition=function(){return ve.current.useTransition()},We.version="18.3.1",We}var US;function ex(){return US||(US=1,VS.exports=Oj()),VS.exports}/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var zS;function Lj(){if(zS)return Ah;zS=1;var t=ex(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(u,h,d){var m,g={},v=null,k=null;d!==void 0&&(v=""+d),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(k=h.ref);for(m in h)r.call(h,m)&&!i.hasOwnProperty(m)&&(g[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)g[m]===void 0&&(g[m]=h[m]);return{$$typeof:e,type:u,key:v,ref:k,props:g,_owner:s.current}}return Ah.Fragment=n,Ah.jsx=o,Ah.jsxs=o,Ah}var BS;function jj(){return BS||(BS=1,jS.exports=Lj()),jS.exports}var x=jj(),E=ex();const bn=Zb(E),tx=Aj({__proto__:null,default:bn},[E]);var Yp={},v0={exports:{}},Yn={},$S={exports:{}},qS={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var KS;function Vj(){return KS||(KS=1,(function(t){function e(G,ne){var ae=G.length;G.push(ne);e:for(;0<ae;){var W=ae-1>>>1,re=G[W];if(0<s(re,ne))G[W]=ne,G[ae]=re,ae=W;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ne=G[0],ae=G.pop();if(ae!==ne){G[0]=ae;e:for(var W=0,re=G.length,pe=re>>>1;W<pe;){var me=2*(W+1)-1,Me=G[me],ze=me+1,Ce=G[ze];if(0>s(Me,ae))ze<re&&0>s(Ce,Me)?(G[W]=Ce,G[ze]=ae,W=ze):(G[W]=Me,G[me]=ae,W=me);else if(ze<re&&0>s(Ce,ae))G[W]=Ce,G[ze]=ae,W=ze;else break e}}return ne}function s(G,ne){var ae=G.sortIndex-ne.sortIndex;return ae!==0?ae:G.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var h=[],d=[],m=1,g=null,v=3,k=!1,T=!1,_=!1,I=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(G){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=G)r(d),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=n(d)}}function U(G){if(_=!1,O(G),!T)if(n(h)!==null)T=!0,ye(B);else{var ne=n(d);ne!==null&&ve(U,ne.startTime-G)}}function B(G,ne){T=!1,_&&(_=!1,N(C),C=-1),k=!0;var ae=v;try{for(O(ne),g=n(h);g!==null&&(!(g.expirationTime>ne)||G&&!F());){var W=g.callback;if(typeof W=="function"){g.callback=null,v=g.priorityLevel;var re=W(g.expirationTime<=ne);ne=t.unstable_now(),typeof re=="function"?g.callback=re:g===n(h)&&r(h),O(ne)}else r(h);g=n(h)}if(g!==null)var pe=!0;else{var me=n(d);me!==null&&ve(U,me.startTime-ne),pe=!1}return pe}finally{g=null,v=ae,k=!1}}var H=!1,M=null,C=-1,R=5,j=-1;function F(){return!(t.unstable_now()-j<R)}function $(){if(M!==null){var G=t.unstable_now();j=G;var ne=!0;try{ne=M(!0,G)}finally{ne?L():(H=!1,M=null)}}else H=!1}var L;if(typeof D=="function")L=function(){D($)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Re=be.port2;be.port1.onmessage=$,L=function(){Re.postMessage(null)}}else L=function(){I($,0)};function ye(G){M=G,H||(H=!0,L())}function ve(G,ne){C=I(function(){G(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){T||k||(T=!0,ye(B))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var ae=v;v=ne;try{return G()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=v;v=G;try{return ne()}finally{v=ae}},t.unstable_scheduleCallback=function(G,ne,ae){var W=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?W+ae:W):ae=W,G){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ae+re,G={id:m++,callback:ne,priorityLevel:G,startTime:ae,expirationTime:re,sortIndex:-1},ae>W?(G.sortIndex=ae,e(d,G),n(h)===null&&G===n(d)&&(_?(N(C),C=-1):_=!0,ve(U,ae-W))):(G.sortIndex=re,e(h,G),T||k||(T=!0,ye(B))),G},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(G){var ne=v;return function(){var ae=v;v=ne;try{return G.apply(this,arguments)}finally{v=ae}}}})(qS)),qS}var WS;function Fj(){return WS||(WS=1,$S.exports=Vj()),$S.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var HS;function Uj(){if(HS)return Yn;HS=1;var t=ex(),e=Fj();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(a,l){o(a,l),o(a+"Capture",l)}function o(a,l){for(s[a]=l,a=0;a<l.length;a++)r.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(a){return h.call(g,a)?!0:h.call(m,a)?!1:d.test(a)?g[a]=!0:(m[a]=!0,!1)}function k(a,l,c,p){if(c!==null&&c.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function T(a,l,c,p){if(l===null||typeof l>"u"||k(a,l,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function _(a,l,c,p,y,w,P){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=a,this.type=l,this.sanitizeURL=w,this.removeEmptyString=P}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){I[a]=new _(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];I[l]=new _(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){I[a]=new _(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){I[a]=new _(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){I[a]=new _(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){I[a]=new _(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){I[a]=new _(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){I[a]=new _(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){I[a]=new _(a,5,!1,a.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function D(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(N,D);I[l]=new _(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(N,D);I[l]=new _(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(N,D);I[l]=new _(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){I[a]=new _(a,1,!1,a.toLowerCase(),null,!1,!1)}),I.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){I[a]=new _(a,1,!1,a.toLowerCase(),null,!0,!0)});function O(a,l,c,p){var y=I.hasOwnProperty(l)?I[l]:null;(y!==null?y.type!==0:p||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(T(l,c,y,p)&&(c=null),p||y===null?v(l)&&(c===null?a.removeAttribute(l):a.setAttribute(l,""+c)):y.mustUseProperty?a[y.propertyName]=c===null?y.type===3?!1:"":c:(l=y.attributeName,p=y.attributeNamespace,c===null?a.removeAttribute(l):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?a.setAttributeNS(p,l,c):a.setAttribute(l,c))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),H=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),G=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=G&&a[G]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Object.assign,W;function re(a){if(W===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);W=l&&l[1]||""}return`
`+W+a}var pe=!1;function me(a,l){if(!a||pe)return"";pe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Z){var p=Z}Reflect.construct(a,[],l)}else{try{l.call()}catch(Z){p=Z}a.call(l.prototype)}else{try{throw Error()}catch(Z){p=Z}a()}}catch(Z){if(Z&&p&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),w=p.stack.split(`
`),P=y.length-1,V=w.length-1;1<=P&&0<=V&&y[P]!==w[V];)V--;for(;1<=P&&0<=V;P--,V--)if(y[P]!==w[V]){if(P!==1||V!==1)do if(P--,V--,0>V||y[P]!==w[V]){var z=`
`+y[P].replace(" at new "," at ");return a.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",a.displayName)),z}while(1<=P&&0<=V);break}}}finally{pe=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:"")?re(a):""}function Me(a){switch(a.tag){case 5:return re(a.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return a=me(a.type,!1),a;case 11:return a=me(a.type.render,!1),a;case 1:return a=me(a.type,!0),a;default:return""}}function ze(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case H:return"Portal";case R:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case be:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case F:return(a.displayName||"Context")+".Consumer";case j:return(a._context.displayName||"Context")+".Provider";case $:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Re:return l=a.displayName||null,l!==null?l:ze(a.type)||"Memo";case ye:l=a._payload,a=a._init;try{return ze(a(l))}catch{}}return null}function Ce(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(l);case 8:return l===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function $e(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ue(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function dt(a){var l=Ue(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),p=""+a[l];if(!a.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return y.call(this)},set:function(P){p=""+P,w.call(this,P)}}),Object.defineProperty(a,l,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Er(a){a._valueTracker||(a._valueTracker=dt(a))}function kr(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var c=l.getValue(),p="";return a&&(p=Ue(a)?a.checked?"true":"false":a.value),a=p,a!==c?(l.setValue(a),!0):!1}function Kn(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Hi(a,l){var c=l.checked;return ae({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??a._wrapperState.initialChecked})}function Ul(a,l){var c=l.defaultValue==null?"":l.defaultValue,p=l.checked!=null?l.checked:l.defaultChecked;c=$e(l.value!=null?l.value:c),a._wrapperState={initialChecked:p,initialValue:c,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Gi(a,l){l=l.checked,l!=null&&O(a,"checked",l,!1)}function ni(a,l){Gi(a,l);var c=$e(l.value),p=l.type;if(c!=null)p==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+c):a.value!==""+c&&(a.value=""+c);else if(p==="submit"||p==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?ft(a,l.type,c):l.hasOwnProperty("defaultValue")&&ft(a,l.type,$e(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function uo(a,l,c){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var p=l.type;if(!(p!=="submit"&&p!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,c||l===a.value||(a.value=l),a.defaultValue=l}c=a.name,c!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,c!==""&&(a.name=c)}function ft(a,l,c){(l!=="number"||Kn(a.ownerDocument)!==a)&&(c==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c))}var At=Array.isArray;function $r(a,l,c,p){if(a=a.options,l){l={};for(var y=0;y<c.length;y++)l["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=l.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&p&&(a[c].defaultSelected=!0)}else{for(c=""+$e(c),l=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,p&&(a[y].defaultSelected=!0);return}l!==null||a[y].disabled||(l=a[y])}l!==null&&(l.selected=!0)}}function Bc(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function $c(a,l){var c=l.value;if(c==null){if(c=l.children,l=l.defaultValue,c!=null){if(l!=null)throw Error(n(92));if(At(c)){if(1<c.length)throw Error(n(93));c=c[0]}l=c}l==null&&(l=""),c=l}a._wrapperState={initialValue:$e(c)}}function jf(a,l){var c=$e(l.value),p=$e(l.defaultValue);c!=null&&(c=""+c,c!==a.value&&(a.value=c),l.defaultValue==null&&a.defaultValue!==c&&(a.defaultValue=c)),p!=null&&(a.defaultValue=""+p)}function Qi(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function qc(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zl(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?qc(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Xi,Vf=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,c,p,y){MSApp.execUnsafeLocalFunction(function(){return a(l,c,p,y)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Xi=Xi||document.createElement("div"),Xi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Xi.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function co(a,l){if(l){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=l;return}}a.textContent=l}var Yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ff=["Webkit","ms","Moz","O"];Object.keys(Yi).forEach(function(a){Ff.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),Yi[l]=Yi[a]})});function Ji(a,l,c){return l==null||typeof l=="boolean"||l===""?"":c||typeof l!="number"||l===0||Yi.hasOwnProperty(a)&&Yi[a]?(""+l).trim():l+"px"}function Bl(a,l){a=a.style;for(var c in l)if(l.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=Ji(c,l[c],p);c==="float"&&(c="cssFloat"),p?a.setProperty(c,y):a[c]=y}}var Kc=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qr(a,l){if(l){if(Kc[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function $l(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zi=null;function ql(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ri=null,si=null,Pt=null;function Wc(a){if(a=wh(a)){if(typeof ri!="function")throw Error(n(280));var l=a.stateNode;l&&(l=dp(l),ri(a.stateNode,a.type,l))}}function ea(a){si?Pt?Pt.push(a):Pt=[a]:si=a}function ta(){if(si){var a=si,l=Pt;if(Pt=si=null,Wc(a),l)for(a=0;a<l.length;a++)Wc(l[a])}}function Uf(a,l){return a(l)}function zf(){}var ds=!1;function Bf(a,l,c){if(ds)return a(l,c);ds=!0;try{return Uf(a,l,c)}finally{ds=!1,(si!==null||Pt!==null)&&(zf(),ta())}}function ho(a,l){var c=a.stateNode;if(c===null)return null;var p=dp(c);if(p===null)return null;c=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(n(231,l,typeof c));return c}var na=!1;if(u)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){na=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{na=!1}function $f(a,l,c,p,y,w,P,V,z){var Z=Array.prototype.slice.call(arguments,3);try{l.apply(c,Z)}catch(ie){this.onError(ie)}}var ii=!1,fs=null,Kl=!1,Sr=null,qf={onError:function(a){ii=!0,fs=a}};function Kf(a,l,c,p,y,w,P,V,z){ii=!1,fs=null,$f.apply(qf,arguments)}function Hc(a,l,c,p,y,w,P,V,z){if(Kf.apply(this,arguments),ii){if(ii){var Z=fs;ii=!1,fs=null}else throw Error(n(198));Kl||(Kl=!0,Sr=Z)}}function Kr(a){var l=a,c=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(c=l.return),a=l.return;while(a)}return l.tag===3?c:null}function Gc(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Wf(a){if(Kr(a)!==a)throw Error(n(188))}function Hf(a){var l=a.alternate;if(!l){if(l=Kr(a),l===null)throw Error(n(188));return l!==a?null:a}for(var c=a,p=l;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return Wf(y),a;if(w===p)return Wf(y),l;w=w.sibling}throw Error(n(188))}if(c.return!==p.return)c=y,p=w;else{for(var P=!1,V=y.child;V;){if(V===c){P=!0,c=y,p=w;break}if(V===p){P=!0,p=y,c=w;break}V=V.sibling}if(!P){for(V=w.child;V;){if(V===c){P=!0,c=w,p=y;break}if(V===p){P=!0,p=w,c=y;break}V=V.sibling}if(!P)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?a:l}function Gf(a){return a=Hf(a),a!==null?fo(a):null}function fo(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=fo(a);if(l!==null)return l;a=a.sibling}return null}var Qc=e.unstable_scheduleCallback,Wl=e.unstable_cancelCallback,po=e.unstable_shouldYield,ai=e.unstable_requestPaint,pt=e.unstable_now,Xy=e.unstable_getCurrentPriorityLevel,Hl=e.unstable_ImmediatePriority,Xc=e.unstable_UserBlockingPriority,mo=e.unstable_NormalPriority,Yc=e.unstable_LowPriority,Gl=e.unstable_IdlePriority,go=null,ir=null;function Qf(a){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(go,a,void 0,(a.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:yo,ps=Math.log,_r=Math.LN2;function yo(a){return a>>>=0,a===0?32:31-(ps(a)/_r|0)|0}var ms=64,sa=4194304;function rt(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function oi(a,l){var c=a.pendingLanes;if(c===0)return 0;var p=0,y=a.suspendedLanes,w=a.pingedLanes,P=c&268435455;if(P!==0){var V=P&~y;V!==0?p=rt(V):(w&=P,w!==0&&(p=rt(w)))}else P=c&~y,P!==0?p=rt(P):w!==0&&(p=rt(w));if(p===0)return 0;if(l!==0&&l!==p&&(l&y)===0&&(y=p&-p,w=l&-l,y>=w||y===16&&(w&4194240)!==0))return l;if((p&4)!==0&&(p|=c&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=p;0<l;)c=31-ar(l),y=1<<c,p|=a[c],l&=~y;return p}function vo(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wo(a,l){for(var c=a.suspendedLanes,p=a.pingedLanes,y=a.expirationTimes,w=a.pendingLanes;0<w;){var P=31-ar(w),V=1<<P,z=y[P];z===-1?((V&c)===0||(V&p)!==0)&&(y[P]=vo(V,l)):z<=l&&(a.expiredLanes|=V),w&=~V}}function Jc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Zc(){var a=ms;return ms<<=1,(ms&4194240)===0&&(ms=64),a}function eh(a){for(var l=[],c=0;31>c;c++)l.push(a);return l}function bo(a,l,c){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-ar(l),a[l]=c}function Yy(a,l){var c=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var p=a.eventTimes;for(a=a.expirationTimes;0<c;){var y=31-ar(c),w=1<<y;l[y]=0,p[y]=-1,a[y]=-1,c&=~w}}function th(a,l){var c=a.entangledLanes|=l;for(a=a.entanglements;c;){var p=31-ar(c),y=1<<p;y&l|a[p]&l&&(a[p]|=l),c&=~y}}var Xe=0;function gs(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var nh,Ql,rh,sh,ih,ys=!1,Xl=[],vs=null,ws=null,dn=null,xo=new Map,li=new Map,or=[],Xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ia(a,l){switch(a){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":xo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(l.pointerId)}}function Wr(a,l,c,p,y,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},l!==null&&(l=wh(l),l!==null&&Ql(l)),a):(a.eventSystemFlags|=p,l=a.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),a)}function Yf(a,l,c,p,y){switch(l){case"focusin":return vs=Wr(vs,a,l,c,p,y),!0;case"dragenter":return ws=Wr(ws,a,l,c,p,y),!0;case"mouseover":return dn=Wr(dn,a,l,c,p,y),!0;case"pointerover":var w=y.pointerId;return xo.set(w,Wr(xo.get(w)||null,a,l,c,p,y)),!0;case"gotpointercapture":return w=y.pointerId,li.set(w,Wr(li.get(w)||null,a,l,c,p,y)),!0}return!1}function Yl(a){var l=_o(a.target);if(l!==null){var c=Kr(l);if(c!==null){if(l=c.tag,l===13){if(l=Gc(c),l!==null){a.blockedOn=l,ih(a.priority,function(){rh(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ut(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var c=Jl(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(c===null){c=a.nativeEvent;var p=new c.constructor(c.type,c);Zi=p,c.target.dispatchEvent(p),Zi=null}else return l=wh(c),l!==null&&Ql(l),a.blockedOn=c,!1;l.shift()}return!0}function Jf(a,l,c){ut(a)&&c.delete(l)}function Jy(){ys=!1,vs!==null&&ut(vs)&&(vs=null),ws!==null&&ut(ws)&&(ws=null),dn!==null&&ut(dn)&&(dn=null),xo.forEach(Jf),li.forEach(Jf)}function aa(a,l){a.blockedOn===l&&(a.blockedOn=null,ys||(ys=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Jy)))}function oa(a){function l(y){return aa(y,a)}if(0<Xl.length){aa(Xl[0],a);for(var c=1;c<Xl.length;c++){var p=Xl[c];p.blockedOn===a&&(p.blockedOn=null)}}for(vs!==null&&aa(vs,a),ws!==null&&aa(ws,a),dn!==null&&aa(dn,a),xo.forEach(l),li.forEach(l),c=0;c<or.length;c++)p=or[c],p.blockedOn===a&&(p.blockedOn=null);for(;0<or.length&&(c=or[0],c.blockedOn===null);)Yl(c),c.blockedOn===null&&or.shift()}var ui=U.ReactCurrentBatchConfig,ci=!0;function bs(a,l,c,p){var y=Xe,w=ui.transition;ui.transition=null;try{Xe=1,ah(a,l,c,p)}finally{Xe=y,ui.transition=w}}function Zf(a,l,c,p){var y=Xe,w=ui.transition;ui.transition=null;try{Xe=4,ah(a,l,c,p)}finally{Xe=y,ui.transition=w}}function ah(a,l,c,p){if(ci){var y=Jl(a,l,c,p);if(y===null)uv(a,l,p,xs,c),ia(a,p);else if(Yf(y,a,l,c,p))p.stopPropagation();else if(ia(a,p),l&4&&-1<Xf.indexOf(a)){for(;y!==null;){var w=wh(y);if(w!==null&&nh(w),w=Jl(a,l,c,p),w===null&&uv(a,l,p,xs,c),w===y)break;y=w}y!==null&&p.stopPropagation()}else uv(a,l,p,null,c)}}var xs=null;function Jl(a,l,c,p){if(xs=null,a=ql(p),a=_o(a),a!==null)if(l=Kr(a),l===null)a=null;else if(c=l.tag,c===13){if(a=Gc(l),a!==null)return a;a=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return xs=a,null}function Zl(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xy()){case Hl:return 1;case Xc:return 4;case mo:case Yc:return 16;case Gl:return 536870912;default:return 16}default:return 16}}var lr=null,eu=null,hi=null;function ep(){if(hi)return hi;var a,l=eu,c=l.length,p,y="value"in lr?lr.value:lr.textContent,w=y.length;for(a=0;a<c&&l[a]===y[a];a++);var P=c-a;for(p=1;p<=P&&l[c-p]===y[w-p];p++);return hi=y.slice(a,1<p?1-p:void 0)}function Eo(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Es(){return!0}function oh(){return!1}function kn(a){function l(c,p,y,w,P){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var V in a)a.hasOwnProperty(V)&&(c=a[V],this[V]=c?c(w):w[V]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Es:oh,this.isPropagationStopped=oh,this}return ae(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),l}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ko=kn(ks),la=ae({},ks,{view:0,detail:0}),tu=kn(la),nu,ru,ur,So=ae({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Be,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ur&&(ur&&a.type==="mousemove"?(nu=a.screenX-ur.screenX,ru=a.screenY-ur.screenY):ru=nu=0,ur=a),nu)},movementY:function(a){return"movementY"in a?a.movementY:ru}}),lh=kn(So),tp=ae({},So,{dataTransfer:0}),np=kn(tp),su=ae({},la,{relatedTarget:0}),fn=kn(su),rp=ae({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),sp=kn(rp),ua=ae({},ks,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),f=kn(ua),b=ae({},ks,{data:0}),S=kn(b),A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function he(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=ee[a])?!!l[a]:!1}function Be(){return he}var Ot=ae({},la,{key:function(a){if(a.key){var l=A[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Eo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Y[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Be,charCode:function(a){return a.type==="keypress"?Eo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Eo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ct=kn(Ot),Qt=ae({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cr=kn(Qt),ca=ae({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Be}),Ss=kn(ca),_s=ae({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),iu=kn(_s),uh=ae({},So,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),b4=kn(uh),x4=[9,13,27,32],Zy=u&&"CompositionEvent"in window,ch=null;u&&"documentMode"in document&&(ch=document.documentMode);var E4=u&&"TextEvent"in window&&!ch,SE=u&&(!Zy||ch&&8<ch&&11>=ch),_E=" ",TE=!1;function IE(a,l){switch(a){case"keyup":return x4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CE(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var au=!1;function k4(a,l){switch(a){case"compositionend":return CE(l);case"keypress":return l.which!==32?null:(TE=!0,_E);case"textInput":return a=l.data,a===_E&&TE?null:a;default:return null}}function S4(a,l){if(au)return a==="compositionend"||!Zy&&IE(a,l)?(a=ep(),hi=eu=lr=null,au=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return SE&&l.locale!=="ko"?null:l.data;default:return null}}var _4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PE(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!_4[a.type]:l==="textarea"}function NE(a,l,c,p){ea(p),l=up(l,"onChange"),0<l.length&&(c=new ko("onChange","change",null,c,p),a.push({event:c,listeners:l}))}var hh=null,dh=null;function T4(a){GE(a,0)}function ip(a){var l=hu(a);if(kr(l))return a}function I4(a,l){if(a==="change")return l}var DE=!1;if(u){var ev;if(u){var tv="oninput"in document;if(!tv){var RE=document.createElement("div");RE.setAttribute("oninput","return;"),tv=typeof RE.oninput=="function"}ev=tv}else ev=!1;DE=ev&&(!document.documentMode||9<document.documentMode)}function ME(){hh&&(hh.detachEvent("onpropertychange",AE),dh=hh=null)}function AE(a){if(a.propertyName==="value"&&ip(dh)){var l=[];NE(l,dh,a,ql(a)),Bf(T4,l)}}function C4(a,l,c){a==="focusin"?(ME(),hh=l,dh=c,hh.attachEvent("onpropertychange",AE)):a==="focusout"&&ME()}function P4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ip(dh)}function N4(a,l){if(a==="click")return ip(l)}function D4(a,l){if(a==="input"||a==="change")return ip(l)}function R4(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Hr=typeof Object.is=="function"?Object.is:R4;function fh(a,l){if(Hr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var c=Object.keys(a),p=Object.keys(l);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!h.call(l,y)||!Hr(a[y],l[y]))return!1}return!0}function OE(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function LE(a,l){var c=OE(a);a=0;for(var p;c;){if(c.nodeType===3){if(p=a+c.textContent.length,a<=l&&p>=l)return{node:c,offset:l-a};a=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=OE(c)}}function jE(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?jE(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function VE(){for(var a=window,l=Kn();l instanceof a.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)a=l.contentWindow;else break;l=Kn(a.document)}return l}function nv(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function M4(a){var l=VE(),c=a.focusedElem,p=a.selectionRange;if(l!==c&&c&&c.ownerDocument&&jE(c.ownerDocument.documentElement,c)){if(p!==null&&nv(c)){if(l=p.start,a=p.end,a===void 0&&(a=l),"selectionStart"in c)c.selectionStart=l,c.selectionEnd=Math.min(a,c.value.length);else if(a=(l=c.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var y=c.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!a.extend&&w>p&&(y=p,p=w,w=y),y=LE(c,w);var P=LE(c,p);y&&P&&(a.rangeCount!==1||a.anchorNode!==y.node||a.anchorOffset!==y.offset||a.focusNode!==P.node||a.focusOffset!==P.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),a.removeAllRanges(),w>p?(a.addRange(l),a.extend(P.node,P.offset)):(l.setEnd(P.node,P.offset),a.addRange(l)))}}for(l=[],a=c;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<l.length;c++)a=l[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var A4=u&&"documentMode"in document&&11>=document.documentMode,ou=null,rv=null,ph=null,sv=!1;function FE(a,l,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;sv||ou==null||ou!==Kn(p)||(p=ou,"selectionStart"in p&&nv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ph&&fh(ph,p)||(ph=p,p=up(rv,"onSelect"),0<p.length&&(l=new ko("onSelect","select",null,l,c),a.push({event:l,listeners:p}),l.target=ou)))}function ap(a,l){var c={};return c[a.toLowerCase()]=l.toLowerCase(),c["Webkit"+a]="webkit"+l,c["Moz"+a]="moz"+l,c}var lu={animationend:ap("Animation","AnimationEnd"),animationiteration:ap("Animation","AnimationIteration"),animationstart:ap("Animation","AnimationStart"),transitionend:ap("Transition","TransitionEnd")},iv={},UE={};u&&(UE=document.createElement("div").style,"AnimationEvent"in window||(delete lu.animationend.animation,delete lu.animationiteration.animation,delete lu.animationstart.animation),"TransitionEvent"in window||delete lu.transitionend.transition);function op(a){if(iv[a])return iv[a];if(!lu[a])return a;var l=lu[a],c;for(c in l)if(l.hasOwnProperty(c)&&c in UE)return iv[a]=l[c];return a}var zE=op("animationend"),BE=op("animationiteration"),$E=op("animationstart"),qE=op("transitionend"),KE=new Map,WE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ha(a,l){KE.set(a,l),i(l,[a])}for(var av=0;av<WE.length;av++){var ov=WE[av],O4=ov.toLowerCase(),L4=ov[0].toUpperCase()+ov.slice(1);ha(O4,"on"+L4)}ha(zE,"onAnimationEnd"),ha(BE,"onAnimationIteration"),ha($E,"onAnimationStart"),ha("dblclick","onDoubleClick"),ha("focusin","onFocus"),ha("focusout","onBlur"),ha(qE,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j4=new Set("cancel close invalid load scroll toggle".split(" ").concat(mh));function HE(a,l,c){var p=a.type||"unknown-event";a.currentTarget=c,Hc(p,l,void 0,a),a.currentTarget=null}function GE(a,l){l=(l&4)!==0;for(var c=0;c<a.length;c++){var p=a[c],y=p.event;p=p.listeners;e:{var w=void 0;if(l)for(var P=p.length-1;0<=P;P--){var V=p[P],z=V.instance,Z=V.currentTarget;if(V=V.listener,z!==w&&y.isPropagationStopped())break e;HE(y,V,Z),w=z}else for(P=0;P<p.length;P++){if(V=p[P],z=V.instance,Z=V.currentTarget,V=V.listener,z!==w&&y.isPropagationStopped())break e;HE(y,V,Z),w=z}}}if(Kl)throw a=Sr,Kl=!1,Sr=null,a}function mt(a,l){var c=l[mv];c===void 0&&(c=l[mv]=new Set);var p=a+"__bubble";c.has(p)||(QE(l,a,2,!1),c.add(p))}function lv(a,l,c){var p=0;l&&(p|=4),QE(c,a,p,l)}var lp="_reactListening"+Math.random().toString(36).slice(2);function gh(a){if(!a[lp]){a[lp]=!0,r.forEach(function(c){c!=="selectionchange"&&(j4.has(c)||lv(c,!1,a),lv(c,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[lp]||(l[lp]=!0,lv("selectionchange",!1,l))}}function QE(a,l,c,p){switch(Zl(l)){case 1:var y=bs;break;case 4:y=Zf;break;default:y=ah}c=y.bind(null,l,c,a),y=void 0,!na||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),p?y!==void 0?a.addEventListener(l,c,{capture:!0,passive:y}):a.addEventListener(l,c,!0):y!==void 0?a.addEventListener(l,c,{passive:y}):a.addEventListener(l,c,!1)}function uv(a,l,c,p,y){var w=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var V=p.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(P===4)for(P=p.return;P!==null;){var z=P.tag;if((z===3||z===4)&&(z=P.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;P=P.return}for(;V!==null;){if(P=_o(V),P===null)return;if(z=P.tag,z===5||z===6){p=w=P;continue e}V=V.parentNode}}p=p.return}Bf(function(){var Z=w,ie=ql(c),oe=[];e:{var se=KE.get(a);if(se!==void 0){var fe=ko,xe=a;switch(a){case"keypress":if(Eo(c)===0)break e;case"keydown":case"keyup":fe=ct;break;case"focusin":xe="focus",fe=fn;break;case"focusout":xe="blur",fe=fn;break;case"beforeblur":case"afterblur":fe=fn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=np;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Ss;break;case zE:case BE:case $E:fe=sp;break;case qE:fe=iu;break;case"scroll":fe=tu;break;case"wheel":fe=b4;break;case"copy":case"cut":case"paste":fe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=cr}var _e=(l&4)!==0,Lt=!_e&&a==="scroll",X=_e?se!==null?se+"Capture":null:se;_e=[];for(var K=Z,J;K!==null;){J=K;var ue=J.stateNode;if(J.tag===5&&ue!==null&&(J=ue,X!==null&&(ue=ho(K,X),ue!=null&&_e.push(yh(K,ue,J)))),Lt)break;K=K.return}0<_e.length&&(se=new fe(se,xe,null,c,ie),oe.push({event:se,listeners:_e}))}}if((l&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",fe=a==="mouseout"||a==="pointerout",se&&c!==Zi&&(xe=c.relatedTarget||c.fromElement)&&(_o(xe)||xe[di]))break e;if((fe||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,fe?(xe=c.relatedTarget||c.toElement,fe=Z,xe=xe?_o(xe):null,xe!==null&&(Lt=Kr(xe),xe!==Lt||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(fe=null,xe=Z),fe!==xe)){if(_e=lh,ue="onMouseLeave",X="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(_e=cr,ue="onPointerLeave",X="onPointerEnter",K="pointer"),Lt=fe==null?se:hu(fe),J=xe==null?se:hu(xe),se=new _e(ue,K+"leave",fe,c,ie),se.target=Lt,se.relatedTarget=J,ue=null,_o(ie)===Z&&(_e=new _e(X,K+"enter",xe,c,ie),_e.target=J,_e.relatedTarget=Lt,ue=_e),Lt=ue,fe&&xe)t:{for(_e=fe,X=xe,K=0,J=_e;J;J=uu(J))K++;for(J=0,ue=X;ue;ue=uu(ue))J++;for(;0<K-J;)_e=uu(_e),K--;for(;0<J-K;)X=uu(X),J--;for(;K--;){if(_e===X||X!==null&&_e===X.alternate)break t;_e=uu(_e),X=uu(X)}_e=null}else _e=null;fe!==null&&XE(oe,se,fe,_e,!1),xe!==null&&Lt!==null&&XE(oe,Lt,xe,_e,!0)}}e:{if(se=Z?hu(Z):window,fe=se.nodeName&&se.nodeName.toLowerCase(),fe==="select"||fe==="input"&&se.type==="file")var Te=I4;else if(PE(se))if(DE)Te=D4;else{Te=P4;var Ne=C4}else(fe=se.nodeName)&&fe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Te=N4);if(Te&&(Te=Te(a,Z))){NE(oe,Te,c,ie);break e}Ne&&Ne(a,se,Z),a==="focusout"&&(Ne=se._wrapperState)&&Ne.controlled&&se.type==="number"&&ft(se,"number",se.value)}switch(Ne=Z?hu(Z):window,a){case"focusin":(PE(Ne)||Ne.contentEditable==="true")&&(ou=Ne,rv=Z,ph=null);break;case"focusout":ph=rv=ou=null;break;case"mousedown":sv=!0;break;case"contextmenu":case"mouseup":case"dragend":sv=!1,FE(oe,c,ie);break;case"selectionchange":if(A4)break;case"keydown":case"keyup":FE(oe,c,ie)}var De;if(Zy)e:{switch(a){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else au?IE(a,c)&&(je="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(je="onCompositionStart");je&&(SE&&c.locale!=="ko"&&(au||je!=="onCompositionStart"?je==="onCompositionEnd"&&au&&(De=ep()):(lr=ie,eu="value"in lr?lr.value:lr.textContent,au=!0)),Ne=up(Z,je),0<Ne.length&&(je=new S(je,a,null,c,ie),oe.push({event:je,listeners:Ne}),De?je.data=De:(De=CE(c),De!==null&&(je.data=De)))),(De=E4?k4(a,c):S4(a,c))&&(Z=up(Z,"onBeforeInput"),0<Z.length&&(ie=new S("onBeforeInput","beforeinput",null,c,ie),oe.push({event:ie,listeners:Z}),ie.data=De))}GE(oe,l)})}function yh(a,l,c){return{instance:a,listener:l,currentTarget:c}}function up(a,l){for(var c=l+"Capture",p=[];a!==null;){var y=a,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=ho(a,c),w!=null&&p.unshift(yh(a,w,y)),w=ho(a,l),w!=null&&p.push(yh(a,w,y))),a=a.return}return p}function uu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function XE(a,l,c,p,y){for(var w=l._reactName,P=[];c!==null&&c!==p;){var V=c,z=V.alternate,Z=V.stateNode;if(z!==null&&z===p)break;V.tag===5&&Z!==null&&(V=Z,y?(z=ho(c,w),z!=null&&P.unshift(yh(c,z,V))):y||(z=ho(c,w),z!=null&&P.push(yh(c,z,V)))),c=c.return}P.length!==0&&a.push({event:l,listeners:P})}var V4=/\r\n?/g,F4=/\u0000|\uFFFD/g;function YE(a){return(typeof a=="string"?a:""+a).replace(V4,`
`).replace(F4,"")}function cp(a,l,c){if(l=YE(l),YE(a)!==l&&c)throw Error(n(425))}function hp(){}var cv=null,hv=null;function dv(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var fv=typeof setTimeout=="function"?setTimeout:void 0,U4=typeof clearTimeout=="function"?clearTimeout:void 0,JE=typeof Promise=="function"?Promise:void 0,z4=typeof queueMicrotask=="function"?queueMicrotask:typeof JE<"u"?function(a){return JE.resolve(null).then(a).catch(B4)}:fv;function B4(a){setTimeout(function(){throw a})}function pv(a,l){var c=l,p=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){a.removeChild(y),oa(l);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);oa(l)}function da(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function ZE(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return a;l--}else c==="/$"&&l++}a=a.previousSibling}return null}var cu=Math.random().toString(36).slice(2),Ts="__reactFiber$"+cu,vh="__reactProps$"+cu,di="__reactContainer$"+cu,mv="__reactEvents$"+cu,$4="__reactListeners$"+cu,q4="__reactHandles$"+cu;function _o(a){var l=a[Ts];if(l)return l;for(var c=a.parentNode;c;){if(l=c[di]||c[Ts]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(a=ZE(a);a!==null;){if(c=a[Ts])return c;a=ZE(a)}return l}a=c,c=a.parentNode}return null}function wh(a){return a=a[Ts]||a[di],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function hu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function dp(a){return a[vh]||null}var gv=[],du=-1;function fa(a){return{current:a}}function gt(a){0>du||(a.current=gv[du],gv[du]=null,du--)}function ht(a,l){du++,gv[du]=a.current,a.current=l}var pa={},Sn=fa(pa),Wn=fa(!1),To=pa;function fu(a,l){var c=a.type.contextTypes;if(!c)return pa;var p=a.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=l[w];return p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=y),y}function Hn(a){return a=a.childContextTypes,a!=null}function fp(){gt(Wn),gt(Sn)}function ek(a,l,c){if(Sn.current!==pa)throw Error(n(168));ht(Sn,l),ht(Wn,c)}function tk(a,l,c){var p=a.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in l))throw Error(n(108,Ce(a)||"Unknown",y));return ae({},c,p)}function pp(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||pa,To=Sn.current,ht(Sn,a),ht(Wn,Wn.current),!0}function nk(a,l,c){var p=a.stateNode;if(!p)throw Error(n(169));c?(a=tk(a,l,To),p.__reactInternalMemoizedMergedChildContext=a,gt(Wn),gt(Sn),ht(Sn,a)):gt(Wn),ht(Wn,c)}var fi=null,mp=!1,yv=!1;function rk(a){fi===null?fi=[a]:fi.push(a)}function K4(a){mp=!0,rk(a)}function ma(){if(!yv&&fi!==null){yv=!0;var a=0,l=Xe;try{var c=fi;for(Xe=1;a<c.length;a++){var p=c[a];do p=p(!0);while(p!==null)}fi=null,mp=!1}catch(y){throw fi!==null&&(fi=fi.slice(a+1)),Qc(Hl,ma),y}finally{Xe=l,yv=!1}}return null}var pu=[],mu=0,gp=null,yp=0,Tr=[],Ir=0,Io=null,pi=1,mi="";function Co(a,l){pu[mu++]=yp,pu[mu++]=gp,gp=a,yp=l}function sk(a,l,c){Tr[Ir++]=pi,Tr[Ir++]=mi,Tr[Ir++]=Io,Io=a;var p=pi;a=mi;var y=32-ar(p)-1;p&=~(1<<y),c+=1;var w=32-ar(l)+y;if(30<w){var P=y-y%5;w=(p&(1<<P)-1).toString(32),p>>=P,y-=P,pi=1<<32-ar(l)+y|c<<y|p,mi=w+a}else pi=1<<w|c<<y|p,mi=a}function vv(a){a.return!==null&&(Co(a,1),sk(a,1,0))}function wv(a){for(;a===gp;)gp=pu[--mu],pu[mu]=null,yp=pu[--mu],pu[mu]=null;for(;a===Io;)Io=Tr[--Ir],Tr[Ir]=null,mi=Tr[--Ir],Tr[Ir]=null,pi=Tr[--Ir],Tr[Ir]=null}var hr=null,dr=null,wt=!1,Gr=null;function ik(a,l){var c=Dr(5,null,null,0);c.elementType="DELETED",c.stateNode=l,c.return=a,l=a.deletions,l===null?(a.deletions=[c],a.flags|=16):l.push(c)}function ak(a,l){switch(a.tag){case 5:var c=a.type;return l=l.nodeType!==1||c.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,hr=a,dr=da(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,hr=a,dr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(c=Io!==null?{id:pi,overflow:mi}:null,a.memoizedState={dehydrated:l,treeContext:c,retryLane:1073741824},c=Dr(18,null,null,0),c.stateNode=l,c.return=a,a.child=c,hr=a,dr=null,!0):!1;default:return!1}}function bv(a){return(a.mode&1)!==0&&(a.flags&128)===0}function xv(a){if(wt){var l=dr;if(l){var c=l;if(!ak(a,l)){if(bv(a))throw Error(n(418));l=da(c.nextSibling);var p=hr;l&&ak(a,l)?ik(p,c):(a.flags=a.flags&-4097|2,wt=!1,hr=a)}}else{if(bv(a))throw Error(n(418));a.flags=a.flags&-4097|2,wt=!1,hr=a}}}function ok(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;hr=a}function vp(a){if(a!==hr)return!1;if(!wt)return ok(a),wt=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!dv(a.type,a.memoizedProps)),l&&(l=dr)){if(bv(a))throw lk(),Error(n(418));for(;l;)ik(a,l),l=da(l.nextSibling)}if(ok(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"){if(l===0){dr=da(a.nextSibling);break e}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++}a=a.nextSibling}dr=null}}else dr=hr?da(a.stateNode.nextSibling):null;return!0}function lk(){for(var a=dr;a;)a=da(a.nextSibling)}function gu(){dr=hr=null,wt=!1}function Ev(a){Gr===null?Gr=[a]:Gr.push(a)}var W4=U.ReactCurrentBatchConfig;function bh(a,l,c){if(a=c.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,a));var y=p,w=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(P){var V=y.refs;P===null?delete V[w]:V[w]=P},l._stringRef=w,l)}if(typeof a!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,a))}return a}function wp(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function uk(a){var l=a._init;return l(a._payload)}function ck(a){function l(X,K){if(a){var J=X.deletions;J===null?(X.deletions=[K],X.flags|=16):J.push(K)}}function c(X,K){if(!a)return null;for(;K!==null;)l(X,K),K=K.sibling;return null}function p(X,K){for(X=new Map;K!==null;)K.key!==null?X.set(K.key,K):X.set(K.index,K),K=K.sibling;return X}function y(X,K){return X=ka(X,K),X.index=0,X.sibling=null,X}function w(X,K,J){return X.index=J,a?(J=X.alternate,J!==null?(J=J.index,J<K?(X.flags|=2,K):J):(X.flags|=2,K)):(X.flags|=1048576,K)}function P(X){return a&&X.alternate===null&&(X.flags|=2),X}function V(X,K,J,ue){return K===null||K.tag!==6?(K=d0(J,X.mode,ue),K.return=X,K):(K=y(K,J),K.return=X,K)}function z(X,K,J,ue){var Te=J.type;return Te===M?ie(X,K,J.props.children,ue,J.key):K!==null&&(K.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ye&&uk(Te)===K.type)?(ue=y(K,J.props),ue.ref=bh(X,K,J),ue.return=X,ue):(ue=$p(J.type,J.key,J.props,null,X.mode,ue),ue.ref=bh(X,K,J),ue.return=X,ue)}function Z(X,K,J,ue){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=f0(J,X.mode,ue),K.return=X,K):(K=y(K,J.children||[]),K.return=X,K)}function ie(X,K,J,ue,Te){return K===null||K.tag!==7?(K=Lo(J,X.mode,ue,Te),K.return=X,K):(K=y(K,J),K.return=X,K)}function oe(X,K,J){if(typeof K=="string"&&K!==""||typeof K=="number")return K=d0(""+K,X.mode,J),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return J=$p(K.type,K.key,K.props,null,X.mode,J),J.ref=bh(X,null,K),J.return=X,J;case H:return K=f0(K,X.mode,J),K.return=X,K;case ye:var ue=K._init;return oe(X,ue(K._payload),J)}if(At(K)||ne(K))return K=Lo(K,X.mode,J,null),K.return=X,K;wp(X,K)}return null}function se(X,K,J,ue){var Te=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Te!==null?null:V(X,K,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case B:return J.key===Te?z(X,K,J,ue):null;case H:return J.key===Te?Z(X,K,J,ue):null;case ye:return Te=J._init,se(X,K,Te(J._payload),ue)}if(At(J)||ne(J))return Te!==null?null:ie(X,K,J,ue,null);wp(X,J)}return null}function fe(X,K,J,ue,Te){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return X=X.get(J)||null,V(K,X,""+ue,Te);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case B:return X=X.get(ue.key===null?J:ue.key)||null,z(K,X,ue,Te);case H:return X=X.get(ue.key===null?J:ue.key)||null,Z(K,X,ue,Te);case ye:var Ne=ue._init;return fe(X,K,J,Ne(ue._payload),Te)}if(At(ue)||ne(ue))return X=X.get(J)||null,ie(K,X,ue,Te,null);wp(K,ue)}return null}function xe(X,K,J,ue){for(var Te=null,Ne=null,De=K,je=K=0,un=null;De!==null&&je<J.length;je++){De.index>je?(un=De,De=null):un=De.sibling;var nt=se(X,De,J[je],ue);if(nt===null){De===null&&(De=un);break}a&&De&&nt.alternate===null&&l(X,De),K=w(nt,K,je),Ne===null?Te=nt:Ne.sibling=nt,Ne=nt,De=un}if(je===J.length)return c(X,De),wt&&Co(X,je),Te;if(De===null){for(;je<J.length;je++)De=oe(X,J[je],ue),De!==null&&(K=w(De,K,je),Ne===null?Te=De:Ne.sibling=De,Ne=De);return wt&&Co(X,je),Te}for(De=p(X,De);je<J.length;je++)un=fe(De,X,je,J[je],ue),un!==null&&(a&&un.alternate!==null&&De.delete(un.key===null?je:un.key),K=w(un,K,je),Ne===null?Te=un:Ne.sibling=un,Ne=un);return a&&De.forEach(function(Sa){return l(X,Sa)}),wt&&Co(X,je),Te}function _e(X,K,J,ue){var Te=ne(J);if(typeof Te!="function")throw Error(n(150));if(J=Te.call(J),J==null)throw Error(n(151));for(var Ne=Te=null,De=K,je=K=0,un=null,nt=J.next();De!==null&&!nt.done;je++,nt=J.next()){De.index>je?(un=De,De=null):un=De.sibling;var Sa=se(X,De,nt.value,ue);if(Sa===null){De===null&&(De=un);break}a&&De&&Sa.alternate===null&&l(X,De),K=w(Sa,K,je),Ne===null?Te=Sa:Ne.sibling=Sa,Ne=Sa,De=un}if(nt.done)return c(X,De),wt&&Co(X,je),Te;if(De===null){for(;!nt.done;je++,nt=J.next())nt=oe(X,nt.value,ue),nt!==null&&(K=w(nt,K,je),Ne===null?Te=nt:Ne.sibling=nt,Ne=nt);return wt&&Co(X,je),Te}for(De=p(X,De);!nt.done;je++,nt=J.next())nt=fe(De,X,je,nt.value,ue),nt!==null&&(a&&nt.alternate!==null&&De.delete(nt.key===null?je:nt.key),K=w(nt,K,je),Ne===null?Te=nt:Ne.sibling=nt,Ne=nt);return a&&De.forEach(function(_j){return l(X,_j)}),wt&&Co(X,je),Te}function Lt(X,K,J,ue){if(typeof J=="object"&&J!==null&&J.type===M&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case B:e:{for(var Te=J.key,Ne=K;Ne!==null;){if(Ne.key===Te){if(Te=J.type,Te===M){if(Ne.tag===7){c(X,Ne.sibling),K=y(Ne,J.props.children),K.return=X,X=K;break e}}else if(Ne.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ye&&uk(Te)===Ne.type){c(X,Ne.sibling),K=y(Ne,J.props),K.ref=bh(X,Ne,J),K.return=X,X=K;break e}c(X,Ne);break}else l(X,Ne);Ne=Ne.sibling}J.type===M?(K=Lo(J.props.children,X.mode,ue,J.key),K.return=X,X=K):(ue=$p(J.type,J.key,J.props,null,X.mode,ue),ue.ref=bh(X,K,J),ue.return=X,X=ue)}return P(X);case H:e:{for(Ne=J.key;K!==null;){if(K.key===Ne)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){c(X,K.sibling),K=y(K,J.children||[]),K.return=X,X=K;break e}else{c(X,K);break}else l(X,K);K=K.sibling}K=f0(J,X.mode,ue),K.return=X,X=K}return P(X);case ye:return Ne=J._init,Lt(X,K,Ne(J._payload),ue)}if(At(J))return xe(X,K,J,ue);if(ne(J))return _e(X,K,J,ue);wp(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,K!==null&&K.tag===6?(c(X,K.sibling),K=y(K,J),K.return=X,X=K):(c(X,K),K=d0(J,X.mode,ue),K.return=X,X=K),P(X)):c(X,K)}return Lt}var yu=ck(!0),hk=ck(!1),bp=fa(null),xp=null,vu=null,kv=null;function Sv(){kv=vu=xp=null}function _v(a){var l=bp.current;gt(bp),a._currentValue=l}function Tv(a,l,c){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===c)break;a=a.return}}function wu(a,l){xp=a,kv=vu=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(Gn=!0),a.firstContext=null)}function Cr(a){var l=a._currentValue;if(kv!==a)if(a={context:a,memoizedValue:l,next:null},vu===null){if(xp===null)throw Error(n(308));vu=a,xp.dependencies={lanes:0,firstContext:a}}else vu=vu.next=a;return l}var Po=null;function Iv(a){Po===null?Po=[a]:Po.push(a)}function dk(a,l,c,p){var y=l.interleaved;return y===null?(c.next=c,Iv(l)):(c.next=y.next,y.next=c),l.interleaved=c,gi(a,p)}function gi(a,l){a.lanes|=l;var c=a.alternate;for(c!==null&&(c.lanes|=l),c=a,a=a.return;a!==null;)a.childLanes|=l,c=a.alternate,c!==null&&(c.childLanes|=l),c=a,a=a.return;return c.tag===3?c.stateNode:null}var ga=!1;function Cv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fk(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function yi(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function ya(a,l,c){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(tt&2)!==0){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,gi(a,c)}return y=p.interleaved,y===null?(l.next=l,Iv(p)):(l.next=y.next,y.next=l),p.interleaved=l,gi(a,c)}function Ep(a,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194240)!==0)){var p=l.lanes;p&=a.pendingLanes,c|=p,l.lanes=c,th(a,c)}}function pk(a,l){var c=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=P:w=w.next=P,c=c.next}while(c!==null);w===null?y=w=l:w=w.next=l}else y=w=l;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=l}function kp(a,l,c,p){var y=a.updateQueue;ga=!1;var w=y.firstBaseUpdate,P=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var z=V,Z=z.next;z.next=null,P===null?w=Z:P.next=Z,P=z;var ie=a.alternate;ie!==null&&(ie=ie.updateQueue,V=ie.lastBaseUpdate,V!==P&&(V===null?ie.firstBaseUpdate=Z:V.next=Z,ie.lastBaseUpdate=z))}if(w!==null){var oe=y.baseState;P=0,ie=Z=z=null,V=w;do{var se=V.lane,fe=V.eventTime;if((p&se)===se){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var xe=a,_e=V;switch(se=l,fe=c,_e.tag){case 1:if(xe=_e.payload,typeof xe=="function"){oe=xe.call(fe,oe,se);break e}oe=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=_e.payload,se=typeof xe=="function"?xe.call(fe,oe,se):xe,se==null)break e;oe=ae({},oe,se);break e;case 2:ga=!0}}V.callback!==null&&V.lane!==0&&(a.flags|=64,se=y.effects,se===null?y.effects=[V]:se.push(V))}else fe={eventTime:fe,lane:se,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ie===null?(Z=ie=fe,z=oe):ie=ie.next=fe,P|=se;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;se=V,V=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);if(ie===null&&(z=oe),y.baseState=z,y.firstBaseUpdate=Z,y.lastBaseUpdate=ie,l=y.shared.interleaved,l!==null){y=l;do P|=y.lane,y=y.next;while(y!==l)}else w===null&&(y.shared.lanes=0);Ro|=P,a.lanes=P,a.memoizedState=oe}}function mk(a,l,c){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var p=a[l],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var xh={},Is=fa(xh),Eh=fa(xh),kh=fa(xh);function No(a){if(a===xh)throw Error(n(174));return a}function Pv(a,l){switch(ht(kh,l),ht(Eh,a),ht(Is,xh),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:zl(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=zl(l,a)}gt(Is),ht(Is,l)}function bu(){gt(Is),gt(Eh),gt(kh)}function gk(a){No(kh.current);var l=No(Is.current),c=zl(l,a.type);l!==c&&(ht(Eh,a),ht(Is,c))}function Nv(a){Eh.current===a&&(gt(Is),gt(Eh))}var kt=fa(0);function Sp(a){for(var l=a;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Dv=[];function Rv(){for(var a=0;a<Dv.length;a++)Dv[a]._workInProgressVersionPrimary=null;Dv.length=0}var _p=U.ReactCurrentDispatcher,Mv=U.ReactCurrentBatchConfig,Do=0,St=null,tn=null,on=null,Tp=!1,Sh=!1,_h=0,H4=0;function _n(){throw Error(n(321))}function Av(a,l){if(l===null)return!1;for(var c=0;c<l.length&&c<a.length;c++)if(!Hr(a[c],l[c]))return!1;return!0}function Ov(a,l,c,p,y,w){if(Do=w,St=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,_p.current=a===null||a.memoizedState===null?Y4:J4,a=c(p,y),Sh){w=0;do{if(Sh=!1,_h=0,25<=w)throw Error(n(301));w+=1,on=tn=null,l.updateQueue=null,_p.current=Z4,a=c(p,y)}while(Sh)}if(_p.current=Pp,l=tn!==null&&tn.next!==null,Do=0,on=tn=St=null,Tp=!1,l)throw Error(n(300));return a}function Lv(){var a=_h!==0;return _h=0,a}function Cs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?St.memoizedState=on=a:on=on.next=a,on}function Pr(){if(tn===null){var a=St.alternate;a=a!==null?a.memoizedState:null}else a=tn.next;var l=on===null?St.memoizedState:on.next;if(l!==null)on=l,tn=a;else{if(a===null)throw Error(n(310));tn=a,a={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},on===null?St.memoizedState=on=a:on=on.next=a}return on}function Th(a,l){return typeof l=="function"?l(a):l}function jv(a){var l=Pr(),c=l.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var p=tn,y=p.baseQueue,w=c.pending;if(w!==null){if(y!==null){var P=y.next;y.next=w.next,w.next=P}p.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,p=p.baseState;var V=P=null,z=null,Z=w;do{var ie=Z.lane;if((Do&ie)===ie)z!==null&&(z=z.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),p=Z.hasEagerState?Z.eagerState:a(p,Z.action);else{var oe={lane:ie,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};z===null?(V=z=oe,P=p):z=z.next=oe,St.lanes|=ie,Ro|=ie}Z=Z.next}while(Z!==null&&Z!==w);z===null?P=p:z.next=V,Hr(p,l.memoizedState)||(Gn=!0),l.memoizedState=p,l.baseState=P,l.baseQueue=z,c.lastRenderedState=p}if(a=c.interleaved,a!==null){y=a;do w=y.lane,St.lanes|=w,Ro|=w,y=y.next;while(y!==a)}else y===null&&(c.lanes=0);return[l.memoizedState,c.dispatch]}function Vv(a){var l=Pr(),c=l.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var p=c.dispatch,y=c.pending,w=l.memoizedState;if(y!==null){c.pending=null;var P=y=y.next;do w=a(w,P.action),P=P.next;while(P!==y);Hr(w,l.memoizedState)||(Gn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),c.lastRenderedState=w}return[w,p]}function yk(){}function vk(a,l){var c=St,p=Pr(),y=l(),w=!Hr(p.memoizedState,y);if(w&&(p.memoizedState=y,Gn=!0),p=p.queue,Fv(xk.bind(null,c,p,a),[a]),p.getSnapshot!==l||w||on!==null&&on.memoizedState.tag&1){if(c.flags|=2048,Ih(9,bk.bind(null,c,p,y,l),void 0,null),ln===null)throw Error(n(349));(Do&30)!==0||wk(c,l,y)}return y}function wk(a,l,c){a.flags|=16384,a={getSnapshot:l,value:c},l=St.updateQueue,l===null?(l={lastEffect:null,stores:null},St.updateQueue=l,l.stores=[a]):(c=l.stores,c===null?l.stores=[a]:c.push(a))}function bk(a,l,c,p){l.value=c,l.getSnapshot=p,Ek(l)&&kk(a)}function xk(a,l,c){return c(function(){Ek(l)&&kk(a)})}function Ek(a){var l=a.getSnapshot;a=a.value;try{var c=l();return!Hr(a,c)}catch{return!0}}function kk(a){var l=gi(a,1);l!==null&&Jr(l,a,1,-1)}function Sk(a){var l=Cs();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Th,lastRenderedState:a},l.queue=a,a=a.dispatch=X4.bind(null,St,a),[l.memoizedState,a]}function Ih(a,l,c,p){return a={tag:a,create:l,destroy:c,deps:p,next:null},l=St.updateQueue,l===null?(l={lastEffect:null,stores:null},St.updateQueue=l,l.lastEffect=a.next=a):(c=l.lastEffect,c===null?l.lastEffect=a.next=a:(p=c.next,c.next=a,a.next=p,l.lastEffect=a)),a}function _k(){return Pr().memoizedState}function Ip(a,l,c,p){var y=Cs();St.flags|=a,y.memoizedState=Ih(1|l,c,void 0,p===void 0?null:p)}function Cp(a,l,c,p){var y=Pr();p=p===void 0?null:p;var w=void 0;if(tn!==null){var P=tn.memoizedState;if(w=P.destroy,p!==null&&Av(p,P.deps)){y.memoizedState=Ih(l,c,w,p);return}}St.flags|=a,y.memoizedState=Ih(1|l,c,w,p)}function Tk(a,l){return Ip(8390656,8,a,l)}function Fv(a,l){return Cp(2048,8,a,l)}function Ik(a,l){return Cp(4,2,a,l)}function Ck(a,l){return Cp(4,4,a,l)}function Pk(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Nk(a,l,c){return c=c!=null?c.concat([a]):null,Cp(4,4,Pk.bind(null,l,a),c)}function Uv(){}function Dk(a,l){var c=Pr();l=l===void 0?null:l;var p=c.memoizedState;return p!==null&&l!==null&&Av(l,p[1])?p[0]:(c.memoizedState=[a,l],a)}function Rk(a,l){var c=Pr();l=l===void 0?null:l;var p=c.memoizedState;return p!==null&&l!==null&&Av(l,p[1])?p[0]:(a=a(),c.memoizedState=[a,l],a)}function Mk(a,l,c){return(Do&21)===0?(a.baseState&&(a.baseState=!1,Gn=!0),a.memoizedState=c):(Hr(c,l)||(c=Zc(),St.lanes|=c,Ro|=c,a.baseState=!0),l)}function G4(a,l){var c=Xe;Xe=c!==0&&4>c?c:4,a(!0);var p=Mv.transition;Mv.transition={};try{a(!1),l()}finally{Xe=c,Mv.transition=p}}function Ak(){return Pr().memoizedState}function Q4(a,l,c){var p=xa(a);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Ok(a))Lk(l,c);else if(c=dk(a,l,c,p),c!==null){var y=On();Jr(c,a,p,y),jk(c,l,p)}}function X4(a,l,c){var p=xa(a),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ok(a))Lk(l,y);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var P=l.lastRenderedState,V=w(P,c);if(y.hasEagerState=!0,y.eagerState=V,Hr(V,P)){var z=l.interleaved;z===null?(y.next=y,Iv(l)):(y.next=z.next,z.next=y),l.interleaved=y;return}}catch{}finally{}c=dk(a,l,y,p),c!==null&&(y=On(),Jr(c,a,p,y),jk(c,l,p))}}function Ok(a){var l=a.alternate;return a===St||l!==null&&l===St}function Lk(a,l){Sh=Tp=!0;var c=a.pending;c===null?l.next=l:(l.next=c.next,c.next=l),a.pending=l}function jk(a,l,c){if((c&4194240)!==0){var p=l.lanes;p&=a.pendingLanes,c|=p,l.lanes=c,th(a,c)}}var Pp={readContext:Cr,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},Y4={readContext:Cr,useCallback:function(a,l){return Cs().memoizedState=[a,l===void 0?null:l],a},useContext:Cr,useEffect:Tk,useImperativeHandle:function(a,l,c){return c=c!=null?c.concat([a]):null,Ip(4194308,4,Pk.bind(null,l,a),c)},useLayoutEffect:function(a,l){return Ip(4194308,4,a,l)},useInsertionEffect:function(a,l){return Ip(4,2,a,l)},useMemo:function(a,l){var c=Cs();return l=l===void 0?null:l,a=a(),c.memoizedState=[a,l],a},useReducer:function(a,l,c){var p=Cs();return l=c!==void 0?c(l):l,p.memoizedState=p.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},p.queue=a,a=a.dispatch=Q4.bind(null,St,a),[p.memoizedState,a]},useRef:function(a){var l=Cs();return a={current:a},l.memoizedState=a},useState:Sk,useDebugValue:Uv,useDeferredValue:function(a){return Cs().memoizedState=a},useTransition:function(){var a=Sk(!1),l=a[0];return a=G4.bind(null,a[1]),Cs().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,c){var p=St,y=Cs();if(wt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=l(),ln===null)throw Error(n(349));(Do&30)!==0||wk(p,l,c)}y.memoizedState=c;var w={value:c,getSnapshot:l};return y.queue=w,Tk(xk.bind(null,p,w,a),[a]),p.flags|=2048,Ih(9,bk.bind(null,p,w,c,l),void 0,null),c},useId:function(){var a=Cs(),l=ln.identifierPrefix;if(wt){var c=mi,p=pi;c=(p&~(1<<32-ar(p)-1)).toString(32)+c,l=":"+l+"R"+c,c=_h++,0<c&&(l+="H"+c.toString(32)),l+=":"}else c=H4++,l=":"+l+"r"+c.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},J4={readContext:Cr,useCallback:Dk,useContext:Cr,useEffect:Fv,useImperativeHandle:Nk,useInsertionEffect:Ik,useLayoutEffect:Ck,useMemo:Rk,useReducer:jv,useRef:_k,useState:function(){return jv(Th)},useDebugValue:Uv,useDeferredValue:function(a){var l=Pr();return Mk(l,tn.memoizedState,a)},useTransition:function(){var a=jv(Th)[0],l=Pr().memoizedState;return[a,l]},useMutableSource:yk,useSyncExternalStore:vk,useId:Ak,unstable_isNewReconciler:!1},Z4={readContext:Cr,useCallback:Dk,useContext:Cr,useEffect:Fv,useImperativeHandle:Nk,useInsertionEffect:Ik,useLayoutEffect:Ck,useMemo:Rk,useReducer:Vv,useRef:_k,useState:function(){return Vv(Th)},useDebugValue:Uv,useDeferredValue:function(a){var l=Pr();return tn===null?l.memoizedState=a:Mk(l,tn.memoizedState,a)},useTransition:function(){var a=Vv(Th)[0],l=Pr().memoizedState;return[a,l]},useMutableSource:yk,useSyncExternalStore:vk,useId:Ak,unstable_isNewReconciler:!1};function Qr(a,l){if(a&&a.defaultProps){l=ae({},l),a=a.defaultProps;for(var c in a)l[c]===void 0&&(l[c]=a[c]);return l}return l}function zv(a,l,c,p){l=a.memoizedState,c=c(p,l),c=c==null?l:ae({},l,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Np={isMounted:function(a){return(a=a._reactInternals)?Kr(a)===a:!1},enqueueSetState:function(a,l,c){a=a._reactInternals;var p=On(),y=xa(a),w=yi(p,y);w.payload=l,c!=null&&(w.callback=c),l=ya(a,w,y),l!==null&&(Jr(l,a,y,p),Ep(l,a,y))},enqueueReplaceState:function(a,l,c){a=a._reactInternals;var p=On(),y=xa(a),w=yi(p,y);w.tag=1,w.payload=l,c!=null&&(w.callback=c),l=ya(a,w,y),l!==null&&(Jr(l,a,y,p),Ep(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var c=On(),p=xa(a),y=yi(c,p);y.tag=2,l!=null&&(y.callback=l),l=ya(a,y,p),l!==null&&(Jr(l,a,p,c),Ep(l,a,p))}};function Vk(a,l,c,p,y,w,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,w,P):l.prototype&&l.prototype.isPureReactComponent?!fh(c,p)||!fh(y,w):!0}function Fk(a,l,c){var p=!1,y=pa,w=l.contextType;return typeof w=="object"&&w!==null?w=Cr(w):(y=Hn(l)?To:Sn.current,p=l.contextTypes,w=(p=p!=null)?fu(a,y):pa),l=new l(c,w),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Np,a.stateNode=l,l._reactInternals=a,p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=w),l}function Uk(a,l,c,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,p),l.state!==a&&Np.enqueueReplaceState(l,l.state,null)}function Bv(a,l,c,p){var y=a.stateNode;y.props=c,y.state=a.memoizedState,y.refs={},Cv(a);var w=l.contextType;typeof w=="object"&&w!==null?y.context=Cr(w):(w=Hn(l)?To:Sn.current,y.context=fu(a,w)),y.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(zv(a,l,w,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Np.enqueueReplaceState(y,y.state,null),kp(a,c,y,p),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function xu(a,l){try{var c="",p=l;do c+=Me(p),p=p.return;while(p);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:a,source:l,stack:y,digest:null}}function $v(a,l,c){return{value:a,source:null,stack:c??null,digest:l??null}}function qv(a,l){try{console.error(l.value)}catch(c){setTimeout(function(){throw c})}}var ej=typeof WeakMap=="function"?WeakMap:Map;function zk(a,l,c){c=yi(-1,c),c.tag=3,c.payload={element:null};var p=l.value;return c.callback=function(){jp||(jp=!0,s0=p),qv(a,l)},c}function Bk(a,l,c){c=yi(-1,c),c.tag=3;var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;c.payload=function(){return p(y)},c.callback=function(){qv(a,l)}}var w=a.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){qv(a,l),typeof p!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})}),c}function $k(a,l,c){var p=a.pingCache;if(p===null){p=a.pingCache=new ej;var y=new Set;p.set(l,y)}else y=p.get(l),y===void 0&&(y=new Set,p.set(l,y));y.has(c)||(y.add(c),a=pj.bind(null,a,l,c),l.then(a,a))}function qk(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function Kk(a,l,c,p,y){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(l=yi(-1,1),l.tag=2,ya(c,l,1))),c.lanes|=1),a):(a.flags|=65536,a.lanes=y,a)}var tj=U.ReactCurrentOwner,Gn=!1;function An(a,l,c,p){l.child=a===null?hk(l,null,c,p):yu(l,a.child,c,p)}function Wk(a,l,c,p,y){c=c.render;var w=l.ref;return wu(l,y),p=Ov(a,l,c,p,w,y),c=Lv(),a!==null&&!Gn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,vi(a,l,y)):(wt&&c&&vv(l),l.flags|=1,An(a,l,p,y),l.child)}function Hk(a,l,c,p,y){if(a===null){var w=c.type;return typeof w=="function"&&!h0(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(l.tag=15,l.type=w,Gk(a,l,w,p,y)):(a=$p(c.type,null,p,l,l.mode,y),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,(a.lanes&y)===0){var P=w.memoizedProps;if(c=c.compare,c=c!==null?c:fh,c(P,p)&&a.ref===l.ref)return vi(a,l,y)}return l.flags|=1,a=ka(w,p),a.ref=l.ref,a.return=l,l.child=a}function Gk(a,l,c,p,y){if(a!==null){var w=a.memoizedProps;if(fh(w,p)&&a.ref===l.ref)if(Gn=!1,l.pendingProps=p=w,(a.lanes&y)!==0)(a.flags&131072)!==0&&(Gn=!0);else return l.lanes=a.lanes,vi(a,l,y)}return Kv(a,l,c,p,y)}function Qk(a,l,c){var p=l.pendingProps,y=p.children,w=a!==null?a.memoizedState:null;if(p.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(ku,fr),fr|=c;else{if((c&1073741824)===0)return a=w!==null?w.baseLanes|c:c,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,ht(ku,fr),fr|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,ht(ku,fr),fr|=p}else w!==null?(p=w.baseLanes|c,l.memoizedState=null):p=c,ht(ku,fr),fr|=p;return An(a,l,y,c),l.child}function Xk(a,l){var c=l.ref;(a===null&&c!==null||a!==null&&a.ref!==c)&&(l.flags|=512,l.flags|=2097152)}function Kv(a,l,c,p,y){var w=Hn(c)?To:Sn.current;return w=fu(l,w),wu(l,y),c=Ov(a,l,c,p,w,y),p=Lv(),a!==null&&!Gn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,vi(a,l,y)):(wt&&p&&vv(l),l.flags|=1,An(a,l,c,y),l.child)}function Yk(a,l,c,p,y){if(Hn(c)){var w=!0;pp(l)}else w=!1;if(wu(l,y),l.stateNode===null)Rp(a,l),Fk(l,c,p),Bv(l,c,p,y),p=!0;else if(a===null){var P=l.stateNode,V=l.memoizedProps;P.props=V;var z=P.context,Z=c.contextType;typeof Z=="object"&&Z!==null?Z=Cr(Z):(Z=Hn(c)?To:Sn.current,Z=fu(l,Z));var ie=c.getDerivedStateFromProps,oe=typeof ie=="function"||typeof P.getSnapshotBeforeUpdate=="function";oe||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(V!==p||z!==Z)&&Uk(l,P,p,Z),ga=!1;var se=l.memoizedState;P.state=se,kp(l,p,P,y),z=l.memoizedState,V!==p||se!==z||Wn.current||ga?(typeof ie=="function"&&(zv(l,c,ie,p),z=l.memoizedState),(V=ga||Vk(l,c,V,p,se,z,Z))?(oe||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(l.flags|=4194308)):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=z),P.props=p,P.state=z,P.context=Z,p=V):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{P=l.stateNode,fk(a,l),V=l.memoizedProps,Z=l.type===l.elementType?V:Qr(l.type,V),P.props=Z,oe=l.pendingProps,se=P.context,z=c.contextType,typeof z=="object"&&z!==null?z=Cr(z):(z=Hn(c)?To:Sn.current,z=fu(l,z));var fe=c.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(V!==oe||se!==z)&&Uk(l,P,p,z),ga=!1,se=l.memoizedState,P.state=se,kp(l,p,P,y);var xe=l.memoizedState;V!==oe||se!==xe||Wn.current||ga?(typeof fe=="function"&&(zv(l,c,fe,p),xe=l.memoizedState),(Z=ga||Vk(l,c,Z,p,se,xe,z)||!1)?(ie||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(p,xe,z),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(p,xe,z)),typeof P.componentDidUpdate=="function"&&(l.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof P.componentDidUpdate!="function"||V===a.memoizedProps&&se===a.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&se===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=xe),P.props=p,P.state=xe,P.context=z,p=Z):(typeof P.componentDidUpdate!="function"||V===a.memoizedProps&&se===a.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&se===a.memoizedState||(l.flags|=1024),p=!1)}return Wv(a,l,c,p,w,y)}function Wv(a,l,c,p,y,w){Xk(a,l);var P=(l.flags&128)!==0;if(!p&&!P)return y&&nk(l,c,!1),vi(a,l,w);p=l.stateNode,tj.current=l;var V=P&&typeof c.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,a!==null&&P?(l.child=yu(l,a.child,null,w),l.child=yu(l,null,V,w)):An(a,l,V,w),l.memoizedState=p.state,y&&nk(l,c,!0),l.child}function Jk(a){var l=a.stateNode;l.pendingContext?ek(a,l.pendingContext,l.pendingContext!==l.context):l.context&&ek(a,l.context,!1),Pv(a,l.containerInfo)}function Zk(a,l,c,p,y){return gu(),Ev(y),l.flags|=256,An(a,l,c,p),l.child}var Hv={dehydrated:null,treeContext:null,retryLane:0};function Gv(a){return{baseLanes:a,cachePool:null,transitions:null}}function eS(a,l,c){var p=l.pendingProps,y=kt.current,w=!1,P=(l.flags&128)!==0,V;if((V=P)||(V=a!==null&&a.memoizedState===null?!1:(y&2)!==0),V?(w=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(y|=1),ht(kt,y&1),a===null)return xv(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(P=p.children,a=p.fallback,w?(p=l.mode,w=l.child,P={mode:"hidden",children:P},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=P):w=qp(P,p,0,null),a=Lo(a,p,c,null),w.return=l,a.return=l,w.sibling=a,l.child=w,l.child.memoizedState=Gv(c),l.memoizedState=Hv,a):Qv(l,P));if(y=a.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return nj(a,l,P,p,V,y,c);if(w){w=p.fallback,P=l.mode,y=a.child,V=y.sibling;var z={mode:"hidden",children:p.children};return(P&1)===0&&l.child!==y?(p=l.child,p.childLanes=0,p.pendingProps=z,l.deletions=null):(p=ka(y,z),p.subtreeFlags=y.subtreeFlags&14680064),V!==null?w=ka(V,w):(w=Lo(w,P,c,null),w.flags|=2),w.return=l,p.return=l,p.sibling=w,l.child=p,p=w,w=l.child,P=a.child.memoizedState,P=P===null?Gv(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},w.memoizedState=P,w.childLanes=a.childLanes&~c,l.memoizedState=Hv,p}return w=a.child,a=w.sibling,p=ka(w,{mode:"visible",children:p.children}),(l.mode&1)===0&&(p.lanes=c),p.return=l,p.sibling=null,a!==null&&(c=l.deletions,c===null?(l.deletions=[a],l.flags|=16):c.push(a)),l.child=p,l.memoizedState=null,p}function Qv(a,l){return l=qp({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Dp(a,l,c,p){return p!==null&&Ev(p),yu(l,a.child,null,c),a=Qv(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function nj(a,l,c,p,y,w,P){if(c)return l.flags&256?(l.flags&=-257,p=$v(Error(n(422))),Dp(a,l,P,p)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(w=p.fallback,y=l.mode,p=qp({mode:"visible",children:p.children},y,0,null),w=Lo(w,y,P,null),w.flags|=2,p.return=l,w.return=l,p.sibling=w,l.child=p,(l.mode&1)!==0&&yu(l,a.child,null,P),l.child.memoizedState=Gv(P),l.memoizedState=Hv,w);if((l.mode&1)===0)return Dp(a,l,P,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var V=p.dgst;return p=V,w=Error(n(419)),p=$v(w,p,void 0),Dp(a,l,P,p)}if(V=(P&a.childLanes)!==0,Gn||V){if(p=ln,p!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|P))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,gi(a,y),Jr(p,a,y,-1))}return c0(),p=$v(Error(n(421))),Dp(a,l,P,p)}return y.data==="$?"?(l.flags|=128,l.child=a.child,l=mj.bind(null,a),y._reactRetry=l,null):(a=w.treeContext,dr=da(y.nextSibling),hr=l,wt=!0,Gr=null,a!==null&&(Tr[Ir++]=pi,Tr[Ir++]=mi,Tr[Ir++]=Io,pi=a.id,mi=a.overflow,Io=l),l=Qv(l,p.children),l.flags|=4096,l)}function tS(a,l,c){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),Tv(a.return,l,c)}function Xv(a,l,c,p,y){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=y)}function nS(a,l,c){var p=l.pendingProps,y=p.revealOrder,w=p.tail;if(An(a,l,p.children,c),p=kt.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&tS(a,c,l);else if(a.tag===19)tS(a,c,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}if(ht(kt,p),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(c=l.child,y=null;c!==null;)a=c.alternate,a!==null&&Sp(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=l.child,l.child=null):(y=c.sibling,c.sibling=null),Xv(l,!1,y,c,w);break;case"backwards":for(c=null,y=l.child,l.child=null;y!==null;){if(a=y.alternate,a!==null&&Sp(a)===null){l.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}Xv(l,!0,c,null,w);break;case"together":Xv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Rp(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function vi(a,l,c){if(a!==null&&(l.dependencies=a.dependencies),Ro|=l.lanes,(c&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,c=ka(a,a.pendingProps),l.child=c,c.return=l;a.sibling!==null;)a=a.sibling,c=c.sibling=ka(a,a.pendingProps),c.return=l;c.sibling=null}return l.child}function rj(a,l,c){switch(l.tag){case 3:Jk(l),gu();break;case 5:gk(l);break;case 1:Hn(l.type)&&pp(l);break;case 4:Pv(l,l.stateNode.containerInfo);break;case 10:var p=l.type._context,y=l.memoizedProps.value;ht(bp,p._currentValue),p._currentValue=y;break;case 13:if(p=l.memoizedState,p!==null)return p.dehydrated!==null?(ht(kt,kt.current&1),l.flags|=128,null):(c&l.child.childLanes)!==0?eS(a,l,c):(ht(kt,kt.current&1),a=vi(a,l,c),a!==null?a.sibling:null);ht(kt,kt.current&1);break;case 19:if(p=(c&l.childLanes)!==0,(a.flags&128)!==0){if(p)return nS(a,l,c);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ht(kt,kt.current),p)break;return null;case 22:case 23:return l.lanes=0,Qk(a,l,c)}return vi(a,l,c)}var rS,Yv,sS,iS;rS=function(a,l){for(var c=l.child;c!==null;){if(c.tag===5||c.tag===6)a.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Yv=function(){},sS=function(a,l,c,p){var y=a.memoizedProps;if(y!==p){a=l.stateNode,No(Is.current);var w=null;switch(c){case"input":y=Hi(a,y),p=Hi(a,p),w=[];break;case"select":y=ae({},y,{value:void 0}),p=ae({},p,{value:void 0}),w=[];break;case"textarea":y=Bc(a,y),p=Bc(a,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(a.onclick=hp)}qr(c,p);var P;c=null;for(Z in y)if(!p.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var V=y[Z];for(P in V)V.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in p){var z=p[Z];if(V=y!=null?y[Z]:void 0,p.hasOwnProperty(Z)&&z!==V&&(z!=null||V!=null))if(Z==="style")if(V){for(P in V)!V.hasOwnProperty(P)||z&&z.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in z)z.hasOwnProperty(P)&&V[P]!==z[P]&&(c||(c={}),c[P]=z[P])}else c||(w||(w=[]),w.push(Z,c)),c=z;else Z==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,V=V?V.__html:void 0,z!=null&&V!==z&&(w=w||[]).push(Z,z)):Z==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(Z,""+z):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?(z!=null&&Z==="onScroll"&&mt("scroll",a),w||V===z||(w=[])):(w=w||[]).push(Z,z))}c&&(w=w||[]).push("style",c);var Z=w;(l.updateQueue=Z)&&(l.flags|=4)}},iS=function(a,l,c,p){c!==p&&(l.flags|=4)};function Ch(a,l){if(!wt)switch(a.tailMode){case"hidden":l=a.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Tn(a){var l=a.alternate!==null&&a.alternate.child===a.child,c=0,p=0;if(l)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=p,a.childLanes=c,l}function sj(a,l,c){var p=l.pendingProps;switch(wv(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(l),null;case 1:return Hn(l.type)&&fp(),Tn(l),null;case 3:return p=l.stateNode,bu(),gt(Wn),gt(Sn),Rv(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(vp(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Gr!==null&&(o0(Gr),Gr=null))),Yv(a,l),Tn(l),null;case 5:Nv(l);var y=No(kh.current);if(c=l.type,a!==null&&l.stateNode!=null)sS(a,l,c,p,y),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(n(166));return Tn(l),null}if(a=No(Is.current),vp(l)){p=l.stateNode,c=l.type;var w=l.memoizedProps;switch(p[Ts]=l,p[vh]=w,a=(l.mode&1)!==0,c){case"dialog":mt("cancel",p),mt("close",p);break;case"iframe":case"object":case"embed":mt("load",p);break;case"video":case"audio":for(y=0;y<mh.length;y++)mt(mh[y],p);break;case"source":mt("error",p);break;case"img":case"image":case"link":mt("error",p),mt("load",p);break;case"details":mt("toggle",p);break;case"input":Ul(p,w),mt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},mt("invalid",p);break;case"textarea":$c(p,w),mt("invalid",p)}qr(c,w),y=null;for(var P in w)if(w.hasOwnProperty(P)){var V=w[P];P==="children"?typeof V=="string"?p.textContent!==V&&(w.suppressHydrationWarning!==!0&&cp(p.textContent,V,a),y=["children",V]):typeof V=="number"&&p.textContent!==""+V&&(w.suppressHydrationWarning!==!0&&cp(p.textContent,V,a),y=["children",""+V]):s.hasOwnProperty(P)&&V!=null&&P==="onScroll"&&mt("scroll",p)}switch(c){case"input":Er(p),uo(p,w,!0);break;case"textarea":Er(p),Qi(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=hp)}p=y,l.updateQueue=p,p!==null&&(l.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=qc(c)),a==="http://www.w3.org/1999/xhtml"?c==="script"?(a=P.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof p.is=="string"?a=P.createElement(c,{is:p.is}):(a=P.createElement(c),c==="select"&&(P=a,p.multiple?P.multiple=!0:p.size&&(P.size=p.size))):a=P.createElementNS(a,c),a[Ts]=l,a[vh]=p,rS(a,l,!1,!1),l.stateNode=a;e:{switch(P=$l(c,p),c){case"dialog":mt("cancel",a),mt("close",a),y=p;break;case"iframe":case"object":case"embed":mt("load",a),y=p;break;case"video":case"audio":for(y=0;y<mh.length;y++)mt(mh[y],a);y=p;break;case"source":mt("error",a),y=p;break;case"img":case"image":case"link":mt("error",a),mt("load",a),y=p;break;case"details":mt("toggle",a),y=p;break;case"input":Ul(a,p),y=Hi(a,p),mt("invalid",a);break;case"option":y=p;break;case"select":a._wrapperState={wasMultiple:!!p.multiple},y=ae({},p,{value:void 0}),mt("invalid",a);break;case"textarea":$c(a,p),y=Bc(a,p),mt("invalid",a);break;default:y=p}qr(c,y),V=y;for(w in V)if(V.hasOwnProperty(w)){var z=V[w];w==="style"?Bl(a,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Vf(a,z)):w==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&co(a,z):typeof z=="number"&&co(a,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?z!=null&&w==="onScroll"&&mt("scroll",a):z!=null&&O(a,w,z,P))}switch(c){case"input":Er(a),uo(a,p,!1);break;case"textarea":Er(a),Qi(a);break;case"option":p.value!=null&&a.setAttribute("value",""+$e(p.value));break;case"select":a.multiple=!!p.multiple,w=p.value,w!=null?$r(a,!!p.multiple,w,!1):p.defaultValue!=null&&$r(a,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(a.onclick=hp)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Tn(l),null;case 6:if(a&&l.stateNode!=null)iS(a,l,a.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(c=No(kh.current),No(Is.current),vp(l)){if(p=l.stateNode,c=l.memoizedProps,p[Ts]=l,(w=p.nodeValue!==c)&&(a=hr,a!==null))switch(a.tag){case 3:cp(p.nodeValue,c,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&cp(p.nodeValue,c,(a.mode&1)!==0)}w&&(l.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Ts]=l,l.stateNode=p}return Tn(l),null;case 13:if(gt(kt),p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(wt&&dr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)lk(),gu(),l.flags|=98560,w=!1;else if(w=vp(l),p!==null&&p.dehydrated!==null){if(a===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Ts]=l}else gu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Tn(l),w=!1}else Gr!==null&&(o0(Gr),Gr=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=c,l):(p=p!==null,p!==(a!==null&&a.memoizedState!==null)&&p&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(kt.current&1)!==0?nn===0&&(nn=3):c0())),l.updateQueue!==null&&(l.flags|=4),Tn(l),null);case 4:return bu(),Yv(a,l),a===null&&gh(l.stateNode.containerInfo),Tn(l),null;case 10:return _v(l.type._context),Tn(l),null;case 17:return Hn(l.type)&&fp(),Tn(l),null;case 19:if(gt(kt),w=l.memoizedState,w===null)return Tn(l),null;if(p=(l.flags&128)!==0,P=w.rendering,P===null)if(p)Ch(w,!1);else{if(nn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(P=Sp(a),P!==null){for(l.flags|=128,Ch(w,!1),p=P.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),l.subtreeFlags=0,p=c,c=l.child;c!==null;)w=c,a=p,w.flags&=14680066,P=w.alternate,P===null?(w.childLanes=0,w.lanes=a,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=P.childLanes,w.lanes=P.lanes,w.child=P.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=P.memoizedProps,w.memoizedState=P.memoizedState,w.updateQueue=P.updateQueue,w.type=P.type,a=P.dependencies,w.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;return ht(kt,kt.current&1|2),l.child}a=a.sibling}w.tail!==null&&pt()>Su&&(l.flags|=128,p=!0,Ch(w,!1),l.lanes=4194304)}else{if(!p)if(a=Sp(P),a!==null){if(l.flags|=128,p=!0,c=a.updateQueue,c!==null&&(l.updateQueue=c,l.flags|=4),Ch(w,!0),w.tail===null&&w.tailMode==="hidden"&&!P.alternate&&!wt)return Tn(l),null}else 2*pt()-w.renderingStartTime>Su&&c!==1073741824&&(l.flags|=128,p=!0,Ch(w,!1),l.lanes=4194304);w.isBackwards?(P.sibling=l.child,l.child=P):(c=w.last,c!==null?c.sibling=P:l.child=P,w.last=P)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=pt(),l.sibling=null,c=kt.current,ht(kt,p?c&1|2:c&1),l):(Tn(l),null);case 22:case 23:return u0(),p=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==p&&(l.flags|=8192),p&&(l.mode&1)!==0?(fr&1073741824)!==0&&(Tn(l),l.subtreeFlags&6&&(l.flags|=8192)):Tn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function ij(a,l){switch(wv(l),l.tag){case 1:return Hn(l.type)&&fp(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return bu(),gt(Wn),gt(Sn),Rv(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Nv(l),null;case 13:if(gt(kt),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));gu()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return gt(kt),null;case 4:return bu(),null;case 10:return _v(l.type._context),null;case 22:case 23:return u0(),null;case 24:return null;default:return null}}var Mp=!1,In=!1,aj=typeof WeakSet=="function"?WeakSet:Set,we=null;function Eu(a,l){var c=a.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Nt(a,l,p)}else c.current=null}function aS(a,l,c){try{c()}catch(p){Nt(a,l,p)}}var oS=!1;function oj(a,l){if(cv=ci,a=VE(),nv(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var P=0,V=-1,z=-1,Z=0,ie=0,oe=a,se=null;t:for(;;){for(var fe;oe!==c||y!==0&&oe.nodeType!==3||(V=P+y),oe!==w||p!==0&&oe.nodeType!==3||(z=P+p),oe.nodeType===3&&(P+=oe.nodeValue.length),(fe=oe.firstChild)!==null;)se=oe,oe=fe;for(;;){if(oe===a)break t;if(se===c&&++Z===y&&(V=P),se===w&&++ie===p&&(z=P),(fe=oe.nextSibling)!==null)break;oe=se,se=oe.parentNode}oe=fe}c=V===-1||z===-1?null:{start:V,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(hv={focusedElem:a,selectionRange:c},ci=!1,we=l;we!==null;)if(l=we,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,we=a;else for(;we!==null;){l=we;try{var xe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var _e=xe.memoizedProps,Lt=xe.memoizedState,X=l.stateNode,K=X.getSnapshotBeforeUpdate(l.elementType===l.type?_e:Qr(l.type,_e),Lt);X.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){Nt(l,l.return,ue)}if(a=l.sibling,a!==null){a.return=l.return,we=a;break}we=l.return}return xe=oS,oS=!1,xe}function Ph(a,l,c){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&a)===a){var w=y.destroy;y.destroy=void 0,w!==void 0&&aS(l,c,w)}y=y.next}while(y!==p)}}function Ap(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&a)===a){var p=c.create;c.destroy=p()}c=c.next}while(c!==l)}}function Jv(a){var l=a.ref;if(l!==null){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}typeof l=="function"?l(a):l.current=a}}function lS(a){var l=a.alternate;l!==null&&(a.alternate=null,lS(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[Ts],delete l[vh],delete l[mv],delete l[$4],delete l[q4])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function uS(a){return a.tag===5||a.tag===3||a.tag===4}function cS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||uS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Zv(a,l,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?c.nodeType===8?c.parentNode.insertBefore(a,l):c.insertBefore(a,l):(c.nodeType===8?(l=c.parentNode,l.insertBefore(a,c)):(l=c,l.appendChild(a)),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=hp));else if(p!==4&&(a=a.child,a!==null))for(Zv(a,l,c),a=a.sibling;a!==null;)Zv(a,l,c),a=a.sibling}function e0(a,l,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?c.insertBefore(a,l):c.appendChild(a);else if(p!==4&&(a=a.child,a!==null))for(e0(a,l,c),a=a.sibling;a!==null;)e0(a,l,c),a=a.sibling}var pn=null,Xr=!1;function va(a,l,c){for(c=c.child;c!==null;)hS(a,l,c),c=c.sibling}function hS(a,l,c){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(go,c)}catch{}switch(c.tag){case 5:In||Eu(c,l);case 6:var p=pn,y=Xr;pn=null,va(a,l,c),pn=p,Xr=y,pn!==null&&(Xr?(a=pn,c=c.stateNode,a.nodeType===8?a.parentNode.removeChild(c):a.removeChild(c)):pn.removeChild(c.stateNode));break;case 18:pn!==null&&(Xr?(a=pn,c=c.stateNode,a.nodeType===8?pv(a.parentNode,c):a.nodeType===1&&pv(a,c),oa(a)):pv(pn,c.stateNode));break;case 4:p=pn,y=Xr,pn=c.stateNode.containerInfo,Xr=!0,va(a,l,c),pn=p,Xr=y;break;case 0:case 11:case 14:case 15:if(!In&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,P=w.destroy;w=w.tag,P!==void 0&&((w&2)!==0||(w&4)!==0)&&aS(c,l,P),y=y.next}while(y!==p)}va(a,l,c);break;case 1:if(!In&&(Eu(c,l),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(V){Nt(c,l,V)}va(a,l,c);break;case 21:va(a,l,c);break;case 22:c.mode&1?(In=(p=In)||c.memoizedState!==null,va(a,l,c),In=p):va(a,l,c);break;default:va(a,l,c)}}function dS(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var c=a.stateNode;c===null&&(c=a.stateNode=new aj),l.forEach(function(p){var y=gj.bind(null,a,p);c.has(p)||(c.add(p),p.then(y,y))})}}function Yr(a,l){var c=l.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var w=a,P=l,V=P;e:for(;V!==null;){switch(V.tag){case 5:pn=V.stateNode,Xr=!1;break e;case 3:pn=V.stateNode.containerInfo,Xr=!0;break e;case 4:pn=V.stateNode.containerInfo,Xr=!0;break e}V=V.return}if(pn===null)throw Error(n(160));hS(w,P,y),pn=null,Xr=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(Z){Nt(y,l,Z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)fS(l,a),l=l.sibling}function fS(a,l){var c=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Yr(l,a),Ps(a),p&4){try{Ph(3,a,a.return),Ap(3,a)}catch(_e){Nt(a,a.return,_e)}try{Ph(5,a,a.return)}catch(_e){Nt(a,a.return,_e)}}break;case 1:Yr(l,a),Ps(a),p&512&&c!==null&&Eu(c,c.return);break;case 5:if(Yr(l,a),Ps(a),p&512&&c!==null&&Eu(c,c.return),a.flags&32){var y=a.stateNode;try{co(y,"")}catch(_e){Nt(a,a.return,_e)}}if(p&4&&(y=a.stateNode,y!=null)){var w=a.memoizedProps,P=c!==null?c.memoizedProps:w,V=a.type,z=a.updateQueue;if(a.updateQueue=null,z!==null)try{V==="input"&&w.type==="radio"&&w.name!=null&&Gi(y,w),$l(V,P);var Z=$l(V,w);for(P=0;P<z.length;P+=2){var ie=z[P],oe=z[P+1];ie==="style"?Bl(y,oe):ie==="dangerouslySetInnerHTML"?Vf(y,oe):ie==="children"?co(y,oe):O(y,ie,oe,Z)}switch(V){case"input":ni(y,w);break;case"textarea":jf(y,w);break;case"select":var se=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var fe=w.value;fe!=null?$r(y,!!w.multiple,fe,!1):se!==!!w.multiple&&(w.defaultValue!=null?$r(y,!!w.multiple,w.defaultValue,!0):$r(y,!!w.multiple,w.multiple?[]:"",!1))}y[vh]=w}catch(_e){Nt(a,a.return,_e)}}break;case 6:if(Yr(l,a),Ps(a),p&4){if(a.stateNode===null)throw Error(n(162));y=a.stateNode,w=a.memoizedProps;try{y.nodeValue=w}catch(_e){Nt(a,a.return,_e)}}break;case 3:if(Yr(l,a),Ps(a),p&4&&c!==null&&c.memoizedState.isDehydrated)try{oa(l.containerInfo)}catch(_e){Nt(a,a.return,_e)}break;case 4:Yr(l,a),Ps(a);break;case 13:Yr(l,a),Ps(a),y=a.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(r0=pt())),p&4&&dS(a);break;case 22:if(ie=c!==null&&c.memoizedState!==null,a.mode&1?(In=(Z=In)||ie,Yr(l,a),In=Z):Yr(l,a),Ps(a),p&8192){if(Z=a.memoizedState!==null,(a.stateNode.isHidden=Z)&&!ie&&(a.mode&1)!==0)for(we=a,ie=a.child;ie!==null;){for(oe=we=ie;we!==null;){switch(se=we,fe=se.child,se.tag){case 0:case 11:case 14:case 15:Ph(4,se,se.return);break;case 1:Eu(se,se.return);var xe=se.stateNode;if(typeof xe.componentWillUnmount=="function"){p=se,c=se.return;try{l=p,xe.props=l.memoizedProps,xe.state=l.memoizedState,xe.componentWillUnmount()}catch(_e){Nt(p,c,_e)}}break;case 5:Eu(se,se.return);break;case 22:if(se.memoizedState!==null){gS(oe);continue}}fe!==null?(fe.return=se,we=fe):gS(oe)}ie=ie.sibling}e:for(ie=null,oe=a;;){if(oe.tag===5){if(ie===null){ie=oe;try{y=oe.stateNode,Z?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(V=oe.stateNode,z=oe.memoizedProps.style,P=z!=null&&z.hasOwnProperty("display")?z.display:null,V.style.display=Ji("display",P))}catch(_e){Nt(a,a.return,_e)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=Z?"":oe.memoizedProps}catch(_e){Nt(a,a.return,_e)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===a)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===a)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===a)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Yr(l,a),Ps(a),p&4&&dS(a);break;case 21:break;default:Yr(l,a),Ps(a)}}function Ps(a){var l=a.flags;if(l&2){try{e:{for(var c=a.return;c!==null;){if(uS(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(co(y,""),p.flags&=-33);var w=cS(a);e0(a,w,y);break;case 3:case 4:var P=p.stateNode.containerInfo,V=cS(a);Zv(a,V,P);break;default:throw Error(n(161))}}catch(z){Nt(a,a.return,z)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function lj(a,l,c){we=a,pS(a)}function pS(a,l,c){for(var p=(a.mode&1)!==0;we!==null;){var y=we,w=y.child;if(y.tag===22&&p){var P=y.memoizedState!==null||Mp;if(!P){var V=y.alternate,z=V!==null&&V.memoizedState!==null||In;V=Mp;var Z=In;if(Mp=P,(In=z)&&!Z)for(we=y;we!==null;)P=we,z=P.child,P.tag===22&&P.memoizedState!==null?yS(y):z!==null?(z.return=P,we=z):yS(y);for(;w!==null;)we=w,pS(w),w=w.sibling;we=y,Mp=V,In=Z}mS(a)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,we=w):mS(a)}}function mS(a){for(;we!==null;){var l=we;if((l.flags&8772)!==0){var c=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:In||Ap(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!In)if(c===null)p.componentDidMount();else{var y=l.elementType===l.type?c.memoizedProps:Qr(l.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&mk(l,w,p);break;case 3:var P=l.updateQueue;if(P!==null){if(c=null,l.child!==null)switch(l.child.tag){case 5:c=l.child.stateNode;break;case 1:c=l.child.stateNode}mk(l,P,c)}break;case 5:var V=l.stateNode;if(c===null&&l.flags&4){c=V;var z=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Z=l.alternate;if(Z!==null){var ie=Z.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&oa(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}In||l.flags&512&&Jv(l)}catch(se){Nt(l,l.return,se)}}if(l===a){we=null;break}if(c=l.sibling,c!==null){c.return=l.return,we=c;break}we=l.return}}function gS(a){for(;we!==null;){var l=we;if(l===a){we=null;break}var c=l.sibling;if(c!==null){c.return=l.return,we=c;break}we=l.return}}function yS(a){for(;we!==null;){var l=we;try{switch(l.tag){case 0:case 11:case 15:var c=l.return;try{Ap(4,l)}catch(z){Nt(l,c,z)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var y=l.return;try{p.componentDidMount()}catch(z){Nt(l,y,z)}}var w=l.return;try{Jv(l)}catch(z){Nt(l,w,z)}break;case 5:var P=l.return;try{Jv(l)}catch(z){Nt(l,P,z)}}}catch(z){Nt(l,l.return,z)}if(l===a){we=null;break}var V=l.sibling;if(V!==null){V.return=l.return,we=V;break}we=l.return}}var uj=Math.ceil,Op=U.ReactCurrentDispatcher,t0=U.ReactCurrentOwner,Nr=U.ReactCurrentBatchConfig,tt=0,ln=null,Xt=null,mn=0,fr=0,ku=fa(0),nn=0,Nh=null,Ro=0,Lp=0,n0=0,Dh=null,Qn=null,r0=0,Su=1/0,wi=null,jp=!1,s0=null,wa=null,Vp=!1,ba=null,Fp=0,Rh=0,i0=null,Up=-1,zp=0;function On(){return(tt&6)!==0?pt():Up!==-1?Up:Up=pt()}function xa(a){return(a.mode&1)===0?1:(tt&2)!==0&&mn!==0?mn&-mn:W4.transition!==null?(zp===0&&(zp=Zc()),zp):(a=Xe,a!==0||(a=window.event,a=a===void 0?16:Zl(a.type)),a)}function Jr(a,l,c,p){if(50<Rh)throw Rh=0,i0=null,Error(n(185));bo(a,c,p),((tt&2)===0||a!==ln)&&(a===ln&&((tt&2)===0&&(Lp|=c),nn===4&&Ea(a,mn)),Xn(a,p),c===1&&tt===0&&(l.mode&1)===0&&(Su=pt()+500,mp&&ma()))}function Xn(a,l){var c=a.callbackNode;wo(a,l);var p=oi(a,a===ln?mn:0);if(p===0)c!==null&&Wl(c),a.callbackNode=null,a.callbackPriority=0;else if(l=p&-p,a.callbackPriority!==l){if(c!=null&&Wl(c),l===1)a.tag===0?K4(wS.bind(null,a)):rk(wS.bind(null,a)),z4(function(){(tt&6)===0&&ma()}),c=null;else{switch(gs(p)){case 1:c=Hl;break;case 4:c=Xc;break;case 16:c=mo;break;case 536870912:c=Gl;break;default:c=mo}c=IS(c,vS.bind(null,a))}a.callbackPriority=l,a.callbackNode=c}}function vS(a,l){if(Up=-1,zp=0,(tt&6)!==0)throw Error(n(327));var c=a.callbackNode;if(_u()&&a.callbackNode!==c)return null;var p=oi(a,a===ln?mn:0);if(p===0)return null;if((p&30)!==0||(p&a.expiredLanes)!==0||l)l=Bp(a,p);else{l=p;var y=tt;tt|=2;var w=xS();(ln!==a||mn!==l)&&(wi=null,Su=pt()+500,Ao(a,l));do try{dj();break}catch(V){bS(a,V)}while(!0);Sv(),Op.current=w,tt=y,Xt!==null?l=0:(ln=null,mn=0,l=nn)}if(l!==0){if(l===2&&(y=Jc(a),y!==0&&(p=y,l=a0(a,y))),l===1)throw c=Nh,Ao(a,0),Ea(a,p),Xn(a,pt()),c;if(l===6)Ea(a,p);else{if(y=a.current.alternate,(p&30)===0&&!cj(y)&&(l=Bp(a,p),l===2&&(w=Jc(a),w!==0&&(p=w,l=a0(a,w))),l===1))throw c=Nh,Ao(a,0),Ea(a,p),Xn(a,pt()),c;switch(a.finishedWork=y,a.finishedLanes=p,l){case 0:case 1:throw Error(n(345));case 2:Oo(a,Qn,wi);break;case 3:if(Ea(a,p),(p&130023424)===p&&(l=r0+500-pt(),10<l)){if(oi(a,0)!==0)break;if(y=a.suspendedLanes,(y&p)!==p){On(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=fv(Oo.bind(null,a,Qn,wi),l);break}Oo(a,Qn,wi);break;case 4:if(Ea(a,p),(p&4194240)===p)break;for(l=a.eventTimes,y=-1;0<p;){var P=31-ar(p);w=1<<P,P=l[P],P>y&&(y=P),p&=~w}if(p=y,p=pt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*uj(p/1960))-p,10<p){a.timeoutHandle=fv(Oo.bind(null,a,Qn,wi),p);break}Oo(a,Qn,wi);break;case 5:Oo(a,Qn,wi);break;default:throw Error(n(329))}}}return Xn(a,pt()),a.callbackNode===c?vS.bind(null,a):null}function a0(a,l){var c=Dh;return a.current.memoizedState.isDehydrated&&(Ao(a,l).flags|=256),a=Bp(a,l),a!==2&&(l=Qn,Qn=c,l!==null&&o0(l)),a}function o0(a){Qn===null?Qn=a:Qn.push.apply(Qn,a)}function cj(a){for(var l=a;;){if(l.flags&16384){var c=l.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],w=y.getSnapshot;y=y.value;try{if(!Hr(w(),y))return!1}catch{return!1}}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ea(a,l){for(l&=~n0,l&=~Lp,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var c=31-ar(l),p=1<<c;a[c]=-1,l&=~p}}function wS(a){if((tt&6)!==0)throw Error(n(327));_u();var l=oi(a,0);if((l&1)===0)return Xn(a,pt()),null;var c=Bp(a,l);if(a.tag!==0&&c===2){var p=Jc(a);p!==0&&(l=p,c=a0(a,p))}if(c===1)throw c=Nh,Ao(a,0),Ea(a,l),Xn(a,pt()),c;if(c===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Oo(a,Qn,wi),Xn(a,pt()),null}function l0(a,l){var c=tt;tt|=1;try{return a(l)}finally{tt=c,tt===0&&(Su=pt()+500,mp&&ma())}}function Mo(a){ba!==null&&ba.tag===0&&(tt&6)===0&&_u();var l=tt;tt|=1;var c=Nr.transition,p=Xe;try{if(Nr.transition=null,Xe=1,a)return a()}finally{Xe=p,Nr.transition=c,tt=l,(tt&6)===0&&ma()}}function u0(){fr=ku.current,gt(ku)}function Ao(a,l){a.finishedWork=null,a.finishedLanes=0;var c=a.timeoutHandle;if(c!==-1&&(a.timeoutHandle=-1,U4(c)),Xt!==null)for(c=Xt.return;c!==null;){var p=c;switch(wv(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&fp();break;case 3:bu(),gt(Wn),gt(Sn),Rv();break;case 5:Nv(p);break;case 4:bu();break;case 13:gt(kt);break;case 19:gt(kt);break;case 10:_v(p.type._context);break;case 22:case 23:u0()}c=c.return}if(ln=a,Xt=a=ka(a.current,null),mn=fr=l,nn=0,Nh=null,n0=Lp=Ro=0,Qn=Dh=null,Po!==null){for(l=0;l<Po.length;l++)if(c=Po[l],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,w=c.pending;if(w!==null){var P=w.next;w.next=y,p.next=P}c.pending=p}Po=null}return a}function bS(a,l){do{var c=Xt;try{if(Sv(),_p.current=Pp,Tp){for(var p=St.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Tp=!1}if(Do=0,on=tn=St=null,Sh=!1,_h=0,t0.current=null,c===null||c.return===null){nn=1,Nh=l,Xt=null;break}e:{var w=a,P=c.return,V=c,z=l;if(l=mn,V.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Z=z,ie=V,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=qk(P);if(fe!==null){fe.flags&=-257,Kk(fe,P,V,w,l),fe.mode&1&&$k(w,Z,l),l=fe,z=Z;var xe=l.updateQueue;if(xe===null){var _e=new Set;_e.add(z),l.updateQueue=_e}else xe.add(z);break e}else{if((l&1)===0){$k(w,Z,l),c0();break e}z=Error(n(426))}}else if(wt&&V.mode&1){var Lt=qk(P);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),Kk(Lt,P,V,w,l),Ev(xu(z,V));break e}}w=z=xu(z,V),nn!==4&&(nn=2),Dh===null?Dh=[w]:Dh.push(w),w=P;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var X=zk(w,z,l);pk(w,X);break e;case 1:V=z;var K=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(wa===null||!wa.has(J)))){w.flags|=65536,l&=-l,w.lanes|=l;var ue=Bk(w,V,l);pk(w,ue);break e}}w=w.return}while(w!==null)}kS(c)}catch(Te){l=Te,Xt===c&&c!==null&&(Xt=c=c.return);continue}break}while(!0)}function xS(){var a=Op.current;return Op.current=Pp,a===null?Pp:a}function c0(){(nn===0||nn===3||nn===2)&&(nn=4),ln===null||(Ro&268435455)===0&&(Lp&268435455)===0||Ea(ln,mn)}function Bp(a,l){var c=tt;tt|=2;var p=xS();(ln!==a||mn!==l)&&(wi=null,Ao(a,l));do try{hj();break}catch(y){bS(a,y)}while(!0);if(Sv(),tt=c,Op.current=p,Xt!==null)throw Error(n(261));return ln=null,mn=0,nn}function hj(){for(;Xt!==null;)ES(Xt)}function dj(){for(;Xt!==null&&!po();)ES(Xt)}function ES(a){var l=TS(a.alternate,a,fr);a.memoizedProps=a.pendingProps,l===null?kS(a):Xt=l,t0.current=null}function kS(a){var l=a;do{var c=l.alternate;if(a=l.return,(l.flags&32768)===0){if(c=sj(c,l,fr),c!==null){Xt=c;return}}else{if(c=ij(c,l),c!==null){c.flags&=32767,Xt=c;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{nn=6,Xt=null;return}}if(l=l.sibling,l!==null){Xt=l;return}Xt=l=a}while(l!==null);nn===0&&(nn=5)}function Oo(a,l,c){var p=Xe,y=Nr.transition;try{Nr.transition=null,Xe=1,fj(a,l,c,p)}finally{Nr.transition=y,Xe=p}return null}function fj(a,l,c,p){do _u();while(ba!==null);if((tt&6)!==0)throw Error(n(327));c=a.finishedWork;var y=a.finishedLanes;if(c===null)return null;if(a.finishedWork=null,a.finishedLanes=0,c===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var w=c.lanes|c.childLanes;if(Yy(a,w),a===ln&&(Xt=ln=null,mn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Vp||(Vp=!0,IS(mo,function(){return _u(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=Nr.transition,Nr.transition=null;var P=Xe;Xe=1;var V=tt;tt|=4,t0.current=null,oj(a,c),fS(c,a),M4(hv),ci=!!cv,hv=cv=null,a.current=c,lj(c),ai(),tt=V,Xe=P,Nr.transition=w}else a.current=c;if(Vp&&(Vp=!1,ba=a,Fp=y),w=a.pendingLanes,w===0&&(wa=null),Qf(c.stateNode),Xn(a,pt()),l!==null)for(p=a.onRecoverableError,c=0;c<l.length;c++)y=l[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(jp)throw jp=!1,a=s0,s0=null,a;return(Fp&1)!==0&&a.tag!==0&&_u(),w=a.pendingLanes,(w&1)!==0?a===i0?Rh++:(Rh=0,i0=a):Rh=0,ma(),null}function _u(){if(ba!==null){var a=gs(Fp),l=Nr.transition,c=Xe;try{if(Nr.transition=null,Xe=16>a?16:a,ba===null)var p=!1;else{if(a=ba,ba=null,Fp=0,(tt&6)!==0)throw Error(n(331));var y=tt;for(tt|=4,we=a.current;we!==null;){var w=we,P=w.child;if((we.flags&16)!==0){var V=w.deletions;if(V!==null){for(var z=0;z<V.length;z++){var Z=V[z];for(we=Z;we!==null;){var ie=we;switch(ie.tag){case 0:case 11:case 15:Ph(8,ie,w)}var oe=ie.child;if(oe!==null)oe.return=ie,we=oe;else for(;we!==null;){ie=we;var se=ie.sibling,fe=ie.return;if(lS(ie),ie===Z){we=null;break}if(se!==null){se.return=fe,we=se;break}we=fe}}}var xe=w.alternate;if(xe!==null){var _e=xe.child;if(_e!==null){xe.child=null;do{var Lt=_e.sibling;_e.sibling=null,_e=Lt}while(_e!==null)}}we=w}}if((w.subtreeFlags&2064)!==0&&P!==null)P.return=w,we=P;else e:for(;we!==null;){if(w=we,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Ph(9,w,w.return)}var X=w.sibling;if(X!==null){X.return=w.return,we=X;break e}we=w.return}}var K=a.current;for(we=K;we!==null;){P=we;var J=P.child;if((P.subtreeFlags&2064)!==0&&J!==null)J.return=P,we=J;else e:for(P=K;we!==null;){if(V=we,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Ap(9,V)}}catch(Te){Nt(V,V.return,Te)}if(V===P){we=null;break e}var ue=V.sibling;if(ue!==null){ue.return=V.return,we=ue;break e}we=V.return}}if(tt=y,ma(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(go,a)}catch{}p=!0}return p}finally{Xe=c,Nr.transition=l}}return!1}function SS(a,l,c){l=xu(c,l),l=zk(a,l,1),a=ya(a,l,1),l=On(),a!==null&&(bo(a,1,l),Xn(a,l))}function Nt(a,l,c){if(a.tag===3)SS(a,a,c);else for(;l!==null;){if(l.tag===3){SS(l,a,c);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(wa===null||!wa.has(p))){a=xu(c,a),a=Bk(l,a,1),l=ya(l,a,1),a=On(),l!==null&&(bo(l,1,a),Xn(l,a));break}}l=l.return}}function pj(a,l,c){var p=a.pingCache;p!==null&&p.delete(l),l=On(),a.pingedLanes|=a.suspendedLanes&c,ln===a&&(mn&c)===c&&(nn===4||nn===3&&(mn&130023424)===mn&&500>pt()-r0?Ao(a,0):n0|=c),Xn(a,l)}function _S(a,l){l===0&&((a.mode&1)===0?l=1:(l=sa,sa<<=1,(sa&130023424)===0&&(sa=4194304)));var c=On();a=gi(a,l),a!==null&&(bo(a,l,c),Xn(a,c))}function mj(a){var l=a.memoizedState,c=0;l!==null&&(c=l.retryLane),_S(a,c)}function gj(a,l){var c=0;switch(a.tag){case 13:var p=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=a.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(l),_S(a,c)}var TS;TS=function(a,l,c){if(a!==null)if(a.memoizedProps!==l.pendingProps||Wn.current)Gn=!0;else{if((a.lanes&c)===0&&(l.flags&128)===0)return Gn=!1,rj(a,l,c);Gn=(a.flags&131072)!==0}else Gn=!1,wt&&(l.flags&1048576)!==0&&sk(l,yp,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Rp(a,l),a=l.pendingProps;var y=fu(l,Sn.current);wu(l,c),y=Ov(null,l,p,a,y,c);var w=Lv();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Hn(p)?(w=!0,pp(l)):w=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Cv(l),y.updater=Np,l.stateNode=y,y._reactInternals=l,Bv(l,p,a,c),l=Wv(null,l,p,!0,w,c)):(l.tag=0,wt&&w&&vv(l),An(null,l,y,c),l=l.child),l;case 16:p=l.elementType;e:{switch(Rp(a,l),a=l.pendingProps,y=p._init,p=y(p._payload),l.type=p,y=l.tag=vj(p),a=Qr(p,a),y){case 0:l=Kv(null,l,p,a,c);break e;case 1:l=Yk(null,l,p,a,c);break e;case 11:l=Wk(null,l,p,a,c);break e;case 14:l=Hk(null,l,p,Qr(p.type,a),c);break e}throw Error(n(306,p,""))}return l;case 0:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Qr(p,y),Kv(a,l,p,y,c);case 1:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Qr(p,y),Yk(a,l,p,y,c);case 3:e:{if(Jk(l),a===null)throw Error(n(387));p=l.pendingProps,w=l.memoizedState,y=w.element,fk(a,l),kp(l,p,null,c);var P=l.memoizedState;if(p=P.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){y=xu(Error(n(423)),l),l=Zk(a,l,p,c,y);break e}else if(p!==y){y=xu(Error(n(424)),l),l=Zk(a,l,p,c,y);break e}else for(dr=da(l.stateNode.containerInfo.firstChild),hr=l,wt=!0,Gr=null,c=hk(l,null,p,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(gu(),p===y){l=vi(a,l,c);break e}An(a,l,p,c)}l=l.child}return l;case 5:return gk(l),a===null&&xv(l),p=l.type,y=l.pendingProps,w=a!==null?a.memoizedProps:null,P=y.children,dv(p,y)?P=null:w!==null&&dv(p,w)&&(l.flags|=32),Xk(a,l),An(a,l,P,c),l.child;case 6:return a===null&&xv(l),null;case 13:return eS(a,l,c);case 4:return Pv(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=yu(l,null,p,c):An(a,l,p,c),l.child;case 11:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Qr(p,y),Wk(a,l,p,y,c);case 7:return An(a,l,l.pendingProps,c),l.child;case 8:return An(a,l,l.pendingProps.children,c),l.child;case 12:return An(a,l,l.pendingProps.children,c),l.child;case 10:e:{if(p=l.type._context,y=l.pendingProps,w=l.memoizedProps,P=y.value,ht(bp,p._currentValue),p._currentValue=P,w!==null)if(Hr(w.value,P)){if(w.children===y.children&&!Wn.current){l=vi(a,l,c);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var V=w.dependencies;if(V!==null){P=w.child;for(var z=V.firstContext;z!==null;){if(z.context===p){if(w.tag===1){z=yi(-1,c&-c),z.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var ie=Z.pending;ie===null?z.next=z:(z.next=ie.next,ie.next=z),Z.pending=z}}w.lanes|=c,z=w.alternate,z!==null&&(z.lanes|=c),Tv(w.return,c,l),V.lanes|=c;break}z=z.next}}else if(w.tag===10)P=w.type===l.type?null:w.child;else if(w.tag===18){if(P=w.return,P===null)throw Error(n(341));P.lanes|=c,V=P.alternate,V!==null&&(V.lanes|=c),Tv(P,c,l),P=w.sibling}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===l){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}An(a,l,y.children,c),l=l.child}return l;case 9:return y=l.type,p=l.pendingProps.children,wu(l,c),y=Cr(y),p=p(y),l.flags|=1,An(a,l,p,c),l.child;case 14:return p=l.type,y=Qr(p,l.pendingProps),y=Qr(p.type,y),Hk(a,l,p,y,c);case 15:return Gk(a,l,l.type,l.pendingProps,c);case 17:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Qr(p,y),Rp(a,l),l.tag=1,Hn(p)?(a=!0,pp(l)):a=!1,wu(l,c),Fk(l,p,y),Bv(l,p,y,c),Wv(null,l,p,!0,a,c);case 19:return nS(a,l,c);case 22:return Qk(a,l,c)}throw Error(n(156,l.tag))};function IS(a,l){return Qc(a,l)}function yj(a,l,c,p){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(a,l,c,p){return new yj(a,l,c,p)}function h0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function vj(a){if(typeof a=="function")return h0(a)?1:0;if(a!=null){if(a=a.$$typeof,a===$)return 11;if(a===Re)return 14}return 2}function ka(a,l){var c=a.alternate;return c===null?(c=Dr(a.tag,l,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=l,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&14680064,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,l=a.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c}function $p(a,l,c,p,y,w){var P=2;if(p=a,typeof a=="function")h0(a)&&(P=1);else if(typeof a=="string")P=5;else e:switch(a){case M:return Lo(c.children,y,w,l);case C:P=8,y|=8;break;case R:return a=Dr(12,c,l,y|2),a.elementType=R,a.lanes=w,a;case L:return a=Dr(13,c,l,y),a.elementType=L,a.lanes=w,a;case be:return a=Dr(19,c,l,y),a.elementType=be,a.lanes=w,a;case ve:return qp(c,y,w,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case j:P=10;break e;case F:P=9;break e;case $:P=11;break e;case Re:P=14;break e;case ye:P=16,p=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=Dr(P,c,l,y),l.elementType=a,l.type=p,l.lanes=w,l}function Lo(a,l,c,p){return a=Dr(7,a,p,l),a.lanes=c,a}function qp(a,l,c,p){return a=Dr(22,a,p,l),a.elementType=ve,a.lanes=c,a.stateNode={isHidden:!1},a}function d0(a,l,c){return a=Dr(6,a,null,l),a.lanes=c,a}function f0(a,l,c){return l=Dr(4,a.children!==null?a.children:[],a.key,l),l.lanes=c,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function wj(a,l,c,p,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eh(0),this.expirationTimes=eh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eh(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function p0(a,l,c,p,y,w,P,V,z){return a=new wj(a,l,c,V,z),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Dr(3,null,null,l),a.current=w,w.stateNode=a,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cv(w),a}function bj(a,l,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:p==null?null:""+p,children:a,containerInfo:l,implementation:c}}function CS(a){if(!a)return pa;a=a._reactInternals;e:{if(Kr(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Hn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var c=a.type;if(Hn(c))return tk(a,c,l)}return l}function PS(a,l,c,p,y,w,P,V,z){return a=p0(c,p,!0,a,y,w,P,V,z),a.context=CS(null),c=a.current,p=On(),y=xa(c),w=yi(p,y),w.callback=l??null,ya(c,w,y),a.current.lanes=y,bo(a,y,p),Xn(a,p),a}function Kp(a,l,c,p){var y=l.current,w=On(),P=xa(y);return c=CS(c),l.context===null?l.context=c:l.pendingContext=c,l=yi(w,P),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=ya(y,l,P),a!==null&&(Jr(a,y,P,w),Ep(a,y,P)),P}function Wp(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function NS(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<l?c:l}}function m0(a,l){NS(a,l),(a=a.alternate)&&NS(a,l)}function xj(){return null}var DS=typeof reportError=="function"?reportError:function(a){console.error(a)};function g0(a){this._internalRoot=a}Hp.prototype.render=g0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));Kp(a,l,null,null)},Hp.prototype.unmount=g0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Mo(function(){Kp(null,a,null,null)}),l[di]=null}};function Hp(a){this._internalRoot=a}Hp.prototype.unstable_scheduleHydration=function(a){if(a){var l=sh();a={blockedOn:null,target:a,priority:l};for(var c=0;c<or.length&&l!==0&&l<or[c].priority;c++);or.splice(c,0,a),c===0&&Yl(a)}};function y0(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Gp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function RS(){}function Ej(a,l,c,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var Z=Wp(P);w.call(Z)}}var P=PS(l,p,a,0,null,!1,!1,"",RS);return a._reactRootContainer=P,a[di]=P.current,gh(a.nodeType===8?a.parentNode:a),Mo(),P}for(;y=a.lastChild;)a.removeChild(y);if(typeof p=="function"){var V=p;p=function(){var Z=Wp(z);V.call(Z)}}var z=p0(a,0,!1,null,null,!1,!1,"",RS);return a._reactRootContainer=z,a[di]=z.current,gh(a.nodeType===8?a.parentNode:a),Mo(function(){Kp(l,z,c,p)}),z}function Qp(a,l,c,p,y){var w=c._reactRootContainer;if(w){var P=w;if(typeof y=="function"){var V=y;y=function(){var z=Wp(P);V.call(z)}}Kp(l,P,a,y)}else P=Ej(c,l,a,y,p);return Wp(P)}nh=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var c=rt(l.pendingLanes);c!==0&&(th(l,c|1),Xn(l,pt()),(tt&6)===0&&(Su=pt()+500,ma()))}break;case 13:Mo(function(){var p=gi(a,1);if(p!==null){var y=On();Jr(p,a,1,y)}}),m0(a,1)}},Ql=function(a){if(a.tag===13){var l=gi(a,134217728);if(l!==null){var c=On();Jr(l,a,134217728,c)}m0(a,134217728)}},rh=function(a){if(a.tag===13){var l=xa(a),c=gi(a,l);if(c!==null){var p=On();Jr(c,a,l,p)}m0(a,l)}},sh=function(){return Xe},ih=function(a,l){var c=Xe;try{return Xe=a,l()}finally{Xe=c}},ri=function(a,l,c){switch(l){case"input":if(ni(a,c),l=c.name,c.type==="radio"&&l!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<c.length;l++){var p=c[l];if(p!==a&&p.form===a.form){var y=dp(p);if(!y)throw Error(n(90));kr(p),ni(p,y)}}}break;case"textarea":jf(a,c);break;case"select":l=c.value,l!=null&&$r(a,!!c.multiple,l,!1)}},Uf=l0,zf=Mo;var kj={usingClientEntryPoint:!1,Events:[wh,hu,dp,ea,ta,l0]},Mh={findFiberByHostInstance:_o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sj={bundleType:Mh.bundleType,version:Mh.version,rendererPackageName:Mh.rendererPackageName,rendererConfig:Mh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Gf(a),a===null?null:a.stateNode},findFiberByHostInstance:Mh.findFiberByHostInstance||xj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xp.isDisabled&&Xp.supportsFiber)try{go=Xp.inject(Sj),ir=Xp}catch{}}return Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kj,Yn.createPortal=function(a,l){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y0(l))throw Error(n(200));return bj(a,l,null,c)},Yn.createRoot=function(a,l){if(!y0(a))throw Error(n(299));var c=!1,p="",y=DS;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=p0(a,1,!1,null,null,c,!1,p,y),a[di]=l.current,gh(a.nodeType===8?a.parentNode:a),new g0(l)},Yn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Gf(l),a=a===null?null:a.stateNode,a},Yn.flushSync=function(a){return Mo(a)},Yn.hydrate=function(a,l,c){if(!Gp(l))throw Error(n(200));return Qp(null,a,l,!0,c)},Yn.hydrateRoot=function(a,l,c){if(!y0(a))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,y=!1,w="",P=DS;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),l=PS(l,null,a,1,c??null,y,!1,w,P),a[di]=l.current,gh(a),p)for(a=0;a<p.length;a++)c=p[a],y=c._getVersion,y=y(c._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[c,y]:l.mutableSourceEagerHydrationData.push(c,y);return new Hp(l)},Yn.render=function(a,l,c){if(!Gp(l))throw Error(n(200));return Qp(null,a,l,!1,c)},Yn.unmountComponentAtNode=function(a){if(!Gp(a))throw Error(n(40));return a._reactRootContainer?(Mo(function(){Qp(null,null,a,!1,function(){a._reactRootContainer=null,a[di]=null})}),!0):!1},Yn.unstable_batchedUpdates=l0,Yn.unstable_renderSubtreeIntoContainer=function(a,l,c,p){if(!Gp(c))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Qp(a,l,c,!1,p)},Yn.version="18.3.1-next-f1338f8080-20240426",Yn}var GS;function z2(){if(GS)return v0.exports;GS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),v0.exports=Uj(),v0.exports}var QS;function zj(){if(QS)return Yp;QS=1;var t=z2();return Yp.createRoot=t.createRoot,Yp.hydrateRoot=t.hydrateRoot,Yp}var Bj=zj();const $j=Zb(Bj),qj="modulepreload",Kj=function(t){return"/"+t},XS={},Gt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(h=>{if(h=Kj(h),h in XS)return;XS[h]=!0;const d=h.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":qj,d||(g.as="script"),g.crossOrigin="",g.href=h,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function YS({size:t="md",variant:e="circle",className:n=""}){const r={xs:{wrapper:"w-6 h-6",img:"w-5 h-5"},sm:{wrapper:"w-8 h-8",img:"w-6 h-6"},md:{wrapper:"w-12 h-12",img:"w-10 h-10"},lg:{wrapper:"w-20 h-20",img:"w-16 h-16"},xl:{wrapper:"w-32 h-32",img:"w-24 h-24"}},s=r[t]||r.md;return x.jsx("div",{className:`${e==="circle"?"bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full shadow-lg overflow-hidden flex items-center justify-center":""} ${s.wrapper} ${n}`.trim(),children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:`${s.img} object-contain ${e==="circle"?"transform -rotate-12":""}`,loading:"lazy"})})}const Wj=()=>{};var JS={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const B2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Hj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],u=t[n++],h=((s&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},$2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,u=o?t[s+1]:0,h=s+2<t.length,d=h?t[s+2]:0,m=i>>2,g=(i&3)<<4|u>>4;let v=(u&15)<<2|d>>6,k=d&63;h||(k=64,o||(v=64)),r.push(n[m],n[g],n[v],n[k])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(B2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Hj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||o==null||u==null||h==null)throw new Gj;const d=i<<2|o>>4;if(r.push(d),u!==64){const m=o<<4&240|u>>2;if(r.push(m),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Gj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qj=function(t){const e=B2(t);return $2.encodeByteArray(e,!0)},ng=function(t){return Qj(t).replace(/\./g,"")},q2=function(t){try{return $2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function K2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xj=()=>K2().__FIREBASE_DEFAULTS__,Yj=()=>{if(typeof process>"u"||typeof JS>"u")return;const t=JS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Jj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&q2(t[1]);return e&&JSON.parse(e)},Qg=()=>{try{return Wj()||Xj()||Yj()||Jj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},W2=t=>{var e,n;return(n=(e=Qg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},H2=t=>{const e=W2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},G2=()=>{var t;return(t=Qg())==null?void 0:t.config},Q2=t=>{var e;return(e=Qg())==null?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Dl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nx(t){return(await fetch(t,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function X2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ng(JSON.stringify(n)),ng(JSON.stringify(o)),""].join(".")}const fd={};function e3(){const t={prod:[],emulator:[]};for(const e of Object.keys(fd))fd[e]?t.emulator.push(e):t.prod.push(e);return t}function t3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ZS=!1;function rx(t,e){if(typeof window>"u"||typeof document>"u"||!Dl(window.location.host)||fd[t]===e||fd[t]||ZS)return;fd[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=e3().prod.length>0;function i(){const g=document.getElementById(r);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{ZS=!0,i()},g}function d(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=t3(r),v=n("text"),k=document.getElementById(v)||document.createElement("span"),T=n("learnmore"),_=document.getElementById(T)||document.createElement("a"),I=n("preprendIcon"),N=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const D=g.element;o(D),d(_,T);const O=h();u(N,I),D.append(N,k,_,O),document.body.appendChild(D)}s?(k.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function n3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function Y2(){var t;const e=(t=Qg())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function r3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function s3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i3(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function J2(){return!Y2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z2(){return!Y2()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Xg(){try{return typeof indexedDB=="object"}catch{return!1}}function ix(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function eP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const a3="FirebaseError";class Br extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=a3,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?o3(i,r):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new Br(s,u,r)}}function o3(t,e){return t.replace(l3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const l3=/\{\$([^}]+)}/g;function u3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ga(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(e_(i)&&e_(o)){if(!Ga(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function e_(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function of(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function id(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function c3(t,e){const n=new h3(t,e);return n.subscribe.bind(n)}class h3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=w0),s.error===void 0&&(s.error=w0),s.complete===void 0&&(s.complete=w0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function w0(){}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const f3=1e3,p3=2,m3=14400*1e3,g3=.5;function t_(t,e=f3,n=p3){const r=e*Math.pow(n,t),s=Math.round(g3*r*(Math.random()-.5)*2);return Math.min(m3,r+s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ct(t){return t&&t._delegate?t._delegate:t}class zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Go="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class y3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Zj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w3(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:v3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function v3(t){return t===Go?void 0:t}function w3(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class b3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new y3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const x3={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},E3=He.INFO,k3={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},S3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=k3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yg{constructor(e){this.name=e,this._logLevel=E3,this._logHandler=S3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const _3=(t,e)=>e.some(n=>t instanceof n);let n_,r_;function T3(){return n_||(n_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I3(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tP=new WeakMap,Tw=new WeakMap,nP=new WeakMap,b0=new WeakMap,ax=new WeakMap;function C3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ba(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tP.set(n,t)}).catch(()=>{}),ax.set(e,t),e}function P3(t){if(Tw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Tw.set(t,e)}let Iw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ba(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function N3(t){Iw=t(Iw)}function D3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(x0(this),e,...n);return nP.set(r,e.sort?e.sort():[e]),Ba(r)}:I3().includes(t)?function(...e){return t.apply(x0(this),e),Ba(tP.get(this))}:function(...e){return Ba(t.apply(x0(this),e))}}function R3(t){return typeof t=="function"?D3(t):(t instanceof IDBTransaction&&P3(t),_3(t,T3())?new Proxy(t,Iw):t)}function Ba(t){if(t instanceof IDBRequest)return C3(t);if(b0.has(t))return b0.get(t);const e=R3(t);return e!==t&&(b0.set(t,e),ax.set(e,t)),e}const x0=t=>ax.get(t);function rP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),u=Ba(o);return r&&o.addEventListener("upgradeneeded",h=>{r(Ba(o.result),h.oldVersion,h.newVersion,Ba(o.transaction),h)}),n&&o.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{i&&h.addEventListener("close",()=>i()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const M3=["get","getKey","getAll","getAllKeys","count"],A3=["put","add","delete","clear"],E0=new Map;function s_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(E0.get(e))return E0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=A3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||M3.includes(n)))return;const i=async function(o,...u){const h=this.transaction(o,s?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),s&&h.done]))[0]};return E0.set(e,i),i}N3(t=>({...t,get:(e,n,r)=>s_(e,n)||t.get(e,n,r),has:(e,n)=>!!s_(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(L3(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function L3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cw="@firebase/app",i_="0.14.5";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Di=new Yg("@firebase/app"),j3="@firebase/app-compat",V3="@firebase/analytics-compat",F3="@firebase/analytics",U3="@firebase/app-check-compat",z3="@firebase/app-check",B3="@firebase/auth",$3="@firebase/auth-compat",q3="@firebase/database",K3="@firebase/data-connect",W3="@firebase/database-compat",H3="@firebase/functions",G3="@firebase/functions-compat",Q3="@firebase/installations",X3="@firebase/installations-compat",Y3="@firebase/messaging",J3="@firebase/messaging-compat",Z3="@firebase/performance",e5="@firebase/performance-compat",t5="@firebase/remote-config",n5="@firebase/remote-config-compat",r5="@firebase/storage",s5="@firebase/storage-compat",i5="@firebase/firestore",a5="@firebase/ai",o5="@firebase/firestore-compat",l5="firebase",u5="12.5.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pw="[DEFAULT]",c5={[Cw]:"fire-core",[j3]:"fire-core-compat",[F3]:"fire-analytics",[V3]:"fire-analytics-compat",[z3]:"fire-app-check",[U3]:"fire-app-check-compat",[B3]:"fire-auth",[$3]:"fire-auth-compat",[q3]:"fire-rtdb",[K3]:"fire-data-connect",[W3]:"fire-rtdb-compat",[H3]:"fire-fn",[G3]:"fire-fn-compat",[Q3]:"fire-iid",[X3]:"fire-iid-compat",[Y3]:"fire-fcm",[J3]:"fire-fcm-compat",[Z3]:"fire-perf",[e5]:"fire-perf-compat",[t5]:"fire-rc",[n5]:"fire-rc-compat",[r5]:"fire-gcs",[s5]:"fire-gcs-compat",[i5]:"fire-fst",[o5]:"fire-fst-compat",[a5]:"fire-vertex","fire-js":"fire-js",[l5]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rg=new Map,h5=new Map,Nw=new Map;function a_(t,e){try{t.container.addComponent(e)}catch(n){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function as(t){const e=t.name;if(Nw.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;Nw.set(e,t);for(const n of rg.values())a_(n,t);for(const n of h5.values())a_(n,t);return!0}function so(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yr(t){return t==null?!1:t.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const d5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$a=new Rl("app","Firebase",d5);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class f5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $a.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ml=u5;function sP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Pw,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw $a.create("bad-app-name",{appName:String(s)});if(n||(n=G2()),!n)throw $a.create("no-options");const i=rg.get(s);if(i){if(Ga(n,i.options)&&Ga(r,i.config))return i;throw $a.create("duplicate-app",{appName:s})}const o=new b3(s);for(const h of Nw.values())o.addComponent(h);const u=new f5(n,r,o);return rg.set(s,u),u}function Jg(t=Pw){const e=rg.get(t);if(!e&&t===Pw&&G2())return sP();if(!e)throw $a.create("no-app",{appName:t});return e}function rr(t,e,n){let r=c5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(o.join(" "));return}as(new zr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const p5="firebase-heartbeat-database",m5=1,Pd="firebase-heartbeat-store";let k0=null;function iP(){return k0||(k0=rP(p5,m5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pd)}catch(n){console.warn(n)}}}}).catch(t=>{throw $a.create("idb-open",{originalErrorMessage:t.message})})),k0}async function g5(t){try{const e=(await iP()).transaction(Pd),n=await e.objectStore(Pd).get(aP(t));return await e.done,n}catch(e){if(e instanceof Br)Di.warn(e.message);else{const n=$a.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(n.message)}}}async function o_(t,e){try{const n=(await iP()).transaction(Pd,"readwrite");await n.objectStore(Pd).put(e,aP(t)),await n.done}catch(n){if(n instanceof Br)Di.warn(n.message);else{const r=$a.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Di.warn(r.message)}}}function aP(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const y5=1024,v5=30;class w5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new x5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=l_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>v5){const i=E5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l_(),{heartbeatsToSend:r,unsentEntries:s}=b5(this._heartbeatsCache.heartbeats),i=ng(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Di.warn(n),""}}}function l_(){return new Date().toISOString().substring(0,10)}function b5(t,e=y5){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),u_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),u_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class x5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xg()?ix().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await g5(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return o_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return o_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function u_(t){return ng(JSON.stringify({version:2,heartbeats:t})).length}function E5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function k5(t){as(new zr("platform-logger",e=>new O3(e),"PRIVATE")),as(new zr("heartbeat",e=>new w5(e),"PRIVATE")),rr(Cw,i_,t),rr(Cw,i_,"esm2020"),rr("fire-js","")}k5("");function oP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S5=oP,lP=new Rl("auth","Firebase",oP());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sg=new Yg("@firebase/auth");function _5(t,...e){sg.logLevel<=He.WARN&&sg.warn(`Auth (${Ml}): ${t}`,...e)}function Im(t,...e){sg.logLevel<=He.ERROR&&sg.error(`Auth (${Ml}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function os(t,...e){throw ox(t,...e)}function js(t,...e){return ox(t,...e)}function uP(t,e,n){const r={...S5(),[e]:n};return new Rl("auth","Firebase",r).create(e,{appName:t.name})}function Pi(t){return uP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ox(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lP.create(t,...e)}function Oe(t,e,...n){if(!t)throw ox(e,...n)}function _i(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Im(e),new Error(e)}function Ri(t,e){t||_i(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Dw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function T5(){return c_()==="http:"||c_()==="https:"}function c_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function I5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T5()||sx()||"connection"in navigator)?navigator.onLine:!0}function C5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=n3()||s3()}get(){return I5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function lx(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const P5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const N5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D5=new lf(3e4,6e4);function zi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Bi(t,e,n,r,s={}){return hP(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const u=of({key:t.config.apiKey,...o}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:h,...i};return r3()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Dl(t.emulatorConfig.host)&&(d.credentials="include"),cP.fetch()(await dP(t,t.config.apiHost,n,u),d)})}async function hP(t,e,n){t._canInitEmulator=!1;const r={...P5,...e};try{const s=new M5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Jp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const u=i.ok?o.errorMessage:o.error.message,[h,d]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jp(t,"credential-already-in-use",o);if(h==="EMAIL_EXISTS")throw Jp(t,"email-already-in-use",o);if(h==="USER_DISABLED")throw Jp(t,"user-disabled",o);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw uP(t,m,d);os(t,m)}}catch(s){if(s instanceof Br)throw s;os(t,"network-request-failed",{message:String(s)})}}async function uf(t,e,n,r,s={}){const i=await Bi(t,e,n,r,s);return"mfaPendingCredential"in i&&os(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function dP(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?lx(t.config,s):`${t.config.apiScheme}://${s}`;return N5.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function R5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(js(this.auth,"network-request-failed")),D5.get())})}}function Jp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=js(t,e,r);return s.customData._tokenResponse=n,s}function h_(t){return t!==void 0&&t.enterprise!==void 0}class A5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return R5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O5(t,e){return Bi(t,"GET","/v2/recaptchaConfig",zi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function L5(t,e){return Bi(t,"POST","/v1/accounts:delete",e)}async function ig(t,e){return Bi(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function pd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j5(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),s=ux(r);Oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:pd(S0(s.auth_time)),issuedAtTime:pd(S0(s.iat)),expirationTime:pd(S0(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function S0(t){return Number(t)*1e3}function ux(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Im("JWT malformed, contained fewer than 3 sections"),null;try{const s=q2(n);return s?JSON.parse(s):(Im("Failed to decode base64 JWT payload"),null)}catch(s){return Im("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function d_(t){const e=ux(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Nd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Br&&V5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function V5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class F5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pd(this.lastLoginAt),this.creationTime=pd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ag(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Nd(t,ig(n,{idToken:r}));Oe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=(e=i.providerUserInfo)!=null&&e.length?fP(i.providerUserInfo):[],u=z5(t.providerData,o),h=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(u!=null&&u.length),m=h?d:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new Rw(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function U5(t){const e=Ct(t);await ag(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z5(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function fP(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function B5(t,e){const n=await hP(t,{},async()=>{const r=of({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await dP(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&Dl(t.emulatorConfig.host)&&(h.credentials="include"),cP.fetch()(o,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $5(t,e){return Bi(t,"POST","/v2/accounts:revokeToken",zi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=d_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await B5(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new rc;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rc,this.toJSON())}_performRefresh(){return _i("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _a(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ns{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new F5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Rw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Nd(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return j5(this,e)}reload(){return U5(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ns({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ag(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yr(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await Nd(this,L5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,d=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:k,providerData:T,stsTokenManager:_}=n;Oe(g&&_,e,"internal-error");const I=rc.fromJSON(this.name,_);Oe(typeof g=="string",e,"internal-error"),_a(r,e.name),_a(s,e.name),Oe(typeof v=="boolean",e,"internal-error"),Oe(typeof k=="boolean",e,"internal-error"),_a(i,e.name),_a(o,e.name),_a(u,e.name),_a(h,e.name),_a(d,e.name),_a(m,e.name);const N=new ns({uid:g,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:k,photoURL:o,phoneNumber:i,tenantId:u,stsTokenManager:I,createdAt:d,lastLoginAt:m});return T&&Array.isArray(T)&&(N.providerData=T.map(D=>({...D}))),h&&(N._redirectEventId=h),N}static async _fromIdTokenResponse(e,n,r=!1){const s=new rc;s.updateFromServerResponse(n);const i=new ns({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ag(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?fP(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new rc;u.updateFromIdToken(r);const h=new ns({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Rw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(h,d),h}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const f_=new Map;function Ti(t){Ri(t instanceof Function,"Expected a class definition");let e=f_.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f_.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pP.type="NONE";const p_=pP;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Cm(t,e,n){return`firebase:${t}:${e}:${n}`}class sc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Cm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Cm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ig(this.auth,{idToken:e}).catch(()=>{});return n?ns._fromGetAccountInfoResponse(this.auth,n,e):null}return ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new sc(Ti(p_),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Ti(p_);const o=Cm(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const m=await d._get(o);if(m){let g;if(typeof m=="string"){const v=await ig(e,{idToken:m}).catch(()=>{});if(!v)break;g=await ns._fromGetAccountInfoResponse(e,v,m)}else g=ns._fromJSON(e,m);d!==i&&(u=g),i=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!h.length?new sc(i,e,r):(i=h[0],u&&await i._set(o,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new sc(i,e,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function m_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bP(e))return"Blackberry";if(xP(e))return"Webos";if(gP(e))return"Safari";if((e.includes("chrome/")||yP(e))&&!e.includes("edge/"))return"Chrome";if(wP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mP(t=sn()){return/firefox\//i.test(t)}function gP(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yP(t=sn()){return/crios\//i.test(t)}function vP(t=sn()){return/iemobile/i.test(t)}function wP(t=sn()){return/android/i.test(t)}function bP(t=sn()){return/blackberry/i.test(t)}function xP(t=sn()){return/webos/i.test(t)}function cx(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function q5(t=sn()){var e;return cx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function K5(){return i3()&&document.documentMode===10}function EP(t=sn()){return cx(t)||wP(t)||xP(t)||bP(t)||/windows phone/i.test(t)||vP(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kP(t,e=[]){let n;switch(t){case"Browser":n=m_(sn());break;case"Worker":n=`${m_(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ml}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class W5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,u)=>{try{const h=e(i);o(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function H5(t,e={}){return Bi(t,"GET","/v2/passwordPolicy",zi(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const G5=6;class Q5{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??G5,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class X5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g_(this),this.idTokenSubscription=new g_(this),this.beforeStateQueue=new W5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await sc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ig(this,{idToken:e}),r=await ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)==null?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h!=null&&h.user&&(s=h.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ag(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yr(this.app))return Promise.reject(Pi(this));const n=e?Ct(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yr(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yr(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H5(this),n=new Q5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ti(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await sc.create(this,[Ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(u,this,"internal-error"),u.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{o=!0,h()}}else{const h=e.addObserver(n);return()=>{o=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return n!=null&&n.error&&_5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function io(t){return Ct(t)}let g_=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=c3(e=>this.observer=e)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Zg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y5(t){Zg=t}function SP(t){return Zg.loadJS(t)}function J5(){return Zg.recaptchaEnterpriseScript}function Z5(){return Zg.gapiScript}function e6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class t6{constructor(){this.enterprise=new n6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class n6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const r6="recaptcha-enterprise",_P="NO_RECAPTCHA";class s6{constructor(e){this.type=r6,this.auth=io(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,u)=>{O5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new A5(h);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(h=>{u(h)})})}function s(i,o,u){const h=window.grecaptcha;h_(h)?h.enterprise.ready(()=>{h.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(_P)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t6().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(u=>{if(!n&&h_(window.grecaptcha))s(u,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let h=J5();h.length!==0&&(h+=u),SP(h).then(()=>{s(u,i,o)}).catch(d=>{o(d)})}}).catch(u=>{o(u)})})}}async function y_(t,e,n,r=!1,s=!1){const i=new s6(t);let o;if(s)o=_P;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function og(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await y_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await y_(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(o)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function i6(t,e){const n=so(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Ga(s,e??{}))return r;os(r,"already-initialized")}return n.initialize({options:e})}function a6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function o6(t,e,n){const r=io(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=TP(e),{host:o,port:u}=l6(e),h=u===null?"":`:${u}`,d={url:`${i}//${o}${h}/`},m=Object.freeze({host:o,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(Ga(d,r.config.emulator)&&Ga(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Dl(o)?(nx(`${i}//${o}${h}`),rx("Auth",!0)):u6()}function TP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l6(t){const e=TP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:v_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:v_(o)}}}function v_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function u6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,n){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}async function c6(t,e){return Bi(t,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function h6(t,e){return uf(t,"POST","/v1/accounts:signInWithPassword",zi(t,e))}async function d6(t,e){return Bi(t,"POST","/v1/accounts:sendOobCode",zi(t,e))}async function f6(t,e){return d6(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function p6(t,e){return uf(t,"POST","/v1/accounts:signInWithEmailLink",zi(t,e))}async function m6(t,e){return uf(t,"POST","/v1/accounts:signInWithEmailLink",zi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dd extends hx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Dd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Dd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,n,"signInWithPassword",h6);case"emailLink":return p6(e,{email:this._email,oobCode:this._password});default:os(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,r,"signUpPassword",c6);case"emailLink":return m6(e,{idToken:n,email:this._email,oobCode:this._password});default:os(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ic(t,e){return uf(t,"POST","/v1/accounts:signInWithIdp",zi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const g6="http://localhost";class gl extends hx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):os("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new gl(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ic(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ic(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ic(e,n)}buildRequest(){const e={requestUri:g6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=of(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function y6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function v6(t){const e=sd(id(t)).link,n=e?sd(id(e)).deep_link_id:null,r=sd(id(t)).deep_link_id;return(r?sd(id(r)).link:null)||r||n||e||t}class dx{constructor(e){const n=sd(id(e)),r=n.apiKey??null,s=n.oobCode??null,i=y6(n.mode??null);Oe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=v6(e);try{return new dx(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cc{constructor(){this.providerId=Cc.PROVIDER_ID}static credential(e,n){return Dd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=dx.parseLink(n);return Oe(r,"argument-error"),Dd._fromEmailAndCode(e,r.code,r.tenantId)}}Cc.PROVIDER_ID="password";Cc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cf extends IP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class La extends cf{constructor(){super("facebook.com")}static credential(e){return gl._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return La.credential(e.oauthAccessToken)}catch{return null}}}La.FACEBOOK_SIGN_IN_METHOD="facebook.com";La.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ja extends cf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gl._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ja.credential(n,r)}catch{return null}}}ja.GOOGLE_SIGN_IN_METHOD="google.com";ja.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Va extends cf{constructor(){super("github.com")}static credential(e){return gl._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Va.credential(e.oauthAccessToken)}catch{return null}}}Va.GITHUB_SIGN_IN_METHOD="github.com";Va.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fa extends cf{constructor(){super("twitter.com")}static credential(e,n){return gl._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fa.credential(n,r)}catch{return null}}}Fa.TWITTER_SIGN_IN_METHOD="twitter.com";Fa.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function w6(t,e){return uf(t,"POST","/v1/accounts:signUp",zi(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ns._fromIdTokenResponse(e,r,s),o=w_(r);return new yl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=w_(r);return new yl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function w_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lg extends Br{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,lg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new lg(e,n,r,s)}}function CP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lg._fromErrorAndOperation(t,s,e,r):s})}async function b6(t,e,n=!1){const r=await Nd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yl._forOperation(t,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function x6(t,e,n=!1){const{auth:r}=t;if(yr(r.app))return Promise.reject(Pi(r));const s="reauthenticate";try{const i=await Nd(t,CP(r,s,e,t),n);Oe(i.idToken,r,"internal-error");const o=ux(i.idToken);Oe(o,r,"internal-error");const{sub:u}=o;return Oe(t.uid===u,r,"user-mismatch"),yl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&os(r,"user-mismatch"),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function PP(t,e,n=!1){if(yr(t.app))return Promise.reject(Pi(t));const r="signIn",s=await CP(t,r,e),i=await yl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function E6(t,e){return PP(io(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function NP(t){const e=io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function k6(t,e,n){const r=io(t);await og(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",f6)}async function S6(t,e,n){if(yr(t.app))return Promise.reject(Pi(t));const r=io(t),s=await og(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w6).catch(o=>{throw o.code==="auth/password-does-not-meet-requirements"&&NP(t),o}),i=await yl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}function _6(t,e,n){return yr(t.app)?Promise.reject(Pi(t)):E6(Ct(t),Cc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&NP(t),r})}function T6(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function I6(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function C6(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function P6(t){return Ct(t).signOut()}const ug="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class DP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ug,"1"),this.storage.removeItem(ug),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const N6=1e3,D6=10;class RP extends DP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,h)=>{this.notifyListeners(o,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);K5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,D6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},N6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RP.type="LOCAL";const R6=RP;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MP extends DP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MP.type="SESSION";const AP=MP;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function M6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ey{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ey(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(o).map(async d=>d(n.origin,i)),h=await M6(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ey.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class A6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((u,h)=>{const d=fx("",20);s.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(g){const v=g;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(m),i=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(v.data.response);break;default:clearTimeout(m),clearTimeout(i),h(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vs(){return window}function O6(t){Vs().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function OP(){return typeof Vs().WorkerGlobalScope<"u"&&typeof Vs().importScripts=="function"}async function L6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function V6(){return OP()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const LP="firebaseLocalStorageDb",F6=1,cg="firebaseLocalStorage",jP="fbase_key";class hf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ty(t,e){return t.transaction([cg],e?"readwrite":"readonly").objectStore(cg)}function U6(){const t=indexedDB.deleteDatabase(LP);return new hf(t).toPromise()}function Mw(){const t=indexedDB.open(LP,F6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cg,{keyPath:jP})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cg)?e(r):(r.close(),await U6(),e(await Mw()))})})}async function b_(t,e,n){const r=ty(t,!0).put({[jP]:e,value:n});return new hf(r).toPromise()}async function z6(t,e){const n=ty(t,!1).get(e),r=await new hf(n).toPromise();return r===void 0?null:r.value}function x_(t,e){const n=ty(t,!0).delete(e);return new hf(n).toPromise()}const B6=800,$6=3;class VP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ey._getInstance(V6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await L6(),!this.activeServiceWorker)return;this.sender=new A6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(e=r[0])!=null&&e.fulfilled&&(n=r[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mw();return await b_(e,ug,"1"),await x_(e,ug),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>b_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>z6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ty(s,!1).getAll();return new hf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VP.type="LOCAL";const q6=VP;new lf(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function K6(t,e){return e?Ti(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class px extends hx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ic(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ic(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ic(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function W6(t){return PP(t.auth,new px(t),t.bypassAuthState)}function H6(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),x6(n,new px(t),t.bypassAuthState)}async function G6(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),b6(n,new px(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FP{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:u}=e;if(o){this.reject(o);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W6;case"linkViaPopup":case"linkViaRedirect":return G6;case"reauthViaPopup":case"reauthViaRedirect":return H6;default:os(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Q6=new lf(2e3,1e4);class Yu extends FP{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Yu.currentPopupAction&&Yu.currentPopupAction.cancel(),Yu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=fx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q6.get())};e()}}Yu.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const X6="pendingRedirect",Pm=new Map;class Y6 extends FP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pm.get(this.auth._key());if(!e){try{const n=await J6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}Pm.set(this.auth._key(),e)}return this.bypassAuthState||Pm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J6(t,e){const n=tV(e),r=eV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Z6(t,e){Pm.set(t._key(),e)}function eV(t){return Ti(t._redirectPersistence)}function tV(t){return Cm(X6,t.config.apiKey,t.name)}async function nV(t,e,n=!1){if(yr(t.app))return Promise.reject(Pi(t));const r=io(t),s=K6(r,e),i=await new Y6(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rV=600*1e3;class sV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!UP(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(js(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rV&&this.cachedEventUids.clear(),this.cachedEventUids.has(E_(e))}saveEventToCache(e){this.cachedEventUids.add(E_(e)),this.lastProcessedEventTime=Date.now()}}function E_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UP(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function aV(t,e={}){return Bi(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const oV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lV=/^https?/;async function uV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aV(t);for(const n of e)try{if(cV(n))return}catch{}os(t,"unauthorized-domain")}function cV(t){const e=Dw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!lV.test(n))return!1;if(oV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hV=new lf(3e4,6e4);function k_(){const t=Vs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dV(t){return new Promise((e,n)=>{var r,s,i;function o(){k_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k_(),n(js(t,"network-request-failed"))},timeout:hV.get()})}if((s=(r=Vs().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((i=Vs().gapi)!=null&&i.load)o();else{const u=e6("iframefcb");return Vs()[u]=()=>{gapi.load?o():n(js(t,"network-request-failed"))},SP(`${Z5()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw Nm=null,e})}let Nm=null;function fV(t){return Nm=Nm||dV(t),Nm}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pV=new lf(5e3,15e3),mV="__/auth/iframe",gV="emulator/auth/iframe",yV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wV(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lx(e,gV):`https://${t.config.authDomain}/${mV}`,r={apiKey:e.apiKey,appName:t.name,v:Ml},s=vV.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${of(r).slice(1)}`}async function bV(t){const e=await fV(t),n=Vs().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:wV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yV,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=js(t,"network-request-failed"),u=Vs().setTimeout(()=>{i(o)},pV.get());function h(){Vs().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{i(o)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EV=500,kV=600,SV="_blank",_V="http://localhost";class S_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TV(t,e,n,r=EV,s=kV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...xV,width:r.toString(),height:s.toString(),top:i,left:o},d=sn().toLowerCase();n&&(u=yP(d)?SV:n),mP(d)&&(e=e||_V,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[k,T])=>`${v}${k}=${T},`,"");if(q5(d)&&u!=="_self")return IV(e||"",u),new S_(null);const g=window.open(e||"",u,m);Oe(g,t,"popup-blocked");try{g.focus()}catch{}return new S_(g)}function IV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const CV="__/auth/handler",PV="emulator/auth/handler",NV=encodeURIComponent("fac");async function __(t,e,n,r,s,i){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ml,eventId:s};if(e instanceof IP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",u3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))o[m]=g}if(e instanceof cf){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),d=h?`#${NV}=${encodeURIComponent(h)}`:"";return`${DV(t)}?${of(u).slice(1)}${d}`}function DV({config:t}){return t.emulator?lx(t,PV):`https://${t.authDomain}/${CV}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _0="webStorageSupport";class RV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AP,this._completeRedirectFn=nV,this._overrideRedirectResult=Z6}async _openPopup(e,n,r,s){var i;Ri((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await __(e,n,r,Dw(),s);return TV(e,o,fx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await __(e,n,r,Dw(),s);return O6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ri(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bV(e),r=new sV(e);return n.register("authEvent",s=>(Oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_0,{type:_0},r=>{var s;const i=(s=r==null?void 0:r[0])==null?void 0:s[_0];i!==void 0&&n(!!i),os(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return EP()||gP()||cx()}}const MV=RV;var T_="@firebase/auth",I_="1.11.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function OV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LV(t){as(new zr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;Oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kP(t)},d=new X5(r,s,i,h);return a6(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),as(new zr("auth-internal",e=>{const n=io(e.getProvider("auth").getImmediate());return(r=>new AV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(T_,I_,OV(t)),rr(T_,I_,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jV=300,VV=Q2("authIdTokenMaxAge")||jV;let C_=null;const FV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>VV)return;const s=n==null?void 0:n.token;C_!==s&&(C_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ny(t=Jg()){const e=so(t,"auth");if(e.isInitialized())return e.getImmediate();const n=i6(t,{popupRedirectResolver:MV,persistence:[q6,R6,AP]}),r=Q2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=FV(i.toString());I6(n,o,()=>o(n.currentUser)),T6(n,u=>o(u))}}const s=W2("auth");return s&&o6(n,`http://${s}`),n}function UV(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Y5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=js("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",UV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LV("Browser");var zV="firebase",BV="12.5.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/rr(zV,BV,"app");var P_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qa,zP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function R(){}R.prototype=C.prototype,M.F=C.prototype,M.prototype=new R,M.prototype.constructor=M,M.D=function(j,F,$){for(var L=Array(arguments.length-2),be=2;be<arguments.length;be++)L[be-2]=arguments[be];return C.prototype[F].apply(j,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,C,R){R||(R=0);const j=Array(16);if(typeof C=="string")for(var F=0;F<16;++F)j[F]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(F=0;F<16;++F)j[F]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=M.g[0],R=M.g[1],F=M.g[2];let $=M.g[3],L;L=C+($^R&(F^$))+j[0]+3614090360&4294967295,C=R+(L<<7&4294967295|L>>>25),L=$+(F^C&(R^F))+j[1]+3905402710&4294967295,$=C+(L<<12&4294967295|L>>>20),L=F+(R^$&(C^R))+j[2]+606105819&4294967295,F=$+(L<<17&4294967295|L>>>15),L=R+(C^F&($^C))+j[3]+3250441966&4294967295,R=F+(L<<22&4294967295|L>>>10),L=C+($^R&(F^$))+j[4]+4118548399&4294967295,C=R+(L<<7&4294967295|L>>>25),L=$+(F^C&(R^F))+j[5]+1200080426&4294967295,$=C+(L<<12&4294967295|L>>>20),L=F+(R^$&(C^R))+j[6]+2821735955&4294967295,F=$+(L<<17&4294967295|L>>>15),L=R+(C^F&($^C))+j[7]+4249261313&4294967295,R=F+(L<<22&4294967295|L>>>10),L=C+($^R&(F^$))+j[8]+1770035416&4294967295,C=R+(L<<7&4294967295|L>>>25),L=$+(F^C&(R^F))+j[9]+2336552879&4294967295,$=C+(L<<12&4294967295|L>>>20),L=F+(R^$&(C^R))+j[10]+4294925233&4294967295,F=$+(L<<17&4294967295|L>>>15),L=R+(C^F&($^C))+j[11]+2304563134&4294967295,R=F+(L<<22&4294967295|L>>>10),L=C+($^R&(F^$))+j[12]+1804603682&4294967295,C=R+(L<<7&4294967295|L>>>25),L=$+(F^C&(R^F))+j[13]+4254626195&4294967295,$=C+(L<<12&4294967295|L>>>20),L=F+(R^$&(C^R))+j[14]+2792965006&4294967295,F=$+(L<<17&4294967295|L>>>15),L=R+(C^F&($^C))+j[15]+1236535329&4294967295,R=F+(L<<22&4294967295|L>>>10),L=C+(F^$&(R^F))+j[1]+4129170786&4294967295,C=R+(L<<5&4294967295|L>>>27),L=$+(R^F&(C^R))+j[6]+3225465664&4294967295,$=C+(L<<9&4294967295|L>>>23),L=F+(C^R&($^C))+j[11]+643717713&4294967295,F=$+(L<<14&4294967295|L>>>18),L=R+($^C&(F^$))+j[0]+3921069994&4294967295,R=F+(L<<20&4294967295|L>>>12),L=C+(F^$&(R^F))+j[5]+3593408605&4294967295,C=R+(L<<5&4294967295|L>>>27),L=$+(R^F&(C^R))+j[10]+38016083&4294967295,$=C+(L<<9&4294967295|L>>>23),L=F+(C^R&($^C))+j[15]+3634488961&4294967295,F=$+(L<<14&4294967295|L>>>18),L=R+($^C&(F^$))+j[4]+3889429448&4294967295,R=F+(L<<20&4294967295|L>>>12),L=C+(F^$&(R^F))+j[9]+568446438&4294967295,C=R+(L<<5&4294967295|L>>>27),L=$+(R^F&(C^R))+j[14]+3275163606&4294967295,$=C+(L<<9&4294967295|L>>>23),L=F+(C^R&($^C))+j[3]+4107603335&4294967295,F=$+(L<<14&4294967295|L>>>18),L=R+($^C&(F^$))+j[8]+1163531501&4294967295,R=F+(L<<20&4294967295|L>>>12),L=C+(F^$&(R^F))+j[13]+2850285829&4294967295,C=R+(L<<5&4294967295|L>>>27),L=$+(R^F&(C^R))+j[2]+4243563512&4294967295,$=C+(L<<9&4294967295|L>>>23),L=F+(C^R&($^C))+j[7]+1735328473&4294967295,F=$+(L<<14&4294967295|L>>>18),L=R+($^C&(F^$))+j[12]+2368359562&4294967295,R=F+(L<<20&4294967295|L>>>12),L=C+(R^F^$)+j[5]+4294588738&4294967295,C=R+(L<<4&4294967295|L>>>28),L=$+(C^R^F)+j[8]+2272392833&4294967295,$=C+(L<<11&4294967295|L>>>21),L=F+($^C^R)+j[11]+1839030562&4294967295,F=$+(L<<16&4294967295|L>>>16),L=R+(F^$^C)+j[14]+4259657740&4294967295,R=F+(L<<23&4294967295|L>>>9),L=C+(R^F^$)+j[1]+2763975236&4294967295,C=R+(L<<4&4294967295|L>>>28),L=$+(C^R^F)+j[4]+1272893353&4294967295,$=C+(L<<11&4294967295|L>>>21),L=F+($^C^R)+j[7]+4139469664&4294967295,F=$+(L<<16&4294967295|L>>>16),L=R+(F^$^C)+j[10]+3200236656&4294967295,R=F+(L<<23&4294967295|L>>>9),L=C+(R^F^$)+j[13]+681279174&4294967295,C=R+(L<<4&4294967295|L>>>28),L=$+(C^R^F)+j[0]+3936430074&4294967295,$=C+(L<<11&4294967295|L>>>21),L=F+($^C^R)+j[3]+3572445317&4294967295,F=$+(L<<16&4294967295|L>>>16),L=R+(F^$^C)+j[6]+76029189&4294967295,R=F+(L<<23&4294967295|L>>>9),L=C+(R^F^$)+j[9]+3654602809&4294967295,C=R+(L<<4&4294967295|L>>>28),L=$+(C^R^F)+j[12]+3873151461&4294967295,$=C+(L<<11&4294967295|L>>>21),L=F+($^C^R)+j[15]+530742520&4294967295,F=$+(L<<16&4294967295|L>>>16),L=R+(F^$^C)+j[2]+3299628645&4294967295,R=F+(L<<23&4294967295|L>>>9),L=C+(F^(R|~$))+j[0]+4096336452&4294967295,C=R+(L<<6&4294967295|L>>>26),L=$+(R^(C|~F))+j[7]+1126891415&4294967295,$=C+(L<<10&4294967295|L>>>22),L=F+(C^($|~R))+j[14]+2878612391&4294967295,F=$+(L<<15&4294967295|L>>>17),L=R+($^(F|~C))+j[5]+4237533241&4294967295,R=F+(L<<21&4294967295|L>>>11),L=C+(F^(R|~$))+j[12]+1700485571&4294967295,C=R+(L<<6&4294967295|L>>>26),L=$+(R^(C|~F))+j[3]+2399980690&4294967295,$=C+(L<<10&4294967295|L>>>22),L=F+(C^($|~R))+j[10]+4293915773&4294967295,F=$+(L<<15&4294967295|L>>>17),L=R+($^(F|~C))+j[1]+2240044497&4294967295,R=F+(L<<21&4294967295|L>>>11),L=C+(F^(R|~$))+j[8]+1873313359&4294967295,C=R+(L<<6&4294967295|L>>>26),L=$+(R^(C|~F))+j[15]+4264355552&4294967295,$=C+(L<<10&4294967295|L>>>22),L=F+(C^($|~R))+j[6]+2734768916&4294967295,F=$+(L<<15&4294967295|L>>>17),L=R+($^(F|~C))+j[13]+1309151649&4294967295,R=F+(L<<21&4294967295|L>>>11),L=C+(F^(R|~$))+j[4]+4149444226&4294967295,C=R+(L<<6&4294967295|L>>>26),L=$+(R^(C|~F))+j[11]+3174756917&4294967295,$=C+(L<<10&4294967295|L>>>22),L=F+(C^($|~R))+j[2]+718787259&4294967295,F=$+(L<<15&4294967295|L>>>17),L=R+($^(F|~C))+j[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(F+(L<<21&4294967295|L>>>11))&4294967295,M.g[2]=M.g[2]+F&4294967295,M.g[3]=M.g[3]+$&4294967295}r.prototype.v=function(M,C){C===void 0&&(C=M.length);const R=C-this.blockSize,j=this.C;let F=this.h,$=0;for(;$<C;){if(F==0)for(;$<=R;)s(this,M,$),$+=this.blockSize;if(typeof M=="string"){for(;$<C;)if(j[F++]=M.charCodeAt($++),F==this.blockSize){s(this,j),F=0;break}}else for(;$<C;)if(j[F++]=M[$++],F==this.blockSize){s(this,j),F=0;break}}this.h=F,this.o+=C},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;C=this.o*8;for(var R=M.length-8;R<M.length;++R)M[R]=C&255,C/=256;for(this.v(M),M=Array(16),C=0,R=0;R<4;++R)for(let j=0;j<32;j+=8)M[C++]=this.g[R]>>>j&255;return M};function i(M,C){var R=u;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=C(M)}function o(M,C){this.h=C;const R=[];let j=!0;for(let F=M.length-1;F>=0;F--){const $=M[F]|0;j&&$==C||(R[F]=$,j=!1)}this.g=R}var u={};function h(M){return-128<=M&&M<128?i(M,function(C){return new o([C|0],C<0?-1:0)}):new o([M|0],M<0?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return g;if(M<0)return I(d(-M));const C=[];let R=1;for(let j=0;M>=R;j++)C[j]=M/R|0,R*=4294967296;return new o(C,0)}function m(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return I(m(M.substring(1),C));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=d(Math.pow(C,8));let j=g;for(let $=0;$<M.length;$+=8){var F=Math.min(8,M.length-$);const L=parseInt(M.substring($,$+F),C);F<8?(F=d(Math.pow(C,F)),j=j.j(F).add(d(L))):(j=j.j(R),j=j.add(d(L)))}return j}var g=h(0),v=h(1),k=h(16777216);t=o.prototype,t.m=function(){if(_(this))return-I(this).m();let M=0,C=1;for(let R=0;R<this.g.length;R++){const j=this.i(R);M+=(j>=0?j:4294967296+j)*C,C*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(T(this))return"0";if(_(this))return"-"+I(this).toString(M);const C=d(Math.pow(M,6));var R=this;let j="";for(;;){const F=U(R,C).g;R=N(R,F.j(C));let $=((R.g.length>0?R.g[0]:R.h)>>>0).toString(M);if(R=F,T(R))return $+j;for(;$.length<6;)$="0"+$;j=$+j}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function T(M){if(M.h!=0)return!1;for(let C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function _(M){return M.h==-1}t.l=function(M){return M=N(this,M),_(M)?-1:T(M)?0:1};function I(M){const C=M.g.length,R=[];for(let j=0;j<C;j++)R[j]=~M.g[j];return new o(R,~M.h).add(v)}t.abs=function(){return _(this)?I(this):this},t.add=function(M){const C=Math.max(this.g.length,M.g.length),R=[];let j=0;for(let F=0;F<=C;F++){let $=j+(this.i(F)&65535)+(M.i(F)&65535),L=($>>>16)+(this.i(F)>>>16)+(M.i(F)>>>16);j=L>>>16,$&=65535,L&=65535,R[F]=L<<16|$}return new o(R,R[R.length-1]&-2147483648?-1:0)};function N(M,C){return M.add(I(C))}t.j=function(M){if(T(this)||T(M))return g;if(_(this))return _(M)?I(this).j(I(M)):I(I(this).j(M));if(_(M))return I(this.j(I(M)));if(this.l(k)<0&&M.l(k)<0)return d(this.m()*M.m());const C=this.g.length+M.g.length,R=[];for(var j=0;j<2*C;j++)R[j]=0;for(j=0;j<this.g.length;j++)for(let F=0;F<M.g.length;F++){const $=this.i(j)>>>16,L=this.i(j)&65535,be=M.i(F)>>>16,Re=M.i(F)&65535;R[2*j+2*F]+=L*Re,D(R,2*j+2*F),R[2*j+2*F+1]+=$*Re,D(R,2*j+2*F+1),R[2*j+2*F+1]+=L*be,D(R,2*j+2*F+1),R[2*j+2*F+2]+=$*be,D(R,2*j+2*F+2)}for(M=0;M<C;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=C;M<2*C;M++)R[M]=0;return new o(R,0)};function D(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function O(M,C){this.g=M,this.h=C}function U(M,C){if(T(C))throw Error("division by zero");if(T(M))return new O(g,g);if(_(M))return C=U(I(M),C),new O(I(C.g),I(C.h));if(_(C))return C=U(M,I(C)),new O(I(C.g),C.h);if(M.g.length>30){if(_(M)||_(C))throw Error("slowDivide_ only works with positive integers.");for(var R=v,j=C;j.l(M)<=0;)R=B(R),j=B(j);var F=H(R,1),$=H(j,1);for(j=H(j,2),R=H(R,2);!T(j);){var L=$.add(j);L.l(M)<=0&&(F=F.add(R),$=L),j=H(j,1),R=H(R,1)}return C=N(M,F.j(C)),new O(F,C)}for(F=g;M.l(C)>=0;){for(R=Math.max(1,Math.floor(M.m()/C.m())),j=Math.ceil(Math.log(R)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),$=d(R),L=$.j(C);_(L)||L.l(M)>0;)R-=j,$=d(R),L=$.j(C);T($)&&($=v),F=F.add($),M=N(M,L)}return new O(F,M)}t.B=function(M){return U(this,M).h},t.and=function(M){const C=Math.max(this.g.length,M.g.length),R=[];for(let j=0;j<C;j++)R[j]=this.i(j)&M.i(j);return new o(R,this.h&M.h)},t.or=function(M){const C=Math.max(this.g.length,M.g.length),R=[];for(let j=0;j<C;j++)R[j]=this.i(j)|M.i(j);return new o(R,this.h|M.h)},t.xor=function(M){const C=Math.max(this.g.length,M.g.length),R=[];for(let j=0;j<C;j++)R[j]=this.i(j)^M.i(j);return new o(R,this.h^M.h)};function B(M){const C=M.g.length+1,R=[];for(let j=0;j<C;j++)R[j]=M.i(j)<<1|M.i(j-1)>>>31;return new o(R,M.h)}function H(M,C){const R=C>>5;C%=32;const j=M.g.length-R,F=[];for(let $=0;$<j;$++)F[$]=C>0?M.i($+R)>>>C|M.i($+R+1)<<32-C:M.i($+R);return new o(F,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,zP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=m,qa=o}).apply(typeof P_<"u"?P_:typeof self<"u"?self:typeof window<"u"?window:{});var Zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BP,ad,$P,Dm,Aw,qP,KP,WP;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zp=="object"&&Zp];for(var b=0;b<f.length;++b){var S=f[b];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(f,b){if(b)e:{var S=r;f=f.split(".");for(var A=0;A<f.length-1;A++){var Y=f[A];if(!(Y in S))break e;S=S[Y]}f=f[f.length-1],A=S[f],b=b(A),b!=A&&b!=null&&e(S,f,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(b){var S=[],A;for(A in b)Object.prototype.hasOwnProperty.call(b,A)&&S.push([A,b[A]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function u(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function h(f,b,S){return f.call.apply(f.bind,arguments)}function d(f,b,S){return d=h,d.apply(null,arguments)}function m(f,b){var S=Array.prototype.slice.call(arguments,1);return function(){var A=S.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function g(f,b){function S(){}S.prototype=b.prototype,f.Z=b.prototype,f.prototype=new S,f.prototype.constructor=f,f.Ob=function(A,Y,ee){for(var he=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)he[Be-2]=arguments[Be];return b.prototype[Y].apply(A,he)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function k(f){const b=f.length;if(b>0){const S=Array(b);for(let A=0;A<b;A++)S[A]=f[A];return S}return[]}function T(f,b){for(let A=1;A<arguments.length;A++){const Y=arguments[A];var S=typeof Y;if(S=S!="object"?S:Y?Array.isArray(Y)?"array":S:"null",S=="array"||S=="object"&&typeof Y.length=="number"){S=f.length||0;const ee=Y.length||0;f.length=S+ee;for(let he=0;he<ee;he++)f[S+he]=Y[he]}else f.push(Y)}}class _{constructor(b,S){this.i=b,this.j=S,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function I(f){o.setTimeout(()=>{throw f},0)}function N(){var f=M;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class D{constructor(){this.h=this.g=null}add(b,S){const A=O.get();A.set(b,S),this.h?this.h.next=A:this.g=A,this.h=A}}var O=new _(()=>new U,f=>f.reset());class U{constructor(){this.next=this.g=this.h=null}set(b,S){this.h=b,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let B,H=!1,M=new D,C=()=>{const f=Promise.resolve(void 0);B=()=>{f.then(R)}};function R(){for(var f;f=N();){try{f.h.call(f.g)}catch(S){I(S)}var b=O;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}H=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};o.addEventListener("test",S,b),o.removeEventListener("test",S,b)}catch{}return f})();function L(f){return/^[\s\xa0]*$/.test(f)}function be(f,b){F.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}g(be,F),be.prototype.init=function(f,b){const S=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(S=="mouseover"?b=f.fromElement:S=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),ye=0;function ve(f,b,S,A,Y){this.listener=f,this.proxy=null,this.src=b,this.type=S,this.capture=!!A,this.ha=Y,this.key=++ye,this.da=this.fa=!1}function G(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ne(f,b,S){for(const A in f)b.call(S,f[A],A,f)}function ae(f,b){for(const S in f)b.call(void 0,f[S],S,f)}function W(f){const b={};for(const S in f)b[S]=f[S];return b}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(f,b){let S,A;for(let Y=1;Y<arguments.length;Y++){A=arguments[Y];for(S in A)f[S]=A[S];for(let ee=0;ee<re.length;ee++)S=re[ee],Object.prototype.hasOwnProperty.call(A,S)&&(f[S]=A[S])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,b,S,A,Y){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const he=ze(f,b,A,Y);return he>-1?(b=f[he],S||(b.fa=!1)):(b=new ve(b,this.src,ee,!!A,Y),b.fa=S,f.push(b)),b};function Me(f,b){const S=b.type;if(S in f.g){var A=f.g[S],Y=Array.prototype.indexOf.call(A,b,void 0),ee;(ee=Y>=0)&&Array.prototype.splice.call(A,Y,1),ee&&(G(b),f.g[S].length==0&&(delete f.g[S],f.h--))}}function ze(f,b,S,A){for(let Y=0;Y<f.length;++Y){const ee=f[Y];if(!ee.da&&ee.listener==b&&ee.capture==!!S&&ee.ha==A)return Y}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),$e={};function Ue(f,b,S,A,Y){if(Array.isArray(b)){for(let ee=0;ee<b.length;ee++)Ue(f,b[ee],S,A,Y);return null}return S=uo(S),f&&f[Re]?f.J(b,S,u(A)?!!A.capture:!1,Y):dt(f,b,S,!1,A,Y)}function dt(f,b,S,A,Y,ee){if(!b)throw Error("Invalid event type");const he=u(Y)?!!Y.capture:!!Y;let Be=Gi(f);if(Be||(f[Ce]=Be=new me(f)),S=Be.add(b,S,A,he,ee),S.proxy)return S;if(A=Er(),S.proxy=A,A.src=f,A.listener=S,f.addEventListener)$||(Y=he),Y===void 0&&(Y=!1),f.addEventListener(b.toString(),A,Y);else if(f.attachEvent)f.attachEvent(Hi(b.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Er(){function f(S){return b.call(f.src,f.listener,S)}const b=Ul;return f}function kr(f,b,S,A,Y){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)kr(f,b[ee],S,A,Y);else A=u(A)?!!A.capture:!!A,S=uo(S),f&&f[Re]?(f=f.i,ee=String(b).toString(),ee in f.g&&(b=f.g[ee],S=ze(b,S,A,Y),S>-1&&(G(b[S]),Array.prototype.splice.call(b,S,1),b.length==0&&(delete f.g[ee],f.h--)))):f&&(f=Gi(f))&&(b=f.g[b.toString()],f=-1,b&&(f=ze(b,S,A,Y)),(S=f>-1?b[f]:null)&&Kn(S))}function Kn(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Re])Me(b.i,f);else{var S=f.type,A=f.proxy;b.removeEventListener?b.removeEventListener(S,A,f.capture):b.detachEvent?b.detachEvent(Hi(S),A):b.addListener&&b.removeListener&&b.removeListener(A),(S=Gi(b))?(Me(S,f),S.h==0&&(S.src=null,b[Ce]=null)):G(f)}}}function Hi(f){return f in $e?$e[f]:$e[f]="on"+f}function Ul(f,b){if(f.da)f=!0;else{b=new be(b,this);const S=f.listener,A=f.ha||f.src;f.fa&&Kn(f),f=S.call(A,b)}return f}function Gi(f){return f=f[Ce],f instanceof me?f:null}var ni="__closure_events_fn_"+(Math.random()*1e9>>>0);function uo(f){return typeof f=="function"?f:(f[ni]||(f[ni]=function(b){return f.handleEvent(b)}),f[ni])}function ft(){j.call(this),this.i=new me(this),this.M=this,this.G=null}g(ft,j),ft.prototype[Re]=!0,ft.prototype.removeEventListener=function(f,b,S,A){kr(this,f,b,S,A)};function At(f,b){var S,A=f.G;if(A)for(S=[];A;A=A.G)S.push(A);if(f=f.M,A=b.type||b,typeof b=="string")b=new F(b,f);else if(b instanceof F)b.target=b.target||f;else{var Y=b;b=new F(A,f),pe(b,Y)}Y=!0;let ee,he;if(S)for(he=S.length-1;he>=0;he--)ee=b.g=S[he],Y=$r(ee,A,!0,b)&&Y;if(ee=b.g=f,Y=$r(ee,A,!0,b)&&Y,Y=$r(ee,A,!1,b)&&Y,S)for(he=0;he<S.length;he++)ee=b.g=S[he],Y=$r(ee,A,!1,b)&&Y}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const S=f.g[b];for(let A=0;A<S.length;A++)G(S[A]);delete f.g[b],f.h--}}this.G=null},ft.prototype.J=function(f,b,S,A){return this.i.add(String(f),b,!1,S,A)},ft.prototype.K=function(f,b,S,A){return this.i.add(String(f),b,!0,S,A)};function $r(f,b,S,A){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let Y=!0;for(let ee=0;ee<b.length;++ee){const he=b[ee];if(he&&!he.da&&he.capture==S){const Be=he.listener,Ot=he.ha||he.src;he.fa&&Me(f.i,he),Y=Be.call(Ot,A)!==!1&&Y}}return Y&&!A.defaultPrevented}function Bc(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:o.setTimeout(f,b||0)}function $c(f){f.g=Bc(()=>{f.g=null,f.i&&(f.i=!1,$c(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class jf extends j{constructor(b,S){super(),this.m=b,this.l=S,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:$c(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qi(f){j.call(this),this.h=f,this.g={}}g(Qi,j);var qc=[];function zl(f){ne(f.g,function(b,S){this.g.hasOwnProperty(S)&&Kn(b)},f),f.g={}}Qi.prototype.N=function(){Qi.Z.N.call(this),zl(this)},Qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xi=o.JSON.stringify,Vf=o.JSON.parse,co=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function Yi(){}function Ff(){}var Ji={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bl(){F.call(this,"d")}g(Bl,F);function Kc(){F.call(this,"c")}g(Kc,F);var qr={},$l=null;function Zi(){return $l=$l||new ft}qr.Ia="serverreachability";function ql(f){F.call(this,qr.Ia,f)}g(ql,F);function ri(f){const b=Zi();At(b,new ql(b))}qr.STAT_EVENT="statevent";function si(f,b){F.call(this,qr.STAT_EVENT,f),this.stat=b}g(si,F);function Pt(f){const b=Zi();At(b,new si(b,f))}qr.Ja="timingevent";function Wc(f,b){F.call(this,qr.Ja,f),this.size=b}g(Wc,F);function ea(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},b)}function ta(){this.g=!0}ta.prototype.ua=function(){this.g=!1};function Uf(f,b,S,A,Y,ee){f.info(function(){if(f.g)if(ee){var he="",Be=ee.split("&");for(let ct=0;ct<Be.length;ct++){var Ot=Be[ct].split("=");if(Ot.length>1){const Qt=Ot[0];Ot=Ot[1];const cr=Qt.split("_");he=cr.length>=2&&cr[1]=="type"?he+(Qt+"="+Ot+"&"):he+(Qt+"=redacted&")}}}else he=null;else he=ee;return"XMLHTTP REQ ("+A+") [attempt "+Y+"]: "+b+`
`+S+`
`+he})}function zf(f,b,S,A,Y,ee,he){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+Y+"]: "+b+`
`+S+`
`+ee+" "+he})}function ds(f,b,S,A){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+ho(f,S)+(A?" "+A:"")})}function Bf(f,b){f.info(function(){return"TIMEOUT: "+b})}ta.prototype.info=function(){};function ho(f,b){if(!f.g)return b;if(!b)return null;try{const ee=JSON.parse(b);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var S=ee[f];if(!(S.length<2)){var A=S[1];if(Array.isArray(A)&&!(A.length<1)){var Y=A[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let he=1;he<A.length;he++)A[he]=""}}}}return Xi(ee)}catch{return b}}var na={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ra={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$f;function ii(){}g(ii,Yi),ii.prototype.g=function(){return new XMLHttpRequest},$f=new ii;function fs(f){return encodeURIComponent(String(f))}function Kl(f){var b=1;f=f.split(":");const S=[];for(;b>0&&f.length;)S.push(f.shift()),b--;return f.length&&S.push(f.join(":")),S}function Sr(f,b,S,A){this.j=f,this.i=b,this.l=S,this.S=A||1,this.V=new Qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qf}function qf(){this.i=null,this.g="",this.h=!1}var Kf={},Hc={};function Kr(f,b,S){f.M=1,f.A=oi(_r(b)),f.u=S,f.R=!0,Gc(f,null)}function Gc(f,b){f.F=Date.now(),fo(f),f.B=_r(f.A);var S=f.B,A=f.S;Array.isArray(A)||(A=[String(A)]),sh(S.i,"t",A),f.C=0,S=f.j.L,f.h=new qf,f.g=tp(f.j,S?b:null,!f.u),f.P>0&&(f.O=new jf(d(f.Y,f,f.g),f.P)),b=f.V,S=f.g,A=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(qc[0]=Y.toString()),Y=qc);for(let ee=0;ee<Y.length;ee++){const he=Ue(S,Y[ee],A||b.handleEvent,!1,b.h||b);if(!he)break;b.g[he.key]=he}b=f.J?W(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),ri(),Uf(f.i,f.v,f.B,f.l,f.S,f.u)}Sr.prototype.ba=function(f){f=f.target;const b=this.O;b&&bs(f)==3?b.j():this.Y(f)},Sr.prototype.Y=function(f){try{if(f==this.g)e:{const Be=bs(this.g),Ot=this.g.ya(),ct=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||Zf(this.g)))){this.K||Be!=4||Ot==7||(Ot==8||ct<=0?ri(3):ri(2)),Wl(this);var b=this.g.ca();this.X=b;var S=Wf(this);if(this.o=b==200,zf(this.i,this.v,this.B,this.l,this.S,Be,b),this.o){if(this.U&&!this.L){t:{if(this.g){var A,Y=this.g;if((A=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(A)){var ee=A;break t}}ee=null}if(f=ee)ds(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pt(this,f);else{this.o=!1,this.m=3,Pt(12),ai(this),po(this);break e}}if(this.R){f=!0;let Qt;for(;!this.K&&this.C<S.length;)if(Qt=Gf(this,S),Qt==Hc){Be==4&&(this.m=4,Pt(14),f=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Kf){this.m=4,Pt(15),ds(this.i,this.l,S,"[Invalid Chunk]"),f=!1;break}else ds(this.i,this.l,Qt,null),pt(this,Qt);if(Hf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||S.length!=0||this.h.h||(this.m=1,Pt(16),f=!1),this.o=this.o&&f,!f)ds(this.i,this.l,S,"[Invalid Chunked Response]"),ai(this),po(this);else if(S.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),ko(he),he.P=!0,Pt(11))}}else ds(this.i,this.l,S,null),pt(this,S);Be==4&&ai(this),this.o&&!this.K&&(Be==4?nu(this.j,this):(this.o=!1,fo(this)))}else ah(this.g),b==400&&S.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),ai(this),po(this)}}}catch{}finally{}};function Wf(f){if(!Hf(f))return f.g.la();const b=Zf(f.g);if(b==="")return"";let S="";const A=b.length,Y=bs(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ai(f),po(f),"";f.h.i=new o.TextDecoder}for(let ee=0;ee<A;ee++)f.h.h=!0,S+=f.h.i.decode(b[ee],{stream:!(Y&&ee==A-1)});return b.length=0,f.h.g+=S,f.C=0,f.h.g}function Hf(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Gf(f,b){var S=f.C,A=b.indexOf(`
`,S);return A==-1?Hc:(S=Number(b.substring(S,A)),isNaN(S)?Kf:(A+=1,A+S>b.length?Hc:(b=b.slice(A,A+S),f.C=A+S,b)))}Sr.prototype.cancel=function(){this.K=!0,ai(this)};function fo(f){f.T=Date.now()+f.H,Qc(f,f.H)}function Qc(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=ea(d(f.aa,f),b)}function Wl(f){f.D&&(o.clearTimeout(f.D),f.D=null)}Sr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Bf(this.i,this.B),this.M!=2&&(ri(),Pt(17)),ai(this),this.m=2,po(this)):Qc(this,this.T-f)};function po(f){f.j.I==0||f.K||nu(f.j,f)}function ai(f){Wl(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,zl(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function pt(f,b){try{var S=f.j;if(S.I!=0&&(S.g==f||Yc(S.h,f))){if(!f.L&&Yc(S.h,f)&&S.I==3){try{var A=S.Ba.g.parse(b)}catch{A=null}if(Array.isArray(A)&&A.length==3){var Y=A;if(Y[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<f.F)tu(S),lr(S);else break e;ks(S),Pt(18)}}else S.xa=Y[1],0<S.xa-S.K&&Y[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=ea(d(S.Va,S),6e3));mo(S.h)<=1&&S.ta&&(S.ta=void 0)}else ur(S,11)}else if((f.L||S.g==f)&&tu(S),!L(b))for(Y=S.Ba.g.parse(b),b=0;b<Y.length;b++){let ct=Y[b];const Qt=ct[0];if(!(Qt<=S.K))if(S.K=Qt,ct=ct[1],S.I==2)if(ct[0]=="c"){S.M=ct[1],S.ba=ct[2];const cr=ct[3];cr!=null&&(S.ka=cr,S.j.info("VER="+S.ka));const ca=ct[4];ca!=null&&(S.za=ca,S.j.info("SVER="+S.za));const Ss=ct[5];Ss!=null&&typeof Ss=="number"&&Ss>0&&(A=1.5*Ss,S.O=A,S.j.info("backChannelRequestTimeoutMs_="+A)),A=S;const _s=f.g;if(_s){const iu=_s.g?_s.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(iu){var ee=A.h;ee.g||iu.indexOf("spdy")==-1&&iu.indexOf("quic")==-1&&iu.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Gl(ee,ee.h),ee.h=null))}if(A.G){const uh=_s.g?_s.g.getResponseHeader("X-HTTP-Session-Id"):null;uh&&(A.wa=uh,rt(A.J,A.G,uh))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-f.F,S.j.info("Handshake RTT: "+S.T+"ms")),A=S;var he=f;if(A.na=lh(A,A.L?A.ba:null,A.W),he.L){go(A.h,he);var Be=he,Ot=A.O;Ot&&(Be.H=Ot),Be.D&&(Wl(Be),fo(Be)),A.g=he}else kn(A);S.i.length>0&&hi(S)}else ct[0]!="stop"&&ct[0]!="close"||ur(S,7);else S.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?ur(S,7):Zl(S):ct[0]!="noop"&&S.l&&S.l.qa(ct),S.A=0)}}ri(4)}catch{}}var Xy=class{constructor(f,b){this.g=f,this.map=b}};function Hl(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function mo(f){return f.h?1:f.g?f.g.size:0}function Yc(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Gl(f,b){f.g?f.g.add(b):f.h=b}function go(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Hl.prototype.cancel=function(){if(this.i=ir(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ir(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const S of f.g.values())b=b.concat(S.G);return b}return k(f.i)}var Qf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ar(f,b){if(f){f=f.split("&");for(let S=0;S<f.length;S++){const A=f[S].indexOf("=");let Y,ee=null;A>=0?(Y=f[S].substring(0,A),ee=f[S].substring(A+1)):Y=f[S],b(Y,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function ps(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof ps?(this.l=f.l,yo(this,f.j),this.o=f.o,this.g=f.g,ms(this,f.u),this.h=f.h,sa(this,ih(f.i)),this.m=f.m):f&&(b=String(f).match(Qf))?(this.l=!1,yo(this,b[1]||"",!0),this.o=vo(b[2]||""),this.g=vo(b[3]||"",!0),ms(this,b[4]),this.h=vo(b[5]||"",!0),sa(this,b[6]||"",!0),this.m=vo(b[7]||"")):(this.l=!1,this.i=new Xe(null,this.l))}ps.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(wo(b,Zc,!0),":");var S=this.g;return(S||b=="file")&&(f.push("//"),(b=this.o)&&f.push(wo(b,Zc,!0),"@"),f.push(fs(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&f.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(wo(S,S.charAt(0)=="/"?bo:eh,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",wo(S,th)),f.join("")},ps.prototype.resolve=function(f){const b=_r(this);let S=!!f.j;S?yo(b,f.j):S=!!f.o,S?b.o=f.o:S=!!f.g,S?b.g=f.g:S=f.u!=null;var A=f.h;if(S)ms(b,f.u);else if(S=!!f.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var Y=b.h.lastIndexOf("/");Y!=-1&&(A=b.h.slice(0,Y+1)+A)}if(Y=A,Y==".."||Y==".")A="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){A=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ee=[];for(let he=0;he<Y.length;){const Be=Y[he++];Be=="."?A&&he==Y.length&&ee.push(""):Be==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),A&&he==Y.length&&ee.push("")):(ee.push(Be),A=!0)}A=ee.join("/")}else A=Y}return S?b.h=A:S=f.i.toString()!=="",S?sa(b,ih(f.i)):S=!!f.m,S&&(b.m=f.m),b};function _r(f){return new ps(f)}function yo(f,b,S){f.j=S?vo(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function ms(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function sa(f,b,S){b instanceof Xe?(f.i=b,Xl(f.i,f.l)):(S||(b=wo(b,Yy)),f.i=new Xe(b,f.l))}function rt(f,b,S){f.i.set(b,S)}function oi(f){return rt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function vo(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function wo(f,b,S){return typeof f=="string"?(f=encodeURI(f).replace(b,Jc),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Jc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Zc=/[#\/\?@]/g,eh=/[#\?:]/g,bo=/[#\?]/g,Yy=/[#\?@]/g,th=/#/g;function Xe(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function gs(f){f.g||(f.g=new Map,f.h=0,f.i&&ar(f.i,function(b,S){f.add(decodeURIComponent(b.replace(/\+/g," ")),S)}))}t=Xe.prototype,t.add=function(f,b){gs(this),this.i=null,f=ys(this,f);let S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(b),this.h+=1,this};function nh(f,b){gs(f),b=ys(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Ql(f,b){return gs(f),b=ys(f,b),f.g.has(b)}t.forEach=function(f,b){gs(this),this.g.forEach(function(S,A){S.forEach(function(Y){f.call(b,Y,A,this)},this)},this)};function rh(f,b){gs(f);let S=[];if(typeof b=="string")Ql(f,b)&&(S=S.concat(f.g.get(ys(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)S=S.concat(f[b]);return S}t.set=function(f,b){return gs(this),this.i=null,f=ys(this,f),Ql(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=rh(this,f),f.length>0?String(f[0]):b):b};function sh(f,b,S){nh(f,b),S.length>0&&(f.i=null,f.g.set(ys(f,b),k(S)),f.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let A=0;A<b.length;A++){var S=b[A];const Y=fs(S);S=rh(this,S);for(let ee=0;ee<S.length;ee++){let he=Y;S[ee]!==""&&(he+="="+fs(S[ee])),f.push(he)}}return this.i=f.join("&")};function ih(f){const b=new Xe;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function ys(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Xl(f,b){b&&!f.j&&(gs(f),f.i=null,f.g.forEach(function(S,A){const Y=A.toLowerCase();A!=Y&&(nh(this,A),sh(this,Y,S))},f)),f.j=b}function vs(f,b){const S=new ta;if(o.Image){const A=new Image;A.onload=m(dn,S,"TestLoadImage: loaded",!0,b,A),A.onerror=m(dn,S,"TestLoadImage: error",!1,b,A),A.onabort=m(dn,S,"TestLoadImage: abort",!1,b,A),A.ontimeout=m(dn,S,"TestLoadImage: timeout",!1,b,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else b(!1)}function ws(f,b){const S=new ta,A=new AbortController,Y=setTimeout(()=>{A.abort(),dn(S,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:A.signal}).then(ee=>{clearTimeout(Y),ee.ok?dn(S,"TestPingServer: ok",!0,b):dn(S,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),dn(S,"TestPingServer: error",!1,b)})}function dn(f,b,S,A,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),A(S)}catch{}}function xo(){this.g=new co}function li(f){this.i=f.Sb||null,this.h=f.ab||!1}g(li,Yi),li.prototype.g=function(){return new or(this.i,this.h)};function or(f,b){ft.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(or,ft),t=or.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Wr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||o).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xf(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xf(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?ia(this):Wr(this),this.readyState==3&&Xf(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ia(this))},t.Na=function(f){this.g&&(this.response=f,ia(this))},t.ga=function(){this.g&&ia(this)};function ia(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Wr(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var S=b.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=b.next();return f.join(`\r
`)};function Wr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Yf(f){let b="";return ne(f,function(S,A){b+=A,b+=":",b+=S,b+=`\r
`}),b}function Yl(f,b,S){e:{for(A in S){var A=!1;break e}A=!0}A||(S=Yf(S),typeof f=="string"?S!=null&&fs(S):rt(f,b,S))}function ut(f){ft.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ut,ft);var Jf=/^https?$/i,Jy=["POST","PUT"];t=ut.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,S,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$f.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ee){aa(this,ee);return}if(f=S||"",S=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var Y in A)S.set(Y,A[Y]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ee of A.keys())S.set(ee,A.get(ee));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(S.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(Jy,b,void 0)>=0)||A||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,he]of S)this.g.setRequestHeader(ee,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){aa(this,ee)}};function aa(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,oa(f),ci(f)}function oa(f){f.A||(f.A=!0,At(f,"complete"),At(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,At(this,"complete"),At(this,"abort"),ci(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ci(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ui(this):this.Xa())},t.Xa=function(){ui(this)};function ui(f){if(f.h&&typeof i<"u"){if(f.v&&bs(f)==4)setTimeout(f.Ca.bind(f),0);else if(At(f,"readystatechange"),bs(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var S;if(!(S=b)){var A;if(A=ee===0){let he=String(f.D).match(Qf)[1]||null;!he&&o.self&&o.self.location&&(he=o.self.location.protocol.slice(0,-1)),A=!Jf.test(he?he.toLowerCase():"")}S=A}if(S)At(f,"complete"),At(f,"success");else{f.o=6;try{var Y=bs(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",oa(f)}}finally{ci(f)}}}}function ci(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const S=f.g;f.g=null,b||At(f,"ready");try{S.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function bs(f){return f.g?f.g.readyState:0}t.ca=function(){try{return bs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Vf(b)}};function Zf(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ah(f){const b={};f=(f.g&&bs(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(L(f[A]))continue;var S=Kl(f[A]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ee=b[Y]||[];b[Y]=ee,ee.push(S)}ae(b,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(f,b,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||b}function Jl(f){this.za=0,this.i=[],this.j=new ta,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xs("baseRetryDelayMs",5e3,f),this.Za=xs("retryDelaySeedMs",1e4,f),this.Ta=xs("forwardChannelMaxRetries",2,f),this.va=xs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Hl(f&&f.concurrentRequestLimit),this.Ba=new xo,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Jl.prototype,t.ka=8,t.I=1,t.connect=function(f,b,S,A){Pt(0),this.W=f,this.H=b||{},S&&A!==void 0&&(this.H.OSID=S,this.H.OAID=A),this.F=this.X,this.J=lh(this,null,this.W),hi(this)};function Zl(f){if(eu(f),f.I==3){var b=f.V++,S=_r(f.J);if(rt(S,"SID",f.M),rt(S,"RID",b),rt(S,"TYPE","terminate"),Es(f,S),b=new Sr(f,f.j,b),b.M=2,b.A=oi(_r(S)),S=!1,o.navigator&&o.navigator.sendBeacon)try{S=o.navigator.sendBeacon(b.A.toString(),"")}catch{}!S&&o.Image&&(new Image().src=b.A,S=!0),S||(b.g=tp(b.j,null),b.g.ea(b.A)),b.F=Date.now(),fo(b)}So(f)}function lr(f){f.g&&(ko(f),f.g.cancel(),f.g=null)}function eu(f){lr(f),f.v&&(o.clearTimeout(f.v),f.v=null),tu(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function hi(f){if(!Xc(f.h)&&!f.m){f.m=!0;var b=f.Ea;B||C(),H||(B(),H=!0),M.add(b,f),f.D=0}}function ep(f,b){return mo(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=ea(d(f.Ea,f,b),ru(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new Sr(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=W(ee),pe(ee,this.U)):ee=this.U),this.u!==null||this.R||(Y.J=ee,ee=null),this.S)e:{for(var b=0,S=0;S<this.i.length;S++){t:{var A=this.i[S];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(b+=A,b>4096){b=S;break e}if(b===4096||S===this.i.length-1){b=S+1;break e}}b=1e3}else b=1e3;b=oh(this,Y,b),S=_r(this.J),rt(S,"RID",f),rt(S,"CVER",22),this.G&&rt(S,"X-HTTP-Session-Id",this.G),Es(this,S),ee&&(this.R?b="headers="+fs(Yf(ee))+"&"+b:this.u&&Yl(S,this.u,ee)),Gl(this.h,Y),this.Ra&&rt(S,"TYPE","init"),this.S?(rt(S,"$req",b),rt(S,"SID","null"),Y.U=!0,Kr(Y,S,null)):Kr(Y,S,b),this.I=2}}else this.I==3&&(f?Eo(this,f):this.i.length==0||Xc(this.h)||Eo(this))};function Eo(f,b){var S;b?S=b.l:S=f.V++;const A=_r(f.J);rt(A,"SID",f.M),rt(A,"RID",S),rt(A,"AID",f.K),Es(f,A),f.u&&f.o&&Yl(A,f.u,f.o),S=new Sr(f,f.j,S,f.D+1),f.u===null&&(S.J=f.o),b&&(f.i=b.G.concat(f.i)),b=oh(f,S,1e3),S.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Gl(f.h,S),Kr(S,A,b)}function Es(f,b){f.H&&ne(f.H,function(S,A){rt(b,A,S)}),f.l&&ne({},function(S,A){rt(b,A,S)})}function oh(f,b,S){S=Math.min(f.i.length,S);const A=f.l?d(f.l.Ka,f.l,f):null;e:{var Y=f.i;let Be=-1;for(;;){const Ot=["count="+S];Be==-1?S>0?(Be=Y[0].g,Ot.push("ofs="+Be)):Be=0:Ot.push("ofs="+Be);let ct=!0;for(let Qt=0;Qt<S;Qt++){var ee=Y[Qt].g;const cr=Y[Qt].map;if(ee-=Be,ee<0)Be=Math.max(0,Y[Qt].g-100),ct=!1;else try{ee="req"+ee+"_"||"";try{var he=cr instanceof Map?cr:Object.entries(cr);for(const[ca,Ss]of he){let _s=Ss;u(Ss)&&(_s=Xi(Ss)),Ot.push(ee+ca+"="+encodeURIComponent(_s))}}catch(ca){throw Ot.push(ee+"type="+encodeURIComponent("_badmap")),ca}}catch{A&&A(cr)}}if(ct){he=Ot.join("&");break e}}he=void 0}return f=f.i.splice(0,S),b.G=f,he}function kn(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;B||C(),H||(B(),H=!0),M.add(b,f),f.A=0}}function ks(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=ea(d(f.Da,f),ru(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,la(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=ea(d(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),lr(this),la(this))};function ko(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function la(f){f.g=new Sr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=_r(f.na);rt(b,"RID","rpc"),rt(b,"SID",f.M),rt(b,"AID",f.K),rt(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&rt(b,"TO",f.ia),rt(b,"TYPE","xmlhttp"),Es(f,b),f.u&&f.o&&Yl(b,f.u,f.o),f.O&&(f.g.H=f.O);var S=f.g;f=f.ba,S.M=1,S.A=oi(_r(b)),S.u=null,S.R=!0,Gc(S,f)}t.Va=function(){this.C!=null&&(this.C=null,lr(this),ks(this),Pt(19))};function tu(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function nu(f,b){var S=null;if(f.g==b){tu(f),ko(f),f.g=null;var A=2}else if(Yc(f.h,b))S=b.G,go(f.h,b),A=1;else return;if(f.I!=0){if(b.o)if(A==1){S=b.u?b.u.length:0,b=Date.now()-b.F;var Y=f.D;A=Zi(),At(A,new Wc(A,S)),hi(f)}else kn(f);else if(Y=b.m,Y==3||Y==0&&b.X>0||!(A==1&&ep(f,b)||A==2&&ks(f)))switch(S&&S.length>0&&(b=f.h,b.i=b.i.concat(S)),Y){case 1:ur(f,5);break;case 4:ur(f,10);break;case 3:ur(f,6);break;default:ur(f,2)}}}function ru(f,b){let S=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(S*=2),S*b}function ur(f,b){if(f.j.info("Error code "+b),b==2){var S=d(f.bb,f),A=f.Ua;const Y=!A;A=new ps(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||yo(A,"https"),oi(A),Y?vs(A.toString(),S):ws(A.toString(),S)}else Pt(2);f.I=0,f.l&&f.l.pa(b),So(f),eu(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function So(f){if(f.I=0,f.ja=[],f.l){const b=ir(f.h);(b.length!=0||f.i.length!=0)&&(T(f.ja,b),T(f.ja,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.oa()}}function lh(f,b,S){var A=S instanceof ps?_r(S):new ps(S);if(A.g!="")b&&(A.g=b+"."+A.g),ms(A,A.u);else{var Y=o.location;A=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;const ee=new ps(null);A&&yo(ee,A),b&&(ee.g=b),Y&&ms(ee,Y),S&&(ee.h=S),A=ee}return S=f.G,b=f.wa,S&&b&&rt(A,S,b),rt(A,"VER",f.ka),Es(f,A),A}function tp(f,b,S){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ut(new li({ab:S})):new ut(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function np(){}t=np.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function su(){}su.prototype.g=function(f,b){return new fn(f,b)};function fn(f,b){ft.call(this),this.g=new Jl(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!L(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!L(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new ua(this)}g(fn,ft),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Zl(this.g)},fn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.v&&(S={},S.__data__=Xi(f),f=S);b.i.push(new Xy(b.Ya++,f)),b.I==3&&hi(b)},fn.prototype.N=function(){this.g.l=null,delete this.j,Zl(this.g),delete this.g,fn.Z.N.call(this)};function rp(f){Bl.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const S in b){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}g(rp,Bl);function sp(){Kc.call(this),this.status=1}g(sp,Kc);function ua(f){this.g=f}g(ua,np),ua.prototype.ra=function(){At(this.g,"a")},ua.prototype.qa=function(f){At(this.g,new rp(f))},ua.prototype.pa=function(f){At(this.g,new sp)},ua.prototype.oa=function(){At(this.g,"b")},su.prototype.createWebChannel=su.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,WP=function(){return new su},KP=function(){return Zi()},qP=qr,Aw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,Dm=na,ra.COMPLETE="complete",$P=ra,Ff.EventType=Ji,Ji.OPEN="a",Ji.CLOSE="b",Ji.ERROR="c",Ji.MESSAGE="d",ft.prototype.listen=ft.prototype.J,ad=Ff,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,BP=ut}).apply(typeof Zp<"u"?Zp:typeof self<"u"?self:typeof window<"u"?window:{});const N_="@firebase/firestore",D_="4.9.2";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let vn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Pc="12.3.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vl=new Yg("@firebase/firestore");function Wu(){return vl.logLevel}function le(t,...e){if(vl.logLevel<=He.DEBUG){const n=e.map(mx);vl.debug(`Firestore (${Pc}): ${t}`,...n)}}function Ln(t,...e){if(vl.logLevel<=He.ERROR){const n=e.map(mx);vl.error(`Firestore (${Pc}): ${t}`,...n)}}function wl(t,...e){if(vl.logLevel<=He.WARN){const n=e.map(mx);vl.warn(`Firestore (${Pc}): ${t}`,...n)}}function mx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(t)}catch{return t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,HP(t,r,n)}function HP(t,e,n){let r=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ln(r),new Error(r)}function Ie(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||HP(e,s,r)}function Fe(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class GP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vn.UNAUTHENTICATED)))}shutdown(){}}class qV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class KV{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let i=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fs,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const h=i;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fs)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new GP(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class WV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new WV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new R_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function QV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=QV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function Ow(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return T0(s)===T0(i)?Ve(s,i):T0(s)?1:-1}return Ve(t.length,e.length)}const XV=55296,YV=57343;function T0(t){const e=t.charCodeAt(0);return e>=XV&&e<=YV}function hc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function QP(t){return t+"\0"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const M_="__name__";class Rs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Rs.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ve(e.length,n.length)}static compareSegments(e,n){const r=Rs.isNumericId(e),s=Rs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Rs.extractNumericId(e).compare(Rs.extractNumericId(n)):Ow(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qa.fromString(e.substring(4,e.length-2))}}class st extends Rs{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const JV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends Rs{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return JV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M_}static keyField(){return new _t([M_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(r+=u,s++):(i(),s++)}if(i(),o)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class de{constructor(e){this.path=e}static fromPath(e){return new de(st.fromString(e))}static fromName(e){return new de(st.fromString(e).popFirst(5))}static empty(){return new de(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new st(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function XP(t,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZV(t,e,n,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function A_(t){if(!de.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O_(t){if(de.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function YP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ry(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function Fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ry(t);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function df(t,e){if(!YP(t))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const L_=-62135596800,j_=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*j_);return new Ge(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<L_)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j_}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(df(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:Zt("string",Ge._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Ge(0,0))}static max(){return new Pe(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Rd=-1;class hg{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function Lw(t){return t.fields.find((e=>e.kind===2))}function Qo(t){return t.fields.filter((e=>e.kind!==2))}hg.UNKNOWN_ID=-1;class Rm{constructor(e,n){this.fieldPath=e,this.kind=n}}class Md{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Md(0,xr.min())}}function eF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new xr(s,de.empty(),e)}function JP(t){return new xr(t.readTime,t.key,Rd)}class xr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xr(Pe.min(),de.empty(),Rd)}static max(){return new xr(Pe.max(),de.empty(),Rd)}}function yx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ZP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Al(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==ZP)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let s=0,i=0,o=!1;e.forEach((u=>{++s,u.next((()=>{++i,o&&i===s&&n()}),(h=>r(h)))})),o=!0,i===s&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((s=>s?Q.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,s)=>{const i=e.length,o=new Array(i);let u=0;for(let h=0;h<i;h++){const d=h;n(e[d]).next((m=>{o[d]=m,++u,u===i&&r(o)}),(m=>s(m)))}}))}static doWhile(e,n){return new Q(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mr="SimpleDb";class sy{static open(e,n,r,s){try{return new sy(n,e.transaction(s,r))}catch(i){throw new md(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Fs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new md(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=vx(r.target.error);this.S.reject(new md(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(mr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new nF(n)}}class Ka{static delete(e){return le(mr,"Removing database:",e),el(K2().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Xg())return!1;if(Ka.F())return!0;const e=sn(),n=Ka.M(e),r=0<n&&n<10,s=tN(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Ka.M(sn())===12.2&&Ln("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(mr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new md(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new ce(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ce(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new md(e,o))},s.onupgradeneeded=i=>{le(mr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.N.k(o,s.transaction,i.oldVersion,this.version).next((()=>{le(mr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.L(e);const u=sy.open(this.db,e,i?"readonly":"readwrite",r),h=s(u).next((d=>(u.C(),d))).catch((d=>(u.abort(d),Q.reject(d)))).toPromise();return h.catch((()=>{})),await u.D,h}catch(u){const h=u,d=h.name!=="FirebaseError"&&o<3;if(le(mr,"Transaction failed with error:",h.message,"Retrying:",d),this.close(),!d)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function tN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class tF{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return el(this.U.delete())}}class md extends ce{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ao(t){return t.name==="IndexedDbTransactionError"}class nF{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(le(mr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(le(mr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),el(r)}add(e){return le(mr,"ADD",this.store.name,e,e),el(this.store.add(e))}get(e){return el(this.store.get(e)).next((n=>(n===void 0&&(n=null),le(mr,"GET",this.store.name,e,n),n)))}delete(e){return le(mr,"DELETE",this.store.name,e),el(this.store.delete(e))}count(){return le(mr,"COUNT",this.store.name),el(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Q(((o,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{o(h.target.result)}}))}{const i=this.cursor(r),o=[];return this.H(i,((u,h)=>{o.push(h)})).next((()=>o))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}}))}Z(e,n){le(mr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,((i,o,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new Q(((r,s)=>{n.onerror=i=>{const o=vx(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next((u=>{u?o.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const u=o.target.result;if(!u)return void s();const h=new tF(u),d=n(u.primaryKey,u.value,h);if(d instanceof Q){const m=d.catch((g=>(h.done(),Q.reject(g))));r.push(m)}h.isDone?s():h.G===null?u.continue():u.continue(h.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function el(t){return new Q(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=vx(r.target.error);n(s)}}))}let V_=!1;function vx(t){const e=Ka.M(sn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return V_||(V_=!0,setTimeout((()=>{throw r}),0)),r}}return t}const gd="IndexBackfiller";class rF{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(gd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();le(gd,`Documents written: ${n}`)}catch(n){ao(n)?le(gd,"Ignoring IndexedDB error during index backfill: ",n):await Al(n)}await this.re(6e4)}))}}class sF{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let s=n,i=!0;return Q.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((o=>{if(o!==null&&!r.has(o))return le(gd,`Processing collection: ${o}`),this.oe(e,o,s).next((u=>{s-=u,r.add(o)}));i=!1})))).next((()=>n-s))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next((()=>this._e(s,i))).next((u=>(le(gd,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>o.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((s,i)=>{const o=JP(i);yx(o,r)>0&&(r=o)})),new xr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lr.ce=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ul=-1;function iy(t){return t==null}function Ad(t){return t===0&&1/t==-1/0}function iF(t){return typeof t=="number"&&Number.isInteger(t)&&!Ad(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dg="";function Mn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=F_(e)),e=aF(t.get(n),e);return F_(e)}function aF(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case dg:n+="";break;default:n+=i}}return n}function F_(t){return t+dg+""}function As(t){const e=t.length;if(Ie(e>=2,64408,{path:t}),e===2)return Ie(t.charAt(0)===dg&&t.charAt(1)==="",56145,{path:t}),st.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf(dg,i);switch((o<0||o>n)&&Se(50515,{path:t}),t.charAt(o+1)){case"":const u=t.substring(i,o);let h;s.length===0?h=u:(s+=u,h=s,s=""),r.push(h);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:Se(61167,{path:t})}i=o+2}return new st(r)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xo="remoteDocuments",ff="owner",Tu="owner",Od="mutationQueues",oF="userId",ts="mutations",U_="batchId",sl="userMutationsIndex",z_=["userId","batchId"];/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Mm(t,e){return[t,Mn(e)]}function nN(t,e,n){return[t,Mn(e),n]}const lF={},dc="documentMutations",fg="remoteDocumentsV14",uF=["prefixPath","collectionGroup","readTime","documentId"],Am="documentKeyIndex",cF=["prefixPath","collectionGroup","documentId"],rN="collectionGroupIndex",hF=["collectionGroup","readTime","prefixPath","documentId"],Ld="remoteDocumentGlobal",jw="remoteDocumentGlobalKey",fc="targets",sN="queryTargetsIndex",dF=["canonicalId","targetId"],pc="targetDocuments",fF=["targetId","path"],wx="documentTargetsIndex",pF=["path","targetId"],pg="targetGlobalKey",cl="targetGlobal",jd="collectionParents",mF=["collectionId","parent"],mc="clientMetadata",gF="clientId",ay="bundles",yF="bundleId",oy="namedQueries",vF="name",bx="indexConfiguration",wF="indexId",Vw="collectionGroupIndex",bF="collectionGroup",yd="indexState",xF=["indexId","uid"],iN="sequenceNumberIndex",EF=["uid","sequenceNumber"],vd="indexEntries",kF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],aN="documentKeyIndex",SF=["indexId","uid","orderedDocumentKey"],ly="documentOverlays",_F=["userId","collectionPath","documentId"],Fw="collectionPathOverlayIndex",TF=["userId","collectionPath","largestBatchId"],oN="collectionGroupOverlayIndex",IF=["userId","collectionGroup","largestBatchId"],xx="globals",CF="name",lN=[Od,ts,dc,Xo,fc,ff,cl,pc,mc,Ld,jd,ay,oy],PF=[...lN,ly],uN=[Od,ts,dc,fg,fc,ff,cl,pc,mc,Ld,jd,ay,oy,ly],cN=uN,Ex=[...cN,bx,yd,vd],NF=Ex,hN=[...Ex,xx],DF=hN;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Uw extends eN{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function an(t,e){const n=Fe(t);return Ka.O(n.le,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function B_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Et{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new em(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new em(this.root,e,this.comparator,!1)}getReverseIterator(){return new em(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new em(this.root,e,this.comparator,!0)}}class em{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??wn.RED,this.left=s??wn.EMPTY,this.right=i??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new wn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return wn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(t,e,n,r,s){return this}insert(t,e,n){return new wn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ot{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $_(this.data.getIterator())}getIteratorFrom(e){return new $_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class $_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Iu(t){return t.hasNext()?t.getNext():void 0}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tr{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new tr([])}unionWith(e){let n=new ot(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fN("Invalid base64 string: "+s):s}})(e);return new en(n)}static fromUint8Array(e){const n=(function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const RF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=RF.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ai(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pN="server_timestamp",mN="__type__",gN="__previous_value__",yN="__local_write_time__";function kx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[mN])==null?void 0:n.stringValue)===pN}function uy(t){const e=t.mapValue.fields[gN];return kx(e)?uy(e):e}function Vd(t){const e=Mi(t.mapValue.fields[yN].timestampValue);return new Ge(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MF{constructor(e,n,r,s,i,o,u,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m}}const mg="(default)";class bl{constructor(e,n){this.projectId=e,this.database=n||mg}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===mg}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Sx="__type__",vN="__max__",za={mapValue:{fields:{__type__:{stringValue:vN}}}},_x="__vector__",gc="value",Om={nullValue:"NULL_VALUE"};function Qa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kx(t)?4:wN(t)?9007199254740991:cy(t)?10:11:Se(28295,{value:t})}function Ks(t,e){if(t===e)return!0;const n=Qa(t);if(n!==Qa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vd(t).isEqual(Vd(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Mi(r.timestampValue),o=Mi(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,s){return Ai(r.bytesValue).isEqual(Ai(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,s){return bt(r.geoPointValue.latitude)===bt(s.geoPointValue.latitude)&&bt(r.geoPointValue.longitude)===bt(s.geoPointValue.longitude)})(t,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return bt(r.integerValue)===bt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=bt(r.doubleValue),o=bt(s.doubleValue);return i===o?Ad(i)===Ad(o):isNaN(i)&&isNaN(o)}return!1})(t,e);case 9:return hc(t.arrayValue.values||[],e.arrayValue.values||[],Ks);case 10:case 11:return(function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(B_(i)!==B_(o))return!1;for(const u in i)if(i.hasOwnProperty(u)&&(o[u]===void 0||!Ks(i[u],o[u])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function Fd(t,e){return(t.values||[]).find((n=>Ks(n,e)))!==void 0}function Xa(t,e){if(t===e)return 0;const n=Qa(t),r=Qa(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return(function(s,i){const o=bt(s.integerValue||s.doubleValue),u=bt(i.integerValue||i.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1})(t,e);case 3:return q_(t.timestampValue,e.timestampValue);case 4:return q_(Vd(t),Vd(e));case 5:return Ow(t.stringValue,e.stringValue);case 6:return(function(s,i){const o=Ai(s),u=Ai(i);return o.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,i){const o=s.split("/"),u=i.split("/");for(let h=0;h<o.length&&h<u.length;h++){const d=Ve(o[h],u[h]);if(d!==0)return d}return Ve(o.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,i){const o=Ve(bt(s.latitude),bt(i.latitude));return o!==0?o:Ve(bt(s.longitude),bt(i.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return K_(t.arrayValue,e.arrayValue);case 10:return(function(s,i){var o,u,h,d;const m=s.fields||{},g=i.fields||{},v=(o=m[gc])==null?void 0:o.arrayValue,k=(u=g[gc])==null?void 0:u.arrayValue,T=Ve(((h=v==null?void 0:v.values)==null?void 0:h.length)||0,((d=k==null?void 0:k.values)==null?void 0:d.length)||0);return T!==0?T:K_(v,k)})(t.mapValue,e.mapValue);case 11:return(function(s,i){if(s===za.mapValue&&i===za.mapValue)return 0;if(s===za.mapValue)return 1;if(i===za.mapValue)return-1;const o=s.fields||{},u=Object.keys(o),h=i.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const g=Ow(u[m],d[m]);if(g!==0)return g;const v=Xa(o[u[m]],h[d[m]]);if(v!==0)return v}return Ve(u.length,d.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function q_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Mi(t),r=Mi(e),s=Ve(n.seconds,r.seconds);return s!==0?s:Ve(n.nanos,r.nanos)}function K_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Xa(n[s],r[s]);if(i)return i}return Ve(n.length,r.length)}function yc(t){return zw(t)}function zw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(e){const n=Mi(e);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(e){return Ai(e).toBase64()})(t.bytesValue):"referenceValue"in t?(function(e){return de.fromName(e).toString()})(t.referenceValue):"geoPointValue"in t?(function(e){return`geo(${e.latitude},${e.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(e){let n="[",r=!0;for(const s of e.values||[])r?r=!1:n+=",",n+=zw(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(e){const n=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const i of n)s?s=!1:r+=",",r+=`${i}:${zw(e.fields[i])}`;return r+"}"})(t.mapValue):Se(61005,{value:t})}function Lm(t){switch(Qa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uy(t);return e?16+Lm(e):16;case 5:return 2*t.stringValue.length;case 6:return Ai(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((r,s)=>r+Lm(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let r=0;return oo(n.fields,((s,i)=>{r+=s.length+Lm(i)})),r})(t.mapValue);default:throw Se(13486,{value:t})}}function Ud(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bw(t){return!!t&&"integerValue"in t}function zd(t){return!!t&&"arrayValue"in t}function W_(t){return!!t&&"nullValue"in t}function H_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jm(t){return!!t&&"mapValue"in t}function cy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[Sx])==null?void 0:n.stringValue)===_x}function wd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=wd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wd(t.arrayValue.values[n]);return e}return{...t}}function wN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vN}const bN={mapValue:{fields:{[Sx]:{stringValue:_x},[gc]:{arrayValue:{}}}}};function AF(t){return"nullValue"in t?Om:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ud(bl.empty(),de.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?cy(t)?bN:{mapValue:{}}:Se(35942,{value:t})}function OF(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ud(bl.empty(),de.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?bN:"mapValue"in t?cy(t)?{mapValue:{}}:za:Se(61959,{value:t})}function G_(t,e){const n=Xa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Q_(t,e){const n=Xa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wd(n)}setAll(e){let n=_t.emptyPath(),r={},s=[];e.forEach(((o,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=u.popLast()}o?r[u.lastSegment()]=wd(o):s.push(u.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());jm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];jm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){oo(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Nn(wd(this.value))}}function xN(t){const e=[];return oo(t.fields,((n,r)=>{const s=new _t([n]);if(jm(r)){const i=xN(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new tr(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rt{constructor(e,n,r,s,i,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Rt(e,0,Pe.min(),Pe.min(),Pe.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,s){return new Rt(e,1,n,Pe.min(),r,s,0)}static newNoDocument(e,n){return new Rt(e,2,n,Pe.min(),Pe.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,Pe.min(),Pe.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vc{constructor(e,n){this.position=e,this.inclusive=n}}function X_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=Xa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ks(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bd{constructor(e,n="asc"){this.field=e,this.dir=n}}function LF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EN{}class Qe extends EN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jF(e,n,r):n==="array-contains"?new UF(e,r):n==="in"?new CN(e,r):n==="not-in"?new zF(e,r):n==="array-contains-any"?new BF(e,r):new Qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VF(e,r):new FF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xa(n,this.value)):n!==null&&Qa(this.value)===Qa(n)&&this.matchesComparison(Xa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class at extends EN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new at(e,n)}matches(e){return wc(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wc(t){return t.op==="and"}function $w(t){return t.op==="or"}function Tx(t){return kN(t)&&wc(t)}function kN(t){for(const e of t.filters)if(e instanceof at)return!1;return!0}function qw(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+yc(t.value);if(Tx(t))return t.filters.map((e=>qw(e))).join(",");{const e=t.filters.map((n=>qw(n))).join(",");return`${t.op}(${e})`}}function SN(t,e){return t instanceof Qe?(function(n,r){return r instanceof Qe&&n.op===r.op&&n.field.isEqual(r.field)&&Ks(n.value,r.value)})(t,e):t instanceof at?(function(n,r){return r instanceof at&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce(((s,i,o)=>s&&SN(i,r.filters[o])),!0):!1})(t,e):void Se(19439)}function _N(t,e){const n=t.filters.concat(e);return at.create(n,t.op)}function TN(t){return t instanceof Qe?(function(e){return`${e.field.canonicalString()} ${e.op} ${yc(e.value)}`})(t):t instanceof at?(function(e){return e.op.toString()+" {"+e.getFilters().map(TN).join(" ,")+"}"})(t):"Filter"}class jF extends Qe{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class VF extends Qe{constructor(e,n){super(e,"in",n),this.keys=IN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class FF extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=IN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function IN(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>de.fromName(r.referenceValue)))}class UF extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zd(n)&&Fd(n.arrayValue,this.value)}}class CN extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fd(this.value.arrayValue,n)}}class zF extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fd(this.value.arrayValue,n)}}class BF extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Fd(this.value.arrayValue,r)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $F{constructor(e,n=null,r=[],s=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=u,this.Te=null}}function Kw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new $F(t,e,n,r,s,i,o)}function xl(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>qw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),iy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>yc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>yc(r))).join(",")),e.Te=n}return e.Te}function pf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Y_(t.startAt,e.startAt)&&Y_(t.endAt,e.endAt)}function gg(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function yg(t,e){return t.filters.filter((n=>n instanceof Qe&&n.field.isEqual(e)))}function J_(t,e,n){let r=Om,s=!0;for(const i of yg(t,e)){let o=Om,u=!0;switch(i.op){case"<":case"<=":o=AF(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,u=!1;break;case"!=":case"not-in":o=Om}G_({value:r,inclusive:s},{value:o,inclusive:u})<0&&(r=o,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];G_({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function Z_(t,e,n){let r=za,s=!0;for(const i of yg(t,e)){let o=za,u=!0;switch(i.op){case">=":case">":o=OF(i.value),u=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,u=!1;break;case"!=":case"not-in":o=za}Q_({value:r,inclusive:s},{value:o,inclusive:u})>0&&(r=o,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];Q_({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nc{constructor(e,n=null,r=[],s=[],i=null,o="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qF(t,e,n,r,s,i,o,u){return new Nc(t,e,n,r,s,i,o,u)}function mf(t){return new Nc(t)}function eT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PN(t){return t.collectionGroup!==null}function bd(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let i=new ot(_t.comparator);return s.filters.forEach((o=>{o.getFlattenedFilters().forEach((u=>{u.isInequality()&&(i=i.add(u.field))}))})),i})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Bd(s,r))})),n.has(_t.keyField().canonicalString())||e.Ie.push(new Bd(_t.keyField(),r))}return e.Ie}function Vr(t){const e=Fe(t);return e.Ee||(e.Ee=KF(e,bd(t))),e.Ee}function KF(t,e){if(t.limitType==="F")return Kw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Bd(s.field,i)}));const n=t.endAt?new vc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vc(t.startAt.position,t.startAt.inclusive):null;return Kw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ww(t,e){const n=t.filters.concat([e]);return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vg(t,e,n){return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hy(t,e){return pf(Vr(t),Vr(e))&&t.limitType===e.limitType}function NN(t){return`${xl(Vr(t))}|lt:${t.limitType}`}function Hu(t){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((r=>TN(r))).join(", ")}]`),iy(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((r=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(r))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>yc(r))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>yc(r))).join(",")),`Target(${n})`})(Vr(t))}; limitType=${t.limitType})`}function gf(t,e){return e.isFoundDocument()&&(function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):de.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,r){for(const s of bd(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0})(t,e)&&(function(n,r){return!(n.startAt&&!(function(s,i,o){const u=X_(s,i,o);return s.inclusive?u<=0:u<0})(n.startAt,bd(n),r)||n.endAt&&!(function(s,i,o){const u=X_(s,i,o);return s.inclusive?u>=0:u>0})(n.endAt,bd(n),r))})(t,e)}function WF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DN(t){return(e,n)=>{let r=!1;for(const s of bd(t)){const i=HF(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function HF(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):(function(s,i,o){const u=i.data.field(s),h=o.data.field(s);return u!==null&&h!==null?Xa(u,h):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:t.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $i{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return dN(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const GF=new Et(de.comparator);function vr(){return GF}const RN=new Et(de.comparator);function od(...t){let e=RN;for(const n of t)e=e.insert(n.key,n);return e}function MN(t){let e=RN;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Os(){return xd()}function AN(){return xd()}function xd(){return new $i((t=>t.toString()),((t,e)=>t.isEqual(e)))}const QF=new Et(de.comparator),XF=new ot(de.comparator);function Ke(...t){let e=XF;for(const n of t)e=e.add(n);return e}const YF=new ot(Ve);function JF(){return YF}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ix(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ad(e)?"-0":e}}function ON(t){return{integerValue:""+t}}function ZF(t,e){return iF(e)?ON(e):Ix(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dy{constructor(){this._=void 0}}function e9(t,e,n){return t instanceof bc?(function(r,s){const i={fields:{[mN]:{stringValue:pN},[yN]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&kx(s)&&(s=uy(s)),s&&(i.fields[gN]=s),{mapValue:i}})(n,e):t instanceof xc?jN(t,e):t instanceof Ec?VN(t,e):(function(r,s){const i=LN(r,s),o=tT(i)+tT(r.Ae);return Bw(i)&&Bw(r.Ae)?ON(o):Ix(r.serializer,o)})(t,e)}function t9(t,e,n){return t instanceof xc?jN(t,e):t instanceof Ec?VN(t,e):n}function LN(t,e){return t instanceof $d?(function(n){return Bw(n)||(function(r){return!!r&&"doubleValue"in r})(n)})(e)?e:{integerValue:0}:null}class bc extends dy{}class xc extends dy{constructor(e){super(),this.elements=e}}function jN(t,e){const n=FN(e);for(const r of t.elements)n.some((s=>Ks(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Ec extends dy{constructor(e){super(),this.elements=e}}function VN(t,e){let n=FN(e);for(const r of t.elements)n=n.filter((s=>!Ks(s,r)));return{arrayValue:{values:n}}}class $d extends dy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tT(t){return bt(t.integerValue||t.doubleValue)}function FN(t){return zd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UN{constructor(e,n){this.field=e,this.transform=n}}function n9(t,e){return t.field.isEqual(e.field)&&(function(n,r){return n instanceof xc&&r instanceof xc||n instanceof Ec&&r instanceof Ec?hc(n.elements,r.elements,Ks):n instanceof $d&&r instanceof $d?Ks(n.Ae,r.Ae):n instanceof bc&&r instanceof bc})(t.transform,e.transform)}class r9{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let fy=class{};function zN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new py(t.key,Dn.none()):new Dc(t.key,t.data,Dn.none());{const n=t.data,r=Nn.empty();let s=new ot(_t.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new qi(t.key,r,new tr(s.toArray()),Dn.none())}}function s9(t,e,n){t instanceof Dc?(function(r,s,i){const o=r.value.clone(),u=rT(r.fieldTransforms,s,i.transformResults);o.setAll(u),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()})(t,e,n):t instanceof qi?(function(r,s,i){if(!Vm(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=rT(r.fieldTransforms,s,i.transformResults),u=s.data;u.setAll(BN(r)),u.setAll(o),s.convertToFoundDocument(i.version,u).setHasCommittedMutations()})(t,e,n):(function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()})(0,e,n)}function Ed(t,e,n,r){return t instanceof Dc?(function(s,i,o,u){if(!Vm(s.precondition,i))return o;const h=s.value.clone(),d=sT(s.fieldTransforms,u,i);return h.setAll(d),i.convertToFoundDocument(i.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof qi?(function(s,i,o,u){if(!Vm(s.precondition,i))return o;const h=sT(s.fieldTransforms,u,i),d=i.data;return d.setAll(BN(s)),d.setAll(h),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,i,o){return Vm(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o})(t,e,n)}function i9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=LN(r.transform,s||null);i!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,i))}return n||null}function nT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&hc(n,r,((s,i)=>n9(s,i)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dc extends fy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qi extends fy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function BN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function rT(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,u=e.data.field(i.field);r.set(i.field,t9(o,u,n[s]))}return r}function sT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,e9(i,o,e))}return r}class py extends fy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $N extends fy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cx{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&s9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ed(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ed(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AN();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=n.has(s.key)?null:u;const h=zN(o,u);h!==null&&r.set(s.key,h),o.isValidDocument()||o.convertToNoDocument(Pe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&hc(this.mutations,e.mutations,((n,r)=>nT(n,r)))&&hc(this.baseMutations,e.baseMutations,((n,r)=>nT(n,r)))}}class Px{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return QF})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Px(e,n,r,s)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class a9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Yt,Ye;function o9(t){switch(t){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function qN(t){if(t===void 0)return Ln("GRPC error has no .code"),te.UNKNOWN;switch(t){case Yt.OK:return te.OK;case Yt.CANCELLED:return te.CANCELLED;case Yt.UNKNOWN:return te.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return te.INTERNAL;case Yt.UNAVAILABLE:return te.UNAVAILABLE;case Yt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Yt.NOT_FOUND:return te.NOT_FOUND;case Yt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Yt.ABORTED:return te.ABORTED;case Yt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Yt.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:t})}}(Ye=Yt||(Yt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function l9(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const u9=new qa([4294967295,4294967295],0);function iT(t){const e=l9().encode(t),n=new zP;return n.update(e),new Uint8Array(n.digest())}function aT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new qa([n,r],0),new qa([s,i],0)]}class Dx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ld(`Invalid padding: ${n}`);if(r<0)throw new ld(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ld(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ld(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=qa.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(qa.fromNumber(r)));return s.compare(u9)===1&&(s=new qa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=iT(e),[r,s]=aT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Dx(i,s,n);return r.forEach((u=>o.insert(u))),o}insert(e){if(this.ge===0)return;const n=iT(e),[r,s]=aT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ld extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class my{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,yf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new my(Pe.min(),s,new Et(Ve),vr(),Ke())}}class yf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yf(r,n,Ke(),Ke(),Ke())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fm{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class KN{constructor(e,n){this.targetId=e,this.Ce=n}}class WN{constructor(e,n,r=en.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class oT{constructor(){this.ve=0,this.Fe=lT(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),r=Ke();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se(38017,{changeType:i})}})),new yf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=lT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class c9{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=tm(),this.He=tm(),this.Ye=new Et(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(gg(i))if(r===0){const o=new de(i.path);this.et(n,o,Rt.newNoDocument(o,Pe.min()))}else Ie(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const u=this.ut(e),h=u?this.ct(u,e,o):1;if(h!==0){this.it(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,u;try{o=Ai(r).toUint8Array()}catch(h){if(h instanceof fN)return wl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Dx(o,s,i)}catch(h){return wl(h instanceof ld?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const u=this.ot(o);if(u){if(i.current&&gg(u.target)){const h=new de(u.target.path);this.It(h).has(o)||this.Et(o,h)||this.et(o,h,Rt.newNoDocument(h,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=Ke();this.He.forEach(((i,o)=>{let u=!0;o.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new my(e,n,this.Ye,this.je,r);return this.je=vr(),this.Je=tm(),this.He=tm(),this.Ye=new Et(Ve),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new oT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ot(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ot(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function tm(){return new Et(de.comparator)}function lT(){return new Et(de.comparator)}const h9={asc:"ASCENDING",desc:"DESCENDING"},d9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f9={and:"AND",or:"OR"};class p9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hw(t,e){return t.useProto3Json||iy(e)?e:{value:e}}function kc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function m9(t,e){return kc(t,e.toTimestamp())}function Un(t){return Ie(!!t,49232),Pe.fromTimestamp((function(e){const n=Mi(e);return new Ge(n.seconds,n.nanos)})(t))}function Rx(t,e){return Gw(t,e).canonicalString()}function Gw(t,e){const n=(function(r){return new st(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function GN(t){const e=st.fromString(t);return Ie(rD(e),10190,{key:e.toString()}),e}function wg(t,e){return Rx(t.databaseId,e.path)}function hl(t,e){const n=GN(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(YN(n))}function QN(t,e){return Rx(t.databaseId,e)}function XN(t){const e=GN(t);return e.length===4?st.emptyPath():YN(e)}function Qw(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YN(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function uT(t,e,n){return{name:wg(t,e),fields:n.value.mapValue.fields}}function g9(t,e,n){const r=hl(t,e.name),s=Un(e.updateTime),i=e.createTime?Un(e.createTime):Pe.min(),o=new Nn({mapValue:{fields:e.fields}}),u=Rt.newFoundDocument(r,s,i,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function y9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Se(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(h,d){return h.useProto3Json?(Ie(d===void 0||typeof d=="string",58123),en.fromBase64String(d||"")):(Ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),en.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(h){const d=h.code===void 0?te.UNKNOWN:qN(h.code);return new ce(d,h.message||"")})(o);n=new WN(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=hl(t,r.document.name),i=Un(r.document.updateTime),o=r.document.createTime?Un(r.document.createTime):Pe.min(),u=new Nn({mapValue:{fields:r.document.fields}}),h=Rt.newFoundDocument(s,i,o,u),d=r.targetIds||[],m=r.removedTargetIds||[];n=new Fm(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=hl(t,r.document),i=r.readTime?Un(r.readTime):Pe.min(),o=Rt.newNoDocument(s,i),u=r.removedTargetIds||[];n=new Fm([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=hl(t,r.document),i=r.removedTargetIds||[];n=new Fm([],i,s,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new a9(s,i),u=r.targetId;n=new KN(u,o)}}return n}function bg(t,e){let n;if(e instanceof Dc)n={update:uT(t,e.key,e.value)};else if(e instanceof py)n={delete:wg(t,e.key)};else if(e instanceof qi)n={update:uT(t,e.key,e.data),updateMask:k9(e.fieldMask)};else{if(!(e instanceof $N))return Se(16599,{Vt:e.type});n={verify:wg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,i){const o=i.transform;if(o instanceof bc)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof xc)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ec)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof $d)return{fieldPath:i.field.canonicalString(),increment:o.Ae};throw Se(20930,{transform:i.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:m9(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se(27497)})(t,e.precondition)),n}function Xw(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?Dn.updateTime(Un(s.updateTime)):s.exists!==void 0?Dn.exists(s.exists):Dn.none()})(e.currentDocument):Dn.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(i,o){let u=null;if("setToServerValue"in o)Ie(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),u=new bc;else if("appendMissingElements"in o){const d=o.appendMissingElements.values||[];u=new xc(d)}else if("removeAllFromArray"in o){const d=o.removeAllFromArray.values||[];u=new Ec(d)}else"increment"in o?u=new $d(i,o.increment):Se(16584,{proto:o});const h=_t.fromServerFormat(o.fieldPath);return new UN(h,u)})(t,s))):[];if(e.update){e.update.name;const s=hl(t,e.update.name),i=new Nn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=(function(u){const h=u.fieldPaths||[];return new tr(h.map((d=>_t.fromServerFormat(d))))})(e.updateMask);return new qi(s,i,o,n,r)}return new Dc(s,i,n,r)}if(e.delete){const s=hl(t,e.delete);return new py(s,n)}if(e.verify){const s=hl(t,e.verify);return new $N(s,n)}return Se(1463,{proto:e})}function v9(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map((n=>(function(r,s){let i=r.updateTime?Un(r.updateTime):Un(s);return i.isEqual(Pe.min())&&(i=Un(s)),new r9(i,r.transformResults||[])})(n,e)))):[]}function JN(t,e){return{documents:[QN(t,e.path)]}}function ZN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QN(t,s);const i=(function(h){if(h.length!==0)return nD(at.create(h,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(h){if(h.length!==0)return h.map((d=>(function(m){return{field:Gu(m.field),direction:b9(m.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=Hw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:s}}function eD(t){let e=XN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ie(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let i=[];n.where&&(i=(function(m){const g=tD(m);return g instanceof at&&Tx(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(m){return m.map((g=>(function(v){return new Bd(Qu(v.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(m){let g;return g=typeof m=="object"?m.value:m,iy(g)?null:g})(n.limit));let h=null;n.startAt&&(h=(function(m){const g=!!m.before,v=m.values||[];return new vc(v,g)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const g=!m.before,v=m.values||[];return new vc(v,g)})(n.endAt)),qF(e,s,o,i,u,"F",h,d)}function w9(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tD(t){return t.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Qu(e.unaryFilter.field);return Qe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Qu(e.unaryFilter.field);return Qe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qu(e.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Qu(e.unaryFilter.field);return Qe.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(e){return Qe.create(Qu(e.fieldFilter.field),(function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(e){return at.create(e.compositeFilter.filters.map((n=>tD(n))),(function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(e.compositeFilter.op))})(t):Se(30097,{filter:t})}function b9(t){return h9[t]}function x9(t){return d9[t]}function E9(t){return f9[t]}function Gu(t){return{fieldPath:t.canonicalString()}}function Qu(t){return _t.fromServerFormat(t.fieldPath)}function nD(t){return t instanceof Qe?(function(e){if(e.op==="=="){if(H_(e.value))return{unaryFilter:{field:Gu(e.field),op:"IS_NAN"}};if(W_(e.value))return{unaryFilter:{field:Gu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(H_(e.value))return{unaryFilter:{field:Gu(e.field),op:"IS_NOT_NAN"}};if(W_(e.value))return{unaryFilter:{field:Gu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gu(e.field),op:x9(e.op),value:e.value}}})(t):t instanceof at?(function(e){const n=e.getFilters().map((r=>nD(r)));return n.length===1?n[0]:{compositeFilter:{op:E9(e.op),filters:n}}})(t):Se(54877,{filter:t})}function k9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function rD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ii{constructor(e,n,r,s,i=Pe.min(),o=Pe.min(),u=en.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sD{constructor(e){this.yt=e}}function S9(t,e){let n;if(e.document)n=g9(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=de.fromSegments(e.noDocument.path),s=kl(e.noDocument.readTime);n=Rt.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Se(56709);{const r=de.fromSegments(e.unknownDocument.path),s=kl(e.unknownDocument.version);n=Rt.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(r){const s=new Ge(r[0],r[1]);return Pe.fromTimestamp(s)})(e.readTime)),n}function cT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:xg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,i){return{name:wg(s,i.key),fields:i.data.value.mapValue.fields,updateTime:kc(s,i.version.toTimestamp()),createTime:kc(s,i.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:El(e.version)};else{if(!e.isUnknownDocument())return Se(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:El(e.version)}}return r}function xg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function El(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function kl(t){const e=new Ge(t.seconds,t.nanoseconds);return Pe.fromTimestamp(e)}function tl(t,e){const n=(e.baseMutations||[]).map((i=>Xw(t.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>Xw(t.yt,i))),s=Ge.fromMillis(e.localWriteTimeMs);return new Cx(e.batchId,s,n,r)}function ud(t){const e=kl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?kl(t.lastLimboFreeSnapshotVersion):Pe.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const i=s.documents.length;return Ie(i===1,1966,{count:i}),Vr(mf(XN(s.documents[0])))})(t.query):(function(s){return Vr(eD(s))})(t.query),new Ii(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,en.fromBase64String(t.resumeToken))}function iD(t,e){const n=El(e.snapshotVersion),r=El(e.lastLimboFreeSnapshotVersion);let s;s=gg(e.target)?JN(t.yt,e.target):ZN(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xl(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function aD(t){const e=eD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vg(e,e.limit,"L"):e}function I0(t,e){return new Nx(e.largestBatchId,Xw(t.yt,e.overlayMutation))}function hT(t,e){const n=e.path.lastSegment();return[t,Mn(e.path.popLast()),n]}function dT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:El(r.readTime),documentKey:Mn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _9{getBundleMetadata(e,n){return fT(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:kl(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return fT(e).put((function(r){return{bundleId:r.id,createTime:El(Un(r.createTime)),version:r.version}})(n))}getNamedQuery(e,n){return pT(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:aD(s.bundledQuery),readTime:kl(s.readTime)}})(r)}))}saveNamedQuery(e,n){return pT(e).put((function(r){return{name:r.name,readTime:El(Un(r.readTime)),bundledQuery:r.bundledQuery}})(n))}}function fT(t){return an(t,ay)}function pT(t){return an(t,oy)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gy{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new gy(e,r)}getOverlay(e,n){return Oh(e).get(hT(this.userId,n)).next((r=>r?I0(this.serializer,r):null))}getOverlays(e,n){const r=Os();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((i,o)=>{const u=new Nx(n,o);s.push(this.St(e,u))})),Q.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((o=>s.add(Mn(o.getCollectionPath()))));const i=[];return s.forEach((o=>{const u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(Oh(e).Z(Fw,u))})),Q.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Os(),i=Mn(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Oh(e).J(Fw,o).next((u=>{for(const h of u){const d=I0(this.serializer,h);s.set(d.getKey(),d)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const i=Os();let o;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Oh(e).ee({index:oN,range:u},((h,d,m)=>{const g=I0(this.serializer,d);i.size()<s||g.largestBatchId===o?(i.set(g.getKey(),g),o=g.largestBatchId):m.done()})).next((()=>i))}St(e,n){return Oh(e).put((function(r,s,i){const[o,u,h]=hT(s,i.mutation.key);return{userId:s,collectionPath:u,documentId:h,collectionGroup:i.mutation.key.getCollectionGroup(),largestBatchId:i.largestBatchId,overlayMutation:bg(r.yt,i.mutation)}})(this.serializer,this.userId,n))}}function Oh(t){return an(t,ly)}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class T9{bt(e){return an(e,xx)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?en.fromUint8Array(r):en.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nl{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(bt(e.integerValue));else if("doubleValue"in e){const r=bt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Ad(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Mi(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Ai(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?wN(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):cy(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Se(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){var r,s;const i=e.fields||{};this.Ft(n,53);const o=gc,u=((s=(r=i[o].arrayValue)==null?void 0:r.values)==null?void 0:s.length)||0;this.Ft(n,15),n.Mt(bt(u)),this.Ot(o,n),this.Ct(i[o],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),de.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}nl.Kt=new nl;/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law | agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cu=255;function I9(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function mT(t){const e=64-(function(n){let r=0;for(let s=0;s<8;++s){const i=I9(255&n[s]);if(r+=i,i!==8)break}return r})(t);return Math.ceil(e/8)}class C9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=mT(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=mT(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(Cu),this.sn(255)}_n(){this.an(Cu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const i=new DataView(new ArrayBuffer(8));return i.setFloat64(0,s,!1),new Uint8Array(i.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Cu?(this.sn(Cu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Cu?(this.an(Cu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class P9{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class N9{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Lh{constructor(){this.cn=new C9,this.ln=new P9(this.cn),this.hn=new N9(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rl{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new rl(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Um(this.En),directionalValue:Um(this.dn),orderedDocumentKey:Um(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Ta(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=gT(t.En,e.En),n!==0?n:(n=gT(t.dn,e.dn),n!==0?n:de.comparator(t.In,e.In)))}function gT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Um(t){return Z2()?(function(e){let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return n})(t):t}function yT(t){return typeof t!="string"?t:(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(t)}class vT{constructor(e){this.mn=new ot(((n,r)=>_t.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ie(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Lw(e);if(n!==void 0&&!this.wn(n))return!1;const r=Qo(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const h=r[i];if(!this.Sn(u,h)||!this.bn(this.fn[o++],h))return!1}++i}for(;i<r.length;++i){const u=r[i];if(o>=this.fn.length||!this.bn(this.fn[o++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new ot(_t.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Rm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Rm(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Rm(r.field,r.dir==="asc"?0:1)));return new hg(hg.UNKNOWN_ID,this.collectionId,n,Md.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oD(t){var e,n;if(Ie(t instanceof Qe||t instanceof at,20012),t instanceof Qe){if(t instanceof CN){const s=((n=(e=t.value.arrayValue)==null?void 0:e.values)==null?void 0:n.map((i=>Qe.create(t.field,"==",i))))||[];return at.create(s,"or")}return t}const r=t.filters.map((s=>oD(s)));return at.create(r,t.op)}function D9(t){if(t.getFilters().length===0)return[];const e=Zw(oD(t));return Ie(lD(e),7391),Yw(e)||Jw(e)?[e]:e.getFilters()}function Yw(t){return t instanceof Qe}function Jw(t){return t instanceof at&&Tx(t)}function lD(t){return Yw(t)||Jw(t)||(function(e){if(e instanceof at&&$w(e)){for(const n of e.getFilters())if(!Yw(n)&&!Jw(n))return!1;return!0}return!1})(t)}function Zw(t){if(Ie(t instanceof Qe||t instanceof at,34018),t instanceof Qe)return t;if(t.filters.length===1)return Zw(t.filters[0]);const e=t.filters.map((r=>Zw(r)));let n=at.create(e,t.op);return n=Eg(n),lD(n)?n:(Ie(n instanceof at,64498),Ie(wc(n),40251),Ie(n.filters.length>1,57927),n.filters.reduce(((r,s)=>Mx(r,s))))}function Mx(t,e){let n;return Ie(t instanceof Qe||t instanceof at,38388),Ie(e instanceof Qe||e instanceof at,25473),n=t instanceof Qe?e instanceof Qe?(function(r,s){return at.create([r,s],"and")})(t,e):wT(t,e):e instanceof Qe?wT(e,t):(function(r,s){if(Ie(r.filters.length>0&&s.filters.length>0,48005),wc(r)&&wc(s))return _N(r,s.getFilters());const i=$w(r)?r:s,o=$w(r)?s:r,u=i.filters.map((h=>Mx(h,o)));return at.create(u,"or")})(t,e),Eg(n)}function wT(t,e){if(wc(e))return _N(e,t.getFilters());{const n=e.filters.map((r=>Mx(t,r)));return at.create(n,"or")}}function Eg(t){if(Ie(t instanceof Qe||t instanceof at,11850),t instanceof Qe)return t;const e=t.getFilters();if(e.length===1)return Eg(e[0]);if(kN(t))return t;const n=e.map((s=>Eg(s))),r=[];return n.forEach((s=>{s instanceof Qe?r.push(s):s instanceof at&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:at.create(r,t.op)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R9{constructor(){this.Cn=new Ax}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(xr.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class Ax{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ot(st.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ot(st.comparator)).toArray()}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bT="IndexedDbIndexManager",nm=new Uint8Array(0);class M9{constructor(e,n){this.databaseId=n,this.vn=new Ax,this.Fn=new $i((r=>xl(r)),((r,s)=>pf(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const i={collectionId:r,parent:Mn(s)};return xT(e).put(i)}return Q.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[QP(n),""],!1,!0);return xT(e).J(s).next((i=>{for(const o of i){if(o.collectionId!==n)break;r.push(As(o.parent))}return r}))}addFieldIndex(e,n){const r=jh(e),s=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=Nu(e);return i.next((u=>{o.put(dT(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return i.next()}deleteFieldIndex(e,n){const r=jh(e),s=Nu(e),i=Pu(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=jh(e),r=Pu(e),s=Nu(e);return n.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new vT(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,n){const r=Pu(e);let s=!0;const i=new Map;return Q.forEach(this.Mn(n),(o=>this.xn(e,o).next((u=>{s&&(s=!!u),i.set(o,u)})))).next((()=>{if(s){let o=Ke();const u=[];return Q.forEach(i,((h,d)=>{le(bT,`Using index ${(function(D){return`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map((O=>`${O.fieldPath}:${O.kind}`)).join(",")}`})(h)} to execute ${xl(n)}`);const m=(function(D,O){const U=Lw(O);if(U===void 0)return null;for(const B of yg(D,U.fieldPath))switch(B.op){case"array-contains-any":return B.value.arrayValue.values||[];case"array-contains":return[B.value]}return null})(d,h),g=(function(D,O){const U=new Map;for(const B of Qo(O))for(const H of yg(D,B.fieldPath))switch(H.op){case"==":case"in":U.set(B.fieldPath.canonicalString(),H.value);break;case"not-in":case"!=":return U.set(B.fieldPath.canonicalString(),H.value),Array.from(U.values())}return null})(d,h),v=(function(D,O){const U=[];let B=!0;for(const H of Qo(O)){const M=H.kind===0?J_(D,H.fieldPath,D.startAt):Z_(D,H.fieldPath,D.startAt);U.push(M.value),B&&(B=M.inclusive)}return new vc(U,B)})(d,h),k=(function(D,O){const U=[];let B=!0;for(const H of Qo(O)){const M=H.kind===0?Z_(D,H.fieldPath,D.endAt):J_(D,H.fieldPath,D.endAt);U.push(M.value),B&&(B=M.inclusive)}return new vc(U,B)})(d,h),T=this.On(h,d,v),_=this.On(h,d,k),I=this.Nn(h,d,g),N=this.Bn(h.indexId,m,T,v.inclusive,_,k.inclusive,I);return Q.forEach(N,(D=>r.Y(D,n.limit).next((O=>{O.forEach((U=>{const B=de.fromSegments(U.documentKey);o.has(B)||(o=o.add(B),u.push(B))}))}))))})).next((()=>u))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=D9(at.create(e.filters,"and")).map((r=>Kw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,o,u){const h=(n!=null?n.length:1)*Math.max(r.length,i.length),d=h/(n!=null?n.length:1),m=[];for(let g=0;g<h;++g){const v=n?this.Ln(n[g/d]):nm,k=this.kn(e,v,r[g%d],s),T=this.qn(e,v,i[g%d],o),_=u.map((I=>this.kn(e,v,I,!0)));m.push(...this.createRange(k,T,_))}return m}kn(e,n,r,s){const i=new rl(e,de.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new rl(e,de.empty(),n,r);return s?i.An():i}xn(e,n){const r=new vT(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let o=null;for(const u of i)r.yn(u)&&(!o||u.fields.length>o.fields.length)&&(o=u);return o}))}getIndexType(e,n){let r=2;const s=this.Mn(n);return Q.forEach(s,(i=>this.xn(e,i).next((o=>{o?r!==0&&o.fields.length<(function(u){let h=new ot(_t.comparator),d=!1;for(const m of u.filters)for(const g of m.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:h=h.add(g.field));for(const m of u.orderBy)m.field.isKeyField()||(h=h.add(m.field));return h.size+(d?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(i){return i.limit!==null})(n)&&s.length>1&&r===2?1:r))}Qn(e,n){const r=new Lh;for(const s of Qo(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Pn(s.kind);nl.Kt.Dt(i,o)}return r.un()}Ln(e){const n=new Lh;return nl.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Lh;return nl.Kt.Dt(Ud(this.databaseId,n),r.Pn((function(s){const i=Qo(s);return i.length===0?0:i[i.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new Lh);let i=0;for(const o of Qo(e)){const u=r[i++];for(const h of s)if(this.Un(n,o.fieldPath)&&zd(u))s=this.Kn(s,o,u);else{const d=h.Pn(o.kind);nl.Kt.Dt(u,d)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const u of s){const h=new Lh;h.seed(u.un()),nl.Kt.Dt(o,h.Pn(n.kind)),i.push(h)}return i}Un(e,n){return!!e.filters.find((r=>r instanceof Qe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=jh(e),s=Nu(e);return(n?r.J(Vw,IDBKeyRange.bound(n,n)):r.J()).next((i=>{const o=[];return Q.forEach(i,(u=>s.get([u.indexId,this.uid]).next((h=>{o.push((function(d,m){const g=m?new Md(m.sequenceNumber,new xr(kl(m.readTime),new de(As(m.documentKey)),m.largestBatchId)):Md.empty(),v=d.fields.map((([k,T])=>new Rm(_t.fromServerFormat(k),T)));return new hg(d.indexId,d.collectionGroup,v,g)})(u,h))})))).next((()=>o))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Ve(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=jh(e),i=Nu(e);return this.Gn(e).next((o=>s.J(Vw,IDBKeyRange.bound(n,n)).next((u=>Q.forEach(u,(h=>i.put(dT(h.indexId,this.uid,o,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((s,i)=>{const o=r.get(s.collectionGroup);return(o?Q.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Q.forEach(u,(h=>this.zn(e,s,h).next((d=>{const m=this.jn(i,h);return d.isEqual(m)?Q.resolve():this.Jn(e,i,h,d,m)})))))))}))}Hn(e,n,r,s){return Pu(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return Pu(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=Pu(e);let i=new ot(Ta);return s.ee({index:aN,range:IDBKeyRange.only([r.indexId,this.uid,Um(this.$n(r,n))])},((o,u)=>{i=i.add(new rl(r.indexId,n,yT(u.arrayValue),yT(u.directionalValue)))})).next((()=>i))}jn(e,n){let r=new ot(Ta);const s=this.Qn(n,e);if(s==null)return r;const i=Lw(n);if(i!=null){const o=e.data.field(i.fieldPath);if(zd(o))for(const u of o.arrayValue.values||[])r=r.add(new rl(n.indexId,e.key,this.Ln(u),s))}else r=r.add(new rl(n.indexId,e.key,nm,s));return r}Jn(e,n,r,s,i){le(bT,"Updating index entries for document '%s'",n.key);const o=[];return(function(u,h,d,m,g){const v=u.getIterator(),k=h.getIterator();let T=Iu(v),_=Iu(k);for(;T||_;){let I=!1,N=!1;if(T&&_){const D=d(T,_);D<0?N=!0:D>0&&(I=!0)}else T!=null?N=!0:I=!0;I?(m(_),_=Iu(k)):N?(g(T),T=Iu(v)):(T=Iu(v),_=Iu(k))}})(s,i,Ta,(u=>{o.push(this.Hn(e,n,r,u))}),(u=>{o.push(this.Yn(e,n,r,u))})),Q.waitFor(o)}Gn(e){let n=1;return Nu(e).ee({index:iN,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((o,u)=>Ta(o,u))).filter(((o,u,h)=>!u||Ta(o,h[u-1])!==0));const s=[];s.push(e);for(const o of r){const u=Ta(o,e),h=Ta(o,n);if(u===0)s[0]=e.An();else if(u>0&&h<0)s.push(o),s.push(o.An());else if(h>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Zn(s[o],s[o+1]))return[];const u=s[o].Vn(this.uid,nm,de.empty()),h=s[o+1].Vn(this.uid,nm,de.empty());i.push(IDBKeyRange.bound(u,h))}return i}Zn(e,n){return Ta(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(ET)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((s=>s||Se(44426))))).next(ET)}}function xT(t){return an(t,jd)}function Pu(t){return an(t,vd)}function jh(t){return an(t,bx)}function Nu(t){return an(t,yd)}function ET(t){Ie(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;yx(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new xr(e.readTime,e.documentKey,n)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uD=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function cD(t,e,n){const r=t.store(ts),s=t.store(dc),i=[],o=IDBKeyRange.only(n.batchId);let u=0;const h=r.ee({range:o},((m,g,v)=>(u++,v.delete())));i.push(h.next((()=>{Ie(u===1,47070,{batchId:n.batchId})})));const d=[];for(const m of n.mutations){const g=nN(e,m.key.path,n.batchId);i.push(s.delete(g)),d.push(m.key)}return Q.waitFor(i).next((()=>d))}function kg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Se(14731);e=t.noDocument}return JSON.stringify(e).length}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(uD,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);class yy{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){Ie(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new yy(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ia(e).ee({index:sl,range:r},((s,i,o)=>{n=!1,o.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const i=Xu(e),o=Ia(e);return o.add({}).next((u=>{Ie(typeof u=="number",49019);const h=new Cx(u,n,r,s),d=(function(v,k,T){const _=T.baseMutations.map((N=>bg(v.yt,N))),I=T.mutations.map((N=>bg(v.yt,N)));return{userId:k,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:_,mutations:I}})(this.serializer,this.userId,h),m=[];let g=new ot(((v,k)=>Ve(v.canonicalString(),k.canonicalString())));for(const v of s){const k=nN(this.userId,v.key.path,u);g=g.add(v.key.path.popLast()),m.push(o.put(d)),m.push(i.put(k,lF))}return g.forEach((v=>{m.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[u]=h.keys()})),Q.waitFor(m).next((()=>h))}))}lookupMutationBatch(e,n){return Ia(e).get(n).next((r=>r?(Ie(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),tl(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Ia(e).ee({index:sl,range:s},((o,u,h)=>{u.userId===this.userId&&(Ie(u.batchId>=r,47524,{tr:r}),i=tl(this.serializer,u)),h.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ul;return Ia(e).ee({index:sl,range:n,reverse:!0},((s,i,o)=>{r=i.batchId,o.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,ul],[this.userId,Number.POSITIVE_INFINITY]);return Ia(e).J(sl,n).next((r=>r.map((s=>tl(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Mm(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Xu(e).ee({range:s},((o,u,h)=>{const[d,m,g]=o,v=As(m);if(d===this.userId&&n.path.isEqual(v))return Ia(e).get(g).next((k=>{if(!k)throw Se(61480,{nr:o,batchId:g});Ie(k.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:k.userId,batchId:g}),i.push(tl(this.serializer,k))}));h.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(Ve);const s=[];return n.forEach((i=>{const o=Mm(this.userId,i.path),u=IDBKeyRange.lowerBound(o),h=Xu(e).ee({range:u},((d,m,g)=>{const[v,k,T]=d,_=As(k);v===this.userId&&i.path.isEqual(_)?r=r.add(T):g.done()}));s.push(h)})),Q.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Mm(this.userId,r),o=IDBKeyRange.lowerBound(i);let u=new ot(Ve);return Xu(e).ee({range:o},((h,d,m)=>{const[g,v,k]=h,T=As(v);g===this.userId&&r.isPrefixOf(T)?T.length===s&&(u=u.add(k)):m.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],s=[];return n.forEach((i=>{s.push(Ia(e).get(i).next((o=>{if(o===null)throw Se(35274,{batchId:i});Ie(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:i}),r.push(tl(this.serializer,o))})))})),Q.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return cD(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(i){return[i]})(this.userId)),s=[];return Xu(e).ee({range:r},((i,o,u)=>{if(i[0]===this.userId){const h=As(i[1]);s.push(h)}else u.done()})).next((()=>{Ie(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,n){return hD(e,this.userId,n)}_r(e){return dD(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:ul,lastStreamToken:""}))}}function hD(t,e,n){const r=Mm(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return Xu(t).ee({range:i,X:!0},((u,h,d)=>{const[m,g,v]=u;m===e&&g===s&&(o=!0),d.done()})).next((()=>o))}function Ia(t){return an(t,ts)}function Xu(t){return an(t,dc)}function dD(t){return an(t,Od)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sl(0)}static cr(){return new Sl(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class A9{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Sl(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Pe.fromTimestamp(new Ge(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Du(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ie(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let s=0;const i=[];return Du(e).ee(((o,u)=>{const h=ud(u);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,i.push(this.removeTargetData(e,h)))})).next((()=>Q.waitFor(i))).next((()=>s))}forEachTarget(e,n){return Du(e).ee(((r,s)=>{const i=ud(s);n(i)}))}lr(e){return ST(e).get(pg).next((n=>(Ie(n!==null,2888),n)))}hr(e,n){return ST(e).put(pg,n)}Pr(e,n){return Du(e).put(iD(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=xl(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Du(e).ee({range:s,index:sN},((o,u,h)=>{const d=ud(u);pf(n,d.target)&&(i=d,h.done())})).next((()=>i))}addMatchingKeys(e,n,r){const s=[],i=Ua(e);return n.forEach((o=>{const u=Mn(o.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,o))})),Q.waitFor(s)}removeMatchingKeys(e,n,r){const s=Ua(e);return Q.forEach(n,(i=>{const o=Mn(i.path);return Q.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,n){const r=Ua(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Ua(e);let i=Ke();return s.ee({range:r,X:!0},((o,u,h)=>{const d=As(o[1]),m=new de(d);i=i.add(m)})).next((()=>i))}containsKey(e,n){const r=Mn(n.path),s=IDBKeyRange.bound([r],[QP(r)],!1,!0);let i=0;return Ua(e).ee({index:wx,X:!0,range:s},(([o,u],h,d)=>{o!==0&&(i++,d.done())})).next((()=>i>0))}At(e,n){return Du(e).get(n).next((r=>r?ud(r):null))}}function Du(t){return an(t,fc)}function ST(t){return an(t,cl)}function Ua(t){return an(t,pc)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _T="LruGarbageCollector",O9=1048576;function TT([t,e],[n,r]){const s=Ve(t,n);return s===0?Ve(e,r):s}class L9{constructor(e){this.Ir=e,this.buffer=new ot(TT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();TT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(_T,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ao(n)?le(_T,"Ignoring IndexedDB error during garbage collection: ",n):await Al(n)}await this.Vr(3e5)}))}}class j9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Lr.ce);const r=new L9(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(kT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,u,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,o=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),Wu()<=He.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${s} in `+(u-o)+`ms
	Removed ${i} targets in `+(h-u)+`ms
	Removed ${g} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function pD(t,e){return new j9(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class V9{constructor(e,n){this.db=e,this.garbageCollector=pD(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,s)=>n(s)))}addReference(e,n,r){return rm(e,r)}removeReference(e,n,r){return rm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return rm(e,n)}br(e,n){return(function(r,s){let i=!1;return dD(r).te((o=>hD(r,o,s).next((u=>(u&&(i=!0),Q.resolve(!u)))))).next((()=>i))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((o,u)=>{if(u<=n){const h=this.br(e,o).next((d=>{if(!d)return i++,r.getEntry(e,o).next((()=>(r.removeEntry(o,Pe.min()),Ua(e).delete((function(m){return[0,Mn(m.path)]})(o)))))}));s.push(h)}})).next((()=>Q.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return rm(e,n)}Sr(e,n){const r=Ua(e);let s,i=Lr.ce;return r.ee({index:wx},(([o,u],{path:h,sequenceNumber:d})=>{o===0?(i!==Lr.ce&&n(new de(As(s)),i),i=d,s=h):i=Lr.ce})).next((()=>{i!==Lr.ce&&n(new de(As(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function rm(t,e){return Ua(t).put((function(n,r){return{targetId:0,path:Mn(n.path),sequenceNumber:r}})(e,t.currentSequenceNumber))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mD{constructor(){this.changes=new $i((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class F9{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return jo(e).put(r)}removeEntry(e,n,r){return jo(e).delete((function(s,i){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],xg(i),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Rt.newInvalidDocument(n);return jo(e).ee({index:Am,range:IDBKeyRange.only(Vh(n))},((s,i)=>{r=this.Cr(n,i)})).next((()=>r))}vr(e,n){let r={size:0,document:Rt.newInvalidDocument(n)};return jo(e).ee({index:Am,range:IDBKeyRange.only(Vh(n))},((s,i)=>{r={document:this.Cr(n,i),size:kg(i)}})).next((()=>r))}getEntries(e,n){let r=vr();return this.Fr(e,n,((s,i)=>{const o=this.Cr(s,i);r=r.insert(s,o)})).next((()=>r))}Mr(e,n){let r=vr(),s=new Et(de.comparator);return this.Fr(e,n,((i,o)=>{const u=this.Cr(i,o);r=r.insert(i,u),s=s.insert(i,kg(o))})).next((()=>({documents:r,Or:s})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let s=new ot(PT);n.forEach((h=>s=s.add(h)));const i=IDBKeyRange.bound(Vh(s.first()),Vh(s.last())),o=s.getIterator();let u=o.getNext();return jo(e).ee({index:Am,range:i},((h,d,m)=>{const g=de.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;u&&PT(u,g)<0;)r(u,null),u=o.getNext();u&&u.isEqual(g)&&(r(u,d),u=o.hasNext()?o.getNext():null),u?m.j(Vh(u)):m.done()})).next((()=>{for(;u;)r(u,null),u=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,u=[o.popLast().toArray(),o.lastSegment(),xg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jo(e).J(IDBKeyRange.bound(u,h,!0)).next((d=>{i==null||i.incrementDocumentReadCount(d.length);let m=vr();for(const g of d){const v=this.Cr(de.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(gf(n,v)||s.has(v.key))&&(m=m.insert(v.key,v))}return m}))}getAllFromCollectionGroup(e,n,r,s){let i=vr();const o=CT(n,r),u=CT(n,xr.max());return jo(e).ee({index:rN,range:IDBKeyRange.bound(o,u,!0)},((h,d,m)=>{const g=this.Cr(de.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);i=i.insert(g.key,g),i.size===s&&m.done()})).next((()=>i))}newChangeBuffer(e){return new U9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return IT(e).get(jw).next((n=>(Ie(!!n,20021),n)))}Dr(e,n){return IT(e).put(jw,n)}Cr(e,n){if(n){const r=S9(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Pe.min())))return r}return Rt.newInvalidDocument(e)}}function gD(t){return new F9(t)}class U9 extends mD{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new $i((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new ot(((i,o)=>Ve(i.canonicalString(),o.canonicalString())));return this.changes.forEach(((i,o)=>{const u=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,u.readTime)),o.isValidDocument()){const h=cT(this.Nr.serializer,o);s=s.add(i.path.popLast());const d=kg(h);r+=d-u.size,n.push(this.Nr.addEntry(e,i,h))}else if(r-=u.size,this.trackRemovals){const h=cT(this.Nr.serializer,o.convertToNoDocument(Pe.min()));n.push(this.Nr.addEntry(e,i,h))}})),s.forEach((i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:s})=>(s.forEach(((i,o)=>{this.Br.set(i,{size:o,readTime:r.get(i).readTime})})),r)))}}function IT(t){return an(t,Ld)}function jo(t){return an(t,fg)}function Vh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function CT(t,e){const n=e.documentKey.path.toArray();return[t,xg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function PT(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Ve(n[i],r[i]),s)return s;return s=Ve(n.length,r.length),s||(s=Ve(n[n.length-2],r[r.length-2]),s||Ve(n[n.length-1],r[r.length-1]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class z9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Ed(r.mutation,s,tr.empty(),Ge.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ke()){const s=Os();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=od();return i.forEach(((u,h)=>{o=o.insert(u,h.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Os();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ke())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,u)=>{n.set(o,u)}))}))}computeViews(e,n,r,s){let i=vr();const o=xd(),u=(function(){return xd()})();return n.forEach(((h,d)=>{const m=r.get(d.key);s.has(d.key)&&(m===void 0||m.mutation instanceof qi)?i=i.insert(d.key,d):m!==void 0?(o.set(d.key,m.mutation.getFieldMask()),Ed(m.mutation,d,m.mutation.getFieldMask(),Ge.now())):o.set(d.key,tr.empty())})),this.recalculateAndSaveOverlays(e,i).next((h=>(h.forEach(((d,m)=>o.set(d,m))),n.forEach(((d,m)=>u.set(d,new z9(m,o.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=xd();let s=new Et(((o,u)=>o-u)),i=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const u of o)u.keys().forEach((h=>{const d=n.get(h);if(d===null)return;let m=r.get(h)||tr.empty();m=u.applyToLocalView(d,m),r.set(h,m);const g=(s.get(u.batchId)||Ke()).add(h);s=s.insert(u.batchId,g)}))})).next((()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),d=h.key,m=h.value,g=AN();m.forEach((v=>{if(!i.has(v)){const k=zN(n.get(v),r.get(v));k!==null&&g.set(v,k),i=i.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return Q.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Os());let u=Rd,h=i;return o.next((d=>Q.forEach(d,((m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),i.get(m)?Q.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{h=h.insert(m,v)}))))).next((()=>this.populateOverlays(e,d,i))).next((()=>this.computeViews(e,h,d,Ke()))).next((m=>({batchId:u,changes:MN(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((r=>{let s=od();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=od();return this.indexManager.getCollectionParents(e,i).next((u=>Q.forEach(u,(h=>{const d=(function(m,g){return new Nc(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((m=>{m.forEach(((g,v)=>{o=o.insert(g,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((h,d)=>{const m=d.getKey();o.get(m)===null&&(o=o.insert(m,Rt.newInvalidDocument(m)))}));let u=od();return o.forEach(((h,d)=>{const m=i.get(h);m!==void 0&&Ed(m.mutation,d,tr.empty(),Ge.now()),gf(n,d)&&(u=u.insert(h,d))})),u}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class B9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:Un(r.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:aD(r.bundledQuery),readTime:Un(r.readTime)}})(n)),Q.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $9{constructor(){this.overlays=new Et(de.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Os();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Os(),i=n.length+1,o=new de(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const h=u.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&h.largestBatchId>r&&s.set(h.getKey(),h)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Et(((d,m)=>d-m));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=i.get(d.largestBatchId);m===null&&(m=Os(),i=i.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=Os(),h=i.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,m)=>u.set(d,m))),!(u.size()>=s)););return Q.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Nx(n,r));let i=this.qr.get(n);i===void 0&&(i=Ke(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class q9{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ox{constructor(){this.Qr=new ot(hn.$r),this.Ur=new ot(hn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new hn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new de(new st([])),r=new hn(n,e),s=new hn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new st([])),r=new hn(n,e),s=new hn(n,e+1);let i=Ke();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new hn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class K9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ot(hn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Cx(i,n,r,s);this.mutationQueue.push(o);for(const u of s)this.Zr=this.Zr.add(new hn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?ul:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),s=new hn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const u=this.Xr(o.Yr);i.push(u)})),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(Ve);return n.forEach((s=>{const i=new hn(s,0),o=new hn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(u=>{r=r.add(u.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;de.isDocumentKey(i)||(i=i.child(""));const o=new hn(new de(i),0);let u=new ot(Ve);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(u=u.add(h.Yr)),!0)}),o),Q.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ie(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(s=>{const i=new hn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new hn(n,0),s=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class W9{constructor(e){this.ri=e,this.docs=(function(){return new Et(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=vr();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Rt.newInvalidDocument(s))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=vr();const o=n.path,u=new de(o.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||yx(JP(m),r)<=0||(s.has(m.key)||gf(n,m))&&(i=i.insert(m.key,m.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Se(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new H9(this)}getSize(e){return Q.resolve(this.size)}}class H9 extends mD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class G9{constructor(e){this.persistence=e,this.si=new $i((n=>xl(n)),pf),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Ox,this.targetCount=0,this.ai=Sl.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Sl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Q.waitFor(i).next((()=>s))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Lr(0),this.li=!1,this.li=!0,this.hi=new q9,this.referenceDelegate=e(this),this.Pi=new G9(this),this.indexManager=new R9,this.remoteDocumentCache=(function(r){return new W9(r)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new sD(n),this.Ii=new B9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new K9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new Q9(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Q9 extends eN{constructor(e){super(),this.currentSequenceNumber=e}}class vy{constructor(e){this.persistence=e,this.Ri=new Ox,this.Vi=null}static mi(e){return new vy(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const s=de.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Pe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Sg{constructor(e,n){this.persistence=e,this.pi=new $i((r=>Mn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=pD(this,n)}static mi(e,n){return new Sg(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Q.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((u=>{u||(r++,i.removeEntry(o,Pe.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lm(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class X9{constructor(e){this.serializer=e}k(e,n,r,s){const i=new sy("createOrUpgrade",n);r<1&&s>=1&&((function(u){u.createObjectStore(ff)})(e),(function(u){u.createObjectStore(Od,{keyPath:oF}),u.createObjectStore(ts,{keyPath:U_,autoIncrement:!0}).createIndex(sl,z_,{unique:!0}),u.createObjectStore(dc)})(e),NT(e),(function(u){u.createObjectStore(Xo)})(e));let o=Q.resolve();return r<3&&s>=3&&(r!==0&&((function(u){u.deleteObjectStore(pc),u.deleteObjectStore(fc),u.deleteObjectStore(cl)})(e),NT(e)),o=o.next((()=>(function(u){const h=u.store(cl),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pe.min().toTimestamp(),targetCount:0};return h.put(pg,d)})(i)))),r<4&&s>=4&&(r!==0&&(o=o.next((()=>(function(u,h){return h.store(ts).J().next((d=>{u.deleteObjectStore(ts),u.createObjectStore(ts,{keyPath:U_,autoIncrement:!0}).createIndex(sl,z_,{unique:!0});const m=h.store(ts),g=d.map((v=>m.put(v)));return Q.waitFor(g)}))})(e,i)))),o=o.next((()=>{(function(u){u.createObjectStore(mc,{keyPath:gF})})(e)}))),r<5&&s>=5&&(o=o.next((()=>this.yi(i)))),r<6&&s>=6&&(o=o.next((()=>((function(u){u.createObjectStore(Ld)})(e),this.wi(i))))),r<7&&s>=7&&(o=o.next((()=>this.Si(i)))),r<8&&s>=8&&(o=o.next((()=>this.bi(e,i)))),r<9&&s>=9&&(o=o.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(o=o.next((()=>this.Di(i)))),r<11&&s>=11&&(o=o.next((()=>{(function(u){u.createObjectStore(ay,{keyPath:yF})})(e),(function(u){u.createObjectStore(oy,{keyPath:vF})})(e)}))),r<12&&s>=12&&(o=o.next((()=>{(function(u){const h=u.createObjectStore(ly,{keyPath:_F});h.createIndex(Fw,TF,{unique:!1}),h.createIndex(oN,IF,{unique:!1})})(e)}))),r<13&&s>=13&&(o=o.next((()=>(function(u){const h=u.createObjectStore(fg,{keyPath:uF});h.createIndex(Am,cF),h.createIndex(rN,hF)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(Xo)))),r<14&&s>=14&&(o=o.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(o=o.next((()=>(function(u){u.createObjectStore(bx,{keyPath:wF,autoIncrement:!0}).createIndex(Vw,bF,{unique:!1}),u.createObjectStore(yd,{keyPath:xF}).createIndex(iN,EF,{unique:!1}),u.createObjectStore(vd,{keyPath:kF}).createIndex(aN,SF,{unique:!1})})(e)))),r<16&&s>=16&&(o=o.next((()=>{n.objectStore(yd).clear()})).next((()=>{n.objectStore(vd).clear()}))),r<17&&s>=17&&(o=o.next((()=>{(function(u){u.createObjectStore(xx,{keyPath:CF})})(e)}))),r<18&&s>=18&&Z2()&&(o=o.next((()=>{n.objectStore(yd).clear()})).next((()=>{n.objectStore(vd).clear()}))),o}wi(e){let n=0;return e.store(Xo).ee(((r,s)=>{n+=kg(s)})).next((()=>{const r={byteSize:n};return e.store(Ld).put(jw,r)}))}yi(e){const n=e.store(Od),r=e.store(ts);return n.J().next((s=>Q.forEach(s,(i=>{const o=IDBKeyRange.bound([i.userId,ul],[i.userId,i.lastAcknowledgedBatchId]);return r.J(sl,o).next((u=>Q.forEach(u,(h=>{Ie(h.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const d=tl(this.serializer,h);return cD(e,i.userId,d).next((()=>{}))}))))}))))}Si(e){const n=e.store(pc),r=e.store(Xo);return e.store(cl).get(pg).next((s=>{const i=[];return r.ee(((o,u)=>{const h=new st(o),d=(function(m){return[0,Mn(m)]})(h);i.push(n.get(d).next((m=>m?Q.resolve():(g=>n.put({targetId:0,path:Mn(g),sequenceNumber:s.highestListenSequenceNumber}))(h))))})).next((()=>Q.waitFor(i)))}))}bi(e,n){e.createObjectStore(jd,{keyPath:mF});const r=n.store(jd),s=new Ax,i=o=>{if(s.add(o)){const u=o.lastSegment(),h=o.popLast();return r.put({collectionId:u,parent:Mn(h)})}};return n.store(Xo).ee({X:!0},((o,u)=>{const h=new st(o);return i(h.popLast())})).next((()=>n.store(dc).ee({X:!0},(([o,u,h],d)=>{const m=As(u);return i(m.popLast())}))))}Di(e){const n=e.store(fc);return n.ee(((r,s)=>{const i=ud(s),o=iD(this.serializer,i);return n.put(o)}))}Ci(e,n){const r=n.store(Xo),s=[];return r.ee(((i,o)=>{const u=n.store(fg),h=(function(m){return m.document?new de(st.fromString(m.document.name).popFirst(5)):m.noDocument?de.fromSegments(m.noDocument.path):m.unknownDocument?de.fromSegments(m.unknownDocument.path):Se(36783)})(o).path.toArray(),d={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(u.put(d))})).next((()=>Q.waitFor(s)))}Fi(e,n){const r=n.store(ts),s=gD(this.serializer),i=new Lx(vy.mi,this.serializer.yt);return r.J().next((o=>{const u=new Map;return o.forEach((h=>{let d=u.get(h.userId)??Ke();tl(this.serializer,h).keys().forEach((m=>d=d.add(m))),u.set(h.userId,d)})),Q.forEach(u,((h,d)=>{const m=new vn(d),g=gy.wt(this.serializer,m),v=i.getIndexManager(m),k=yy.wt(m,this.serializer,v,i.referenceDelegate);return new yD(s,k,g,v).recalculateAndSaveOverlaysForDocumentKeys(new Uw(n,Lr.ce),h).next()}))}))}}function NT(t){t.createObjectStore(pc,{keyPath:fF}).createIndex(wx,pF,{unique:!0}),t.createObjectStore(fc,{keyPath:"targetId"}).createIndex(sN,dF,{unique:!0}),t.createObjectStore(cl)}const Ca="IndexedDbPersistence",C0=18e5,P0=5e3,N0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Y9="main";class jx{constructor(e,n,r,s,i,o,u,h,d,m,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=o,this.document=u,this.xi=d,this.Oi=m,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!jx.v())throw new ce(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new V9(this,s),this.$i=n+Y9,this.serializer=new sD(h),this.Ui=new Ka(this.$i,this.Ni,new X9(this.serializer)),this.hi=new T9,this.Pi=new A9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=gD(this.serializer),this.Ii=new _9,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&Ln(Ca,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,N0);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Lr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>sm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ao(e))return le(Ca,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(Ca,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Fh(e).get(Tu).next((n=>Q.resolve(this.es(n))))}ts(e){return sm(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,C0)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=an(n,mc);return r.J().next((s=>{const i=this.ss(s,C0),o=s.filter((u=>i.indexOf(u)===-1));return Q.forEach(o,(u=>r.delete(u.clientId))).next((()=>o))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):Fh(e).get(Tu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,P0)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,N0);return!1}}return!(!this.networkEnabled||!this.inForeground)||sm(e).J().next((r=>this.ss(r,P0).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||o&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&le(Ca,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[ff,mc],(e=>{const n=new Uw(e,Lr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>sm(e).J().next((n=>this.ss(n,C0).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return yy.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new M9(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return gy.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){le(Ca,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(function(u){return u===18?DF:u===17?hN:u===16?NF:u===15?Ex:u===14?cN:u===13?uN:u===12?PF:u===11?lN:void Se(60245)})(this.Ni);let o;return this.Ui.runTransaction(e,s,i,(u=>(o=new Uw(u,this.ci?this.ci.next():Lr.ce),n==="readwrite-primary"?this.Hi(o).next((h=>!!h||this.Yi(o))).next((h=>{if(!h)throw Ln(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ce(te.FAILED_PRECONDITION,ZP);return r(o)})).next((h=>this.Xi(o).next((()=>h)))):this.Is(o).next((()=>r(o)))))).then((u=>(o.raiseOnCommittedEvent(),u)))}Is(e){return Fh(e).get(Tu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,P0)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ce(te.FAILED_PRECONDITION,N0)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fh(e).put(Tu,n)}static v(){return Ka.v()}Zi(e){const n=Fh(e);return n.get(Tu).next((r=>this.es(r)?(le(Ca,"Releasing primary lease."),n.delete(Tu)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Ln(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;J2()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return le(Ca,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ln(Ca,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Ln("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fh(t){return an(t,ff)}function sm(t){return an(t,mc)}function J9(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ke(),s=Ke();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Vx(e,n.fromCache,r,s)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Z9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return J2()?8:tN(sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new Z9;return this.Ss(e,n,o).next((u=>{if(i.result=u,this.Vs)return this.bs(e,n,o,u.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Wu()<=He.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Hu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Wu()<=He.DEBUG&&le("QueryEngine","Query:",Hu(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Wu()<=He.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Hu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(n))):Q.resolve())}ys(e,n){if(eT(n))return Q.resolve(null);let r=Vr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=vg(n,null,"F"),r=Vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=Ke(...i);return this.ps.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const d=this.Ds(n,u);return this.Cs(n,d,o,h.readTime)?this.ys(e,vg(n,null,"F")):this.vs(e,d,n,h)}))))})))))}ws(e,n,r,s){return eT(n)||s.isEqual(Pe.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?Q.resolve(null):(Wu()<=He.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Hu(n)),this.vs(e,o,n,eF(s,Rd)).next((u=>u)))}))}Ds(e,n){let r=new ot(DN(e));return n.forEach(((s,i)=>{gf(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Wu()<=He.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Hu(n)),this.ps.getDocumentsMatchingQuery(e,n,xr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fx="LocalStore",eU=3e8;class tU{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Et(Ve),this.xs=new $i((i=>xl(i)),pf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function wD(t,e,n,r){return new tU(t,e,n,r)}async function bD(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],u=[];let h=Ke();for(const d of s){o.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of i){u.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:u})))}))}))}function nU(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,u,h,d){const m=h.batch,g=m.keys();let v=Q.resolve();return g.forEach((k=>{v=v.next((()=>d.getEntry(u,k))).next((T=>{const _=h.docVersions.get(k);Ie(_!==null,48541),T.version.compareTo(_)<0&&(m.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),d.addEntry(T)))}))})),v.next((()=>o.mutationQueue.removeMutationBatch(u,m)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let u=Ke();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(u=u.add(o.batch.mutations[h].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function xD(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function rU(t,e){const n=Fe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((m,g)=>{const v=s.get(g);if(!v)return;u.push(n.Pi.removeMatchingKeys(i,m.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(i,m.addedDocuments,g))));let k=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?k=k.withResumeToken(en.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):m.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(m.resumeToken,r)),s=s.insert(g,k),(function(T,_,I){return T.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=eU?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(v,k,m)&&u.push(n.Pi.updateTargetData(i,k))}));let h=vr(),d=Ke();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,m))})),u.push(sU(i,o,e.documentUpdates).next((m=>{h=m.ks,d=m.qs}))),!r.isEqual(Pe.min())){const m=n.Pi.getLastRemoteSnapshotVersion(i).next((g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(m)}return Q.waitFor(u).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,h,d))).next((()=>h))})).then((i=>(n.Ms=s,i)))}function sU(t,e,n){let r=Ke(),s=Ke();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=vr();return n.forEach(((u,h)=>{const d=i.get(u);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Pe.min())?(e.removeEntry(u,h.readTime),o=o.insert(u,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),o=o.insert(u,h)):le(Fx,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",h.version)})),{ks:o,qs:s}}))}function iU(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ul),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function aU(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,Q.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new Ii(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function eb(t,e,n){const r=Fe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!ao(o))throw o;le(Fx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function DT(t,e,n){const r=Fe(t);let s=Pe.min(),i=Ke();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,h,d){const m=Fe(u),g=m.xs.get(d);return g!==void 0?Q.resolve(m.Ms.get(g)):m.Pi.getTargetData(h,d)})(r,o,Vr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next((h=>{i=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Pe.min(),n?i:Ke()))).next((u=>(oU(r,WF(e),u),{documents:u,Qs:i})))))}function oU(t,e,n){let r=t.Os.get(e)||Pe.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class RT{constructor(){this.activeTargetIds=JF()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ED{constructor(){this.Mo=new RT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new RT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lU{Oo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const MT="ConnectivityMonitor";class AT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(MT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(MT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let im=null;function tb(){return im===null?im=(function(){return 268435456+Math.round(2147483648*Math.random())})():im++,"0x"+im.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const D0="RestConnection",uU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===mg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=tb(),u=this.zo(e,n.toUriEncodedString());le(D0,`Sending RPC '${e}' ${o}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,i);const{host:d}=new URL(u),m=Dl(d);return this.Jo(e,u,h,r,m).then((g=>(le(D0,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw wl(D0,`RPC '${e}' ${o} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=uU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cn="WebChannelConnection";class dU extends cU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=tb();return new Promise(((u,h)=>{const d=new BP;d.setWithCredentials(!0),d.listenOnce($P.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Dm.NO_ERROR:const g=d.getResponseJson();le(Cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case Dm.TIMEOUT:le(Cn,`RPC '${e}' ${o} timed out`),h(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case Dm.HTTP_ERROR:const v=d.getStatus();if(le(Cn,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let k=d.getResponseJson();Array.isArray(k)&&(k=k[0]);const T=k==null?void 0:k.error;if(T&&T.status&&T.message){const _=(function(I){const N=I.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(N)>=0?N:te.UNKNOWN})(T.status);h(new ce(_,T.message))}else h(new ce(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new ce(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{le(Cn,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(s);le(Cn,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",m,r,15)}))}T_(e,n,r){const s=tb(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=WP(),u=KP(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=i.join("");le(Cn,`Creating RPC '${e}' stream ${s}: ${m}`,h);const g=o.createWebChannel(m,h);this.I_(g);let v=!1,k=!1;const T=new hU({Yo:I=>{k?le(Cn,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(v||(le(Cn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),le(Cn,`RPC '${e}' stream ${s} sending:`,I),g.send(I))},Zo:()=>g.close()}),_=(I,N,D)=>{I.listen(N,(O=>{try{D(O)}catch(U){setTimeout((()=>{throw U}),0)}}))};return _(g,ad.EventType.OPEN,(()=>{k||(le(Cn,`RPC '${e}' stream ${s} transport opened.`),T.o_())})),_(g,ad.EventType.CLOSE,(()=>{k||(k=!0,le(Cn,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(g))})),_(g,ad.EventType.ERROR,(I=>{k||(k=!0,wl(Cn,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),T.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),_(g,ad.EventType.MESSAGE,(I=>{var N;if(!k){const D=I.data[0];Ie(!!D,16349);const O=D,U=(O==null?void 0:O.error)||((N=O[0])==null?void 0:N.error);if(U){le(Cn,`RPC '${e}' stream ${s} received error:`,U);const B=U.status;let H=(function(C){const R=Yt[C];if(R!==void 0)return qN(R)})(B),M=U.message;H===void 0&&(H=te.INTERNAL,M="Unknown error status: "+B+" with message "+U.message),k=!0,T.a_(new ce(H,M)),g.close()}else le(Cn,`RPC '${e}' stream ${s} received:`,D),T.u_(D)}})),_(u,qP.STAT_EVENT,(I=>{I.stat===Aw.PROXY?le(Cn,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Aw.NOPROXY&&le(Cn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fU(){return typeof window<"u"?window:null}function zm(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wy(t){return new p9(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kD{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const OT="PersistentStream";class SD{constructor(e,n,r,s,i,o,u,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Ln(n.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(OT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(OT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pU extends SD{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=y9(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Pe.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?Pe.min():i.readTime?Un(i.readTime):Pe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Qw(this.serializer),n.addTarget=(function(s,i){let o;const u=i.target;if(o=gg(u)?{documents:JN(s,u)}:{query:ZN(s,u).ft},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=HN(s,i.resumeToken);const h=Hw(s,i.expectedCount);h!==null&&(o.expectedCount=h)}else if(i.snapshotVersion.compareTo(Pe.min())>0){o.readTime=kc(s,i.snapshotVersion.toTimestamp());const h=Hw(s,i.expectedCount);h!==null&&(o.expectedCount=h)}return o})(this.serializer,e);const r=w9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Qw(this.serializer),n.removeTarget=e,this.q_(n)}}class mU extends SD{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=v9(e.writeResults,e.commitTime),r=Un(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Qw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>bg(this.serializer,r)))};this.q_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gU{}class yU extends gU{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,Gw(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(te.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Ho(e,Gw(n,r),s,o,u,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(te.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ln(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _l="RemoteStore";class wU{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Ol(this)&&(le(_l,"Restarting streams for network reachability change."),await(async function(u){const h=Fe(u);h.Ea.add(4),await vf(h),h.Ra.set("Unknown"),h.Ea.delete(4),await by(h)})(this))}))})),this.Ra=new vU(r,s)}}async function by(t){if(Ol(t))for(const e of t.da)await e(!0)}async function vf(t){for(const e of t.da)await e(!1)}function _D(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$x(n)?Bx(n):Rc(n).O_()&&zx(n,e))}function Ux(t,e){const n=Fe(t),r=Rc(n);n.Ia.delete(e),r.O_()&&TD(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ol(n)&&n.Ra.set("Unknown"))}function zx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rc(t).Y_(e)}function TD(t,e){t.Va.Ue(e),Rc(t).Z_(e)}function Bx(t){t.Va=new c9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Rc(t).start(),t.Ra.ua()}function $x(t){return Ol(t)&&!Rc(t).x_()&&t.Ia.size>0}function Ol(t){return Fe(t).Ea.size===0}function ID(t){t.Va=void 0}async function bU(t){t.Ra.set("Online")}async function xU(t){t.Ia.forEach(((e,n)=>{zx(t,e)}))}async function EU(t,e){ID(t),$x(t)?(t.Ra.ha(e),Bx(t)):t.Ra.set("Unknown")}async function kU(t,e,n){if(t.Ra.set("Online"),e instanceof WN&&e.state===2&&e.cause)try{await(async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Ia.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Ia.delete(o),r.Va.removeTarget(o))})(t,e)}catch(r){le(_l,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _g(t,r)}else if(e instanceof Fm?t.Va.Ze(e):e instanceof KN?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const r=await xD(t.localStore);n.compareTo(r)>=0&&await(function(s,i){const o=s.Va.Tt(i);return o.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(h);d&&s.Ia.set(h,d.withResumeToken(u.resumeToken,i))}})),o.targetMismatches.forEach(((u,h)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(en.EMPTY_BYTE_STRING,d.snapshotVersion)),TD(s,u);const m=new Ii(d.target,u,h,d.sequenceNumber);zx(s,m)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){le(_l,"Failed to raise snapshot:",r),await _g(t,r)}}async function _g(t,e,n){if(!ao(e))throw e;t.Ea.add(1),await vf(t),t.Ra.set("Offline"),n||(n=()=>xD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{le(_l,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await by(t)}))}function CD(t,e){return e().catch((n=>_g(t,n,e)))}async function wf(t){const e=Fe(t),n=Ya(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ul;for(;SU(e);)try{const s=await iU(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,_U(e,s)}catch(s){await _g(e,s)}PD(e)&&ND(e)}function SU(t){return Ol(t)&&t.Ta.length<10}function _U(t,e){t.Ta.push(e);const n=Ya(t);n.O_()&&n.X_&&n.ea(e.mutations)}function PD(t){return Ol(t)&&!Ya(t).x_()&&t.Ta.length>0}function ND(t){Ya(t).start()}async function TU(t){Ya(t).ra()}async function IU(t){const e=Ya(t);for(const n of t.Ta)e.ea(n.mutations)}async function CU(t,e,n){const r=t.Ta.shift(),s=Px.from(r,e,n);await CD(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await wf(t)}async function PU(t,e){e&&Ya(t).X_&&await(async function(n,r){if((function(s){return o9(s)&&s!==te.ABORTED})(r.code)){const s=n.Ta.shift();Ya(n).B_(),await CD(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r))),await wf(n)}})(t,e),PD(t)&&ND(t)}async function LT(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),le(_l,"RemoteStore received new credentials");const r=Ol(n);n.Ea.add(3),await vf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await by(n)}async function NU(t,e){const n=Fe(t);e?(n.Ea.delete(2),await by(n)):e||(n.Ea.add(2),await vf(n),n.Ra.set("Unknown"))}function Rc(t){return t.ma||(t.ma=(function(e,n,r){const s=Fe(e);return s.sa(),new pU(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:bU.bind(null,t),t_:xU.bind(null,t),r_:EU.bind(null,t),H_:kU.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),$x(t)?Bx(t):t.Ra.set("Unknown")):(await t.ma.stop(),ID(t))}))),t.ma}function Ya(t){return t.fa||(t.fa=(function(e,n,r){const s=Fe(e);return s.sa(),new mU(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:TU.bind(null,t),r_:PU.bind(null,t),ta:IU.bind(null,t),na:CU.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await wf(t)):(await t.fa.stop(),t.Ta.length>0&&(le(_l,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,u=new qx(e,n,o,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kx(t,e){if(Ln("AsyncQueue",`${e}: ${t}`),ao(t))return new ce(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ac{static emptySet(e){return new ac(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=od(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ac)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ac;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jT{constructor(){this.ga=new Et(de.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Sc{constructor(e,n,r,s,i,o,u,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((u=>{o.push({type:0,doc:u})})),new Sc(e,n,ac.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class DU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class RU{constructor(){this.queries=VT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const r=Fe(e),s=r.queries;r.queries=VT(),s.forEach(((i,o)=>{for(const u of o.Sa)u.onError(n)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function VT(){return new $i((t=>NN(t)),hy)}async function Wx(t,e){const n=Fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new DU,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const u=Kx(o,`Initialization of query '${Hu(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Gx(n)}async function Hx(t,e){const n=Fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function MU(t,e){const n=Fe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const u of o.Sa)u.Fa(s)&&(r=!0);o.wa=s}}r&&Gx(n)}function AU(t,e,n){const r=Fe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Gx(t){t.Ca.forEach((e=>{e.next()}))}var nb,FT;(FT=nb||(nb={})).Ma="default",FT.Cache="cache";class Qx{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==nb.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class DD{constructor(e){this.key=e}}class RD{constructor(e){this.key=e}}class OU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=DN(e),this.tu=new ac(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new jT,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,g)=>{const v=s.get(m),k=gf(this.query,g)?g:null,T=!!v&&this.mutatedKeys.has(v.key),_=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let I=!1;v&&k?v.data.isEqual(k.data)?T!==_&&(r.track({type:3,doc:k}),I=!0):this.su(v,k)||(r.track({type:2,doc:k}),I=!0,(h&&this.eu(k,h)>0||d&&this.eu(k,d)<0)&&(u=!0)):!v&&k?(r.track({type:0,doc:k}),I=!0):v&&!k&&(r.track({type:1,doc:v}),I=!0,(h||d)&&(u=!0)),I&&(k?(o=o.add(k),i=_?i.add(m):i.delete(m)):(o=o.delete(m),i=i.delete(m)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),i=i.delete(m.key),r.track({type:1,doc:m})}return{tu:o,iu:r,Cs:u,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((m,g)=>(function(v,k){const T=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:_})}};return T(v)-T(k)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,d=h!==this.Za;return this.Za=h,o.length!==0||d?{snapshot:new Sc(this.query,e.tu,i,o,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new RD(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new DD(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Sc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xx="SyncEngine";class LU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jU{constructor(e){this.key=e,this.hu=!1}}class VU{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new $i((u=>NN(u)),hy),this.Iu=new Map,this.Eu=new Set,this.du=new Et(de.comparator),this.Au=new Map,this.Ru=new Ox,this.Vu={},this.mu=new Map,this.fu=Sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FU(t,e,n=!0){const r=VD(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await MD(r,e,n,!0),s}async function UU(t,e){const n=VD(t);await MD(n,e,!0,!1)}async function MD(t,e,n,r){const s=await aU(t.localStore,Vr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await zU(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&_D(t.remoteStore,s),u}async function zU(t,e,n,r,s){t.pu=(g,v,k)=>(async function(T,_,I,N){let D=_.view.ru(I);D.Cs&&(D=await DT(T.localStore,_.query,!1).then((({documents:H})=>_.view.ru(H,D))));const O=N&&N.targetChanges.get(_.targetId),U=N&&N.targetMismatches.get(_.targetId)!=null,B=_.view.applyChanges(D,T.isPrimaryClient,O,U);return zT(T,_.targetId,B.au),B.snapshot})(t,g,v,k);const i=await DT(t.localStore,e,!0),o=new OU(e,i.Qs),u=o.ru(i.documents),h=yf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(u,t.isPrimaryClient,h);zT(t,n,d.au);const m=new LU(e,n,o);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function BU(t,e,n){const r=Fe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!hy(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await eb(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ux(r.remoteStore,s.targetId),rb(r,s.targetId)})).catch(Al)):(rb(r,s.targetId),await eb(r.localStore,s.targetId,!0))}async function $U(t,e){const n=Fe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ux(n.remoteStore,r.targetId))}async function qU(t,e,n){const r=FD(t);try{const s=await(function(i,o){const u=Fe(i),h=Ge.now(),d=o.reduce(((v,k)=>v.add(k.key)),Ke());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let k=vr(),T=Ke();return u.Ns.getEntries(v,d).next((_=>{k=_,k.forEach(((I,N)=>{N.isValidDocument()||(T=T.add(I))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,k))).next((_=>{m=_;const I=[];for(const N of o){const D=i9(N,m.get(N.key).overlayedDocument);D!=null&&I.push(new qi(N.key,D,xN(D.value.mapValue),Dn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,I,o)})).next((_=>{g=_;const I=_.applyToLocalDocumentSet(m,T);return u.documentOverlayCache.saveOverlays(v,_.batchId,I)}))})).then((()=>({batchId:g.batchId,changes:MN(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(i,o,u){let h=i.Vu[i.currentUser.toKey()];h||(h=new Et(Ve)),h=h.insert(o,u),i.Vu[i.currentUser.toKey()]=h})(r,s.batchId,n),await bf(r,s.changes),await wf(r.remoteStore)}catch(s){const i=Kx(s,"Failed to persist write");n.reject(i)}}async function AD(t,e){const n=Fe(t);try{const r=await rU(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Ie(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ie(o.hu,14607):s.removedDocuments.size>0&&(Ie(o.hu,42227),o.hu=!1))})),await bf(n,r,e)}catch(r){await Al(r)}}function UT(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const u=o.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(i,o){const u=Fe(i);u.onlineState=o;let h=!1;u.queries.forEach(((d,m)=>{for(const g of m.Sa)g.va(o)&&(h=!0)})),h&&Gx(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KU(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Et(de.comparator);o=o.insert(i,Rt.newNoDocument(i,Pe.min()));const u=Ke().add(i),h=new my(Pe.min(),new Map,new Et(Ve),o,u);await AD(r,h),r.du=r.du.remove(i),r.Au.delete(e),Yx(r)}else await eb(r.localStore,e,!1).then((()=>rb(r,e,n))).catch(Al)}async function WU(t,e){const n=Fe(t),r=e.batch.batchId;try{const s=await nU(n.localStore,e);LD(n,r,null),OD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bf(n,s)}catch(s){await Al(s)}}async function HU(t,e,n){const r=Fe(t);try{const s=await(function(i,o){const u=Fe(i);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let d;return u.mutationQueue.lookupMutationBatch(h,o).next((m=>(Ie(m!==null,37113),d=m.keys(),u.mutationQueue.removeMutationBatch(h,m)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,o))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d))).next((()=>u.localDocuments.getDocuments(h,d)))}))})(r.localStore,e);LD(r,e,n),OD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bf(r,s)}catch(s){await Al(s)}}function OD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function LD(t,e,n){const r=Fe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function rb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||jD(t,r)}))}function jD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ux(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Yx(t))}function zT(t,e,n){for(const r of n)r instanceof DD?(t.Ru.addReference(r.key,e),GU(t,r)):r instanceof RD?(le(Xx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||jD(t,r.key)):Se(19791,{wu:r})}function GU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(le(Xx,"New document in limbo: "+n),t.Eu.add(r),Yx(t))}function Yx(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new de(st.fromString(e)),r=t.fu.next();t.Au.set(r,new jU(n)),t.du=t.du.insert(n,r),_D(t.remoteStore,new Ii(Vr(mf(n.path)),r,"TargetPurposeLimboResolution",Lr.ce))}}async function bf(t,e,n){const r=Fe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{o.push(r.pu(h,e,n).then((d=>{var m;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(m=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(d){s.push(d);const g=Vx.As(h.targetId,d);i.push(g)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(u,h){const d=Fe(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Q.forEach(h,(g=>Q.forEach(g.Es,(v=>d.persistence.referenceDelegate.addReference(m,g.targetId,v))).next((()=>Q.forEach(g.ds,(v=>d.persistence.referenceDelegate.removeReference(m,g.targetId,v)))))))))}catch(m){if(!ao(m))throw m;le(Fx,"Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const v=d.Ms.get(g),k=v.snapshotVersion,T=v.withLastLimboFreeSnapshotVersion(k);d.Ms=d.Ms.insert(g,T)}}})(r.localStore,i))}async function QU(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){le(Xx,"User change. New user:",e.toKey());const r=await bD(n.localStore,e);n.currentUser=e,(function(s,i){s.mu.forEach((o=>{o.forEach((u=>{u.reject(new ce(te.CANCELLED,i))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bf(n,r.Ls)}}function XU(t,e){const n=Fe(t),r=n.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let s=Ke();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const u=n.Tu.get(o);s=s.unionWith(u.view.nu)}return s}}function VD(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KU.bind(null,e),e.Pu.H_=MU.bind(null,e.eventManager),e.Pu.yu=AU.bind(null,e.eventManager),e}function FD(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HU.bind(null,e),e}class qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wD(this.persistence,new vD,e.initialUser,this.serializer)}Cu(e){return new Lx(vy.mi,this.serializer)}Du(e){return new ED}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qd.provider={build:()=>new qd};class YU extends qd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ie(this.persistence.referenceDelegate instanceof Sg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new Lx((r=>Sg.mi(r,n)),this.serializer)}}class JU extends qd{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await FD(this.xu.syncEngine),await wf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return wD(this.persistence,new vD,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new fD(r,e.asyncQueue,n)}Mu(e,n){const r=new sF(n,this.persistence);return new rF(e.asyncQueue,r)}Cu(e){const n=J9(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new jx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,fU(),zm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new ED}}class Tg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>UT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QU.bind(null,this.syncEngine),await NU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new RU})()}createDatastore(e){const n=wy(e.databaseInfo.databaseId),r=(function(s){return new dU(s)})(e.databaseInfo);return(function(s,i,o,u){return new yU(s,i,o,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(n,r,s,i,o){return new wU(n,r,s,i,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>UT(this.syncEngine,n,0)),(function(){return AT.v()?new AT:new lU})())}createSyncEngine(e,n){return(function(r,s,i,o,u,h,d){const m=new VU(r,s,i,o,u,h);return d&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(r){const s=Fe(r);le(_l,"RemoteStore shutting down."),s.Ea.add(5),await vf(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Tg.provider={build:()=>new Tg};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ln("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ja="FirestoreClient";class ZU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=vn.UNAUTHENTICATED,this.clientId=gx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{le(Ja,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(le(Ja,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Kx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function R0(t,e){t.asyncQueue.verifyOperationInProgress(),le(Ja,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await bD(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function BT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ez(t);le(Ja,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>LT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>LT(e.remoteStore,s))),t._onlineComponents=e}async function ez(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(Ja,"Using user provided OfflineComponentProvider");try{await R0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===te.FAILED_PRECONDITION||r.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;wl("Error using user provided cache. Falling back to memory cache: "+n),await R0(t,new qd)}}else le(Ja,"Using default OfflineComponentProvider"),await R0(t,new YU(void 0));return t._offlineComponents}async function UD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(Ja,"Using user provided OnlineComponentProvider"),await BT(t,t._uninitializedComponentsProvider._online)):(le(Ja,"Using default OnlineComponentProvider"),await BT(t,new Tg))),t._onlineComponents}function tz(t){return UD(t).then((e=>e.syncEngine))}async function Ig(t){const e=await UD(t),n=e.eventManager;return n.onListen=FU.bind(null,e.syncEngine),n.onUnlisten=BU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$U.bind(null,e.syncEngine),n}function nz(t,e,n={}){const r=new Fs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,o,u,h){const d=new Jx({next:g=>{d.Nu(),i.enqueueAndForget((()=>Hx(s,m)));const v=g.docs.has(o);!v&&g.fromCache?h.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&u&&u.source==="server"?h.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new Qx(mf(o.path),d,{includeMetadataChanges:!0,qa:!0});return Wx(s,m)})(await Ig(t),t.asyncQueue,e,n,r))),r.promise}function rz(t,e,n={}){const r=new Fs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,o,u,h){const d=new Jx({next:g=>{d.Nu(),i.enqueueAndForget((()=>Hx(s,m))),g.fromCache&&u.source==="server"?h.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new Qx(o,d,{includeMetadataChanges:!0,qa:!0});return Wx(s,m)})(await Ig(t),t.asyncQueue,e,n,r))),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $T=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const BD="firestore.googleapis.com",qT=!0;class KT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BD,this.ssl=qT}else this.host=e.host,this.ssl=e.ssl??qT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<O9)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zD(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new $V;switch(n.type){case"firstParty":return new HV(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=$T.get(e);n&&(le("ComponentProvider","Removing Datastore"),$T.delete(e),n.terminate())})(this),Promise.resolve()}}function sz(t,e,n,r={}){var s;t=Fn(t,xy);const i=Dl(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;i&&(nx(`https://${h}`),rx("Firestore",!0)),o.host!==BD&&o.host!==h&&wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:i,emulatorOptions:r};if(!Ga(d,u)&&(t._setSettings(d),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=vn.MOCK_USER;else{m=X2(r.mockUserToken,(s=t._app)==null?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new vn(v)}t._authCredentials=new qV(new GP(m,g))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Ll=class $D{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $D(this.firestore,e,this._query)}};class Mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(df(n,Mt._jsonSchema))return new Mt(e,r||null,new de(st.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Zt("string",Mt._jsonSchemaVersion),referencePath:Zt("string")};class Wa extends Ll{constructor(e,n,r){super(e,n,mf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new de(e))}withConverter(e){return new Wa(this.firestore,e,this._path)}}function Bn(t,e,...n){if(t=Ct(t),XP("collection","path",e),t instanceof xy){const r=st.fromString(e,...n);return O_(r),new Wa(t,null,r)}{if(!(t instanceof Mt||t instanceof Wa))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return O_(r),new Wa(t.firestore,null,r)}}function Js(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=gx.newId()),XP("doc","path",e),t instanceof xy){const r=st.fromString(e,...n);return A_(r),new Mt(t,null,new de(r))}{if(!(t instanceof Mt||t instanceof Wa))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return A_(r),new Mt(t.firestore,t instanceof Wa?t.converter:null,new de(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const WT="AsyncQueue";class HT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kD(this,"async_queue_retry"),this._c=()=>{const r=zm();r&&le(WT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ao(e))throw e;le(WT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ln("INTERNAL UNHANDLED ERROR: ",GT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=qx.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Se(47125,{Pc:GT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function GT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function QT(t){return(function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Ws extends xy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new HT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HT(e),this._firestoreClient=void 0,await e}}}function Ey(t,e){const n=typeof t=="object"?t:Jg(),r=typeof t=="string"?t:mg,s=so(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=H2("firestore");i&&sz(s,...i)}return s}function ky(t){if(t._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qD(t),t._firestoreClient}function qD(t){var e,n,r;const s=t._freezeSettings(),i=(function(o,u,h,d){return new MF(o,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,zD(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,((e=t._app)==null?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||(n=s.localCache)!=null&&n._offlineComponentProvider&&(r=s.localCache)!=null&&r._onlineComponentProvider&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new ZU(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}})(t._componentsProvider))}function iz(t,e){wl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return az(t,Tg.provider,{build:r=>new JU(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function az(t,e,n){if((t=Fn(t,Ws))._firestoreClient||t._terminated)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ce(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},qD(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Or(en.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Or(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(df(e,Or._jsonSchema))return Or.fromBase64String(e.bytes)}}Or._jsonSchemaVersion="firestore/bytes/1.0",Or._jsonSchema={type:Zt("string",Or._jsonSchemaVersion),bytes:Zt("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _y{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Us{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Us._jsonSchemaVersion}}static fromJSON(e){if(df(e,Us._jsonSchema))return new Us(e.latitude,e.longitude)}}Us._jsonSchemaVersion="firestore/geoPoint/1.0",Us._jsonSchema={type:Zt("string",Us._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(df(e,zs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new zs(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zs._jsonSchemaVersion="firestore/vectorValue/1.0",zs._jsonSchema={type:Zt("string",zs._jsonSchemaVersion),vectorValues:Zt("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const oz=/^__.*__$/;class lz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(e,this.data,n,this.fieldTransforms)}}class KD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class Zx{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Cg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(WD(this.Ac)&&oz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wy(e)}Cc(e,n,r,s=!1){return new Zx({Ac:e,methodName:n,Dc:r,path:_t.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ty(t){const e=t._freezeSettings(),n=wy(t._databaseId);return new uz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HD(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);t1("Data must be an object, but it was:",o,r);const u=GD(r,o);let h,d;if(i.merge)h=new tr(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const m=[];for(const g of i.mergeFields){const v=sb(e,g,n);if(!o.contains(v))throw new ce(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);XD(m,v)||m.push(v)}h=new tr(m),d=o.fieldTransforms.filter((g=>h.covers(g.field)))}else h=null,d=o.fieldTransforms;return new lz(new Nn(u),h,d)}class Iy extends _y{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Iy}}class e1 extends _y{_toFieldTransform(e){return new UN(e.path,new bc)}isEqual(e){return e instanceof e1}}function cz(t,e,n,r){const s=t.Cc(1,e,n);t1("Data must be an object, but it was:",s,r);const i=[],o=Nn.empty();oo(r,((h,d)=>{const m=n1(e,h,n);d=Ct(d);const g=s.yc(m);if(d instanceof Iy)i.push(m);else{const v=xf(d,g);v!=null&&(i.push(m),o.set(m,v))}}));const u=new tr(i);return new KD(o,u,s.fieldTransforms)}function hz(t,e,n,r,s,i){const o=t.Cc(1,e,n),u=[sb(e,r,n)],h=[s];if(i.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)u.push(sb(e,i[v])),h.push(i[v+1]);const d=[],m=Nn.empty();for(let v=u.length-1;v>=0;--v)if(!XD(d,u[v])){const k=u[v];let T=h[v];T=Ct(T);const _=o.yc(k);if(T instanceof Iy)d.push(k);else{const I=xf(T,_);I!=null&&(d.push(k),m.set(k,I))}}const g=new tr(d);return new KD(m,g,o.fieldTransforms)}function dz(t,e,n,r=!1){return xf(n,t.Cc(r?4:3,e))}function xf(t,e){if(QD(t=Ct(t)))return t1("Unsupported field value:",e,t),GD(t,e);if(t instanceof _y)return(function(n,r){if(!WD(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,r){const s=[];let i=0;for(const o of n){let u=xf(o,r.wc(i));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),i++}return{arrayValue:{values:s}}})(t,e)}return(function(n,r){if((n=Ct(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ZF(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Ge.fromDate(n);return{timestampValue:kc(r.serializer,s)}}if(n instanceof Ge){const s=new Ge(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:kc(r.serializer,s)}}if(n instanceof Us)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Or)return{bytesValue:HN(r.serializer,n._byteString)};if(n instanceof Mt){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Rx(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof zs)return(function(s,i){return{mapValue:{fields:{[Sx]:{stringValue:_x},[gc]:{arrayValue:{values:s.toArray().map((o=>{if(typeof o!="number")throw i.Sc("VectorValues must only contain numeric values.");return Ix(i.serializer,o)}))}}}}}})(n,r);throw r.Sc(`Unsupported field value: ${ry(n)}`)})(t,e)}function GD(t,e){const n={};return dN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,((r,s)=>{const i=xf(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function QD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof Us||t instanceof Or||t instanceof Mt||t instanceof _y||t instanceof zs)}function t1(t,e,n){if(!QD(n)||!YP(n)){const r=ry(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function sb(t,e,n){if((e=Ct(e))instanceof Sy)return e._internalPath;if(typeof e=="string")return n1(t,e);throw Cg("Field path arguments must be of type string or ",t,!1,void 0,n)}const fz=new RegExp("[~\\*/\\[\\]]");function n1(t,e,n){if(e.search(fz)>=0)throw Cg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sy(...e.split("."))._internalPath}catch{throw Cg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cg(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(i||o)&&(h+=" (found",i&&(h+=` in field ${r}`),o&&(h+=` in document ${s}`),h+=")"),new ce(te.INVALID_ARGUMENT,u+t+h)}function XD(t,e){return t.some((n=>n.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YD{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pz extends YD{data(){return super.data()}}function Cy(t,e){return typeof e=="string"?n1(t,e):e instanceof Sy?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function JD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r1{}class s1 extends r1{}function Hs(t,e,...n){let r=[];e instanceof r1&&r.push(e),r=r.concat(n),(function(s){const i=s.filter((u=>u instanceof i1)).length,o=s.filter((u=>u instanceof Py)).length;if(i>1||i>0&&o>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Py extends s1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Py(e,n,r)}_apply(e){const n=this._parse(e);return eR(e._query,n),new Ll(e.firestore,e.converter,Ww(e._query,n))}_parse(e){const n=Ty(e.firestore);return(function(r,s,i,o,u,h,d){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){YT(d,h);const g=[];for(const v of d)g.push(XT(o,r,v));m={arrayValue:{values:g}}}else m=XT(o,r,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||YT(d,h),m=dz(i,s,d,h==="in"||h==="not-in");return Qe.create(u,h,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rs(t,e,n){const r=e,s=Cy("where",t);return Py._create(s,r,n)}class i1 extends r1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new i1(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:at.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,s){let i=r;const o=s.getFlattenedFilters();for(const u of o)eR(i,u),i=Ww(i,u)})(e._query,n),new Ll(e.firestore,e.converter,Ww(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class a1 extends s1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new a1(e,n)}_apply(e){const n=(function(r,s,i){if(r.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bd(s,i)})(e._query,this._field,this._direction);return new Ll(e.firestore,e.converter,(function(r,s){const i=r.explicitOrderBy.concat([s]);return new Nc(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,n))}}function Ef(t,e="asc"){const n=e,r=Cy("orderBy",t);return a1._create(r,n)}class o1 extends s1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new o1(e,n,r)}_apply(e){return new Ll(e.firestore,e.converter,vg(e._query,this._limit,this._limitType))}}function ZD(t){return o1._create("limit",t,"F")}function XT(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PN(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!de.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ud(t,new de(r))}if(n instanceof Mt)return Ud(t,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ry(n)}.`)}function YT(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eR(t,e){const n=(function(r,s){for(const i of r)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mz{convertValue(e,n="none"){switch(Qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oo(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)==null?void 0:n[gc].arrayValue)==null?void 0:r.values)==null?void 0:s.map((o=>bt(o.doubleValue)));return new zs(i)}convertGeoPoint(e){return new Us(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vd(e));default:return null}}convertTimestamp(e){const n=Mi(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Ie(rD(r),9688,{name:e});const s=new bl(r.get(1),r.get(3)),i=new de(r.popFirst(5));return s.isEqual(n)||Ln(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function tR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class cd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dl extends YD{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=dl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),n}}dl._jsonSchemaVersion="firestore/documentSnapshot/1.0",dl._jsonSchema={type:Zt("string",dl._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Bm extends dl{data(e={}){return super.data(e)}}class fl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new cd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Bm(this._firestore,this._userDataWriter,r.key,r,new cd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map((o=>{const u=new Bm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new cd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:i++}}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const u=new Bm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new cd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return o.type!==0&&(h=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),d=i.indexOf(o.doc.key)),{type:gz(o.type),doc:u,oldIndex:h,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nR(t){t=Fn(t,Mt);const e=Fn(t.firestore,Ws);return nz(ky(e),t._key).then((n=>sR(e,t,n)))}fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:Zt("string",fl._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class l1 extends mz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function Gs(t){t=Fn(t,Ll);const e=Fn(t.firestore,Ws),n=ky(e),r=new l1(e);return JD(t._query),rz(n,t._query).then((s=>new fl(e,r,t,s)))}function Ny(t,e,n){t=Fn(t,Mt);const r=Fn(t.firestore,Ws),s=tR(t.converter,e,n);return Dy(r,[HD(Ty(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Dn.none())])}function Kd(t,e,n,...r){t=Fn(t,Mt);const s=Fn(t.firestore,Ws),i=Ty(s);let o;return o=typeof(e=Ct(e))=="string"||e instanceof Sy?hz(i,"updateDoc",t._key,e,n,r):cz(i,"updateDoc",t._key,e),Dy(s,[o.toMutation(t._key,Dn.exists(!0))])}function ane(t){return Dy(Fn(t.firestore,Ws),[new py(t._key,Dn.none())])}function u1(t,e){const n=Fn(t.firestore,Ws),r=Js(t),s=tR(t.converter,e);return Dy(n,[HD(Ty(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Dn.exists(!1))]).then((()=>r))}function rR(t,...e){var n,r,s;t=Ct(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||QT(e[o])||(i=e[o++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(QT(e[o])){const g=e[o];e[o]=(n=g.next)==null?void 0:n.bind(g),e[o+1]=(r=g.error)==null?void 0:r.bind(g),e[o+2]=(s=g.complete)==null?void 0:s.bind(g)}let h,d,m;if(t instanceof Mt)d=Fn(t.firestore,Ws),m=mf(t._key.path),h={next:g=>{e[o]&&e[o](sR(d,t,g))},error:e[o+1],complete:e[o+2]};else{const g=Fn(t,Ll);d=Fn(g.firestore,Ws),m=g._query;const v=new l1(d);h={next:k=>{e[o]&&e[o](new fl(d,v,g,k))},error:e[o+1],complete:e[o+2]},JD(t._query)}return(function(g,v,k,T){const _=new Jx(T),I=new Qx(v,_,k);return g.asyncQueue.enqueueAndForget((async()=>Wx(await Ig(g),I))),()=>{_.Nu(),g.asyncQueue.enqueueAndForget((async()=>Hx(await Ig(g),I)))}})(ky(d),m,u,h)}function Dy(t,e){return(function(n,r){const s=new Fs;return n.asyncQueue.enqueueAndForget((async()=>qU(await tz(n),r,s))),s.promise})(ky(t),e)}function sR(t,e,n){const r=n.docs.get(e._key),s=new l1(t);return new dl(t,s,e._key,r,new cd(n.hasPendingWrites,n.fromCache),e.converter)}function jn(){return new e1("serverTimestamp")}(function(t,e=!0){(function(n){Pc=n})(Ml),as(new zr("firestore",((n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new Ws(new KV(n.getProvider("auth-internal")),new GV(i,n.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(u.options.projectId,h)})(i,r),i);return s={useFetchStreams:e,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),rr(N_,D_,t),rr(N_,D_,"esm2020")})();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iR="firebasestorage.googleapis.com",yz="storageBucket",vz=120*1e3,wz=600*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zs extends Br{constructor(e,n,r=0){super(M0(e),`Firebase Storage: ${n} (${M0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return M0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qs||(Qs={}));function M0(t){return"storage/"+t}function bz(){const t="An unknown error occurred, please check the error payload for server response.";return new Zs(Qs.UNKNOWN,t)}function xz(){return new Zs(Qs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ez(){return new Zs(Qs.CANCELED,"User canceled the upload/download.")}function kz(t){return new Zs(Qs.INVALID_URL,"Invalid URL '"+t+"'.")}function Sz(t){return new Zs(Qs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function JT(t){return new Zs(Qs.INVALID_ARGUMENT,t)}function aR(){return new Zs(Qs.APP_DELETED,"The Firebase app was deleted.")}function _z(t){return new Zs(Qs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ss{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ss.makeFromUrl(e,n)}catch{return new ss(e,"")}if(r.path==="")return r;throw Sz(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+s+o,"i"),h={bucket:1,path:3};function d(O){O.path_=decodeURIComponent(O.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",k=new RegExp(`^https?://${g}/${m}/b/${s}/o${v}`,"i"),T={bucket:1,path:3},_=n===iR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",N=new RegExp(`^https?://${_}/${s}/${I}`,"i"),D=[{regex:u,indices:h,postModify:i},{regex:k,indices:T,postModify:d},{regex:N,indices:{bucket:1,path:2},postModify:d}];for(let O=0;O<D.length;O++){const U=D[O],B=U.regex.exec(e);if(B){const H=B[U.indices.bucket];let M=B[U.indices.path];M||(M=""),r=new ss(H,M),U.postModify(r);break}}if(r==null)throw kz(e);return r}}class Tz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Iz(t,e,n){let r=1,s=null,i=null,o=!1,u=0;function h(){return u===2}let d=!1;function m(...I){d||(d=!0,e.apply(null,I))}function g(I){s=setTimeout(()=>{s=null,t(k,h())},I)}function v(){i&&clearTimeout(i)}function k(I,...N){if(d){v();return}if(I){v(),m.call(null,I,...N);return}if(h()||o){v(),m.call(null,I,...N);return}r<64&&(r*=2);let D;u===1?(u=2,D=0):D=(r+Math.random())*1e3,g(D)}let T=!1;function _(I){T||(T=!0,v(),!d&&(s!==null?(I||(u=2),clearTimeout(s),g(0)):I||(u=1)))}return g(0),i=setTimeout(()=>{o=!0,_(!0)},n),_}function Cz(t){t(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Pz(t){return t!==void 0}function ZT(t,e,n,r){if(r<e)throw JT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw JT(`Invalid value for '${t}'. Expected ${n} or less.`)}function Nz(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Pg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Pg||(Pg={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Dz(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rz{constructor(e,n,r,s,i,o,u,h,d,m,g,v=!0,k=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=m,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,_)=>{this.resolve_=T,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new am(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=u=>{const h=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const u=i.getErrorCode()===Pg.NO_ERROR,h=i.getStatus();if(!u||Dz(h,this.additionalRetryCodes_)&&this.retry){const m=i.getErrorCode()===Pg.ABORT;r(!1,new am(!1,null,m));return}const d=this.successCodes_.indexOf(h)!==-1;r(!0,new am(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());Pz(h)?i(h):i()}catch(h){o(h)}else if(u!==null){const h=bz();h.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,h)):o(h)}else if(s.canceled){const h=this.appDelete_?aR():Ez();o(h)}else{const h=xz();o(h)}};this.canceled_?n(!1,new am(!1,null,!0)):this.backoffId_=Iz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Cz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class am{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Mz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Az(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Oz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Lz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function jz(t,e,n,r,s,i,o=!0,u=!1){const h=Nz(t.urlParams),d=t.url+h,m=Object.assign({},t.headers);return Oz(m,e),Mz(m,n),Az(m,i),Lz(m,r),new Rz(d,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,u)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Fz(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ng{constructor(e,n){this._service=e,n instanceof ss?this._location=n:this._location=ss.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ng(e,n)}get root(){const e=new ss(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fz(this._location.path)}get storage(){return this._service}get parent(){const e=Vz(this._location.path);if(e===null)return null;const n=new ss(this._location.bucket,e);return new Ng(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _z(e)}}function eI(t,e){const n=e==null?void 0:e[yz];return n==null?null:ss.makeFromBucketSpec(n,t)}function Uz(t,e,n,r={}){t.host=`${e}:${n}`;const s=Dl(e);s&&(nx(`https://${t.host}/b`),rx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:X2(i,t.app.options.projectId))}class zz{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=iR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vz,this._maxUploadRetryTime=wz,this._requests=new Set,s!=null?this._bucket=ss.makeFromBucketSpec(s,this._host):this._bucket=eI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ss.makeFromBucketSpec(this._url,e):this._bucket=eI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ng(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Tz(aR());{const o=jz(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const tI="@firebase/storage",nI="0.14.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const oR="storage";function Bz(t=Jg(),e){t=Ct(t);const n=so(t,oR).getImmediate({identifier:e}),r=H2("storage");return r&&$z(n,...r),n}function $z(t,e,n,r={}){Uz(t,e,n,r)}function qz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new zz(n,r,s,e,Ml)}function Kz(){as(new zr(oR,qz,"PUBLIC").setMultipleInstances(!0)),rr(tI,nI,""),rr(tI,nI,"esm2020")}Kz();const lR="@firebase/installations",c1="0.6.19";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uR=1e4,cR=`w:${c1}`,hR="FIS_v2",Wz="https://firebaseinstallations.googleapis.com/v1",Hz=3600*1e3,Gz="installations",Qz="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Tl=new Rl(Gz,Qz,Xz);function dR(t){return t instanceof Br&&t.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fR({projectId:t}){return`${Wz}/projects/${t}/installations`}function pR(t){return{token:t.token,requestStatus:2,expiresIn:Jz(t.expiresIn),creationTime:Date.now()}}async function mR(t,e){const n=(await e.json()).error;return Tl.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function gR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Yz(t,{refreshToken:e}){const n=gR(t);return n.append("Authorization",Zz(e)),n}async function yR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Jz(t){return Number(t.replace("s","000"))}function Zz(t){return`${hR} ${t}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function e7({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=fR(t),s=gR(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:hR,appId:t.appId,sdkVersion:cR},u={method:"POST",headers:s,body:JSON.stringify(o)},h=await yR(()=>fetch(r,u));if(h.ok){const d=await h.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:pR(d.authToken)}}else throw await mR("Create Installation",h)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function vR(t){return new Promise(e=>{setTimeout(e,t)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function t7(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const n7=/^[cdef][\w-]{21}$/,ib="";function r7(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=s7(t);return n7.test(e)?e:ib}catch{return ib}}function s7(t){return t7(t).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ry(t){return`${t.appName}!${t.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wR=new Map;function bR(t,e){const n=Ry(t);xR(n,e),i7(n,e)}function xR(t,e){const n=wR.get(t);if(n)for(const r of n)r(e)}function i7(t,e){const n=a7();n&&n.postMessage({key:t,fid:e}),o7()}let il=null;function a7(){return!il&&"BroadcastChannel"in self&&(il=new BroadcastChannel("[Firebase] FID Change"),il.onmessage=t=>{xR(t.data.key,t.data.fid)}),il}function o7(){wR.size===0&&il&&(il.close(),il=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const l7="firebase-installations-database",u7=1,Il="firebase-installations-store";let A0=null;function h1(){return A0||(A0=rP(l7,u7,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Il)}}})),A0}async function Dg(t,e){const n=Ry(t),r=(await h1()).transaction(Il,"readwrite"),s=r.objectStore(Il),i=await s.get(n);return await s.put(e,n),await r.done,(!i||i.fid!==e.fid)&&bR(t,e.fid),e}async function ER(t){const e=Ry(t),n=(await h1()).transaction(Il,"readwrite");await n.objectStore(Il).delete(e),await n.done}async function My(t,e){const n=Ry(t),r=(await h1()).transaction(Il,"readwrite"),s=r.objectStore(Il),i=await s.get(n),o=e(i);return o===void 0?await s.delete(n):await s.put(o,n),await r.done,o&&(!i||i.fid!==o.fid)&&bR(t,o.fid),o}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function d1(t){let e;const n=await My(t.appConfig,r=>{const s=c7(r),i=h7(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===ib?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function c7(t){const e=t||{fid:r7(),registrationStatus:0};return kR(e)}function h7(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Tl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=d7(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:f7(t)}:{installationEntry:e}}async function d7(t,e){try{const n=await e7(t,e);return Dg(t.appConfig,n)}catch(n){throw dR(n)&&n.customData.serverCode===409?await ER(t.appConfig):await Dg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function f7(t){let e=await rI(t.appConfig);for(;e.registrationStatus===1;)await vR(100),e=await rI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await d1(t);return r||n}return e}function rI(t){return My(t,e=>{if(!e)throw Tl.create("installation-not-found");return kR(e)})}function kR(t){return p7(t)?{fid:t.fid,registrationStatus:0}:t}function p7(t){return t.registrationStatus===1&&t.registrationTime+uR<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function m7({appConfig:t,heartbeatServiceProvider:e},n){const r=g7(t,n),s=Yz(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:cR,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(o)},h=await yR(()=>fetch(r,u));if(h.ok){const d=await h.json();return pR(d)}else throw await mR("Generate Auth Token",h)}function g7(t,{fid:e}){return`${fR(t)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function f1(t,e=!1){let n;const r=await My(t.appConfig,s=>{if(!SR(s))throw Tl.create("not-registered");const i=s.authToken;if(!e&&w7(i))return s;if(i.requestStatus===1)return n=y7(t,e),s;{if(!navigator.onLine)throw Tl.create("app-offline");const o=x7(s);return n=v7(t,o),o}});return n?await n:r.authToken}async function y7(t,e){let n=await sI(t.appConfig);for(;n.authToken.requestStatus===1;)await vR(100),n=await sI(t.appConfig);const r=n.authToken;return r.requestStatus===0?f1(t,e):r}function sI(t){return My(t,e=>{if(!SR(e))throw Tl.create("not-registered");const n=e.authToken;return E7(n)?{...e,authToken:{requestStatus:0}}:e})}async function v7(t,e){try{const n=await m7(t,e),r={...e,authToken:n};return await Dg(t.appConfig,r),n}catch(n){if(dR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ER(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Dg(t.appConfig,r)}throw n}}function SR(t){return t!==void 0&&t.registrationStatus===2}function w7(t){return t.requestStatus===2&&!b7(t)}function b7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Hz}function x7(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function E7(t){return t.requestStatus===1&&t.requestTime+uR<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function k7(t){const e=t,{installationEntry:n,registrationPromise:r}=await d1(e);return r?r.catch(console.error):f1(e).catch(console.error),n.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function S7(t,e=!1){const n=t;return await _7(n),(await f1(n,e)).token}async function _7(t){const{registrationPromise:e}=await d1(t);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function T7(t){if(!t||!t.options)throw O0("App Configuration");if(!t.name)throw O0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw O0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function O0(t){return Tl.create("missing-app-config-values",{valueName:t})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _R="installations",I7="installations-internal",C7=t=>{const e=t.getProvider("app").getImmediate(),n=T7(e),r=so(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},P7=t=>{const e=t.getProvider("app").getImmediate(),n=so(e,_R).getImmediate();return{getId:()=>k7(n),getToken:r=>S7(n,r)}};function N7(){as(new zr(_R,C7,"PUBLIC")),as(new zr(I7,P7,"PRIVATE"))}N7();rr(lR,c1);rr(lR,c1,"esm2020");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Rg="analytics",D7="firebase_id",R7="origin",M7=60*1e3,A7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",p1="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zn=new Yg("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const O7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wr=new Rl("analytics","Analytics",O7);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function L7(t){if(!t.startsWith(p1)){const e=wr.create("invalid-gtag-resource",{gtagURL:t});return zn.warn(e.message),""}return t}function TR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function j7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function V7(t,e){const n=j7("firebase-js-sdk-policy",{createScriptURL:L7}),r=document.createElement("script"),s=`${p1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function F7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function U7(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const u=(await TR(n)).find(h=>h.measurementId===s);u&&await e[u.appId]}}catch(u){zn.error(u)}t("config",s,i)}async function z7(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const u=await TR(n);for(const h of o){const d=u.find(g=>g.measurementId===h),m=d&&e[d.appId];if(m)i.push(m);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){zn.error(i)}}function B7(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[u,h]=o;await z7(t,e,n,u,h)}else if(i==="config"){const[u,h]=o;await U7(t,e,n,r,u,h)}else if(i==="consent"){const[u,h]=o;t("consent",u,h)}else if(i==="get"){const[u,h,d]=o;t("get",u,h,d)}else if(i==="set"){const[u]=o;t("set",u)}else t(i,...o)}catch(u){zn.error(u)}}return s}function $7(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=B7(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function q7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(p1)&&n.src.includes(t))return n;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const K7=30,W7=1e3;class H7{constructor(e={},n=W7){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const IR=new H7;function G7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Q7(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:G7(r)},i=A7.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let u="";try{const h=await o.json();(e=h.error)!=null&&e.message&&(u=h.error.message)}catch{}throw wr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function X7(t,e=IR,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw wr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw wr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Z7;return setTimeout(async()=>{u.abort()},M7),CR({appId:r,apiKey:s,measurementId:i},o,u,e)}async function CR(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=IR){var i;const{appId:o,measurementId:u}=t;try{await Y7(r,e)}catch(h){if(u)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:o,measurementId:u};throw h}try{const h=await Q7(t);return s.deleteThrottleMetadata(o),h}catch(h){const d=h;if(!J7(d)){if(s.deleteThrottleMetadata(o),u)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:u};throw h}const m=Number((i=d==null?void 0:d.customData)==null?void 0:i.httpStatus)===503?t_(n,s.intervalMillis,K7):t_(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return s.setThrottleMetadata(o,g),zn.debug(`Calling attemptFetch again in ${m} millis`),CR(t,g,r,s)}}function Y7(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function J7(t){if(!(t instanceof Br)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Z7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function e8(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function t8(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function n8(){if(Xg())try{await ix()}catch(t){return zn.warn(wr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return zn.warn(wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function r8(t,e,n,r,s,i,o){const u=X7(t);u.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>zn.error(v)),e.push(u);const h=n8().then(v=>{if(v)return r.getId()}),[d,m]=await Promise.all([u,h]);q7(i)||V7(i,d.measurementId),s("js",new Date);const g=(o==null?void 0:o.config)??{};return g[R7]="firebase",g.update=!0,m!=null&&(g[D7]=m),s("config",d.measurementId,g),d.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class s8{constructor(e){this.app=e}_delete(){return delete oc[this.app.options.appId],Promise.resolve()}}let oc={},iI=[];const aI={};let L0="dataLayer",i8="gtag",oI,m1,lI=!1;function a8(){const t=[];if(sx()&&t.push("This is a browser extension environment."),eP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=wr.create("invalid-analytics-context",{errorInfo:e});zn.warn(n.message)}}function o8(t,e,n){a8();const r=t.options.appId;if(!r)throw wr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wr.create("no-api-key");if(oc[r]!=null)throw wr.create("already-exists",{id:r});if(!lI){F7(L0);const{wrappedGtag:s,gtagCore:i}=$7(oc,iI,aI,L0,i8);m1=s,oI=i,lI=!0}return oc[r]=r8(t,iI,aI,e,oI,L0,n),new s8(t)}function PR(t=Jg()){t=Ct(t);const e=so(t,Rg);return e.isInitialized()?e.getImmediate():l8(t)}function l8(t,e={}){const n=so(t,Rg);if(n.isInitialized()){const r=n.getImmediate();if(Ga(e,n.getOptions()))return r;throw wr.create("already-initialized")}return n.initialize({options:e})}async function NR(){if(sx()||!eP()||!Xg())return!1;try{return await ix()}catch{return!1}}function u8(t,e,n){t=Ct(t),t8(m1,oc[t.app.options.appId],e,n).catch(r=>zn.error(r))}function DR(t,e,n,r){t=Ct(t),e8(m1,oc[t.app.options.appId],e,n,r).catch(s=>zn.error(s))}const uI="@firebase/analytics",cI="0.10.19";function c8(){as(new zr(Rg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return o8(r,s,n)},"PUBLIC")),as(new zr("analytics-internal",t,"PRIVATE")),rr(uI,cI),rr(uI,cI,"esm2020");function t(e){try{const n=e.getProvider(Rg).getImmediate();return{logEvent:(r,s,i)=>DR(n,r,s,i),setUserProperties:(r,s)=>u8(n,r,s)}}catch(n){throw wr.create("interop-component-reg-failed",{reason:n})}}}c8();const h8={apiKey:"AIzaSyA-ji4PrndkvUwbcN6axWGjLJd-pNJrTBY",authDomain:"math-adventure-app.firebaseapp.com",projectId:"math-adventure-app",storageBucket:"math-adventure-app.firebasestorage.app",messagingSenderId:"685781375492",appId:"1:685781375492:web:cb2f52696292927cb07351",measurementId:"G-FGQWD7WPCY"},ls=sP(h8),j0=ny(ls),d8=Ey(ls);Bz(ls);try{iz(d8).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Firestore persistence: Not supported in this browser")})}catch(t){console.warn("Firestore persistence init failed:",t)}let RR=null;try{NR().then(t=>{t&&(RR=PR(ls))}).catch(()=>{})}catch{}const f8=RR;/**
* react-router v7.9.5
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var hI="popstate";function p8(t={}){function e(r,s){let{pathname:i,search:o,hash:u}=r.location;return ab("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Wd(s)}return g8(e,n,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m8(){return Math.random().toString(36).substring(2,10)}function dI(t,e){return{usr:t.state,key:t.key,idx:e}}function ab(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Mc(e):e,state:n,key:e&&e.key||r||m8()}}function Wd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Mc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function g8(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,u="POP",h=null,d=m();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function m(){return(o.state||{idx:null}).idx}function g(){u="POP";let I=m(),N=I==null?null:I-d;d=I,h&&h({action:u,location:_.location,delta:N})}function v(I,N){u="PUSH";let D=ab(_.location,I,N);d=m()+1;let O=dI(D,d),U=_.createHref(D);try{o.pushState(O,"",U)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(U)}i&&h&&h({action:u,location:_.location,delta:1})}function k(I,N){u="REPLACE";let D=ab(_.location,I,N);d=m();let O=dI(D,d),U=_.createHref(D);o.replaceState(O,"",U),i&&h&&h({action:u,location:_.location,delta:0})}function T(I){return y8(I)}let _={get action(){return u},get location(){return t(s,o)},listen(I){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(hI,g),h=I,()=>{s.removeEventListener(hI,g),h=null}},createHref(I){return e(s,I)},createURL:T,encodeLocation(I){let N=T(I);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:k,go(I){return o.go(I)}};return _}function y8(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Wd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function MR(t,e,n="/"){return v8(t,e,n,!1)}function v8(t,e,n,r){let s=typeof e=="string"?Mc(e):e,i=Oi(s.pathname||"/",n);if(i==null)return null;let o=AR(t);w8(o);let u=null;for(let h=0;u==null&&h<o.length;++h){let d=N8(i);u=C8(o[h],d,r)}return u}function AR(t,e=[],n=[],r="",s=!1){let i=(o,u,h=s,d)=>{let m={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&h)return;It(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let g=Ni([r,m.relativePath]),v=n.concat(m);o.children&&o.children.length>0&&(It(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),AR(o.children,e,v,g,h)),!(o.path==null&&!o.index)&&e.push({path:g,score:T8(g,o.index),routesMeta:v})};return t.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,u);else for(let d of OR(o.path))i(o,u,!0,d)}),e}function OR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=OR(r.join("/")),u=[];return u.push(...o.map(h=>h===""?i:[i,h].join("/"))),s&&u.push(...o),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function w8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:I8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var b8=/^:[\w-]+$/,x8=3,E8=2,k8=1,S8=10,_8=-2,fI=t=>t==="*";function T8(t,e){let n=t.split("/"),r=n.length;return n.some(fI)&&(r+=_8),e&&(r+=E8),n.filter(s=>!fI(s)).reduce((s,i)=>s+(b8.test(i)?x8:i===""?k8:S8),r)}function I8(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function C8(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let u=0;u<r.length;++u){let h=r[u],d=u===r.length-1,m=i==="/"?e:e.slice(i.length)||"/",g=Mg({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},m),v=h.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=Mg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Ni([i,g.pathname]),pathnameBase:A8(Ni([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=Ni([i,g.pathnameBase]))}return o}function Mg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=P8(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,{paramName:d,isOptional:m},g)=>{if(d==="*"){let k=u[g]||"";o=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const v=u[g];return m&&!v?h[d]=void 0:h[d]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function P8(t,e=!1,n=!0){Xs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function N8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Oi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function D8(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Mc(t):t;return{pathname:n?n.startsWith("/")?n:R8(n,e):e,search:O8(r),hash:L8(s)}}function R8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function V0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LR(t){let e=M8(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function jR(t,e,n,r=!1){let s;typeof t=="string"?s=Mc(t):(s={...t},It(!s.pathname||!s.pathname.includes("?"),V0("?","pathname","search",s)),It(!s.pathname||!s.pathname.includes("#"),V0("#","pathname","hash",s)),It(!s.search||!s.search.includes("#"),V0("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?e[g]:"/"}let h=D8(s,u),d=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||m)&&(h.pathname+="/"),h}var Ni=t=>t.join("/").replace(/\/\/+/g,"/"),A8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,L8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function j8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VR=["POST","PUT","PATCH","DELETE"];new Set(VR);var V8=["GET",...VR];new Set(V8);var Ac=E.createContext(null);Ac.displayName="DataRouter";var Ay=E.createContext(null);Ay.displayName="DataRouterState";E.createContext(!1);var FR=E.createContext({isTransitioning:!1});FR.displayName="ViewTransition";var F8=E.createContext(new Map);F8.displayName="Fetchers";var U8=E.createContext(null);U8.displayName="Await";var ei=E.createContext(null);ei.displayName="Navigation";var kf=E.createContext(null);kf.displayName="Location";var Ki=E.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var g1=E.createContext(null);g1.displayName="RouteError";function z8(t,{relative:e}={}){It(Sf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(ei),{hash:s,pathname:i,search:o}=_f(t,{relative:e}),u=i;return n!=="/"&&(u=i==="/"?n:Ni([n,i])),r.createHref({pathname:u,search:o,hash:s})}function Sf(){return E.useContext(kf)!=null}function Wi(){return It(Sf(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(kf).location}var UR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zR(t){E.useContext(ei).static||E.useLayoutEffect(t)}function y1(){let{isDataRoute:t}=E.useContext(Ki);return t?eB():B8()}function B8(){It(Sf(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Ac),{basename:e,navigator:n}=E.useContext(ei),{matches:r}=E.useContext(Ki),{pathname:s}=Wi(),i=JSON.stringify(LR(r)),o=E.useRef(!1);return zR(()=>{o.current=!0}),E.useCallback((u,h={})=>{if(Xs(o.current,UR),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=jR(u,JSON.parse(i),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ni([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,i,s,t])}E.createContext(null);function _f(t,{relative:e}={}){let{matches:n}=E.useContext(Ki),{pathname:r}=Wi(),s=JSON.stringify(LR(n));return E.useMemo(()=>jR(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function $8(t,e){return BR(t,e)}function BR(t,e,n,r,s){var i;It(Sf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(ei),{matches:u}=E.useContext(Ki),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let O=v&&v.path||"";$R(m,!v||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let k=Wi(),T;if(e){let O=typeof e=="string"?Mc(e):e;It(g==="/"||((i=O.pathname)==null?void 0:i.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${O.pathname}" was given in the \`location\` prop.`),T=O}else T=k;let _=T.pathname||"/",I=_;if(g!=="/"){let O=g.replace(/^\//,"").split("/");I="/"+_.replace(/^\//,"").split("/").slice(O.length).join("/")}let N=MR(t,{pathname:I});Xs(v||N!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Xs(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=G8(N&&N.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:Ni([g,o.encodeLocation?o.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?g:Ni([g,o.encodeLocation?o.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),u,n,r,s);return e&&D?E.createElement(kf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},D):D}function q8(){let t=Z8(),e=j8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:i},"ErrorBoundary")," or"," ",E.createElement("code",{style:i},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,o)}var K8=E.createElement(q8,null),W8=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(Ki.Provider,{value:this.props.routeContext},E.createElement(g1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function H8({routeContext:t,match:e,children:n}){let r=E.useContext(Ac);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Ki.Provider,{value:t},n)}function G8(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let d=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);It(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,h=-1;if(n)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:g,errors:v}=n,k=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||k){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((d,m,g)=>{let v,k=!1,T=null,_=null;n&&(v=o&&m.route.id?o[m.route.id]:void 0,T=m.route.errorElement||K8,u&&(h<0&&g===0?($R("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,_=null):h===g&&(k=!0,_=m.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,g+1)),N=()=>{let D;return v?D=T:k?D=_:m.route.Component?D=E.createElement(m.route.Component,null):m.route.element?D=m.route.element:D=d,E.createElement(H8,{match:m,routeContext:{outlet:d,matches:I,isDataRoute:n!=null},children:D})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?E.createElement(W8,{location:n.location,revalidation:n.revalidation,component:T,error:v,children:N(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:r}):N()},null)}function v1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q8(t){let e=E.useContext(Ac);return It(e,v1(t)),e}function X8(t){let e=E.useContext(Ay);return It(e,v1(t)),e}function Y8(t){let e=E.useContext(Ki);return It(e,v1(t)),e}function w1(t){let e=Y8(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function J8(){return w1("useRouteId")}function Z8(){var t;let e=E.useContext(g1),n=X8("useRouteError"),r=w1("useRouteError");return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function eB(){let{router:t}=Q8("useNavigate"),e=w1("useNavigate"),n=E.useRef(!1);return zR(()=>{n.current=!0}),E.useCallback(async(r,s={})=>{Xs(n.current,UR),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var pI={};function $R(t,e,n){!e&&!pI[t]&&(pI[t]=!0,Xs(!1,n))}E.memo(tB);function tB({routes:t,future:e,state:n,unstable_onError:r}){return BR(t,void 0,n,r,e)}function Ut(t){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nB({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){It(!Sf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Mc(n));let{pathname:h="/",search:d="",hash:m="",state:g=null,key:v="default"}=n,k=E.useMemo(()=>{let T=Oi(h,o);return T==null?null:{location:{pathname:T,search:d,hash:m,state:g,key:v},navigationType:r}},[o,h,d,m,g,v,r]);return Xs(k!=null,`<Router basename="${o}"> is not able to match the URL "${h}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:E.createElement(ei.Provider,{value:u},E.createElement(kf.Provider,{children:e,value:k}))}function rB({children:t,location:e}){return $8(ob(t),e)}function ob(t,e=[]){let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let i=[...e,s];if(r.type===E.Fragment){n.push.apply(n,ob(r.props.children,i));return}It(r.type===Ut,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ob(r.props.children,i)),n.push(o)}),n}var $m="get",qm="application/x-www-form-urlencoded";function Oy(t){return t!=null&&typeof t.tagName=="string"}function sB(t){return Oy(t)&&t.tagName.toLowerCase()==="button"}function iB(t){return Oy(t)&&t.tagName.toLowerCase()==="form"}function aB(t){return Oy(t)&&t.tagName.toLowerCase()==="input"}function oB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lB(t,e){return t.button===0&&(!e||e==="_self")&&!oB(t)}var om=null;function uB(){if(om===null)try{new FormData(document.createElement("form"),0),om=!1}catch{om=!0}return om}var cB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function F0(t){return t!=null&&!cB.has(t)?(Xs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qm}"`),null):t}function hB(t,e){let n,r,s,i,o;if(iB(t)){let u=t.getAttribute("action");r=u?Oi(u,e):null,n=t.getAttribute("method")||$m,s=F0(t.getAttribute("enctype"))||qm,i=new FormData(t)}else if(sB(t)||aB(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(r=h?Oi(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||$m,s=F0(t.getAttribute("formenctype"))||F0(u.getAttribute("enctype"))||qm,i=new FormData(u,t),!uB()){let{name:d,type:m,value:g}=t;if(m==="image"){let v=d?`${d}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else d&&i.append(d,g)}}else{if(Oy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$m,r=null,s=qm,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function b1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dB(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Oi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function fB(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pB(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mB(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await fB(i,n);return o.links?o.links():[]}return[]}));return wB(r.flat(1).filter(pB).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function mI(t,e,n,r,s,i){let o=(h,d)=>n[d]?h.route.id!==n[d].route.id:!0,u=(h,d)=>{var m;return n[d].pathname!==h.pathname||((m=n[d].route.path)==null?void 0:m.endsWith("*"))&&n[d].params["*"]!==h.params["*"]};return i==="assets"?e.filter((h,d)=>o(h,d)||u(h,d)):i==="data"?e.filter((h,d)=>{var m;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(o(h,d)||u(h,d))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function gB(t,e,{includeHydrateFallback:n}={}){return yB(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function yB(t){return[...new Set(t)]}function vB(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function wB(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(vB(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function qR(){let t=E.useContext(Ac);return b1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bB(){let t=E.useContext(Ay);return b1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var x1=E.createContext(void 0);x1.displayName="FrameworkContext";function KR(){let t=E.useContext(x1);return b1(t,"You must render this element inside a <HydratedRouter> element"),t}function xB(t,e){let n=E.useContext(x1),[r,s]=E.useState(!1),[i,o]=E.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:d,onMouseLeave:m,onTouchStart:g}=e,v=E.useRef(null);E.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let _=N=>{N.forEach(D=>{o(D.isIntersecting)})},I=new IntersectionObserver(_,{threshold:.5});return v.current&&I.observe(v.current),()=>{I.disconnect()}}},[t]),E.useEffect(()=>{if(r){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[r]);let k=()=>{s(!0)},T=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,v,{}]:[i,v,{onFocus:Uh(u,k),onBlur:Uh(h,T),onMouseEnter:Uh(d,k),onMouseLeave:Uh(m,T),onTouchStart:Uh(g,k)}]:[!1,v,{}]}function Uh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function EB({page:t,...e}){let{router:n}=qR(),r=E.useMemo(()=>MR(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(SB,{page:t,matches:r,...e}):null}function kB(t){let{manifest:e,routeModules:n}=KR(),[r,s]=E.useState([]);return E.useEffect(()=>{let i=!1;return mB(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function SB({page:t,matches:e,...n}){let r=Wi(),{manifest:s,routeModules:i}=KR(),{basename:o}=qR(),{loaderData:u,matches:h}=bB(),d=E.useMemo(()=>mI(t,e,h,s,r,"data"),[t,e,h,s,r]),m=E.useMemo(()=>mI(t,e,h,s,r,"assets"),[t,e,h,s,r]),g=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,_=!1;if(e.forEach(N=>{var D;let O=s.routes[N.route.id];!O||!O.hasLoader||(!d.some(U=>U.route.id===N.route.id)&&N.route.id in u&&(D=i[N.route.id])!=null&&D.shouldRevalidate||O.hasClientLoader?_=!0:T.add(N.route.id))}),T.size===0)return[];let I=dB(t,o,"data");return _&&T.size>0&&I.searchParams.set("_routes",e.filter(N=>T.has(N.route.id)).map(N=>N.route.id).join(",")),[I.pathname+I.search]},[o,u,r,s,d,e,t,i]),v=E.useMemo(()=>gB(m,s),[m,s]),k=kB(m);return E.createElement(E.Fragment,null,g.map(T=>E.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),v.map(T=>E.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),k.map(({key:T,link:_})=>E.createElement("link",{key:T,nonce:n.nonce,..._})))}function _B(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var WR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WR&&(window.__reactRouterVersion="7.9.5")}catch{}function TB({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=p8({window:n,v5Compat:!0}));let s=r.current,[i,o]=E.useState({action:s.action,location:s.location}),u=E.useCallback(h=>{E.startTransition(()=>o(h))},[o]);return E.useLayoutEffect(()=>s.listen(u),[s,u]),E.createElement(nB,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var HR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cn=E.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:s,replace:i,state:o,target:u,to:h,preventScrollReset:d,viewTransition:m,...g},v){let{basename:k}=E.useContext(ei),T=typeof h=="string"&&HR.test(h),_,I=!1;if(typeof h=="string"&&T&&(_=h,WR))try{let C=new URL(window.location.href),R=h.startsWith("//")?new URL(C.protocol+h):new URL(h),j=Oi(R.pathname,k);R.origin===C.origin&&j!=null?h=j+R.search+R.hash:I=!0}catch{Xs(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=z8(h,{relative:r}),[D,O,U]=xB(n,g),B=NB(h,{replace:i,state:o,target:u,preventScrollReset:d,relative:r,viewTransition:m});function H(C){t&&t(C),C.defaultPrevented||B(C)}let M=E.createElement("a",{...g,...U,href:_||N,onClick:I||s?t:H,ref:_B(v,O),target:u,"data-discover":!T&&e==="render"?"true":void 0});return D&&!T?E.createElement(E.Fragment,null,M,E.createElement(EB,{page:N})):M});cn.displayName="Link";var IB=E.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:s,to:i,viewTransition:o,children:u,...h},d){let m=_f(i,{relative:h.relative}),g=Wi(),v=E.useContext(Ay),{navigator:k,basename:T}=E.useContext(ei),_=v!=null&&OB(m)&&o===!0,I=k.encodeLocation?k.encodeLocation(m).pathname:m.pathname,N=g.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(N=N.toLowerCase(),D=D?D.toLowerCase():null,I=I.toLowerCase()),D&&T&&(D=Oi(D,T)||D);const O=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let U=N===I||!r&&N.startsWith(I)&&N.charAt(O)==="/",B=D!=null&&(D===I||!r&&D.startsWith(I)&&D.charAt(I.length)==="/"),H={isActive:U,isPending:B,isTransitioning:_},M=U?t:void 0,C;typeof n=="function"?C=n(H):C=[n,U?"active":null,B?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(H):s;return E.createElement(cn,{...h,"aria-current":M,className:C,ref:d,style:R,to:i,viewTransition:o},typeof u=="function"?u(H):u)});IB.displayName="NavLink";var CB=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=$m,action:u,onSubmit:h,relative:d,preventScrollReset:m,viewTransition:g,...v},k)=>{let T=MB(),_=AB(u,{relative:d}),I=o.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&HR.test(u),D=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let U=O.nativeEvent.submitter,B=(U==null?void 0:U.getAttribute("formmethod"))||o;T(U||O.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:s,state:i,relative:d,preventScrollReset:m,viewTransition:g})};return E.createElement("form",{ref:k,method:I,action:_,onSubmit:r?h:D,...v,"data-discover":!N&&t==="render"?"true":void 0})});CB.displayName="Form";function PB(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GR(t){let e=E.useContext(Ac);return It(e,PB(t)),e}function NB(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let u=y1(),h=Wi(),d=_f(t,{relative:i});return E.useCallback(m=>{if(lB(m,e)){m.preventDefault();let g=n!==void 0?n:Wd(h)===Wd(d);u(t,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[h,u,d,n,r,e,t,s,i,o])}var DB=0,RB=()=>`__${String(++DB)}__`;function MB(){let{router:t}=GR("useSubmit"),{basename:e}=E.useContext(ei),n=J8();return E.useCallback(async(r,s={})=>{let{action:i,method:o,encType:u,formData:h,body:d}=hB(r,e);if(s.navigate===!1){let m=s.fetcherKey||RB();await t.fetch(m,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function AB(t,{relative:e}={}){let{basename:n}=E.useContext(ei),r=E.useContext(Ki);It(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={..._f(t||".",{relative:e})},o=Wi();if(t==null){i.search=o.search;let u=new URLSearchParams(i.search),h=u.getAll("index");if(h.some(d=>d==="")){u.delete("index"),h.filter(m=>m).forEach(m=>u.append("index",m));let d=u.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ni([n,i.pathname])),Wd(i)}function OB(t,{relative:e}={}){let n=E.useContext(FR);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GR("useViewTransitionState"),s=_f(t,{relative:e});if(!n.isTransitioning)return!1;let i=Oi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Oi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mg(s.pathname,o)!=null||Mg(s.pathname,i)!=null}var E1=z2();const LB=Zb(E1);function yt(t){if(!t)return"/";const[e,n]=t.split("?"),r="/"+e.replace(/\s+/g,"");return n?`${r}?${n}`:r}var Tf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jB={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Vo,gI,yI,VB=(yI=class{constructor(){Ae(this,Vo,jB),Ae(this,gI,!1)}setTimeoutProvider(t){ge(this,Vo,t)}setTimeout(t,e){return q(this,Vo).setTimeout(t,e)}clearTimeout(t){q(this,Vo).clearTimeout(t)}setInterval(t,e){return q(this,Vo).setInterval(t,e)}clearInterval(t){q(this,Vo).clearInterval(t)}},Vo=new WeakMap,gI=new WeakMap,yI),al=new VB;function FB(t){setTimeout(t,0)}var Cl=typeof window>"u"||"Deno"in globalThis;function er(){}function UB(t,e){return typeof t=="function"?t(e):t}function lb(t){return typeof t=="number"&&t>=0&&t!==1/0}function QR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ha(t,e){return typeof t=="function"?t(e):t}function Ar(t,e){return typeof t=="function"?t(e):t}function vI(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:u}=t;if(o){if(r){if(e.queryHash!==k1(o,e.options))return!1}else if(!Gd(e.queryKey,o))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||i&&!i(e))}function wI(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Hd(e.options.mutationKey)!==Hd(i))return!1}else if(!Gd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function k1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Hd)(t)}function Hd(t){return JSON.stringify(t,(e,n)=>cb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Gd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Gd(t[n],e[n])):!1}var zB=Object.prototype.hasOwnProperty;function XR(t,e){if(t===e)return t;const n=bI(t)&&bI(e);if(!n&&!(cb(t)&&cb(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),i=s.length,o=n?new Array(i):{};let u=0;for(let h=0;h<i;h++){const d=n?h:s[h],m=t[d],g=e[d];if(m===g){o[d]=m,(n?h<r:zB.call(t,d))&&u++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){o[d]=g;continue}const v=XR(m,g);o[d]=v,v===m&&u++}return r===i&&u===r?t:o}function ub(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function bI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function cb(t){if(!xI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!xI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xI(t){return Object.prototype.toString.call(t)==="[object Object]"}function BB(t){return new Promise(e=>{al.setTimeout(e,t)})}function hb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?XR(t,e):e}function $B(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function qB(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var S1=Symbol();function YR(t,e){return!t.queryFn&&e!=null&&e.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===S1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function KB(t,e){return typeof t=="function"?t(...e):!!t}var Ru,Fo,zh,EI,WB=(EI=class extends Tf{constructor(){super(),Ae(this,Ru),Ae(this,Fo),Ae(this,zh),ge(this,zh,t=>{if(!Cl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){q(this,Fo)||this.setEventListener(q(this,zh))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,Fo))==null||t.call(this),ge(this,Fo,void 0))}setEventListener(t){var e;ge(this,zh,t),(e=q(this,Fo))==null||e.call(this),ge(this,Fo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){q(this,Ru)!==t&&(ge(this,Ru,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof q(this,Ru)=="boolean"?q(this,Ru):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ru=new WeakMap,Fo=new WeakMap,zh=new WeakMap,EI),_1=new WB;function db(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var HB=FB;function GB(){let t=[],e=0,n=u=>{u()},r=u=>{u()},s=HB;const i=u=>{e?t.push(u):s(()=>{n(u)})},o=()=>{const u=t;t=[],u.length&&s(()=>{r(()=>{u.forEach(h=>{n(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||o()}return h},batchCalls:u=>(...h)=>{i(()=>{u(...h)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var xn=GB(),Bh,Uo,$h,kI,QB=(kI=class extends Tf{constructor(){super(),Ae(this,Bh,!0),Ae(this,Uo),Ae(this,$h),ge(this,$h,t=>{if(!Cl&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){q(this,Uo)||this.setEventListener(q(this,$h))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,Uo))==null||t.call(this),ge(this,Uo,void 0))}setEventListener(t){var e;ge(this,$h,t),(e=q(this,Uo))==null||e.call(this),ge(this,Uo,t(this.setOnline.bind(this)))}setOnline(t){q(this,Bh)!==t&&(ge(this,Bh,t),this.listeners.forEach(e=>{e(t)}))}isOnline(){return q(this,Bh)}},Bh=new WeakMap,Uo=new WeakMap,$h=new WeakMap,kI),Ag=new QB;function XB(t){return Math.min(1e3*2**t,3e4)}function JR(t){return(t??"online")==="online"?Ag.isOnline():!0}var fb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ZR(t){let e=!1,n=0,r;const s=db(),i=()=>s.status!=="pending",o=_=>{var I;if(!i()){const N=new fb(_);v(N),(I=t.onCancel)==null||I.call(t,N)}},u=()=>{e=!0},h=()=>{e=!1},d=()=>_1.isFocused()&&(t.networkMode==="always"||Ag.isOnline())&&t.canRun(),m=()=>JR(t.networkMode)&&t.canRun(),g=_=>{i()||(r==null||r(),s.resolve(_))},v=_=>{i()||(r==null||r(),s.reject(_))},k=()=>new Promise(_=>{var I;r=N=>{(i()||d())&&_(N)},(I=t.onPause)==null||I.call(t)}).then(()=>{var _;r=void 0,i()||(_=t.onContinue)==null||_.call(t)}),T=()=>{if(i())return;let _;const I=n===0?t.initialPromise:void 0;try{_=I??t.fn()}catch(N){_=Promise.reject(N)}Promise.resolve(_).then(g).catch(N=>{var D;if(i())return;const O=t.retry??(Cl?0:3),U=t.retryDelay??XB,B=typeof U=="function"?U(n,N):U,H=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,N);if(e||!H){v(N);return}n++,(D=t.onFail)==null||D.call(t,n,N),BB(B).then(()=>d()?void 0:k()).then(()=>{e?v(N):T()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:u,continueRetry:h,canStart:m,start:()=>(m()?T():k().then(T),s)}}var Mu,SI,eM=(SI=class{constructor(){Ae(this,Mu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lb(this.gcTime)&&ge(this,Mu,al.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Cl?1/0:300*1e3))}clearGcTimeout(){q(this,Mu)&&(al.clearTimeout(q(this,Mu)),ge(this,Mu,void 0))}},Mu=new WeakMap,SI),Au,qh,Zr,Ou,gn,lm,Lu,Ns,bi,_I,YB=(_I=class extends eM{constructor(t){super(),Ae(this,Ns),Ae(this,Au),Ae(this,qh),Ae(this,Zr),Ae(this,Ou),Ae(this,gn),Ae(this,lm),Ae(this,Lu),ge(this,Lu,!1),ge(this,lm,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,Ou,t.client),ge(this,Zr,q(this,Ou).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,Au,II(this.options)),this.state=t.state??q(this,Au),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,gn))==null?void 0:t.promise}setOptions(t){if(this.options={...q(this,lm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=II(this.options);e.data!==void 0&&(this.setState(TI(e.data,e.dataUpdatedAt)),ge(this,Au,e))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,Zr).remove(this)}setData(t,e){const n=hb(this.state.data,t,this.options);return Ze(this,Ns,bi).call(this,{data:n,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),n}setState(t,e){Ze(this,Ns,bi).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var e,n;const r=(e=q(this,gn))==null?void 0:e.promise;return(n=q(this,gn))==null||n.cancel(t),r?r.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,Au))}isActive(){return this.observers.some(t=>Ar(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===S1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ha(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!QR(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=q(this,gn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=q(this,gn))==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,Zr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(q(this,gn)&&(q(this,Lu)?q(this,gn).cancel({revert:!0}):q(this,gn).cancelRetry()),this.scheduleGc()),q(this,Zr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Ns,bi).call(this,{type:"invalidate"})}async fetch(t,e){var n,r,s,i,o,u,h,d,m,g,v,k;if(this.state.fetchStatus!=="idle"&&((n=q(this,gn))==null?void 0:n.status())!=="rejected"){if(this.state.data!==void 0&&e!=null&&e.cancelRefetch)this.cancel({silent:!0});else if(q(this,gn))return q(this,gn).continueRetry(),q(this,gn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const D=this.observers.find(O=>O.options.queryFn);D&&this.setOptions(D.options)}const T=new AbortController,_=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(ge(this,Lu,!0),T.signal)})},I=()=>{const D=YR(this.options,e),O=(()=>{const U={client:q(this,Ou),queryKey:this.queryKey,meta:this.meta};return _(U),U})();return ge(this,Lu,!1),this.options.persister?this.options.persister(D,O,this):D(O)},N=(()=>{const D={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:q(this,Ou),state:this.state,fetchFn:I};return _(D),D})();(r=this.options.behavior)==null||r.onFetch(N,this),ge(this,qh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=N.fetchOptions)==null?void 0:s.meta))&&Ze(this,Ns,bi).call(this,{type:"fetch",meta:(i=N.fetchOptions)==null?void 0:i.meta}),ge(this,gn,ZR({initialPromise:e==null?void 0:e.initialPromise,fn:N.fetchFn,onCancel:D=>{D instanceof fb&&D.revert&&this.setState({...q(this,qh),fetchStatus:"idle"}),T.abort()},onFail:(D,O)=>{Ze(this,Ns,bi).call(this,{type:"failed",failureCount:D,error:O})},onPause:()=>{Ze(this,Ns,bi).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Ns,bi).call(this,{type:"continue"})},retry:N.options.retry,retryDelay:N.options.retryDelay,networkMode:N.options.networkMode,canRun:()=>!0}));try{const D=await q(this,gn).start();if(D===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(D),(u=(o=q(this,Zr).config).onSuccess)==null||u.call(o,D,this),(d=(h=q(this,Zr).config).onSettled)==null||d.call(h,D,this.state.error,this),D}catch(D){if(D instanceof fb){if(D.silent)return q(this,gn).promise;if(D.revert){if(this.state.data===void 0)throw D;return this.state.data}}throw Ze(this,Ns,bi).call(this,{type:"error",error:D}),(g=(m=q(this,Zr).config).onError)==null||g.call(m,D,this),(k=(v=q(this,Zr).config).onSettled)==null||k.call(v,this.state.data,D,this),D}finally{this.scheduleGc()}}},Au=new WeakMap,qh=new WeakMap,Zr=new WeakMap,Ou=new WeakMap,gn=new WeakMap,lm=new WeakMap,Lu=new WeakMap,Ns=new WeakSet,bi=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tM(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...TI(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ge(this,qh,t.manual?r:void 0),r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),xn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),q(this,Zr).notify({query:this,type:"updated",action:t})})},_I);function tM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:JR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function TI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function II(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var pr,Je,um,Jn,ju,Kh,Pa,zo,cm,Wh,Hh,Vu,Fu,Bo,Gh,jt,Qh,U0,z0,B0,$0,q0,K0,W0,CI,PI,JB=(PI=class extends Tf{constructor(t,e){super(),Ae(this,jt),Ae(this,pr),Ae(this,Je),Ae(this,um),Ae(this,Jn),Ae(this,ju),Ae(this,Kh),Ae(this,Pa),Ae(this,zo),Ae(this,cm),Ae(this,Wh),Ae(this,Hh),Ae(this,Vu),Ae(this,Fu),Ae(this,Bo),Ae(this,Gh,new Set),this.options=e,ge(this,pr,t),ge(this,zo,null),ge(this,Pa,db()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,Je).addObserver(this),NI(q(this,Je),this.options)?Ze(this,jt,Qh).call(this):this.updateResult(),Ze(this,jt,$0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pb(q(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pb(q(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,jt,q0).call(this),Ze(this,jt,K0).call(this),q(this,Je).removeObserver(this)}setOptions(t){const e=this.options,n=q(this,Je);if(this.options=q(this,pr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ar(this.options.enabled,q(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,jt,W0).call(this),q(this,Je).setOptions(this.options),e._defaulted&&!ub(this.options,e)&&q(this,pr).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,Je),observer:this});const r=this.hasListeners();r&&DI(q(this,Je),n,this.options,e)&&Ze(this,jt,Qh).call(this),this.updateResult(),r&&(q(this,Je)!==n||Ar(this.options.enabled,q(this,Je))!==Ar(e.enabled,q(this,Je))||Ha(this.options.staleTime,q(this,Je))!==Ha(e.staleTime,q(this,Je)))&&Ze(this,jt,U0).call(this);const s=Ze(this,jt,z0).call(this);r&&(q(this,Je)!==n||Ar(this.options.enabled,q(this,Je))!==Ar(e.enabled,q(this,Je))||s!==q(this,Bo))&&Ze(this,jt,B0).call(this,s)}getOptimisticResult(t){const e=q(this,pr).getQueryCache().build(q(this,pr),t),n=this.createResult(e,t);return e$(this,n)&&(ge(this,Jn,n),ge(this,Kh,this.options),ge(this,ju,q(this,Je).state)),n}getCurrentResult(){return q(this,Jn)}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e==null||e(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&q(this,Pa).status==="pending"&&q(this,Pa).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){q(this,Gh).add(t)}getCurrentQuery(){return q(this,Je)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=q(this,pr).defaultQueryOptions(t),n=q(this,pr).getQueryCache().build(q(this,pr),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return Ze(this,jt,Qh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,Jn)))}createResult(t,e){var n;const r=q(this,Je),s=this.options,i=q(this,Jn),o=q(this,ju),u=q(this,Kh),h=t!==r?t.state:q(this,um),{state:d}=t;let m={...d},g=!1,v;if(e._optimisticResults){const M=this.hasListeners(),C=!M&&NI(t,e),R=M&&DI(t,r,e,s);(C||R)&&(m={...m,...tM(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:k,errorUpdatedAt:T,status:_}=m;v=m.data;let I=!1;if(e.placeholderData!==void 0&&v===void 0&&_==="pending"){let M;i!=null&&i.isPlaceholderData&&e.placeholderData===(u==null?void 0:u.placeholderData)?(M=i.data,I=!0):M=typeof e.placeholderData=="function"?e.placeholderData((n=q(this,Hh))==null?void 0:n.state.data,q(this,Hh)):e.placeholderData,M!==void 0&&(_="success",v=hb(i==null?void 0:i.data,M,e),g=!0)}if(e.select&&v!==void 0&&!I)if(i&&v===(o==null?void 0:o.data)&&e.select===q(this,cm))v=q(this,Wh);else try{ge(this,cm,e.select),v=e.select(v),v=hb(i==null?void 0:i.data,v,e),ge(this,Wh,v),ge(this,zo,null)}catch(M){ge(this,zo,M)}q(this,zo)&&(k=q(this,zo),v=q(this,Wh),T=Date.now(),_="error");const N=m.fetchStatus==="fetching",D=_==="pending",O=_==="error",U=D&&N,B=v!==void 0,H={status:_,fetchStatus:m.fetchStatus,isPending:D,isSuccess:_==="success",isError:O,isInitialLoading:U,isLoading:U,data:v,dataUpdatedAt:m.dataUpdatedAt,error:k,errorUpdatedAt:T,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:N,isRefetching:N&&!D,isLoadingError:O&&!B,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:O&&B,isStale:T1(t,e),refetch:this.refetch,promise:q(this,Pa),isEnabled:Ar(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=j=>{H.status==="error"?j.reject(H.error):H.data!==void 0&&j.resolve(H.data)},C=()=>{const j=ge(this,Pa,H.promise=db());M(j)},R=q(this,Pa);switch(R.status){case"pending":t.queryHash===r.queryHash&&M(R);break;case"fulfilled":(H.status==="error"||H.data!==R.value)&&C();break;case"rejected":(H.status!=="error"||H.error!==R.reason)&&C();break}}return H}updateResult(){const t=q(this,Jn),e=this.createResult(q(this,Je),this.options);if(ge(this,ju,q(this,Je).state),ge(this,Kh,this.options),q(this,ju).data!==void 0&&ge(this,Hh,q(this,Je)),ub(e,t))return;ge(this,Jn,e);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!q(this,Gh).size)return!0;const i=new Set(s??q(this,Gh));return this.options.throwOnError&&i.add("error"),Object.keys(q(this,Jn)).some(o=>{const u=o;return q(this,Jn)[u]!==t[u]&&i.has(u)})};Ze(this,jt,CI).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,jt,$0).call(this)}},pr=new WeakMap,Je=new WeakMap,um=new WeakMap,Jn=new WeakMap,ju=new WeakMap,Kh=new WeakMap,Pa=new WeakMap,zo=new WeakMap,cm=new WeakMap,Wh=new WeakMap,Hh=new WeakMap,Vu=new WeakMap,Fu=new WeakMap,Bo=new WeakMap,Gh=new WeakMap,jt=new WeakSet,Qh=function(t){Ze(this,jt,W0).call(this);let e=q(this,Je).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(er)),e},U0=function(){Ze(this,jt,q0).call(this);const t=Ha(this.options.staleTime,q(this,Je));if(Cl||q(this,Jn).isStale||!lb(t))return;const e=QR(q(this,Jn).dataUpdatedAt,t)+1;ge(this,Vu,al.setTimeout(()=>{q(this,Jn).isStale||this.updateResult()},e))},z0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,Je)):this.options.refetchInterval)??!1},B0=function(t){Ze(this,jt,K0).call(this),ge(this,Bo,t),!(Cl||Ar(this.options.enabled,q(this,Je))===!1||!lb(q(this,Bo))||q(this,Bo)===0)&&ge(this,Fu,al.setInterval(()=>{(this.options.refetchIntervalInBackground||_1.isFocused())&&Ze(this,jt,Qh).call(this)},q(this,Bo)))},$0=function(){Ze(this,jt,U0).call(this),Ze(this,jt,B0).call(this,Ze(this,jt,z0).call(this))},q0=function(){q(this,Vu)&&(al.clearTimeout(q(this,Vu)),ge(this,Vu,void 0))},K0=function(){q(this,Fu)&&(al.clearInterval(q(this,Fu)),ge(this,Fu,void 0))},W0=function(){const t=q(this,pr).getQueryCache().build(q(this,pr),this.options);if(t===q(this,Je))return;const e=q(this,Je);ge(this,Je,t),ge(this,um,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},CI=function(t){xn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(q(this,Jn))}),q(this,pr).getQueryCache().notify({query:q(this,Je),type:"observerResultsUpdated"})})},PI);function ZB(t,e){return Ar(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function NI(t,e){return ZB(t,e)||t.state.data!==void 0&&pb(t,e,e.refetchOnMount)}function pb(t,e,n){if(Ar(e.enabled,t)!==!1&&Ha(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&T1(t,e)}return!1}function DI(t,e,n,r){return(t!==e||Ar(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&T1(t,n)}function T1(t,e){return Ar(e.enabled,t)!==!1&&t.isStaleByTime(Ha(e.staleTime,t))}function e$(t,e){return!ub(t.getCurrentResult(),e)}function RI(t){return{onFetch:(e,n)=>{var r,s,i,o,u;const h=e.options,d=(i=(s=(r=e.fetchOptions)==null?void 0:r.meta)==null?void 0:s.fetchMore)==null?void 0:i.direction,m=((o=e.state.data)==null?void 0:o.pages)||[],g=((u=e.state.data)==null?void 0:u.pageParams)||[];let v={pages:[],pageParams:[]},k=0;const T=async()=>{let _=!1;const I=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},N=YR(e.options,e.fetchOptions),D=async(O,U,B)=>{if(_)return Promise.reject();if(U==null&&O.pages.length)return Promise.resolve(O);const H=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:U,direction:B?"backward":"forward",meta:e.options.meta};return I(j),j})(),M=await N(H),{maxPages:C}=e.options,R=B?qB:$B;return{pages:R(O.pages,M,C),pageParams:R(O.pageParams,U,C)}};if(d&&m.length){const O=d==="backward",U=O?t$:MI,B={pages:m,pageParams:g},H=U(h,B);v=await D(B,H,O)}else{const O=t??m.length;do{const U=k===0?g[0]??h.initialPageParam:MI(h,v);if(k>0&&U==null)break;v=await D(v,U),k++}while(k<O)}return v};e.options.persister?e.fetchFn=()=>{var _,I;return(I=(_=e.options).persister)==null?void 0:I.call(_,T,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=T}}}function MI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function t$(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var hm,xi,Zn,Uu,Ei,Na,AI,n$=(AI=class extends eM{constructor(t){super(),Ae(this,Ei),Ae(this,hm),Ae(this,xi),Ae(this,Zn),Ae(this,Uu),ge(this,hm,t.client),this.mutationId=t.mutationId,ge(this,Zn,t.mutationCache),ge(this,xi,[]),this.state=t.state||r$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,xi).includes(t)||(q(this,xi).push(t),this.clearGcTimeout(),q(this,Zn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,xi,q(this,xi).filter(e=>e!==t)),this.scheduleGc(),q(this,Zn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,xi).length||(this.state.status==="pending"?this.scheduleGc():q(this,Zn).remove(this))}continue(){var t;return((t=q(this,Uu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var e,n,r,s,i,o,u,h,d,m,g,v,k,T,_,I,N,D,O,U;const B=()=>{Ze(this,Ei,Na).call(this,{type:"continue"})},H={client:q(this,hm),meta:this.options.meta,mutationKey:this.options.mutationKey};ge(this,Uu,ZR({fn:()=>this.options.mutationFn?this.options.mutationFn(t,H):Promise.reject(new Error("No mutationFn found")),onFail:(R,j)=>{Ze(this,Ei,Na).call(this,{type:"failed",failureCount:R,error:j})},onPause:()=>{Ze(this,Ei,Na).call(this,{type:"pause"})},onContinue:B,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,Zn).canRun(this)}));const M=this.state.status==="pending",C=!q(this,Uu).canStart();try{if(M)B();else{Ze(this,Ei,Na).call(this,{type:"pending",variables:t,isPaused:C}),await((n=(e=q(this,Zn).config).onMutate)==null?void 0:n.call(e,t,this,H));const j=await((s=(r=this.options).onMutate)==null?void 0:s.call(r,t,H));j!==this.state.context&&Ze(this,Ei,Na).call(this,{type:"pending",context:j,variables:t,isPaused:C})}const R=await q(this,Uu).start();return await((o=(i=q(this,Zn).config).onSuccess)==null?void 0:o.call(i,R,t,this.state.context,this,H)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,R,t,this.state.context,H)),await((m=(d=q(this,Zn).config).onSettled)==null?void 0:m.call(d,R,null,this.state.variables,this.state.context,this,H)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,R,null,t,this.state.context,H)),Ze(this,Ei,Na).call(this,{type:"success",data:R}),R}catch(R){try{throw await((T=(k=q(this,Zn).config).onError)==null?void 0:T.call(k,R,t,this.state.context,this,H)),await((I=(_=this.options).onError)==null?void 0:I.call(_,R,t,this.state.context,H)),await((D=(N=q(this,Zn).config).onSettled)==null?void 0:D.call(N,void 0,R,this.state.variables,this.state.context,this,H)),await((U=(O=this.options).onSettled)==null?void 0:U.call(O,void 0,R,t,this.state.context,H)),R}finally{Ze(this,Ei,Na).call(this,{type:"error",error:R})}}finally{q(this,Zn).runNext(this)}}},hm=new WeakMap,xi=new WeakMap,Zn=new WeakMap,Uu=new WeakMap,Ei=new WeakSet,Na=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),xn.batch(()=>{q(this,xi).forEach(n=>{n.onMutationUpdate(t)}),q(this,Zn).notify({mutation:this,type:"updated",action:t})})},AI);function r$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Da,Ds,dm,OI,s$=(OI=class extends Tf{constructor(t={}){super(),Ae(this,Da),Ae(this,Ds),Ae(this,dm),this.config=t,ge(this,Da,new Set),ge(this,Ds,new Map),ge(this,dm,0)}build(t,e,n){const r=new n$({client:t,mutationCache:this,mutationId:++_w(this,dm)._,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){q(this,Da).add(t);const e=fm(t);if(typeof e=="string"){const n=q(this,Ds).get(e);n?n.push(t):q(this,Ds).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(q(this,Da).delete(t)){const e=fm(t);if(typeof e=="string"){const n=q(this,Ds).get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&q(this,Ds).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=fm(t);if(typeof e=="string"){const n=q(this,Ds).get(e),r=n==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){var e;const n=fm(t);if(typeof n=="string"){const r=(e=q(this,Ds).get(n))==null?void 0:e.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xn.batch(()=>{q(this,Da).forEach(t=>{this.notify({type:"removed",mutation:t})}),q(this,Da).clear(),q(this,Ds).clear()})}getAll(){return Array.from(q(this,Da))}find(t){const e={exact:!0,...t};return this.getAll().find(n=>wI(e,n))}findAll(t={}){return this.getAll().filter(e=>wI(t,e))}notify(t){xn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return xn.batch(()=>Promise.all(t.map(e=>e.continue().catch(er))))}},Da=new WeakMap,Ds=new WeakMap,dm=new WeakMap,OI);function fm(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ki,LI,i$=(LI=class extends Tf{constructor(t={}){super(),Ae(this,ki),this.config=t,ge(this,ki,new Map)}build(t,e,n){const r=e.queryKey,s=e.queryHash??k1(r,e);let i=this.get(s);return i||(i=new YB({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){q(this,ki).has(t.queryHash)||(q(this,ki).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=q(this,ki).get(t.queryHash);e&&(t.destroy(),e===t&&q(this,ki).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return q(this,ki).get(t)}getAll(){return[...q(this,ki).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>vI(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>vI(t,n)):e}notify(t){xn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){xn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ki=new WeakMap,LI),Vt,$o,qo,Xh,Yh,Ko,Jh,Zh,jI,a$=(jI=class{constructor(t={}){Ae(this,Vt),Ae(this,$o),Ae(this,qo),Ae(this,Xh),Ae(this,Yh),Ae(this,Ko),Ae(this,Jh),Ae(this,Zh),ge(this,Vt,t.queryCache||new i$),ge(this,$o,t.mutationCache||new s$),ge(this,qo,t.defaultOptions||{}),ge(this,Xh,new Map),ge(this,Yh,new Map),ge(this,Ko,0)}mount(){_w(this,Ko)._++,q(this,Ko)===1&&(ge(this,Jh,_1.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,Vt).onFocus())})),ge(this,Zh,Ag.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,Vt).onOnline())})))}unmount(){var t,e;_w(this,Ko)._--,q(this,Ko)===0&&((t=q(this,Jh))==null||t.call(this),ge(this,Jh,void 0),(e=q(this,Zh))==null||e.call(this),ge(this,Zh,void 0))}isFetching(t){return q(this,Vt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return q(this,$o).findAll({...t,status:"pending"}).length}getQueryData(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=q(this,Vt).get(n.queryHash))==null?void 0:e.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=q(this,Vt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ha(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return q(this,Vt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=q(this,Vt).get(r.queryHash),i=s==null?void 0:s.state.data,o=UB(e,i);if(o!==void 0)return q(this,Vt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return xn.batch(()=>q(this,Vt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=q(this,Vt).get(n.queryHash))==null?void 0:e.state}removeQueries(t){const e=q(this,Vt);xn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=q(this,Vt);return xn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=xn.batch(()=>q(this,Vt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(er).catch(er)}invalidateQueries(t,e={}){return xn.batch(()=>(q(this,Vt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=xn.batch(()=>q(this,Vt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(er)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(er)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=q(this,Vt).build(this,e);return n.isStaleByTime(Ha(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(er).catch(er)}fetchInfiniteQuery(t){return t.behavior=RI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(er).catch(er)}ensureInfiniteQueryData(t){return t.behavior=RI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ag.isOnline()?q(this,$o).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,Vt)}getMutationCache(){return q(this,$o)}getDefaultOptions(){return q(this,qo)}setDefaultOptions(t){ge(this,qo,t)}setQueryDefaults(t,e){q(this,Xh).set(Hd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...q(this,Xh).values()],n={};return e.forEach(r=>{Gd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){q(this,Yh).set(Hd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...q(this,Yh).values()],n={};return e.forEach(r=>{Gd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...q(this,qo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=k1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===S1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...q(this,qo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){q(this,Vt).clear(),q(this,$o).clear()}},Vt=new WeakMap,$o=new WeakMap,qo=new WeakMap,Xh=new WeakMap,Yh=new WeakMap,Ko=new WeakMap,Jh=new WeakMap,Zh=new WeakMap,jI),nM=E.createContext(void 0),o$=t=>{const e=E.useContext(nM);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},l$=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(nM.Provider,{value:t,children:e})),rM=E.createContext(!1),u$=()=>E.useContext(rM);rM.Provider;function c$(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var h$=E.createContext(c$()),d$=()=>E.useContext(h$),f$=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},p$=t=>{E.useEffect(()=>{t.clearReset()},[t])},m$=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||KB(n,[t.error,r])),g$=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},y$=(t,e)=>t.isLoading&&t.isFetching&&!e,v$=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,VI=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function w$(t,e,n){var r,s,i,o,u;const h=u$(),d=d$(),m=o$(),g=m.defaultQueryOptions(t);(s=(r=m.getDefaultOptions().queries)==null?void 0:r._experimental_beforeQuery)==null||s.call(r,g),g._optimisticResults=h?"isRestoring":"optimistic",g$(g),f$(g,d),p$(d);const v=!m.getQueryCache().get(g.queryHash),[k]=E.useState(()=>new e(m,g)),T=k.getOptimisticResult(g),_=!h&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(I=>{const N=_?k.subscribe(xn.batchCalls(I)):er;return k.updateResult(),N},[k,_]),()=>k.getCurrentResult(),()=>k.getCurrentResult()),E.useEffect(()=>{k.setOptions(g)},[g,k]),v$(g,T))throw VI(g,k,d);if(m$({result:T,errorResetBoundary:d,throwOnError:g.throwOnError,query:m.getQueryCache().get(g.queryHash),suspense:g.suspense}))throw T.error;if((o=(i=m.getDefaultOptions().queries)==null?void 0:i._experimental_afterQuery)==null||o.call(i,g,T),g.experimental_prefetchInRender&&!Cl&&y$(T,h)){const I=v?VI(g,k,d):(u=m.getQueryCache().get(g.queryHash))==null?void 0:u.promise;I==null||I.catch(er).finally(()=>{k.updateResult()})}return g.notifyOnChangeProps?T:k.trackResult(T)}function b$(t,e){return w$(t,JB)}/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const x$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sM=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var E$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const k$=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...u},h)=>E.createElement("svg",{ref:h,...E$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:sM("lucide",s),...u},[...o.map(([d,m])=>E.createElement(d,m)),...Array.isArray(i)?i:[i]]));/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const lt=(t,e)=>{const n=E.forwardRef(({className:r,...s},i)=>E.createElement(k$,{ref:i,iconNode:e,className:sM(`lucide-${x$(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const S$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_$=lt("ArrowRight",S$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const T$=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],iM=lt("Brain",T$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const I$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],C$=lt("Calendar",I$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const P$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],N$=lt("ChartColumn",P$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const D$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],R$=lt("Check",D$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const M$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],A$=lt("ChevronRight",M$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const O$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],L$=lt("CircleCheckBig",O$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const j$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],V$=lt("CircleX",j$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const F$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],U$=lt("Circle",F$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const z$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],B$=lt("Clock",z$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $$=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Km=lt("Crown",$$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const q$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],FI=lt("EyeOff",q$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const K$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UI=lt("Eye",K$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const W$=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],H$=lt("Gamepad2",W$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const G$=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],zI=lt("Heart",G$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Q$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],X$=lt("House",Q$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Y$=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],J$=lt("LogOut",Y$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Z$=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],eq=lt("Menu",Z$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const tq=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],nq=lt("PartyPopper",tq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const rq=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],sq=lt("Rocket",rq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const iq=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aq=lt("Settings",iq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const oq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lq=lt("Shield",oq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const uq=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],cq=lt("ShoppingBag",uq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const hq=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],aM=lt("Sparkles",hq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const dq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],H0=lt("Star",dq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const fq=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],BI=lt("Trophy",fq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const pq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],G0=lt("User",pq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const mq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],$I=lt("Users",mq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],I1=lt("X",gq);function oM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=oM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lM(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=oM(t))&&(r&&(r+=" "),r+=e);return r}const qI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,KI=lM,Ly=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return KI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const m=n==null?void 0:n[d],g=i==null?void 0:i[d];if(m===null)return null;const v=qI(m)||qI(g);return s[d][v]}),u=n&&Object.entries(n).reduce((d,m)=>{let[g,v]=m;return v===void 0||(d[g]=v),d},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,m)=>{let{class:g,className:v,...k}=m;return Object.entries(k).every(T=>{let[_,I]=T;return Array.isArray(I)?I.includes({...i,...u}[_]):{...i,...u}[_]===I})?[...d,g,v]:d},[]);return KI(t,o,h,n==null?void 0:n.class,n==null?void 0:n.className)},C1="-",yq=t=>{const e=wq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const i=s.split(C1);return i[0]===""&&i.length!==1&&i.shift(),uM(i,e)||vq(s)},getConflictingClassGroupIds:(s,i)=>{const o=n[s]||[];return i&&r[s]?[...o,...r[s]]:o}}},uM=(t,e)=>{var n;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),i=s?uM(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(C1);return(n=e.validators.find(({validator:u})=>u(o)))==null?void 0:n.classGroupId},WI=/^\[(.+)\]$/,vq=t=>{if(WI.test(t)){const e=WI.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},wq=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)mb(n[s],r,s,e);return r},mb=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:HI(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(bq(s)){mb(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{mb(o,HI(e,i),n,r)})})},HI=(t,e)=>{let n=t;return e.split(C1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},bq=t=>t.isThemeGetter,xq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},gb="!",yb=":",Eq=yb.length,kq=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,u=0,h=0,d;for(let T=0;T<s.length;T++){let _=s[T];if(o===0&&u===0){if(_===yb){i.push(s.slice(h,T)),h=T+Eq;continue}if(_==="/"){d=T;continue}}_==="["?o++:_==="]"?o--:_==="("?u++:_===")"&&u--}const m=i.length===0?s:s.substring(h),g=Sq(m),v=g!==m,k=d&&d>h?d-h:void 0;return{modifiers:i,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:k}};if(e){const s=e+yb,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},Sq=t=>t.endsWith(gb)?t.substring(0,t.length-1):t.startsWith(gb)?t.substring(1):t,_q=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(r.push(...s.sort(),i),s=[]):s.push(i)}),r.push(...s.sort()),r}},Tq=t=>({cache:xq(t.cacheSize),parseClassName:kq(t),sortModifiers:_q(t),...yq(t)}),Iq=/\s+/,Cq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],u=t.trim().split(Iq);let h="";for(let d=u.length-1;d>=0;d-=1){const m=u[d],{isExternal:g,modifiers:v,hasImportantModifier:k,baseClassName:T,maybePostfixModifierPosition:_}=n(m);if(g){h=m+(h.length>0?" "+h:h);continue}let I=!!_,N=r(I?T.substring(0,_):T);if(!N){if(!I){h=m+(h.length>0?" "+h:h);continue}if(N=r(T),!N){h=m+(h.length>0?" "+h:h);continue}I=!1}const D=i(v).join(":"),O=k?D+gb:D,U=O+N;if(o.includes(U))continue;o.push(U);const B=s(N,I);for(let H=0;H<B.length;++H){const M=B[H];o.push(O+M)}h=m+(h.length>0?" "+h:h)}return h};function Pq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=cM(e))&&(r&&(r+=" "),r+=n);return r}const cM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=cM(t[r]))&&(n&&(n+=" "),n+=e);return n};function Nq(t,...e){let n,r,s,i=o;function o(h){const d=e.reduce((m,g)=>g(m),t());return n=Tq(d),r=n.cache.get,s=n.cache.set,i=u,u(h)}function u(h){const d=r(h);if(d)return d;const m=Cq(h,n);return s(h,m),m}return function(){return i(Pq.apply(null,arguments))}}const rn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},hM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,dM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Dq=/^\d+\/\d+$/,Rq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Mq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Aq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Oq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Lq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zu=t=>Dq.test(t),qe=t=>!!t&&!Number.isNaN(Number(t)),Ra=t=>!!t&&Number.isInteger(Number(t)),Q0=t=>t.endsWith("%")&&qe(t.slice(0,-1)),Si=t=>Rq.test(t),jq=()=>!0,Vq=t=>Mq.test(t)&&!Aq.test(t),fM=()=>!1,Fq=t=>Oq.test(t),Uq=t=>Lq.test(t),zq=t=>!Ee(t)&&!ke(t),Bq=t=>Oc(t,gM,fM),Ee=t=>hM.test(t),Wo=t=>Oc(t,yM,Vq),X0=t=>Oc(t,Hq,qe),GI=t=>Oc(t,pM,fM),$q=t=>Oc(t,mM,Uq),pm=t=>Oc(t,vM,Fq),ke=t=>dM.test(t),ed=t=>Lc(t,yM),qq=t=>Lc(t,Gq),QI=t=>Lc(t,pM),Kq=t=>Lc(t,gM),Wq=t=>Lc(t,mM),mm=t=>Lc(t,vM,!0),Oc=(t,e,n)=>{const r=hM.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Lc=(t,e,n=!1)=>{const r=dM.exec(t);return r?r[1]?e(r[1]):n:!1},pM=t=>t==="position"||t==="percentage",mM=t=>t==="image"||t==="url",gM=t=>t==="length"||t==="size"||t==="bg-size",yM=t=>t==="length",Hq=t=>t==="number",Gq=t=>t==="family-name",vM=t=>t==="shadow",Qq=()=>{const t=rn("color"),e=rn("font"),n=rn("text"),r=rn("font-weight"),s=rn("tracking"),i=rn("leading"),o=rn("breakpoint"),u=rn("container"),h=rn("spacing"),d=rn("radius"),m=rn("shadow"),g=rn("inset-shadow"),v=rn("text-shadow"),k=rn("drop-shadow"),T=rn("blur"),_=rn("perspective"),I=rn("aspect"),N=rn("ease"),D=rn("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...U(),ke,Ee],H=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],C=()=>[ke,Ee,h],R=()=>[zu,"full","auto",...C()],j=()=>[Ra,"none","subgrid",ke,Ee],F=()=>["auto",{span:["full",Ra,ke,Ee]},Ra,ke,Ee],$=()=>[Ra,"auto",ke,Ee],L=()=>["auto","min","max","fr",ke,Ee],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Re=()=>["start","end","center","stretch","center-safe","end-safe"],ye=()=>["auto",...C()],ve=()=>[zu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],G=()=>[t,ke,Ee],ne=()=>[...U(),QI,GI,{position:[ke,Ee]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",Kq,Bq,{size:[ke,Ee]}],re=()=>[Q0,ed,Wo],pe=()=>["","none","full",d,ke,Ee],me=()=>["",qe,ed,Wo],Me=()=>["solid","dashed","dotted","double"],ze=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ce=()=>[qe,Q0,QI,GI],$e=()=>["","none",T,ke,Ee],Ue=()=>["none",qe,ke,Ee],dt=()=>["none",qe,ke,Ee],Er=()=>[qe,ke,Ee],kr=()=>[zu,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Si],breakpoint:[Si],color:[jq],container:[Si],"drop-shadow":[Si],ease:["in","out","in-out"],font:[zq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Si],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Si],shadow:[Si],spacing:["px",qe],text:[Si],"text-shadow":[Si],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",zu,Ee,ke,I]}],container:["container"],columns:[{columns:[qe,Ee,ke,u]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Ra,"auto",ke,Ee]}],basis:[{basis:[zu,"full","auto",u,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,zu,"auto","initial","none",Ee]}],grow:[{grow:["",qe,ke,Ee]}],shrink:[{shrink:["",qe,ke,Ee]}],order:[{order:[Ra,"first","last","none",ke,Ee]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...Re(),"normal"]}],"justify-self":[{"justify-self":["auto",...Re()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...Re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Re(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...Re(),"baseline"]}],"place-self":[{"place-self":["auto",...Re()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:ye()}],mx:[{mx:ye()}],my:[{my:ye()}],ms:[{ms:ye()}],me:[{me:ye()}],mt:[{mt:ye()}],mr:[{mr:ye()}],mb:[{mb:ye()}],ml:[{ml:ye()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:ve()}],w:[{w:[u,"screen",...ve()]}],"min-w":[{"min-w":[u,"screen","none",...ve()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...ve()]}],h:[{h:["screen","lh",...ve()]}],"min-h":[{"min-h":["screen","lh","none",...ve()]}],"max-h":[{"max-h":["screen","lh",...ve()]}],"font-size":[{text:["base",n,ed,Wo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ke,X0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Q0,Ee]}],"font-family":[{font:[qq,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ke,Ee]}],"line-clamp":[{"line-clamp":[qe,"none",ke,X0]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",ke,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Me(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",ke,Wo]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[qe,"auto",ke,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ra,ke,Ee],radial:["",ke,Ee],conic:[Ra,ke,Ee]},Wq,$q]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Me(),"hidden","none"]}],"divide-style":[{divide:[...Me(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...Me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,ke,Ee]}],"outline-w":[{outline:["",qe,ed,Wo]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",m,mm,pm]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",g,mm,pm]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[qe,Wo]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",v,mm,pm]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[qe,ke,Ee]}],"mix-blend":[{"mix-blend":[...ze(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ze()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ce()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":Ce()}],"mask-image-t-to-pos":[{"mask-t-to":Ce()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":Ce()}],"mask-image-r-to-pos":[{"mask-r-to":Ce()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":Ce()}],"mask-image-b-to-pos":[{"mask-b-to":Ce()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":Ce()}],"mask-image-l-to-pos":[{"mask-l-to":Ce()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":Ce()}],"mask-image-x-to-pos":[{"mask-x-to":Ce()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":Ce()}],"mask-image-y-to-pos":[{"mask-y-to":Ce()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[ke,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ce()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ce()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Ee]}],filter:[{filter:["","none",ke,Ee]}],blur:[{blur:$e()}],brightness:[{brightness:[qe,ke,Ee]}],contrast:[{contrast:[qe,ke,Ee]}],"drop-shadow":[{"drop-shadow":["","none",k,mm,pm]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",qe,ke,Ee]}],"hue-rotate":[{"hue-rotate":[qe,ke,Ee]}],invert:[{invert:["",qe,ke,Ee]}],saturate:[{saturate:[qe,ke,Ee]}],sepia:[{sepia:["",qe,ke,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Ee]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[qe,ke,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[qe,ke,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,ke,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,ke,Ee]}],"backdrop-invert":[{"backdrop-invert":["",qe,ke,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[qe,ke,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[qe,ke,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,ke,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",ke,Ee]}],ease:[{ease:["linear","initial",N,ke,Ee]}],delay:[{delay:[qe,ke,Ee]}],animate:[{animate:["none",D,ke,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,ke,Ee]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:Ue()}],"rotate-x":[{"rotate-x":Ue()}],"rotate-y":[{"rotate-y":Ue()}],"rotate-z":[{"rotate-z":Ue()}],scale:[{scale:dt()}],"scale-x":[{"scale-x":dt()}],"scale-y":[{"scale-y":dt()}],"scale-z":[{"scale-z":dt()}],"scale-3d":["scale-3d"],skew:[{skew:Er()}],"skew-x":[{"skew-x":Er()}],"skew-y":[{"skew-y":Er()}],transform:[{transform:[ke,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:kr()}],"translate-x":[{"translate-x":kr()}],"translate-y":[{"translate-y":kr()}],"translate-z":[{"translate-z":kr()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Ee]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[qe,ed,Wo,X0]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Xq=Nq(Qq);function vt(...t){return Xq(lM(t))}function vb(t){const e=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];if(t<20)return e[t];if(t<100)return n[Math.floor(t/10)]+(t%10?"-"+e[t%10]:"");if(t<1e3){const r=t%100,s=e[Math.floor(t/100)]+" hundred";return r?s+" "+vb(r):s}return String(t)}function wb(t){const e=["cero","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez","once","doce","trece","catorce","quince","diecisis","diecisiete","dieciocho","diecinueve"],n=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];if(t<20)return e[t];if(t<30)return t===20?"veinte":"veinti"+e[t-20];if(t<100)return n[Math.floor(t/10)]+(t%10?" y "+e[t%10]:"");if(t<200)return"ciento"+(t%100?" "+wb(t%100):"");if(t<1e3){const r=["cero","ciento","doscientos","trescientos","cuatrocientos","quinientos","seiscientos","setecientos","ochocientos","novecientos"][Math.floor(t/100)],s=t%100;return r+(s?" "+wb(s):"")}return String(t)}function one(t,e={}){if(!t||typeof t!="string")return t;const{numberToWords:n="auto",language:r,pauseOperators:s=!0}=e;let i="en";try{i=r||(localStorage.getItem("tts.lang")==="es"?"es":"en")||"en"}catch{}let o=t;o=o.replace(//g,"-").replace(/|/g,"");const u={2:"half",3:"third",4:"fourth",5:"fifth",6:"sixth",7:"seventh",8:"eighth",9:"ninth",10:"tenth",12:"twelfth"},h={2:"medios",3:"tercios",4:"cuartos",5:"quintos",6:"sextos",7:"sptimos",8:"octavos",9:"novenos",10:"dcimos",12:"duodcimos"};if([{pattern:/\s*\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\/\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\s*/g,spoken:i==="es"?" por ":" times "},{pattern:/\s*\*\s*/g,spoken:" times "},{pattern:/(\d+)\s*[xX]\s*(\d+)/g,spoken:i==="es"?"$1 por $2":"$1 times $2"},{pattern:/\s*\+\s*/g,spoken:i==="es"?" ms ":" plus "},{pattern:/(\d+)\s*-\s*(\d+)/g,spoken:i==="es"?"$1 menos $2":"$1 minus $2"},{pattern:/\s*=\s*/g,spoken:i==="es"?" igual a ":" equals "},{pattern:/\s*>\s*/g,spoken:i==="es"?" es mayor que ":" is greater than "},{pattern:/\s*<\s*/g,spoken:i==="es"?" es menor que ":" is less than "},{pattern:/\s*\s*/g,spoken:i==="es"?" es mayor o igual que ":" is greater than or equal to "},{pattern:/\s*\s*/g,spoken:i==="es"?" es menor o igual que ":" is less than or equal to "},{pattern:/(\d+)\/(\d+)/g,spoken:(d,m,g)=>i==="es"?`${m} ${h[g]||"sobre "+g}`:u[g]?`${m==="1"?"one":vb(Number(m))} ${u[g]}${m!=="1"?"s":""}`:`${m} over ${g}`},{pattern:/%/g,spoken:i==="es"?" por ciento":" percent"},{pattern:/\^(\d+)/g,spoken:i==="es"?" a la potencia de $1":" to the power of $1"},{pattern:/(\d+)/g,spoken:i==="es"?"raz cuadrada de $1":"square root of $1"}].forEach(({pattern:d,spoken:m})=>{o=o.replace(d,m)}),o=o.replace(/(\d)\.(\d)/g,i==="es"?"$1 coma $2":"$1 point $2"),o=o.replace(/\s*(,)?\s*(\?+|_+)\s*(,)?\s*/g,(d,m,g,v)=>m&&v?", ":" "),o=o.replace(/\?\s*$/g,""),s&&(i==="es"?[" ms "," menos "," por "," dividido entre "," igual a "]:[" plus "," minus "," times "," divided by "," equals "]).forEach(d=>{const m=new RegExp(d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"(?!,)","g");o=o.replace(m,d+", ")}),n!=="none"){const d=i==="es"?wb:vb;o=o.replace(/\b\d+\b/g,(m,g)=>{const v=parseInt(m,10);if(!Number.isFinite(v))return m;if(n==="all")return d(v);const k=v<=20,T=o[g-1]||"",_=o[g+m.length]||"";return k||T===","||_===","?d(v):m})}return o=o.replace(/\s+,/g,",").replace(/,\s*,/g,", ").replace(/\s+/g," ").replace(/\s+,\s*$/g,"").trim(),o}const Yq=Ly("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function gm({className:t,variant:e,...n}){return x.jsx("div",{className:vt(Yq({variant:e}),t),...n})}function XI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function jl(...t){return e=>{let n=!1;const r=t.map(s=>{const i=XI(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():XI(t[s],null)}}}}function sr(...t){return E.useCallback(jl(...t),t)}var Jq=Symbol.for("react.lazy"),Og=tx[" use ".trim().toString()];function Zq(t){return typeof t=="object"&&t!==null&&"then"in t}function wM(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Jq&&"_payload"in t&&Zq(t._payload)}function eK(t){const e=nK(t),n=E.forwardRef((r,s)=>{let{children:i,...o}=r;wM(i)&&typeof Og=="function"&&(i=Og(i._payload));const u=E.Children.toArray(i),h=u.find(sK);if(h){const d=h.props.children,m=u.map(g=>g===h?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var tK=eK("Slot");function nK(t){const e=E.forwardRef((n,r)=>{let{children:s,...i}=n;if(wM(s)&&typeof Og=="function"&&(s=Og(s._payload)),E.isValidElement(s)){const o=aK(s),u=iK(i,s.props);return s.type!==E.Fragment&&(u.ref=r?jl(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rK=Symbol("radix.slottable");function sK(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rK}function iK(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function aK(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}const oK=Ly("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),is=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?tK:"button";return x.jsx(o,{className:vt(oK({variant:e,size:n,className:t})),ref:i,...s})});is.displayName="Button";const En=Ey(ls);ny(ls);const bM=async(t,e={})=>{const n=Js(En,"users",t),r={email:t,subscription_tier:"free",subscription_expires_at:null,subscription_auto_renew:!1,trial_start_date:jn(),trial_expires_at:null,trial_used:!1,trial_grace_used:!1,coins:0,stars_spent:0,total_stars_earned:0,owned_pets:[],active_pet:null,purchased_items:[],unlocked_items:[],power_ups:{},pet_experience:{},daily_login_streak:0,total_login_days:0,last_login_date:null,parental_controls:{enabled:!1,allowed_operations:[],allowed_levels:[],focus_operations:[],daily_time_limit_minutes:0,enforce_time_limits:!1},daily_usage_tracking:{},is_parent_mode:!1,is_premium_parent:!1,is_family_teacher:!1,parent_email:null,child_name:null,full_name:null,created_at:jn(),updated_at:jn(),...e};await Ny(n,r);const s=(await nR(n)).data();let i=null;if(s&&s.created_at&&s.created_at.toDate?i=s.created_at.toDate():s&&s.created_at&&s.created_at.seconds&&(i=new Date(s.created_at.seconds*1e3)),i){await Kd(n,{trial_start_date:Ge.fromDate(i),updated_at:jn()});const o=new Date(i.getTime()+10080*60*1e3);return await Kd(n,{trial_expires_at:Ge.fromDate(o),updated_at:jn()}),{...s,trial_start_date:Ge.fromDate(i),trial_expires_at:Ge.fromDate(o)}}return s||r},xM=async t=>{const e=Js(En,"users",t),n=await nR(e);return n.exists()?{id:n.id,...n.data()}:await bM(t)},ym=async(t,e)=>{const n=Js(En,"users",t);await Kd(n,{...e,updated_at:jn()})},lne=async()=>{const t=Bn(En,"users");return(await Gs(t)).docs.map(e=>({id:e.id,...e.data()}))},une=async(t,e)=>{const n=Bn(En,"gameProgress"),r=Js(n),s={user_email:t,operation:e.operation,level:e.level,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,coins_earned:e.coins_earned||0,accuracy:e.accuracy||0,completed_at:jn(),...e};return await Ny(r,s),{id:r.id,...s}},cne=async t=>{const e=Bn(En,"gameProgress"),n=Hs(e,rs("user_email","==",t),Ef("completed_at","desc"));return(await Gs(n)).docs.map(r=>({id:r.id,...r.data()}))},hne=(t,e)=>{const n=Bn(En,"gameProgress"),r=Hs(n,rs("user_email","==",t),Ef("completed_at","desc"));return rR(r,s=>{const i=s.docs.map(o=>({id:o.id,...o.data()}));e(i)})},dne=async()=>{const t=Bn(En,"gameProgress"),e=Hs(t,Ef("score","desc"),ZD(100));return(await Gs(e)).docs.map(n=>({id:n.id,...n.data()}))},fne=async(t,e)=>{const n=Bn(En,"dailyChallenges"),r=Js(n),s={user_email:t,challenge_type:e.challenge_type,challenge_date:e.challenge_date,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,bonus_coins:e.bonus_coins||0,completed_at:jn(),...e};return await Ny(r,s),{id:r.id,...s}},pne=async t=>{const e=Bn(En,"dailyChallenges"),n=Hs(e,rs("user_email","==",t),Ef("completed_at","desc"));return(await Gs(n)).docs.map(r=>({id:r.id,...r.data()}))},mne=async()=>{const t=Bn(En,"dailyChallenges"),e=Hs(t,Ef("score","desc"),ZD(100));return(await Gs(e)).docs.map(n=>({id:n.id,...n.data()}))},gne=async t=>{const e=Bn(En,"teamChallenges"),n=Hs(e,rs("creator_email","==",t)),r=Hs(e,rs("team_members","array-contains",t)),[s,i]=await Promise.all([Gs(n),Gs(r)]),o=new Map;return s.docs.forEach(u=>o.set(u.id,{id:u.id,...u.data()})),i.docs.forEach(u=>o.set(u.id,{id:u.id,...u.data()})),Array.from(o.values())},yne=async(t,e)=>{const n=Js(En,"teamChallenges",t);await Kd(n,{...e,updated_at:jn()})},vne=async(t,e)=>{const n=Bn(En,"friendConnections"),r=Js(n),s={user_email:t,friend_email:e,status:"pending",sent_at:jn()};return await Ny(r,s),{id:r.id,...s}},wne=async t=>{const e=Bn(En,"friendConnections"),n=Hs(e,rs("user_email","==",t),rs("status","==","accepted")),r=Hs(e,rs("friend_email","==",t),rs("status","==","accepted")),[s,i]=await Promise.all([Gs(n),Gs(r)]);return[...s.docs.map(o=>({id:o.id,...o.data()})),...i.docs.map(o=>({id:o.id,...o.data()}))]},bne=async t=>{const e=Bn(En,"friendConnections"),n=Hs(e,rs("friend_email","==",t),rs("status","==","pending"));return(await Gs(n)).docs.map(r=>({id:r.id,...r.data()}))},xne=async(t,e)=>{const n=Js(En,"friendConnections",t);await Kd(n,{status:e,updated_at:jn()})},Wm=E.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:vt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Wm.displayName="Input";function EM(){const[t,e]=E.useState("sign-in"),[n,r]=E.useState(""),[s,i]=E.useState(""),[o,u]=E.useState(""),[h,d]=E.useState(!1),[m,g]=E.useState(""),[v,k]=E.useState(""),[T,_]=E.useState(!1),[I,N]=E.useState(!1),D=()=>{k(""),g("")},O=async()=>{if(D(),!n){k("Email required");return}if(t==="sign-up"){if(!s){k("Password required");return}if(s!==o){k("Passwords do not match");return}}if(t==="sign-in"&&!s){k("Password required");return}d(!0);try{t==="sign-up"?(await S6(j0,n,s),await bM(n),g("Account created. You are signed in.")):t==="sign-in"?(await _6(j0,n,s),await xM(n),g("Signed in.")):t==="reset"&&(await k6(j0,n),g("Reset link sent. Check your email."))}catch(B){k((B==null?void 0:B.message)||"Auth failed")}finally{d(!1)}},U=B=>{D(),e(B)};return x.jsxs("div",{className:"w-full max-w-sm mx-auto bg-white/90 rounded-xl shadow-lg p-5 space-y-4",children:[x.jsxs("h2",{className:"text-xl font-bold text-purple-700 text-center",children:[t==="sign-in"&&"Sign In",t==="sign-up"&&"Create Account",t==="reset"&&"Reset Password"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Wm,{type:"email",autoComplete:"email",placeholder:"Email",value:n,onChange:B=>r(B.target.value)}),t!=="reset"&&x.jsxs("div",{className:"relative",children:[x.jsx(Wm,{type:T?"text":"password",autoComplete:t==="sign-up"?"new-password":"current-password",placeholder:"Password",value:s,onChange:B=>i(B.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>_(!T),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:T?x.jsx(FI,{className:"w-4 h-4"}):x.jsx(UI,{className:"w-4 h-4"})})]}),t==="sign-up"&&x.jsxs("div",{className:"relative",children:[x.jsx(Wm,{type:I?"text":"password",placeholder:"Confirm Password",value:o,onChange:B=>u(B.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>N(!I),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:I?x.jsx(FI,{className:"w-4 h-4"}):x.jsx(UI,{className:"w-4 h-4"})})]})]}),(v||m)&&x.jsx("div",{className:`text-sm rounded-md p-2 ${v?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:v||m}),x.jsx(is,{onClick:O,disabled:h,className:"w-full bg-purple-600 hover:bg-purple-700",children:h?"Please wait":t==="sign-in"?"Sign In":t==="sign-up"?"Sign Up":"Send Reset Link"}),x.jsxs("div",{className:"text-xs text-center text-gray-600 space-y-1",children:[t==="sign-in"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>U("sign-up"),className:"text-purple-600 hover:underline block w-full",children:"Need an account? Sign up"}),x.jsx("button",{onClick:()=>U("reset"),className:"text-purple-600 hover:underline block w-full",children:"Forgot password?"})]}),t==="sign-up"&&x.jsx("button",{onClick:()=>U("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Have an account? Sign in"}),t==="reset"&&x.jsx("button",{onClick:()=>U("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Back to sign in"})]})]})}const kM=t=>{if(!t)return!1;if(!t.trial_start_date||!t.trial_expires_at)return t.subscription_tier==="free"&&t.trial_used!==!0;if(t.subscription_tier!=="free"||t.trial_used===!0)return!1;const e=new Date,n=t.trial_expires_at.toDate();return e<n},lK=t=>{if(!t||!t.trial_start_date||!t.trial_expires_at||t.subscription_tier!=="free")return!1;const e=new Date,n=t.trial_expires_at.toDate();return e>=n},uK=t=>{if(!t||!t.trial_expires_at||t.subscription_tier!=="free")return 0;const e=new Date,n=t.trial_expires_at.toDate()-e;return n<=0?0:Math.ceil(n/(1e3*60*60*24))},cK=t=>t?!!(t.subscription_tier&&t.subscription_tier!=="free"||kM(t)&&t.trial_used!==!0):!1;let Lg=f8;(async()=>{try{!Lg&&await NR()&&(Lg=PR(ls))}catch{}})();function jy(t,e={}){if(Lg)try{DR(Lg,t,e)}catch(n){console.warn("analytics log skipped",t,n==null?void 0:n.message)}}const hK=t=>jy("trial_start",{method:"auto",user_email:t}),dK=(t,e)=>jy("trial_day",{day:e,user_email:t}),fK=t=>jy("trial_expired",{user_email:t}),pK=t=>jy("trial_grace_lock",{user_email:t}),P1=Ey(ls);async function mK(t){try{await u1(Bn(P1,"notifications"),{user_email:t,type:"trial_day6_warning",title:"Trial Ending Soon!",message:"Your 7-day trial ends tomorrow. Upgrade now to keep unlimited access to premium features!",is_read:!1,created_at:jn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create day6 notification:",e.message)}}async function gK(t){try{await u1(Bn(P1,"notifications"),{user_email:t,type:"trial_expired",title:"Trial Ended",message:"Your 7-day trial has ended. You are now on the free plan. Upgrade anytime to regain premium features.",is_read:!1,created_at:jn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create trial expired notification:",e.message)}}async function yK(t){try{await u1(Bn(P1,"notifications"),{user_email:t,type:"trial_grace_day",title:"Grace Day: Final Chance!",message:"Your trial expired, but you still have premium access today only. Upgrade now before it locks tomorrow.",is_read:!1,created_at:jn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create grace day notification:",e.message)}}function vK(){const[t,e]=E.useState(null),[n,r]=E.useState(!0),[s,i]=E.useState(null);return E.useEffect(()=>{const o=ny(ls),u=Ey(ls);let h=null;const d=C6(o,async m=>{var g;if(!m){e(null),r(!1);return}try{e(v=>v||{email:m.email,subscription_tier:"free",coins:0}),i(null);try{const v=(g=m==null?void 0:m.metadata)!=null&&g.creationTime?new Date(m.metadata.creationTime).getTime():null,k=v?Date.now()-v<1440*60*1e3:!1,T=`optimistic_trial_${m.email}`,_=typeof window<"u"?localStorage.getItem(T):null;k&&!_&&(e(I=>({...I||{},email:m.email,subscription_tier:"free",coins:0,isOnTrial:!0,trialExpired:!1,trialDaysRemaining:7,inGraceDay:!1,hasPremiumAccess:!0,_optimisticTrial:!0})),localStorage.setItem(T,"true"))}catch{}try{if(typeof window<"u"&&window.location.search.includes("reset_trial=true")){const v=Date.now(),k=new Date(v+10080*60*1e3);await ym(m.email,{trial_start_date:jn(),trial_expires_at:Ge.fromDate(k),trial_used:!1,trial_grace_used:!1}),localStorage.removeItem(`trial_log_${m.email}`);const T=new URL(window.location.href);T.searchParams.delete("reset_trial"),window.history.replaceState({},"",T.toString()),console.info("[trial] Trial reset performed for",m.email)}}catch(v){console.warn("[trial] Trial reset attempt failed:",v==null?void 0:v.message)}h&&h(),h=rR(Js(u,"users",m.email),v=>{var k,T;if(v.exists()){const _={id:v.id,...v.data()};(async()=>{var F,$;try{if(!_.trial_start_date||!_.trial_expires_at){let L=(F=_.created_at)!=null&&F.toDate?_.created_at.toDate():($=_.created_at)!=null&&$.seconds?new Date(_.created_at.seconds*1e3):new Date;const be=new Date(L.getTime()+10080*60*1e3);await ym(m.email,{trial_start_date:Ge.fromDate(L),trial_expires_at:Ge.fromDate(be),trial_used:!1,trial_grace_used:!1})}}catch{}})();const I=kM(_)||!_.trial_start_date||!_.trial_expires_at,N=lK(_),D=uK(_),O=7,U=(k=_.trial_start_date)!=null&&k.toDate?Math.floor((Date.now()-_.trial_start_date.toDate().getTime())/(1e3*60*60*24)):null,B=N&&U===O&&_.trial_grace_used!==!0;e({..._,isOnTrial:I,trialExpired:N,trialDaysRemaining:D,inGraceDay:B,hasPremiumAccess:cK(_)||I||B});const H=v.id,M=`trial_log_${H}`,C=localStorage.getItem(M);let R=C?JSON.parse(C):{};const j=(T=_.trial_start_date)!=null&&T.toDate?_.trial_start_date.toDate().getTime():null;if(j){const F=R.trial_start_timestamp||null;(!F||F!==j)&&(R={})}if(_.trial_start_date&&!R.trial_start&&(hK(H),R.trial_start=!0,j&&(R.trial_start_timestamp=j)),I&&D>=0&&D<=7){const F=`day_${7-D}`;R[F]||(dK(H,7-D),R[F]=!0),D===1&&!R.notif_day6&&(mK(H),R.notif_day6=!0)}N&&_.subscription_tier==="free"&&!R.trial_expired&&(fK(H),R.trial_expired=!0,_.trial_used!==!0&&ym(v.id,{trial_used:!0}).catch(()=>{}),R.notif_expired||(gK(H),R.notif_expired=!0)),B&&!R.grace_lock&&(pK(H),R.grace_lock=!0,_.trial_grace_used!==!0&&ym(v.id,{trial_grace_used:!0}).catch(()=>{}),R.notif_grace||(yK(H),R.notif_grace=!0));try{localStorage.setItem(M,JSON.stringify(R))}catch{}}},v=>{console.error("Firestore snapshot error:",v)}),xM(m.email).catch(v=>{console.error("Failed to ensure user profile",v),i(v)})}catch(v){console.error("Failed to initialize user session",v),i(v),e({email:m.email,subscription_tier:"free",coins:0})}finally{r(!1)}});return()=>{h&&h(),d()}},[]),{user:t,loading:n,error:s}}const SM=E.createContext({user:null,loading:!0,error:null});function wK({children:t}){const e=vK();return x.jsx(SM.Provider,{value:e,children:t})}function N1(){return E.useContext(SM)}const bK=Ly("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),_M=E.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,role:"alert",className:vt(bK({variant:e}),t),...n}));_M.displayName="Alert";const xK=E.forwardRef(({className:t,...e},n)=>x.jsx("h5",{ref:n,className:vt("mb-1 font-medium leading-none tracking-tight",t),...e}));xK.displayName="AlertTitle";const TM=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("text-sm [&_p]:leading-relaxed",t),...e}));TM.displayName="AlertDescription";function EK(){const{user:t}=N1(),e=y1(),[n,r]=bn.useState(!1),[s,i]=bn.useState(!0);if(!t||n===!0||s===!1||!(t.isOnTrial||t.trialExpired||t.inGraceDay))return null;const o=t.trialExpired&&!t.inGraceDay,u=t.trialDaysRemaining||0,h=t.inGraceDay;return x.jsx(_M,{className:`mb-4 ${o?"bg-red-50 border-red-300":u<=2?"bg-orange-50 border-orange-300":"bg-blue-50 border-blue-300"}`,children:x.jsxs("div",{className:"flex items-start justify-between gap-4",children:[x.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[h?x.jsx(Km,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}):o?x.jsx(Km,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}):x.jsx(B$,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),x.jsx(TM,{className:h?"text-orange-800":o?"text-red-800":"text-blue-800",children:x.jsx("div",{className:"space-y-2",children:h?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Grace Day: Final Chance!"}),x.jsx("p",{className:"text-sm",children:"Your trial expired, but you still have premium access today only. Upgrade now to keep everything before it locks tomorrow."})]}):o?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Your 7-day trial has ended"}),x.jsx("p",{className:"text-sm",children:"You're now on the free plan with limited access. Upgrade to continue enjoying premium features like unlimited games, AI tutor, and more!"})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:u===0?" Trial ends today!":`${u} day${u===1?"":"s"} left in your trial`}),x.jsx("p",{className:"text-sm",children:"You're currently enjoying premium features. Upgrade now to keep unlimited access after your trial ends!"})]})})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(is,{onClick:()=>e("/subscription"),className:`${h?"bg-orange-600 hover:bg-orange-700":o?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white whitespace-nowrap`,size:"sm",children:[x.jsx(Km,{className:"w-4 h-4 mr-1"}),"Upgrade Now"]}),x.jsx(is,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"flex-shrink-0",children:x.jsx(I1,{className:"w-4 h-4"})})]})]})})}function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function Ene(t,e){const n=E.createContext(e),r=i=>{const{children:o,...u}=i,h=E.useMemo(()=>u,Object.values(u));return x.jsx(n.Provider,{value:h,children:o})};r.displayName=t+"Provider";function s(i){const o=E.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function If(t,e=[]){let n=[];function r(i,o){const u=E.createContext(o),h=n.length;n=[...n,o];const d=g=>{var v;const{scope:k,children:T,..._}=g,I=((v=k==null?void 0:k[t])==null?void 0:v[h])||u,N=E.useMemo(()=>_,Object.values(_));return x.jsx(I.Provider,{value:N,children:T})};d.displayName=i+"Provider";function m(g,v){var k;const T=((k=v==null?void 0:v[t])==null?void 0:k[h])||u,_=E.useContext(T);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[d,m]}const s=()=>{const i=n.map(o=>E.createContext(o));return function(o){const u=(o==null?void 0:o[t])||i;return E.useMemo(()=>({[`__scope${t}`]:{...o,[t]:u}}),[o,u])}};return s.scopeName=t,[r,kK(s,...e)]}function kK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){const i=r.reduce((o,{useScope:u,scopeName:h})=>{const d=u(s)[`__scope${h}`];return{...o,...d}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var Za=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},SK=tx[" useInsertionEffect ".trim().toString()]||Za;function IM({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=_K({defaultProp:e,onChange:n}),u=t!==void 0,h=u?t:s;{const m=E.useRef(t!==void 0);E.useEffect(()=>{const g=m.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const d=E.useCallback(m=>{var g;if(u){const v=TK(m)?m(t):m;v!==t&&((g=o.current)==null||g.call(o,v))}else i(m)},[u,t,i,o]);return[h,d]}function _K({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),s=E.useRef(n),i=E.useRef(e);return SK(()=>{i.current=e},[e]),E.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function TK(t){return typeof t=="function"}function IK(t){const e=CK(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,u=E.Children.toArray(i),h=u.find(NK);if(h){const d=h.props.children,m=u.map(g=>g===h?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function CK(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=RK(s),u=DK(i,s.props);return s.type!==E.Fragment&&(u.ref=r?jl(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var PK=Symbol("radix.slottable");function NK(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===PK}function DK(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function RK(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var MK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$n=MK.reduce((t,e)=>{const n=IK(`Primitive.${e}`),r=E.forwardRef((s,i)=>{const{asChild:o,...u}=s,h=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(h,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function CM(t,e){t&&E1.flushSync(()=>t.dispatchEvent(e))}function YI(t){const e=AK(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,u=E.Children.toArray(i),h=u.find(LK);if(h){const d=h.props.children,m=u.map(g=>g===h?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function AK(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=VK(s),u=jK(i,s.props);return s.type!==E.Fragment&&(u.ref=r?jl(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var OK=Symbol("radix.slottable");function LK(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===OK}function jK(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function VK(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function PM(t){const e=t+"CollectionProvider",[n,r]=If(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:I,children:N}=_,D=bn.useRef(null),O=bn.useRef(new Map).current;return x.jsx(s,{scope:I,itemMap:O,collectionRef:D,children:N})};o.displayName=e;const u=t+"CollectionSlot",h=YI(u),d=bn.forwardRef((_,I)=>{const{scope:N,children:D}=_,O=i(u,N),U=sr(I,O.collectionRef);return x.jsx(h,{ref:U,children:D})});d.displayName=u;const m=t+"CollectionItemSlot",g="data-radix-collection-item",v=YI(m),k=bn.forwardRef((_,I)=>{const{scope:N,children:D,...O}=_,U=bn.useRef(null),B=sr(I,U),H=i(m,N);return bn.useEffect(()=>(H.itemMap.set(U,{ref:U,...O}),()=>void H.itemMap.delete(U))),x.jsx(v,{[g]:"",ref:B,children:D})});k.displayName=m;function T(_){const I=i(t+"CollectionConsumer",_);return bn.useCallback(()=>{const N=I.collectionRef.current;if(!N)return[];const D=Array.from(N.querySelectorAll(`[${g}]`));return Array.from(I.itemMap.values()).sort((O,U)=>D.indexOf(O.ref.current)-D.indexOf(U.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:o,Slot:d,ItemSlot:k},T,r]}var FK=E.createContext(void 0);function NM(t){const e=E.useContext(FK);return t||e||"ltr"}function Li(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function UK(t,e=globalThis==null?void 0:globalThis.document){const n=Li(t);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var zK="DismissableLayer",bb="dismissableLayer.update",BK="dismissableLayer.pointerDownOutside",$K="dismissableLayer.focusOutside",JI,DM=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),RM=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:u,...h}=t,d=E.useContext(DM),[m,g]=E.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=E.useState({}),T=sr(e,M=>g(M)),_=Array.from(d.layers),[I]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),N=_.indexOf(I),D=m?_.indexOf(m):-1,O=d.layersWithOutsidePointerEventsDisabled.size>0,U=D>=N,B=WK(M=>{const C=M.target,R=[...d.branches].some(j=>j.contains(C));!U||R||(s==null||s(M),o==null||o(M),M.defaultPrevented||u==null||u())},v),H=HK(M=>{const C=M.target;[...d.branches].some(R=>R.contains(C))||(i==null||i(M),o==null||o(M),M.defaultPrevented||u==null||u())},v);return UK(M=>{D===d.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&u&&(M.preventDefault(),u()))},v),E.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(JI=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),ZI(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=JI)}},[m,v,n,d]),E.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),ZI())},[m,d]),E.useEffect(()=>{const M=()=>k({});return document.addEventListener(bb,M),()=>document.removeEventListener(bb,M)},[]),x.jsx($n.div,{...h,ref:T,style:{pointerEvents:O?U?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,H.onFocusCapture),onBlurCapture:et(t.onBlurCapture,H.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,B.onPointerDownCapture)})});RM.displayName=zK;var qK="DismissableLayerBranch",KK=E.forwardRef((t,e)=>{const n=E.useContext(DM),r=E.useRef(null),s=sr(e,r);return E.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx($n.div,{...t,ref:s})});KK.displayName=qK;function WK(t,e=globalThis==null?void 0:globalThis.document){const n=Li(t),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let h=function(){MM(BK,n,d,{discrete:!0})};const d={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function HK(t,e=globalThis==null?void 0:globalThis.document){const n=Li(t),r=E.useRef(!1);return E.useEffect(()=>{const s=i=>{i.target&&!r.current&&MM($K,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ZI(){const t=new CustomEvent(bb);document.dispatchEvent(t)}function MM(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?CM(s,i):s.dispatchEvent(i)}var Y0=0;function GK(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??eC()),document.body.insertAdjacentElement("beforeend",t[1]??eC()),Y0++,()=>{Y0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Y0--}},[])}function eC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var J0="focusScope.autoFocusOnMount",Z0="focusScope.autoFocusOnUnmount",tC={bubbles:!1,cancelable:!0},QK="FocusScope",AM=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[u,h]=E.useState(null),d=Li(s),m=Li(i),g=E.useRef(null),v=sr(e,_=>h(_)),k=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let _=function(O){if(k.paused||!u)return;const U=O.target;u.contains(U)?g.current=U:Aa(g.current,{select:!0})},I=function(O){if(k.paused||!u)return;const U=O.relatedTarget;U!==null&&(u.contains(U)||Aa(g.current,{select:!0}))},N=function(O){if(document.activeElement===document.body)for(const U of O)U.removedNodes.length>0&&Aa(u)};document.addEventListener("focusin",_),document.addEventListener("focusout",I);const D=new MutationObserver(N);return u&&D.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",I),D.disconnect()}}},[r,u,k.paused]),E.useEffect(()=>{if(u){rC.add(k);const _=document.activeElement;if(!u.contains(_)){const I=new CustomEvent(J0,tC);u.addEventListener(J0,d),u.dispatchEvent(I),I.defaultPrevented||(XK(tW(OM(u)),{select:!0}),document.activeElement===_&&Aa(u))}return()=>{u.removeEventListener(J0,d),setTimeout(()=>{const I=new CustomEvent(Z0,tC);u.addEventListener(Z0,m),u.dispatchEvent(I),I.defaultPrevented||Aa(_??document.body,{select:!0}),u.removeEventListener(Z0,m),rC.remove(k)},0)}}},[u,d,m,k]);const T=E.useCallback(_=>{if(!n&&!r||k.paused)return;const I=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,N=document.activeElement;if(I&&N){const D=_.currentTarget,[O,U]=YK(D);O&&U?!_.shiftKey&&N===U?(_.preventDefault(),n&&Aa(O,{select:!0})):_.shiftKey&&N===O&&(_.preventDefault(),n&&Aa(U,{select:!0})):N===D&&_.preventDefault()}},[n,r,k.paused]);return x.jsx($n.div,{tabIndex:-1,...o,ref:v,onKeyDown:T})});AM.displayName=QK;function XK(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Aa(r,{select:e}),document.activeElement!==n)return}function YK(t){const e=OM(t),n=nC(e,t),r=nC(e.reverse(),t);return[n,r]}function OM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nC(t,e){for(const n of t)if(!JK(n,{upTo:e}))return n}function JK(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ZK(t){return t instanceof HTMLInputElement&&"select"in t}function Aa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ZK(t)&&e&&t.select()}}var rC=eW();function eW(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=sC(t,e),t.unshift(e)},remove(e){var n;t=sC(t,e),(n=t[0])==null||n.resume()}}}function sC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function tW(t){return t.filter(e=>e.tagName!=="A")}var nW=tx[" useId ".trim().toString()]||(()=>{}),rW=0;function xb(t){const[e,n]=E.useState(nW());return Za(()=>{n(r=>r??String(rW++))},[t]),e?`radix-${e}`:""}const sW=["top","right","bottom","left"],eo=Math.min,gr=Math.max,jg=Math.round,vm=Math.floor,Bs=t=>({x:t,y:t}),iW={left:"right",right:"left",bottom:"top",top:"bottom"},aW={start:"end",end:"start"};function Eb(t,e,n){return gr(t,eo(e,n))}function ji(t,e){return typeof t=="function"?t(e):t}function Vi(t){return t.split("-")[0]}function jc(t){return t.split("-")[1]}function D1(t){return t==="x"?"y":"x"}function R1(t){return t==="y"?"height":"width"}const oW=new Set(["top","bottom"]);function Ls(t){return oW.has(Vi(t))?"y":"x"}function M1(t){return D1(Ls(t))}function lW(t,e,n){n===void 0&&(n=!1);const r=jc(t),s=M1(t),i=R1(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Vg(o)),[o,Vg(o)]}function uW(t){const e=Vg(t);return[kb(t),e,kb(e)]}function kb(t){return t.replace(/start|end/g,e=>aW[e])}const iC=["left","right"],aC=["right","left"],cW=["top","bottom"],hW=["bottom","top"];function dW(t,e,n){switch(t){case"top":case"bottom":return n?e?aC:iC:e?iC:aC;case"left":case"right":return e?cW:hW;default:return[]}}function fW(t,e,n,r){const s=jc(t);let i=dW(Vi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(kb)))),i}function Vg(t){return t.replace(/left|right|bottom|top/g,e=>iW[e])}function pW(t){return{top:0,right:0,bottom:0,left:0,...t}}function LM(t){return typeof t!="number"?pW(t):{top:t,right:t,bottom:t,left:t}}function Fg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function oC(t,e,n){let{reference:r,floating:s}=t;const i=Ls(e),o=M1(e),u=R1(o),h=Vi(e),d=i==="y",m=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let k;switch(h){case"top":k={x:m,y:r.y-s.height};break;case"bottom":k={x:m,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y:g};break;case"left":k={x:r.x-s.width,y:g};break;default:k={x:r.x,y:r.y}}switch(jc(e)){case"start":k[o]-=v*(n&&d?-1:1);break;case"end":k[o]+=v*(n&&d?-1:1);break}return k}const mW=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,u=i.filter(Boolean),h=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y:g}=oC(d,r,h),v=r,k={},T=0;for(let _=0;_<u.length;_++){const{name:I,fn:N}=u[_],{x:D,y:O,data:U,reset:B}=await N({x:m,y:g,initialPlacement:r,placement:v,strategy:s,middlewareData:k,rects:d,platform:o,elements:{reference:t,floating:e}});m=D??m,g=O??g,k={...k,[I]:{...k[I],...U}},B&&T<=50&&(T++,typeof B=="object"&&(B.placement&&(v=B.placement),B.rects&&(d=B.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):B.rects),{x:m,y:g}=oC(d,v,h)),_=-1)}return{x:m,y:g,placement:v,strategy:s,middlewareData:k}};async function Qd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:u,strategy:h}=t,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:v=!1,padding:k=0}=ji(e,t),T=LM(k),_=u[v?g==="floating"?"reference":"floating":g],I=Fg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:d,rootBoundary:m,strategy:h})),N=g==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,D=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),O=await(i.isElement==null?void 0:i.isElement(D))?await(i.getScale==null?void 0:i.getScale(D))||{x:1,y:1}:{x:1,y:1},U=Fg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:N,offsetParent:D,strategy:h}):N);return{top:(I.top-U.top+T.top)/O.y,bottom:(U.bottom-I.bottom+T.bottom)/O.y,left:(I.left-U.left+T.left)/O.x,right:(U.right-I.right+T.right)/O.x}}const gW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:u,middlewareData:h}=e,{element:d,padding:m=0}=ji(t,e)||{};if(d==null)return{};const g=LM(m),v={x:n,y:r},k=M1(s),T=R1(k),_=await o.getDimensions(d),I=k==="y",N=I?"top":"left",D=I?"bottom":"right",O=I?"clientHeight":"clientWidth",U=i.reference[T]+i.reference[k]-v[k]-i.floating[T],B=v[k]-i.reference[k],H=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let M=H?H[O]:0;(!M||!await(o.isElement==null?void 0:o.isElement(H)))&&(M=u.floating[O]||i.floating[T]);const C=U/2-B/2,R=M/2-_[T]/2-1,j=eo(g[N],R),F=eo(g[D],R),$=j,L=M-_[T]-F,be=M/2-_[T]/2+C,Re=Eb($,be,L),ye=!h.arrow&&jc(s)!=null&&be!==Re&&i.reference[T]/2-(be<$?j:F)-_[T]/2<0,ve=ye?be<$?be-$:be-L:0;return{[k]:v[k]+ve,data:{[k]:Re,centerOffset:be-Re-ve,...ye&&{alignmentOffset:ve}},reset:ye}}}),yW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:u,platform:h,elements:d}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:_=!0,...I}=ji(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const N=Vi(s),D=Ls(u),O=Vi(u)===u,U=await(h.isRTL==null?void 0:h.isRTL(d.floating)),B=v||(O||!_?[Vg(u)]:uW(u)),H=T!=="none";!v&&H&&B.push(...fW(u,_,T,U));const M=[u,...B],C=await Qd(e,I),R=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&R.push(C[N]),g){const be=lW(s,o,U);R.push(C[be[0]],C[be[1]])}if(j=[...j,{placement:s,overflows:R}],!R.every(be=>be<=0)){var F,$;const be=(((F=i.flip)==null?void 0:F.index)||0)+1,Re=M[be];if(Re&&(!(g==="alignment"&&D!==Ls(Re))||j.every(ve=>Ls(ve.placement)===D?ve.overflows[0]>0:!0)))return{data:{index:be,overflows:j},reset:{placement:Re}};let ye=($=j.filter(ve=>ve.overflows[0]<=0).sort((ve,G)=>ve.overflows[1]-G.overflows[1])[0])==null?void 0:$.placement;if(!ye)switch(k){case"bestFit":{var L;const ve=(L=j.filter(G=>{if(H){const ne=Ls(G.placement);return ne===D||ne==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ne=>ne>0).reduce((ne,ae)=>ne+ae,0)]).sort((G,ne)=>G[1]-ne[1])[0])==null?void 0:L[0];ve&&(ye=ve);break}case"initialPlacement":ye=u;break}if(s!==ye)return{reset:{placement:ye}}}return{}}}};function lC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function uC(t){return sW.some(e=>t[e]>=0)}const vW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ji(t,e);switch(r){case"referenceHidden":{const i=await Qd(e,{...s,elementContext:"reference"}),o=lC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:uC(o)}}}case"escaped":{const i=await Qd(e,{...s,altBoundary:!0}),o=lC(i,n.floating);return{data:{escapedOffsets:o,escaped:uC(o)}}}default:return{}}}}},jM=new Set(["left","top"]);async function wW(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Vi(n),u=jc(n),h=Ls(n)==="y",d=jM.has(o)?-1:1,m=i&&h?-1:1,g=ji(e,t);let{mainAxis:v,crossAxis:k,alignmentAxis:T}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof T=="number"&&(k=u==="end"?T*-1:T),h?{x:k*m,y:v*d}:{x:v*d,y:k*m}}const bW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:u}=e,h=await wW(e,t);return o===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:i+h.y,data:{...h,placement:o}}}}},xW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:u={fn:I=>{let{x:N,y:D}=I;return{x:N,y:D}}},...h}=ji(t,e),d={x:n,y:r},m=await Qd(e,h),g=Ls(Vi(s)),v=D1(g);let k=d[v],T=d[g];if(i){const I=v==="y"?"top":"left",N=v==="y"?"bottom":"right",D=k+m[I],O=k-m[N];k=Eb(D,k,O)}if(o){const I=g==="y"?"top":"left",N=g==="y"?"bottom":"right",D=T+m[I],O=T-m[N];T=Eb(D,T,O)}const _=u.fn({...e,[v]:k,[g]:T});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[v]:i,[g]:o}}}}}},EW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:u=0,mainAxis:h=!0,crossAxis:d=!0}=ji(t,e),m={x:n,y:r},g=Ls(s),v=D1(g);let k=m[v],T=m[g];const _=ji(u,e),I=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(h){const O=v==="y"?"height":"width",U=i.reference[v]-i.floating[O]+I.mainAxis,B=i.reference[v]+i.reference[O]-I.mainAxis;k<U?k=U:k>B&&(k=B)}if(d){var N,D;const O=v==="y"?"width":"height",U=jM.has(Vi(s)),B=i.reference[g]-i.floating[O]+(U&&((N=o.offset)==null?void 0:N[g])||0)+(U?0:I.crossAxis),H=i.reference[g]+i.reference[O]+(U?0:((D=o.offset)==null?void 0:D[g])||0)-(U?I.crossAxis:0);T<B?T=B:T>H&&(T=H)}return{[v]:k,[g]:T}}}},kW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:u}=e,{apply:h=()=>{},...d}=ji(t,e),m=await Qd(e,d),g=Vi(s),v=jc(s),k=Ls(s)==="y",{width:T,height:_}=i.floating;let I,N;g==="top"||g==="bottom"?(I=g,N=v===(await(o.isRTL==null?void 0:o.isRTL(u.floating))?"start":"end")?"left":"right"):(N=g,I=v==="end"?"top":"bottom");const D=_-m.top-m.bottom,O=T-m.left-m.right,U=eo(_-m[I],D),B=eo(T-m[N],O),H=!e.middlewareData.shift;let M=U,C=B;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=D),H&&!v){const j=gr(m.left,0),F=gr(m.right,0),$=gr(m.top,0),L=gr(m.bottom,0);k?C=T-2*(j!==0||F!==0?j+F:gr(m.left,m.right)):M=_-2*($!==0||L!==0?$+L:gr(m.top,m.bottom))}await h({...e,availableWidth:C,availableHeight:M});const R=await o.getDimensions(u.floating);return T!==R.width||_!==R.height?{reset:{rects:!0}}:{}}}};function Vy(){return typeof window<"u"}function Vc(t){return VM(t)?(t.nodeName||"").toLowerCase():"#document"}function br(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ti(t){var e;return(e=(VM(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function VM(t){return Vy()?t instanceof Node||t instanceof br(t).Node:!1}function us(t){return Vy()?t instanceof Element||t instanceof br(t).Element:!1}function Ys(t){return Vy()?t instanceof HTMLElement||t instanceof br(t).HTMLElement:!1}function cC(t){return!Vy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof br(t).ShadowRoot}const SW=new Set(["inline","contents"]);function Cf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=cs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!SW.has(s)}const _W=new Set(["table","td","th"]);function TW(t){return _W.has(Vc(t))}const IW=[":popover-open",":modal"];function Fy(t){return IW.some(e=>{try{return t.matches(e)}catch{return!1}})}const CW=["transform","translate","scale","rotate","perspective"],PW=["transform","translate","scale","rotate","perspective","filter"],NW=["paint","layout","strict","content"];function A1(t){const e=O1(),n=us(t)?cs(t):t;return CW.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||PW.some(r=>(n.willChange||"").includes(r))||NW.some(r=>(n.contain||"").includes(r))}function DW(t){let e=to(t);for(;Ys(e)&&!_c(e);){if(A1(e))return e;if(Fy(e))return null;e=to(e)}return null}function O1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const RW=new Set(["html","body","#document"]);function _c(t){return RW.has(Vc(t))}function cs(t){return br(t).getComputedStyle(t)}function Uy(t){return us(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function to(t){if(Vc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cC(t)&&t.host||ti(t);return cC(e)?e.host:e}function FM(t){const e=to(t);return _c(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ys(e)&&Cf(e)?e:FM(e)}function Xd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=FM(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=br(s);if(i){const u=Sb(o);return e.concat(o,o.visualViewport||[],Cf(s)?s:[],u&&n?Xd(u):[])}return e.concat(s,Xd(s,[],n))}function Sb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function UM(t){const e=cs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ys(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,u=jg(n)!==i||jg(r)!==o;return u&&(n=i,r=o),{width:n,height:r,$:u}}function L1(t){return us(t)?t:t.contextElement}function lc(t){const e=L1(t);if(!Ys(e))return Bs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=UM(e);let o=(i?jg(n.width):n.width)/r,u=(i?jg(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const MW=Bs(0);function zM(t){const e=br(t);return!O1()||!e.visualViewport?MW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function AW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==br(t)?!1:e}function Pl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=L1(t);let o=Bs(1);e&&(r?us(r)&&(o=lc(r)):o=lc(t));const u=AW(i,n,r)?zM(i):Bs(0);let h=(s.left+u.x)/o.x,d=(s.top+u.y)/o.y,m=s.width/o.x,g=s.height/o.y;if(i){const v=br(i),k=r&&us(r)?br(r):r;let T=v,_=Sb(T);for(;_&&r&&k!==T;){const I=lc(_),N=_.getBoundingClientRect(),D=cs(_),O=N.left+(_.clientLeft+parseFloat(D.paddingLeft))*I.x,U=N.top+(_.clientTop+parseFloat(D.paddingTop))*I.y;h*=I.x,d*=I.y,m*=I.x,g*=I.y,h+=O,d+=U,T=br(_),_=Sb(T)}}return Fg({width:m,height:g,x:h,y:d})}function zy(t,e){const n=Uy(t).scrollLeft;return e?e.left+n:Pl(ti(t)).left+n}function BM(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-zy(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function OW(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ti(r),u=e?Fy(e.floating):!1;if(r===o||u&&i)return n;let h={scrollLeft:0,scrollTop:0},d=Bs(1);const m=Bs(0),g=Ys(r);if((g||!g&&!i)&&((Vc(r)!=="body"||Cf(o))&&(h=Uy(r)),Ys(r))){const k=Pl(r);d=lc(r),m.x=k.x+r.clientLeft,m.y=k.y+r.clientTop}const v=o&&!g&&!i?BM(o,h):Bs(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-h.scrollLeft*d.x+m.x+v.x,y:n.y*d.y-h.scrollTop*d.y+m.y+v.y}}function LW(t){return Array.from(t.getClientRects())}function jW(t){const e=ti(t),n=Uy(t),r=t.ownerDocument.body,s=gr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=gr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+zy(t);const u=-n.scrollTop;return cs(r).direction==="rtl"&&(o+=gr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:u}}const hC=25;function VW(t,e){const n=br(t),r=ti(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,u=0,h=0;if(s){i=s.width,o=s.height;const m=O1();(!m||m&&e==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}const d=zy(r);if(d<=0){const m=r.ownerDocument,g=m.body,v=getComputedStyle(g),k=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,T=Math.abs(r.clientWidth-g.clientWidth-k);T<=hC&&(i-=T)}else d<=hC&&(i+=d);return{width:i,height:o,x:u,y:h}}const FW=new Set(["absolute","fixed"]);function UW(t,e){const n=Pl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ys(t)?lc(t):Bs(1),o=t.clientWidth*i.x,u=t.clientHeight*i.y,h=s*i.x,d=r*i.y;return{width:o,height:u,x:h,y:d}}function dC(t,e,n){let r;if(e==="viewport")r=VW(t,n);else if(e==="document")r=jW(ti(t));else if(us(e))r=UW(e,n);else{const s=zM(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Fg(r)}function $M(t,e){const n=to(t);return n===e||!us(n)||_c(n)?!1:cs(n).position==="fixed"||$M(n,e)}function zW(t,e){const n=e.get(t);if(n)return n;let r=Xd(t,[],!1).filter(u=>us(u)&&Vc(u)!=="body"),s=null;const i=cs(t).position==="fixed";let o=i?to(t):t;for(;us(o)&&!_c(o);){const u=cs(o),h=A1(o);!h&&u.position==="fixed"&&(s=null),(i?!h&&!s:!h&&u.position==="static"&&s&&FW.has(s.position)||Cf(o)&&!h&&$M(t,o))?r=r.filter(d=>d!==o):s=u,o=to(o)}return e.set(t,r),r}function BW(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Fy(e)?[]:zW(e,this._c):[].concat(n),r],o=i[0],u=i.reduce((h,d)=>{const m=dC(e,d,s);return h.top=gr(m.top,h.top),h.right=eo(m.right,h.right),h.bottom=eo(m.bottom,h.bottom),h.left=gr(m.left,h.left),h},dC(e,o,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function $W(t){const{width:e,height:n}=UM(t);return{width:e,height:n}}function qW(t,e,n){const r=Ys(e),s=ti(e),i=n==="fixed",o=Pl(t,!0,i,e);let u={scrollLeft:0,scrollTop:0};const h=Bs(0);function d(){h.x=zy(s)}if(r||!r&&!i)if((Vc(e)!=="body"||Cf(s))&&(u=Uy(e)),r){const k=Pl(e,!0,i,e);h.x=k.x+e.clientLeft,h.y=k.y+e.clientTop}else s&&d();i&&!r&&s&&d();const m=s&&!r&&!i?BM(s,u):Bs(0),g=o.left+u.scrollLeft-h.x-m.x,v=o.top+u.scrollTop-h.y-m.y;return{x:g,y:v,width:o.width,height:o.height}}function ew(t){return cs(t).position==="static"}function fC(t,e){if(!Ys(t)||cs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ti(t)===n&&(n=n.ownerDocument.body),n}function qM(t,e){const n=br(t);if(Fy(t))return n;if(!Ys(t)){let s=to(t);for(;s&&!_c(s);){if(us(s)&&!ew(s))return s;s=to(s)}return n}let r=fC(t,e);for(;r&&TW(r)&&ew(r);)r=fC(r,e);return r&&_c(r)&&ew(r)&&!A1(r)?n:r||DW(t)||n}const KW=async function(t){const e=this.getOffsetParent||qM,n=this.getDimensions,r=await n(t.floating);return{reference:qW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function WW(t){return cs(t).direction==="rtl"}const HW={convertOffsetParentRelativeRectToViewportRelativeRect:OW,getDocumentElement:ti,getClippingRect:BW,getOffsetParent:qM,getElementRects:KW,getClientRects:LW,getDimensions:$W,getScale:lc,isElement:us,isRTL:WW};function KM(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function GW(t,e){let n=null,r;const s=ti(t);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function o(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),i();const d=t.getBoundingClientRect(),{left:m,top:g,width:v,height:k}=d;if(u||e(),!v||!k)return;const T=vm(g),_=vm(s.clientWidth-(m+v)),I=vm(s.clientHeight-(g+k)),N=vm(m),D={rootMargin:-T+"px "+-_+"px "+-I+"px "+-N+"px",threshold:gr(0,eo(1,h))||1};let O=!0;function U(B){const H=B[0].intersectionRatio;if(H!==h){if(!O)return o();H?o(!1,H):r=setTimeout(()=>{o(!1,1e-7)},1e3)}H===1&&!KM(d,t.getBoundingClientRect())&&o(),O=!1}try{n=new IntersectionObserver(U,{...D,root:s.ownerDocument})}catch{n=new IntersectionObserver(U,D)}n.observe(t)}return o(!0),i}function QW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,d=L1(t),m=s||i?[...d?Xd(d):[],...Xd(e)]:[];m.forEach(N=>{s&&N.addEventListener("scroll",n,{passive:!0}),i&&N.addEventListener("resize",n)});const g=d&&u?GW(d,n):null;let v=-1,k=null;o&&(k=new ResizeObserver(N=>{let[D]=N;D&&D.target===d&&k&&(k.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var O;(O=k)==null||O.observe(e)})),n()}),d&&!h&&k.observe(d),k.observe(e));let T,_=h?Pl(t):null;h&&I();function I(){const N=Pl(t);_&&!KM(_,N)&&n(),_=N,T=requestAnimationFrame(I)}return n(),()=>{var N;m.forEach(D=>{s&&D.removeEventListener("scroll",n),i&&D.removeEventListener("resize",n)}),g==null||g(),(N=k)==null||N.disconnect(),k=null,h&&cancelAnimationFrame(T)}}const XW=bW,YW=xW,JW=yW,ZW=kW,eH=vW,pC=gW,tH=EW,nH=(t,e,n)=>{const r=new Map,s={platform:HW,...n},i={...s.platform,_c:r};return mW(t,e,{...s,platform:i})};var rH=typeof document<"u",sH=function(){},Hm=rH?E.useLayoutEffect:sH;function Ug(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ug(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ug(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function WM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function mC(t,e){const n=WM(t);return Math.round(e*n)/n}function tw(t){const e=E.useRef(t);return Hm(()=>{e.current=t}),e}function iH(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:u=!0,whileElementsMounted:h,open:d}=t,[m,g]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,k]=E.useState(r);Ug(v,r)||k(r);const[T,_]=E.useState(null),[I,N]=E.useState(null),D=E.useCallback(G=>{G!==H.current&&(H.current=G,_(G))},[]),O=E.useCallback(G=>{G!==M.current&&(M.current=G,N(G))},[]),U=i||T,B=o||I,H=E.useRef(null),M=E.useRef(null),C=E.useRef(m),R=h!=null,j=tw(h),F=tw(s),$=tw(d),L=E.useCallback(()=>{if(!H.current||!M.current)return;const G={placement:e,strategy:n,middleware:v};F.current&&(G.platform=F.current),nH(H.current,M.current,G).then(ne=>{const ae={...ne,isPositioned:$.current!==!1};be.current&&!Ug(C.current,ae)&&(C.current=ae,E1.flushSync(()=>{g(ae)}))})},[v,e,n,F,$]);Hm(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,g(G=>({...G,isPositioned:!1})))},[d]);const be=E.useRef(!1);Hm(()=>(be.current=!0,()=>{be.current=!1}),[]),Hm(()=>{if(U&&(H.current=U),B&&(M.current=B),U&&B){if(j.current)return j.current(U,B,L);L()}},[U,B,L,j,R]);const Re=E.useMemo(()=>({reference:H,floating:M,setReference:D,setFloating:O}),[D,O]),ye=E.useMemo(()=>({reference:U,floating:B}),[U,B]),ve=E.useMemo(()=>{const G={position:n,left:0,top:0};if(!ye.floating)return G;const ne=mC(ye.floating,m.x),ae=mC(ye.floating,m.y);return u?{...G,transform:"translate("+ne+"px, "+ae+"px)",...WM(ye.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ae}},[n,u,ye.floating,m.x,m.y]);return E.useMemo(()=>({...m,update:L,refs:Re,elements:ye,floatingStyles:ve}),[m,L,Re,ye,ve])}const aH=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?pC({element:r.current,padding:s}).fn(n):{}:r?pC({element:r,padding:s}).fn(n):{}}}},oH=(t,e)=>({...XW(t),options:[t,e]}),lH=(t,e)=>({...YW(t),options:[t,e]}),uH=(t,e)=>({...tH(t),options:[t,e]}),cH=(t,e)=>({...JW(t),options:[t,e]}),hH=(t,e)=>({...ZW(t),options:[t,e]}),dH=(t,e)=>({...eH(t),options:[t,e]}),fH=(t,e)=>({...aH(t),options:[t,e]});var pH="Arrow",HM=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return x.jsx($n.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});HM.displayName=pH;var mH=HM;function gH(t){const[e,n]=E.useState(void 0);return Za(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,u;if("borderBoxSize"in i){const h=i.borderBoxSize,d=Array.isArray(h)?h[0]:h;o=d.inlineSize,u=d.blockSize}else o=t.offsetWidth,u=t.offsetHeight;n({width:o,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var j1="Popper",[GM,QM]=If(j1),[yH,XM]=GM(j1),YM=t=>{const{__scopePopper:e,children:n}=t,[r,s]=E.useState(null);return x.jsx(yH,{scope:e,anchor:r,onAnchorChange:s,children:n})};YM.displayName=j1;var JM="PopperAnchor",ZM=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=XM(JM,n),o=E.useRef(null),u=sr(e,o),h=E.useRef(null);return E.useEffect(()=>{const d=h.current;h.current=(r==null?void 0:r.current)||o.current,d!==h.current&&i.onAnchorChange(h.current)}),r?null:x.jsx($n.div,{...s,ref:u})});ZM.displayName=JM;var V1="PopperContent",[vH,wH]=GM(V1),eA=E.forwardRef((t,e)=>{var n,r,s,i,o,u;const{__scopePopper:h,side:d="bottom",sideOffset:m=0,align:g="center",alignOffset:v=0,arrowPadding:k=0,avoidCollisions:T=!0,collisionBoundary:_=[],collisionPadding:I=0,sticky:N="partial",hideWhenDetached:D=!1,updatePositionStrategy:O="optimized",onPlaced:U,...B}=t,H=XM(V1,h),[M,C]=E.useState(null),R=sr(e,Kn=>C(Kn)),[j,F]=E.useState(null),$=gH(j),L=($==null?void 0:$.width)??0,be=($==null?void 0:$.height)??0,Re=d+(g!=="center"?"-"+g:""),ye=typeof I=="number"?I:{top:0,right:0,bottom:0,left:0,...I},ve=Array.isArray(_)?_:[_],G=ve.length>0,ne={padding:ye,boundary:ve.filter(xH),altBoundary:G},{refs:ae,floatingStyles:W,placement:re,isPositioned:pe,middlewareData:me}=iH({strategy:"fixed",placement:Re,whileElementsMounted:(...Kn)=>QW(...Kn,{animationFrame:O==="always"}),elements:{reference:H.anchor},middleware:[oH({mainAxis:m+be,alignmentAxis:v}),T&&lH({mainAxis:!0,crossAxis:!1,limiter:N==="partial"?uH():void 0,...ne}),T&&cH({...ne}),hH({...ne,apply:({elements:Kn,rects:Hi,availableWidth:Ul,availableHeight:Gi})=>{const{width:ni,height:uo}=Hi.reference,ft=Kn.floating.style;ft.setProperty("--radix-popper-available-width",`${Ul}px`),ft.setProperty("--radix-popper-available-height",`${Gi}px`),ft.setProperty("--radix-popper-anchor-width",`${ni}px`),ft.setProperty("--radix-popper-anchor-height",`${uo}px`)}}),j&&fH({element:j,padding:k}),EH({arrowWidth:L,arrowHeight:be}),D&&dH({strategy:"referenceHidden",...ne})]}),[Me,ze]=rA(re),Ce=Li(U);Za(()=>{pe&&(Ce==null||Ce())},[pe,Ce]);const $e=(n=me.arrow)==null?void 0:n.x,Ue=(r=me.arrow)==null?void 0:r.y,dt=((s=me.arrow)==null?void 0:s.centerOffset)!==0,[Er,kr]=E.useState();return Za(()=>{M&&kr(window.getComputedStyle(M).zIndex)},[M]),x.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:pe?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Er,"--radix-popper-transform-origin":[(i=me.transformOrigin)==null?void 0:i.x,(o=me.transformOrigin)==null?void 0:o.y].join(" "),...((u=me.hide)==null?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(vH,{scope:h,placedSide:Me,onArrowChange:F,arrowX:$e,arrowY:Ue,shouldHideArrow:dt,children:x.jsx($n.div,{"data-side":Me,"data-align":ze,...B,ref:R,style:{...B.style,animation:pe?void 0:"none"}})})})});eA.displayName=V1;var tA="PopperArrow",bH={top:"bottom",right:"left",bottom:"top",left:"right"},nA=E.forwardRef(function(t,e){const{__scopePopper:n,...r}=t,s=wH(tA,n),i=bH[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(mH,{...r,ref:e,style:{...r.style,display:"block"}})})});nA.displayName=tA;function xH(t){return t!==null}var EH=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s;const{placement:i,rects:o,middlewareData:u}=e,h=((n=u.arrow)==null?void 0:n.centerOffset)!==0,d=h?0:t.arrowWidth,m=h?0:t.arrowHeight,[g,v]=rA(i),k={start:"0%",center:"50%",end:"100%"}[v],T=(((r=u.arrow)==null?void 0:r.x)??0)+d/2,_=(((s=u.arrow)==null?void 0:s.y)??0)+m/2;let I="",N="";return g==="bottom"?(I=h?k:`${T}px`,N=`${-m}px`):g==="top"?(I=h?k:`${T}px`,N=`${o.floating.height+m}px`):g==="right"?(I=`${-m}px`,N=h?k:`${_}px`):g==="left"&&(I=`${o.floating.width+m}px`,N=h?k:`${_}px`),{data:{x:I,y:N}}}});function rA(t){const[e,n="center"]=t.split("-");return[e,n]}var kH=YM,SH=ZM,_H=eA,TH=nA,IH="Portal",sA=E.forwardRef((t,e)=>{var n;const{container:r,...s}=t,[i,o]=E.useState(!1);Za(()=>o(!0),[]);const u=r||i&&((n=globalThis==null?void 0:globalThis.document)==null?void 0:n.body);return u?LB.createPortal(x.jsx($n.div,{...s,ref:e}),u):null});sA.displayName=IH;function CH(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var Pf=t=>{const{present:e,children:n}=t,r=PH(e),s=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),i=sr(r.ref,NH(s));return typeof n=="function"||r.isPresent?E.cloneElement(s,{ref:i}):null};Pf.displayName="Presence";function PH(t){const[e,n]=E.useState(),r=E.useRef(null),s=E.useRef(t),i=E.useRef("none"),o=t?"mounted":"unmounted",[u,h]=CH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const d=wm(r.current);i.current=u==="mounted"?d:"none"},[u]),Za(()=>{const d=r.current,m=s.current;if(m!==t){const g=i.current,v=wm(d);t?h("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?h("UNMOUNT"):h(m&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,h]),Za(()=>{if(e){let d;const m=e.ownerDocument.defaultView??window,g=k=>{const T=wm(r.current).includes(CSS.escape(k.animationName));if(k.target===e&&T&&(h("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},v=k=>{k.target===e&&(i.current=wm(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:E.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function wm(t){return(t==null?void 0:t.animationName)||"none"}function NH(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var nw="rovingFocusGroup.onEntryFocus",DH={bubbles:!1,cancelable:!0},Nf="RovingFocusGroup",[_b,iA,RH]=PM(Nf),[MH,aA]=If(Nf,[RH]),[AH,OH]=MH(Nf),oA=E.forwardRef((t,e)=>x.jsx(_b.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(_b.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(LH,{...t,ref:e})})}));oA.displayName=Nf;var LH=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...g}=t,v=E.useRef(null),k=sr(e,v),T=NM(i),[_,I]=IM({prop:o,defaultProp:u??null,onChange:h,caller:Nf}),[N,D]=E.useState(!1),O=Li(d),U=iA(n),B=E.useRef(!1),[H,M]=E.useState(0);return E.useEffect(()=>{const C=v.current;if(C)return C.addEventListener(nw,O),()=>C.removeEventListener(nw,O)},[O]),x.jsx(AH,{scope:n,orientation:r,dir:T,loop:s,currentTabStopId:_,onItemFocus:E.useCallback(C=>I(C),[I]),onItemShiftTab:E.useCallback(()=>D(!0),[]),onFocusableItemAdd:E.useCallback(()=>M(C=>C+1),[]),onFocusableItemRemove:E.useCallback(()=>M(C=>C-1),[]),children:x.jsx($n.div,{tabIndex:N||H===0?-1:0,"data-orientation":r,...g,ref:k,style:{outline:"none",...t.style},onMouseDown:et(t.onMouseDown,()=>{B.current=!0}),onFocus:et(t.onFocus,C=>{const R=!B.current;if(C.target===C.currentTarget&&R&&!N){const j=new CustomEvent(nw,DH);if(C.currentTarget.dispatchEvent(j),!j.defaultPrevented){const F=U().filter(Re=>Re.focusable),$=F.find(Re=>Re.active),L=F.find(Re=>Re.id===_),be=[$,L,...F].filter(Boolean).map(Re=>Re.ref.current);cA(be,m)}}B.current=!1}),onBlur:et(t.onBlur,()=>D(!1))})})}),lA="RovingFocusGroupItem",uA=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...u}=t,h=xb(),d=i||h,m=OH(lA,n),g=m.currentTabStopId===d,v=iA(n),{onFocusableItemAdd:k,onFocusableItemRemove:T,currentTabStopId:_}=m;return E.useEffect(()=>{if(r)return k(),()=>T()},[r,k,T]),x.jsx(_b.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:x.jsx($n.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:et(t.onMouseDown,I=>{r?m.onItemFocus(d):I.preventDefault()}),onFocus:et(t.onFocus,()=>m.onItemFocus(d)),onKeyDown:et(t.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){m.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const N=FH(I,m.orientation,m.dir);if(N!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let D=v().filter(O=>O.focusable).map(O=>O.ref.current);if(N==="last")D.reverse();else if(N==="prev"||N==="next"){N==="prev"&&D.reverse();const O=D.indexOf(I.currentTarget);D=m.loop?UH(D,O+1):D.slice(O+1)}setTimeout(()=>cA(D))}}),children:typeof o=="function"?o({isCurrentTabStop:g,hasTabStop:_!=null}):o})})});uA.displayName=lA;var jH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function FH(t,e,n){const r=VH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return jH[r]}function cA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function UH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var zH=oA,BH=uA;function $H(t){const e=qH(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,u=E.Children.toArray(i),h=u.find(WH);if(h){const d=h.props.children,m=u.map(g=>g===h?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function qH(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=GH(s),u=HH(i,s.props);return s.type!==E.Fragment&&(u.ref=r?jl(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var KH=Symbol("radix.slottable");function WH(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===KH}function HH(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function GH(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var QH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Bu=new WeakMap,bm=new WeakMap,xm={},rw=0,hA=function(t){return t&&(t.host||hA(t.parentNode))},XH=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=hA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},YH=function(t,e,n,r){var s=XH(e,Array.isArray(t)?t:[t]);xm[n]||(xm[n]=new WeakMap);var i=xm[n],o=[],u=new Set,h=new Set(s),d=function(g){!g||u.has(g)||(u.add(g),d(g.parentNode))};s.forEach(d);var m=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))m(v);else try{var k=v.getAttribute(r),T=k!==null&&k!=="false",_=(Bu.get(v)||0)+1,I=(i.get(v)||0)+1;Bu.set(v,_),i.set(v,I),o.push(v),_===1&&T&&bm.set(v,!0),I===1&&v.setAttribute(n,"true"),T||v.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",v,N)}})};return m(e),u.clear(),rw++,function(){o.forEach(function(g){var v=Bu.get(g)-1,k=i.get(g)-1;Bu.set(g,v),i.set(g,k),v||(bm.has(g)||g.removeAttribute(r),bm.delete(g)),k||g.removeAttribute(n)}),rw--,rw||(Bu=new WeakMap,Bu=new WeakMap,bm=new WeakMap,xm={})}},JH=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=QH(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),YH(r,s,n,"aria-hidden")):function(){return null}},Ms=function(){return Ms=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ms.apply(this,arguments)};function dA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ZH(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Gm="right-scroll-bar-position",Qm="width-before-scroll-bar",eG="with-scroll-bars-hidden",tG="--removed-body-scroll-bar-size";function sw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function nG(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var rG=typeof window<"u"?E.useLayoutEffect:E.useEffect,gC=new WeakMap;function sG(t,e){var n=nG(null,function(r){return t.forEach(function(s){return sw(s,r)})});return rG(function(){var r=gC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(u){i.has(u)||sw(u,null)}),i.forEach(function(u){s.has(u)||sw(u,o)})}gC.set(n,t)},[t]),n}function iG(t){return t}function aG(t,e){e===void 0&&(e=iG);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(u){return u!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var u=n;n=[],u.forEach(i),o=n}var h=function(){var m=o;o=[],m.forEach(i)},d=function(){return Promise.resolve().then(h)};d(),n={push:function(m){o.push(m),d()},filter:function(m){return o=o.filter(m),n}}}};return s}function oG(t){t===void 0&&(t={});var e=aG(null);return e.options=Ms({async:!0,ssr:!1},t),e}var fA=function(t){var e=t.sideCar,n=dA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Ms({},n))};fA.isSideCarExport=!0;function lG(t,e){return t.useMedium(e),fA}var pA=oG(),iw=function(){},By=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:iw,onWheelCapture:iw,onTouchMoveCapture:iw}),s=r[0],i=r[1],o=t.forwardProps,u=t.children,h=t.className,d=t.removeScrollBar,m=t.enabled,g=t.shards,v=t.sideCar,k=t.noRelative,T=t.noIsolation,_=t.inert,I=t.allowPinchZoom,N=t.as,D=N===void 0?"div":N,O=t.gapMode,U=dA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=v,H=sG([n,e]),M=Ms(Ms({},U),s);return E.createElement(E.Fragment,null,m&&E.createElement(B,{sideCar:pA,removeScrollBar:d,shards:g,noRelative:k,noIsolation:T,inert:_,setCallbacks:i,allowPinchZoom:!!I,lockRef:n,gapMode:O}),o?E.cloneElement(E.Children.only(u),Ms(Ms({},M),{ref:H})):E.createElement(D,Ms({},M,{className:h,ref:H}),u))});By.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};By.classNames={fullWidth:Qm,zeroRight:Gm};var uG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cG(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=uG();return e&&t.setAttribute("nonce",e),t}function hG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function dG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var fG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=cG())&&(hG(e,n),dG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},pG=function(){var t=fG();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},mA=function(){var t=pG(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},mG={left:0,top:0,right:0,gap:0},aw=function(t){return parseInt(t||"",10)||0},gG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[aw(n),aw(r),aw(s)]},yG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return mG;var e=gG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},vG=mA(),uc="data-scroll-locked",wG=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(eG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(uc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gm,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Qm,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Gm," .").concat(Gm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qm," .").concat(Qm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(uc,`] {
    `).concat(tG,": ").concat(u,`px;
  }
`)},yC=function(){var t=parseInt(document.body.getAttribute(uc)||"0",10);return isFinite(t)?t:0},bG=function(){E.useEffect(function(){return document.body.setAttribute(uc,(yC()+1).toString()),function(){var t=yC()-1;t<=0?document.body.removeAttribute(uc):document.body.setAttribute(uc,t.toString())}},[])},xG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;bG();var i=E.useMemo(function(){return yG(s)},[s]);return E.createElement(vG,{styles:wG(i,!e,s,n?"":"!important")})},Tb=!1;if(typeof window<"u")try{var Em=Object.defineProperty({},"passive",{get:function(){return Tb=!0,!0}});window.addEventListener("test",Em,Em),window.removeEventListener("test",Em,Em)}catch{Tb=!1}var $u=Tb?{passive:!1}:!1,EG=function(t){return t.tagName==="TEXTAREA"},gA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!EG(t)&&n[e]==="visible")},kG=function(t){return gA(t,"overflowY")},SG=function(t){return gA(t,"overflowX")},vC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=yA(t,r);if(s){var i=vA(t,r),o=i[1],u=i[2];if(o>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_G=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},TG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},yA=function(t,e){return t==="v"?kG(e):SG(e)},vA=function(t,e){return t==="v"?_G(e):TG(e)},IG=function(t,e){return t==="h"&&e==="rtl"?-1:1},CG=function(t,e,n,r,s){var i=IG(t,window.getComputedStyle(e).direction),o=i*r,u=n.target,h=e.contains(u),d=!1,m=o>0,g=0,v=0;do{if(!u)break;var k=vA(t,u),T=k[0],_=k[1],I=k[2],N=_-I-i*T;(T||N)&&yA(t,u)&&(g+=N,v+=T);var D=u.parentNode;u=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(m&&Math.abs(g)<1||!m&&Math.abs(v)<1)&&(d=!0),d},km=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},wC=function(t){return[t.deltaX,t.deltaY]},bC=function(t){return t&&"current"in t?t.current:t},PG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},NG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},DG=0,qu=[];function RG(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),s=E.useState(DG++)[0],i=E.useState(mA)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var _=ZH([t.lockRef.current],(t.shards||[]).map(bC)).filter(Boolean);return _.forEach(function(I){return I.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=E.useCallback(function(_,I){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var N=km(_),D=n.current,O="deltaX"in _?_.deltaX:D[0]-N[0],U="deltaY"in _?_.deltaY:D[1]-N[1],B,H=_.target,M=Math.abs(O)>Math.abs(U)?"h":"v";if("touches"in _&&M==="h"&&H.type==="range")return!1;var C=vC(M,H);if(!C)return!0;if(C?B=M:(B=M==="v"?"h":"v",C=vC(M,H)),!C)return!1;if(!r.current&&"changedTouches"in _&&(O||U)&&(r.current=B),!B)return!0;var R=r.current||B;return CG(R,I,_,R==="h"?O:U)},[]),h=E.useCallback(function(_){var I=_;if(!(!qu.length||qu[qu.length-1]!==i)){var N="deltaY"in I?wC(I):km(I),D=e.current.filter(function(B){return B.name===I.type&&(B.target===I.target||I.target===B.shadowParent)&&PG(B.delta,N)})[0];if(D&&D.should){I.cancelable&&I.preventDefault();return}if(!D){var O=(o.current.shards||[]).map(bC).filter(Boolean).filter(function(B){return B.contains(I.target)}),U=O.length>0?u(I,O[0]):!o.current.noIsolation;U&&I.cancelable&&I.preventDefault()}}},[]),d=E.useCallback(function(_,I,N,D){var O={name:_,delta:I,target:N,should:D,shadowParent:MG(N)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(U){return U!==O})},1)},[]),m=E.useCallback(function(_){n.current=km(_),r.current=void 0},[]),g=E.useCallback(function(_){d(_.type,wC(_),_.target,u(_,t.lockRef.current))},[]),v=E.useCallback(function(_){d(_.type,km(_),_.target,u(_,t.lockRef.current))},[]);E.useEffect(function(){return qu.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",h,$u),document.addEventListener("touchmove",h,$u),document.addEventListener("touchstart",m,$u),function(){qu=qu.filter(function(_){return _!==i}),document.removeEventListener("wheel",h,$u),document.removeEventListener("touchmove",h,$u),document.removeEventListener("touchstart",m,$u)}},[]);var k=t.removeScrollBar,T=t.inert;return E.createElement(E.Fragment,null,T?E.createElement(i,{styles:NG(s)}):null,k?E.createElement(xG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function MG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const AG=lG(pA,RG);var wA=E.forwardRef(function(t,e){return E.createElement(By,Ms({},t,{ref:e,sideCar:AG}))});wA.classNames=By.classNames;var Ib=["Enter"," "],OG=["ArrowDown","PageUp","Home"],bA=["ArrowUp","PageDown","End"],LG=[...OG,...bA],jG={ltr:[...Ib,"ArrowRight"],rtl:[...Ib,"ArrowLeft"]},VG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Df="Menu",[Yd,FG,UG]=PM(Df),[Vl,xA]=If(Df,[UG,QM,aA]),$y=QM(),EA=aA(),[zG,Fl]=Vl(Df),[BG,Rf]=Vl(Df),kA=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,u=$y(e),[h,d]=E.useState(null),m=E.useRef(!1),g=Li(i),v=NM(s);return E.useEffect(()=>{const k=()=>{m.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>m.current=!1;return document.addEventListener("keydown",k,{capture:!0}),()=>{document.removeEventListener("keydown",k,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),x.jsx(kH,{...u,children:x.jsx(zG,{scope:e,open:n,onOpenChange:g,content:h,onContentChange:d,children:x.jsx(BG,{scope:e,onClose:E.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:v,modal:o,children:r})})})};kA.displayName=Df;var $G="MenuAnchor",F1=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=$y(n);return x.jsx(SH,{...s,...r,ref:e})});F1.displayName=$G;var U1="MenuPortal",[qG,SA]=Vl(U1,{forceMount:void 0}),_A=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Fl(U1,e);return x.jsx(qG,{scope:e,forceMount:n,children:x.jsx(Pf,{present:n||i.open,children:x.jsx(sA,{asChild:!0,container:s,children:r})})})};_A.displayName=U1;var Fr="MenuContent",[KG,z1]=Vl(Fr),TA=E.forwardRef((t,e)=>{const n=SA(Fr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Fl(Fr,t.__scopeMenu),o=Rf(Fr,t.__scopeMenu);return x.jsx(Yd.Provider,{scope:t.__scopeMenu,children:x.jsx(Pf,{present:r||i.open,children:x.jsx(Yd.Slot,{scope:t.__scopeMenu,children:o.modal?x.jsx(WG,{...s,ref:e}):x.jsx(HG,{...s,ref:e})})})})}),WG=E.forwardRef((t,e)=>{const n=Fl(Fr,t.__scopeMenu),r=E.useRef(null),s=sr(e,r);return E.useEffect(()=>{const i=r.current;if(i)return JH(i)},[]),x.jsx(B1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),HG=E.forwardRef((t,e)=>{const n=Fl(Fr,t.__scopeMenu);return x.jsx(B1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),GG=$H("MenuContent.ScrollLock"),B1=E.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:k,disableOutsideScroll:T,..._}=t,I=Fl(Fr,n),N=Rf(Fr,n),D=$y(n),O=EA(n),U=FG(n),[B,H]=E.useState(null),M=E.useRef(null),C=sr(e,M,I.onContentChange),R=E.useRef(0),j=E.useRef(""),F=E.useRef(0),$=E.useRef(null),L=E.useRef("right"),be=E.useRef(0),Re=T?wA:E.Fragment,ye=T?{as:GG,allowPinchZoom:!0}:void 0,ve=ne=>{var ae,W;const re=j.current+ne,pe=U().filter(Ue=>!Ue.disabled),me=document.activeElement,Me=(ae=pe.find(Ue=>Ue.ref.current===me))==null?void 0:ae.textValue,ze=pe.map(Ue=>Ue.textValue),Ce=aQ(ze,re,Me),$e=(W=pe.find(Ue=>Ue.textValue===Ce))==null?void 0:W.ref.current;(function Ue(dt){j.current=dt,window.clearTimeout(R.current),dt!==""&&(R.current=window.setTimeout(()=>Ue(""),1e3))})(re),$e&&setTimeout(()=>$e.focus())};E.useEffect(()=>()=>window.clearTimeout(R.current),[]),GK();const G=E.useCallback(ne=>{var ae,W;return L.current===((ae=$.current)==null?void 0:ae.side)&&lQ(ne,(W=$.current)==null?void 0:W.area)},[]);return x.jsx(KG,{scope:n,searchRef:j,onItemEnter:E.useCallback(ne=>{G(ne)&&ne.preventDefault()},[G]),onItemLeave:E.useCallback(ne=>{var ae;G(ne)||((ae=M.current)==null||ae.focus(),H(null))},[G]),onTriggerLeave:E.useCallback(ne=>{G(ne)&&ne.preventDefault()},[G]),pointerGraceTimerRef:F,onPointerGraceIntentChange:E.useCallback(ne=>{$.current=ne},[]),children:x.jsx(Re,{...ye,children:x.jsx(AM,{asChild:!0,trapped:s,onMountAutoFocus:et(i,ne=>{var ae;ne.preventDefault(),(ae=M.current)==null||ae.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:x.jsx(RM,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:k,children:x.jsx(zH,{asChild:!0,...O,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:B,onCurrentTabStopIdChange:H,onEntryFocus:et(h,ne=>{N.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(_H,{role:"menu","aria-orientation":"vertical","data-state":BA(I.open),"data-radix-menu-content":"",dir:N.dir,...D,..._,ref:C,style:{outline:"none",..._.style},onKeyDown:et(_.onKeyDown,ne=>{const ae=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,W=ne.ctrlKey||ne.altKey||ne.metaKey,re=ne.key.length===1;ae&&(ne.key==="Tab"&&ne.preventDefault(),!W&&re&&ve(ne.key));const pe=M.current;if(ne.target!==pe||!LG.includes(ne.key))return;ne.preventDefault();const me=U().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);bA.includes(ne.key)&&me.reverse(),sQ(me)}),onBlur:et(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(R.current),j.current="")}),onPointerMove:et(t.onPointerMove,Jd(ne=>{const ae=ne.target,W=be.current!==ne.clientX;if(ne.currentTarget.contains(ae)&&W){const re=ne.clientX>be.current?"right":"left";L.current=re,be.current=ne.clientX}}))})})})})})})});TA.displayName=Fr;var QG="MenuGroup",$1=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx($n.div,{role:"group",...r,ref:e})});$1.displayName=QG;var XG="MenuLabel",IA=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx($n.div,{...r,ref:e})});IA.displayName=XG;var zg="MenuItem",xC="menu.itemSelect",qy=E.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=E.useRef(null),o=Rf(zg,t.__scopeMenu),u=z1(zg,t.__scopeMenu),h=sr(e,i),d=E.useRef(!1),m=()=>{const g=i.current;if(!n&&g){const v=new CustomEvent(xC,{bubbles:!0,cancelable:!0});g.addEventListener(xC,k=>r==null?void 0:r(k),{once:!0}),CM(g,v),v.defaultPrevented?d.current=!1:o.onClose()}};return x.jsx(CA,{...s,ref:h,disabled:n,onClick:et(t.onClick,m),onPointerDown:g=>{var v;(v=t.onPointerDown)==null||v.call(t,g),d.current=!0},onPointerUp:et(t.onPointerUp,g=>{var v;d.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:et(t.onKeyDown,g=>{const v=u.searchRef.current!=="";n||v&&g.key===" "||Ib.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});qy.displayName=zg;var CA=E.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=z1(zg,n),u=EA(n),h=E.useRef(null),d=sr(e,h),[m,g]=E.useState(!1),[v,k]=E.useState("");return E.useEffect(()=>{const T=h.current;T&&k((T.textContent??"").trim())},[i.children]),x.jsx(Yd.ItemSlot,{scope:n,disabled:r,textValue:s??v,children:x.jsx(BH,{asChild:!0,...u,focusable:!r,children:x.jsx($n.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:et(t.onPointerMove,Jd(T=>{r?o.onItemLeave(T):(o.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(t.onPointerLeave,Jd(T=>o.onItemLeave(T))),onFocus:et(t.onFocus,()=>g(!0)),onBlur:et(t.onBlur,()=>g(!1))})})})}),YG="MenuCheckboxItem",PA=E.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return x.jsx(AA,{scope:t.__scopeMenu,checked:n,children:x.jsx(qy,{role:"menuitemcheckbox","aria-checked":Bg(n)?"mixed":n,...s,ref:e,"data-state":K1(n),onSelect:et(s.onSelect,()=>r==null?void 0:r(Bg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});PA.displayName=YG;var NA="MenuRadioGroup",[JG,ZG]=Vl(NA,{value:void 0,onValueChange:()=>{}}),DA=E.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Li(r);return x.jsx(JG,{scope:t.__scopeMenu,value:n,onValueChange:i,children:x.jsx($1,{...s,ref:e})})});DA.displayName=NA;var RA="MenuRadioItem",MA=E.forwardRef((t,e)=>{const{value:n,...r}=t,s=ZG(RA,t.__scopeMenu),i=n===s.value;return x.jsx(AA,{scope:t.__scopeMenu,checked:i,children:x.jsx(qy,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":K1(i),onSelect:et(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});MA.displayName=RA;var q1="MenuItemIndicator",[AA,eQ]=Vl(q1,{checked:!1}),OA=E.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=eQ(q1,n);return x.jsx(Pf,{present:r||Bg(i.checked)||i.checked===!0,children:x.jsx($n.span,{...s,ref:e,"data-state":K1(i.checked)})})});OA.displayName=q1;var tQ="MenuSeparator",LA=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx($n.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});LA.displayName=tQ;var nQ="MenuArrow",jA=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=$y(n);return x.jsx(TH,{...s,...r,ref:e})});jA.displayName=nQ;var rQ="MenuSub",[kne,VA]=Vl(rQ),hd="MenuSubTrigger",FA=E.forwardRef((t,e)=>{const n=Fl(hd,t.__scopeMenu),r=Rf(hd,t.__scopeMenu),s=VA(hd,t.__scopeMenu),i=z1(hd,t.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=i,d={__scopeMenu:t.__scopeMenu},m=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>m,[m]),E.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),h(null)}},[u,h]),x.jsx(F1,{asChild:!0,...d,children:x.jsx(CA,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":BA(n.open),...t,ref:jl(e,s.onTriggerChange),onClick:g=>{var v;(v=t.onClick)==null||v.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(t.onPointerMove,Jd(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:et(t.onPointerLeave,Jd(g=>{var v,k;m();const T=(v=n.content)==null?void 0:v.getBoundingClientRect();if(T){const _=(k=n.content)==null?void 0:k.dataset.side,I=_==="right",N=I?-5:5,D=T[I?"left":"right"],O=T[I?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+N,y:g.clientY},{x:D,y:T.top},{x:O,y:T.top},{x:O,y:T.bottom},{x:D,y:T.bottom}],side:_}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(t.onKeyDown,g=>{var v;const k=i.searchRef.current!=="";t.disabled||k&&g.key===" "||jG[r.dir].includes(g.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),g.preventDefault())})})})});FA.displayName=hd;var UA="MenuSubContent",zA=E.forwardRef((t,e)=>{const n=SA(Fr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Fl(Fr,t.__scopeMenu),o=Rf(Fr,t.__scopeMenu),u=VA(UA,t.__scopeMenu),h=E.useRef(null),d=sr(e,h);return x.jsx(Yd.Provider,{scope:t.__scopeMenu,children:x.jsx(Pf,{present:r||i.open,children:x.jsx(Yd.Slot,{scope:t.__scopeMenu,children:x.jsx(B1,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var g;o.isUsingKeyboardRef.current&&((g=h.current)==null||g.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:et(t.onFocusOutside,m=>{m.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(t.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:et(t.onKeyDown,m=>{var g;const v=m.currentTarget.contains(m.target),k=VG[o.dir].includes(m.key);v&&k&&(i.onOpenChange(!1),(g=u.trigger)==null||g.focus(),m.preventDefault())})})})})})});zA.displayName=UA;function BA(t){return t?"open":"closed"}function Bg(t){return t==="indeterminate"}function K1(t){return Bg(t)?"indeterminate":t?"checked":"unchecked"}function sQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function iQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function aQ(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=iQ(t,Math.max(s,0));r.length===1&&(i=i.filter(u=>u!==n));const o=i.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return o!==n?o:void 0}function oQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const u=e[i],h=e[o],d=u.x,m=u.y,g=h.x,v=h.y;m>r!=v>r&&n<(g-d)*(r-m)/(v-m)+d&&(s=!s)}return s}function lQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return oQ(n,e)}function Jd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var uQ=kA,cQ=F1,hQ=_A,dQ=TA,fQ=$1,pQ=IA,mQ=qy,gQ=PA,yQ=DA,vQ=MA,wQ=OA,bQ=LA,xQ=jA,EQ=FA,kQ=zA,Ky="DropdownMenu",[SQ]=If(Ky,[xA]),qn=xA(),[_Q,$A]=SQ(Ky),qA=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:u=!0}=t,h=qn(e),d=E.useRef(null),[m,g]=IM({prop:s,defaultProp:i??!1,onChange:o,caller:Ky});return x.jsx(_Q,{scope:e,triggerId:xb(),triggerRef:d,contentId:xb(),open:m,onOpenChange:g,onOpenToggle:E.useCallback(()=>g(v=>!v),[g]),modal:u,children:x.jsx(uQ,{...h,open:m,onOpenChange:g,dir:r,modal:u,children:n})})};qA.displayName=Ky;var KA="DropdownMenuTrigger",WA=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=$A(KA,n),o=qn(n);return x.jsx(cQ,{asChild:!0,...o,children:x.jsx($n.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:jl(e,i.triggerRef),onPointerDown:et(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:et(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});WA.displayName=KA;var TQ="DropdownMenuPortal",HA=t=>{const{__scopeDropdownMenu:e,...n}=t,r=qn(e);return x.jsx(hQ,{...r,...n})};HA.displayName=TQ;var GA="DropdownMenuContent",QA=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$A(GA,n),i=qn(n),o=E.useRef(!1);return x.jsx(dQ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:et(t.onCloseAutoFocus,u=>{var h;o.current||(h=s.triggerRef.current)==null||h.focus(),o.current=!1,u.preventDefault()}),onInteractOutside:et(t.onInteractOutside,u=>{const h=u.detail.originalEvent,d=h.button===0&&h.ctrlKey===!0,m=h.button===2||d;(!s.modal||m)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});QA.displayName=GA;var IQ="DropdownMenuGroup",CQ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(fQ,{...s,...r,ref:e})});CQ.displayName=IQ;var PQ="DropdownMenuLabel",XA=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(pQ,{...s,...r,ref:e})});XA.displayName=PQ;var NQ="DropdownMenuItem",YA=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(mQ,{...s,...r,ref:e})});YA.displayName=NQ;var DQ="DropdownMenuCheckboxItem",JA=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(gQ,{...s,...r,ref:e})});JA.displayName=DQ;var RQ="DropdownMenuRadioGroup",MQ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(yQ,{...s,...r,ref:e})});MQ.displayName=RQ;var AQ="DropdownMenuRadioItem",ZA=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(vQ,{...s,...r,ref:e})});ZA.displayName=AQ;var OQ="DropdownMenuItemIndicator",eO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(wQ,{...s,...r,ref:e})});eO.displayName=OQ;var LQ="DropdownMenuSeparator",tO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(bQ,{...s,...r,ref:e})});tO.displayName=LQ;var jQ="DropdownMenuArrow",VQ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(xQ,{...s,...r,ref:e})});VQ.displayName=jQ;var FQ="DropdownMenuSubTrigger",nO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(EQ,{...s,...r,ref:e})});nO.displayName=FQ;var UQ="DropdownMenuSubContent",rO=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(kQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rO.displayName=UQ;var zQ=qA,BQ=WA,$Q=HA,sO=QA,iO=XA,aO=YA,oO=JA,lO=ZA,uO=eO,cO=tO,hO=nO,dO=rO;const qQ=zQ,KQ=BQ,WQ=E.forwardRef(({className:t,inset:e,children:n,...r},s)=>x.jsxs(hO,{ref:s,className:vt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,x.jsx(A$,{className:"ml-auto"})]}));WQ.displayName=hO.displayName;const HQ=E.forwardRef(({className:t,...e},n)=>x.jsx(dO,{ref:n,className:vt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));HQ.displayName=dO.displayName;const fO=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx($Q,{children:x.jsx(sO,{ref:r,sideOffset:e,className:vt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));fO.displayName=sO.displayName;const Yo=E.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(aO,{ref:r,className:vt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Yo.displayName=aO.displayName;const GQ=E.forwardRef(({className:t,children:e,checked:n,...r},s)=>x.jsxs(oO,{ref:s,className:vt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(uO,{children:x.jsx(R$,{className:"h-4 w-4"})})}),e]}));GQ.displayName=oO.displayName;const QQ=E.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(lO,{ref:r,className:vt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(uO,{children:x.jsx(U$,{className:"h-2 w-2 fill-current"})})}),e]}));QQ.displayName=lO.displayName;const XQ=E.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(iO,{ref:r,className:vt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));XQ.displayName=iO.displayName;const pO=E.forwardRef(({className:t,...e},n)=>x.jsx(cO,{ref:n,className:vt("-mx-1 my-1 h-px bg-muted",t),...e}));pO.displayName=cO.displayName;function hs(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Nl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const mO=6048e5,YQ=864e5;let JQ={};function Wy(){return JQ}function Zd(t,e){var n,r,s,i;const o=Wy(),u=(e==null?void 0:e.weekStartsOn)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.weekStartsOn)??o.weekStartsOn??((i=(s=o.locale)==null?void 0:s.options)==null?void 0:i.weekStartsOn)??0,h=hs(t),d=h.getDay(),m=(d<u?7:0)+d-u;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function $g(t){return Zd(t,{weekStartsOn:1})}function gO(t){const e=hs(t),n=e.getFullYear(),r=Nl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=$g(r),i=Nl(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=$g(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Cb(t){const e=hs(t);return e.setHours(0,0,0,0),e}function EC(t){const e=hs(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ZQ(t,e){const n=Cb(t),r=Cb(e),s=+n-EC(n),i=+r-EC(r);return Math.round((s-i)/YQ)}function eX(t){const e=gO(t),n=Nl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),$g(n)}function tX(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function nX(t){if(!tX(t)&&typeof t!="number")return!1;const e=hs(t);return!isNaN(Number(e))}function rX(t){const e=hs(t),n=Nl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const sX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iX=(t,e,n)=>{let r;const s=sX[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ow(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const aX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uX={date:ow({formats:aX,defaultWidth:"full"}),time:ow({formats:oX,defaultWidth:"full"}),dateTime:ow({formats:lX,defaultWidth:"full"})},cX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hX=(t,e,n,r)=>cX[t];function td(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):o;s=t.formattingValues[u]||t.formattingValues[o]}else{const o=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[u]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const dX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vX=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wX={ordinalNumber:vX,era:td({values:dX,defaultWidth:"wide"}),quarter:td({values:fX,defaultWidth:"wide",argumentCallback:t=>t-1}),month:td({values:pX,defaultWidth:"wide"}),day:td({values:mX,defaultWidth:"wide"}),dayPeriod:td({values:gX,defaultWidth:"wide",formattingValues:yX,defaultFormattingWidth:"wide"})};function nd(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(u)?xX(u,g=>g.test(o)):bX(u,g=>g.test(o));let d;d=t.valueCallback?t.valueCallback(h):h,d=n.valueCallback?n.valueCallback(d):d;const m=e.slice(o.length);return{value:d,rest:m}}}function bX(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function xX(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function EX(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const u=e.slice(s.length);return{value:o,rest:u}}}const kX=/^(\d+)(th|st|nd|rd)?/i,SX=/\d+/i,_X={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TX={any:[/^b/i,/^(a|c)/i]},IX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CX={any:[/1/i,/2/i,/3/i,/4/i]},PX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},MX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},OX={ordinalNumber:EX({matchPattern:kX,parsePattern:SX,valueCallback:t=>parseInt(t,10)}),era:nd({matchPatterns:_X,defaultMatchWidth:"wide",parsePatterns:TX,defaultParseWidth:"any"}),quarter:nd({matchPatterns:IX,defaultMatchWidth:"wide",parsePatterns:CX,defaultParseWidth:"any",valueCallback:t=>t+1}),month:nd({matchPatterns:PX,defaultMatchWidth:"wide",parsePatterns:NX,defaultParseWidth:"any"}),day:nd({matchPatterns:DX,defaultMatchWidth:"wide",parsePatterns:RX,defaultParseWidth:"any"}),dayPeriod:nd({matchPatterns:MX,defaultMatchWidth:"any",parsePatterns:AX,defaultParseWidth:"any"})},LX={code:"en-US",formatDistance:iX,formatLong:uX,formatRelative:hX,localize:wX,match:OX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jX(t){const e=hs(t);return ZQ(e,rX(e))+1}function VX(t){const e=hs(t),n=+$g(e)-+eX(e);return Math.round(n/mO)+1}function yO(t,e){var n,r,s,i;const o=hs(t),u=o.getFullYear(),h=Wy(),d=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??h.firstWeekContainsDate??((i=(s=h.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,m=Nl(t,0);m.setFullYear(u+1,0,d),m.setHours(0,0,0,0);const g=Zd(m,e),v=Nl(t,0);v.setFullYear(u,0,d),v.setHours(0,0,0,0);const k=Zd(v,e);return o.getTime()>=g.getTime()?u+1:o.getTime()>=k.getTime()?u:u-1}function FX(t,e){var n,r,s,i;const o=Wy(),u=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??o.firstWeekContainsDate??((i=(s=o.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,h=yO(t,e),d=Nl(t,0);return d.setFullYear(h,0,u),d.setHours(0,0,0,0),Zd(d,e)}function UX(t,e){const n=hs(t),r=+Zd(n,e)-+FX(n,e);return Math.round(r/mO)+1}function it(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ma={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return it(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):it(n+1,2)},d(t,e){return it(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return it(t.getHours()%12||12,e.length)},H(t,e){return it(t.getHours(),e.length)},m(t,e){return it(t.getMinutes(),e.length)},s(t,e){return it(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return it(s,e.length)}},Ku={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kC={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ma.y(t,e)},Y:function(t,e,n,r){const s=yO(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return it(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):it(i,e.length)},R:function(t,e){const n=gO(t);return it(n,e.length)},u:function(t,e){const n=t.getFullYear();return it(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return it(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return it(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ma.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return it(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=UX(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):it(s,e.length)},I:function(t,e,n){const r=VX(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):it(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ma.d(t,e)},D:function(t,e,n){const r=jX(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):it(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return it(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return it(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return it(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Ku.noon:r===0?s=Ku.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Ku.evening:r>=12?s=Ku.afternoon:r>=4?s=Ku.morning:s=Ku.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ma.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ma.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):it(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):it(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ma.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ma.s(t,e)},S:function(t,e){return Ma.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return _C(r);case"XXXX":case"XX":return Jo(r);case"XXXXX":case"XXX":default:return Jo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return _C(r);case"xxxx":case"xx":return Jo(r);case"xxxxx":case"xxx":default:return Jo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+SC(r,":");case"OOOO":default:return"GMT"+Jo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+SC(r,":");case"zzzz":default:return"GMT"+Jo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return it(r,e.length)},T:function(t,e,n){const r=t.getTime();return it(r,e.length)}};function SC(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+it(i,2)}function _C(t,e){return t%60===0?(t>0?"-":"+")+it(Math.abs(t)/60,2):Jo(t,e)}function Jo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=it(Math.trunc(r/60),2),i=it(r%60,2);return n+s+e+i}const TC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},vO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},zX=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return TC(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",TC(r,e)).replace("{{time}}",vO(s,e))},BX={p:vO,P:zX},$X=/^D+$/,qX=/^Y+$/,KX=["D","DD","YY","YYYY"];function WX(t){return $X.test(t)}function HX(t){return qX.test(t)}function GX(t,e,n){const r=QX(t,e,n);if(console.warn(r),KX.includes(t))throw new RangeError(r)}function QX(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const XX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JX=/^'([^]*?)'?$/,ZX=/''/g,eY=/[a-zA-Z]/;function tY(t,e,n){var r,s,i,o;const u=Wy(),h=u.locale??LX,d=u.firstWeekContainsDate??((s=(r=u.locale)==null?void 0:r.options)==null?void 0:s.firstWeekContainsDate)??1,m=u.weekStartsOn??((o=(i=u.locale)==null?void 0:i.options)==null?void 0:o.weekStartsOn)??0,g=hs(t);if(!nX(g))throw new RangeError("Invalid time value");let v=e.match(YX).map(T=>{const _=T[0];if(_==="p"||_==="P"){const I=BX[_];return I(T,h.formatLong)}return T}).join("").match(XX).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const _=T[0];if(_==="'")return{isToken:!1,value:nY(T)};if(kC[_])return{isToken:!0,value:T};if(_.match(eY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:T}});h.localize.preprocessor&&(v=h.localize.preprocessor(g,v));const k={firstWeekContainsDate:d,weekStartsOn:m,locale:h};return v.map(T=>{if(!T.isToken)return T.value;const _=T.value;(HX(_)||WX(_))&&GX(_,e,String(t));const I=kC[_[0]];return I(g,_,h.localize,k)}).join("")}function nY(t){const e=t.match(JX);return e?e[1].replace(ZX,"'"):t}class Pb extends bn.Component{constructor(e){super(e),LS(this,"hardReload",()=>{window.location.reload(!0)}),LS(this,"clearCachesAndReload",async()=>{try{if("caches"in window){const n=await caches.keys();await Promise.all(n.map(r=>caches.delete(r)))}if("serviceWorker"in navigator){const n=await navigator.serviceWorker.getRegistrations();await Promise.all(n.map(r=>r.unregister()))}}catch(n){console.warn("Failed to clear caches or unregister SW",n)}finally{window.location.reload()}}),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ChunkErrorBoundary caught an error:",e,n)}render(){var e,n,r,s;if(this.state.hasError){const i=((e=this.state.error)==null?void 0:e.message)||"";return((n=this.state.error)==null?void 0:n.name)==="ChunkLoadError"||((r=this.state.error)==null?void 0:r.name)==="CSSChunkLoadError"||/Loading chunk|Failed to fetch dynamically imported module|Importing a module script failed/i.test(i)?x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Update available"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"The app was updated. Please refresh to load the latest version."}),x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx("button",{onClick:this.hardReload,className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"}),x.jsx("button",{onClick:this.clearCachesAndReload,className:"px-4 py-2 rounded-lg bg-gray-200",children:"Reset cache & reload"})]}),x.jsxs("details",{className:"mt-4 text-left text-xs text-gray-500",children:[x.jsx("summary",{children:"Details"}),x.jsx("pre",{className:"whitespace-pre-wrap break-words",children:((s=this.state.error)==null?void 0:s.stack)||i})]})]})}):x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"Try refreshing the page."}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"})]})})}return this.props.children}}const rY=bn.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./AvatarDisplay-Bq8KvINC-Bkjcf5GX-CYSbrbbG-DzgGw1BI.js"),[]),[]),[]),[]));bn.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./PetDisplay-CWJwigaH-Dn1kB1rT-DC_LFbLk-CkM1jHCJ.js"),__vite__mapDeps([0,1])),$t([0,1])),Kt([0,1])),Ht([0,1])));const sY=bn.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./InstallPrompt-DgpoMmSN-7-1KwCIk-DbIVIKDj-Cj-Oz40P.js"),__vite__mapDeps([2,3])),$t([2,3])),Kt([2,3])),Ht([2,3])));function iY({children:t,currentPageName:e}){const n=Wi(),[r,s]=E.useState(!1),{user:i,loading:o}=N1(),[u,h]=E.useState(()=>localStorage.getItem("app.theme")==="dark");E.useEffect(()=>{const N=()=>{h(localStorage.getItem("app.theme")==="dark")};N(),window.addEventListener("storage",N);const D=setInterval(N,500);return()=>{window.removeEventListener("storage",N),clearInterval(D)}},[]),E.useEffect(()=>{const N=document.createElement("link");N.rel="manifest",N.href="/manifest.json",document.head.appendChild(N);const D=document.createElement("meta");D.name="theme-color",D.content=u?"#1e293b":"#9333ea",document.head.appendChild(D);const O=document.createElement("meta");O.name="apple-mobile-web-app-capable",O.content="yes",document.head.appendChild(O);const U=document.createElement("meta");U.name="apple-mobile-web-app-status-bar-style",U.content="black-translucent",document.head.appendChild(U);let B=document.querySelector('link[rel="apple-touch-icon"]'),H=!1;return B||(B=document.createElement("link"),B.rel="apple-touch-icon",B.href="/icons/apple-touch-icon.png",document.head.appendChild(B),H=!0),()=>{H&&B&&B.parentNode&&B.remove()}},[u]);const[d,m]=E.useState(0);E.useEffect(()=>{i!=null&&i.email&&m(0)},[i==null?void 0:i.email]);const g=tY(Cb(new Date),"yyyy-MM-dd"),{data:v=[]}=b$({queryKey:["dailyChallenges",g],initialData:[],enabled:!!i});if(e==="Landing")return x.jsx(x.Fragment,{children:t});if(e==="Home"&&!i)return x.jsx(x.Fragment,{children:t});if(!i)return o?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center max-w-md w-full",children:[x.jsx(YS,{size:"xl",variant:"circle",className:"mx-auto mb-6"}),x.jsx("h1",{className:"text-4xl font-extrabold text-white mb-3 drop-shadow-2xl",children:"Math Adventure"}),x.jsx("p",{className:"text-lg text-white mb-6 drop-shadow-lg",children:"Sign in or create an account to start."}),x.jsx(EM,{})]})});const k=v.some(N=>N.created_by===(i==null?void 0:i.email)),T=i?{avatar_skin_tone:i.avatar_skin_tone||"medium",avatar_hair_style:i.avatar_hair_style||"short",avatar_hair_color:i.avatar_hair_color||"brown",avatar_eyes:i.avatar_eyes||"normal",avatar_outfit:i.avatar_outfit||"casual",avatar_accessory:i.avatar_accessory||"none"}:null;i==null||i.active_pet,i!=null&&i.subscription_tier;const _=async()=>{const N=ny(ls);await P6(N),localStorage.clear(),window.location.href="/"},I=({to:N,label:D,icon:O})=>{const U=n.pathname===yt(N);return x.jsxs(cn,{to:yt(N),onClick:()=>s(!1),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all font-medium ${U?"bg-purple-500 text-white shadow-lg":u?"text-gray-300 hover:bg-slate-700":"text-gray-600 hover:bg-purple-50"}`,children:[O&&x.jsx(O,{className:"w-5 h-5"}),D]})};return x.jsxs("div",{className:`min-h-screen ${u?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50"}`,children:[x.jsx(EK,{}),x.jsx("style",{children:`
        :root {
          --primary: 168 85% 55%;
          --secondary: 280 65% 60%;
          --accent: 45 95% 55%;
          --success: 142 76% 45%;
        }

        @media all and (display-mode: standalone) {
          body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
          }
        }

        ${u?`
          * {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
          }

          *::-webkit-scrollbar {
            width: 8px;
          }

          *::-webkit-scrollbar-track {
            background: #1e293b;
          }

          *::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
          }

          *::-webkit-scrollbar-thumb:hover {
            background: #64748b;
          }
        `:""}
      `}),x.jsx("header",{className:`${u?"bg-slate-800/90":"bg-white/80"} backdrop-blur-md shadow-sm sticky top-0 z-50`,children:x.jsxs("div",{className:"max-w-7xl mx-auto px-2 md:px-4 py-2 md:py-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs(cn,{to:yt("Home"),className:"flex items-center gap-3",children:[x.jsx(YS,{size:"md",variant:"circle"}),x.jsx("div",{children:x.jsx("h1",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${u&&"from-purple-400 to-pink-400"}`,children:"Math Adventure"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[i&&x.jsxs(x.Fragment,{children:[x.jsx(cn,{to:yt("Home"),className:"hidden md:inline-block",children:x.jsxs(is,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold shadow-lg",children:[x.jsx(aM,{className:"w-4 h-4 mr-2"}),"Play Now"]})}),x.jsxs(qQ,{children:[x.jsx(KQ,{asChild:!0,children:x.jsxs(is,{variant:"ghost",className:"flex items-center gap-2 px-3",children:[x.jsx(G0,{className:"w-5 h-5"}),x.jsx("span",{className:"hidden md:inline-block font-medium",children:i.displayName||i.email||"Account"})]})}),x.jsxs(fO,{align:"end",children:[x.jsx(Yo,{asChild:!0,children:x.jsx(cn,{to:yt("Avatar"),children:"Profile"})}),x.jsx(Yo,{asChild:!0,children:x.jsx(cn,{to:yt("Settings"),children:"Settings"})}),x.jsx(Yo,{asChild:!0,children:x.jsx(cn,{to:yt("Subscription"),children:"Subscription"})}),x.jsx(Yo,{asChild:!0,children:x.jsx(cn,{to:yt("PrivacyPolicy"),children:"Privacy Policy"})}),(i==null?void 0:i.is_admin)&&x.jsx(Yo,{asChild:!0,children:x.jsx(cn,{to:yt("AdminTestAccount"),children:"Admin"})}),x.jsx(pO,{}),x.jsx(Yo,{onClick:_,className:"text-red-600",children:"Logout"})]})]})]}),x.jsx(is,{variant:"ghost",size:"icon",onClick:()=>s(!r),className:`ml-2 ${u?"text-gray-50 hover:bg-slate-700":""}`,"aria-label":"Open navigation menu",children:r?x.jsx(I1,{className:"w-6 h-6"}):x.jsx(eq,{className:"w-6 h-6"})})]})]}),r&&x.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex justify-end",children:x.jsx("div",{className:`w-full max-w-xs h-full bg-white dark:bg-slate-800 shadow-xl p-6 overflow-y-auto ${u?"border-l border-slate-700":""}`,children:i&&x.jsxs("div",{className:`${u?"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-50":"bg-gradient-to-r from-purple-50 to-pink-50"} p-4 rounded-xl mb-4`,children:[x.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[x.jsxs(cn,{to:yt("Home"),children:[" "," "]}),x.jsxs(is,{children:[" "," "]})]}),x.jsxs("div",{children:[x.jsx(I,{to:"Avatar",label:"Profile",icon:G0}),x.jsx(I,{to:"Settings",label:"Settings",icon:aq}),x.jsx(I,{to:"Subscription",label:"Subscription",icon:Km}),x.jsx(I,{to:"PrivacyPolicy",label:"Privacy Policy",icon:V$}),(i==null?void 0:i.is_admin)&&x.jsx(I,{to:"AdminTestAccount",label:"Admin",icon:N$}),x.jsxs("button",{onClick:()=>{s(!1),_()},className:`w-full flex items-center gap-2 px-4 py-3 rounded-xl mt-4 ${u?"bg-red-900/20 text-red-400 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[x.jsx(J$,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})})})]})}),x.jsx("div",{className:`lg:hidden fixed bottom-0 left-0 right-0 ${u?"bg-slate-800/90 border-slate-700":"bg-white/90 border-t"} backdrop-blur-md shadow-lg z-40`,children:x.jsxs("div",{className:"grid grid-cols-6 gap-1 px-2 py-2",children:[x.jsxs(cn,{to:yt("Home"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===yt("Home")?"bg-purple-500 text-white":u?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(X$,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),x.jsxs(cn,{to:yt("DailyChallenge"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===yt("DailyChallenge")?"bg-purple-500 text-white":u?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(C$,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Daily"}),!k&&x.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),x.jsxs(cn,{to:yt("AITutor"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===yt("AITutor")?"bg-purple-500 text-white":u?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(iM,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Tutor"})]}),x.jsxs(cn,{to:yt("Shop"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===yt("Shop")?"bg-purple-500 text-white":u?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(cq,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Shop"})]}),x.jsx(cn,{to:yt("Avatar"),className:`flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-all ${n.pathname===yt("Avatar")?"bg-purple-500 text-white":u?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:T?x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(rY,{avatarData:T,size:"small"})}):x.jsx(G0,{className:"w-6 h-6"})})]})}),x.jsx(Pb,{children:x.jsx(bn.Suspense,{fallback:null,children:x.jsx(sY,{})})}),x.jsx("main",{className:"flex-1 pb-20 lg:pb-0",children:x.jsx(Pb,{children:x.jsx(bn.Suspense,{fallback:x.jsx("div",{className:"min-h-[40vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-3"}),x.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),children:t})})}),x.jsx("footer",{className:`${u?"bg-slate-800/60 border-slate-700":"bg-white/60 border-gray-200"} backdrop-blur-sm mt-12 py-8 border-t`,children:x.jsx("div",{className:"max-w-7xl mx-auto px-4",children:x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"text-center md:text-left",children:[x.jsx("p",{className:`text-sm ${u?"text-gray-300":"text-gray-600"}`,children:"Keep practicing and have fun! "}),x.jsx("p",{className:`text-xs ${u?"text-gray-400":"text-gray-500"} mt-1`,children:" 2025 Math Adventure. All rights reserved."})]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[x.jsx(cn,{to:yt("PrivacyPolicy"),className:`text-sm ${u?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Privacy Policy"}),x.jsx("span",{className:u?"text-gray-600":"text-gray-300",children:""}),x.jsx(cn,{to:yt("Subscription"),className:`text-sm ${u?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Pricing"}),x.jsx("span",{className:u?"text-gray-600":"text-gray-300",children:""}),x.jsx("a",{href:"mailto:support@math-adventure.com",className:`text-sm ${u?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Contact"})]})]})})})]})}const aY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));aY.displayName="Card";const oY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("flex flex-col space-y-1.5 p-6",t),...e}));oY.displayName="CardHeader";const lY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("font-semibold leading-none tracking-tight",t),...e}));lY.displayName="CardTitle";const uY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("text-sm text-muted-foreground",t),...e}));uY.displayName="CardDescription";const cY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("p-6 pt-0",t),...e}));cY.displayName="CardContent";const hY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("flex items-center p-6 pt-0",t),...e}));hY.displayName="CardFooter";const wO=E.createContext({});function dY(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const W1=typeof window<"u",fY=W1?E.useLayoutEffect:E.useEffect,H1=E.createContext(null);function G1(t,e){t.indexOf(e)===-1&&t.push(e)}function Q1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fi=(t,e,n)=>n>e?e:n<t?t:n;let X1=()=>{};const Ui={},bO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function xO(t){return typeof t=="object"&&t!==null}const EO=t=>/^0[^.\s]+$/u.test(t);function Y1(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ur=t=>t,pY=(t,e)=>n=>e(t(n)),Mf=(...t)=>t.reduce(pY),ef=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class J1{constructor(){this.subscriptions=[]}add(e){return G1(this.subscriptions,e),()=>Q1(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $s=t=>t*1e3,jr=t=>t/1e3;function kO(t,e){return e?t*(1e3/e):0}const SO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,mY=1e-7,gY=12;function yY(t,e,n,r,s){let i,o,u=0;do o=e+(n-e)/2,i=SO(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>mY&&++u<gY);return o}function Af(t,e,n,r){if(t===e&&n===r)return Ur;const s=i=>yY(i,0,1,t,n);return i=>i===0||i===1?i:SO(s(i),e,r)}const _O=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,TO=t=>e=>1-t(1-e),IO=Af(.33,1.53,.69,.99),Z1=TO(IO),CO=_O(Z1),PO=t=>(t*=2)<1?.5*Z1(t):.5*(2-Math.pow(2,-10*(t-1))),eE=t=>1-Math.sin(Math.acos(t)),NO=TO(eE),DO=_O(eE),vY=Af(.42,0,1,1),wY=Af(0,0,.58,1),RO=Af(.42,0,.58,1),bY=t=>Array.isArray(t)&&typeof t[0]!="number",MO=t=>Array.isArray(t)&&typeof t[0]=="number",xY={linear:Ur,easeIn:vY,easeInOut:RO,easeOut:wY,circIn:eE,circInOut:DO,circOut:NO,backIn:Z1,backInOut:CO,backOut:IO,anticipate:PO},EY=t=>typeof t=="string",IC=t=>{if(MO(t)){X1(t.length===4);const[e,n,r,s]=t;return Af(e,n,r,s)}else if(EY(t))return xY[t];return t},Sm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function kY(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(m){o.has(m)&&(d.schedule(m),t()),m(u)}const d={schedule:(m,g=!1,v=!1)=>{const k=v&&s?n:r;return g&&o.add(m),k.has(m)||k.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(u=m,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(h),n.clear(),s=!1,i&&(i=!1,d.process(m))}};return d}const SY=40;function AO(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Sm.reduce((N,D)=>(N[D]=kY(i),N),{}),{setup:u,read:h,resolveKeyframes:d,preUpdate:m,update:g,preRender:v,render:k,postRender:T}=o,_=()=>{const N=Ui.useManualTiming?s.timestamp:performance.now();n=!1,Ui.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(N-s.timestamp,SY),1)),s.timestamp=N,s.isProcessing=!0,u.process(s),h.process(s),d.process(s),m.process(s),g.process(s),v.process(s),k.process(s),T.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(_))},I=()=>{n=!0,r=!0,s.isProcessing||t(_)};return{schedule:Sm.reduce((N,D)=>{const O=o[D];return N[D]=(U,B=!1,H=!1)=>(n||I(),O.schedule(U,B,H)),N},{}),cancel:N=>{for(let D=0;D<Sm.length;D++)o[Sm[D]].cancel(N)},state:s,steps:o}}const{schedule:xt,cancel:no,state:yn,steps:lw}=AO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ur,!0);let Xm;function _Y(){Xm=void 0}const nr={now:()=>(Xm===void 0&&nr.set(yn.isProcessing||Ui.useManualTiming?yn.timestamp:performance.now()),Xm),set:t=>{Xm=t,queueMicrotask(_Y)}},OO=t=>e=>typeof e=="string"&&e.startsWith(t),tE=OO("--"),TY=OO("var(--"),nE=t=>TY(t)?IY.test(t.split("/*")[0].trim()):!1,IY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},tf={...Fc,transform:t=>Fi(0,1,t)},_m={...Fc,default:1},kd=t=>Math.round(t*1e5)/1e5,rE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CY(t){return t==null}const PY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sE=(t,e)=>n=>!!(typeof n=="string"&&PY.test(n)&&n.startsWith(t)||e&&!CY(n)&&Object.prototype.hasOwnProperty.call(n,e)),LO=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,u]=r.match(rE);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},NY=t=>Fi(0,255,t),uw={...Fc,transform:t=>Math.round(NY(t))},ol={test:sE("rgb","red"),parse:LO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+uw.transform(t)+", "+uw.transform(e)+", "+uw.transform(n)+", "+kd(tf.transform(r))+")"};function DY(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Nb={test:sE("#"),parse:DY,transform:ol.transform},Of=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Oa=Of("deg"),qs=Of("%"),Le=Of("px"),RY=Of("vh"),MY=Of("vw"),CC={...qs,parse:t=>qs.parse(t)/100,transform:t=>qs.transform(t*100)},Ju={test:sE("hsl","hue"),parse:LO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+qs.transform(kd(e))+", "+qs.transform(kd(n))+", "+kd(tf.transform(r))+")"},Jt={test:t=>ol.test(t)||Nb.test(t)||Ju.test(t),parse:t=>ol.test(t)?ol.parse(t):Ju.test(t)?Ju.parse(t):Nb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ol.transform(t):Ju.transform(t),getAnimatableNone:t=>{const e=Jt.parse(t);return e.alpha=0,Jt.transform(e)}},AY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OY(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(rE))==null?void 0:e.length)||0)+(((n=t.match(AY))==null?void 0:n.length)||0)>0}const jO="number",VO="color",LY="var",jY="var(",PC="${}",VY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(VY,u=>(Jt.test(u)?(r.color.push(i),s.push(VO),n.push(Jt.parse(u))):u.startsWith(jY)?(r.var.push(i),s.push(LY),n.push(u)):(r.number.push(i),s.push(jO),n.push(parseFloat(u))),++i,PC)).split(PC);return{values:n,split:o,indexes:r,types:s}}function FO(t){return nf(t).values}function UO(t){const{split:e,types:n}=nf(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const u=n[o];u===jO?i+=kd(s[o]):u===VO?i+=Jt.transform(s[o]):i+=s[o]}return i}}const FY=t=>typeof t=="number"?0:Jt.test(t)?Jt.getAnimatableNone(t):t;function UY(t){const e=FO(t);return UO(t)(e.map(FY))}const ro={test:OY,parse:FO,createTransformer:UO,getAnimatableNone:UY};function cw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function zY({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;s=cw(h,u,t+1/3),i=cw(h,u,t),o=cw(h,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function qg(t,e){return n=>n>0?e:t}const Tt=(t,e,n)=>t+(e-t)*n,hw=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},BY=[Nb,ol,Ju],$Y=t=>BY.find(e=>e.test(t));function NC(t){const e=$Y(t);if(!e)return!1;let n=e.parse(t);return e===Ju&&(n=zY(n)),n}const DC=(t,e)=>{const n=NC(t),r=NC(e);if(!n||!r)return qg(t,e);const s={...n};return i=>(s.red=hw(n.red,r.red,i),s.green=hw(n.green,r.green,i),s.blue=hw(n.blue,r.blue,i),s.alpha=Tt(n.alpha,r.alpha,i),ol.transform(s))},Db=new Set(["none","hidden"]);function qY(t,e){return Db.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function KY(t,e){return n=>Tt(t,e,n)}function iE(t){return typeof t=="number"?KY:typeof t=="string"?nE(t)?qg:Jt.test(t)?DC:GY:Array.isArray(t)?zO:typeof t=="object"?Jt.test(t)?DC:WY:qg}function zO(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>iE(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function WY(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=iE(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function HY(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],u=t.values[o]??0;n[s]=u,r[i]++}return n}const GY=(t,e)=>{const n=ro.createTransformer(e),r=nf(t),s=nf(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Db.has(t)&&!s.values.length||Db.has(e)&&!r.values.length?qY(t,e):Mf(zO(HY(r,s),s.values),n):qg(t,e)};function BO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Tt(t,e,n):iE(t)(t,e)}const QY=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>xt.update(e,n),stop:()=>no(e),now:()=>yn.isProcessing?yn.timestamp:nr.now()}},$O=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Kg=2e4;function aE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Kg;)e+=n,r=t.next(e);return e>=Kg?1/0:e}function XY(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(aE(r),Kg);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:jr(s)}}const YY=5;function qO(t,e,n){const r=Math.max(e-YY,0);return kO(n-t(r),e-r)}const Dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dw=.001;function JY({duration:t=Dt.duration,bounce:e=Dt.bounce,velocity:n=Dt.velocity,mass:r=Dt.mass}){let s,i,o=1-e;o=Fi(Dt.minDamping,Dt.maxDamping,o),t=Fi(Dt.minDuration,Dt.maxDuration,jr(t)),o<1?(s=d=>{const m=d*o,g=m*t,v=m-n,k=Rb(d,o),T=Math.exp(-g);return dw-v/k*T},i=d=>{const m=d*o*t,g=m*n+n,v=Math.pow(o,2)*Math.pow(d,2)*t,k=Math.exp(-m),T=Rb(Math.pow(d,2),o);return(-s(d)+dw>0?-1:1)*((g-v)*k)/T}):(s=d=>{const m=Math.exp(-d*t),g=(d-n)*t+1;return-dw+m*g},i=d=>{const m=Math.exp(-d*t),g=(n-d)*(t*t);return m*g});const u=5/t,h=eJ(s,i,u);if(t=$s(t),isNaN(h))return{stiffness:Dt.stiffness,damping:Dt.damping,duration:t};{const d=Math.pow(h,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const ZY=12;function eJ(t,e,n){let r=n;for(let s=1;s<ZY;s++)r=r-t(r)/e(r);return r}function Rb(t,e){return t*Math.sqrt(1-e*e)}const tJ=["duration","bounce"],nJ=["stiffness","damping","mass"];function RC(t,e){return e.some(n=>t[n]!==void 0)}function rJ(t){let e={velocity:Dt.velocity,stiffness:Dt.stiffness,damping:Dt.damping,mass:Dt.mass,isResolvedFromDuration:!1,...t};if(!RC(t,nJ)&&RC(t,tJ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Fi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Dt.mass,stiffness:s,damping:i}}else{const n=JY(t);e={...e,...n,mass:Dt.mass},e.isResolvedFromDuration=!0}return e}function Wg(t=Dt.visualDuration,e=Dt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:h,damping:d,mass:m,duration:g,velocity:v,isResolvedFromDuration:k}=rJ({...n,velocity:-jr(n.velocity||0)}),T=v||0,_=d/(2*Math.sqrt(h*m)),I=o-i,N=jr(Math.sqrt(h/m)),D=Math.abs(I)<5;r||(r=D?Dt.restSpeed.granular:Dt.restSpeed.default),s||(s=D?Dt.restDelta.granular:Dt.restDelta.default);let O;if(_<1){const B=Rb(N,_);O=H=>{const M=Math.exp(-_*N*H);return o-M*((T+_*N*I)/B*Math.sin(B*H)+I*Math.cos(B*H))}}else if(_===1)O=B=>o-Math.exp(-N*B)*(I+(T+N*I)*B);else{const B=N*Math.sqrt(_*_-1);O=H=>{const M=Math.exp(-_*N*H),C=Math.min(B*H,300);return o-M*((T+_*N*I)*Math.sinh(C)+B*I*Math.cosh(C))/B}}const U={calculatedDuration:k&&g||null,next:B=>{const H=O(B);if(k)u.done=B>=g;else{let M=B===0?T:0;_<1&&(M=B===0?$s(T):qO(O,B,H));const C=Math.abs(M)<=r,R=Math.abs(o-H)<=s;u.done=C&&R}return u.value=u.done?o:H,u},toString:()=>{const B=Math.min(aE(U),Kg),H=$O(M=>U.next(B*M).value,B,30);return B+"ms "+H},toTransition:()=>{}};return U}Wg.applyToOptions=t=>{const e=XY(t,100,Wg);return t.ease=e.ease,t.duration=$s(e.duration),t.type="keyframes",t};function Mb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:u,max:h,restDelta:d=.5,restSpeed:m}){const g=t[0],v={done:!1,value:g},k=C=>u!==void 0&&C<u||h!==void 0&&C>h,T=C=>u===void 0?h:h===void 0||Math.abs(u-C)<Math.abs(h-C)?u:h;let _=n*e;const I=g+_,N=o===void 0?I:o(I);N!==I&&(_=N-g);const D=C=>-_*Math.exp(-C/r),O=C=>N+D(C),U=C=>{const R=D(C),j=O(C);v.done=Math.abs(R)<=d,v.value=v.done?N:j};let B,H;const M=C=>{k(v.value)&&(B=C,H=Wg({keyframes:[v.value,T(v.value)],velocity:qO(O,C,v.value),damping:s,stiffness:i,restDelta:d,restSpeed:m}))};return M(0),{calculatedDuration:null,next:C=>{let R=!1;return!H&&B===void 0&&(R=!0,U(C),M(C)),B!==void 0&&C>=B?H.next(C-B):(!R&&U(C),v)}}}function sJ(t,e,n){const r=[],s=n||Ui.mix||BO,i=t.length-1;for(let o=0;o<i;o++){let u=s(t[o],t[o+1]);if(e){const h=Array.isArray(e)?e[o]||Ur:e;u=Mf(h,u)}r.push(u)}return r}function iJ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(X1(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=sJ(e,r,s),h=u.length,d=m=>{if(o&&m<t[0])return e[0];let g=0;if(h>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const v=ef(t[g],t[g+1],m);return u[g](v)};return n?m=>d(Fi(t[0],t[i-1],m)):d}function aJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ef(0,e,r);t.push(Tt(n,1,s))}}function oJ(t){const e=[0];return aJ(e,t.length-1),e}function lJ(t,e){return t.map(n=>n*e)}function uJ(t,e){return t.map(()=>e||RO).splice(0,t.length-1)}function Sd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=bY(r)?r.map(IC):IC(r),i={done:!1,value:e[0]},o=lJ(n&&n.length===e.length?n:oJ(e),t),u=iJ(o,e,{ease:Array.isArray(s)?s:uJ(e,s)});return{calculatedDuration:t,next:h=>(i.value=u(h),i.done=h>=t,i)}}const cJ=t=>t!==null;function oE(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(cJ),o=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const hJ={decay:Mb,inertia:Mb,tween:Sd,keyframes:Sd,spring:Wg};function KO(t){typeof t.type=="string"&&(t.type=hJ[t.type])}class lE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const dJ=t=>t/100;class uE extends lE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==nr.now()&&this.tick(nr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;KO(e);const{type:n=Sd,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:u}=e;const h=n||Sd;h!==Sd&&typeof u[0]!="number"&&(this.mixKeyframes=Mf(dJ,BO(u[0],u[1])),u=[0,100]);const d=h({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=aE(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:m,repeat:g,repeatType:v,repeatDelay:k,type:T,onUpdate:_,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-d*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let O=this.currentTime,U=r;if(g){const C=Math.min(this.currentTime,s)/u;let R=Math.floor(C),j=C%1;!j&&C>=1&&(j=1),j===1&&R--,R=Math.min(R,g+1),R%2&&(v==="reverse"?(j=1-j,k&&(j-=k/u)):v==="mirror"&&(U=o)),O=Fi(0,1,j)*u}const B=D?{done:!1,value:m[0]}:U.next(O);i&&(B.value=i(B.value));let{done:H}=B;!D&&h!==null&&(H=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return M&&T!==Mb&&(B.value=oE(m,this.options,I,this.speed)),_&&_(B.value),M&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return jr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+jr(e)}get time(){return jr(this.currentTime)}set time(e){var n;e=$s(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(nr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=jr(this.currentTime))}play(){var e,n;if(this.isStopped)return;const{driver:r=QY,startTime:s}=this.options;this.driver||(this.driver=r(o=>this.tick(o))),(n=(e=this.options).onPlay)==null||n.call(e);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(nr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function fJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ll=t=>t*180/Math.PI,Ab=t=>{const e=ll(Math.atan2(t[1],t[0]));return Ob(e)},pJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ab,rotateZ:Ab,skewX:t=>ll(Math.atan(t[1])),skewY:t=>ll(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ob=t=>(t=t%360,t<0&&(t+=360),t),MC=Ab,AC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),OC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),mJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:AC,scaleY:OC,scale:t=>(AC(t)+OC(t))/2,rotateX:t=>Ob(ll(Math.atan2(t[6],t[5]))),rotateY:t=>Ob(ll(Math.atan2(-t[2],t[0]))),rotateZ:MC,rotate:MC,skewX:t=>ll(Math.atan(t[4])),skewY:t=>ll(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Lb(t){return t.includes("scale")?1:0}function jb(t,e){if(!t||t==="none")return Lb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=mJ,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=pJ,s=u}if(!s)return Lb(e);const i=r[e],o=s[1].split(",").map(yJ);return typeof i=="function"?i(o):o[i]}const gJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return jb(n,e)};function yJ(t){return parseFloat(t.trim())}const Uc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zc=new Set(Uc),LC=t=>t===Fc||t===Le,vJ=new Set(["x","y","z"]),wJ=Uc.filter(t=>!vJ.has(t));function bJ(t){const e=[];return wJ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const pl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>jb(e,"x"),y:(t,{transform:e})=>jb(e,"y")};pl.translateX=pl.x;pl.translateY=pl.y;const ml=new Set;let Vb=!1,Fb=!1,Ub=!1;function WO(){if(Fb){const t=Array.from(ml).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=bJ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var u;(u=r.getValue(i))==null||u.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fb=!1,Vb=!1,ml.forEach(t=>t.complete(Ub)),ml.clear()}function HO(){ml.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fb=!0)})}function xJ(){Ub=!0,HO(),WO(),Ub=!1}class cE{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ml.add(this),Vb||(Vb=!0,xt.read(HO),xt.resolveKeyframes(WO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const u=r.readValue(n,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}fJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ml.delete(this)}cancel(){this.state==="scheduled"&&(ml.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const EJ=t=>t.startsWith("--");function kJ(t,e,n){EJ(e)?t.style.setProperty(e,n):t.style[e]=n}const SJ=Y1(()=>window.ScrollTimeline!==void 0),_J={};function TJ(t,e){const n=Y1(t);return()=>_J[e]??n()}const GO=TJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),dd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,jC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dd([0,.65,.55,1]),circOut:dd([.55,0,1,.45]),backIn:dd([.31,.01,.66,-.59]),backOut:dd([.33,1.53,.69,.99])};function QO(t,e){if(t)return typeof t=="function"?GO()?$O(t,e):"ease-out":MO(t)?dd(t):Array.isArray(t)?t.map(n=>QO(n,e)||jC.easeOut):jC[t]}function IJ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:u="easeOut",times:h}={},d=void 0){const m={[e]:n};h&&(m.offset=h);const g=QO(u,s);Array.isArray(g)&&(m.easing=g);const v={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),t.animate(m,v)}function XO(t){return typeof t=="function"&&"applyToOptions"in t}function CJ({type:t,...e}){return XO(t)&&GO()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class PJ extends lE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,X1(typeof e.type!="string");const d=CJ(e);this.animation=IJ(n,r,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=oE(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):kJ(n,r,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var e,n;const r=((n=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:n.call(e).duration)||0;return jr(Number(r))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+jr(e)}get time(){return jr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=$s(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&SJ()?(this.animation.timeline=e,Ur):n(this)}}const YO={anticipate:PO,backInOut:CO,circInOut:DO};function NJ(t){return t in YO}function DJ(t){typeof t.ease=="string"&&NJ(t.ease)&&(t.ease=YO[t.ease])}const VC=10;class RJ extends PJ{constructor(e){DJ(e),KO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new uE({...o,autoplay:!1}),h=$s(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-VC).value,u.sample(h).value,VC),u.stop()}}const FC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ro.test(t)||t==="0")&&!t.startsWith("url("));function MJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function AJ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=FC(s,e),u=FC(i,e);return!o||!u?!1:MJ(t)||(n==="spring"||XO(n))&&r}function zb(t){t.duration=0,t.type="keyframes"}const OJ=new Set(["opacity","clipPath","filter","transform"]),LJ=Y1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jJ(t){var e;const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:u}=t;if(!(((e=n==null?void 0:n.owner)==null?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:d}=n.owner.getProps();return LJ()&&r&&OJ.has(r)&&(r!=="transform"||!d)&&!h&&!s&&i!=="mirror"&&o!==0&&u!=="inertia"}const VJ=40;class FJ extends lE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:u,name:h,motionValue:d,element:m,...g}){var v;super(),this.stop=()=>{var _,I;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=nr.now();const k={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:h,motionValue:d,element:m,...g},T=(m==null?void 0:m.KeyframeResolver)||cE;this.keyframeResolver=new T(u,(_,I,N)=>this.onKeyframesResolved(_,I,k,!N),h,d,m),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:u,delay:h,isHandoff:d,onUpdate:m}=r;this.resolvedAt=nr.now(),AJ(e,i,o,u)||((Ui.instantAnimations||!h)&&(m==null||m(oE(e,r,n))),e[0]=e[e.length-1],zb(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>VJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!d&&jJ(g)?new RJ({...g,element:g.motionValue.owner.current}):new uE(g);v.finished.then(()=>this.notifyFinished()).catch(Ur),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),xJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const UJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zJ(t){const e=UJ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function JO(t,e,n=1){const[r,s]=zJ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return bO(o)?parseFloat(o):o}return nE(s)?JO(s,e,n+1):s}function hE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const ZO=new Set(["width","height","top","left","right","bottom",...Uc]),BJ={test:t=>t==="auto",parse:t=>t},eL=t=>e=>e.test(t),tL=[Fc,Le,qs,Oa,MY,RY,BJ],UC=t=>tL.find(eL(t));function $J(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||EO(t):!0}const qJ=new Set(["brightness","contrast","saturate","opacity"]);function KJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(rE)||[];if(!r)return t;const s=n.replace(r,"");let i=qJ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const WJ=/\b([a-z-]*)\(.*?\)/gu,Bb={...ro,getAnimatableNone:t=>{const e=t.match(WJ);return e?e.map(KJ).join(" "):t}},zC={...Fc,transform:Math.round},HJ={rotate:Oa,rotateX:Oa,rotateY:Oa,rotateZ:Oa,scale:_m,scaleX:_m,scaleY:_m,scaleZ:_m,skew:Oa,skewX:Oa,skewY:Oa,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:tf,originX:CC,originY:CC,originZ:Le},dE={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le,...HJ,zIndex:zC,fillOpacity:tf,strokeOpacity:tf,numOctaves:zC},GJ={...dE,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:Bb,WebkitFilter:Bb},nL=t=>GJ[t];function rL(t,e){let n=nL(t);return n!==Bb&&(n=ro),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const QJ=new Set(["auto","none","0"]);function XJ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!QJ.has(i)&&nf(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=rL(n,s)}class YJ extends cE{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let d=e[h];if(typeof d=="string"&&(d=d.trim(),nE(d))){const m=JO(d,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!ZO.has(r)||e.length!==2)return;const[s,i]=e,o=UC(s),u=UC(i);if(o!==u)if(LC(o)&&LC(u))for(let h=0;h<e.length;h++){const d=e[h];typeof d=="string"&&(e[h]=parseFloat(d))}else pl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||$J(e[s]))&&r.push(s);r.length&&XJ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,u=s[o];s[o]=pl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(e=this.removedTransforms)!=null&&e.length&&this.removedTransforms.forEach(([h,d])=>{n.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function JJ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const sL=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ZJ(t){return xO(t)&&"offsetHeight"in t}const BC=30,eZ=t=>!isNaN(parseFloat(t));class tZ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=nr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=nr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=eZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new J1);const r=this.events[e].add(n);return e==="change"?()=>{r(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=nr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>BC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,BC);return kO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tc(t,e){return new tZ(t,e)}const{schedule:fE}=AO(queueMicrotask,!1),es={x:!1,y:!1};function iL(){return es.x||es.y}function nZ(t){return t==="x"||t==="y"?es[t]?null:(es[t]=!0,()=>{es[t]=!1}):es.x||es.y?null:(es.x=es.y=!0,()=>{es.x=es.y=!1})}function aL(t,e){const n=JJ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function $C(t){return!(t.pointerType==="touch"||iL())}function rZ(t,e,n={}){const[r,s,i]=aL(t,n),o=u=>{if(!$C(u))return;const{target:h}=u,d=e(h,u);if(typeof d!="function"||!h)return;const m=g=>{$C(g)&&(d(g),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,s)};return r.forEach(u=>{u.addEventListener("pointerenter",o,s)}),i}const oL=(t,e)=>e?t===e?!0:oL(t,e.parentElement):!1,pE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,sZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iZ(t){return sZ.has(t.tagName)||t.tabIndex!==-1}const Ym=new WeakSet;function qC(t){return e=>{e.key==="Enter"&&t(e)}}function fw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const aZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=qC(()=>{if(Ym.has(n))return;fw(n,"down");const s=qC(()=>{fw(n,"up")}),i=()=>fw(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function KC(t){return pE(t)&&!iL()}function oZ(t,e,n={}){const[r,s,i]=aL(t,n),o=u=>{const h=u.currentTarget;if(!KC(u))return;Ym.add(h);const d=e(h,u),m=(k,T)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),Ym.has(h)&&Ym.delete(h),KC(k)&&typeof d=="function"&&d(k,{success:T})},g=k=>{m(k,h===window||h===document||n.useGlobalTarget||oL(h,k.target))},v=k=>{m(k,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",o,s),ZJ(u)&&(u.addEventListener("focus",h=>aZ(h,s)),!iZ(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function lL(t){return xO(t)&&"ownerSVGElement"in t}function lZ(t){return lL(t)&&t.tagName==="svg"}const Rn=t=>!!(t&&t.getVelocity),uZ=[...tL,Jt,ro],cZ=t=>uZ.find(eL(t)),uL=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function hZ(t=!0){const e=E.useContext(H1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=E.useId();E.useEffect(()=>{if(t)return s(i)},[t]);const o=E.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const cL=E.createContext({strict:!1}),WC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ic={};for(const t in WC)Ic[t]={isEnabled:e=>WC[t].some(n=>!!e[n])};function dZ(t){for(const e in t)Ic[e]={...Ic[e],...t[e]}}const fZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fZ.has(t)}let hL=t=>!Hg(t);function pZ(t){typeof t=="function"&&(hL=e=>e.startsWith("on")?!Hg(e):t(e))}try{pZ(require("@emotion/is-prop-valid").default)}catch{}function mZ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(hL(s)||n===!0&&Hg(s)||!e&&!Hg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Hy=E.createContext({});function Gy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function rf(t){return typeof t=="string"||Array.isArray(t)}const mE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gE=["initial",...mE];function Qy(t){return Gy(t.animate)||gE.some(e=>rf(t[e]))}function dL(t){return!!(Qy(t)||t.variants)}function gZ(t,e){if(Qy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||rf(n)?n:void 0,animate:rf(r)?r:void 0}}return t.inherit!==!1?e:{}}function yZ(t){const{initial:e,animate:n}=gZ(t,E.useContext(Hy));return E.useMemo(()=>({initial:e,animate:n}),[HC(e),HC(n)])}function HC(t){return Array.isArray(t)?t.join(" "):t}const sf={};function vZ(t){for(const e in t)sf[e]=t[e],tE(e)&&(sf[e].isCSSVariable=!0)}function fL(t,{layout:e,layoutId:n}){return zc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!sf[t]||t==="opacity")}const wZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bZ=Uc.length;function xZ(t,e,n){let r="",s=!0;for(let i=0;i<bZ;i++){const o=Uc[i],u=t[o];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(o.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const d=sL(u,dE[o]);if(!h){s=!1;const m=wZ[o]||o;r+=`${m}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function yE(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,u=!1;for(const h in e){const d=e[h];if(zc.has(h)){o=!0;continue}else if(tE(h)){s[h]=d;continue}else{const m=sL(d,dE[h]);h.startsWith("origin")?(u=!0,i[h]=m):r[h]=m}}if(e.transform||(o||n?r.transform=xZ(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:m=0}=i;r.transformOrigin=`${h} ${d} ${m}`}}const vE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pL(t,e,n){for(const r in e)!Rn(e[r])&&!fL(r,n)&&(t[r]=e[r])}function EZ({transformTemplate:t},e){return E.useMemo(()=>{const n=vE();return yE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function kZ(t,e){const n=t.style||{},r={};return pL(r,n,t),Object.assign(r,EZ(t,e)),r}function SZ(t,e){const n={},r=kZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const _Z={offset:"stroke-dashoffset",array:"stroke-dasharray"},TZ={offset:"strokeDashoffset",array:"strokeDasharray"};function IZ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?_Z:TZ;t[i.offset]=Le.transform(-r);const o=Le.transform(e),u=Le.transform(n);t[i.array]=`${o} ${u}`}function mL(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...u},h,d,m){if(yE(t,u,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&IZ(g,s,i,o,!1)}const gL=()=>({...vE(),attrs:{}}),yL=t=>typeof t=="string"&&t.toLowerCase()==="svg";function CZ(t,e,n,r){const s=E.useMemo(()=>{const i=gL();return mL(i,e,yL(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};pL(i,t.style,t),s.style={...i,...s.style}}return s}const PZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wE(t){return typeof t!="string"||t.includes("-")?!1:!!(PZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function NZ(t,e,n,{latestValues:r},s,i=!1){const o=(wE(t)?CZ:SZ)(e,r,s,t),u=mZ(e,typeof t=="string",i),h=t!==E.Fragment?{...u,...o,ref:n}:{},{children:d}=e,m=E.useMemo(()=>Rn(d)?d.get():d,[d]);return E.createElement(t,{...h,children:m})}function GC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function bE(t,e,n,r){if(typeof e=="function"){const[s,i]=GC(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=GC(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Jm(t){return Rn(t)?t.get():t}function DZ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:RZ(n,r,s,t),renderState:e()}}function RZ(t,e,n,r){const s={},i=r(t,{});for(const v in i)s[v]=Jm(i[v]);let{initial:o,animate:u}=t;const h=Qy(t),d=dL(t);e&&d&&!h&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const g=m?u:o;if(g&&typeof g!="boolean"&&!Gy(g)){const v=Array.isArray(g)?g:[g];for(let k=0;k<v.length;k++){const T=bE(t,v[k]);if(T){const{transitionEnd:_,transition:I,...N}=T;for(const D in N){let O=N[D];if(Array.isArray(O)){const U=m?O.length-1:0;O=O[U]}O!==null&&(s[D]=O)}for(const D in _)s[D]=_[D]}}}return s}const vL=t=>(e,n)=>{const r=E.useContext(Hy),s=E.useContext(H1),i=()=>DZ(t,e,r,s);return n?i():dY(i)};function xE(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Rn(s[o])||e.style&&Rn(e.style[o])||fL(o,t)||((r=n==null?void 0:n.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}const MZ=vL({scrapeMotionValuesFromProps:xE,createRenderState:vE});function wL(t,e,n){const r=xE(t,e,n);for(const s in t)if(Rn(t[s])||Rn(e[s])){const i=Uc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const AZ=vL({scrapeMotionValuesFromProps:wL,createRenderState:gL}),OZ=Symbol.for("motionComponentSymbol");function Zu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function LZ(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Zu(n)&&(n.current=r))},[e])}const EE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jZ="framerAppearId",bL="data-"+EE(jZ),xL=E.createContext({});function VZ(t,e,n,r,s){var i,o;const{visualElement:u}=E.useContext(Hy),h=E.useContext(cL),d=E.useContext(H1),m=E.useContext(uL).reducedMotion,g=E.useRef(null);r=r||h.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,k=E.useContext(xL);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&FZ(g.current,n,s,k);const T=E.useRef(!1);E.useInsertionEffect(()=>{v&&T.current&&v.update(n,d)});const _=n[bL],I=E.useRef(!!_&&!((i=window.MotionHandoffIsComplete)!=null&&i.call(window,_))&&((o=window.MotionHasOptimisedAnimation)==null?void 0:o.call(window,_)));return fY(()=>{v&&(T.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),I.current&&v.animationState&&v.animationState.animateChanges())}),E.useEffect(()=>{v&&(!I.current&&v.animationState&&v.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,_)}),I.current=!1),v.enteringChildren=void 0)}),v}function FZ(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:u,layoutScroll:h,layoutRoot:d,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:EL(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||u&&Zu(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:h,layoutRoot:d})}function EL(t){if(t)return t.options.allowProjection!==!1?t.projection:EL(t.parent)}function pw(t,{forwardMotionProps:e=!1}={},n,r){n&&dZ(n);const s=wE(t)?AZ:MZ;function i(u,h){let d;const m={...E.useContext(uL),...u,layoutId:UZ(u)},{isStatic:g}=m,v=yZ(u),k=s(u,g);if(!g&&W1){zZ();const T=BZ(m);d=T.MeasureLayout,v.visualElement=VZ(t,k,m,r,T.ProjectionNode)}return x.jsxs(Hy.Provider,{value:v,children:[d&&v.visualElement?x.jsx(d,{visualElement:v.visualElement,...m}):null,NZ(t,u,LZ(k,v.visualElement,h),k,g,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=E.forwardRef(i);return o[OZ]=t,o}function UZ({layoutId:t}){const e=E.useContext(wO).id;return e&&t!==void 0?e+"-"+t:t}function zZ(t,e){E.useContext(cL).strict}function BZ(t){const{drag:e,layout:n}=Ic;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function $Z(t,e){if(typeof Proxy>"u")return pw;const n=new Map,r=(i,o)=>pw(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,pw(o,void 0,t,e)),n.get(o))})}function kL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function qZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function KZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function mw(t){return t===void 0||t===1}function $b({scale:t,scaleX:e,scaleY:n}){return!mw(t)||!mw(e)||!mw(n)}function Zo(t){return $b(t)||SL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function SL(t){return QC(t.x)||QC(t.y)}function QC(t){return t&&t!=="0%"}function Gg(t,e,n){const r=t-n,s=e*r;return n+s}function XC(t,e,n,r,s){return s!==void 0&&(t=Gg(t,s,r)),Gg(t,n,r)+e}function qb(t,e=0,n=1,r,s){t.min=XC(t.min,e,n,r,s),t.max=XC(t.max,e,n,r,s)}function _L(t,{x:e,y:n}){qb(t.x,e.translate,e.scale,e.originPoint),qb(t.y,n.translate,n.scale,n.originPoint)}const YC=.999999999999,JC=1.0000000000001;function WZ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let u=0;u<s;u++){i=n[u],o=i.projectionDelta;const{visualElement:h}=i.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&tc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,_L(t,o)),r&&Zo(i.latestValues)&&tc(t,i.latestValues))}e.x<JC&&e.x>YC&&(e.x=1),e.y<JC&&e.y>YC&&(e.y=1)}function ec(t,e){t.min=t.min+e,t.max=t.max+e}function ZC(t,e,n,r,s=.5){const i=Tt(t.min,t.max,s);qb(t,e,n,i,r)}function tc(t,e){ZC(t.x,e.x,e.scaleX,e.scale,e.originX),ZC(t.y,e.y,e.scaleY,e.scale,e.originY)}function TL(t,e){return kL(KZ(t.getBoundingClientRect(),e))}function HZ(t,e,n){const r=TL(t,n),{scroll:s}=e;return s&&(ec(r.x,s.offset.x),ec(r.y,s.offset.y)),r}const e2=()=>({translate:0,scale:1,origin:0,originPoint:0}),nc=()=>({x:e2(),y:e2()}),t2=()=>({min:0,max:0}),zt=()=>({x:t2(),y:t2()}),Kb={current:null},IL={current:!1};function GZ(){if(IL.current=!0,!!W1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Kb.current=t.matches;t.addEventListener("change",e),e()}else Kb.current=!1}const QZ=new WeakMap;function XZ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Rn(s))t.addValue(r,s);else if(Rn(i))t.addValue(r,Tc(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Tc(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const n2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YZ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=nr.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,xt.render(this.render,!1,!0))};const{latestValues:h,renderState:d}=o;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=Qy(n),this.isVariantNode=dL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const k=g[v];h[v]!==void 0&&Rn(k)&&k.set(h[v])}}mount(e){var n;this.current=e,QZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),IL.current||GZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kb.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),no(this.notifyUpdate),no(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=zc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&xt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ic){const n=Ic[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<n2.length;r++){const s=n2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=XZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Tc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(bO(r)||EO(r))?r=parseFloat(r):!cZ(r)&&ro.test(n)&&(r=rL(e,n)),this.setBaseTarget(e,Rn(r)?r.get():r)),Rn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=bE(this.props,r,(n=this.presenceContext)==null?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Rn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new J1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){fE.render(this.render)}}class CL extends YZ{constructor(){super(...arguments),this.KeyframeResolver=YJ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function PL(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function JZ(t){return window.getComputedStyle(t)}class ZZ extends CL{constructor(){super(...arguments),this.type="html",this.renderInstance=PL}readValueFromInstance(e,n){var r;if(zc.has(n))return(r=this.projection)!=null&&r.isProjecting?Lb(n):gJ(e,n);{const s=JZ(e),i=(tE(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TL(e,n)}build(e,n,r){yE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return xE(e,n,r)}}const NL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eee(t,e,n,r){PL(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(NL.has(s)?s:EE(s),e.attrs[s])}class tee extends CL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zc.has(n)){const r=nL(n);return r&&r.default||0}return n=NL.has(n)?n:EE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return wL(e,n,r)}build(e,n,r){mL(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){eee(e,n,r,s)}mount(e){this.isSVGTag=yL(e.tagName),super.mount(e)}}const nee=(t,e)=>wE(t)?new tee(e):new ZZ(e,{allowProjection:t!==E.Fragment});function cc(t,e,n){const r=t.getProps();return bE(r,e,n!==void 0?n:r.custom,t)}const Wb=t=>Array.isArray(t);function ree(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Tc(n))}function see(t){return Wb(t)?t[t.length-1]||0:t}function iee(t,e){const n=cc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const u=see(i[o]);ree(t,o,u)}}function aee(t){return!!(Rn(t)&&t.add)}function Hb(t,e){const n=t.getValue("willChange");if(aee(n))return n.add(e);if(!n&&Ui.WillChange){const r=new Ui.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function DL(t){return t.props[bL]}const oee=t=>t!==null;function lee(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(oee),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const uee={type:"spring",stiffness:500,damping:25,restSpeed:10},cee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hee={type:"keyframes",duration:.8},dee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fee=(t,{keyframes:e})=>e.length>2?hee:zc.has(t)?t.startsWith("scale")?cee(e[1]):uee:dee;function pee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:u,from:h,elapsed:d,...m}){return!!Object.keys(m).length}const kE=(t,e,n,r={},s,i)=>o=>{const u=hE(r,t)||{},h=u.delay||r.delay||0;let{elapsed:d=0}=r;d=d-$s(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-d,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:s};pee(u)||Object.assign(m,fee(t,m)),m.duration&&(m.duration=$s(m.duration)),m.repeatDelay&&(m.repeatDelay=$s(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(zb(m),m.delay===0&&(g=!0)),(Ui.instantAnimations||Ui.skipAnimations)&&(g=!0,zb(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!i&&e.get()!==void 0){const v=lee(m.keyframes,u);if(v!==void 0){xt.update(()=>{m.onUpdate(v),m.onComplete()});return}}return u.isSync?new uE(m):new FJ(m)};function mee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function RL(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...u}=e;r&&(i=r);const h=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const m in u){const g=t.getValue(m,t.latestValues[m]??null),v=u[m];if(v===void 0||d&&mee(d,m))continue;const k={delay:n,...hE(i||{},m)},T=g.get();if(T!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===T&&!k.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const N=DL(t);if(N){const D=window.MotionHandoffAnimation(N,m,xt);D!==null&&(k.startTime=D,_=!0)}}Hb(t,m),g.start(kE(m,g,v,t.shouldReduceMotion&&ZO.has(m)?{type:!1}:k,t,_));const I=g.animation;I&&h.push(I)}return o&&Promise.all(h).then(()=>{xt.update(()=>{o&&iee(t,o)})}),h}function ML(t,e,n,r=0,s=1){const i=Array.from(t).sort((h,d)=>h.sortNodePosition(d)).indexOf(e),o=t.size,u=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:u-i*r}function Gb(t,e,n={}){var r;const s=cc(t,e,n.type==="exit"?(r=t.presenceContext)==null?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(RL(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=i;return gee(t,e,d,m,g,v,n)}:()=>Promise.resolve(),{when:h}=i;if(h){const[d,m]=h==="beforeChildren"?[o,u]:[u,o];return d().then(()=>m())}else return Promise.all([o(),u(n.delay)])}function gee(t,e,n=0,r=0,s=0,i=1,o){const u=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),u.push(Gb(h,e,{...o,delay:n+(typeof r=="function"?0:r)+ML(t.variantChildren,h,r,s,i)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function yee(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Gb(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Gb(t,e,n);else{const s=typeof e=="function"?cc(t,e,n.custom):e;r=Promise.all(RL(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function AL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const vee=gE.length;function OL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?OL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<vee;n++){const r=gE[n],s=t.props[r];(rf(s)||s===!1)&&(e[r]=s)}return e}const wee=[...mE].reverse(),bee=mE.length;function xee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>yee(t,n,r)))}function Eee(t){let e=xee(t),n=r2(),r=!0;const s=h=>(d,m)=>{var g;const v=cc(t,m,h==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(v){const{transition:k,transitionEnd:T,..._}=v;d={...d,..._,...T}}return d};function i(h){e=h(t)}function o(h){const{props:d}=t,m=OL(t.parent)||{},g=[],v=new Set;let k={},T=1/0;for(let I=0;I<bee;I++){const N=wee[I],D=n[N],O=d[N]!==void 0?d[N]:m[N],U=rf(O),B=N===h?D.isActive:null;B===!1&&(T=I);let H=O===m[N]&&O!==d[N]&&U;if(H&&r&&t.manuallyAnimateOnMount&&(H=!1),D.protectedKeys={...k},!D.isActive&&B===null||!O&&!D.prevProp||Gy(O)||typeof O=="boolean")continue;const M=kee(D.prevProp,O);let C=M||N===h&&D.isActive&&!H&&U||I>T&&U,R=!1;const j=Array.isArray(O)?O:[O];let F=j.reduce(s(N),{});B===!1&&(F={});const{prevResolvedValues:$={}}=D,L={...$,...F},be=ye=>{C=!0,v.has(ye)&&(R=!0,v.delete(ye)),D.needsAnimating[ye]=!0;const ve=t.getValue(ye);ve&&(ve.liveStyle=!1)};for(const ye in L){const ve=F[ye],G=$[ye];if(k.hasOwnProperty(ye))continue;let ne=!1;Wb(ve)&&Wb(G)?ne=!AL(ve,G):ne=ve!==G,ne?ve!=null?be(ye):v.add(ye):ve!==void 0&&v.has(ye)?be(ye):D.protectedKeys[ye]=!0}D.prevProp=O,D.prevResolvedValues=F,D.isActive&&(k={...k,...F}),r&&t.blockInitialAnimation&&(C=!1);const Re=H&&M;C&&(!Re||R)&&g.push(...j.map(ye=>{const ve={type:N};if(typeof ye=="string"&&r&&!Re&&t.manuallyAnimateOnMount&&t.parent){const{parent:G}=t,ne=cc(G,ye);if(G.enteringChildren&&ne){const{delayChildren:ae}=ne.transition||{};ve.delay=ML(G.enteringChildren,t,ae)}}return{animation:ye,options:ve}}))}if(v.size){const I={};if(typeof d.initial!="boolean"){const N=cc(t,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(I.transition=N.transition)}v.forEach(N=>{const D=t.getBaseTarget(N),O=t.getValue(N);O&&(O.liveStyle=!0),I[N]=D??null}),g.push({animation:I})}let _=!!g.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(g):Promise.resolve()}function u(h,d){var m;if(n[h].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(v=>{var k;return(k=v.animationState)==null?void 0:k.setActive(h,d)}),n[h].isActive=d;const g=o(h);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:o,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=r2()}}}function kee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!AL(e,t):!1}function Ho(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function r2(){return{animate:Ho(!0),whileInView:Ho(),whileHover:Ho(),whileTap:Ho(),whileDrag:Ho(),whileFocus:Ho(),exit:Ho()}}class lo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class See extends lo{constructor(e){super(e),e.animationState||(e.animationState=Eee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let _ee=0;class Tee extends lo{constructor(){super(...arguments),this.id=_ee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Iee={animation:{Feature:See},exit:{Feature:Tee}};function af(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Lf(t){return{point:{x:t.pageX,y:t.pageY}}}const Cee=t=>e=>pE(e)&&t(e,Lf(e));function _d(t,e,n,r){return af(t,e,Cee(n),r)}const LL=1e-4,Pee=1-LL,Nee=1+LL,jL=.01,Dee=0-jL,Ree=0+jL;function Vn(t){return t.max-t.min}function Mee(t,e,n){return Math.abs(t-e)<=n}function s2(t,e,n,r=.5){t.origin=r,t.originPoint=Tt(e.min,e.max,t.origin),t.scale=Vn(n)/Vn(e),t.translate=Tt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Pee&&t.scale<=Nee||isNaN(t.scale))&&(t.scale=1),(t.translate>=Dee&&t.translate<=Ree||isNaN(t.translate))&&(t.translate=0)}function Td(t,e,n,r){s2(t.x,e.x,n.x,r?r.originX:void 0),s2(t.y,e.y,n.y,r?r.originY:void 0)}function i2(t,e,n){t.min=n.min+e.min,t.max=t.min+Vn(e)}function Aee(t,e,n){i2(t.x,e.x,n.x),i2(t.y,e.y,n.y)}function a2(t,e,n){t.min=e.min-n.min,t.max=t.min+Vn(e)}function Id(t,e,n){a2(t.x,e.x,n.x),a2(t.y,e.y,n.y)}function Mr(t){return[t("x"),t("y")]}const VL=({current:t})=>t?t.ownerDocument.defaultView:null,o2=(t,e)=>Math.abs(t-e);function Oee(t,e){const n=o2(t.x,e.x),r=o2(t.y,e.y);return Math.sqrt(n**2+r**2)}class FL{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=yw(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,T=Oee(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!T)return;const{point:_}=v,{timestamp:I}=yn;this.history.push({..._,timestamp:I});const{onStart:N,onMove:D}=this.handlers;k||(N&&N(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,v)},this.handlePointerMove=(v,k)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=gw(k,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(v,k)=>{this.end();const{onEnd:T,onSessionEnd:_,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=yw(v.type==="pointercancel"?this.lastMoveEventInfo:gw(k,this.transformPagePoint),this.history);this.startEvent&&T&&T(v,N),_&&_(v,N)},!pE(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const u=Lf(e),h=gw(u,this.transformPagePoint),{point:d}=h,{timestamp:m}=yn;this.history=[{...d,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,yw(h,this.history)),this.removeListeners=Mf(_d(this.contextWindow,"pointermove",this.handlePointerMove),_d(this.contextWindow,"pointerup",this.handlePointerUp),_d(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),no(this.updatePoint)}}function gw(t,e){return e?{point:e(t.point)}:t}function l2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yw({point:t},e){return{point:t,delta:l2(t,UL(e)),offset:l2(t,Lee(e)),velocity:jee(e,.1)}}function Lee(t){return t[0]}function UL(t){return t[t.length-1]}function jee(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=UL(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>$s(e)));)n--;if(!r)return{x:0,y:0};const i=jr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Vee(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Tt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Tt(n,t,r.max):Math.min(t,n)),t}function u2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Fee(t,{top:e,left:n,bottom:r,right:s}){return{x:u2(t.x,n,s),y:u2(t.y,e,r)}}function c2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Uee(t,e){return{x:c2(t.x,e.x),y:c2(t.y,e.y)}}function zee(t,e){let n=.5;const r=Vn(t),s=Vn(e);return s>r?n=ef(e.min,e.max-r,t.min):r>s&&(n=ef(t.min,t.max-s,e.min)),Fi(0,1,n)}function Bee(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Qb=.35;function $ee(t=Qb){return t===!1?t=0:t===!0&&(t=Qb),{x:h2(t,"left","right"),y:h2(t,"top","bottom")}}function h2(t,e,n){return{min:d2(t,e),max:d2(t,n)}}function d2(t,e){return typeof t=="number"?t:t[e]||0}const qee=new WeakMap;class Kee{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lf(g).point)},o=(g,v)=>{const{drag:k,dragPropagation:T,onDragStart:_}=this.getProps();if(k&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nZ(k),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mr(N=>{let D=this.getAxisMotionValue(N).get()||0;if(qs.test(D)){const{projection:O}=this.visualElement;if(O&&O.layout){const U=O.layout.layoutBox[N];U&&(D=Vn(U)*(parseFloat(D)/100))}}this.originPoint[N]=D}),_&&xt.postRender(()=>_(g,v)),Hb(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:k,dragDirectionLock:T,onDirectionLock:_,onDrag:I}=this.getProps();if(!k&&!this.openDragLock)return;const{offset:N}=v;if(T&&this.currentDirection===null){this.currentDirection=Wee(N),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",v.point,N),this.updateAxis("y",v.point,N),this.visualElement.render(),I&&I(g,v)},h=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Mr(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new FL(e,{onSessionStart:i,onStart:o,onMove:u,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:VL(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&xt.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Tm(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Vee(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,i=this.constraints;n&&Zu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Fee(s.layoutBox,n):this.constraints=!1,this.elastic=$ee(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Mr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Bee(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zu(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=HZ(r,s.root,this.visualElement.getTransformPagePoint());let o=Uee(s.layout.layoutBox,i);if(n){const u=n(qZ(o));this.hasMutatedConstraints=!!u,u&&(o=kL(u))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},d=Mr(m=>{if(!Tm(m,n,this.currentDirection))return;let g=h&&h[m]||{};o&&(g={min:0,max:0});const v=s?200:1e6,k=s?40:1e7,T={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:k,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(m,T)});return Promise.all(d).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Hb(this.visualElement,e),r.start(kE(e,r,0,n,this.visualElement,!1))}stopAnimation(){Mr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Mr(n=>{const{drag:r}=this.getProps();if(!Tm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:u}=s.layout.layoutBox[n];i.set(e[n]-Tt(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Mr(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const h=u.get();s[o]=zee({min:h,max:h},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mr(o=>{if(!Tm(o,e,null))return;const u=this.getAxisMotionValue(o),{min:h,max:d}=this.constraints[o];u.set(Tt(h,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;qee.set(this.visualElement,this);const e=this.visualElement.current,n=_d(e,"pointerdown",h=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Zu(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),xt.read(r);const o=af(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(Mr(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=h[m].translate,g.set(g.get()+h[m].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Qb,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:u}}}function Tm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Wee(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Hee extends lo{constructor(e){super(e),this.removeGroupControls=Ur,this.removeListeners=Ur,this.controls=new Kee(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ur}unmount(){this.removeGroupControls(),this.removeListeners()}}const f2=t=>(e,n)=>{t&&xt.postRender(()=>t(e,n))};class Gee extends lo{constructor(){super(...arguments),this.removePointerDownListener=Ur}onPointerDown(e){this.session=new FL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:f2(e),onStart:f2(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&xt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=_d(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function p2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const rd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Le.test(t))t=parseFloat(t);else return t;const n=p2(t,e.target.x),r=p2(t,e.target.y);return`${n}% ${r}%`}},Qee={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ro.parse(t);if(s.length>5)return r;const i=ro.createTransformer(t),o=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;s[0+o]/=u,s[1+o]/=h;const d=Tt(u,h,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};let vw=!1;class Xee extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;vZ(Yee),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),vw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Zm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,vw=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||xt.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;vw=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zL(t){const[e,n]=hZ(),r=E.useContext(wO);return x.jsx(Xee,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(xL),isPresent:e,safeToRemove:n})}const Yee={borderRadius:{...rd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rd,borderTopRightRadius:rd,borderBottomLeftRadius:rd,borderBottomRightRadius:rd,boxShadow:Qee};function Jee(t,e,n){const r=Rn(t)?t:Tc(t);return r.start(kE("",r,e,n)),r.animation}const Zee=(t,e)=>t.depth-e.depth;class ete{constructor(){this.children=[],this.isDirty=!1}add(e){G1(this.children,e),this.isDirty=!0}remove(e){Q1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Zee),this.isDirty=!1,this.children.forEach(e)}}function tte(t,e){const n=nr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(no(r),t(i-e))};return xt.setup(r,!0),()=>no(r)}const BL=["TopLeft","TopRight","BottomLeft","BottomRight"],nte=BL.length,m2=t=>typeof t=="string"?parseFloat(t):t,g2=t=>typeof t=="number"||Le.test(t);function rte(t,e,n,r,s,i){s?(t.opacity=Tt(0,n.opacity??1,ste(r)),t.opacityExit=Tt(e.opacity??1,0,ite(r))):i&&(t.opacity=Tt(e.opacity??1,n.opacity??1,r));for(let o=0;o<nte;o++){const u=`border${BL[o]}Radius`;let h=y2(e,u),d=y2(n,u);h===void 0&&d===void 0||(h||(h=0),d||(d=0),h===0||d===0||g2(h)===g2(d)?(t[u]=Math.max(Tt(m2(h),m2(d),r),0),(qs.test(d)||qs.test(h))&&(t[u]+="%")):t[u]=d)}(e.rotate||n.rotate)&&(t.rotate=Tt(e.rotate||0,n.rotate||0,r))}function y2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ste=$L(0,.5,NO),ite=$L(.5,.95,Ur);function $L(t,e,n){return r=>r<t?0:r>e?1:n(ef(t,e,r))}function v2(t,e){t.min=e.min,t.max=e.max}function Rr(t,e){v2(t.x,e.x),v2(t.y,e.y)}function w2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function b2(t,e,n,r,s){return t-=e,t=Gg(t,1/n,r),s!==void 0&&(t=Gg(t,1/s,r)),t}function ate(t,e=0,n=1,r=.5,s,i=t,o=t){if(qs.test(e)&&(e=parseFloat(e),e=Tt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=Tt(i.min,i.max,r);t===i&&(u-=e),t.min=b2(t.min,e,n,u,s),t.max=b2(t.max,e,n,u,s)}function x2(t,e,[n,r,s],i,o){ate(t,e[n],e[r],e[s],e.scale,i,o)}const ote=["x","scaleX","originX"],lte=["y","scaleY","originY"];function E2(t,e,n,r){x2(t.x,e,ote,n?n.x:void 0,r?r.x:void 0),x2(t.y,e,lte,n?n.y:void 0,r?r.y:void 0)}function k2(t){return t.translate===0&&t.scale===1}function qL(t){return k2(t.x)&&k2(t.y)}function S2(t,e){return t.min===e.min&&t.max===e.max}function ute(t,e){return S2(t.x,e.x)&&S2(t.y,e.y)}function _2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function KL(t,e){return _2(t.x,e.x)&&_2(t.y,e.y)}function T2(t){return Vn(t.x)/Vn(t.y)}function I2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class cte{constructor(){this.members=[]}add(e){G1(this.members,e),e.scheduleRender()}remove(e){if(Q1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hte(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:m,rotateX:g,rotateY:v,skewX:k,skewY:T}=n;d&&(r=`perspective(${d}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),k&&(r+=`skewX(${k}deg) `),T&&(r+=`skewY(${T}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const ww=["","X","Y","Z"],dte=1e3;let fte=0;function bw(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function WL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=DL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&WL(r)}function HL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},o=e==null?void 0:e()){this.id=fte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gte),this.nodes.forEach(bte),this.nodes.forEach(xte),this.nodes.forEach(yte)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new ete)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new J1),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const u=this.eventHandlers.get(i);u&&u.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=lL(i)&&!lZ(i),this.instance=i;const{layoutId:o,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||o)&&(this.isLayoutDirty=!0),t){let d,m=0;const g=()=>this.root.updateBlockedByResize=!1;xt.read(()=>{m=window.innerWidth}),t(i,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,d&&d(),d=tte(g,250),Zm.hasAnimatedSinceResize&&(Zm.hasAnimatedSinceResize=!1,this.nodes.forEach(N2)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&h&&(o||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||h.getDefaultTransition()||Tte,{onLayoutAnimationStart:T,onLayoutAnimationComplete:_}=h.getProps(),I=!this.targetLayout||!KL(this.targetLayout,v),N=!m&&g;if(this.options.layoutRoot||this.resumeFrom||N||m&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...hE(k,"layout"),onPlay:T,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(d,N)}else m||N2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),no(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ete),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(C2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(P2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wte),this.nodes.forEach(pte),this.nodes.forEach(mte)):this.nodes.forEach(P2),this.clearAllSnapshots();const i=nr.now();yn.delta=Fi(0,1e3/60,i-yn.timestamp),yn.timestamp=i,yn.isProcessing=!0,lw.update.process(yn),lw.preRender.process(yn),lw.render.process(yn),yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vte),this.sharedNodes.forEach(kte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vn(this.snapshot.measuredBox.x)&&!Vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!qL(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,d=h!==this.prevTransformTemplateValue;i&&this.instance&&(o||Zo(this.latestValues)||d)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return i&&(u=this.removeTransform(u)),Ite(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:o}=this.options;if(!o)return zt();const u=o.measureViewportBox();if(!((i=this.scroll)!=null&&i.wasRoot||this.path.some(Cte))){const{scroll:h}=this.root;h&&(ec(u.x,h.offset.x),ec(u.y,h.offset.y))}return u}removeElementScroll(i){var o;const u=zt();if(Rr(u,i),(o=this.scroll)!=null&&o.wasRoot)return u;for(let h=0;h<this.path.length;h++){const d=this.path[h],{scroll:m,options:g}=d;d!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Rr(u,i),ec(u.x,m.offset.x),ec(u.y,m.offset.y))}return u}applyTransform(i,o=!1){const u=zt();Rr(u,i);for(let h=0;h<this.path.length;h++){const d=this.path[h];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&tc(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Zo(d.latestValues)&&tc(u,d.latestValues)}return Zo(this.latestValues)&&tc(u,this.latestValues),u}removeTransform(i){const o=zt();Rr(o,i);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Zo(h.latestValues))continue;$b(h.latestValues)&&h.updateSnapshot();const d=zt(),m=h.measurePageBox();Rr(d,m),E2(o,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,d)}return Zo(this.latestValues)&&E2(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(i||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(o=this.parent)!=null&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!(!this.layout||!(d||m))){if(this.resolvedRelativeTargetAt=yn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Id(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Aee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rr(this.target,this.layout.layoutBox),_L(this.target,this.targetDelta)):Rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Id(this.relativeTargetOrigin,this.target,g.target),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$b(this.parent.latestValues)||SL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let h=!0;if((this.isProjectionDirty||(i=this.parent)!=null&&i.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===yn.timestamp&&(h=!1),h)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Rr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;WZ(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=zt());const{target:k}=o;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(w2(this.prevProjectionDelta.x,this.projectionDelta.x),w2(this.prevProjectionDelta.y,this.projectionDelta.y)),Td(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!I2(this.projectionDelta.x,this.prevProjectionDelta.x)||!I2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),i){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nc(),this.projectionDelta=nc(),this.projectionDeltaWithTransform=nc()}setAnimationOrigin(i,o=!1){const u=this.snapshot,h=u?u.latestValues:{},d={...this.latestValues},m=nc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=zt(),v=u?u.source:void 0,k=this.layout?this.layout.source:void 0,T=v!==k,_=this.getStack(),I=!_||_.members.length<=1,N=!!(T&&!I&&this.options.crossfade===!0&&!this.path.some(_te));this.animationProgress=0;let D;this.mixTargetDelta=O=>{const U=O/1e3;D2(m.x,i.x,U),D2(m.y,i.y,U),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Id(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ste(this.relativeTarget,this.relativeTargetOrigin,g,U),D&&ute(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=zt()),Rr(D,this.relativeTarget)),T&&(this.animationValues=d,rte(d,h,this.latestValues,U,N,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var o,u,h;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(h=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||h.stop(),this.pendingAnimation&&(no(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{Zm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tc(0)),this.currentAnimation=Jee(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dte),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:u,layout:h,latestValues:d}=i;if(!(!o||!u||!h)){if(this!==i&&this.layout&&h&&GL(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||zt();const m=Vn(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+m;const g=Vn(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+g}Rr(o,u),tc(o,d),Td(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new cte),this.sharedNodes.get(i).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())==null?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())==null?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:u}=i;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const h={};u.z&&bw("z",i,h,this.animationValues);for(let d=0;d<ww.length;d++)bw(`rotate${ww[d]}`,i,h,this.animationValues),bw(`skew${ww[d]}`,i,h,this.animationValues);i.render();for(const d in h)i.setStaticValue(d,h[d]),this.animationValues&&(this.animationValues[d]=h[d]);i.scheduleRender()}applyProjectionStyles(i,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=Jm(o==null?void 0:o.pointerEvents)||"",i.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=Jm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Zo(this.latestValues)&&(i.transform=u?u({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=hte(this.projectionDeltaWithTransform,this.treeScale,d);u&&(m=u(d,m)),i.transform=m;const{x:g,y:v}=this.projectionDelta;i.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,h.animationValues?i.opacity=h===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const k in sf){if(d[k]===void 0)continue;const{correct:T,applyTo:_,isCSSVariable:I}=sf[k],N=m==="none"?d[k]:T(d[k],h);if(_){const D=_.length;for(let O=0;O<D;O++)i[_[O]]=N}else I?this.options.visualElement.renderState.vars[k]=N:i[k]=N}this.options.layoutId&&(i.pointerEvents=h===this?Jm(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(C2),this.root.sharedNodes.clear()}}}function pte(t){t.updateLayout()}function mte(t){var e;const n=((e=t.resumeFrom)==null?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Mr(g=>{const v=o?n.measuredBox[g]:n.layoutBox[g],k=Vn(v);v.min=r[g].min,v.max=v.min+k}):GL(i,n.layoutBox,r)&&Mr(g=>{const v=o?n.measuredBox[g]:n.layoutBox[g],k=Vn(r[g]);v.max=v.min+k,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+k)});const u=nc();Td(u,r,n.layoutBox);const h=nc();o?Td(h,t.applyTransform(s,!0),n.measuredBox):Td(h,r,n.layoutBox);const d=!qL(u);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:k}=g;if(v&&k){const T=zt();Id(T,n.layoutBox,v.layoutBox);const _=zt();Id(_,r,k.layoutBox),KL(T,_)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=T,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function gte(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yte(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vte(t){t.clearSnapshot()}function C2(t){t.clearMeasurements()}function P2(t){t.isLayoutDirty=!1}function wte(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function N2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bte(t){t.resolveTargetDelta()}function xte(t){t.calcProjection()}function Ete(t){t.resetSkewAndRotation()}function kte(t){t.removeLeadSnapshot()}function D2(t,e,n){t.translate=Tt(e.translate,0,n),t.scale=Tt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function R2(t,e,n,r){t.min=Tt(e.min,n.min,r),t.max=Tt(e.max,n.max,r)}function Ste(t,e,n,r){R2(t.x,e.x,n.x,r),R2(t.y,e.y,n.y,r)}function _te(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Tte={duration:.45,ease:[.4,0,.1,1]},M2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),A2=M2("applewebkit/")&&!M2("chrome/")?Math.round:Ur;function O2(t){t.min=A2(t.min),t.max=A2(t.max)}function Ite(t){O2(t.x),O2(t.y)}function GL(t,e,n){return t==="position"||t==="preserve-aspect"&&!Mee(T2(e),T2(n),.2)}function Cte(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Pte=HL({attachResizeListener:(t,e)=>af(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xw={current:void 0},QL=HL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xw.current){const t=new Pte({});t.mount(window),t.setOptions({layoutScroll:!0}),xw.current=t}return xw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Nte={pan:{Feature:Gee},drag:{Feature:Hee,ProjectionNode:QL,MeasureLayout:zL}};function L2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&xt.postRender(()=>i(e,Lf(e)))}class Dte extends lo{mount(){const{current:e}=this.node;e&&(this.unmount=rZ(e,(n,r)=>(L2(this.node,r,"Start"),s=>L2(this.node,s,"End"))))}unmount(){}}class Rte extends lo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mf(af(this.node.current,"focus",()=>this.onFocus()),af(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function j2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&xt.postRender(()=>i(e,Lf(e)))}class Mte extends lo{mount(){const{current:e}=this.node;e&&(this.unmount=oZ(e,(n,r)=>(j2(this.node,r,"Start"),(s,{success:i})=>j2(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xb=new WeakMap,Ew=new WeakMap,Ate=t=>{const e=Xb.get(t.target);e&&e(t)},Ote=t=>{t.forEach(Ate)};function Lte({root:t,...e}){const n=t||document;Ew.has(n)||Ew.set(n,{});const r=Ew.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Ote,{root:t,...e})),r[s]}function jte(t,e,n){const r=Lte(e);return Xb.set(t,n),r.observe(t),()=>{Xb.delete(t),r.unobserve(t)}}const Vte={some:0,all:1};class Fte extends lo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Vte[s]},u=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=d?m:g;v&&v(h)};return jte(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Ute(e,n))&&this.startObserver()}unmount(){}}function Ute({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const zte={inView:{Feature:Fte},tap:{Feature:Mte},focus:{Feature:Rte},hover:{Feature:Dte}},Bte={layout:{ProjectionNode:QL,MeasureLayout:zL}},$te={...Iee,...zte,...Nte,...Bte},Ft=$Z($te,nee);function Yb(){const t=y1(),{user:e,loading:n}=N1(),[r,s]=bn.useState(!1);E.useEffect(()=>{!n&&e&&t(yt("Home"))},[e,n,t]);const i=()=>{e?t(yt("Home")):s(!0)};if(n)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-white",children:"Loading..."})]})});const o=[{icon:H$,title:"12 Math Concepts",description:"Addition, subtraction, multiplication, division, fractions, decimals, percentages, geometry & more!",gradient:"from-blue-400 to-cyan-500",emoji:""},{icon:iM,title:"AI Math Tutor",description:"Stuck on a problem? Get instant help with step-by-step explanations!",gradient:"from-purple-400 to-pink-500",emoji:""},{icon:BI,title:"Daily Challenges",description:"New challenges every day! Compete for bonus stars and climb the leaderboard!",gradient:"from-yellow-400 to-orange-500",emoji:""},{icon:H0,title:"Earn Rewards",description:"Collect stars and coins to unlock cool avatar items, pets, badges, and power-ups!",gradient:"from-green-400 to-emerald-500",emoji:""},{icon:$I,title:"Team Challenges",description:"Team up with friends and family to complete challenges together!",gradient:"from-indigo-400 to-purple-500",emoji:""},{icon:lq,title:"Safe & Secure",description:"Advanced parental controls, time limits, and content filtering for peace of mind",gradient:"from-red-400 to-pink-500",emoji:""}],u=[{emoji:"",name:"Addition",grade:"K-4"},{emoji:"",name:"Subtraction",grade:"K-4"},{emoji:"",name:"Multiplication",grade:"2-5"},{emoji:"",name:"Division",grade:"3-6"},{emoji:"",name:"Fractions",grade:"3-6"},{emoji:"0.5",name:"Decimals",grade:"4-7"},{emoji:"%",name:"Percentages",grade:"5-8"},{emoji:"",name:"Word Problems",grade:"2-6"},{emoji:"",name:"Money Math",grade:"1-5"},{emoji:"",name:"Time",grade:"1-4"},{emoji:"",name:"Geometry",grade:"3-7"},{emoji:"",name:"Mixed",grade:"3-8"}],h=[{text:"My kids actually BEG to practice math now! They love earning stars and unlocking new pets. Best $1 we've ever spent!",author:"Sarah M.",role:"Parent of 2 (Ages 7 & 9)",rating:5,emoji:""},{text:"The AI tutor is incredible! It explains things in a way my students actually understand. My whole class is hooked!",author:"Mr. Johnson",role:"3rd Grade Teacher",rating:5,emoji:""},{text:"I used to hate math but now it's FUN! I got the dragon pet and I'm on a 12-day streak! ",author:"Emma, Age 9",role:"Student & Math Champion",rating:5,emoji:""}],d=[{icon:BI,value:"10,000+",label:"Games Played Daily",color:"text-yellow-600"},{icon:H0,value:"50,000+",label:"Stars Earned",color:"text-purple-600"},{icon:$I,value:"1,000+",label:"Happy Learners",color:"text-blue-600"},{icon:zI,value:"100%",label:"Fun Guaranteed",color:"text-pink-600"}],m=[{emoji:"",name:"Dragon Pet",desc:"Levels up with you!"},{emoji:"",name:"Crown",desc:"Show you're a champion!"},{emoji:"",name:"Custom Avatar",desc:"100+ items to unlock!"},{emoji:"",name:"Power-Ups",desc:"Time freeze, hints & more!"}];return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx(Ft.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-20",children:""}),x.jsx(Ft.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-40 right-20 text-7xl opacity-20",children:""}),x.jsx(Ft.div,{animate:{y:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-40 text-5xl opacity-20",children:""}),x.jsx(Ft.div,{animate:{x:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 right-10 text-6xl opacity-20",children:""})]}),x.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 md:py-20",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Ft.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"inline-block mb-8",children:x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl transform rotate-12 animate-pulse overflow-hidden",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-24 h-24 object-contain transform -rotate-12"})}),x.jsx(Ft.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 text-4xl",children:""}),x.jsx(Ft.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -left-2 text-4xl",children:""})]})}),x.jsx(Ft.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 text-white drop-shadow-2xl",children:"Math is FUN Now! "}),x.jsx(Ft.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl text-white mb-4 max-w-3xl mx-auto font-bold drop-shadow-lg",children:"Learn  Play  Earn Rewards  Level Up!"}),x.jsxs(Ft.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[x.jsxs(gm,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 text-lg font-bold shadow-xl border-0 animate-pulse",children:[x.jsx(L$,{className:"w-5 h-5 mr-2"}),"7-Day FREE Trial - All Features!"]}),x.jsxs(gm,{className:"bg-white text-pink-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(zI,{className:"w-5 h-5 mr-2"}),"Kids LOVE It!"]}),x.jsxs(gm,{className:"bg-white text-blue-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(aM,{className:"w-5 h-5 mr-2"}),"AI-Powered"]})]}),x.jsxs(Ft.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[x.jsxs(is,{onClick:i,className:"h-20 px-12 text-2xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:[x.jsx(sq,{className:"w-8 h-8 mr-3"}),"START FREE NOW! "]}),x.jsxs(is,{onClick:()=>{var g;return(g=document.getElementById("features"))==null?void 0:g.scrollIntoView({behavior:"smooth"})},className:"h-20 px-10 text-xl font-bold border-4 border-white text-white bg-transparent hover:bg-white hover:text-purple-600 shadow-xl transition-all",children:["See What's Inside",x.jsx(_$,{className:"w-6 h-6 ml-2"})]})]}),x.jsx(Ft.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:d.map((g,v)=>{const k=g.icon;return x.jsxs(Ft.div,{whileHover:{scale:1.05},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border-4 border-yellow-300",children:[x.jsx(k,{className:`w-10 h-10 mx-auto mb-3 ${g.color}`}),x.jsx("div",{className:"text-3xl font-black text-gray-800",children:g.value}),x.jsx("div",{className:"text-sm font-bold text-gray-600 mt-1",children:g.label})]},v)})})]})}),x.jsxs("div",{style:{background:"linear-gradient(90deg, #6a11cb 0%, #2575fc 100%)",color:"#fff",padding:"14px 0 12px 0",textAlign:"center",fontWeight:"bold",fontSize:"1.1rem",letterSpacing:"0.01em",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.08)",borderBottom:"2px solid #fff",borderRadius:8,margin:"0 auto 24px auto",maxWidth:900},className:"mx-auto mb-8",children:[x.jsx("span",{role:"img","aria-label":"lightbulb",style:{marginRight:8},children:""}),"Best Experience: ",x.jsx("span",{style:{fontWeight:700},children:"Math Adventure"})," works best on ",x.jsx("span",{style:{textDecoration:"underline"},children:"tablets"})," and ",x.jsx("span",{style:{textDecoration:"underline"},children:"desktop computers"})," for optimal gameplay and features."]}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"What's Inside? Everything! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Your kids will love these amazing features!"})]}),x.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-16",children:m.map((g,v)=>x.jsxs(Ft.div,{whileHover:{y:-10,scale:1.05},className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-8 text-center border-4 border-purple-300 shadow-xl",children:[x.jsx("div",{className:"text-7xl mb-4",children:g.emoji}),x.jsx("h3",{className:"font-black text-xl mb-2 text-purple-800",children:g.name}),x.jsx("p",{className:"text-gray-700 font-semibold",children:g.desc})]},v))}),x.jsxs("div",{className:"mb-16",children:[x.jsx("h3",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-gray-800",children:"12 Math Skills to Master! "}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:u.map((g,v)=>x.jsxs(Ft.div,{whileHover:{scale:1.1,rotate:5},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 text-center border-3 border-blue-200 shadow-lg hover:shadow-2xl transition-all",children:[x.jsx("div",{className:"text-5xl mb-3",children:g.emoji}),x.jsx("div",{className:"font-bold text-sm text-gray-800",children:g.name}),x.jsx(gm,{className:"mt-2 bg-purple-500 text-white text-xs",children:g.grade})]},v))})]})]})}),x.jsx("div",{id:"features",className:"bg-gradient-to-br from-yellow-50 to-orange-50 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Why Kids Are OBSESSED! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Learning has never been this fun!"})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map((g,v)=>{const k=g.icon;return x.jsxs(Ft.div,{whileHover:{y:-10},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300",children:[x.jsxs("div",{className:`h-32 bg-gradient-to-br ${g.gradient} flex items-center justify-center relative`,children:[x.jsx("div",{className:"text-7xl",children:g.emoji}),x.jsx("div",{className:"absolute top-3 right-3",children:x.jsx(k,{className:"w-10 h-10 text-white opacity-50"})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("h3",{className:"text-2xl font-black mb-3 text-gray-800",children:g.title}),x.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:g.description})]})]},v)})})]})}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"So Easy, Even Parents Can Do It! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Three simple steps to math mastery"})]}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[x.jsxs(Ft.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-green-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-green-500",children:"1"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Pick & Play! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Choose a math topic and difficulty. Start playing in seconds!"})]}),x.jsxs(Ft.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-blue-400 to-cyan-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-blue-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-blue-500",children:"2"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Learn & Win! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Solve problems, get AI help when stuck, earn stars & coins!"})]}),x.jsxs(Ft.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-purple-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-purple-500",children:"3"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Unlock Rewards! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Buy avatars, pets, badges, power-ups and MORE!"})]})]})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Parents & Kids LOVE Us! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Don't just take our word for it..."})]}),x.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:h.map((g,v)=>x.jsxs(Ft.div,{whileHover:{y:-10,scale:1.02},className:"bg-white rounded-3xl p-8 shadow-2xl border-4 border-purple-300",children:[x.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(g.rating)].map((k,T)=>x.jsx(H0,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"},T))}),x.jsx("div",{className:"text-6xl mb-4",children:g.emoji}),x.jsxs("p",{className:"text-gray-700 mb-6 italic font-semibold text-lg",children:['"',g.text,'"']}),x.jsxs("div",{children:[x.jsx("p",{className:"font-black text-lg text-gray-800",children:g.author}),x.jsx("p",{className:"text-sm text-gray-600 font-bold",children:g.role})]})]},v))})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 py-20",children:x.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[x.jsx(Ft.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-8xl mb-8",children:""}),x.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 text-white drop-shadow-2xl",children:"Ready for Math Adventure?"}),x.jsx("p",{className:"text-3xl text-white mb-12 font-bold drop-shadow-lg",children:"Join 1,000+ kids having FUN with math!"}),x.jsxs(is,{onClick:i,className:"h-24 px-16 text-3xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-110 transition-all animate-pulse",children:[x.jsx(nq,{className:"w-10 h-10 mr-4"}),"LET'S GO! IT'S FREE! "]}),x.jsx("p",{className:"text-white mt-6 text-lg font-bold drop-shadow",children:" No credit card   Start in 30 seconds   100% kid-safe"})]})}),x.jsx("div",{className:"bg-gray-900 text-white py-8",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[x.jsx("div",{className:"mb-4 flex items-center justify-center",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-16 h-16 object-contain"})}),x.jsx("h3",{className:"text-3xl font-black mb-2",children:"Math Adventure"}),x.jsx("p",{className:"text-gray-400 mb-4 text-lg",children:"Making math fun, one game at a time! "}),x.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Math Adventure. Built with  for learners everywhere."})]})}),r&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[x.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:""}),x.jsx(EM,{onSuccess:()=>t(yt("Home"))})]})})]})}const XL=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./Home-CyglPuDJ-D9CUbwlO-Dn0JEjKr-DdFXiRGG.js"),__vite__mapDeps([4,5,6,7,8,9,10,11,12,13,14,15,16,17,18])),$t([4,5,6,7,8,9,10,11,12,13,14,15,16,17,18])),Kt([4,5,6,7,8,9,10,11,12,13,14,15,16,17,18])),Ht([4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]))),YL=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./Game-Car3f5Hl-Cd-6q65H-DycnM-eA-C5GXfM6H.js"),__vite__mapDeps([19,20,1,21,22,10,23,24,16,11,17,9,25,15,26,27,28,29,7])),$t([19,20,1,21,22,10,23,24,16,11,17,9,25,15,26,27,28,29,7])),Kt([19,20,1,21,22,10,23,24,16,11,17,9,25,15,26,27,28,29,7])),Ht([19,20,1,21,22,10,23,24,16,11,17,9,25,15,26,27,28,29,7]))),JL=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./Avatar-D3Vaufpw-BPf8_-ke-_cfin1pE-C2BOynHV.js"),__vite__mapDeps([30,20,31,32,33,34,15,0,1,14,35,26])),$t([30,20,31,32,33,34,15,0,1,14,35,26])),Kt([30,20,31,32,33,34,15,0,1,14,35,26])),Ht([30,20,31,32,33,34,15,0,1,14,35,26]))),ZL=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./DailyChallenge-B_TmHe71-9_GzLfER-CsxzqZM3-_VwMey0I.js"),__vite__mapDeps([36,20,1,21,22,17,10,37,27,29,5,7])),$t([36,20,1,21,22,17,10,37,27,29,5,7])),Kt([36,20,1,21,22,17,10,37,27,29,5,7])),Ht([36,20,1,21,22,17,10,37,27,29,5,7]))),e4=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./ParentPortal-uD_6EQCB-BlSm9-Pl-CqRX-Mqx-B-S9FwlK.js"),__vite__mapDeps([38,20,32,33,39,9,16,25,40,31,41,42,34,1,10,12,43,35,15,26,11,44,45,3,17,46,28,14])),$t([38,20,32,33,39,9,16,25,40,31,41,42,34,1,10,12,43,35,15,26,11,44,45,3,17,46,28,14])),Kt([38,20,32,33,39,9,16,25,40,31,41,42,34,1,10,12,43,35,15,26,11,44,45,3,17,46,28,14])),Ht([38,20,32,33,39,9,16,25,40,31,41,42,34,1,10,12,43,35,15,26,11,44,45,3,17,46,28,14]))),t4=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./Shop-Dpi3jNOM-DBLOEYJG-BF_sU9CL-DvNBc-Nn.js"),__vite__mapDeps([47,20,32,0,1,23,15,28,18,7])),$t([47,20,32,0,1,23,15,28,18,7])),Kt([47,20,32,0,1,23,15,28,18,7])),Ht([47,20,32,0,1,23,15,28,18,7]))),n4=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./Leaderboards-CYLEtOqi-D_0nKBrZ-8wsJcEna-DQi0it0O.js"),__vite__mapDeps([48,20,32,49,9,17,7,12,10,37,46])),$t([48,20,32,49,9,17,7,12,10,37,46])),Kt([48,20,32,49,9,17,7,12,10,37,46])),Ht([48,20,32,49,9,17,7,12,10,37,46]))),r4=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./TeamChallenges-2GLMQU7M-DGgliDx1-BiEgICqP-BlvKOnDJ.js"),__vite__mapDeps([50,20,1,17,23,9,10])),$t([50,20,1,17,23,9,10])),Kt([50,20,1,17,23,9,10])),Ht([50,20,1,17,23,9,10]))),s4=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./Subscription-BwkMZCw3-CEKs35DZ-Ca0AxS_j-B0xkpV8U.js"),__vite__mapDeps([51,20,6,26])),$t([51,20,6,26])),Kt([51,20,6,26])),Ht([51,20,6,26]))),i4=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./GenerateIcons-B2dbw11g-DbI9Llo8-DSH_4hZW-DRd2ybO8.js"),__vite__mapDeps([52,53,26,3,8])),$t([52,53,26,3,8])),Kt([52,53,26,3,8])),Ht([52,53,26,3,8]))),a4=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./TestIconGeneration-CQ_anw_c-DHgdrWEA-CQ8b8X2E-DZ1R5QRu.js"),__vite__mapDeps([54,53])),$t([54,53])),Kt([54,53])),Ht([54,53]))),o4=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./Messages-Ro3POV2v-CReMRa01-C3gv55fU-CYzTU-PC.js"),__vite__mapDeps([55,20,39,45,44,16,43])),$t([55,20,39,45,44,16,43])),Kt([55,20,39,45,44,16,43])),Ht([55,20,39,45,44,16,43]))),l4=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./ColorByNumbers-C-wguKtm-Bn3BlVF7-BLo1ZjK5-yuUNXOXz.js"),__vite__mapDeps([56,20,41,42,34,29,18,12,13,44,24,3,57])),$t([56,20,41,42,34,29,18,12,13,44,24,3,57])),Kt([56,20,41,42,34,29,18,12,13,44,24,3,57])),Ht([56,20,41,42,34,29,18,12,13,44,24,3,57]))),u4=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./Settings-8809jpiZ-B7_Y2-Lf-Ob_cgABU-BIOjc7jO.js"),__vite__mapDeps([58,42,22,18,44,10,12,13,57,24,26,43])),$t([58,42,22,18,44,10,12,13,57,24,26,43])),Kt([58,42,22,18,44,10,12,13,57,24,26,43])),Ht([58,42,22,18,44,10,12,13,57,24,26,43]))),c4=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./PrivacyPolicy-BVigO746-wx1walw0-DZa-2oPw-DPachvog.js"),__vite__mapDeps([59,26,15,45])),$t([59,26,15,45])),Kt([59,26,15,45])),Ht([59,26,15,45]))),h4=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./AITutor-pphYUSPx-B8CYTmba-CJp6NfrQ-DshyLyqJ.js"),__vite__mapDeps([60,32,10,25,16,7,27,1,9,40,17,28,15,11])),$t([60,32,10,25,16,7,27,1,9,40,17,28,15,11])),Kt([60,32,10,25,16,7,27,1,9,40,17,28,15,11])),Ht([60,32,10,25,16,7,27,1,9,40,17,28,15,11]))),d4=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./AdminTestAccount-vgF3JIMZ-DLwBWfuV-B6y8j50m-CKCQmjoX.js"),__vite__mapDeps([61,31,49,26])),$t([61,31,49,26])),Kt([61,31,49,26])),Ht([61,31,49,26]))),f4=E.lazy(()=>Gt(()=>Wt(()=>qt(()=>Bt(()=>import("./Subscribe-CBrYcDKc-BQQoBtfw-x_C8Mm2o-BRGqvseJ.js"),__vite__mapDeps([62,53])),$t([62,53])),Kt([62,53])),Ht([62,53]))),V2={Home:XL,Game:YL,Avatar:JL,DailyChallenge:ZL,ParentPortal:e4,Shop:t4,Leaderboards:n4,TeamChallenges:r4,Subscription:s4,GenerateIcons:i4,TestIconGeneration:a4,Landing:Yb,Messages:o4,ColorByNumbers:l4,Settings:u4,PrivacyPolicy:c4,AITutor:h4,AdminTestAccount:d4,Subscribe:f4};function qte(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(V2).find(n=>n.toLowerCase()===e.toLowerCase())||Object.keys(V2)[0]}const Kte=()=>x.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-gray-600",children:"Loading..."})]})});function Wte(){const t=Wi(),e=qte(t.pathname);return x.jsx(iY,{currentPageName:e,children:x.jsx(Pb,{children:x.jsx(E.Suspense,{fallback:x.jsx(Kte,{}),children:x.jsxs(rB,{children:[x.jsx(Ut,{path:"/",element:x.jsx(Yb,{})}),x.jsx(Ut,{path:"/Home",element:x.jsx(XL,{})}),x.jsx(Ut,{path:"/Game",element:x.jsx(YL,{})}),x.jsx(Ut,{path:"/Avatar",element:x.jsx(JL,{})}),x.jsx(Ut,{path:"/DailyChallenge",element:x.jsx(ZL,{})}),x.jsx(Ut,{path:"/ParentPortal",element:x.jsx(e4,{})}),x.jsx(Ut,{path:"/Shop",element:x.jsx(t4,{})}),x.jsx(Ut,{path:"/Leaderboards",element:x.jsx(n4,{})}),x.jsx(Ut,{path:"/TeamChallenges",element:x.jsx(r4,{})}),x.jsx(Ut,{path:"/Subscription",element:x.jsx(s4,{})}),x.jsx(Ut,{path:"/GenerateIcons",element:x.jsx(i4,{})}),x.jsx(Ut,{path:"/TestIconGeneration",element:x.jsx(a4,{})}),x.jsx(Ut,{path:"/Landing",element:x.jsx(Yb,{})}),x.jsx(Ut,{path:"/Messages",element:x.jsx(o4,{})}),x.jsx(Ut,{path:"/ColorByNumbers",element:x.jsx(l4,{})}),x.jsx(Ut,{path:"/Settings",element:x.jsx(u4,{})}),x.jsx(Ut,{path:"/PrivacyPolicy",element:x.jsx(c4,{})}),x.jsx(Ut,{path:"/AITutor",element:x.jsx(h4,{})}),x.jsx(Ut,{path:"/AdminTestAccount",element:x.jsx(d4,{})}),x.jsx(Ut,{path:"/Subscribe",element:x.jsx(f4,{})})]})})})})}function Hte(){return x.jsx(TB,{children:x.jsx(Wte,{})})}const Gte=20,Qte=1e6,Ci={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let kw=0;function Xte(){return kw=(kw+1)%Number.MAX_VALUE,kw.toString()}const Sw=new Map,F2=t=>{if(Sw.has(t))return;const e=setTimeout(()=>{Sw.delete(t),Cd({type:Ci.REMOVE_TOAST,toastId:t})},Qte);Sw.set(t,e)},Yte=(t,e)=>{switch(e.type){case Ci.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,Gte)};case Ci.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Ci.DISMISS_TOAST:{const{toastId:n}=e;return n?F2(n):t.toasts.forEach(r=>{F2(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Ci.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},eg=[];let tg={toasts:[]};function Cd(t){tg=Yte(tg,t),eg.forEach(e=>{e(tg)})}function Jte({...t}){const e=Xte(),n=s=>Cd({type:Ci.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>Cd({type:Ci.DISMISS_TOAST,toastId:e});return Cd({type:Ci.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Zte(){const[t,e]=E.useState(tg);return E.useEffect(()=>(eg.push(e),()=>{const n=eg.indexOf(e);n>-1&&eg.splice(n,1)}),[t]),{...t,toast:Jte,dismiss:n=>Cd({type:Ci.DISMISS_TOAST,toastId:n})}}const p4=E.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));p4.displayName="ToastProvider";const m4=E.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));m4.displayName="ToastViewport";const ene=Ly("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),g4=E.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,className:vt(ene({variant:e}),t),...n}));g4.displayName="Toast";const tne=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));tne.displayName="ToastAction";const y4=E.forwardRef(({className:t,...e},n)=>x.jsx("button",{ref:n,className:vt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(I1,{className:"h-4 w-4"})}));y4.displayName="ToastClose";const v4=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("text-sm font-semibold",t),...e}));v4.displayName="ToastTitle";const w4=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("text-sm opacity-90",t),...e}));w4.displayName="ToastDescription";function nne(){const{toasts:t}=Zte();return x.jsxs(p4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return x.jsxs(g4,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(v4,{children:n}),r&&x.jsx(w4,{children:r})]}),s,x.jsx(y4,{})]},e)}),x.jsx(m4,{})]})}function rne(){return x.jsxs(x.Fragment,{children:[x.jsx(Hte,{}),x.jsx(nne,{})]})}const sne=new a$({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});$j.createRoot(document.getElementById("root")).render(x.jsx(l$,{client:sne,children:x.jsx(wK,{children:x.jsx(rne,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{Km as $,lY as A,YS as B,N1 as C,EM as D,C$ as E,bn as F,H1 as G,lq as H,vt as I,R$ as J,Ey as K,ls as L,Hs as M,rs as N,Bn as O,Gs as P,cne as Q,L$ as R,E as S,gne as T,Ft as U,$I as V,ZJ as W,y1 as X,tY as Y,vK as Z,Cb as _,dY as a,er as a$,one as a0,X$ as a1,_$ as a2,V$ as a3,A$ as a4,une as a5,ym as a6,G0 as a7,Wm as a8,Ny as a9,gH as aA,Zb as aB,nR as aC,Zte as aD,ZQ as aE,UX as aF,xne as aG,vne as aH,lne as aI,dne as aJ,mne as aK,wne as aL,bne as aM,yne as aN,pne as aO,JH as aP,wA as aQ,GK as aR,AM as aS,Ene as aT,jl as aU,NM as aV,PM as aW,Za as aX,E1 as aY,Li as aZ,xn as a_,Js as aa,cq as ab,If as ac,QM as ad,xb as ae,IM as af,kH as ag,sr as ah,SH as ai,$n as aj,et as ak,Pf as al,sA as am,RM as an,_H as ao,TH as ap,fne as aq,aq as ar,Zd as as,u1 as at,ane as au,Kd as av,zI as aw,hs as ax,Nl as ay,lM as az,fY as b,KB as b0,Tf as b1,ub as b2,Hd as b3,r$ as b4,UI as b5,ine as b6,aA as b7,zH as b8,BH as b9,eK as ba,Ly as bb,uL as c,hne as d,iM as e,H0 as f,wO as g,N$ as h,cY as i,B$ as j,I1 as k,lt as l,b$ as m,o$ as n,hZ as o,BI as p,gm as q,is as r,cn as s,aY as t,_M as u,TM as v,aM as w,x,yt as y,oY as z};
