const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PetDisplay-CWJwigaH-Dn1kB1rT.js","assets/progress-D8Mly-oi-3Ij_j_WH.js","assets/InstallPrompt-DgpoMmSN-7-1KwCIk.js","assets/download-D48Ya7JV-BCGP1QsL.js","assets/Home-CyglPuDJ-D9CUbwlO.js","assets/flame-ByI7R4Rc-BbLUZ-TU.js","assets/AppTrialPromo-3kaWkndE-BUzGMVIJ.js","assets/zap-w4f_OL2g-BKWEZluV.js","assets/external-link-BZwlM77U-BVaGwVZ-.js","assets/trending-up-Bw7UHNpS-DrWngiVT.js","assets/target-CKjL3a7Z-CNfUoT2L.js","assets/book-open-ChO3lU0J-BkdXvgrc.js","assets/plus-BTrUTde5-BsVl2K3z.js","assets/minus-Dt83-KDs-D9F3lV9Z.js","assets/credit-card-6uWoetCu-Drjw4SxZ.js","assets/lock-C1-5gGAl-B47CgZWV.js","assets/circle-alert-BiIT3tKc-CrsIGr-p.js","assets/award-DsC9STJ2-D9jCxi3D.js","assets/palette-DxTrdA_5-Gsry3mCk.js","assets/Game-Car3f5Hl-Cd-6q65H.js","assets/useMutation-BBbn5Ibo-BJFBDAw4.js","assets/CelebrationAnimation-5xmelkAl-MsLmzNGW.js","assets/TextToSpeech-jPFv8Mzs-9YNY52v7.js","assets/coins-C3lSgozT-BPAlcUrl.js","assets/rotate-ccw-BY_oOohm-Dv5j0UO6.js","assets/trending-down-DyY_-Dls-DCTF-sbq.js","assets/triangle-alert-Dd6OicLx-I3IE0NwH.js","assets/QuestionGenerator-z-c728t7-CSzYVewV.js","assets/PremiumFeatureLock-DOt-wJcj-CYCxA8pw.js","assets/arrow-left-B1UHrOU7-W_GQWmbU.js","assets/Avatar-D3Vaufpw-BPf8_-ke.js","assets/label-BaWOfaZ4-D2bnlHOe.js","assets/tabs-CHDP_n8y-n--N7dEs.js","assets/AvatarDisplay-Bq8KvINC-Bkjcf5GX.js","assets/index-BwFEnwcg-BH8kZdV1.js","assets/save-_1Dbls43-gPqzGvW6.js","assets/DailyChallenge-B_TmHe71-9_GzLfER.js","assets/medal-Co574HnZ-BrwNViFy.js","assets/ParentPortal-uD_6EQCB-BlSm9-Pl.js","assets/textarea-CfSFlC7Y-B1_HOiLG.js","assets/LineChart-0kDBnRpG-iX5USs7J.js","assets/select-D2ka9gIq-C0DnmY5i.js","assets/index-DZTJ2JNZ-WUehWf7O.js","assets/trash-2-BVBrMuhg-D5aZdlx9.js","assets/info-DJ4PsQna-CO-tw7TM.js","assets/mail-DSHElOAU-Dxc-4tqR.js","assets/startOfMonth-Wd0pZm1a-DWY8TbZA.js","assets/Shop-Dpi3jNOM-DBLOEYJG.js","assets/Leaderboards-CYLEtOqi-D_0nKBrZ.js","assets/user-plus-BnLNyW7y-BT90OHfh.js","assets/TeamChallenges-2GLMQU7M-DGgliDx1.js","assets/Subscription-BwkMZCw3-CEKs35DZ.js","assets/GenerateIcons-B2dbw11g-DbI9Llo8.js","assets/loader-circle-D_xhh0c4-CLUvB6LZ.js","assets/TestIconGeneration-CQ_anw_c-DHgdrWEA.js","assets/Messages-Ro3POV2v-CReMRa01.js","assets/ColorByNumbers-C-wguKtm-Bn3BlVF7.js","assets/paint-bucket-Dhf5qwFX-BnQ0KpQY.js","assets/Settings-8809jpiZ-B7_Y2-Lf.js","assets/PrivacyPolicy-BVigO746-wx1walw0.js","assets/AITutor-pphYUSPx-B8CYTmba.js","assets/AdminTestAccount-vgF3JIMZ-DLwBWfuV.js","assets/Subscribe-CBrYcDKc-BQQoBtfw.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const wj="modulepreload",xj=function(t){return"/"+t},Nk={},Bt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=o(n.map(d=>{if(d=xj(d),d in Nk)return;Nk[d]=!0;const m=d.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":wj,m||(v.as="script"),v.crossOrigin="",v.href=d,h&&v.setAttribute("nonce",h),document.head.appendChild(v),m)return new Promise((S,_)=>{v.addEventListener("load",S),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return s.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},$t=(t,e=$t,n=e.f||(e.f=["assets/PetDisplay-CWJwigaH.js","assets/progress-D8Mly-oi.js","assets/InstallPrompt-DgpoMmSN.js","assets/download-D48Ya7JV.js","assets/Home-CyglPuDJ.js","assets/flame-ByI7R4Rc.js","assets/AppTrialPromo-3kaWkndE.js","assets/zap-w4f_OL2g.js","assets/external-link-BZwlM77U.js","assets/trending-up-Bw7UHNpS.js","assets/target-CKjL3a7Z.js","assets/book-open-ChO3lU0J.js","assets/plus-BTrUTde5.js","assets/minus-Dt83-KDs.js","assets/credit-card-6uWoetCu.js","assets/lock-C1-5gGAl.js","assets/circle-alert-BiIT3tKc.js","assets/award-DsC9STJ2.js","assets/palette-DxTrdA_5.js","assets/Game-Car3f5Hl.js","assets/useMutation-BBbn5Ibo.js","assets/CelebrationAnimation-5xmelkAl.js","assets/TextToSpeech-jPFv8Mzs.js","assets/coins-C3lSgozT.js","assets/rotate-ccw-BY_oOohm.js","assets/trending-down-DyY_-Dls.js","assets/triangle-alert-Dd6OicLx.js","assets/QuestionGenerator-z-c728t7.js","assets/PremiumFeatureLock-DOt-wJcj.js","assets/arrow-left-B1UHrOU7.js","assets/Avatar-D3Vaufpw.js","assets/label-BaWOfaZ4.js","assets/tabs-CHDP_n8y.js","assets/AvatarDisplay-Bq8KvINC.js","assets/index-BwFEnwcg.js","assets/save-_1Dbls43.js","assets/DailyChallenge-B_TmHe71.js","assets/medal-Co574HnZ.js","assets/ParentPortal-uD_6EQCB.js","assets/textarea-CfSFlC7Y.js","assets/LineChart-0kDBnRpG.js","assets/select-D2ka9gIq.js","assets/index-DZTJ2JNZ.js","assets/trash-2-BVBrMuhg.js","assets/info-DJ4PsQna.js","assets/mail-DSHElOAU.js","assets/startOfMonth-Wd0pZm1a.js","assets/Shop-Dpi3jNOM.js","assets/Leaderboards-CYLEtOqi.js","assets/user-plus-BnLNyW7y.js","assets/TeamChallenges-2GLMQU7M.js","assets/Subscription-BwkMZCw3.js","assets/GenerateIcons-B2dbw11g.js","assets/loader-circle-D_xhh0c4.js","assets/TestIconGeneration-CQ_anw_c.js","assets/Messages-Ro3POV2v.js","assets/ColorByNumbers-C-wguKtm.js","assets/paint-bucket-Dhf5qwFX.js","assets/Settings-8809jpiZ.js","assets/PrivacyPolicy-BVigO746.js","assets/AITutor-pphYUSPx.js","assets/AdminTestAccount-vgF3JIMZ.js","assets/Subscribe-CBrYcDKc.js"]))=>t.map(r=>n[r]);var Ej=Object.defineProperty,MN=t=>{throw TypeError(t)},Sj=(t,e,n)=>e in t?Ej(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ak=(t,e,n)=>Sj(t,typeof e!="symbol"?e+"":e,n),Hw=(t,e,n)=>e.has(t)||MN("Cannot "+n),q=(t,e,n)=>(Hw(t,e,"read from private field"),n?n.call(t):e.get(t)),Me=(t,e,n)=>e.has(t)?MN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(Hw(t,e,"write to private field"),e.set(t,n),n),Ze=(t,e,n)=>(Hw(t,e,"access private method"),n),xb=(t,e,n,r)=>({set _(s){ge(t,e,s)},get _(){return q(t,e,r)}});function kj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var Qte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rk={exports:{}},Ah={},Pk={exports:{}},Ke={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Dk;function Tj(){if(Dk)return Ke;Dk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(K){return K===null||typeof K!="object"?null:(K=g&&K[g]||K["@@iterator"],typeof K=="function"?K:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function I(K,re,pe){this.props=K,this.context=re,this.refs=T,this.updater=pe||S}I.prototype.isReactComponent={},I.prototype.setState=function(K,re){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,re,"setState")},I.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function A(){}A.prototype=I.prototype;function R(K,re,pe){this.props=K,this.context=re,this.refs=T,this.updater=pe||S}var O=R.prototype=new A;O.constructor=R,_(O,I.prototype),O.isPureReactComponent=!0;var U=Array.isArray,B=Object.prototype.hasOwnProperty,G={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C(K,re,pe){var me,De={},ze=null,Ce=null;if(re!=null)for(me in re.ref!==void 0&&(Ce=re.ref),re.key!==void 0&&(ze=""+re.key),re)B.call(re,me)&&!D.hasOwnProperty(me)&&(De[me]=re[me]);var $e=arguments.length-2;if($e===1)De.children=pe;else if(1<$e){for(var Ue=Array($e),dt=0;dt<$e;dt++)Ue[dt]=arguments[dt+2];De.children=Ue}if(K&&K.defaultProps)for(me in $e=K.defaultProps,$e)De[me]===void 0&&(De[me]=$e[me]);return{$$typeof:t,type:K,key:ze,ref:Ce,props:De,_owner:G.current}}function P(K,re){return{$$typeof:t,type:K.type,key:re,ref:K.ref,props:K.props,_owner:K._owner}}function j(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function V(K){var re={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(pe){return re[pe]})}var $=/\/+/g;function L(K,re){return typeof K=="object"&&K!==null&&K.key!=null?V(""+K.key):re.toString(36)}function we(K,re,pe,me,De){var ze=typeof K;(ze==="undefined"||ze==="boolean")&&(K=null);var Ce=!1;if(K===null)Ce=!0;else switch(ze){case"string":case"number":Ce=!0;break;case"object":switch(K.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=K,De=De(Ce),K=me===""?"."+L(Ce,0):me,U(De)?(pe="",K!=null&&(pe=K.replace($,"$&/")+"/"),we(De,re,pe,"",function(dt){return dt})):De!=null&&(j(De)&&(De=P(De,pe+(!De.key||Ce&&Ce.key===De.key?"":(""+De.key).replace($,"$&/")+"/")+K)),re.push(De)),1;if(Ce=0,me=me===""?".":me+":",U(K))for(var $e=0;$e<K.length;$e++){ze=K[$e];var Ue=me+L(ze,$e);Ce+=we(ze,re,pe,Ue,De)}else if(Ue=v(K),typeof Ue=="function")for(K=Ue.call(K),$e=0;!(ze=K.next()).done;)ze=ze.value,Ue=me+L(ze,$e++),Ce+=we(ze,re,pe,Ue,De);else if(ze==="object")throw re=String(K),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Ce}function Pe(K,re,pe){if(K==null)return K;var me=[],De=0;return we(K,me,"","",function(ze){return re.call(pe,ze,De++)}),me}function ye(K){if(K._status===-1){var re=K._result;re=re(),re.then(function(pe){(K._status===0||K._status===-1)&&(K._status=1,K._result=pe)},function(pe){(K._status===0||K._status===-1)&&(K._status=2,K._result=pe)}),K._status===-1&&(K._status=0,K._result=re)}if(K._status===1)return K._result.default;throw K._result}var ve={current:null},H={transition:null},ne={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:H,ReactCurrentOwner:G};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:Pe,forEach:function(K,re,pe){Pe(K,function(){re.apply(this,arguments)},pe)},count:function(K){var re=0;return Pe(K,function(){re++}),re},toArray:function(K){return Pe(K,function(re){return re})||[]},only:function(K){if(!j(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Ke.Component=I,Ke.Fragment=n,Ke.Profiler=s,Ke.PureComponent=R,Ke.StrictMode=r,Ke.Suspense=h,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Ke.act=ae,Ke.cloneElement=function(K,re,pe){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var me=_({},K.props),De=K.key,ze=K.ref,Ce=K._owner;if(re!=null){if(re.ref!==void 0&&(ze=re.ref,Ce=G.current),re.key!==void 0&&(De=""+re.key),K.type&&K.type.defaultProps)var $e=K.type.defaultProps;for(Ue in re)B.call(re,Ue)&&!D.hasOwnProperty(Ue)&&(me[Ue]=re[Ue]===void 0&&$e!==void 0?$e[Ue]:re[Ue])}var Ue=arguments.length-2;if(Ue===1)me.children=pe;else if(1<Ue){$e=Array(Ue);for(var dt=0;dt<Ue;dt++)$e[dt]=arguments[dt+2];me.children=$e}return{$$typeof:t,type:K.type,key:De,ref:ze,props:me,_owner:Ce}},Ke.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:i,_context:K},K.Consumer=K},Ke.createElement=C,Ke.createFactory=function(K){var re=C.bind(null,K);return re.type=K,re},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(K){return{$$typeof:u,render:K}},Ke.isValidElement=j,Ke.lazy=function(K){return{$$typeof:m,_payload:{_status:-1,_result:K},_init:ye}},Ke.memo=function(K,re){return{$$typeof:d,type:K,compare:re===void 0?null:re}},Ke.startTransition=function(K){var re=H.transition;H.transition={};try{K()}finally{H.transition=re}},Ke.unstable_act=ae,Ke.useCallback=function(K,re){return ve.current.useCallback(K,re)},Ke.useContext=function(K){return ve.current.useContext(K)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(K){return ve.current.useDeferredValue(K)},Ke.useEffect=function(K,re){return ve.current.useEffect(K,re)},Ke.useId=function(){return ve.current.useId()},Ke.useImperativeHandle=function(K,re,pe){return ve.current.useImperativeHandle(K,re,pe)},Ke.useInsertionEffect=function(K,re){return ve.current.useInsertionEffect(K,re)},Ke.useLayoutEffect=function(K,re){return ve.current.useLayoutEffect(K,re)},Ke.useMemo=function(K,re){return ve.current.useMemo(K,re)},Ke.useReducer=function(K,re,pe){return ve.current.useReducer(K,re,pe)},Ke.useRef=function(K){return ve.current.useRef(K)},Ke.useState=function(K){return ve.current.useState(K)},Ke.useSyncExternalStore=function(K,re,pe){return ve.current.useSyncExternalStore(K,re,pe)},Ke.useTransition=function(){return ve.current.useTransition()},Ke.version="18.3.1",Ke}var Mk;function Xw(){return Mk||(Mk=1,Pk.exports=Tj()),Pk.exports}/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ok;function _j(){if(Ok)return Ah;Ok=1;var t=Xw(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(u,h,d){var m,g={},v=null,S=null;d!==void 0&&(v=""+d),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(S=h.ref);for(m in h)r.call(h,m)&&!i.hasOwnProperty(m)&&(g[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)g[m]===void 0&&(g[m]=h[m]);return{$$typeof:e,type:u,key:v,ref:S,props:g,_owner:s.current}}return Ah.Fragment=n,Ah.jsx=o,Ah.jsxs=o,Ah}var Lk;function Ij(){return Lk||(Lk=1,Rk.exports=_j()),Rk.exports}var x=Ij(),E=Xw();const gn=Qw(E),Yw=kj({__proto__:null,default:gn},[E]);var Gp={},p0={exports:{}},Gn={},jk={exports:{}},Fk={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Vk;function Cj(){return Vk||(Vk=1,(function(t){function e(H,ne){var ae=H.length;H.push(ne);e:for(;0<ae;){var K=ae-1>>>1,re=H[K];if(0<s(re,ne))H[K]=ne,H[ae]=re,ae=K;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ne=H[0],ae=H.pop();if(ae!==ne){H[0]=ae;e:for(var K=0,re=H.length,pe=re>>>1;K<pe;){var me=2*(K+1)-1,De=H[me],ze=me+1,Ce=H[ze];if(0>s(De,ae))ze<re&&0>s(Ce,De)?(H[K]=Ce,H[ze]=ae,K=ze):(H[K]=De,H[me]=ae,K=me);else if(ze<re&&0>s(Ce,ae))H[K]=Ce,H[ze]=ae,K=ze;else break e}}return ne}function s(H,ne){var ae=H.sortIndex-ne.sortIndex;return ae!==0?ae:H.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var h=[],d=[],m=1,g=null,v=3,S=!1,_=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(H){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=H)r(d),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=n(d)}}function U(H){if(T=!1,O(H),!_)if(n(h)!==null)_=!0,ye(B);else{var ne=n(d);ne!==null&&ve(U,ne.startTime-H)}}function B(H,ne){_=!1,T&&(T=!1,A(C),C=-1),S=!0;var ae=v;try{for(O(ne),g=n(h);g!==null&&(!(g.expirationTime>ne)||H&&!V());){var K=g.callback;if(typeof K=="function"){g.callback=null,v=g.priorityLevel;var re=K(g.expirationTime<=ne);ne=t.unstable_now(),typeof re=="function"?g.callback=re:g===n(h)&&r(h),O(ne)}else r(h);g=n(h)}if(g!==null)var pe=!0;else{var me=n(d);me!==null&&ve(U,me.startTime-ne),pe=!1}return pe}finally{g=null,v=ae,S=!1}}var G=!1,D=null,C=-1,P=5,j=-1;function V(){return!(t.unstable_now()-j<P)}function $(){if(D!==null){var H=t.unstable_now();j=H;var ne=!0;try{ne=D(!0,H)}finally{ne?L():(G=!1,D=null)}}else G=!1}var L;if(typeof R=="function")L=function(){R($)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Pe=we.port2;we.port1.onmessage=$,L=function(){Pe.postMessage(null)}}else L=function(){I($,0)};function ye(H){D=H,G||(G=!0,L())}function ve(H,ne){C=I(function(){H(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){_||S||(_=!0,ye(B))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var ae=v;v=ne;try{return H()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ae=v;v=H;try{return ne()}finally{v=ae}},t.unstable_scheduleCallback=function(H,ne,ae){var K=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?K+ae:K):ae=K,H){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ae+re,H={id:m++,callback:ne,priorityLevel:H,startTime:ae,expirationTime:re,sortIndex:-1},ae>K?(H.sortIndex=ae,e(d,H),n(h)===null&&H===n(d)&&(T?(A(C),C=-1):T=!0,ve(U,ae-K))):(H.sortIndex=re,e(h,H),_||S||(_=!0,ye(B))),H},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(H){var ne=v;return function(){var ae=v;v=ne;try{return H.apply(this,arguments)}finally{v=ae}}}})(Fk)),Fk}var Uk;function Nj(){return Uk||(Uk=1,jk.exports=Cj()),jk.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var zk;function Aj(){if(zk)return Gn;zk=1;var t=Xw(),e=Nj();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(a,l){o(a,l),o(a+"Capture",l)}function o(a,l){for(s[a]=l,a=0;a<l.length;a++)r.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(a){return h.call(g,a)?!0:h.call(m,a)?!1:d.test(a)?g[a]=!0:(m[a]=!0,!1)}function S(a,l,c,p){if(c!==null&&c.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function _(a,l,c,p){if(l===null||typeof l>"u"||S(a,l,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(a,l,c,p,y,b,N){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=a,this.type=l,this.sanitizeURL=b,this.removeEmptyString=N}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){I[a]=new T(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];I[l]=new T(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){I[a]=new T(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){I[a]=new T(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){I[a]=new T(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){I[a]=new T(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){I[a]=new T(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){I[a]=new T(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){I[a]=new T(a,5,!1,a.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function R(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(A,R);I[l]=new T(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(A,R);I[l]=new T(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(A,R);I[l]=new T(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){I[a]=new T(a,1,!1,a.toLowerCase(),null,!1,!1)}),I.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){I[a]=new T(a,1,!1,a.toLowerCase(),null,!0,!0)});function O(a,l,c,p){var y=I.hasOwnProperty(l)?I[l]:null;(y!==null?y.type!==0:p||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(_(l,c,y,p)&&(c=null),p||y===null?v(l)&&(c===null?a.removeAttribute(l):a.setAttribute(l,""+c)):y.mustUseProperty?a[y.propertyName]=c===null?y.type===3?!1:"":c:(l=y.attributeName,p=y.attributeNamespace,c===null?a.removeAttribute(l):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?a.setAttributeNS(p,l,c):a.setAttribute(l,c))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),G=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),H=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=H&&a[H]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Object.assign,K;function re(a){if(K===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);K=l&&l[1]||""}return`
`+K+a}var pe=!1;function me(a,l){if(!a||pe)return"";pe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Z){var p=Z}Reflect.construct(a,[],l)}else{try{l.call()}catch(Z){p=Z}a.call(l.prototype)}else{try{throw Error()}catch(Z){p=Z}a()}}catch(Z){if(Z&&p&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),b=p.stack.split(`
`),N=y.length-1,F=b.length-1;1<=N&&0<=F&&y[N]!==b[F];)F--;for(;1<=N&&0<=F;N--,F--)if(y[N]!==b[F]){if(N!==1||F!==1)do if(N--,F--,0>F||y[N]!==b[F]){var z=`
`+y[N].replace(" at new "," at ");return a.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",a.displayName)),z}while(1<=N&&0<=F);break}}}finally{pe=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:"")?re(a):""}function De(a){switch(a.tag){case 5:return re(a.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return a=me(a.type,!1),a;case 11:return a=me(a.type.render,!1),a;case 1:return a=me(a.type,!0),a;default:return""}}function ze(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case D:return"Fragment";case G:return"Portal";case P:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case we:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case V:return(a.displayName||"Context")+".Consumer";case j:return(a._context.displayName||"Context")+".Provider";case $:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Pe:return l=a.displayName||null,l!==null?l:ze(a.type)||"Memo";case ye:l=a._payload,a=a._init;try{return ze(a(l))}catch{}}return null}function Ce(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(l);case 8:return l===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function $e(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ue(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function dt(a){var l=Ue(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),p=""+a[l];if(!a.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,b=c.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return y.call(this)},set:function(N){p=""+N,b.call(this,N)}}),Object.defineProperty(a,l,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function vr(a){a._valueTracker||(a._valueTracker=dt(a))}function br(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var c=l.getValue(),p="";return a&&(p=Ue(a)?a.checked?"true":"false":a.value),a=p,a!==c?(l.setValue(a),!0):!1}function zn(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function $i(a,l){var c=l.checked;return ae({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??a._wrapperState.initialChecked})}function Ll(a,l){var c=l.defaultValue==null?"":l.defaultValue,p=l.checked!=null?l.checked:l.defaultChecked;c=$e(l.value!=null?l.value:c),a._wrapperState={initialChecked:p,initialValue:c,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function qi(a,l){l=l.checked,l!=null&&O(a,"checked",l,!1)}function Js(a,l){qi(a,l);var c=$e(l.value),p=l.type;if(c!=null)p==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+c):a.value!==""+c&&(a.value=""+c);else if(p==="submit"||p==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?ft(a,l.type,c):l.hasOwnProperty("defaultValue")&&ft(a,l.type,$e(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function io(a,l,c){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var p=l.type;if(!(p!=="submit"&&p!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,c||l===a.value||(a.value=l),a.defaultValue=l}c=a.name,c!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,c!==""&&(a.name=c)}function ft(a,l,c){(l!=="number"||zn(a.ownerDocument)!==a)&&(c==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c))}var Mt=Array.isArray;function Vr(a,l,c,p){if(a=a.options,l){l={};for(var y=0;y<c.length;y++)l["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=l.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&p&&(a[c].defaultSelected=!0)}else{for(c=""+$e(c),l=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,p&&(a[y].defaultSelected=!0);return}l!==null||a[y].disabled||(l=a[y])}l!==null&&(l.selected=!0)}}function Fc(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Vc(a,l){var c=l.value;if(c==null){if(c=l.children,l=l.defaultValue,c!=null){if(l!=null)throw Error(n(92));if(Mt(c)){if(1<c.length)throw Error(n(93));c=c[0]}l=c}l==null&&(l=""),c=l}a._wrapperState={initialValue:$e(c)}}function Df(a,l){var c=$e(l.value),p=$e(l.defaultValue);c!=null&&(c=""+c,c!==a.value&&(a.value=c),l.defaultValue==null&&a.defaultValue!==c&&(a.defaultValue=c)),p!=null&&(a.defaultValue=""+p)}function Wi(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Uc(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jl(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Uc(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ki,Mf=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,c,p,y){MSApp.execUnsafeLocalFunction(function(){return a(l,c,p,y)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ki.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function ao(a,l){if(l){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=l;return}}a.textContent=l}var Gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Of=["Webkit","ms","Moz","O"];Object.keys(Gi).forEach(function(a){Of.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),Gi[l]=Gi[a]})});function Hi(a,l,c){return l==null||typeof l=="boolean"||l===""?"":c||typeof l!="number"||l===0||Gi.hasOwnProperty(a)&&Gi[a]?(""+l).trim():l+"px"}function Fl(a,l){a=a.style;for(var c in l)if(l.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=Hi(c,l[c],p);c==="float"&&(c="cssFloat"),p?a.setProperty(c,y):a[c]=y}}var zc=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ur(a,l){if(l){if(zc[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Vl(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qi=null;function Ul(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Zs=null,ei=null,Nt=null;function Bc(a){if(a=mh(a)){if(typeof Zs!="function")throw Error(n(280));var l=a.stateNode;l&&(l=lp(l),Zs(a.stateNode,a.type,l))}}function Xi(a){ei?Nt?Nt.push(a):Nt=[a]:ei=a}function Yi(){if(ei){var a=ei,l=Nt;if(Nt=ei=null,Bc(a),l)for(a=0;a<l.length;a++)Bc(l[a])}}function Lf(a,l){return a(l)}function jf(){}var ls=!1;function Ff(a,l,c){if(ls)return a(l,c);ls=!0;try{return Lf(a,l,c)}finally{ls=!1,(ei!==null||Nt!==null)&&(jf(),Yi())}}function oo(a,l){var c=a.stateNode;if(c===null)return null;var p=lp(c);if(p===null)return null;c=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(n(231,l,typeof c));return c}var Ji=!1;if(u)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){Ji=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{Ji=!1}function Vf(a,l,c,p,y,b,N,F,z){var Z=Array.prototype.slice.call(arguments,3);try{l.apply(c,Z)}catch(ie){this.onError(ie)}}var ti=!1,us=null,zl=!1,wr=null,Uf={onError:function(a){ti=!0,us=a}};function zf(a,l,c,p,y,b,N,F,z){ti=!1,us=null,Vf.apply(Uf,arguments)}function $c(a,l,c,p,y,b,N,F,z){if(zf.apply(this,arguments),ti){if(ti){var Z=us;ti=!1,us=null}else throw Error(n(198));zl||(zl=!0,wr=Z)}}function zr(a){var l=a,c=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(c=l.return),a=l.return;while(a)}return l.tag===3?c:null}function qc(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Bf(a){if(zr(a)!==a)throw Error(n(188))}function $f(a){var l=a.alternate;if(!l){if(l=zr(a),l===null)throw Error(n(188));return l!==a?null:a}for(var c=a,p=l;;){var y=c.return;if(y===null)break;var b=y.alternate;if(b===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===c)return Bf(y),a;if(b===p)return Bf(y),l;b=b.sibling}throw Error(n(188))}if(c.return!==p.return)c=y,p=b;else{for(var N=!1,F=y.child;F;){if(F===c){N=!0,c=y,p=b;break}if(F===p){N=!0,p=y,c=b;break}F=F.sibling}if(!N){for(F=b.child;F;){if(F===c){N=!0,c=b,p=y;break}if(F===p){N=!0,p=b,c=y;break}F=F.sibling}if(!N)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?a:l}function qf(a){return a=$f(a),a!==null?lo(a):null}function lo(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=lo(a);if(l!==null)return l;a=a.sibling}return null}var Wc=e.unstable_scheduleCallback,Bl=e.unstable_cancelCallback,uo=e.unstable_shouldYield,ni=e.unstable_requestPaint,pt=e.unstable_now,Ky=e.unstable_getCurrentPriorityLevel,$l=e.unstable_ImmediatePriority,Kc=e.unstable_UserBlockingPriority,co=e.unstable_NormalPriority,Gc=e.unstable_LowPriority,ql=e.unstable_IdlePriority,ho=null,tr=null;function Wf(a){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(ho,a,void 0,(a.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:fo,cs=Math.log,xr=Math.LN2;function fo(a){return a>>>=0,a===0?32:31-(cs(a)/xr|0)|0}var hs=64,ea=4194304;function rt(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ri(a,l){var c=a.pendingLanes;if(c===0)return 0;var p=0,y=a.suspendedLanes,b=a.pingedLanes,N=c&268435455;if(N!==0){var F=N&~y;F!==0?p=rt(F):(b&=N,b!==0&&(p=rt(b)))}else N=c&~y,N!==0?p=rt(N):b!==0&&(p=rt(b));if(p===0)return 0;if(l!==0&&l!==p&&(l&y)===0&&(y=p&-p,b=l&-l,y>=b||y===16&&(b&4194240)!==0))return l;if((p&4)!==0&&(p|=c&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=p;0<l;)c=31-nr(l),y=1<<c,p|=a[c],l&=~y;return p}function po(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mo(a,l){for(var c=a.suspendedLanes,p=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes;0<b;){var N=31-nr(b),F=1<<N,z=y[N];z===-1?((F&c)===0||(F&p)!==0)&&(y[N]=po(F,l)):z<=l&&(a.expiredLanes|=F),b&=~F}}function Hc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Qc(){var a=hs;return hs<<=1,(hs&4194240)===0&&(hs=64),a}function Xc(a){for(var l=[],c=0;31>c;c++)l.push(a);return l}function go(a,l,c){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-nr(l),a[l]=c}function Gy(a,l){var c=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var p=a.eventTimes;for(a=a.expirationTimes;0<c;){var y=31-nr(c),b=1<<y;l[y]=0,p[y]=-1,a[y]=-1,c&=~b}}function Yc(a,l){var c=a.entangledLanes|=l;for(a=a.entanglements;c;){var p=31-nr(c),y=1<<p;y&l|a[p]&l&&(a[p]|=l),c&=~y}}var Xe=0;function ds(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Jc,Wl,Zc,eh,th,fs=!1,Kl=[],ps=null,ms=null,ln=null,yo=new Map,si=new Map,rr=[],Kf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ta(a,l){switch(a){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":yo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":si.delete(l.pointerId)}}function Br(a,l,c,p,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:l,domEventName:c,eventSystemFlags:p,nativeEvent:b,targetContainers:[y]},l!==null&&(l=mh(l),l!==null&&Wl(l)),a):(a.eventSystemFlags|=p,l=a.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),a)}function Gf(a,l,c,p,y){switch(l){case"focusin":return ps=Br(ps,a,l,c,p,y),!0;case"dragenter":return ms=Br(ms,a,l,c,p,y),!0;case"mouseover":return ln=Br(ln,a,l,c,p,y),!0;case"pointerover":var b=y.pointerId;return yo.set(b,Br(yo.get(b)||null,a,l,c,p,y)),!0;case"gotpointercapture":return b=y.pointerId,si.set(b,Br(si.get(b)||null,a,l,c,p,y)),!0}return!1}function Gl(a){var l=xo(a.target);if(l!==null){var c=zr(l);if(c!==null){if(l=c.tag,l===13){if(l=qc(c),l!==null){a.blockedOn=l,th(a.priority,function(){Zc(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ut(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var c=Hl(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(c===null){c=a.nativeEvent;var p=new c.constructor(c.type,c);Qi=p,c.target.dispatchEvent(p),Qi=null}else return l=mh(c),l!==null&&Wl(l),a.blockedOn=c,!1;l.shift()}return!0}function Hf(a,l,c){ut(a)&&c.delete(l)}function Hy(){fs=!1,ps!==null&&ut(ps)&&(ps=null),ms!==null&&ut(ms)&&(ms=null),ln!==null&&ut(ln)&&(ln=null),yo.forEach(Hf),si.forEach(Hf)}function na(a,l){a.blockedOn===l&&(a.blockedOn=null,fs||(fs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hy)))}function ra(a){function l(y){return na(y,a)}if(0<Kl.length){na(Kl[0],a);for(var c=1;c<Kl.length;c++){var p=Kl[c];p.blockedOn===a&&(p.blockedOn=null)}}for(ps!==null&&na(ps,a),ms!==null&&na(ms,a),ln!==null&&na(ln,a),yo.forEach(l),si.forEach(l),c=0;c<rr.length;c++)p=rr[c],p.blockedOn===a&&(p.blockedOn=null);for(;0<rr.length&&(c=rr[0],c.blockedOn===null);)Gl(c),c.blockedOn===null&&rr.shift()}var ii=U.ReactCurrentBatchConfig,ai=!0;function gs(a,l,c,p){var y=Xe,b=ii.transition;ii.transition=null;try{Xe=1,nh(a,l,c,p)}finally{Xe=y,ii.transition=b}}function Qf(a,l,c,p){var y=Xe,b=ii.transition;ii.transition=null;try{Xe=4,nh(a,l,c,p)}finally{Xe=y,ii.transition=b}}function nh(a,l,c,p){if(ai){var y=Hl(a,l,c,p);if(y===null)iv(a,l,p,ys,c),ta(a,p);else if(Gf(y,a,l,c,p))p.stopPropagation();else if(ta(a,p),l&4&&-1<Kf.indexOf(a)){for(;y!==null;){var b=mh(y);if(b!==null&&Jc(b),b=Hl(a,l,c,p),b===null&&iv(a,l,p,ys,c),b===y)break;y=b}y!==null&&p.stopPropagation()}else iv(a,l,p,null,c)}}var ys=null;function Hl(a,l,c,p){if(ys=null,a=Ul(p),a=xo(a),a!==null)if(l=zr(a),l===null)a=null;else if(c=l.tag,c===13){if(a=qc(l),a!==null)return a;a=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return ys=a,null}function Ql(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ky()){case $l:return 1;case Kc:return 4;case co:case Gc:return 16;case ql:return 536870912;default:return 16}default:return 16}}var sr=null,Xl=null,oi=null;function Xf(){if(oi)return oi;var a,l=Xl,c=l.length,p,y="value"in sr?sr.value:sr.textContent,b=y.length;for(a=0;a<c&&l[a]===y[a];a++);var N=c-a;for(p=1;p<=N&&l[c-p]===y[b-p];p++);return oi=y.slice(a,1<p?1-p:void 0)}function vo(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function vs(){return!0}function rh(){return!1}function bn(a){function l(c,p,y,b,N){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var F in a)a.hasOwnProperty(F)&&(c=a[F],this[F]=c?c(b):b[F]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?vs:rh,this.isPropagationStopped=rh,this}return ae(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),l}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bo=bn(bs),sa=ae({},bs,{view:0,detail:0}),Yl=bn(sa),Jl,Zl,ir,wo=ae({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Be,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ir&&(ir&&a.type==="mousemove"?(Jl=a.screenX-ir.screenX,Zl=a.screenY-ir.screenY):Zl=Jl=0,ir=a),Jl)},movementY:function(a){return"movementY"in a?a.movementY:Zl}}),sh=bn(wo),Yf=ae({},wo,{dataTransfer:0}),Jf=bn(Yf),eu=ae({},sa,{relatedTarget:0}),un=bn(eu),Zf=ae({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),ep=bn(Zf),ia=ae({},bs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),f=bn(ia),w=ae({},bs,{data:0}),k=bn(w),M={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function he(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=ee[a])?!!l[a]:!1}function Be(){return he}var Ot=ae({},sa,{key:function(a){if(a.key){var l=M[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=vo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Y[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Be,charCode:function(a){return a.type==="keypress"?vo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?vo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ct=bn(Ot),Wt=ae({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ar=bn(Wt),aa=ae({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Be}),ws=bn(aa),xs=ae({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),tu=bn(xs),ih=ae({},wo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),p4=bn(ih),m4=[9,13,27,32],Qy=u&&"CompositionEvent"in window,ah=null;u&&"documentMode"in document&&(ah=document.documentMode);var g4=u&&"TextEvent"in window&&!ah,wE=u&&(!Qy||ah&&8<ah&&11>=ah),xE=" ",EE=!1;function SE(a,l){switch(a){case"keyup":return m4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kE(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var nu=!1;function y4(a,l){switch(a){case"compositionend":return kE(l);case"keypress":return l.which!==32?null:(EE=!0,xE);case"textInput":return a=l.data,a===xE&&EE?null:a;default:return null}}function v4(a,l){if(nu)return a==="compositionend"||!Qy&&SE(a,l)?(a=Xf(),oi=Xl=sr=null,nu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return wE&&l.locale!=="ko"?null:l.data;default:return null}}var b4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TE(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!b4[a.type]:l==="textarea"}function _E(a,l,c,p){Xi(p),l=ip(l,"onChange"),0<l.length&&(c=new bo("onChange","change",null,c,p),a.push({event:c,listeners:l}))}var oh=null,lh=null;function w4(a){qE(a,0)}function tp(a){var l=ou(a);if(br(l))return a}function x4(a,l){if(a==="change")return l}var IE=!1;if(u){var Xy;if(u){var Yy="oninput"in document;if(!Yy){var CE=document.createElement("div");CE.setAttribute("oninput","return;"),Yy=typeof CE.oninput=="function"}Xy=Yy}else Xy=!1;IE=Xy&&(!document.documentMode||9<document.documentMode)}function NE(){oh&&(oh.detachEvent("onpropertychange",AE),lh=oh=null)}function AE(a){if(a.propertyName==="value"&&tp(lh)){var l=[];_E(l,lh,a,Ul(a)),Ff(w4,l)}}function E4(a,l,c){a==="focusin"?(NE(),oh=l,lh=c,oh.attachEvent("onpropertychange",AE)):a==="focusout"&&NE()}function S4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return tp(lh)}function k4(a,l){if(a==="click")return tp(l)}function T4(a,l){if(a==="input"||a==="change")return tp(l)}function _4(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var $r=typeof Object.is=="function"?Object.is:_4;function uh(a,l){if($r(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var c=Object.keys(a),p=Object.keys(l);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!h.call(l,y)||!$r(a[y],l[y]))return!1}return!0}function RE(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function PE(a,l){var c=RE(a);a=0;for(var p;c;){if(c.nodeType===3){if(p=a+c.textContent.length,a<=l&&p>=l)return{node:c,offset:l-a};a=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=RE(c)}}function DE(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?DE(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function ME(){for(var a=window,l=zn();l instanceof a.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)a=l.contentWindow;else break;l=zn(a.document)}return l}function Jy(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function I4(a){var l=ME(),c=a.focusedElem,p=a.selectionRange;if(l!==c&&c&&c.ownerDocument&&DE(c.ownerDocument.documentElement,c)){if(p!==null&&Jy(c)){if(l=p.start,a=p.end,a===void 0&&(a=l),"selectionStart"in c)c.selectionStart=l,c.selectionEnd=Math.min(a,c.value.length);else if(a=(l=c.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var y=c.textContent.length,b=Math.min(p.start,y);p=p.end===void 0?b:Math.min(p.end,y),!a.extend&&b>p&&(y=p,p=b,b=y),y=PE(c,b);var N=PE(c,p);y&&N&&(a.rangeCount!==1||a.anchorNode!==y.node||a.anchorOffset!==y.offset||a.focusNode!==N.node||a.focusOffset!==N.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),a.removeAllRanges(),b>p?(a.addRange(l),a.extend(N.node,N.offset)):(l.setEnd(N.node,N.offset),a.addRange(l)))}}for(l=[],a=c;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<l.length;c++)a=l[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var C4=u&&"documentMode"in document&&11>=document.documentMode,ru=null,Zy=null,ch=null,ev=!1;function OE(a,l,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ev||ru==null||ru!==zn(p)||(p=ru,"selectionStart"in p&&Jy(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ch&&uh(ch,p)||(ch=p,p=ip(Zy,"onSelect"),0<p.length&&(l=new bo("onSelect","select",null,l,c),a.push({event:l,listeners:p}),l.target=ru)))}function np(a,l){var c={};return c[a.toLowerCase()]=l.toLowerCase(),c["Webkit"+a]="webkit"+l,c["Moz"+a]="moz"+l,c}var su={animationend:np("Animation","AnimationEnd"),animationiteration:np("Animation","AnimationIteration"),animationstart:np("Animation","AnimationStart"),transitionend:np("Transition","TransitionEnd")},tv={},LE={};u&&(LE=document.createElement("div").style,"AnimationEvent"in window||(delete su.animationend.animation,delete su.animationiteration.animation,delete su.animationstart.animation),"TransitionEvent"in window||delete su.transitionend.transition);function rp(a){if(tv[a])return tv[a];if(!su[a])return a;var l=su[a],c;for(c in l)if(l.hasOwnProperty(c)&&c in LE)return tv[a]=l[c];return a}var jE=rp("animationend"),FE=rp("animationiteration"),VE=rp("animationstart"),UE=rp("transitionend"),zE=new Map,BE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oa(a,l){zE.set(a,l),i(l,[a])}for(var nv=0;nv<BE.length;nv++){var rv=BE[nv],N4=rv.toLowerCase(),A4=rv[0].toUpperCase()+rv.slice(1);oa(N4,"on"+A4)}oa(jE,"onAnimationEnd"),oa(FE,"onAnimationIteration"),oa(VE,"onAnimationStart"),oa("dblclick","onDoubleClick"),oa("focusin","onFocus"),oa("focusout","onBlur"),oa(UE,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R4=new Set("cancel close invalid load scroll toggle".split(" ").concat(hh));function $E(a,l,c){var p=a.type||"unknown-event";a.currentTarget=c,$c(p,l,void 0,a),a.currentTarget=null}function qE(a,l){l=(l&4)!==0;for(var c=0;c<a.length;c++){var p=a[c],y=p.event;p=p.listeners;e:{var b=void 0;if(l)for(var N=p.length-1;0<=N;N--){var F=p[N],z=F.instance,Z=F.currentTarget;if(F=F.listener,z!==b&&y.isPropagationStopped())break e;$E(y,F,Z),b=z}else for(N=0;N<p.length;N++){if(F=p[N],z=F.instance,Z=F.currentTarget,F=F.listener,z!==b&&y.isPropagationStopped())break e;$E(y,F,Z),b=z}}}if(zl)throw a=wr,zl=!1,wr=null,a}function mt(a,l){var c=l[hv];c===void 0&&(c=l[hv]=new Set);var p=a+"__bubble";c.has(p)||(WE(l,a,2,!1),c.add(p))}function sv(a,l,c){var p=0;l&&(p|=4),WE(c,a,p,l)}var sp="_reactListening"+Math.random().toString(36).slice(2);function dh(a){if(!a[sp]){a[sp]=!0,r.forEach(function(c){c!=="selectionchange"&&(R4.has(c)||sv(c,!1,a),sv(c,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[sp]||(l[sp]=!0,sv("selectionchange",!1,l))}}function WE(a,l,c,p){switch(Ql(l)){case 1:var y=gs;break;case 4:y=Qf;break;default:y=nh}c=y.bind(null,l,c,a),y=void 0,!Ji||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),p?y!==void 0?a.addEventListener(l,c,{capture:!0,passive:y}):a.addEventListener(l,c,!0):y!==void 0?a.addEventListener(l,c,{passive:y}):a.addEventListener(l,c,!1)}function iv(a,l,c,p,y){var b=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var F=p.stateNode.containerInfo;if(F===y||F.nodeType===8&&F.parentNode===y)break;if(N===4)for(N=p.return;N!==null;){var z=N.tag;if((z===3||z===4)&&(z=N.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;N=N.return}for(;F!==null;){if(N=xo(F),N===null)return;if(z=N.tag,z===5||z===6){p=b=N;continue e}F=F.parentNode}}p=p.return}Ff(function(){var Z=b,ie=Ul(c),oe=[];e:{var se=zE.get(a);if(se!==void 0){var fe=bo,xe=a;switch(a){case"keypress":if(vo(c)===0)break e;case"keydown":case"keyup":fe=ct;break;case"focusin":xe="focus",fe=un;break;case"focusout":xe="blur",fe=un;break;case"beforeblur":case"afterblur":fe=un;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=ws;break;case jE:case FE:case VE:fe=ep;break;case UE:fe=tu;break;case"scroll":fe=Yl;break;case"wheel":fe=p4;break;case"copy":case"cut":case"paste":fe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=ar}var Te=(l&4)!==0,Lt=!Te&&a==="scroll",X=Te?se!==null?se+"Capture":null:se;Te=[];for(var W=Z,J;W!==null;){J=W;var ue=J.stateNode;if(J.tag===5&&ue!==null&&(J=ue,X!==null&&(ue=oo(W,X),ue!=null&&Te.push(fh(W,ue,J)))),Lt)break;W=W.return}0<Te.length&&(se=new fe(se,xe,null,c,ie),oe.push({event:se,listeners:Te}))}}if((l&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",fe=a==="mouseout"||a==="pointerout",se&&c!==Qi&&(xe=c.relatedTarget||c.fromElement)&&(xo(xe)||xe[li]))break e;if((fe||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,fe?(xe=c.relatedTarget||c.toElement,fe=Z,xe=xe?xo(xe):null,xe!==null&&(Lt=zr(xe),xe!==Lt||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(fe=null,xe=Z),fe!==xe)){if(Te=sh,ue="onMouseLeave",X="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(Te=ar,ue="onPointerLeave",X="onPointerEnter",W="pointer"),Lt=fe==null?se:ou(fe),J=xe==null?se:ou(xe),se=new Te(ue,W+"leave",fe,c,ie),se.target=Lt,se.relatedTarget=J,ue=null,xo(ie)===Z&&(Te=new Te(X,W+"enter",xe,c,ie),Te.target=J,Te.relatedTarget=Lt,ue=Te),Lt=ue,fe&&xe)t:{for(Te=fe,X=xe,W=0,J=Te;J;J=iu(J))W++;for(J=0,ue=X;ue;ue=iu(ue))J++;for(;0<W-J;)Te=iu(Te),W--;for(;0<J-W;)X=iu(X),J--;for(;W--;){if(Te===X||X!==null&&Te===X.alternate)break t;Te=iu(Te),X=iu(X)}Te=null}else Te=null;fe!==null&&KE(oe,se,fe,Te,!1),xe!==null&&Lt!==null&&KE(oe,Lt,xe,Te,!0)}}e:{if(se=Z?ou(Z):window,fe=se.nodeName&&se.nodeName.toLowerCase(),fe==="select"||fe==="input"&&se.type==="file")var _e=x4;else if(TE(se))if(IE)_e=T4;else{_e=S4;var Ae=E4}else(fe=se.nodeName)&&fe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(_e=k4);if(_e&&(_e=_e(a,Z))){_E(oe,_e,c,ie);break e}Ae&&Ae(a,se,Z),a==="focusout"&&(Ae=se._wrapperState)&&Ae.controlled&&se.type==="number"&&ft(se,"number",se.value)}switch(Ae=Z?ou(Z):window,a){case"focusin":(TE(Ae)||Ae.contentEditable==="true")&&(ru=Ae,Zy=Z,ch=null);break;case"focusout":ch=Zy=ru=null;break;case"mousedown":ev=!0;break;case"contextmenu":case"mouseup":case"dragend":ev=!1,OE(oe,c,ie);break;case"selectionchange":if(C4)break;case"keydown":case"keyup":OE(oe,c,ie)}var Re;if(Qy)e:{switch(a){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else nu?SE(a,c)&&(je="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(je="onCompositionStart");je&&(wE&&c.locale!=="ko"&&(nu||je!=="onCompositionStart"?je==="onCompositionEnd"&&nu&&(Re=Xf()):(sr=ie,Xl="value"in sr?sr.value:sr.textContent,nu=!0)),Ae=ip(Z,je),0<Ae.length&&(je=new k(je,a,null,c,ie),oe.push({event:je,listeners:Ae}),Re?je.data=Re:(Re=kE(c),Re!==null&&(je.data=Re)))),(Re=g4?y4(a,c):v4(a,c))&&(Z=ip(Z,"onBeforeInput"),0<Z.length&&(ie=new k("onBeforeInput","beforeinput",null,c,ie),oe.push({event:ie,listeners:Z}),ie.data=Re))}qE(oe,l)})}function fh(a,l,c){return{instance:a,listener:l,currentTarget:c}}function ip(a,l){for(var c=l+"Capture",p=[];a!==null;){var y=a,b=y.stateNode;y.tag===5&&b!==null&&(y=b,b=oo(a,c),b!=null&&p.unshift(fh(a,b,y)),b=oo(a,l),b!=null&&p.push(fh(a,b,y))),a=a.return}return p}function iu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function KE(a,l,c,p,y){for(var b=l._reactName,N=[];c!==null&&c!==p;){var F=c,z=F.alternate,Z=F.stateNode;if(z!==null&&z===p)break;F.tag===5&&Z!==null&&(F=Z,y?(z=oo(c,b),z!=null&&N.unshift(fh(c,z,F))):y||(z=oo(c,b),z!=null&&N.push(fh(c,z,F)))),c=c.return}N.length!==0&&a.push({event:l,listeners:N})}var P4=/\r\n?/g,D4=/\u0000|\uFFFD/g;function GE(a){return(typeof a=="string"?a:""+a).replace(P4,`
`).replace(D4,"")}function ap(a,l,c){if(l=GE(l),GE(a)!==l&&c)throw Error(n(425))}function op(){}var av=null,ov=null;function lv(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var uv=typeof setTimeout=="function"?setTimeout:void 0,M4=typeof clearTimeout=="function"?clearTimeout:void 0,HE=typeof Promise=="function"?Promise:void 0,O4=typeof queueMicrotask=="function"?queueMicrotask:typeof HE<"u"?function(a){return HE.resolve(null).then(a).catch(L4)}:uv;function L4(a){setTimeout(function(){throw a})}function cv(a,l){var c=l,p=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){a.removeChild(y),ra(l);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);ra(l)}function la(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function QE(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return a;l--}else c==="/$"&&l++}a=a.previousSibling}return null}var au=Math.random().toString(36).slice(2),Es="__reactFiber$"+au,ph="__reactProps$"+au,li="__reactContainer$"+au,hv="__reactEvents$"+au,j4="__reactListeners$"+au,F4="__reactHandles$"+au;function xo(a){var l=a[Es];if(l)return l;for(var c=a.parentNode;c;){if(l=c[li]||c[Es]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(a=QE(a);a!==null;){if(c=a[Es])return c;a=QE(a)}return l}a=c,c=a.parentNode}return null}function mh(a){return a=a[Es]||a[li],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ou(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function lp(a){return a[ph]||null}var dv=[],lu=-1;function ua(a){return{current:a}}function gt(a){0>lu||(a.current=dv[lu],dv[lu]=null,lu--)}function ht(a,l){lu++,dv[lu]=a.current,a.current=l}var ca={},wn=ua(ca),Bn=ua(!1),Eo=ca;function uu(a,l){var c=a.type.contextTypes;if(!c)return ca;var p=a.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var y={},b;for(b in c)y[b]=l[b];return p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=y),y}function $n(a){return a=a.childContextTypes,a!=null}function up(){gt(Bn),gt(wn)}function XE(a,l,c){if(wn.current!==ca)throw Error(n(168));ht(wn,l),ht(Bn,c)}function YE(a,l,c){var p=a.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in l))throw Error(n(108,Ce(a)||"Unknown",y));return ae({},c,p)}function cp(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ca,Eo=wn.current,ht(wn,a),ht(Bn,Bn.current),!0}function JE(a,l,c){var p=a.stateNode;if(!p)throw Error(n(169));c?(a=YE(a,l,Eo),p.__reactInternalMemoizedMergedChildContext=a,gt(Bn),gt(wn),ht(wn,a)):gt(Bn),ht(Bn,c)}var ui=null,hp=!1,fv=!1;function ZE(a){ui===null?ui=[a]:ui.push(a)}function V4(a){hp=!0,ZE(a)}function ha(){if(!fv&&ui!==null){fv=!0;var a=0,l=Xe;try{var c=ui;for(Xe=1;a<c.length;a++){var p=c[a];do p=p(!0);while(p!==null)}ui=null,hp=!1}catch(y){throw ui!==null&&(ui=ui.slice(a+1)),Wc($l,ha),y}finally{Xe=l,fv=!1}}return null}var cu=[],hu=0,dp=null,fp=0,Er=[],Sr=0,So=null,ci=1,hi="";function ko(a,l){cu[hu++]=fp,cu[hu++]=dp,dp=a,fp=l}function eS(a,l,c){Er[Sr++]=ci,Er[Sr++]=hi,Er[Sr++]=So,So=a;var p=ci;a=hi;var y=32-nr(p)-1;p&=~(1<<y),c+=1;var b=32-nr(l)+y;if(30<b){var N=y-y%5;b=(p&(1<<N)-1).toString(32),p>>=N,y-=N,ci=1<<32-nr(l)+y|c<<y|p,hi=b+a}else ci=1<<b|c<<y|p,hi=a}function pv(a){a.return!==null&&(ko(a,1),eS(a,1,0))}function mv(a){for(;a===dp;)dp=cu[--hu],cu[hu]=null,fp=cu[--hu],cu[hu]=null;for(;a===So;)So=Er[--Sr],Er[Sr]=null,hi=Er[--Sr],Er[Sr]=null,ci=Er[--Sr],Er[Sr]=null}var or=null,lr=null,bt=!1,qr=null;function tS(a,l){var c=Ir(5,null,null,0);c.elementType="DELETED",c.stateNode=l,c.return=a,l=a.deletions,l===null?(a.deletions=[c],a.flags|=16):l.push(c)}function nS(a,l){switch(a.tag){case 5:var c=a.type;return l=l.nodeType!==1||c.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,or=a,lr=la(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,or=a,lr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(c=So!==null?{id:ci,overflow:hi}:null,a.memoizedState={dehydrated:l,treeContext:c,retryLane:1073741824},c=Ir(18,null,null,0),c.stateNode=l,c.return=a,a.child=c,or=a,lr=null,!0):!1;default:return!1}}function gv(a){return(a.mode&1)!==0&&(a.flags&128)===0}function yv(a){if(bt){var l=lr;if(l){var c=l;if(!nS(a,l)){if(gv(a))throw Error(n(418));l=la(c.nextSibling);var p=or;l&&nS(a,l)?tS(p,c):(a.flags=a.flags&-4097|2,bt=!1,or=a)}}else{if(gv(a))throw Error(n(418));a.flags=a.flags&-4097|2,bt=!1,or=a}}}function rS(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;or=a}function pp(a){if(a!==or)return!1;if(!bt)return rS(a),bt=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!lv(a.type,a.memoizedProps)),l&&(l=lr)){if(gv(a))throw sS(),Error(n(418));for(;l;)tS(a,l),l=la(l.nextSibling)}if(rS(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"){if(l===0){lr=la(a.nextSibling);break e}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++}a=a.nextSibling}lr=null}}else lr=or?la(a.stateNode.nextSibling):null;return!0}function sS(){for(var a=lr;a;)a=la(a.nextSibling)}function du(){lr=or=null,bt=!1}function vv(a){qr===null?qr=[a]:qr.push(a)}var U4=U.ReactCurrentBatchConfig;function gh(a,l,c){if(a=c.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,a));var y=p,b=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===b?l.ref:(l=function(N){var F=y.refs;N===null?delete F[b]:F[b]=N},l._stringRef=b,l)}if(typeof a!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,a))}return a}function mp(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function iS(a){var l=a._init;return l(a._payload)}function aS(a){function l(X,W){if(a){var J=X.deletions;J===null?(X.deletions=[W],X.flags|=16):J.push(W)}}function c(X,W){if(!a)return null;for(;W!==null;)l(X,W),W=W.sibling;return null}function p(X,W){for(X=new Map;W!==null;)W.key!==null?X.set(W.key,W):X.set(W.index,W),W=W.sibling;return X}function y(X,W){return X=ba(X,W),X.index=0,X.sibling=null,X}function b(X,W,J){return X.index=J,a?(J=X.alternate,J!==null?(J=J.index,J<W?(X.flags|=2,W):J):(X.flags|=2,W)):(X.flags|=1048576,W)}function N(X){return a&&X.alternate===null&&(X.flags|=2),X}function F(X,W,J,ue){return W===null||W.tag!==6?(W=l0(J,X.mode,ue),W.return=X,W):(W=y(W,J),W.return=X,W)}function z(X,W,J,ue){var _e=J.type;return _e===D?ie(X,W,J.props.children,ue,J.key):W!==null&&(W.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ye&&iS(_e)===W.type)?(ue=y(W,J.props),ue.ref=gh(X,W,J),ue.return=X,ue):(ue=Vp(J.type,J.key,J.props,null,X.mode,ue),ue.ref=gh(X,W,J),ue.return=X,ue)}function Z(X,W,J,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=u0(J,X.mode,ue),W.return=X,W):(W=y(W,J.children||[]),W.return=X,W)}function ie(X,W,J,ue,_e){return W===null||W.tag!==7?(W=Po(J,X.mode,ue,_e),W.return=X,W):(W=y(W,J),W.return=X,W)}function oe(X,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return W=l0(""+W,X.mode,J),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case B:return J=Vp(W.type,W.key,W.props,null,X.mode,J),J.ref=gh(X,null,W),J.return=X,J;case G:return W=u0(W,X.mode,J),W.return=X,W;case ye:var ue=W._init;return oe(X,ue(W._payload),J)}if(Mt(W)||ne(W))return W=Po(W,X.mode,J,null),W.return=X,W;mp(X,W)}return null}function se(X,W,J,ue){var _e=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return _e!==null?null:F(X,W,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case B:return J.key===_e?z(X,W,J,ue):null;case G:return J.key===_e?Z(X,W,J,ue):null;case ye:return _e=J._init,se(X,W,_e(J._payload),ue)}if(Mt(J)||ne(J))return _e!==null?null:ie(X,W,J,ue,null);mp(X,J)}return null}function fe(X,W,J,ue,_e){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return X=X.get(J)||null,F(W,X,""+ue,_e);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case B:return X=X.get(ue.key===null?J:ue.key)||null,z(W,X,ue,_e);case G:return X=X.get(ue.key===null?J:ue.key)||null,Z(W,X,ue,_e);case ye:var Ae=ue._init;return fe(X,W,J,Ae(ue._payload),_e)}if(Mt(ue)||ne(ue))return X=X.get(J)||null,ie(W,X,ue,_e,null);mp(W,ue)}return null}function xe(X,W,J,ue){for(var _e=null,Ae=null,Re=W,je=W=0,sn=null;Re!==null&&je<J.length;je++){Re.index>je?(sn=Re,Re=null):sn=Re.sibling;var nt=se(X,Re,J[je],ue);if(nt===null){Re===null&&(Re=sn);break}a&&Re&&nt.alternate===null&&l(X,Re),W=b(nt,W,je),Ae===null?_e=nt:Ae.sibling=nt,Ae=nt,Re=sn}if(je===J.length)return c(X,Re),bt&&ko(X,je),_e;if(Re===null){for(;je<J.length;je++)Re=oe(X,J[je],ue),Re!==null&&(W=b(Re,W,je),Ae===null?_e=Re:Ae.sibling=Re,Ae=Re);return bt&&ko(X,je),_e}for(Re=p(X,Re);je<J.length;je++)sn=fe(Re,X,je,J[je],ue),sn!==null&&(a&&sn.alternate!==null&&Re.delete(sn.key===null?je:sn.key),W=b(sn,W,je),Ae===null?_e=sn:Ae.sibling=sn,Ae=sn);return a&&Re.forEach(function(wa){return l(X,wa)}),bt&&ko(X,je),_e}function Te(X,W,J,ue){var _e=ne(J);if(typeof _e!="function")throw Error(n(150));if(J=_e.call(J),J==null)throw Error(n(151));for(var Ae=_e=null,Re=W,je=W=0,sn=null,nt=J.next();Re!==null&&!nt.done;je++,nt=J.next()){Re.index>je?(sn=Re,Re=null):sn=Re.sibling;var wa=se(X,Re,nt.value,ue);if(wa===null){Re===null&&(Re=sn);break}a&&Re&&wa.alternate===null&&l(X,Re),W=b(wa,W,je),Ae===null?_e=wa:Ae.sibling=wa,Ae=wa,Re=sn}if(nt.done)return c(X,Re),bt&&ko(X,je),_e;if(Re===null){for(;!nt.done;je++,nt=J.next())nt=oe(X,nt.value,ue),nt!==null&&(W=b(nt,W,je),Ae===null?_e=nt:Ae.sibling=nt,Ae=nt);return bt&&ko(X,je),_e}for(Re=p(X,Re);!nt.done;je++,nt=J.next())nt=fe(Re,X,je,nt.value,ue),nt!==null&&(a&&nt.alternate!==null&&Re.delete(nt.key===null?je:nt.key),W=b(nt,W,je),Ae===null?_e=nt:Ae.sibling=nt,Ae=nt);return a&&Re.forEach(function(bj){return l(X,bj)}),bt&&ko(X,je),_e}function Lt(X,W,J,ue){if(typeof J=="object"&&J!==null&&J.type===D&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case B:e:{for(var _e=J.key,Ae=W;Ae!==null;){if(Ae.key===_e){if(_e=J.type,_e===D){if(Ae.tag===7){c(X,Ae.sibling),W=y(Ae,J.props.children),W.return=X,X=W;break e}}else if(Ae.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ye&&iS(_e)===Ae.type){c(X,Ae.sibling),W=y(Ae,J.props),W.ref=gh(X,Ae,J),W.return=X,X=W;break e}c(X,Ae);break}else l(X,Ae);Ae=Ae.sibling}J.type===D?(W=Po(J.props.children,X.mode,ue,J.key),W.return=X,X=W):(ue=Vp(J.type,J.key,J.props,null,X.mode,ue),ue.ref=gh(X,W,J),ue.return=X,X=ue)}return N(X);case G:e:{for(Ae=J.key;W!==null;){if(W.key===Ae)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){c(X,W.sibling),W=y(W,J.children||[]),W.return=X,X=W;break e}else{c(X,W);break}else l(X,W);W=W.sibling}W=u0(J,X.mode,ue),W.return=X,X=W}return N(X);case ye:return Ae=J._init,Lt(X,W,Ae(J._payload),ue)}if(Mt(J))return xe(X,W,J,ue);if(ne(J))return Te(X,W,J,ue);mp(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,W!==null&&W.tag===6?(c(X,W.sibling),W=y(W,J),W.return=X,X=W):(c(X,W),W=l0(J,X.mode,ue),W.return=X,X=W),N(X)):c(X,W)}return Lt}var fu=aS(!0),oS=aS(!1),gp=ua(null),yp=null,pu=null,bv=null;function wv(){bv=pu=yp=null}function xv(a){var l=gp.current;gt(gp),a._currentValue=l}function Ev(a,l,c){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===c)break;a=a.return}}function mu(a,l){yp=a,bv=pu=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(qn=!0),a.firstContext=null)}function kr(a){var l=a._currentValue;if(bv!==a)if(a={context:a,memoizedValue:l,next:null},pu===null){if(yp===null)throw Error(n(308));pu=a,yp.dependencies={lanes:0,firstContext:a}}else pu=pu.next=a;return l}var To=null;function Sv(a){To===null?To=[a]:To.push(a)}function lS(a,l,c,p){var y=l.interleaved;return y===null?(c.next=c,Sv(l)):(c.next=y.next,y.next=c),l.interleaved=c,di(a,p)}function di(a,l){a.lanes|=l;var c=a.alternate;for(c!==null&&(c.lanes|=l),c=a,a=a.return;a!==null;)a.childLanes|=l,c=a.alternate,c!==null&&(c.childLanes|=l),c=a,a=a.return;return c.tag===3?c.stateNode:null}var da=!1;function kv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uS(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function fi(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function fa(a,l,c){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(tt&2)!==0){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,di(a,c)}return y=p.interleaved,y===null?(l.next=l,Sv(p)):(l.next=y.next,y.next=l),p.interleaved=l,di(a,c)}function vp(a,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194240)!==0)){var p=l.lanes;p&=a.pendingLanes,c|=p,l.lanes=c,Yc(a,c)}}function cS(a,l){var c=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var N={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};b===null?y=b=N:b=b.next=N,c=c.next}while(c!==null);b===null?y=b=l:b=b.next=l}else y=b=l;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:p.shared,effects:p.effects},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=l}function bp(a,l,c,p){var y=a.updateQueue;da=!1;var b=y.firstBaseUpdate,N=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var z=F,Z=z.next;z.next=null,N===null?b=Z:N.next=Z,N=z;var ie=a.alternate;ie!==null&&(ie=ie.updateQueue,F=ie.lastBaseUpdate,F!==N&&(F===null?ie.firstBaseUpdate=Z:F.next=Z,ie.lastBaseUpdate=z))}if(b!==null){var oe=y.baseState;N=0,ie=Z=z=null,F=b;do{var se=F.lane,fe=F.eventTime;if((p&se)===se){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var xe=a,Te=F;switch(se=l,fe=c,Te.tag){case 1:if(xe=Te.payload,typeof xe=="function"){oe=xe.call(fe,oe,se);break e}oe=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Te.payload,se=typeof xe=="function"?xe.call(fe,oe,se):xe,se==null)break e;oe=ae({},oe,se);break e;case 2:da=!0}}F.callback!==null&&F.lane!==0&&(a.flags|=64,se=y.effects,se===null?y.effects=[F]:se.push(F))}else fe={eventTime:fe,lane:se,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ie===null?(Z=ie=fe,z=oe):ie=ie.next=fe,N|=se;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;se=F,F=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);if(ie===null&&(z=oe),y.baseState=z,y.firstBaseUpdate=Z,y.lastBaseUpdate=ie,l=y.shared.interleaved,l!==null){y=l;do N|=y.lane,y=y.next;while(y!==l)}else b===null&&(y.shared.lanes=0);Co|=N,a.lanes=N,a.memoizedState=oe}}function hS(a,l,c){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var p=a[l],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var yh={},Ss=ua(yh),vh=ua(yh),bh=ua(yh);function _o(a){if(a===yh)throw Error(n(174));return a}function Tv(a,l){switch(ht(bh,l),ht(vh,a),ht(Ss,yh),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:jl(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=jl(l,a)}gt(Ss),ht(Ss,l)}function gu(){gt(Ss),gt(vh),gt(bh)}function dS(a){_o(bh.current);var l=_o(Ss.current),c=jl(l,a.type);l!==c&&(ht(vh,a),ht(Ss,c))}function _v(a){vh.current===a&&(gt(Ss),gt(vh))}var St=ua(0);function wp(a){for(var l=a;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Iv=[];function Cv(){for(var a=0;a<Iv.length;a++)Iv[a]._workInProgressVersionPrimary=null;Iv.length=0}var xp=U.ReactCurrentDispatcher,Nv=U.ReactCurrentBatchConfig,Io=0,kt=null,Yt=null,nn=null,Ep=!1,wh=!1,xh=0,z4=0;function xn(){throw Error(n(321))}function Av(a,l){if(l===null)return!1;for(var c=0;c<l.length&&c<a.length;c++)if(!$r(a[c],l[c]))return!1;return!0}function Rv(a,l,c,p,y,b){if(Io=b,kt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,xp.current=a===null||a.memoizedState===null?W4:K4,a=c(p,y),wh){b=0;do{if(wh=!1,xh=0,25<=b)throw Error(n(301));b+=1,nn=Yt=null,l.updateQueue=null,xp.current=G4,a=c(p,y)}while(wh)}if(xp.current=Tp,l=Yt!==null&&Yt.next!==null,Io=0,nn=Yt=kt=null,Ep=!1,l)throw Error(n(300));return a}function Pv(){var a=xh!==0;return xh=0,a}function ks(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?kt.memoizedState=nn=a:nn=nn.next=a,nn}function Tr(){if(Yt===null){var a=kt.alternate;a=a!==null?a.memoizedState:null}else a=Yt.next;var l=nn===null?kt.memoizedState:nn.next;if(l!==null)nn=l,Yt=a;else{if(a===null)throw Error(n(310));Yt=a,a={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},nn===null?kt.memoizedState=nn=a:nn=nn.next=a}return nn}function Eh(a,l){return typeof l=="function"?l(a):l}function Dv(a){var l=Tr(),c=l.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var p=Yt,y=p.baseQueue,b=c.pending;if(b!==null){if(y!==null){var N=y.next;y.next=b.next,b.next=N}p.baseQueue=y=b,c.pending=null}if(y!==null){b=y.next,p=p.baseState;var F=N=null,z=null,Z=b;do{var ie=Z.lane;if((Io&ie)===ie)z!==null&&(z=z.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),p=Z.hasEagerState?Z.eagerState:a(p,Z.action);else{var oe={lane:ie,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};z===null?(F=z=oe,N=p):z=z.next=oe,kt.lanes|=ie,Co|=ie}Z=Z.next}while(Z!==null&&Z!==b);z===null?N=p:z.next=F,$r(p,l.memoizedState)||(qn=!0),l.memoizedState=p,l.baseState=N,l.baseQueue=z,c.lastRenderedState=p}if(a=c.interleaved,a!==null){y=a;do b=y.lane,kt.lanes|=b,Co|=b,y=y.next;while(y!==a)}else y===null&&(c.lanes=0);return[l.memoizedState,c.dispatch]}function Mv(a){var l=Tr(),c=l.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var p=c.dispatch,y=c.pending,b=l.memoizedState;if(y!==null){c.pending=null;var N=y=y.next;do b=a(b,N.action),N=N.next;while(N!==y);$r(b,l.memoizedState)||(qn=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),c.lastRenderedState=b}return[b,p]}function fS(){}function pS(a,l){var c=kt,p=Tr(),y=l(),b=!$r(p.memoizedState,y);if(b&&(p.memoizedState=y,qn=!0),p=p.queue,Ov(yS.bind(null,c,p,a),[a]),p.getSnapshot!==l||b||nn!==null&&nn.memoizedState.tag&1){if(c.flags|=2048,Sh(9,gS.bind(null,c,p,y,l),void 0,null),rn===null)throw Error(n(349));(Io&30)!==0||mS(c,l,y)}return y}function mS(a,l,c){a.flags|=16384,a={getSnapshot:l,value:c},l=kt.updateQueue,l===null?(l={lastEffect:null,stores:null},kt.updateQueue=l,l.stores=[a]):(c=l.stores,c===null?l.stores=[a]:c.push(a))}function gS(a,l,c,p){l.value=c,l.getSnapshot=p,vS(l)&&bS(a)}function yS(a,l,c){return c(function(){vS(l)&&bS(a)})}function vS(a){var l=a.getSnapshot;a=a.value;try{var c=l();return!$r(a,c)}catch{return!0}}function bS(a){var l=di(a,1);l!==null&&Hr(l,a,1,-1)}function wS(a){var l=ks();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eh,lastRenderedState:a},l.queue=a,a=a.dispatch=q4.bind(null,kt,a),[l.memoizedState,a]}function Sh(a,l,c,p){return a={tag:a,create:l,destroy:c,deps:p,next:null},l=kt.updateQueue,l===null?(l={lastEffect:null,stores:null},kt.updateQueue=l,l.lastEffect=a.next=a):(c=l.lastEffect,c===null?l.lastEffect=a.next=a:(p=c.next,c.next=a,a.next=p,l.lastEffect=a)),a}function xS(){return Tr().memoizedState}function Sp(a,l,c,p){var y=ks();kt.flags|=a,y.memoizedState=Sh(1|l,c,void 0,p===void 0?null:p)}function kp(a,l,c,p){var y=Tr();p=p===void 0?null:p;var b=void 0;if(Yt!==null){var N=Yt.memoizedState;if(b=N.destroy,p!==null&&Av(p,N.deps)){y.memoizedState=Sh(l,c,b,p);return}}kt.flags|=a,y.memoizedState=Sh(1|l,c,b,p)}function ES(a,l){return Sp(8390656,8,a,l)}function Ov(a,l){return kp(2048,8,a,l)}function SS(a,l){return kp(4,2,a,l)}function kS(a,l){return kp(4,4,a,l)}function TS(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function _S(a,l,c){return c=c!=null?c.concat([a]):null,kp(4,4,TS.bind(null,l,a),c)}function Lv(){}function IS(a,l){var c=Tr();l=l===void 0?null:l;var p=c.memoizedState;return p!==null&&l!==null&&Av(l,p[1])?p[0]:(c.memoizedState=[a,l],a)}function CS(a,l){var c=Tr();l=l===void 0?null:l;var p=c.memoizedState;return p!==null&&l!==null&&Av(l,p[1])?p[0]:(a=a(),c.memoizedState=[a,l],a)}function NS(a,l,c){return(Io&21)===0?(a.baseState&&(a.baseState=!1,qn=!0),a.memoizedState=c):($r(c,l)||(c=Qc(),kt.lanes|=c,Co|=c,a.baseState=!0),l)}function B4(a,l){var c=Xe;Xe=c!==0&&4>c?c:4,a(!0);var p=Nv.transition;Nv.transition={};try{a(!1),l()}finally{Xe=c,Nv.transition=p}}function AS(){return Tr().memoizedState}function $4(a,l,c){var p=ya(a);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},RS(a))PS(l,c);else if(c=lS(a,l,c,p),c!==null){var y=Rn();Hr(c,a,p,y),DS(c,l,p)}}function q4(a,l,c){var p=ya(a),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(RS(a))PS(l,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var N=l.lastRenderedState,F=b(N,c);if(y.hasEagerState=!0,y.eagerState=F,$r(F,N)){var z=l.interleaved;z===null?(y.next=y,Sv(l)):(y.next=z.next,z.next=y),l.interleaved=y;return}}catch{}finally{}c=lS(a,l,y,p),c!==null&&(y=Rn(),Hr(c,a,p,y),DS(c,l,p))}}function RS(a){var l=a.alternate;return a===kt||l!==null&&l===kt}function PS(a,l){wh=Ep=!0;var c=a.pending;c===null?l.next=l:(l.next=c.next,c.next=l),a.pending=l}function DS(a,l,c){if((c&4194240)!==0){var p=l.lanes;p&=a.pendingLanes,c|=p,l.lanes=c,Yc(a,c)}}var Tp={readContext:kr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},W4={readContext:kr,useCallback:function(a,l){return ks().memoizedState=[a,l===void 0?null:l],a},useContext:kr,useEffect:ES,useImperativeHandle:function(a,l,c){return c=c!=null?c.concat([a]):null,Sp(4194308,4,TS.bind(null,l,a),c)},useLayoutEffect:function(a,l){return Sp(4194308,4,a,l)},useInsertionEffect:function(a,l){return Sp(4,2,a,l)},useMemo:function(a,l){var c=ks();return l=l===void 0?null:l,a=a(),c.memoizedState=[a,l],a},useReducer:function(a,l,c){var p=ks();return l=c!==void 0?c(l):l,p.memoizedState=p.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},p.queue=a,a=a.dispatch=$4.bind(null,kt,a),[p.memoizedState,a]},useRef:function(a){var l=ks();return a={current:a},l.memoizedState=a},useState:wS,useDebugValue:Lv,useDeferredValue:function(a){return ks().memoizedState=a},useTransition:function(){var a=wS(!1),l=a[0];return a=B4.bind(null,a[1]),ks().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,c){var p=kt,y=ks();if(bt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=l(),rn===null)throw Error(n(349));(Io&30)!==0||mS(p,l,c)}y.memoizedState=c;var b={value:c,getSnapshot:l};return y.queue=b,ES(yS.bind(null,p,b,a),[a]),p.flags|=2048,Sh(9,gS.bind(null,p,b,c,l),void 0,null),c},useId:function(){var a=ks(),l=rn.identifierPrefix;if(bt){var c=hi,p=ci;c=(p&~(1<<32-nr(p)-1)).toString(32)+c,l=":"+l+"R"+c,c=xh++,0<c&&(l+="H"+c.toString(32)),l+=":"}else c=z4++,l=":"+l+"r"+c.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},K4={readContext:kr,useCallback:IS,useContext:kr,useEffect:Ov,useImperativeHandle:_S,useInsertionEffect:SS,useLayoutEffect:kS,useMemo:CS,useReducer:Dv,useRef:xS,useState:function(){return Dv(Eh)},useDebugValue:Lv,useDeferredValue:function(a){var l=Tr();return NS(l,Yt.memoizedState,a)},useTransition:function(){var a=Dv(Eh)[0],l=Tr().memoizedState;return[a,l]},useMutableSource:fS,useSyncExternalStore:pS,useId:AS,unstable_isNewReconciler:!1},G4={readContext:kr,useCallback:IS,useContext:kr,useEffect:Ov,useImperativeHandle:_S,useInsertionEffect:SS,useLayoutEffect:kS,useMemo:CS,useReducer:Mv,useRef:xS,useState:function(){return Mv(Eh)},useDebugValue:Lv,useDeferredValue:function(a){var l=Tr();return Yt===null?l.memoizedState=a:NS(l,Yt.memoizedState,a)},useTransition:function(){var a=Mv(Eh)[0],l=Tr().memoizedState;return[a,l]},useMutableSource:fS,useSyncExternalStore:pS,useId:AS,unstable_isNewReconciler:!1};function Wr(a,l){if(a&&a.defaultProps){l=ae({},l),a=a.defaultProps;for(var c in a)l[c]===void 0&&(l[c]=a[c]);return l}return l}function jv(a,l,c,p){l=a.memoizedState,c=c(p,l),c=c==null?l:ae({},l,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var _p={isMounted:function(a){return(a=a._reactInternals)?zr(a)===a:!1},enqueueSetState:function(a,l,c){a=a._reactInternals;var p=Rn(),y=ya(a),b=fi(p,y);b.payload=l,c!=null&&(b.callback=c),l=fa(a,b,y),l!==null&&(Hr(l,a,y,p),vp(l,a,y))},enqueueReplaceState:function(a,l,c){a=a._reactInternals;var p=Rn(),y=ya(a),b=fi(p,y);b.tag=1,b.payload=l,c!=null&&(b.callback=c),l=fa(a,b,y),l!==null&&(Hr(l,a,y,p),vp(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var c=Rn(),p=ya(a),y=fi(c,p);y.tag=2,l!=null&&(y.callback=l),l=fa(a,y,p),l!==null&&(Hr(l,a,p,c),vp(l,a,p))}};function MS(a,l,c,p,y,b,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,b,N):l.prototype&&l.prototype.isPureReactComponent?!uh(c,p)||!uh(y,b):!0}function OS(a,l,c){var p=!1,y=ca,b=l.contextType;return typeof b=="object"&&b!==null?b=kr(b):(y=$n(l)?Eo:wn.current,p=l.contextTypes,b=(p=p!=null)?uu(a,y):ca),l=new l(c,b),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=_p,a.stateNode=l,l._reactInternals=a,p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=b),l}function LS(a,l,c,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,p),l.state!==a&&_p.enqueueReplaceState(l,l.state,null)}function Fv(a,l,c,p){var y=a.stateNode;y.props=c,y.state=a.memoizedState,y.refs={},kv(a);var b=l.contextType;typeof b=="object"&&b!==null?y.context=kr(b):(b=$n(l)?Eo:wn.current,y.context=uu(a,b)),y.state=a.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(jv(a,l,b,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&_p.enqueueReplaceState(y,y.state,null),bp(a,c,y,p),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function yu(a,l){try{var c="",p=l;do c+=De(p),p=p.return;while(p);var y=c}catch(b){y=`
Error generating stack: `+b.message+`
`+b.stack}return{value:a,source:l,stack:y,digest:null}}function Vv(a,l,c){return{value:a,source:null,stack:c??null,digest:l??null}}function Uv(a,l){try{console.error(l.value)}catch(c){setTimeout(function(){throw c})}}var H4=typeof WeakMap=="function"?WeakMap:Map;function jS(a,l,c){c=fi(-1,c),c.tag=3,c.payload={element:null};var p=l.value;return c.callback=function(){Dp||(Dp=!0,e0=p),Uv(a,l)},c}function FS(a,l,c){c=fi(-1,c),c.tag=3;var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;c.payload=function(){return p(y)},c.callback=function(){Uv(a,l)}}var b=a.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(c.callback=function(){Uv(a,l),typeof p!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})}),c}function VS(a,l,c){var p=a.pingCache;if(p===null){p=a.pingCache=new H4;var y=new Set;p.set(l,y)}else y=p.get(l),y===void 0&&(y=new Set,p.set(l,y));y.has(c)||(y.add(c),a=lj.bind(null,a,l,c),l.then(a,a))}function US(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function zS(a,l,c,p,y){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(l=fi(-1,1),l.tag=2,fa(c,l,1))),c.lanes|=1),a):(a.flags|=65536,a.lanes=y,a)}var Q4=U.ReactCurrentOwner,qn=!1;function An(a,l,c,p){l.child=a===null?oS(l,null,c,p):fu(l,a.child,c,p)}function BS(a,l,c,p,y){c=c.render;var b=l.ref;return mu(l,y),p=Rv(a,l,c,p,b,y),c=Pv(),a!==null&&!qn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,pi(a,l,y)):(bt&&c&&pv(l),l.flags|=1,An(a,l,p,y),l.child)}function $S(a,l,c,p,y){if(a===null){var b=c.type;return typeof b=="function"&&!o0(b)&&b.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(l.tag=15,l.type=b,qS(a,l,b,p,y)):(a=Vp(c.type,null,p,l,l.mode,y),a.ref=l.ref,a.return=l,l.child=a)}if(b=a.child,(a.lanes&y)===0){var N=b.memoizedProps;if(c=c.compare,c=c!==null?c:uh,c(N,p)&&a.ref===l.ref)return pi(a,l,y)}return l.flags|=1,a=ba(b,p),a.ref=l.ref,a.return=l,l.child=a}function qS(a,l,c,p,y){if(a!==null){var b=a.memoizedProps;if(uh(b,p)&&a.ref===l.ref)if(qn=!1,l.pendingProps=p=b,(a.lanes&y)!==0)(a.flags&131072)!==0&&(qn=!0);else return l.lanes=a.lanes,pi(a,l,y)}return zv(a,l,c,p,y)}function WS(a,l,c){var p=l.pendingProps,y=p.children,b=a!==null?a.memoizedState:null;if(p.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(bu,ur),ur|=c;else{if((c&1073741824)===0)return a=b!==null?b.baseLanes|c:c,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,ht(bu,ur),ur|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=b!==null?b.baseLanes:c,ht(bu,ur),ur|=p}else b!==null?(p=b.baseLanes|c,l.memoizedState=null):p=c,ht(bu,ur),ur|=p;return An(a,l,y,c),l.child}function KS(a,l){var c=l.ref;(a===null&&c!==null||a!==null&&a.ref!==c)&&(l.flags|=512,l.flags|=2097152)}function zv(a,l,c,p,y){var b=$n(c)?Eo:wn.current;return b=uu(l,b),mu(l,y),c=Rv(a,l,c,p,b,y),p=Pv(),a!==null&&!qn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,pi(a,l,y)):(bt&&p&&pv(l),l.flags|=1,An(a,l,c,y),l.child)}function GS(a,l,c,p,y){if($n(c)){var b=!0;cp(l)}else b=!1;if(mu(l,y),l.stateNode===null)Cp(a,l),OS(l,c,p),Fv(l,c,p,y),p=!0;else if(a===null){var N=l.stateNode,F=l.memoizedProps;N.props=F;var z=N.context,Z=c.contextType;typeof Z=="object"&&Z!==null?Z=kr(Z):(Z=$n(c)?Eo:wn.current,Z=uu(l,Z));var ie=c.getDerivedStateFromProps,oe=typeof ie=="function"||typeof N.getSnapshotBeforeUpdate=="function";oe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(F!==p||z!==Z)&&LS(l,N,p,Z),da=!1;var se=l.memoizedState;N.state=se,bp(l,p,N,y),z=l.memoizedState,F!==p||se!==z||Bn.current||da?(typeof ie=="function"&&(jv(l,c,ie,p),z=l.memoizedState),(F=da||MS(l,c,F,p,se,z,Z))?(oe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=z),N.props=p,N.state=z,N.context=Z,p=F):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{N=l.stateNode,uS(a,l),F=l.memoizedProps,Z=l.type===l.elementType?F:Wr(l.type,F),N.props=Z,oe=l.pendingProps,se=N.context,z=c.contextType,typeof z=="object"&&z!==null?z=kr(z):(z=$n(c)?Eo:wn.current,z=uu(l,z));var fe=c.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(F!==oe||se!==z)&&LS(l,N,p,z),da=!1,se=l.memoizedState,N.state=se,bp(l,p,N,y);var xe=l.memoizedState;F!==oe||se!==xe||Bn.current||da?(typeof fe=="function"&&(jv(l,c,fe,p),xe=l.memoizedState),(Z=da||MS(l,c,Z,p,se,xe,z)||!1)?(ie||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,xe,z),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,xe,z)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=xe),N.props=p,N.state=xe,N.context=z,p=Z):(typeof N.componentDidUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=1024),p=!1)}return Bv(a,l,c,p,b,y)}function Bv(a,l,c,p,y,b){KS(a,l);var N=(l.flags&128)!==0;if(!p&&!N)return y&&JE(l,c,!1),pi(a,l,b);p=l.stateNode,Q4.current=l;var F=N&&typeof c.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,a!==null&&N?(l.child=fu(l,a.child,null,b),l.child=fu(l,null,F,b)):An(a,l,F,b),l.memoizedState=p.state,y&&JE(l,c,!0),l.child}function HS(a){var l=a.stateNode;l.pendingContext?XE(a,l.pendingContext,l.pendingContext!==l.context):l.context&&XE(a,l.context,!1),Tv(a,l.containerInfo)}function QS(a,l,c,p,y){return du(),vv(y),l.flags|=256,An(a,l,c,p),l.child}var $v={dehydrated:null,treeContext:null,retryLane:0};function qv(a){return{baseLanes:a,cachePool:null,transitions:null}}function XS(a,l,c){var p=l.pendingProps,y=St.current,b=!1,N=(l.flags&128)!==0,F;if((F=N)||(F=a!==null&&a.memoizedState===null?!1:(y&2)!==0),F?(b=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(y|=1),ht(St,y&1),a===null)return yv(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(N=p.children,a=p.fallback,b?(p=l.mode,b=l.child,N={mode:"hidden",children:N},(p&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=N):b=Up(N,p,0,null),a=Po(a,p,c,null),b.return=l,a.return=l,b.sibling=a,l.child=b,l.child.memoizedState=qv(c),l.memoizedState=$v,a):Wv(l,N));if(y=a.memoizedState,y!==null&&(F=y.dehydrated,F!==null))return X4(a,l,N,p,F,y,c);if(b){b=p.fallback,N=l.mode,y=a.child,F=y.sibling;var z={mode:"hidden",children:p.children};return(N&1)===0&&l.child!==y?(p=l.child,p.childLanes=0,p.pendingProps=z,l.deletions=null):(p=ba(y,z),p.subtreeFlags=y.subtreeFlags&14680064),F!==null?b=ba(F,b):(b=Po(b,N,c,null),b.flags|=2),b.return=l,p.return=l,p.sibling=b,l.child=p,p=b,b=l.child,N=a.child.memoizedState,N=N===null?qv(c):{baseLanes:N.baseLanes|c,cachePool:null,transitions:N.transitions},b.memoizedState=N,b.childLanes=a.childLanes&~c,l.memoizedState=$v,p}return b=a.child,a=b.sibling,p=ba(b,{mode:"visible",children:p.children}),(l.mode&1)===0&&(p.lanes=c),p.return=l,p.sibling=null,a!==null&&(c=l.deletions,c===null?(l.deletions=[a],l.flags|=16):c.push(a)),l.child=p,l.memoizedState=null,p}function Wv(a,l){return l=Up({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Ip(a,l,c,p){return p!==null&&vv(p),fu(l,a.child,null,c),a=Wv(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function X4(a,l,c,p,y,b,N){if(c)return l.flags&256?(l.flags&=-257,p=Vv(Error(n(422))),Ip(a,l,N,p)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(b=p.fallback,y=l.mode,p=Up({mode:"visible",children:p.children},y,0,null),b=Po(b,y,N,null),b.flags|=2,p.return=l,b.return=l,p.sibling=b,l.child=p,(l.mode&1)!==0&&fu(l,a.child,null,N),l.child.memoizedState=qv(N),l.memoizedState=$v,b);if((l.mode&1)===0)return Ip(a,l,N,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var F=p.dgst;return p=F,b=Error(n(419)),p=Vv(b,p,void 0),Ip(a,l,N,p)}if(F=(N&a.childLanes)!==0,qn||F){if(p=rn,p!==null){switch(N&-N){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|N))!==0?0:y,y!==0&&y!==b.retryLane&&(b.retryLane=y,di(a,y),Hr(p,a,y,-1))}return a0(),p=Vv(Error(n(421))),Ip(a,l,N,p)}return y.data==="$?"?(l.flags|=128,l.child=a.child,l=uj.bind(null,a),y._reactRetry=l,null):(a=b.treeContext,lr=la(y.nextSibling),or=l,bt=!0,qr=null,a!==null&&(Er[Sr++]=ci,Er[Sr++]=hi,Er[Sr++]=So,ci=a.id,hi=a.overflow,So=l),l=Wv(l,p.children),l.flags|=4096,l)}function YS(a,l,c){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),Ev(a.return,l,c)}function Kv(a,l,c,p,y){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(b.isBackwards=l,b.rendering=null,b.renderingStartTime=0,b.last=p,b.tail=c,b.tailMode=y)}function JS(a,l,c){var p=l.pendingProps,y=p.revealOrder,b=p.tail;if(An(a,l,p.children,c),p=St.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&YS(a,c,l);else if(a.tag===19)YS(a,c,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}if(ht(St,p),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(c=l.child,y=null;c!==null;)a=c.alternate,a!==null&&wp(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=l.child,l.child=null):(y=c.sibling,c.sibling=null),Kv(l,!1,y,c,b);break;case"backwards":for(c=null,y=l.child,l.child=null;y!==null;){if(a=y.alternate,a!==null&&wp(a)===null){l.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}Kv(l,!0,c,null,b);break;case"together":Kv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Cp(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function pi(a,l,c){if(a!==null&&(l.dependencies=a.dependencies),Co|=l.lanes,(c&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,c=ba(a,a.pendingProps),l.child=c,c.return=l;a.sibling!==null;)a=a.sibling,c=c.sibling=ba(a,a.pendingProps),c.return=l;c.sibling=null}return l.child}function Y4(a,l,c){switch(l.tag){case 3:HS(l),du();break;case 5:dS(l);break;case 1:$n(l.type)&&cp(l);break;case 4:Tv(l,l.stateNode.containerInfo);break;case 10:var p=l.type._context,y=l.memoizedProps.value;ht(gp,p._currentValue),p._currentValue=y;break;case 13:if(p=l.memoizedState,p!==null)return p.dehydrated!==null?(ht(St,St.current&1),l.flags|=128,null):(c&l.child.childLanes)!==0?XS(a,l,c):(ht(St,St.current&1),a=pi(a,l,c),a!==null?a.sibling:null);ht(St,St.current&1);break;case 19:if(p=(c&l.childLanes)!==0,(a.flags&128)!==0){if(p)return JS(a,l,c);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ht(St,St.current),p)break;return null;case 22:case 23:return l.lanes=0,WS(a,l,c)}return pi(a,l,c)}var ZS,Gv,ek,tk;ZS=function(a,l){for(var c=l.child;c!==null;){if(c.tag===5||c.tag===6)a.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Gv=function(){},ek=function(a,l,c,p){var y=a.memoizedProps;if(y!==p){a=l.stateNode,_o(Ss.current);var b=null;switch(c){case"input":y=$i(a,y),p=$i(a,p),b=[];break;case"select":y=ae({},y,{value:void 0}),p=ae({},p,{value:void 0}),b=[];break;case"textarea":y=Fc(a,y),p=Fc(a,p),b=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(a.onclick=op)}Ur(c,p);var N;c=null;for(Z in y)if(!p.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var F=y[Z];for(N in F)F.hasOwnProperty(N)&&(c||(c={}),c[N]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?b||(b=[]):(b=b||[]).push(Z,null));for(Z in p){var z=p[Z];if(F=y!=null?y[Z]:void 0,p.hasOwnProperty(Z)&&z!==F&&(z!=null||F!=null))if(Z==="style")if(F){for(N in F)!F.hasOwnProperty(N)||z&&z.hasOwnProperty(N)||(c||(c={}),c[N]="");for(N in z)z.hasOwnProperty(N)&&F[N]!==z[N]&&(c||(c={}),c[N]=z[N])}else c||(b||(b=[]),b.push(Z,c)),c=z;else Z==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,F=F?F.__html:void 0,z!=null&&F!==z&&(b=b||[]).push(Z,z)):Z==="children"?typeof z!="string"&&typeof z!="number"||(b=b||[]).push(Z,""+z):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?(z!=null&&Z==="onScroll"&&mt("scroll",a),b||F===z||(b=[])):(b=b||[]).push(Z,z))}c&&(b=b||[]).push("style",c);var Z=b;(l.updateQueue=Z)&&(l.flags|=4)}},tk=function(a,l,c,p){c!==p&&(l.flags|=4)};function kh(a,l){if(!bt)switch(a.tailMode){case"hidden":l=a.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function En(a){var l=a.alternate!==null&&a.alternate.child===a.child,c=0,p=0;if(l)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=p,a.childLanes=c,l}function J4(a,l,c){var p=l.pendingProps;switch(mv(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(l),null;case 1:return $n(l.type)&&up(),En(l),null;case 3:return p=l.stateNode,gu(),gt(Bn),gt(wn),Cv(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(pp(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,qr!==null&&(r0(qr),qr=null))),Gv(a,l),En(l),null;case 5:_v(l);var y=_o(bh.current);if(c=l.type,a!==null&&l.stateNode!=null)ek(a,l,c,p,y),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(n(166));return En(l),null}if(a=_o(Ss.current),pp(l)){p=l.stateNode,c=l.type;var b=l.memoizedProps;switch(p[Es]=l,p[ph]=b,a=(l.mode&1)!==0,c){case"dialog":mt("cancel",p),mt("close",p);break;case"iframe":case"object":case"embed":mt("load",p);break;case"video":case"audio":for(y=0;y<hh.length;y++)mt(hh[y],p);break;case"source":mt("error",p);break;case"img":case"image":case"link":mt("error",p),mt("load",p);break;case"details":mt("toggle",p);break;case"input":Ll(p,b),mt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!b.multiple},mt("invalid",p);break;case"textarea":Vc(p,b),mt("invalid",p)}Ur(c,b),y=null;for(var N in b)if(b.hasOwnProperty(N)){var F=b[N];N==="children"?typeof F=="string"?p.textContent!==F&&(b.suppressHydrationWarning!==!0&&ap(p.textContent,F,a),y=["children",F]):typeof F=="number"&&p.textContent!==""+F&&(b.suppressHydrationWarning!==!0&&ap(p.textContent,F,a),y=["children",""+F]):s.hasOwnProperty(N)&&F!=null&&N==="onScroll"&&mt("scroll",p)}switch(c){case"input":vr(p),io(p,b,!0);break;case"textarea":vr(p),Wi(p);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(p.onclick=op)}p=y,l.updateQueue=p,p!==null&&(l.flags|=4)}else{N=y.nodeType===9?y:y.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Uc(c)),a==="http://www.w3.org/1999/xhtml"?c==="script"?(a=N.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof p.is=="string"?a=N.createElement(c,{is:p.is}):(a=N.createElement(c),c==="select"&&(N=a,p.multiple?N.multiple=!0:p.size&&(N.size=p.size))):a=N.createElementNS(a,c),a[Es]=l,a[ph]=p,ZS(a,l,!1,!1),l.stateNode=a;e:{switch(N=Vl(c,p),c){case"dialog":mt("cancel",a),mt("close",a),y=p;break;case"iframe":case"object":case"embed":mt("load",a),y=p;break;case"video":case"audio":for(y=0;y<hh.length;y++)mt(hh[y],a);y=p;break;case"source":mt("error",a),y=p;break;case"img":case"image":case"link":mt("error",a),mt("load",a),y=p;break;case"details":mt("toggle",a),y=p;break;case"input":Ll(a,p),y=$i(a,p),mt("invalid",a);break;case"option":y=p;break;case"select":a._wrapperState={wasMultiple:!!p.multiple},y=ae({},p,{value:void 0}),mt("invalid",a);break;case"textarea":Vc(a,p),y=Fc(a,p),mt("invalid",a);break;default:y=p}Ur(c,y),F=y;for(b in F)if(F.hasOwnProperty(b)){var z=F[b];b==="style"?Fl(a,z):b==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Mf(a,z)):b==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&ao(a,z):typeof z=="number"&&ao(a,""+z):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(s.hasOwnProperty(b)?z!=null&&b==="onScroll"&&mt("scroll",a):z!=null&&O(a,b,z,N))}switch(c){case"input":vr(a),io(a,p,!1);break;case"textarea":vr(a),Wi(a);break;case"option":p.value!=null&&a.setAttribute("value",""+$e(p.value));break;case"select":a.multiple=!!p.multiple,b=p.value,b!=null?Vr(a,!!p.multiple,b,!1):p.defaultValue!=null&&Vr(a,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(a.onclick=op)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return En(l),null;case 6:if(a&&l.stateNode!=null)tk(a,l,a.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(c=_o(bh.current),_o(Ss.current),pp(l)){if(p=l.stateNode,c=l.memoizedProps,p[Es]=l,(b=p.nodeValue!==c)&&(a=or,a!==null))switch(a.tag){case 3:ap(p.nodeValue,c,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&ap(p.nodeValue,c,(a.mode&1)!==0)}b&&(l.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Es]=l,l.stateNode=p}return En(l),null;case 13:if(gt(St),p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(bt&&lr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)sS(),du(),l.flags|=98560,b=!1;else if(b=pp(l),p!==null&&p.dehydrated!==null){if(a===null){if(!b)throw Error(n(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Es]=l}else du(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;En(l),b=!1}else qr!==null&&(r0(qr),qr=null),b=!0;if(!b)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=c,l):(p=p!==null,p!==(a!==null&&a.memoizedState!==null)&&p&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(St.current&1)!==0?Jt===0&&(Jt=3):a0())),l.updateQueue!==null&&(l.flags|=4),En(l),null);case 4:return gu(),Gv(a,l),a===null&&dh(l.stateNode.containerInfo),En(l),null;case 10:return xv(l.type._context),En(l),null;case 17:return $n(l.type)&&up(),En(l),null;case 19:if(gt(St),b=l.memoizedState,b===null)return En(l),null;if(p=(l.flags&128)!==0,N=b.rendering,N===null)if(p)kh(b,!1);else{if(Jt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(N=wp(a),N!==null){for(l.flags|=128,kh(b,!1),p=N.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),l.subtreeFlags=0,p=c,c=l.child;c!==null;)b=c,a=p,b.flags&=14680066,N=b.alternate,N===null?(b.childLanes=0,b.lanes=a,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=N.childLanes,b.lanes=N.lanes,b.child=N.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=N.memoizedProps,b.memoizedState=N.memoizedState,b.updateQueue=N.updateQueue,b.type=N.type,a=N.dependencies,b.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;return ht(St,St.current&1|2),l.child}a=a.sibling}b.tail!==null&&pt()>wu&&(l.flags|=128,p=!0,kh(b,!1),l.lanes=4194304)}else{if(!p)if(a=wp(N),a!==null){if(l.flags|=128,p=!0,c=a.updateQueue,c!==null&&(l.updateQueue=c,l.flags|=4),kh(b,!0),b.tail===null&&b.tailMode==="hidden"&&!N.alternate&&!bt)return En(l),null}else 2*pt()-b.renderingStartTime>wu&&c!==1073741824&&(l.flags|=128,p=!0,kh(b,!1),l.lanes=4194304);b.isBackwards?(N.sibling=l.child,l.child=N):(c=b.last,c!==null?c.sibling=N:l.child=N,b.last=N)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=pt(),l.sibling=null,c=St.current,ht(St,p?c&1|2:c&1),l):(En(l),null);case 22:case 23:return i0(),p=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==p&&(l.flags|=8192),p&&(l.mode&1)!==0?(ur&1073741824)!==0&&(En(l),l.subtreeFlags&6&&(l.flags|=8192)):En(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function Z4(a,l){switch(mv(l),l.tag){case 1:return $n(l.type)&&up(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return gu(),gt(Bn),gt(wn),Cv(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return _v(l),null;case 13:if(gt(St),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));du()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return gt(St),null;case 4:return gu(),null;case 10:return xv(l.type._context),null;case 22:case 23:return i0(),null;case 24:return null;default:return null}}var Np=!1,Sn=!1,ej=typeof WeakSet=="function"?WeakSet:Set,be=null;function vu(a,l){var c=a.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){At(a,l,p)}else c.current=null}function nk(a,l,c){try{c()}catch(p){At(a,l,p)}}var rk=!1;function tj(a,l){if(av=ai,a=ME(),Jy(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var N=0,F=-1,z=-1,Z=0,ie=0,oe=a,se=null;t:for(;;){for(var fe;oe!==c||y!==0&&oe.nodeType!==3||(F=N+y),oe!==b||p!==0&&oe.nodeType!==3||(z=N+p),oe.nodeType===3&&(N+=oe.nodeValue.length),(fe=oe.firstChild)!==null;)se=oe,oe=fe;for(;;){if(oe===a)break t;if(se===c&&++Z===y&&(F=N),se===b&&++ie===p&&(z=N),(fe=oe.nextSibling)!==null)break;oe=se,se=oe.parentNode}oe=fe}c=F===-1||z===-1?null:{start:F,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(ov={focusedElem:a,selectionRange:c},ai=!1,be=l;be!==null;)if(l=be,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,be=a;else for(;be!==null;){l=be;try{var xe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var Te=xe.memoizedProps,Lt=xe.memoizedState,X=l.stateNode,W=X.getSnapshotBeforeUpdate(l.elementType===l.type?Te:Wr(l.type,Te),Lt);X.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){At(l,l.return,ue)}if(a=l.sibling,a!==null){a.return=l.return,be=a;break}be=l.return}return xe=rk,rk=!1,xe}function Th(a,l,c){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&a)===a){var b=y.destroy;y.destroy=void 0,b!==void 0&&nk(l,c,b)}y=y.next}while(y!==p)}}function Ap(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&a)===a){var p=c.create;c.destroy=p()}c=c.next}while(c!==l)}}function Hv(a){var l=a.ref;if(l!==null){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}typeof l=="function"?l(a):l.current=a}}function sk(a){var l=a.alternate;l!==null&&(a.alternate=null,sk(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[Es],delete l[ph],delete l[hv],delete l[j4],delete l[F4])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function ik(a){return a.tag===5||a.tag===3||a.tag===4}function ak(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ik(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Qv(a,l,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?c.nodeType===8?c.parentNode.insertBefore(a,l):c.insertBefore(a,l):(c.nodeType===8?(l=c.parentNode,l.insertBefore(a,c)):(l=c,l.appendChild(a)),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=op));else if(p!==4&&(a=a.child,a!==null))for(Qv(a,l,c),a=a.sibling;a!==null;)Qv(a,l,c),a=a.sibling}function Xv(a,l,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?c.insertBefore(a,l):c.appendChild(a);else if(p!==4&&(a=a.child,a!==null))for(Xv(a,l,c),a=a.sibling;a!==null;)Xv(a,l,c),a=a.sibling}var cn=null,Kr=!1;function pa(a,l,c){for(c=c.child;c!==null;)ok(a,l,c),c=c.sibling}function ok(a,l,c){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(ho,c)}catch{}switch(c.tag){case 5:Sn||vu(c,l);case 6:var p=cn,y=Kr;cn=null,pa(a,l,c),cn=p,Kr=y,cn!==null&&(Kr?(a=cn,c=c.stateNode,a.nodeType===8?a.parentNode.removeChild(c):a.removeChild(c)):cn.removeChild(c.stateNode));break;case 18:cn!==null&&(Kr?(a=cn,c=c.stateNode,a.nodeType===8?cv(a.parentNode,c):a.nodeType===1&&cv(a,c),ra(a)):cv(cn,c.stateNode));break;case 4:p=cn,y=Kr,cn=c.stateNode.containerInfo,Kr=!0,pa(a,l,c),cn=p,Kr=y;break;case 0:case 11:case 14:case 15:if(!Sn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var b=y,N=b.destroy;b=b.tag,N!==void 0&&((b&2)!==0||(b&4)!==0)&&nk(c,l,N),y=y.next}while(y!==p)}pa(a,l,c);break;case 1:if(!Sn&&(vu(c,l),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(F){At(c,l,F)}pa(a,l,c);break;case 21:pa(a,l,c);break;case 22:c.mode&1?(Sn=(p=Sn)||c.memoizedState!==null,pa(a,l,c),Sn=p):pa(a,l,c);break;default:pa(a,l,c)}}function lk(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var c=a.stateNode;c===null&&(c=a.stateNode=new ej),l.forEach(function(p){var y=cj.bind(null,a,p);c.has(p)||(c.add(p),p.then(y,y))})}}function Gr(a,l){var c=l.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var b=a,N=l,F=N;e:for(;F!==null;){switch(F.tag){case 5:cn=F.stateNode,Kr=!1;break e;case 3:cn=F.stateNode.containerInfo,Kr=!0;break e;case 4:cn=F.stateNode.containerInfo,Kr=!0;break e}F=F.return}if(cn===null)throw Error(n(160));ok(b,N,y),cn=null,Kr=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(Z){At(y,l,Z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)uk(l,a),l=l.sibling}function uk(a,l){var c=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Gr(l,a),Ts(a),p&4){try{Th(3,a,a.return),Ap(3,a)}catch(Te){At(a,a.return,Te)}try{Th(5,a,a.return)}catch(Te){At(a,a.return,Te)}}break;case 1:Gr(l,a),Ts(a),p&512&&c!==null&&vu(c,c.return);break;case 5:if(Gr(l,a),Ts(a),p&512&&c!==null&&vu(c,c.return),a.flags&32){var y=a.stateNode;try{ao(y,"")}catch(Te){At(a,a.return,Te)}}if(p&4&&(y=a.stateNode,y!=null)){var b=a.memoizedProps,N=c!==null?c.memoizedProps:b,F=a.type,z=a.updateQueue;if(a.updateQueue=null,z!==null)try{F==="input"&&b.type==="radio"&&b.name!=null&&qi(y,b),Vl(F,N);var Z=Vl(F,b);for(N=0;N<z.length;N+=2){var ie=z[N],oe=z[N+1];ie==="style"?Fl(y,oe):ie==="dangerouslySetInnerHTML"?Mf(y,oe):ie==="children"?ao(y,oe):O(y,ie,oe,Z)}switch(F){case"input":Js(y,b);break;case"textarea":Df(y,b);break;case"select":var se=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!b.multiple;var fe=b.value;fe!=null?Vr(y,!!b.multiple,fe,!1):se!==!!b.multiple&&(b.defaultValue!=null?Vr(y,!!b.multiple,b.defaultValue,!0):Vr(y,!!b.multiple,b.multiple?[]:"",!1))}y[ph]=b}catch(Te){At(a,a.return,Te)}}break;case 6:if(Gr(l,a),Ts(a),p&4){if(a.stateNode===null)throw Error(n(162));y=a.stateNode,b=a.memoizedProps;try{y.nodeValue=b}catch(Te){At(a,a.return,Te)}}break;case 3:if(Gr(l,a),Ts(a),p&4&&c!==null&&c.memoizedState.isDehydrated)try{ra(l.containerInfo)}catch(Te){At(a,a.return,Te)}break;case 4:Gr(l,a),Ts(a);break;case 13:Gr(l,a),Ts(a),y=a.child,y.flags&8192&&(b=y.memoizedState!==null,y.stateNode.isHidden=b,!b||y.alternate!==null&&y.alternate.memoizedState!==null||(Zv=pt())),p&4&&lk(a);break;case 22:if(ie=c!==null&&c.memoizedState!==null,a.mode&1?(Sn=(Z=Sn)||ie,Gr(l,a),Sn=Z):Gr(l,a),Ts(a),p&8192){if(Z=a.memoizedState!==null,(a.stateNode.isHidden=Z)&&!ie&&(a.mode&1)!==0)for(be=a,ie=a.child;ie!==null;){for(oe=be=ie;be!==null;){switch(se=be,fe=se.child,se.tag){case 0:case 11:case 14:case 15:Th(4,se,se.return);break;case 1:vu(se,se.return);var xe=se.stateNode;if(typeof xe.componentWillUnmount=="function"){p=se,c=se.return;try{l=p,xe.props=l.memoizedProps,xe.state=l.memoizedState,xe.componentWillUnmount()}catch(Te){At(p,c,Te)}}break;case 5:vu(se,se.return);break;case 22:if(se.memoizedState!==null){dk(oe);continue}}fe!==null?(fe.return=se,be=fe):dk(oe)}ie=ie.sibling}e:for(ie=null,oe=a;;){if(oe.tag===5){if(ie===null){ie=oe;try{y=oe.stateNode,Z?(b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(F=oe.stateNode,z=oe.memoizedProps.style,N=z!=null&&z.hasOwnProperty("display")?z.display:null,F.style.display=Hi("display",N))}catch(Te){At(a,a.return,Te)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=Z?"":oe.memoizedProps}catch(Te){At(a,a.return,Te)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===a)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===a)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===a)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Gr(l,a),Ts(a),p&4&&lk(a);break;case 21:break;default:Gr(l,a),Ts(a)}}function Ts(a){var l=a.flags;if(l&2){try{e:{for(var c=a.return;c!==null;){if(ik(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(ao(y,""),p.flags&=-33);var b=ak(a);Xv(a,b,y);break;case 3:case 4:var N=p.stateNode.containerInfo,F=ak(a);Qv(a,F,N);break;default:throw Error(n(161))}}catch(z){At(a,a.return,z)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function nj(a,l,c){be=a,ck(a)}function ck(a,l,c){for(var p=(a.mode&1)!==0;be!==null;){var y=be,b=y.child;if(y.tag===22&&p){var N=y.memoizedState!==null||Np;if(!N){var F=y.alternate,z=F!==null&&F.memoizedState!==null||Sn;F=Np;var Z=Sn;if(Np=N,(Sn=z)&&!Z)for(be=y;be!==null;)N=be,z=N.child,N.tag===22&&N.memoizedState!==null?fk(y):z!==null?(z.return=N,be=z):fk(y);for(;b!==null;)be=b,ck(b),b=b.sibling;be=y,Np=F,Sn=Z}hk(a)}else(y.subtreeFlags&8772)!==0&&b!==null?(b.return=y,be=b):hk(a)}}function hk(a){for(;be!==null;){var l=be;if((l.flags&8772)!==0){var c=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Sn||Ap(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!Sn)if(c===null)p.componentDidMount();else{var y=l.elementType===l.type?c.memoizedProps:Wr(l.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var b=l.updateQueue;b!==null&&hS(l,b,p);break;case 3:var N=l.updateQueue;if(N!==null){if(c=null,l.child!==null)switch(l.child.tag){case 5:c=l.child.stateNode;break;case 1:c=l.child.stateNode}hS(l,N,c)}break;case 5:var F=l.stateNode;if(c===null&&l.flags&4){c=F;var z=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Z=l.alternate;if(Z!==null){var ie=Z.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&ra(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Sn||l.flags&512&&Hv(l)}catch(se){At(l,l.return,se)}}if(l===a){be=null;break}if(c=l.sibling,c!==null){c.return=l.return,be=c;break}be=l.return}}function dk(a){for(;be!==null;){var l=be;if(l===a){be=null;break}var c=l.sibling;if(c!==null){c.return=l.return,be=c;break}be=l.return}}function fk(a){for(;be!==null;){var l=be;try{switch(l.tag){case 0:case 11:case 15:var c=l.return;try{Ap(4,l)}catch(z){At(l,c,z)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var y=l.return;try{p.componentDidMount()}catch(z){At(l,y,z)}}var b=l.return;try{Hv(l)}catch(z){At(l,b,z)}break;case 5:var N=l.return;try{Hv(l)}catch(z){At(l,N,z)}}}catch(z){At(l,l.return,z)}if(l===a){be=null;break}var F=l.sibling;if(F!==null){F.return=l.return,be=F;break}be=l.return}}var rj=Math.ceil,Rp=U.ReactCurrentDispatcher,Yv=U.ReactCurrentOwner,_r=U.ReactCurrentBatchConfig,tt=0,rn=null,Kt=null,hn=0,ur=0,bu=ua(0),Jt=0,_h=null,Co=0,Pp=0,Jv=0,Ih=null,Wn=null,Zv=0,wu=1/0,mi=null,Dp=!1,e0=null,ma=null,Mp=!1,ga=null,Op=0,Ch=0,t0=null,Lp=-1,jp=0;function Rn(){return(tt&6)!==0?pt():Lp!==-1?Lp:Lp=pt()}function ya(a){return(a.mode&1)===0?1:(tt&2)!==0&&hn!==0?hn&-hn:U4.transition!==null?(jp===0&&(jp=Qc()),jp):(a=Xe,a!==0||(a=window.event,a=a===void 0?16:Ql(a.type)),a)}function Hr(a,l,c,p){if(50<Ch)throw Ch=0,t0=null,Error(n(185));go(a,c,p),((tt&2)===0||a!==rn)&&(a===rn&&((tt&2)===0&&(Pp|=c),Jt===4&&va(a,hn)),Kn(a,p),c===1&&tt===0&&(l.mode&1)===0&&(wu=pt()+500,hp&&ha()))}function Kn(a,l){var c=a.callbackNode;mo(a,l);var p=ri(a,a===rn?hn:0);if(p===0)c!==null&&Bl(c),a.callbackNode=null,a.callbackPriority=0;else if(l=p&-p,a.callbackPriority!==l){if(c!=null&&Bl(c),l===1)a.tag===0?V4(mk.bind(null,a)):ZE(mk.bind(null,a)),O4(function(){(tt&6)===0&&ha()}),c=null;else{switch(ds(p)){case 1:c=$l;break;case 4:c=Kc;break;case 16:c=co;break;case 536870912:c=ql;break;default:c=co}c=Sk(c,pk.bind(null,a))}a.callbackPriority=l,a.callbackNode=c}}function pk(a,l){if(Lp=-1,jp=0,(tt&6)!==0)throw Error(n(327));var c=a.callbackNode;if(xu()&&a.callbackNode!==c)return null;var p=ri(a,a===rn?hn:0);if(p===0)return null;if((p&30)!==0||(p&a.expiredLanes)!==0||l)l=Fp(a,p);else{l=p;var y=tt;tt|=2;var b=yk();(rn!==a||hn!==l)&&(mi=null,wu=pt()+500,Ao(a,l));do try{aj();break}catch(F){gk(a,F)}while(!0);wv(),Rp.current=b,tt=y,Kt!==null?l=0:(rn=null,hn=0,l=Jt)}if(l!==0){if(l===2&&(y=Hc(a),y!==0&&(p=y,l=n0(a,y))),l===1)throw c=_h,Ao(a,0),va(a,p),Kn(a,pt()),c;if(l===6)va(a,p);else{if(y=a.current.alternate,(p&30)===0&&!sj(y)&&(l=Fp(a,p),l===2&&(b=Hc(a),b!==0&&(p=b,l=n0(a,b))),l===1))throw c=_h,Ao(a,0),va(a,p),Kn(a,pt()),c;switch(a.finishedWork=y,a.finishedLanes=p,l){case 0:case 1:throw Error(n(345));case 2:Ro(a,Wn,mi);break;case 3:if(va(a,p),(p&130023424)===p&&(l=Zv+500-pt(),10<l)){if(ri(a,0)!==0)break;if(y=a.suspendedLanes,(y&p)!==p){Rn(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=uv(Ro.bind(null,a,Wn,mi),l);break}Ro(a,Wn,mi);break;case 4:if(va(a,p),(p&4194240)===p)break;for(l=a.eventTimes,y=-1;0<p;){var N=31-nr(p);b=1<<N,N=l[N],N>y&&(y=N),p&=~b}if(p=y,p=pt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*rj(p/1960))-p,10<p){a.timeoutHandle=uv(Ro.bind(null,a,Wn,mi),p);break}Ro(a,Wn,mi);break;case 5:Ro(a,Wn,mi);break;default:throw Error(n(329))}}}return Kn(a,pt()),a.callbackNode===c?pk.bind(null,a):null}function n0(a,l){var c=Ih;return a.current.memoizedState.isDehydrated&&(Ao(a,l).flags|=256),a=Fp(a,l),a!==2&&(l=Wn,Wn=c,l!==null&&r0(l)),a}function r0(a){Wn===null?Wn=a:Wn.push.apply(Wn,a)}function sj(a){for(var l=a;;){if(l.flags&16384){var c=l.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],b=y.getSnapshot;y=y.value;try{if(!$r(b(),y))return!1}catch{return!1}}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function va(a,l){for(l&=~Jv,l&=~Pp,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var c=31-nr(l),p=1<<c;a[c]=-1,l&=~p}}function mk(a){if((tt&6)!==0)throw Error(n(327));xu();var l=ri(a,0);if((l&1)===0)return Kn(a,pt()),null;var c=Fp(a,l);if(a.tag!==0&&c===2){var p=Hc(a);p!==0&&(l=p,c=n0(a,p))}if(c===1)throw c=_h,Ao(a,0),va(a,l),Kn(a,pt()),c;if(c===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Ro(a,Wn,mi),Kn(a,pt()),null}function s0(a,l){var c=tt;tt|=1;try{return a(l)}finally{tt=c,tt===0&&(wu=pt()+500,hp&&ha())}}function No(a){ga!==null&&ga.tag===0&&(tt&6)===0&&xu();var l=tt;tt|=1;var c=_r.transition,p=Xe;try{if(_r.transition=null,Xe=1,a)return a()}finally{Xe=p,_r.transition=c,tt=l,(tt&6)===0&&ha()}}function i0(){ur=bu.current,gt(bu)}function Ao(a,l){a.finishedWork=null,a.finishedLanes=0;var c=a.timeoutHandle;if(c!==-1&&(a.timeoutHandle=-1,M4(c)),Kt!==null)for(c=Kt.return;c!==null;){var p=c;switch(mv(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&up();break;case 3:gu(),gt(Bn),gt(wn),Cv();break;case 5:_v(p);break;case 4:gu();break;case 13:gt(St);break;case 19:gt(St);break;case 10:xv(p.type._context);break;case 22:case 23:i0()}c=c.return}if(rn=a,Kt=a=ba(a.current,null),hn=ur=l,Jt=0,_h=null,Jv=Pp=Co=0,Wn=Ih=null,To!==null){for(l=0;l<To.length;l++)if(c=To[l],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,b=c.pending;if(b!==null){var N=b.next;b.next=y,p.next=N}c.pending=p}To=null}return a}function gk(a,l){do{var c=Kt;try{if(wv(),xp.current=Tp,Ep){for(var p=kt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Ep=!1}if(Io=0,nn=Yt=kt=null,wh=!1,xh=0,Yv.current=null,c===null||c.return===null){Jt=1,_h=l,Kt=null;break}e:{var b=a,N=c.return,F=c,z=l;if(l=hn,F.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Z=z,ie=F,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=US(N);if(fe!==null){fe.flags&=-257,zS(fe,N,F,b,l),fe.mode&1&&VS(b,Z,l),l=fe,z=Z;var xe=l.updateQueue;if(xe===null){var Te=new Set;Te.add(z),l.updateQueue=Te}else xe.add(z);break e}else{if((l&1)===0){VS(b,Z,l),a0();break e}z=Error(n(426))}}else if(bt&&F.mode&1){var Lt=US(N);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),zS(Lt,N,F,b,l),vv(yu(z,F));break e}}b=z=yu(z,F),Jt!==4&&(Jt=2),Ih===null?Ih=[b]:Ih.push(b),b=N;do{switch(b.tag){case 3:b.flags|=65536,l&=-l,b.lanes|=l;var X=jS(b,z,l);cS(b,X);break e;case 1:F=z;var W=b.type,J=b.stateNode;if((b.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(ma===null||!ma.has(J)))){b.flags|=65536,l&=-l,b.lanes|=l;var ue=FS(b,F,l);cS(b,ue);break e}}b=b.return}while(b!==null)}bk(c)}catch(_e){l=_e,Kt===c&&c!==null&&(Kt=c=c.return);continue}break}while(!0)}function yk(){var a=Rp.current;return Rp.current=Tp,a===null?Tp:a}function a0(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),rn===null||(Co&268435455)===0&&(Pp&268435455)===0||va(rn,hn)}function Fp(a,l){var c=tt;tt|=2;var p=yk();(rn!==a||hn!==l)&&(mi=null,Ao(a,l));do try{ij();break}catch(y){gk(a,y)}while(!0);if(wv(),tt=c,Rp.current=p,Kt!==null)throw Error(n(261));return rn=null,hn=0,Jt}function ij(){for(;Kt!==null;)vk(Kt)}function aj(){for(;Kt!==null&&!uo();)vk(Kt)}function vk(a){var l=Ek(a.alternate,a,ur);a.memoizedProps=a.pendingProps,l===null?bk(a):Kt=l,Yv.current=null}function bk(a){var l=a;do{var c=l.alternate;if(a=l.return,(l.flags&32768)===0){if(c=J4(c,l,ur),c!==null){Kt=c;return}}else{if(c=Z4(c,l),c!==null){c.flags&=32767,Kt=c;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Jt=6,Kt=null;return}}if(l=l.sibling,l!==null){Kt=l;return}Kt=l=a}while(l!==null);Jt===0&&(Jt=5)}function Ro(a,l,c){var p=Xe,y=_r.transition;try{_r.transition=null,Xe=1,oj(a,l,c,p)}finally{_r.transition=y,Xe=p}return null}function oj(a,l,c,p){do xu();while(ga!==null);if((tt&6)!==0)throw Error(n(327));c=a.finishedWork;var y=a.finishedLanes;if(c===null)return null;if(a.finishedWork=null,a.finishedLanes=0,c===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var b=c.lanes|c.childLanes;if(Gy(a,b),a===rn&&(Kt=rn=null,hn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Mp||(Mp=!0,Sk(co,function(){return xu(),null})),b=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||b){b=_r.transition,_r.transition=null;var N=Xe;Xe=1;var F=tt;tt|=4,Yv.current=null,tj(a,c),uk(c,a),I4(ov),ai=!!av,ov=av=null,a.current=c,nj(c),ni(),tt=F,Xe=N,_r.transition=b}else a.current=c;if(Mp&&(Mp=!1,ga=a,Op=y),b=a.pendingLanes,b===0&&(ma=null),Wf(c.stateNode),Kn(a,pt()),l!==null)for(p=a.onRecoverableError,c=0;c<l.length;c++)y=l[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(Dp)throw Dp=!1,a=e0,e0=null,a;return(Op&1)!==0&&a.tag!==0&&xu(),b=a.pendingLanes,(b&1)!==0?a===t0?Ch++:(Ch=0,t0=a):Ch=0,ha(),null}function xu(){if(ga!==null){var a=ds(Op),l=_r.transition,c=Xe;try{if(_r.transition=null,Xe=16>a?16:a,ga===null)var p=!1;else{if(a=ga,ga=null,Op=0,(tt&6)!==0)throw Error(n(331));var y=tt;for(tt|=4,be=a.current;be!==null;){var b=be,N=b.child;if((be.flags&16)!==0){var F=b.deletions;if(F!==null){for(var z=0;z<F.length;z++){var Z=F[z];for(be=Z;be!==null;){var ie=be;switch(ie.tag){case 0:case 11:case 15:Th(8,ie,b)}var oe=ie.child;if(oe!==null)oe.return=ie,be=oe;else for(;be!==null;){ie=be;var se=ie.sibling,fe=ie.return;if(sk(ie),ie===Z){be=null;break}if(se!==null){se.return=fe,be=se;break}be=fe}}}var xe=b.alternate;if(xe!==null){var Te=xe.child;if(Te!==null){xe.child=null;do{var Lt=Te.sibling;Te.sibling=null,Te=Lt}while(Te!==null)}}be=b}}if((b.subtreeFlags&2064)!==0&&N!==null)N.return=b,be=N;else e:for(;be!==null;){if(b=be,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:Th(9,b,b.return)}var X=b.sibling;if(X!==null){X.return=b.return,be=X;break e}be=b.return}}var W=a.current;for(be=W;be!==null;){N=be;var J=N.child;if((N.subtreeFlags&2064)!==0&&J!==null)J.return=N,be=J;else e:for(N=W;be!==null;){if(F=be,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:Ap(9,F)}}catch(_e){At(F,F.return,_e)}if(F===N){be=null;break e}var ue=F.sibling;if(ue!==null){ue.return=F.return,be=ue;break e}be=F.return}}if(tt=y,ha(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(ho,a)}catch{}p=!0}return p}finally{Xe=c,_r.transition=l}}return!1}function wk(a,l,c){l=yu(c,l),l=jS(a,l,1),a=fa(a,l,1),l=Rn(),a!==null&&(go(a,1,l),Kn(a,l))}function At(a,l,c){if(a.tag===3)wk(a,a,c);else for(;l!==null;){if(l.tag===3){wk(l,a,c);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ma===null||!ma.has(p))){a=yu(c,a),a=FS(l,a,1),l=fa(l,a,1),a=Rn(),l!==null&&(go(l,1,a),Kn(l,a));break}}l=l.return}}function lj(a,l,c){var p=a.pingCache;p!==null&&p.delete(l),l=Rn(),a.pingedLanes|=a.suspendedLanes&c,rn===a&&(hn&c)===c&&(Jt===4||Jt===3&&(hn&130023424)===hn&&500>pt()-Zv?Ao(a,0):Jv|=c),Kn(a,l)}function xk(a,l){l===0&&((a.mode&1)===0?l=1:(l=ea,ea<<=1,(ea&130023424)===0&&(ea=4194304)));var c=Rn();a=di(a,l),a!==null&&(go(a,l,c),Kn(a,c))}function uj(a){var l=a.memoizedState,c=0;l!==null&&(c=l.retryLane),xk(a,c)}function cj(a,l){var c=0;switch(a.tag){case 13:var p=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=a.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(l),xk(a,c)}var Ek;Ek=function(a,l,c){if(a!==null)if(a.memoizedProps!==l.pendingProps||Bn.current)qn=!0;else{if((a.lanes&c)===0&&(l.flags&128)===0)return qn=!1,Y4(a,l,c);qn=(a.flags&131072)!==0}else qn=!1,bt&&(l.flags&1048576)!==0&&eS(l,fp,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Cp(a,l),a=l.pendingProps;var y=uu(l,wn.current);mu(l,c),y=Rv(null,l,p,a,y,c);var b=Pv();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,$n(p)?(b=!0,cp(l)):b=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,kv(l),y.updater=_p,l.stateNode=y,y._reactInternals=l,Fv(l,p,a,c),l=Bv(null,l,p,!0,b,c)):(l.tag=0,bt&&b&&pv(l),An(null,l,y,c),l=l.child),l;case 16:p=l.elementType;e:{switch(Cp(a,l),a=l.pendingProps,y=p._init,p=y(p._payload),l.type=p,y=l.tag=dj(p),a=Wr(p,a),y){case 0:l=zv(null,l,p,a,c);break e;case 1:l=GS(null,l,p,a,c);break e;case 11:l=BS(null,l,p,a,c);break e;case 14:l=$S(null,l,p,Wr(p.type,a),c);break e}throw Error(n(306,p,""))}return l;case 0:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Wr(p,y),zv(a,l,p,y,c);case 1:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Wr(p,y),GS(a,l,p,y,c);case 3:e:{if(HS(l),a===null)throw Error(n(387));p=l.pendingProps,b=l.memoizedState,y=b.element,uS(a,l),bp(l,p,null,c);var N=l.memoizedState;if(p=N.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){y=yu(Error(n(423)),l),l=QS(a,l,p,c,y);break e}else if(p!==y){y=yu(Error(n(424)),l),l=QS(a,l,p,c,y);break e}else for(lr=la(l.stateNode.containerInfo.firstChild),or=l,bt=!0,qr=null,c=oS(l,null,p,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(du(),p===y){l=pi(a,l,c);break e}An(a,l,p,c)}l=l.child}return l;case 5:return dS(l),a===null&&yv(l),p=l.type,y=l.pendingProps,b=a!==null?a.memoizedProps:null,N=y.children,lv(p,y)?N=null:b!==null&&lv(p,b)&&(l.flags|=32),KS(a,l),An(a,l,N,c),l.child;case 6:return a===null&&yv(l),null;case 13:return XS(a,l,c);case 4:return Tv(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=fu(l,null,p,c):An(a,l,p,c),l.child;case 11:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Wr(p,y),BS(a,l,p,y,c);case 7:return An(a,l,l.pendingProps,c),l.child;case 8:return An(a,l,l.pendingProps.children,c),l.child;case 12:return An(a,l,l.pendingProps.children,c),l.child;case 10:e:{if(p=l.type._context,y=l.pendingProps,b=l.memoizedProps,N=y.value,ht(gp,p._currentValue),p._currentValue=N,b!==null)if($r(b.value,N)){if(b.children===y.children&&!Bn.current){l=pi(a,l,c);break e}}else for(b=l.child,b!==null&&(b.return=l);b!==null;){var F=b.dependencies;if(F!==null){N=b.child;for(var z=F.firstContext;z!==null;){if(z.context===p){if(b.tag===1){z=fi(-1,c&-c),z.tag=2;var Z=b.updateQueue;if(Z!==null){Z=Z.shared;var ie=Z.pending;ie===null?z.next=z:(z.next=ie.next,ie.next=z),Z.pending=z}}b.lanes|=c,z=b.alternate,z!==null&&(z.lanes|=c),Ev(b.return,c,l),F.lanes|=c;break}z=z.next}}else if(b.tag===10)N=b.type===l.type?null:b.child;else if(b.tag===18){if(N=b.return,N===null)throw Error(n(341));N.lanes|=c,F=N.alternate,F!==null&&(F.lanes|=c),Ev(N,c,l),N=b.sibling}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===l){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}An(a,l,y.children,c),l=l.child}return l;case 9:return y=l.type,p=l.pendingProps.children,mu(l,c),y=kr(y),p=p(y),l.flags|=1,An(a,l,p,c),l.child;case 14:return p=l.type,y=Wr(p,l.pendingProps),y=Wr(p.type,y),$S(a,l,p,y,c);case 15:return qS(a,l,l.type,l.pendingProps,c);case 17:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Wr(p,y),Cp(a,l),l.tag=1,$n(p)?(a=!0,cp(l)):a=!1,mu(l,c),OS(l,p,y),Fv(l,p,y,c),Bv(null,l,p,!0,a,c);case 19:return JS(a,l,c);case 22:return WS(a,l,c)}throw Error(n(156,l.tag))};function Sk(a,l){return Wc(a,l)}function hj(a,l,c,p){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(a,l,c,p){return new hj(a,l,c,p)}function o0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function dj(a){if(typeof a=="function")return o0(a)?1:0;if(a!=null){if(a=a.$$typeof,a===$)return 11;if(a===Pe)return 14}return 2}function ba(a,l){var c=a.alternate;return c===null?(c=Ir(a.tag,l,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=l,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&14680064,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,l=a.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c}function Vp(a,l,c,p,y,b){var N=2;if(p=a,typeof a=="function")o0(a)&&(N=1);else if(typeof a=="string")N=5;else e:switch(a){case D:return Po(c.children,y,b,l);case C:N=8,y|=8;break;case P:return a=Ir(12,c,l,y|2),a.elementType=P,a.lanes=b,a;case L:return a=Ir(13,c,l,y),a.elementType=L,a.lanes=b,a;case we:return a=Ir(19,c,l,y),a.elementType=we,a.lanes=b,a;case ve:return Up(c,y,b,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case j:N=10;break e;case V:N=9;break e;case $:N=11;break e;case Pe:N=14;break e;case ye:N=16,p=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=Ir(N,c,l,y),l.elementType=a,l.type=p,l.lanes=b,l}function Po(a,l,c,p){return a=Ir(7,a,p,l),a.lanes=c,a}function Up(a,l,c,p){return a=Ir(22,a,p,l),a.elementType=ve,a.lanes=c,a.stateNode={isHidden:!1},a}function l0(a,l,c){return a=Ir(6,a,null,l),a.lanes=c,a}function u0(a,l,c){return l=Ir(4,a.children!==null?a.children:[],a.key,l),l.lanes=c,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function fj(a,l,c,p,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xc(0),this.expirationTimes=Xc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xc(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function c0(a,l,c,p,y,b,N,F,z){return a=new fj(a,l,c,F,z),l===1?(l=1,b===!0&&(l|=8)):l=0,b=Ir(3,null,null,l),a.current=b,b.stateNode=a,b.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},kv(b),a}function pj(a,l,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:p==null?null:""+p,children:a,containerInfo:l,implementation:c}}function kk(a){if(!a)return ca;a=a._reactInternals;e:{if(zr(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if($n(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var c=a.type;if($n(c))return YE(a,c,l)}return l}function Tk(a,l,c,p,y,b,N,F,z){return a=c0(c,p,!0,a,y,b,N,F,z),a.context=kk(null),c=a.current,p=Rn(),y=ya(c),b=fi(p,y),b.callback=l??null,fa(c,b,y),a.current.lanes=y,go(a,y,p),Kn(a,p),a}function zp(a,l,c,p){var y=l.current,b=Rn(),N=ya(y);return c=kk(c),l.context===null?l.context=c:l.pendingContext=c,l=fi(b,N),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=fa(y,l,N),a!==null&&(Hr(a,y,N,b),vp(a,y,N)),N}function Bp(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function _k(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<l?c:l}}function h0(a,l){_k(a,l),(a=a.alternate)&&_k(a,l)}function mj(){return null}var Ik=typeof reportError=="function"?reportError:function(a){console.error(a)};function d0(a){this._internalRoot=a}$p.prototype.render=d0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));zp(a,l,null,null)},$p.prototype.unmount=d0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;No(function(){zp(null,a,null,null)}),l[li]=null}};function $p(a){this._internalRoot=a}$p.prototype.unstable_scheduleHydration=function(a){if(a){var l=eh();a={blockedOn:null,target:a,priority:l};for(var c=0;c<rr.length&&l!==0&&l<rr[c].priority;c++);rr.splice(c,0,a),c===0&&Gl(a)}};function f0(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function qp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Ck(){}function gj(a,l,c,p,y){if(y){if(typeof p=="function"){var b=p;p=function(){var Z=Bp(N);b.call(Z)}}var N=Tk(l,p,a,0,null,!1,!1,"",Ck);return a._reactRootContainer=N,a[li]=N.current,dh(a.nodeType===8?a.parentNode:a),No(),N}for(;y=a.lastChild;)a.removeChild(y);if(typeof p=="function"){var F=p;p=function(){var Z=Bp(z);F.call(Z)}}var z=c0(a,0,!1,null,null,!1,!1,"",Ck);return a._reactRootContainer=z,a[li]=z.current,dh(a.nodeType===8?a.parentNode:a),No(function(){zp(l,z,c,p)}),z}function Wp(a,l,c,p,y){var b=c._reactRootContainer;if(b){var N=b;if(typeof y=="function"){var F=y;y=function(){var z=Bp(N);F.call(z)}}zp(l,N,a,y)}else N=gj(c,l,a,y,p);return Bp(N)}Jc=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var c=rt(l.pendingLanes);c!==0&&(Yc(l,c|1),Kn(l,pt()),(tt&6)===0&&(wu=pt()+500,ha()))}break;case 13:No(function(){var p=di(a,1);if(p!==null){var y=Rn();Hr(p,a,1,y)}}),h0(a,1)}},Wl=function(a){if(a.tag===13){var l=di(a,134217728);if(l!==null){var c=Rn();Hr(l,a,134217728,c)}h0(a,134217728)}},Zc=function(a){if(a.tag===13){var l=ya(a),c=di(a,l);if(c!==null){var p=Rn();Hr(c,a,l,p)}h0(a,l)}},eh=function(){return Xe},th=function(a,l){var c=Xe;try{return Xe=a,l()}finally{Xe=c}},Zs=function(a,l,c){switch(l){case"input":if(Js(a,c),l=c.name,c.type==="radio"&&l!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<c.length;l++){var p=c[l];if(p!==a&&p.form===a.form){var y=lp(p);if(!y)throw Error(n(90));br(p),Js(p,y)}}}break;case"textarea":Df(a,c);break;case"select":l=c.value,l!=null&&Vr(a,!!c.multiple,l,!1)}},Lf=s0,jf=No;var yj={usingClientEntryPoint:!1,Events:[mh,ou,lp,Xi,Yi,s0]},Nh={findFiberByHostInstance:xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vj={bundleType:Nh.bundleType,version:Nh.version,rendererPackageName:Nh.rendererPackageName,rendererConfig:Nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=qf(a),a===null?null:a.stateNode},findFiberByHostInstance:Nh.findFiberByHostInstance||mj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kp.isDisabled&&Kp.supportsFiber)try{ho=Kp.inject(vj),tr=Kp}catch{}}return Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yj,Gn.createPortal=function(a,l){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f0(l))throw Error(n(200));return pj(a,l,null,c)},Gn.createRoot=function(a,l){if(!f0(a))throw Error(n(299));var c=!1,p="",y=Ik;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=c0(a,1,!1,null,null,c,!1,p,y),a[li]=l.current,dh(a.nodeType===8?a.parentNode:a),new d0(l)},Gn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=qf(l),a=a===null?null:a.stateNode,a},Gn.flushSync=function(a){return No(a)},Gn.hydrate=function(a,l,c){if(!qp(l))throw Error(n(200));return Wp(null,a,l,!0,c)},Gn.hydrateRoot=function(a,l,c){if(!f0(a))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,y=!1,b="",N=Ik;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),l=Tk(l,null,a,1,c??null,y,!1,b,N),a[li]=l.current,dh(a),p)for(a=0;a<p.length;a++)c=p[a],y=c._getVersion,y=y(c._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[c,y]:l.mutableSourceEagerHydrationData.push(c,y);return new $p(l)},Gn.render=function(a,l,c){if(!qp(l))throw Error(n(200));return Wp(null,a,l,!1,c)},Gn.unmountComponentAtNode=function(a){if(!qp(a))throw Error(n(40));return a._reactRootContainer?(No(function(){Wp(null,null,a,!1,function(){a._reactRootContainer=null,a[li]=null})}),!0):!1},Gn.unstable_batchedUpdates=s0,Gn.unstable_renderSubtreeIntoContainer=function(a,l,c,p){if(!qp(c))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Wp(a,l,c,!1,p)},Gn.version="18.3.1-next-f1338f8080-20240426",Gn}var Bk;function ON(){if(Bk)return p0.exports;Bk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),p0.exports=Aj(),p0.exports}var $k;function Rj(){if($k)return Gp;$k=1;var t=ON();return Gp.createRoot=t.createRoot,Gp.hydrateRoot=t.hydrateRoot,Gp}var Pj=Rj();const Dj=Qw(Pj),Mj="modulepreload",Oj=function(t){return"/"+t},qk={},qt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(h=>{if(h=Oj(h),h in qk)return;qk[h]=!0;const d=h.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":Mj,d||(g.as="script"),g.crossOrigin="",g.href=h,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,S)=>{g.addEventListener("load",v),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function Wk({size:t="md",variant:e="circle",className:n=""}){const r={xs:{wrapper:"w-6 h-6",img:"w-5 h-5"},sm:{wrapper:"w-8 h-8",img:"w-6 h-6"},md:{wrapper:"w-12 h-12",img:"w-10 h-10"},lg:{wrapper:"w-20 h-20",img:"w-16 h-16"},xl:{wrapper:"w-32 h-32",img:"w-24 h-24"}},s=r[t]||r.md;return x.jsx("div",{className:`${e==="circle"?"bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full shadow-lg overflow-hidden flex items-center justify-center":""} ${s.wrapper} ${n}`.trim(),children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:`${s.img} object-contain ${e==="circle"?"transform -rotate-12":""}`,loading:"lazy"})})}const Lj=()=>{};var Kk={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const LN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},jj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],u=t[n++],h=((s&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},jN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,u=o?t[s+1]:0,h=s+2<t.length,d=h?t[s+2]:0,m=i>>2,g=(i&3)<<4|u>>4;let v=(u&15)<<2|d>>6,S=d&63;h||(S=64,o||(v=64)),r.push(n[m],n[g],n[v],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||o==null||u==null||h==null)throw new Fj;const d=i<<2|o>>4;if(r.push(d),u!==64){const m=o<<4&240|u>>2;if(r.push(m),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Fj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vj=function(t){const e=LN(t);return jN.encodeByteArray(e,!0)},Jm=function(t){return Vj(t).replace(/\./g,"")},FN=function(t){try{return jN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function VN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Uj=()=>VN().__FIREBASE_DEFAULTS__,zj=()=>{if(typeof process>"u"||typeof Kk>"u")return;const t=Kk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Bj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FN(t[1]);return e&&JSON.parse(e)},Wg=()=>{try{return Lj()||Uj()||zj()||Bj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UN=t=>{var e,n;return(n=(e=Wg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},zN=t=>{const e=UN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BN=()=>{var t;return(t=Wg())==null?void 0:t.config},$N=t=>{var e;return(e=Wg())==null?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $j{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Il(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jw(t){return(await fetch(t,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Jm(JSON.stringify(n)),Jm(JSON.stringify(o)),""].join(".")}const ud={};function qj(){const t={prod:[],emulator:[]};for(const e of Object.keys(ud))ud[e]?t.emulator.push(e):t.prod.push(e);return t}function Wj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Gk=!1;function Zw(t,e){if(typeof window>"u"||typeof document>"u"||!Il(window.location.host)||ud[t]===e||ud[t]||Gk)return;ud[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=qj().prod.length>0;function i(){const g=document.getElementById(r);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Gk=!0,i()},g}function d(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=Wj(r),v=n("text"),S=document.getElementById(v)||document.createElement("span"),_=n("learnmore"),T=document.getElementById(_)||document.createElement("a"),I=n("preprendIcon"),A=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const R=g.element;o(R),d(T,_);const O=h();u(A,I),R.append(A,S,T,O),document.body.appendChild(R)}s?(S.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function WN(){var t;const e=(t=Wg())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ex(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Hj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qj(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KN(){return!WN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GN(){return!WN()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Kg(){try{return typeof indexedDB=="object"}catch{return!1}}function tx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function HN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xj="FirebaseError";class Fr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Xj,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cl.prototype.create)}}class Cl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Yj(i,r):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new Fr(s,u,r)}}function Yj(t,e){return t.replace(Jj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Jj=/\{\$([^}]+)}/g;function Zj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Hk(i)&&Hk(o)){if(!qa(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Hk(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ed(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function td(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eF(t,e){const n=new tF(t,e);return n.subscribe.bind(n)}class tF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=m0),s.error===void 0&&(s.error=m0),s.complete===void 0&&(s.complete=m0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function m0(){}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rF=1e3,sF=2,iF=14400*1e3,aF=.5;function Qk(t,e=rF,n=sF){const r=e*Math.pow(n,t),s=Math.round(aF*r*(Math.random()-.5)*2);return Math.min(iF,r+s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ct(t){return t&&t._delegate?t._delegate:t}class jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qo="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $j;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uF(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lF(t){return t===qo?void 0:t}function uF(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const hF={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},dF=Ge.INFO,fF={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},pF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=fF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gg{constructor(e){this.name=e,this._logLevel=dF,this._logHandler=pF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const mF=(t,e)=>e.some(n=>t instanceof n);let Xk,Yk;function gF(){return Xk||(Xk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yF(){return Yk||(Yk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QN=new WeakMap,Eb=new WeakMap,XN=new WeakMap,g0=new WeakMap,nx=new WeakMap;function vF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Fa(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QN.set(n,t)}).catch(()=>{}),nx.set(e,t),e}function bF(t){if(Eb.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Eb.set(t,e)}let Sb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Eb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wF(t){Sb=t(Sb)}function xF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(y0(this),e,...n);return XN.set(r,e.sort?e.sort():[e]),Fa(r)}:yF().includes(t)?function(...e){return t.apply(y0(this),e),Fa(QN.get(this))}:function(...e){return Fa(t.apply(y0(this),e))}}function EF(t){return typeof t=="function"?xF(t):(t instanceof IDBTransaction&&bF(t),mF(t,gF())?new Proxy(t,Sb):t)}function Fa(t){if(t instanceof IDBRequest)return vF(t);if(g0.has(t))return g0.get(t);const e=EF(t);return e!==t&&(g0.set(t,e),nx.set(e,t)),e}const y0=t=>nx.get(t);function YN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),u=Fa(o);return r&&o.addEventListener("upgradeneeded",h=>{r(Fa(o.result),h.oldVersion,h.newVersion,Fa(o.transaction),h)}),n&&o.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{i&&h.addEventListener("close",()=>i()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const SF=["get","getKey","getAll","getAllKeys","count"],kF=["put","add","delete","clear"],v0=new Map;function Jk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(v0.get(e))return v0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=kF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||SF.includes(n)))return;const i=async function(o,...u){const h=this.transaction(o,s?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),s&&h.done]))[0]};return v0.set(e,i),i}wF(t=>({...t,get:(e,n,r)=>Jk(e,n)||t.get(e,n,r),has:(e,n)=>!!Jk(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(_F(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function _F(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kb="@firebase/app",Zk="0.14.5";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ii=new Gg("@firebase/app"),IF="@firebase/app-compat",CF="@firebase/analytics-compat",NF="@firebase/analytics",AF="@firebase/app-check-compat",RF="@firebase/app-check",PF="@firebase/auth",DF="@firebase/auth-compat",MF="@firebase/database",OF="@firebase/data-connect",LF="@firebase/database-compat",jF="@firebase/functions",FF="@firebase/functions-compat",VF="@firebase/installations",UF="@firebase/installations-compat",zF="@firebase/messaging",BF="@firebase/messaging-compat",$F="@firebase/performance",qF="@firebase/performance-compat",WF="@firebase/remote-config",KF="@firebase/remote-config-compat",GF="@firebase/storage",HF="@firebase/storage-compat",QF="@firebase/firestore",XF="@firebase/ai",YF="@firebase/firestore-compat",JF="firebase",ZF="12.5.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Tb="[DEFAULT]",e3={[kb]:"fire-core",[IF]:"fire-core-compat",[NF]:"fire-analytics",[CF]:"fire-analytics-compat",[RF]:"fire-app-check",[AF]:"fire-app-check-compat",[PF]:"fire-auth",[DF]:"fire-auth-compat",[MF]:"fire-rtdb",[OF]:"fire-data-connect",[LF]:"fire-rtdb-compat",[jF]:"fire-fn",[FF]:"fire-fn-compat",[VF]:"fire-iid",[UF]:"fire-iid-compat",[zF]:"fire-fcm",[BF]:"fire-fcm-compat",[$F]:"fire-perf",[qF]:"fire-perf-compat",[WF]:"fire-rc",[KF]:"fire-rc-compat",[GF]:"fire-gcs",[HF]:"fire-gcs-compat",[QF]:"fire-fst",[YF]:"fire-fst-compat",[XF]:"fire-vertex","fire-js":"fire-js",[JF]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zm=new Map,t3=new Map,_b=new Map;function eT(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ns(t){const e=t.name;if(_b.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;_b.set(e,t);for(const n of Zm.values())eT(n,t);for(const n of t3.values())eT(n,t);return!0}function eo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t==null?!1:t.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const n3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new Cl("app","Firebase",n3);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class r3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Nl=ZF;function JN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Tb,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Va.create("bad-app-name",{appName:String(s)});if(n||(n=BN()),!n)throw Va.create("no-options");const i=Zm.get(s);if(i){if(qa(n,i.options)&&qa(r,i.config))return i;throw Va.create("duplicate-app",{appName:s})}const o=new cF(s);for(const h of _b.values())o.addComponent(h);const u=new r3(n,r,o);return Zm.set(s,u),u}function Hg(t=Tb){const e=Zm.get(t);if(!e&&t===Tb&&BN())return JN();if(!e)throw Va.create("no-app",{appName:t});return e}function Zn(t,e,n){let r=e3[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(o.join(" "));return}ns(new jr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const s3="firebase-heartbeat-database",i3=1,Td="firebase-heartbeat-store";let b0=null;function ZN(){return b0||(b0=YN(s3,i3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Td)}catch(n){console.warn(n)}}}}).catch(t=>{throw Va.create("idb-open",{originalErrorMessage:t.message})})),b0}async function a3(t){try{const e=(await ZN()).transaction(Td),n=await e.objectStore(Td).get(e2(t));return await e.done,n}catch(e){if(e instanceof Fr)Ii.warn(e.message);else{const n=Va.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function tT(t,e){try{const n=(await ZN()).transaction(Td,"readwrite");await n.objectStore(Td).put(e,e2(t)),await n.done}catch(n){if(n instanceof Fr)Ii.warn(n.message);else{const r=Va.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(r.message)}}}function e2(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const o3=1024,l3=30;class u3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new h3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>l3){const i=d3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nT(),{heartbeatsToSend:r,unsentEntries:s}=c3(this._heartbeatsCache.heartbeats),i=Jm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ii.warn(n),""}}}function nT(){return new Date().toISOString().substring(0,10)}function c3(t,e=o3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),rT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),rT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class h3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kg()?tx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await a3(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return tT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return tT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function rT(t){return Jm(JSON.stringify({version:2,heartbeats:t})).length}function d3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function f3(t){ns(new jr("platform-logger",e=>new TF(e),"PRIVATE")),ns(new jr("heartbeat",e=>new u3(e),"PRIVATE")),Zn(kb,Zk,t),Zn(kb,Zk,"esm2020"),Zn("fire-js","")}f3("");function t2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p3=t2,n2=new Cl("auth","Firebase",t2());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eg=new Gg("@firebase/auth");function m3(t,...e){eg.logLevel<=Ge.WARN&&eg.warn(`Auth (${Nl}): ${t}`,...e)}function Sm(t,...e){eg.logLevel<=Ge.ERROR&&eg.error(`Auth (${Nl}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rs(t,...e){throw rx(t,...e)}function Ds(t,...e){return rx(t,...e)}function r2(t,e,n){const r={...p3(),[e]:n};return new Cl("auth","Firebase",r).create(e,{appName:t.name})}function Ti(t){return r2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return n2.create(t,...e)}function Oe(t,e,...n){if(!t)throw rx(e,...n)}function xi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sm(e),new Error(e)}function Ci(t,e){t||xi(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ib(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function g3(){return sT()==="http:"||sT()==="https:"}function sT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function y3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g3()||ex()||"connection"in navigator)?navigator.onLine:!0}function v3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=Kj()||Hj()}get(){return y3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sx(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class s2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const b3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const w3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x3=new rf(3e4,6e4);function ji(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fi(t,e,n,r,s={}){return i2(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const u=nf({key:t.config.apiKey,...o}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:h,...i};return Gj()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Il(t.emulatorConfig.host)&&(d.credentials="include"),s2.fetch()(await a2(t,t.config.apiHost,n,u),d)})}async function i2(t,e,n){t._canInitEmulator=!1;const r={...b3,...e};try{const s=new S3(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Hp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const u=i.ok?o.errorMessage:o.error.message,[h,d]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hp(t,"credential-already-in-use",o);if(h==="EMAIL_EXISTS")throw Hp(t,"email-already-in-use",o);if(h==="USER_DISABLED")throw Hp(t,"user-disabled",o);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw r2(t,m,d);rs(t,m)}}catch(s){if(s instanceof Fr)throw s;rs(t,"network-request-failed",{message:String(s)})}}async function sf(t,e,n,r,s={}){const i=await Fi(t,e,n,r,s);return"mfaPendingCredential"in i&&rs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function a2(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?sx(t.config,s):`${t.config.apiScheme}://${s}`;return w3.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function E3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class S3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ds(this.auth,"network-request-failed")),x3.get())})}}function Hp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ds(t,e,r);return s.customData._tokenResponse=n,s}function iT(t){return t!==void 0&&t.enterprise!==void 0}class k3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return E3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function T3(t,e){return Fi(t,"GET","/v2/recaptchaConfig",ji(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function _3(t,e){return Fi(t,"POST","/v1/accounts:delete",e)}async function tg(t,e){return Fi(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function cd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function I3(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),s=ix(r);Oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:cd(w0(s.auth_time)),issuedAtTime:cd(w0(s.iat)),expirationTime:cd(w0(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function w0(t){return Number(t)*1e3}function ix(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sm("JWT malformed, contained fewer than 3 sections"),null;try{const s=FN(n);return s?JSON.parse(s):(Sm("Failed to decode base64 JWT payload"),null)}catch(s){return Sm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function aT(t){const e=ix(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function _d(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fr&&C3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function C3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class N3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cd(this.lastLoginAt),this.creationTime=cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function ng(t){var e;const n=t.auth,r=await t.getIdToken(),s=await _d(t,tg(n,{idToken:r}));Oe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=(e=i.providerUserInfo)!=null&&e.length?o2(i.providerUserInfo):[],u=R3(t.providerData,o),h=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(u!=null&&u.length),m=h?d:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new Cb(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function A3(t){const e=Ct(t);await ng(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function R3(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function o2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function P3(t,e){const n=await i2(t,{},async()=>{const r=nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await a2(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&Il(t.emulatorConfig.host)&&(h.credentials="include"),s2.fetch()(o,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function D3(t,e){return Fi(t,"POST","/v2/accounts:revokeToken",ji(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=aT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await P3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Zu;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zu,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xa(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Jr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new N3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Cb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _d(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return I3(this,e)}reload(){return A3(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ng(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(Ti(this.auth));const e=await this.getIdToken();return await _d(this,_3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,d=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:S,providerData:_,stsTokenManager:T}=n;Oe(g&&T,e,"internal-error");const I=Zu.fromJSON(this.name,T);Oe(typeof g=="string",e,"internal-error"),xa(r,e.name),xa(s,e.name),Oe(typeof v=="boolean",e,"internal-error"),Oe(typeof S=="boolean",e,"internal-error"),xa(i,e.name),xa(o,e.name),xa(u,e.name),xa(h,e.name),xa(d,e.name),xa(m,e.name);const A=new Jr({uid:g,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:S,photoURL:o,phoneNumber:i,tenantId:u,stsTokenManager:I,createdAt:d,lastLoginAt:m});return _&&Array.isArray(_)&&(A.providerData=_.map(R=>({...R}))),h&&(A._redirectEventId=h),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new Zu;s.updateFromServerResponse(n);const i=new Jr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ng(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?o2(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new Zu;u.updateFromIdToken(r);const h=new Jr({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Cb(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(h,d),h}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const oT=new Map;function Ei(t){Ci(t instanceof Function,"Expected a class definition");let e=oT.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oT.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class l2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}l2.type="NONE";const lT=l2;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function km(t,e,n){return`firebase:${t}:${e}:${n}`}class ec{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=km(this.userKey,s.apiKey,i),this.fullPersistenceKey=km("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tg(this.auth,{idToken:e}).catch(()=>{});return n?Jr._fromGetAccountInfoResponse(this.auth,n,e):null}return Jr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ec(Ei(lT),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Ei(lT);const o=km(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const m=await d._get(o);if(m){let g;if(typeof m=="string"){const v=await tg(e,{idToken:m}).catch(()=>{});if(!v)break;g=await Jr._fromGetAccountInfoResponse(e,v,m)}else g=Jr._fromJSON(e,m);d!==i&&(u=g),i=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!h.length?new ec(i,e,r):(i=h[0],u&&await i._set(o,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new ec(i,e,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p2(e))return"Blackberry";if(m2(e))return"Webos";if(c2(e))return"Safari";if((e.includes("chrome/")||h2(e))&&!e.includes("edge/"))return"Chrome";if(f2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function u2(t=en()){return/firefox\//i.test(t)}function c2(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h2(t=en()){return/crios\//i.test(t)}function d2(t=en()){return/iemobile/i.test(t)}function f2(t=en()){return/android/i.test(t)}function p2(t=en()){return/blackberry/i.test(t)}function m2(t=en()){return/webos/i.test(t)}function ax(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function M3(t=en()){var e;return ax(t)&&!!((e=window.navigator)!=null&&e.standalone)}function O3(){return Qj()&&document.documentMode===10}function g2(t=en()){return ax(t)||f2(t)||m2(t)||p2(t)||/windows phone/i.test(t)||d2(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function y2(t,e=[]){let n;switch(t){case"Browser":n=uT(en());break;case"Worker":n=`${uT(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nl}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class L3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,u)=>{try{const h=e(i);o(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function j3(t,e={}){return Fi(t,"GET","/v2/passwordPolicy",ji(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const F3=6;class V3{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??F3,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class U3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cT(this),this.idTokenSubscription=new cT(this),this.beforeStateQueue=new L3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ei(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ec.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tg(this,{idToken:e}),r=await Jr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)==null?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h!=null&&h.user&&(s=h.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ng(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(Ti(this));const n=e?Ct(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(Ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(Ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j3(this),n=new V3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await D3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ei(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await ec.create(this,[Ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(u,this,"internal-error"),u.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{o=!0,h()}}else{const h=e.addObserver(n);return()=>{o=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return n!=null&&n.error&&m3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function to(t){return Ct(t)}let cT=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=eF(e=>this.observer=e)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Qg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z3(t){Qg=t}function v2(t){return Qg.loadJS(t)}function B3(){return Qg.recaptchaEnterpriseScript}function $3(){return Qg.gapiScript}function q3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class W3{constructor(){this.enterprise=new K3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class K3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const G3="recaptcha-enterprise",b2="NO_RECAPTCHA";class H3{constructor(e){this.type=G3,this.auth=to(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,u)=>{T3(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new k3(h);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(h=>{u(h)})})}function s(i,o,u){const h=window.grecaptcha;iT(h)?h.enterprise.ready(()=>{h.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(b2)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new W3().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(u=>{if(!n&&iT(window.grecaptcha))s(u,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let h=B3();h.length!==0&&(h+=u),v2(h).then(()=>{s(u,i,o)}).catch(d=>{o(d)})}}).catch(u=>{o(u)})})}}async function hT(t,e,n,r=!1,s=!1){const i=new H3(t);let o;if(s)o=b2;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function rg(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await hT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await hT(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(o)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Q3(t,e){const n=eo(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(qa(s,e??{}))return r;rs(r,"already-initialized")}return n.initialize({options:e})}function X3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ei);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Y3(t,e,n){const r=to(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=w2(e),{host:o,port:u}=J3(e),h=u===null?"":`:${u}`,d={url:`${i}//${o}${h}/`},m=Object.freeze({host:o,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(qa(d,r.config.emulator)&&qa(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Il(o)?(Jw(`${i}//${o}${h}`),Zw("Auth",!0)):Z3()}function w2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function J3(t){const e=w2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:dT(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:dT(o)}}}function dT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Z3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ox{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,n){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function e5(t,e){return Fi(t,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function t5(t,e){return sf(t,"POST","/v1/accounts:signInWithPassword",ji(t,e))}async function n5(t,e){return Fi(t,"POST","/v1/accounts:sendOobCode",ji(t,e))}async function r5(t,e){return n5(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function s5(t,e){return sf(t,"POST","/v1/accounts:signInWithEmailLink",ji(t,e))}async function i5(t,e){return sf(t,"POST","/v1/accounts:signInWithEmailLink",ji(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Id extends ox{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Id(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Id(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rg(e,n,"signInWithPassword",t5);case"emailLink":return s5(e,{email:this._email,oobCode:this._password});default:rs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rg(e,r,"signUpPassword",e5);case"emailLink":return i5(e,{idToken:n,email:this._email,oobCode:this._password});default:rs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function tc(t,e){return sf(t,"POST","/v1/accounts:signInWithIdp",ji(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const a5="http://localhost";class dl extends ox{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new dl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new dl(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tc(e,n)}buildRequest(){const e={requestUri:a5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nf(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function o5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function l5(t){const e=ed(td(t)).link,n=e?ed(td(e)).deep_link_id:null,r=ed(td(t)).deep_link_id;return(r?ed(td(r)).link:null)||r||n||e||t}class lx{constructor(e){const n=ed(td(e)),r=n.apiKey??null,s=n.oobCode??null,i=o5(n.mode??null);Oe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=l5(e);try{return new lx(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kc{constructor(){this.providerId=kc.PROVIDER_ID}static credential(e,n){return Id._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lx.parseLink(n);return Oe(r,"argument-error"),Id._fromEmailAndCode(e,r.code,r.tenantId)}}kc.PROVIDER_ID="password";kc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class x2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class af extends x2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pa extends af{constructor(){super("facebook.com")}static credential(e){return dl._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pa.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Da extends af{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return dl._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Da.credential(n,r)}catch{return null}}}Da.GOOGLE_SIGN_IN_METHOD="google.com";Da.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ma extends af{constructor(){super("github.com")}static credential(e){return dl._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ma.credential(e.oauthAccessToken)}catch{return null}}}Ma.GITHUB_SIGN_IN_METHOD="github.com";Ma.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Oa extends af{constructor(){super("twitter.com")}static credential(e,n){return dl._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Oa.credential(n,r)}catch{return null}}}Oa.TWITTER_SIGN_IN_METHOD="twitter.com";Oa.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function u5(t,e){return sf(t,"POST","/v1/accounts:signUp",ji(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Jr._fromIdTokenResponse(e,r,s),o=fT(r);return new fl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=fT(r);return new fl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function fT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sg extends Fr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,sg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new sg(e,n,r,s)}}function E2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sg._fromErrorAndOperation(t,s,e,r):s})}async function c5(t,e,n=!1){const r=await _d(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fl._forOperation(t,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function h5(t,e,n=!1){const{auth:r}=t;if(fr(r.app))return Promise.reject(Ti(r));const s="reauthenticate";try{const i=await _d(t,E2(r,s,e,t),n);Oe(i.idToken,r,"internal-error");const o=ix(i.idToken);Oe(o,r,"internal-error");const{sub:u}=o;return Oe(t.uid===u,r,"user-mismatch"),fl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&rs(r,"user-mismatch"),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function S2(t,e,n=!1){if(fr(t.app))return Promise.reject(Ti(t));const r="signIn",s=await E2(t,r,e),i=await fl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function d5(t,e){return S2(to(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function k2(t){const e=to(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function f5(t,e,n){const r=to(t);await rg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",r5)}async function p5(t,e,n){if(fr(t.app))return Promise.reject(Ti(t));const r=to(t),s=await rg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",u5).catch(o=>{throw o.code==="auth/password-does-not-meet-requirements"&&k2(t),o}),i=await fl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}function m5(t,e,n){return fr(t.app)?Promise.reject(Ti(t)):d5(Ct(t),kc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&k2(t),r})}function g5(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function y5(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function v5(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function b5(t){return Ct(t).signOut()}const ig="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class T2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ig,"1"),this.storage.removeItem(ig),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const w5=1e3,x5=10;class _2 extends T2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,h)=>{this.notifyListeners(o,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);O3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,x5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},w5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_2.type="LOCAL";const E5=_2;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I2 extends T2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}I2.type="SESSION";const C2=I2;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function S5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Xg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(o).map(async d=>d(n.origin,i)),h=await S5(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xg.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ux(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class k5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((u,h)=>{const d=ux("",20);s.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(g){const v=g;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(m),i=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(v.data.response);break;default:clearTimeout(m),clearTimeout(i),h(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ms(){return window}function T5(t){Ms().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function N2(){return typeof Ms().WorkerGlobalScope<"u"&&typeof Ms().importScripts=="function"}async function _5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function C5(){return N2()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const A2="firebaseLocalStorageDb",N5=1,ag="firebaseLocalStorage",R2="fbase_key";class of{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yg(t,e){return t.transaction([ag],e?"readwrite":"readonly").objectStore(ag)}function A5(){const t=indexedDB.deleteDatabase(A2);return new of(t).toPromise()}function Nb(){const t=indexedDB.open(A2,N5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ag,{keyPath:R2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ag)?e(r):(r.close(),await A5(),e(await Nb()))})})}async function pT(t,e,n){const r=Yg(t,!0).put({[R2]:e,value:n});return new of(r).toPromise()}async function R5(t,e){const n=Yg(t,!1).get(e),r=await new of(n).toPromise();return r===void 0?null:r.value}function mT(t,e){const n=Yg(t,!0).delete(e);return new of(n).toPromise()}const P5=800,D5=3;class P2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>D5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xg._getInstance(C5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _5(),!this.activeServiceWorker)return;this.sender=new k5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(e=r[0])!=null&&e.fulfilled&&(n=r[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nb();return await pT(e,ig,"1"),await mT(e,ig),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>R5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Yg(s,!1).getAll();return new of(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P2.type="LOCAL";const M5=P2;new rf(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function O5(t,e){return e?Ei(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cx extends ox{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function L5(t){return S2(t.auth,new cx(t),t.bypassAuthState)}function j5(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),h5(n,new cx(t),t.bypassAuthState)}async function F5(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),c5(n,new cx(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class D2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:u}=e;if(o){this.reject(o);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L5;case"linkViaPopup":case"linkViaRedirect":return F5;case"reauthViaPopup":case"reauthViaRedirect":return j5;default:rs(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const V5=new rf(2e3,1e4);class Gu extends D2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Gu.currentPopupAction&&Gu.currentPopupAction.cancel(),Gu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=ux();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ds(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ds(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,V5.get())};e()}}Gu.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const U5="pendingRedirect",Tm=new Map;class z5 extends D2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tm.get(this.auth._key());if(!e){try{const n=await B5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}Tm.set(this.auth._key(),e)}return this.bypassAuthState||Tm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B5(t,e){const n=W5(e),r=q5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function $5(t,e){Tm.set(t._key(),e)}function q5(t){return Ei(t._redirectPersistence)}function W5(t){return km(U5,t.config.apiKey,t.name)}async function K5(t,e,n=!1){if(fr(t.app))return Promise.reject(Ti(t));const r=to(t),s=O5(r,e),i=await new z5(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const G5=600*1e3;class H5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!M2(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ds(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gT(e))}saveEventToCache(e){this.cachedEventUids.add(gT(e)),this.lastProcessedEventTime=Date.now()}}function gT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function M2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Q5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M2(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function X5(t,e={}){return Fi(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Y5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J5=/^https?/;async function Z5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await X5(t);for(const n of e)try{if(e6(n))return}catch{}rs(t,"unauthorized-domain")}function e6(t){const e=Ib(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!J5.test(n))return!1;if(Y5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const t6=new rf(3e4,6e4);function yT(){const t=Ms().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function n6(t){return new Promise((e,n)=>{var r,s,i;function o(){yT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yT(),n(Ds(t,"network-request-failed"))},timeout:t6.get()})}if((s=(r=Ms().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((i=Ms().gapi)!=null&&i.load)o();else{const u=q3("iframefcb");return Ms()[u]=()=>{gapi.load?o():n(Ds(t,"network-request-failed"))},v2(`${$3()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw _m=null,e})}let _m=null;function r6(t){return _m=_m||n6(t),_m}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const s6=new rf(5e3,15e3),i6="__/auth/iframe",a6="emulator/auth/iframe",o6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u6(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sx(e,a6):`https://${t.config.authDomain}/${i6}`,r={apiKey:e.apiKey,appName:t.name,v:Nl},s=l6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${nf(r).slice(1)}`}async function c6(t){const e=await r6(t),n=Ms().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:u6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Ds(t,"network-request-failed"),u=Ms().setTimeout(()=>{i(o)},s6.get());function h(){Ms().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{i(o)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const h6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d6=500,f6=600,p6="_blank",m6="http://localhost";class vT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g6(t,e,n,r=d6,s=f6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...h6,width:r.toString(),height:s.toString(),top:i,left:o},d=en().toLowerCase();n&&(u=h2(d)?p6:n),u2(d)&&(e=e||m6,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[S,_])=>`${v}${S}=${_},`,"");if(M3(d)&&u!=="_self")return y6(e||"",u),new vT(null);const g=window.open(e||"",u,m);Oe(g,t,"popup-blocked");try{g.focus()}catch{}return new vT(g)}function y6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const v6="__/auth/handler",b6="emulator/auth/handler",w6=encodeURIComponent("fac");async function bT(t,e,n,r,s,i){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nl,eventId:s};if(e instanceof x2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Zj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))o[m]=g}if(e instanceof af){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),d=h?`#${w6}=${encodeURIComponent(h)}`:"";return`${x6(t)}?${nf(u).slice(1)}${d}`}function x6({config:t}){return t.emulator?sx(t,b6):`https://${t.authDomain}/${v6}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const x0="webStorageSupport";class E6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C2,this._completeRedirectFn=K5,this._overrideRedirectResult=$5}async _openPopup(e,n,r,s){var i;Ci((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await bT(e,n,r,Ib(),s);return g6(e,o,ux())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await bT(e,n,r,Ib(),s);return T5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ci(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await c6(e),r=new H5(e);return n.register("authEvent",s=>(Oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(x0,{type:x0},r=>{var s;const i=(s=r==null?void 0:r[0])==null?void 0:s[x0];i!==void 0&&n(!!i),rs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Z5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return g2()||c2()||ax()}}const S6=E6;var wT="@firebase/auth",xT="1.11.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class k6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function T6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _6(t){ns(new jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;Oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y2(t)},d=new U3(r,s,i,h);return X3(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ns(new jr("auth-internal",e=>{const n=to(e.getProvider("auth").getImmediate());return(r=>new k6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(wT,xT,T6(t)),Zn(wT,xT,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const I6=300,C6=$N("authIdTokenMaxAge")||I6;let ET=null;const N6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>C6)return;const s=n==null?void 0:n.token;ET!==s&&(ET=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Jg(t=Hg()){const e=eo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Q3(t,{popupRedirectResolver:S6,persistence:[M5,E5,C2]}),r=$N("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=N6(i.toString());y5(n,o,()=>o(n.currentUser)),g5(n,u=>o(u))}}const s=UN("auth");return s&&Y3(n,`http://${s}`),n}function A6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}z3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ds("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",A6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_6("Browser");var R6="firebase",P6="12.5.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Zn(R6,P6,"app");var ST=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ua,O2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function P(){}P.prototype=C.prototype,D.F=C.prototype,D.prototype=new P,D.prototype.constructor=D,D.D=function(j,V,$){for(var L=Array(arguments.length-2),we=2;we<arguments.length;we++)L[we-2]=arguments[we];return C.prototype[V].apply(j,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,C,P){P||(P=0);const j=Array(16);if(typeof C=="string")for(var V=0;V<16;++V)j[V]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(V=0;V<16;++V)j[V]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=D.g[0],P=D.g[1],V=D.g[2];let $=D.g[3],L;L=C+($^P&(V^$))+j[0]+3614090360&4294967295,C=P+(L<<7&4294967295|L>>>25),L=$+(V^C&(P^V))+j[1]+3905402710&4294967295,$=C+(L<<12&4294967295|L>>>20),L=V+(P^$&(C^P))+j[2]+606105819&4294967295,V=$+(L<<17&4294967295|L>>>15),L=P+(C^V&($^C))+j[3]+3250441966&4294967295,P=V+(L<<22&4294967295|L>>>10),L=C+($^P&(V^$))+j[4]+4118548399&4294967295,C=P+(L<<7&4294967295|L>>>25),L=$+(V^C&(P^V))+j[5]+1200080426&4294967295,$=C+(L<<12&4294967295|L>>>20),L=V+(P^$&(C^P))+j[6]+2821735955&4294967295,V=$+(L<<17&4294967295|L>>>15),L=P+(C^V&($^C))+j[7]+4249261313&4294967295,P=V+(L<<22&4294967295|L>>>10),L=C+($^P&(V^$))+j[8]+1770035416&4294967295,C=P+(L<<7&4294967295|L>>>25),L=$+(V^C&(P^V))+j[9]+2336552879&4294967295,$=C+(L<<12&4294967295|L>>>20),L=V+(P^$&(C^P))+j[10]+4294925233&4294967295,V=$+(L<<17&4294967295|L>>>15),L=P+(C^V&($^C))+j[11]+2304563134&4294967295,P=V+(L<<22&4294967295|L>>>10),L=C+($^P&(V^$))+j[12]+1804603682&4294967295,C=P+(L<<7&4294967295|L>>>25),L=$+(V^C&(P^V))+j[13]+4254626195&4294967295,$=C+(L<<12&4294967295|L>>>20),L=V+(P^$&(C^P))+j[14]+2792965006&4294967295,V=$+(L<<17&4294967295|L>>>15),L=P+(C^V&($^C))+j[15]+1236535329&4294967295,P=V+(L<<22&4294967295|L>>>10),L=C+(V^$&(P^V))+j[1]+4129170786&4294967295,C=P+(L<<5&4294967295|L>>>27),L=$+(P^V&(C^P))+j[6]+3225465664&4294967295,$=C+(L<<9&4294967295|L>>>23),L=V+(C^P&($^C))+j[11]+643717713&4294967295,V=$+(L<<14&4294967295|L>>>18),L=P+($^C&(V^$))+j[0]+3921069994&4294967295,P=V+(L<<20&4294967295|L>>>12),L=C+(V^$&(P^V))+j[5]+3593408605&4294967295,C=P+(L<<5&4294967295|L>>>27),L=$+(P^V&(C^P))+j[10]+38016083&4294967295,$=C+(L<<9&4294967295|L>>>23),L=V+(C^P&($^C))+j[15]+3634488961&4294967295,V=$+(L<<14&4294967295|L>>>18),L=P+($^C&(V^$))+j[4]+3889429448&4294967295,P=V+(L<<20&4294967295|L>>>12),L=C+(V^$&(P^V))+j[9]+568446438&4294967295,C=P+(L<<5&4294967295|L>>>27),L=$+(P^V&(C^P))+j[14]+3275163606&4294967295,$=C+(L<<9&4294967295|L>>>23),L=V+(C^P&($^C))+j[3]+4107603335&4294967295,V=$+(L<<14&4294967295|L>>>18),L=P+($^C&(V^$))+j[8]+1163531501&4294967295,P=V+(L<<20&4294967295|L>>>12),L=C+(V^$&(P^V))+j[13]+2850285829&4294967295,C=P+(L<<5&4294967295|L>>>27),L=$+(P^V&(C^P))+j[2]+4243563512&4294967295,$=C+(L<<9&4294967295|L>>>23),L=V+(C^P&($^C))+j[7]+1735328473&4294967295,V=$+(L<<14&4294967295|L>>>18),L=P+($^C&(V^$))+j[12]+2368359562&4294967295,P=V+(L<<20&4294967295|L>>>12),L=C+(P^V^$)+j[5]+4294588738&4294967295,C=P+(L<<4&4294967295|L>>>28),L=$+(C^P^V)+j[8]+2272392833&4294967295,$=C+(L<<11&4294967295|L>>>21),L=V+($^C^P)+j[11]+1839030562&4294967295,V=$+(L<<16&4294967295|L>>>16),L=P+(V^$^C)+j[14]+4259657740&4294967295,P=V+(L<<23&4294967295|L>>>9),L=C+(P^V^$)+j[1]+2763975236&4294967295,C=P+(L<<4&4294967295|L>>>28),L=$+(C^P^V)+j[4]+1272893353&4294967295,$=C+(L<<11&4294967295|L>>>21),L=V+($^C^P)+j[7]+4139469664&4294967295,V=$+(L<<16&4294967295|L>>>16),L=P+(V^$^C)+j[10]+3200236656&4294967295,P=V+(L<<23&4294967295|L>>>9),L=C+(P^V^$)+j[13]+681279174&4294967295,C=P+(L<<4&4294967295|L>>>28),L=$+(C^P^V)+j[0]+3936430074&4294967295,$=C+(L<<11&4294967295|L>>>21),L=V+($^C^P)+j[3]+3572445317&4294967295,V=$+(L<<16&4294967295|L>>>16),L=P+(V^$^C)+j[6]+76029189&4294967295,P=V+(L<<23&4294967295|L>>>9),L=C+(P^V^$)+j[9]+3654602809&4294967295,C=P+(L<<4&4294967295|L>>>28),L=$+(C^P^V)+j[12]+3873151461&4294967295,$=C+(L<<11&4294967295|L>>>21),L=V+($^C^P)+j[15]+530742520&4294967295,V=$+(L<<16&4294967295|L>>>16),L=P+(V^$^C)+j[2]+3299628645&4294967295,P=V+(L<<23&4294967295|L>>>9),L=C+(V^(P|~$))+j[0]+4096336452&4294967295,C=P+(L<<6&4294967295|L>>>26),L=$+(P^(C|~V))+j[7]+1126891415&4294967295,$=C+(L<<10&4294967295|L>>>22),L=V+(C^($|~P))+j[14]+2878612391&4294967295,V=$+(L<<15&4294967295|L>>>17),L=P+($^(V|~C))+j[5]+4237533241&4294967295,P=V+(L<<21&4294967295|L>>>11),L=C+(V^(P|~$))+j[12]+1700485571&4294967295,C=P+(L<<6&4294967295|L>>>26),L=$+(P^(C|~V))+j[3]+2399980690&4294967295,$=C+(L<<10&4294967295|L>>>22),L=V+(C^($|~P))+j[10]+4293915773&4294967295,V=$+(L<<15&4294967295|L>>>17),L=P+($^(V|~C))+j[1]+2240044497&4294967295,P=V+(L<<21&4294967295|L>>>11),L=C+(V^(P|~$))+j[8]+1873313359&4294967295,C=P+(L<<6&4294967295|L>>>26),L=$+(P^(C|~V))+j[15]+4264355552&4294967295,$=C+(L<<10&4294967295|L>>>22),L=V+(C^($|~P))+j[6]+2734768916&4294967295,V=$+(L<<15&4294967295|L>>>17),L=P+($^(V|~C))+j[13]+1309151649&4294967295,P=V+(L<<21&4294967295|L>>>11),L=C+(V^(P|~$))+j[4]+4149444226&4294967295,C=P+(L<<6&4294967295|L>>>26),L=$+(P^(C|~V))+j[11]+3174756917&4294967295,$=C+(L<<10&4294967295|L>>>22),L=V+(C^($|~P))+j[2]+718787259&4294967295,V=$+(L<<15&4294967295|L>>>17),L=P+($^(V|~C))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(V+(L<<21&4294967295|L>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+$&4294967295}r.prototype.v=function(D,C){C===void 0&&(C=D.length);const P=C-this.blockSize,j=this.C;let V=this.h,$=0;for(;$<C;){if(V==0)for(;$<=P;)s(this,D,$),$+=this.blockSize;if(typeof D=="string"){for(;$<C;)if(j[V++]=D.charCodeAt($++),V==this.blockSize){s(this,j),V=0;break}}else for(;$<C;)if(j[V++]=D[$++],V==this.blockSize){s(this,j),V=0;break}}this.h=V,this.o+=C},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var P=D.length-8;P<D.length;++P)D[P]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,P=0;P<4;++P)for(let j=0;j<32;j+=8)D[C++]=this.g[P]>>>j&255;return D};function i(D,C){var P=u;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=C(D)}function o(D,C){this.h=C;const P=[];let j=!0;for(let V=D.length-1;V>=0;V--){const $=D[V]|0;j&&$==C||(P[V]=$,j=!1)}this.g=P}var u={};function h(D){return-128<=D&&D<128?i(D,function(C){return new o([C|0],C<0?-1:0)}):new o([D|0],D<0?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return g;if(D<0)return I(d(-D));const C=[];let P=1;for(let j=0;D>=P;j++)C[j]=D/P|0,P*=4294967296;return new o(C,0)}function m(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return I(m(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=d(Math.pow(C,8));let j=g;for(let $=0;$<D.length;$+=8){var V=Math.min(8,D.length-$);const L=parseInt(D.substring($,$+V),C);V<8?(V=d(Math.pow(C,V)),j=j.j(V).add(d(L))):(j=j.j(P),j=j.add(d(L)))}return j}var g=h(0),v=h(1),S=h(16777216);t=o.prototype,t.m=function(){if(T(this))return-I(this).m();let D=0,C=1;for(let P=0;P<this.g.length;P++){const j=this.i(P);D+=(j>=0?j:4294967296+j)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(_(this))return"0";if(T(this))return"-"+I(this).toString(D);const C=d(Math.pow(D,6));var P=this;let j="";for(;;){const V=U(P,C).g;P=A(P,V.j(C));let $=((P.g.length>0?P.g[0]:P.h)>>>0).toString(D);if(P=V,_(P))return $+j;for(;$.length<6;)$="0"+$;j=$+j}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function _(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function T(D){return D.h==-1}t.l=function(D){return D=A(this,D),T(D)?-1:_(D)?0:1};function I(D){const C=D.g.length,P=[];for(let j=0;j<C;j++)P[j]=~D.g[j];return new o(P,~D.h).add(v)}t.abs=function(){return T(this)?I(this):this},t.add=function(D){const C=Math.max(this.g.length,D.g.length),P=[];let j=0;for(let V=0;V<=C;V++){let $=j+(this.i(V)&65535)+(D.i(V)&65535),L=($>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);j=L>>>16,$&=65535,L&=65535,P[V]=L<<16|$}return new o(P,P[P.length-1]&-2147483648?-1:0)};function A(D,C){return D.add(I(C))}t.j=function(D){if(_(this)||_(D))return g;if(T(this))return T(D)?I(this).j(I(D)):I(I(this).j(D));if(T(D))return I(this.j(I(D)));if(this.l(S)<0&&D.l(S)<0)return d(this.m()*D.m());const C=this.g.length+D.g.length,P=[];for(var j=0;j<2*C;j++)P[j]=0;for(j=0;j<this.g.length;j++)for(let V=0;V<D.g.length;V++){const $=this.i(j)>>>16,L=this.i(j)&65535,we=D.i(V)>>>16,Pe=D.i(V)&65535;P[2*j+2*V]+=L*Pe,R(P,2*j+2*V),P[2*j+2*V+1]+=$*Pe,R(P,2*j+2*V+1),P[2*j+2*V+1]+=L*we,R(P,2*j+2*V+1),P[2*j+2*V+2]+=$*we,R(P,2*j+2*V+2)}for(D=0;D<C;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=C;D<2*C;D++)P[D]=0;return new o(P,0)};function R(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function O(D,C){this.g=D,this.h=C}function U(D,C){if(_(C))throw Error("division by zero");if(_(D))return new O(g,g);if(T(D))return C=U(I(D),C),new O(I(C.g),I(C.h));if(T(C))return C=U(D,I(C)),new O(I(C.g),C.h);if(D.g.length>30){if(T(D)||T(C))throw Error("slowDivide_ only works with positive integers.");for(var P=v,j=C;j.l(D)<=0;)P=B(P),j=B(j);var V=G(P,1),$=G(j,1);for(j=G(j,2),P=G(P,2);!_(j);){var L=$.add(j);L.l(D)<=0&&(V=V.add(P),$=L),j=G(j,1),P=G(P,1)}return C=A(D,V.j(C)),new O(V,C)}for(V=g;D.l(C)>=0;){for(P=Math.max(1,Math.floor(D.m()/C.m())),j=Math.ceil(Math.log(P)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),$=d(P),L=$.j(C);T(L)||L.l(D)>0;)P-=j,$=d(P),L=$.j(C);_($)&&($=v),V=V.add($),D=A(D,L)}return new O(V,D)}t.B=function(D){return U(this,D).h},t.and=function(D){const C=Math.max(this.g.length,D.g.length),P=[];for(let j=0;j<C;j++)P[j]=this.i(j)&D.i(j);return new o(P,this.h&D.h)},t.or=function(D){const C=Math.max(this.g.length,D.g.length),P=[];for(let j=0;j<C;j++)P[j]=this.i(j)|D.i(j);return new o(P,this.h|D.h)},t.xor=function(D){const C=Math.max(this.g.length,D.g.length),P=[];for(let j=0;j<C;j++)P[j]=this.i(j)^D.i(j);return new o(P,this.h^D.h)};function B(D){const C=D.g.length+1,P=[];for(let j=0;j<C;j++)P[j]=D.i(j)<<1|D.i(j-1)>>>31;return new o(P,D.h)}function G(D,C){const P=C>>5;C%=32;const j=D.g.length-P,V=[];for(let $=0;$<j;$++)V[$]=C>0?D.i($+P)>>>C|D.i($+P+1)<<32-C:D.i($+P);return new o(V,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,O2=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=m,Ua=o}).apply(typeof ST<"u"?ST:typeof self<"u"?self:typeof window<"u"?window:{});var Qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L2,nd,j2,Im,Ab,F2,V2,U2;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qp=="object"&&Qp];for(var w=0;w<f.length;++w){var k=f[w];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function s(f,w){if(w)e:{var k=r;f=f.split(".");for(var M=0;M<f.length-1;M++){var Y=f[M];if(!(Y in k))break e;k=k[Y]}f=f[f.length-1],M=k[f],w=w(M),w!=M&&w!=null&&e(k,f,{configurable:!0,writable:!0,value:w})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(w){var k=[],M;for(M in w)Object.prototype.hasOwnProperty.call(w,M)&&k.push([M,w[M]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function u(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function h(f,w,k){return f.call.apply(f.bind,arguments)}function d(f,w,k){return d=h,d.apply(null,arguments)}function m(f,w){var k=Array.prototype.slice.call(arguments,1);return function(){var M=k.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function g(f,w){function k(){}k.prototype=w.prototype,f.Z=w.prototype,f.prototype=new k,f.prototype.constructor=f,f.Ob=function(M,Y,ee){for(var he=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)he[Be-2]=arguments[Be];return w.prototype[Y].apply(M,he)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const w=f.length;if(w>0){const k=Array(w);for(let M=0;M<w;M++)k[M]=f[M];return k}return[]}function _(f,w){for(let M=1;M<arguments.length;M++){const Y=arguments[M];var k=typeof Y;if(k=k!="object"?k:Y?Array.isArray(Y)?"array":k:"null",k=="array"||k=="object"&&typeof Y.length=="number"){k=f.length||0;const ee=Y.length||0;f.length=k+ee;for(let he=0;he<ee;he++)f[k+he]=Y[he]}else f.push(Y)}}class T{constructor(w,k){this.i=w,this.j=k,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function I(f){o.setTimeout(()=>{throw f},0)}function A(){var f=D;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class R{constructor(){this.h=this.g=null}add(w,k){const M=O.get();M.set(w,k),this.h?this.h.next=M:this.g=M,this.h=M}}var O=new T(()=>new U,f=>f.reset());class U{constructor(){this.next=this.g=this.h=null}set(w,k){this.h=w,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let B,G=!1,D=new R,C=()=>{const f=Promise.resolve(void 0);B=()=>{f.then(P)}};function P(){for(var f;f=A();){try{f.h.call(f.g)}catch(k){I(k)}var w=O;w.j(f),w.h<100&&(w.h++,f.next=w.g,w.g=f)}G=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const k=()=>{};o.addEventListener("test",k,w),o.removeEventListener("test",k,w)}catch{}return f})();function L(f){return/^[\s\xa0]*$/.test(f)}function we(f,w){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,w)}g(we,V),we.prototype.init=function(f,w){const k=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget,w||(k=="mouseover"?w=f.fromElement:k=="mouseout"&&(w=f.toElement)),this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),ye=0;function ve(f,w,k,M,Y){this.listener=f,this.proxy=null,this.src=w,this.type=k,this.capture=!!M,this.ha=Y,this.key=++ye,this.da=this.fa=!1}function H(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ne(f,w,k){for(const M in f)w.call(k,f[M],M,f)}function ae(f,w){for(const k in f)w.call(void 0,f[k],k,f)}function K(f){const w={};for(const k in f)w[k]=f[k];return w}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(f,w){let k,M;for(let Y=1;Y<arguments.length;Y++){M=arguments[Y];for(k in M)f[k]=M[k];for(let ee=0;ee<re.length;ee++)k=re[ee],Object.prototype.hasOwnProperty.call(M,k)&&(f[k]=M[k])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,w,k,M,Y){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const he=ze(f,w,M,Y);return he>-1?(w=f[he],k||(w.fa=!1)):(w=new ve(w,this.src,ee,!!M,Y),w.fa=k,f.push(w)),w};function De(f,w){const k=w.type;if(k in f.g){var M=f.g[k],Y=Array.prototype.indexOf.call(M,w,void 0),ee;(ee=Y>=0)&&Array.prototype.splice.call(M,Y,1),ee&&(H(w),f.g[k].length==0&&(delete f.g[k],f.h--))}}function ze(f,w,k,M){for(let Y=0;Y<f.length;++Y){const ee=f[Y];if(!ee.da&&ee.listener==w&&ee.capture==!!k&&ee.ha==M)return Y}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),$e={};function Ue(f,w,k,M,Y){if(Array.isArray(w)){for(let ee=0;ee<w.length;ee++)Ue(f,w[ee],k,M,Y);return null}return k=io(k),f&&f[Pe]?f.J(w,k,u(M)?!!M.capture:!1,Y):dt(f,w,k,!1,M,Y)}function dt(f,w,k,M,Y,ee){if(!w)throw Error("Invalid event type");const he=u(Y)?!!Y.capture:!!Y;let Be=qi(f);if(Be||(f[Ce]=Be=new me(f)),k=Be.add(w,k,M,he,ee),k.proxy)return k;if(M=vr(),k.proxy=M,M.src=f,M.listener=k,f.addEventListener)$||(Y=he),Y===void 0&&(Y=!1),f.addEventListener(w.toString(),M,Y);else if(f.attachEvent)f.attachEvent($i(w.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return k}function vr(){function f(k){return w.call(f.src,f.listener,k)}const w=Ll;return f}function br(f,w,k,M,Y){if(Array.isArray(w))for(var ee=0;ee<w.length;ee++)br(f,w[ee],k,M,Y);else M=u(M)?!!M.capture:!!M,k=io(k),f&&f[Pe]?(f=f.i,ee=String(w).toString(),ee in f.g&&(w=f.g[ee],k=ze(w,k,M,Y),k>-1&&(H(w[k]),Array.prototype.splice.call(w,k,1),w.length==0&&(delete f.g[ee],f.h--)))):f&&(f=qi(f))&&(w=f.g[w.toString()],f=-1,w&&(f=ze(w,k,M,Y)),(k=f>-1?w[f]:null)&&zn(k))}function zn(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[Pe])De(w.i,f);else{var k=f.type,M=f.proxy;w.removeEventListener?w.removeEventListener(k,M,f.capture):w.detachEvent?w.detachEvent($i(k),M):w.addListener&&w.removeListener&&w.removeListener(M),(k=qi(w))?(De(k,f),k.h==0&&(k.src=null,w[Ce]=null)):H(f)}}}function $i(f){return f in $e?$e[f]:$e[f]="on"+f}function Ll(f,w){if(f.da)f=!0;else{w=new we(w,this);const k=f.listener,M=f.ha||f.src;f.fa&&zn(f),f=k.call(M,w)}return f}function qi(f){return f=f[Ce],f instanceof me?f:null}var Js="__closure_events_fn_"+(Math.random()*1e9>>>0);function io(f){return typeof f=="function"?f:(f[Js]||(f[Js]=function(w){return f.handleEvent(w)}),f[Js])}function ft(){j.call(this),this.i=new me(this),this.M=this,this.G=null}g(ft,j),ft.prototype[Pe]=!0,ft.prototype.removeEventListener=function(f,w,k,M){br(this,f,w,k,M)};function Mt(f,w){var k,M=f.G;if(M)for(k=[];M;M=M.G)k.push(M);if(f=f.M,M=w.type||w,typeof w=="string")w=new V(w,f);else if(w instanceof V)w.target=w.target||f;else{var Y=w;w=new V(M,f),pe(w,Y)}Y=!0;let ee,he;if(k)for(he=k.length-1;he>=0;he--)ee=w.g=k[he],Y=Vr(ee,M,!0,w)&&Y;if(ee=w.g=f,Y=Vr(ee,M,!0,w)&&Y,Y=Vr(ee,M,!1,w)&&Y,k)for(he=0;he<k.length;he++)ee=w.g=k[he],Y=Vr(ee,M,!1,w)&&Y}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var f=this.i;for(const w in f.g){const k=f.g[w];for(let M=0;M<k.length;M++)H(k[M]);delete f.g[w],f.h--}}this.G=null},ft.prototype.J=function(f,w,k,M){return this.i.add(String(f),w,!1,k,M)},ft.prototype.K=function(f,w,k,M){return this.i.add(String(f),w,!0,k,M)};function Vr(f,w,k,M){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();let Y=!0;for(let ee=0;ee<w.length;++ee){const he=w[ee];if(he&&!he.da&&he.capture==k){const Be=he.listener,Ot=he.ha||he.src;he.fa&&De(f.i,he),Y=Be.call(Ot,M)!==!1&&Y}}return Y&&!M.defaultPrevented}function Fc(f,w){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:o.setTimeout(f,w||0)}function Vc(f){f.g=Fc(()=>{f.g=null,f.i&&(f.i=!1,Vc(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Df extends j{constructor(w,k){super(),this.m=w,this.l=k,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Vc(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(f){j.call(this),this.h=f,this.g={}}g(Wi,j);var Uc=[];function jl(f){ne(f.g,function(w,k){this.g.hasOwnProperty(k)&&zn(w)},f),f.g={}}Wi.prototype.N=function(){Wi.Z.N.call(this),jl(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ki=o.JSON.stringify,Mf=o.JSON.parse,ao=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function Gi(){}function Of(){}var Hi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fl(){V.call(this,"d")}g(Fl,V);function zc(){V.call(this,"c")}g(zc,V);var Ur={},Vl=null;function Qi(){return Vl=Vl||new ft}Ur.Ia="serverreachability";function Ul(f){V.call(this,Ur.Ia,f)}g(Ul,V);function Zs(f){const w=Qi();Mt(w,new Ul(w))}Ur.STAT_EVENT="statevent";function ei(f,w){V.call(this,Ur.STAT_EVENT,f),this.stat=w}g(ei,V);function Nt(f){const w=Qi();Mt(w,new ei(w,f))}Ur.Ja="timingevent";function Bc(f,w){V.call(this,Ur.Ja,f),this.size=w}g(Bc,V);function Xi(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},w)}function Yi(){this.g=!0}Yi.prototype.ua=function(){this.g=!1};function Lf(f,w,k,M,Y,ee){f.info(function(){if(f.g)if(ee){var he="",Be=ee.split("&");for(let ct=0;ct<Be.length;ct++){var Ot=Be[ct].split("=");if(Ot.length>1){const Wt=Ot[0];Ot=Ot[1];const ar=Wt.split("_");he=ar.length>=2&&ar[1]=="type"?he+(Wt+"="+Ot+"&"):he+(Wt+"=redacted&")}}}else he=null;else he=ee;return"XMLHTTP REQ ("+M+") [attempt "+Y+"]: "+w+`
`+k+`
`+he})}function jf(f,w,k,M,Y,ee,he){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Y+"]: "+w+`
`+k+`
`+ee+" "+he})}function ls(f,w,k,M){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+oo(f,k)+(M?" "+M:"")})}function Ff(f,w){f.info(function(){return"TIMEOUT: "+w})}Yi.prototype.info=function(){};function oo(f,w){if(!f.g)return w;if(!w)return null;try{const ee=JSON.parse(w);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var k=ee[f];if(!(k.length<2)){var M=k[1];if(Array.isArray(M)&&!(M.length<1)){var Y=M[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let he=1;he<M.length;he++)M[he]=""}}}}return Ki(ee)}catch{return w}}var Ji={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vf;function ti(){}g(ti,Gi),ti.prototype.g=function(){return new XMLHttpRequest},Vf=new ti;function us(f){return encodeURIComponent(String(f))}function zl(f){var w=1;f=f.split(":");const k=[];for(;w>0&&f.length;)k.push(f.shift()),w--;return f.length&&k.push(f.join(":")),k}function wr(f,w,k,M){this.j=f,this.i=w,this.l=k,this.S=M||1,this.V=new Wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Uf}function Uf(){this.i=null,this.g="",this.h=!1}var zf={},$c={};function zr(f,w,k){f.M=1,f.A=ri(xr(w)),f.u=k,f.R=!0,qc(f,null)}function qc(f,w){f.F=Date.now(),lo(f),f.B=xr(f.A);var k=f.B,M=f.S;Array.isArray(M)||(M=[String(M)]),eh(k.i,"t",M),f.C=0,k=f.j.L,f.h=new Uf,f.g=Yf(f.j,k?w:null,!f.u),f.P>0&&(f.O=new Df(d(f.Y,f,f.g),f.P)),w=f.V,k=f.g,M=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Uc[0]=Y.toString()),Y=Uc);for(let ee=0;ee<Y.length;ee++){const he=Ue(k,Y[ee],M||w.handleEvent,!1,w.h||w);if(!he)break;w.g[he.key]=he}w=f.J?K(f.J):{},f.u?(f.v||(f.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,w)):(f.v="GET",f.g.ea(f.B,f.v,null,w)),Zs(),Lf(f.i,f.v,f.B,f.l,f.S,f.u)}wr.prototype.ba=function(f){f=f.target;const w=this.O;w&&gs(f)==3?w.j():this.Y(f)},wr.prototype.Y=function(f){try{if(f==this.g)e:{const Be=gs(this.g),Ot=this.g.ya(),ct=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||Qf(this.g)))){this.K||Be!=4||Ot==7||(Ot==8||ct<=0?Zs(3):Zs(2)),Bl(this);var w=this.g.ca();this.X=w;var k=Bf(this);if(this.o=w==200,jf(this.i,this.v,this.B,this.l,this.S,Be,w),this.o){if(this.U&&!this.L){t:{if(this.g){var M,Y=this.g;if((M=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(M)){var ee=M;break t}}ee=null}if(f=ee)ls(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pt(this,f);else{this.o=!1,this.m=3,Nt(12),ni(this),uo(this);break e}}if(this.R){f=!0;let Wt;for(;!this.K&&this.C<k.length;)if(Wt=qf(this,k),Wt==$c){Be==4&&(this.m=4,Nt(14),f=!1),ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==zf){this.m=4,Nt(15),ls(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else ls(this.i,this.l,Wt,null),pt(this,Wt);if($f(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||k.length!=0||this.h.h||(this.m=1,Nt(16),f=!1),this.o=this.o&&f,!f)ls(this.i,this.l,k,"[Invalid Chunked Response]"),ni(this),uo(this);else if(k.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),bo(he),he.P=!0,Nt(11))}}else ls(this.i,this.l,k,null),pt(this,k);Be==4&&ni(this),this.o&&!this.K&&(Be==4?Jl(this.j,this):(this.o=!1,lo(this)))}else nh(this.g),w==400&&k.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),ni(this),uo(this)}}}catch{}finally{}};function Bf(f){if(!$f(f))return f.g.la();const w=Qf(f.g);if(w==="")return"";let k="";const M=w.length,Y=gs(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ni(f),uo(f),"";f.h.i=new o.TextDecoder}for(let ee=0;ee<M;ee++)f.h.h=!0,k+=f.h.i.decode(w[ee],{stream:!(Y&&ee==M-1)});return w.length=0,f.h.g+=k,f.C=0,f.h.g}function $f(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function qf(f,w){var k=f.C,M=w.indexOf(`
`,k);return M==-1?$c:(k=Number(w.substring(k,M)),isNaN(k)?zf:(M+=1,M+k>w.length?$c:(w=w.slice(M,M+k),f.C=M+k,w)))}wr.prototype.cancel=function(){this.K=!0,ni(this)};function lo(f){f.T=Date.now()+f.H,Wc(f,f.H)}function Wc(f,w){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Xi(d(f.aa,f),w)}function Bl(f){f.D&&(o.clearTimeout(f.D),f.D=null)}wr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Ff(this.i,this.B),this.M!=2&&(Zs(),Nt(17)),ni(this),this.m=2,uo(this)):Wc(this,this.T-f)};function uo(f){f.j.I==0||f.K||Jl(f.j,f)}function ni(f){Bl(f);var w=f.O;w&&typeof w.dispose=="function"&&w.dispose(),f.O=null,jl(f.V),f.g&&(w=f.g,f.g=null,w.abort(),w.dispose())}function pt(f,w){try{var k=f.j;if(k.I!=0&&(k.g==f||Gc(k.h,f))){if(!f.L&&Gc(k.h,f)&&k.I==3){try{var M=k.Ba.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Y=M;if(Y[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<f.F)Yl(k),sr(k);else break e;bs(k),Nt(18)}}else k.xa=Y[1],0<k.xa-k.K&&Y[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=Xi(d(k.Va,k),6e3));co(k.h)<=1&&k.ta&&(k.ta=void 0)}else ir(k,11)}else if((f.L||k.g==f)&&Yl(k),!L(w))for(Y=k.Ba.g.parse(w),w=0;w<Y.length;w++){let ct=Y[w];const Wt=ct[0];if(!(Wt<=k.K))if(k.K=Wt,ct=ct[1],k.I==2)if(ct[0]=="c"){k.M=ct[1],k.ba=ct[2];const ar=ct[3];ar!=null&&(k.ka=ar,k.j.info("VER="+k.ka));const aa=ct[4];aa!=null&&(k.za=aa,k.j.info("SVER="+k.za));const ws=ct[5];ws!=null&&typeof ws=="number"&&ws>0&&(M=1.5*ws,k.O=M,k.j.info("backChannelRequestTimeoutMs_="+M)),M=k;const xs=f.g;if(xs){const tu=xs.g?xs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tu){var ee=M.h;ee.g||tu.indexOf("spdy")==-1&&tu.indexOf("quic")==-1&&tu.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(ql(ee,ee.h),ee.h=null))}if(M.G){const ih=xs.g?xs.g.getResponseHeader("X-HTTP-Session-Id"):null;ih&&(M.wa=ih,rt(M.J,M.G,ih))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-f.F,k.j.info("Handshake RTT: "+k.T+"ms")),M=k;var he=f;if(M.na=sh(M,M.L?M.ba:null,M.W),he.L){ho(M.h,he);var Be=he,Ot=M.O;Ot&&(Be.H=Ot),Be.D&&(Bl(Be),lo(Be)),M.g=he}else bn(M);k.i.length>0&&oi(k)}else ct[0]!="stop"&&ct[0]!="close"||ir(k,7);else k.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?ir(k,7):Ql(k):ct[0]!="noop"&&k.l&&k.l.qa(ct),k.A=0)}}Zs(4)}catch{}}var Ky=class{constructor(f,w){this.g=f,this.map=w}};function $l(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function co(f){return f.h?1:f.g?f.g.size:0}function Gc(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function ql(f,w){f.g?f.g.add(w):f.h=w}function ho(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}$l.prototype.cancel=function(){if(this.i=tr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function tr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const k of f.g.values())w=w.concat(k.G);return w}return S(f.i)}var Wf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nr(f,w){if(f){f=f.split("&");for(let k=0;k<f.length;k++){const M=f[k].indexOf("=");let Y,ee=null;M>=0?(Y=f[k].substring(0,M),ee=f[k].substring(M+1)):Y=f[k],w(Y,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function cs(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;f instanceof cs?(this.l=f.l,fo(this,f.j),this.o=f.o,this.g=f.g,hs(this,f.u),this.h=f.h,ea(this,th(f.i)),this.m=f.m):f&&(w=String(f).match(Wf))?(this.l=!1,fo(this,w[1]||"",!0),this.o=po(w[2]||""),this.g=po(w[3]||"",!0),hs(this,w[4]),this.h=po(w[5]||"",!0),ea(this,w[6]||"",!0),this.m=po(w[7]||"")):(this.l=!1,this.i=new Xe(null,this.l))}cs.prototype.toString=function(){const f=[];var w=this.j;w&&f.push(mo(w,Qc,!0),":");var k=this.g;return(k||w=="file")&&(f.push("//"),(w=this.o)&&f.push(mo(w,Qc,!0),"@"),f.push(us(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&f.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&f.push("/"),f.push(mo(k,k.charAt(0)=="/"?go:Xc,!0))),(k=this.i.toString())&&f.push("?",k),(k=this.m)&&f.push("#",mo(k,Yc)),f.join("")},cs.prototype.resolve=function(f){const w=xr(this);let k=!!f.j;k?fo(w,f.j):k=!!f.o,k?w.o=f.o:k=!!f.g,k?w.g=f.g:k=f.u!=null;var M=f.h;if(k)hs(w,f.u);else if(k=!!f.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var Y=w.h.lastIndexOf("/");Y!=-1&&(M=w.h.slice(0,Y+1)+M)}if(Y=M,Y==".."||Y==".")M="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){M=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ee=[];for(let he=0;he<Y.length;){const Be=Y[he++];Be=="."?M&&he==Y.length&&ee.push(""):Be==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),M&&he==Y.length&&ee.push("")):(ee.push(Be),M=!0)}M=ee.join("/")}else M=Y}return k?w.h=M:k=f.i.toString()!=="",k?ea(w,th(f.i)):k=!!f.m,k&&(w.m=f.m),w};function xr(f){return new cs(f)}function fo(f,w,k){f.j=k?po(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function hs(f,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);f.u=w}else f.u=null}function ea(f,w,k){w instanceof Xe?(f.i=w,Kl(f.i,f.l)):(k||(w=mo(w,Gy)),f.i=new Xe(w,f.l))}function rt(f,w,k){f.i.set(w,k)}function ri(f){return rt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function po(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function mo(f,w,k){return typeof f=="string"?(f=encodeURI(f).replace(w,Hc),k&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Hc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Qc=/[#\/\?@]/g,Xc=/[#\?:]/g,go=/[#\?]/g,Gy=/[#\?@]/g,Yc=/#/g;function Xe(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function ds(f){f.g||(f.g=new Map,f.h=0,f.i&&nr(f.i,function(w,k){f.add(decodeURIComponent(w.replace(/\+/g," ")),k)}))}t=Xe.prototype,t.add=function(f,w){ds(this),this.i=null,f=fs(this,f);let k=this.g.get(f);return k||this.g.set(f,k=[]),k.push(w),this.h+=1,this};function Jc(f,w){ds(f),w=fs(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function Wl(f,w){return ds(f),w=fs(f,w),f.g.has(w)}t.forEach=function(f,w){ds(this),this.g.forEach(function(k,M){k.forEach(function(Y){f.call(w,Y,M,this)},this)},this)};function Zc(f,w){ds(f);let k=[];if(typeof w=="string")Wl(f,w)&&(k=k.concat(f.g.get(fs(f,w))));else for(f=Array.from(f.g.values()),w=0;w<f.length;w++)k=k.concat(f[w]);return k}t.set=function(f,w){return ds(this),this.i=null,f=fs(this,f),Wl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=Zc(this,f),f.length>0?String(f[0]):w):w};function eh(f,w,k){Jc(f,w),k.length>0&&(f.i=null,f.g.set(fs(f,w),S(k)),f.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(let M=0;M<w.length;M++){var k=w[M];const Y=us(k);k=Zc(this,k);for(let ee=0;ee<k.length;ee++){let he=Y;k[ee]!==""&&(he+="="+us(k[ee])),f.push(he)}}return this.i=f.join("&")};function th(f){const w=new Xe;return w.i=f.i,f.g&&(w.g=new Map(f.g),w.h=f.h),w}function fs(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function Kl(f,w){w&&!f.j&&(ds(f),f.i=null,f.g.forEach(function(k,M){const Y=M.toLowerCase();M!=Y&&(Jc(this,M),eh(this,Y,k))},f)),f.j=w}function ps(f,w){const k=new Yi;if(o.Image){const M=new Image;M.onload=m(ln,k,"TestLoadImage: loaded",!0,w,M),M.onerror=m(ln,k,"TestLoadImage: error",!1,w,M),M.onabort=m(ln,k,"TestLoadImage: abort",!1,w,M),M.ontimeout=m(ln,k,"TestLoadImage: timeout",!1,w,M),o.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else w(!1)}function ms(f,w){const k=new Yi,M=new AbortController,Y=setTimeout(()=>{M.abort(),ln(k,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:M.signal}).then(ee=>{clearTimeout(Y),ee.ok?ln(k,"TestPingServer: ok",!0,w):ln(k,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Y),ln(k,"TestPingServer: error",!1,w)})}function ln(f,w,k,M,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),M(k)}catch{}}function yo(){this.g=new ao}function si(f){this.i=f.Sb||null,this.h=f.ab||!1}g(si,Gi),si.prototype.g=function(){return new rr(this.i,this.h)};function rr(f,w){ft.call(this),this.H=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(rr,ft),t=rr.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=w,this.readyState=1,Br(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(w.body=f),(this.H||o).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kf(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kf(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?ta(this):Br(this),this.readyState==3&&Kf(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ta(this))},t.Na=function(f){this.g&&(this.response=f,ta(this))},t.ga=function(){this.g&&ta(this)};function ta(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Br(f)}t.setRequestHeader=function(f,w){this.A.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var k=w.next();!k.done;)k=k.value,f.push(k[0]+": "+k[1]),k=w.next();return f.join(`\r
`)};function Br(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Gf(f){let w="";return ne(f,function(k,M){w+=M,w+=":",w+=k,w+=`\r
`}),w}function Gl(f,w,k){e:{for(M in k){var M=!1;break e}M=!0}M||(k=Gf(k),typeof f=="string"?k!=null&&us(k):rt(f,w,k))}function ut(f){ft.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ut,ft);var Hf=/^https?$/i,Hy=["POST","PUT"];t=ut.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,w,k,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vf.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(ee){na(this,ee);return}if(f=k||"",k=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Y in M)k.set(Y,M[Y]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ee of M.keys())k.set(ee,M.get(ee));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(k.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(Hy,w,void 0)>=0)||M||Y||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,he]of k)this.g.setRequestHeader(ee,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){na(this,ee)}};function na(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.o=5,ra(f),ai(f)}function ra(f){f.A||(f.A=!0,Mt(f,"complete"),Mt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Mt(this,"complete"),Mt(this,"abort"),ai(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ii(this):this.Xa())},t.Xa=function(){ii(this)};function ii(f){if(f.h&&typeof i<"u"){if(f.v&&gs(f)==4)setTimeout(f.Ca.bind(f),0);else if(Mt(f,"readystatechange"),gs(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var k;if(!(k=w)){var M;if(M=ee===0){let he=String(f.D).match(Wf)[1]||null;!he&&o.self&&o.self.location&&(he=o.self.location.protocol.slice(0,-1)),M=!Hf.test(he?he.toLowerCase():"")}k=M}if(k)Mt(f,"complete"),Mt(f,"success");else{f.o=6;try{var Y=gs(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",ra(f)}}finally{ai(f)}}}}function ai(f,w){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const k=f.g;f.g=null,w||Mt(f,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function gs(f){return f.g?f.g.readyState:0}t.ca=function(){try{return gs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),Mf(w)}};function Qf(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function nh(f){const w={};f=(f.g&&gs(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(L(f[M]))continue;var k=zl(f[M]);const Y=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ee=w[Y]||[];w[Y]=ee,ee.push(k)}ae(w,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(f,w,k){return k&&k.internalChannelParams&&k.internalChannelParams[f]||w}function Hl(f){this.za=0,this.i=[],this.j=new Yi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ys("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ys("baseRetryDelayMs",5e3,f),this.Za=ys("retryDelaySeedMs",1e4,f),this.Ta=ys("forwardChannelMaxRetries",2,f),this.va=ys("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new $l(f&&f.concurrentRequestLimit),this.Ba=new yo,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Hl.prototype,t.ka=8,t.I=1,t.connect=function(f,w,k,M){Nt(0),this.W=f,this.H=w||{},k&&M!==void 0&&(this.H.OSID=k,this.H.OAID=M),this.F=this.X,this.J=sh(this,null,this.W),oi(this)};function Ql(f){if(Xl(f),f.I==3){var w=f.V++,k=xr(f.J);if(rt(k,"SID",f.M),rt(k,"RID",w),rt(k,"TYPE","terminate"),vs(f,k),w=new wr(f,f.j,w),w.M=2,w.A=ri(xr(k)),k=!1,o.navigator&&o.navigator.sendBeacon)try{k=o.navigator.sendBeacon(w.A.toString(),"")}catch{}!k&&o.Image&&(new Image().src=w.A,k=!0),k||(w.g=Yf(w.j,null),w.g.ea(w.A)),w.F=Date.now(),lo(w)}wo(f)}function sr(f){f.g&&(bo(f),f.g.cancel(),f.g=null)}function Xl(f){sr(f),f.v&&(o.clearTimeout(f.v),f.v=null),Yl(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function oi(f){if(!Kc(f.h)&&!f.m){f.m=!0;var w=f.Ea;B||C(),G||(B(),G=!0),D.add(w,f),f.D=0}}function Xf(f,w){return co(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=w.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Xi(d(f.Ea,f,w),Zl(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new wr(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=K(ee),pe(ee,this.U)):ee=this.U),this.u!==null||this.R||(Y.J=ee,ee=null),this.S)e:{for(var w=0,k=0;k<this.i.length;k++){t:{var M=this.i[k];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,w>4096){w=k;break e}if(w===4096||k===this.i.length-1){w=k+1;break e}}w=1e3}else w=1e3;w=rh(this,Y,w),k=xr(this.J),rt(k,"RID",f),rt(k,"CVER",22),this.G&&rt(k,"X-HTTP-Session-Id",this.G),vs(this,k),ee&&(this.R?w="headers="+us(Gf(ee))+"&"+w:this.u&&Gl(k,this.u,ee)),ql(this.h,Y),this.Ra&&rt(k,"TYPE","init"),this.S?(rt(k,"$req",w),rt(k,"SID","null"),Y.U=!0,zr(Y,k,null)):zr(Y,k,w),this.I=2}}else this.I==3&&(f?vo(this,f):this.i.length==0||Kc(this.h)||vo(this))};function vo(f,w){var k;w?k=w.l:k=f.V++;const M=xr(f.J);rt(M,"SID",f.M),rt(M,"RID",k),rt(M,"AID",f.K),vs(f,M),f.u&&f.o&&Gl(M,f.u,f.o),k=new wr(f,f.j,k,f.D+1),f.u===null&&(k.J=f.o),w&&(f.i=w.G.concat(f.i)),w=rh(f,k,1e3),k.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ql(f.h,k),zr(k,M,w)}function vs(f,w){f.H&&ne(f.H,function(k,M){rt(w,M,k)}),f.l&&ne({},function(k,M){rt(w,M,k)})}function rh(f,w,k){k=Math.min(f.i.length,k);const M=f.l?d(f.l.Ka,f.l,f):null;e:{var Y=f.i;let Be=-1;for(;;){const Ot=["count="+k];Be==-1?k>0?(Be=Y[0].g,Ot.push("ofs="+Be)):Be=0:Ot.push("ofs="+Be);let ct=!0;for(let Wt=0;Wt<k;Wt++){var ee=Y[Wt].g;const ar=Y[Wt].map;if(ee-=Be,ee<0)Be=Math.max(0,Y[Wt].g-100),ct=!1;else try{ee="req"+ee+"_"||"";try{var he=ar instanceof Map?ar:Object.entries(ar);for(const[aa,ws]of he){let xs=ws;u(ws)&&(xs=Ki(ws)),Ot.push(ee+aa+"="+encodeURIComponent(xs))}}catch(aa){throw Ot.push(ee+"type="+encodeURIComponent("_badmap")),aa}}catch{M&&M(ar)}}if(ct){he=Ot.join("&");break e}}he=void 0}return f=f.i.splice(0,k),w.G=f,he}function bn(f){if(!f.g&&!f.v){f.Y=1;var w=f.Da;B||C(),G||(B(),G=!0),D.add(w,f),f.A=0}}function bs(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Xi(d(f.Da,f),Zl(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,sa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Xi(d(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),sr(this),sa(this))};function bo(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function sa(f){f.g=new wr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var w=xr(f.na);rt(w,"RID","rpc"),rt(w,"SID",f.M),rt(w,"AID",f.K),rt(w,"CI",f.F?"0":"1"),!f.F&&f.ia&&rt(w,"TO",f.ia),rt(w,"TYPE","xmlhttp"),vs(f,w),f.u&&f.o&&Gl(w,f.u,f.o),f.O&&(f.g.H=f.O);var k=f.g;f=f.ba,k.M=1,k.A=ri(xr(w)),k.u=null,k.R=!0,qc(k,f)}t.Va=function(){this.C!=null&&(this.C=null,sr(this),bs(this),Nt(19))};function Yl(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function Jl(f,w){var k=null;if(f.g==w){Yl(f),bo(f),f.g=null;var M=2}else if(Gc(f.h,w))k=w.G,ho(f.h,w),M=1;else return;if(f.I!=0){if(w.o)if(M==1){k=w.u?w.u.length:0,w=Date.now()-w.F;var Y=f.D;M=Qi(),Mt(M,new Bc(M,k)),oi(f)}else bn(f);else if(Y=w.m,Y==3||Y==0&&w.X>0||!(M==1&&Xf(f,w)||M==2&&bs(f)))switch(k&&k.length>0&&(w=f.h,w.i=w.i.concat(k)),Y){case 1:ir(f,5);break;case 4:ir(f,10);break;case 3:ir(f,6);break;default:ir(f,2)}}}function Zl(f,w){let k=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(k*=2),k*w}function ir(f,w){if(f.j.info("Error code "+w),w==2){var k=d(f.bb,f),M=f.Ua;const Y=!M;M=new cs(M||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||fo(M,"https"),ri(M),Y?ps(M.toString(),k):ms(M.toString(),k)}else Nt(2);f.I=0,f.l&&f.l.pa(w),wo(f),Xl(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function wo(f){if(f.I=0,f.ja=[],f.l){const w=tr(f.h);(w.length!=0||f.i.length!=0)&&(_(f.ja,w),_(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function sh(f,w,k){var M=k instanceof cs?xr(k):new cs(k);if(M.g!="")w&&(M.g=w+"."+M.g),hs(M,M.u);else{var Y=o.location;M=Y.protocol,w=w?w+"."+Y.hostname:Y.hostname,Y=+Y.port;const ee=new cs(null);M&&fo(ee,M),w&&(ee.g=w),Y&&hs(ee,Y),k&&(ee.h=k),M=ee}return k=f.G,w=f.wa,k&&w&&rt(M,k,w),rt(M,"VER",f.ka),vs(f,M),M}function Yf(f,w,k){if(w&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Aa&&!f.ma?new ut(new si({ab:k})):new ut(f.ma),w.Fa(f.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jf(){}t=Jf.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function eu(){}eu.prototype.g=function(f,w){return new un(f,w)};function un(f,w){ft.call(this),this.g=new Hl(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(f?f["X-WebChannel-Client-Profile"]=w.sa:f={"X-WebChannel-Client-Profile":w.sa}),this.g.U=f,(f=w&&w.Qb)&&!L(f)&&(this.g.u=f),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!L(w)&&(this.g.G=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new ia(this)}g(un,ft),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Ql(this.g)},un.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var k={};k.__data__=f,f=k}else this.v&&(k={},k.__data__=Ki(f),f=k);w.i.push(new Ky(w.Ya++,f)),w.I==3&&oi(w)},un.prototype.N=function(){this.g.l=null,delete this.j,Ql(this.g),delete this.g,un.Z.N.call(this)};function Zf(f){Fl.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const k in w){f=k;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}g(Zf,Fl);function ep(){zc.call(this),this.status=1}g(ep,zc);function ia(f){this.g=f}g(ia,Jf),ia.prototype.ra=function(){Mt(this.g,"a")},ia.prototype.qa=function(f){Mt(this.g,new Zf(f))},ia.prototype.pa=function(f){Mt(this.g,new ep)},ia.prototype.oa=function(){Mt(this.g,"b")},eu.prototype.createWebChannel=eu.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,U2=function(){return new eu},V2=function(){return Qi()},F2=Ur,Ab={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,Im=Ji,Zi.COMPLETE="complete",j2=Zi,Of.EventType=Hi,Hi.OPEN="a",Hi.CLOSE="b",Hi.ERROR="c",Hi.MESSAGE="d",ft.prototype.listen=ft.prototype.J,nd=Of,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,L2=ut}).apply(typeof Qp<"u"?Qp:typeof self<"u"?self:typeof window<"u"?window:{});const kT="@firebase/firestore",TT="4.9.2";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let pn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Tc="12.3.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pl=new Gg("@firebase/firestore");function Bu(){return pl.logLevel}function le(t,...e){if(pl.logLevel<=Ge.DEBUG){const n=e.map(hx);pl.debug(`Firestore (${Tc}): ${t}`,...n)}}function Pn(t,...e){if(pl.logLevel<=Ge.ERROR){const n=e.map(hx);pl.error(`Firestore (${Tc}): ${t}`,...n)}}function ml(t,...e){if(pl.logLevel<=Ge.WARN){const n=e.map(hx);pl.warn(`Firestore (${Tc}): ${t}`,...n)}}function hx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(t)}catch{return t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,z2(t,r,n)}function z2(t,e,n){let r=`FIRESTORE (${Tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Pn(r),new Error(r)}function Ie(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||z2(e,s,r)}function Ve(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Os{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class B2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class M6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class O6{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let i=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Os,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const h=i;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Os)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new B2(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class L6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new L6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _T{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _T(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _T(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function V6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=V6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function Rb(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return E0(s)===E0(i)?Fe(s,i):E0(s)?1:-1}return Fe(t.length,e.length)}const U6=55296,z6=57343;function E0(t){const e=t.charCodeAt(0);return e>=U6&&e<=z6}function oc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function $2(t){return t+"\0"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const IT="__name__";class Cs{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Cs.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Fe(e.length,n.length)}static compareSegments(e,n){const r=Cs.isNumericId(e),s=Cs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Cs.extractNumericId(e).compare(Cs.extractNumericId(n)):Rb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ua.fromString(e.substring(4,e.length-2))}}class st extends Cs{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const B6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends Cs{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return B6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IT}static keyField(){return new Tt([IT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(r+=u,s++):(i(),s++)}if(i(),o)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class de{constructor(e){this.path=e}static fromPath(e){return new de(st.fromString(e))}static fromName(e){return new de(st.fromString(e).popFirst(5))}static empty(){return new de(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new st(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function q2(t,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $6(t,e,n,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CT(t){if(!de.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NT(t){if(de.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function W2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function On(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zg(t);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function lf(t,e){if(!W2(t))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const AT=-62135596800,RT=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*RT);return new He(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<AT)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RT}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lf(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-AT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:Qt("string",He._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new He(0,0))}static max(){return new Ne(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cd=-1;class og{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function Pb(t){return t.fields.find((e=>e.kind===2))}function Wo(t){return t.fields.filter((e=>e.kind!==2))}og.UNKNOWN_ID=-1;class Cm{constructor(e,n){this.fieldPath=e,this.kind=n}}class Nd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Nd(0,yr.min())}}function q6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new yr(s,de.empty(),e)}function K2(t){return new yr(t.readTime,t.key,Cd)}class yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yr(Ne.min(),de.empty(),Cd)}static max(){return new yr(Ne.max(),de.empty(),Cd)}}function fx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const G2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Al(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==G2)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let s=0,i=0,o=!1;e.forEach((u=>{++s,u.next((()=>{++i,o&&i===s&&n()}),(h=>r(h)))})),o=!0,i===s&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((s=>s?Q.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,s)=>{const i=e.length,o=new Array(i);let u=0;for(let h=0;h<i;h++){const d=h;n(e[d]).next((m=>{o[d]=m,++u,u===i&&r(o)}),(m=>s(m)))}}))}static doWhile(e,n){return new Q(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hr="SimpleDb";class ey{static open(e,n,r,s){try{return new ey(n,e.transaction(s,r))}catch(i){throw new hd(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Os,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new hd(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=px(r.target.error);this.S.reject(new hd(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(hr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new K6(n)}}class za{static delete(e){return le(hr,"Removing database:",e),Xo(VN().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Kg())return!1;if(za.F())return!0;const e=en(),n=za.M(e),r=0<n&&n<10,s=Q2(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,za.M(en())===12.2&&Pn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(hr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new hd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new ce(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ce(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new hd(e,o))},s.onupgradeneeded=i=>{le(hr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.N.k(o,s.transaction,i.oldVersion,this.version).next((()=>{le(hr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.L(e);const u=ey.open(this.db,e,i?"readonly":"readwrite",r),h=s(u).next((d=>(u.C(),d))).catch((d=>(u.abort(d),Q.reject(d)))).toPromise();return h.catch((()=>{})),await u.D,h}catch(u){const h=u,d=h.name!=="FirebaseError"&&o<3;if(le(hr,"Transaction failed with error:",h.message,"Retrying:",d),this.close(),!d)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Q2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class W6{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Xo(this.U.delete())}}class hd extends ce{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function no(t){return t.name==="IndexedDbTransactionError"}class K6{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(le(hr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(le(hr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xo(r)}add(e){return le(hr,"ADD",this.store.name,e,e),Xo(this.store.add(e))}get(e){return Xo(this.store.get(e)).next((n=>(n===void 0&&(n=null),le(hr,"GET",this.store.name,e,n),n)))}delete(e){return le(hr,"DELETE",this.store.name,e),Xo(this.store.delete(e))}count(){return le(hr,"COUNT",this.store.name),Xo(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Q(((o,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{o(h.target.result)}}))}{const i=this.cursor(r),o=[];return this.H(i,((u,h)=>{o.push(h)})).next((()=>o))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}}))}Z(e,n){le(hr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,((i,o,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new Q(((r,s)=>{n.onerror=i=>{const o=px(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next((u=>{u?o.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const u=o.target.result;if(!u)return void s();const h=new W6(u),d=n(u.primaryKey,u.value,h);if(d instanceof Q){const m=d.catch((g=>(h.done(),Q.reject(g))));r.push(m)}h.isDone?s():h.G===null?u.continue():u.continue(h.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Xo(t){return new Q(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=px(r.target.error);n(s)}}))}let PT=!1;function px(t){const e=za.M(en());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return PT||(PT=!0,setTimeout((()=>{throw r}),0)),r}}return t}const dd="IndexBackfiller";class G6{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(dd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();le(dd,`Documents written: ${n}`)}catch(n){no(n)?le(dd,"Ignoring IndexedDB error during index backfill: ",n):await Al(n)}await this.re(6e4)}))}}class H6{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let s=n,i=!0;return Q.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((o=>{if(o!==null&&!r.has(o))return le(dd,`Processing collection: ${o}`),this.oe(e,o,s).next((u=>{s-=u,r.add(o)}));i=!1})))).next((()=>n-s))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next((()=>this._e(s,i))).next((u=>(le(dd,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>o.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((s,i)=>{const o=K2(i);fx(o,r)>0&&(r=o)})),new yr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pr.ce=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const il=-1;function ty(t){return t==null}function Ad(t){return t===0&&1/t==-1/0}function Q6(t){return typeof t=="number"&&Number.isInteger(t)&&!Ad(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lg="";function Nn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=DT(e)),e=X6(t.get(n),e);return DT(e)}function X6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case lg:n+="";break;default:n+=i}}return n}function DT(t){return t+lg+""}function As(t){const e=t.length;if(Ie(e>=2,64408,{path:t}),e===2)return Ie(t.charAt(0)===lg&&t.charAt(1)==="",56145,{path:t}),st.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf(lg,i);switch((o<0||o>n)&&ke(50515,{path:t}),t.charAt(o+1)){case"":const u=t.substring(i,o);let h;s.length===0?h=u:(s+=u,h=s,s=""),r.push(h);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:ke(61167,{path:t})}i=o+2}return new st(r)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ko="remoteDocuments",uf="owner",Eu="owner",Rd="mutationQueues",Y6="userId",Yr="mutations",MT="batchId",el="userMutationsIndex",OT=["userId","batchId"];/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Nm(t,e){return[t,Nn(e)]}function X2(t,e,n){return[t,Nn(e),n]}const J6={},lc="documentMutations",ug="remoteDocumentsV14",Z6=["prefixPath","collectionGroup","readTime","documentId"],Am="documentKeyIndex",eV=["prefixPath","collectionGroup","documentId"],Y2="collectionGroupIndex",tV=["collectionGroup","readTime","prefixPath","documentId"],Pd="remoteDocumentGlobal",Db="remoteDocumentGlobalKey",uc="targets",J2="queryTargetsIndex",nV=["canonicalId","targetId"],cc="targetDocuments",rV=["targetId","path"],mx="documentTargetsIndex",sV=["path","targetId"],cg="targetGlobalKey",al="targetGlobal",Dd="collectionParents",iV=["collectionId","parent"],hc="clientMetadata",aV="clientId",ny="bundles",oV="bundleId",ry="namedQueries",lV="name",gx="indexConfiguration",uV="indexId",Mb="collectionGroupIndex",cV="collectionGroup",fd="indexState",hV=["indexId","uid"],Z2="sequenceNumberIndex",dV=["uid","sequenceNumber"],pd="indexEntries",fV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],eA="documentKeyIndex",pV=["indexId","uid","orderedDocumentKey"],sy="documentOverlays",mV=["userId","collectionPath","documentId"],Ob="collectionPathOverlayIndex",gV=["userId","collectionPath","largestBatchId"],tA="collectionGroupOverlayIndex",yV=["userId","collectionGroup","largestBatchId"],yx="globals",vV="name",nA=[Rd,Yr,lc,Ko,uc,uf,al,cc,hc,Pd,Dd,ny,ry],bV=[...nA,sy],rA=[Rd,Yr,lc,ug,uc,uf,al,cc,hc,Pd,Dd,ny,ry,sy],sA=rA,vx=[...sA,gx,fd,pd],wV=vx,iA=[...vx,yx],xV=iA;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lb extends H2{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function tn(t,e){const n=Ve(t);return za.O(n.le,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function LT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ro(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Et{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xp(this.root,e,this.comparator,!0)}}class Xp{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??mn.RED,this.left=s??mn.EMPTY,this.right=i??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new mn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return mn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(t,e,n,r,s){return this}insert(t,e,n){return new mn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ot{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jT(this.data.getIterator())}getIteratorFrom(e){return new jT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class jT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Su(t){return t.hasNext()?t.getNext():void 0}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yn{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new ot(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class oA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new oA("Invalid base64 string: "+s):s}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const EV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=EV.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ai(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const lA="server_timestamp",uA="__type__",cA="__previous_value__",hA="__local_write_time__";function bx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[uA])==null?void 0:n.stringValue)===lA}function iy(t){const e=t.mapValue.fields[cA];return bx(e)?iy(e):e}function Md(t){const e=Ni(t.mapValue.fields[hA].timestampValue);return new He(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class SV{constructor(e,n,r,s,i,o,u,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m}}const hg="(default)";class gl{constructor(e,n){this.projectId=e,this.database=n||hg}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database===hg}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wx="__type__",dA="__max__",ja={mapValue:{fields:{__type__:{stringValue:dA}}}},xx="__vector__",dc="value",Rm={nullValue:"NULL_VALUE"};function Wa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bx(t)?4:fA(t)?9007199254740991:ay(t)?10:11:ke(28295,{value:t})}function zs(t,e){if(t===e)return!0;const n=Wa(t);if(n!==Wa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Md(t).isEqual(Md(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Ni(r.timestampValue),o=Ni(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,s){return Ai(r.bytesValue).isEqual(Ai(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,s){return wt(r.geoPointValue.latitude)===wt(s.geoPointValue.latitude)&&wt(r.geoPointValue.longitude)===wt(s.geoPointValue.longitude)})(t,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return wt(r.integerValue)===wt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=wt(r.doubleValue),o=wt(s.doubleValue);return i===o?Ad(i)===Ad(o):isNaN(i)&&isNaN(o)}return!1})(t,e);case 9:return oc(t.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:case 11:return(function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(LT(i)!==LT(o))return!1;for(const u in i)if(i.hasOwnProperty(u)&&(o[u]===void 0||!zs(i[u],o[u])))return!1;return!0})(t,e);default:return ke(52216,{left:t})}}function Od(t,e){return(t.values||[]).find((n=>zs(n,e)))!==void 0}function Ka(t,e){if(t===e)return 0;const n=Wa(t),r=Wa(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(s,i){const o=wt(s.integerValue||s.doubleValue),u=wt(i.integerValue||i.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1})(t,e);case 3:return FT(t.timestampValue,e.timestampValue);case 4:return FT(Md(t),Md(e));case 5:return Rb(t.stringValue,e.stringValue);case 6:return(function(s,i){const o=Ai(s),u=Ai(i);return o.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,i){const o=s.split("/"),u=i.split("/");for(let h=0;h<o.length&&h<u.length;h++){const d=Fe(o[h],u[h]);if(d!==0)return d}return Fe(o.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,i){const o=Fe(wt(s.latitude),wt(i.latitude));return o!==0?o:Fe(wt(s.longitude),wt(i.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return VT(t.arrayValue,e.arrayValue);case 10:return(function(s,i){var o,u,h,d;const m=s.fields||{},g=i.fields||{},v=(o=m[dc])==null?void 0:o.arrayValue,S=(u=g[dc])==null?void 0:u.arrayValue,_=Fe(((h=v==null?void 0:v.values)==null?void 0:h.length)||0,((d=S==null?void 0:S.values)==null?void 0:d.length)||0);return _!==0?_:VT(v,S)})(t.mapValue,e.mapValue);case 11:return(function(s,i){if(s===ja.mapValue&&i===ja.mapValue)return 0;if(s===ja.mapValue)return 1;if(i===ja.mapValue)return-1;const o=s.fields||{},u=Object.keys(o),h=i.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const g=Rb(u[m],d[m]);if(g!==0)return g;const v=Ka(o[u[m]],h[d[m]]);if(v!==0)return v}return Fe(u.length,d.length)})(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function FT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Ni(t),r=Ni(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function VT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ka(n[s],r[s]);if(i)return i}return Fe(n.length,r.length)}function fc(t){return jb(t)}function jb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(e){const n=Ni(e);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(e){return Ai(e).toBase64()})(t.bytesValue):"referenceValue"in t?(function(e){return de.fromName(e).toString()})(t.referenceValue):"geoPointValue"in t?(function(e){return`geo(${e.latitude},${e.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(e){let n="[",r=!0;for(const s of e.values||[])r?r=!1:n+=",",n+=jb(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(e){const n=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const i of n)s?s=!1:r+=",",r+=`${i}:${jb(e.fields[i])}`;return r+"}"})(t.mapValue):ke(61005,{value:t})}function Pm(t){switch(Wa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=iy(t);return e?16+Pm(e):16;case 5:return 2*t.stringValue.length;case 6:return Ai(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((r,s)=>r+Pm(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let r=0;return ro(n.fields,((s,i)=>{r+=s.length+Pm(i)})),r})(t.mapValue);default:throw ke(13486,{value:t})}}function Ld(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fb(t){return!!t&&"integerValue"in t}function jd(t){return!!t&&"arrayValue"in t}function UT(t){return!!t&&"nullValue"in t}function zT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dm(t){return!!t&&"mapValue"in t}function ay(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[wx])==null?void 0:n.stringValue)===xx}function md(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ro(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=md(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=md(t.arrayValue.values[n]);return e}return{...t}}function fA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dA}const pA={mapValue:{fields:{[wx]:{stringValue:xx},[dc]:{arrayValue:{}}}}};function kV(t){return"nullValue"in t?Rm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ld(gl.empty(),de.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?ay(t)?pA:{mapValue:{}}:ke(35942,{value:t})}function TV(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ld(gl.empty(),de.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?pA:"mapValue"in t?ay(t)?{mapValue:{}}:ja:ke(61959,{value:t})}function BT(t,e){const n=Ka(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function $T(t,e){const n=Ka(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=md(n)}setAll(e){let n=Tt.emptyPath(),r={},s=[];e.forEach(((o,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=u.popLast()}o?r[u.lastSegment()]=md(o):s.push(u.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Dm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Dm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ro(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new _n(md(this.value))}}function mA(t){const e=[];return ro(t.fields,((n,r)=>{const s=new Tt([n]);if(Dm(r)){const i=mA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new Yn(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pt{constructor(e,n,r,s,i,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Pt(e,0,Ne.min(),Ne.min(),Ne.min(),_n.empty(),0)}static newFoundDocument(e,n,r,s){return new Pt(e,1,n,Ne.min(),r,s,0)}static newNoDocument(e,n){return new Pt(e,2,n,Ne.min(),Ne.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,Ne.min(),Ne.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pc{constructor(e,n){this.position=e,this.inclusive=n}}function qT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=Ka(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function WT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zs(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fd{constructor(e,n="asc"){this.field=e,this.dir=n}}function _V(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gA{}class Qe extends gA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IV(e,n,r):n==="array-contains"?new AV(e,r):n==="in"?new EA(e,r):n==="not-in"?new RV(e,r):n==="array-contains-any"?new PV(e,r):new Qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CV(e,r):new NV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ka(n,this.value)):n!==null&&Wa(this.value)===Wa(n)&&this.matchesComparison(Ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class at extends gA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new at(e,n)}matches(e){return mc(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mc(t){return t.op==="and"}function Vb(t){return t.op==="or"}function Ex(t){return yA(t)&&mc(t)}function yA(t){for(const e of t.filters)if(e instanceof at)return!1;return!0}function Ub(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+fc(t.value);if(Ex(t))return t.filters.map((e=>Ub(e))).join(",");{const e=t.filters.map((n=>Ub(n))).join(",");return`${t.op}(${e})`}}function vA(t,e){return t instanceof Qe?(function(n,r){return r instanceof Qe&&n.op===r.op&&n.field.isEqual(r.field)&&zs(n.value,r.value)})(t,e):t instanceof at?(function(n,r){return r instanceof at&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce(((s,i,o)=>s&&vA(i,r.filters[o])),!0):!1})(t,e):void ke(19439)}function bA(t,e){const n=t.filters.concat(e);return at.create(n,t.op)}function wA(t){return t instanceof Qe?(function(e){return`${e.field.canonicalString()} ${e.op} ${fc(e.value)}`})(t):t instanceof at?(function(e){return e.op.toString()+" {"+e.getFilters().map(wA).join(" ,")+"}"})(t):"Filter"}class IV extends Qe{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class CV extends Qe{constructor(e,n){super(e,"in",n),this.keys=xA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class NV extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=xA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function xA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>de.fromName(r.referenceValue)))}class AV extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jd(n)&&Od(n.arrayValue,this.value)}}class EA extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Od(this.value.arrayValue,n)}}class RV extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Od(this.value.arrayValue,n)}}class PV extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Od(this.value.arrayValue,r)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class DV{constructor(e,n=null,r=[],s=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=u,this.Te=null}}function zb(t,e=null,n=[],r=[],s=null,i=null,o=null){return new DV(t,e,n,r,s,i,o)}function yl(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ub(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),ty(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>fc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>fc(r))).join(",")),e.Te=n}return e.Te}function cf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_V(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WT(t.startAt,e.startAt)&&WT(t.endAt,e.endAt)}function dg(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function fg(t,e){return t.filters.filter((n=>n instanceof Qe&&n.field.isEqual(e)))}function KT(t,e,n){let r=Rm,s=!0;for(const i of fg(t,e)){let o=Rm,u=!0;switch(i.op){case"<":case"<=":o=kV(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,u=!1;break;case"!=":case"not-in":o=Rm}BT({value:r,inclusive:s},{value:o,inclusive:u})<0&&(r=o,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];BT({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function GT(t,e,n){let r=ja,s=!0;for(const i of fg(t,e)){let o=ja,u=!0;switch(i.op){case">=":case">":o=TV(i.value),u=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,u=!1;break;case"!=":case"not-in":o=ja}$T({value:r,inclusive:s},{value:o,inclusive:u})>0&&(r=o,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];$T({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _c{constructor(e,n=null,r=[],s=[],i=null,o="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MV(t,e,n,r,s,i,o,u){return new _c(t,e,n,r,s,i,o,u)}function hf(t){return new _c(t)}function HT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SA(t){return t.collectionGroup!==null}function gd(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let i=new ot(Tt.comparator);return s.filters.forEach((o=>{o.getFlattenedFilters().forEach((u=>{u.isInequality()&&(i=i.add(u.field))}))})),i})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Fd(s,r))})),n.has(Tt.keyField().canonicalString())||e.Ie.push(new Fd(Tt.keyField(),r))}return e.Ie}function Mr(t){const e=Ve(t);return e.Ee||(e.Ee=OV(e,gd(t))),e.Ee}function OV(t,e){if(t.limitType==="F")return zb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Fd(s.field,i)}));const n=t.endAt?new pc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pc(t.startAt.position,t.startAt.inclusive):null;return zb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bb(t,e){const n=t.filters.concat([e]);return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pg(t,e,n){return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oy(t,e){return cf(Mr(t),Mr(e))&&t.limitType===e.limitType}function kA(t){return`${yl(Mr(t))}|lt:${t.limitType}`}function $u(t){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((r=>wA(r))).join(", ")}]`),ty(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((r=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(r))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>fc(r))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>fc(r))).join(",")),`Target(${n})`})(Mr(t))}; limitType=${t.limitType})`}function df(t,e){return e.isFoundDocument()&&(function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):de.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,r){for(const s of gd(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0})(t,e)&&(function(n,r){return!(n.startAt&&!(function(s,i,o){const u=qT(s,i,o);return s.inclusive?u<=0:u<0})(n.startAt,gd(n),r)||n.endAt&&!(function(s,i,o){const u=qT(s,i,o);return s.inclusive?u>=0:u>0})(n.endAt,gd(n),r))})(t,e)}function LV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TA(t){return(e,n)=>{let r=!1;for(const s of gd(t)){const i=jV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function jV(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):(function(s,i,o){const u=i.data.field(s),h=o.data.field(s);return u!==null&&h!==null?Ka(u,h):ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:t.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ro(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return aA(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const FV=new Et(de.comparator);function pr(){return FV}const _A=new Et(de.comparator);function rd(...t){let e=_A;for(const n of t)e=e.insert(n.key,n);return e}function IA(t){let e=_A;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Rs(){return yd()}function CA(){return yd()}function yd(){return new Vi((t=>t.toString()),((t,e)=>t.isEqual(e)))}const VV=new Et(de.comparator),UV=new ot(de.comparator);function We(...t){let e=UV;for(const n of t)e=e.add(n);return e}const zV=new ot(Fe);function BV(){return zV}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Sx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ad(e)?"-0":e}}function NA(t){return{integerValue:""+t}}function $V(t,e){return Q6(e)?NA(e):Sx(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ly{constructor(){this._=void 0}}function qV(t,e,n){return t instanceof gc?(function(r,s){const i={fields:{[uA]:{stringValue:lA},[hA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&bx(s)&&(s=iy(s)),s&&(i.fields[cA]=s),{mapValue:i}})(n,e):t instanceof yc?RA(t,e):t instanceof vc?PA(t,e):(function(r,s){const i=AA(r,s),o=QT(i)+QT(r.Ae);return Fb(i)&&Fb(r.Ae)?NA(o):Sx(r.serializer,o)})(t,e)}function WV(t,e,n){return t instanceof yc?RA(t,e):t instanceof vc?PA(t,e):n}function AA(t,e){return t instanceof Vd?(function(n){return Fb(n)||(function(r){return!!r&&"doubleValue"in r})(n)})(e)?e:{integerValue:0}:null}class gc extends ly{}class yc extends ly{constructor(e){super(),this.elements=e}}function RA(t,e){const n=DA(e);for(const r of t.elements)n.some((s=>zs(s,r)))||n.push(r);return{arrayValue:{values:n}}}class vc extends ly{constructor(e){super(),this.elements=e}}function PA(t,e){let n=DA(e);for(const r of t.elements)n=n.filter((s=>!zs(s,r)));return{arrayValue:{values:n}}}class Vd extends ly{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function QT(t){return wt(t.integerValue||t.doubleValue)}function DA(t){return jd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MA{constructor(e,n){this.field=e,this.transform=n}}function KV(t,e){return t.field.isEqual(e.field)&&(function(n,r){return n instanceof yc&&r instanceof yc||n instanceof vc&&r instanceof vc?oc(n.elements,r.elements,zs):n instanceof Vd&&r instanceof Vd?zs(n.Ae,r.Ae):n instanceof gc&&r instanceof gc})(t.transform,e.transform)}class GV{constructor(e,n){this.version=e,this.transformResults=n}}class In{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let uy=class{};function OA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cy(t.key,In.none()):new Ic(t.key,t.data,In.none());{const n=t.data,r=_n.empty();let s=new ot(Tt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ui(t.key,r,new Yn(s.toArray()),In.none())}}function HV(t,e,n){t instanceof Ic?(function(r,s,i){const o=r.value.clone(),u=YT(r.fieldTransforms,s,i.transformResults);o.setAll(u),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()})(t,e,n):t instanceof Ui?(function(r,s,i){if(!Mm(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=YT(r.fieldTransforms,s,i.transformResults),u=s.data;u.setAll(LA(r)),u.setAll(o),s.convertToFoundDocument(i.version,u).setHasCommittedMutations()})(t,e,n):(function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()})(0,e,n)}function vd(t,e,n,r){return t instanceof Ic?(function(s,i,o,u){if(!Mm(s.precondition,i))return o;const h=s.value.clone(),d=JT(s.fieldTransforms,u,i);return h.setAll(d),i.convertToFoundDocument(i.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ui?(function(s,i,o,u){if(!Mm(s.precondition,i))return o;const h=JT(s.fieldTransforms,u,i),d=i.data;return d.setAll(LA(s)),d.setAll(h),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,i,o){return Mm(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o})(t,e,n)}function QV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=AA(r.transform,s||null);i!=null&&(n===null&&(n=_n.empty()),n.set(r.field,i))}return n||null}function XT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&oc(n,r,((s,i)=>KV(s,i)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ic extends uy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ui extends uy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function LA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function YT(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,u=e.data.field(i.field);r.set(i.field,WV(o,u,n[s]))}return r}function JT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,qV(i,o,e))}return r}class cy extends uy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jA extends uy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kx{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&HV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CA();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=n.has(s.key)?null:u;const h=OA(o,u);h!==null&&r.set(s.key,h),o.isValidDocument()||o.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&oc(this.mutations,e.mutations,((n,r)=>XT(n,r)))&&oc(this.baseMutations,e.baseMutations,((n,r)=>XT(n,r)))}}class Tx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return VV})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Tx(e,n,r,s)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _x{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class XV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Gt,Ye;function YV(t){switch(t){case te.OK:return ke(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function FA(t){if(t===void 0)return Pn("GRPC error has no .code"),te.UNKNOWN;switch(t){case Gt.OK:return te.OK;case Gt.CANCELLED:return te.CANCELLED;case Gt.UNKNOWN:return te.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return te.INTERNAL;case Gt.UNAVAILABLE:return te.UNAVAILABLE;case Gt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Gt.NOT_FOUND:return te.NOT_FOUND;case Gt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Gt.ABORTED:return te.ABORTED;case Gt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Gt.DATA_LOSS:return te.DATA_LOSS;default:return ke(39323,{code:t})}}(Ye=Gt||(Gt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function JV(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ZV=new Ua([4294967295,4294967295],0);function ZT(t){const e=JV().encode(t),n=new O2;return n.update(e),new Uint8Array(n.digest())}function e_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ua([n,r],0),new Ua([s,i],0)]}class Ix{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sd(`Invalid padding: ${n}`);if(r<0)throw new sd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ua.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ua.fromNumber(r)));return s.compare(ZV)===1&&(s=new Ua([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ZT(e),[r,s]=e_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ix(i,s,n);return r.forEach((u=>o.insert(u))),o}insert(e){if(this.ge===0)return;const n=ZT(e),[r,s]=e_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ff.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hy(Ne.min(),s,new Et(Fe),pr(),We())}}class ff{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ff(r,n,We(),We(),We())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Om{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class VA{constructor(e,n){this.targetId=e,this.Ce=n}}class UA{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class t_{constructor(){this.ve=0,this.Fe=n_(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),r=We();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ke(38017,{changeType:i})}})),new ff(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=n_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class e9{constructor(e){this.Ge=e,this.ze=new Map,this.je=pr(),this.Je=Yp(),this.He=Yp(),this.Ye=new Et(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(dg(i))if(r===0){const o=new de(i.path);this.et(n,o,Pt.newNoDocument(o,Ne.min()))}else Ie(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const u=this.ut(e),h=u?this.ct(u,e,o):1;if(h!==0){this.it(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,u;try{o=Ai(r).toUint8Array()}catch(h){if(h instanceof oA)return ml("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Ix(o,s,i)}catch(h){return ml(h instanceof sd?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const u=this.ot(o);if(u){if(i.current&&dg(u.target)){const h=new de(u.target.path);this.It(h).has(o)||this.Et(o,h)||this.et(o,h,Pt.newNoDocument(h,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=We();this.He.forEach(((i,o)=>{let u=!0;o.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new hy(e,n,this.Ye,this.je,r);return this.je=pr(),this.Je=Yp(),this.He=Yp(),this.Ye=new Et(Fe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new t_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ot(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ot(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new t_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Yp(){return new Et(de.comparator)}function n_(){return new Et(de.comparator)}const t9={asc:"ASCENDING",desc:"DESCENDING"},n9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r9={and:"AND",or:"OR"};class s9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $b(t,e){return t.useProto3Json||ty(e)?e:{value:e}}function bc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function i9(t,e){return bc(t,e.toTimestamp())}function Ln(t){return Ie(!!t,49232),Ne.fromTimestamp((function(e){const n=Ni(e);return new He(n.seconds,n.nanos)})(t))}function Cx(t,e){return qb(t,e).canonicalString()}function qb(t,e){const n=(function(r){return new st(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function BA(t){const e=st.fromString(t);return Ie(YA(e),10190,{key:e.toString()}),e}function mg(t,e){return Cx(t.databaseId,e.path)}function ol(t,e){const n=BA(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(WA(n))}function $A(t,e){return Cx(t.databaseId,e)}function qA(t){const e=BA(t);return e.length===4?st.emptyPath():WA(e)}function Wb(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WA(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function r_(t,e,n){return{name:mg(t,e),fields:n.value.mapValue.fields}}function a9(t,e,n){const r=ol(t,e.name),s=Ln(e.updateTime),i=e.createTime?Ln(e.createTime):Ne.min(),o=new _n({mapValue:{fields:e.fields}}),u=Pt.newFoundDocument(r,s,i,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function o9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ke(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(h,d){return h.useProto3Json?(Ie(d===void 0||typeof d=="string",58123),Xt.fromBase64String(d||"")):(Ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Xt.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(h){const d=h.code===void 0?te.UNKNOWN:FA(h.code);return new ce(d,h.message||"")})(o);n=new UA(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ol(t,r.document.name),i=Ln(r.document.updateTime),o=r.document.createTime?Ln(r.document.createTime):Ne.min(),u=new _n({mapValue:{fields:r.document.fields}}),h=Pt.newFoundDocument(s,i,o,u),d=r.targetIds||[],m=r.removedTargetIds||[];n=new Om(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ol(t,r.document),i=r.readTime?Ln(r.readTime):Ne.min(),o=Pt.newNoDocument(s,i),u=r.removedTargetIds||[];n=new Om([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ol(t,r.document),i=r.removedTargetIds||[];n=new Om([],i,s,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new XV(s,i),u=r.targetId;n=new VA(u,o)}}return n}function gg(t,e){let n;if(e instanceof Ic)n={update:r_(t,e.key,e.value)};else if(e instanceof cy)n={delete:mg(t,e.key)};else if(e instanceof Ui)n={update:r_(t,e.key,e.data),updateMask:f9(e.fieldMask)};else{if(!(e instanceof jA))return ke(16599,{Vt:e.type});n={verify:mg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,i){const o=i.transform;if(o instanceof gc)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof yc)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof vc)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Vd)return{fieldPath:i.field.canonicalString(),increment:o.Ae};throw ke(20930,{transform:i.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:i9(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ke(27497)})(t,e.precondition)),n}function Kb(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?In.updateTime(Ln(s.updateTime)):s.exists!==void 0?In.exists(s.exists):In.none()})(e.currentDocument):In.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(i,o){let u=null;if("setToServerValue"in o)Ie(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),u=new gc;else if("appendMissingElements"in o){const d=o.appendMissingElements.values||[];u=new yc(d)}else if("removeAllFromArray"in o){const d=o.removeAllFromArray.values||[];u=new vc(d)}else"increment"in o?u=new Vd(i,o.increment):ke(16584,{proto:o});const h=Tt.fromServerFormat(o.fieldPath);return new MA(h,u)})(t,s))):[];if(e.update){e.update.name;const s=ol(t,e.update.name),i=new _n({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=(function(u){const h=u.fieldPaths||[];return new Yn(h.map((d=>Tt.fromServerFormat(d))))})(e.updateMask);return new Ui(s,i,o,n,r)}return new Ic(s,i,n,r)}if(e.delete){const s=ol(t,e.delete);return new cy(s,n)}if(e.verify){const s=ol(t,e.verify);return new jA(s,n)}return ke(1463,{proto:e})}function l9(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map((n=>(function(r,s){let i=r.updateTime?Ln(r.updateTime):Ln(s);return i.isEqual(Ne.min())&&(i=Ln(s)),new GV(i,r.transformResults||[])})(n,e)))):[]}function KA(t,e){return{documents:[$A(t,e.path)]}}function GA(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$A(t,s);const i=(function(h){if(h.length!==0)return XA(at.create(h,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(h){if(h.length!==0)return h.map((d=>(function(m){return{field:qu(m.field),direction:c9(m.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=$b(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:s}}function HA(t){let e=qA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ie(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let i=[];n.where&&(i=(function(m){const g=QA(m);return g instanceof at&&Ex(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(m){return m.map((g=>(function(v){return new Fd(Wu(v.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(m){let g;return g=typeof m=="object"?m.value:m,ty(g)?null:g})(n.limit));let h=null;n.startAt&&(h=(function(m){const g=!!m.before,v=m.values||[];return new pc(v,g)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const g=!m.before,v=m.values||[];return new pc(v,g)})(n.endAt)),MV(e,s,o,i,u,"F",h,d)}function u9(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QA(t){return t.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Wu(e.unaryFilter.field);return Qe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Wu(e.unaryFilter.field);return Qe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wu(e.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Wu(e.unaryFilter.field);return Qe.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(t):t.fieldFilter!==void 0?(function(e){return Qe.create(Wu(e.fieldFilter.field),(function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(e){return at.create(e.compositeFilter.filters.map((n=>QA(n))),(function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(e.compositeFilter.op))})(t):ke(30097,{filter:t})}function c9(t){return t9[t]}function h9(t){return n9[t]}function d9(t){return r9[t]}function qu(t){return{fieldPath:t.canonicalString()}}function Wu(t){return Tt.fromServerFormat(t.fieldPath)}function XA(t){return t instanceof Qe?(function(e){if(e.op==="=="){if(zT(e.value))return{unaryFilter:{field:qu(e.field),op:"IS_NAN"}};if(UT(e.value))return{unaryFilter:{field:qu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(zT(e.value))return{unaryFilter:{field:qu(e.field),op:"IS_NOT_NAN"}};if(UT(e.value))return{unaryFilter:{field:qu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qu(e.field),op:h9(e.op),value:e.value}}})(t):t instanceof at?(function(e){const n=e.getFilters().map((r=>XA(r)));return n.length===1?n[0]:{compositeFilter:{op:d9(e.op),filters:n}}})(t):ke(54877,{filter:t})}function f9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function YA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Si{constructor(e,n,r,s,i=Ne.min(),o=Ne.min(),u=Xt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class JA{constructor(e){this.yt=e}}function p9(t,e){let n;if(e.document)n=a9(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=de.fromSegments(e.noDocument.path),s=bl(e.noDocument.readTime);n=Pt.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ke(56709);{const r=de.fromSegments(e.unknownDocument.path),s=bl(e.unknownDocument.version);n=Pt.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(r){const s=new He(r[0],r[1]);return Ne.fromTimestamp(s)})(e.readTime)),n}function s_(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:yg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,i){return{name:mg(s,i.key),fields:i.data.value.mapValue.fields,updateTime:bc(s,i.version.toTimestamp()),createTime:bc(s,i.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:vl(e.version)};else{if(!e.isUnknownDocument())return ke(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:vl(e.version)}}return r}function yg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function vl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bl(t){const e=new He(t.seconds,t.nanoseconds);return Ne.fromTimestamp(e)}function Yo(t,e){const n=(e.baseMutations||[]).map((i=>Kb(t.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>Kb(t.yt,i))),s=He.fromMillis(e.localWriteTimeMs);return new kx(e.batchId,s,n,r)}function id(t){const e=bl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?bl(t.lastLimboFreeSnapshotVersion):Ne.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const i=s.documents.length;return Ie(i===1,1966,{count:i}),Mr(hf(qA(s.documents[0])))})(t.query):(function(s){return Mr(HA(s))})(t.query),new Si(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Xt.fromBase64String(t.resumeToken))}function ZA(t,e){const n=vl(e.snapshotVersion),r=vl(e.lastLimboFreeSnapshotVersion);let s;s=dg(e.target)?KA(t.yt,e.target):GA(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:yl(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function eR(t){const e=HA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pg(e,e.limit,"L"):e}function S0(t,e){return new _x(e.largestBatchId,Kb(t.yt,e.overlayMutation))}function i_(t,e){const n=e.path.lastSegment();return[t,Nn(e.path.popLast()),n]}function a_(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:vl(r.readTime),documentKey:Nn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class m9{getBundleMetadata(e,n){return o_(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:bl(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return o_(e).put((function(r){return{bundleId:r.id,createTime:vl(Ln(r.createTime)),version:r.version}})(n))}getNamedQuery(e,n){return l_(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:eR(s.bundledQuery),readTime:bl(s.readTime)}})(r)}))}saveNamedQuery(e,n){return l_(e).put((function(r){return{name:r.name,readTime:vl(Ln(r.readTime)),bundledQuery:r.bundledQuery}})(n))}}function o_(t){return tn(t,ny)}function l_(t){return tn(t,ry)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dy{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new dy(e,r)}getOverlay(e,n){return Rh(e).get(i_(this.userId,n)).next((r=>r?S0(this.serializer,r):null))}getOverlays(e,n){const r=Rs();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((i,o)=>{const u=new _x(n,o);s.push(this.St(e,u))})),Q.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((o=>s.add(Nn(o.getCollectionPath()))));const i=[];return s.forEach((o=>{const u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(Rh(e).Z(Ob,u))})),Q.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Rs(),i=Nn(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Rh(e).J(Ob,o).next((u=>{for(const h of u){const d=S0(this.serializer,h);s.set(d.getKey(),d)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const i=Rs();let o;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Rh(e).ee({index:tA,range:u},((h,d,m)=>{const g=S0(this.serializer,d);i.size()<s||g.largestBatchId===o?(i.set(g.getKey(),g),o=g.largestBatchId):m.done()})).next((()=>i))}St(e,n){return Rh(e).put((function(r,s,i){const[o,u,h]=i_(s,i.mutation.key);return{userId:s,collectionPath:u,documentId:h,collectionGroup:i.mutation.key.getCollectionGroup(),largestBatchId:i.largestBatchId,overlayMutation:gg(r.yt,i.mutation)}})(this.serializer,this.userId,n))}}function Rh(t){return tn(t,sy)}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class g9{bt(e){return tn(e,yx)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Xt.fromUint8Array(r):Xt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jo{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(wt(e.integerValue));else if("doubleValue"in e){const r=wt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Ad(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Ni(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Ai(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?fA(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):ay(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):ke(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){var r,s;const i=e.fields||{};this.Ft(n,53);const o=dc,u=((s=(r=i[o].arrayValue)==null?void 0:r.values)==null?void 0:s.length)||0;this.Ft(n,15),n.Mt(wt(u)),this.Ot(o,n),this.Ct(i[o],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),de.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Jo.Kt=new Jo;/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law | agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ku=255;function y9(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function u_(t){const e=64-(function(n){let r=0;for(let s=0;s<8;++s){const i=y9(255&n[s]);if(r+=i,i!==8)break}return r})(t);return Math.ceil(e/8)}class v9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=u_(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=u_(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(ku),this.sn(255)}_n(){this.an(ku),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const i=new DataView(new ArrayBuffer(8));return i.setFloat64(0,s,!1),new Uint8Array(i.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===ku?(this.sn(ku),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===ku?(this.an(ku),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class b9{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class w9{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Ph{constructor(){this.cn=new v9,this.ln=new b9(this.cn),this.hn=new w9(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zo{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Zo(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Lm(this.En),directionalValue:Lm(this.dn),orderedDocumentKey:Lm(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Ea(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=c_(t.En,e.En),n!==0?n:(n=c_(t.dn,e.dn),n!==0?n:de.comparator(t.In,e.In)))}function c_(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Lm(t){return GN()?(function(e){let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return n})(t):t}function h_(t){return typeof t!="string"?t:(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(t)}class d_{constructor(e){this.mn=new ot(((n,r)=>Tt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ie(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Pb(e);if(n!==void 0&&!this.wn(n))return!1;const r=Wo(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const h=r[i];if(!this.Sn(u,h)||!this.bn(this.fn[o++],h))return!1}++i}for(;i<r.length;++i){const u=r[i];if(o>=this.fn.length||!this.bn(this.fn[o++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new ot(Tt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Cm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Cm(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Cm(r.field,r.dir==="asc"?0:1)));return new og(og.UNKNOWN_ID,this.collectionId,n,Nd.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function tR(t){var e,n;if(Ie(t instanceof Qe||t instanceof at,20012),t instanceof Qe){if(t instanceof EA){const s=((n=(e=t.value.arrayValue)==null?void 0:e.values)==null?void 0:n.map((i=>Qe.create(t.field,"==",i))))||[];return at.create(s,"or")}return t}const r=t.filters.map((s=>tR(s)));return at.create(r,t.op)}function x9(t){if(t.getFilters().length===0)return[];const e=Qb(tR(t));return Ie(nR(e),7391),Gb(e)||Hb(e)?[e]:e.getFilters()}function Gb(t){return t instanceof Qe}function Hb(t){return t instanceof at&&Ex(t)}function nR(t){return Gb(t)||Hb(t)||(function(e){if(e instanceof at&&Vb(e)){for(const n of e.getFilters())if(!Gb(n)&&!Hb(n))return!1;return!0}return!1})(t)}function Qb(t){if(Ie(t instanceof Qe||t instanceof at,34018),t instanceof Qe)return t;if(t.filters.length===1)return Qb(t.filters[0]);const e=t.filters.map((r=>Qb(r)));let n=at.create(e,t.op);return n=vg(n),nR(n)?n:(Ie(n instanceof at,64498),Ie(mc(n),40251),Ie(n.filters.length>1,57927),n.filters.reduce(((r,s)=>Nx(r,s))))}function Nx(t,e){let n;return Ie(t instanceof Qe||t instanceof at,38388),Ie(e instanceof Qe||e instanceof at,25473),n=t instanceof Qe?e instanceof Qe?(function(r,s){return at.create([r,s],"and")})(t,e):f_(t,e):e instanceof Qe?f_(e,t):(function(r,s){if(Ie(r.filters.length>0&&s.filters.length>0,48005),mc(r)&&mc(s))return bA(r,s.getFilters());const i=Vb(r)?r:s,o=Vb(r)?s:r,u=i.filters.map((h=>Nx(h,o)));return at.create(u,"or")})(t,e),vg(n)}function f_(t,e){if(mc(e))return bA(e,t.getFilters());{const n=e.filters.map((r=>Nx(t,r)));return at.create(n,"or")}}function vg(t){if(Ie(t instanceof Qe||t instanceof at,11850),t instanceof Qe)return t;const e=t.getFilters();if(e.length===1)return vg(e[0]);if(yA(t))return t;const n=e.map((s=>vg(s))),r=[];return n.forEach((s=>{s instanceof Qe?r.push(s):s instanceof at&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:at.create(r,t.op)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class E9{constructor(){this.Cn=new Ax}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(yr.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class Ax{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ot(st.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ot(st.comparator)).toArray()}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const p_="IndexedDbIndexManager",Jp=new Uint8Array(0);class S9{constructor(e,n){this.databaseId=n,this.vn=new Ax,this.Fn=new Vi((r=>yl(r)),((r,s)=>cf(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const i={collectionId:r,parent:Nn(s)};return m_(e).put(i)}return Q.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[$2(n),""],!1,!0);return m_(e).J(s).next((i=>{for(const o of i){if(o.collectionId!==n)break;r.push(As(o.parent))}return r}))}addFieldIndex(e,n){const r=Dh(e),s=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=_u(e);return i.next((u=>{o.put(a_(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return i.next()}deleteFieldIndex(e,n){const r=Dh(e),s=_u(e),i=Tu(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Dh(e),r=Tu(e),s=_u(e);return n.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new d_(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,n){const r=Tu(e);let s=!0;const i=new Map;return Q.forEach(this.Mn(n),(o=>this.xn(e,o).next((u=>{s&&(s=!!u),i.set(o,u)})))).next((()=>{if(s){let o=We();const u=[];return Q.forEach(i,((h,d)=>{le(p_,`Using index ${(function(R){return`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map((O=>`${O.fieldPath}:${O.kind}`)).join(",")}`})(h)} to execute ${yl(n)}`);const m=(function(R,O){const U=Pb(O);if(U===void 0)return null;for(const B of fg(R,U.fieldPath))switch(B.op){case"array-contains-any":return B.value.arrayValue.values||[];case"array-contains":return[B.value]}return null})(d,h),g=(function(R,O){const U=new Map;for(const B of Wo(O))for(const G of fg(R,B.fieldPath))switch(G.op){case"==":case"in":U.set(B.fieldPath.canonicalString(),G.value);break;case"not-in":case"!=":return U.set(B.fieldPath.canonicalString(),G.value),Array.from(U.values())}return null})(d,h),v=(function(R,O){const U=[];let B=!0;for(const G of Wo(O)){const D=G.kind===0?KT(R,G.fieldPath,R.startAt):GT(R,G.fieldPath,R.startAt);U.push(D.value),B&&(B=D.inclusive)}return new pc(U,B)})(d,h),S=(function(R,O){const U=[];let B=!0;for(const G of Wo(O)){const D=G.kind===0?GT(R,G.fieldPath,R.endAt):KT(R,G.fieldPath,R.endAt);U.push(D.value),B&&(B=D.inclusive)}return new pc(U,B)})(d,h),_=this.On(h,d,v),T=this.On(h,d,S),I=this.Nn(h,d,g),A=this.Bn(h.indexId,m,_,v.inclusive,T,S.inclusive,I);return Q.forEach(A,(R=>r.Y(R,n.limit).next((O=>{O.forEach((U=>{const B=de.fromSegments(U.documentKey);o.has(B)||(o=o.add(B),u.push(B))}))}))))})).next((()=>u))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=x9(at.create(e.filters,"and")).map((r=>zb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,o,u){const h=(n!=null?n.length:1)*Math.max(r.length,i.length),d=h/(n!=null?n.length:1),m=[];for(let g=0;g<h;++g){const v=n?this.Ln(n[g/d]):Jp,S=this.kn(e,v,r[g%d],s),_=this.qn(e,v,i[g%d],o),T=u.map((I=>this.kn(e,v,I,!0)));m.push(...this.createRange(S,_,T))}return m}kn(e,n,r,s){const i=new Zo(e,de.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new Zo(e,de.empty(),n,r);return s?i.An():i}xn(e,n){const r=new d_(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let o=null;for(const u of i)r.yn(u)&&(!o||u.fields.length>o.fields.length)&&(o=u);return o}))}getIndexType(e,n){let r=2;const s=this.Mn(n);return Q.forEach(s,(i=>this.xn(e,i).next((o=>{o?r!==0&&o.fields.length<(function(u){let h=new ot(Tt.comparator),d=!1;for(const m of u.filters)for(const g of m.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:h=h.add(g.field));for(const m of u.orderBy)m.field.isKeyField()||(h=h.add(m.field));return h.size+(d?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(i){return i.limit!==null})(n)&&s.length>1&&r===2?1:r))}Qn(e,n){const r=new Ph;for(const s of Wo(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Pn(s.kind);Jo.Kt.Dt(i,o)}return r.un()}Ln(e){const n=new Ph;return Jo.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Ph;return Jo.Kt.Dt(Ld(this.databaseId,n),r.Pn((function(s){const i=Wo(s);return i.length===0?0:i[i.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new Ph);let i=0;for(const o of Wo(e)){const u=r[i++];for(const h of s)if(this.Un(n,o.fieldPath)&&jd(u))s=this.Kn(s,o,u);else{const d=h.Pn(o.kind);Jo.Kt.Dt(u,d)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const u of s){const h=new Ph;h.seed(u.un()),Jo.Kt.Dt(o,h.Pn(n.kind)),i.push(h)}return i}Un(e,n){return!!e.filters.find((r=>r instanceof Qe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Dh(e),s=_u(e);return(n?r.J(Mb,IDBKeyRange.bound(n,n)):r.J()).next((i=>{const o=[];return Q.forEach(i,(u=>s.get([u.indexId,this.uid]).next((h=>{o.push((function(d,m){const g=m?new Nd(m.sequenceNumber,new yr(bl(m.readTime),new de(As(m.documentKey)),m.largestBatchId)):Nd.empty(),v=d.fields.map((([S,_])=>new Cm(Tt.fromServerFormat(S),_)));return new og(d.indexId,d.collectionGroup,v,g)})(u,h))})))).next((()=>o))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Fe(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=Dh(e),i=_u(e);return this.Gn(e).next((o=>s.J(Mb,IDBKeyRange.bound(n,n)).next((u=>Q.forEach(u,(h=>i.put(a_(h.indexId,this.uid,o,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((s,i)=>{const o=r.get(s.collectionGroup);return(o?Q.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Q.forEach(u,(h=>this.zn(e,s,h).next((d=>{const m=this.jn(i,h);return d.isEqual(m)?Q.resolve():this.Jn(e,i,h,d,m)})))))))}))}Hn(e,n,r,s){return Tu(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return Tu(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=Tu(e);let i=new ot(Ea);return s.ee({index:eA,range:IDBKeyRange.only([r.indexId,this.uid,Lm(this.$n(r,n))])},((o,u)=>{i=i.add(new Zo(r.indexId,n,h_(u.arrayValue),h_(u.directionalValue)))})).next((()=>i))}jn(e,n){let r=new ot(Ea);const s=this.Qn(n,e);if(s==null)return r;const i=Pb(n);if(i!=null){const o=e.data.field(i.fieldPath);if(jd(o))for(const u of o.arrayValue.values||[])r=r.add(new Zo(n.indexId,e.key,this.Ln(u),s))}else r=r.add(new Zo(n.indexId,e.key,Jp,s));return r}Jn(e,n,r,s,i){le(p_,"Updating index entries for document '%s'",n.key);const o=[];return(function(u,h,d,m,g){const v=u.getIterator(),S=h.getIterator();let _=Su(v),T=Su(S);for(;_||T;){let I=!1,A=!1;if(_&&T){const R=d(_,T);R<0?A=!0:R>0&&(I=!0)}else _!=null?A=!0:I=!0;I?(m(T),T=Su(S)):A?(g(_),_=Su(v)):(_=Su(v),T=Su(S))}})(s,i,Ea,(u=>{o.push(this.Hn(e,n,r,u))}),(u=>{o.push(this.Yn(e,n,r,u))})),Q.waitFor(o)}Gn(e){let n=1;return _u(e).ee({index:Z2,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((o,u)=>Ea(o,u))).filter(((o,u,h)=>!u||Ea(o,h[u-1])!==0));const s=[];s.push(e);for(const o of r){const u=Ea(o,e),h=Ea(o,n);if(u===0)s[0]=e.An();else if(u>0&&h<0)s.push(o),s.push(o.An());else if(h>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Zn(s[o],s[o+1]))return[];const u=s[o].Vn(this.uid,Jp,de.empty()),h=s[o+1].Vn(this.uid,Jp,de.empty());i.push(IDBKeyRange.bound(u,h))}return i}Zn(e,n){return Ea(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(g_)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((s=>s||ke(44426))))).next(g_)}}function m_(t){return tn(t,Dd)}function Tu(t){return tn(t,pd)}function Dh(t){return tn(t,gx)}function _u(t){return tn(t,fd)}function g_(t){Ie(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;fx(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new yr(e.readTime,e.documentKey,n)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rR=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sR(t,e,n){const r=t.store(Yr),s=t.store(lc),i=[],o=IDBKeyRange.only(n.batchId);let u=0;const h=r.ee({range:o},((m,g,v)=>(u++,v.delete())));i.push(h.next((()=>{Ie(u===1,47070,{batchId:n.batchId})})));const d=[];for(const m of n.mutations){const g=X2(e,m.key.path,n.batchId);i.push(s.delete(g)),d.push(m.key)}return Q.waitFor(i).next((()=>d))}function bg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ke(14731);e=t.noDocument}return JSON.stringify(e).length}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(rR,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class fy{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){Ie(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new fy(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sa(e).ee({index:el,range:r},((s,i,o)=>{n=!1,o.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const i=Ku(e),o=Sa(e);return o.add({}).next((u=>{Ie(typeof u=="number",49019);const h=new kx(u,n,r,s),d=(function(v,S,_){const T=_.baseMutations.map((A=>gg(v.yt,A))),I=_.mutations.map((A=>gg(v.yt,A)));return{userId:S,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:T,mutations:I}})(this.serializer,this.userId,h),m=[];let g=new ot(((v,S)=>Fe(v.canonicalString(),S.canonicalString())));for(const v of s){const S=X2(this.userId,v.key.path,u);g=g.add(v.key.path.popLast()),m.push(o.put(d)),m.push(i.put(S,J6))}return g.forEach((v=>{m.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[u]=h.keys()})),Q.waitFor(m).next((()=>h))}))}lookupMutationBatch(e,n){return Sa(e).get(n).next((r=>r?(Ie(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Yo(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Sa(e).ee({index:el,range:s},((o,u,h)=>{u.userId===this.userId&&(Ie(u.batchId>=r,47524,{tr:r}),i=Yo(this.serializer,u)),h.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=il;return Sa(e).ee({index:el,range:n,reverse:!0},((s,i,o)=>{r=i.batchId,o.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,il],[this.userId,Number.POSITIVE_INFINITY]);return Sa(e).J(el,n).next((r=>r.map((s=>Yo(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Nm(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Ku(e).ee({range:s},((o,u,h)=>{const[d,m,g]=o,v=As(m);if(d===this.userId&&n.path.isEqual(v))return Sa(e).get(g).next((S=>{if(!S)throw ke(61480,{nr:o,batchId:g});Ie(S.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:S.userId,batchId:g}),i.push(Yo(this.serializer,S))}));h.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(Fe);const s=[];return n.forEach((i=>{const o=Nm(this.userId,i.path),u=IDBKeyRange.lowerBound(o),h=Ku(e).ee({range:u},((d,m,g)=>{const[v,S,_]=d,T=As(S);v===this.userId&&i.path.isEqual(T)?r=r.add(_):g.done()}));s.push(h)})),Q.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Nm(this.userId,r),o=IDBKeyRange.lowerBound(i);let u=new ot(Fe);return Ku(e).ee({range:o},((h,d,m)=>{const[g,v,S]=h,_=As(v);g===this.userId&&r.isPrefixOf(_)?_.length===s&&(u=u.add(S)):m.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],s=[];return n.forEach((i=>{s.push(Sa(e).get(i).next((o=>{if(o===null)throw ke(35274,{batchId:i});Ie(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:i}),r.push(Yo(this.serializer,o))})))})),Q.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return sR(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(i){return[i]})(this.userId)),s=[];return Ku(e).ee({range:r},((i,o,u)=>{if(i[0]===this.userId){const h=As(i[1]);s.push(h)}else u.done()})).next((()=>{Ie(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,n){return iR(e,this.userId,n)}_r(e){return aR(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:il,lastStreamToken:""}))}}function iR(t,e,n){const r=Nm(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return Ku(t).ee({range:i,X:!0},((u,h,d)=>{const[m,g,v]=u;m===e&&g===s&&(o=!0),d.done()})).next((()=>o))}function Sa(t){return tn(t,Yr)}function Ku(t){return tn(t,lc)}function aR(t){return tn(t,Rd)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wl(0)}static cr(){return new wl(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class k9{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new wl(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ne.fromTimestamp(new He(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Iu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ie(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let s=0;const i=[];return Iu(e).ee(((o,u)=>{const h=id(u);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,i.push(this.removeTargetData(e,h)))})).next((()=>Q.waitFor(i))).next((()=>s))}forEachTarget(e,n){return Iu(e).ee(((r,s)=>{const i=id(s);n(i)}))}lr(e){return v_(e).get(cg).next((n=>(Ie(n!==null,2888),n)))}hr(e,n){return v_(e).put(cg,n)}Pr(e,n){return Iu(e).put(ZA(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=yl(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Iu(e).ee({range:s,index:J2},((o,u,h)=>{const d=id(u);cf(n,d.target)&&(i=d,h.done())})).next((()=>i))}addMatchingKeys(e,n,r){const s=[],i=La(e);return n.forEach((o=>{const u=Nn(o.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,o))})),Q.waitFor(s)}removeMatchingKeys(e,n,r){const s=La(e);return Q.forEach(n,(i=>{const o=Nn(i.path);return Q.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,n){const r=La(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=La(e);let i=We();return s.ee({range:r,X:!0},((o,u,h)=>{const d=As(o[1]),m=new de(d);i=i.add(m)})).next((()=>i))}containsKey(e,n){const r=Nn(n.path),s=IDBKeyRange.bound([r],[$2(r)],!1,!0);let i=0;return La(e).ee({index:mx,X:!0,range:s},(([o,u],h,d)=>{o!==0&&(i++,d.done())})).next((()=>i>0))}At(e,n){return Iu(e).get(n).next((r=>r?id(r):null))}}function Iu(t){return tn(t,uc)}function v_(t){return tn(t,al)}function La(t){return tn(t,cc)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const b_="LruGarbageCollector",T9=1048576;function w_([t,e],[n,r]){const s=Fe(t,n);return s===0?Fe(e,r):s}class _9{constructor(e){this.Ir=e,this.buffer=new ot(w_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();w_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(b_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){no(n)?le(b_,"Ignoring IndexedDB error during garbage collection: ",n):await Al(n)}await this.Vr(3e5)}))}}class I9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Pr.ce);const r=new _9(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(y_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,u,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,o=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),Bu()<=Ge.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${s} in `+(u-o)+`ms
	Removed ${i} targets in `+(h-u)+`ms
	Removed ${g} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function lR(t,e){return new I9(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class C9{constructor(e,n){this.db=e,this.garbageCollector=lR(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,s)=>n(s)))}addReference(e,n,r){return Zp(e,r)}removeReference(e,n,r){return Zp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Zp(e,n)}br(e,n){return(function(r,s){let i=!1;return aR(r).te((o=>iR(r,o,s).next((u=>(u&&(i=!0),Q.resolve(!u)))))).next((()=>i))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((o,u)=>{if(u<=n){const h=this.br(e,o).next((d=>{if(!d)return i++,r.getEntry(e,o).next((()=>(r.removeEntry(o,Ne.min()),La(e).delete((function(m){return[0,Nn(m.path)]})(o)))))}));s.push(h)}})).next((()=>Q.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Zp(e,n)}Sr(e,n){const r=La(e);let s,i=Pr.ce;return r.ee({index:mx},(([o,u],{path:h,sequenceNumber:d})=>{o===0?(i!==Pr.ce&&n(new de(As(s)),i),i=d,s=h):i=Pr.ce})).next((()=>{i!==Pr.ce&&n(new de(As(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Zp(t,e){return La(t).put((function(n,r){return{targetId:0,path:Nn(n.path),sequenceNumber:r}})(e,t.currentSequenceNumber))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uR{constructor(){this.changes=new Vi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class N9{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Do(e).put(r)}removeEntry(e,n,r){return Do(e).delete((function(s,i){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],yg(i),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Pt.newInvalidDocument(n);return Do(e).ee({index:Am,range:IDBKeyRange.only(Mh(n))},((s,i)=>{r=this.Cr(n,i)})).next((()=>r))}vr(e,n){let r={size:0,document:Pt.newInvalidDocument(n)};return Do(e).ee({index:Am,range:IDBKeyRange.only(Mh(n))},((s,i)=>{r={document:this.Cr(n,i),size:bg(i)}})).next((()=>r))}getEntries(e,n){let r=pr();return this.Fr(e,n,((s,i)=>{const o=this.Cr(s,i);r=r.insert(s,o)})).next((()=>r))}Mr(e,n){let r=pr(),s=new Et(de.comparator);return this.Fr(e,n,((i,o)=>{const u=this.Cr(i,o);r=r.insert(i,u),s=s.insert(i,bg(o))})).next((()=>({documents:r,Or:s})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let s=new ot(S_);n.forEach((h=>s=s.add(h)));const i=IDBKeyRange.bound(Mh(s.first()),Mh(s.last())),o=s.getIterator();let u=o.getNext();return Do(e).ee({index:Am,range:i},((h,d,m)=>{const g=de.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;u&&S_(u,g)<0;)r(u,null),u=o.getNext();u&&u.isEqual(g)&&(r(u,d),u=o.hasNext()?o.getNext():null),u?m.j(Mh(u)):m.done()})).next((()=>{for(;u;)r(u,null),u=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,u=[o.popLast().toArray(),o.lastSegment(),yg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Do(e).J(IDBKeyRange.bound(u,h,!0)).next((d=>{i==null||i.incrementDocumentReadCount(d.length);let m=pr();for(const g of d){const v=this.Cr(de.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(df(n,v)||s.has(v.key))&&(m=m.insert(v.key,v))}return m}))}getAllFromCollectionGroup(e,n,r,s){let i=pr();const o=E_(n,r),u=E_(n,yr.max());return Do(e).ee({index:Y2,range:IDBKeyRange.bound(o,u,!0)},((h,d,m)=>{const g=this.Cr(de.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);i=i.insert(g.key,g),i.size===s&&m.done()})).next((()=>i))}newChangeBuffer(e){return new A9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return x_(e).get(Db).next((n=>(Ie(!!n,20021),n)))}Dr(e,n){return x_(e).put(Db,n)}Cr(e,n){if(n){const r=p9(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ne.min())))return r}return Pt.newInvalidDocument(e)}}function cR(t){return new N9(t)}class A9 extends uR{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Vi((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new ot(((i,o)=>Fe(i.canonicalString(),o.canonicalString())));return this.changes.forEach(((i,o)=>{const u=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,u.readTime)),o.isValidDocument()){const h=s_(this.Nr.serializer,o);s=s.add(i.path.popLast());const d=bg(h);r+=d-u.size,n.push(this.Nr.addEntry(e,i,h))}else if(r-=u.size,this.trackRemovals){const h=s_(this.Nr.serializer,o.convertToNoDocument(Ne.min()));n.push(this.Nr.addEntry(e,i,h))}})),s.forEach((i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:s})=>(s.forEach(((i,o)=>{this.Br.set(i,{size:o,readTime:r.get(i).readTime})})),r)))}}function x_(t){return tn(t,Pd)}function Do(t){return tn(t,ug)}function Mh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function E_(t,e){const n=e.documentKey.path.toArray();return[t,yg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function S_(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Fe(n[i],r[i]),s)return s;return s=Fe(n.length,r.length),s||(s=Fe(n[n.length-2],r[r.length-2]),s||Fe(n[n.length-1],r[r.length-1]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&vd(r.mutation,s,Yn.empty(),He.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,We()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=We()){const s=Rs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=rd();return i.forEach(((u,h)=>{o=o.insert(u,h.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Rs();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,We())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,u)=>{n.set(o,u)}))}))}computeViews(e,n,r,s){let i=pr();const o=yd(),u=(function(){return yd()})();return n.forEach(((h,d)=>{const m=r.get(d.key);s.has(d.key)&&(m===void 0||m.mutation instanceof Ui)?i=i.insert(d.key,d):m!==void 0?(o.set(d.key,m.mutation.getFieldMask()),vd(m.mutation,d,m.mutation.getFieldMask(),He.now())):o.set(d.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,i).next((h=>(h.forEach(((d,m)=>o.set(d,m))),n.forEach(((d,m)=>u.set(d,new R9(m,o.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=yd();let s=new Et(((o,u)=>o-u)),i=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const u of o)u.keys().forEach((h=>{const d=n.get(h);if(d===null)return;let m=r.get(h)||Yn.empty();m=u.applyToLocalView(d,m),r.set(h,m);const g=(s.get(u.batchId)||We()).add(h);s=s.insert(u.batchId,g)}))})).next((()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),d=h.key,m=h.value,g=CA();m.forEach((v=>{if(!i.has(v)){const S=OA(n.get(v),r.get(v));S!==null&&g.set(v,S),i=i.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return Q.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Rs());let u=Cd,h=i;return o.next((d=>Q.forEach(d,((m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),i.get(m)?Q.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{h=h.insert(m,v)}))))).next((()=>this.populateOverlays(e,d,i))).next((()=>this.computeViews(e,h,d,We()))).next((m=>({batchId:u,changes:IA(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((r=>{let s=rd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=rd();return this.indexManager.getCollectionParents(e,i).next((u=>Q.forEach(u,(h=>{const d=(function(m,g){return new _c(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((m=>{m.forEach(((g,v)=>{o=o.insert(g,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((h,d)=>{const m=d.getKey();o.get(m)===null&&(o=o.insert(m,Pt.newInvalidDocument(m)))}));let u=rd();return o.forEach(((h,d)=>{const m=i.get(h);m!==void 0&&vd(m.mutation,d,Yn.empty(),He.now()),df(n,d)&&(u=u.insert(h,d))})),u}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class P9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:Ln(r.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:eR(r.bundledQuery),readTime:Ln(r.readTime)}})(n)),Q.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class D9{constructor(){this.overlays=new Et(de.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Rs();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Rs(),i=n.length+1,o=new de(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const h=u.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&h.largestBatchId>r&&s.set(h.getKey(),h)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Et(((d,m)=>d-m));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=i.get(d.largestBatchId);m===null&&(m=Rs(),i=i.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=Rs(),h=i.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,m)=>u.set(d,m))),!(u.size()>=s)););return Q.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _x(n,r));let i=this.qr.get(n);i===void 0&&(i=We(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class M9{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rx{constructor(){this.Qr=new ot(on.$r),this.Ur=new ot(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new on(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new on(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new de(new st([])),r=new on(n,e),s=new on(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new st([])),r=new on(n,e),s=new on(n,e+1);let i=We();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new on(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ot(on.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new kx(i,n,r,s);this.mutationQueue.push(o);for(const u of s)this.Zr=this.Zr.add(new on(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?il:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),s=new on(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const u=this.Xr(o.Yr);i.push(u)})),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(Fe);return n.forEach((s=>{const i=new on(s,0),o=new on(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(u=>{r=r.add(u.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;de.isDocumentKey(i)||(i=i.child(""));const o=new on(new de(i),0);let u=new ot(Fe);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(u=u.add(h.Yr)),!0)}),o),Q.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ie(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(s=>{const i=new on(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new on(n,0),s=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class L9{constructor(e){this.ri=e,this.docs=(function(){return new Et(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=pr();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Pt.newInvalidDocument(s))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=pr();const o=n.path,u=new de(o.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||fx(K2(m),r)<=0||(s.has(m.key)||df(n,m))&&(i=i.insert(m.key,m.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ke(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new j9(this)}getSize(e){return Q.resolve(this.size)}}class j9 extends uR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class F9{constructor(e){this.persistence=e,this.si=new Vi((n=>yl(n)),cf),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new Rx,this.targetCount=0,this.ai=wl.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new wl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Q.waitFor(i).next((()=>s))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Px{constructor(e,n){this.ui={},this.overlays={},this.ci=new Pr(0),this.li=!1,this.li=!0,this.hi=new M9,this.referenceDelegate=e(this),this.Pi=new F9(this),this.indexManager=new E9,this.remoteDocumentCache=(function(r){return new L9(r)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new JA(n),this.Ii=new P9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new D9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new O9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new V9(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class V9 extends H2{constructor(e){super(),this.currentSequenceNumber=e}}class py{constructor(e){this.persistence=e,this.Ri=new Rx,this.Vi=null}static mi(e){return new py(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const s=de.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Ne.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class wg{constructor(e,n){this.persistence=e,this.pi=new Vi((r=>Nn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=lR(this,n)}static mi(e,n){return new wg(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Q.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((u=>{u||(r++,i.removeEntry(o,Ne.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pm(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class U9{constructor(e){this.serializer=e}k(e,n,r,s){const i=new ey("createOrUpgrade",n);r<1&&s>=1&&((function(u){u.createObjectStore(uf)})(e),(function(u){u.createObjectStore(Rd,{keyPath:Y6}),u.createObjectStore(Yr,{keyPath:MT,autoIncrement:!0}).createIndex(el,OT,{unique:!0}),u.createObjectStore(lc)})(e),k_(e),(function(u){u.createObjectStore(Ko)})(e));let o=Q.resolve();return r<3&&s>=3&&(r!==0&&((function(u){u.deleteObjectStore(cc),u.deleteObjectStore(uc),u.deleteObjectStore(al)})(e),k_(e)),o=o.next((()=>(function(u){const h=u.store(al),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return h.put(cg,d)})(i)))),r<4&&s>=4&&(r!==0&&(o=o.next((()=>(function(u,h){return h.store(Yr).J().next((d=>{u.deleteObjectStore(Yr),u.createObjectStore(Yr,{keyPath:MT,autoIncrement:!0}).createIndex(el,OT,{unique:!0});const m=h.store(Yr),g=d.map((v=>m.put(v)));return Q.waitFor(g)}))})(e,i)))),o=o.next((()=>{(function(u){u.createObjectStore(hc,{keyPath:aV})})(e)}))),r<5&&s>=5&&(o=o.next((()=>this.yi(i)))),r<6&&s>=6&&(o=o.next((()=>((function(u){u.createObjectStore(Pd)})(e),this.wi(i))))),r<7&&s>=7&&(o=o.next((()=>this.Si(i)))),r<8&&s>=8&&(o=o.next((()=>this.bi(e,i)))),r<9&&s>=9&&(o=o.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(o=o.next((()=>this.Di(i)))),r<11&&s>=11&&(o=o.next((()=>{(function(u){u.createObjectStore(ny,{keyPath:oV})})(e),(function(u){u.createObjectStore(ry,{keyPath:lV})})(e)}))),r<12&&s>=12&&(o=o.next((()=>{(function(u){const h=u.createObjectStore(sy,{keyPath:mV});h.createIndex(Ob,gV,{unique:!1}),h.createIndex(tA,yV,{unique:!1})})(e)}))),r<13&&s>=13&&(o=o.next((()=>(function(u){const h=u.createObjectStore(ug,{keyPath:Z6});h.createIndex(Am,eV),h.createIndex(Y2,tV)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(Ko)))),r<14&&s>=14&&(o=o.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(o=o.next((()=>(function(u){u.createObjectStore(gx,{keyPath:uV,autoIncrement:!0}).createIndex(Mb,cV,{unique:!1}),u.createObjectStore(fd,{keyPath:hV}).createIndex(Z2,dV,{unique:!1}),u.createObjectStore(pd,{keyPath:fV}).createIndex(eA,pV,{unique:!1})})(e)))),r<16&&s>=16&&(o=o.next((()=>{n.objectStore(fd).clear()})).next((()=>{n.objectStore(pd).clear()}))),r<17&&s>=17&&(o=o.next((()=>{(function(u){u.createObjectStore(yx,{keyPath:vV})})(e)}))),r<18&&s>=18&&GN()&&(o=o.next((()=>{n.objectStore(fd).clear()})).next((()=>{n.objectStore(pd).clear()}))),o}wi(e){let n=0;return e.store(Ko).ee(((r,s)=>{n+=bg(s)})).next((()=>{const r={byteSize:n};return e.store(Pd).put(Db,r)}))}yi(e){const n=e.store(Rd),r=e.store(Yr);return n.J().next((s=>Q.forEach(s,(i=>{const o=IDBKeyRange.bound([i.userId,il],[i.userId,i.lastAcknowledgedBatchId]);return r.J(el,o).next((u=>Q.forEach(u,(h=>{Ie(h.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const d=Yo(this.serializer,h);return sR(e,i.userId,d).next((()=>{}))}))))}))))}Si(e){const n=e.store(cc),r=e.store(Ko);return e.store(al).get(cg).next((s=>{const i=[];return r.ee(((o,u)=>{const h=new st(o),d=(function(m){return[0,Nn(m)]})(h);i.push(n.get(d).next((m=>m?Q.resolve():(g=>n.put({targetId:0,path:Nn(g),sequenceNumber:s.highestListenSequenceNumber}))(h))))})).next((()=>Q.waitFor(i)))}))}bi(e,n){e.createObjectStore(Dd,{keyPath:iV});const r=n.store(Dd),s=new Ax,i=o=>{if(s.add(o)){const u=o.lastSegment(),h=o.popLast();return r.put({collectionId:u,parent:Nn(h)})}};return n.store(Ko).ee({X:!0},((o,u)=>{const h=new st(o);return i(h.popLast())})).next((()=>n.store(lc).ee({X:!0},(([o,u,h],d)=>{const m=As(u);return i(m.popLast())}))))}Di(e){const n=e.store(uc);return n.ee(((r,s)=>{const i=id(s),o=ZA(this.serializer,i);return n.put(o)}))}Ci(e,n){const r=n.store(Ko),s=[];return r.ee(((i,o)=>{const u=n.store(ug),h=(function(m){return m.document?new de(st.fromString(m.document.name).popFirst(5)):m.noDocument?de.fromSegments(m.noDocument.path):m.unknownDocument?de.fromSegments(m.unknownDocument.path):ke(36783)})(o).path.toArray(),d={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(u.put(d))})).next((()=>Q.waitFor(s)))}Fi(e,n){const r=n.store(Yr),s=cR(this.serializer),i=new Px(py.mi,this.serializer.yt);return r.J().next((o=>{const u=new Map;return o.forEach((h=>{let d=u.get(h.userId)??We();Yo(this.serializer,h).keys().forEach((m=>d=d.add(m))),u.set(h.userId,d)})),Q.forEach(u,((h,d)=>{const m=new pn(d),g=dy.wt(this.serializer,m),v=i.getIndexManager(m),S=fy.wt(m,this.serializer,v,i.referenceDelegate);return new hR(s,S,g,v).recalculateAndSaveOverlaysForDocumentKeys(new Lb(n,Pr.ce),h).next()}))}))}}function k_(t){t.createObjectStore(cc,{keyPath:rV}).createIndex(mx,sV,{unique:!0}),t.createObjectStore(uc,{keyPath:"targetId"}).createIndex(J2,nV,{unique:!0}),t.createObjectStore(al)}const ka="IndexedDbPersistence",k0=18e5,T0=5e3,_0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",z9="main";class Dx{constructor(e,n,r,s,i,o,u,h,d,m,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=o,this.document=u,this.xi=d,this.Oi=m,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!Dx.v())throw new ce(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new C9(this,s),this.$i=n+z9,this.serializer=new JA(h),this.Ui=new za(this.$i,this.Ni,new U9(this.serializer)),this.hi=new g9,this.Pi=new k9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=cR(this.serializer),this.Ii=new m9,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&Pn(ka,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,_0);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Pr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>em(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(no(e))return le(ka,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(ka,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Oh(e).get(Eu).next((n=>Q.resolve(this.es(n))))}ts(e){return em(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,k0)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=tn(n,hc);return r.J().next((s=>{const i=this.ss(s,k0),o=s.filter((u=>i.indexOf(u)===-1));return Q.forEach(o,(u=>r.delete(u.clientId))).next((()=>o))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):Oh(e).get(Eu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,T0)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,_0);return!1}}return!(!this.networkEnabled||!this.inForeground)||em(e).J().next((r=>this.ss(r,T0).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||o&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&le(ka,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[uf,hc],(e=>{const n=new Lb(e,Pr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>em(e).J().next((n=>this.ss(n,k0).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return fy.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new S9(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return dy.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){le(ka,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(function(u){return u===18?xV:u===17?iA:u===16?wV:u===15?vx:u===14?sA:u===13?rA:u===12?bV:u===11?nA:void ke(60245)})(this.Ni);let o;return this.Ui.runTransaction(e,s,i,(u=>(o=new Lb(u,this.ci?this.ci.next():Pr.ce),n==="readwrite-primary"?this.Hi(o).next((h=>!!h||this.Yi(o))).next((h=>{if(!h)throw Pn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ce(te.FAILED_PRECONDITION,G2);return r(o)})).next((h=>this.Xi(o).next((()=>h)))):this.Is(o).next((()=>r(o)))))).then((u=>(o.raiseOnCommittedEvent(),u)))}Is(e){return Oh(e).get(Eu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,T0)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ce(te.FAILED_PRECONDITION,_0)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Oh(e).put(Eu,n)}static v(){return za.v()}Zi(e){const n=Oh(e);return n.get(Eu).next((r=>this.es(r)?(le(ka,"Releasing primary lease."),n.delete(Eu)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Pn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;KN()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return le(ka,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Pn(ka,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Pn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Oh(t){return tn(t,uf)}function em(t){return tn(t,hc)}function B9(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=We(),s=We();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Mx(e,n.fromCache,r,s)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KN()?8:Q2(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new $9;return this.Ss(e,n,o).next((u=>{if(i.result=u,this.Vs)return this.bs(e,n,o,u.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Bu()<=Ge.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",$u(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Bu()<=Ge.DEBUG&&le("QueryEngine","Query:",$u(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Bu()<=Ge.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",$u(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(n))):Q.resolve())}ys(e,n){if(HT(n))return Q.resolve(null);let r=Mr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=pg(n,null,"F"),r=Mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=We(...i);return this.ps.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const d=this.Ds(n,u);return this.Cs(n,d,o,h.readTime)?this.ys(e,pg(n,null,"F")):this.vs(e,d,n,h)}))))})))))}ws(e,n,r,s){return HT(n)||s.isEqual(Ne.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?Q.resolve(null):(Bu()<=Ge.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$u(n)),this.vs(e,o,n,q6(s,Cd)).next((u=>u)))}))}Ds(e,n){let r=new ot(TA(e));return n.forEach(((s,i)=>{df(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Bu()<=Ge.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",$u(n)),this.ps.getDocumentsMatchingQuery(e,n,yr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ox="LocalStore",q9=3e8;class W9{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Et(Fe),this.xs=new Vi((i=>yl(i)),cf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function fR(t,e,n,r){return new W9(t,e,n,r)}async function pR(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],u=[];let h=We();for(const d of s){o.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of i){u.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:u})))}))}))}function K9(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,u,h,d){const m=h.batch,g=m.keys();let v=Q.resolve();return g.forEach((S=>{v=v.next((()=>d.getEntry(u,S))).next((_=>{const T=h.docVersions.get(S);Ie(T!==null,48541),_.version.compareTo(T)<0&&(m.applyToRemoteDocument(_,h),_.isValidDocument()&&(_.setReadTime(h.commitVersion),d.addEntry(_)))}))})),v.next((()=>o.mutationQueue.removeMutationBatch(u,m)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let u=We();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(u=u.add(o.batch.mutations[h].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function mR(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function G9(t,e){const n=Ve(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((m,g)=>{const v=s.get(g);if(!v)return;u.push(n.Pi.removeMatchingKeys(i,m.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(i,m.addedDocuments,g))));let S=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?S=S.withResumeToken(Xt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,r)),s=s.insert(g,S),(function(_,T,I){return _.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=q9?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(v,S,m)&&u.push(n.Pi.updateTargetData(i,S))}));let h=pr(),d=We();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,m))})),u.push(H9(i,o,e.documentUpdates).next((m=>{h=m.ks,d=m.qs}))),!r.isEqual(Ne.min())){const m=n.Pi.getLastRemoteSnapshotVersion(i).next((g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(m)}return Q.waitFor(u).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,h,d))).next((()=>h))})).then((i=>(n.Ms=s,i)))}function H9(t,e,n){let r=We(),s=We();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=pr();return n.forEach(((u,h)=>{const d=i.get(u);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Ne.min())?(e.removeEntry(u,h.readTime),o=o.insert(u,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),o=o.insert(u,h)):le(Ox,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",h.version)})),{ks:o,qs:s}}))}function Q9(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=il),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function X9(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,Q.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new Si(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Xb(t,e,n){const r=Ve(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!no(o))throw o;le(Ox,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function T_(t,e,n){const r=Ve(t);let s=Ne.min(),i=We();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,h,d){const m=Ve(u),g=m.xs.get(d);return g!==void 0?Q.resolve(m.Ms.get(g)):m.Pi.getTargetData(h,d)})(r,o,Mr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next((h=>{i=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Ne.min(),n?i:We()))).next((u=>(Y9(r,LV(e),u),{documents:u,Qs:i})))))}function Y9(t,e,n){let r=t.Os.get(e)||Ne.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class __{constructor(){this.activeTargetIds=BV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gR{constructor(){this.Mo=new __,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new __,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J9{Oo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const I_="ConnectivityMonitor";class C_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(I_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(I_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let tm=null;function Yb(){return tm===null?tm=(function(){return 268435456+Math.round(2147483648*Math.random())})():tm++,"0x"+tm.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const I0="RestConnection",Z9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===hg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Yb(),u=this.zo(e,n.toUriEncodedString());le(I0,`Sending RPC '${e}' ${o}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,i);const{host:d}=new URL(u),m=Il(d);return this.Jo(e,u,h,r,m).then((g=>(le(I0,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw ml(I0,`RPC '${e}' ${o} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=Z9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kn="WebChannelConnection";class nU extends eU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Yb();return new Promise(((u,h)=>{const d=new L2;d.setWithCredentials(!0),d.listenOnce(j2.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Im.NO_ERROR:const g=d.getResponseJson();le(kn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case Im.TIMEOUT:le(kn,`RPC '${e}' ${o} timed out`),h(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case Im.HTTP_ERROR:const v=d.getStatus();if(le(kn,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let S=d.getResponseJson();Array.isArray(S)&&(S=S[0]);const _=S==null?void 0:S.error;if(_&&_.status&&_.message){const T=(function(I){const A=I.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(A)>=0?A:te.UNKNOWN})(_.status);h(new ce(T,_.message))}else h(new ce(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new ce(te.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{le(kn,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(s);le(kn,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",m,r,15)}))}T_(e,n,r){const s=Yb(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=U2(),u=V2(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=i.join("");le(kn,`Creating RPC '${e}' stream ${s}: ${m}`,h);const g=o.createWebChannel(m,h);this.I_(g);let v=!1,S=!1;const _=new tU({Yo:I=>{S?le(kn,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(v||(le(kn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),le(kn,`RPC '${e}' stream ${s} sending:`,I),g.send(I))},Zo:()=>g.close()}),T=(I,A,R)=>{I.listen(A,(O=>{try{R(O)}catch(U){setTimeout((()=>{throw U}),0)}}))};return T(g,nd.EventType.OPEN,(()=>{S||(le(kn,`RPC '${e}' stream ${s} transport opened.`),_.o_())})),T(g,nd.EventType.CLOSE,(()=>{S||(S=!0,le(kn,`RPC '${e}' stream ${s} transport closed`),_.a_(),this.E_(g))})),T(g,nd.EventType.ERROR,(I=>{S||(S=!0,ml(kn,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),_.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),T(g,nd.EventType.MESSAGE,(I=>{var A;if(!S){const R=I.data[0];Ie(!!R,16349);const O=R,U=(O==null?void 0:O.error)||((A=O[0])==null?void 0:A.error);if(U){le(kn,`RPC '${e}' stream ${s} received error:`,U);const B=U.status;let G=(function(C){const P=Gt[C];if(P!==void 0)return FA(P)})(B),D=U.message;G===void 0&&(G=te.INTERNAL,D="Unknown error status: "+B+" with message "+U.message),S=!0,_.a_(new ce(G,D)),g.close()}else le(kn,`RPC '${e}' stream ${s} received:`,R),_.u_(R)}})),T(u,F2.STAT_EVENT,(I=>{I.stat===Ab.PROXY?le(kn,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Ab.NOPROXY&&le(kn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rU(){return typeof window<"u"?window:null}function jm(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function my(t){return new s9(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const N_="PersistentStream";class vR{constructor(e,n,r,s,i,o,u,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Pn(n.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(N_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(N_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sU extends vR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=o9(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ne.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?Ne.min():i.readTime?Ln(i.readTime):Ne.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Wb(this.serializer),n.addTarget=(function(s,i){let o;const u=i.target;if(o=dg(u)?{documents:KA(s,u)}:{query:GA(s,u).ft},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=zA(s,i.resumeToken);const h=$b(s,i.expectedCount);h!==null&&(o.expectedCount=h)}else if(i.snapshotVersion.compareTo(Ne.min())>0){o.readTime=bc(s,i.snapshotVersion.toTimestamp());const h=$b(s,i.expectedCount);h!==null&&(o.expectedCount=h)}return o})(this.serializer,e);const r=u9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Wb(this.serializer),n.removeTarget=e,this.q_(n)}}class iU extends vR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=l9(e.writeResults,e.commitTime),r=Ln(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Wb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>gg(this.serializer,r)))};this.q_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aU{}class oU extends aU{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,qb(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(te.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Ho(e,qb(n,r),s,o,u,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(te.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pn(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xl="RemoteStore";class uU{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Rl(this)&&(le(xl,"Restarting streams for network reachability change."),await(async function(u){const h=Ve(u);h.Ea.add(4),await pf(h),h.Ra.set("Unknown"),h.Ea.delete(4),await gy(h)})(this))}))})),this.Ra=new lU(r,s)}}async function gy(t){if(Rl(t))for(const e of t.da)await e(!0)}async function pf(t){for(const e of t.da)await e(!1)}function bR(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Vx(n)?Fx(n):Cc(n).O_()&&jx(n,e))}function Lx(t,e){const n=Ve(t),r=Cc(n);n.Ia.delete(e),r.O_()&&wR(n,e),n.Ia.size===0&&(r.O_()?r.L_():Rl(n)&&n.Ra.set("Unknown"))}function jx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cc(t).Y_(e)}function wR(t,e){t.Va.Ue(e),Cc(t).Z_(e)}function Fx(t){t.Va=new e9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Cc(t).start(),t.Ra.ua()}function Vx(t){return Rl(t)&&!Cc(t).x_()&&t.Ia.size>0}function Rl(t){return Ve(t).Ea.size===0}function xR(t){t.Va=void 0}async function cU(t){t.Ra.set("Online")}async function hU(t){t.Ia.forEach(((e,n)=>{jx(t,e)}))}async function dU(t,e){xR(t),Vx(t)?(t.Ra.ha(e),Fx(t)):t.Ra.set("Unknown")}async function fU(t,e,n){if(t.Ra.set("Online"),e instanceof UA&&e.state===2&&e.cause)try{await(async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Ia.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Ia.delete(o),r.Va.removeTarget(o))})(t,e)}catch(r){le(xl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xg(t,r)}else if(e instanceof Om?t.Va.Ze(e):e instanceof VA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ne.min()))try{const r=await mR(t.localStore);n.compareTo(r)>=0&&await(function(s,i){const o=s.Va.Tt(i);return o.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(h);d&&s.Ia.set(h,d.withResumeToken(u.resumeToken,i))}})),o.targetMismatches.forEach(((u,h)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(Xt.EMPTY_BYTE_STRING,d.snapshotVersion)),wR(s,u);const m=new Si(d.target,u,h,d.sequenceNumber);jx(s,m)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){le(xl,"Failed to raise snapshot:",r),await xg(t,r)}}async function xg(t,e,n){if(!no(e))throw e;t.Ea.add(1),await pf(t),t.Ra.set("Offline"),n||(n=()=>mR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{le(xl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gy(t)}))}function ER(t,e){return e().catch((n=>xg(t,n,e)))}async function mf(t){const e=Ve(t),n=Ga(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:il;for(;pU(e);)try{const s=await Q9(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,mU(e,s)}catch(s){await xg(e,s)}SR(e)&&kR(e)}function pU(t){return Rl(t)&&t.Ta.length<10}function mU(t,e){t.Ta.push(e);const n=Ga(t);n.O_()&&n.X_&&n.ea(e.mutations)}function SR(t){return Rl(t)&&!Ga(t).x_()&&t.Ta.length>0}function kR(t){Ga(t).start()}async function gU(t){Ga(t).ra()}async function yU(t){const e=Ga(t);for(const n of t.Ta)e.ea(n.mutations)}async function vU(t,e,n){const r=t.Ta.shift(),s=Tx.from(r,e,n);await ER(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await mf(t)}async function bU(t,e){e&&Ga(t).X_&&await(async function(n,r){if((function(s){return YV(s)&&s!==te.ABORTED})(r.code)){const s=n.Ta.shift();Ga(n).B_(),await ER(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r))),await mf(n)}})(t,e),SR(t)&&kR(t)}async function A_(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),le(xl,"RemoteStore received new credentials");const r=Rl(n);n.Ea.add(3),await pf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gy(n)}async function wU(t,e){const n=Ve(t);e?(n.Ea.delete(2),await gy(n)):e||(n.Ea.add(2),await pf(n),n.Ra.set("Unknown"))}function Cc(t){return t.ma||(t.ma=(function(e,n,r){const s=Ve(e);return s.sa(),new sU(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:cU.bind(null,t),t_:hU.bind(null,t),r_:dU.bind(null,t),H_:fU.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Vx(t)?Fx(t):t.Ra.set("Unknown")):(await t.ma.stop(),xR(t))}))),t.ma}function Ga(t){return t.fa||(t.fa=(function(e,n,r){const s=Ve(e);return s.sa(),new iU(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:gU.bind(null,t),r_:bU.bind(null,t),ta:yU.bind(null,t),na:vU.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await mf(t)):(await t.fa.stop(),t.Ta.length>0&&(le(xl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ux{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,u=new Ux(e,n,o,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zx(t,e){if(Pn("AsyncQueue",`${e}: ${t}`),no(t))return new ce(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nc{static emptySet(e){return new nc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=rd(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R_{constructor(){this.ga=new Et(de.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class wc{constructor(e,n,r,s,i,o,u,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((u=>{o.push({type:0,doc:u})})),new wc(e,n,nc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class EU{constructor(){this.queries=P_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const r=Ve(e),s=r.queries;r.queries=P_(),s.forEach(((i,o)=>{for(const u of o.Sa)u.onError(n)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function P_(){return new Vi((t=>kA(t)),oy)}async function Bx(t,e){const n=Ve(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new xU,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const u=zx(o,`Initialization of query '${$u(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&qx(n)}async function $x(t,e){const n=Ve(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function SU(t,e){const n=Ve(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const u of o.Sa)u.Fa(s)&&(r=!0);o.wa=s}}r&&qx(n)}function kU(t,e,n){const r=Ve(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function qx(t){t.Ca.forEach((e=>{e.next()}))}var Jb,D_;(D_=Jb||(Jb={})).Ma="default",D_.Cache="cache";class Wx{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jb.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TR{constructor(e){this.key=e}}class _R{constructor(e){this.key=e}}class TU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=TA(e),this.tu=new nc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new R_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,g)=>{const v=s.get(m),S=df(this.query,g)?g:null,_=!!v&&this.mutatedKeys.has(v.key),T=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;v&&S?v.data.isEqual(S.data)?_!==T&&(r.track({type:3,doc:S}),I=!0):this.su(v,S)||(r.track({type:2,doc:S}),I=!0,(h&&this.eu(S,h)>0||d&&this.eu(S,d)<0)&&(u=!0)):!v&&S?(r.track({type:0,doc:S}),I=!0):v&&!S&&(r.track({type:1,doc:v}),I=!0,(h||d)&&(u=!0)),I&&(S?(o=o.add(S),i=T?i.add(m):i.delete(m)):(o=o.delete(m),i=i.delete(m)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),i=i.delete(m.key),r.track({type:1,doc:m})}return{tu:o,iu:r,Cs:u,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((m,g)=>(function(v,S){const _=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:T})}};return _(v)-_(S)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,d=h!==this.Za;return this.Za=h,o.length!==0||d?{snapshot:new wc(this.query,e.tu,i,o,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new _R(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new TR(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kx="SyncEngine";class _U{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class IU{constructor(e){this.key=e,this.hu=!1}}class CU{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Vi((u=>kA(u)),oy),this.Iu=new Map,this.Eu=new Set,this.du=new Et(de.comparator),this.Au=new Map,this.Ru=new Rx,this.Vu={},this.mu=new Map,this.fu=wl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NU(t,e,n=!0){const r=PR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await IR(r,e,n,!0),s}async function AU(t,e){const n=PR(t);await IR(n,e,!0,!1)}async function IR(t,e,n,r){const s=await X9(t.localStore,Mr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await RU(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&bR(t.remoteStore,s),u}async function RU(t,e,n,r,s){t.pu=(g,v,S)=>(async function(_,T,I,A){let R=T.view.ru(I);R.Cs&&(R=await T_(_.localStore,T.query,!1).then((({documents:G})=>T.view.ru(G,R))));const O=A&&A.targetChanges.get(T.targetId),U=A&&A.targetMismatches.get(T.targetId)!=null,B=T.view.applyChanges(R,_.isPrimaryClient,O,U);return O_(_,T.targetId,B.au),B.snapshot})(t,g,v,S);const i=await T_(t.localStore,e,!0),o=new TU(e,i.Qs),u=o.ru(i.documents),h=ff.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(u,t.isPrimaryClient,h);O_(t,n,d.au);const m=new _U(e,n,o);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function PU(t,e,n){const r=Ve(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!oy(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Xb(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Lx(r.remoteStore,s.targetId),Zb(r,s.targetId)})).catch(Al)):(Zb(r,s.targetId),await Xb(r.localStore,s.targetId,!0))}async function DU(t,e){const n=Ve(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lx(n.remoteStore,r.targetId))}async function MU(t,e,n){const r=DR(t);try{const s=await(function(i,o){const u=Ve(i),h=He.now(),d=o.reduce(((v,S)=>v.add(S.key)),We());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let S=pr(),_=We();return u.Ns.getEntries(v,d).next((T=>{S=T,S.forEach(((I,A)=>{A.isValidDocument()||(_=_.add(I))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,S))).next((T=>{m=T;const I=[];for(const A of o){const R=QV(A,m.get(A.key).overlayedDocument);R!=null&&I.push(new Ui(A.key,R,mA(R.value.mapValue),In.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,I,o)})).next((T=>{g=T;const I=T.applyToLocalDocumentSet(m,_);return u.documentOverlayCache.saveOverlays(v,T.batchId,I)}))})).then((()=>({batchId:g.batchId,changes:IA(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(i,o,u){let h=i.Vu[i.currentUser.toKey()];h||(h=new Et(Fe)),h=h.insert(o,u),i.Vu[i.currentUser.toKey()]=h})(r,s.batchId,n),await gf(r,s.changes),await mf(r.remoteStore)}catch(s){const i=zx(s,"Failed to persist write");n.reject(i)}}async function CR(t,e){const n=Ve(t);try{const r=await G9(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Ie(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ie(o.hu,14607):s.removedDocuments.size>0&&(Ie(o.hu,42227),o.hu=!1))})),await gf(n,r,e)}catch(r){await Al(r)}}function M_(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const u=o.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(i,o){const u=Ve(i);u.onlineState=o;let h=!1;u.queries.forEach(((d,m)=>{for(const g of m.Sa)g.va(o)&&(h=!0)})),h&&qx(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OU(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Et(de.comparator);o=o.insert(i,Pt.newNoDocument(i,Ne.min()));const u=We().add(i),h=new hy(Ne.min(),new Map,new Et(Fe),o,u);await CR(r,h),r.du=r.du.remove(i),r.Au.delete(e),Gx(r)}else await Xb(r.localStore,e,!1).then((()=>Zb(r,e,n))).catch(Al)}async function LU(t,e){const n=Ve(t),r=e.batch.batchId;try{const s=await K9(n.localStore,e);AR(n,r,null),NR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gf(n,s)}catch(s){await Al(s)}}async function jU(t,e,n){const r=Ve(t);try{const s=await(function(i,o){const u=Ve(i);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let d;return u.mutationQueue.lookupMutationBatch(h,o).next((m=>(Ie(m!==null,37113),d=m.keys(),u.mutationQueue.removeMutationBatch(h,m)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,o))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d))).next((()=>u.localDocuments.getDocuments(h,d)))}))})(r.localStore,e);AR(r,e,n),NR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gf(r,s)}catch(s){await Al(s)}}function NR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function AR(t,e,n){const r=Ve(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Zb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||RR(t,r)}))}function RR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Lx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Gx(t))}function O_(t,e,n){for(const r of n)r instanceof TR?(t.Ru.addReference(r.key,e),FU(t,r)):r instanceof _R?(le(Kx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||RR(t,r.key)):ke(19791,{wu:r})}function FU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(le(Kx,"New document in limbo: "+n),t.Eu.add(r),Gx(t))}function Gx(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new de(st.fromString(e)),r=t.fu.next();t.Au.set(r,new IU(n)),t.du=t.du.insert(n,r),bR(t.remoteStore,new Si(Mr(hf(n.path)),r,"TargetPurposeLimboResolution",Pr.ce))}}async function gf(t,e,n){const r=Ve(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{o.push(r.pu(h,e,n).then((d=>{var m;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(m=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(d){s.push(d);const g=Mx.As(h.targetId,d);i.push(g)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(u,h){const d=Ve(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Q.forEach(h,(g=>Q.forEach(g.Es,(v=>d.persistence.referenceDelegate.addReference(m,g.targetId,v))).next((()=>Q.forEach(g.ds,(v=>d.persistence.referenceDelegate.removeReference(m,g.targetId,v)))))))))}catch(m){if(!no(m))throw m;le(Ox,"Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const v=d.Ms.get(g),S=v.snapshotVersion,_=v.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(g,_)}}})(r.localStore,i))}async function VU(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){le(Kx,"User change. New user:",e.toKey());const r=await pR(n.localStore,e);n.currentUser=e,(function(s,i){s.mu.forEach((o=>{o.forEach((u=>{u.reject(new ce(te.CANCELLED,i))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gf(n,r.Ls)}}function UU(t,e){const n=Ve(t),r=n.Au.get(e);if(r&&r.hu)return We().add(r.key);{let s=We();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const u=n.Tu.get(o);s=s.unionWith(u.view.nu)}return s}}function PR(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OU.bind(null,e),e.Pu.H_=SU.bind(null,e.eventManager),e.Pu.yu=kU.bind(null,e.eventManager),e}function DR(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jU.bind(null,e),e}class Ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=my(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return fR(this.persistence,new dR,e.initialUser,this.serializer)}Cu(e){return new Px(py.mi,this.serializer)}Du(e){return new gR}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ud.provider={build:()=>new Ud};class zU extends Ud{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ie(this.persistence.referenceDelegate instanceof wg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new Px((r=>wg.mi(r,n)),this.serializer)}}class BU extends Ud{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await DR(this.xu.syncEngine),await mf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return fR(this.persistence,new dR,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new oR(r,e.asyncQueue,n)}Mu(e,n){const r=new H6(n,this.persistence);return new G6(e.asyncQueue,r)}Cu(e){const n=B9(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new Dx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,rU(),jm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new gR}}class Eg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VU.bind(null,this.syncEngine),await wU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new EU})()}createDatastore(e){const n=my(e.databaseInfo.databaseId),r=(function(s){return new nU(s)})(e.databaseInfo);return(function(s,i,o,u){return new oU(s,i,o,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(n,r,s,i,o){return new uU(n,r,s,i,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>M_(this.syncEngine,n,0)),(function(){return C_.v()?new C_:new J9})())}createSyncEngine(e,n){return(function(r,s,i,o,u,h,d){const m=new CU(r,s,i,o,u,h);return d&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(r){const s=Ve(r);le(xl,"RemoteStore shutting down."),s.Ea.add(5),await pf(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Eg.provider={build:()=>new Eg};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ha="FirestoreClient";class $U{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=pn.UNAUTHENTICATED,this.clientId=dx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{le(Ha,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(le(Ha,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function C0(t,e){t.asyncQueue.verifyOperationInProgress(),le(Ha,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await pR(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function L_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qU(t);le(Ha,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>A_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>A_(e.remoteStore,s))),t._onlineComponents=e}async function qU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(Ha,"Using user provided OfflineComponentProvider");try{await C0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===te.FAILED_PRECONDITION||r.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await C0(t,new Ud)}}else le(Ha,"Using default OfflineComponentProvider"),await C0(t,new zU(void 0));return t._offlineComponents}async function MR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(Ha,"Using user provided OnlineComponentProvider"),await L_(t,t._uninitializedComponentsProvider._online)):(le(Ha,"Using default OnlineComponentProvider"),await L_(t,new Eg))),t._onlineComponents}function WU(t){return MR(t).then((e=>e.syncEngine))}async function Sg(t){const e=await MR(t),n=e.eventManager;return n.onListen=NU.bind(null,e.syncEngine),n.onUnlisten=PU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DU.bind(null,e.syncEngine),n}function KU(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,o,u,h){const d=new Hx({next:g=>{d.Nu(),i.enqueueAndForget((()=>$x(s,m)));const v=g.docs.has(o);!v&&g.fromCache?h.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&u&&u.source==="server"?h.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new Wx(hf(o.path),d,{includeMetadataChanges:!0,qa:!0});return Bx(s,m)})(await Sg(t),t.asyncQueue,e,n,r))),r.promise}function GU(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,o,u,h){const d=new Hx({next:g=>{d.Nu(),i.enqueueAndForget((()=>$x(s,m))),g.fromCache&&u.source==="server"?h.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new Wx(o,d,{includeMetadataChanges:!0,qa:!0});return Bx(s,m)})(await Sg(t),t.asyncQueue,e,n,r))),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function OR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const j_=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const LR="firestore.googleapis.com",F_=!0;class V_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LR,this.ssl=F_}else this.host=e.host,this.ssl=e.ssl??F_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T9)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OR(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new D6;switch(n.type){case"firstParty":return new j6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=j_.get(e);n&&(le("ComponentProvider","Removing Datastore"),j_.delete(e),n.terminate())})(this),Promise.resolve()}}function HU(t,e,n,r={}){var s;t=On(t,yy);const i=Il(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;i&&(Jw(`https://${h}`),Zw("Firestore",!0)),o.host!==LR&&o.host!==h&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:i,emulatorOptions:r};if(!qa(d,u)&&(t._setSettings(d),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=pn.MOCK_USER;else{m=qN(r.mockUserToken,(s=t._app)==null?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new pn(v)}t._authCredentials=new M6(new B2(m,g))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Pl=class jR{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jR(this.firestore,e,this._query)}};class Dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(lf(n,Dt._jsonSchema))return new Dt(e,r||null,new de(st.fromString(n.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Qt("string",Dt._jsonSchemaVersion),referencePath:Qt("string")};class Ba extends Pl{constructor(e,n,r){super(e,n,hf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new de(e))}withConverter(e){return new Ba(this.firestore,e,this._path)}}function Fn(t,e,...n){if(t=Ct(t),q2("collection","path",e),t instanceof yy){const r=st.fromString(e,...n);return NT(r),new Ba(t,null,r)}{if(!(t instanceof Dt||t instanceof Ba))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return NT(r),new Ba(t.firestore,null,r)}}function Hs(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=dx.newId()),q2("doc","path",e),t instanceof yy){const r=st.fromString(e,...n);return CT(r),new Dt(t,null,new de(r))}{if(!(t instanceof Dt||t instanceof Ba))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return CT(r),new Dt(t.firestore,t instanceof Ba?t.converter:null,new de(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const U_="AsyncQueue";class z_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yR(this,"async_queue_retry"),this._c=()=>{const r=jm();r&&le(U_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!no(e))throw e;le(U_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Pn("INTERNAL UNHANDLED ERROR: ",B_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ux.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&ke(47125,{Pc:B_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function B_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $_(t){return(function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Bs extends yy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new z_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function vy(t,e){const n=typeof t=="object"?t:Hg(),r=typeof t=="string"?t:hg,s=eo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=zN("firestore");i&&HU(s,...i)}return s}function by(t){if(t._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FR(t),t._firestoreClient}function FR(t){var e,n,r;const s=t._freezeSettings(),i=(function(o,u,h,d){return new SV(o,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,OR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,((e=t._app)==null?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||(n=s.localCache)!=null&&n._offlineComponentProvider&&(r=s.localCache)!=null&&r._onlineComponentProvider&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new $U(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}})(t._componentsProvider))}function QU(t,e){ml("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return XU(t,Eg.provider,{build:r=>new BU(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function XU(t,e,n){if((t=On(t,Bs))._firestoreClient||t._terminated)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ce(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},FR(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rr(Xt.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rr(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lf(e,Rr._jsonSchema))return Rr.fromBase64String(e.bytes)}}Rr._jsonSchemaVersion="firestore/bytes/1.0",Rr._jsonSchema={type:Qt("string",Rr._jsonSchemaVersion),bytes:Qt("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xy{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ls{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ls._jsonSchemaVersion}}static fromJSON(e){if(lf(e,Ls._jsonSchema))return new Ls(e.latitude,e.longitude)}}Ls._jsonSchemaVersion="firestore/geoPoint/1.0",Ls._jsonSchema={type:Qt("string",Ls._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class js{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:js._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lf(e,js._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new js(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}js._jsonSchemaVersion="firestore/vectorValue/1.0",js._jsonSchema={type:Qt("string",js._jsonSchemaVersion),vectorValues:Qt("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const YU=/^__.*__$/;class JU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ic(e,this.data,n,this.fieldTransforms)}}class VR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function UR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:t})}}class Qx{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return kg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(UR(this.Ac)&&YU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||my(e)}Cc(e,n,r,s=!1){return new Qx({Ac:e,methodName:n,Dc:r,path:Tt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ey(t){const e=t._freezeSettings(),n=my(t._databaseId);return new ZU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zR(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Yx("Data must be an object, but it was:",o,r);const u=BR(r,o);let h,d;if(i.merge)h=new Yn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const m=[];for(const g of i.mergeFields){const v=ew(e,g,n);if(!o.contains(v))throw new ce(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);qR(m,v)||m.push(v)}h=new Yn(m),d=o.fieldTransforms.filter((g=>h.covers(g.field)))}else h=null,d=o.fieldTransforms;return new JU(new _n(u),h,d)}class Sy extends xy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sy}}class Xx extends xy{_toFieldTransform(e){return new MA(e.path,new gc)}isEqual(e){return e instanceof Xx}}function ez(t,e,n,r){const s=t.Cc(1,e,n);Yx("Data must be an object, but it was:",s,r);const i=[],o=_n.empty();ro(r,((h,d)=>{const m=Jx(e,h,n);d=Ct(d);const g=s.yc(m);if(d instanceof Sy)i.push(m);else{const v=yf(d,g);v!=null&&(i.push(m),o.set(m,v))}}));const u=new Yn(i);return new VR(o,u,s.fieldTransforms)}function tz(t,e,n,r,s,i){const o=t.Cc(1,e,n),u=[ew(e,r,n)],h=[s];if(i.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)u.push(ew(e,i[v])),h.push(i[v+1]);const d=[],m=_n.empty();for(let v=u.length-1;v>=0;--v)if(!qR(d,u[v])){const S=u[v];let _=h[v];_=Ct(_);const T=o.yc(S);if(_ instanceof Sy)d.push(S);else{const I=yf(_,T);I!=null&&(d.push(S),m.set(S,I))}}const g=new Yn(d);return new VR(m,g,o.fieldTransforms)}function nz(t,e,n,r=!1){return yf(n,t.Cc(r?4:3,e))}function yf(t,e){if($R(t=Ct(t)))return Yx("Unsupported field value:",e,t),BR(t,e);if(t instanceof xy)return(function(n,r){if(!UR(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,r){const s=[];let i=0;for(const o of n){let u=yf(o,r.wc(i));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),i++}return{arrayValue:{values:s}}})(t,e)}return(function(n,r){if((n=Ct(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return $V(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=He.fromDate(n);return{timestampValue:bc(r.serializer,s)}}if(n instanceof He){const s=new He(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:bc(r.serializer,s)}}if(n instanceof Ls)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Rr)return{bytesValue:zA(r.serializer,n._byteString)};if(n instanceof Dt){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Cx(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof js)return(function(s,i){return{mapValue:{fields:{[wx]:{stringValue:xx},[dc]:{arrayValue:{values:s.toArray().map((o=>{if(typeof o!="number")throw i.Sc("VectorValues must only contain numeric values.");return Sx(i.serializer,o)}))}}}}}})(n,r);throw r.Sc(`Unsupported field value: ${Zg(n)}`)})(t,e)}function BR(t,e){const n={};return aA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ro(t,((r,s)=>{const i=yf(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function $R(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof Ls||t instanceof Rr||t instanceof Dt||t instanceof xy||t instanceof js)}function Yx(t,e,n){if(!$R(n)||!W2(n)){const r=Zg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ew(t,e,n){if((e=Ct(e))instanceof wy)return e._internalPath;if(typeof e=="string")return Jx(t,e);throw kg("Field path arguments must be of type string or ",t,!1,void 0,n)}const rz=new RegExp("[~\\*/\\[\\]]");function Jx(t,e,n){if(e.search(rz)>=0)throw kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wy(...e.split("."))._internalPath}catch{throw kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kg(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(i||o)&&(h+=" (found",i&&(h+=` in field ${r}`),o&&(h+=` in document ${s}`),h+=")"),new ce(te.INVALID_ARGUMENT,u+t+h)}function qR(t,e){return t.some((n=>n.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ky("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sz extends WR{data(){return super.data()}}function ky(t,e){return typeof e=="string"?Jx(t,e):e instanceof wy?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function KR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zx{}class e1 extends Zx{}function $s(t,e,...n){let r=[];e instanceof Zx&&r.push(e),r=r.concat(n),(function(s){const i=s.filter((u=>u instanceof t1)).length,o=s.filter((u=>u instanceof Ty)).length;if(i>1||i>0&&o>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Ty extends e1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ty(e,n,r)}_apply(e){const n=this._parse(e);return HR(e._query,n),new Pl(e.firestore,e.converter,Bb(e._query,n))}_parse(e){const n=Ey(e.firestore);return(function(r,s,i,o,u,h,d){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){W_(d,h);const g=[];for(const v of d)g.push(q_(o,r,v));m={arrayValue:{values:g}}}else m=q_(o,r,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||W_(d,h),m=nz(i,s,d,h==="in"||h==="not-in");return Qe.create(u,h,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zr(t,e,n){const r=e,s=ky("where",t);return Ty._create(s,r,n)}class t1 extends Zx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t1(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:at.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,s){let i=r;const o=s.getFlattenedFilters();for(const u of o)HR(i,u),i=Bb(i,u)})(e._query,n),new Pl(e.firestore,e.converter,Bb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class n1 extends e1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new n1(e,n)}_apply(e){const n=(function(r,s,i){if(r.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fd(s,i)})(e._query,this._field,this._direction);return new Pl(e.firestore,e.converter,(function(r,s){const i=r.explicitOrderBy.concat([s]);return new _c(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,n))}}function vf(t,e="asc"){const n=e,r=ky("orderBy",t);return n1._create(r,n)}class r1 extends e1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new r1(e,n,r)}_apply(e){return new Pl(e.firestore,e.converter,pg(e._query,this._limit,this._limitType))}}function GR(t){return r1._create("limit",t,"F")}function q_(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SA(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!de.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ld(t,new de(r))}if(n instanceof Dt)return Ld(t,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zg(n)}.`)}function W_(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HR(t,e){const n=(function(r,s){for(const i of r)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iz{convertValue(e,n="none"){switch(Wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ro(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)==null?void 0:n[dc].arrayValue)==null?void 0:r.values)==null?void 0:s.map((o=>wt(o.doubleValue)));return new js(i)}convertGeoPoint(e){return new Ls(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=iy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Md(e));default:return null}}convertTimestamp(e){const n=Ni(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Ie(YA(r),9688,{name:e});const s=new gl(r.get(1),r.get(3)),i=new de(r.popFirst(5));return s.isEqual(n)||Pn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function QR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ad{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ll extends WR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ky("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ll._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),n}}ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",ll._jsonSchema={type:Qt("string",ll._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Fm extends ll{data(e={}){return super.data(e)}}class ul{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ad(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Fm(this._firestore,this._userDataWriter,r.key,r,new ad(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map((o=>{const u=new Fm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ad(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:i++}}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const u=new Fm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ad(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return o.type!==0&&(h=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),d=i.indexOf(o.doc.key)),{type:az(o.type),doc:u,oldIndex:h,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function az(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function XR(t){t=On(t,Dt);const e=On(t.firestore,Bs);return KU(by(e),t._key).then((n=>JR(e,t,n)))}ul._jsonSchemaVersion="firestore/querySnapshot/1.0",ul._jsonSchema={type:Qt("string",ul._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class s1 extends iz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function qs(t){t=On(t,Pl);const e=On(t.firestore,Bs),n=by(e),r=new s1(e);return KR(t._query),GU(n,t._query).then((s=>new ul(e,r,t,s)))}function _y(t,e,n){t=On(t,Dt);const r=On(t.firestore,Bs),s=QR(t.converter,e,n);return Iy(r,[zR(Ey(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,In.none())])}function zd(t,e,n,...r){t=On(t,Dt);const s=On(t.firestore,Bs),i=Ey(s);let o;return o=typeof(e=Ct(e))=="string"||e instanceof wy?tz(i,"updateDoc",t._key,e,n,r):ez(i,"updateDoc",t._key,e),Iy(s,[o.toMutation(t._key,In.exists(!0))])}function Xte(t){return Iy(On(t.firestore,Bs),[new cy(t._key,In.none())])}function i1(t,e){const n=On(t.firestore,Bs),r=Hs(t),s=QR(t.converter,e);return Iy(n,[zR(Ey(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,In.exists(!1))]).then((()=>r))}function YR(t,...e){var n,r,s;t=Ct(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||$_(e[o])||(i=e[o++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if($_(e[o])){const g=e[o];e[o]=(n=g.next)==null?void 0:n.bind(g),e[o+1]=(r=g.error)==null?void 0:r.bind(g),e[o+2]=(s=g.complete)==null?void 0:s.bind(g)}let h,d,m;if(t instanceof Dt)d=On(t.firestore,Bs),m=hf(t._key.path),h={next:g=>{e[o]&&e[o](JR(d,t,g))},error:e[o+1],complete:e[o+2]};else{const g=On(t,Pl);d=On(g.firestore,Bs),m=g._query;const v=new s1(d);h={next:S=>{e[o]&&e[o](new ul(d,v,g,S))},error:e[o+1],complete:e[o+2]},KR(t._query)}return(function(g,v,S,_){const T=new Hx(_),I=new Wx(v,T,S);return g.asyncQueue.enqueueAndForget((async()=>Bx(await Sg(g),I))),()=>{T.Nu(),g.asyncQueue.enqueueAndForget((async()=>$x(await Sg(g),I)))}})(by(d),m,u,h)}function Iy(t,e){return(function(n,r){const s=new Os;return n.asyncQueue.enqueueAndForget((async()=>MU(await WU(n),r,s))),s.promise})(by(t),e)}function JR(t,e,n){const r=n.docs.get(e._key),s=new s1(t);return new ll(t,s,e._key,r,new ad(n.hasPendingWrites,n.fromCache),e.converter)}function Dn(){return new Xx("serverTimestamp")}(function(t,e=!0){(function(n){Tc=n})(Nl),ns(new jr("firestore",((n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new Bs(new O6(n.getProvider("auth-internal")),new F6(i,n.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(u.options.projectId,h)})(i,r),i);return s={useFetchStreams:e,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Zn(kT,TT,t),Zn(kT,TT,"esm2020")})();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ZR="firebasestorage.googleapis.com",oz="storageBucket",lz=120*1e3,uz=600*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Qs extends Fr{constructor(e,n,r=0){super(N0(e),`Firebase Storage: ${n} (${N0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return N0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ws;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ws||(Ws={}));function N0(t){return"storage/"+t}function cz(){const t="An unknown error occurred, please check the error payload for server response.";return new Qs(Ws.UNKNOWN,t)}function hz(){return new Qs(Ws.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dz(){return new Qs(Ws.CANCELED,"User canceled the upload/download.")}function fz(t){return new Qs(Ws.INVALID_URL,"Invalid URL '"+t+"'.")}function pz(t){return new Qs(Ws.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function K_(t){return new Qs(Ws.INVALID_ARGUMENT,t)}function eP(){return new Qs(Ws.APP_DELETED,"The Firebase app was deleted.")}function mz(t){return new Qs(Ws.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class es{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=es.makeFromUrl(e,n)}catch{return new es(e,"")}if(r.path==="")return r;throw pz(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+s+o,"i"),h={bucket:1,path:3};function d(O){O.path_=decodeURIComponent(O.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",S=new RegExp(`^https?://${g}/${m}/b/${s}/o${v}`,"i"),_={bucket:1,path:3},T=n===ZR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",A=new RegExp(`^https?://${T}/${s}/${I}`,"i"),R=[{regex:u,indices:h,postModify:i},{regex:S,indices:_,postModify:d},{regex:A,indices:{bucket:1,path:2},postModify:d}];for(let O=0;O<R.length;O++){const U=R[O],B=U.regex.exec(e);if(B){const G=B[U.indices.bucket];let D=B[U.indices.path];D||(D=""),r=new es(G,D),U.postModify(r);break}}if(r==null)throw fz(e);return r}}class gz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yz(t,e,n){let r=1,s=null,i=null,o=!1,u=0;function h(){return u===2}let d=!1;function m(...I){d||(d=!0,e.apply(null,I))}function g(I){s=setTimeout(()=>{s=null,t(S,h())},I)}function v(){i&&clearTimeout(i)}function S(I,...A){if(d){v();return}if(I){v(),m.call(null,I,...A);return}if(h()||o){v(),m.call(null,I,...A);return}r<64&&(r*=2);let R;u===1?(u=2,R=0):R=(r+Math.random())*1e3,g(R)}let _=!1;function T(I){_||(_=!0,v(),!d&&(s!==null?(I||(u=2),clearTimeout(s),g(0)):I||(u=1)))}return g(0),i=setTimeout(()=>{o=!0,T(!0)},n),T}function vz(t){t(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bz(t){return t!==void 0}function G_(t,e,n,r){if(r<e)throw K_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw K_(`Invalid value for '${t}'. Expected ${n} or less.`)}function wz(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Tg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Tg||(Tg={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xz(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ez{constructor(e,n,r,s,i,o,u,h,d,m,g,v=!0,S=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=m,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,T)=>{this.resolve_=_,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new nm(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=u=>{const h=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const u=i.getErrorCode()===Tg.NO_ERROR,h=i.getStatus();if(!u||xz(h,this.additionalRetryCodes_)&&this.retry){const m=i.getErrorCode()===Tg.ABORT;r(!1,new nm(!1,null,m));return}const d=this.successCodes_.indexOf(h)!==-1;r(!0,new nm(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());bz(h)?i(h):i()}catch(h){o(h)}else if(u!==null){const h=cz();h.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,h)):o(h)}else if(s.canceled){const h=this.appDelete_?eP():dz();o(h)}else{const h=hz();o(h)}};this.canceled_?n(!1,new nm(!1,null,!0)):this.backoffId_=yz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Sz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Tz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _z(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Iz(t,e,n,r,s,i,o=!0,u=!1){const h=wz(t.urlParams),d=t.url+h,m=Object.assign({},t.headers);return Tz(m,e),Sz(m,n),kz(m,i),_z(m,r),new Ez(d,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,u)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Cz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Nz(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _g{constructor(e,n){this._service=e,n instanceof es?this._location=n:this._location=es.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _g(e,n)}get root(){const e=new es(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Nz(this._location.path)}get storage(){return this._service}get parent(){const e=Cz(this._location.path);if(e===null)return null;const n=new es(this._location.bucket,e);return new _g(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw mz(e)}}function H_(t,e){const n=e==null?void 0:e[oz];return n==null?null:es.makeFromBucketSpec(n,t)}function Az(t,e,n,r={}){t.host=`${e}:${n}`;const s=Il(e);s&&(Jw(`https://${t.host}/b`),Zw("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:qN(i,t.app.options.projectId))}class Rz{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=ZR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lz,this._maxUploadRetryTime=uz,this._requests=new Set,s!=null?this._bucket=es.makeFromBucketSpec(s,this._host):this._bucket=H_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=es.makeFromBucketSpec(this._url,e):this._bucket=H_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){G_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){G_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _g(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new gz(eP());{const o=Iz(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Q_="@firebase/storage",X_="0.14.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tP="storage";function Pz(t=Hg(),e){t=Ct(t);const n=eo(t,tP).getImmediate({identifier:e}),r=zN("storage");return r&&Dz(n,...r),n}function Dz(t,e,n,r={}){Az(t,e,n,r)}function Mz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Rz(n,r,s,e,Nl)}function Oz(){ns(new jr(tP,Mz,"PUBLIC").setMultipleInstances(!0)),Zn(Q_,X_,""),Zn(Q_,X_,"esm2020")}Oz();const nP="@firebase/installations",a1="0.6.19";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const rP=1e4,sP=`w:${a1}`,iP="FIS_v2",Lz="https://firebaseinstallations.googleapis.com/v1",jz=3600*1e3,Fz="installations",Vz="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Uz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},El=new Cl(Fz,Vz,Uz);function aP(t){return t instanceof Fr&&t.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function oP({projectId:t}){return`${Lz}/projects/${t}/installations`}function lP(t){return{token:t.token,requestStatus:2,expiresIn:Bz(t.expiresIn),creationTime:Date.now()}}async function uP(t,e){const n=(await e.json()).error;return El.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function cP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zz(t,{refreshToken:e}){const n=cP(t);return n.append("Authorization",$z(e)),n}async function hP(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Bz(t){return Number(t.replace("s","000"))}function $z(t){return`${iP} ${t}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function qz({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=oP(t),s=cP(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:iP,appId:t.appId,sdkVersion:sP},u={method:"POST",headers:s,body:JSON.stringify(o)},h=await hP(()=>fetch(r,u));if(h.ok){const d=await h.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:lP(d.authToken)}}else throw await uP("Create Installation",h)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dP(t){return new Promise(e=>{setTimeout(e,t)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Wz(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Kz=/^[cdef][\w-]{21}$/,tw="";function Gz(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=Hz(t);return Kz.test(e)?e:tw}catch{return tw}}function Hz(t){return Wz(t).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Cy(t){return`${t.appName}!${t.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fP=new Map;function pP(t,e){const n=Cy(t);mP(n,e),Qz(n,e)}function mP(t,e){const n=fP.get(t);if(n)for(const r of n)r(e)}function Qz(t,e){const n=Xz();n&&n.postMessage({key:t,fid:e}),Yz()}let tl=null;function Xz(){return!tl&&"BroadcastChannel"in self&&(tl=new BroadcastChannel("[Firebase] FID Change"),tl.onmessage=t=>{mP(t.data.key,t.data.fid)}),tl}function Yz(){fP.size===0&&tl&&(tl.close(),tl=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Jz="firebase-installations-database",Zz=1,Sl="firebase-installations-store";let A0=null;function o1(){return A0||(A0=YN(Jz,Zz,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Sl)}}})),A0}async function Ig(t,e){const n=Cy(t),r=(await o1()).transaction(Sl,"readwrite"),s=r.objectStore(Sl),i=await s.get(n);return await s.put(e,n),await r.done,(!i||i.fid!==e.fid)&&pP(t,e.fid),e}async function gP(t){const e=Cy(t),n=(await o1()).transaction(Sl,"readwrite");await n.objectStore(Sl).delete(e),await n.done}async function Ny(t,e){const n=Cy(t),r=(await o1()).transaction(Sl,"readwrite"),s=r.objectStore(Sl),i=await s.get(n),o=e(i);return o===void 0?await s.delete(n):await s.put(o,n),await r.done,o&&(!i||i.fid!==o.fid)&&pP(t,o.fid),o}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function l1(t){let e;const n=await Ny(t.appConfig,r=>{const s=eB(r),i=tB(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===tw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function eB(t){const e=t||{fid:Gz(),registrationStatus:0};return yP(e)}function tB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(El.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=nB(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:rB(t)}:{installationEntry:e}}async function nB(t,e){try{const n=await qz(t,e);return Ig(t.appConfig,n)}catch(n){throw aP(n)&&n.customData.serverCode===409?await gP(t.appConfig):await Ig(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function rB(t){let e=await Y_(t.appConfig);for(;e.registrationStatus===1;)await dP(100),e=await Y_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await l1(t);return r||n}return e}function Y_(t){return Ny(t,e=>{if(!e)throw El.create("installation-not-found");return yP(e)})}function yP(t){return sB(t)?{fid:t.fid,registrationStatus:0}:t}function sB(t){return t.registrationStatus===1&&t.registrationTime+rP<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function iB({appConfig:t,heartbeatServiceProvider:e},n){const r=aB(t,n),s=zz(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:sP,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(o)},h=await hP(()=>fetch(r,u));if(h.ok){const d=await h.json();return lP(d)}else throw await uP("Generate Auth Token",h)}function aB(t,{fid:e}){return`${oP(t)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function u1(t,e=!1){let n;const r=await Ny(t.appConfig,s=>{if(!vP(s))throw El.create("not-registered");const i=s.authToken;if(!e&&uB(i))return s;if(i.requestStatus===1)return n=oB(t,e),s;{if(!navigator.onLine)throw El.create("app-offline");const o=hB(s);return n=lB(t,o),o}});return n?await n:r.authToken}async function oB(t,e){let n=await J_(t.appConfig);for(;n.authToken.requestStatus===1;)await dP(100),n=await J_(t.appConfig);const r=n.authToken;return r.requestStatus===0?u1(t,e):r}function J_(t){return Ny(t,e=>{if(!vP(e))throw El.create("not-registered");const n=e.authToken;return dB(n)?{...e,authToken:{requestStatus:0}}:e})}async function lB(t,e){try{const n=await iB(t,e),r={...e,authToken:n};return await Ig(t.appConfig,r),n}catch(n){if(aP(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await gP(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Ig(t.appConfig,r)}throw n}}function vP(t){return t!==void 0&&t.registrationStatus===2}function uB(t){return t.requestStatus===2&&!cB(t)}function cB(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+jz}function hB(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function dB(t){return t.requestStatus===1&&t.requestTime+rP<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function fB(t){const e=t,{installationEntry:n,registrationPromise:r}=await l1(e);return r?r.catch(console.error):u1(e).catch(console.error),n.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function pB(t,e=!1){const n=t;return await mB(n),(await u1(n,e)).token}async function mB(t){const{registrationPromise:e}=await l1(t);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function gB(t){if(!t||!t.options)throw R0("App Configuration");if(!t.name)throw R0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw R0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function R0(t){return El.create("missing-app-config-values",{valueName:t})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bP="installations",yB="installations-internal",vB=t=>{const e=t.getProvider("app").getImmediate(),n=gB(e),r=eo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},bB=t=>{const e=t.getProvider("app").getImmediate(),n=eo(e,bP).getImmediate();return{getId:()=>fB(n),getToken:r=>pB(n,r)}};function wB(){ns(new jr(bP,vB,"PUBLIC")),ns(new jr(yB,bB,"PRIVATE"))}wB();Zn(nP,a1);Zn(nP,a1,"esm2020");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cg="analytics",xB="firebase_id",EB="origin",SB=60*1e3,kB="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",c1="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jn=new Gg("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const TB={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mr=new Cl("analytics","Analytics",TB);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _B(t){if(!t.startsWith(c1)){const e=mr.create("invalid-gtag-resource",{gtagURL:t});return jn.warn(e.message),""}return t}function wP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function IB(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function CB(t,e){const n=IB("firebase-js-sdk-policy",{createScriptURL:_B}),r=document.createElement("script"),s=`${c1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function NB(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function AB(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const u=(await wP(n)).find(h=>h.measurementId===s);u&&await e[u.appId]}}catch(u){jn.error(u)}t("config",s,i)}async function RB(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const u=await wP(n);for(const h of o){const d=u.find(g=>g.measurementId===h),m=d&&e[d.appId];if(m)i.push(m);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){jn.error(i)}}function PB(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[u,h]=o;await RB(t,e,n,u,h)}else if(i==="config"){const[u,h]=o;await AB(t,e,n,r,u,h)}else if(i==="consent"){const[u,h]=o;t("consent",u,h)}else if(i==="get"){const[u,h,d]=o;t("get",u,h,d)}else if(i==="set"){const[u]=o;t("set",u)}else t(i,...o)}catch(u){jn.error(u)}}return s}function DB(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=PB(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function MB(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(c1)&&n.src.includes(t))return n;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const OB=30,LB=1e3;class jB{constructor(e={},n=LB){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xP=new jB;function FB(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function VB(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:FB(r)},i=kB.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let u="";try{const h=await o.json();(e=h.error)!=null&&e.message&&(u=h.error.message)}catch{}throw mr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function UB(t,e=xP,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw mr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw mr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new $B;return setTimeout(async()=>{u.abort()},SB),EP({appId:r,apiKey:s,measurementId:i},o,u,e)}async function EP(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=xP){var i;const{appId:o,measurementId:u}=t;try{await zB(r,e)}catch(h){if(u)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:o,measurementId:u};throw h}try{const h=await VB(t);return s.deleteThrottleMetadata(o),h}catch(h){const d=h;if(!BB(d)){if(s.deleteThrottleMetadata(o),u)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:u};throw h}const m=Number((i=d==null?void 0:d.customData)==null?void 0:i.httpStatus)===503?Qk(n,s.intervalMillis,OB):Qk(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return s.setThrottleMetadata(o,g),jn.debug(`Calling attemptFetch again in ${m} millis`),EP(t,g,r,s)}}function zB(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(mr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function BB(t){if(!(t instanceof Fr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class $B{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function qB(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function WB(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function KB(){if(Kg())try{await tx()}catch(t){return jn.warn(mr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return jn.warn(mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function GB(t,e,n,r,s,i,o){const u=UB(t);u.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>jn.error(v)),e.push(u);const h=KB().then(v=>{if(v)return r.getId()}),[d,m]=await Promise.all([u,h]);MB(i)||CB(i,d.measurementId),s("js",new Date);const g=(o==null?void 0:o.config)??{};return g[EB]="firebase",g.update=!0,m!=null&&(g[xB]=m),s("config",d.measurementId,g),d.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class HB{constructor(e){this.app=e}_delete(){return delete rc[this.app.options.appId],Promise.resolve()}}let rc={},Z_=[];const eI={};let P0="dataLayer",QB="gtag",tI,h1,nI=!1;function XB(){const t=[];if(ex()&&t.push("This is a browser extension environment."),HN()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=mr.create("invalid-analytics-context",{errorInfo:e});jn.warn(n.message)}}function YB(t,e,n){XB();const r=t.options.appId;if(!r)throw mr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mr.create("no-api-key");if(rc[r]!=null)throw mr.create("already-exists",{id:r});if(!nI){NB(P0);const{wrappedGtag:s,gtagCore:i}=DB(rc,Z_,eI,P0,QB);h1=s,tI=i,nI=!0}return rc[r]=GB(t,Z_,eI,e,tI,P0,n),new HB(t)}function SP(t=Hg()){t=Ct(t);const e=eo(t,Cg);return e.isInitialized()?e.getImmediate():JB(t)}function JB(t,e={}){const n=eo(t,Cg);if(n.isInitialized()){const r=n.getImmediate();if(qa(e,n.getOptions()))return r;throw mr.create("already-initialized")}return n.initialize({options:e})}async function kP(){if(ex()||!HN()||!Kg())return!1;try{return await tx()}catch{return!1}}function ZB(t,e,n){t=Ct(t),WB(h1,rc[t.app.options.appId],e,n).catch(r=>jn.error(r))}function TP(t,e,n,r){t=Ct(t),qB(h1,rc[t.app.options.appId],e,n,r).catch(s=>jn.error(s))}const rI="@firebase/analytics",sI="0.10.19";function e8(){ns(new jr(Cg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return YB(r,s,n)},"PUBLIC")),ns(new jr("analytics-internal",t,"PRIVATE")),Zn(rI,sI),Zn(rI,sI,"esm2020");function t(e){try{const n=e.getProvider(Cg).getImmediate();return{logEvent:(r,s,i)=>TP(n,r,s,i),setUserProperties:(r,s)=>ZB(n,r,s)}}catch(n){throw mr.create("interop-component-reg-failed",{reason:n})}}}e8();const t8={apiKey:"AIzaSyA-ji4PrndkvUwbcN6axWGjLJd-pNJrTBY",authDomain:"math-adventure-app.firebaseapp.com",projectId:"math-adventure-app",storageBucket:"math-adventure-app.firebasestorage.app",messagingSenderId:"685781375492",appId:"1:685781375492:web:cb2f52696292927cb07351",measurementId:"G-FGQWD7WPCY"},ss=JN(t8),D0=Jg(ss),n8=vy(ss);Pz(ss);try{QU(n8).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Firestore persistence: Not supported in this browser")})}catch(t){console.warn("Firestore persistence init failed:",t)}let _P=null;try{kP().then(t=>{t&&(_P=SP(ss))}).catch(()=>{})}catch{}const r8=_P;/**
* react-router v7.9.5
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var iI="popstate";function s8(t={}){function e(r,s){let{pathname:i,search:o,hash:u}=r.location;return nw("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Bd(s)}return a8(e,n,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ks(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i8(){return Math.random().toString(36).substring(2,10)}function aI(t,e){return{usr:t.state,key:t.key,idx:e}}function nw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Nc(e):e,state:n,key:e&&e.key||r||i8()}}function Bd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Nc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function a8(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,u="POP",h=null,d=m();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function m(){return(o.state||{idx:null}).idx}function g(){u="POP";let I=m(),A=I==null?null:I-d;d=I,h&&h({action:u,location:T.location,delta:A})}function v(I,A){u="PUSH";let R=nw(T.location,I,A);d=m()+1;let O=aI(R,d),U=T.createHref(R);try{o.pushState(O,"",U)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(U)}i&&h&&h({action:u,location:T.location,delta:1})}function S(I,A){u="REPLACE";let R=nw(T.location,I,A);d=m();let O=aI(R,d),U=T.createHref(R);o.replaceState(O,"",U),i&&h&&h({action:u,location:T.location,delta:0})}function _(I){return o8(I)}let T={get action(){return u},get location(){return t(s,o)},listen(I){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(iI,g),h=I,()=>{s.removeEventListener(iI,g),h=null}},createHref(I){return e(s,I)},createURL:_,encodeLocation(I){let A=_(I);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:S,go(I){return o.go(I)}};return T}function o8(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Bd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function IP(t,e,n="/"){return l8(t,e,n,!1)}function l8(t,e,n,r){let s=typeof e=="string"?Nc(e):e,i=Ri(s.pathname||"/",n);if(i==null)return null;let o=CP(t);u8(o);let u=null;for(let h=0;u==null&&h<o.length;++h){let d=w8(i);u=v8(o[h],d,r)}return u}function CP(t,e=[],n=[],r="",s=!1){let i=(o,u,h=s,d)=>{let m={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&h)return;It(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let g=_i([r,m.relativePath]),v=n.concat(m);o.children&&o.children.length>0&&(It(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),CP(o.children,e,v,g,h)),!(o.path==null&&!o.index)&&e.push({path:g,score:g8(g,o.index),routesMeta:v})};return t.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,u);else for(let d of NP(o.path))i(o,u,!0,d)}),e}function NP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=NP(r.join("/")),u=[];return u.push(...o.map(h=>h===""?i:[i,h].join("/"))),s&&u.push(...o),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function u8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:y8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var c8=/^:[\w-]+$/,h8=3,d8=2,f8=1,p8=10,m8=-2,oI=t=>t==="*";function g8(t,e){let n=t.split("/"),r=n.length;return n.some(oI)&&(r+=m8),e&&(r+=d8),n.filter(s=>!oI(s)).reduce((s,i)=>s+(c8.test(i)?h8:i===""?f8:p8),r)}function y8(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function v8(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let u=0;u<r.length;++u){let h=r[u],d=u===r.length-1,m=i==="/"?e:e.slice(i.length)||"/",g=Ng({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},m),v=h.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=Ng({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:_i([i,g.pathname]),pathnameBase:k8(_i([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=_i([i,g.pathnameBase]))}return o}function Ng(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=b8(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,{paramName:d,isOptional:m},g)=>{if(d==="*"){let S=u[g]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const v=u[g];return m&&!v?h[d]=void 0:h[d]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function b8(t,e=!1,n=!0){Ks(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function w8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ks(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ri(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function x8(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Nc(t):t;return{pathname:n?n.startsWith("/")?n:E8(n,e):e,search:T8(r),hash:_8(s)}}function E8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function M0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function AP(t){let e=S8(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function RP(t,e,n,r=!1){let s;typeof t=="string"?s=Nc(t):(s={...t},It(!s.pathname||!s.pathname.includes("?"),M0("?","pathname","search",s)),It(!s.pathname||!s.pathname.includes("#"),M0("#","pathname","hash",s)),It(!s.search||!s.search.includes("#"),M0("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?e[g]:"/"}let h=x8(s,u),d=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||m)&&(h.pathname+="/"),h}var _i=t=>t.join("/").replace(/\/\/+/g,"/"),k8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function I8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var PP=["POST","PUT","PATCH","DELETE"];new Set(PP);var C8=["GET",...PP];new Set(C8);var Ac=E.createContext(null);Ac.displayName="DataRouter";var Ay=E.createContext(null);Ay.displayName="DataRouterState";E.createContext(!1);var DP=E.createContext({isTransitioning:!1});DP.displayName="ViewTransition";var N8=E.createContext(new Map);N8.displayName="Fetchers";var A8=E.createContext(null);A8.displayName="Await";var Xs=E.createContext(null);Xs.displayName="Navigation";var bf=E.createContext(null);bf.displayName="Location";var zi=E.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var d1=E.createContext(null);d1.displayName="RouteError";function R8(t,{relative:e}={}){It(wf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(Xs),{hash:s,pathname:i,search:o}=xf(t,{relative:e}),u=i;return n!=="/"&&(u=i==="/"?n:_i([n,i])),r.createHref({pathname:u,search:o,hash:s})}function wf(){return E.useContext(bf)!=null}function Bi(){return It(wf(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(bf).location}var MP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OP(t){E.useContext(Xs).static||E.useLayoutEffect(t)}function f1(){let{isDataRoute:t}=E.useContext(zi);return t?q8():P8()}function P8(){It(wf(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Ac),{basename:e,navigator:n}=E.useContext(Xs),{matches:r}=E.useContext(zi),{pathname:s}=Bi(),i=JSON.stringify(AP(r)),o=E.useRef(!1);return OP(()=>{o.current=!0}),E.useCallback((u,h={})=>{if(Ks(o.current,MP),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=RP(u,JSON.parse(i),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:_i([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,i,s,t])}E.createContext(null);function xf(t,{relative:e}={}){let{matches:n}=E.useContext(zi),{pathname:r}=Bi(),s=JSON.stringify(AP(n));return E.useMemo(()=>RP(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function D8(t,e){return LP(t,e)}function LP(t,e,n,r,s){var i;It(wf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(Xs),{matches:u}=E.useContext(zi),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let O=v&&v.path||"";jP(m,!v||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let S=Bi(),_;if(e){let O=typeof e=="string"?Nc(e):e;It(g==="/"||((i=O.pathname)==null?void 0:i.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${O.pathname}" was given in the \`location\` prop.`),_=O}else _=S;let T=_.pathname||"/",I=T;if(g!=="/"){let O=g.replace(/^\//,"").split("/");I="/"+T.replace(/^\//,"").split("/").slice(O.length).join("/")}let A=IP(t,{pathname:I});Ks(v||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ks(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=F8(A&&A.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:_i([g,o.encodeLocation?o.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?g:_i([g,o.encodeLocation?o.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),u,n,r,s);return e&&R?E.createElement(bf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},R):R}function M8(){let t=$8(),e=I8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:i},"ErrorBoundary")," or"," ",E.createElement("code",{style:i},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,o)}var O8=E.createElement(M8,null),L8=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(zi.Provider,{value:this.props.routeContext},E.createElement(d1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function j8({routeContext:t,match:e,children:n}){let r=E.useContext(Ac);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(zi.Provider,{value:t},n)}function F8(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let d=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);It(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,h=-1;if(n)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:g,errors:v}=n,S=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||S){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((d,m,g)=>{let v,S=!1,_=null,T=null;n&&(v=o&&m.route.id?o[m.route.id]:void 0,_=m.route.errorElement||O8,u&&(h<0&&g===0?(jP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,T=null):h===g&&(S=!0,T=m.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,g+1)),A=()=>{let R;return v?R=_:S?R=T:m.route.Component?R=E.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=d,E.createElement(j8,{match:m,routeContext:{outlet:d,matches:I,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?E.createElement(L8,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:A(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:r}):A()},null)}function p1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V8(t){let e=E.useContext(Ac);return It(e,p1(t)),e}function U8(t){let e=E.useContext(Ay);return It(e,p1(t)),e}function z8(t){let e=E.useContext(zi);return It(e,p1(t)),e}function m1(t){let e=z8(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function B8(){return m1("useRouteId")}function $8(){var t;let e=E.useContext(d1),n=U8("useRouteError"),r=m1("useRouteError");return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function q8(){let{router:t}=V8("useNavigate"),e=m1("useNavigate"),n=E.useRef(!1);return OP(()=>{n.current=!0}),E.useCallback(async(r,s={})=>{Ks(n.current,MP),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var lI={};function jP(t,e,n){!e&&!lI[t]&&(lI[t]=!0,Ks(!1,n))}E.memo(W8);function W8({routes:t,future:e,state:n,unstable_onError:r}){return LP(t,void 0,n,r,e)}function Ut(t){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K8({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){It(!wf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Nc(n));let{pathname:h="/",search:d="",hash:m="",state:g=null,key:v="default"}=n,S=E.useMemo(()=>{let _=Ri(h,o);return _==null?null:{location:{pathname:_,search:d,hash:m,state:g,key:v},navigationType:r}},[o,h,d,m,g,v,r]);return Ks(S!=null,`<Router basename="${o}"> is not able to match the URL "${h}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:E.createElement(Xs.Provider,{value:u},E.createElement(bf.Provider,{children:e,value:S}))}function G8({children:t,location:e}){return D8(rw(t),e)}function rw(t,e=[]){let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let i=[...e,s];if(r.type===E.Fragment){n.push.apply(n,rw(r.props.children,i));return}It(r.type===Ut,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=rw(r.props.children,i)),n.push(o)}),n}var Vm="get",Um="application/x-www-form-urlencoded";function Ry(t){return t!=null&&typeof t.tagName=="string"}function H8(t){return Ry(t)&&t.tagName.toLowerCase()==="button"}function Q8(t){return Ry(t)&&t.tagName.toLowerCase()==="form"}function X8(t){return Ry(t)&&t.tagName.toLowerCase()==="input"}function Y8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function J8(t,e){return t.button===0&&(!e||e==="_self")&&!Y8(t)}var rm=null;function Z8(){if(rm===null)try{new FormData(document.createElement("form"),0),rm=!1}catch{rm=!0}return rm}var e7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function O0(t){return t!=null&&!e7.has(t)?(Ks(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Um}"`),null):t}function t7(t,e){let n,r,s,i,o;if(Q8(t)){let u=t.getAttribute("action");r=u?Ri(u,e):null,n=t.getAttribute("method")||Vm,s=O0(t.getAttribute("enctype"))||Um,i=new FormData(t)}else if(H8(t)||X8(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(r=h?Ri(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Vm,s=O0(t.getAttribute("formenctype"))||O0(u.getAttribute("enctype"))||Um,i=new FormData(u,t),!Z8()){let{name:d,type:m,value:g}=t;if(m==="image"){let v=d?`${d}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else d&&i.append(d,g)}}else{if(Ry(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vm,r=null,s=Um,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function g1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function n7(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ri(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function r7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function s7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function i7(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await r7(i,n);return o.links?o.links():[]}return[]}));return u7(r.flat(1).filter(s7).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function uI(t,e,n,r,s,i){let o=(h,d)=>n[d]?h.route.id!==n[d].route.id:!0,u=(h,d)=>{var m;return n[d].pathname!==h.pathname||((m=n[d].route.path)==null?void 0:m.endsWith("*"))&&n[d].params["*"]!==h.params["*"]};return i==="assets"?e.filter((h,d)=>o(h,d)||u(h,d)):i==="data"?e.filter((h,d)=>{var m;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(o(h,d)||u(h,d))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function a7(t,e,{includeHydrateFallback:n}={}){return o7(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function o7(t){return[...new Set(t)]}function l7(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function u7(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(l7(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function FP(){let t=E.useContext(Ac);return g1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function c7(){let t=E.useContext(Ay);return g1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var y1=E.createContext(void 0);y1.displayName="FrameworkContext";function VP(){let t=E.useContext(y1);return g1(t,"You must render this element inside a <HydratedRouter> element"),t}function h7(t,e){let n=E.useContext(y1),[r,s]=E.useState(!1),[i,o]=E.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:d,onMouseLeave:m,onTouchStart:g}=e,v=E.useRef(null);E.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let T=A=>{A.forEach(R=>{o(R.isIntersecting)})},I=new IntersectionObserver(T,{threshold:.5});return v.current&&I.observe(v.current),()=>{I.disconnect()}}},[t]),E.useEffect(()=>{if(r){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[r]);let S=()=>{s(!0)},_=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,v,{}]:[i,v,{onFocus:Lh(u,S),onBlur:Lh(h,_),onMouseEnter:Lh(d,S),onMouseLeave:Lh(m,_),onTouchStart:Lh(g,S)}]:[!1,v,{}]}function Lh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function d7({page:t,...e}){let{router:n}=FP(),r=E.useMemo(()=>IP(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(p7,{page:t,matches:r,...e}):null}function f7(t){let{manifest:e,routeModules:n}=VP(),[r,s]=E.useState([]);return E.useEffect(()=>{let i=!1;return i7(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function p7({page:t,matches:e,...n}){let r=Bi(),{manifest:s,routeModules:i}=VP(),{basename:o}=FP(),{loaderData:u,matches:h}=c7(),d=E.useMemo(()=>uI(t,e,h,s,r,"data"),[t,e,h,s,r]),m=E.useMemo(()=>uI(t,e,h,s,r,"assets"),[t,e,h,s,r]),g=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,T=!1;if(e.forEach(A=>{var R;let O=s.routes[A.route.id];!O||!O.hasLoader||(!d.some(U=>U.route.id===A.route.id)&&A.route.id in u&&(R=i[A.route.id])!=null&&R.shouldRevalidate||O.hasClientLoader?T=!0:_.add(A.route.id))}),_.size===0)return[];let I=n7(t,o,"data");return T&&_.size>0&&I.searchParams.set("_routes",e.filter(A=>_.has(A.route.id)).map(A=>A.route.id).join(",")),[I.pathname+I.search]},[o,u,r,s,d,e,t,i]),v=E.useMemo(()=>a7(m,s),[m,s]),S=f7(m);return E.createElement(E.Fragment,null,g.map(_=>E.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),v.map(_=>E.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),S.map(({key:_,link:T})=>E.createElement("link",{key:_,nonce:n.nonce,...T})))}function m7(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var UP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UP&&(window.__reactRouterVersion="7.9.5")}catch{}function g7({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=s8({window:n,v5Compat:!0}));let s=r.current,[i,o]=E.useState({action:s.action,location:s.location}),u=E.useCallback(h=>{E.startTransition(()=>o(h))},[o]);return E.useLayoutEffect(()=>s.listen(u),[s,u]),E.createElement(K8,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var zP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=E.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:s,replace:i,state:o,target:u,to:h,preventScrollReset:d,viewTransition:m,...g},v){let{basename:S}=E.useContext(Xs),_=typeof h=="string"&&zP.test(h),T,I=!1;if(typeof h=="string"&&_&&(T=h,UP))try{let C=new URL(window.location.href),P=h.startsWith("//")?new URL(C.protocol+h):new URL(h),j=Ri(P.pathname,S);P.origin===C.origin&&j!=null?h=j+P.search+P.hash:I=!0}catch{Ks(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=R8(h,{relative:r}),[R,O,U]=h7(n,g),B=w7(h,{replace:i,state:o,target:u,preventScrollReset:d,relative:r,viewTransition:m});function G(C){t&&t(C),C.defaultPrevented||B(C)}let D=E.createElement("a",{...g,...U,href:T||A,onClick:I||s?t:G,ref:m7(v,O),target:u,"data-discover":!_&&e==="render"?"true":void 0});return R&&!_?E.createElement(E.Fragment,null,D,E.createElement(d7,{page:A})):D});an.displayName="Link";var y7=E.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:s,to:i,viewTransition:o,children:u,...h},d){let m=xf(i,{relative:h.relative}),g=Bi(),v=E.useContext(Ay),{navigator:S,basename:_}=E.useContext(Xs),T=v!=null&&T7(m)&&o===!0,I=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,A=g.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(A=A.toLowerCase(),R=R?R.toLowerCase():null,I=I.toLowerCase()),R&&_&&(R=Ri(R,_)||R);const O=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let U=A===I||!r&&A.startsWith(I)&&A.charAt(O)==="/",B=R!=null&&(R===I||!r&&R.startsWith(I)&&R.charAt(I.length)==="/"),G={isActive:U,isPending:B,isTransitioning:T},D=U?t:void 0,C;typeof n=="function"?C=n(G):C=[n,U?"active":null,B?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(G):s;return E.createElement(an,{...h,"aria-current":D,className:C,ref:d,style:P,to:i,viewTransition:o},typeof u=="function"?u(G):u)});y7.displayName="NavLink";var v7=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Vm,action:u,onSubmit:h,relative:d,preventScrollReset:m,viewTransition:g,...v},S)=>{let _=S7(),T=k7(u,{relative:d}),I=o.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&zP.test(u),R=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let U=O.nativeEvent.submitter,B=(U==null?void 0:U.getAttribute("formmethod"))||o;_(U||O.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:s,state:i,relative:d,preventScrollReset:m,viewTransition:g})};return E.createElement("form",{ref:S,method:I,action:T,onSubmit:r?h:R,...v,"data-discover":!A&&t==="render"?"true":void 0})});v7.displayName="Form";function b7(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BP(t){let e=E.useContext(Ac);return It(e,b7(t)),e}function w7(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let u=f1(),h=Bi(),d=xf(t,{relative:i});return E.useCallback(m=>{if(J8(m,e)){m.preventDefault();let g=n!==void 0?n:Bd(h)===Bd(d);u(t,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[h,u,d,n,r,e,t,s,i,o])}var x7=0,E7=()=>`__${String(++x7)}__`;function S7(){let{router:t}=BP("useSubmit"),{basename:e}=E.useContext(Xs),n=B8();return E.useCallback(async(r,s={})=>{let{action:i,method:o,encType:u,formData:h,body:d}=t7(r,e);if(s.navigate===!1){let m=s.fetcherKey||E7();await t.fetch(m,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function k7(t,{relative:e}={}){let{basename:n}=E.useContext(Xs),r=E.useContext(zi);It(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...xf(t||".",{relative:e})},o=Bi();if(t==null){i.search=o.search;let u=new URLSearchParams(i.search),h=u.getAll("index");if(h.some(d=>d==="")){u.delete("index"),h.filter(m=>m).forEach(m=>u.append("index",m));let d=u.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:_i([n,i.pathname])),Bd(i)}function T7(t,{relative:e}={}){let n=E.useContext(DP);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=BP("useViewTransitionState"),s=xf(t,{relative:e});if(!n.isTransitioning)return!1;let i=Ri(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ri(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ng(s.pathname,o)!=null||Ng(s.pathname,i)!=null}var v1=ON();const _7=Qw(v1);function yt(t){if(!t)return"/";const[e,n]=t.split("?"),r="/"+e.replace(/\s+/g,"");return n?`${r}?${n}`:r}var Ef=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},I7={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Mo,cI,hI,C7=(hI=class{constructor(){Me(this,Mo,I7),Me(this,cI,!1)}setTimeoutProvider(t){ge(this,Mo,t)}setTimeout(t,e){return q(this,Mo).setTimeout(t,e)}clearTimeout(t){q(this,Mo).clearTimeout(t)}setInterval(t,e){return q(this,Mo).setInterval(t,e)}clearInterval(t){q(this,Mo).clearInterval(t)}},Mo=new WeakMap,cI=new WeakMap,hI),nl=new C7;function N7(t){setTimeout(t,0)}var kl=typeof window>"u"||"Deno"in globalThis;function Xn(){}function A7(t,e){return typeof t=="function"?t(e):t}function sw(t){return typeof t=="number"&&t>=0&&t!==1/0}function $P(t,e){return Math.max(t+(e||0)-Date.now(),0)}function $a(t,e){return typeof t=="function"?t(e):t}function Ar(t,e){return typeof t=="function"?t(e):t}function dI(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:u}=t;if(o){if(r){if(e.queryHash!==b1(o,e.options))return!1}else if(!qd(e.queryKey,o))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||i&&!i(e))}function fI(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if($d(e.options.mutationKey)!==$d(i))return!1}else if(!qd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function b1(t,e){return((e==null?void 0:e.queryKeyHashFn)||$d)(t)}function $d(t){return JSON.stringify(t,(e,n)=>aw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function qd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>qd(t[n],e[n])):!1}var R7=Object.prototype.hasOwnProperty;function qP(t,e){if(t===e)return t;const n=pI(t)&&pI(e);if(!n&&!(aw(t)&&aw(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),i=s.length,o=n?new Array(i):{};let u=0;for(let h=0;h<i;h++){const d=n?h:s[h],m=t[d],g=e[d];if(m===g){o[d]=m,(n?h<r:R7.call(t,d))&&u++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){o[d]=g;continue}const v=qP(m,g);o[d]=v,v===m&&u++}return r===i&&u===r?t:o}function iw(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function pI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function aw(t){if(!mI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!mI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function mI(t){return Object.prototype.toString.call(t)==="[object Object]"}function P7(t){return new Promise(e=>{nl.setTimeout(e,t)})}function ow(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?qP(t,e):e}function D7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function M7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var w1=Symbol();function WP(t,e){return!t.queryFn&&e!=null&&e.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===w1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function O7(t,e){return typeof t=="function"?t(...e):!!t}var Cu,Oo,jh,gI,L7=(gI=class extends Ef{constructor(){super(),Me(this,Cu),Me(this,Oo),Me(this,jh),ge(this,jh,t=>{if(!kl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){q(this,Oo)||this.setEventListener(q(this,jh))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,Oo))==null||t.call(this),ge(this,Oo,void 0))}setEventListener(t){var e;ge(this,jh,t),(e=q(this,Oo))==null||e.call(this),ge(this,Oo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){q(this,Cu)!==t&&(ge(this,Cu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof q(this,Cu)=="boolean"?q(this,Cu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Cu=new WeakMap,Oo=new WeakMap,jh=new WeakMap,gI),x1=new L7;function lw(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var j7=N7;function F7(){let t=[],e=0,n=u=>{u()},r=u=>{u()},s=j7;const i=u=>{e?t.push(u):s(()=>{n(u)})},o=()=>{const u=t;t=[],u.length&&s(()=>{r(()=>{u.forEach(h=>{n(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||o()}return h},batchCalls:u=>(...h)=>{i(()=>{u(...h)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var yn=F7(),Fh,Lo,Vh,yI,V7=(yI=class extends Ef{constructor(){super(),Me(this,Fh,!0),Me(this,Lo),Me(this,Vh),ge(this,Vh,t=>{if(!kl&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){q(this,Lo)||this.setEventListener(q(this,Vh))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,Lo))==null||t.call(this),ge(this,Lo,void 0))}setEventListener(t){var e;ge(this,Vh,t),(e=q(this,Lo))==null||e.call(this),ge(this,Lo,t(this.setOnline.bind(this)))}setOnline(t){q(this,Fh)!==t&&(ge(this,Fh,t),this.listeners.forEach(e=>{e(t)}))}isOnline(){return q(this,Fh)}},Fh=new WeakMap,Lo=new WeakMap,Vh=new WeakMap,yI),Ag=new V7;function U7(t){return Math.min(1e3*2**t,3e4)}function KP(t){return(t??"online")==="online"?Ag.isOnline():!0}var uw=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function GP(t){let e=!1,n=0,r;const s=lw(),i=()=>s.status!=="pending",o=T=>{var I;if(!i()){const A=new uw(T);v(A),(I=t.onCancel)==null||I.call(t,A)}},u=()=>{e=!0},h=()=>{e=!1},d=()=>x1.isFocused()&&(t.networkMode==="always"||Ag.isOnline())&&t.canRun(),m=()=>KP(t.networkMode)&&t.canRun(),g=T=>{i()||(r==null||r(),s.resolve(T))},v=T=>{i()||(r==null||r(),s.reject(T))},S=()=>new Promise(T=>{var I;r=A=>{(i()||d())&&T(A)},(I=t.onPause)==null||I.call(t)}).then(()=>{var T;r=void 0,i()||(T=t.onContinue)==null||T.call(t)}),_=()=>{if(i())return;let T;const I=n===0?t.initialPromise:void 0;try{T=I??t.fn()}catch(A){T=Promise.reject(A)}Promise.resolve(T).then(g).catch(A=>{var R;if(i())return;const O=t.retry??(kl?0:3),U=t.retryDelay??U7,B=typeof U=="function"?U(n,A):U,G=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,A);if(e||!G){v(A);return}n++,(R=t.onFail)==null||R.call(t,n,A),P7(B).then(()=>d()?void 0:S()).then(()=>{e?v(A):_()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:u,continueRetry:h,canStart:m,start:()=>(m()?_():S().then(_),s)}}var Nu,vI,HP=(vI=class{constructor(){Me(this,Nu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sw(this.gcTime)&&ge(this,Nu,nl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(kl?1/0:300*1e3))}clearGcTimeout(){q(this,Nu)&&(nl.clearTimeout(q(this,Nu)),ge(this,Nu,void 0))}},Nu=new WeakMap,vI),Au,Uh,Qr,Ru,dn,sm,Pu,_s,gi,bI,z7=(bI=class extends HP{constructor(t){super(),Me(this,_s),Me(this,Au),Me(this,Uh),Me(this,Qr),Me(this,Ru),Me(this,dn),Me(this,sm),Me(this,Pu),ge(this,Pu,!1),ge(this,sm,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,Ru,t.client),ge(this,Qr,q(this,Ru).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,Au,xI(this.options)),this.state=t.state??q(this,Au),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,dn))==null?void 0:t.promise}setOptions(t){if(this.options={...q(this,sm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=xI(this.options);e.data!==void 0&&(this.setState(wI(e.data,e.dataUpdatedAt)),ge(this,Au,e))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,Qr).remove(this)}setData(t,e){const n=ow(this.state.data,t,this.options);return Ze(this,_s,gi).call(this,{data:n,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),n}setState(t,e){Ze(this,_s,gi).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var e,n;const r=(e=q(this,dn))==null?void 0:e.promise;return(n=q(this,dn))==null||n.cancel(t),r?r.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,Au))}isActive(){return this.observers.some(t=>Ar(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===w1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>$a(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!$P(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=q(this,dn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=q(this,dn))==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,Qr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(q(this,dn)&&(q(this,Pu)?q(this,dn).cancel({revert:!0}):q(this,dn).cancelRetry()),this.scheduleGc()),q(this,Qr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,_s,gi).call(this,{type:"invalidate"})}async fetch(t,e){var n,r,s,i,o,u,h,d,m,g,v,S;if(this.state.fetchStatus!=="idle"&&((n=q(this,dn))==null?void 0:n.status())!=="rejected"){if(this.state.data!==void 0&&e!=null&&e.cancelRefetch)this.cancel({silent:!0});else if(q(this,dn))return q(this,dn).continueRetry(),q(this,dn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const R=this.observers.find(O=>O.options.queryFn);R&&this.setOptions(R.options)}const _=new AbortController,T=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(ge(this,Pu,!0),_.signal)})},I=()=>{const R=WP(this.options,e),O=(()=>{const U={client:q(this,Ru),queryKey:this.queryKey,meta:this.meta};return T(U),U})();return ge(this,Pu,!1),this.options.persister?this.options.persister(R,O,this):R(O)},A=(()=>{const R={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:q(this,Ru),state:this.state,fetchFn:I};return T(R),R})();(r=this.options.behavior)==null||r.onFetch(A,this),ge(this,Uh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=A.fetchOptions)==null?void 0:s.meta))&&Ze(this,_s,gi).call(this,{type:"fetch",meta:(i=A.fetchOptions)==null?void 0:i.meta}),ge(this,dn,GP({initialPromise:e==null?void 0:e.initialPromise,fn:A.fetchFn,onCancel:R=>{R instanceof uw&&R.revert&&this.setState({...q(this,Uh),fetchStatus:"idle"}),_.abort()},onFail:(R,O)=>{Ze(this,_s,gi).call(this,{type:"failed",failureCount:R,error:O})},onPause:()=>{Ze(this,_s,gi).call(this,{type:"pause"})},onContinue:()=>{Ze(this,_s,gi).call(this,{type:"continue"})},retry:A.options.retry,retryDelay:A.options.retryDelay,networkMode:A.options.networkMode,canRun:()=>!0}));try{const R=await q(this,dn).start();if(R===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(R),(u=(o=q(this,Qr).config).onSuccess)==null||u.call(o,R,this),(d=(h=q(this,Qr).config).onSettled)==null||d.call(h,R,this.state.error,this),R}catch(R){if(R instanceof uw){if(R.silent)return q(this,dn).promise;if(R.revert){if(this.state.data===void 0)throw R;return this.state.data}}throw Ze(this,_s,gi).call(this,{type:"error",error:R}),(g=(m=q(this,Qr).config).onError)==null||g.call(m,R,this),(S=(v=q(this,Qr).config).onSettled)==null||S.call(v,this.state.data,R,this),R}finally{this.scheduleGc()}}},Au=new WeakMap,Uh=new WeakMap,Qr=new WeakMap,Ru=new WeakMap,dn=new WeakMap,sm=new WeakMap,Pu=new WeakMap,_s=new WeakSet,gi=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...QP(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...wI(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ge(this,Uh,t.manual?r:void 0),r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),yn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),q(this,Qr).notify({query:this,type:"updated",action:t})})},bI);function QP(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KP(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function wI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function xI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var cr,Je,im,Hn,Du,zh,Ta,jo,am,Bh,$h,Mu,Ou,Fo,qh,jt,Wh,L0,j0,F0,V0,U0,z0,B0,EI,SI,B7=(SI=class extends Ef{constructor(t,e){super(),Me(this,jt),Me(this,cr),Me(this,Je),Me(this,im),Me(this,Hn),Me(this,Du),Me(this,zh),Me(this,Ta),Me(this,jo),Me(this,am),Me(this,Bh),Me(this,$h),Me(this,Mu),Me(this,Ou),Me(this,Fo),Me(this,qh,new Set),this.options=e,ge(this,cr,t),ge(this,jo,null),ge(this,Ta,lw()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,Je).addObserver(this),kI(q(this,Je),this.options)?Ze(this,jt,Wh).call(this):this.updateResult(),Ze(this,jt,V0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cw(q(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cw(q(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,jt,U0).call(this),Ze(this,jt,z0).call(this),q(this,Je).removeObserver(this)}setOptions(t){const e=this.options,n=q(this,Je);if(this.options=q(this,cr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ar(this.options.enabled,q(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,jt,B0).call(this),q(this,Je).setOptions(this.options),e._defaulted&&!iw(this.options,e)&&q(this,cr).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,Je),observer:this});const r=this.hasListeners();r&&TI(q(this,Je),n,this.options,e)&&Ze(this,jt,Wh).call(this),this.updateResult(),r&&(q(this,Je)!==n||Ar(this.options.enabled,q(this,Je))!==Ar(e.enabled,q(this,Je))||$a(this.options.staleTime,q(this,Je))!==$a(e.staleTime,q(this,Je)))&&Ze(this,jt,L0).call(this);const s=Ze(this,jt,j0).call(this);r&&(q(this,Je)!==n||Ar(this.options.enabled,q(this,Je))!==Ar(e.enabled,q(this,Je))||s!==q(this,Fo))&&Ze(this,jt,F0).call(this,s)}getOptimisticResult(t){const e=q(this,cr).getQueryCache().build(q(this,cr),t),n=this.createResult(e,t);return q7(this,n)&&(ge(this,Hn,n),ge(this,zh,this.options),ge(this,Du,q(this,Je).state)),n}getCurrentResult(){return q(this,Hn)}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e==null||e(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&q(this,Ta).status==="pending"&&q(this,Ta).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){q(this,qh).add(t)}getCurrentQuery(){return q(this,Je)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=q(this,cr).defaultQueryOptions(t),n=q(this,cr).getQueryCache().build(q(this,cr),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return Ze(this,jt,Wh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,Hn)))}createResult(t,e){var n;const r=q(this,Je),s=this.options,i=q(this,Hn),o=q(this,Du),u=q(this,zh),h=t!==r?t.state:q(this,im),{state:d}=t;let m={...d},g=!1,v;if(e._optimisticResults){const D=this.hasListeners(),C=!D&&kI(t,e),P=D&&TI(t,r,e,s);(C||P)&&(m={...m,...QP(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:S,errorUpdatedAt:_,status:T}=m;v=m.data;let I=!1;if(e.placeholderData!==void 0&&v===void 0&&T==="pending"){let D;i!=null&&i.isPlaceholderData&&e.placeholderData===(u==null?void 0:u.placeholderData)?(D=i.data,I=!0):D=typeof e.placeholderData=="function"?e.placeholderData((n=q(this,$h))==null?void 0:n.state.data,q(this,$h)):e.placeholderData,D!==void 0&&(T="success",v=ow(i==null?void 0:i.data,D,e),g=!0)}if(e.select&&v!==void 0&&!I)if(i&&v===(o==null?void 0:o.data)&&e.select===q(this,am))v=q(this,Bh);else try{ge(this,am,e.select),v=e.select(v),v=ow(i==null?void 0:i.data,v,e),ge(this,Bh,v),ge(this,jo,null)}catch(D){ge(this,jo,D)}q(this,jo)&&(S=q(this,jo),v=q(this,Bh),_=Date.now(),T="error");const A=m.fetchStatus==="fetching",R=T==="pending",O=T==="error",U=R&&A,B=v!==void 0,G={status:T,fetchStatus:m.fetchStatus,isPending:R,isSuccess:T==="success",isError:O,isInitialLoading:U,isLoading:U,data:v,dataUpdatedAt:m.dataUpdatedAt,error:S,errorUpdatedAt:_,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:A,isRefetching:A&&!R,isLoadingError:O&&!B,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:O&&B,isStale:E1(t,e),refetch:this.refetch,promise:q(this,Ta),isEnabled:Ar(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=j=>{G.status==="error"?j.reject(G.error):G.data!==void 0&&j.resolve(G.data)},C=()=>{const j=ge(this,Ta,G.promise=lw());D(j)},P=q(this,Ta);switch(P.status){case"pending":t.queryHash===r.queryHash&&D(P);break;case"fulfilled":(G.status==="error"||G.data!==P.value)&&C();break;case"rejected":(G.status!=="error"||G.error!==P.reason)&&C();break}}return G}updateResult(){const t=q(this,Hn),e=this.createResult(q(this,Je),this.options);if(ge(this,Du,q(this,Je).state),ge(this,zh,this.options),q(this,Du).data!==void 0&&ge(this,$h,q(this,Je)),iw(e,t))return;ge(this,Hn,e);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!q(this,qh).size)return!0;const i=new Set(s??q(this,qh));return this.options.throwOnError&&i.add("error"),Object.keys(q(this,Hn)).some(o=>{const u=o;return q(this,Hn)[u]!==t[u]&&i.has(u)})};Ze(this,jt,EI).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,jt,V0).call(this)}},cr=new WeakMap,Je=new WeakMap,im=new WeakMap,Hn=new WeakMap,Du=new WeakMap,zh=new WeakMap,Ta=new WeakMap,jo=new WeakMap,am=new WeakMap,Bh=new WeakMap,$h=new WeakMap,Mu=new WeakMap,Ou=new WeakMap,Fo=new WeakMap,qh=new WeakMap,jt=new WeakSet,Wh=function(t){Ze(this,jt,B0).call(this);let e=q(this,Je).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Xn)),e},L0=function(){Ze(this,jt,U0).call(this);const t=$a(this.options.staleTime,q(this,Je));if(kl||q(this,Hn).isStale||!sw(t))return;const e=$P(q(this,Hn).dataUpdatedAt,t)+1;ge(this,Mu,nl.setTimeout(()=>{q(this,Hn).isStale||this.updateResult()},e))},j0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,Je)):this.options.refetchInterval)??!1},F0=function(t){Ze(this,jt,z0).call(this),ge(this,Fo,t),!(kl||Ar(this.options.enabled,q(this,Je))===!1||!sw(q(this,Fo))||q(this,Fo)===0)&&ge(this,Ou,nl.setInterval(()=>{(this.options.refetchIntervalInBackground||x1.isFocused())&&Ze(this,jt,Wh).call(this)},q(this,Fo)))},V0=function(){Ze(this,jt,L0).call(this),Ze(this,jt,F0).call(this,Ze(this,jt,j0).call(this))},U0=function(){q(this,Mu)&&(nl.clearTimeout(q(this,Mu)),ge(this,Mu,void 0))},z0=function(){q(this,Ou)&&(nl.clearInterval(q(this,Ou)),ge(this,Ou,void 0))},B0=function(){const t=q(this,cr).getQueryCache().build(q(this,cr),this.options);if(t===q(this,Je))return;const e=q(this,Je);ge(this,Je,t),ge(this,im,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},EI=function(t){yn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(q(this,Hn))}),q(this,cr).getQueryCache().notify({query:q(this,Je),type:"observerResultsUpdated"})})},SI);function $7(t,e){return Ar(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function kI(t,e){return $7(t,e)||t.state.data!==void 0&&cw(t,e,e.refetchOnMount)}function cw(t,e,n){if(Ar(e.enabled,t)!==!1&&$a(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&E1(t,e)}return!1}function TI(t,e,n,r){return(t!==e||Ar(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&E1(t,n)}function E1(t,e){return Ar(e.enabled,t)!==!1&&t.isStaleByTime($a(e.staleTime,t))}function q7(t,e){return!iw(t.getCurrentResult(),e)}function _I(t){return{onFetch:(e,n)=>{var r,s,i,o,u;const h=e.options,d=(i=(s=(r=e.fetchOptions)==null?void 0:r.meta)==null?void 0:s.fetchMore)==null?void 0:i.direction,m=((o=e.state.data)==null?void 0:o.pages)||[],g=((u=e.state.data)==null?void 0:u.pageParams)||[];let v={pages:[],pageParams:[]},S=0;const _=async()=>{let T=!1;const I=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(e.signal.aborted?T=!0:e.signal.addEventListener("abort",()=>{T=!0}),e.signal)})},A=WP(e.options,e.fetchOptions),R=async(O,U,B)=>{if(T)return Promise.reject();if(U==null&&O.pages.length)return Promise.resolve(O);const G=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:U,direction:B?"backward":"forward",meta:e.options.meta};return I(j),j})(),D=await A(G),{maxPages:C}=e.options,P=B?M7:D7;return{pages:P(O.pages,D,C),pageParams:P(O.pageParams,U,C)}};if(d&&m.length){const O=d==="backward",U=O?W7:II,B={pages:m,pageParams:g},G=U(h,B);v=await R(B,G,O)}else{const O=t??m.length;do{const U=S===0?g[0]??h.initialPageParam:II(h,v);if(S>0&&U==null)break;v=await R(v,U),S++}while(S<O)}return v};e.options.persister?e.fetchFn=()=>{var T,I;return(I=(T=e.options).persister)==null?void 0:I.call(T,_,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=_}}}function II(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function W7(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var om,yi,Qn,Lu,vi,_a,CI,K7=(CI=class extends HP{constructor(t){super(),Me(this,vi),Me(this,om),Me(this,yi),Me(this,Qn),Me(this,Lu),ge(this,om,t.client),this.mutationId=t.mutationId,ge(this,Qn,t.mutationCache),ge(this,yi,[]),this.state=t.state||G7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,yi).includes(t)||(q(this,yi).push(t),this.clearGcTimeout(),q(this,Qn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,yi,q(this,yi).filter(e=>e!==t)),this.scheduleGc(),q(this,Qn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,yi).length||(this.state.status==="pending"?this.scheduleGc():q(this,Qn).remove(this))}continue(){var t;return((t=q(this,Lu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var e,n,r,s,i,o,u,h,d,m,g,v,S,_,T,I,A,R,O,U;const B=()=>{Ze(this,vi,_a).call(this,{type:"continue"})},G={client:q(this,om),meta:this.options.meta,mutationKey:this.options.mutationKey};ge(this,Lu,GP({fn:()=>this.options.mutationFn?this.options.mutationFn(t,G):Promise.reject(new Error("No mutationFn found")),onFail:(P,j)=>{Ze(this,vi,_a).call(this,{type:"failed",failureCount:P,error:j})},onPause:()=>{Ze(this,vi,_a).call(this,{type:"pause"})},onContinue:B,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,Qn).canRun(this)}));const D=this.state.status==="pending",C=!q(this,Lu).canStart();try{if(D)B();else{Ze(this,vi,_a).call(this,{type:"pending",variables:t,isPaused:C}),await((n=(e=q(this,Qn).config).onMutate)==null?void 0:n.call(e,t,this,G));const j=await((s=(r=this.options).onMutate)==null?void 0:s.call(r,t,G));j!==this.state.context&&Ze(this,vi,_a).call(this,{type:"pending",context:j,variables:t,isPaused:C})}const P=await q(this,Lu).start();return await((o=(i=q(this,Qn).config).onSuccess)==null?void 0:o.call(i,P,t,this.state.context,this,G)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,P,t,this.state.context,G)),await((m=(d=q(this,Qn).config).onSettled)==null?void 0:m.call(d,P,null,this.state.variables,this.state.context,this,G)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,P,null,t,this.state.context,G)),Ze(this,vi,_a).call(this,{type:"success",data:P}),P}catch(P){try{throw await((_=(S=q(this,Qn).config).onError)==null?void 0:_.call(S,P,t,this.state.context,this,G)),await((I=(T=this.options).onError)==null?void 0:I.call(T,P,t,this.state.context,G)),await((R=(A=q(this,Qn).config).onSettled)==null?void 0:R.call(A,void 0,P,this.state.variables,this.state.context,this,G)),await((U=(O=this.options).onSettled)==null?void 0:U.call(O,void 0,P,t,this.state.context,G)),P}finally{Ze(this,vi,_a).call(this,{type:"error",error:P})}}finally{q(this,Qn).runNext(this)}}},om=new WeakMap,yi=new WeakMap,Qn=new WeakMap,Lu=new WeakMap,vi=new WeakSet,_a=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),yn.batch(()=>{q(this,yi).forEach(n=>{n.onMutationUpdate(t)}),q(this,Qn).notify({mutation:this,type:"updated",action:t})})},CI);function G7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ia,Is,lm,NI,H7=(NI=class extends Ef{constructor(t={}){super(),Me(this,Ia),Me(this,Is),Me(this,lm),this.config=t,ge(this,Ia,new Set),ge(this,Is,new Map),ge(this,lm,0)}build(t,e,n){const r=new K7({client:t,mutationCache:this,mutationId:++xb(this,lm)._,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){q(this,Ia).add(t);const e=um(t);if(typeof e=="string"){const n=q(this,Is).get(e);n?n.push(t):q(this,Is).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(q(this,Ia).delete(t)){const e=um(t);if(typeof e=="string"){const n=q(this,Is).get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&q(this,Is).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=um(t);if(typeof e=="string"){const n=q(this,Is).get(e),r=n==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){var e;const n=um(t);if(typeof n=="string"){const r=(e=q(this,Is).get(n))==null?void 0:e.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){yn.batch(()=>{q(this,Ia).forEach(t=>{this.notify({type:"removed",mutation:t})}),q(this,Ia).clear(),q(this,Is).clear()})}getAll(){return Array.from(q(this,Ia))}find(t){const e={exact:!0,...t};return this.getAll().find(n=>fI(e,n))}findAll(t={}){return this.getAll().filter(e=>fI(t,e))}notify(t){yn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return yn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Xn))))}},Ia=new WeakMap,Is=new WeakMap,lm=new WeakMap,NI);function um(t){var e;return(e=t.options.scope)==null?void 0:e.id}var bi,AI,Q7=(AI=class extends Ef{constructor(t={}){super(),Me(this,bi),this.config=t,ge(this,bi,new Map)}build(t,e,n){const r=e.queryKey,s=e.queryHash??b1(r,e);let i=this.get(s);return i||(i=new z7({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){q(this,bi).has(t.queryHash)||(q(this,bi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=q(this,bi).get(t.queryHash);e&&(t.destroy(),e===t&&q(this,bi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){yn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return q(this,bi).get(t)}getAll(){return[...q(this,bi).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>dI(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>dI(t,n)):e}notify(t){yn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){yn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){yn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},bi=new WeakMap,AI),Ft,Vo,Uo,Kh,Gh,zo,Hh,Qh,RI,X7=(RI=class{constructor(t={}){Me(this,Ft),Me(this,Vo),Me(this,Uo),Me(this,Kh),Me(this,Gh),Me(this,zo),Me(this,Hh),Me(this,Qh),ge(this,Ft,t.queryCache||new Q7),ge(this,Vo,t.mutationCache||new H7),ge(this,Uo,t.defaultOptions||{}),ge(this,Kh,new Map),ge(this,Gh,new Map),ge(this,zo,0)}mount(){xb(this,zo)._++,q(this,zo)===1&&(ge(this,Hh,x1.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,Ft).onFocus())})),ge(this,Qh,Ag.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,Ft).onOnline())})))}unmount(){var t,e;xb(this,zo)._--,q(this,zo)===0&&((t=q(this,Hh))==null||t.call(this),ge(this,Hh,void 0),(e=q(this,Qh))==null||e.call(this),ge(this,Qh,void 0))}isFetching(t){return q(this,Ft).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return q(this,Vo).findAll({...t,status:"pending"}).length}getQueryData(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=q(this,Ft).get(n.queryHash))==null?void 0:e.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=q(this,Ft).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime($a(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return q(this,Ft).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=q(this,Ft).get(r.queryHash),i=s==null?void 0:s.state.data,o=A7(e,i);if(o!==void 0)return q(this,Ft).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return yn.batch(()=>q(this,Ft).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=q(this,Ft).get(n.queryHash))==null?void 0:e.state}removeQueries(t){const e=q(this,Ft);yn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=q(this,Ft);return yn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=yn.batch(()=>q(this,Ft).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Xn).catch(Xn)}invalidateQueries(t,e={}){return yn.batch(()=>(q(this,Ft).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=yn.batch(()=>q(this,Ft).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Xn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=q(this,Ft).build(this,e);return n.isStaleByTime($a(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xn).catch(Xn)}fetchInfiniteQuery(t){return t.behavior=_I(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xn).catch(Xn)}ensureInfiniteQueryData(t){return t.behavior=_I(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ag.isOnline()?q(this,Vo).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,Ft)}getMutationCache(){return q(this,Vo)}getDefaultOptions(){return q(this,Uo)}setDefaultOptions(t){ge(this,Uo,t)}setQueryDefaults(t,e){q(this,Kh).set($d(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...q(this,Kh).values()],n={};return e.forEach(r=>{qd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){q(this,Gh).set($d(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...q(this,Gh).values()],n={};return e.forEach(r=>{qd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...q(this,Uo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=b1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===w1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...q(this,Uo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){q(this,Ft).clear(),q(this,Vo).clear()}},Ft=new WeakMap,Vo=new WeakMap,Uo=new WeakMap,Kh=new WeakMap,Gh=new WeakMap,zo=new WeakMap,Hh=new WeakMap,Qh=new WeakMap,RI),XP=E.createContext(void 0),Y7=t=>{const e=E.useContext(XP);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},J7=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(XP.Provider,{value:t,children:e})),YP=E.createContext(!1),Z7=()=>E.useContext(YP);YP.Provider;function e$(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var t$=E.createContext(e$()),n$=()=>E.useContext(t$),r$=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},s$=t=>{E.useEffect(()=>{t.clearReset()},[t])},i$=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||O7(n,[t.error,r])),a$=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},o$=(t,e)=>t.isLoading&&t.isFetching&&!e,l$=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,PI=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function u$(t,e,n){var r,s,i,o,u;const h=Z7(),d=n$(),m=Y7(),g=m.defaultQueryOptions(t);(s=(r=m.getDefaultOptions().queries)==null?void 0:r._experimental_beforeQuery)==null||s.call(r,g),g._optimisticResults=h?"isRestoring":"optimistic",a$(g),r$(g,d),s$(d);const v=!m.getQueryCache().get(g.queryHash),[S]=E.useState(()=>new e(m,g)),_=S.getOptimisticResult(g),T=!h&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(I=>{const A=T?S.subscribe(yn.batchCalls(I)):Xn;return S.updateResult(),A},[S,T]),()=>S.getCurrentResult(),()=>S.getCurrentResult()),E.useEffect(()=>{S.setOptions(g)},[g,S]),l$(g,_))throw PI(g,S,d);if(i$({result:_,errorResetBoundary:d,throwOnError:g.throwOnError,query:m.getQueryCache().get(g.queryHash),suspense:g.suspense}))throw _.error;if((o=(i=m.getDefaultOptions().queries)==null?void 0:i._experimental_afterQuery)==null||o.call(i,g,_),g.experimental_prefetchInRender&&!kl&&o$(_,h)){const I=v?PI(g,S,d):(u=m.getQueryCache().get(g.queryHash))==null?void 0:u.promise;I==null||I.catch(Xn).finally(()=>{S.updateResult()})}return g.notifyOnChangeProps?_:S.trackResult(_)}function c$(t,e){return u$(t,B7)}/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const h$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var d$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const f$=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...u},h)=>E.createElement("svg",{ref:h,...d$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:JP("lucide",s),...u},[...o.map(([d,m])=>E.createElement(d,m)),...Array.isArray(i)?i:[i]]));/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const lt=(t,e)=>{const n=E.forwardRef(({className:r,...s},i)=>E.createElement(f$,{ref:i,iconNode:e,className:JP(`lucide-${h$(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const p$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],m$=lt("ArrowRight",p$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const g$=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],ZP=lt("Brain",g$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const y$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],v$=lt("Calendar",y$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const b$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],w$=lt("ChartColumn",b$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const x$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],E$=lt("Check",x$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const S$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],k$=lt("ChevronRight",S$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const T$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_$=lt("CircleCheckBig",T$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const I$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],C$=lt("CircleX",I$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const N$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],A$=lt("Circle",N$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const R$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],P$=lt("Clock",R$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const D$=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],zm=lt("Crown",D$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const M$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],DI=lt("EyeOff",M$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const O$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],MI=lt("Eye",O$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const L$=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],j$=lt("Gamepad2",L$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const F$=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],OI=lt("Heart",F$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const V$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],U$=lt("House",V$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const z$=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],B$=lt("LogOut",z$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $$=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],q$=lt("Menu",$$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const W$=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],K$=lt("PartyPopper",W$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const G$=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],H$=lt("Rocket",G$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Q$=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],X$=lt("Settings",Q$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Y$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],J$=lt("Shield",Y$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Z$=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],eq=lt("ShoppingBag",Z$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const tq=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],eD=lt("Sparkles",tq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const nq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$0=lt("Star",nq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const rq=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],LI=lt("Trophy",rq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const sq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],q0=lt("User",sq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const iq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],jI=lt("Users",iq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const aq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],S1=lt("X",aq);function tD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=tD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nD(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=tD(t))&&(r&&(r+=" "),r+=e);return r}const FI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,VI=nD,Py=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return VI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const m=n==null?void 0:n[d],g=i==null?void 0:i[d];if(m===null)return null;const v=FI(m)||FI(g);return s[d][v]}),u=n&&Object.entries(n).reduce((d,m)=>{let[g,v]=m;return v===void 0||(d[g]=v),d},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,m)=>{let{class:g,className:v,...S}=m;return Object.entries(S).every(_=>{let[T,I]=_;return Array.isArray(I)?I.includes({...i,...u}[T]):{...i,...u}[T]===I})?[...d,g,v]:d},[]);return VI(t,o,h,n==null?void 0:n.class,n==null?void 0:n.className)},k1="-",oq=t=>{const e=uq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const i=s.split(k1);return i[0]===""&&i.length!==1&&i.shift(),rD(i,e)||lq(s)},getConflictingClassGroupIds:(s,i)=>{const o=n[s]||[];return i&&r[s]?[...o,...r[s]]:o}}},rD=(t,e)=>{var n;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),i=s?rD(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(k1);return(n=e.validators.find(({validator:u})=>u(o)))==null?void 0:n.classGroupId},UI=/^\[(.+)\]$/,lq=t=>{if(UI.test(t)){const e=UI.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},uq=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)hw(n[s],r,s,e);return r},hw=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:zI(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(cq(s)){hw(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{hw(o,zI(e,i),n,r)})})},zI=(t,e)=>{let n=t;return e.split(k1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},cq=t=>t.isThemeGetter,hq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},dw="!",fw=":",dq=fw.length,fq=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,u=0,h=0,d;for(let _=0;_<s.length;_++){let T=s[_];if(o===0&&u===0){if(T===fw){i.push(s.slice(h,_)),h=_+dq;continue}if(T==="/"){d=_;continue}}T==="["?o++:T==="]"?o--:T==="("?u++:T===")"&&u--}const m=i.length===0?s:s.substring(h),g=pq(m),v=g!==m,S=d&&d>h?d-h:void 0;return{modifiers:i,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:S}};if(e){const s=e+fw,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},pq=t=>t.endsWith(dw)?t.substring(0,t.length-1):t.startsWith(dw)?t.substring(1):t,mq=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(r.push(...s.sort(),i),s=[]):s.push(i)}),r.push(...s.sort()),r}},gq=t=>({cache:hq(t.cacheSize),parseClassName:fq(t),sortModifiers:mq(t),...oq(t)}),yq=/\s+/,vq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],u=t.trim().split(yq);let h="";for(let d=u.length-1;d>=0;d-=1){const m=u[d],{isExternal:g,modifiers:v,hasImportantModifier:S,baseClassName:_,maybePostfixModifierPosition:T}=n(m);if(g){h=m+(h.length>0?" "+h:h);continue}let I=!!T,A=r(I?_.substring(0,T):_);if(!A){if(!I){h=m+(h.length>0?" "+h:h);continue}if(A=r(_),!A){h=m+(h.length>0?" "+h:h);continue}I=!1}const R=i(v).join(":"),O=S?R+dw:R,U=O+A;if(o.includes(U))continue;o.push(U);const B=s(A,I);for(let G=0;G<B.length;++G){const D=B[G];o.push(O+D)}h=m+(h.length>0?" "+h:h)}return h};function bq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=sD(e))&&(r&&(r+=" "),r+=n);return r}const sD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=sD(t[r]))&&(n&&(n+=" "),n+=e);return n};function wq(t,...e){let n,r,s,i=o;function o(h){const d=e.reduce((m,g)=>g(m),t());return n=gq(d),r=n.cache.get,s=n.cache.set,i=u,u(h)}function u(h){const d=r(h);if(d)return d;const m=vq(h,n);return s(h,m),m}return function(){return i(bq.apply(null,arguments))}}const Zt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},iD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,aD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,xq=/^\d+\/\d+$/,Eq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Sq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Tq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_q=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ju=t=>xq.test(t),qe=t=>!!t&&!Number.isNaN(Number(t)),Ca=t=>!!t&&Number.isInteger(Number(t)),W0=t=>t.endsWith("%")&&qe(t.slice(0,-1)),wi=t=>Eq.test(t),Iq=()=>!0,Cq=t=>Sq.test(t)&&!kq.test(t),oD=()=>!1,Nq=t=>Tq.test(t),Aq=t=>_q.test(t),Rq=t=>!Ee(t)&&!Se(t),Pq=t=>Rc(t,cD,oD),Ee=t=>iD.test(t),Bo=t=>Rc(t,hD,Cq),K0=t=>Rc(t,jq,qe),BI=t=>Rc(t,lD,oD),Dq=t=>Rc(t,uD,Aq),cm=t=>Rc(t,dD,Nq),Se=t=>aD.test(t),Xh=t=>Pc(t,hD),Mq=t=>Pc(t,Fq),$I=t=>Pc(t,lD),Oq=t=>Pc(t,cD),Lq=t=>Pc(t,uD),hm=t=>Pc(t,dD,!0),Rc=(t,e,n)=>{const r=iD.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Pc=(t,e,n=!1)=>{const r=aD.exec(t);return r?r[1]?e(r[1]):n:!1},lD=t=>t==="position"||t==="percentage",uD=t=>t==="image"||t==="url",cD=t=>t==="length"||t==="size"||t==="bg-size",hD=t=>t==="length",jq=t=>t==="number",Fq=t=>t==="family-name",dD=t=>t==="shadow",Vq=()=>{const t=Zt("color"),e=Zt("font"),n=Zt("text"),r=Zt("font-weight"),s=Zt("tracking"),i=Zt("leading"),o=Zt("breakpoint"),u=Zt("container"),h=Zt("spacing"),d=Zt("radius"),m=Zt("shadow"),g=Zt("inset-shadow"),v=Zt("text-shadow"),S=Zt("drop-shadow"),_=Zt("blur"),T=Zt("perspective"),I=Zt("aspect"),A=Zt("ease"),R=Zt("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...U(),Se,Ee],G=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],C=()=>[Se,Ee,h],P=()=>[ju,"full","auto",...C()],j=()=>[Ca,"none","subgrid",Se,Ee],V=()=>["auto",{span:["full",Ca,Se,Ee]},Ca,Se,Ee],$=()=>[Ca,"auto",Se,Ee],L=()=>["auto","min","max","fr",Se,Ee],we=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Pe=()=>["start","end","center","stretch","center-safe","end-safe"],ye=()=>["auto",...C()],ve=()=>[ju,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],H=()=>[t,Se,Ee],ne=()=>[...U(),$I,BI,{position:[Se,Ee]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",Oq,Pq,{size:[Se,Ee]}],re=()=>[W0,Xh,Bo],pe=()=>["","none","full",d,Se,Ee],me=()=>["",qe,Xh,Bo],De=()=>["solid","dashed","dotted","double"],ze=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ce=()=>[qe,W0,$I,BI],$e=()=>["","none",_,Se,Ee],Ue=()=>["none",qe,Se,Ee],dt=()=>["none",qe,Se,Ee],vr=()=>[qe,Se,Ee],br=()=>[ju,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wi],breakpoint:[wi],color:[Iq],container:[wi],"drop-shadow":[wi],ease:["in","out","in-out"],font:[Rq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wi],shadow:[wi],spacing:["px",qe],text:[wi],"text-shadow":[wi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ju,Ee,Se,I]}],container:["container"],columns:[{columns:[qe,Ee,Se,u]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Ca,"auto",Se,Ee]}],basis:[{basis:[ju,"full","auto",u,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,ju,"auto","initial","none",Ee]}],grow:[{grow:["",qe,Se,Ee]}],shrink:[{shrink:["",qe,Se,Ee]}],order:[{order:[Ca,"first","last","none",Se,Ee]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...we(),"normal"]}],"justify-items":[{"justify-items":[...Pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Pe()]}],"align-content":[{content:["normal",...we()]}],"align-items":[{items:[...Pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":we()}],"place-items":[{"place-items":[...Pe(),"baseline"]}],"place-self":[{"place-self":["auto",...Pe()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:ye()}],mx:[{mx:ye()}],my:[{my:ye()}],ms:[{ms:ye()}],me:[{me:ye()}],mt:[{mt:ye()}],mr:[{mr:ye()}],mb:[{mb:ye()}],ml:[{ml:ye()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:ve()}],w:[{w:[u,"screen",...ve()]}],"min-w":[{"min-w":[u,"screen","none",...ve()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...ve()]}],h:[{h:["screen","lh",...ve()]}],"min-h":[{"min-h":["screen","lh","none",...ve()]}],"max-h":[{"max-h":["screen","lh",...ve()]}],"font-size":[{text:["base",n,Xh,Bo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Se,K0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",W0,Ee]}],"font-family":[{font:[Mq,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Se,Ee]}],"line-clamp":[{"line-clamp":[qe,"none",Se,K0]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",Se,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...De(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",Se,Bo]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[qe,"auto",Se,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ca,Se,Ee],radial:["",Se,Ee],conic:[Ca,Se,Ee]},Lq,Dq]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...De(),"hidden","none"]}],"divide-style":[{divide:[...De(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...De(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,Se,Ee]}],"outline-w":[{outline:["",qe,Xh,Bo]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",m,hm,cm]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",g,hm,cm]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[qe,Bo]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",v,hm,cm]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[qe,Se,Ee]}],"mix-blend":[{"mix-blend":[...ze(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ze()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ce()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":Ce()}],"mask-image-t-to-pos":[{"mask-t-to":Ce()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":Ce()}],"mask-image-r-to-pos":[{"mask-r-to":Ce()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":Ce()}],"mask-image-b-to-pos":[{"mask-b-to":Ce()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":Ce()}],"mask-image-l-to-pos":[{"mask-l-to":Ce()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":Ce()}],"mask-image-x-to-pos":[{"mask-x-to":Ce()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":Ce()}],"mask-image-y-to-pos":[{"mask-y-to":Ce()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Se,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ce()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ce()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,Ee]}],filter:[{filter:["","none",Se,Ee]}],blur:[{blur:$e()}],brightness:[{brightness:[qe,Se,Ee]}],contrast:[{contrast:[qe,Se,Ee]}],"drop-shadow":[{"drop-shadow":["","none",S,hm,cm]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",qe,Se,Ee]}],"hue-rotate":[{"hue-rotate":[qe,Se,Ee]}],invert:[{invert:["",qe,Se,Ee]}],saturate:[{saturate:[qe,Se,Ee]}],sepia:[{sepia:["",qe,Se,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,Ee]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[qe,Se,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[qe,Se,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,Se,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,Se,Ee]}],"backdrop-invert":[{"backdrop-invert":["",qe,Se,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[qe,Se,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[qe,Se,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,Se,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",Se,Ee]}],ease:[{ease:["linear","initial",A,Se,Ee]}],delay:[{delay:[qe,Se,Ee]}],animate:[{animate:["none",R,Se,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Se,Ee]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:Ue()}],"rotate-x":[{"rotate-x":Ue()}],"rotate-y":[{"rotate-y":Ue()}],"rotate-z":[{"rotate-z":Ue()}],scale:[{scale:dt()}],"scale-x":[{"scale-x":dt()}],"scale-y":[{"scale-y":dt()}],"scale-z":[{"scale-z":dt()}],"scale-3d":["scale-3d"],skew:[{skew:vr()}],"skew-x":[{"skew-x":vr()}],"skew-y":[{"skew-y":vr()}],transform:[{transform:[Se,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:br()}],"translate-x":[{"translate-x":br()}],"translate-y":[{"translate-y":br()}],"translate-z":[{"translate-z":br()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,Ee]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[qe,Xh,Bo,K0]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Uq=wq(Vq);function vt(...t){return Uq(nD(t))}function pw(t){const e=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];if(t<20)return e[t];if(t<100)return n[Math.floor(t/10)]+(t%10?"-"+e[t%10]:"");if(t<1e3){const r=t%100,s=e[Math.floor(t/100)]+" hundred";return r?s+" "+pw(r):s}return String(t)}function mw(t){const e=["cero","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez","once","doce","trece","catorce","quince","diecisis","diecisiete","dieciocho","diecinueve"],n=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];if(t<20)return e[t];if(t<30)return t===20?"veinte":"veinti"+e[t-20];if(t<100)return n[Math.floor(t/10)]+(t%10?" y "+e[t%10]:"");if(t<200)return"ciento"+(t%100?" "+mw(t%100):"");if(t<1e3){const r=["cero","ciento","doscientos","trescientos","cuatrocientos","quinientos","seiscientos","setecientos","ochocientos","novecientos"][Math.floor(t/100)],s=t%100;return r+(s?" "+mw(s):"")}return String(t)}function Yte(t,e={}){if(!t||typeof t!="string")return t;const{numberToWords:n="auto",language:r,pauseOperators:s=!0}=e;let i="en";try{i=r||(localStorage.getItem("tts.lang")==="es"?"es":"en")||"en"}catch{}let o=t;o=o.replace(//g,"-").replace(/|/g,"");const u={2:"half",3:"third",4:"fourth",5:"fifth",6:"sixth",7:"seventh",8:"eighth",9:"ninth",10:"tenth",12:"twelfth"},h={2:"medios",3:"tercios",4:"cuartos",5:"quintos",6:"sextos",7:"sptimos",8:"octavos",9:"novenos",10:"dcimos",12:"duodcimos"};if([{pattern:/\s*\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\/\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\s*/g,spoken:i==="es"?" por ":" times "},{pattern:/\s*\*\s*/g,spoken:" times "},{pattern:/(\d+)\s*[xX]\s*(\d+)/g,spoken:i==="es"?"$1 por $2":"$1 times $2"},{pattern:/\s*\+\s*/g,spoken:i==="es"?" ms ":" plus "},{pattern:/(\d+)\s*-\s*(\d+)/g,spoken:i==="es"?"$1 menos $2":"$1 minus $2"},{pattern:/\s*=\s*/g,spoken:i==="es"?" igual a ":" equals "},{pattern:/\s*>\s*/g,spoken:i==="es"?" es mayor que ":" is greater than "},{pattern:/\s*<\s*/g,spoken:i==="es"?" es menor que ":" is less than "},{pattern:/\s*\s*/g,spoken:i==="es"?" es mayor o igual que ":" is greater than or equal to "},{pattern:/\s*\s*/g,spoken:i==="es"?" es menor o igual que ":" is less than or equal to "},{pattern:/(\d+)\/(\d+)/g,spoken:(d,m,g)=>i==="es"?`${m} ${h[g]||"sobre "+g}`:u[g]?`${m==="1"?"one":pw(Number(m))} ${u[g]}${m!=="1"?"s":""}`:`${m} over ${g}`},{pattern:/%/g,spoken:i==="es"?" por ciento":" percent"},{pattern:/\^(\d+)/g,spoken:i==="es"?" a la potencia de $1":" to the power of $1"},{pattern:/(\d+)/g,spoken:i==="es"?"raz cuadrada de $1":"square root of $1"}].forEach(({pattern:d,spoken:m})=>{o=o.replace(d,m)}),o=o.replace(/(\d)\.(\d)/g,i==="es"?"$1 coma $2":"$1 point $2"),o=o.replace(/\s*(,)?\s*(\?+|_+)\s*(,)?\s*/g,(d,m,g,v)=>m&&v?", ":" "),o=o.replace(/\?\s*$/g,""),s&&(i==="es"?[" ms "," menos "," por "," dividido entre "," igual a "]:[" plus "," minus "," times "," divided by "," equals "]).forEach(d=>{const m=new RegExp(d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"(?!,)","g");o=o.replace(m,d+", ")}),n!=="none"){const d=i==="es"?mw:pw;o=o.replace(/\b\d+\b/g,(m,g)=>{const v=parseInt(m,10);if(!Number.isFinite(v))return m;if(n==="all")return d(v);const S=v<=20,_=o[g-1]||"",T=o[g+m.length]||"";return S||_===","||T===","?d(v):m})}return o=o.replace(/\s+,/g,",").replace(/,\s*,/g,", ").replace(/\s+/g," ").replace(/\s+,\s*$/g,"").trim(),o}const zq=Py("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function dm({className:t,variant:e,...n}){return x.jsx("div",{className:vt(zq({variant:e}),t),...n})}function qI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Dl(...t){return e=>{let n=!1;const r=t.map(s=>{const i=qI(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():qI(t[s],null)}}}}function er(...t){return E.useCallback(Dl(...t),t)}var Bq=Symbol.for("react.lazy"),Rg=Yw[" use ".trim().toString()];function $q(t){return typeof t=="object"&&t!==null&&"then"in t}function fD(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Bq&&"_payload"in t&&$q(t._payload)}function qq(t){const e=Kq(t),n=E.forwardRef((r,s)=>{let{children:i,...o}=r;fD(i)&&typeof Rg=="function"&&(i=Rg(i._payload));const u=E.Children.toArray(i),h=u.find(Hq);if(h){const d=h.props.children,m=u.map(g=>g===h?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Wq=qq("Slot");function Kq(t){const e=E.forwardRef((n,r)=>{let{children:s,...i}=n;if(fD(s)&&typeof Rg=="function"&&(s=Rg(s._payload)),E.isValidElement(s)){const o=Xq(s),u=Qq(i,s.props);return s.type!==E.Fragment&&(u.ref=r?Dl(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Gq=Symbol("radix.slottable");function Hq(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Gq}function Qq(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Xq(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}const Yq=Py("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ts=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Wq:"button";return x.jsx(o,{className:vt(Yq({variant:e,size:n,className:t})),ref:i,...s})});ts.displayName="Button";const vn=vy(ss);Jg(ss);const pD=async(t,e={})=>{const n=Hs(vn,"users",t),r={email:t,subscription_tier:"free",subscription_expires_at:null,subscription_auto_renew:!1,trial_start_date:Dn(),trial_expires_at:null,trial_used:!1,trial_grace_used:!1,coins:0,stars_spent:0,total_stars_earned:0,owned_pets:[],active_pet:null,purchased_items:[],unlocked_items:[],power_ups:{},pet_experience:{},daily_login_streak:0,total_login_days:0,last_login_date:null,parental_controls:{enabled:!1,allowed_operations:[],allowed_levels:[],focus_operations:[],daily_time_limit_minutes:0,enforce_time_limits:!1},daily_usage_tracking:{},is_parent_mode:!1,is_premium_parent:!1,is_family_teacher:!1,parent_email:null,child_name:null,full_name:null,created_at:Dn(),updated_at:Dn(),...e};await _y(n,r);const s=(await XR(n)).data();let i=null;if(s&&s.created_at&&s.created_at.toDate?i=s.created_at.toDate():s&&s.created_at&&s.created_at.seconds&&(i=new Date(s.created_at.seconds*1e3)),i){await zd(n,{trial_start_date:He.fromDate(i),updated_at:Dn()});const o=new Date(i.getTime()+10080*60*1e3);return await zd(n,{trial_expires_at:He.fromDate(o),updated_at:Dn()}),{...s,trial_start_date:He.fromDate(i),trial_expires_at:He.fromDate(o)}}return s||r},mD=async t=>{const e=Hs(vn,"users",t),n=await XR(e);return n.exists()?{id:n.id,...n.data()}:await pD(t)},fm=async(t,e)=>{const n=Hs(vn,"users",t);await zd(n,{...e,updated_at:Dn()})},Jte=async()=>{const t=Fn(vn,"users");return(await qs(t)).docs.map(e=>({id:e.id,...e.data()}))},Zte=async(t,e)=>{const n=Fn(vn,"gameProgress"),r=Hs(n),s={user_email:t,operation:e.operation,level:e.level,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,coins_earned:e.coins_earned||0,accuracy:e.accuracy||0,completed_at:Dn(),...e};return await _y(r,s),{id:r.id,...s}},ene=async t=>{const e=Fn(vn,"gameProgress"),n=$s(e,Zr("user_email","==",t),vf("completed_at","desc"));return(await qs(n)).docs.map(r=>({id:r.id,...r.data()}))},tne=(t,e)=>{const n=Fn(vn,"gameProgress"),r=$s(n,Zr("user_email","==",t),vf("completed_at","desc"));return YR(r,s=>{const i=s.docs.map(o=>({id:o.id,...o.data()}));e(i)})},nne=async()=>{const t=Fn(vn,"gameProgress"),e=$s(t,vf("score","desc"),GR(100));return(await qs(e)).docs.map(n=>({id:n.id,...n.data()}))},rne=async(t,e)=>{const n=Fn(vn,"dailyChallenges"),r=Hs(n),s={user_email:t,challenge_type:e.challenge_type,challenge_date:e.challenge_date,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,bonus_coins:e.bonus_coins||0,completed_at:Dn(),...e};return await _y(r,s),{id:r.id,...s}},sne=async t=>{const e=Fn(vn,"dailyChallenges"),n=$s(e,Zr("user_email","==",t),vf("completed_at","desc"));return(await qs(n)).docs.map(r=>({id:r.id,...r.data()}))},ine=async()=>{const t=Fn(vn,"dailyChallenges"),e=$s(t,vf("score","desc"),GR(100));return(await qs(e)).docs.map(n=>({id:n.id,...n.data()}))},ane=async t=>{const e=Fn(vn,"teamChallenges"),n=$s(e,Zr("creator_email","==",t)),r=$s(e,Zr("team_members","array-contains",t)),[s,i]=await Promise.all([qs(n),qs(r)]),o=new Map;return s.docs.forEach(u=>o.set(u.id,{id:u.id,...u.data()})),i.docs.forEach(u=>o.set(u.id,{id:u.id,...u.data()})),Array.from(o.values())},one=async(t,e)=>{const n=Hs(vn,"teamChallenges",t);await zd(n,{...e,updated_at:Dn()})},lne=async(t,e)=>{const n=Fn(vn,"friendConnections"),r=Hs(n),s={user_email:t,friend_email:e,status:"pending",sent_at:Dn()};return await _y(r,s),{id:r.id,...s}},une=async t=>{const e=Fn(vn,"friendConnections"),n=$s(e,Zr("user_email","==",t),Zr("status","==","accepted")),r=$s(e,Zr("friend_email","==",t),Zr("status","==","accepted")),[s,i]=await Promise.all([qs(n),qs(r)]);return[...s.docs.map(o=>({id:o.id,...o.data()})),...i.docs.map(o=>({id:o.id,...o.data()}))]},cne=async t=>{const e=Fn(vn,"friendConnections"),n=$s(e,Zr("friend_email","==",t),Zr("status","==","pending"));return(await qs(n)).docs.map(r=>({id:r.id,...r.data()}))},hne=async(t,e)=>{const n=Hs(vn,"friendConnections",t);await zd(n,{status:e,updated_at:Dn()})},Bm=E.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:vt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Bm.displayName="Input";function gD(){const[t,e]=E.useState("sign-in"),[n,r]=E.useState(""),[s,i]=E.useState(""),[o,u]=E.useState(""),[h,d]=E.useState(!1),[m,g]=E.useState(""),[v,S]=E.useState(""),[_,T]=E.useState(!1),[I,A]=E.useState(!1),R=()=>{S(""),g("")},O=async()=>{if(R(),!n){S("Email required");return}if(t==="sign-up"){if(!s){S("Password required");return}if(s!==o){S("Passwords do not match");return}}if(t==="sign-in"&&!s){S("Password required");return}d(!0);try{t==="sign-up"?(await p5(D0,n,s),await pD(n),g("Account created. You are signed in.")):t==="sign-in"?(await m5(D0,n,s),await mD(n),g("Signed in.")):t==="reset"&&(await f5(D0,n),g("Reset link sent. Check your email."))}catch(B){S((B==null?void 0:B.message)||"Auth failed")}finally{d(!1)}},U=B=>{R(),e(B)};return x.jsxs("div",{className:"w-full max-w-sm mx-auto bg-white/90 rounded-xl shadow-lg p-5 space-y-4",children:[x.jsxs("h2",{className:"text-xl font-bold text-purple-700 text-center",children:[t==="sign-in"&&"Sign In",t==="sign-up"&&"Create Account",t==="reset"&&"Reset Password"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Bm,{type:"email",autoComplete:"email",placeholder:"Email",value:n,onChange:B=>r(B.target.value)}),t!=="reset"&&x.jsxs("div",{className:"relative",children:[x.jsx(Bm,{type:_?"text":"password",autoComplete:t==="sign-up"?"new-password":"current-password",placeholder:"Password",value:s,onChange:B=>i(B.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>T(!_),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:_?x.jsx(DI,{className:"w-4 h-4"}):x.jsx(MI,{className:"w-4 h-4"})})]}),t==="sign-up"&&x.jsxs("div",{className:"relative",children:[x.jsx(Bm,{type:I?"text":"password",placeholder:"Confirm Password",value:o,onChange:B=>u(B.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>A(!I),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:I?x.jsx(DI,{className:"w-4 h-4"}):x.jsx(MI,{className:"w-4 h-4"})})]})]}),(v||m)&&x.jsx("div",{className:`text-sm rounded-md p-2 ${v?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:v||m}),x.jsx(ts,{onClick:O,disabled:h,className:"w-full bg-purple-600 hover:bg-purple-700",children:h?"Please wait":t==="sign-in"?"Sign In":t==="sign-up"?"Sign Up":"Send Reset Link"}),x.jsxs("div",{className:"text-xs text-center text-gray-600 space-y-1",children:[t==="sign-in"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>U("sign-up"),className:"text-purple-600 hover:underline block w-full",children:"Need an account? Sign up"}),x.jsx("button",{onClick:()=>U("reset"),className:"text-purple-600 hover:underline block w-full",children:"Forgot password?"})]}),t==="sign-up"&&x.jsx("button",{onClick:()=>U("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Have an account? Sign in"}),t==="reset"&&x.jsx("button",{onClick:()=>U("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Back to sign in"})]})]})}const yD=t=>{if(!t)return!1;if(!t.trial_start_date||!t.trial_expires_at)return t.subscription_tier==="free"&&t.trial_used!==!0;if(t.subscription_tier!=="free"||t.trial_used===!0)return!1;const e=new Date,n=t.trial_expires_at.toDate();return e<n},Jq=t=>{if(!t||!t.trial_start_date||!t.trial_expires_at||t.subscription_tier!=="free")return!1;const e=new Date,n=t.trial_expires_at.toDate();return e>=n},Zq=t=>{if(!t||!t.trial_expires_at||t.subscription_tier!=="free")return 0;const e=new Date,n=t.trial_expires_at.toDate()-e;return n<=0?0:Math.ceil(n/(1e3*60*60*24))},eW=t=>t?!!(t.subscription_tier&&t.subscription_tier!=="free"||yD(t)&&t.trial_used!==!0):!1;let Pg=r8;(async()=>{try{!Pg&&await kP()&&(Pg=SP(ss))}catch{}})();function Dy(t,e={}){if(Pg)try{TP(Pg,t,e)}catch(n){console.warn("analytics log skipped",t,n==null?void 0:n.message)}}const tW=t=>Dy("trial_start",{method:"auto",user_email:t}),nW=(t,e)=>Dy("trial_day",{day:e,user_email:t}),rW=t=>Dy("trial_expired",{user_email:t}),sW=t=>Dy("trial_grace_lock",{user_email:t}),T1=vy(ss);async function iW(t){try{await i1(Fn(T1,"notifications"),{user_email:t,type:"trial_day6_warning",title:"Trial Ending Soon!",message:"Your 7-day trial ends tomorrow. Upgrade now to keep unlimited access to premium features!",is_read:!1,created_at:Dn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create day6 notification:",e.message)}}async function aW(t){try{await i1(Fn(T1,"notifications"),{user_email:t,type:"trial_expired",title:"Trial Ended",message:"Your 7-day trial has ended. You are now on the free plan. Upgrade anytime to regain premium features.",is_read:!1,created_at:Dn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create trial expired notification:",e.message)}}async function oW(t){try{await i1(Fn(T1,"notifications"),{user_email:t,type:"trial_grace_day",title:"Grace Day: Final Chance!",message:"Your trial expired, but you still have premium access today only. Upgrade now before it locks tomorrow.",is_read:!1,created_at:Dn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create grace day notification:",e.message)}}function lW(){const[t,e]=E.useState(null),[n,r]=E.useState(!0),[s,i]=E.useState(null);return E.useEffect(()=>{const o=Jg(ss),u=vy(ss);let h=null;const d=v5(o,async m=>{var g;if(!m){e(null),r(!1);return}try{e(v=>v||{email:m.email,subscription_tier:"free",coins:0}),i(null);try{const v=(g=m==null?void 0:m.metadata)!=null&&g.creationTime?new Date(m.metadata.creationTime).getTime():null,S=v?Date.now()-v<1440*60*1e3:!1,_=`optimistic_trial_${m.email}`,T=typeof window<"u"?localStorage.getItem(_):null;S&&!T&&(e(I=>({...I||{},email:m.email,subscription_tier:"free",coins:0,isOnTrial:!0,trialExpired:!1,trialDaysRemaining:7,inGraceDay:!1,hasPremiumAccess:!0,_optimisticTrial:!0})),localStorage.setItem(_,"true"))}catch{}try{if(typeof window<"u"&&window.location.search.includes("reset_trial=true")){const v=Date.now(),S=new Date(v+10080*60*1e3);await fm(m.email,{trial_start_date:Dn(),trial_expires_at:He.fromDate(S),trial_used:!1,trial_grace_used:!1}),localStorage.removeItem(`trial_log_${m.email}`);const _=new URL(window.location.href);_.searchParams.delete("reset_trial"),window.history.replaceState({},"",_.toString()),console.info("[trial] Trial reset performed for",m.email)}}catch(v){console.warn("[trial] Trial reset attempt failed:",v==null?void 0:v.message)}h&&h(),h=YR(Hs(u,"users",m.email),v=>{var S,_;if(v.exists()){const T={id:v.id,...v.data()};(async()=>{var V,$;try{if(!T.trial_start_date||!T.trial_expires_at){let L=(V=T.created_at)!=null&&V.toDate?T.created_at.toDate():($=T.created_at)!=null&&$.seconds?new Date(T.created_at.seconds*1e3):new Date;const we=new Date(L.getTime()+10080*60*1e3);await fm(m.email,{trial_start_date:He.fromDate(L),trial_expires_at:He.fromDate(we),trial_used:!1,trial_grace_used:!1})}}catch{}})();const I=yD(T)||!T.trial_start_date||!T.trial_expires_at,A=Jq(T),R=Zq(T),O=7,U=(S=T.trial_start_date)!=null&&S.toDate?Math.floor((Date.now()-T.trial_start_date.toDate().getTime())/(1e3*60*60*24)):null,B=A&&U===O&&T.trial_grace_used!==!0;e({...T,isOnTrial:I,trialExpired:A,trialDaysRemaining:R,inGraceDay:B,hasPremiumAccess:eW(T)||I||B});const G=v.id,D=`trial_log_${G}`,C=localStorage.getItem(D);let P=C?JSON.parse(C):{};const j=(_=T.trial_start_date)!=null&&_.toDate?T.trial_start_date.toDate().getTime():null;if(j){const V=P.trial_start_timestamp||null;(!V||V!==j)&&(P={})}if(T.trial_start_date&&!P.trial_start&&(tW(G),P.trial_start=!0,j&&(P.trial_start_timestamp=j)),I&&R>=0&&R<=7){const V=`day_${7-R}`;P[V]||(nW(G,7-R),P[V]=!0),R===1&&!P.notif_day6&&(iW(G),P.notif_day6=!0)}A&&T.subscription_tier==="free"&&!P.trial_expired&&(rW(G),P.trial_expired=!0,T.trial_used!==!0&&fm(v.id,{trial_used:!0}).catch(()=>{}),P.notif_expired||(aW(G),P.notif_expired=!0)),B&&!P.grace_lock&&(sW(G),P.grace_lock=!0,T.trial_grace_used!==!0&&fm(v.id,{trial_grace_used:!0}).catch(()=>{}),P.notif_grace||(oW(G),P.notif_grace=!0));try{localStorage.setItem(D,JSON.stringify(P))}catch{}}},v=>{console.error("Firestore snapshot error:",v)}),mD(m.email).catch(v=>{console.error("Failed to ensure user profile",v),i(v)})}catch(v){console.error("Failed to initialize user session",v),i(v),e({email:m.email,subscription_tier:"free",coins:0})}finally{r(!1)}});return()=>{h&&h(),d()}},[]),{user:t,loading:n,error:s}}const vD=E.createContext({user:null,loading:!0,error:null});function uW({children:t}){const e=lW();return x.jsx(vD.Provider,{value:e,children:t})}function _1(){return E.useContext(vD)}const cW=Py("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),bD=E.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,role:"alert",className:vt(cW({variant:e}),t),...n}));bD.displayName="Alert";const hW=E.forwardRef(({className:t,...e},n)=>x.jsx("h5",{ref:n,className:vt("mb-1 font-medium leading-none tracking-tight",t),...e}));hW.displayName="AlertTitle";const wD=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("text-sm [&_p]:leading-relaxed",t),...e}));wD.displayName="AlertDescription";function dW(){const{user:t}=_1(),e=f1(),[n,r]=gn.useState(!1),[s,i]=gn.useState(!0);if(!t||n===!0||s===!1||!(t.isOnTrial||t.trialExpired||t.inGraceDay))return null;const o=t.trialExpired&&!t.inGraceDay,u=t.trialDaysRemaining||0,h=t.inGraceDay;return x.jsx(bD,{className:`mb-4 ${o?"bg-red-50 border-red-300":u<=2?"bg-orange-50 border-orange-300":"bg-blue-50 border-blue-300"}`,children:x.jsxs("div",{className:"flex items-start justify-between gap-4",children:[x.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[h?x.jsx(zm,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}):o?x.jsx(zm,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}):x.jsx(P$,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),x.jsx(wD,{className:h?"text-orange-800":o?"text-red-800":"text-blue-800",children:x.jsx("div",{className:"space-y-2",children:h?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Grace Day: Final Chance!"}),x.jsx("p",{className:"text-sm",children:"Your trial expired, but you still have premium access today only. Upgrade now to keep everything before it locks tomorrow."})]}):o?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Your 7-day trial has ended"}),x.jsx("p",{className:"text-sm",children:"You're now on the free plan with limited access. Upgrade to continue enjoying premium features like unlimited games, AI tutor, and more!"})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:u===0?" Trial ends today!":`${u} day${u===1?"":"s"} left in your trial`}),x.jsx("p",{className:"text-sm",children:"You're currently enjoying premium features. Upgrade now to keep unlimited access after your trial ends!"})]})})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(ts,{onClick:()=>e("/subscription"),className:`${h?"bg-orange-600 hover:bg-orange-700":o?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white whitespace-nowrap`,size:"sm",children:[x.jsx(zm,{className:"w-4 h-4 mr-1"}),"Upgrade Now"]}),x.jsx(ts,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"flex-shrink-0",children:x.jsx(S1,{className:"w-4 h-4"})})]})]})})}function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function dne(t,e){const n=E.createContext(e),r=i=>{const{children:o,...u}=i,h=E.useMemo(()=>u,Object.values(u));return x.jsx(n.Provider,{value:h,children:o})};r.displayName=t+"Provider";function s(i){const o=E.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Sf(t,e=[]){let n=[];function r(i,o){const u=E.createContext(o),h=n.length;n=[...n,o];const d=g=>{var v;const{scope:S,children:_,...T}=g,I=((v=S==null?void 0:S[t])==null?void 0:v[h])||u,A=E.useMemo(()=>T,Object.values(T));return x.jsx(I.Provider,{value:A,children:_})};d.displayName=i+"Provider";function m(g,v){var S;const _=((S=v==null?void 0:v[t])==null?void 0:S[h])||u,T=E.useContext(_);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[d,m]}const s=()=>{const i=n.map(o=>E.createContext(o));return function(o){const u=(o==null?void 0:o[t])||i;return E.useMemo(()=>({[`__scope${t}`]:{...o,[t]:u}}),[o,u])}};return s.scopeName=t,[r,fW(s,...e)]}function fW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){const i=r.reduce((o,{useScope:u,scopeName:h})=>{const d=u(s)[`__scope${h}`];return{...o,...d}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var Qa=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},pW=Yw[" useInsertionEffect ".trim().toString()]||Qa;function xD({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=mW({defaultProp:e,onChange:n}),u=t!==void 0,h=u?t:s;{const m=E.useRef(t!==void 0);E.useEffect(()=>{const g=m.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const d=E.useCallback(m=>{var g;if(u){const v=gW(m)?m(t):m;v!==t&&((g=o.current)==null||g.call(o,v))}else i(m)},[u,t,i,o]);return[h,d]}function mW({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),s=E.useRef(n),i=E.useRef(e);return pW(()=>{i.current=e},[e]),E.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function gW(t){return typeof t=="function"}function yW(t){const e=vW(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,u=E.Children.toArray(i),h=u.find(wW);if(h){const d=h.props.children,m=u.map(g=>g===h?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function vW(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=EW(s),u=xW(i,s.props);return s.type!==E.Fragment&&(u.ref=r?Dl(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var bW=Symbol("radix.slottable");function wW(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===bW}function xW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function EW(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var SW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vn=SW.reduce((t,e)=>{const n=yW(`Primitive.${e}`),r=E.forwardRef((s,i)=>{const{asChild:o,...u}=s,h=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(h,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ED(t,e){t&&v1.flushSync(()=>t.dispatchEvent(e))}function WI(t){const e=kW(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,u=E.Children.toArray(i),h=u.find(_W);if(h){const d=h.props.children,m=u.map(g=>g===h?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function kW(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=CW(s),u=IW(i,s.props);return s.type!==E.Fragment&&(u.ref=r?Dl(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TW=Symbol("radix.slottable");function _W(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TW}function IW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function CW(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function SD(t){const e=t+"CollectionProvider",[n,r]=Sf(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=T=>{const{scope:I,children:A}=T,R=gn.useRef(null),O=gn.useRef(new Map).current;return x.jsx(s,{scope:I,itemMap:O,collectionRef:R,children:A})};o.displayName=e;const u=t+"CollectionSlot",h=WI(u),d=gn.forwardRef((T,I)=>{const{scope:A,children:R}=T,O=i(u,A),U=er(I,O.collectionRef);return x.jsx(h,{ref:U,children:R})});d.displayName=u;const m=t+"CollectionItemSlot",g="data-radix-collection-item",v=WI(m),S=gn.forwardRef((T,I)=>{const{scope:A,children:R,...O}=T,U=gn.useRef(null),B=er(I,U),G=i(m,A);return gn.useEffect(()=>(G.itemMap.set(U,{ref:U,...O}),()=>void G.itemMap.delete(U))),x.jsx(v,{[g]:"",ref:B,children:R})});S.displayName=m;function _(T){const I=i(t+"CollectionConsumer",T);return gn.useCallback(()=>{const A=I.collectionRef.current;if(!A)return[];const R=Array.from(A.querySelectorAll(`[${g}]`));return Array.from(I.itemMap.values()).sort((O,U)=>R.indexOf(O.ref.current)-R.indexOf(U.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:o,Slot:d,ItemSlot:S},_,r]}var NW=E.createContext(void 0);function kD(t){const e=E.useContext(NW);return t||e||"ltr"}function Pi(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function AW(t,e=globalThis==null?void 0:globalThis.document){const n=Pi(t);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var RW="DismissableLayer",gw="dismissableLayer.update",PW="dismissableLayer.pointerDownOutside",DW="dismissableLayer.focusOutside",KI,TD=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_D=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:u,...h}=t,d=E.useContext(TD),[m,g]=E.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=E.useState({}),_=er(e,D=>g(D)),T=Array.from(d.layers),[I]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),A=T.indexOf(I),R=m?T.indexOf(m):-1,O=d.layersWithOutsidePointerEventsDisabled.size>0,U=R>=A,B=LW(D=>{const C=D.target,P=[...d.branches].some(j=>j.contains(C));!U||P||(s==null||s(D),o==null||o(D),D.defaultPrevented||u==null||u())},v),G=jW(D=>{const C=D.target;[...d.branches].some(P=>P.contains(C))||(i==null||i(D),o==null||o(D),D.defaultPrevented||u==null||u())},v);return AW(D=>{R===d.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&u&&(D.preventDefault(),u()))},v),E.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(KI=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),GI(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=KI)}},[m,v,n,d]),E.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),GI())},[m,d]),E.useEffect(()=>{const D=()=>S({});return document.addEventListener(gw,D),()=>document.removeEventListener(gw,D)},[]),x.jsx(Vn.div,{...h,ref:_,style:{pointerEvents:O?U?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,G.onFocusCapture),onBlurCapture:et(t.onBlurCapture,G.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,B.onPointerDownCapture)})});_D.displayName=RW;var MW="DismissableLayerBranch",OW=E.forwardRef((t,e)=>{const n=E.useContext(TD),r=E.useRef(null),s=er(e,r);return E.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx(Vn.div,{...t,ref:s})});OW.displayName=MW;function LW(t,e=globalThis==null?void 0:globalThis.document){const n=Pi(t),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let h=function(){ID(PW,n,d,{discrete:!0})};const d={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function jW(t,e=globalThis==null?void 0:globalThis.document){const n=Pi(t),r=E.useRef(!1);return E.useEffect(()=>{const s=i=>{i.target&&!r.current&&ID(DW,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function GI(){const t=new CustomEvent(gw);document.dispatchEvent(t)}function ID(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ED(s,i):s.dispatchEvent(i)}var G0=0;function FW(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??HI()),document.body.insertAdjacentElement("beforeend",t[1]??HI()),G0++,()=>{G0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),G0--}},[])}function HI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var H0="focusScope.autoFocusOnMount",Q0="focusScope.autoFocusOnUnmount",QI={bubbles:!1,cancelable:!0},VW="FocusScope",CD=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[u,h]=E.useState(null),d=Pi(s),m=Pi(i),g=E.useRef(null),v=er(e,T=>h(T)),S=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let T=function(O){if(S.paused||!u)return;const U=O.target;u.contains(U)?g.current=U:Aa(g.current,{select:!0})},I=function(O){if(S.paused||!u)return;const U=O.relatedTarget;U!==null&&(u.contains(U)||Aa(g.current,{select:!0}))},A=function(O){if(document.activeElement===document.body)for(const U of O)U.removedNodes.length>0&&Aa(u)};document.addEventListener("focusin",T),document.addEventListener("focusout",I);const R=new MutationObserver(A);return u&&R.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",I),R.disconnect()}}},[r,u,S.paused]),E.useEffect(()=>{if(u){YI.add(S);const T=document.activeElement;if(!u.contains(T)){const I=new CustomEvent(H0,QI);u.addEventListener(H0,d),u.dispatchEvent(I),I.defaultPrevented||(UW(WW(ND(u)),{select:!0}),document.activeElement===T&&Aa(u))}return()=>{u.removeEventListener(H0,d),setTimeout(()=>{const I=new CustomEvent(Q0,QI);u.addEventListener(Q0,m),u.dispatchEvent(I),I.defaultPrevented||Aa(T??document.body,{select:!0}),u.removeEventListener(Q0,m),YI.remove(S)},0)}}},[u,d,m,S]);const _=E.useCallback(T=>{if(!n&&!r||S.paused)return;const I=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,A=document.activeElement;if(I&&A){const R=T.currentTarget,[O,U]=zW(R);O&&U?!T.shiftKey&&A===U?(T.preventDefault(),n&&Aa(O,{select:!0})):T.shiftKey&&A===O&&(T.preventDefault(),n&&Aa(U,{select:!0})):A===R&&T.preventDefault()}},[n,r,S.paused]);return x.jsx(Vn.div,{tabIndex:-1,...o,ref:v,onKeyDown:_})});CD.displayName=VW;function UW(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Aa(r,{select:e}),document.activeElement!==n)return}function zW(t){const e=ND(t),n=XI(e,t),r=XI(e.reverse(),t);return[n,r]}function ND(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function XI(t,e){for(const n of t)if(!BW(n,{upTo:e}))return n}function BW(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function $W(t){return t instanceof HTMLInputElement&&"select"in t}function Aa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&$W(t)&&e&&t.select()}}var YI=qW();function qW(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=JI(t,e),t.unshift(e)},remove(e){var n;t=JI(t,e),(n=t[0])==null||n.resume()}}}function JI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function WW(t){return t.filter(e=>e.tagName!=="A")}var KW=Yw[" useId ".trim().toString()]||(()=>{}),GW=0;function yw(t){const[e,n]=E.useState(KW());return Qa(()=>{n(r=>r??String(GW++))},[t]),e?`radix-${e}`:""}const HW=["top","right","bottom","left"],Xa=Math.min,dr=Math.max,Dg=Math.round,pm=Math.floor,Fs=t=>({x:t,y:t}),QW={left:"right",right:"left",bottom:"top",top:"bottom"},XW={start:"end",end:"start"};function vw(t,e,n){return dr(t,Xa(e,n))}function Di(t,e){return typeof t=="function"?t(e):t}function Mi(t){return t.split("-")[0]}function Dc(t){return t.split("-")[1]}function I1(t){return t==="x"?"y":"x"}function C1(t){return t==="y"?"height":"width"}const YW=new Set(["top","bottom"]);function Ps(t){return YW.has(Mi(t))?"y":"x"}function N1(t){return I1(Ps(t))}function JW(t,e,n){n===void 0&&(n=!1);const r=Dc(t),s=N1(t),i=C1(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Mg(o)),[o,Mg(o)]}function ZW(t){const e=Mg(t);return[bw(t),e,bw(e)]}function bw(t){return t.replace(/start|end/g,e=>XW[e])}const ZI=["left","right"],eC=["right","left"],eK=["top","bottom"],tK=["bottom","top"];function nK(t,e,n){switch(t){case"top":case"bottom":return n?e?eC:ZI:e?ZI:eC;case"left":case"right":return e?eK:tK;default:return[]}}function rK(t,e,n,r){const s=Dc(t);let i=nK(Mi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(bw)))),i}function Mg(t){return t.replace(/left|right|bottom|top/g,e=>QW[e])}function sK(t){return{top:0,right:0,bottom:0,left:0,...t}}function AD(t){return typeof t!="number"?sK(t):{top:t,right:t,bottom:t,left:t}}function Og(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function tC(t,e,n){let{reference:r,floating:s}=t;const i=Ps(e),o=N1(e),u=C1(o),h=Mi(e),d=i==="y",m=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let S;switch(h){case"top":S={x:m,y:r.y-s.height};break;case"bottom":S={x:m,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:g};break;case"left":S={x:r.x-s.width,y:g};break;default:S={x:r.x,y:r.y}}switch(Dc(e)){case"start":S[o]-=v*(n&&d?-1:1);break;case"end":S[o]+=v*(n&&d?-1:1);break}return S}const iK=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,u=i.filter(Boolean),h=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y:g}=tC(d,r,h),v=r,S={},_=0;for(let T=0;T<u.length;T++){const{name:I,fn:A}=u[T],{x:R,y:O,data:U,reset:B}=await A({x:m,y:g,initialPlacement:r,placement:v,strategy:s,middlewareData:S,rects:d,platform:o,elements:{reference:t,floating:e}});m=R??m,g=O??g,S={...S,[I]:{...S[I],...U}},B&&_<=50&&(_++,typeof B=="object"&&(B.placement&&(v=B.placement),B.rects&&(d=B.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):B.rects),{x:m,y:g}=tC(d,v,h)),T=-1)}return{x:m,y:g,placement:v,strategy:s,middlewareData:S}};async function Wd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:u,strategy:h}=t,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:v=!1,padding:S=0}=Di(e,t),_=AD(S),T=u[v?g==="floating"?"reference":"floating":g],I=Og(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:d,rootBoundary:m,strategy:h})),A=g==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),O=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},U=Og(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:A,offsetParent:R,strategy:h}):A);return{top:(I.top-U.top+_.top)/O.y,bottom:(U.bottom-I.bottom+_.bottom)/O.y,left:(I.left-U.left+_.left)/O.x,right:(U.right-I.right+_.right)/O.x}}const aK=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:u,middlewareData:h}=e,{element:d,padding:m=0}=Di(t,e)||{};if(d==null)return{};const g=AD(m),v={x:n,y:r},S=N1(s),_=C1(S),T=await o.getDimensions(d),I=S==="y",A=I?"top":"left",R=I?"bottom":"right",O=I?"clientHeight":"clientWidth",U=i.reference[_]+i.reference[S]-v[S]-i.floating[_],B=v[S]-i.reference[S],G=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let D=G?G[O]:0;(!D||!await(o.isElement==null?void 0:o.isElement(G)))&&(D=u.floating[O]||i.floating[_]);const C=U/2-B/2,P=D/2-T[_]/2-1,j=Xa(g[A],P),V=Xa(g[R],P),$=j,L=D-T[_]-V,we=D/2-T[_]/2+C,Pe=vw($,we,L),ye=!h.arrow&&Dc(s)!=null&&we!==Pe&&i.reference[_]/2-(we<$?j:V)-T[_]/2<0,ve=ye?we<$?we-$:we-L:0;return{[S]:v[S]+ve,data:{[S]:Pe,centerOffset:we-Pe-ve,...ye&&{alignmentOffset:ve}},reset:ye}}}),oK=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:u,platform:h,elements:d}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:T=!0,...I}=Di(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const A=Mi(s),R=Ps(u),O=Mi(u)===u,U=await(h.isRTL==null?void 0:h.isRTL(d.floating)),B=v||(O||!T?[Mg(u)]:ZW(u)),G=_!=="none";!v&&G&&B.push(...rK(u,T,_,U));const D=[u,...B],C=await Wd(e,I),P=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&P.push(C[A]),g){const we=JW(s,o,U);P.push(C[we[0]],C[we[1]])}if(j=[...j,{placement:s,overflows:P}],!P.every(we=>we<=0)){var V,$;const we=(((V=i.flip)==null?void 0:V.index)||0)+1,Pe=D[we];if(Pe&&(!(g==="alignment"&&R!==Ps(Pe))||j.every(ve=>Ps(ve.placement)===R?ve.overflows[0]>0:!0)))return{data:{index:we,overflows:j},reset:{placement:Pe}};let ye=($=j.filter(ve=>ve.overflows[0]<=0).sort((ve,H)=>ve.overflows[1]-H.overflows[1])[0])==null?void 0:$.placement;if(!ye)switch(S){case"bestFit":{var L;const ve=(L=j.filter(H=>{if(G){const ne=Ps(H.placement);return ne===R||ne==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(ne=>ne>0).reduce((ne,ae)=>ne+ae,0)]).sort((H,ne)=>H[1]-ne[1])[0])==null?void 0:L[0];ve&&(ye=ve);break}case"initialPlacement":ye=u;break}if(s!==ye)return{reset:{placement:ye}}}return{}}}};function nC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function rC(t){return HW.some(e=>t[e]>=0)}const lK=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Di(t,e);switch(r){case"referenceHidden":{const i=await Wd(e,{...s,elementContext:"reference"}),o=nC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:rC(o)}}}case"escaped":{const i=await Wd(e,{...s,altBoundary:!0}),o=nC(i,n.floating);return{data:{escapedOffsets:o,escaped:rC(o)}}}default:return{}}}}},RD=new Set(["left","top"]);async function uK(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Mi(n),u=Dc(n),h=Ps(n)==="y",d=RD.has(o)?-1:1,m=i&&h?-1:1,g=Di(e,t);let{mainAxis:v,crossAxis:S,alignmentAxis:_}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof _=="number"&&(S=u==="end"?_*-1:_),h?{x:S*m,y:v*d}:{x:v*d,y:S*m}}const cK=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:u}=e,h=await uK(e,t);return o===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:i+h.y,data:{...h,placement:o}}}}},hK=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:u={fn:I=>{let{x:A,y:R}=I;return{x:A,y:R}}},...h}=Di(t,e),d={x:n,y:r},m=await Wd(e,h),g=Ps(Mi(s)),v=I1(g);let S=d[v],_=d[g];if(i){const I=v==="y"?"top":"left",A=v==="y"?"bottom":"right",R=S+m[I],O=S-m[A];S=vw(R,S,O)}if(o){const I=g==="y"?"top":"left",A=g==="y"?"bottom":"right",R=_+m[I],O=_-m[A];_=vw(R,_,O)}const T=u.fn({...e,[v]:S,[g]:_});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[v]:i,[g]:o}}}}}},dK=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:u=0,mainAxis:h=!0,crossAxis:d=!0}=Di(t,e),m={x:n,y:r},g=Ps(s),v=I1(g);let S=m[v],_=m[g];const T=Di(u,e),I=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(h){const O=v==="y"?"height":"width",U=i.reference[v]-i.floating[O]+I.mainAxis,B=i.reference[v]+i.reference[O]-I.mainAxis;S<U?S=U:S>B&&(S=B)}if(d){var A,R;const O=v==="y"?"width":"height",U=RD.has(Mi(s)),B=i.reference[g]-i.floating[O]+(U&&((A=o.offset)==null?void 0:A[g])||0)+(U?0:I.crossAxis),G=i.reference[g]+i.reference[O]+(U?0:((R=o.offset)==null?void 0:R[g])||0)-(U?I.crossAxis:0);_<B?_=B:_>G&&(_=G)}return{[v]:S,[g]:_}}}},fK=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:u}=e,{apply:h=()=>{},...d}=Di(t,e),m=await Wd(e,d),g=Mi(s),v=Dc(s),S=Ps(s)==="y",{width:_,height:T}=i.floating;let I,A;g==="top"||g==="bottom"?(I=g,A=v===(await(o.isRTL==null?void 0:o.isRTL(u.floating))?"start":"end")?"left":"right"):(A=g,I=v==="end"?"top":"bottom");const R=T-m.top-m.bottom,O=_-m.left-m.right,U=Xa(T-m[I],R),B=Xa(_-m[A],O),G=!e.middlewareData.shift;let D=U,C=B;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=R),G&&!v){const j=dr(m.left,0),V=dr(m.right,0),$=dr(m.top,0),L=dr(m.bottom,0);S?C=_-2*(j!==0||V!==0?j+V:dr(m.left,m.right)):D=T-2*($!==0||L!==0?$+L:dr(m.top,m.bottom))}await h({...e,availableWidth:C,availableHeight:D});const P=await o.getDimensions(u.floating);return _!==P.width||T!==P.height?{reset:{rects:!0}}:{}}}};function My(){return typeof window<"u"}function Mc(t){return PD(t)?(t.nodeName||"").toLowerCase():"#document"}function gr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ys(t){var e;return(e=(PD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function PD(t){return My()?t instanceof Node||t instanceof gr(t).Node:!1}function is(t){return My()?t instanceof Element||t instanceof gr(t).Element:!1}function Gs(t){return My()?t instanceof HTMLElement||t instanceof gr(t).HTMLElement:!1}function sC(t){return!My()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gr(t).ShadowRoot}const pK=new Set(["inline","contents"]);function kf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=as(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!pK.has(s)}const mK=new Set(["table","td","th"]);function gK(t){return mK.has(Mc(t))}const yK=[":popover-open",":modal"];function Oy(t){return yK.some(e=>{try{return t.matches(e)}catch{return!1}})}const vK=["transform","translate","scale","rotate","perspective"],bK=["transform","translate","scale","rotate","perspective","filter"],wK=["paint","layout","strict","content"];function A1(t){const e=R1(),n=is(t)?as(t):t;return vK.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||bK.some(r=>(n.willChange||"").includes(r))||wK.some(r=>(n.contain||"").includes(r))}function xK(t){let e=Ya(t);for(;Gs(e)&&!xc(e);){if(A1(e))return e;if(Oy(e))return null;e=Ya(e)}return null}function R1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const EK=new Set(["html","body","#document"]);function xc(t){return EK.has(Mc(t))}function as(t){return gr(t).getComputedStyle(t)}function Ly(t){return is(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ya(t){if(Mc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||sC(t)&&t.host||Ys(t);return sC(e)?e.host:e}function DD(t){const e=Ya(t);return xc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gs(e)&&kf(e)?e:DD(e)}function Kd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=DD(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=gr(s);if(i){const u=ww(o);return e.concat(o,o.visualViewport||[],kf(s)?s:[],u&&n?Kd(u):[])}return e.concat(s,Kd(s,[],n))}function ww(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function MD(t){const e=as(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Gs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,u=Dg(n)!==i||Dg(r)!==o;return u&&(n=i,r=o),{width:n,height:r,$:u}}function P1(t){return is(t)?t:t.contextElement}function sc(t){const e=P1(t);if(!Gs(e))return Fs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=MD(e);let o=(i?Dg(n.width):n.width)/r,u=(i?Dg(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const SK=Fs(0);function OD(t){const e=gr(t);return!R1()||!e.visualViewport?SK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kK(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==gr(t)?!1:e}function Tl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=P1(t);let o=Fs(1);e&&(r?is(r)&&(o=sc(r)):o=sc(t));const u=kK(i,n,r)?OD(i):Fs(0);let h=(s.left+u.x)/o.x,d=(s.top+u.y)/o.y,m=s.width/o.x,g=s.height/o.y;if(i){const v=gr(i),S=r&&is(r)?gr(r):r;let _=v,T=ww(_);for(;T&&r&&S!==_;){const I=sc(T),A=T.getBoundingClientRect(),R=as(T),O=A.left+(T.clientLeft+parseFloat(R.paddingLeft))*I.x,U=A.top+(T.clientTop+parseFloat(R.paddingTop))*I.y;h*=I.x,d*=I.y,m*=I.x,g*=I.y,h+=O,d+=U,_=gr(T),T=ww(_)}}return Og({width:m,height:g,x:h,y:d})}function jy(t,e){const n=Ly(t).scrollLeft;return e?e.left+n:Tl(Ys(t)).left+n}function LD(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-jy(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function TK(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ys(r),u=e?Oy(e.floating):!1;if(r===o||u&&i)return n;let h={scrollLeft:0,scrollTop:0},d=Fs(1);const m=Fs(0),g=Gs(r);if((g||!g&&!i)&&((Mc(r)!=="body"||kf(o))&&(h=Ly(r)),Gs(r))){const S=Tl(r);d=sc(r),m.x=S.x+r.clientLeft,m.y=S.y+r.clientTop}const v=o&&!g&&!i?LD(o,h):Fs(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-h.scrollLeft*d.x+m.x+v.x,y:n.y*d.y-h.scrollTop*d.y+m.y+v.y}}function _K(t){return Array.from(t.getClientRects())}function IK(t){const e=Ys(t),n=Ly(t),r=t.ownerDocument.body,s=dr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=dr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+jy(t);const u=-n.scrollTop;return as(r).direction==="rtl"&&(o+=dr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:u}}const iC=25;function CK(t,e){const n=gr(t),r=Ys(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,u=0,h=0;if(s){i=s.width,o=s.height;const m=R1();(!m||m&&e==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}const d=jy(r);if(d<=0){const m=r.ownerDocument,g=m.body,v=getComputedStyle(g),S=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,_=Math.abs(r.clientWidth-g.clientWidth-S);_<=iC&&(i-=_)}else d<=iC&&(i+=d);return{width:i,height:o,x:u,y:h}}const NK=new Set(["absolute","fixed"]);function AK(t,e){const n=Tl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Gs(t)?sc(t):Fs(1),o=t.clientWidth*i.x,u=t.clientHeight*i.y,h=s*i.x,d=r*i.y;return{width:o,height:u,x:h,y:d}}function aC(t,e,n){let r;if(e==="viewport")r=CK(t,n);else if(e==="document")r=IK(Ys(t));else if(is(e))r=AK(e,n);else{const s=OD(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Og(r)}function jD(t,e){const n=Ya(t);return n===e||!is(n)||xc(n)?!1:as(n).position==="fixed"||jD(n,e)}function RK(t,e){const n=e.get(t);if(n)return n;let r=Kd(t,[],!1).filter(u=>is(u)&&Mc(u)!=="body"),s=null;const i=as(t).position==="fixed";let o=i?Ya(t):t;for(;is(o)&&!xc(o);){const u=as(o),h=A1(o);!h&&u.position==="fixed"&&(s=null),(i?!h&&!s:!h&&u.position==="static"&&s&&NK.has(s.position)||kf(o)&&!h&&jD(t,o))?r=r.filter(d=>d!==o):s=u,o=Ya(o)}return e.set(t,r),r}function PK(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Oy(e)?[]:RK(e,this._c):[].concat(n),r],o=i[0],u=i.reduce((h,d)=>{const m=aC(e,d,s);return h.top=dr(m.top,h.top),h.right=Xa(m.right,h.right),h.bottom=Xa(m.bottom,h.bottom),h.left=dr(m.left,h.left),h},aC(e,o,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function DK(t){const{width:e,height:n}=MD(t);return{width:e,height:n}}function MK(t,e,n){const r=Gs(e),s=Ys(e),i=n==="fixed",o=Tl(t,!0,i,e);let u={scrollLeft:0,scrollTop:0};const h=Fs(0);function d(){h.x=jy(s)}if(r||!r&&!i)if((Mc(e)!=="body"||kf(s))&&(u=Ly(e)),r){const S=Tl(e,!0,i,e);h.x=S.x+e.clientLeft,h.y=S.y+e.clientTop}else s&&d();i&&!r&&s&&d();const m=s&&!r&&!i?LD(s,u):Fs(0),g=o.left+u.scrollLeft-h.x-m.x,v=o.top+u.scrollTop-h.y-m.y;return{x:g,y:v,width:o.width,height:o.height}}function X0(t){return as(t).position==="static"}function oC(t,e){if(!Gs(t)||as(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ys(t)===n&&(n=n.ownerDocument.body),n}function FD(t,e){const n=gr(t);if(Oy(t))return n;if(!Gs(t)){let s=Ya(t);for(;s&&!xc(s);){if(is(s)&&!X0(s))return s;s=Ya(s)}return n}let r=oC(t,e);for(;r&&gK(r)&&X0(r);)r=oC(r,e);return r&&xc(r)&&X0(r)&&!A1(r)?n:r||xK(t)||n}const OK=async function(t){const e=this.getOffsetParent||FD,n=this.getDimensions,r=await n(t.floating);return{reference:MK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function LK(t){return as(t).direction==="rtl"}const jK={convertOffsetParentRelativeRectToViewportRelativeRect:TK,getDocumentElement:Ys,getClippingRect:PK,getOffsetParent:FD,getElementRects:OK,getClientRects:_K,getDimensions:DK,getScale:sc,isElement:is,isRTL:LK};function VD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function FK(t,e){let n=null,r;const s=Ys(t);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function o(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),i();const d=t.getBoundingClientRect(),{left:m,top:g,width:v,height:S}=d;if(u||e(),!v||!S)return;const _=pm(g),T=pm(s.clientWidth-(m+v)),I=pm(s.clientHeight-(g+S)),A=pm(m),R={rootMargin:-_+"px "+-T+"px "+-I+"px "+-A+"px",threshold:dr(0,Xa(1,h))||1};let O=!0;function U(B){const G=B[0].intersectionRatio;if(G!==h){if(!O)return o();G?o(!1,G):r=setTimeout(()=>{o(!1,1e-7)},1e3)}G===1&&!VD(d,t.getBoundingClientRect())&&o(),O=!1}try{n=new IntersectionObserver(U,{...R,root:s.ownerDocument})}catch{n=new IntersectionObserver(U,R)}n.observe(t)}return o(!0),i}function VK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,d=P1(t),m=s||i?[...d?Kd(d):[],...Kd(e)]:[];m.forEach(A=>{s&&A.addEventListener("scroll",n,{passive:!0}),i&&A.addEventListener("resize",n)});const g=d&&u?FK(d,n):null;let v=-1,S=null;o&&(S=new ResizeObserver(A=>{let[R]=A;R&&R.target===d&&S&&(S.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var O;(O=S)==null||O.observe(e)})),n()}),d&&!h&&S.observe(d),S.observe(e));let _,T=h?Tl(t):null;h&&I();function I(){const A=Tl(t);T&&!VD(T,A)&&n(),T=A,_=requestAnimationFrame(I)}return n(),()=>{var A;m.forEach(R=>{s&&R.removeEventListener("scroll",n),i&&R.removeEventListener("resize",n)}),g==null||g(),(A=S)==null||A.disconnect(),S=null,h&&cancelAnimationFrame(_)}}const UK=cK,zK=hK,BK=oK,$K=fK,qK=lK,lC=aK,WK=dK,KK=(t,e,n)=>{const r=new Map,s={platform:jK,...n},i={...s.platform,_c:r};return iK(t,e,{...s,platform:i})};var GK=typeof document<"u",HK=function(){},$m=GK?E.useLayoutEffect:HK;function Lg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Lg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Lg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function UD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function uC(t,e){const n=UD(t);return Math.round(e*n)/n}function Y0(t){const e=E.useRef(t);return $m(()=>{e.current=t}),e}function QK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:u=!0,whileElementsMounted:h,open:d}=t,[m,g]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,S]=E.useState(r);Lg(v,r)||S(r);const[_,T]=E.useState(null),[I,A]=E.useState(null),R=E.useCallback(H=>{H!==G.current&&(G.current=H,T(H))},[]),O=E.useCallback(H=>{H!==D.current&&(D.current=H,A(H))},[]),U=i||_,B=o||I,G=E.useRef(null),D=E.useRef(null),C=E.useRef(m),P=h!=null,j=Y0(h),V=Y0(s),$=Y0(d),L=E.useCallback(()=>{if(!G.current||!D.current)return;const H={placement:e,strategy:n,middleware:v};V.current&&(H.platform=V.current),KK(G.current,D.current,H).then(ne=>{const ae={...ne,isPositioned:$.current!==!1};we.current&&!Lg(C.current,ae)&&(C.current=ae,v1.flushSync(()=>{g(ae)}))})},[v,e,n,V,$]);$m(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,g(H=>({...H,isPositioned:!1})))},[d]);const we=E.useRef(!1);$m(()=>(we.current=!0,()=>{we.current=!1}),[]),$m(()=>{if(U&&(G.current=U),B&&(D.current=B),U&&B){if(j.current)return j.current(U,B,L);L()}},[U,B,L,j,P]);const Pe=E.useMemo(()=>({reference:G,floating:D,setReference:R,setFloating:O}),[R,O]),ye=E.useMemo(()=>({reference:U,floating:B}),[U,B]),ve=E.useMemo(()=>{const H={position:n,left:0,top:0};if(!ye.floating)return H;const ne=uC(ye.floating,m.x),ae=uC(ye.floating,m.y);return u?{...H,transform:"translate("+ne+"px, "+ae+"px)",...UD(ye.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ae}},[n,u,ye.floating,m.x,m.y]);return E.useMemo(()=>({...m,update:L,refs:Pe,elements:ye,floatingStyles:ve}),[m,L,Pe,ye,ve])}const XK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?lC({element:r.current,padding:s}).fn(n):{}:r?lC({element:r,padding:s}).fn(n):{}}}},YK=(t,e)=>({...UK(t),options:[t,e]}),JK=(t,e)=>({...zK(t),options:[t,e]}),ZK=(t,e)=>({...WK(t),options:[t,e]}),eG=(t,e)=>({...BK(t),options:[t,e]}),tG=(t,e)=>({...$K(t),options:[t,e]}),nG=(t,e)=>({...qK(t),options:[t,e]}),rG=(t,e)=>({...XK(t),options:[t,e]});var sG="Arrow",zD=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return x.jsx(Vn.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});zD.displayName=sG;var iG=zD;function aG(t){const[e,n]=E.useState(void 0);return Qa(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,u;if("borderBoxSize"in i){const h=i.borderBoxSize,d=Array.isArray(h)?h[0]:h;o=d.inlineSize,u=d.blockSize}else o=t.offsetWidth,u=t.offsetHeight;n({width:o,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var D1="Popper",[BD,$D]=Sf(D1),[oG,qD]=BD(D1),WD=t=>{const{__scopePopper:e,children:n}=t,[r,s]=E.useState(null);return x.jsx(oG,{scope:e,anchor:r,onAnchorChange:s,children:n})};WD.displayName=D1;var KD="PopperAnchor",GD=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=qD(KD,n),o=E.useRef(null),u=er(e,o),h=E.useRef(null);return E.useEffect(()=>{const d=h.current;h.current=(r==null?void 0:r.current)||o.current,d!==h.current&&i.onAnchorChange(h.current)}),r?null:x.jsx(Vn.div,{...s,ref:u})});GD.displayName=KD;var M1="PopperContent",[lG,uG]=BD(M1),HD=E.forwardRef((t,e)=>{var n,r,s,i,o,u;const{__scopePopper:h,side:d="bottom",sideOffset:m=0,align:g="center",alignOffset:v=0,arrowPadding:S=0,avoidCollisions:_=!0,collisionBoundary:T=[],collisionPadding:I=0,sticky:A="partial",hideWhenDetached:R=!1,updatePositionStrategy:O="optimized",onPlaced:U,...B}=t,G=qD(M1,h),[D,C]=E.useState(null),P=er(e,zn=>C(zn)),[j,V]=E.useState(null),$=aG(j),L=($==null?void 0:$.width)??0,we=($==null?void 0:$.height)??0,Pe=d+(g!=="center"?"-"+g:""),ye=typeof I=="number"?I:{top:0,right:0,bottom:0,left:0,...I},ve=Array.isArray(T)?T:[T],H=ve.length>0,ne={padding:ye,boundary:ve.filter(hG),altBoundary:H},{refs:ae,floatingStyles:K,placement:re,isPositioned:pe,middlewareData:me}=QK({strategy:"fixed",placement:Pe,whileElementsMounted:(...zn)=>VK(...zn,{animationFrame:O==="always"}),elements:{reference:G.anchor},middleware:[YK({mainAxis:m+we,alignmentAxis:v}),_&&JK({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?ZK():void 0,...ne}),_&&eG({...ne}),tG({...ne,apply:({elements:zn,rects:$i,availableWidth:Ll,availableHeight:qi})=>{const{width:Js,height:io}=$i.reference,ft=zn.floating.style;ft.setProperty("--radix-popper-available-width",`${Ll}px`),ft.setProperty("--radix-popper-available-height",`${qi}px`),ft.setProperty("--radix-popper-anchor-width",`${Js}px`),ft.setProperty("--radix-popper-anchor-height",`${io}px`)}}),j&&rG({element:j,padding:S}),dG({arrowWidth:L,arrowHeight:we}),R&&nG({strategy:"referenceHidden",...ne})]}),[De,ze]=YD(re),Ce=Pi(U);Qa(()=>{pe&&(Ce==null||Ce())},[pe,Ce]);const $e=(n=me.arrow)==null?void 0:n.x,Ue=(r=me.arrow)==null?void 0:r.y,dt=((s=me.arrow)==null?void 0:s.centerOffset)!==0,[vr,br]=E.useState();return Qa(()=>{D&&br(window.getComputedStyle(D).zIndex)},[D]),x.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:pe?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:vr,"--radix-popper-transform-origin":[(i=me.transformOrigin)==null?void 0:i.x,(o=me.transformOrigin)==null?void 0:o.y].join(" "),...((u=me.hide)==null?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(lG,{scope:h,placedSide:De,onArrowChange:V,arrowX:$e,arrowY:Ue,shouldHideArrow:dt,children:x.jsx(Vn.div,{"data-side":De,"data-align":ze,...B,ref:P,style:{...B.style,animation:pe?void 0:"none"}})})})});HD.displayName=M1;var QD="PopperArrow",cG={top:"bottom",right:"left",bottom:"top",left:"right"},XD=E.forwardRef(function(t,e){const{__scopePopper:n,...r}=t,s=uG(QD,n),i=cG[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(iG,{...r,ref:e,style:{...r.style,display:"block"}})})});XD.displayName=QD;function hG(t){return t!==null}var dG=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s;const{placement:i,rects:o,middlewareData:u}=e,h=((n=u.arrow)==null?void 0:n.centerOffset)!==0,d=h?0:t.arrowWidth,m=h?0:t.arrowHeight,[g,v]=YD(i),S={start:"0%",center:"50%",end:"100%"}[v],_=(((r=u.arrow)==null?void 0:r.x)??0)+d/2,T=(((s=u.arrow)==null?void 0:s.y)??0)+m/2;let I="",A="";return g==="bottom"?(I=h?S:`${_}px`,A=`${-m}px`):g==="top"?(I=h?S:`${_}px`,A=`${o.floating.height+m}px`):g==="right"?(I=`${-m}px`,A=h?S:`${T}px`):g==="left"&&(I=`${o.floating.width+m}px`,A=h?S:`${T}px`),{data:{x:I,y:A}}}});function YD(t){const[e,n="center"]=t.split("-");return[e,n]}var fG=WD,pG=GD,mG=HD,gG=XD,yG="Portal",JD=E.forwardRef((t,e)=>{var n;const{container:r,...s}=t,[i,o]=E.useState(!1);Qa(()=>o(!0),[]);const u=r||i&&((n=globalThis==null?void 0:globalThis.document)==null?void 0:n.body);return u?_7.createPortal(x.jsx(Vn.div,{...s,ref:e}),u):null});JD.displayName=yG;function vG(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var Tf=t=>{const{present:e,children:n}=t,r=bG(e),s=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),i=er(r.ref,wG(s));return typeof n=="function"||r.isPresent?E.cloneElement(s,{ref:i}):null};Tf.displayName="Presence";function bG(t){const[e,n]=E.useState(),r=E.useRef(null),s=E.useRef(t),i=E.useRef("none"),o=t?"mounted":"unmounted",[u,h]=vG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const d=mm(r.current);i.current=u==="mounted"?d:"none"},[u]),Qa(()=>{const d=r.current,m=s.current;if(m!==t){const g=i.current,v=mm(d);t?h("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?h("UNMOUNT"):h(m&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,h]),Qa(()=>{if(e){let d;const m=e.ownerDocument.defaultView??window,g=S=>{const _=mm(r.current).includes(CSS.escape(S.animationName));if(S.target===e&&_&&(h("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",d=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},v=S=>{S.target===e&&(i.current=mm(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:E.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function mm(t){return(t==null?void 0:t.animationName)||"none"}function wG(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var J0="rovingFocusGroup.onEntryFocus",xG={bubbles:!1,cancelable:!0},_f="RovingFocusGroup",[xw,ZD,EG]=SD(_f),[SG,eM]=Sf(_f,[EG]),[kG,TG]=SG(_f),tM=E.forwardRef((t,e)=>x.jsx(xw.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(xw.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(_G,{...t,ref:e})})}));tM.displayName=_f;var _G=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...g}=t,v=E.useRef(null),S=er(e,v),_=kD(i),[T,I]=xD({prop:o,defaultProp:u??null,onChange:h,caller:_f}),[A,R]=E.useState(!1),O=Pi(d),U=ZD(n),B=E.useRef(!1),[G,D]=E.useState(0);return E.useEffect(()=>{const C=v.current;if(C)return C.addEventListener(J0,O),()=>C.removeEventListener(J0,O)},[O]),x.jsx(kG,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:T,onItemFocus:E.useCallback(C=>I(C),[I]),onItemShiftTab:E.useCallback(()=>R(!0),[]),onFocusableItemAdd:E.useCallback(()=>D(C=>C+1),[]),onFocusableItemRemove:E.useCallback(()=>D(C=>C-1),[]),children:x.jsx(Vn.div,{tabIndex:A||G===0?-1:0,"data-orientation":r,...g,ref:S,style:{outline:"none",...t.style},onMouseDown:et(t.onMouseDown,()=>{B.current=!0}),onFocus:et(t.onFocus,C=>{const P=!B.current;if(C.target===C.currentTarget&&P&&!A){const j=new CustomEvent(J0,xG);if(C.currentTarget.dispatchEvent(j),!j.defaultPrevented){const V=U().filter(Pe=>Pe.focusable),$=V.find(Pe=>Pe.active),L=V.find(Pe=>Pe.id===T),we=[$,L,...V].filter(Boolean).map(Pe=>Pe.ref.current);sM(we,m)}}B.current=!1}),onBlur:et(t.onBlur,()=>R(!1))})})}),nM="RovingFocusGroupItem",rM=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...u}=t,h=yw(),d=i||h,m=TG(nM,n),g=m.currentTabStopId===d,v=ZD(n),{onFocusableItemAdd:S,onFocusableItemRemove:_,currentTabStopId:T}=m;return E.useEffect(()=>{if(r)return S(),()=>_()},[r,S,_]),x.jsx(xw.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:x.jsx(Vn.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:et(t.onMouseDown,I=>{r?m.onItemFocus(d):I.preventDefault()}),onFocus:et(t.onFocus,()=>m.onItemFocus(d)),onKeyDown:et(t.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){m.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const A=NG(I,m.orientation,m.dir);if(A!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let R=v().filter(O=>O.focusable).map(O=>O.ref.current);if(A==="last")R.reverse();else if(A==="prev"||A==="next"){A==="prev"&&R.reverse();const O=R.indexOf(I.currentTarget);R=m.loop?AG(R,O+1):R.slice(O+1)}setTimeout(()=>sM(R))}}),children:typeof o=="function"?o({isCurrentTabStop:g,hasTabStop:T!=null}):o})})});rM.displayName=nM;var IG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function CG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function NG(t,e,n){const r=CG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return IG[r]}function sM(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function AG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var RG=tM,PG=rM;function DG(t){const e=MG(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,u=E.Children.toArray(i),h=u.find(LG);if(h){const d=h.props.children,m=u.map(g=>g===h?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,m):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function MG(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=FG(s),u=jG(i,s.props);return s.type!==E.Fragment&&(u.ref=r?Dl(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var OG=Symbol("radix.slottable");function LG(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===OG}function jG(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function FG(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var VG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Fu=new WeakMap,gm=new WeakMap,ym={},Z0=0,iM=function(t){return t&&(t.host||iM(t.parentNode))},UG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=iM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},zG=function(t,e,n,r){var s=UG(e,Array.isArray(t)?t:[t]);ym[n]||(ym[n]=new WeakMap);var i=ym[n],o=[],u=new Set,h=new Set(s),d=function(g){!g||u.has(g)||(u.add(g),d(g.parentNode))};s.forEach(d);var m=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))m(v);else try{var S=v.getAttribute(r),_=S!==null&&S!=="false",T=(Fu.get(v)||0)+1,I=(i.get(v)||0)+1;Fu.set(v,T),i.set(v,I),o.push(v),T===1&&_&&gm.set(v,!0),I===1&&v.setAttribute(n,"true"),_||v.setAttribute(r,"true")}catch(A){console.error("aria-hidden: cannot operate on ",v,A)}})};return m(e),u.clear(),Z0++,function(){o.forEach(function(g){var v=Fu.get(g)-1,S=i.get(g)-1;Fu.set(g,v),i.set(g,S),v||(gm.has(g)||g.removeAttribute(r),gm.delete(g)),S||g.removeAttribute(n)}),Z0--,Z0||(Fu=new WeakMap,Fu=new WeakMap,gm=new WeakMap,ym={})}},BG=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=VG(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),zG(r,s,n,"aria-hidden")):function(){return null}},Ns=function(){return Ns=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ns.apply(this,arguments)};function aM(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function $G(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var qm="right-scroll-bar-position",Wm="width-before-scroll-bar",qG="with-scroll-bars-hidden",WG="--removed-body-scroll-bar-size";function eb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function KG(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var GG=typeof window<"u"?E.useLayoutEffect:E.useEffect,cC=new WeakMap;function HG(t,e){var n=KG(null,function(r){return t.forEach(function(s){return eb(s,r)})});return GG(function(){var r=cC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(u){i.has(u)||eb(u,null)}),i.forEach(function(u){s.has(u)||eb(u,o)})}cC.set(n,t)},[t]),n}function QG(t){return t}function XG(t,e){e===void 0&&(e=QG);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(u){return u!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var u=n;n=[],u.forEach(i),o=n}var h=function(){var m=o;o=[],m.forEach(i)},d=function(){return Promise.resolve().then(h)};d(),n={push:function(m){o.push(m),d()},filter:function(m){return o=o.filter(m),n}}}};return s}function YG(t){t===void 0&&(t={});var e=XG(null);return e.options=Ns({async:!0,ssr:!1},t),e}var oM=function(t){var e=t.sideCar,n=aM(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Ns({},n))};oM.isSideCarExport=!0;function JG(t,e){return t.useMedium(e),oM}var lM=YG(),tb=function(){},Fy=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:tb,onWheelCapture:tb,onTouchMoveCapture:tb}),s=r[0],i=r[1],o=t.forwardProps,u=t.children,h=t.className,d=t.removeScrollBar,m=t.enabled,g=t.shards,v=t.sideCar,S=t.noRelative,_=t.noIsolation,T=t.inert,I=t.allowPinchZoom,A=t.as,R=A===void 0?"div":A,O=t.gapMode,U=aM(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=v,G=HG([n,e]),D=Ns(Ns({},U),s);return E.createElement(E.Fragment,null,m&&E.createElement(B,{sideCar:lM,removeScrollBar:d,shards:g,noRelative:S,noIsolation:_,inert:T,setCallbacks:i,allowPinchZoom:!!I,lockRef:n,gapMode:O}),o?E.cloneElement(E.Children.only(u),Ns(Ns({},D),{ref:G})):E.createElement(R,Ns({},D,{className:h,ref:G}),u))});Fy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fy.classNames={fullWidth:Wm,zeroRight:qm};var ZG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=ZG();return e&&t.setAttribute("nonce",e),t}function tH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function nH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var rH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=eH())&&(tH(e,n),nH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},sH=function(){var t=rH();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},uM=function(){var t=sH(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},iH={left:0,top:0,right:0,gap:0},nb=function(t){return parseInt(t||"",10)||0},aH=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[nb(n),nb(r),nb(s)]},oH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return iH;var e=aH(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},lH=uM(),ic="data-scroll-locked",uH=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(qG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(ic,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qm,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Wm,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(qm," .").concat(qm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Wm," .").concat(Wm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ic,`] {
    `).concat(WG,": ").concat(u,`px;
  }
`)},hC=function(){var t=parseInt(document.body.getAttribute(ic)||"0",10);return isFinite(t)?t:0},cH=function(){E.useEffect(function(){return document.body.setAttribute(ic,(hC()+1).toString()),function(){var t=hC()-1;t<=0?document.body.removeAttribute(ic):document.body.setAttribute(ic,t.toString())}},[])},hH=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;cH();var i=E.useMemo(function(){return oH(s)},[s]);return E.createElement(lH,{styles:uH(i,!e,s,n?"":"!important")})},Ew=!1;if(typeof window<"u")try{var vm=Object.defineProperty({},"passive",{get:function(){return Ew=!0,!0}});window.addEventListener("test",vm,vm),window.removeEventListener("test",vm,vm)}catch{Ew=!1}var Vu=Ew?{passive:!1}:!1,dH=function(t){return t.tagName==="TEXTAREA"},cM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!dH(t)&&n[e]==="visible")},fH=function(t){return cM(t,"overflowY")},pH=function(t){return cM(t,"overflowX")},dC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=hM(t,r);if(s){var i=dM(t,r),o=i[1],u=i[2];if(o>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mH=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},gH=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},hM=function(t,e){return t==="v"?fH(e):pH(e)},dM=function(t,e){return t==="v"?mH(e):gH(e)},yH=function(t,e){return t==="h"&&e==="rtl"?-1:1},vH=function(t,e,n,r,s){var i=yH(t,window.getComputedStyle(e).direction),o=i*r,u=n.target,h=e.contains(u),d=!1,m=o>0,g=0,v=0;do{if(!u)break;var S=dM(t,u),_=S[0],T=S[1],I=S[2],A=T-I-i*_;(_||A)&&hM(t,u)&&(g+=A,v+=_);var R=u.parentNode;u=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(m&&Math.abs(g)<1||!m&&Math.abs(v)<1)&&(d=!0),d},bm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},fC=function(t){return[t.deltaX,t.deltaY]},pC=function(t){return t&&"current"in t?t.current:t},bH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},wH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},xH=0,Uu=[];function EH(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),s=E.useState(xH++)[0],i=E.useState(uM)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var T=$G([t.lockRef.current],(t.shards||[]).map(pC)).filter(Boolean);return T.forEach(function(I){return I.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=E.useCallback(function(T,I){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!o.current.allowPinchZoom;var A=bm(T),R=n.current,O="deltaX"in T?T.deltaX:R[0]-A[0],U="deltaY"in T?T.deltaY:R[1]-A[1],B,G=T.target,D=Math.abs(O)>Math.abs(U)?"h":"v";if("touches"in T&&D==="h"&&G.type==="range")return!1;var C=dC(D,G);if(!C)return!0;if(C?B=D:(B=D==="v"?"h":"v",C=dC(D,G)),!C)return!1;if(!r.current&&"changedTouches"in T&&(O||U)&&(r.current=B),!B)return!0;var P=r.current||B;return vH(P,I,T,P==="h"?O:U)},[]),h=E.useCallback(function(T){var I=T;if(!(!Uu.length||Uu[Uu.length-1]!==i)){var A="deltaY"in I?fC(I):bm(I),R=e.current.filter(function(B){return B.name===I.type&&(B.target===I.target||I.target===B.shadowParent)&&bH(B.delta,A)})[0];if(R&&R.should){I.cancelable&&I.preventDefault();return}if(!R){var O=(o.current.shards||[]).map(pC).filter(Boolean).filter(function(B){return B.contains(I.target)}),U=O.length>0?u(I,O[0]):!o.current.noIsolation;U&&I.cancelable&&I.preventDefault()}}},[]),d=E.useCallback(function(T,I,A,R){var O={name:T,delta:I,target:A,should:R,shadowParent:SH(A)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(U){return U!==O})},1)},[]),m=E.useCallback(function(T){n.current=bm(T),r.current=void 0},[]),g=E.useCallback(function(T){d(T.type,fC(T),T.target,u(T,t.lockRef.current))},[]),v=E.useCallback(function(T){d(T.type,bm(T),T.target,u(T,t.lockRef.current))},[]);E.useEffect(function(){return Uu.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",h,Vu),document.addEventListener("touchmove",h,Vu),document.addEventListener("touchstart",m,Vu),function(){Uu=Uu.filter(function(T){return T!==i}),document.removeEventListener("wheel",h,Vu),document.removeEventListener("touchmove",h,Vu),document.removeEventListener("touchstart",m,Vu)}},[]);var S=t.removeScrollBar,_=t.inert;return E.createElement(E.Fragment,null,_?E.createElement(i,{styles:wH(s)}):null,S?E.createElement(hH,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function SH(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const kH=JG(lM,EH);var fM=E.forwardRef(function(t,e){return E.createElement(Fy,Ns({},t,{ref:e,sideCar:kH}))});fM.classNames=Fy.classNames;var Sw=["Enter"," "],TH=["ArrowDown","PageUp","Home"],pM=["ArrowUp","PageDown","End"],_H=[...TH,...pM],IH={ltr:[...Sw,"ArrowRight"],rtl:[...Sw,"ArrowLeft"]},CH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},If="Menu",[Gd,NH,AH]=SD(If),[Ml,mM]=Sf(If,[AH,$D,eM]),Vy=$D(),gM=eM(),[RH,Ol]=Ml(If),[PH,Cf]=Ml(If),yM=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,u=Vy(e),[h,d]=E.useState(null),m=E.useRef(!1),g=Pi(i),v=kD(s);return E.useEffect(()=>{const S=()=>{m.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>m.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),x.jsx(fG,{...u,children:x.jsx(RH,{scope:e,open:n,onOpenChange:g,content:h,onContentChange:d,children:x.jsx(PH,{scope:e,onClose:E.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:v,modal:o,children:r})})})};yM.displayName=If;var DH="MenuAnchor",O1=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Vy(n);return x.jsx(pG,{...s,...r,ref:e})});O1.displayName=DH;var L1="MenuPortal",[MH,vM]=Ml(L1,{forceMount:void 0}),bM=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Ol(L1,e);return x.jsx(MH,{scope:e,forceMount:n,children:x.jsx(Tf,{present:n||i.open,children:x.jsx(JD,{asChild:!0,container:s,children:r})})})};bM.displayName=L1;var Or="MenuContent",[OH,j1]=Ml(Or),wM=E.forwardRef((t,e)=>{const n=vM(Or,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ol(Or,t.__scopeMenu),o=Cf(Or,t.__scopeMenu);return x.jsx(Gd.Provider,{scope:t.__scopeMenu,children:x.jsx(Tf,{present:r||i.open,children:x.jsx(Gd.Slot,{scope:t.__scopeMenu,children:o.modal?x.jsx(LH,{...s,ref:e}):x.jsx(jH,{...s,ref:e})})})})}),LH=E.forwardRef((t,e)=>{const n=Ol(Or,t.__scopeMenu),r=E.useRef(null),s=er(e,r);return E.useEffect(()=>{const i=r.current;if(i)return BG(i)},[]),x.jsx(F1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),jH=E.forwardRef((t,e)=>{const n=Ol(Or,t.__scopeMenu);return x.jsx(F1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),FH=DG("MenuContent.ScrollLock"),F1=E.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:S,disableOutsideScroll:_,...T}=t,I=Ol(Or,n),A=Cf(Or,n),R=Vy(n),O=gM(n),U=NH(n),[B,G]=E.useState(null),D=E.useRef(null),C=er(e,D,I.onContentChange),P=E.useRef(0),j=E.useRef(""),V=E.useRef(0),$=E.useRef(null),L=E.useRef("right"),we=E.useRef(0),Pe=_?fM:E.Fragment,ye=_?{as:FH,allowPinchZoom:!0}:void 0,ve=ne=>{var ae,K;const re=j.current+ne,pe=U().filter(Ue=>!Ue.disabled),me=document.activeElement,De=(ae=pe.find(Ue=>Ue.ref.current===me))==null?void 0:ae.textValue,ze=pe.map(Ue=>Ue.textValue),Ce=XH(ze,re,De),$e=(K=pe.find(Ue=>Ue.textValue===Ce))==null?void 0:K.ref.current;(function Ue(dt){j.current=dt,window.clearTimeout(P.current),dt!==""&&(P.current=window.setTimeout(()=>Ue(""),1e3))})(re),$e&&setTimeout(()=>$e.focus())};E.useEffect(()=>()=>window.clearTimeout(P.current),[]),FW();const H=E.useCallback(ne=>{var ae,K;return L.current===((ae=$.current)==null?void 0:ae.side)&&JH(ne,(K=$.current)==null?void 0:K.area)},[]);return x.jsx(OH,{scope:n,searchRef:j,onItemEnter:E.useCallback(ne=>{H(ne)&&ne.preventDefault()},[H]),onItemLeave:E.useCallback(ne=>{var ae;H(ne)||((ae=D.current)==null||ae.focus(),G(null))},[H]),onTriggerLeave:E.useCallback(ne=>{H(ne)&&ne.preventDefault()},[H]),pointerGraceTimerRef:V,onPointerGraceIntentChange:E.useCallback(ne=>{$.current=ne},[]),children:x.jsx(Pe,{...ye,children:x.jsx(CD,{asChild:!0,trapped:s,onMountAutoFocus:et(i,ne=>{var ae;ne.preventDefault(),(ae=D.current)==null||ae.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:x.jsx(_D,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:S,children:x.jsx(RG,{asChild:!0,...O,dir:A.dir,orientation:"vertical",loop:r,currentTabStopId:B,onCurrentTabStopIdChange:G,onEntryFocus:et(h,ne=>{A.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(mG,{role:"menu","aria-orientation":"vertical","data-state":LM(I.open),"data-radix-menu-content":"",dir:A.dir,...R,...T,ref:C,style:{outline:"none",...T.style},onKeyDown:et(T.onKeyDown,ne=>{const ae=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,K=ne.ctrlKey||ne.altKey||ne.metaKey,re=ne.key.length===1;ae&&(ne.key==="Tab"&&ne.preventDefault(),!K&&re&&ve(ne.key));const pe=D.current;if(ne.target!==pe||!_H.includes(ne.key))return;ne.preventDefault();const me=U().filter(De=>!De.disabled).map(De=>De.ref.current);pM.includes(ne.key)&&me.reverse(),HH(me)}),onBlur:et(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(P.current),j.current="")}),onPointerMove:et(t.onPointerMove,Hd(ne=>{const ae=ne.target,K=we.current!==ne.clientX;if(ne.currentTarget.contains(ae)&&K){const re=ne.clientX>we.current?"right":"left";L.current=re,we.current=ne.clientX}}))})})})})})})});wM.displayName=Or;var VH="MenuGroup",V1=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Vn.div,{role:"group",...r,ref:e})});V1.displayName=VH;var UH="MenuLabel",xM=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Vn.div,{...r,ref:e})});xM.displayName=UH;var jg="MenuItem",mC="menu.itemSelect",Uy=E.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=E.useRef(null),o=Cf(jg,t.__scopeMenu),u=j1(jg,t.__scopeMenu),h=er(e,i),d=E.useRef(!1),m=()=>{const g=i.current;if(!n&&g){const v=new CustomEvent(mC,{bubbles:!0,cancelable:!0});g.addEventListener(mC,S=>r==null?void 0:r(S),{once:!0}),ED(g,v),v.defaultPrevented?d.current=!1:o.onClose()}};return x.jsx(EM,{...s,ref:h,disabled:n,onClick:et(t.onClick,m),onPointerDown:g=>{var v;(v=t.onPointerDown)==null||v.call(t,g),d.current=!0},onPointerUp:et(t.onPointerUp,g=>{var v;d.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:et(t.onKeyDown,g=>{const v=u.searchRef.current!=="";n||v&&g.key===" "||Sw.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Uy.displayName=jg;var EM=E.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=j1(jg,n),u=gM(n),h=E.useRef(null),d=er(e,h),[m,g]=E.useState(!1),[v,S]=E.useState("");return E.useEffect(()=>{const _=h.current;_&&S((_.textContent??"").trim())},[i.children]),x.jsx(Gd.ItemSlot,{scope:n,disabled:r,textValue:s??v,children:x.jsx(PG,{asChild:!0,...u,focusable:!r,children:x.jsx(Vn.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:et(t.onPointerMove,Hd(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(t.onPointerLeave,Hd(_=>o.onItemLeave(_))),onFocus:et(t.onFocus,()=>g(!0)),onBlur:et(t.onBlur,()=>g(!1))})})})}),zH="MenuCheckboxItem",SM=E.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return x.jsx(CM,{scope:t.__scopeMenu,checked:n,children:x.jsx(Uy,{role:"menuitemcheckbox","aria-checked":Fg(n)?"mixed":n,...s,ref:e,"data-state":z1(n),onSelect:et(s.onSelect,()=>r==null?void 0:r(Fg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});SM.displayName=zH;var kM="MenuRadioGroup",[BH,$H]=Ml(kM,{value:void 0,onValueChange:()=>{}}),TM=E.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Pi(r);return x.jsx(BH,{scope:t.__scopeMenu,value:n,onValueChange:i,children:x.jsx(V1,{...s,ref:e})})});TM.displayName=kM;var _M="MenuRadioItem",IM=E.forwardRef((t,e)=>{const{value:n,...r}=t,s=$H(_M,t.__scopeMenu),i=n===s.value;return x.jsx(CM,{scope:t.__scopeMenu,checked:i,children:x.jsx(Uy,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":z1(i),onSelect:et(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});IM.displayName=_M;var U1="MenuItemIndicator",[CM,qH]=Ml(U1,{checked:!1}),NM=E.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=qH(U1,n);return x.jsx(Tf,{present:r||Fg(i.checked)||i.checked===!0,children:x.jsx(Vn.span,{...s,ref:e,"data-state":z1(i.checked)})})});NM.displayName=U1;var WH="MenuSeparator",AM=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Vn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});AM.displayName=WH;var KH="MenuArrow",RM=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Vy(n);return x.jsx(gG,{...s,...r,ref:e})});RM.displayName=KH;var GH="MenuSub",[fne,PM]=Ml(GH),od="MenuSubTrigger",DM=E.forwardRef((t,e)=>{const n=Ol(od,t.__scopeMenu),r=Cf(od,t.__scopeMenu),s=PM(od,t.__scopeMenu),i=j1(od,t.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=i,d={__scopeMenu:t.__scopeMenu},m=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>m,[m]),E.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),h(null)}},[u,h]),x.jsx(O1,{asChild:!0,...d,children:x.jsx(EM,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":LM(n.open),...t,ref:Dl(e,s.onTriggerChange),onClick:g=>{var v;(v=t.onClick)==null||v.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(t.onPointerMove,Hd(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:et(t.onPointerLeave,Hd(g=>{var v,S;m();const _=(v=n.content)==null?void 0:v.getBoundingClientRect();if(_){const T=(S=n.content)==null?void 0:S.dataset.side,I=T==="right",A=I?-5:5,R=_[I?"left":"right"],O=_[I?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+A,y:g.clientY},{x:R,y:_.top},{x:O,y:_.top},{x:O,y:_.bottom},{x:R,y:_.bottom}],side:T}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(t.onKeyDown,g=>{var v;const S=i.searchRef.current!=="";t.disabled||S&&g.key===" "||IH[r.dir].includes(g.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),g.preventDefault())})})})});DM.displayName=od;var MM="MenuSubContent",OM=E.forwardRef((t,e)=>{const n=vM(Or,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ol(Or,t.__scopeMenu),o=Cf(Or,t.__scopeMenu),u=PM(MM,t.__scopeMenu),h=E.useRef(null),d=er(e,h);return x.jsx(Gd.Provider,{scope:t.__scopeMenu,children:x.jsx(Tf,{present:r||i.open,children:x.jsx(Gd.Slot,{scope:t.__scopeMenu,children:x.jsx(F1,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var g;o.isUsingKeyboardRef.current&&((g=h.current)==null||g.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:et(t.onFocusOutside,m=>{m.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(t.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:et(t.onKeyDown,m=>{var g;const v=m.currentTarget.contains(m.target),S=CH[o.dir].includes(m.key);v&&S&&(i.onOpenChange(!1),(g=u.trigger)==null||g.focus(),m.preventDefault())})})})})})});OM.displayName=MM;function LM(t){return t?"open":"closed"}function Fg(t){return t==="indeterminate"}function z1(t){return Fg(t)?"indeterminate":t?"checked":"unchecked"}function HH(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function QH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function XH(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=QH(t,Math.max(s,0));r.length===1&&(i=i.filter(u=>u!==n));const o=i.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return o!==n?o:void 0}function YH(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const u=e[i],h=e[o],d=u.x,m=u.y,g=h.x,v=h.y;m>r!=v>r&&n<(g-d)*(r-m)/(v-m)+d&&(s=!s)}return s}function JH(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return YH(n,e)}function Hd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var ZH=yM,eQ=O1,tQ=bM,nQ=wM,rQ=V1,sQ=xM,iQ=Uy,aQ=SM,oQ=TM,lQ=IM,uQ=NM,cQ=AM,hQ=RM,dQ=DM,fQ=OM,zy="DropdownMenu",[pQ]=Sf(zy,[mM]),Un=mM(),[mQ,jM]=pQ(zy),FM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:u=!0}=t,h=Un(e),d=E.useRef(null),[m,g]=xD({prop:s,defaultProp:i??!1,onChange:o,caller:zy});return x.jsx(mQ,{scope:e,triggerId:yw(),triggerRef:d,contentId:yw(),open:m,onOpenChange:g,onOpenToggle:E.useCallback(()=>g(v=>!v),[g]),modal:u,children:x.jsx(ZH,{...h,open:m,onOpenChange:g,dir:r,modal:u,children:n})})};FM.displayName=zy;var VM="DropdownMenuTrigger",UM=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=jM(VM,n),o=Un(n);return x.jsx(eQ,{asChild:!0,...o,children:x.jsx(Vn.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Dl(e,i.triggerRef),onPointerDown:et(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:et(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});UM.displayName=VM;var gQ="DropdownMenuPortal",zM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Un(e);return x.jsx(tQ,{...r,...n})};zM.displayName=gQ;var BM="DropdownMenuContent",$M=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=jM(BM,n),i=Un(n),o=E.useRef(!1);return x.jsx(nQ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:et(t.onCloseAutoFocus,u=>{var h;o.current||(h=s.triggerRef.current)==null||h.focus(),o.current=!1,u.preventDefault()}),onInteractOutside:et(t.onInteractOutside,u=>{const h=u.detail.originalEvent,d=h.button===0&&h.ctrlKey===!0,m=h.button===2||d;(!s.modal||m)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$M.displayName=BM;var yQ="DropdownMenuGroup",vQ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(rQ,{...s,...r,ref:e})});vQ.displayName=yQ;var bQ="DropdownMenuLabel",qM=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(sQ,{...s,...r,ref:e})});qM.displayName=bQ;var wQ="DropdownMenuItem",WM=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(iQ,{...s,...r,ref:e})});WM.displayName=wQ;var xQ="DropdownMenuCheckboxItem",KM=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(aQ,{...s,...r,ref:e})});KM.displayName=xQ;var EQ="DropdownMenuRadioGroup",SQ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(oQ,{...s,...r,ref:e})});SQ.displayName=EQ;var kQ="DropdownMenuRadioItem",GM=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(lQ,{...s,...r,ref:e})});GM.displayName=kQ;var TQ="DropdownMenuItemIndicator",HM=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(uQ,{...s,...r,ref:e})});HM.displayName=TQ;var _Q="DropdownMenuSeparator",QM=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(cQ,{...s,...r,ref:e})});QM.displayName=_Q;var IQ="DropdownMenuArrow",CQ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(hQ,{...s,...r,ref:e})});CQ.displayName=IQ;var NQ="DropdownMenuSubTrigger",XM=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(dQ,{...s,...r,ref:e})});XM.displayName=NQ;var AQ="DropdownMenuSubContent",YM=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Un(n);return x.jsx(fQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YM.displayName=AQ;var RQ=FM,PQ=UM,DQ=zM,JM=$M,ZM=qM,eO=WM,tO=KM,nO=GM,rO=HM,sO=QM,iO=XM,aO=YM;const MQ=RQ,OQ=PQ,LQ=E.forwardRef(({className:t,inset:e,children:n,...r},s)=>x.jsxs(iO,{ref:s,className:vt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,x.jsx(k$,{className:"ml-auto"})]}));LQ.displayName=iO.displayName;const jQ=E.forwardRef(({className:t,...e},n)=>x.jsx(aO,{ref:n,className:vt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));jQ.displayName=aO.displayName;const oO=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(DQ,{children:x.jsx(JM,{ref:r,sideOffset:e,className:vt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));oO.displayName=JM.displayName;const Go=E.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(eO,{ref:r,className:vt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Go.displayName=eO.displayName;const FQ=E.forwardRef(({className:t,children:e,checked:n,...r},s)=>x.jsxs(tO,{ref:s,className:vt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(rO,{children:x.jsx(E$,{className:"h-4 w-4"})})}),e]}));FQ.displayName=tO.displayName;const VQ=E.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(nO,{ref:r,className:vt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(rO,{children:x.jsx(A$,{className:"h-2 w-2 fill-current"})})}),e]}));VQ.displayName=nO.displayName;const UQ=E.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(ZM,{ref:r,className:vt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));UQ.displayName=ZM.displayName;const lO=E.forwardRef(({className:t,...e},n)=>x.jsx(sO,{ref:n,className:vt("-mx-1 my-1 h-px bg-muted",t),...e}));lO.displayName=sO.displayName;function os(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function _l(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const uO=6048e5,zQ=864e5;let BQ={};function By(){return BQ}function Qd(t,e){var n,r,s,i;const o=By(),u=(e==null?void 0:e.weekStartsOn)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.weekStartsOn)??o.weekStartsOn??((i=(s=o.locale)==null?void 0:s.options)==null?void 0:i.weekStartsOn)??0,h=os(t),d=h.getDay(),m=(d<u?7:0)+d-u;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function Vg(t){return Qd(t,{weekStartsOn:1})}function cO(t){const e=os(t),n=e.getFullYear(),r=_l(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Vg(r),i=_l(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Vg(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function kw(t){const e=os(t);return e.setHours(0,0,0,0),e}function gC(t){const e=os(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function $Q(t,e){const n=kw(t),r=kw(e),s=+n-gC(n),i=+r-gC(r);return Math.round((s-i)/zQ)}function qQ(t){const e=cO(t),n=_l(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Vg(n)}function WQ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function KQ(t){if(!WQ(t)&&typeof t!="number")return!1;const e=os(t);return!isNaN(Number(e))}function GQ(t){const e=os(t),n=_l(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const HQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},QQ=(t,e,n)=>{let r;const s=HQ[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function rb(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const XQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},YQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},JQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZQ={date:rb({formats:XQ,defaultWidth:"full"}),time:rb({formats:YQ,defaultWidth:"full"}),dateTime:rb({formats:JQ,defaultWidth:"full"})},eX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tX=(t,e,n,r)=>eX[t];function Yh(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):o;s=t.formattingValues[u]||t.formattingValues[o]}else{const o=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[u]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const nX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lX=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},uX={ordinalNumber:lX,era:Yh({values:nX,defaultWidth:"wide"}),quarter:Yh({values:rX,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Yh({values:sX,defaultWidth:"wide"}),day:Yh({values:iX,defaultWidth:"wide"}),dayPeriod:Yh({values:aX,defaultWidth:"wide",formattingValues:oX,defaultFormattingWidth:"wide"})};function Jh(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(u)?hX(u,g=>g.test(o)):cX(u,g=>g.test(o));let d;d=t.valueCallback?t.valueCallback(h):h,d=n.valueCallback?n.valueCallback(d):d;const m=e.slice(o.length);return{value:d,rest:m}}}function cX(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function hX(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function dX(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const u=e.slice(s.length);return{value:o,rest:u}}}const fX=/^(\d+)(th|st|nd|rd)?/i,pX=/\d+/i,mX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gX={any:[/^b/i,/^(a|c)/i]},yX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vX={any:[/1/i,/2/i,/3/i,/4/i]},bX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},EX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TX={ordinalNumber:dX({matchPattern:fX,parsePattern:pX,valueCallback:t=>parseInt(t,10)}),era:Jh({matchPatterns:mX,defaultMatchWidth:"wide",parsePatterns:gX,defaultParseWidth:"any"}),quarter:Jh({matchPatterns:yX,defaultMatchWidth:"wide",parsePatterns:vX,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Jh({matchPatterns:bX,defaultMatchWidth:"wide",parsePatterns:wX,defaultParseWidth:"any"}),day:Jh({matchPatterns:xX,defaultMatchWidth:"wide",parsePatterns:EX,defaultParseWidth:"any"}),dayPeriod:Jh({matchPatterns:SX,defaultMatchWidth:"any",parsePatterns:kX,defaultParseWidth:"any"})},_X={code:"en-US",formatDistance:QQ,formatLong:ZQ,formatRelative:tX,localize:uX,match:TX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function IX(t){const e=os(t);return $Q(e,GQ(e))+1}function CX(t){const e=os(t),n=+Vg(e)-+qQ(e);return Math.round(n/uO)+1}function hO(t,e){var n,r,s,i;const o=os(t),u=o.getFullYear(),h=By(),d=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??h.firstWeekContainsDate??((i=(s=h.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,m=_l(t,0);m.setFullYear(u+1,0,d),m.setHours(0,0,0,0);const g=Qd(m,e),v=_l(t,0);v.setFullYear(u,0,d),v.setHours(0,0,0,0);const S=Qd(v,e);return o.getTime()>=g.getTime()?u+1:o.getTime()>=S.getTime()?u:u-1}function NX(t,e){var n,r,s,i;const o=By(),u=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??o.firstWeekContainsDate??((i=(s=o.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,h=hO(t,e),d=_l(t,0);return d.setFullYear(h,0,u),d.setHours(0,0,0,0),Qd(d,e)}function AX(t,e){const n=os(t),r=+Qd(n,e)-+NX(n,e);return Math.round(r/uO)+1}function it(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Na={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return it(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):it(n+1,2)},d(t,e){return it(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return it(t.getHours()%12||12,e.length)},H(t,e){return it(t.getHours(),e.length)},m(t,e){return it(t.getMinutes(),e.length)},s(t,e){return it(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return it(s,e.length)}},zu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yC={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Na.y(t,e)},Y:function(t,e,n,r){const s=hO(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return it(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):it(i,e.length)},R:function(t,e){const n=cO(t);return it(n,e.length)},u:function(t,e){const n=t.getFullYear();return it(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return it(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return it(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Na.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return it(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=AX(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):it(s,e.length)},I:function(t,e,n){const r=CX(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):it(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Na.d(t,e)},D:function(t,e,n){const r=IX(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):it(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return it(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return it(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return it(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=zu.noon:r===0?s=zu.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=zu.evening:r>=12?s=zu.afternoon:r>=4?s=zu.morning:s=zu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Na.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Na.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):it(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):it(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Na.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Na.s(t,e)},S:function(t,e){return Na.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return bC(r);case"XXXX":case"XX":return Ho(r);case"XXXXX":case"XXX":default:return Ho(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return bC(r);case"xxxx":case"xx":return Ho(r);case"xxxxx":case"xxx":default:return Ho(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+vC(r,":");case"OOOO":default:return"GMT"+Ho(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+vC(r,":");case"zzzz":default:return"GMT"+Ho(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return it(r,e.length)},T:function(t,e,n){const r=t.getTime();return it(r,e.length)}};function vC(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+it(i,2)}function bC(t,e){return t%60===0?(t>0?"-":"+")+it(Math.abs(t)/60,2):Ho(t,e)}function Ho(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=it(Math.trunc(r/60),2),i=it(r%60,2);return n+s+e+i}const wC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},dO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},RX=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return wC(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",wC(r,e)).replace("{{time}}",dO(s,e))},PX={p:dO,P:RX},DX=/^D+$/,MX=/^Y+$/,OX=["D","DD","YY","YYYY"];function LX(t){return DX.test(t)}function jX(t){return MX.test(t)}function FX(t,e,n){const r=VX(t,e,n);if(console.warn(r),OX.includes(t))throw new RangeError(r)}function VX(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const UX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BX=/^'([^]*?)'?$/,$X=/''/g,qX=/[a-zA-Z]/;function WX(t,e,n){var r,s,i,o;const u=By(),h=u.locale??_X,d=u.firstWeekContainsDate??((s=(r=u.locale)==null?void 0:r.options)==null?void 0:s.firstWeekContainsDate)??1,m=u.weekStartsOn??((o=(i=u.locale)==null?void 0:i.options)==null?void 0:o.weekStartsOn)??0,g=os(t);if(!KQ(g))throw new RangeError("Invalid time value");let v=e.match(zX).map(_=>{const T=_[0];if(T==="p"||T==="P"){const I=PX[T];return I(_,h.formatLong)}return _}).join("").match(UX).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const T=_[0];if(T==="'")return{isToken:!1,value:KX(_)};if(yC[T])return{isToken:!0,value:_};if(T.match(qX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:_}});h.localize.preprocessor&&(v=h.localize.preprocessor(g,v));const S={firstWeekContainsDate:d,weekStartsOn:m,locale:h};return v.map(_=>{if(!_.isToken)return _.value;const T=_.value;(jX(T)||LX(T))&&FX(T,e,String(t));const I=yC[T[0]];return I(g,T,h.localize,S)}).join("")}function KX(t){const e=t.match(BX);return e?e[1].replace($X,"'"):t}class Tw extends gn.Component{constructor(e){super(e),Ak(this,"hardReload",()=>{window.location.reload(!0)}),Ak(this,"clearCachesAndReload",async()=>{try{if("caches"in window){const n=await caches.keys();await Promise.all(n.map(r=>caches.delete(r)))}if("serviceWorker"in navigator){const n=await navigator.serviceWorker.getRegistrations();await Promise.all(n.map(r=>r.unregister()))}}catch(n){console.warn("Failed to clear caches or unregister SW",n)}finally{window.location.reload()}}),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ChunkErrorBoundary caught an error:",e,n)}render(){var e,n,r,s;if(this.state.hasError){const i=((e=this.state.error)==null?void 0:e.message)||"";return((n=this.state.error)==null?void 0:n.name)==="ChunkLoadError"||((r=this.state.error)==null?void 0:r.name)==="CSSChunkLoadError"||/Loading chunk|Failed to fetch dynamically imported module|Importing a module script failed/i.test(i)?x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Update available"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"The app was updated. Please refresh to load the latest version."}),x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx("button",{onClick:this.hardReload,className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"}),x.jsx("button",{onClick:this.clearCachesAndReload,className:"px-4 py-2 rounded-lg bg-gray-200",children:"Reset cache & reload"})]}),x.jsxs("details",{className:"mt-4 text-left text-xs text-gray-500",children:[x.jsx("summary",{children:"Details"}),x.jsx("pre",{className:"whitespace-pre-wrap break-words",children:((s=this.state.error)==null?void 0:s.stack)||i})]})]})}):x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"Try refreshing the page."}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"})]})})}return this.props.children}}const GX=gn.lazy(()=>qt(()=>Bt(()=>import("./AvatarDisplay-Bq8KvINC-Bkjcf5GX.js"),[]),[]));gn.lazy(()=>qt(()=>Bt(()=>import("./PetDisplay-CWJwigaH-Dn1kB1rT.js"),__vite__mapDeps([0,1])),$t([0,1])));const HX=gn.lazy(()=>qt(()=>Bt(()=>import("./InstallPrompt-DgpoMmSN-7-1KwCIk.js"),__vite__mapDeps([2,3])),$t([2,3])));function QX({children:t,currentPageName:e}){const n=Bi(),[r,s]=E.useState(!1),{user:i,loading:o}=_1(),[u,h]=E.useState(()=>localStorage.getItem("app.theme")==="dark");E.useEffect(()=>{const A=()=>{h(localStorage.getItem("app.theme")==="dark")};A(),window.addEventListener("storage",A);const R=setInterval(A,500);return()=>{window.removeEventListener("storage",A),clearInterval(R)}},[]),E.useEffect(()=>{const A=document.createElement("link");A.rel="manifest",A.href="/manifest.json",document.head.appendChild(A);const R=document.createElement("meta");R.name="theme-color",R.content=u?"#1e293b":"#9333ea",document.head.appendChild(R);const O=document.createElement("meta");O.name="apple-mobile-web-app-capable",O.content="yes",document.head.appendChild(O);const U=document.createElement("meta");U.name="apple-mobile-web-app-status-bar-style",U.content="black-translucent",document.head.appendChild(U);let B=document.querySelector('link[rel="apple-touch-icon"]'),G=!1;return B||(B=document.createElement("link"),B.rel="apple-touch-icon",B.href="/icons/apple-touch-icon.png",document.head.appendChild(B),G=!0),()=>{G&&B&&B.parentNode&&B.remove()}},[u]);const[d,m]=E.useState(0);E.useEffect(()=>{i!=null&&i.email&&m(0)},[i==null?void 0:i.email]);const g=WX(kw(new Date),"yyyy-MM-dd"),{data:v=[]}=c$({queryKey:["dailyChallenges",g],initialData:[],enabled:!!i});if(e==="Landing")return x.jsx(x.Fragment,{children:t});if(e==="Home"&&!i)return x.jsx(x.Fragment,{children:t});if(!i)return o?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center max-w-md w-full",children:[x.jsx(Wk,{size:"xl",variant:"circle",className:"mx-auto mb-6"}),x.jsx("h1",{className:"text-4xl font-extrabold text-white mb-3 drop-shadow-2xl",children:"Math Adventure"}),x.jsx("p",{className:"text-lg text-white mb-6 drop-shadow-lg",children:"Sign in or create an account to start."}),x.jsx(gD,{})]})});const S=v.some(A=>A.created_by===(i==null?void 0:i.email)),_=i?{avatar_skin_tone:i.avatar_skin_tone||"medium",avatar_hair_style:i.avatar_hair_style||"short",avatar_hair_color:i.avatar_hair_color||"brown",avatar_eyes:i.avatar_eyes||"normal",avatar_outfit:i.avatar_outfit||"casual",avatar_accessory:i.avatar_accessory||"none"}:null;i==null||i.active_pet,i!=null&&i.subscription_tier;const T=async()=>{const A=Jg(ss);await b5(A),localStorage.clear(),window.location.href="/"},I=({to:A,label:R,icon:O})=>{const U=n.pathname===yt(A);return x.jsxs(an,{to:yt(A),onClick:()=>s(!1),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all font-medium ${U?"bg-purple-500 text-white shadow-lg":u?"text-gray-300 hover:bg-slate-700":"text-gray-600 hover:bg-purple-50"}`,children:[O&&x.jsx(O,{className:"w-5 h-5"}),R]})};return x.jsxs("div",{className:`min-h-screen ${u?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50"}`,children:[x.jsx(dW,{}),x.jsx("style",{children:`
        :root {
          --primary: 168 85% 55%;
          --secondary: 280 65% 60%;
          --accent: 45 95% 55%;
          --success: 142 76% 45%;
        }

        @media all and (display-mode: standalone) {
          body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
          }
        }

        ${u?`
          * {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
          }

          *::-webkit-scrollbar {
            width: 8px;
          }

          *::-webkit-scrollbar-track {
            background: #1e293b;
          }

          *::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
          }

          *::-webkit-scrollbar-thumb:hover {
            background: #64748b;
          }
        `:""}
      `}),x.jsx("header",{className:`${u?"bg-slate-800/90":"bg-white/80"} backdrop-blur-md shadow-sm sticky top-0 z-50`,children:x.jsxs("div",{className:"max-w-7xl mx-auto px-2 md:px-4 py-2 md:py-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs(an,{to:yt("Home"),className:"flex items-center gap-3",children:[x.jsx(Wk,{size:"md",variant:"circle"}),x.jsx("div",{children:x.jsx("h1",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${u&&"from-purple-400 to-pink-400"}`,children:"Math Adventure"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[i&&x.jsxs(x.Fragment,{children:[x.jsx(an,{to:yt("Home"),className:"hidden md:inline-block",children:x.jsxs(ts,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold shadow-lg",children:[x.jsx(eD,{className:"w-4 h-4 mr-2"}),"Play Now"]})}),x.jsxs(MQ,{children:[x.jsx(OQ,{asChild:!0,children:x.jsxs(ts,{variant:"ghost",className:"flex items-center gap-2 px-3",children:[x.jsx(q0,{className:"w-5 h-5"}),x.jsx("span",{className:"hidden md:inline-block font-medium",children:i.displayName||i.email||"Account"})]})}),x.jsxs(oO,{align:"end",children:[x.jsx(Go,{asChild:!0,children:x.jsx(an,{to:yt("Avatar"),children:"Profile"})}),x.jsx(Go,{asChild:!0,children:x.jsx(an,{to:yt("Settings"),children:"Settings"})}),x.jsx(Go,{asChild:!0,children:x.jsx(an,{to:yt("Subscription"),children:"Subscription"})}),x.jsx(Go,{asChild:!0,children:x.jsx(an,{to:yt("PrivacyPolicy"),children:"Privacy Policy"})}),(i==null?void 0:i.is_admin)&&x.jsx(Go,{asChild:!0,children:x.jsx(an,{to:yt("AdminTestAccount"),children:"Admin"})}),x.jsx(lO,{}),x.jsx(Go,{onClick:T,className:"text-red-600",children:"Logout"})]})]})]}),x.jsx(ts,{variant:"ghost",size:"icon",onClick:()=>s(!r),className:`ml-2 ${u?"text-gray-50 hover:bg-slate-700":""}`,"aria-label":"Open navigation menu",children:r?x.jsx(S1,{className:"w-6 h-6"}):x.jsx(q$,{className:"w-6 h-6"})})]})]}),r&&x.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex justify-end",children:x.jsx("div",{className:`w-full max-w-xs h-full bg-white dark:bg-slate-800 shadow-xl p-6 overflow-y-auto ${u?"border-l border-slate-700":""}`,children:i&&x.jsxs("div",{className:`${u?"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-50":"bg-gradient-to-r from-purple-50 to-pink-50"} p-4 rounded-xl mb-4`,children:[x.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[x.jsxs(an,{to:yt("Home"),children:[" "," "]}),x.jsxs(ts,{children:[" "," "]})]}),x.jsxs("div",{children:[x.jsx(I,{to:"Avatar",label:"Profile",icon:q0}),x.jsx(I,{to:"Settings",label:"Settings",icon:X$}),x.jsx(I,{to:"Subscription",label:"Subscription",icon:zm}),x.jsx(I,{to:"PrivacyPolicy",label:"Privacy Policy",icon:C$}),(i==null?void 0:i.is_admin)&&x.jsx(I,{to:"AdminTestAccount",label:"Admin",icon:w$}),x.jsxs("button",{onClick:()=>{s(!1),T()},className:`w-full flex items-center gap-2 px-4 py-3 rounded-xl mt-4 ${u?"bg-red-900/20 text-red-400 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[x.jsx(B$,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})})})]})}),x.jsx("div",{className:`lg:hidden fixed bottom-0 left-0 right-0 ${u?"bg-slate-800/90 border-slate-700":"bg-white/90 border-t"} backdrop-blur-md shadow-lg z-40`,children:x.jsxs("div",{className:"grid grid-cols-6 gap-1 px-2 py-2",children:[x.jsxs(an,{to:yt("Home"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===yt("Home")?"bg-purple-500 text-white":u?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(U$,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),x.jsxs(an,{to:yt("DailyChallenge"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===yt("DailyChallenge")?"bg-purple-500 text-white":u?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(v$,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Daily"}),!S&&x.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),x.jsxs(an,{to:yt("AITutor"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===yt("AITutor")?"bg-purple-500 text-white":u?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(ZP,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Tutor"})]}),x.jsxs(an,{to:yt("Shop"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===yt("Shop")?"bg-purple-500 text-white":u?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(eq,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Shop"})]}),x.jsx(an,{to:yt("Avatar"),className:`flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-all ${n.pathname===yt("Avatar")?"bg-purple-500 text-white":u?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:_?x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(GX,{avatarData:_,size:"small"})}):x.jsx(q0,{className:"w-6 h-6"})})]})}),x.jsx(Tw,{children:x.jsx(gn.Suspense,{fallback:null,children:x.jsx(HX,{})})}),x.jsx("main",{className:"flex-1 pb-20 lg:pb-0",children:x.jsx(Tw,{children:x.jsx(gn.Suspense,{fallback:x.jsx("div",{className:"min-h-[40vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-3"}),x.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),children:t})})}),x.jsx("footer",{className:`${u?"bg-slate-800/60 border-slate-700":"bg-white/60 border-gray-200"} backdrop-blur-sm mt-12 py-8 border-t`,children:x.jsx("div",{className:"max-w-7xl mx-auto px-4",children:x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"text-center md:text-left",children:[x.jsx("p",{className:`text-sm ${u?"text-gray-300":"text-gray-600"}`,children:"Keep practicing and have fun! "}),x.jsx("p",{className:`text-xs ${u?"text-gray-400":"text-gray-500"} mt-1`,children:" 2025 Math Adventure. All rights reserved."})]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[x.jsx(an,{to:yt("PrivacyPolicy"),className:`text-sm ${u?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Privacy Policy"}),x.jsx("span",{className:u?"text-gray-600":"text-gray-300",children:""}),x.jsx(an,{to:yt("Subscription"),className:`text-sm ${u?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Pricing"}),x.jsx("span",{className:u?"text-gray-600":"text-gray-300",children:""}),x.jsx("a",{href:"mailto:support@math-adventure.com",className:`text-sm ${u?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Contact"})]})]})})})]})}const XX=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));XX.displayName="Card";const YX=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("flex flex-col space-y-1.5 p-6",t),...e}));YX.displayName="CardHeader";const JX=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("font-semibold leading-none tracking-tight",t),...e}));JX.displayName="CardTitle";const ZX=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("text-sm text-muted-foreground",t),...e}));ZX.displayName="CardDescription";const eY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("p-6 pt-0",t),...e}));eY.displayName="CardContent";const tY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("flex items-center p-6 pt-0",t),...e}));tY.displayName="CardFooter";const fO=E.createContext({});function nY(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const B1=typeof window<"u",rY=B1?E.useLayoutEffect:E.useEffect,$1=E.createContext(null);function q1(t,e){t.indexOf(e)===-1&&t.push(e)}function W1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Oi=(t,e,n)=>n>e?e:n<t?t:n;let K1=()=>{};const Li={},pO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mO(t){return typeof t=="object"&&t!==null}const gO=t=>/^0[^.\s]+$/u.test(t);function G1(t){let e;return()=>(e===void 0&&(e=t()),e)}const Lr=t=>t,sY=(t,e)=>n=>e(t(n)),Nf=(...t)=>t.reduce(sY),Xd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class H1{constructor(){this.subscriptions=[]}add(e){return q1(this.subscriptions,e),()=>W1(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vs=t=>t*1e3,Dr=t=>t/1e3;function yO(t,e){return e?t*(1e3/e):0}const vO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,iY=1e-7,aY=12;function oY(t,e,n,r,s){let i,o,u=0;do o=e+(n-e)/2,i=vO(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>iY&&++u<aY);return o}function Af(t,e,n,r){if(t===e&&n===r)return Lr;const s=i=>oY(i,0,1,t,n);return i=>i===0||i===1?i:vO(s(i),e,r)}const bO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wO=t=>e=>1-t(1-e),xO=Af(.33,1.53,.69,.99),Q1=wO(xO),EO=bO(Q1),SO=t=>(t*=2)<1?.5*Q1(t):.5*(2-Math.pow(2,-10*(t-1))),X1=t=>1-Math.sin(Math.acos(t)),kO=wO(X1),TO=bO(X1),lY=Af(.42,0,1,1),uY=Af(0,0,.58,1),_O=Af(.42,0,.58,1),cY=t=>Array.isArray(t)&&typeof t[0]!="number",IO=t=>Array.isArray(t)&&typeof t[0]=="number",hY={linear:Lr,easeIn:lY,easeInOut:_O,easeOut:uY,circIn:X1,circInOut:TO,circOut:kO,backIn:Q1,backInOut:EO,backOut:xO,anticipate:SO},dY=t=>typeof t=="string",xC=t=>{if(IO(t)){K1(t.length===4);const[e,n,r,s]=t;return Af(e,n,r,s)}else if(dY(t))return hY[t];return t},wm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fY(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(m){o.has(m)&&(d.schedule(m),t()),m(u)}const d={schedule:(m,g=!1,v=!1)=>{const S=v&&s?n:r;return g&&o.add(m),S.has(m)||S.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(u=m,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(h),n.clear(),s=!1,i&&(i=!1,d.process(m))}};return d}const pY=40;function CO(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=wm.reduce((A,R)=>(A[R]=fY(i),A),{}),{setup:u,read:h,resolveKeyframes:d,preUpdate:m,update:g,preRender:v,render:S,postRender:_}=o,T=()=>{const A=Li.useManualTiming?s.timestamp:performance.now();n=!1,Li.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(A-s.timestamp,pY),1)),s.timestamp=A,s.isProcessing=!0,u.process(s),h.process(s),d.process(s),m.process(s),g.process(s),v.process(s),S.process(s),_.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(T))},I=()=>{n=!0,r=!0,s.isProcessing||t(T)};return{schedule:wm.reduce((A,R)=>{const O=o[R];return A[R]=(U,B=!1,G=!1)=>(n||I(),O.schedule(U,B,G)),A},{}),cancel:A=>{for(let R=0;R<wm.length;R++)o[wm[R]].cancel(A)},state:s,steps:o}}const{schedule:xt,cancel:Ja,state:fn,steps:sb}=CO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lr,!0);let Km;function mY(){Km=void 0}const Jn={now:()=>(Km===void 0&&Jn.set(fn.isProcessing||Li.useManualTiming?fn.timestamp:performance.now()),Km),set:t=>{Km=t,queueMicrotask(mY)}},NO=t=>e=>typeof e=="string"&&e.startsWith(t),Y1=NO("--"),gY=NO("var(--"),J1=t=>gY(t)?yY.test(t.split("/*")[0].trim()):!1,yY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Oc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Yd={...Oc,transform:t=>Oi(0,1,t)},xm={...Oc,default:1},bd=t=>Math.round(t*1e5)/1e5,Z1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vY(t){return t==null}const bY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eE=(t,e)=>n=>!!(typeof n=="string"&&bY.test(n)&&n.startsWith(t)||e&&!vY(n)&&Object.prototype.hasOwnProperty.call(n,e)),AO=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,u]=r.match(Z1);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},wY=t=>Oi(0,255,t),ib={...Oc,transform:t=>Math.round(wY(t))},rl={test:eE("rgb","red"),parse:AO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ib.transform(t)+", "+ib.transform(e)+", "+ib.transform(n)+", "+bd(Yd.transform(r))+")"};function xY(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const _w={test:eE("#"),parse:xY,transform:rl.transform},Rf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ra=Rf("deg"),Us=Rf("%"),Le=Rf("px"),EY=Rf("vh"),SY=Rf("vw"),EC={...Us,parse:t=>Us.parse(t)/100,transform:t=>Us.transform(t*100)},Hu={test:eE("hsl","hue"),parse:AO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Us.transform(bd(e))+", "+Us.transform(bd(n))+", "+bd(Yd.transform(r))+")"},Ht={test:t=>rl.test(t)||_w.test(t)||Hu.test(t),parse:t=>rl.test(t)?rl.parse(t):Hu.test(t)?Hu.parse(t):_w.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?rl.transform(t):Hu.transform(t),getAnimatableNone:t=>{const e=Ht.parse(t);return e.alpha=0,Ht.transform(e)}},kY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TY(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Z1))==null?void 0:e.length)||0)+(((n=t.match(kY))==null?void 0:n.length)||0)>0}const RO="number",PO="color",_Y="var",IY="var(",SC="${}",CY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(CY,u=>(Ht.test(u)?(r.color.push(i),s.push(PO),n.push(Ht.parse(u))):u.startsWith(IY)?(r.var.push(i),s.push(_Y),n.push(u)):(r.number.push(i),s.push(RO),n.push(parseFloat(u))),++i,SC)).split(SC);return{values:n,split:o,indexes:r,types:s}}function DO(t){return Jd(t).values}function MO(t){const{split:e,types:n}=Jd(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const u=n[o];u===RO?i+=bd(s[o]):u===PO?i+=Ht.transform(s[o]):i+=s[o]}return i}}const NY=t=>typeof t=="number"?0:Ht.test(t)?Ht.getAnimatableNone(t):t;function AY(t){const e=DO(t);return MO(t)(e.map(NY))}const Za={test:TY,parse:DO,createTransformer:MO,getAnimatableNone:AY};function ab(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function RY({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;s=ab(h,u,t+1/3),i=ab(h,u,t),o=ab(h,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Ug(t,e){return n=>n>0?e:t}const _t=(t,e,n)=>t+(e-t)*n,ob=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},PY=[_w,rl,Hu],DY=t=>PY.find(e=>e.test(t));function kC(t){const e=DY(t);if(!e)return!1;let n=e.parse(t);return e===Hu&&(n=RY(n)),n}const TC=(t,e)=>{const n=kC(t),r=kC(e);if(!n||!r)return Ug(t,e);const s={...n};return i=>(s.red=ob(n.red,r.red,i),s.green=ob(n.green,r.green,i),s.blue=ob(n.blue,r.blue,i),s.alpha=_t(n.alpha,r.alpha,i),rl.transform(s))},Iw=new Set(["none","hidden"]);function MY(t,e){return Iw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function OY(t,e){return n=>_t(t,e,n)}function tE(t){return typeof t=="number"?OY:typeof t=="string"?J1(t)?Ug:Ht.test(t)?TC:FY:Array.isArray(t)?OO:typeof t=="object"?Ht.test(t)?TC:LY:Ug}function OO(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>tE(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function LY(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=tE(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function jY(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],u=t.values[o]??0;n[s]=u,r[i]++}return n}const FY=(t,e)=>{const n=Za.createTransformer(e),r=Jd(t),s=Jd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Iw.has(t)&&!s.values.length||Iw.has(e)&&!r.values.length?MY(t,e):Nf(OO(jY(r,s),s.values),n):Ug(t,e)};function LO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):tE(t)(t,e)}const VY=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>xt.update(e,n),stop:()=>Ja(e),now:()=>fn.isProcessing?fn.timestamp:Jn.now()}},jO=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},zg=2e4;function nE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<zg;)e+=n,r=t.next(e);return e>=zg?1/0:e}function UY(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(nE(r),zg);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Dr(s)}}const zY=5;function FO(t,e,n){const r=Math.max(e-zY,0);return yO(n-t(r),e-r)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lb=.001;function BY({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:n=Rt.velocity,mass:r=Rt.mass}){let s,i,o=1-e;o=Oi(Rt.minDamping,Rt.maxDamping,o),t=Oi(Rt.minDuration,Rt.maxDuration,Dr(t)),o<1?(s=d=>{const m=d*o,g=m*t,v=m-n,S=Cw(d,o),_=Math.exp(-g);return lb-v/S*_},i=d=>{const m=d*o*t,g=m*n+n,v=Math.pow(o,2)*Math.pow(d,2)*t,S=Math.exp(-m),_=Cw(Math.pow(d,2),o);return(-s(d)+lb>0?-1:1)*((g-v)*S)/_}):(s=d=>{const m=Math.exp(-d*t),g=(d-n)*t+1;return-lb+m*g},i=d=>{const m=Math.exp(-d*t),g=(n-d)*(t*t);return m*g});const u=5/t,h=qY(s,i,u);if(t=Vs(t),isNaN(h))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const d=Math.pow(h,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const $Y=12;function qY(t,e,n){let r=n;for(let s=1;s<$Y;s++)r=r-t(r)/e(r);return r}function Cw(t,e){return t*Math.sqrt(1-e*e)}const WY=["duration","bounce"],KY=["stiffness","damping","mass"];function _C(t,e){return e.some(n=>t[n]!==void 0)}function GY(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!_C(t,KY)&&_C(t,WY))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Oi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Rt.mass,stiffness:s,damping:i}}else{const n=BY(t);e={...e,...n,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function Bg(t=Rt.visualDuration,e=Rt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:h,damping:d,mass:m,duration:g,velocity:v,isResolvedFromDuration:S}=GY({...n,velocity:-Dr(n.velocity||0)}),_=v||0,T=d/(2*Math.sqrt(h*m)),I=o-i,A=Dr(Math.sqrt(h/m)),R=Math.abs(I)<5;r||(r=R?Rt.restSpeed.granular:Rt.restSpeed.default),s||(s=R?Rt.restDelta.granular:Rt.restDelta.default);let O;if(T<1){const B=Cw(A,T);O=G=>{const D=Math.exp(-T*A*G);return o-D*((_+T*A*I)/B*Math.sin(B*G)+I*Math.cos(B*G))}}else if(T===1)O=B=>o-Math.exp(-A*B)*(I+(_+A*I)*B);else{const B=A*Math.sqrt(T*T-1);O=G=>{const D=Math.exp(-T*A*G),C=Math.min(B*G,300);return o-D*((_+T*A*I)*Math.sinh(C)+B*I*Math.cosh(C))/B}}const U={calculatedDuration:S&&g||null,next:B=>{const G=O(B);if(S)u.done=B>=g;else{let D=B===0?_:0;T<1&&(D=B===0?Vs(_):FO(O,B,G));const C=Math.abs(D)<=r,P=Math.abs(o-G)<=s;u.done=C&&P}return u.value=u.done?o:G,u},toString:()=>{const B=Math.min(nE(U),zg),G=jO(D=>U.next(B*D).value,B,30);return B+"ms "+G},toTransition:()=>{}};return U}Bg.applyToOptions=t=>{const e=UY(t,100,Bg);return t.ease=e.ease,t.duration=Vs(e.duration),t.type="keyframes",t};function Nw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:u,max:h,restDelta:d=.5,restSpeed:m}){const g=t[0],v={done:!1,value:g},S=C=>u!==void 0&&C<u||h!==void 0&&C>h,_=C=>u===void 0?h:h===void 0||Math.abs(u-C)<Math.abs(h-C)?u:h;let T=n*e;const I=g+T,A=o===void 0?I:o(I);A!==I&&(T=A-g);const R=C=>-T*Math.exp(-C/r),O=C=>A+R(C),U=C=>{const P=R(C),j=O(C);v.done=Math.abs(P)<=d,v.value=v.done?A:j};let B,G;const D=C=>{S(v.value)&&(B=C,G=Bg({keyframes:[v.value,_(v.value)],velocity:FO(O,C,v.value),damping:s,stiffness:i,restDelta:d,restSpeed:m}))};return D(0),{calculatedDuration:null,next:C=>{let P=!1;return!G&&B===void 0&&(P=!0,U(C),D(C)),B!==void 0&&C>=B?G.next(C-B):(!P&&U(C),v)}}}function HY(t,e,n){const r=[],s=n||Li.mix||LO,i=t.length-1;for(let o=0;o<i;o++){let u=s(t[o],t[o+1]);if(e){const h=Array.isArray(e)?e[o]||Lr:e;u=Nf(h,u)}r.push(u)}return r}function QY(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(K1(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=HY(e,r,s),h=u.length,d=m=>{if(o&&m<t[0])return e[0];let g=0;if(h>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const v=Xd(t[g],t[g+1],m);return u[g](v)};return n?m=>d(Oi(t[0],t[i-1],m)):d}function XY(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Xd(0,e,r);t.push(_t(n,1,s))}}function YY(t){const e=[0];return XY(e,t.length-1),e}function JY(t,e){return t.map(n=>n*e)}function ZY(t,e){return t.map(()=>e||_O).splice(0,t.length-1)}function wd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=cY(r)?r.map(xC):xC(r),i={done:!1,value:e[0]},o=JY(n&&n.length===e.length?n:YY(e),t),u=QY(o,e,{ease:Array.isArray(s)?s:ZY(e,s)});return{calculatedDuration:t,next:h=>(i.value=u(h),i.done=h>=t,i)}}const eJ=t=>t!==null;function rE(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(eJ),o=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const tJ={decay:Nw,inertia:Nw,tween:wd,keyframes:wd,spring:Bg};function VO(t){typeof t.type=="string"&&(t.type=tJ[t.type])}class sE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const nJ=t=>t/100;class iE extends sE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==Jn.now()&&this.tick(Jn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;VO(e);const{type:n=wd,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:u}=e;const h=n||wd;h!==wd&&typeof u[0]!="number"&&(this.mixKeyframes=Nf(nJ,LO(u[0],u[1])),u=[0,100]);const d=h({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=nE(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:m,repeat:g,repeatType:v,repeatDelay:S,type:_,onUpdate:T,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const A=this.currentTime-d*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?A<0:A>s;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let O=this.currentTime,U=r;if(g){const C=Math.min(this.currentTime,s)/u;let P=Math.floor(C),j=C%1;!j&&C>=1&&(j=1),j===1&&P--,P=Math.min(P,g+1),P%2&&(v==="reverse"?(j=1-j,S&&(j-=S/u)):v==="mirror"&&(U=o)),O=Oi(0,1,j)*u}const B=R?{done:!1,value:m[0]}:U.next(O);i&&(B.value=i(B.value));let{done:G}=B;!R&&h!==null&&(G=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return D&&_!==Nw&&(B.value=rE(m,this.options,I,this.speed)),T&&T(B.value),D&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return Dr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dr(e)}get time(){return Dr(this.currentTime)}set time(e){var n;e=Vs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Jn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Dr(this.currentTime))}play(){var e,n;if(this.isStopped)return;const{driver:r=VY,startTime:s}=this.options;this.driver||(this.driver=r(o=>this.tick(o))),(n=(e=this.options).onPlay)==null||n.call(e);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Jn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function rJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const sl=t=>t*180/Math.PI,Aw=t=>{const e=sl(Math.atan2(t[1],t[0]));return Rw(e)},sJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Aw,rotateZ:Aw,skewX:t=>sl(Math.atan(t[1])),skewY:t=>sl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Rw=t=>(t=t%360,t<0&&(t+=360),t),IC=Aw,CC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),NC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),iJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:CC,scaleY:NC,scale:t=>(CC(t)+NC(t))/2,rotateX:t=>Rw(sl(Math.atan2(t[6],t[5]))),rotateY:t=>Rw(sl(Math.atan2(-t[2],t[0]))),rotateZ:IC,rotate:IC,skewX:t=>sl(Math.atan(t[4])),skewY:t=>sl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Pw(t){return t.includes("scale")?1:0}function Dw(t,e){if(!t||t==="none")return Pw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=iJ,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=sJ,s=u}if(!s)return Pw(e);const i=r[e],o=s[1].split(",").map(oJ);return typeof i=="function"?i(o):o[i]}const aJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Dw(n,e)};function oJ(t){return parseFloat(t.trim())}const Lc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jc=new Set(Lc),AC=t=>t===Oc||t===Le,lJ=new Set(["x","y","z"]),uJ=Lc.filter(t=>!lJ.has(t));function cJ(t){const e=[];return uJ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const cl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Dw(e,"x"),y:(t,{transform:e})=>Dw(e,"y")};cl.translateX=cl.x;cl.translateY=cl.y;const hl=new Set;let Mw=!1,Ow=!1,Lw=!1;function UO(){if(Ow){const t=Array.from(hl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=cJ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var u;(u=r.getValue(i))==null||u.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ow=!1,Mw=!1,hl.forEach(t=>t.complete(Lw)),hl.clear()}function zO(){hl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ow=!0)})}function hJ(){Lw=!0,zO(),UO(),Lw=!1}class aE{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(hl.add(this),Mw||(Mw=!0,xt.read(zO),xt.resolveKeyframes(UO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const u=r.readValue(n,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}rJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),hl.delete(this)}cancel(){this.state==="scheduled"&&(hl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dJ=t=>t.startsWith("--");function fJ(t,e,n){dJ(e)?t.style.setProperty(e,n):t.style[e]=n}const pJ=G1(()=>window.ScrollTimeline!==void 0),mJ={};function gJ(t,e){const n=G1(t);return()=>mJ[e]??n()}const BO=gJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ld=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,RC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ld([0,.65,.55,1]),circOut:ld([.55,0,1,.45]),backIn:ld([.31,.01,.66,-.59]),backOut:ld([.33,1.53,.69,.99])};function $O(t,e){if(t)return typeof t=="function"?BO()?jO(t,e):"ease-out":IO(t)?ld(t):Array.isArray(t)?t.map(n=>$O(n,e)||RC.easeOut):RC[t]}function yJ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:u="easeOut",times:h}={},d=void 0){const m={[e]:n};h&&(m.offset=h);const g=$O(u,s);Array.isArray(g)&&(m.easing=g);const v={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),t.animate(m,v)}function qO(t){return typeof t=="function"&&"applyToOptions"in t}function vJ({type:t,...e}){return qO(t)&&BO()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class bJ extends sE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,K1(typeof e.type!="string");const d=vJ(e);this.animation=yJ(n,r,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=rE(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):fJ(n,r,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var e,n;const r=((n=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:n.call(e).duration)||0;return Dr(Number(r))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dr(e)}get time(){return Dr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Vs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&pJ()?(this.animation.timeline=e,Lr):n(this)}}const WO={anticipate:SO,backInOut:EO,circInOut:TO};function wJ(t){return t in WO}function xJ(t){typeof t.ease=="string"&&wJ(t.ease)&&(t.ease=WO[t.ease])}const PC=10;class EJ extends bJ{constructor(e){xJ(e),VO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new iE({...o,autoplay:!1}),h=Vs(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-PC).value,u.sample(h).value,PC),u.stop()}}const DC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Za.test(t)||t==="0")&&!t.startsWith("url("));function SJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function kJ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=DC(s,e),u=DC(i,e);return!o||!u?!1:SJ(t)||(n==="spring"||qO(n))&&r}function jw(t){t.duration=0,t.type="keyframes"}const TJ=new Set(["opacity","clipPath","filter","transform"]),_J=G1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function IJ(t){var e;const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:u}=t;if(!(((e=n==null?void 0:n.owner)==null?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:d}=n.owner.getProps();return _J()&&r&&TJ.has(r)&&(r!=="transform"||!d)&&!h&&!s&&i!=="mirror"&&o!==0&&u!=="inertia"}const CJ=40;class NJ extends sE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:u,name:h,motionValue:d,element:m,...g}){var v;super(),this.stop=()=>{var T,I;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=Jn.now();const S={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:h,motionValue:d,element:m,...g},_=(m==null?void 0:m.KeyframeResolver)||aE;this.keyframeResolver=new _(u,(T,I,A)=>this.onKeyframesResolved(T,I,S,!A),h,d,m),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:u,delay:h,isHandoff:d,onUpdate:m}=r;this.resolvedAt=Jn.now(),kJ(e,i,o,u)||((Li.instantAnimations||!h)&&(m==null||m(rE(e,r,n))),e[0]=e[e.length-1],jw(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>CJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!d&&IJ(g)?new EJ({...g,element:g.motionValue.owner.current}):new iE(g);v.finished.then(()=>this.notifyFinished()).catch(Lr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),hJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const AJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RJ(t){const e=AJ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function KO(t,e,n=1){const[r,s]=RJ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return pO(o)?parseFloat(o):o}return J1(s)?KO(s,e,n+1):s}function oE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const GO=new Set(["width","height","top","left","right","bottom",...Lc]),PJ={test:t=>t==="auto",parse:t=>t},HO=t=>e=>e.test(t),QO=[Oc,Le,Us,Ra,SY,EY,PJ],MC=t=>QO.find(HO(t));function DJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gO(t):!0}const MJ=new Set(["brightness","contrast","saturate","opacity"]);function OJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Z1)||[];if(!r)return t;const s=n.replace(r,"");let i=MJ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const LJ=/\b([a-z-]*)\(.*?\)/gu,Fw={...Za,getAnimatableNone:t=>{const e=t.match(LJ);return e?e.map(OJ).join(" "):t}},OC={...Oc,transform:Math.round},jJ={rotate:Ra,rotateX:Ra,rotateY:Ra,rotateZ:Ra,scale:xm,scaleX:xm,scaleY:xm,scaleZ:xm,skew:Ra,skewX:Ra,skewY:Ra,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:Yd,originX:EC,originY:EC,originZ:Le},lE={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le,...jJ,zIndex:OC,fillOpacity:Yd,strokeOpacity:Yd,numOctaves:OC},FJ={...lE,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:Fw,WebkitFilter:Fw},XO=t=>FJ[t];function YO(t,e){let n=XO(t);return n!==Fw&&(n=Za),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const VJ=new Set(["auto","none","0"]);function UJ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!VJ.has(i)&&Jd(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=YO(n,s)}class zJ extends aE{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let d=e[h];if(typeof d=="string"&&(d=d.trim(),J1(d))){const m=KO(d,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!GO.has(r)||e.length!==2)return;const[s,i]=e,o=MC(s),u=MC(i);if(o!==u)if(AC(o)&&AC(u))for(let h=0;h<e.length;h++){const d=e[h];typeof d=="string"&&(e[h]=parseFloat(d))}else cl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||DJ(e[s]))&&r.push(s);r.length&&UJ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,u=s[o];s[o]=cl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(e=this.removedTransforms)!=null&&e.length&&this.removedTransforms.forEach(([h,d])=>{n.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function BJ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const JO=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function $J(t){return mO(t)&&"offsetHeight"in t}const LC=30,qJ=t=>!isNaN(parseFloat(t));class WJ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Jn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Jn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qJ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new H1);const r=this.events[e].add(n);return e==="change"?()=>{r(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Jn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>LC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,LC);return yO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ec(t,e){return new WJ(t,e)}const{schedule:uE}=CO(queueMicrotask,!1),Xr={x:!1,y:!1};function ZO(){return Xr.x||Xr.y}function KJ(t){return t==="x"||t==="y"?Xr[t]?null:(Xr[t]=!0,()=>{Xr[t]=!1}):Xr.x||Xr.y?null:(Xr.x=Xr.y=!0,()=>{Xr.x=Xr.y=!1})}function eL(t,e){const n=BJ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function jC(t){return!(t.pointerType==="touch"||ZO())}function GJ(t,e,n={}){const[r,s,i]=eL(t,n),o=u=>{if(!jC(u))return;const{target:h}=u,d=e(h,u);if(typeof d!="function"||!h)return;const m=g=>{jC(g)&&(d(g),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,s)};return r.forEach(u=>{u.addEventListener("pointerenter",o,s)}),i}const tL=(t,e)=>e?t===e?!0:tL(t,e.parentElement):!1,cE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,HJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function QJ(t){return HJ.has(t.tagName)||t.tabIndex!==-1}const Gm=new WeakSet;function FC(t){return e=>{e.key==="Enter"&&t(e)}}function ub(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const XJ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=FC(()=>{if(Gm.has(n))return;ub(n,"down");const s=FC(()=>{ub(n,"up")}),i=()=>ub(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function VC(t){return cE(t)&&!ZO()}function YJ(t,e,n={}){const[r,s,i]=eL(t,n),o=u=>{const h=u.currentTarget;if(!VC(u))return;Gm.add(h);const d=e(h,u),m=(S,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),Gm.has(h)&&Gm.delete(h),VC(S)&&typeof d=="function"&&d(S,{success:_})},g=S=>{m(S,h===window||h===document||n.useGlobalTarget||tL(h,S.target))},v=S=>{m(S,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",o,s),$J(u)&&(u.addEventListener("focus",h=>XJ(h,s)),!QJ(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function nL(t){return mO(t)&&"ownerSVGElement"in t}function JJ(t){return nL(t)&&t.tagName==="svg"}const Cn=t=>!!(t&&t.getVelocity),ZJ=[...QO,Ht,Za],eZ=t=>ZJ.find(HO(t)),rL=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tZ(t=!0){const e=E.useContext($1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=E.useId();E.useEffect(()=>{if(t)return s(i)},[t]);const o=E.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const sL=E.createContext({strict:!1}),UC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sc={};for(const t in UC)Sc[t]={isEnabled:e=>UC[t].some(n=>!!e[n])};function nZ(t){for(const e in t)Sc[e]={...Sc[e],...t[e]}}const rZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $g(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rZ.has(t)}let iL=t=>!$g(t);function sZ(t){typeof t=="function"&&(iL=e=>e.startsWith("on")?!$g(e):t(e))}try{sZ(require("@emotion/is-prop-valid").default)}catch{}function iZ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(iL(s)||n===!0&&$g(s)||!e&&!$g(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const $y=E.createContext({});function qy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Zd(t){return typeof t=="string"||Array.isArray(t)}const hE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dE=["initial",...hE];function Wy(t){return qy(t.animate)||dE.some(e=>Zd(t[e]))}function aL(t){return!!(Wy(t)||t.variants)}function aZ(t,e){if(Wy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Zd(n)?n:void 0,animate:Zd(r)?r:void 0}}return t.inherit!==!1?e:{}}function oZ(t){const{initial:e,animate:n}=aZ(t,E.useContext($y));return E.useMemo(()=>({initial:e,animate:n}),[zC(e),zC(n)])}function zC(t){return Array.isArray(t)?t.join(" "):t}const ef={};function lZ(t){for(const e in t)ef[e]=t[e],Y1(e)&&(ef[e].isCSSVariable=!0)}function oL(t,{layout:e,layoutId:n}){return jc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ef[t]||t==="opacity")}const uZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cZ=Lc.length;function hZ(t,e,n){let r="",s=!0;for(let i=0;i<cZ;i++){const o=Lc[i],u=t[o];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(o.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const d=JO(u,lE[o]);if(!h){s=!1;const m=uZ[o]||o;r+=`${m}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function fE(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,u=!1;for(const h in e){const d=e[h];if(jc.has(h)){o=!0;continue}else if(Y1(h)){s[h]=d;continue}else{const m=JO(d,lE[h]);h.startsWith("origin")?(u=!0,i[h]=m):r[h]=m}}if(e.transform||(o||n?r.transform=hZ(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:m=0}=i;r.transformOrigin=`${h} ${d} ${m}`}}const pE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lL(t,e,n){for(const r in e)!Cn(e[r])&&!oL(r,n)&&(t[r]=e[r])}function dZ({transformTemplate:t},e){return E.useMemo(()=>{const n=pE();return fE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fZ(t,e){const n=t.style||{},r={};return lL(r,n,t),Object.assign(r,dZ(t,e)),r}function pZ(t,e){const n={},r=fZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const mZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},gZ={offset:"strokeDashoffset",array:"strokeDasharray"};function yZ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?mZ:gZ;t[i.offset]=Le.transform(-r);const o=Le.transform(e),u=Le.transform(n);t[i.array]=`${o} ${u}`}function uL(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...u},h,d,m){if(fE(t,u,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&yZ(g,s,i,o,!1)}const cL=()=>({...pE(),attrs:{}}),hL=t=>typeof t=="string"&&t.toLowerCase()==="svg";function vZ(t,e,n,r){const s=E.useMemo(()=>{const i=cL();return uL(i,e,hL(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};lL(i,t.style,t),s.style={...i,...s.style}}return s}const bZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mE(t){return typeof t!="string"||t.includes("-")?!1:!!(bZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function wZ(t,e,n,{latestValues:r},s,i=!1){const o=(mE(t)?vZ:pZ)(e,r,s,t),u=iZ(e,typeof t=="string",i),h=t!==E.Fragment?{...u,...o,ref:n}:{},{children:d}=e,m=E.useMemo(()=>Cn(d)?d.get():d,[d]);return E.createElement(t,{...h,children:m})}function BC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function gE(t,e,n,r){if(typeof e=="function"){const[s,i]=BC(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=BC(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Hm(t){return Cn(t)?t.get():t}function xZ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:EZ(n,r,s,t),renderState:e()}}function EZ(t,e,n,r){const s={},i=r(t,{});for(const v in i)s[v]=Hm(i[v]);let{initial:o,animate:u}=t;const h=Wy(t),d=aL(t);e&&d&&!h&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const g=m?u:o;if(g&&typeof g!="boolean"&&!qy(g)){const v=Array.isArray(g)?g:[g];for(let S=0;S<v.length;S++){const _=gE(t,v[S]);if(_){const{transitionEnd:T,transition:I,...A}=_;for(const R in A){let O=A[R];if(Array.isArray(O)){const U=m?O.length-1:0;O=O[U]}O!==null&&(s[R]=O)}for(const R in T)s[R]=T[R]}}}return s}const dL=t=>(e,n)=>{const r=E.useContext($y),s=E.useContext($1),i=()=>xZ(t,e,r,s);return n?i():nY(i)};function yE(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Cn(s[o])||e.style&&Cn(e.style[o])||oL(o,t)||((r=n==null?void 0:n.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}const SZ=dL({scrapeMotionValuesFromProps:yE,createRenderState:pE});function fL(t,e,n){const r=yE(t,e,n);for(const s in t)if(Cn(t[s])||Cn(e[s])){const i=Lc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const kZ=dL({scrapeMotionValuesFromProps:fL,createRenderState:cL}),TZ=Symbol.for("motionComponentSymbol");function Qu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _Z(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Qu(n)&&(n.current=r))},[e])}const vE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),IZ="framerAppearId",pL="data-"+vE(IZ),mL=E.createContext({});function CZ(t,e,n,r,s){var i,o;const{visualElement:u}=E.useContext($y),h=E.useContext(sL),d=E.useContext($1),m=E.useContext(rL).reducedMotion,g=E.useRef(null);r=r||h.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,S=E.useContext(mL);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&NZ(g.current,n,s,S);const _=E.useRef(!1);E.useInsertionEffect(()=>{v&&_.current&&v.update(n,d)});const T=n[pL],I=E.useRef(!!T&&!((i=window.MotionHandoffIsComplete)!=null&&i.call(window,T))&&((o=window.MotionHasOptimisedAnimation)==null?void 0:o.call(window,T)));return rY(()=>{v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),I.current&&v.animationState&&v.animationState.animateChanges())}),E.useEffect(()=>{v&&(!I.current&&v.animationState&&v.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,T)}),I.current=!1),v.enteringChildren=void 0)}),v}function NZ(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:u,layoutScroll:h,layoutRoot:d,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:gL(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||u&&Qu(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:h,layoutRoot:d})}function gL(t){if(t)return t.options.allowProjection!==!1?t.projection:gL(t.parent)}function cb(t,{forwardMotionProps:e=!1}={},n,r){n&&nZ(n);const s=mE(t)?kZ:SZ;function i(u,h){let d;const m={...E.useContext(rL),...u,layoutId:AZ(u)},{isStatic:g}=m,v=oZ(u),S=s(u,g);if(!g&&B1){RZ();const _=PZ(m);d=_.MeasureLayout,v.visualElement=CZ(t,S,m,r,_.ProjectionNode)}return x.jsxs($y.Provider,{value:v,children:[d&&v.visualElement?x.jsx(d,{visualElement:v.visualElement,...m}):null,wZ(t,u,_Z(S,v.visualElement,h),S,g,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=E.forwardRef(i);return o[TZ]=t,o}function AZ({layoutId:t}){const e=E.useContext(fO).id;return e&&t!==void 0?e+"-"+t:t}function RZ(t,e){E.useContext(sL).strict}function PZ(t){const{drag:e,layout:n}=Sc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function DZ(t,e){if(typeof Proxy>"u")return cb;const n=new Map,r=(i,o)=>cb(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,cb(o,void 0,t,e)),n.get(o))})}function yL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function MZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function OZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function hb(t){return t===void 0||t===1}function Vw({scale:t,scaleX:e,scaleY:n}){return!hb(t)||!hb(e)||!hb(n)}function Qo(t){return Vw(t)||vL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function vL(t){return $C(t.x)||$C(t.y)}function $C(t){return t&&t!=="0%"}function qg(t,e,n){const r=t-n,s=e*r;return n+s}function qC(t,e,n,r,s){return s!==void 0&&(t=qg(t,s,r)),qg(t,n,r)+e}function Uw(t,e=0,n=1,r,s){t.min=qC(t.min,e,n,r,s),t.max=qC(t.max,e,n,r,s)}function bL(t,{x:e,y:n}){Uw(t.x,e.translate,e.scale,e.originPoint),Uw(t.y,n.translate,n.scale,n.originPoint)}const WC=.999999999999,KC=1.0000000000001;function LZ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let u=0;u<s;u++){i=n[u],o=i.projectionDelta;const{visualElement:h}=i.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Yu(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,bL(t,o)),r&&Qo(i.latestValues)&&Yu(t,i.latestValues))}e.x<KC&&e.x>WC&&(e.x=1),e.y<KC&&e.y>WC&&(e.y=1)}function Xu(t,e){t.min=t.min+e,t.max=t.max+e}function GC(t,e,n,r,s=.5){const i=_t(t.min,t.max,s);Uw(t,e,n,i,r)}function Yu(t,e){GC(t.x,e.x,e.scaleX,e.scale,e.originX),GC(t.y,e.y,e.scaleY,e.scale,e.originY)}function wL(t,e){return yL(OZ(t.getBoundingClientRect(),e))}function jZ(t,e,n){const r=wL(t,n),{scroll:s}=e;return s&&(Xu(r.x,s.offset.x),Xu(r.y,s.offset.y)),r}const HC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ju=()=>({x:HC(),y:HC()}),QC=()=>({min:0,max:0}),zt=()=>({x:QC(),y:QC()}),zw={current:null},xL={current:!1};function FZ(){if(xL.current=!0,!!B1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zw.current=t.matches;t.addEventListener("change",e),e()}else zw.current=!1}const VZ=new WeakMap;function UZ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Cn(s))t.addValue(r,s);else if(Cn(i))t.addValue(r,Ec(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Ec(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const XC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zZ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=aE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Jn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,xt.render(this.render,!1,!0))};const{latestValues:h,renderState:d}=o;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=Wy(n),this.isVariantNode=aL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const S=g[v];h[v]!==void 0&&Cn(S)&&S.set(h[v])}}mount(e){var n;this.current=e,VZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),xL.current||FZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zw.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ja(this.notifyUpdate),Ja(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=jc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&xt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sc){const n=Sc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<XC.length;r++){const s=XC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=UZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ec(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(pO(r)||gO(r))?r=parseFloat(r):!eZ(r)&&Za.test(n)&&(r=YO(e,n)),this.setBaseTarget(e,Cn(r)?r.get():r)),Cn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=gE(this.props,r,(n=this.presenceContext)==null?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Cn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new H1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){uE.render(this.render)}}class EL extends zZ{constructor(){super(...arguments),this.KeyframeResolver=zJ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function SL(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function BZ(t){return window.getComputedStyle(t)}class $Z extends EL{constructor(){super(...arguments),this.type="html",this.renderInstance=SL}readValueFromInstance(e,n){var r;if(jc.has(n))return(r=this.projection)!=null&&r.isProjecting?Pw(n):aJ(e,n);{const s=BZ(e),i=(Y1(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wL(e,n)}build(e,n,r){fE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return yE(e,n,r)}}const kL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qZ(t,e,n,r){SL(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(kL.has(s)?s:vE(s),e.attrs[s])}class WZ extends EL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(jc.has(n)){const r=XO(n);return r&&r.default||0}return n=kL.has(n)?n:vE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return fL(e,n,r)}build(e,n,r){uL(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){qZ(e,n,r,s)}mount(e){this.isSVGTag=hL(e.tagName),super.mount(e)}}const KZ=(t,e)=>mE(t)?new WZ(e):new $Z(e,{allowProjection:t!==E.Fragment});function ac(t,e,n){const r=t.getProps();return gE(r,e,n!==void 0?n:r.custom,t)}const Bw=t=>Array.isArray(t);function GZ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ec(n))}function HZ(t){return Bw(t)?t[t.length-1]||0:t}function QZ(t,e){const n=ac(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const u=HZ(i[o]);GZ(t,o,u)}}function XZ(t){return!!(Cn(t)&&t.add)}function $w(t,e){const n=t.getValue("willChange");if(XZ(n))return n.add(e);if(!n&&Li.WillChange){const r=new Li.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function TL(t){return t.props[pL]}const YZ=t=>t!==null;function JZ(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(YZ),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const ZZ={type:"spring",stiffness:500,damping:25,restSpeed:10},eee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tee={type:"keyframes",duration:.8},nee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ree=(t,{keyframes:e})=>e.length>2?tee:jc.has(t)?t.startsWith("scale")?eee(e[1]):ZZ:nee;function see({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:u,from:h,elapsed:d,...m}){return!!Object.keys(m).length}const bE=(t,e,n,r={},s,i)=>o=>{const u=oE(r,t)||{},h=u.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Vs(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-d,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:s};see(u)||Object.assign(m,ree(t,m)),m.duration&&(m.duration=Vs(m.duration)),m.repeatDelay&&(m.repeatDelay=Vs(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(jw(m),m.delay===0&&(g=!0)),(Li.instantAnimations||Li.skipAnimations)&&(g=!0,jw(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!i&&e.get()!==void 0){const v=JZ(m.keyframes,u);if(v!==void 0){xt.update(()=>{m.onUpdate(v),m.onComplete()});return}}return u.isSync?new iE(m):new NJ(m)};function iee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function _L(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...u}=e;r&&(i=r);const h=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const m in u){const g=t.getValue(m,t.latestValues[m]??null),v=u[m];if(v===void 0||d&&iee(d,m))continue;const S={delay:n,...oE(i||{},m)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===_&&!S.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const A=TL(t);if(A){const R=window.MotionHandoffAnimation(A,m,xt);R!==null&&(S.startTime=R,T=!0)}}$w(t,m),g.start(bE(m,g,v,t.shouldReduceMotion&&GO.has(m)?{type:!1}:S,t,T));const I=g.animation;I&&h.push(I)}return o&&Promise.all(h).then(()=>{xt.update(()=>{o&&QZ(t,o)})}),h}function IL(t,e,n,r=0,s=1){const i=Array.from(t).sort((h,d)=>h.sortNodePosition(d)).indexOf(e),o=t.size,u=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:u-i*r}function qw(t,e,n={}){var r;const s=ac(t,e,n.type==="exit"?(r=t.presenceContext)==null?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(_L(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=i;return aee(t,e,d,m,g,v,n)}:()=>Promise.resolve(),{when:h}=i;if(h){const[d,m]=h==="beforeChildren"?[o,u]:[u,o];return d().then(()=>m())}else return Promise.all([o(),u(n.delay)])}function aee(t,e,n=0,r=0,s=0,i=1,o){const u=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),u.push(qw(h,e,{...o,delay:n+(typeof r=="function"?0:r)+IL(t.variantChildren,h,r,s,i)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function oee(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>qw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=qw(t,e,n);else{const s=typeof e=="function"?ac(t,e,n.custom):e;r=Promise.all(_L(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function CL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const lee=dE.length;function NL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?NL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<lee;n++){const r=dE[n],s=t.props[r];(Zd(s)||s===!1)&&(e[r]=s)}return e}const uee=[...hE].reverse(),cee=hE.length;function hee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>oee(t,n,r)))}function dee(t){let e=hee(t),n=YC(),r=!0;const s=h=>(d,m)=>{var g;const v=ac(t,m,h==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(v){const{transition:S,transitionEnd:_,...T}=v;d={...d,...T,..._}}return d};function i(h){e=h(t)}function o(h){const{props:d}=t,m=NL(t.parent)||{},g=[],v=new Set;let S={},_=1/0;for(let I=0;I<cee;I++){const A=uee[I],R=n[A],O=d[A]!==void 0?d[A]:m[A],U=Zd(O),B=A===h?R.isActive:null;B===!1&&(_=I);let G=O===m[A]&&O!==d[A]&&U;if(G&&r&&t.manuallyAnimateOnMount&&(G=!1),R.protectedKeys={...S},!R.isActive&&B===null||!O&&!R.prevProp||qy(O)||typeof O=="boolean")continue;const D=fee(R.prevProp,O);let C=D||A===h&&R.isActive&&!G&&U||I>_&&U,P=!1;const j=Array.isArray(O)?O:[O];let V=j.reduce(s(A),{});B===!1&&(V={});const{prevResolvedValues:$={}}=R,L={...$,...V},we=ye=>{C=!0,v.has(ye)&&(P=!0,v.delete(ye)),R.needsAnimating[ye]=!0;const ve=t.getValue(ye);ve&&(ve.liveStyle=!1)};for(const ye in L){const ve=V[ye],H=$[ye];if(S.hasOwnProperty(ye))continue;let ne=!1;Bw(ve)&&Bw(H)?ne=!CL(ve,H):ne=ve!==H,ne?ve!=null?we(ye):v.add(ye):ve!==void 0&&v.has(ye)?we(ye):R.protectedKeys[ye]=!0}R.prevProp=O,R.prevResolvedValues=V,R.isActive&&(S={...S,...V}),r&&t.blockInitialAnimation&&(C=!1);const Pe=G&&D;C&&(!Pe||P)&&g.push(...j.map(ye=>{const ve={type:A};if(typeof ye=="string"&&r&&!Pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,ne=ac(H,ye);if(H.enteringChildren&&ne){const{delayChildren:ae}=ne.transition||{};ve.delay=IL(H.enteringChildren,t,ae)}}return{animation:ye,options:ve}}))}if(v.size){const I={};if(typeof d.initial!="boolean"){const A=ac(t,Array.isArray(d.initial)?d.initial[0]:d.initial);A&&A.transition&&(I.transition=A.transition)}v.forEach(A=>{const R=t.getBaseTarget(A),O=t.getValue(A);O&&(O.liveStyle=!0),I[A]=R??null}),g.push({animation:I})}let T=!!g.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(g):Promise.resolve()}function u(h,d){var m;if(n[h].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(v=>{var S;return(S=v.animationState)==null?void 0:S.setActive(h,d)}),n[h].isActive=d;const g=o(h);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:o,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=YC()}}}function fee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!CL(e,t):!1}function $o(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YC(){return{animate:$o(!0),whileInView:$o(),whileHover:$o(),whileTap:$o(),whileDrag:$o(),whileFocus:$o(),exit:$o()}}class so{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pee extends so{constructor(e){super(e),e.animationState||(e.animationState=dee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let mee=0;class gee extends so{constructor(){super(...arguments),this.id=mee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const yee={animation:{Feature:pee},exit:{Feature:gee}};function tf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Pf(t){return{point:{x:t.pageX,y:t.pageY}}}const vee=t=>e=>cE(e)&&t(e,Pf(e));function xd(t,e,n,r){return tf(t,e,vee(n),r)}const AL=1e-4,bee=1-AL,wee=1+AL,RL=.01,xee=0-RL,Eee=0+RL;function Mn(t){return t.max-t.min}function See(t,e,n){return Math.abs(t-e)<=n}function JC(t,e,n,r=.5){t.origin=r,t.originPoint=_t(e.min,e.max,t.origin),t.scale=Mn(n)/Mn(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=bee&&t.scale<=wee||isNaN(t.scale))&&(t.scale=1),(t.translate>=xee&&t.translate<=Eee||isNaN(t.translate))&&(t.translate=0)}function Ed(t,e,n,r){JC(t.x,e.x,n.x,r?r.originX:void 0),JC(t.y,e.y,n.y,r?r.originY:void 0)}function ZC(t,e,n){t.min=n.min+e.min,t.max=t.min+Mn(e)}function kee(t,e,n){ZC(t.x,e.x,n.x),ZC(t.y,e.y,n.y)}function eN(t,e,n){t.min=e.min-n.min,t.max=t.min+Mn(e)}function Sd(t,e,n){eN(t.x,e.x,n.x),eN(t.y,e.y,n.y)}function Nr(t){return[t("x"),t("y")]}const PL=({current:t})=>t?t.ownerDocument.defaultView:null,tN=(t,e)=>Math.abs(t-e);function Tee(t,e){const n=tN(t.x,e.x),r=tN(t.y,e.y);return Math.sqrt(n**2+r**2)}class DL{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=fb(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,_=Tee(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!_)return;const{point:T}=v,{timestamp:I}=fn;this.history.push({...T,timestamp:I});const{onStart:A,onMove:R}=this.handlers;S||(A&&A(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,v)},this.handlePointerMove=(v,S)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=db(S,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(v,S)=>{this.end();const{onEnd:_,onSessionEnd:T,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=fb(v.type==="pointercancel"?this.lastMoveEventInfo:db(S,this.transformPagePoint),this.history);this.startEvent&&_&&_(v,A),T&&T(v,A)},!cE(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const u=Pf(e),h=db(u,this.transformPagePoint),{point:d}=h,{timestamp:m}=fn;this.history=[{...d,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,fb(h,this.history)),this.removeListeners=Nf(xd(this.contextWindow,"pointermove",this.handlePointerMove),xd(this.contextWindow,"pointerup",this.handlePointerUp),xd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ja(this.updatePoint)}}function db(t,e){return e?{point:e(t.point)}:t}function nN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function fb({point:t},e){return{point:t,delta:nN(t,ML(e)),offset:nN(t,_ee(e)),velocity:Iee(e,.1)}}function _ee(t){return t[0]}function ML(t){return t[t.length-1]}function Iee(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=ML(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Vs(e)));)n--;if(!r)return{x:0,y:0};const i=Dr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Cee(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_t(n,t,r.max):Math.min(t,n)),t}function rN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Nee(t,{top:e,left:n,bottom:r,right:s}){return{x:rN(t.x,n,s),y:rN(t.y,e,r)}}function sN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Aee(t,e){return{x:sN(t.x,e.x),y:sN(t.y,e.y)}}function Ree(t,e){let n=.5;const r=Mn(t),s=Mn(e);return s>r?n=Xd(e.min,e.max-r,t.min):r>s&&(n=Xd(t.min,t.max-s,e.min)),Oi(0,1,n)}function Pee(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ww=.35;function Dee(t=Ww){return t===!1?t=0:t===!0&&(t=Ww),{x:iN(t,"left","right"),y:iN(t,"top","bottom")}}function iN(t,e,n){return{min:aN(t,e),max:aN(t,n)}}function aN(t,e){return typeof t=="number"?t:t[e]||0}const Mee=new WeakMap;class Oee{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pf(g).point)},o=(g,v)=>{const{drag:S,dragPropagation:_,onDragStart:T}=this.getProps();if(S&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=KJ(S),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nr(A=>{let R=this.getAxisMotionValue(A).get()||0;if(Us.test(R)){const{projection:O}=this.visualElement;if(O&&O.layout){const U=O.layout.layoutBox[A];U&&(R=Mn(U)*(parseFloat(R)/100))}}this.originPoint[A]=R}),T&&xt.postRender(()=>T(g,v)),$w(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:S,dragDirectionLock:_,onDirectionLock:T,onDrag:I}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:A}=v;if(_&&this.currentDirection===null){this.currentDirection=Lee(A),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,A),this.updateAxis("y",v.point,A),this.visualElement.render(),I&&I(g,v)},h=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Nr(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new DL(e,{onSessionStart:i,onStart:o,onMove:u,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:PL(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&xt.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Em(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Cee(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,i=this.constraints;n&&Qu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Nee(s.layoutBox,n):this.constraints=!1,this.elastic=Dee(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Nr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Pee(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qu(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=jZ(r,s.root,this.visualElement.getTransformPagePoint());let o=Aee(s.layout.layoutBox,i);if(n){const u=n(MZ(o));this.hasMutatedConstraints=!!u,u&&(o=yL(u))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},d=Nr(m=>{if(!Em(m,n,this.currentDirection))return;let g=h&&h[m]||{};o&&(g={min:0,max:0});const v=s?200:1e6,S=s?40:1e7,_={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(m,_)});return Promise.all(d).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return $w(this.visualElement,e),r.start(bE(e,r,0,n,this.visualElement,!1))}stopAnimation(){Nr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Nr(n=>{const{drag:r}=this.getProps();if(!Em(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:u}=s.layout.layoutBox[n];i.set(e[n]-_t(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Nr(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const h=u.get();s[o]=Ree({min:h,max:h},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Nr(o=>{if(!Em(o,e,null))return;const u=this.getAxisMotionValue(o),{min:h,max:d}=this.constraints[o];u.set(_t(h,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;Mee.set(this.visualElement,this);const e=this.visualElement.current,n=xd(e,"pointerdown",h=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Qu(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),xt.read(r);const o=tf(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(Nr(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=h[m].translate,g.set(g.get()+h[m].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ww,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:u}}}function Em(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Lee(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class jee extends so{constructor(e){super(e),this.removeGroupControls=Lr,this.removeListeners=Lr,this.controls=new Oee(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const oN=t=>(e,n)=>{t&&xt.postRender(()=>t(e,n))};class Fee extends so{constructor(){super(...arguments),this.removePointerDownListener=Lr}onPointerDown(e){this.session=new DL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:oN(e),onStart:oN(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&xt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=xd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lN(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Le.test(t))t=parseFloat(t);else return t;const n=lN(t,e.target.x),r=lN(t,e.target.y);return`${n}% ${r}%`}},Vee={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Za.parse(t);if(s.length>5)return r;const i=Za.createTransformer(t),o=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;s[0+o]/=u,s[1+o]/=h;const d=_t(u,h,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};let pb=!1;class Uee extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;lZ(zee),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),pb&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Qm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,pb=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||xt.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),uE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;pb=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function OL(t){const[e,n]=tZ(),r=E.useContext(fO);return x.jsx(Uee,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(mL),isPresent:e,safeToRemove:n})}const zee={borderRadius:{...Zh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zh,borderTopRightRadius:Zh,borderBottomLeftRadius:Zh,borderBottomRightRadius:Zh,boxShadow:Vee};function Bee(t,e,n){const r=Cn(t)?t:Ec(t);return r.start(bE("",r,e,n)),r.animation}const $ee=(t,e)=>t.depth-e.depth;class qee{constructor(){this.children=[],this.isDirty=!1}add(e){q1(this.children,e),this.isDirty=!0}remove(e){W1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($ee),this.isDirty=!1,this.children.forEach(e)}}function Wee(t,e){const n=Jn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Ja(r),t(i-e))};return xt.setup(r,!0),()=>Ja(r)}const LL=["TopLeft","TopRight","BottomLeft","BottomRight"],Kee=LL.length,uN=t=>typeof t=="string"?parseFloat(t):t,cN=t=>typeof t=="number"||Le.test(t);function Gee(t,e,n,r,s,i){s?(t.opacity=_t(0,n.opacity??1,Hee(r)),t.opacityExit=_t(e.opacity??1,0,Qee(r))):i&&(t.opacity=_t(e.opacity??1,n.opacity??1,r));for(let o=0;o<Kee;o++){const u=`border${LL[o]}Radius`;let h=hN(e,u),d=hN(n,u);h===void 0&&d===void 0||(h||(h=0),d||(d=0),h===0||d===0||cN(h)===cN(d)?(t[u]=Math.max(_t(uN(h),uN(d),r),0),(Us.test(d)||Us.test(h))&&(t[u]+="%")):t[u]=d)}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,r))}function hN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Hee=jL(0,.5,kO),Qee=jL(.5,.95,Lr);function jL(t,e,n){return r=>r<t?0:r>e?1:n(Xd(t,e,r))}function dN(t,e){t.min=e.min,t.max=e.max}function Cr(t,e){dN(t.x,e.x),dN(t.y,e.y)}function fN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function pN(t,e,n,r,s){return t-=e,t=qg(t,1/n,r),s!==void 0&&(t=qg(t,1/s,r)),t}function Xee(t,e=0,n=1,r=.5,s,i=t,o=t){if(Us.test(e)&&(e=parseFloat(e),e=_t(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=_t(i.min,i.max,r);t===i&&(u-=e),t.min=pN(t.min,e,n,u,s),t.max=pN(t.max,e,n,u,s)}function mN(t,e,[n,r,s],i,o){Xee(t,e[n],e[r],e[s],e.scale,i,o)}const Yee=["x","scaleX","originX"],Jee=["y","scaleY","originY"];function gN(t,e,n,r){mN(t.x,e,Yee,n?n.x:void 0,r?r.x:void 0),mN(t.y,e,Jee,n?n.y:void 0,r?r.y:void 0)}function yN(t){return t.translate===0&&t.scale===1}function FL(t){return yN(t.x)&&yN(t.y)}function vN(t,e){return t.min===e.min&&t.max===e.max}function Zee(t,e){return vN(t.x,e.x)&&vN(t.y,e.y)}function bN(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function VL(t,e){return bN(t.x,e.x)&&bN(t.y,e.y)}function wN(t){return Mn(t.x)/Mn(t.y)}function xN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ete{constructor(){this.members=[]}add(e){q1(this.members,e),e.scheduleRender()}remove(e){if(W1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tte(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:m,rotateX:g,rotateY:v,skewX:S,skewY:_}=n;d&&(r=`perspective(${d}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),S&&(r+=`skewX(${S}deg) `),_&&(r+=`skewY(${_}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const mb=["","X","Y","Z"],nte=1e3;let rte=0;function gb(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function UL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=TL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&UL(r)}function zL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},o=e==null?void 0:e()){this.id=rte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ate),this.nodes.forEach(cte),this.nodes.forEach(hte),this.nodes.forEach(ote)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new qee)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new H1),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const u=this.eventHandlers.get(i);u&&u.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=nL(i)&&!JJ(i),this.instance=i;const{layoutId:o,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||o)&&(this.isLayoutDirty=!0),t){let d,m=0;const g=()=>this.root.updateBlockedByResize=!1;xt.read(()=>{m=window.innerWidth}),t(i,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,d&&d(),d=Wee(g,250),Qm.hasAnimatedSinceResize&&(Qm.hasAnimatedSinceResize=!1,this.nodes.forEach(kN)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&h&&(o||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||gte,{onLayoutAnimationStart:_,onLayoutAnimationComplete:T}=h.getProps(),I=!this.targetLayout||!VL(this.targetLayout,v),A=!m&&g;if(this.options.layoutRoot||this.resumeFrom||A||m&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...oE(S,"layout"),onPlay:_,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(d,A)}else m||kN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ja(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dte),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(EN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(SN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ute),this.nodes.forEach(ste),this.nodes.forEach(ite)):this.nodes.forEach(SN),this.clearAllSnapshots();const i=Jn.now();fn.delta=Oi(0,1e3/60,i-fn.timestamp),fn.timestamp=i,fn.isProcessing=!0,sb.update.process(fn),sb.preRender.process(fn),sb.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lte),this.sharedNodes.forEach(fte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mn(this.snapshot.measuredBox.x)&&!Mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!FL(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,d=h!==this.prevTransformTemplateValue;i&&this.instance&&(o||Qo(this.latestValues)||d)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return i&&(u=this.removeTransform(u)),yte(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:o}=this.options;if(!o)return zt();const u=o.measureViewportBox();if(!((i=this.scroll)!=null&&i.wasRoot||this.path.some(vte))){const{scroll:h}=this.root;h&&(Xu(u.x,h.offset.x),Xu(u.y,h.offset.y))}return u}removeElementScroll(i){var o;const u=zt();if(Cr(u,i),(o=this.scroll)!=null&&o.wasRoot)return u;for(let h=0;h<this.path.length;h++){const d=this.path[h],{scroll:m,options:g}=d;d!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Cr(u,i),Xu(u.x,m.offset.x),Xu(u.y,m.offset.y))}return u}applyTransform(i,o=!1){const u=zt();Cr(u,i);for(let h=0;h<this.path.length;h++){const d=this.path[h];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Yu(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Qo(d.latestValues)&&Yu(u,d.latestValues)}return Qo(this.latestValues)&&Yu(u,this.latestValues),u}removeTransform(i){const o=zt();Cr(o,i);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Qo(h.latestValues))continue;Vw(h.latestValues)&&h.updateSnapshot();const d=zt(),m=h.measurePageBox();Cr(d,m),gN(o,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,d)}return Qo(this.latestValues)&&gN(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(i||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(o=this.parent)!=null&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!(!this.layout||!(d||m))){if(this.resolvedRelativeTargetAt=fn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Sd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cr(this.target,this.layout.layoutBox),bL(this.target,this.targetDelta)):Cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Sd(this.relativeTargetOrigin,this.target,g.target),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vw(this.parent.latestValues)||vL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let h=!0;if((this.isProjectionDirty||(i=this.parent)!=null&&i.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(h=!1),h)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Cr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;LZ(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=zt());const{target:S}=o;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fN(this.prevProjectionDelta.x,this.projectionDelta.x),fN(this.prevProjectionDelta.y,this.projectionDelta.y)),Ed(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!xN(this.projectionDelta.x,this.prevProjectionDelta.x)||!xN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),i){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ju(),this.projectionDelta=Ju(),this.projectionDeltaWithTransform=Ju()}setAnimationOrigin(i,o=!1){const u=this.snapshot,h=u?u.latestValues:{},d={...this.latestValues},m=Ju();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=zt(),v=u?u.source:void 0,S=this.layout?this.layout.source:void 0,_=v!==S,T=this.getStack(),I=!T||T.members.length<=1,A=!!(_&&!I&&this.options.crossfade===!0&&!this.path.some(mte));this.animationProgress=0;let R;this.mixTargetDelta=O=>{const U=O/1e3;TN(m.x,i.x,U),TN(m.y,i.y,U),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sd(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pte(this.relativeTarget,this.relativeTargetOrigin,g,U),R&&Zee(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=zt()),Cr(R,this.relativeTarget)),_&&(this.animationValues=d,Gee(d,h,this.latestValues,U,A,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var o,u,h;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(h=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Ja(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{Qm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ec(0)),this.currentAnimation=Bee(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nte),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:u,layout:h,latestValues:d}=i;if(!(!o||!u||!h)){if(this!==i&&this.layout&&h&&BL(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||zt();const m=Mn(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+m;const g=Mn(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+g}Cr(o,u),Yu(o,d),Ed(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new ete),this.sharedNodes.get(i).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())==null?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())==null?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:u}=i;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const h={};u.z&&gb("z",i,h,this.animationValues);for(let d=0;d<mb.length;d++)gb(`rotate${mb[d]}`,i,h,this.animationValues),gb(`skew${mb[d]}`,i,h,this.animationValues);i.render();for(const d in h)i.setStaticValue(d,h[d]),this.animationValues&&(this.animationValues[d]=h[d]);i.scheduleRender()}applyProjectionStyles(i,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=Hm(o==null?void 0:o.pointerEvents)||"",i.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=Hm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Qo(this.latestValues)&&(i.transform=u?u({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=tte(this.projectionDeltaWithTransform,this.treeScale,d);u&&(m=u(d,m)),i.transform=m;const{x:g,y:v}=this.projectionDelta;i.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,h.animationValues?i.opacity=h===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const S in ef){if(d[S]===void 0)continue;const{correct:_,applyTo:T,isCSSVariable:I}=ef[S],A=m==="none"?d[S]:_(d[S],h);if(T){const R=T.length;for(let O=0;O<R;O++)i[T[O]]=A}else I?this.options.visualElement.renderState.vars[S]=A:i[S]=A}this.options.layoutId&&(i.pointerEvents=h===this?Hm(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(EN),this.root.sharedNodes.clear()}}}function ste(t){t.updateLayout()}function ite(t){var e;const n=((e=t.resumeFrom)==null?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Nr(g=>{const v=o?n.measuredBox[g]:n.layoutBox[g],S=Mn(v);v.min=r[g].min,v.max=v.min+S}):BL(i,n.layoutBox,r)&&Nr(g=>{const v=o?n.measuredBox[g]:n.layoutBox[g],S=Mn(r[g]);v.max=v.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+S)});const u=Ju();Ed(u,r,n.layoutBox);const h=Ju();o?Ed(h,t.applyTransform(s,!0),n.measuredBox):Ed(h,r,n.layoutBox);const d=!FL(u);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:S}=g;if(v&&S){const _=zt();Sd(_,n.layoutBox,v.layoutBox);const T=zt();Sd(T,r,S.layoutBox),VL(_,T)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=_,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ate(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ote(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lte(t){t.clearSnapshot()}function EN(t){t.clearMeasurements()}function SN(t){t.isLayoutDirty=!1}function ute(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function kN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function cte(t){t.resolveTargetDelta()}function hte(t){t.calcProjection()}function dte(t){t.resetSkewAndRotation()}function fte(t){t.removeLeadSnapshot()}function TN(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function _N(t,e,n,r){t.min=_t(e.min,n.min,r),t.max=_t(e.max,n.max,r)}function pte(t,e,n,r){_N(t.x,e.x,n.x,r),_N(t.y,e.y,n.y,r)}function mte(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const gte={duration:.45,ease:[.4,0,.1,1]},IN=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),CN=IN("applewebkit/")&&!IN("chrome/")?Math.round:Lr;function NN(t){t.min=CN(t.min),t.max=CN(t.max)}function yte(t){NN(t.x),NN(t.y)}function BL(t,e,n){return t==="position"||t==="preserve-aspect"&&!See(wN(e),wN(n),.2)}function vte(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const bte=zL({attachResizeListener:(t,e)=>tf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yb={current:void 0},$L=zL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yb.current){const t=new bte({});t.mount(window),t.setOptions({layoutScroll:!0}),yb.current=t}return yb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wte={pan:{Feature:Fee},drag:{Feature:jee,ProjectionNode:$L,MeasureLayout:OL}};function AN(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&xt.postRender(()=>i(e,Pf(e)))}class xte extends so{mount(){const{current:e}=this.node;e&&(this.unmount=GJ(e,(n,r)=>(AN(this.node,r,"Start"),s=>AN(this.node,s,"End"))))}unmount(){}}class Ete extends so{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nf(tf(this.node.current,"focus",()=>this.onFocus()),tf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function RN(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&xt.postRender(()=>i(e,Pf(e)))}class Ste extends so{mount(){const{current:e}=this.node;e&&(this.unmount=YJ(e,(n,r)=>(RN(this.node,r,"Start"),(s,{success:i})=>RN(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kw=new WeakMap,vb=new WeakMap,kte=t=>{const e=Kw.get(t.target);e&&e(t)},Tte=t=>{t.forEach(kte)};function _te({root:t,...e}){const n=t||document;vb.has(n)||vb.set(n,{});const r=vb.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Tte,{root:t,...e})),r[s]}function Ite(t,e,n){const r=_te(e);return Kw.set(t,n),r.observe(t),()=>{Kw.delete(t),r.unobserve(t)}}const Cte={some:0,all:1};class Nte extends so{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Cte[s]},u=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=d?m:g;v&&v(h)};return Ite(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Ate(e,n))&&this.startObserver()}unmount(){}}function Ate({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Rte={inView:{Feature:Nte},tap:{Feature:Ste},focus:{Feature:Ete},hover:{Feature:xte}},Pte={layout:{ProjectionNode:$L,MeasureLayout:OL}},Dte={...yee,...Rte,...wte,...Pte},Vt=DZ(Dte,KZ);function Gw(){const t=f1(),{user:e,loading:n}=_1(),[r,s]=gn.useState(!1);E.useEffect(()=>{!n&&e&&t(yt("Home"))},[e,n,t]);const i=()=>{e?t(yt("Home")):s(!0)};if(n)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-white",children:"Loading..."})]})});const o=[{icon:j$,title:"12 Math Concepts",description:"Addition, subtraction, multiplication, division, fractions, decimals, percentages, geometry & more!",gradient:"from-blue-400 to-cyan-500",emoji:""},{icon:ZP,title:"AI Math Tutor",description:"Stuck on a problem? Get instant help with step-by-step explanations!",gradient:"from-purple-400 to-pink-500",emoji:""},{icon:LI,title:"Daily Challenges",description:"New challenges every day! Compete for bonus stars and climb the leaderboard!",gradient:"from-yellow-400 to-orange-500",emoji:""},{icon:$0,title:"Earn Rewards",description:"Collect stars and coins to unlock cool avatar items, pets, badges, and power-ups!",gradient:"from-green-400 to-emerald-500",emoji:""},{icon:jI,title:"Team Challenges",description:"Team up with friends and family to complete challenges together!",gradient:"from-indigo-400 to-purple-500",emoji:""},{icon:J$,title:"Safe & Secure",description:"Advanced parental controls, time limits, and content filtering for peace of mind",gradient:"from-red-400 to-pink-500",emoji:""}],u=[{emoji:"",name:"Addition",grade:"K-4"},{emoji:"",name:"Subtraction",grade:"K-4"},{emoji:"",name:"Multiplication",grade:"2-5"},{emoji:"",name:"Division",grade:"3-6"},{emoji:"",name:"Fractions",grade:"3-6"},{emoji:"0.5",name:"Decimals",grade:"4-7"},{emoji:"%",name:"Percentages",grade:"5-8"},{emoji:"",name:"Word Problems",grade:"2-6"},{emoji:"",name:"Money Math",grade:"1-5"},{emoji:"",name:"Time",grade:"1-4"},{emoji:"",name:"Geometry",grade:"3-7"},{emoji:"",name:"Mixed",grade:"3-8"}],h=[{text:"My kids actually BEG to practice math now! They love earning stars and unlocking new pets. Best $1 we've ever spent!",author:"Sarah M.",role:"Parent of 2 (Ages 7 & 9)",rating:5,emoji:""},{text:"The AI tutor is incredible! It explains things in a way my students actually understand. My whole class is hooked!",author:"Mr. Johnson",role:"3rd Grade Teacher",rating:5,emoji:""},{text:"I used to hate math but now it's FUN! I got the dragon pet and I'm on a 12-day streak! ",author:"Emma, Age 9",role:"Student & Math Champion",rating:5,emoji:""}],d=[{icon:LI,value:"10,000+",label:"Games Played Daily",color:"text-yellow-600"},{icon:$0,value:"50,000+",label:"Stars Earned",color:"text-purple-600"},{icon:jI,value:"1,000+",label:"Happy Learners",color:"text-blue-600"},{icon:OI,value:"100%",label:"Fun Guaranteed",color:"text-pink-600"}],m=[{emoji:"",name:"Dragon Pet",desc:"Levels up with you!"},{emoji:"",name:"Crown",desc:"Show you're a champion!"},{emoji:"",name:"Custom Avatar",desc:"100+ items to unlock!"},{emoji:"",name:"Power-Ups",desc:"Time freeze, hints & more!"}];return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx(Vt.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-20",children:""}),x.jsx(Vt.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-40 right-20 text-7xl opacity-20",children:""}),x.jsx(Vt.div,{animate:{y:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-40 text-5xl opacity-20",children:""}),x.jsx(Vt.div,{animate:{x:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 right-10 text-6xl opacity-20",children:""})]}),x.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 md:py-20",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Vt.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"inline-block mb-8",children:x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl transform rotate-12 animate-pulse overflow-hidden",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-24 h-24 object-contain transform -rotate-12"})}),x.jsx(Vt.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 text-4xl",children:""}),x.jsx(Vt.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -left-2 text-4xl",children:""})]})}),x.jsx(Vt.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 text-white drop-shadow-2xl",children:"Math is FUN Now! "}),x.jsx(Vt.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl text-white mb-4 max-w-3xl mx-auto font-bold drop-shadow-lg",children:"Learn  Play  Earn Rewards  Level Up!"}),x.jsxs(Vt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[x.jsxs(dm,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 text-lg font-bold shadow-xl border-0 animate-pulse",children:[x.jsx(_$,{className:"w-5 h-5 mr-2"}),"7-Day FREE Trial - All Features!"]}),x.jsxs(dm,{className:"bg-white text-pink-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(OI,{className:"w-5 h-5 mr-2"}),"Kids LOVE It!"]}),x.jsxs(dm,{className:"bg-white text-blue-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(eD,{className:"w-5 h-5 mr-2"}),"AI-Powered"]})]}),x.jsxs(Vt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[x.jsxs(ts,{onClick:i,className:"h-20 px-12 text-2xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:[x.jsx(H$,{className:"w-8 h-8 mr-3"}),"START FREE NOW! "]}),x.jsxs(ts,{onClick:()=>{var g;return(g=document.getElementById("features"))==null?void 0:g.scrollIntoView({behavior:"smooth"})},className:"h-20 px-10 text-xl font-bold border-4 border-white text-white bg-transparent hover:bg-white hover:text-purple-600 shadow-xl transition-all",children:["See What's Inside",x.jsx(m$,{className:"w-6 h-6 ml-2"})]})]}),x.jsx(Vt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:d.map((g,v)=>{const S=g.icon;return x.jsxs(Vt.div,{whileHover:{scale:1.05},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border-4 border-yellow-300",children:[x.jsx(S,{className:`w-10 h-10 mx-auto mb-3 ${g.color}`}),x.jsx("div",{className:"text-3xl font-black text-gray-800",children:g.value}),x.jsx("div",{className:"text-sm font-bold text-gray-600 mt-1",children:g.label})]},v)})})]})}),x.jsxs("div",{style:{background:"linear-gradient(90deg, #6a11cb 0%, #2575fc 100%)",color:"#fff",padding:"14px 0 12px 0",textAlign:"center",fontWeight:"bold",fontSize:"1.1rem",letterSpacing:"0.01em",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.08)",borderBottom:"2px solid #fff",borderRadius:8,margin:"0 auto 24px auto",maxWidth:900},className:"mx-auto mb-8",children:[x.jsx("span",{role:"img","aria-label":"lightbulb",style:{marginRight:8},children:""}),"Best Experience: ",x.jsx("span",{style:{fontWeight:700},children:"Math Adventure"})," works best on ",x.jsx("span",{style:{textDecoration:"underline"},children:"tablets"})," and ",x.jsx("span",{style:{textDecoration:"underline"},children:"desktop computers"})," for optimal gameplay and features."]}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"What's Inside? Everything! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Your kids will love these amazing features!"})]}),x.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-16",children:m.map((g,v)=>x.jsxs(Vt.div,{whileHover:{y:-10,scale:1.05},className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-8 text-center border-4 border-purple-300 shadow-xl",children:[x.jsx("div",{className:"text-7xl mb-4",children:g.emoji}),x.jsx("h3",{className:"font-black text-xl mb-2 text-purple-800",children:g.name}),x.jsx("p",{className:"text-gray-700 font-semibold",children:g.desc})]},v))}),x.jsxs("div",{className:"mb-16",children:[x.jsx("h3",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-gray-800",children:"12 Math Skills to Master! "}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:u.map((g,v)=>x.jsxs(Vt.div,{whileHover:{scale:1.1,rotate:5},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 text-center border-3 border-blue-200 shadow-lg hover:shadow-2xl transition-all",children:[x.jsx("div",{className:"text-5xl mb-3",children:g.emoji}),x.jsx("div",{className:"font-bold text-sm text-gray-800",children:g.name}),x.jsx(dm,{className:"mt-2 bg-purple-500 text-white text-xs",children:g.grade})]},v))})]})]})}),x.jsx("div",{id:"features",className:"bg-gradient-to-br from-yellow-50 to-orange-50 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Why Kids Are OBSESSED! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Learning has never been this fun!"})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map((g,v)=>{const S=g.icon;return x.jsxs(Vt.div,{whileHover:{y:-10},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300",children:[x.jsxs("div",{className:`h-32 bg-gradient-to-br ${g.gradient} flex items-center justify-center relative`,children:[x.jsx("div",{className:"text-7xl",children:g.emoji}),x.jsx("div",{className:"absolute top-3 right-3",children:x.jsx(S,{className:"w-10 h-10 text-white opacity-50"})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("h3",{className:"text-2xl font-black mb-3 text-gray-800",children:g.title}),x.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:g.description})]})]},v)})})]})}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"So Easy, Even Parents Can Do It! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Three simple steps to math mastery"})]}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[x.jsxs(Vt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-green-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-green-500",children:"1"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Pick & Play! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Choose a math topic and difficulty. Start playing in seconds!"})]}),x.jsxs(Vt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-blue-400 to-cyan-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-blue-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-blue-500",children:"2"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Learn & Win! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Solve problems, get AI help when stuck, earn stars & coins!"})]}),x.jsxs(Vt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-purple-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-purple-500",children:"3"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Unlock Rewards! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Buy avatars, pets, badges, power-ups and MORE!"})]})]})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Parents & Kids LOVE Us! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Don't just take our word for it..."})]}),x.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:h.map((g,v)=>x.jsxs(Vt.div,{whileHover:{y:-10,scale:1.02},className:"bg-white rounded-3xl p-8 shadow-2xl border-4 border-purple-300",children:[x.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(g.rating)].map((S,_)=>x.jsx($0,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"},_))}),x.jsx("div",{className:"text-6xl mb-4",children:g.emoji}),x.jsxs("p",{className:"text-gray-700 mb-6 italic font-semibold text-lg",children:['"',g.text,'"']}),x.jsxs("div",{children:[x.jsx("p",{className:"font-black text-lg text-gray-800",children:g.author}),x.jsx("p",{className:"text-sm text-gray-600 font-bold",children:g.role})]})]},v))})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 py-20",children:x.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[x.jsx(Vt.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-8xl mb-8",children:""}),x.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 text-white drop-shadow-2xl",children:"Ready for Math Adventure?"}),x.jsx("p",{className:"text-3xl text-white mb-12 font-bold drop-shadow-lg",children:"Join 1,000+ kids having FUN with math!"}),x.jsxs(ts,{onClick:i,className:"h-24 px-16 text-3xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-110 transition-all animate-pulse",children:[x.jsx(K$,{className:"w-10 h-10 mr-4"}),"LET'S GO! IT'S FREE! "]}),x.jsx("p",{className:"text-white mt-6 text-lg font-bold drop-shadow",children:" No credit card   Start in 30 seconds   100% kid-safe"})]})}),x.jsx("div",{className:"bg-gray-900 text-white py-8",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[x.jsx("div",{className:"mb-4 flex items-center justify-center",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-16 h-16 object-contain"})}),x.jsx("h3",{className:"text-3xl font-black mb-2",children:"Math Adventure"}),x.jsx("p",{className:"text-gray-400 mb-4 text-lg",children:"Making math fun, one game at a time! "}),x.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Math Adventure. Built with  for learners everywhere."})]})}),r&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[x.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:""}),x.jsx(gD,{onSuccess:()=>t(yt("Home"))})]})})]})}const qL=E.lazy(()=>qt(()=>Bt(()=>import("./Home-CyglPuDJ-D9CUbwlO.js"),__vite__mapDeps([4,5,6,7,8,9,10,11,12,13,14,15,16,17,18])),$t([4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]))),WL=E.lazy(()=>qt(()=>Bt(()=>import("./Game-Car3f5Hl-Cd-6q65H.js"),__vite__mapDeps([19,20,1,21,22,10,23,24,16,11,17,9,25,15,26,27,28,29,7])),$t([19,20,1,21,22,10,23,24,16,11,17,9,25,15,26,27,28,29,7]))),KL=E.lazy(()=>qt(()=>Bt(()=>import("./Avatar-D3Vaufpw-BPf8_-ke.js"),__vite__mapDeps([30,20,31,32,33,34,15,0,1,14,35,26])),$t([30,20,31,32,33,34,15,0,1,14,35,26]))),GL=E.lazy(()=>qt(()=>Bt(()=>import("./DailyChallenge-B_TmHe71-9_GzLfER.js"),__vite__mapDeps([36,20,1,21,22,17,10,37,27,29,5,7])),$t([36,20,1,21,22,17,10,37,27,29,5,7]))),HL=E.lazy(()=>qt(()=>Bt(()=>import("./ParentPortal-uD_6EQCB-BlSm9-Pl.js"),__vite__mapDeps([38,20,32,33,39,9,16,25,40,31,41,42,34,1,10,12,43,35,15,26,11,44,45,3,17,46,28,14])),$t([38,20,32,33,39,9,16,25,40,31,41,42,34,1,10,12,43,35,15,26,11,44,45,3,17,46,28,14]))),QL=E.lazy(()=>qt(()=>Bt(()=>import("./Shop-Dpi3jNOM-DBLOEYJG.js"),__vite__mapDeps([47,20,32,0,1,23,15,28,18,7])),$t([47,20,32,0,1,23,15,28,18,7]))),XL=E.lazy(()=>qt(()=>Bt(()=>import("./Leaderboards-CYLEtOqi-D_0nKBrZ.js"),__vite__mapDeps([48,20,32,49,9,17,7,12,10,37,46])),$t([48,20,32,49,9,17,7,12,10,37,46]))),YL=E.lazy(()=>qt(()=>Bt(()=>import("./TeamChallenges-2GLMQU7M-DGgliDx1.js"),__vite__mapDeps([50,20,1,17,23,9,10])),$t([50,20,1,17,23,9,10]))),JL=E.lazy(()=>qt(()=>Bt(()=>import("./Subscription-BwkMZCw3-CEKs35DZ.js"),__vite__mapDeps([51,20,6,26])),$t([51,20,6,26]))),ZL=E.lazy(()=>qt(()=>Bt(()=>import("./GenerateIcons-B2dbw11g-DbI9Llo8.js"),__vite__mapDeps([52,53,26,3,8])),$t([52,53,26,3,8]))),e4=E.lazy(()=>qt(()=>Bt(()=>import("./TestIconGeneration-CQ_anw_c-DHgdrWEA.js"),__vite__mapDeps([54,53])),$t([54,53]))),t4=E.lazy(()=>qt(()=>Bt(()=>import("./Messages-Ro3POV2v-CReMRa01.js"),__vite__mapDeps([55,20,39,45,44,16,43])),$t([55,20,39,45,44,16,43]))),n4=E.lazy(()=>qt(()=>Bt(()=>import("./ColorByNumbers-C-wguKtm-Bn3BlVF7.js"),__vite__mapDeps([56,20,41,42,34,29,18,12,13,44,24,3,57])),$t([56,20,41,42,34,29,18,12,13,44,24,3,57]))),r4=E.lazy(()=>qt(()=>Bt(()=>import("./Settings-8809jpiZ-B7_Y2-Lf.js"),__vite__mapDeps([58,42,22,18,44,10,12,13,57,24,26,43])),$t([58,42,22,18,44,10,12,13,57,24,26,43]))),s4=E.lazy(()=>qt(()=>Bt(()=>import("./PrivacyPolicy-BVigO746-wx1walw0.js"),__vite__mapDeps([59,26,15,45])),$t([59,26,15,45]))),i4=E.lazy(()=>qt(()=>Bt(()=>import("./AITutor-pphYUSPx-B8CYTmba.js"),__vite__mapDeps([60,32,10,25,16,7,27,1,9,40,17,28,15,11])),$t([60,32,10,25,16,7,27,1,9,40,17,28,15,11]))),a4=E.lazy(()=>qt(()=>Bt(()=>import("./AdminTestAccount-vgF3JIMZ-DLwBWfuV.js"),__vite__mapDeps([61,31,49,26])),$t([61,31,49,26]))),o4=E.lazy(()=>qt(()=>Bt(()=>import("./Subscribe-CBrYcDKc-BQQoBtfw.js"),__vite__mapDeps([62,53])),$t([62,53]))),PN={Home:qL,Game:WL,Avatar:KL,DailyChallenge:GL,ParentPortal:HL,Shop:QL,Leaderboards:XL,TeamChallenges:YL,Subscription:JL,GenerateIcons:ZL,TestIconGeneration:e4,Landing:Gw,Messages:t4,ColorByNumbers:n4,Settings:r4,PrivacyPolicy:s4,AITutor:i4,AdminTestAccount:a4,Subscribe:o4};function Mte(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(PN).find(n=>n.toLowerCase()===e.toLowerCase())||Object.keys(PN)[0]}const Ote=()=>x.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-gray-600",children:"Loading..."})]})});function Lte(){const t=Bi(),e=Mte(t.pathname);return x.jsx(QX,{currentPageName:e,children:x.jsx(Tw,{children:x.jsx(E.Suspense,{fallback:x.jsx(Ote,{}),children:x.jsxs(G8,{children:[x.jsx(Ut,{path:"/",element:x.jsx(Gw,{})}),x.jsx(Ut,{path:"/Home",element:x.jsx(qL,{})}),x.jsx(Ut,{path:"/Game",element:x.jsx(WL,{})}),x.jsx(Ut,{path:"/Avatar",element:x.jsx(KL,{})}),x.jsx(Ut,{path:"/DailyChallenge",element:x.jsx(GL,{})}),x.jsx(Ut,{path:"/ParentPortal",element:x.jsx(HL,{})}),x.jsx(Ut,{path:"/Shop",element:x.jsx(QL,{})}),x.jsx(Ut,{path:"/Leaderboards",element:x.jsx(XL,{})}),x.jsx(Ut,{path:"/TeamChallenges",element:x.jsx(YL,{})}),x.jsx(Ut,{path:"/Subscription",element:x.jsx(JL,{})}),x.jsx(Ut,{path:"/GenerateIcons",element:x.jsx(ZL,{})}),x.jsx(Ut,{path:"/TestIconGeneration",element:x.jsx(e4,{})}),x.jsx(Ut,{path:"/Landing",element:x.jsx(Gw,{})}),x.jsx(Ut,{path:"/Messages",element:x.jsx(t4,{})}),x.jsx(Ut,{path:"/ColorByNumbers",element:x.jsx(n4,{})}),x.jsx(Ut,{path:"/Settings",element:x.jsx(r4,{})}),x.jsx(Ut,{path:"/PrivacyPolicy",element:x.jsx(s4,{})}),x.jsx(Ut,{path:"/AITutor",element:x.jsx(i4,{})}),x.jsx(Ut,{path:"/AdminTestAccount",element:x.jsx(a4,{})}),x.jsx(Ut,{path:"/Subscribe",element:x.jsx(o4,{})})]})})})})}function jte(){return x.jsx(g7,{children:x.jsx(Lte,{})})}const Fte=20,Vte=1e6,ki={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let bb=0;function Ute(){return bb=(bb+1)%Number.MAX_VALUE,bb.toString()}const wb=new Map,DN=t=>{if(wb.has(t))return;const e=setTimeout(()=>{wb.delete(t),kd({type:ki.REMOVE_TOAST,toastId:t})},Vte);wb.set(t,e)},zte=(t,e)=>{switch(e.type){case ki.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,Fte)};case ki.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case ki.DISMISS_TOAST:{const{toastId:n}=e;return n?DN(n):t.toasts.forEach(r=>{DN(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case ki.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Xm=[];let Ym={toasts:[]};function kd(t){Ym=zte(Ym,t),Xm.forEach(e=>{e(Ym)})}function Bte({...t}){const e=Ute(),n=s=>kd({type:ki.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>kd({type:ki.DISMISS_TOAST,toastId:e});return kd({type:ki.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function $te(){const[t,e]=E.useState(Ym);return E.useEffect(()=>(Xm.push(e),()=>{const n=Xm.indexOf(e);n>-1&&Xm.splice(n,1)}),[t]),{...t,toast:Bte,dismiss:n=>kd({type:ki.DISMISS_TOAST,toastId:n})}}const l4=E.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));l4.displayName="ToastProvider";const u4=E.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));u4.displayName="ToastViewport";const qte=Py("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),c4=E.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,className:vt(qte({variant:e}),t),...n}));c4.displayName="Toast";const Wte=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Wte.displayName="ToastAction";const h4=E.forwardRef(({className:t,...e},n)=>x.jsx("button",{ref:n,className:vt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(S1,{className:"h-4 w-4"})}));h4.displayName="ToastClose";const d4=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("text-sm font-semibold",t),...e}));d4.displayName="ToastTitle";const f4=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("text-sm opacity-90",t),...e}));f4.displayName="ToastDescription";function Kte(){const{toasts:t}=$te();return x.jsxs(l4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return x.jsxs(c4,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(d4,{children:n}),r&&x.jsx(f4,{children:r})]}),s,x.jsx(h4,{})]},e)}),x.jsx(u4,{})]})}function Gte(){return x.jsxs(x.Fragment,{children:[x.jsx(jte,{}),x.jsx(Kte,{})]})}const Hte=new X7({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});Dj.createRoot(document.getElementById("root")).render(x.jsx(J7,{client:Hte,children:x.jsx(uW,{children:x.jsx(Gte,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{$0 as $,P$ as A,E$ as B,kw as C,vy as D,_$ as E,$J as F,JX as G,Y7 as H,jI as I,rY as J,$1 as K,ss as L,$s as M,Fn as N,qs as O,S1 as P,eY as Q,ene as R,ane as S,E as T,zm as U,f1 as V,Wk as W,nY as X,tZ as Y,Zr as Z,lW as _,fO as a,Xn as a$,Yte as a0,U$ as a1,m$ as a2,C$ as a3,k$ as a4,Zte as a5,fm as a6,q0 as a7,Bm as a8,_y as a9,aG as aA,Qw as aB,XR as aC,$te as aD,$Q as aE,AX as aF,hne as aG,lne as aH,Jte as aI,nne as aJ,ine as aK,une as aL,cne as aM,one as aN,sne as aO,BG as aP,fM as aQ,FW as aR,CD as aS,dne as aT,Dl as aU,kD as aV,SD as aW,Qa as aX,v1 as aY,Pi as aZ,yn as a_,Hs as aa,eq as ab,Sf as ac,$D as ad,yw as ae,xD as af,fG as ag,er as ah,pG as ai,Vn as aj,et as ak,Tf as al,JD as am,_D as an,mG as ao,gG as ap,rne as aq,X$ as ar,Qd as as,i1 as at,Xte as au,zd as av,OI as aw,os as ax,_l as ay,nD as az,tne as b,O7 as b0,Ef as b1,iw as b2,$d as b3,G7 as b4,MI as b5,Qte as b6,eM as b7,RG as b8,PG as b9,qq as ba,Py as bb,ZP as c,LI as d,rL as e,v$ as f,dm as g,WX as h,c$ as i,Vt as j,_1 as k,bD as l,w$ as m,eD as n,YX as o,gD as p,XX as q,an as r,gn as s,ts as t,lt as u,yt as v,J$ as w,x,wD as y,vt as z};
