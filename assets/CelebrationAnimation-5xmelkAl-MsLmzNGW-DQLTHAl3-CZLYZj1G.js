import{x as e,U as g,S as v,t as k,z as L,a0 as x,i as M,r as q}from"./index-yRbXivLn.js";import{L as j}from"./TextToSpeech-jPFv8Mzs-9YNY52v7-7DUXlPgf-H7L-9G35.js";function $({question:t,onAnswer:w,questionNumber:c}){const[S,u]=v.useState(null),[m,y]=v.useState(!1),f=Array.isArray(t.optionsDisplay)&&t.optionsDisplay.length===t.options.length?t.optionsDisplay:t.options,N=n=>{m||(u(n),y(!0),setTimeout(()=>{w(n),u(null),y(!1)},500))};return e.jsxs(g.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[e.jsxs(k,{className:"border-4 border-purple-200 shadow-2xl",children:[e.jsx(L,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-sm mb-2 opacity-90",children:["Question ",c]}),e.jsxs("h2",{className:"text-5xl md:text-6xl font-bold flex items-center gap-2",children:[t.question,e.jsx(j,{text:x(t.question),style:"icon",label:"Read question"})]})]})}),e.jsx(M,{className:"p-8",children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.options.map((n,o)=>{const s=f[o],d=n===t.answer,h=S===n;let r="text-2xl font-bold h-24 transition-all transform hover:scale-105";return m&&h&&(r+=d?" bg-green-500 text-white hover:bg-green-500 scale-110":" bg-red-500 text-white hover:bg-red-500 shake"),e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},children:e.jsx(q,{variant:"outline",className:r,onClick:()=>N(n),disabled:m,children:e.jsxs("span",{className:"flex items-center gap-2",children:[s,e.jsx(j,{text:x(String(s)),style:"icon",label:`Read answer option ${o+1}`})]})})},o)})})})]}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>{const n=x(`Question ${c}: ${t.question}. Possible answers are: ${f.join(", ")}.`);if(!("speechSynthesis"in window)){alert("Text-to-speech is not supported in this browser.");return}window.speechSynthesis.cancel();const o=()=>{const s=new window.SpeechSynthesisUtterance(n);try{const d=localStorage.getItem("tts.lang")==="es"?"es":"en";s.lang=d==="es"?"es-ES":"en-US";const h=parseFloat(localStorage.getItem("tts.rate"));s.rate=isNaN(h)?1:Math.min(2,Math.max(.1,h)),s.pitch=1.2;const r=window.speechSynthesis.getVoices(),p=r.filter(a=>(a.lang||"").toLowerCase().startsWith(d)),b=["emma","female","woman","girl","zira","jenny","olivia","sonia","ana","isabella","sara","sofia","monica","paulina","samantha","victoria","heera","veena"],C=["david","male","man","boy","mark","james","richard","thomas","daniel","george","michael"];let i=p.find(a=>a.name.toLowerCase().includes("emma"));i||(i=p.find(a=>b.some(l=>a.name.toLowerCase().includes(l)))),i||(i=p.filter(a=>!C.some(l=>a.name.toLowerCase().includes(l)))[0]),i||(i=r.find(a=>b.some(l=>a.name.toLowerCase().includes(l)))),i&&(s.voice=i)}catch{s.lang="en-US",s.rate=1,s.pitch=1.2}window.speechSynthesis.speak(s)};window.speechSynthesis.getVoices().length===0?window.speechSynthesis.addEventListener("voiceschanged",o,{once:!0}):o()},className:"px-6 py-3 bg-gradient-to-r from-green-400 to-emerald-500 hover:from-green-500 hover:to-emerald-600 text-white font-bold text-lg rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 border-4 border-green-300",children:"ðŸ”Š Read it to Me"}),e.jsx("button",{onClick:()=>{"speechSynthesis"in window&&window.speechSynthesis.cancel()},className:"px-6 py-3 bg-gradient-to-r from-red-200 to-red-400 hover:from-red-300 hover:to-red-500 text-white font-bold text-lg rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 border-4 border-red-200",children:"â¹ï¸ Stop Read"})]})})]})}function R(){const t=["ðŸŽ‰","âœ¨","â­","ðŸŒŸ","ðŸ’«","ðŸŽŠ"];return e.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(20)].map((w,c)=>e.jsx(g.div,{initial:{x:Math.random()*window.innerWidth,y:-50,rotate:0,opacity:1},animate:{y:window.innerHeight+50,rotate:360,opacity:0},transition:{duration:2+Math.random()*2,ease:"linear"},className:"absolute text-4xl",children:t[Math.floor(Math.random()*t.length)]},c))})}export{$ as A,R as V};
